function ile(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in e)){const a=Object.getOwnPropertyDescriptor(r,o);a&&Object.defineProperty(e,o,a.get?a:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();var KA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function fa(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function ole(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){var o=!1;try{o=this instanceof r}catch{}return o?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var o=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:function(){return e[r]}})}),n}var mM={exports:{}},$C={};var h6;function sle(){if(h6)return $C;h6=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,o,a){var l=null;if(a!==void 0&&(l=""+a),o.key!==void 0&&(l=""+o.key),"key"in o){a={};for(var d in o)d!=="key"&&(a[d]=o[d])}else a=o;return o=a.ref,{$$typeof:e,type:r,key:l,ref:o!==void 0?o:null,props:a}}return $C.Fragment=t,$C.jsx=n,$C.jsxs=n,$C}var f6;function ale(){return f6||(f6=1,mM.exports=sle()),mM.exports}var A=ale(),bM={exports:{}},Pt={};var p6;function lle(){if(p6)return Pt;p6=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),y=Symbol.iterator;function S(ne){return ne===null||typeof ne!="object"?null:(ne=y&&ne[y]||ne["@@iterator"],typeof ne=="function"?ne:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,P={};function N(ne,fe,ve){this.props=ne,this.context=fe,this.refs=P,this.updater=ve||E}N.prototype.isReactComponent={},N.prototype.setState=function(ne,fe){if(typeof ne!="object"&&typeof ne!="function"&&ne!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ne,fe,"setState")},N.prototype.forceUpdate=function(ne){this.updater.enqueueForceUpdate(this,ne,"forceUpdate")};function j(){}j.prototype=N.prototype;function L(ne,fe,ve){this.props=ne,this.context=fe,this.refs=P,this.updater=ve||E}var V=L.prototype=new j;V.constructor=L,T(V,N.prototype),V.isPureReactComponent=!0;var U=Array.isArray;function $(){}var z={H:null,A:null,T:null,S:null},K=Object.prototype.hasOwnProperty;function te(ne,fe,ve){var me=ve.ref;return{$$typeof:e,type:ne,key:fe,ref:me!==void 0?me:null,props:ve}}function ae(ne,fe){return te(ne.type,fe,ne.props)}function X(ne){return typeof ne=="object"&&ne!==null&&ne.$$typeof===e}function Z(ne){var fe={"=":"=0",":":"=2"};return"$"+ne.replace(/[=:]/g,function(ve){return fe[ve]})}var se=/\/+/g;function Q(ne,fe){return typeof ne=="object"&&ne!==null&&ne.key!=null?Z(""+ne.key):fe.toString(36)}function J(ne){switch(ne.status){case"fulfilled":return ne.value;case"rejected":throw ne.reason;default:switch(typeof ne.status=="string"?ne.then($,$):(ne.status="pending",ne.then(function(fe){ne.status==="pending"&&(ne.status="fulfilled",ne.value=fe)},function(fe){ne.status==="pending"&&(ne.status="rejected",ne.reason=fe)})),ne.status){case"fulfilled":return ne.value;case"rejected":throw ne.reason}}throw ne}function re(ne,fe,ve,me,Oe){var _e=typeof ne;(_e==="undefined"||_e==="boolean")&&(ne=null);var Ue=!1;if(ne===null)Ue=!0;else switch(_e){case"bigint":case"string":case"number":Ue=!0;break;case"object":switch(ne.$$typeof){case e:case t:Ue=!0;break;case v:return Ue=ne._init,re(Ue(ne._payload),fe,ve,me,Oe)}}if(Ue)return Oe=Oe(ne),Ue=me===""?"."+Q(ne,0):me,U(Oe)?(ve="",Ue!=null&&(ve=Ue.replace(se,"$&/")+"/"),re(Oe,fe,ve,"",function(Te){return Te})):Oe!=null&&(X(Oe)&&(Oe=ae(Oe,ve+(Oe.key==null||ne&&ne.key===Oe.key?"":(""+Oe.key).replace(se,"$&/")+"/")+Ue)),fe.push(Oe)),1;Ue=0;var pt=me===""?".":me+":";if(U(ne))for(var Ee=0;Ee<ne.length;Ee++)me=ne[Ee],_e=pt+Q(me,Ee),Ue+=re(me,fe,ve,_e,Oe);else if(Ee=S(ne),typeof Ee=="function")for(ne=Ee.call(ne),Ee=0;!(me=ne.next()).done;)me=me.value,_e=pt+Q(me,Ee++),Ue+=re(me,fe,ve,_e,Oe);else if(_e==="object"){if(typeof ne.then=="function")return re(J(ne),fe,ve,me,Oe);throw fe=String(ne),Error("Objects are not valid as a React child (found: "+(fe==="[object Object]"?"object with keys {"+Object.keys(ne).join(", ")+"}":fe)+"). If you meant to render a collection of children, use an array instead.")}return Ue}function ee(ne,fe,ve){if(ne==null)return ne;var me=[],Oe=0;return re(ne,me,"","",function(_e){return fe.call(ve,_e,Oe++)}),me}function le(ne){if(ne._status===-1){var fe=ne._result;fe=fe(),fe.then(function(ve){(ne._status===0||ne._status===-1)&&(ne._status=1,ne._result=ve)},function(ve){(ne._status===0||ne._status===-1)&&(ne._status=2,ne._result=ve)}),ne._status===-1&&(ne._status=0,ne._result=fe)}if(ne._status===1)return ne._result.default;throw ne._result}var ce=typeof reportError=="function"?reportError:function(ne){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var fe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof ne=="object"&&ne!==null&&typeof ne.message=="string"?String(ne.message):String(ne),error:ne});if(!window.dispatchEvent(fe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",ne);return}console.error(ne)},he={map:ee,forEach:function(ne,fe,ve){ee(ne,function(){fe.apply(this,arguments)},ve)},count:function(ne){var fe=0;return ee(ne,function(){fe++}),fe},toArray:function(ne){return ee(ne,function(fe){return fe})||[]},only:function(ne){if(!X(ne))throw Error("React.Children.only expected to receive a single React element child.");return ne}};return Pt.Activity=C,Pt.Children=he,Pt.Component=N,Pt.Fragment=n,Pt.Profiler=o,Pt.PureComponent=L,Pt.StrictMode=r,Pt.Suspense=f,Pt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=z,Pt.__COMPILER_RUNTIME={__proto__:null,c:function(ne){return z.H.useMemoCache(ne)}},Pt.cache=function(ne){return function(){return ne.apply(null,arguments)}},Pt.cacheSignal=function(){return null},Pt.cloneElement=function(ne,fe,ve){if(ne==null)throw Error("The argument must be a React element, but you passed "+ne+".");var me=T({},ne.props),Oe=ne.key;if(fe!=null)for(_e in fe.key!==void 0&&(Oe=""+fe.key),fe)!K.call(fe,_e)||_e==="key"||_e==="__self"||_e==="__source"||_e==="ref"&&fe.ref===void 0||(me[_e]=fe[_e]);var _e=arguments.length-2;if(_e===1)me.children=ve;else if(1<_e){for(var Ue=Array(_e),pt=0;pt<_e;pt++)Ue[pt]=arguments[pt+2];me.children=Ue}return te(ne.type,Oe,me)},Pt.createContext=function(ne){return ne={$$typeof:l,_currentValue:ne,_currentValue2:ne,_threadCount:0,Provider:null,Consumer:null},ne.Provider=ne,ne.Consumer={$$typeof:a,_context:ne},ne},Pt.createElement=function(ne,fe,ve){var me,Oe={},_e=null;if(fe!=null)for(me in fe.key!==void 0&&(_e=""+fe.key),fe)K.call(fe,me)&&me!=="key"&&me!=="__self"&&me!=="__source"&&(Oe[me]=fe[me]);var Ue=arguments.length-2;if(Ue===1)Oe.children=ve;else if(1<Ue){for(var pt=Array(Ue),Ee=0;Ee<Ue;Ee++)pt[Ee]=arguments[Ee+2];Oe.children=pt}if(ne&&ne.defaultProps)for(me in Ue=ne.defaultProps,Ue)Oe[me]===void 0&&(Oe[me]=Ue[me]);return te(ne,_e,Oe)},Pt.createRef=function(){return{current:null}},Pt.forwardRef=function(ne){return{$$typeof:d,render:ne}},Pt.isValidElement=X,Pt.lazy=function(ne){return{$$typeof:v,_payload:{_status:-1,_result:ne},_init:le}},Pt.memo=function(ne,fe){return{$$typeof:m,type:ne,compare:fe===void 0?null:fe}},Pt.startTransition=function(ne){var fe=z.T,ve={};z.T=ve;try{var me=ne(),Oe=z.S;Oe!==null&&Oe(ve,me),typeof me=="object"&&me!==null&&typeof me.then=="function"&&me.then($,ce)}catch(_e){ce(_e)}finally{fe!==null&&ve.types!==null&&(fe.types=ve.types),z.T=fe}},Pt.unstable_useCacheRefresh=function(){return z.H.useCacheRefresh()},Pt.use=function(ne){return z.H.use(ne)},Pt.useActionState=function(ne,fe,ve){return z.H.useActionState(ne,fe,ve)},Pt.useCallback=function(ne,fe){return z.H.useCallback(ne,fe)},Pt.useContext=function(ne){return z.H.useContext(ne)},Pt.useDebugValue=function(){},Pt.useDeferredValue=function(ne,fe){return z.H.useDeferredValue(ne,fe)},Pt.useEffect=function(ne,fe){return z.H.useEffect(ne,fe)},Pt.useEffectEvent=function(ne){return z.H.useEffectEvent(ne)},Pt.useId=function(){return z.H.useId()},Pt.useImperativeHandle=function(ne,fe,ve){return z.H.useImperativeHandle(ne,fe,ve)},Pt.useInsertionEffect=function(ne,fe){return z.H.useInsertionEffect(ne,fe)},Pt.useLayoutEffect=function(ne,fe){return z.H.useLayoutEffect(ne,fe)},Pt.useMemo=function(ne,fe){return z.H.useMemo(ne,fe)},Pt.useOptimistic=function(ne,fe){return z.H.useOptimistic(ne,fe)},Pt.useReducer=function(ne,fe,ve){return z.H.useReducer(ne,fe,ve)},Pt.useRef=function(ne){return z.H.useRef(ne)},Pt.useState=function(ne){return z.H.useState(ne)},Pt.useSyncExternalStore=function(ne,fe,ve){return z.H.useSyncExternalStore(ne,fe,ve)},Pt.useTransition=function(){return z.H.useTransition()},Pt.version="19.2.0",Pt}var g6;function Vh(){return g6||(g6=1,bM.exports=lle()),bM.exports}var M=Vh();const ue=fa(M),aN=ile({__proto__:null,default:ue},[M]);var vM={exports:{}},qC={},wM={exports:{}},CM={};var m6;function cle(){return m6||(m6=1,(function(e){function t(re,ee){var le=re.length;re.push(ee);e:for(;0<le;){var ce=le-1>>>1,he=re[ce];if(0<o(he,ee))re[ce]=ee,re[le]=he,le=ce;else break e}}function n(re){return re.length===0?null:re[0]}function r(re){if(re.length===0)return null;var ee=re[0],le=re.pop();if(le!==ee){re[0]=le;e:for(var ce=0,he=re.length,ne=he>>>1;ce<ne;){var fe=2*(ce+1)-1,ve=re[fe],me=fe+1,Oe=re[me];if(0>o(ve,le))me<he&&0>o(Oe,ve)?(re[ce]=Oe,re[me]=le,ce=me):(re[ce]=ve,re[fe]=le,ce=fe);else if(me<he&&0>o(Oe,le))re[ce]=Oe,re[me]=le,ce=me;else break e}}return ee}function o(re,ee){var le=re.sortIndex-ee.sortIndex;return le!==0?le:re.id-ee.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var l=Date,d=l.now();e.unstable_now=function(){return l.now()-d}}var f=[],m=[],v=1,C=null,y=3,S=!1,E=!1,T=!1,P=!1,N=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function V(re){for(var ee=n(m);ee!==null;){if(ee.callback===null)r(m);else if(ee.startTime<=re)r(m),ee.sortIndex=ee.expirationTime,t(f,ee);else break;ee=n(m)}}function U(re){if(T=!1,V(re),!E)if(n(f)!==null)E=!0,$||($=!0,Z());else{var ee=n(m);ee!==null&&J(U,ee.startTime-re)}}var $=!1,z=-1,K=5,te=-1;function ae(){return P?!0:!(e.unstable_now()-te<K)}function X(){if(P=!1,$){var re=e.unstable_now();te=re;var ee=!0;try{e:{E=!1,T&&(T=!1,j(z),z=-1),S=!0;var le=y;try{t:{for(V(re),C=n(f);C!==null&&!(C.expirationTime>re&&ae());){var ce=C.callback;if(typeof ce=="function"){C.callback=null,y=C.priorityLevel;var he=ce(C.expirationTime<=re);if(re=e.unstable_now(),typeof he=="function"){C.callback=he,V(re),ee=!0;break t}C===n(f)&&r(f),V(re)}else r(f);C=n(f)}if(C!==null)ee=!0;else{var ne=n(m);ne!==null&&J(U,ne.startTime-re),ee=!1}}break e}finally{C=null,y=le,S=!1}ee=void 0}}finally{ee?Z():$=!1}}}var Z;if(typeof L=="function")Z=function(){L(X)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,Q=se.port2;se.port1.onmessage=X,Z=function(){Q.postMessage(null)}}else Z=function(){N(X,0)};function J(re,ee){z=N(function(){re(e.unstable_now())},ee)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(re){re.callback=null},e.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<re?Math.floor(1e3/re):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_next=function(re){switch(y){case 1:case 2:case 3:var ee=3;break;default:ee=y}var le=y;y=ee;try{return re()}finally{y=le}},e.unstable_requestPaint=function(){P=!0},e.unstable_runWithPriority=function(re,ee){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var le=y;y=re;try{return ee()}finally{y=le}},e.unstable_scheduleCallback=function(re,ee,le){var ce=e.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?ce+le:ce):le=ce,re){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=le+he,re={id:v++,callback:ee,priorityLevel:re,startTime:le,expirationTime:he,sortIndex:-1},le>ce?(re.sortIndex=le,t(m,re),n(f)===null&&re===n(m)&&(T?(j(z),z=-1):T=!0,J(U,le-ce))):(re.sortIndex=he,t(f,re),E||S||(E=!0,$||($=!0,Z()))),re},e.unstable_shouldYield=ae,e.unstable_wrapCallback=function(re){var ee=y;return function(){var le=y;y=ee;try{return re.apply(this,arguments)}finally{y=le}}}})(CM)),CM}var b6;function dle(){return b6||(b6=1,wM.exports=cle()),wM.exports}var yM={exports:{}},zi={};var v6;function ule(){if(v6)return zi;v6=1;var e=Vh();function t(f){var m="https://react.dev/errors/"+f;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)m+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+f+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function a(f,m,v){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:C==null?null:""+C,children:f,containerInfo:m,implementation:v}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,m){if(f==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return zi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,zi.createPortal=function(f,m){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return a(f,m,null,v)},zi.flushSync=function(f){var m=l.T,v=r.p;try{if(l.T=null,r.p=2,f)return f()}finally{l.T=m,r.p=v,r.d.f()}},zi.preconnect=function(f,m){typeof f=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(f,m))},zi.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},zi.preinit=function(f,m){if(typeof f=="string"&&m&&typeof m.as=="string"){var v=m.as,C=d(v,m.crossOrigin),y=typeof m.integrity=="string"?m.integrity:void 0,S=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;v==="style"?r.d.S(f,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:C,integrity:y,fetchPriority:S}):v==="script"&&r.d.X(f,{crossOrigin:C,integrity:y,fetchPriority:S,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},zi.preinitModule=function(f,m){if(typeof f=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var v=d(m.as,m.crossOrigin);r.d.M(f,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(f)},zi.preload=function(f,m){if(typeof f=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var v=m.as,C=d(v,m.crossOrigin);r.d.L(f,v,{crossOrigin:C,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},zi.preloadModule=function(f,m){if(typeof f=="string")if(m){var v=d(m.as,m.crossOrigin);r.d.m(f,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(f)},zi.requestFormReset=function(f){r.d.r(f)},zi.unstable_batchedUpdates=function(f,m){return f(m)},zi.useFormState=function(f,m,v){return l.H.useFormState(f,m,v)},zi.useFormStatus=function(){return l.H.useHostTransitionStatus()},zi.version="19.2.0",zi}var w6;function lN(){if(w6)return yM.exports;w6=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),yM.exports=ule(),yM.exports}var C6;function hle(){if(C6)return qC;C6=1;var e=dle(),t=Vh(),n=lN();function r(p){var b="https://react.dev/errors/"+p;if(1<arguments.length){b+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)b+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+p+"; visit "+b+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(p){return!(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)}function a(p){var b=p,x=p;if(p.alternate)for(;b.return;)b=b.return;else{p=b;do b=p,(b.flags&4098)!==0&&(x=b.return),p=b.return;while(p)}return b.tag===3?x:null}function l(p){if(p.tag===13){var b=p.memoizedState;if(b===null&&(p=p.alternate,p!==null&&(b=p.memoizedState)),b!==null)return b.dehydrated}return null}function d(p){if(p.tag===31){var b=p.memoizedState;if(b===null&&(p=p.alternate,p!==null&&(b=p.memoizedState)),b!==null)return b.dehydrated}return null}function f(p){if(a(p)!==p)throw Error(r(188))}function m(p){var b=p.alternate;if(!b){if(b=a(p),b===null)throw Error(r(188));return b!==p?null:p}for(var x=p,D=b;;){var O=x.return;if(O===null)break;var B=O.alternate;if(B===null){if(D=O.return,D!==null){x=D;continue}break}if(O.child===B.child){for(B=O.child;B;){if(B===x)return f(O),p;if(B===D)return f(O),b;B=B.sibling}throw Error(r(188))}if(x.return!==D.return)x=O,D=B;else{for(var q=!1,oe=O.child;oe;){if(oe===x){q=!0,x=O,D=B;break}if(oe===D){q=!0,D=O,x=B;break}oe=oe.sibling}if(!q){for(oe=B.child;oe;){if(oe===x){q=!0,x=B,D=O;break}if(oe===D){q=!0,D=B,x=O;break}oe=oe.sibling}if(!q)throw Error(r(189))}}if(x.alternate!==D)throw Error(r(190))}if(x.tag!==3)throw Error(r(188));return x.stateNode.current===x?p:b}function v(p){var b=p.tag;if(b===5||b===26||b===27||b===6)return p;for(p=p.child;p!==null;){if(b=v(p),b!==null)return b;p=p.sibling}return null}var C=Object.assign,y=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),j=Symbol.for("react.consumer"),L=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),te=Symbol.for("react.activity"),ae=Symbol.for("react.memo_cache_sentinel"),X=Symbol.iterator;function Z(p){return p===null||typeof p!="object"?null:(p=X&&p[X]||p["@@iterator"],typeof p=="function"?p:null)}var se=Symbol.for("react.client.reference");function Q(p){if(p==null)return null;if(typeof p=="function")return p.$$typeof===se?null:p.displayName||p.name||null;if(typeof p=="string")return p;switch(p){case T:return"Fragment";case N:return"Profiler";case P:return"StrictMode";case U:return"Suspense";case $:return"SuspenseList";case te:return"Activity"}if(typeof p=="object")switch(p.$$typeof){case E:return"Portal";case L:return p.displayName||"Context";case j:return(p._context.displayName||"Context")+".Consumer";case V:var b=p.render;return p=p.displayName,p||(p=b.displayName||b.name||"",p=p!==""?"ForwardRef("+p+")":"ForwardRef"),p;case z:return b=p.displayName||null,b!==null?b:Q(p.type)||"Memo";case K:b=p._payload,p=p._init;try{return Q(p(b))}catch{}}return null}var J=Array.isArray,re=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},ce=[],he=-1;function ne(p){return{current:p}}function fe(p){0>he||(p.current=ce[he],ce[he]=null,he--)}function ve(p,b){he++,ce[he]=p.current,p.current=b}var me=ne(null),Oe=ne(null),_e=ne(null),Ue=ne(null);function pt(p,b){switch(ve(_e,b),ve(Oe,p),ve(me,null),b.nodeType){case 9:case 11:p=(p=b.documentElement)&&(p=p.namespaceURI)?Bx(p):0;break;default:if(p=b.tagName,b=b.namespaceURI)b=Bx(b),p=jx(b,p);else switch(p){case"svg":p=1;break;case"math":p=2;break;default:p=0}}fe(me),ve(me,p)}function Ee(){fe(me),fe(Oe),fe(_e)}function Te(p){p.memoizedState!==null&&ve(Ue,p);var b=me.current,x=jx(b,p.type);b!==x&&(ve(Oe,p),ve(me,x))}function Ze(p){Oe.current===p&&(fe(me),fe(Oe)),Ue.current===p&&(fe(Ue),id._currentValue=le)}var De,et;function lt(p){if(De===void 0)try{throw Error()}catch(x){var b=x.stack.trim().match(/\n( *(at )?)/);De=b&&b[1]||"",et=-1<x.stack.indexOf(`
    at`)?" (<anonymous>)":-1<x.stack.indexOf("@")?"@unknown:0:0":""}return`
`+De+p+et}var yt=!1;function it(p,b){if(!p||yt)return"";yt=!0;var x=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var D={DetermineComponentFrameRoot:function(){try{if(b){var Be=function(){throw Error()};if(Object.defineProperty(Be.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Be,[])}catch(Re){var Ae=Re}Reflect.construct(p,[],Be)}else{try{Be.call()}catch(Re){Ae=Re}p.call(Be.prototype)}}else{try{throw Error()}catch(Re){Ae=Re}(Be=p())&&typeof Be.catch=="function"&&Be.catch(function(){})}}catch(Re){if(Re&&Ae&&typeof Re.stack=="string")return[Re.stack,Ae.stack]}return[null,null]}};D.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var O=Object.getOwnPropertyDescriptor(D.DetermineComponentFrameRoot,"name");O&&O.configurable&&Object.defineProperty(D.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var B=D.DetermineComponentFrameRoot(),q=B[0],oe=B[1];if(q&&oe){var pe=q.split(`
`),ye=oe.split(`
`);for(O=D=0;D<pe.length&&!pe[D].includes("DetermineComponentFrameRoot");)D++;for(;O<ye.length&&!ye[O].includes("DetermineComponentFrameRoot");)O++;if(D===pe.length||O===ye.length)for(D=pe.length-1,O=ye.length-1;1<=D&&0<=O&&pe[D]!==ye[O];)O--;for(;1<=D&&0<=O;D--,O--)if(pe[D]!==ye[O]){if(D!==1||O!==1)do if(D--,O--,0>O||pe[D]!==ye[O]){var Ne=`
`+pe[D].replace(" at new "," at ");return p.displayName&&Ne.includes("<anonymous>")&&(Ne=Ne.replace("<anonymous>",p.displayName)),Ne}while(1<=D&&0<=O);break}}}finally{yt=!1,Error.prepareStackTrace=x}return(x=p?p.displayName||p.name:"")?lt(x):""}function Nt(p,b){switch(p.tag){case 26:case 27:case 5:return lt(p.type);case 16:return lt("Lazy");case 13:return p.child!==b&&b!==null?lt("Suspense Fallback"):lt("Suspense");case 19:return lt("SuspenseList");case 0:case 15:return it(p.type,!1);case 11:return it(p.type.render,!1);case 1:return it(p.type,!0);case 31:return lt("Activity");default:return""}}function kn(p){try{var b="",x=null;do b+=Nt(p,x),x=p,p=p.return;while(p);return b}catch(D){return`
Error generating stack: `+D.message+`
`+D.stack}}var Zn=Object.prototype.hasOwnProperty,mt=e.unstable_scheduleCallback,bt=e.unstable_cancelCallback,Kt=e.unstable_shouldYield,di=e.unstable_requestPaint,Gt=e.unstable_now,ir=e.unstable_getCurrentPriorityLevel,Br=e.unstable_ImmediatePriority,So=e.unstable_UserBlockingPriority,cn=e.unstable_NormalPriority,Pr=e.unstable_LowPriority,Es=e.unstable_IdlePriority,vv=e.log,ug=e.unstable_setDisableYieldValue,kc=null,Qr=null;function jr(p){if(typeof vv=="function"&&ug(p),Qr&&typeof Qr.setStrictMode=="function")try{Qr.setStrictMode(kc,p)}catch{}}var xn=Math.clz32?Math.clz32:ft,Si=Math.log,We=Math.LN2;function ft(p){return p>>>=0,p===0?32:31-(Si(p)/We|0)|0}var $n=256,pr=262144,lu=4194304;function ma(p){var b=p&42;if(b!==0)return b;switch(p&-p){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return p&261888;case 262144:case 524288:case 1048576:case 2097152:return p&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return p&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return p}}function Zh(p,b,x){var D=p.pendingLanes;if(D===0)return 0;var O=0,B=p.suspendedLanes,q=p.pingedLanes;p=p.warmLanes;var oe=D&134217727;return oe!==0?(D=oe&~B,D!==0?O=ma(D):(q&=oe,q!==0?O=ma(q):x||(x=oe&~p,x!==0&&(O=ma(x))))):(oe=D&~B,oe!==0?O=ma(oe):q!==0?O=ma(q):x||(x=D&~p,x!==0&&(O=ma(x)))),O===0?0:b!==0&&b!==O&&(b&B)===0&&(B=O&-O,x=b&-b,B>=x||B===32&&(x&4194048)!==0)?b:O}function Xh(p,b){return(p.pendingLanes&~(p.suspendedLanes&~p.pingedLanes)&b)===0}function CD(p,b){switch(p){case 1:case 2:case 4:case 8:case 64:return b+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return b+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _i(){var p=lu;return lu<<=1,(lu&62914560)===0&&(lu=4194304),p}function wv(p){for(var b=[],x=0;31>x;x++)b.push(p);return b}function ba(p,b){p.pendingLanes|=b,b!==268435456&&(p.suspendedLanes=0,p.pingedLanes=0,p.warmLanes=0)}function hg(p,b,x,D,O,B){var q=p.pendingLanes;p.pendingLanes=x,p.suspendedLanes=0,p.pingedLanes=0,p.warmLanes=0,p.expiredLanes&=x,p.entangledLanes&=x,p.errorRecoveryDisabledLanes&=x,p.shellSuspendCounter=0;var oe=p.entanglements,pe=p.expirationTimes,ye=p.hiddenUpdates;for(x=q&~x;0<x;){var Ne=31-xn(x),Be=1<<Ne;oe[Ne]=0,pe[Ne]=-1;var Ae=ye[Ne];if(Ae!==null)for(ye[Ne]=null,Ne=0;Ne<Ae.length;Ne++){var Re=Ae[Ne];Re!==null&&(Re.lane&=-536870913)}x&=~Be}D!==0&&ek(p,D,0),B!==0&&O===0&&p.tag!==0&&(p.suspendedLanes|=B&~(q&~b))}function ek(p,b,x){p.pendingLanes|=b,p.suspendedLanes&=~b;var D=31-xn(b);p.entangledLanes|=b,p.entanglements[D]=p.entanglements[D]|1073741824|x&261930}function tk(p,b){var x=p.entangledLanes|=b;for(p=p.entanglements;x;){var D=31-xn(x),O=1<<D;O&b|p[D]&b&&(p[D]|=b),x&=~O}}function nk(p,b){var x=b&-b;return x=(x&42)!==0?1:Cv(x),(x&(p.suspendedLanes|b))!==0?0:x}function Cv(p){switch(p){case 2:p=1;break;case 8:p=4;break;case 32:p=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:p=128;break;case 268435456:p=134217728;break;default:p=0}return p}function yv(p){return p&=-p,2<p?8<p?(p&134217727)!==0?32:268435456:8:2}function xc(){var p=ee.p;return p!==0?p:(p=window.event,p===void 0?32:MC(p.type))}function Jh(p,b){var x=ee.p;try{return ee.p=p,b()}finally{ee.p=x}}var cl=Math.random().toString(36).slice(2),zr="__reactFiber$"+cl,Ei="__reactProps$"+cl,cu="__reactContainer$"+cl,va="__reactEvents$"+cl,kv="__reactListeners$"+cl,rk="__reactHandles$"+cl,ik="__reactResources$"+cl,ef="__reactMarker$"+cl;function wa(p){delete p[zr],delete p[Ei],delete p[va],delete p[kv],delete p[rk]}function du(p){var b=p[zr];if(b)return b;for(var x=p.parentNode;x;){if(b=x[cu]||x[zr]){if(x=b.alternate,b.child!==null||x!==null&&x.child!==null)for(p=Wx(p);p!==null;){if(x=p[zr])return x;p=Wx(p)}return b}p=x,x=p.parentNode}return null}function uu(p){if(p=p[zr]||p[cu]){var b=p.tag;if(b===5||b===6||b===13||b===31||b===26||b===27||b===3)return p}return null}function tf(p){var b=p.tag;if(b===5||b===26||b===27||b===6)return p.stateNode;throw Error(r(33))}function hu(p){var b=p[ik];return b||(b=p[ik]={hoistableStyles:new Map,hoistableScripts:new Map}),b}function Ir(p){p[ef]=!0}var ok=new Set,sk={};function Ac(p,b){_o(p,b),_o(p+"Capture",b)}function _o(p,b){for(sk[p]=b,p=0;p<b.length;p++)ok.add(b[p])}var nf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),fu={},ak={};function yD(p){return Zn.call(ak,p)?!0:Zn.call(fu,p)?!1:nf.test(p)?ak[p]=!0:(fu[p]=!0,!1)}function fg(p,b,x){if(yD(b))if(x===null)p.removeAttribute(b);else{switch(typeof x){case"undefined":case"function":case"symbol":p.removeAttribute(b);return;case"boolean":var D=b.toLowerCase().slice(0,5);if(D!=="data-"&&D!=="aria-"){p.removeAttribute(b);return}}p.setAttribute(b,""+x)}}function pg(p,b,x){if(x===null)p.removeAttribute(b);else{switch(typeof x){case"undefined":case"function":case"symbol":case"boolean":p.removeAttribute(b);return}p.setAttribute(b,""+x)}}function Ca(p,b,x,D){if(D===null)p.removeAttribute(x);else{switch(typeof D){case"undefined":case"function":case"symbol":case"boolean":p.removeAttribute(x);return}p.setAttributeNS(b,x,""+D)}}function Eo(p){switch(typeof p){case"bigint":case"boolean":case"number":case"string":case"undefined":return p;case"object":return p;default:return""}}function lk(p){var b=p.type;return(p=p.nodeName)&&p.toLowerCase()==="input"&&(b==="checkbox"||b==="radio")}function pu(p,b,x){var D=Object.getOwnPropertyDescriptor(p.constructor.prototype,b);if(!p.hasOwnProperty(b)&&typeof D<"u"&&typeof D.get=="function"&&typeof D.set=="function"){var O=D.get,B=D.set;return Object.defineProperty(p,b,{configurable:!0,get:function(){return O.call(this)},set:function(q){x=""+q,B.call(this,q)}}),Object.defineProperty(p,b,{enumerable:D.enumerable}),{getValue:function(){return x},setValue:function(q){x=""+q},stopTracking:function(){p._valueTracker=null,delete p[b]}}}}function gg(p){if(!p._valueTracker){var b=lk(p)?"checked":"value";p._valueTracker=pu(p,b,""+p[b])}}function ck(p){if(!p)return!1;var b=p._valueTracker;if(!b)return!0;var x=b.getValue(),D="";return p&&(D=lk(p)?p.checked?"true":"false":p.value),p=D,p!==x?(b.setValue(p),!0):!1}function mg(p){if(p=p||(typeof document<"u"?document:void 0),typeof p>"u")return null;try{return p.activeElement||p.body}catch{return p.body}}var bg=/[\n"\\]/g;function Do(p){return p.replace(bg,function(b){return"\\"+b.charCodeAt(0).toString(16)+" "})}function xv(p,b,x,D,O,B,q,oe){p.name="",q!=null&&typeof q!="function"&&typeof q!="symbol"&&typeof q!="boolean"?p.type=q:p.removeAttribute("type"),b!=null?q==="number"?(b===0&&p.value===""||p.value!=b)&&(p.value=""+Eo(b)):p.value!==""+Eo(b)&&(p.value=""+Eo(b)):q!=="submit"&&q!=="reset"||p.removeAttribute("value"),b!=null?Av(p,q,Eo(b)):x!=null?Av(p,q,Eo(x)):D!=null&&p.removeAttribute("value"),O==null&&B!=null&&(p.defaultChecked=!!B),O!=null&&(p.checked=O&&typeof O!="function"&&typeof O!="symbol"),oe!=null&&typeof oe!="function"&&typeof oe!="symbol"&&typeof oe!="boolean"?p.name=""+Eo(oe):p.removeAttribute("name")}function dk(p,b,x,D,O,B,q,oe){if(B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"&&(p.type=B),b!=null||x!=null){if(!(B!=="submit"&&B!=="reset"||b!=null)){gg(p);return}x=x!=null?""+Eo(x):"",b=b!=null?""+Eo(b):x,oe||b===p.value||(p.value=b),p.defaultValue=b}D=D??O,D=typeof D!="function"&&typeof D!="symbol"&&!!D,p.checked=oe?p.checked:!!D,p.defaultChecked=!!D,q!=null&&typeof q!="function"&&typeof q!="symbol"&&typeof q!="boolean"&&(p.name=q),gg(p)}function Av(p,b,x){b==="number"&&mg(p.ownerDocument)===p||p.defaultValue===""+x||(p.defaultValue=""+x)}function os(p,b,x,D){if(p=p.options,b){b={};for(var O=0;O<x.length;O++)b["$"+x[O]]=!0;for(x=0;x<p.length;x++)O=b.hasOwnProperty("$"+p[x].value),p[x].selected!==O&&(p[x].selected=O),O&&D&&(p[x].defaultSelected=!0)}else{for(x=""+Eo(x),b=null,O=0;O<p.length;O++){if(p[O].value===x){p[O].selected=!0,D&&(p[O].defaultSelected=!0);return}b!==null||p[O].disabled||(b=p[O])}b!==null&&(b.selected=!0)}}function rf(p,b,x){if(b!=null&&(b=""+Eo(b),b!==p.value&&(p.value=b),x==null)){p.defaultValue!==b&&(p.defaultValue=b);return}p.defaultValue=x!=null?""+Eo(x):""}function uk(p,b,x,D){if(b==null){if(D!=null){if(x!=null)throw Error(r(92));if(J(D)){if(1<D.length)throw Error(r(93));D=D[0]}x=D}x==null&&(x=""),b=x}x=Eo(b),p.defaultValue=x,D=p.textContent,D===x&&D!==""&&D!==null&&(p.value=D),gg(p)}function ss(p,b){if(b){var x=p.firstChild;if(x&&x===p.lastChild&&x.nodeType===3){x.nodeValue=b;return}}p.textContent=b}var gu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function hk(p,b,x){var D=b.indexOf("--")===0;x==null||typeof x=="boolean"||x===""?D?p.setProperty(b,""):b==="float"?p.cssFloat="":p[b]="":D?p.setProperty(b,x):typeof x!="number"||x===0||gu.has(b)?b==="float"?p.cssFloat=x:p[b]=(""+x).trim():p[b]=x+"px"}function of(p,b,x){if(b!=null&&typeof b!="object")throw Error(r(62));if(p=p.style,x!=null){for(var D in x)!x.hasOwnProperty(D)||b!=null&&b.hasOwnProperty(D)||(D.indexOf("--")===0?p.setProperty(D,""):D==="float"?p.cssFloat="":p[D]="");for(var O in b)D=b[O],b.hasOwnProperty(O)&&x[O]!==D&&hk(p,O,D)}else for(var B in b)b.hasOwnProperty(B)&&hk(p,B,b[B])}function mu(p){if(p.indexOf("-")===-1)return!1;switch(p){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kD=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Sv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ya(p){return Sv.test(""+p)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":p}function ka(){}var vg=null;function wg(p){return p=p.target||p.srcElement||window,p.correspondingUseElement&&(p=p.correspondingUseElement),p.nodeType===3?p.parentNode:p}var bu=null,vu=null;function sf(p){var b=uu(p);if(b&&(p=b.stateNode)){var x=p[Ei]||null;e:switch(p=b.stateNode,b.type){case"input":if(xv(p,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name),b=x.name,x.type==="radio"&&b!=null){for(x=p;x.parentNode;)x=x.parentNode;for(x=x.querySelectorAll('input[name="'+Do(""+b)+'"][type="radio"]'),b=0;b<x.length;b++){var D=x[b];if(D!==p&&D.form===p.form){var O=D[Ei]||null;if(!O)throw Error(r(90));xv(D,O.value,O.defaultValue,O.defaultValue,O.checked,O.defaultChecked,O.type,O.name)}}for(b=0;b<x.length;b++)D=x[b],D.form===p.form&&ck(D)}break e;case"textarea":rf(p,x.value,x.defaultValue);break e;case"select":b=x.value,b!=null&&os(p,!!x.multiple,b,!1)}}}var _v=!1;function Ev(p,b,x){if(_v)return p(b,x);_v=!0;try{var D=p(b);return D}finally{if(_v=!1,(bu!==null||vu!==null)&&(nh(),bu&&(b=bu,p=vu,vu=bu=null,sf(b),p)))for(b=0;b<p.length;b++)sf(p[b])}}function wu(p,b){var x=p.stateNode;if(x===null)return null;var D=x[Ei]||null;if(D===null)return null;x=D[b];e:switch(b){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(D=!D.disabled)||(p=p.type,D=!(p==="button"||p==="input"||p==="select"||p==="textarea")),p=!D;break e;default:p=!1}if(p)return null;if(x&&typeof x!="function")throw Error(r(231,b,typeof x));return x}var Ds=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sc=!1;if(Ds)try{var af={};Object.defineProperty(af,"passive",{get:function(){Sc=!0}}),window.addEventListener("test",af,af),window.removeEventListener("test",af,af)}catch{Sc=!1}var as=null,lf=null,gn=null;function fk(){if(gn)return gn;var p,b=lf,x=b.length,D,O="value"in as?as.value:as.textContent,B=O.length;for(p=0;p<x&&b[p]===O[p];p++);var q=x-p;for(D=1;D<=q&&b[x-D]===O[B-D];D++);return gn=O.slice(p,1<D?1-D:void 0)}function Cu(p){var b=p.keyCode;return"charCode"in p?(p=p.charCode,p===0&&b===13&&(p=13)):p=b,p===10&&(p=13),32<=p||p===13?p:0}function cf(){return!0}function yu(){return!1}function Zr(p){function b(x,D,O,B,q){this._reactName=x,this._targetInst=O,this.type=D,this.nativeEvent=B,this.target=q,this.currentTarget=null;for(var oe in p)p.hasOwnProperty(oe)&&(x=p[oe],this[oe]=x?x(B):B[oe]);return this.isDefaultPrevented=(B.defaultPrevented!=null?B.defaultPrevented:B.returnValue===!1)?cf:yu,this.isPropagationStopped=yu,this}return C(b.prototype,{preventDefault:function(){this.defaultPrevented=!0;var x=this.nativeEvent;x&&(x.preventDefault?x.preventDefault():typeof x.returnValue!="unknown"&&(x.returnValue=!1),this.isDefaultPrevented=cf)},stopPropagation:function(){var x=this.nativeEvent;x&&(x.stopPropagation?x.stopPropagation():typeof x.cancelBubble!="unknown"&&(x.cancelBubble=!0),this.isPropagationStopped=cf)},persist:function(){},isPersistent:cf}),b}var Mo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(p){return p.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},df=Zr(Mo),_c=C({},Mo,{view:0,detail:0}),xD=Zr(_c),Cg,Dv,Ec,yg=C({},_c,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xg,button:0,buttons:0,relatedTarget:function(p){return p.relatedTarget===void 0?p.fromElement===p.srcElement?p.toElement:p.fromElement:p.relatedTarget},movementX:function(p){return"movementX"in p?p.movementX:(p!==Ec&&(Ec&&p.type==="mousemove"?(Cg=p.screenX-Ec.screenX,Dv=p.screenY-Ec.screenY):Dv=Cg=0,Ec=p),Cg)},movementY:function(p){return"movementY"in p?p.movementY:Dv}}),pk=Zr(yg),AD=C({},yg,{dataTransfer:0}),kg=Zr(AD),uf=C({},_c,{relatedTarget:0}),Mv=Zr(uf),SD=C({},Mo,{animationName:0,elapsedTime:0,pseudoElement:0}),_D=Zr(SD),ED=C({},Mo,{clipboardData:function(p){return"clipboardData"in p?p.clipboardData:window.clipboardData}}),ku=Zr(ED),DD=C({},Mo,{data:0}),Tv=Zr(DD),gk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vk(p){var b=this.nativeEvent;return b.getModifierState?b.getModifierState(p):(p=bk[p])?!!b[p]:!1}function xg(){return vk}var MD=C({},_c,{key:function(p){if(p.key){var b=gk[p.key]||p.key;if(b!=="Unidentified")return b}return p.type==="keypress"?(p=Cu(p),p===13?"Enter":String.fromCharCode(p)):p.type==="keydown"||p.type==="keyup"?mk[p.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xg,charCode:function(p){return p.type==="keypress"?Cu(p):0},keyCode:function(p){return p.type==="keydown"||p.type==="keyup"?p.keyCode:0},which:function(p){return p.type==="keypress"?Cu(p):p.type==="keydown"||p.type==="keyup"?p.keyCode:0}}),wk=Zr(MD),TD=C({},yg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rv=Zr(TD),Pv=C({},_c,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xg}),RD=Zr(Pv),Ck=C({},Mo,{propertyName:0,elapsedTime:0,pseudoElement:0}),yk=Zr(Ck),PD=C({},yg,{deltaX:function(p){return"deltaX"in p?p.deltaX:"wheelDeltaX"in p?-p.wheelDeltaX:0},deltaY:function(p){return"deltaY"in p?p.deltaY:"wheelDeltaY"in p?-p.wheelDeltaY:"wheelDelta"in p?-p.wheelDelta:0},deltaZ:0,deltaMode:0}),kk=Zr(PD),Iv=C({},Mo,{newState:0,oldState:0}),ID=Zr(Iv),Nv=[9,13,27,32],hf=Ds&&"CompositionEvent"in window,Dc=null;Ds&&"documentMode"in document&&(Dc=document.documentMode);var Ov=Ds&&"TextEvent"in window&&!Dc,Fv=Ds&&(!hf||Dc&&8<Dc&&11>=Dc),Lv=" ",Bv=!1;function jv(p,b){switch(p){case"keyup":return Nv.indexOf(b.keyCode)!==-1;case"keydown":return b.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zv(p){return p=p.detail,typeof p=="object"&&"data"in p?p.data:null}var xu=!1;function ND(p,b){switch(p){case"compositionend":return zv(b);case"keypress":return b.which!==32?null:(Bv=!0,Lv);case"textInput":return p=b.data,p===Lv&&Bv?null:p;default:return null}}function OD(p,b){if(xu)return p==="compositionend"||!hf&&jv(p,b)?(p=fk(),gn=lf=as=null,xu=!1,p):null;switch(p){case"paste":return null;case"keypress":if(!(b.ctrlKey||b.altKey||b.metaKey)||b.ctrlKey&&b.altKey){if(b.char&&1<b.char.length)return b.char;if(b.which)return String.fromCharCode(b.which)}return null;case"compositionend":return Fv&&b.locale!=="ko"?null:b.data;default:return null}}var FD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xk(p){var b=p&&p.nodeName&&p.nodeName.toLowerCase();return b==="input"?!!FD[p.type]:b==="textarea"}function dl(p,b,x,D){bu?vu?vu.push(D):vu=[D]:bu=D,b=gm(b,"onChange"),0<b.length&&(x=new df("onChange","change",null,x,D),p.push({event:x,listeners:b}))}var xa=null,ff=null;function LD(p){wr(p,0)}function Mc(p){var b=tf(p);if(ck(b))return p}function Ag(p,b){if(p==="change")return b}var Ak=!1;if(Ds){var Hv;if(Ds){var Vv="oninput"in document;if(!Vv){var Gv=document.createElement("div");Gv.setAttribute("oninput","return;"),Vv=typeof Gv.oninput=="function"}Hv=Vv}else Hv=!1;Ak=Hv&&(!document.documentMode||9<document.documentMode)}function Uv(){xa&&(xa.detachEvent("onpropertychange",Sk),ff=xa=null)}function Sk(p){if(p.propertyName==="value"&&Mc(ff)){var b=[];dl(b,ff,p,wg(p)),Ev(LD,b)}}function _k(p,b,x){p==="focusin"?(Uv(),xa=b,ff=x,xa.attachEvent("onpropertychange",Sk)):p==="focusout"&&Uv()}function BD(p){if(p==="selectionchange"||p==="keyup"||p==="keydown")return Mc(ff)}function Ek(p,b){if(p==="click")return Mc(b)}function jD(p,b){if(p==="input"||p==="change")return Mc(b)}function Dk(p,b){return p===b&&(p!==0||1/p===1/b)||p!==p&&b!==b}var Xi=typeof Object.is=="function"?Object.is:Dk;function Au(p,b){if(Xi(p,b))return!0;if(typeof p!="object"||p===null||typeof b!="object"||b===null)return!1;var x=Object.keys(p),D=Object.keys(b);if(x.length!==D.length)return!1;for(D=0;D<x.length;D++){var O=x[D];if(!Zn.call(b,O)||!Xi(p[O],b[O]))return!1}return!0}function Mk(p){for(;p&&p.firstChild;)p=p.firstChild;return p}function Tk(p,b){var x=Mk(p);p=0;for(var D;x;){if(x.nodeType===3){if(D=p+x.textContent.length,p<=b&&D>=b)return{node:x,offset:b-p};p=D}e:{for(;x;){if(x.nextSibling){x=x.nextSibling;break e}x=x.parentNode}x=void 0}x=Mk(x)}}function Wv(p,b){return p&&b?p===b?!0:p&&p.nodeType===3?!1:b&&b.nodeType===3?Wv(p,b.parentNode):"contains"in p?p.contains(b):p.compareDocumentPosition?!!(p.compareDocumentPosition(b)&16):!1:!1}function Rk(p){p=p!=null&&p.ownerDocument!=null&&p.ownerDocument.defaultView!=null?p.ownerDocument.defaultView:window;for(var b=mg(p.document);b instanceof p.HTMLIFrameElement;){try{var x=typeof b.contentWindow.location.href=="string"}catch{x=!1}if(x)p=b.contentWindow;else break;b=mg(p.document)}return b}function Sg(p){var b=p&&p.nodeName&&p.nodeName.toLowerCase();return b&&(b==="input"&&(p.type==="text"||p.type==="search"||p.type==="tel"||p.type==="url"||p.type==="password")||b==="textarea"||p.contentEditable==="true")}var Pk=Ds&&"documentMode"in document&&11>=document.documentMode,Tc=null,mn=null,Rc=null,pf=!1;function ul(p,b,x){var D=x.window===x?x.document:x.nodeType===9?x:x.ownerDocument;pf||Tc==null||Tc!==mg(D)||(D=Tc,"selectionStart"in D&&Sg(D)?D={start:D.selectionStart,end:D.selectionEnd}:(D=(D.ownerDocument&&D.ownerDocument.defaultView||window).getSelection(),D={anchorNode:D.anchorNode,anchorOffset:D.anchorOffset,focusNode:D.focusNode,focusOffset:D.focusOffset}),Rc&&Au(Rc,D)||(Rc=D,D=gm(mn,"onSelect"),0<D.length&&(b=new df("onSelect","select",null,b,x),p.push({event:b,listeners:D}),b.target=Tc)))}function hl(p,b){var x={};return x[p.toLowerCase()]=b.toLowerCase(),x["Webkit"+p]="webkit"+b,x["Moz"+p]="moz"+b,x}var Pc={animationend:hl("Animation","AnimationEnd"),animationiteration:hl("Animation","AnimationIteration"),animationstart:hl("Animation","AnimationStart"),transitionrun:hl("Transition","TransitionRun"),transitionstart:hl("Transition","TransitionStart"),transitioncancel:hl("Transition","TransitionCancel"),transitionend:hl("Transition","TransitionEnd")},$v={},Aa={};Ds&&(Aa=document.createElement("div").style,"AnimationEvent"in window||(delete Pc.animationend.animation,delete Pc.animationiteration.animation,delete Pc.animationstart.animation),"TransitionEvent"in window||delete Pc.transitionend.transition);function Ms(p){if($v[p])return $v[p];if(!Pc[p])return p;var b=Pc[p],x;for(x in b)if(b.hasOwnProperty(x)&&x in Aa)return $v[p]=b[x];return p}var qv=Ms("animationend"),Ji=Ms("animationiteration"),Ik=Ms("animationstart"),Nk=Ms("transitionrun"),Ok=Ms("transitionstart"),or=Ms("transitioncancel"),gf=Ms("transitionend"),Kv=new Map,_g="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");_g.push("scrollEnd");function _t(p,b){Kv.set(p,b),Ac(b,[p])}var Ic=typeof reportError=="function"?reportError:function(p){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var b=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof p=="object"&&p!==null&&typeof p.message=="string"?String(p.message):String(p),error:p});if(!window.dispatchEvent(b))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",p);return}console.error(p)},eo=[],fl=0,Eg=0;function Hn(){for(var p=fl,b=Eg=fl=0;b<p;){var x=eo[b];eo[b++]=null;var D=eo[b];eo[b++]=null;var O=eo[b];eo[b++]=null;var B=eo[b];if(eo[b++]=null,D!==null&&O!==null){var q=D.pending;q===null?O.next=O:(O.next=q.next,q.next=O),D.pending=O}B!==0&&Su(x,O,B)}}function pl(p,b,x,D){eo[fl++]=p,eo[fl++]=b,eo[fl++]=x,eo[fl++]=D,Eg|=D,p.lanes|=D,p=p.alternate,p!==null&&(p.lanes|=D)}function Dg(p,b,x,D){return pl(p,b,x,D),mf(p)}function To(p,b){return pl(p,null,null,b),mf(p)}function Su(p,b,x){p.lanes|=x;var D=p.alternate;D!==null&&(D.lanes|=x);for(var O=!1,B=p.return;B!==null;)B.childLanes|=x,D=B.alternate,D!==null&&(D.childLanes|=x),B.tag===22&&(p=B.stateNode,p===null||p._visibility&1||(O=!0)),p=B,B=B.return;return p.tag===3?(B=p.stateNode,O&&b!==null&&(O=31-xn(x),p=B.hiddenUpdates,D=p[O],D===null?p[O]=[b]:D.push(b),b.lane=x|536870912),B):null}function mf(p){if(50<Uf)throw Uf=0,oC=null,Error(r(185));for(var b=p.return;b!==null;)p=b,b=p.return;return p.tag===3?p.stateNode:null}var Ts={};function Nc(p,b,x,D){this.tag=p,this.key=x,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=b,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=D,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Di(p,b,x,D){return new Nc(p,b,x,D)}function _u(p){return p=p.prototype,!(!p||!p.isReactComponent)}function Rs(p,b){var x=p.alternate;return x===null?(x=Di(p.tag,b,p.key,p.mode),x.elementType=p.elementType,x.type=p.type,x.stateNode=p.stateNode,x.alternate=p,p.alternate=x):(x.pendingProps=b,x.type=p.type,x.flags=0,x.subtreeFlags=0,x.deletions=null),x.flags=p.flags&65011712,x.childLanes=p.childLanes,x.lanes=p.lanes,x.child=p.child,x.memoizedProps=p.memoizedProps,x.memoizedState=p.memoizedState,x.updateQueue=p.updateQueue,b=p.dependencies,x.dependencies=b===null?null:{lanes:b.lanes,firstContext:b.firstContext},x.sibling=p.sibling,x.index=p.index,x.ref=p.ref,x.refCleanup=p.refCleanup,x}function Yv(p,b){p.flags&=65011714;var x=p.alternate;return x===null?(p.childLanes=0,p.lanes=b,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=x.childLanes,p.lanes=x.lanes,p.child=x.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=x.memoizedProps,p.memoizedState=x.memoizedState,p.updateQueue=x.updateQueue,p.type=x.type,b=x.dependencies,p.dependencies=b===null?null:{lanes:b.lanes,firstContext:b.firstContext}),p}function bf(p,b,x,D,O,B){var q=0;if(D=p,typeof p=="function")_u(p)&&(q=1);else if(typeof p=="string")q=h2(p,x,me.current)?26:p==="html"||p==="head"||p==="body"?27:5;else e:switch(p){case te:return p=Di(31,x,b,O),p.elementType=te,p.lanes=B,p;case T:return Oc(x.children,O,B,b);case P:q=8,O|=24;break;case N:return p=Di(12,x,b,O|2),p.elementType=N,p.lanes=B,p;case U:return p=Di(13,x,b,O),p.elementType=U,p.lanes=B,p;case $:return p=Di(19,x,b,O),p.elementType=$,p.lanes=B,p;default:if(typeof p=="object"&&p!==null)switch(p.$$typeof){case L:q=10;break e;case j:q=9;break e;case V:q=11;break e;case z:q=14;break e;case K:q=16,D=null;break e}q=29,x=Error(r(130,p===null?"null":typeof p,"")),D=null}return b=Di(q,x,b,O),b.elementType=p,b.type=D,b.lanes=B,b}function Oc(p,b,x,D){return p=Di(7,p,D,b),p.lanes=x,p}function Qv(p,b,x){return p=Di(6,p,null,b),p.lanes=x,p}function Zv(p){var b=Di(18,null,null,0);return b.stateNode=p,b}function Mg(p,b,x){return b=Di(4,p.children!==null?p.children:[],p.key,b),b.lanes=x,b.stateNode={containerInfo:p.containerInfo,pendingChildren:null,implementation:p.implementation},b}var Xv=new WeakMap;function to(p,b){if(typeof p=="object"&&p!==null){var x=Xv.get(p);return x!==void 0?x:(b={value:p,source:b,stack:kn(b)},Xv.set(p,b),b)}return{value:p,source:b,stack:kn(b)}}var gl=[],Eu=0,vf=null,wf=0,Ro=[],no=0,Mt=null,Ps=1,ui="";function ro(p,b){gl[Eu++]=wf,gl[Eu++]=vf,vf=p,wf=b}function Cf(p,b,x){Ro[no++]=Ps,Ro[no++]=ui,Ro[no++]=Mt,Mt=p;var D=Ps;p=ui;var O=32-xn(D)-1;D&=~(1<<O),x+=1;var B=32-xn(b)+O;if(30<B){var q=O-O%5;B=(D&(1<<q)-1).toString(32),D>>=q,O-=q,Ps=1<<32-xn(b)+O|x<<O|D,ui=B+p}else Ps=1<<B|x<<O|D,ui=p}function yf(p){p.return!==null&&(ro(p,1),Cf(p,1,0))}function dn(p){for(;p===vf;)vf=gl[--Eu],gl[Eu]=null,wf=gl[--Eu],gl[Eu]=null;for(;p===Mt;)Mt=Ro[--no],Ro[no]=null,ui=Ro[--no],Ro[no]=null,Ps=Ro[--no],Ro[no]=null}function Tg(p,b){Ro[no++]=Ps,Ro[no++]=ui,Ro[no++]=Mt,Ps=b.id,ui=b.overflow,Mt=p}var Nr=null,On=null,Ht=!1,ml=null,Po=!1,Jv=Error(r(519));function hi(p){var b=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw kf(to(b,p)),Jv}function Fk(p){var b=p.stateNode,x=p.type,D=p.memoizedProps;switch(b[zr]=p,b[Ei]=D,x){case"dialog":wt("cancel",b),wt("close",b);break;case"iframe":case"object":case"embed":wt("load",b);break;case"video":case"audio":for(x=0;x<sh.length;x++)wt(sh[x],b);break;case"source":wt("error",b);break;case"img":case"image":case"link":wt("error",b),wt("load",b);break;case"details":wt("toggle",b);break;case"input":wt("invalid",b),dk(b,D.value,D.defaultValue,D.checked,D.defaultChecked,D.type,D.name,!0);break;case"select":wt("invalid",b);break;case"textarea":wt("invalid",b),uk(b,D.value,D.defaultValue,D.children)}x=D.children,typeof x!="string"&&typeof x!="number"&&typeof x!="bigint"||b.textContent===""+x||D.suppressHydrationWarning===!0||mC(b.textContent,x)?(D.popover!=null&&(wt("beforetoggle",b),wt("toggle",b)),D.onScroll!=null&&wt("scroll",b),D.onScrollEnd!=null&&wt("scrollend",b),D.onClick!=null&&(b.onclick=ka),b=!0):b=!1,b||hi(p,!0)}function ew(p){for(Nr=p.return;Nr;)switch(Nr.tag){case 5:case 31:case 13:Po=!1;return;case 27:case 3:Po=!0;return;default:Nr=Nr.return}}function Du(p){if(p!==Nr)return!1;if(!Ht)return ew(p),Ht=!0,!1;var b=p.tag,x;if((x=b!==3&&b!==27)&&((x=b===5)&&(x=p.type,x=!(x!=="form"&&x!=="button")||mm(p.type,p.memoizedProps)),x=!x),x&&On&&hi(p),ew(p),b===13){if(p=p.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));On=Ux(p)}else if(b===31){if(p=p.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));On=Ux(p)}else b===27?(b=On,Fl(p.type)?(p=km,km=null,On=p):On=b):On=Nr?Lo(p.stateNode.nextSibling):null;return!0}function Fc(){On=Nr=null,Ht=!1}function tw(){var p=ml;return p!==null&&(gi===null?gi=p:gi.push.apply(gi,p),ml=null),p}function kf(p){ml===null?ml=[p]:ml.push(p)}var Lk=ne(null),Lc=null,Sa=null;function bl(p,b,x){ve(Lk,b._currentValue),b._currentValue=x}function Is(p){p._currentValue=Lk.current,fe(Lk)}function xf(p,b,x){for(;p!==null;){var D=p.alternate;if((p.childLanes&b)!==b?(p.childLanes|=b,D!==null&&(D.childLanes|=b)):D!==null&&(D.childLanes&b)!==b&&(D.childLanes|=b),p===x)break;p=p.return}}function nw(p,b,x,D){var O=p.child;for(O!==null&&(O.return=p);O!==null;){var B=O.dependencies;if(B!==null){var q=O.child;B=B.firstContext;e:for(;B!==null;){var oe=B;B=O;for(var pe=0;pe<b.length;pe++)if(oe.context===b[pe]){B.lanes|=x,oe=B.alternate,oe!==null&&(oe.lanes|=x),xf(B.return,x,p),D||(q=null);break e}B=oe.next}}else if(O.tag===18){if(q=O.return,q===null)throw Error(r(341));q.lanes|=x,B=q.alternate,B!==null&&(B.lanes|=x),xf(q,x,p),q=null}else q=O.child;if(q!==null)q.return=O;else for(q=O;q!==null;){if(q===p){q=null;break}if(O=q.sibling,O!==null){O.return=q.return,q=O;break}q=q.return}O=q}}function Mu(p,b,x,D){p=null;for(var O=b,B=!1;O!==null;){if(!B){if((O.flags&524288)!==0)B=!0;else if((O.flags&262144)!==0)break}if(O.tag===10){var q=O.alternate;if(q===null)throw Error(r(387));if(q=q.memoizedProps,q!==null){var oe=O.type;Xi(O.pendingProps.value,q.value)||(p!==null?p.push(oe):p=[oe])}}else if(O===Ue.current){if(q=O.alternate,q===null)throw Error(r(387));q.memoizedState.memoizedState!==O.memoizedState.memoizedState&&(p!==null?p.push(id):p=[id])}O=O.return}p!==null&&nw(b,p,x,D),b.flags|=262144}function Af(p){for(p=p.firstContext;p!==null;){if(!Xi(p.context._currentValue,p.memoizedValue))return!0;p=p.next}return!1}function Bc(p){Lc=p,Sa=null,p=p.dependencies,p!==null&&(p.firstContext=null)}function An(p){return kr(Lc,p)}function sr(p,b){return Lc===null&&Bc(p),kr(p,b)}function kr(p,b){var x=b._currentValue;if(b={context:b,memoizedValue:x,next:null},Sa===null){if(p===null)throw Error(r(308));Sa=b,p.dependencies={lanes:0,firstContext:b},p.flags|=524288}else Sa=Sa.next=b;return x}var fi=typeof AbortController<"u"?AbortController:function(){var p=[],b=this.signal={aborted:!1,addEventListener:function(x,D){p.push(D)}};this.abort=function(){b.aborted=!0,p.forEach(function(x){return x()})}},Ns=e.unstable_scheduleCallback,rw=e.unstable_NormalPriority,Xn={$$typeof:L,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Sf(){return{controller:new fi,data:new Map,refCount:0}}function _f(p){p.refCount--,p.refCount===0&&Ns(rw,function(){p.controller.abort()})}var Tu=null,Mi=0,Xr=0,Os=null;function zD(p,b){if(Tu===null){var x=Tu=[];Mi=0,Xr=nd(),Os={status:"pending",value:void 0,then:function(D){x.push(D)}}}return Mi++,b.then(iw,iw),b}function iw(){if(--Mi===0&&Tu!==null){Os!==null&&(Os.status="fulfilled");var p=Tu;Tu=null,Xr=0,Os=null;for(var b=0;b<p.length;b++)(0,p[b])()}}function Rg(p,b){var x=[],D={status:"pending",value:null,reason:null,then:function(O){x.push(O)}};return p.then(function(){D.status="fulfilled",D.value=b;for(var O=0;O<x.length;O++)(0,x[O])(b)},function(O){for(D.status="rejected",D.reason=O,O=0;O<x.length;O++)(0,x[O])(void 0)}),D}var ow=re.S;re.S=function(p,b){iC=Gt(),typeof b=="object"&&b!==null&&typeof b.then=="function"&&zD(p,b),ow!==null&&ow(p,b)};var jc=ne(null);function sw(){var p=jc.current;return p!==null?p:_n.pooledCache}function Pg(p,b){b===null?ve(jc,jc.current):ve(jc,b.pool)}function aw(){var p=sw();return p===null?null:{parent:Xn._currentValue,pool:p}}var zc=Error(r(460)),Ig=Error(r(474)),Ef=Error(r(542)),Df={then:function(){}};function lw(p){return p=p.status,p==="fulfilled"||p==="rejected"}function Hc(p,b,x){switch(x=p[x],x===void 0?p.push(b):x!==b&&(b.then(ka,ka),b=x),b.status){case"fulfilled":return b.value;case"rejected":throw p=b.reason,cw(p),p;default:if(typeof b.status=="string")b.then(ka,ka);else{if(p=_n,p!==null&&100<p.shellSuspendCounter)throw Error(r(482));p=b,p.status="pending",p.then(function(D){if(b.status==="pending"){var O=b;O.status="fulfilled",O.value=D}},function(D){if(b.status==="pending"){var O=b;O.status="rejected",O.reason=D}})}switch(b.status){case"fulfilled":return b.value;case"rejected":throw p=b.reason,cw(p),p}throw _a=b,zc}}function Fs(p){try{var b=p._init;return b(p._payload)}catch(x){throw x!==null&&typeof x=="object"&&typeof x.then=="function"?(_a=x,zc):x}}var _a=null;function Ng(){if(_a===null)throw Error(r(459));var p=_a;return _a=null,p}function cw(p){if(p===zc||p===Ef)throw Error(r(483))}var Vc=null,Mf=0;function $e(p){var b=Mf;return Mf+=1,Vc===null&&(Vc=[]),Hc(Vc,p,b)}function Ru(p,b){b=b.props.ref,p.ref=b!==void 0?b:null}function Og(p,b){throw b.$$typeof===y?Error(r(525)):(p=Object.prototype.toString.call(b),Error(r(31,p==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":p)))}function st(p){function b(we,be){if(p){var ke=we.deletions;ke===null?(we.deletions=[be],we.flags|=16):ke.push(be)}}function x(we,be){if(!p)return null;for(;be!==null;)b(we,be),be=be.sibling;return null}function D(we){for(var be=new Map;we!==null;)we.key!==null?be.set(we.key,we):be.set(we.index,we),we=we.sibling;return be}function O(we,be){return we=Rs(we,be),we.index=0,we.sibling=null,we}function B(we,be,ke){return we.index=ke,p?(ke=we.alternate,ke!==null?(ke=ke.index,ke<be?(we.flags|=67108866,be):ke):(we.flags|=67108866,be)):(we.flags|=1048576,be)}function q(we){return p&&we.alternate===null&&(we.flags|=67108866),we}function oe(we,be,ke,Le){return be===null||be.tag!==6?(be=Qv(ke,we.mode,Le),be.return=we,be):(be=O(be,ke),be.return=we,be)}function pe(we,be,ke,Le){var dt=ke.type;return dt===T?Ne(we,be,ke.props.children,Le,ke.key):be!==null&&(be.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===K&&Fs(dt)===be.type)?(be=O(be,ke.props),Ru(be,ke),be.return=we,be):(be=bf(ke.type,ke.key,ke.props,null,we.mode,Le),Ru(be,ke),be.return=we,be)}function ye(we,be,ke,Le){return be===null||be.tag!==4||be.stateNode.containerInfo!==ke.containerInfo||be.stateNode.implementation!==ke.implementation?(be=Mg(ke,we.mode,Le),be.return=we,be):(be=O(be,ke.children||[]),be.return=we,be)}function Ne(we,be,ke,Le,dt){return be===null||be.tag!==7?(be=Oc(ke,we.mode,Le,dt),be.return=we,be):(be=O(be,ke),be.return=we,be)}function Be(we,be,ke){if(typeof be=="string"&&be!==""||typeof be=="number"||typeof be=="bigint")return be=Qv(""+be,we.mode,ke),be.return=we,be;if(typeof be=="object"&&be!==null){switch(be.$$typeof){case S:return ke=bf(be.type,be.key,be.props,null,we.mode,ke),Ru(ke,be),ke.return=we,ke;case E:return be=Mg(be,we.mode,ke),be.return=we,be;case K:return be=Fs(be),Be(we,be,ke)}if(J(be)||Z(be))return be=Oc(be,we.mode,ke,null),be.return=we,be;if(typeof be.then=="function")return Be(we,$e(be),ke);if(be.$$typeof===L)return Be(we,sr(we,be),ke);Og(we,be)}return null}function Ae(we,be,ke,Le){var dt=be!==null?be.key:null;if(typeof ke=="string"&&ke!==""||typeof ke=="number"||typeof ke=="bigint")return dt!==null?null:oe(we,be,""+ke,Le);if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case S:return ke.key===dt?pe(we,be,ke,Le):null;case E:return ke.key===dt?ye(we,be,ke,Le):null;case K:return ke=Fs(ke),Ae(we,be,ke,Le)}if(J(ke)||Z(ke))return dt!==null?null:Ne(we,be,ke,Le,null);if(typeof ke.then=="function")return Ae(we,be,$e(ke),Le);if(ke.$$typeof===L)return Ae(we,be,sr(we,ke),Le);Og(we,ke)}return null}function Re(we,be,ke,Le,dt){if(typeof Le=="string"&&Le!==""||typeof Le=="number"||typeof Le=="bigint")return we=we.get(ke)||null,oe(be,we,""+Le,dt);if(typeof Le=="object"&&Le!==null){switch(Le.$$typeof){case S:return we=we.get(Le.key===null?ke:Le.key)||null,pe(be,we,Le,dt);case E:return we=we.get(Le.key===null?ke:Le.key)||null,ye(be,we,Le,dt);case K:return Le=Fs(Le),Re(we,be,ke,Le,dt)}if(J(Le)||Z(Le))return we=we.get(ke)||null,Ne(be,we,Le,dt,null);if(typeof Le.then=="function")return Re(we,be,ke,$e(Le),dt);if(Le.$$typeof===L)return Re(we,be,ke,sr(be,Le),dt);Og(be,Le)}return null}function Je(we,be,ke,Le){for(var dt=null,tn=null,rt=be,Tt=be=0,Bt=null;rt!==null&&Tt<ke.length;Tt++){rt.index>Tt?(Bt=rt,rt=null):Bt=rt.sibling;var Xt=Ae(we,rt,ke[Tt],Le);if(Xt===null){rt===null&&(rt=Bt);break}p&&rt&&Xt.alternate===null&&b(we,rt),be=B(Xt,be,Tt),tn===null?dt=Xt:tn.sibling=Xt,tn=Xt,rt=Bt}if(Tt===ke.length)return x(we,rt),Ht&&ro(we,Tt),dt;if(rt===null){for(;Tt<ke.length;Tt++)rt=Be(we,ke[Tt],Le),rt!==null&&(be=B(rt,be,Tt),tn===null?dt=rt:tn.sibling=rt,tn=rt);return Ht&&ro(we,Tt),dt}for(rt=D(rt);Tt<ke.length;Tt++)Bt=Re(rt,we,Tt,ke[Tt],Le),Bt!==null&&(p&&Bt.alternate!==null&&rt.delete(Bt.key===null?Tt:Bt.key),be=B(Bt,be,Tt),tn===null?dt=Bt:tn.sibling=Bt,tn=Bt);return p&&rt.forEach(function(Hl){return b(we,Hl)}),Ht&&ro(we,Tt),dt}function gt(we,be,ke,Le){if(ke==null)throw Error(r(151));for(var dt=null,tn=null,rt=be,Tt=be=0,Bt=null,Xt=ke.next();rt!==null&&!Xt.done;Tt++,Xt=ke.next()){rt.index>Tt?(Bt=rt,rt=null):Bt=rt.sibling;var Hl=Ae(we,rt,Xt.value,Le);if(Hl===null){rt===null&&(rt=Bt);break}p&&rt&&Hl.alternate===null&&b(we,rt),be=B(Hl,be,Tt),tn===null?dt=Hl:tn.sibling=Hl,tn=Hl,rt=Bt}if(Xt.done)return x(we,rt),Ht&&ro(we,Tt),dt;if(rt===null){for(;!Xt.done;Tt++,Xt=ke.next())Xt=Be(we,Xt.value,Le),Xt!==null&&(be=B(Xt,be,Tt),tn===null?dt=Xt:tn.sibling=Xt,tn=Xt);return Ht&&ro(we,Tt),dt}for(rt=D(rt);!Xt.done;Tt++,Xt=ke.next())Xt=Re(rt,we,Tt,Xt.value,Le),Xt!==null&&(p&&Xt.alternate!==null&&rt.delete(Xt.key===null?Tt:Xt.key),be=B(Xt,be,Tt),tn===null?dt=Xt:tn.sibling=Xt,tn=Xt);return p&&rt.forEach(function(g2){return b(we,g2)}),Ht&&ro(we,Tt),dt}function en(we,be,ke,Le){if(typeof ke=="object"&&ke!==null&&ke.type===T&&ke.key===null&&(ke=ke.props.children),typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case S:e:{for(var dt=ke.key;be!==null;){if(be.key===dt){if(dt=ke.type,dt===T){if(be.tag===7){x(we,be.sibling),Le=O(be,ke.props.children),Le.return=we,we=Le;break e}}else if(be.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===K&&Fs(dt)===be.type){x(we,be.sibling),Le=O(be,ke.props),Ru(Le,ke),Le.return=we,we=Le;break e}x(we,be);break}else b(we,be);be=be.sibling}ke.type===T?(Le=Oc(ke.props.children,we.mode,Le,ke.key),Le.return=we,we=Le):(Le=bf(ke.type,ke.key,ke.props,null,we.mode,Le),Ru(Le,ke),Le.return=we,we=Le)}return q(we);case E:e:{for(dt=ke.key;be!==null;){if(be.key===dt)if(be.tag===4&&be.stateNode.containerInfo===ke.containerInfo&&be.stateNode.implementation===ke.implementation){x(we,be.sibling),Le=O(be,ke.children||[]),Le.return=we,we=Le;break e}else{x(we,be);break}else b(we,be);be=be.sibling}Le=Mg(ke,we.mode,Le),Le.return=we,we=Le}return q(we);case K:return ke=Fs(ke),en(we,be,ke,Le)}if(J(ke))return Je(we,be,ke,Le);if(Z(ke)){if(dt=Z(ke),typeof dt!="function")throw Error(r(150));return ke=dt.call(ke),gt(we,be,ke,Le)}if(typeof ke.then=="function")return en(we,be,$e(ke),Le);if(ke.$$typeof===L)return en(we,be,sr(we,ke),Le);Og(we,ke)}return typeof ke=="string"&&ke!==""||typeof ke=="number"||typeof ke=="bigint"?(ke=""+ke,be!==null&&be.tag===6?(x(we,be.sibling),Le=O(be,ke),Le.return=we,we=Le):(x(we,be),Le=Qv(ke,we.mode,Le),Le.return=we,we=Le),q(we)):x(we,be)}return function(we,be,ke,Le){try{Mf=0;var dt=en(we,be,ke,Le);return Vc=null,dt}catch(rt){if(rt===zc||rt===Ef)throw rt;var tn=Di(29,rt,null,we.mode);return tn.lanes=Le,tn.return=we,tn}finally{}}}var Ls=st(!0),Fg=st(!1),ls=!1;function dw(p){p.updateQueue={baseState:p.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ve(p,b){p=p.updateQueue,b.updateQueue===p&&(b.updateQueue={baseState:p.baseState,firstBaseUpdate:p.firstBaseUpdate,lastBaseUpdate:p.lastBaseUpdate,shared:p.shared,callbacks:null})}function Ea(p){return{lane:p,tag:0,payload:null,callback:null,next:null}}function Et(p,b,x){var D=p.updateQueue;if(D===null)return null;if(D=D.shared,(Yt&2)!==0){var O=D.pending;return O===null?b.next=b:(b.next=O.next,O.next=b),D.pending=b,b=mf(p),Su(p,null,x),b}return pl(p,D,b,x),mf(p)}function Pu(p,b,x){if(b=b.updateQueue,b!==null&&(b=b.shared,(x&4194048)!==0)){var D=b.lanes;D&=p.pendingLanes,x|=D,b.lanes=x,tk(p,x)}}function Lg(p,b){var x=p.updateQueue,D=p.alternate;if(D!==null&&(D=D.updateQueue,x===D)){var O=null,B=null;if(x=x.firstBaseUpdate,x!==null){do{var q={lane:x.lane,tag:x.tag,payload:x.payload,callback:null,next:null};B===null?O=B=q:B=B.next=q,x=x.next}while(x!==null);B===null?O=B=b:B=B.next=b}else O=B=b;x={baseState:D.baseState,firstBaseUpdate:O,lastBaseUpdate:B,shared:D.shared,callbacks:D.callbacks},p.updateQueue=x;return}p=x.lastBaseUpdate,p===null?x.firstBaseUpdate=b:p.next=b,x.lastBaseUpdate=b}var Bg=!1;function Iu(){if(Bg){var p=Os;if(p!==null)throw p}}function Tf(p,b,x,D){Bg=!1;var O=p.updateQueue;ls=!1;var B=O.firstBaseUpdate,q=O.lastBaseUpdate,oe=O.shared.pending;if(oe!==null){O.shared.pending=null;var pe=oe,ye=pe.next;pe.next=null,q===null?B=ye:q.next=ye,q=pe;var Ne=p.alternate;Ne!==null&&(Ne=Ne.updateQueue,oe=Ne.lastBaseUpdate,oe!==q&&(oe===null?Ne.firstBaseUpdate=ye:oe.next=ye,Ne.lastBaseUpdate=pe))}if(B!==null){var Be=O.baseState;q=0,Ne=ye=pe=null,oe=B;do{var Ae=oe.lane&-536870913,Re=Ae!==oe.lane;if(Re?(xt&Ae)===Ae:(D&Ae)===Ae){Ae!==0&&Ae===Xr&&(Bg=!0),Ne!==null&&(Ne=Ne.next={lane:0,tag:oe.tag,payload:oe.payload,callback:null,next:null});e:{var Je=p,gt=oe;Ae=b;var en=x;switch(gt.tag){case 1:if(Je=gt.payload,typeof Je=="function"){Be=Je.call(en,Be,Ae);break e}Be=Je;break e;case 3:Je.flags=Je.flags&-65537|128;case 0:if(Je=gt.payload,Ae=typeof Je=="function"?Je.call(en,Be,Ae):Je,Ae==null)break e;Be=C({},Be,Ae);break e;case 2:ls=!0}}Ae=oe.callback,Ae!==null&&(p.flags|=64,Re&&(p.flags|=8192),Re=O.callbacks,Re===null?O.callbacks=[Ae]:Re.push(Ae))}else Re={lane:Ae,tag:oe.tag,payload:oe.payload,callback:oe.callback,next:null},Ne===null?(ye=Ne=Re,pe=Be):Ne=Ne.next=Re,q|=Ae;if(oe=oe.next,oe===null){if(oe=O.shared.pending,oe===null)break;Re=oe,oe=Re.next,Re.next=null,O.lastBaseUpdate=Re,O.shared.pending=null}}while(!0);Ne===null&&(pe=Be),O.baseState=pe,O.firstBaseUpdate=ye,O.lastBaseUpdate=Ne,B===null&&(O.shared.lanes=0),Tl|=q,p.lanes=q,p.memoizedState=Be}}function Bk(p,b){if(typeof p!="function")throw Error(r(191,p));p.call(b)}function uw(p,b){var x=p.callbacks;if(x!==null)for(p.callbacks=null,p=0;p<x.length;p++)Bk(x[p],b)}var Da=ne(null),jg=ne(0);function hw(p,b){p=co,ve(jg,p),ve(Da,b),co=p|b.baseLanes}function fw(){ve(jg,co),ve(Da,Da.current)}function Nu(){co=jg.current,fe(Da),fe(jg)}var Ti=ne(null),io=null;function vl(p){var b=p.alternate;ve(ar,ar.current&1),ve(Ti,p),io===null&&(b===null||Da.current!==null||b.memoizedState!==null)&&(io=p)}function pw(p){ve(ar,ar.current),ve(Ti,p),io===null&&(io=p)}function jk(p){p.tag===22?(ve(ar,ar.current),ve(Ti,p),io===null&&(io=p)):Bs()}function Bs(){ve(ar,ar.current),ve(Ti,Ti.current)}function Ri(p){fe(Ti),io===p&&(io=null),fe(ar)}var ar=ne(0);function js(p){for(var b=p;b!==null;){if(b.tag===13){var x=b.memoizedState;if(x!==null&&(x=x.dehydrated,x===null||Cm(x)||ym(x)))return b}else if(b.tag===19&&(b.memoizedProps.revealOrder==="forwards"||b.memoizedProps.revealOrder==="backwards"||b.memoizedProps.revealOrder==="unstable_legacy-backwards"||b.memoizedProps.revealOrder==="together")){if((b.flags&128)!==0)return b}else if(b.child!==null){b.child.return=b,b=b.child;continue}if(b===p)break;for(;b.sibling===null;){if(b.return===null||b.return===p)return null;b=b.return}b.sibling.return=b.return,b=b.sibling}return null}var zs=0,kt=null,ct=null,un=null,oo=!1,Gc=!1,Ma=!1,Uc=0,Rf=0,Ou=null,gw=0;function Vn(){throw Error(r(321))}function mw(p,b){if(b===null)return!1;for(var x=0;x<b.length&&x<p.length;x++)if(!Xi(p[x],b[x]))return!1;return!0}function bw(p,b,x,D,O,B){return zs=B,kt=b,b.memoizedState=null,b.updateQueue=null,b.lanes=0,re.H=p===null||p.memoizedState===null?No:Kc,Ma=!1,B=x(D,O),Ma=!1,Gc&&(B=Hk(b,x,D,O)),zk(p),B}function zk(p){re.H=Gu;var b=ct!==null&&ct.next!==null;if(zs=0,un=ct=kt=null,oo=!1,Rf=0,Ou=null,b)throw Error(r(300));p===null||cr||(p=p.dependencies,p!==null&&Af(p)&&(cr=!0))}function Hk(p,b,x,D){kt=p;var O=0;do{if(Gc&&(Ou=null),Rf=0,Gc=!1,25<=O)throw Error(r(301));if(O+=1,un=ct=null,p.updateQueue!=null){var B=p.updateQueue;B.lastEffect=null,B.events=null,B.stores=null,B.memoCache!=null&&(B.memoCache.index=0)}re.H=Pi,B=b(x,D)}while(Gc);return B}function HD(){var p=re.H,b=p.useState()[0];return b=typeof b.then=="function"?wl(b):b,p=p.useState()[0],(ct!==null?ct.memoizedState:null)!==p&&(kt.flags|=1024),b}function vw(){var p=Uc!==0;return Uc=0,p}function ww(p,b,x){b.updateQueue=p.updateQueue,b.flags&=-2053,p.lanes&=~x}function zg(p){if(oo){for(p=p.memoizedState;p!==null;){var b=p.queue;b!==null&&(b.pending=null),p=p.next}oo=!1}zs=0,un=ct=kt=null,Gc=!1,Rf=Uc=0,Ou=null}function Jr(){var p={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return un===null?kt.memoizedState=un=p:un=un.next=p,un}function lr(){if(ct===null){var p=kt.alternate;p=p!==null?p.memoizedState:null}else p=ct.next;var b=un===null?kt.memoizedState:un.next;if(b!==null)un=b,ct=p;else{if(p===null)throw kt.alternate===null?Error(r(467)):Error(r(310));ct=p,p={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},un===null?kt.memoizedState=un=p:un=un.next=p}return un}function Fu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function wl(p){var b=Rf;return Rf+=1,Ou===null&&(Ou=[]),p=Hc(Ou,p,b),b=kt,(un===null?b.memoizedState:un.next)===null&&(b=b.alternate,re.H=b===null||b.memoizedState===null?No:Kc),p}function Hg(p){if(p!==null&&typeof p=="object"){if(typeof p.then=="function")return wl(p);if(p.$$typeof===L)return An(p)}throw Error(r(438,String(p)))}function Cl(p){var b=null,x=kt.updateQueue;if(x!==null&&(b=x.memoCache),b==null){var D=kt.alternate;D!==null&&(D=D.updateQueue,D!==null&&(D=D.memoCache,D!=null&&(b={data:D.data.map(function(O){return O.slice()}),index:0})))}if(b==null&&(b={data:[],index:0}),x===null&&(x=Fu(),kt.updateQueue=x),x.memoCache=b,x=b.data[b.index],x===void 0)for(x=b.data[b.index]=Array(p),D=0;D<p;D++)x[D]=ae;return b.index++,x}function cs(p,b){return typeof b=="function"?b(p):b}function Pf(p){var b=lr();return Cw(b,ct,p)}function Cw(p,b,x){var D=p.queue;if(D===null)throw Error(r(311));D.lastRenderedReducer=x;var O=p.baseQueue,B=D.pending;if(B!==null){if(O!==null){var q=O.next;O.next=B.next,B.next=q}b.baseQueue=O=B,D.pending=null}if(B=p.baseState,O===null)p.memoizedState=B;else{b=O.next;var oe=q=null,pe=null,ye=b,Ne=!1;do{var Be=ye.lane&-536870913;if(Be!==ye.lane?(xt&Be)===Be:(zs&Be)===Be){var Ae=ye.revertLane;if(Ae===0)pe!==null&&(pe=pe.next={lane:0,revertLane:0,gesture:null,action:ye.action,hasEagerState:ye.hasEagerState,eagerState:ye.eagerState,next:null}),Be===Xr&&(Ne=!0);else if((zs&Ae)===Ae){ye=ye.next,Ae===Xr&&(Ne=!0);continue}else Be={lane:0,revertLane:ye.revertLane,gesture:null,action:ye.action,hasEagerState:ye.hasEagerState,eagerState:ye.eagerState,next:null},pe===null?(oe=pe=Be,q=B):pe=pe.next=Be,kt.lanes|=Ae,Tl|=Ae;Be=ye.action,Ma&&x(B,Be),B=ye.hasEagerState?ye.eagerState:x(B,Be)}else Ae={lane:Be,revertLane:ye.revertLane,gesture:ye.gesture,action:ye.action,hasEagerState:ye.hasEagerState,eagerState:ye.eagerState,next:null},pe===null?(oe=pe=Ae,q=B):pe=pe.next=Ae,kt.lanes|=Be,Tl|=Be;ye=ye.next}while(ye!==null&&ye!==b);if(pe===null?q=B:pe.next=oe,!Xi(B,p.memoizedState)&&(cr=!0,Ne&&(x=Os,x!==null)))throw x;p.memoizedState=B,p.baseState=q,p.baseQueue=pe,D.lastRenderedState=B}return O===null&&(D.lanes=0),[p.memoizedState,D.dispatch]}function yw(p){var b=lr(),x=b.queue;if(x===null)throw Error(r(311));x.lastRenderedReducer=p;var D=x.dispatch,O=x.pending,B=b.memoizedState;if(O!==null){x.pending=null;var q=O=O.next;do B=p(B,q.action),q=q.next;while(q!==O);Xi(B,b.memoizedState)||(cr=!0),b.memoizedState=B,b.baseQueue===null&&(b.baseState=B),x.lastRenderedState=B}return[B,D]}function Vk(p,b,x){var D=kt,O=lr(),B=Ht;if(B){if(x===void 0)throw Error(r(407));x=x()}else x=b();var q=!Xi((ct||O).memoizedState,x);if(q&&(O.memoizedState=x,cr=!0),O=O.queue,xl(Uk.bind(null,D,O,p),[p]),O.getSnapshot!==b||q||un!==null&&un.memoizedState.tag&1){if(D.flags|=2048,kl(9,{destroy:void 0},Gk.bind(null,D,O,x,b),null),_n===null)throw Error(r(349));B||(zs&127)!==0||Lu(D,b,x)}return x}function Lu(p,b,x){p.flags|=16384,p={getSnapshot:b,value:x},b=kt.updateQueue,b===null?(b=Fu(),kt.updateQueue=b,b.stores=[p]):(x=b.stores,x===null?b.stores=[p]:x.push(p))}function Gk(p,b,x,D){b.value=x,b.getSnapshot=D,Vg(b)&&Wk(p)}function Uk(p,b,x){return x(function(){Vg(b)&&Wk(p)})}function Vg(p){var b=p.getSnapshot;p=p.value;try{var x=b();return!Xi(p,x)}catch{return!0}}function Wk(p){var b=To(p,2);b!==null&&Oi(b,p,2)}function If(p){var b=Jr();if(typeof p=="function"){var x=p;if(p=x(),Ma){jr(!0);try{x()}finally{jr(!1)}}}return b.memoizedState=b.baseState=p,b.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cs,lastRenderedState:p},b}function Gg(p,b,x,D){return p.baseState=x,Cw(p,ct,typeof D=="function"?D:cs)}function so(p,b,x,D,O){if(Lf(p))throw Error(r(485));if(p=b.action,p!==null){var B={payload:O,action:p,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(q){B.listeners.push(q)}};re.T!==null?x(!0):B.isTransition=!1,D(B),x=b.pending,x===null?(B.next=b.pending=B,kw(b,B)):(B.next=x.next,b.pending=x.next=B)}}function kw(p,b){var x=b.action,D=b.payload,O=p.state;if(b.isTransition){var B=re.T,q={};re.T=q;try{var oe=x(O,D),pe=re.S;pe!==null&&pe(q,oe),Bu(p,b,oe)}catch(ye){ju(p,b,ye)}finally{B!==null&&q.types!==null&&(B.types=q.types),re.T=B}}else try{B=x(O,D),Bu(p,b,B)}catch(ye){ju(p,b,ye)}}function Bu(p,b,x){x!==null&&typeof x=="object"&&typeof x.then=="function"?x.then(function(D){$k(p,b,D)},function(D){return ju(p,b,D)}):$k(p,b,x)}function $k(p,b,x){b.status="fulfilled",b.value=x,xw(b),p.state=x,b=p.pending,b!==null&&(x=b.next,x===b?p.pending=null:(x=x.next,b.next=x,kw(p,x)))}function ju(p,b,x){var D=p.pending;if(p.pending=null,D!==null){D=D.next;do b.status="rejected",b.reason=x,xw(b),b=b.next;while(b!==D)}p.action=null}function xw(p){p=p.listeners;for(var b=0;b<p.length;b++)(0,p[b])()}function Aw(p,b){return b}function yl(p,b){if(Ht){var x=_n.formState;if(x!==null){e:{var D=kt;if(Ht){if(On){t:{for(var O=On,B=Po;O.nodeType!==8;){if(!B){O=null;break t}if(O=Lo(O.nextSibling),O===null){O=null;break t}}B=O.data,O=B==="F!"||B==="F"?O:null}if(O){On=Lo(O.nextSibling),D=O.data==="F!";break e}}hi(D)}D=!1}D&&(b=x[0])}}return x=Jr(),x.memoizedState=x.baseState=b,D={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Aw,lastRenderedState:b},x.queue=D,x=Mw.bind(null,kt,D),D.dispatch=x,D=If(!1),B=qc.bind(null,kt,!1,D.queue),D=Jr(),O={state:b,dispatch:null,action:p,pending:null},D.queue=O,x=so.bind(null,kt,O,B,x),O.dispatch=x,D.memoizedState=p,[b,x,!1]}function Ke(p){var b=lr();return vt(b,ct,p)}function vt(p,b,x){if(b=Cw(p,b,Aw)[0],p=Pf(cs)[0],typeof b=="object"&&b!==null&&typeof b.then=="function")try{var D=wl(b)}catch(q){throw q===zc?Ef:q}else D=b;b=lr();var O=b.queue,B=O.dispatch;return x!==b.memoizedState&&(kt.flags|=2048,kl(9,{destroy:void 0},Ug.bind(null,O,x),null)),[D,B,p]}function Ug(p,b){p.action=b}function Io(p){var b=lr(),x=ct;if(x!==null)return vt(b,x,p);lr(),b=b.memoizedState,x=lr();var D=x.queue.dispatch;return x.memoizedState=p,[b,D,!1]}function kl(p,b,x,D){return p={tag:p,create:x,deps:D,inst:b,next:null},b=kt.updateQueue,b===null&&(b=Fu(),kt.updateQueue=b),x=b.lastEffect,x===null?b.lastEffect=p.next=p:(D=x.next,x.next=p,p.next=D,b.lastEffect=p),p}function Wc(){return lr().memoizedState}function zu(p,b,x,D){var O=Jr();kt.flags|=p,O.memoizedState=kl(1|b,{destroy:void 0},x,D===void 0?null:D)}function Hu(p,b,x,D){var O=lr();D=D===void 0?null:D;var B=O.memoizedState.inst;ct!==null&&D!==null&&mw(D,ct.memoizedState.deps)?O.memoizedState=kl(b,B,x,D):(kt.flags|=p,O.memoizedState=kl(1|b,B,x,D))}function Vu(p,b){zu(8390656,8,p,b)}function xl(p,b){Hu(2048,8,p,b)}function qk(p){kt.flags|=4;var b=kt.updateQueue;if(b===null)b=Fu(),kt.updateQueue=b,b.events=[p];else{var x=b.events;x===null?b.events=[p]:x.push(p)}}function Wg(p){var b=lr().memoizedState;return qk({ref:b,nextImpl:p}),function(){if((Yt&2)!==0)throw Error(r(440));return b.impl.apply(void 0,arguments)}}function Nf(p,b){return Hu(4,2,p,b)}function Al(p,b){return Hu(4,4,p,b)}function Kk(p,b){if(typeof b=="function"){p=p();var x=b(p);return function(){typeof x=="function"?x():b(null)}}if(b!=null)return p=p(),b.current=p,function(){b.current=null}}function $g(p,b,x){x=x!=null?x.concat([p]):null,Hu(4,4,Kk.bind(null,b,p),x)}function Of(){}function Yk(p,b){var x=lr();b=b===void 0?null:b;var D=x.memoizedState;return b!==null&&mw(b,D[1])?D[0]:(x.memoizedState=[p,b],p)}function Ff(p,b){var x=lr();b=b===void 0?null:b;var D=x.memoizedState;if(b!==null&&mw(b,D[1]))return D[0];if(D=p(),Ma){jr(!0);try{p()}finally{jr(!1)}}return x.memoizedState=[D,b],D}function Sw(p,b,x){return x===void 0||(zs&1073741824)!==0&&(xt&261930)===0?p.memoizedState=b:(p.memoizedState=x,p=vx(),kt.lanes|=p,Tl|=p,x)}function Qk(p,b,x,D){return Xi(x,b)?x:Da.current!==null?(p=Sw(p,x,D),Xi(p,b)||(cr=!0),p):(zs&42)===0||(zs&1073741824)!==0&&(xt&261930)===0?(cr=!0,p.memoizedState=x):(p=vx(),kt.lanes|=p,Tl|=p,b)}function qg(p,b,x,D,O){var B=ee.p;ee.p=B!==0&&8>B?B:8;var q=re.T,oe={};re.T=oe,qc(p,!1,b,x);try{var pe=O(),ye=re.S;if(ye!==null&&ye(oe,pe),pe!==null&&typeof pe=="object"&&typeof pe.then=="function"){var Ne=Rg(pe,D);$c(p,b,Ne,Ni(p))}else $c(p,b,D,Ni(p))}catch(Be){$c(p,b,{then:function(){},status:"rejected",reason:Be},Ni())}finally{ee.p=B,q!==null&&oe.types!==null&&(q.types=oe.types),re.T=q}}function VD(){}function Ta(p,b,x,D){if(p.tag!==5)throw Error(r(476));var O=_w(p).queue;qg(p,O,b,le,x===null?VD:function(){return Kg(p),x(D)})}function _w(p){var b=p.memoizedState;if(b!==null)return b;b={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cs,lastRenderedState:le},next:null};var x={};return b.next={memoizedState:x,baseState:x,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cs,lastRenderedState:x},next:null},p.memoizedState=b,p=p.alternate,p!==null&&(p.memoizedState=b),b}function Kg(p){var b=_w(p);b.next===null&&(b=p.alternate.memoizedState),$c(p,b.next.queue,{},Ni())}function Ew(){return An(id)}function Dw(){return lr().memoizedState}function Yg(){return lr().memoizedState}function Zk(p){for(var b=p.return;b!==null;){switch(b.tag){case 24:case 3:var x=Ni();p=Ea(x);var D=Et(b,p,x);D!==null&&(Oi(D,b,x),Pu(D,b,x)),b={cache:Sf()},p.payload=b;return}b=b.return}}function GD(p,b,x){var D=Ni();x={lane:D,revertLane:0,gesture:null,action:x,hasEagerState:!1,eagerState:null,next:null},Lf(p)?Tw(b,x):(x=Dg(p,b,x,D),x!==null&&(Oi(x,p,D),Rw(x,b,D)))}function Mw(p,b,x){var D=Ni();$c(p,b,x,D)}function $c(p,b,x,D){var O={lane:D,revertLane:0,gesture:null,action:x,hasEagerState:!1,eagerState:null,next:null};if(Lf(p))Tw(b,O);else{var B=p.alternate;if(p.lanes===0&&(B===null||B.lanes===0)&&(B=b.lastRenderedReducer,B!==null))try{var q=b.lastRenderedState,oe=B(q,x);if(O.hasEagerState=!0,O.eagerState=oe,Xi(oe,q))return pl(p,b,O,0),_n===null&&Hn(),!1}catch{}finally{}if(x=Dg(p,b,O,D),x!==null)return Oi(x,p,D),Rw(x,b,D),!0}return!1}function qc(p,b,x,D){if(D={lane:2,revertLane:nd(),gesture:null,action:D,hasEagerState:!1,eagerState:null,next:null},Lf(p)){if(b)throw Error(r(479))}else b=Dg(p,x,D,2),b!==null&&Oi(b,p,2)}function Lf(p){var b=p.alternate;return p===kt||b!==null&&b===kt}function Tw(p,b){Gc=oo=!0;var x=p.pending;x===null?b.next=b:(b.next=x.next,x.next=b),p.pending=b}function Rw(p,b,x){if((x&4194048)!==0){var D=b.lanes;D&=p.pendingLanes,x|=D,b.lanes=x,tk(p,x)}}var Gu={readContext:An,use:Hg,useCallback:Vn,useContext:Vn,useEffect:Vn,useImperativeHandle:Vn,useLayoutEffect:Vn,useInsertionEffect:Vn,useMemo:Vn,useReducer:Vn,useRef:Vn,useState:Vn,useDebugValue:Vn,useDeferredValue:Vn,useTransition:Vn,useSyncExternalStore:Vn,useId:Vn,useHostTransitionStatus:Vn,useFormState:Vn,useActionState:Vn,useOptimistic:Vn,useMemoCache:Vn,useCacheRefresh:Vn};Gu.useEffectEvent=Vn;var No={readContext:An,use:Hg,useCallback:function(p,b){return Jr().memoizedState=[p,b===void 0?null:b],p},useContext:An,useEffect:Vu,useImperativeHandle:function(p,b,x){x=x!=null?x.concat([p]):null,zu(4194308,4,Kk.bind(null,b,p),x)},useLayoutEffect:function(p,b){return zu(4194308,4,p,b)},useInsertionEffect:function(p,b){zu(4,2,p,b)},useMemo:function(p,b){var x=Jr();b=b===void 0?null:b;var D=p();if(Ma){jr(!0);try{p()}finally{jr(!1)}}return x.memoizedState=[D,b],D},useReducer:function(p,b,x){var D=Jr();if(x!==void 0){var O=x(b);if(Ma){jr(!0);try{x(b)}finally{jr(!1)}}}else O=b;return D.memoizedState=D.baseState=O,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:p,lastRenderedState:O},D.queue=p,p=p.dispatch=GD.bind(null,kt,p),[D.memoizedState,p]},useRef:function(p){var b=Jr();return p={current:p},b.memoizedState=p},useState:function(p){p=If(p);var b=p.queue,x=Mw.bind(null,kt,b);return b.dispatch=x,[p.memoizedState,x]},useDebugValue:Of,useDeferredValue:function(p,b){var x=Jr();return Sw(x,p,b)},useTransition:function(){var p=If(!1);return p=qg.bind(null,kt,p.queue,!0,!1),Jr().memoizedState=p,[!1,p]},useSyncExternalStore:function(p,b,x){var D=kt,O=Jr();if(Ht){if(x===void 0)throw Error(r(407));x=x()}else{if(x=b(),_n===null)throw Error(r(349));(xt&127)!==0||Lu(D,b,x)}O.memoizedState=x;var B={value:x,getSnapshot:b};return O.queue=B,Vu(Uk.bind(null,D,B,p),[p]),D.flags|=2048,kl(9,{destroy:void 0},Gk.bind(null,D,B,x,b),null),x},useId:function(){var p=Jr(),b=_n.identifierPrefix;if(Ht){var x=ui,D=Ps;x=(D&~(1<<32-xn(D)-1)).toString(32)+x,b="_"+b+"R_"+x,x=Uc++,0<x&&(b+="H"+x.toString(32)),b+="_"}else x=gw++,b="_"+b+"r_"+x.toString(32)+"_";return p.memoizedState=b},useHostTransitionStatus:Ew,useFormState:yl,useActionState:yl,useOptimistic:function(p){var b=Jr();b.memoizedState=b.baseState=p;var x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return b.queue=x,b=qc.bind(null,kt,!0,x),x.dispatch=b,[p,b]},useMemoCache:Cl,useCacheRefresh:function(){return Jr().memoizedState=Zk.bind(null,kt)},useEffectEvent:function(p){var b=Jr(),x={impl:p};return b.memoizedState=x,function(){if((Yt&2)!==0)throw Error(r(440));return x.impl.apply(void 0,arguments)}}},Kc={readContext:An,use:Hg,useCallback:Yk,useContext:An,useEffect:xl,useImperativeHandle:$g,useInsertionEffect:Nf,useLayoutEffect:Al,useMemo:Ff,useReducer:Pf,useRef:Wc,useState:function(){return Pf(cs)},useDebugValue:Of,useDeferredValue:function(p,b){var x=lr();return Qk(x,ct.memoizedState,p,b)},useTransition:function(){var p=Pf(cs)[0],b=lr().memoizedState;return[typeof p=="boolean"?p:wl(p),b]},useSyncExternalStore:Vk,useId:Dw,useHostTransitionStatus:Ew,useFormState:Ke,useActionState:Ke,useOptimistic:function(p,b){var x=lr();return Gg(x,ct,p,b)},useMemoCache:Cl,useCacheRefresh:Yg};Kc.useEffectEvent=Wg;var Pi={readContext:An,use:Hg,useCallback:Yk,useContext:An,useEffect:xl,useImperativeHandle:$g,useInsertionEffect:Nf,useLayoutEffect:Al,useMemo:Ff,useReducer:yw,useRef:Wc,useState:function(){return yw(cs)},useDebugValue:Of,useDeferredValue:function(p,b){var x=lr();return ct===null?Sw(x,p,b):Qk(x,ct.memoizedState,p,b)},useTransition:function(){var p=yw(cs)[0],b=lr().memoizedState;return[typeof p=="boolean"?p:wl(p),b]},useSyncExternalStore:Vk,useId:Dw,useHostTransitionStatus:Ew,useFormState:Io,useActionState:Io,useOptimistic:function(p,b){var x=lr();return ct!==null?Gg(x,ct,p,b):(x.baseState=p,[p,x.queue.dispatch])},useMemoCache:Cl,useCacheRefresh:Yg};Pi.useEffectEvent=Wg;function Sl(p,b,x,D){b=p.memoizedState,x=x(D,b),x=x==null?b:C({},b,x),p.memoizedState=x,p.lanes===0&&(p.updateQueue.baseState=x)}var Qg={enqueueSetState:function(p,b,x){p=p._reactInternals;var D=Ni(),O=Ea(D);O.payload=b,x!=null&&(O.callback=x),b=Et(p,O,D),b!==null&&(Oi(b,p,D),Pu(b,p,D))},enqueueReplaceState:function(p,b,x){p=p._reactInternals;var D=Ni(),O=Ea(D);O.tag=1,O.payload=b,x!=null&&(O.callback=x),b=Et(p,O,D),b!==null&&(Oi(b,p,D),Pu(b,p,D))},enqueueForceUpdate:function(p,b){p=p._reactInternals;var x=Ni(),D=Ea(x);D.tag=2,b!=null&&(D.callback=b),b=Et(p,D,x),b!==null&&(Oi(b,p,x),Pu(b,p,x))}};function Xk(p,b,x,D,O,B,q){return p=p.stateNode,typeof p.shouldComponentUpdate=="function"?p.shouldComponentUpdate(D,B,q):b.prototype&&b.prototype.isPureReactComponent?!Au(x,D)||!Au(O,B):!0}function Pw(p,b,x,D){p=b.state,typeof b.componentWillReceiveProps=="function"&&b.componentWillReceiveProps(x,D),typeof b.UNSAFE_componentWillReceiveProps=="function"&&b.UNSAFE_componentWillReceiveProps(x,D),b.state!==p&&Qg.enqueueReplaceState(b,b.state,null)}function Yc(p,b){var x=b;if("ref"in b){x={};for(var D in b)D!=="ref"&&(x[D]=b[D])}if(p=p.defaultProps){x===b&&(x=C({},x));for(var O in p)x[O]===void 0&&(x[O]=p[O])}return x}function Jk(p){Ic(p)}function Iw(p){console.error(p)}function ex(p){Ic(p)}function Zg(p,b){try{var x=p.onUncaughtError;x(b.value,{componentStack:b.stack})}catch(D){setTimeout(function(){throw D})}}function tx(p,b,x){try{var D=p.onCaughtError;D(x.value,{componentStack:x.stack,errorBoundary:b.tag===1?b.stateNode:null})}catch(O){setTimeout(function(){throw O})}}function Xg(p,b,x){return x=Ea(x),x.tag=3,x.payload={element:null},x.callback=function(){Zg(p,b)},x}function nx(p){return p=Ea(p),p.tag=3,p}function rx(p,b,x,D){var O=x.type.getDerivedStateFromError;if(typeof O=="function"){var B=D.value;p.payload=function(){return O(B)},p.callback=function(){tx(b,x,D)}}var q=x.stateNode;q!==null&&typeof q.componentDidCatch=="function"&&(p.callback=function(){tx(b,x,D),typeof O!="function"&&(La===null?La=new Set([this]):La.add(this));var oe=D.stack;this.componentDidCatch(D.value,{componentStack:oe!==null?oe:""})})}function UD(p,b,x,D,O){if(x.flags|=32768,D!==null&&typeof D=="object"&&typeof D.then=="function"){if(b=x.alternate,b!==null&&Mu(b,x,O,!0),x=Ti.current,x!==null){switch(x.tag){case 31:case 13:return io===null?Wf():x.alternate===null&&qn===0&&(qn=3),x.flags&=-257,x.flags|=65536,x.lanes=O,D===Df?x.flags|=16384:(b=x.updateQueue,b===null?x.updateQueue=new Set([D]):b.add(D),um(p,D,O)),!1;case 22:return x.flags|=65536,D===Df?x.flags|=16384:(b=x.updateQueue,b===null?(b={transitions:null,markerInstances:null,retryQueue:new Set([D])},x.updateQueue=b):(x=b.retryQueue,x===null?b.retryQueue=new Set([D]):x.add(D)),um(p,D,O)),!1}throw Error(r(435,x.tag))}return um(p,D,O),Wf(),!1}if(Ht)return b=Ti.current,b!==null?((b.flags&65536)===0&&(b.flags|=256),b.flags|=65536,b.lanes=O,D!==Jv&&(p=Error(r(422),{cause:D}),kf(to(p,x)))):(D!==Jv&&(b=Error(r(423),{cause:D}),kf(to(b,x))),p=p.current.alternate,p.flags|=65536,O&=-O,p.lanes|=O,D=to(D,x),O=Xg(p.stateNode,D,O),Lg(p,O),qn!==4&&(qn=2)),!1;var B=Error(r(520),{cause:D});if(B=to(B,x),Ju===null?Ju=[B]:Ju.push(B),qn!==4&&(qn=2),b===null)return!0;D=to(D,x),x=b;do{switch(x.tag){case 3:return x.flags|=65536,p=O&-O,x.lanes|=p,p=Xg(x.stateNode,D,p),Lg(x,p),!1;case 1:if(b=x.type,B=x.stateNode,(x.flags&128)===0&&(typeof b.getDerivedStateFromError=="function"||B!==null&&typeof B.componentDidCatch=="function"&&(La===null||!La.has(B))))return x.flags|=65536,O&=-O,x.lanes|=O,O=nx(O),rx(O,p,x,D),Lg(x,O),!1}x=x.return}while(x!==null);return!1}var Uu=Error(r(461)),cr=!1;function gr(p,b,x,D){b.child=p===null?Fg(b,null,x,D):Ls(b,p.child,x,D)}function ix(p,b,x,D,O){x=x.render;var B=b.ref;if("ref"in D){var q={};for(var oe in D)oe!=="ref"&&(q[oe]=D[oe])}else q=D;return Bc(b),D=bw(p,b,x,q,B,O),oe=vw(),p!==null&&!cr?(ww(p,b,O),Ia(p,b,O)):(Ht&&oe&&yf(b),b.flags|=1,gr(p,b,D,O),b.child)}function Nw(p,b,x,D,O){if(p===null){var B=x.type;return typeof B=="function"&&!_u(B)&&B.defaultProps===void 0&&x.compare===null?(b.tag=15,b.type=B,Ow(p,b,B,D,O)):(p=bf(x.type,null,D,b,b.mode,O),p.ref=b.ref,p.return=b,b.child=p)}if(B=p.child,!$u(p,O)){var q=B.memoizedProps;if(x=x.compare,x=x!==null?x:Au,x(q,D)&&p.ref===b.ref)return Ia(p,b,O)}return b.flags|=1,p=Rs(B,D),p.ref=b.ref,p.return=b,b.child=p}function Ow(p,b,x,D,O){if(p!==null){var B=p.memoizedProps;if(Au(B,D)&&p.ref===b.ref)if(cr=!1,b.pendingProps=D=B,$u(p,O))(p.flags&131072)!==0&&(cr=!0);else return b.lanes=p.lanes,Ia(p,b,O)}return Bw(p,b,x,D,O)}function Fw(p,b,x,D){var O=D.children,B=p!==null?p.memoizedState:null;if(p===null&&b.stateNode===null&&(b.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),D.mode==="hidden"){if((b.flags&128)!==0){if(B=B!==null?B.baseLanes|x:x,p!==null){for(D=b.child=p.child,O=0;D!==null;)O=O|D.lanes|D.childLanes,D=D.sibling;D=O&~B}else D=0,b.child=null;return Lw(p,b,B,x,D)}if((x&536870912)!==0)b.memoizedState={baseLanes:0,cachePool:null},p!==null&&Pg(b,B!==null?B.cachePool:null),B!==null?hw(b,B):fw(),jk(b);else return D=b.lanes=536870912,Lw(p,b,B!==null?B.baseLanes|x:x,x,D)}else B!==null?(Pg(b,B.cachePool),hw(b,B),Bs(),b.memoizedState=null):(p!==null&&Pg(b,null),fw(),Bs());return gr(p,b,O,x),b.child}function Ii(p,b){return p!==null&&p.tag===22||b.stateNode!==null||(b.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),b.sibling}function Lw(p,b,x,D,O){var B=sw();return B=B===null?null:{parent:Xn._currentValue,pool:B},b.memoizedState={baseLanes:x,cachePool:B},p!==null&&Pg(b,null),fw(),jk(b),p!==null&&Mu(p,b,D,!0),b.childLanes=O,null}function Ra(p,b){return b=em({mode:b.mode,children:b.children},p.mode),b.ref=p.ref,p.child=b,b.return=p,b}function Pa(p,b,x){return Ls(b,p.child,null,x),p=Ra(b,b.pendingProps),p.flags|=2,Ri(b),b.memoizedState=null,p}function WD(p,b,x){var D=b.pendingProps,O=(b.flags&128)!==0;if(b.flags&=-129,p===null){if(Ht){if(D.mode==="hidden")return p=Ra(b,D),b.lanes=536870912,Ii(null,p);if(pw(b),(p=On)?(p=CC(p,Po),p=p!==null&&p.data==="&"?p:null,p!==null&&(b.memoizedState={dehydrated:p,treeContext:Mt!==null?{id:Ps,overflow:ui}:null,retryLane:536870912,hydrationErrors:null},x=Zv(p),x.return=b,b.child=x,Nr=b,On=null)):p=null,p===null)throw hi(b);return b.lanes=536870912,null}return Ra(b,D)}var B=p.memoizedState;if(B!==null){var q=B.dehydrated;if(pw(b),O)if(b.flags&256)b.flags&=-257,b=Pa(p,b,x);else if(b.memoizedState!==null)b.child=p.child,b.flags|=128,b=null;else throw Error(r(558));else if(cr||Mu(p,b,x,!1),O=(x&p.childLanes)!==0,cr||O){if(D=_n,D!==null&&(q=nk(D,x),q!==0&&q!==B.retryLane))throw B.retryLane=q,To(p,q),Oi(D,p,q),Uu;Wf(),b=Pa(p,b,x)}else p=B.treeContext,On=Lo(q.nextSibling),Nr=b,Ht=!0,ml=null,Po=!1,p!==null&&Tg(b,p),b=Ra(b,D),b.flags|=4096;return b}return p=Rs(p.child,{mode:D.mode,children:D.children}),p.ref=b.ref,b.child=p,p.return=b,p}function Wu(p,b){var x=b.ref;if(x===null)p!==null&&p.ref!==null&&(b.flags|=4194816);else{if(typeof x!="function"&&typeof x!="object")throw Error(r(284));(p===null||p.ref!==x)&&(b.flags|=4194816)}}function Bw(p,b,x,D,O){return Bc(b),x=bw(p,b,x,D,void 0,O),D=vw(),p!==null&&!cr?(ww(p,b,O),Ia(p,b,O)):(Ht&&D&&yf(b),b.flags|=1,gr(p,b,x,O),b.child)}function ox(p,b,x,D,O,B){return Bc(b),b.updateQueue=null,x=Hk(b,D,x,O),zk(p),D=vw(),p!==null&&!cr?(ww(p,b,B),Ia(p,b,B)):(Ht&&D&&yf(b),b.flags|=1,gr(p,b,x,B),b.child)}function sx(p,b,x,D,O){if(Bc(b),b.stateNode===null){var B=Ts,q=x.contextType;typeof q=="object"&&q!==null&&(B=An(q)),B=new x(D,B),b.memoizedState=B.state!==null&&B.state!==void 0?B.state:null,B.updater=Qg,b.stateNode=B,B._reactInternals=b,B=b.stateNode,B.props=D,B.state=b.memoizedState,B.refs={},dw(b),q=x.contextType,B.context=typeof q=="object"&&q!==null?An(q):Ts,B.state=b.memoizedState,q=x.getDerivedStateFromProps,typeof q=="function"&&(Sl(b,x,q,D),B.state=b.memoizedState),typeof x.getDerivedStateFromProps=="function"||typeof B.getSnapshotBeforeUpdate=="function"||typeof B.UNSAFE_componentWillMount!="function"&&typeof B.componentWillMount!="function"||(q=B.state,typeof B.componentWillMount=="function"&&B.componentWillMount(),typeof B.UNSAFE_componentWillMount=="function"&&B.UNSAFE_componentWillMount(),q!==B.state&&Qg.enqueueReplaceState(B,B.state,null),Tf(b,D,B,O),Iu(),B.state=b.memoizedState),typeof B.componentDidMount=="function"&&(b.flags|=4194308),D=!0}else if(p===null){B=b.stateNode;var oe=b.memoizedProps,pe=Yc(x,oe);B.props=pe;var ye=B.context,Ne=x.contextType;q=Ts,typeof Ne=="object"&&Ne!==null&&(q=An(Ne));var Be=x.getDerivedStateFromProps;Ne=typeof Be=="function"||typeof B.getSnapshotBeforeUpdate=="function",oe=b.pendingProps!==oe,Ne||typeof B.UNSAFE_componentWillReceiveProps!="function"&&typeof B.componentWillReceiveProps!="function"||(oe||ye!==q)&&Pw(b,B,D,q),ls=!1;var Ae=b.memoizedState;B.state=Ae,Tf(b,D,B,O),Iu(),ye=b.memoizedState,oe||Ae!==ye||ls?(typeof Be=="function"&&(Sl(b,x,Be,D),ye=b.memoizedState),(pe=ls||Xk(b,x,pe,D,Ae,ye,q))?(Ne||typeof B.UNSAFE_componentWillMount!="function"&&typeof B.componentWillMount!="function"||(typeof B.componentWillMount=="function"&&B.componentWillMount(),typeof B.UNSAFE_componentWillMount=="function"&&B.UNSAFE_componentWillMount()),typeof B.componentDidMount=="function"&&(b.flags|=4194308)):(typeof B.componentDidMount=="function"&&(b.flags|=4194308),b.memoizedProps=D,b.memoizedState=ye),B.props=D,B.state=ye,B.context=q,D=pe):(typeof B.componentDidMount=="function"&&(b.flags|=4194308),D=!1)}else{B=b.stateNode,Ve(p,b),q=b.memoizedProps,Ne=Yc(x,q),B.props=Ne,Be=b.pendingProps,Ae=B.context,ye=x.contextType,pe=Ts,typeof ye=="object"&&ye!==null&&(pe=An(ye)),oe=x.getDerivedStateFromProps,(ye=typeof oe=="function"||typeof B.getSnapshotBeforeUpdate=="function")||typeof B.UNSAFE_componentWillReceiveProps!="function"&&typeof B.componentWillReceiveProps!="function"||(q!==Be||Ae!==pe)&&Pw(b,B,D,pe),ls=!1,Ae=b.memoizedState,B.state=Ae,Tf(b,D,B,O),Iu();var Re=b.memoizedState;q!==Be||Ae!==Re||ls||p!==null&&p.dependencies!==null&&Af(p.dependencies)?(typeof oe=="function"&&(Sl(b,x,oe,D),Re=b.memoizedState),(Ne=ls||Xk(b,x,Ne,D,Ae,Re,pe)||p!==null&&p.dependencies!==null&&Af(p.dependencies))?(ye||typeof B.UNSAFE_componentWillUpdate!="function"&&typeof B.componentWillUpdate!="function"||(typeof B.componentWillUpdate=="function"&&B.componentWillUpdate(D,Re,pe),typeof B.UNSAFE_componentWillUpdate=="function"&&B.UNSAFE_componentWillUpdate(D,Re,pe)),typeof B.componentDidUpdate=="function"&&(b.flags|=4),typeof B.getSnapshotBeforeUpdate=="function"&&(b.flags|=1024)):(typeof B.componentDidUpdate!="function"||q===p.memoizedProps&&Ae===p.memoizedState||(b.flags|=4),typeof B.getSnapshotBeforeUpdate!="function"||q===p.memoizedProps&&Ae===p.memoizedState||(b.flags|=1024),b.memoizedProps=D,b.memoizedState=Re),B.props=D,B.state=Re,B.context=pe,D=Ne):(typeof B.componentDidUpdate!="function"||q===p.memoizedProps&&Ae===p.memoizedState||(b.flags|=4),typeof B.getSnapshotBeforeUpdate!="function"||q===p.memoizedProps&&Ae===p.memoizedState||(b.flags|=1024),D=!1)}return B=D,Wu(p,b),D=(b.flags&128)!==0,B||D?(B=b.stateNode,x=D&&typeof x.getDerivedStateFromError!="function"?null:B.render(),b.flags|=1,p!==null&&D?(b.child=Ls(b,p.child,null,O),b.child=Ls(b,null,x,O)):gr(p,b,x,O),b.memoizedState=B.state,p=b.child):p=Ia(p,b,O),p}function ax(p,b,x,D){return Fc(),b.flags|=256,gr(p,b,x,D),b.child}var jw={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function zw(p){return{baseLanes:p,cachePool:aw()}}function Hw(p,b,x){return p=p!==null?p.childLanes&~x:0,b&&(p|=uo),p}function lx(p,b,x){var D=b.pendingProps,O=!1,B=(b.flags&128)!==0,q;if((q=B)||(q=p!==null&&p.memoizedState===null?!1:(ar.current&2)!==0),q&&(O=!0,b.flags&=-129),q=(b.flags&32)!==0,b.flags&=-33,p===null){if(Ht){if(O?vl(b):Bs(),(p=On)?(p=CC(p,Po),p=p!==null&&p.data!=="&"?p:null,p!==null&&(b.memoizedState={dehydrated:p,treeContext:Mt!==null?{id:Ps,overflow:ui}:null,retryLane:536870912,hydrationErrors:null},x=Zv(p),x.return=b,b.child=x,Nr=b,On=null)):p=null,p===null)throw hi(b);return ym(p)?b.lanes=32:b.lanes=536870912,null}var oe=D.children;return D=D.fallback,O?(Bs(),O=b.mode,oe=em({mode:"hidden",children:oe},O),D=Oc(D,O,x,null),oe.return=b,D.return=b,oe.sibling=D,b.child=oe,D=b.child,D.memoizedState=zw(x),D.childLanes=Hw(p,q,x),b.memoizedState=jw,Ii(null,D)):(vl(b),Jg(b,oe))}var pe=p.memoizedState;if(pe!==null&&(oe=pe.dehydrated,oe!==null)){if(B)b.flags&256?(vl(b),b.flags&=-257,b=Vw(p,b,x)):b.memoizedState!==null?(Bs(),b.child=p.child,b.flags|=128,b=null):(Bs(),oe=D.fallback,O=b.mode,D=em({mode:"visible",children:D.children},O),oe=Oc(oe,O,x,null),oe.flags|=2,D.return=b,oe.return=b,D.sibling=oe,b.child=D,Ls(b,p.child,null,x),D=b.child,D.memoizedState=zw(x),D.childLanes=Hw(p,q,x),b.memoizedState=jw,b=Ii(null,D));else if(vl(b),ym(oe)){if(q=oe.nextSibling&&oe.nextSibling.dataset,q)var ye=q.dgst;q=ye,D=Error(r(419)),D.stack="",D.digest=q,kf({value:D,source:null,stack:null}),b=Vw(p,b,x)}else if(cr||Mu(p,b,x,!1),q=(x&p.childLanes)!==0,cr||q){if(q=_n,q!==null&&(D=nk(q,x),D!==0&&D!==pe.retryLane))throw pe.retryLane=D,To(p,D),Oi(q,p,D),Uu;Cm(oe)||Wf(),b=Vw(p,b,x)}else Cm(oe)?(b.flags|=192,b.child=p.child,b=null):(p=pe.treeContext,On=Lo(oe.nextSibling),Nr=b,Ht=!0,ml=null,Po=!1,p!==null&&Tg(b,p),b=Jg(b,D.children),b.flags|=4096);return b}return O?(Bs(),oe=D.fallback,O=b.mode,pe=p.child,ye=pe.sibling,D=Rs(pe,{mode:"hidden",children:D.children}),D.subtreeFlags=pe.subtreeFlags&65011712,ye!==null?oe=Rs(ye,oe):(oe=Oc(oe,O,x,null),oe.flags|=2),oe.return=b,D.return=b,D.sibling=oe,b.child=D,Ii(null,D),D=b.child,oe=p.child.memoizedState,oe===null?oe=zw(x):(O=oe.cachePool,O!==null?(pe=Xn._currentValue,O=O.parent!==pe?{parent:pe,pool:pe}:O):O=aw(),oe={baseLanes:oe.baseLanes|x,cachePool:O}),D.memoizedState=oe,D.childLanes=Hw(p,q,x),b.memoizedState=jw,Ii(p.child,D)):(vl(b),x=p.child,p=x.sibling,x=Rs(x,{mode:"visible",children:D.children}),x.return=b,x.sibling=null,p!==null&&(q=b.deletions,q===null?(b.deletions=[p],b.flags|=16):q.push(p)),b.child=x,b.memoizedState=null,x)}function Jg(p,b){return b=em({mode:"visible",children:b},p.mode),b.return=p,p.child=b}function em(p,b){return p=Di(22,p,null,b),p.lanes=0,p}function Vw(p,b,x){return Ls(b,p.child,null,x),p=Jg(b,b.pendingProps.children),p.flags|=2,b.memoizedState=null,p}function Qc(p,b,x){p.lanes|=b;var D=p.alternate;D!==null&&(D.lanes|=b),xf(p.return,b,x)}function Gw(p,b,x,D,O,B){var q=p.memoizedState;q===null?p.memoizedState={isBackwards:b,rendering:null,renderingStartTime:0,last:D,tail:x,tailMode:O,treeForkCount:B}:(q.isBackwards=b,q.rendering=null,q.renderingStartTime=0,q.last=D,q.tail=x,q.tailMode=O,q.treeForkCount=B)}function cx(p,b,x){var D=b.pendingProps,O=D.revealOrder,B=D.tail;D=D.children;var q=ar.current,oe=(q&2)!==0;if(oe?(q=q&1|2,b.flags|=128):q&=1,ve(ar,q),gr(p,b,D,x),D=Ht?wf:0,!oe&&p!==null&&(p.flags&128)!==0)e:for(p=b.child;p!==null;){if(p.tag===13)p.memoizedState!==null&&Qc(p,x,b);else if(p.tag===19)Qc(p,x,b);else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===b)break e;for(;p.sibling===null;){if(p.return===null||p.return===b)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}switch(O){case"forwards":for(x=b.child,O=null;x!==null;)p=x.alternate,p!==null&&js(p)===null&&(O=x),x=x.sibling;x=O,x===null?(O=b.child,b.child=null):(O=x.sibling,x.sibling=null),Gw(b,!1,O,x,B,D);break;case"backwards":case"unstable_legacy-backwards":for(x=null,O=b.child,b.child=null;O!==null;){if(p=O.alternate,p!==null&&js(p)===null){b.child=O;break}p=O.sibling,O.sibling=x,x=O,O=p}Gw(b,!0,x,null,B,D);break;case"together":Gw(b,!1,null,null,void 0,D);break;default:b.memoizedState=null}return b.child}function Ia(p,b,x){if(p!==null&&(b.dependencies=p.dependencies),Tl|=b.lanes,(x&b.childLanes)===0)if(p!==null){if(Mu(p,b,x,!1),(x&b.childLanes)===0)return null}else return null;if(p!==null&&b.child!==p.child)throw Error(r(153));if(b.child!==null){for(p=b.child,x=Rs(p,p.pendingProps),b.child=x,x.return=b;p.sibling!==null;)p=p.sibling,x=x.sibling=Rs(p,p.pendingProps),x.return=b;x.sibling=null}return b.child}function $u(p,b){return(p.lanes&b)!==0?!0:(p=p.dependencies,!!(p!==null&&Af(p)))}function $D(p,b,x){switch(b.tag){case 3:pt(b,b.stateNode.containerInfo),bl(b,Xn,p.memoizedState.cache),Fc();break;case 27:case 5:Te(b);break;case 4:pt(b,b.stateNode.containerInfo);break;case 10:bl(b,b.type,b.memoizedProps.value);break;case 31:if(b.memoizedState!==null)return b.flags|=128,pw(b),null;break;case 13:var D=b.memoizedState;if(D!==null)return D.dehydrated!==null?(vl(b),b.flags|=128,null):(x&b.child.childLanes)!==0?lx(p,b,x):(vl(b),p=Ia(p,b,x),p!==null?p.sibling:null);vl(b);break;case 19:var O=(p.flags&128)!==0;if(D=(x&b.childLanes)!==0,D||(Mu(p,b,x,!1),D=(x&b.childLanes)!==0),O){if(D)return cx(p,b,x);b.flags|=128}if(O=b.memoizedState,O!==null&&(O.rendering=null,O.tail=null,O.lastEffect=null),ve(ar,ar.current),D)break;return null;case 22:return b.lanes=0,Fw(p,b,x,b.pendingProps);case 24:bl(b,Xn,p.memoizedState.cache)}return Ia(p,b,x)}function dx(p,b,x){if(p!==null)if(p.memoizedProps!==b.pendingProps)cr=!0;else{if(!$u(p,x)&&(b.flags&128)===0)return cr=!1,$D(p,b,x);cr=(p.flags&131072)!==0}else cr=!1,Ht&&(b.flags&1048576)!==0&&Cf(b,wf,b.index);switch(b.lanes=0,b.tag){case 16:e:{var D=b.pendingProps;if(p=Fs(b.elementType),b.type=p,typeof p=="function")_u(p)?(D=Yc(p,D),b.tag=1,b=sx(null,b,p,D,x)):(b.tag=0,b=Bw(null,b,p,D,x));else{if(p!=null){var O=p.$$typeof;if(O===V){b.tag=11,b=ix(null,b,p,D,x);break e}else if(O===z){b.tag=14,b=Nw(null,b,p,D,x);break e}}throw b=Q(p)||p,Error(r(306,b,""))}}return b;case 0:return Bw(p,b,b.type,b.pendingProps,x);case 1:return D=b.type,O=Yc(D,b.pendingProps),sx(p,b,D,O,x);case 3:e:{if(pt(b,b.stateNode.containerInfo),p===null)throw Error(r(387));D=b.pendingProps;var B=b.memoizedState;O=B.element,Ve(p,b),Tf(b,D,null,x);var q=b.memoizedState;if(D=q.cache,bl(b,Xn,D),D!==B.cache&&nw(b,[Xn],x,!0),Iu(),D=q.element,B.isDehydrated)if(B={element:D,isDehydrated:!1,cache:q.cache},b.updateQueue.baseState=B,b.memoizedState=B,b.flags&256){b=ax(p,b,D,x);break e}else if(D!==O){O=to(Error(r(424)),b),kf(O),b=ax(p,b,D,x);break e}else{switch(p=b.stateNode.containerInfo,p.nodeType){case 9:p=p.body;break;default:p=p.nodeName==="HTML"?p.ownerDocument.body:p}for(On=Lo(p.firstChild),Nr=b,Ht=!0,ml=null,Po=!0,x=Fg(b,null,D,x),b.child=x;x;)x.flags=x.flags&-3|4096,x=x.sibling}else{if(Fc(),D===O){b=Ia(p,b,x);break e}gr(p,b,D,x)}b=b.child}return b;case 26:return Wu(p,b),p===null?(x=yC(b.type,null,b.pendingProps,null))?b.memoizedState=x:Ht||(x=b.type,p=b.pendingProps,D=Kf(_e.current).createElement(x),D[zr]=b,D[Ei]=p,Hr(D,x,p),Ir(D),b.stateNode=D):b.memoizedState=yC(b.type,p.memoizedProps,b.pendingProps,p.memoizedState),null;case 27:return Te(b),p===null&&Ht&&(D=b.stateNode=$x(b.type,b.pendingProps,_e.current),Nr=b,Po=!0,O=On,Fl(b.type)?(km=O,On=Lo(D.firstChild)):On=O),gr(p,b,b.pendingProps.children,x),Wu(p,b),p===null&&(b.flags|=4194304),b.child;case 5:return p===null&&Ht&&((O=D=On)&&(D=a2(D,b.type,b.pendingProps,Po),D!==null?(b.stateNode=D,Nr=b,On=Lo(D.firstChild),Po=!1,O=!0):O=!1),O||hi(b)),Te(b),O=b.type,B=b.pendingProps,q=p!==null?p.memoizedProps:null,D=B.children,mm(O,B)?D=null:q!==null&&mm(O,q)&&(b.flags|=32),b.memoizedState!==null&&(O=bw(p,b,HD,null,null,x),id._currentValue=O),Wu(p,b),gr(p,b,D,x),b.child;case 6:return p===null&&Ht&&((p=x=On)&&(x=l2(x,b.pendingProps,Po),x!==null?(b.stateNode=x,Nr=b,On=null,p=!0):p=!1),p||hi(b)),null;case 13:return lx(p,b,x);case 4:return pt(b,b.stateNode.containerInfo),D=b.pendingProps,p===null?b.child=Ls(b,null,D,x):gr(p,b,D,x),b.child;case 11:return ix(p,b,b.type,b.pendingProps,x);case 7:return gr(p,b,b.pendingProps,x),b.child;case 8:return gr(p,b,b.pendingProps.children,x),b.child;case 12:return gr(p,b,b.pendingProps.children,x),b.child;case 10:return D=b.pendingProps,bl(b,b.type,D.value),gr(p,b,D.children,x),b.child;case 9:return O=b.type._context,D=b.pendingProps.children,Bc(b),O=An(O),D=D(O),b.flags|=1,gr(p,b,D,x),b.child;case 14:return Nw(p,b,b.type,b.pendingProps,x);case 15:return Ow(p,b,b.type,b.pendingProps,x);case 19:return cx(p,b,x);case 31:return WD(p,b,x);case 22:return Fw(p,b,x,b.pendingProps);case 24:return Bc(b),D=An(Xn),p===null?(O=sw(),O===null&&(O=_n,B=Sf(),O.pooledCache=B,B.refCount++,B!==null&&(O.pooledCacheLanes|=x),O=B),b.memoizedState={parent:D,cache:O},dw(b),bl(b,Xn,O)):((p.lanes&x)!==0&&(Ve(p,b),Tf(b,null,null,x),Iu()),O=p.memoizedState,B=b.memoizedState,O.parent!==D?(O={parent:D,cache:D},b.memoizedState=O,b.lanes===0&&(b.memoizedState=b.updateQueue.baseState=O),bl(b,Xn,D)):(D=B.cache,bl(b,Xn,D),D!==O.cache&&nw(b,[Xn],x,!0))),gr(p,b,b.pendingProps.children,x),b.child;case 29:throw b.pendingProps}throw Error(r(156,b.tag))}function Na(p){p.flags|=4}function tm(p,b,x,D,O){if((b=(p.mode&32)!==0)&&(b=!1),b){if(p.flags|=16777216,(O&335544128)===O)if(p.stateNode.complete)p.flags|=8192;else if(yx())p.flags|=8192;else throw _a=Df,Ig}else p.flags&=-16777217}function ux(p,b){if(b.type!=="stylesheet"||(b.state.loading&4)!==0)p.flags&=-16777217;else if(p.flags|=16777216,!_m(b))if(yx())p.flags|=8192;else throw _a=Df,Ig}function nm(p,b){b!==null&&(p.flags|=4),p.flags&16384&&(b=p.tag!==22?_i():536870912,p.lanes|=b,Xu|=b)}function qu(p,b){if(!Ht)switch(p.tailMode){case"hidden":b=p.tail;for(var x=null;b!==null;)b.alternate!==null&&(x=b),b=b.sibling;x===null?p.tail=null:x.sibling=null;break;case"collapsed":x=p.tail;for(var D=null;x!==null;)x.alternate!==null&&(D=x),x=x.sibling;D===null?b||p.tail===null?p.tail=null:p.tail.sibling=null:D.sibling=null}}function Sn(p){var b=p.alternate!==null&&p.alternate.child===p.child,x=0,D=0;if(b)for(var O=p.child;O!==null;)x|=O.lanes|O.childLanes,D|=O.subtreeFlags&65011712,D|=O.flags&65011712,O.return=p,O=O.sibling;else for(O=p.child;O!==null;)x|=O.lanes|O.childLanes,D|=O.subtreeFlags,D|=O.flags,O.return=p,O=O.sibling;return p.subtreeFlags|=D,p.childLanes=x,b}function qD(p,b,x){var D=b.pendingProps;switch(dn(b),b.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Sn(b),null;case 1:return Sn(b),null;case 3:return x=b.stateNode,D=null,p!==null&&(D=p.memoizedState.cache),b.memoizedState.cache!==D&&(b.flags|=2048),Is(Xn),Ee(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(p===null||p.child===null)&&(Du(b)?Na(b):p===null||p.memoizedState.isDehydrated&&(b.flags&256)===0||(b.flags|=1024,tw())),Sn(b),null;case 26:var O=b.type,B=b.memoizedState;return p===null?(Na(b),B!==null?(Sn(b),ux(b,B)):(Sn(b),tm(b,O,null,D,x))):B?B!==p.memoizedState?(Na(b),Sn(b),ux(b,B)):(Sn(b),b.flags&=-16777217):(p=p.memoizedProps,p!==D&&Na(b),Sn(b),tm(b,O,p,D,x)),null;case 27:if(Ze(b),x=_e.current,O=b.type,p!==null&&b.stateNode!=null)p.memoizedProps!==D&&Na(b);else{if(!D){if(b.stateNode===null)throw Error(r(166));return Sn(b),null}p=me.current,Du(b)?Fk(b):(p=$x(O,D,x),b.stateNode=p,Na(b))}return Sn(b),null;case 5:if(Ze(b),O=b.type,p!==null&&b.stateNode!=null)p.memoizedProps!==D&&Na(b);else{if(!D){if(b.stateNode===null)throw Error(r(166));return Sn(b),null}if(B=me.current,Du(b))Fk(b);else{var q=Kf(_e.current);switch(B){case 1:B=q.createElementNS("http://www.w3.org/2000/svg",O);break;case 2:B=q.createElementNS("http://www.w3.org/1998/Math/MathML",O);break;default:switch(O){case"svg":B=q.createElementNS("http://www.w3.org/2000/svg",O);break;case"math":B=q.createElementNS("http://www.w3.org/1998/Math/MathML",O);break;case"script":B=q.createElement("div"),B.innerHTML="<script><\/script>",B=B.removeChild(B.firstChild);break;case"select":B=typeof D.is=="string"?q.createElement("select",{is:D.is}):q.createElement("select"),D.multiple?B.multiple=!0:D.size&&(B.size=D.size);break;default:B=typeof D.is=="string"?q.createElement(O,{is:D.is}):q.createElement(O)}}B[zr]=b,B[Ei]=D;e:for(q=b.child;q!==null;){if(q.tag===5||q.tag===6)B.appendChild(q.stateNode);else if(q.tag!==4&&q.tag!==27&&q.child!==null){q.child.return=q,q=q.child;continue}if(q===b)break e;for(;q.sibling===null;){if(q.return===null||q.return===b)break e;q=q.return}q.sibling.return=q.return,q=q.sibling}b.stateNode=B;e:switch(Hr(B,O,D),O){case"button":case"input":case"select":case"textarea":D=!!D.autoFocus;break e;case"img":D=!0;break e;default:D=!1}D&&Na(b)}}return Sn(b),tm(b,b.type,p===null?null:p.memoizedProps,b.pendingProps,x),null;case 6:if(p&&b.stateNode!=null)p.memoizedProps!==D&&Na(b);else{if(typeof D!="string"&&b.stateNode===null)throw Error(r(166));if(p=_e.current,Du(b)){if(p=b.stateNode,x=b.memoizedProps,D=null,O=Nr,O!==null)switch(O.tag){case 27:case 5:D=O.memoizedProps}p[zr]=b,p=!!(p.nodeValue===x||D!==null&&D.suppressHydrationWarning===!0||mC(p.nodeValue,x)),p||hi(b,!0)}else p=Kf(p).createTextNode(D),p[zr]=b,b.stateNode=p}return Sn(b),null;case 31:if(x=b.memoizedState,p===null||p.memoizedState!==null){if(D=Du(b),x!==null){if(p===null){if(!D)throw Error(r(318));if(p=b.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(557));p[zr]=b}else Fc(),(b.flags&128)===0&&(b.memoizedState=null),b.flags|=4;Sn(b),p=!1}else x=tw(),p!==null&&p.memoizedState!==null&&(p.memoizedState.hydrationErrors=x),p=!0;if(!p)return b.flags&256?(Ri(b),b):(Ri(b),null);if((b.flags&128)!==0)throw Error(r(558))}return Sn(b),null;case 13:if(D=b.memoizedState,p===null||p.memoizedState!==null&&p.memoizedState.dehydrated!==null){if(O=Du(b),D!==null&&D.dehydrated!==null){if(p===null){if(!O)throw Error(r(318));if(O=b.memoizedState,O=O!==null?O.dehydrated:null,!O)throw Error(r(317));O[zr]=b}else Fc(),(b.flags&128)===0&&(b.memoizedState=null),b.flags|=4;Sn(b),O=!1}else O=tw(),p!==null&&p.memoizedState!==null&&(p.memoizedState.hydrationErrors=O),O=!0;if(!O)return b.flags&256?(Ri(b),b):(Ri(b),null)}return Ri(b),(b.flags&128)!==0?(b.lanes=x,b):(x=D!==null,p=p!==null&&p.memoizedState!==null,x&&(D=b.child,O=null,D.alternate!==null&&D.alternate.memoizedState!==null&&D.alternate.memoizedState.cachePool!==null&&(O=D.alternate.memoizedState.cachePool.pool),B=null,D.memoizedState!==null&&D.memoizedState.cachePool!==null&&(B=D.memoizedState.cachePool.pool),B!==O&&(D.flags|=2048)),x!==p&&x&&(b.child.flags|=8192),nm(b,b.updateQueue),Sn(b),null);case 4:return Ee(),p===null&&Bi(b.stateNode.containerInfo),Sn(b),null;case 10:return Is(b.type),Sn(b),null;case 19:if(fe(ar),D=b.memoizedState,D===null)return Sn(b),null;if(O=(b.flags&128)!==0,B=D.rendering,B===null)if(O)qu(D,!1);else{if(qn!==0||p!==null&&(p.flags&128)!==0)for(p=b.child;p!==null;){if(B=js(p),B!==null){for(b.flags|=128,qu(D,!1),p=B.updateQueue,b.updateQueue=p,nm(b,p),b.subtreeFlags=0,p=x,x=b.child;x!==null;)Yv(x,p),x=x.sibling;return ve(ar,ar.current&1|2),Ht&&ro(b,D.treeForkCount),b.child}p=p.sibling}D.tail!==null&&Gt()>eh&&(b.flags|=128,O=!0,qu(D,!1),b.lanes=4194304)}else{if(!O)if(p=js(B),p!==null){if(b.flags|=128,O=!0,p=p.updateQueue,b.updateQueue=p,nm(b,p),qu(D,!0),D.tail===null&&D.tailMode==="hidden"&&!B.alternate&&!Ht)return Sn(b),null}else 2*Gt()-D.renderingStartTime>eh&&x!==536870912&&(b.flags|=128,O=!0,qu(D,!1),b.lanes=4194304);D.isBackwards?(B.sibling=b.child,b.child=B):(p=D.last,p!==null?p.sibling=B:b.child=B,D.last=B)}return D.tail!==null?(p=D.tail,D.rendering=p,D.tail=p.sibling,D.renderingStartTime=Gt(),p.sibling=null,x=ar.current,ve(ar,O?x&1|2:x&1),Ht&&ro(b,D.treeForkCount),p):(Sn(b),null);case 22:case 23:return Ri(b),Nu(),D=b.memoizedState!==null,p!==null?p.memoizedState!==null!==D&&(b.flags|=8192):D&&(b.flags|=8192),D?(x&536870912)!==0&&(b.flags&128)===0&&(Sn(b),b.subtreeFlags&6&&(b.flags|=8192)):Sn(b),x=b.updateQueue,x!==null&&nm(b,x.retryQueue),x=null,p!==null&&p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(x=p.memoizedState.cachePool.pool),D=null,b.memoizedState!==null&&b.memoizedState.cachePool!==null&&(D=b.memoizedState.cachePool.pool),D!==x&&(b.flags|=2048),p!==null&&fe(jc),null;case 24:return x=null,p!==null&&(x=p.memoizedState.cache),b.memoizedState.cache!==x&&(b.flags|=2048),Is(Xn),Sn(b),null;case 25:return null;case 30:return null}throw Error(r(156,b.tag))}function KD(p,b){switch(dn(b),b.tag){case 1:return p=b.flags,p&65536?(b.flags=p&-65537|128,b):null;case 3:return Is(Xn),Ee(),p=b.flags,(p&65536)!==0&&(p&128)===0?(b.flags=p&-65537|128,b):null;case 26:case 27:case 5:return Ze(b),null;case 31:if(b.memoizedState!==null){if(Ri(b),b.alternate===null)throw Error(r(340));Fc()}return p=b.flags,p&65536?(b.flags=p&-65537|128,b):null;case 13:if(Ri(b),p=b.memoizedState,p!==null&&p.dehydrated!==null){if(b.alternate===null)throw Error(r(340));Fc()}return p=b.flags,p&65536?(b.flags=p&-65537|128,b):null;case 19:return fe(ar),null;case 4:return Ee(),null;case 10:return Is(b.type),null;case 22:case 23:return Ri(b),Nu(),p!==null&&fe(jc),p=b.flags,p&65536?(b.flags=p&-65537|128,b):null;case 24:return Is(Xn),null;case 25:return null;default:return null}}function hx(p,b){switch(dn(b),b.tag){case 3:Is(Xn),Ee();break;case 26:case 27:case 5:Ze(b);break;case 4:Ee();break;case 31:b.memoizedState!==null&&Ri(b);break;case 13:Ri(b);break;case 19:fe(ar);break;case 10:Is(b.type);break;case 22:case 23:Ri(b),Nu(),p!==null&&fe(jc);break;case 24:Is(Xn)}}function Ku(p,b){try{var x=b.updateQueue,D=x!==null?x.lastEffect:null;if(D!==null){var O=D.next;x=O;do{if((x.tag&p)===p){D=void 0;var B=x.create,q=x.inst;D=B(),q.destroy=D}x=x.next}while(x!==O)}}catch(oe){fn(b,b.return,oe)}}function Oa(p,b,x){try{var D=b.updateQueue,O=D!==null?D.lastEffect:null;if(O!==null){var B=O.next;D=B;do{if((D.tag&p)===p){var q=D.inst,oe=q.destroy;if(oe!==void 0){q.destroy=void 0,O=b;var pe=x,ye=oe;try{ye()}catch(Ne){fn(O,pe,Ne)}}}D=D.next}while(D!==B)}}catch(Ne){fn(b,b.return,Ne)}}function Bf(p){var b=p.updateQueue;if(b!==null){var x=p.stateNode;try{uw(b,x)}catch(D){fn(p,p.return,D)}}}function Uw(p,b,x){x.props=Yc(p.type,p.memoizedProps),x.state=p.memoizedState;try{x.componentWillUnmount()}catch(D){fn(p,b,D)}}function jf(p,b){try{var x=p.ref;if(x!==null){switch(p.tag){case 26:case 27:case 5:var D=p.stateNode;break;case 30:D=p.stateNode;break;default:D=p.stateNode}typeof x=="function"?p.refCleanup=x(D):x.current=D}}catch(O){fn(p,b,O)}}function ao(p,b){var x=p.ref,D=p.refCleanup;if(x!==null)if(typeof D=="function")try{D()}catch(O){fn(p,b,O)}finally{p.refCleanup=null,p=p.alternate,p!=null&&(p.refCleanup=null)}else if(typeof x=="function")try{x(null)}catch(O){fn(p,b,O)}else x.current=null}function fx(p){var b=p.type,x=p.memoizedProps,D=p.stateNode;try{e:switch(b){case"button":case"input":case"select":case"textarea":x.autoFocus&&D.focus();break e;case"img":x.src?D.src=x.src:x.srcSet&&(D.srcset=x.srcSet)}}catch(O){fn(p,p.return,O)}}function rm(p,b,x){try{var D=p.stateNode;n2(D,p.type,x,b),D[Ei]=b}catch(O){fn(p,p.return,O)}}function px(p){return p.tag===5||p.tag===3||p.tag===26||p.tag===27&&Fl(p.type)||p.tag===4}function Yu(p){e:for(;;){for(;p.sibling===null;){if(p.return===null||px(p.return))return null;p=p.return}for(p.sibling.return=p.return,p=p.sibling;p.tag!==5&&p.tag!==6&&p.tag!==18;){if(p.tag===27&&Fl(p.type)||p.flags&2||p.child===null||p.tag===4)continue e;p.child.return=p,p=p.child}if(!(p.flags&2))return p.stateNode}}function Ww(p,b,x){var D=p.tag;if(D===5||D===6)p=p.stateNode,b?(x.nodeType===9?x.body:x.nodeName==="HTML"?x.ownerDocument.body:x).insertBefore(p,b):(b=x.nodeType===9?x.body:x.nodeName==="HTML"?x.ownerDocument.body:x,b.appendChild(p),x=x._reactRootContainer,x!=null||b.onclick!==null||(b.onclick=ka));else if(D!==4&&(D===27&&Fl(p.type)&&(x=p.stateNode,b=null),p=p.child,p!==null))for(Ww(p,b,x),p=p.sibling;p!==null;)Ww(p,b,x),p=p.sibling}function im(p,b,x){var D=p.tag;if(D===5||D===6)p=p.stateNode,b?x.insertBefore(p,b):x.appendChild(p);else if(D!==4&&(D===27&&Fl(p.type)&&(x=p.stateNode),p=p.child,p!==null))for(im(p,b,x),p=p.sibling;p!==null;)im(p,b,x),p=p.sibling}function $w(p){var b=p.stateNode,x=p.memoizedProps;try{for(var D=p.type,O=b.attributes;O.length;)b.removeAttributeNode(O[0]);Hr(b,D,x),b[zr]=p,b[Ei]=x}catch(B){fn(p,p.return,B)}}var Hs=!1,mr=!1,qw=!1,gx=typeof WeakSet=="function"?WeakSet:Set,bn=null;function YD(p,b){if(p=p.containerInfo,bC=Jf,p=Rk(p),Sg(p)){if("selectionStart"in p)var x={start:p.selectionStart,end:p.selectionEnd};else e:{x=(x=p.ownerDocument)&&x.defaultView||window;var D=x.getSelection&&x.getSelection();if(D&&D.rangeCount!==0){x=D.anchorNode;var O=D.anchorOffset,B=D.focusNode;D=D.focusOffset;try{x.nodeType,B.nodeType}catch{x=null;break e}var q=0,oe=-1,pe=-1,ye=0,Ne=0,Be=p,Ae=null;t:for(;;){for(var Re;Be!==x||O!==0&&Be.nodeType!==3||(oe=q+O),Be!==B||D!==0&&Be.nodeType!==3||(pe=q+D),Be.nodeType===3&&(q+=Be.nodeValue.length),(Re=Be.firstChild)!==null;)Ae=Be,Be=Re;for(;;){if(Be===p)break t;if(Ae===x&&++ye===O&&(oe=q),Ae===B&&++Ne===D&&(pe=q),(Re=Be.nextSibling)!==null)break;Be=Ae,Ae=Be.parentNode}Be=Re}x=oe===-1||pe===-1?null:{start:oe,end:pe}}else x=null}x=x||{start:0,end:0}}else x=null;for(vC={focusedElem:p,selectionRange:x},Jf=!1,bn=b;bn!==null;)if(b=bn,p=b.child,(b.subtreeFlags&1028)!==0&&p!==null)p.return=b,bn=p;else for(;bn!==null;){switch(b=bn,B=b.alternate,p=b.flags,b.tag){case 0:if((p&4)!==0&&(p=b.updateQueue,p=p!==null?p.events:null,p!==null))for(x=0;x<p.length;x++)O=p[x],O.ref.impl=O.nextImpl;break;case 11:case 15:break;case 1:if((p&1024)!==0&&B!==null){p=void 0,x=b,O=B.memoizedProps,B=B.memoizedState,D=x.stateNode;try{var Je=Yc(x.type,O);p=D.getSnapshotBeforeUpdate(Je,B),D.__reactInternalSnapshotBeforeUpdate=p}catch(gt){fn(x,x.return,gt)}}break;case 3:if((p&1024)!==0){if(p=b.stateNode.containerInfo,x=p.nodeType,x===9)wm(p);else if(x===1)switch(p.nodeName){case"HEAD":case"HTML":case"BODY":wm(p);break;default:p.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((p&1024)!==0)throw Error(r(163))}if(p=b.sibling,p!==null){p.return=b.return,bn=p;break}bn=b.return}}function Fa(p,b,x){var D=x.flags;switch(x.tag){case 0:case 11:case 15:Gs(p,x),D&4&&Ku(5,x);break;case 1:if(Gs(p,x),D&4)if(p=x.stateNode,b===null)try{p.componentDidMount()}catch(q){fn(x,x.return,q)}else{var O=Yc(x.type,b.memoizedProps);b=b.memoizedState;try{p.componentDidUpdate(O,b,p.__reactInternalSnapshotBeforeUpdate)}catch(q){fn(x,x.return,q)}}D&64&&Bf(x),D&512&&jf(x,x.return);break;case 3:if(Gs(p,x),D&64&&(p=x.updateQueue,p!==null)){if(b=null,x.child!==null)switch(x.child.tag){case 27:case 5:b=x.child.stateNode;break;case 1:b=x.child.stateNode}try{uw(p,b)}catch(q){fn(x,x.return,q)}}break;case 27:b===null&&D&4&&$w(x);case 26:case 5:Gs(p,x),b===null&&D&4&&fx(x),D&512&&jf(x,x.return);break;case 12:Gs(p,x);break;case 31:Gs(p,x),D&4&&Vs(p,x);break;case 13:Gs(p,x),D&4&&El(p,x),D&64&&(p=x.memoizedState,p!==null&&(p=p.dehydrated,p!==null&&(x=JD.bind(null,x),Gx(p,x))));break;case 22:if(D=x.memoizedState!==null||Hs,!D){b=b!==null&&b.memoizedState!==null||mr,O=Hs;var B=mr;Hs=D,(mr=b)&&!B?Fo(p,x,(x.subtreeFlags&8772)!==0):Gs(p,x),Hs=O,mr=B}break;case 30:break;default:Gs(p,x)}}function _l(p){var b=p.alternate;b!==null&&(p.alternate=null,_l(b)),p.child=null,p.deletions=null,p.sibling=null,p.tag===5&&(b=p.stateNode,b!==null&&wa(b)),p.stateNode=null,p.return=null,p.dependencies=null,p.memoizedProps=null,p.memoizedState=null,p.pendingProps=null,p.stateNode=null,p.updateQueue=null}var vn=null,It=!1;function xr(p,b,x){for(x=x.child;x!==null;)on(p,b,x),x=x.sibling}function on(p,b,x){if(Qr&&typeof Qr.onCommitFiberUnmount=="function")try{Qr.onCommitFiberUnmount(kc,x)}catch{}switch(x.tag){case 26:mr||ao(x,b),xr(p,b,x),x.memoizedState?x.memoizedState.count--:x.stateNode&&(x=x.stateNode,x.parentNode.removeChild(x));break;case 27:mr||ao(x,b);var D=vn,O=It;Fl(x.type)&&(vn=x.stateNode,It=!1),xr(p,b,x),ah(x.stateNode),vn=D,It=O;break;case 5:mr||ao(x,b);case 6:if(D=vn,O=It,vn=null,xr(p,b,x),vn=D,It=O,vn!==null)if(It)try{(vn.nodeType===9?vn.body:vn.nodeName==="HTML"?vn.ownerDocument.body:vn).removeChild(x.stateNode)}catch(B){fn(x,b,B)}else try{vn.removeChild(x.stateNode)}catch(B){fn(x,b,B)}break;case 18:vn!==null&&(It?(p=vn,Hx(p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p,x.stateNode),od(p)):Hx(vn,x.stateNode));break;case 4:D=vn,O=It,vn=x.stateNode.containerInfo,It=!0,xr(p,b,x),vn=D,It=O;break;case 0:case 11:case 14:case 15:Oa(2,x,b),mr||Oa(4,x,b),xr(p,b,x);break;case 1:mr||(ao(x,b),D=x.stateNode,typeof D.componentWillUnmount=="function"&&Uw(x,b,D)),xr(p,b,x);break;case 21:xr(p,b,x);break;case 22:mr=(D=mr)||x.memoizedState!==null,xr(p,b,x),mr=D;break;default:xr(p,b,x)}}function Vs(p,b){if(b.memoizedState===null&&(p=b.alternate,p!==null&&(p=p.memoizedState,p!==null))){p=p.dehydrated;try{od(p)}catch(x){fn(b,b.return,x)}}}function El(p,b){if(b.memoizedState===null&&(p=b.alternate,p!==null&&(p=p.memoizedState,p!==null&&(p=p.dehydrated,p!==null))))try{od(p)}catch(x){fn(b,b.return,x)}}function He(p){switch(p.tag){case 31:case 13:case 19:var b=p.stateNode;return b===null&&(b=p.stateNode=new gx),b;case 22:return p=p.stateNode,b=p._retryCache,b===null&&(b=p._retryCache=new gx),b;default:throw Error(r(435,p.tag))}}function Dl(p,b){var x=He(p);b.forEach(function(D){if(!x.has(D)){x.add(D);var O=Rx.bind(null,p,D);D.then(O,O)}})}function pi(p,b){var x=b.deletions;if(x!==null)for(var D=0;D<x.length;D++){var O=x[D],B=p,q=b,oe=q;e:for(;oe!==null;){switch(oe.tag){case 27:if(Fl(oe.type)){vn=oe.stateNode,It=!1;break e}break;case 5:vn=oe.stateNode,It=!1;break e;case 3:case 4:vn=oe.stateNode.containerInfo,It=!0;break e}oe=oe.return}if(vn===null)throw Error(r(160));on(B,q,O),vn=null,It=!1,B=O.alternate,B!==null&&(B.return=null),O.return=null}if(b.subtreeFlags&13886)for(b=b.child;b!==null;)Kw(b,p),b=b.sibling}var Oo=null;function Kw(p,b){var x=p.alternate,D=p.flags;switch(p.tag){case 0:case 11:case 14:case 15:pi(b,p),ei(p),D&4&&(Oa(3,p,p.return),Ku(3,p),Oa(5,p,p.return));break;case 1:pi(b,p),ei(p),D&512&&(mr||x===null||ao(x,x.return)),D&64&&Hs&&(p=p.updateQueue,p!==null&&(D=p.callbacks,D!==null&&(x=p.shared.hiddenCallbacks,p.shared.hiddenCallbacks=x===null?D:x.concat(D))));break;case 26:var O=Oo;if(pi(b,p),ei(p),D&512&&(mr||x===null||ao(x,x.return)),D&4){var B=x!==null?x.memoizedState:null;if(D=p.memoizedState,x===null)if(D===null)if(p.stateNode===null){e:{D=p.type,x=p.memoizedProps,O=O.ownerDocument||O;t:switch(D){case"title":B=O.getElementsByTagName("title")[0],(!B||B[ef]||B[zr]||B.namespaceURI==="http://www.w3.org/2000/svg"||B.hasAttribute("itemprop"))&&(B=O.createElement(D),O.head.insertBefore(B,O.querySelector("head > title"))),Hr(B,D,x),B[zr]=p,Ir(B),D=B;break e;case"link":var q=tA("link","href",O).get(D+(x.href||""));if(q){for(var oe=0;oe<q.length;oe++)if(B=q[oe],B.getAttribute("href")===(x.href==null||x.href===""?null:x.href)&&B.getAttribute("rel")===(x.rel==null?null:x.rel)&&B.getAttribute("title")===(x.title==null?null:x.title)&&B.getAttribute("crossorigin")===(x.crossOrigin==null?null:x.crossOrigin)){q.splice(oe,1);break t}}B=O.createElement(D),Hr(B,D,x),O.head.appendChild(B);break;case"meta":if(q=tA("meta","content",O).get(D+(x.content||""))){for(oe=0;oe<q.length;oe++)if(B=q[oe],B.getAttribute("content")===(x.content==null?null:""+x.content)&&B.getAttribute("name")===(x.name==null?null:x.name)&&B.getAttribute("property")===(x.property==null?null:x.property)&&B.getAttribute("http-equiv")===(x.httpEquiv==null?null:x.httpEquiv)&&B.getAttribute("charset")===(x.charSet==null?null:x.charSet)){q.splice(oe,1);break t}}B=O.createElement(D),Hr(B,D,x),O.head.appendChild(B);break;default:throw Error(r(468,D))}B[zr]=p,Ir(B),D=B}p.stateNode=D}else Sm(O,p.type,p.stateNode);else p.stateNode=eA(O,D,p.memoizedProps);else B!==D?(B===null?x.stateNode!==null&&(x=x.stateNode,x.parentNode.removeChild(x)):B.count--,D===null?Sm(O,p.type,p.stateNode):eA(O,D,p.memoizedProps)):D===null&&p.stateNode!==null&&rm(p,p.memoizedProps,x.memoizedProps)}break;case 27:pi(b,p),ei(p),D&512&&(mr||x===null||ao(x,x.return)),x!==null&&D&4&&rm(p,p.memoizedProps,x.memoizedProps);break;case 5:if(pi(b,p),ei(p),D&512&&(mr||x===null||ao(x,x.return)),p.flags&32){O=p.stateNode;try{ss(O,"")}catch(Je){fn(p,p.return,Je)}}D&4&&p.stateNode!=null&&(O=p.memoizedProps,rm(p,O,x!==null?x.memoizedProps:O)),D&1024&&(qw=!0);break;case 6:if(pi(b,p),ei(p),D&4){if(p.stateNode===null)throw Error(r(162));D=p.memoizedProps,x=p.stateNode;try{x.nodeValue=D}catch(Je){fn(p,p.return,Je)}}break;case 3:if(Am=null,O=Oo,Oo=Yf(b.containerInfo),pi(b,p),Oo=O,ei(p),D&4&&x!==null&&x.memoizedState.isDehydrated)try{od(b.containerInfo)}catch(Je){fn(p,p.return,Je)}qw&&(qw=!1,Se(p));break;case 4:D=Oo,Oo=Yf(p.stateNode.containerInfo),pi(b,p),ei(p),Oo=D;break;case 12:pi(b,p),ei(p);break;case 31:pi(b,p),ei(p),D&4&&(D=p.updateQueue,D!==null&&(p.updateQueue=null,Dl(p,D)));break;case 13:pi(b,p),ei(p),p.child.flags&8192&&p.memoizedState!==null!=(x!==null&&x.memoizedState!==null)&&(Vf=Gt()),D&4&&(D=p.updateQueue,D!==null&&(p.updateQueue=null,Dl(p,D)));break;case 22:O=p.memoizedState!==null;var pe=x!==null&&x.memoizedState!==null,ye=Hs,Ne=mr;if(Hs=ye||O,mr=Ne||pe,pi(b,p),mr=Ne,Hs=ye,ei(p),D&8192)e:for(b=p.stateNode,b._visibility=O?b._visibility&-2:b._visibility|1,O&&(x===null||pe||Hs||mr||Zc(p)),x=null,b=p;;){if(b.tag===5||b.tag===26){if(x===null){pe=x=b;try{if(B=pe.stateNode,O)q=B.style,typeof q.setProperty=="function"?q.setProperty("display","none","important"):q.display="none";else{oe=pe.stateNode;var Be=pe.memoizedProps.style,Ae=Be!=null&&Be.hasOwnProperty("display")?Be.display:null;oe.style.display=Ae==null||typeof Ae=="boolean"?"":(""+Ae).trim()}}catch(Je){fn(pe,pe.return,Je)}}}else if(b.tag===6){if(x===null){pe=b;try{pe.stateNode.nodeValue=O?"":pe.memoizedProps}catch(Je){fn(pe,pe.return,Je)}}}else if(b.tag===18){if(x===null){pe=b;try{var Re=pe.stateNode;O?Vx(Re,!0):Vx(pe.stateNode,!1)}catch(Je){fn(pe,pe.return,Je)}}}else if((b.tag!==22&&b.tag!==23||b.memoizedState===null||b===p)&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===p)break e;for(;b.sibling===null;){if(b.return===null||b.return===p)break e;x===b&&(x=null),b=b.return}x===b&&(x=null),b.sibling.return=b.return,b=b.sibling}D&4&&(D=p.updateQueue,D!==null&&(x=D.retryQueue,x!==null&&(D.retryQueue=null,Dl(p,x))));break;case 19:pi(b,p),ei(p),D&4&&(D=p.updateQueue,D!==null&&(p.updateQueue=null,Dl(p,D)));break;case 30:break;case 21:break;default:pi(b,p),ei(p)}}function ei(p){var b=p.flags;if(b&2){try{for(var x,D=p.return;D!==null;){if(px(D)){x=D;break}D=D.return}if(x==null)throw Error(r(160));switch(x.tag){case 27:var O=x.stateNode,B=Yu(p);im(p,B,O);break;case 5:var q=x.stateNode;x.flags&32&&(ss(q,""),x.flags&=-33);var oe=Yu(p);im(p,oe,q);break;case 3:case 4:var pe=x.stateNode.containerInfo,ye=Yu(p);Ww(p,ye,pe);break;default:throw Error(r(161))}}catch(Ne){fn(p,p.return,Ne)}p.flags&=-3}b&4096&&(p.flags&=-4097)}function Se(p){if(p.subtreeFlags&1024)for(p=p.child;p!==null;){var b=p;Se(b),b.tag===5&&b.flags&1024&&b.stateNode.reset(),p=p.sibling}}function Gs(p,b){if(b.subtreeFlags&8772)for(b=b.child;b!==null;)Fa(p,b.alternate,b),b=b.sibling}function Zc(p){for(p=p.child;p!==null;){var b=p;switch(b.tag){case 0:case 11:case 14:case 15:Oa(4,b,b.return),Zc(b);break;case 1:ao(b,b.return);var x=b.stateNode;typeof x.componentWillUnmount=="function"&&Uw(b,b.return,x),Zc(b);break;case 27:ah(b.stateNode);case 26:case 5:ao(b,b.return),Zc(b);break;case 22:b.memoizedState===null&&Zc(b);break;case 30:Zc(b);break;default:Zc(b)}p=p.sibling}}function Fo(p,b,x){for(x=x&&(b.subtreeFlags&8772)!==0,b=b.child;b!==null;){var D=b.alternate,O=p,B=b,q=B.flags;switch(B.tag){case 0:case 11:case 15:Fo(O,B,x),Ku(4,B);break;case 1:if(Fo(O,B,x),D=B,O=D.stateNode,typeof O.componentDidMount=="function")try{O.componentDidMount()}catch(ye){fn(D,D.return,ye)}if(D=B,O=D.updateQueue,O!==null){var oe=D.stateNode;try{var pe=O.shared.hiddenCallbacks;if(pe!==null)for(O.shared.hiddenCallbacks=null,O=0;O<pe.length;O++)Bk(pe[O],oe)}catch(ye){fn(D,D.return,ye)}}x&&q&64&&Bf(B),jf(B,B.return);break;case 27:$w(B);case 26:case 5:Fo(O,B,x),x&&D===null&&q&4&&fx(B),jf(B,B.return);break;case 12:Fo(O,B,x);break;case 31:Fo(O,B,x),x&&q&4&&Vs(O,B);break;case 13:Fo(O,B,x),x&&q&4&&El(O,B);break;case 22:B.memoizedState===null&&Fo(O,B,x),jf(B,B.return);break;case 30:break;default:Fo(O,B,x)}b=b.sibling}}function Yw(p,b){var x=null;p!==null&&p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(x=p.memoizedState.cachePool.pool),p=null,b.memoizedState!==null&&b.memoizedState.cachePool!==null&&(p=b.memoizedState.cachePool.pool),p!==x&&(p!=null&&p.refCount++,x!=null&&_f(x))}function Qw(p,b){p=null,b.alternate!==null&&(p=b.alternate.memoizedState.cache),b=b.memoizedState.cache,b!==p&&(b.refCount++,p!=null&&_f(p))}function ds(p,b,x,D){if(b.subtreeFlags&10256)for(b=b.child;b!==null;)Zw(p,b,x,D),b=b.sibling}function Zw(p,b,x,D){var O=b.flags;switch(b.tag){case 0:case 11:case 15:ds(p,b,x,D),O&2048&&Ku(9,b);break;case 1:ds(p,b,x,D);break;case 3:ds(p,b,x,D),O&2048&&(p=null,b.alternate!==null&&(p=b.alternate.memoizedState.cache),b=b.memoizedState.cache,b!==p&&(b.refCount++,p!=null&&_f(p)));break;case 12:if(O&2048){ds(p,b,x,D),p=b.stateNode;try{var B=b.memoizedProps,q=B.id,oe=B.onPostCommit;typeof oe=="function"&&oe(q,b.alternate===null?"mount":"update",p.passiveEffectDuration,-0)}catch(pe){fn(b,b.return,pe)}}else ds(p,b,x,D);break;case 31:ds(p,b,x,D);break;case 13:ds(p,b,x,D);break;case 23:break;case 22:B=b.stateNode,q=b.alternate,b.memoizedState!==null?B._visibility&2?ds(p,b,x,D):zf(p,b):B._visibility&2?ds(p,b,x,D):(B._visibility|=2,Qu(p,b,x,D,(b.subtreeFlags&10256)!==0||!1)),O&2048&&Yw(q,b);break;case 24:ds(p,b,x,D),O&2048&&Qw(b.alternate,b);break;default:ds(p,b,x,D)}}function Qu(p,b,x,D,O){for(O=O&&((b.subtreeFlags&10256)!==0||!1),b=b.child;b!==null;){var B=p,q=b,oe=x,pe=D,ye=q.flags;switch(q.tag){case 0:case 11:case 15:Qu(B,q,oe,pe,O),Ku(8,q);break;case 23:break;case 22:var Ne=q.stateNode;q.memoizedState!==null?Ne._visibility&2?Qu(B,q,oe,pe,O):zf(B,q):(Ne._visibility|=2,Qu(B,q,oe,pe,O)),O&&ye&2048&&Yw(q.alternate,q);break;case 24:Qu(B,q,oe,pe,O),O&&ye&2048&&Qw(q.alternate,q);break;default:Qu(B,q,oe,pe,O)}b=b.sibling}}function zf(p,b){if(b.subtreeFlags&10256)for(b=b.child;b!==null;){var x=p,D=b,O=D.flags;switch(D.tag){case 22:zf(x,D),O&2048&&Yw(D.alternate,D);break;case 24:zf(x,D),O&2048&&Qw(D.alternate,D);break;default:zf(x,D)}b=b.sibling}}var Zu=8192;function Ml(p,b,x){if(p.subtreeFlags&Zu)for(p=p.child;p!==null;)Xw(p,b,x),p=p.sibling}function Xw(p,b,x){switch(p.tag){case 26:Ml(p,b,x),p.flags&Zu&&p.memoizedState!==null&&ja(x,Oo,p.memoizedState,p.memoizedProps);break;case 5:Ml(p,b,x);break;case 3:case 4:var D=Oo;Oo=Yf(p.stateNode.containerInfo),Ml(p,b,x),Oo=D;break;case 22:p.memoizedState===null&&(D=p.alternate,D!==null&&D.memoizedState!==null?(D=Zu,Zu=16777216,Ml(p,b,x),Zu=D):Ml(p,b,x));break;default:Ml(p,b,x)}}function Jw(p){var b=p.alternate;if(b!==null&&(p=b.child,p!==null)){b.child=null;do b=p.sibling,p.sibling=null,p=b;while(p!==null)}}function Hf(p){var b=p.deletions;if((p.flags&16)!==0){if(b!==null)for(var x=0;x<b.length;x++){var D=b[x];bn=D,tC(D,p)}Jw(p)}if(p.subtreeFlags&10256)for(p=p.child;p!==null;)eC(p),p=p.sibling}function eC(p){switch(p.tag){case 0:case 11:case 15:Hf(p),p.flags&2048&&Oa(9,p,p.return);break;case 3:Hf(p);break;case 12:Hf(p);break;case 22:var b=p.stateNode;p.memoizedState!==null&&b._visibility&2&&(p.return===null||p.return.tag!==13)?(b._visibility&=-3,ti(p)):Hf(p);break;default:Hf(p)}}function ti(p){var b=p.deletions;if((p.flags&16)!==0){if(b!==null)for(var x=0;x<b.length;x++){var D=b[x];bn=D,tC(D,p)}Jw(p)}for(p=p.child;p!==null;){switch(b=p,b.tag){case 0:case 11:case 15:Oa(8,b,b.return),ti(b);break;case 22:x=b.stateNode,x._visibility&2&&(x._visibility&=-3,ti(b));break;default:ti(b)}p=p.sibling}}function tC(p,b){for(;bn!==null;){var x=bn;switch(x.tag){case 0:case 11:case 15:Oa(8,x,b);break;case 23:case 22:if(x.memoizedState!==null&&x.memoizedState.cachePool!==null){var D=x.memoizedState.cachePool.pool;D!=null&&D.refCount++}break;case 24:_f(x.memoizedState.cache)}if(D=x.child,D!==null)D.return=x,bn=D;else e:for(x=p;bn!==null;){D=bn;var O=D.sibling,B=D.return;if(_l(D),D===x){bn=null;break e}if(O!==null){O.return=B,bn=O;break e}bn=B}}}var QD={getCacheForType:function(p){var b=An(Xn),x=b.data.get(p);return x===void 0&&(x=p(),b.data.set(p,x)),x},cacheSignal:function(){return An(Xn).controller.signal}},mx=typeof WeakMap=="function"?WeakMap:Map,Yt=0,_n=null,Lt=null,xt=0,hn=0,lo=null,us=!1,ni=!1,nC=!1,co=0,qn=0,Tl=0,Rl=0,rC=0,uo=0,Xu=0,Ju=null,gi=null,Xc=!1,Vf=0,iC=0,eh=1/0,Gf=null,La=null,br=0,Pl=null,th=null,Us=0,om=0,sm=null,bx=null,Uf=0,oC=null;function Ni(){return(Yt&2)!==0&&xt!==0?xt&-xt:re.T!==null?nd():xc()}function vx(){if(uo===0)if((xt&536870912)===0||Ht){var p=pr;pr<<=1,(pr&3932160)===0&&(pr=262144),uo=p}else uo=536870912;return p=Ti.current,p!==null&&(p.flags|=32),uo}function Oi(p,b,x){(p===_n&&(hn===2||hn===9)||p.cancelPendingCommit!==null)&&(Jc(p,0),Ws(p,xt,uo,!1)),ba(p,x),((Yt&2)===0||p!==_n)&&(p===_n&&((Yt&2)===0&&(Rl|=x),qn===4&&Ws(p,xt,uo,!1)),$s(p))}function sC(p,b,x){if((Yt&6)!==0)throw Error(r(327));var D=!x&&(b&127)===0&&(b&p.expiredLanes)===0||Xh(p,b),O=D?lm(p,b):dC(p,b,!0),B=D;do{if(O===0){ni&&!D&&Ws(p,b,0,!1);break}else{if(x=p.current.alternate,B&&!Cx(x)){O=dC(p,b,!1),B=!1;continue}if(O===2){if(B=b,p.errorRecoveryDisabledLanes&B)var q=0;else q=p.pendingLanes&-536870913,q=q!==0?q:q&536870912?536870912:0;if(q!==0){b=q;e:{var oe=p;O=Ju;var pe=oe.current.memoizedState.isDehydrated;if(pe&&(Jc(oe,q).flags|=256),q=dC(oe,q,!1),q!==2){if(nC&&!pe){oe.errorRecoveryDisabledLanes|=B,Rl|=B,O=4;break e}B=gi,gi=O,B!==null&&(gi===null?gi=B:gi.push.apply(gi,B))}O=q}if(B=!1,O!==2)continue}}if(O===1){Jc(p,0),Ws(p,b,0,!0);break}e:{switch(D=p,B=O,B){case 0:case 1:throw Error(r(345));case 4:if((b&4194048)!==b)break;case 6:Ws(D,b,uo,!us);break e;case 2:gi=null;break;case 3:case 5:break;default:throw Error(r(329))}if((b&62914560)===b&&(O=Vf+300-Gt(),10<O)){if(Ws(D,b,uo,!us),Zh(D,0,!0)!==0)break e;Us=b,D.timeoutHandle=wC(wx.bind(null,D,x,gi,Gf,Xc,b,uo,Rl,Xu,us,B,"Throttled",-0,0),O);break e}wx(D,x,gi,Gf,Xc,b,uo,Rl,Xu,us,B,null,-0,0)}}break}while(!0);$s(p)}function wx(p,b,x,D,O,B,q,oe,pe,ye,Ne,Be,Ae,Re){if(p.timeoutHandle=-1,Be=b.subtreeFlags,Be&8192||(Be&16785408)===16785408){Be={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ka},Xw(b,B,Be);var Je=(B&62914560)===B?Vf-Gt():(B&4194048)===B?iC-Gt():0;if(Je=f2(Be,Je),Je!==null){Us=B,p.cancelPendingCommit=Je(Ax.bind(null,p,b,B,x,D,O,q,oe,pe,Ne,Be,null,Ae,Re)),Ws(p,B,q,!ye);return}}Ax(p,b,B,x,D,O,q,oe,pe)}function Cx(p){for(var b=p;;){var x=b.tag;if((x===0||x===11||x===15)&&b.flags&16384&&(x=b.updateQueue,x!==null&&(x=x.stores,x!==null)))for(var D=0;D<x.length;D++){var O=x[D],B=O.getSnapshot;O=O.value;try{if(!Xi(B(),O))return!1}catch{return!1}}if(x=b.child,b.subtreeFlags&16384&&x!==null)x.return=b,b=x;else{if(b===p)break;for(;b.sibling===null;){if(b.return===null||b.return===p)return!0;b=b.return}b.sibling.return=b.return,b=b.sibling}}return!0}function Ws(p,b,x,D){b&=~rC,b&=~Rl,p.suspendedLanes|=b,p.pingedLanes&=~b,D&&(p.warmLanes|=b),D=p.expirationTimes;for(var O=b;0<O;){var B=31-xn(O),q=1<<B;D[B]=-1,O&=~q}x!==0&&ek(p,x,b)}function nh(){return(Yt&6)===0?(td(0),!1):!0}function am(){if(Lt!==null){if(hn===0)var p=Lt.return;else p=Lt,Sa=Lc=null,zg(p),Vc=null,Mf=0,p=Lt;for(;p!==null;)hx(p.alternate,p),p=p.return;Lt=null}}function Jc(p,b){var x=p.timeoutHandle;x!==-1&&(p.timeoutHandle=-1,o2(x)),x=p.cancelPendingCommit,x!==null&&(p.cancelPendingCommit=null,x()),Us=0,am(),_n=p,Lt=x=Rs(p.current,null),xt=b,hn=0,lo=null,us=!1,ni=Xh(p,b),nC=!1,Xu=uo=rC=Rl=Tl=qn=0,gi=Ju=null,Xc=!1,(b&8)!==0&&(b|=b&32);var D=p.entangledLanes;if(D!==0)for(p=p.entanglements,D&=b;0<D;){var O=31-xn(D),B=1<<O;b|=p[O],D&=~B}return co=b,Hn(),x}function aC(p,b){kt=null,re.H=Gu,b===zc||b===Ef?(b=Ng(),hn=3):b===Ig?(b=Ng(),hn=4):hn=b===Uu?8:b!==null&&typeof b=="object"&&typeof b.then=="function"?6:1,lo=b,Lt===null&&(qn=1,Zg(p,to(b,p.current)))}function yx(){var p=Ti.current;return p===null?!0:(xt&4194048)===xt?io===null:(xt&62914560)===xt||(xt&536870912)!==0?p===io:!1}function lC(){var p=re.H;return re.H=Gu,p===null?Gu:p}function cC(){var p=re.A;return re.A=QD,p}function Wf(){qn=4,us||(xt&4194048)!==xt&&Ti.current!==null||(ni=!0),(Tl&134217727)===0&&(Rl&134217727)===0||_n===null||Ws(_n,xt,uo,!1)}function dC(p,b,x){var D=Yt;Yt|=2;var O=lC(),B=cC();(_n!==p||xt!==b)&&(Gf=null,Jc(p,b)),b=!1;var q=qn;e:do try{if(hn!==0&&Lt!==null){var oe=Lt,pe=lo;switch(hn){case 8:am(),q=6;break e;case 3:case 2:case 9:case 6:Ti.current===null&&(b=!0);var ye=hn;if(hn=0,lo=null,rh(p,oe,pe,ye),x&&ni){q=0;break e}break;default:ye=hn,hn=0,lo=null,rh(p,oe,pe,ye)}}$f(),q=qn;break}catch(Ne){aC(p,Ne)}while(!0);return b&&p.shellSuspendCounter++,Sa=Lc=null,Yt=D,re.H=O,re.A=B,Lt===null&&(_n=null,xt=0,Hn()),q}function $f(){for(;Lt!==null;)kx(Lt)}function lm(p,b){var x=Yt;Yt|=2;var D=lC(),O=cC();_n!==p||xt!==b?(Gf=null,eh=Gt()+500,Jc(p,b)):ni=Xh(p,b);e:do try{if(hn!==0&&Lt!==null){b=Lt;var B=lo;t:switch(hn){case 1:hn=0,lo=null,rh(p,b,B,1);break;case 2:case 9:if(lw(B)){hn=0,lo=null,Il(b);break}b=function(){hn!==2&&hn!==9||_n!==p||(hn=7),$s(p)},B.then(b,b);break e;case 3:hn=7;break e;case 4:hn=5;break e;case 7:lw(B)?(hn=0,lo=null,Il(b)):(hn=0,lo=null,rh(p,b,B,7));break;case 5:var q=null;switch(Lt.tag){case 26:q=Lt.memoizedState;case 5:case 27:var oe=Lt;if(q?_m(q):oe.stateNode.complete){hn=0,lo=null;var pe=oe.sibling;if(pe!==null)Lt=pe;else{var ye=oe.return;ye!==null?(Lt=ye,cm(ye)):Lt=null}break t}}hn=0,lo=null,rh(p,b,B,5);break;case 6:hn=0,lo=null,rh(p,b,B,6);break;case 8:am(),qn=6;break e;default:throw Error(r(462))}}ZD();break}catch(Ne){aC(p,Ne)}while(!0);return Sa=Lc=null,re.H=D,re.A=O,Yt=x,Lt!==null?0:(_n=null,xt=0,Hn(),qn)}function ZD(){for(;Lt!==null&&!Kt();)kx(Lt)}function kx(p){var b=dx(p.alternate,p,co);p.memoizedProps=p.pendingProps,b===null?cm(p):Lt=b}function Il(p){var b=p,x=b.alternate;switch(b.tag){case 15:case 0:b=ox(x,b,b.pendingProps,b.type,void 0,xt);break;case 11:b=ox(x,b,b.pendingProps,b.type.render,b.ref,xt);break;case 5:zg(b);default:hx(x,b),b=Lt=Yv(b,co),b=dx(x,b,co)}p.memoizedProps=p.pendingProps,b===null?cm(p):Lt=b}function rh(p,b,x,D){Sa=Lc=null,zg(b),Vc=null,Mf=0;var O=b.return;try{if(UD(p,O,b,x,xt)){qn=1,Zg(p,to(x,p.current)),Lt=null;return}}catch(B){if(O!==null)throw Lt=O,B;qn=1,Zg(p,to(x,p.current)),Lt=null;return}b.flags&32768?(Ht||D===1?p=!0:ni||(xt&536870912)!==0?p=!1:(us=p=!0,(D===2||D===9||D===3||D===6)&&(D=Ti.current,D!==null&&D.tag===13&&(D.flags|=16384))),xx(b,p)):cm(b)}function cm(p){var b=p;do{if((b.flags&32768)!==0){xx(b,us);return}p=b.return;var x=qD(b.alternate,b,co);if(x!==null){Lt=x;return}if(b=b.sibling,b!==null){Lt=b;return}Lt=b=p}while(b!==null);qn===0&&(qn=5)}function xx(p,b){do{var x=KD(p.alternate,p);if(x!==null){x.flags&=32767,Lt=x;return}if(x=p.return,x!==null&&(x.flags|=32768,x.subtreeFlags=0,x.deletions=null),!b&&(p=p.sibling,p!==null)){Lt=p;return}Lt=p=x}while(p!==null);qn=6,Lt=null}function Ax(p,b,x,D,O,B,q,oe,pe){p.cancelPendingCommit=null;do dm();while(br!==0);if((Yt&6)!==0)throw Error(r(327));if(b!==null){if(b===p.current)throw Error(r(177));if(B=b.lanes|b.childLanes,B|=Eg,hg(p,x,B,q,oe,pe),p===_n&&(Lt=_n=null,xt=0),th=b,Pl=p,Us=x,om=B,sm=O,bx=D,(b.subtreeFlags&10256)!==0||(b.flags&10256)!==0?(p.callbackNode=null,p.callbackPriority=0,e2(cn,function(){return Nl(),null})):(p.callbackNode=null,p.callbackPriority=0),D=(b.flags&13878)!==0,(b.subtreeFlags&13878)!==0||D){D=re.T,re.T=null,O=ee.p,ee.p=2,q=Yt,Yt|=4;try{YD(p,b,x)}finally{Yt=q,ee.p=O,re.T=D}}br=1,Sx(),_x(),Ex()}}function Sx(){if(br===1){br=0;var p=Pl,b=th,x=(b.flags&13878)!==0;if((b.subtreeFlags&13878)!==0||x){x=re.T,re.T=null;var D=ee.p;ee.p=2;var O=Yt;Yt|=4;try{Kw(b,p);var B=vC,q=Rk(p.containerInfo),oe=B.focusedElem,pe=B.selectionRange;if(q!==oe&&oe&&oe.ownerDocument&&Wv(oe.ownerDocument.documentElement,oe)){if(pe!==null&&Sg(oe)){var ye=pe.start,Ne=pe.end;if(Ne===void 0&&(Ne=ye),"selectionStart"in oe)oe.selectionStart=ye,oe.selectionEnd=Math.min(Ne,oe.value.length);else{var Be=oe.ownerDocument||document,Ae=Be&&Be.defaultView||window;if(Ae.getSelection){var Re=Ae.getSelection(),Je=oe.textContent.length,gt=Math.min(pe.start,Je),en=pe.end===void 0?gt:Math.min(pe.end,Je);!Re.extend&&gt>en&&(q=en,en=gt,gt=q);var we=Tk(oe,gt),be=Tk(oe,en);if(we&&be&&(Re.rangeCount!==1||Re.anchorNode!==we.node||Re.anchorOffset!==we.offset||Re.focusNode!==be.node||Re.focusOffset!==be.offset)){var ke=Be.createRange();ke.setStart(we.node,we.offset),Re.removeAllRanges(),gt>en?(Re.addRange(ke),Re.extend(be.node,be.offset)):(ke.setEnd(be.node,be.offset),Re.addRange(ke))}}}}for(Be=[],Re=oe;Re=Re.parentNode;)Re.nodeType===1&&Be.push({element:Re,left:Re.scrollLeft,top:Re.scrollTop});for(typeof oe.focus=="function"&&oe.focus(),oe=0;oe<Be.length;oe++){var Le=Be[oe];Le.element.scrollLeft=Le.left,Le.element.scrollTop=Le.top}}Jf=!!bC,vC=bC=null}finally{Yt=O,ee.p=D,re.T=x}}p.current=b,br=2}}function _x(){if(br===2){br=0;var p=Pl,b=th,x=(b.flags&8772)!==0;if((b.subtreeFlags&8772)!==0||x){x=re.T,re.T=null;var D=ee.p;ee.p=2;var O=Yt;Yt|=4;try{Fa(p,b.alternate,b)}finally{Yt=O,ee.p=D,re.T=x}}br=3}}function Ex(){if(br===4||br===3){br=0,di();var p=Pl,b=th,x=Us,D=bx;(b.subtreeFlags&10256)!==0||(b.flags&10256)!==0?br=5:(br=0,th=Pl=null,Dx(p,p.pendingLanes));var O=p.pendingLanes;if(O===0&&(La=null),yv(x),b=b.stateNode,Qr&&typeof Qr.onCommitFiberRoot=="function")try{Qr.onCommitFiberRoot(kc,b,void 0,(b.current.flags&128)===128)}catch{}if(D!==null){b=re.T,O=ee.p,ee.p=2,re.T=null;try{for(var B=p.onRecoverableError,q=0;q<D.length;q++){var oe=D[q];B(oe.value,{componentStack:oe.stack})}}finally{re.T=b,ee.p=O}}(Us&3)!==0&&dm(),$s(p),O=p.pendingLanes,(x&261930)!==0&&(O&42)!==0?p===oC?Uf++:(Uf=0,oC=p):Uf=0,td(0)}}function Dx(p,b){(p.pooledCacheLanes&=b)===0&&(b=p.pooledCache,b!=null&&(p.pooledCache=null,_f(b)))}function dm(){return Sx(),_x(),Ex(),Nl()}function Nl(){if(br!==5)return!1;var p=Pl,b=om;om=0;var x=yv(Us),D=re.T,O=ee.p;try{ee.p=32>x?32:x,re.T=null,x=sm,sm=null;var B=Pl,q=Us;if(br=0,th=Pl=null,Us=0,(Yt&6)!==0)throw Error(r(331));var oe=Yt;if(Yt|=4,eC(B.current),Zw(B,B.current,q,x),Yt=oe,td(0,!1),Qr&&typeof Qr.onPostCommitFiberRoot=="function")try{Qr.onPostCommitFiberRoot(kc,B)}catch{}return!0}finally{ee.p=O,re.T=D,Dx(p,b)}}function Mx(p,b,x){b=to(x,b),b=Xg(p.stateNode,b,2),p=Et(p,b,2),p!==null&&(ba(p,2),$s(p))}function fn(p,b,x){if(p.tag===3)Mx(p,p,x);else for(;b!==null;){if(b.tag===3){Mx(b,p,x);break}else if(b.tag===1){var D=b.stateNode;if(typeof b.type.getDerivedStateFromError=="function"||typeof D.componentDidCatch=="function"&&(La===null||!La.has(D))){p=to(x,p),x=nx(2),D=Et(b,x,2),D!==null&&(rx(x,D,b,p),ba(D,2),$s(D));break}}b=b.return}}function um(p,b,x){var D=p.pingCache;if(D===null){D=p.pingCache=new mx;var O=new Set;D.set(b,O)}else O=D.get(b),O===void 0&&(O=new Set,D.set(b,O));O.has(x)||(nC=!0,O.add(x),p=XD.bind(null,p,b,x),b.then(p,p))}function XD(p,b,x){var D=p.pingCache;D!==null&&D.delete(b),p.pingedLanes|=p.suspendedLanes&x,p.warmLanes&=~x,_n===p&&(xt&x)===x&&(qn===4||qn===3&&(xt&62914560)===xt&&300>Gt()-Vf?(Yt&2)===0&&Jc(p,0):rC|=x,Xu===xt&&(Xu=0)),$s(p)}function Tx(p,b){b===0&&(b=_i()),p=To(p,b),p!==null&&(ba(p,b),$s(p))}function JD(p){var b=p.memoizedState,x=0;b!==null&&(x=b.retryLane),Tx(p,x)}function Rx(p,b){var x=0;switch(p.tag){case 31:case 13:var D=p.stateNode,O=p.memoizedState;O!==null&&(x=O.retryLane);break;case 19:D=p.stateNode;break;case 22:D=p.stateNode._retryCache;break;default:throw Error(r(314))}D!==null&&D.delete(b),Tx(p,x)}function e2(p,b){return mt(p,b)}var hm=null,ed=null,uC=!1,fm=!1,hC=!1,Ol=0;function $s(p){p!==ed&&p.next===null&&(ed===null?hm=ed=p:ed=ed.next=p),fm=!0,uC||(uC=!0,Ix())}function td(p,b){if(!hC&&fm){hC=!0;do for(var x=!1,D=hm;D!==null;){if(p!==0){var O=D.pendingLanes;if(O===0)var B=0;else{var q=D.suspendedLanes,oe=D.pingedLanes;B=(1<<31-xn(42|p)+1)-1,B&=O&~(q&~oe),B=B&201326741?B&201326741|1:B?B|2:0}B!==0&&(x=!0,ih(D,B))}else B=xt,B=Zh(D,D===_n?B:0,D.cancelPendingCommit!==null||D.timeoutHandle!==-1),(B&3)===0||Xh(D,B)||(x=!0,ih(D,B));D=D.next}while(x);hC=!1}}function Px(){Fi()}function Fi(){fm=uC=!1;var p=0;Ol!==0&&i2()&&(p=Ol);for(var b=Gt(),x=null,D=hm;D!==null;){var O=D.next,B=pm(D,b);B===0?(D.next=null,x===null?hm=O:x.next=O,O===null&&(ed=x)):(x=D,(p!==0||(B&3)!==0)&&(fm=!0)),D=O}br!==0&&br!==5||td(p),Ol!==0&&(Ol=0)}function pm(p,b){for(var x=p.suspendedLanes,D=p.pingedLanes,O=p.expirationTimes,B=p.pendingLanes&-62914561;0<B;){var q=31-xn(B),oe=1<<q,pe=O[q];pe===-1?((oe&x)===0||(oe&D)!==0)&&(O[q]=CD(oe,b)):pe<=b&&(p.expiredLanes|=oe),B&=~oe}if(b=_n,x=xt,x=Zh(p,p===b?x:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),D=p.callbackNode,x===0||p===b&&(hn===2||hn===9)||p.cancelPendingCommit!==null)return D!==null&&D!==null&&bt(D),p.callbackNode=null,p.callbackPriority=0;if((x&3)===0||Xh(p,x)){if(b=x&-x,b===p.callbackPriority)return b;switch(D!==null&&bt(D),yv(x)){case 2:case 8:x=So;break;case 32:x=cn;break;case 268435456:x=Es;break;default:x=cn}return D=fC.bind(null,p),x=mt(x,D),p.callbackPriority=b,p.callbackNode=x,b}return D!==null&&D!==null&&bt(D),p.callbackPriority=2,p.callbackNode=null,2}function fC(p,b){if(br!==0&&br!==5)return p.callbackNode=null,p.callbackPriority=0,null;var x=p.callbackNode;if(dm()&&p.callbackNode!==x)return null;var D=xt;return D=Zh(p,p===_n?D:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),D===0?null:(sC(p,D,b),pm(p,Gt()),p.callbackNode!=null&&p.callbackNode===x?fC.bind(null,p):null)}function ih(p,b){if(dm())return null;sC(p,b,!0)}function Ix(){s2(function(){(Yt&6)!==0?mt(Br,Px):Fi()})}function nd(){if(Ol===0){var p=Xr;p===0&&(p=$n,$n<<=1,($n&261888)===0&&($n=256)),Ol=p}return Ol}function oh(p){return p==null||typeof p=="symbol"||typeof p=="boolean"?null:typeof p=="function"?p:ya(""+p)}function pC(p,b){var x=b.ownerDocument.createElement("input");return x.name=b.name,x.value=b.value,p.id&&x.setAttribute("form",p.id),b.parentNode.insertBefore(x,b),p=new FormData(p),x.parentNode.removeChild(x),p}function Qt(p,b,x,D,O){if(b==="submit"&&x&&x.stateNode===O){var B=oh((O[Ei]||null).action),q=D.submitter;q&&(b=(b=q[Ei]||null)?oh(b.formAction):q.getAttribute("formAction"),b!==null&&(B=b,q=null));var oe=new df("action","action",null,D,O);p.push({event:oe,listeners:[{instance:null,listener:function(){if(D.defaultPrevented){if(Ol!==0){var pe=q?pC(O,q):new FormData(O);Ta(x,{pending:!0,data:pe,method:O.method,action:B},null,pe)}}else typeof B=="function"&&(oe.preventDefault(),pe=q?pC(O,q):new FormData(O),Ta(x,{pending:!0,data:pe,method:O.method,action:B},B,pe))},currentTarget:O}]})}}for(var vr=0;vr<_g.length;vr++){var sn=_g[vr],Jn=sn.toLowerCase(),Li=sn[0].toUpperCase()+sn.slice(1);_t(Jn,"on"+Li)}_t(qv,"onAnimationEnd"),_t(Ji,"onAnimationIteration"),_t(Ik,"onAnimationStart"),_t("dblclick","onDoubleClick"),_t("focusin","onFocus"),_t("focusout","onBlur"),_t(Nk,"onTransitionRun"),_t(Ok,"onTransitionStart"),_t(or,"onTransitionCancel"),_t(gf,"onTransitionEnd"),_o("onMouseEnter",["mouseout","mouseover"]),_o("onMouseLeave",["mouseout","mouseover"]),_o("onPointerEnter",["pointerout","pointerover"]),_o("onPointerLeave",["pointerout","pointerover"]),Ac("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ac("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ac("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ac("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ac("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ac("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dr=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(sh));function wr(p,b){b=(b&4)!==0;for(var x=0;x<p.length;x++){var D=p[x],O=D.event;D=D.listeners;e:{var B=void 0;if(b)for(var q=D.length-1;0<=q;q--){var oe=D[q],pe=oe.instance,ye=oe.currentTarget;if(oe=oe.listener,pe!==B&&O.isPropagationStopped())break e;B=oe,O.currentTarget=ye;try{B(O)}catch(Ne){Ic(Ne)}O.currentTarget=null,B=pe}else for(q=0;q<D.length;q++){if(oe=D[q],pe=oe.instance,ye=oe.currentTarget,oe=oe.listener,pe!==B&&O.isPropagationStopped())break e;B=oe,O.currentTarget=ye;try{B(O)}catch(Ne){Ic(Ne)}O.currentTarget=null,B=pe}}}}function wt(p,b){var x=b[va];x===void 0&&(x=b[va]=new Set);var D=p+"__bubble";x.has(D)||(Nx(b,p,2,!1),x.add(D))}function hs(p,b,x){var D=0;b&&(D|=4),Nx(x,p,D,b)}var ho="_reactListening"+Math.random().toString(36).slice(2);function Bi(p){if(!p[ho]){p[ho]=!0,ok.forEach(function(x){x!=="selectionchange"&&(dr.has(x)||hs(x,!1,p),hs(x,!0,p))});var b=p.nodeType===9?p:p.ownerDocument;b===null||b[ho]||(b[ho]=!0,hs("selectionchange",!1,b))}}function Nx(p,b,x,D){switch(MC(b)){case 2:var O=Dt;break;case 8:O=lA;break;default:O=EC}x=O.bind(null,b,x,p),O=void 0,!Sc||b!=="touchstart"&&b!=="touchmove"&&b!=="wheel"||(O=!0),D?O!==void 0?p.addEventListener(b,x,{capture:!0,passive:O}):p.addEventListener(b,x,!0):O!==void 0?p.addEventListener(b,x,{passive:O}):p.addEventListener(b,x,!1)}function qf(p,b,x,D,O){var B=D;if((b&1)===0&&(b&2)===0&&D!==null)e:for(;;){if(D===null)return;var q=D.tag;if(q===3||q===4){var oe=D.stateNode.containerInfo;if(oe===O)break;if(q===4)for(q=D.return;q!==null;){var pe=q.tag;if((pe===3||pe===4)&&q.stateNode.containerInfo===O)return;q=q.return}for(;oe!==null;){if(q=du(oe),q===null)return;if(pe=q.tag,pe===5||pe===6||pe===26||pe===27){D=B=q;continue e}oe=oe.parentNode}}D=D.return}Ev(function(){var ye=B,Ne=wg(x),Be=[];e:{var Ae=Kv.get(p);if(Ae!==void 0){var Re=df,Je=p;switch(p){case"keypress":if(Cu(x)===0)break e;case"keydown":case"keyup":Re=wk;break;case"focusin":Je="focus",Re=Mv;break;case"focusout":Je="blur",Re=Mv;break;case"beforeblur":case"afterblur":Re=Mv;break;case"click":if(x.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Re=pk;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Re=kg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Re=RD;break;case qv:case Ji:case Ik:Re=_D;break;case gf:Re=yk;break;case"scroll":case"scrollend":Re=xD;break;case"wheel":Re=kk;break;case"copy":case"cut":case"paste":Re=ku;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Re=Rv;break;case"toggle":case"beforetoggle":Re=ID}var gt=(b&4)!==0,en=!gt&&(p==="scroll"||p==="scrollend"),we=gt?Ae!==null?Ae+"Capture":null:Ae;gt=[];for(var be=ye,ke;be!==null;){var Le=be;if(ke=Le.stateNode,Le=Le.tag,Le!==5&&Le!==26&&Le!==27||ke===null||we===null||(Le=wu(be,we),Le!=null&&gt.push(Ft(be,Le,ke))),en)break;be=be.return}0<gt.length&&(Ae=new Re(Ae,Je,null,x,Ne),Be.push({event:Ae,listeners:gt}))}}if((b&7)===0){e:{if(Ae=p==="mouseover"||p==="pointerover",Re=p==="mouseout"||p==="pointerout",Ae&&x!==vg&&(Je=x.relatedTarget||x.fromElement)&&(du(Je)||Je[cu]))break e;if((Re||Ae)&&(Ae=Ne.window===Ne?Ne:(Ae=Ne.ownerDocument)?Ae.defaultView||Ae.parentWindow:window,Re?(Je=x.relatedTarget||x.toElement,Re=ye,Je=Je?du(Je):null,Je!==null&&(en=a(Je),gt=Je.tag,Je!==en||gt!==5&&gt!==27&&gt!==6)&&(Je=null)):(Re=null,Je=ye),Re!==Je)){if(gt=pk,Le="onMouseLeave",we="onMouseEnter",be="mouse",(p==="pointerout"||p==="pointerover")&&(gt=Rv,Le="onPointerLeave",we="onPointerEnter",be="pointer"),en=Re==null?Ae:tf(Re),ke=Je==null?Ae:tf(Je),Ae=new gt(Le,be+"leave",Re,x,Ne),Ae.target=en,Ae.relatedTarget=ke,Le=null,du(Ne)===ye&&(gt=new gt(we,be+"enter",Je,x,Ne),gt.target=ke,gt.relatedTarget=en,Le=gt),en=Le,Re&&Je)t:{for(gt=Ox,we=Re,be=Je,ke=0,Le=we;Le;Le=gt(Le))ke++;Le=0;for(var dt=be;dt;dt=gt(dt))Le++;for(;0<ke-Le;)we=gt(we),ke--;for(;0<Le-ke;)be=gt(be),Le--;for(;ke--;){if(we===be||be!==null&&we===be.alternate){gt=we;break t}we=gt(we),be=gt(be)}gt=null}else gt=null;Re!==null&&Fx(Be,Ae,Re,gt,!1),Je!==null&&en!==null&&Fx(Be,en,Je,gt,!0)}}e:{if(Ae=ye?tf(ye):window,Re=Ae.nodeName&&Ae.nodeName.toLowerCase(),Re==="select"||Re==="input"&&Ae.type==="file")var tn=Ag;else if(xk(Ae))if(Ak)tn=jD;else{tn=BD;var rt=_k}else Re=Ae.nodeName,!Re||Re.toLowerCase()!=="input"||Ae.type!=="checkbox"&&Ae.type!=="radio"?ye&&mu(ye.elementType)&&(tn=Ag):tn=Ek;if(tn&&(tn=tn(p,ye))){dl(Be,tn,x,Ne);break e}rt&&rt(p,Ae,ye),p==="focusout"&&ye&&Ae.type==="number"&&ye.memoizedProps.value!=null&&Av(Ae,"number",Ae.value)}switch(rt=ye?tf(ye):window,p){case"focusin":(xk(rt)||rt.contentEditable==="true")&&(Tc=rt,mn=ye,Rc=null);break;case"focusout":Rc=mn=Tc=null;break;case"mousedown":pf=!0;break;case"contextmenu":case"mouseup":case"dragend":pf=!1,ul(Be,x,Ne);break;case"selectionchange":if(Pk)break;case"keydown":case"keyup":ul(Be,x,Ne)}var Tt;if(hf)e:{switch(p){case"compositionstart":var Bt="onCompositionStart";break e;case"compositionend":Bt="onCompositionEnd";break e;case"compositionupdate":Bt="onCompositionUpdate";break e}Bt=void 0}else xu?jv(p,x)&&(Bt="onCompositionEnd"):p==="keydown"&&x.keyCode===229&&(Bt="onCompositionStart");Bt&&(Fv&&x.locale!=="ko"&&(xu||Bt!=="onCompositionStart"?Bt==="onCompositionEnd"&&xu&&(Tt=fk()):(as=Ne,lf="value"in as?as.value:as.textContent,xu=!0)),rt=gm(ye,Bt),0<rt.length&&(Bt=new Tv(Bt,p,null,x,Ne),Be.push({event:Bt,listeners:rt}),Tt?Bt.data=Tt:(Tt=zv(x),Tt!==null&&(Bt.data=Tt)))),(Tt=Ov?ND(p,x):OD(p,x))&&(Bt=gm(ye,"onBeforeInput"),0<Bt.length&&(rt=new Tv("onBeforeInput","beforeinput",null,x,Ne),Be.push({event:rt,listeners:Bt}),rt.data=Tt)),Qt(Be,p,ye,x,Ne)}wr(Be,b)})}function Ft(p,b,x){return{instance:p,listener:b,currentTarget:x}}function gm(p,b){for(var x=b+"Capture",D=[];p!==null;){var O=p,B=O.stateNode;if(O=O.tag,O!==5&&O!==26&&O!==27||B===null||(O=wu(p,x),O!=null&&D.unshift(Ft(p,O,B)),O=wu(p,b),O!=null&&D.push(Ft(p,O,B))),p.tag===3)return D;p=p.return}return[]}function Ox(p){if(p===null)return null;do p=p.return;while(p&&p.tag!==5&&p.tag!==27);return p||null}function Fx(p,b,x,D,O){for(var B=b._reactName,q=[];x!==null&&x!==D;){var oe=x,pe=oe.alternate,ye=oe.stateNode;if(oe=oe.tag,pe!==null&&pe===D)break;oe!==5&&oe!==26&&oe!==27||ye===null||(pe=ye,O?(ye=wu(x,B),ye!=null&&q.unshift(Ft(x,ye,pe))):O||(ye=wu(x,B),ye!=null&&q.push(Ft(x,ye,pe)))),x=x.return}q.length!==0&&p.push({event:b,listeners:q})}var t2=/\r\n?/g,Lx=/\u0000|\uFFFD/g;function gC(p){return(typeof p=="string"?p:""+p).replace(t2,`
`).replace(Lx,"")}function mC(p,b){return b=gC(b),gC(p)===b}function Zt(p,b,x,D,O,B){switch(x){case"children":typeof D=="string"?b==="body"||b==="textarea"&&D===""||ss(p,D):(typeof D=="number"||typeof D=="bigint")&&b!=="body"&&ss(p,""+D);break;case"className":pg(p,"class",D);break;case"tabIndex":pg(p,"tabindex",D);break;case"dir":case"role":case"viewBox":case"width":case"height":pg(p,x,D);break;case"style":of(p,D,B);break;case"data":if(b!=="object"){pg(p,"data",D);break}case"src":case"href":if(D===""&&(b!=="a"||x!=="href")){p.removeAttribute(x);break}if(D==null||typeof D=="function"||typeof D=="symbol"||typeof D=="boolean"){p.removeAttribute(x);break}D=ya(""+D),p.setAttribute(x,D);break;case"action":case"formAction":if(typeof D=="function"){p.setAttribute(x,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof B=="function"&&(x==="formAction"?(b!=="input"&&Zt(p,b,"name",O.name,O,null),Zt(p,b,"formEncType",O.formEncType,O,null),Zt(p,b,"formMethod",O.formMethod,O,null),Zt(p,b,"formTarget",O.formTarget,O,null)):(Zt(p,b,"encType",O.encType,O,null),Zt(p,b,"method",O.method,O,null),Zt(p,b,"target",O.target,O,null)));if(D==null||typeof D=="symbol"||typeof D=="boolean"){p.removeAttribute(x);break}D=ya(""+D),p.setAttribute(x,D);break;case"onClick":D!=null&&(p.onclick=ka);break;case"onScroll":D!=null&&wt("scroll",p);break;case"onScrollEnd":D!=null&&wt("scrollend",p);break;case"dangerouslySetInnerHTML":if(D!=null){if(typeof D!="object"||!("__html"in D))throw Error(r(61));if(x=D.__html,x!=null){if(O.children!=null)throw Error(r(60));p.innerHTML=x}}break;case"multiple":p.multiple=D&&typeof D!="function"&&typeof D!="symbol";break;case"muted":p.muted=D&&typeof D!="function"&&typeof D!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(D==null||typeof D=="function"||typeof D=="boolean"||typeof D=="symbol"){p.removeAttribute("xlink:href");break}x=ya(""+D),p.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",x);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":D!=null&&typeof D!="function"&&typeof D!="symbol"?p.setAttribute(x,""+D):p.removeAttribute(x);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":D&&typeof D!="function"&&typeof D!="symbol"?p.setAttribute(x,""):p.removeAttribute(x);break;case"capture":case"download":D===!0?p.setAttribute(x,""):D!==!1&&D!=null&&typeof D!="function"&&typeof D!="symbol"?p.setAttribute(x,D):p.removeAttribute(x);break;case"cols":case"rows":case"size":case"span":D!=null&&typeof D!="function"&&typeof D!="symbol"&&!isNaN(D)&&1<=D?p.setAttribute(x,D):p.removeAttribute(x);break;case"rowSpan":case"start":D==null||typeof D=="function"||typeof D=="symbol"||isNaN(D)?p.removeAttribute(x):p.setAttribute(x,D);break;case"popover":wt("beforetoggle",p),wt("toggle",p),fg(p,"popover",D);break;case"xlinkActuate":Ca(p,"http://www.w3.org/1999/xlink","xlink:actuate",D);break;case"xlinkArcrole":Ca(p,"http://www.w3.org/1999/xlink","xlink:arcrole",D);break;case"xlinkRole":Ca(p,"http://www.w3.org/1999/xlink","xlink:role",D);break;case"xlinkShow":Ca(p,"http://www.w3.org/1999/xlink","xlink:show",D);break;case"xlinkTitle":Ca(p,"http://www.w3.org/1999/xlink","xlink:title",D);break;case"xlinkType":Ca(p,"http://www.w3.org/1999/xlink","xlink:type",D);break;case"xmlBase":Ca(p,"http://www.w3.org/XML/1998/namespace","xml:base",D);break;case"xmlLang":Ca(p,"http://www.w3.org/XML/1998/namespace","xml:lang",D);break;case"xmlSpace":Ca(p,"http://www.w3.org/XML/1998/namespace","xml:space",D);break;case"is":fg(p,"is",D);break;case"innerText":case"textContent":break;default:(!(2<x.length)||x[0]!=="o"&&x[0]!=="O"||x[1]!=="n"&&x[1]!=="N")&&(x=kD.get(x)||x,fg(p,x,D))}}function Ar(p,b,x,D,O,B){switch(x){case"style":of(p,D,B);break;case"dangerouslySetInnerHTML":if(D!=null){if(typeof D!="object"||!("__html"in D))throw Error(r(61));if(x=D.__html,x!=null){if(O.children!=null)throw Error(r(60));p.innerHTML=x}}break;case"children":typeof D=="string"?ss(p,D):(typeof D=="number"||typeof D=="bigint")&&ss(p,""+D);break;case"onScroll":D!=null&&wt("scroll",p);break;case"onScrollEnd":D!=null&&wt("scrollend",p);break;case"onClick":D!=null&&(p.onclick=ka);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!sk.hasOwnProperty(x))e:{if(x[0]==="o"&&x[1]==="n"&&(O=x.endsWith("Capture"),b=x.slice(2,O?x.length-7:void 0),B=p[Ei]||null,B=B!=null?B[x]:null,typeof B=="function"&&p.removeEventListener(b,B,O),typeof D=="function")){typeof B!="function"&&B!==null&&(x in p?p[x]=null:p.hasAttribute(x)&&p.removeAttribute(x)),p.addEventListener(b,D,O);break e}x in p?p[x]=D:D===!0?p.setAttribute(x,""):fg(p,x,D)}}}function Hr(p,b,x){switch(b){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":wt("error",p),wt("load",p);var D=!1,O=!1,B;for(B in x)if(x.hasOwnProperty(B)){var q=x[B];if(q!=null)switch(B){case"src":D=!0;break;case"srcSet":O=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,b));default:Zt(p,b,B,q,x,null)}}O&&Zt(p,b,"srcSet",x.srcSet,x,null),D&&Zt(p,b,"src",x.src,x,null);return;case"input":wt("invalid",p);var oe=B=q=O=null,pe=null,ye=null;for(D in x)if(x.hasOwnProperty(D)){var Ne=x[D];if(Ne!=null)switch(D){case"name":O=Ne;break;case"type":q=Ne;break;case"checked":pe=Ne;break;case"defaultChecked":ye=Ne;break;case"value":B=Ne;break;case"defaultValue":oe=Ne;break;case"children":case"dangerouslySetInnerHTML":if(Ne!=null)throw Error(r(137,b));break;default:Zt(p,b,D,Ne,x,null)}}dk(p,B,oe,pe,ye,q,O,!1);return;case"select":wt("invalid",p),D=q=B=null;for(O in x)if(x.hasOwnProperty(O)&&(oe=x[O],oe!=null))switch(O){case"value":B=oe;break;case"defaultValue":q=oe;break;case"multiple":D=oe;default:Zt(p,b,O,oe,x,null)}b=B,x=q,p.multiple=!!D,b!=null?os(p,!!D,b,!1):x!=null&&os(p,!!D,x,!0);return;case"textarea":wt("invalid",p),B=O=D=null;for(q in x)if(x.hasOwnProperty(q)&&(oe=x[q],oe!=null))switch(q){case"value":D=oe;break;case"defaultValue":O=oe;break;case"children":B=oe;break;case"dangerouslySetInnerHTML":if(oe!=null)throw Error(r(91));break;default:Zt(p,b,q,oe,x,null)}uk(p,D,O,B);return;case"option":for(pe in x)if(x.hasOwnProperty(pe)&&(D=x[pe],D!=null))switch(pe){case"selected":p.selected=D&&typeof D!="function"&&typeof D!="symbol";break;default:Zt(p,b,pe,D,x,null)}return;case"dialog":wt("beforetoggle",p),wt("toggle",p),wt("cancel",p),wt("close",p);break;case"iframe":case"object":wt("load",p);break;case"video":case"audio":for(D=0;D<sh.length;D++)wt(sh[D],p);break;case"image":wt("error",p),wt("load",p);break;case"details":wt("toggle",p);break;case"embed":case"source":case"link":wt("error",p),wt("load",p);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ye in x)if(x.hasOwnProperty(ye)&&(D=x[ye],D!=null))switch(ye){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,b));default:Zt(p,b,ye,D,x,null)}return;default:if(mu(b)){for(Ne in x)x.hasOwnProperty(Ne)&&(D=x[Ne],D!==void 0&&Ar(p,b,Ne,D,x,void 0));return}}for(oe in x)x.hasOwnProperty(oe)&&(D=x[oe],D!=null&&Zt(p,b,oe,D,x,null))}function n2(p,b,x,D){switch(b){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var O=null,B=null,q=null,oe=null,pe=null,ye=null,Ne=null;for(Re in x){var Be=x[Re];if(x.hasOwnProperty(Re)&&Be!=null)switch(Re){case"checked":break;case"value":break;case"defaultValue":pe=Be;default:D.hasOwnProperty(Re)||Zt(p,b,Re,null,D,Be)}}for(var Ae in D){var Re=D[Ae];if(Be=x[Ae],D.hasOwnProperty(Ae)&&(Re!=null||Be!=null))switch(Ae){case"type":B=Re;break;case"name":O=Re;break;case"checked":ye=Re;break;case"defaultChecked":Ne=Re;break;case"value":q=Re;break;case"defaultValue":oe=Re;break;case"children":case"dangerouslySetInnerHTML":if(Re!=null)throw Error(r(137,b));break;default:Re!==Be&&Zt(p,b,Ae,Re,D,Be)}}xv(p,q,oe,pe,ye,Ne,B,O);return;case"select":Re=q=oe=Ae=null;for(B in x)if(pe=x[B],x.hasOwnProperty(B)&&pe!=null)switch(B){case"value":break;case"multiple":Re=pe;default:D.hasOwnProperty(B)||Zt(p,b,B,null,D,pe)}for(O in D)if(B=D[O],pe=x[O],D.hasOwnProperty(O)&&(B!=null||pe!=null))switch(O){case"value":Ae=B;break;case"defaultValue":oe=B;break;case"multiple":q=B;default:B!==pe&&Zt(p,b,O,B,D,pe)}b=oe,x=q,D=Re,Ae!=null?os(p,!!x,Ae,!1):!!D!=!!x&&(b!=null?os(p,!!x,b,!0):os(p,!!x,x?[]:"",!1));return;case"textarea":Re=Ae=null;for(oe in x)if(O=x[oe],x.hasOwnProperty(oe)&&O!=null&&!D.hasOwnProperty(oe))switch(oe){case"value":break;case"children":break;default:Zt(p,b,oe,null,D,O)}for(q in D)if(O=D[q],B=x[q],D.hasOwnProperty(q)&&(O!=null||B!=null))switch(q){case"value":Ae=O;break;case"defaultValue":Re=O;break;case"children":break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(r(91));break;default:O!==B&&Zt(p,b,q,O,D,B)}rf(p,Ae,Re);return;case"option":for(var Je in x)if(Ae=x[Je],x.hasOwnProperty(Je)&&Ae!=null&&!D.hasOwnProperty(Je))switch(Je){case"selected":p.selected=!1;break;default:Zt(p,b,Je,null,D,Ae)}for(pe in D)if(Ae=D[pe],Re=x[pe],D.hasOwnProperty(pe)&&Ae!==Re&&(Ae!=null||Re!=null))switch(pe){case"selected":p.selected=Ae&&typeof Ae!="function"&&typeof Ae!="symbol";break;default:Zt(p,b,pe,Ae,D,Re)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var gt in x)Ae=x[gt],x.hasOwnProperty(gt)&&Ae!=null&&!D.hasOwnProperty(gt)&&Zt(p,b,gt,null,D,Ae);for(ye in D)if(Ae=D[ye],Re=x[ye],D.hasOwnProperty(ye)&&Ae!==Re&&(Ae!=null||Re!=null))switch(ye){case"children":case"dangerouslySetInnerHTML":if(Ae!=null)throw Error(r(137,b));break;default:Zt(p,b,ye,Ae,D,Re)}return;default:if(mu(b)){for(var en in x)Ae=x[en],x.hasOwnProperty(en)&&Ae!==void 0&&!D.hasOwnProperty(en)&&Ar(p,b,en,void 0,D,Ae);for(Ne in D)Ae=D[Ne],Re=x[Ne],!D.hasOwnProperty(Ne)||Ae===Re||Ae===void 0&&Re===void 0||Ar(p,b,Ne,Ae,D,Re);return}}for(var we in x)Ae=x[we],x.hasOwnProperty(we)&&Ae!=null&&!D.hasOwnProperty(we)&&Zt(p,b,we,null,D,Ae);for(Be in D)Ae=D[Be],Re=x[Be],!D.hasOwnProperty(Be)||Ae===Re||Ae==null&&Re==null||Zt(p,b,Be,Ae,D,Re)}function rd(p){switch(p){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function r2(){if(typeof performance.getEntriesByType=="function"){for(var p=0,b=0,x=performance.getEntriesByType("resource"),D=0;D<x.length;D++){var O=x[D],B=O.transferSize,q=O.initiatorType,oe=O.duration;if(B&&oe&&rd(q)){for(q=0,oe=O.responseEnd,D+=1;D<x.length;D++){var pe=x[D],ye=pe.startTime;if(ye>oe)break;var Ne=pe.transferSize,Be=pe.initiatorType;Ne&&rd(Be)&&(pe=pe.responseEnd,q+=Ne*(pe<oe?1:(oe-ye)/(pe-ye)))}if(--D,b+=8*(B+q)/(O.duration/1e3),p++,10<p)break}}if(0<p)return b/p/1e6}return navigator.connection&&(p=navigator.connection.downlink,typeof p=="number")?p:5}var bC=null,vC=null;function Kf(p){return p.nodeType===9?p:p.ownerDocument}function Bx(p){switch(p){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function jx(p,b){if(p===0)switch(b){case"svg":return 1;case"math":return 2;default:return 0}return p===1&&b==="foreignObject"?0:p}function mm(p,b){return p==="textarea"||p==="noscript"||typeof b.children=="string"||typeof b.children=="number"||typeof b.children=="bigint"||typeof b.dangerouslySetInnerHTML=="object"&&b.dangerouslySetInnerHTML!==null&&b.dangerouslySetInnerHTML.__html!=null}var bm=null;function i2(){var p=window.event;return p&&p.type==="popstate"?p===bm?!1:(bm=p,!0):(bm=null,!1)}var wC=typeof setTimeout=="function"?setTimeout:void 0,o2=typeof clearTimeout=="function"?clearTimeout:void 0,zx=typeof Promise=="function"?Promise:void 0,s2=typeof queueMicrotask=="function"?queueMicrotask:typeof zx<"u"?function(p){return zx.resolve(null).then(p).catch(vm)}:wC;function vm(p){setTimeout(function(){throw p})}function Fl(p){return p==="head"}function Hx(p,b){var x=b,D=0;do{var O=x.nextSibling;if(p.removeChild(x),O&&O.nodeType===8)if(x=O.data,x==="/$"||x==="/&"){if(D===0){p.removeChild(O),od(b);return}D--}else if(x==="$"||x==="$?"||x==="$~"||x==="$!"||x==="&")D++;else if(x==="html")ah(p.ownerDocument.documentElement);else if(x==="head"){x=p.ownerDocument.head,ah(x);for(var B=x.firstChild;B;){var q=B.nextSibling,oe=B.nodeName;B[ef]||oe==="SCRIPT"||oe==="STYLE"||oe==="LINK"&&B.rel.toLowerCase()==="stylesheet"||x.removeChild(B),B=q}}else x==="body"&&ah(p.ownerDocument.body);x=O}while(x);od(b)}function Vx(p,b){var x=p;p=0;do{var D=x.nextSibling;if(x.nodeType===1?b?(x._stashedDisplay=x.style.display,x.style.display="none"):(x.style.display=x._stashedDisplay||"",x.getAttribute("style")===""&&x.removeAttribute("style")):x.nodeType===3&&(b?(x._stashedText=x.nodeValue,x.nodeValue=""):x.nodeValue=x._stashedText||""),D&&D.nodeType===8)if(x=D.data,x==="/$"){if(p===0)break;p--}else x!=="$"&&x!=="$?"&&x!=="$~"&&x!=="$!"||p++;x=D}while(x)}function wm(p){var b=p.firstChild;for(b&&b.nodeType===10&&(b=b.nextSibling);b;){var x=b;switch(b=b.nextSibling,x.nodeName){case"HTML":case"HEAD":case"BODY":wm(x),wa(x);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(x.rel.toLowerCase()==="stylesheet")continue}p.removeChild(x)}}function a2(p,b,x,D){for(;p.nodeType===1;){var O=x;if(p.nodeName.toLowerCase()!==b.toLowerCase()){if(!D&&(p.nodeName!=="INPUT"||p.type!=="hidden"))break}else if(D){if(!p[ef])switch(b){case"meta":if(!p.hasAttribute("itemprop"))break;return p;case"link":if(B=p.getAttribute("rel"),B==="stylesheet"&&p.hasAttribute("data-precedence"))break;if(B!==O.rel||p.getAttribute("href")!==(O.href==null||O.href===""?null:O.href)||p.getAttribute("crossorigin")!==(O.crossOrigin==null?null:O.crossOrigin)||p.getAttribute("title")!==(O.title==null?null:O.title))break;return p;case"style":if(p.hasAttribute("data-precedence"))break;return p;case"script":if(B=p.getAttribute("src"),(B!==(O.src==null?null:O.src)||p.getAttribute("type")!==(O.type==null?null:O.type)||p.getAttribute("crossorigin")!==(O.crossOrigin==null?null:O.crossOrigin))&&B&&p.hasAttribute("async")&&!p.hasAttribute("itemprop"))break;return p;default:return p}}else if(b==="input"&&p.type==="hidden"){var B=O.name==null?null:""+O.name;if(O.type==="hidden"&&p.getAttribute("name")===B)return p}else return p;if(p=Lo(p.nextSibling),p===null)break}return null}function l2(p,b,x){if(b==="")return null;for(;p.nodeType!==3;)if((p.nodeType!==1||p.nodeName!=="INPUT"||p.type!=="hidden")&&!x||(p=Lo(p.nextSibling),p===null))return null;return p}function CC(p,b){for(;p.nodeType!==8;)if((p.nodeType!==1||p.nodeName!=="INPUT"||p.type!=="hidden")&&!b||(p=Lo(p.nextSibling),p===null))return null;return p}function Cm(p){return p.data==="$?"||p.data==="$~"}function ym(p){return p.data==="$!"||p.data==="$?"&&p.ownerDocument.readyState!=="loading"}function Gx(p,b){var x=p.ownerDocument;if(p.data==="$~")p._reactRetry=b;else if(p.data!=="$?"||x.readyState!=="loading")b();else{var D=function(){b(),x.removeEventListener("DOMContentLoaded",D)};x.addEventListener("DOMContentLoaded",D),p._reactRetry=D}}function Lo(p){for(;p!=null;p=p.nextSibling){var b=p.nodeType;if(b===1||b===3)break;if(b===8){if(b=p.data,b==="$"||b==="$!"||b==="$?"||b==="$~"||b==="&"||b==="F!"||b==="F")break;if(b==="/$"||b==="/&")return null}}return p}var km=null;function Ux(p){p=p.nextSibling;for(var b=0;p;){if(p.nodeType===8){var x=p.data;if(x==="/$"||x==="/&"){if(b===0)return Lo(p.nextSibling);b--}else x!=="$"&&x!=="$!"&&x!=="$?"&&x!=="$~"&&x!=="&"||b++}p=p.nextSibling}return null}function Wx(p){p=p.previousSibling;for(var b=0;p;){if(p.nodeType===8){var x=p.data;if(x==="$"||x==="$!"||x==="$?"||x==="$~"||x==="&"){if(b===0)return p;b--}else x!=="/$"&&x!=="/&"||b++}p=p.previousSibling}return null}function $x(p,b,x){switch(b=Kf(x),p){case"html":if(p=b.documentElement,!p)throw Error(r(452));return p;case"head":if(p=b.head,!p)throw Error(r(453));return p;case"body":if(p=b.body,!p)throw Error(r(454));return p;default:throw Error(r(451))}}function ah(p){for(var b=p.attributes;b.length;)p.removeAttributeNode(b[0]);wa(p)}var Bo=new Map,qx=new Set;function Yf(p){return typeof p.getRootNode=="function"?p.getRootNode():p.nodeType===9?p:p.ownerDocument}var Ba=ee.d;ee.d={f:lh,r:c2,D:Yx,C:Qx,L:Qf,m:d2,X:u2,S:Zx,M:Xx};function lh(){var p=Ba.f(),b=nh();return p||b}function c2(p){var b=uu(p);b!==null&&b.tag===5&&b.type==="form"?Kg(b):Ba.r(p)}var ji=typeof document>"u"?null:document;function Kx(p,b,x){var D=ji;if(D&&typeof b=="string"&&b){var O=Do(b);O='link[rel="'+p+'"][href="'+O+'"]',typeof x=="string"&&(O+='[crossorigin="'+x+'"]'),qx.has(O)||(qx.add(O),p={rel:p,crossOrigin:x,href:b},D.querySelector(O)===null&&(b=D.createElement("link"),Hr(b,"link",p),Ir(b),D.head.appendChild(b)))}}function Yx(p){Ba.D(p),Kx("dns-prefetch",p,null)}function Qx(p,b){Ba.C(p,b),Kx("preconnect",p,b)}function Qf(p,b,x){Ba.L(p,b,x);var D=ji;if(D&&p&&b){var O='link[rel="preload"][as="'+Do(b)+'"]';b==="image"&&x&&x.imageSrcSet?(O+='[imagesrcset="'+Do(x.imageSrcSet)+'"]',typeof x.imageSizes=="string"&&(O+='[imagesizes="'+Do(x.imageSizes)+'"]')):O+='[href="'+Do(p)+'"]';var B=O;switch(b){case"style":B=Ll(p);break;case"script":B=dh(p)}Bo.has(B)||(p=C({rel:"preload",href:b==="image"&&x&&x.imageSrcSet?void 0:p,as:b},x),Bo.set(B,p),D.querySelector(O)!==null||b==="style"&&D.querySelector(ch(B))||b==="script"&&D.querySelector(Zf(B))||(b=D.createElement("link"),Hr(b,"link",p),Ir(b),D.head.appendChild(b)))}}function d2(p,b){Ba.m(p,b);var x=ji;if(x&&p){var D=b&&typeof b.as=="string"?b.as:"script",O='link[rel="modulepreload"][as="'+Do(D)+'"][href="'+Do(p)+'"]',B=O;switch(D){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":B=dh(p)}if(!Bo.has(B)&&(p=C({rel:"modulepreload",href:p},b),Bo.set(B,p),x.querySelector(O)===null)){switch(D){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(x.querySelector(Zf(B)))return}D=x.createElement("link"),Hr(D,"link",p),Ir(D),x.head.appendChild(D)}}}function Zx(p,b,x){Ba.S(p,b,x);var D=ji;if(D&&p){var O=hu(D).hoistableStyles,B=Ll(p);b=b||"default";var q=O.get(B);if(!q){var oe={loading:0,preload:null};if(q=D.querySelector(ch(B)))oe.loading=5;else{p=C({rel:"stylesheet",href:p,"data-precedence":b},x),(x=Bo.get(B))&&xC(p,x);var pe=q=D.createElement("link");Ir(pe),Hr(pe,"link",p),pe._p=new Promise(function(ye,Ne){pe.onload=ye,pe.onerror=Ne}),pe.addEventListener("load",function(){oe.loading|=1}),pe.addEventListener("error",function(){oe.loading|=2}),oe.loading|=4,xm(q,b,D)}q={type:"stylesheet",instance:q,count:1,state:oe},O.set(B,q)}}}function u2(p,b){Ba.X(p,b);var x=ji;if(x&&p){var D=hu(x).hoistableScripts,O=dh(p),B=D.get(O);B||(B=x.querySelector(Zf(O)),B||(p=C({src:p,async:!0},b),(b=Bo.get(O))&&AC(p,b),B=x.createElement("script"),Ir(B),Hr(B,"link",p),x.head.appendChild(B)),B={type:"script",instance:B,count:1,state:null},D.set(O,B))}}function Xx(p,b){Ba.M(p,b);var x=ji;if(x&&p){var D=hu(x).hoistableScripts,O=dh(p),B=D.get(O);B||(B=x.querySelector(Zf(O)),B||(p=C({src:p,async:!0,type:"module"},b),(b=Bo.get(O))&&AC(p,b),B=x.createElement("script"),Ir(B),Hr(B,"link",p),x.head.appendChild(B)),B={type:"script",instance:B,count:1,state:null},D.set(O,B))}}function yC(p,b,x,D){var O=(O=_e.current)?Yf(O):null;if(!O)throw Error(r(446));switch(p){case"meta":case"title":return null;case"style":return typeof x.precedence=="string"&&typeof x.href=="string"?(b=Ll(x.href),x=hu(O).hoistableStyles,D=x.get(b),D||(D={type:"style",instance:null,count:0,state:null},x.set(b,D)),D):{type:"void",instance:null,count:0,state:null};case"link":if(x.rel==="stylesheet"&&typeof x.href=="string"&&typeof x.precedence=="string"){p=Ll(x.href);var B=hu(O).hoistableStyles,q=B.get(p);if(q||(O=O.ownerDocument||O,q={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},B.set(p,q),(B=O.querySelector(ch(p)))&&!B._p&&(q.instance=B,q.state.loading=5),Bo.has(p)||(x={rel:"preload",as:"style",href:x.href,crossOrigin:x.crossOrigin,integrity:x.integrity,media:x.media,hrefLang:x.hrefLang,referrerPolicy:x.referrerPolicy},Bo.set(p,x),B||Jx(O,p,x,q.state))),b&&D===null)throw Error(r(528,""));return q}if(b&&D!==null)throw Error(r(529,""));return null;case"script":return b=x.async,x=x.src,typeof x=="string"&&b&&typeof b!="function"&&typeof b!="symbol"?(b=dh(x),x=hu(O).hoistableScripts,D=x.get(b),D||(D={type:"script",instance:null,count:0,state:null},x.set(b,D)),D):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,p))}}function Ll(p){return'href="'+Do(p)+'"'}function ch(p){return'link[rel="stylesheet"]['+p+"]"}function kC(p){return C({},p,{"data-precedence":p.precedence,precedence:null})}function Jx(p,b,x,D){p.querySelector('link[rel="preload"][as="style"]['+b+"]")?D.loading=1:(b=p.createElement("link"),D.preload=b,b.addEventListener("load",function(){return D.loading|=1}),b.addEventListener("error",function(){return D.loading|=2}),Hr(b,"link",x),Ir(b),p.head.appendChild(b))}function dh(p){return'[src="'+Do(p)+'"]'}function Zf(p){return"script[async]"+p}function eA(p,b,x){if(b.count++,b.instance===null)switch(b.type){case"style":var D=p.querySelector('style[data-href~="'+Do(x.href)+'"]');if(D)return b.instance=D,Ir(D),D;var O=C({},x,{"data-href":x.href,"data-precedence":x.precedence,href:null,precedence:null});return D=(p.ownerDocument||p).createElement("style"),Ir(D),Hr(D,"style",O),xm(D,x.precedence,p),b.instance=D;case"stylesheet":O=Ll(x.href);var B=p.querySelector(ch(O));if(B)return b.state.loading|=4,b.instance=B,Ir(B),B;D=kC(x),(O=Bo.get(O))&&xC(D,O),B=(p.ownerDocument||p).createElement("link"),Ir(B);var q=B;return q._p=new Promise(function(oe,pe){q.onload=oe,q.onerror=pe}),Hr(B,"link",D),b.state.loading|=4,xm(B,x.precedence,p),b.instance=B;case"script":return B=dh(x.src),(O=p.querySelector(Zf(B)))?(b.instance=O,Ir(O),O):(D=x,(O=Bo.get(B))&&(D=C({},x),AC(D,O)),p=p.ownerDocument||p,O=p.createElement("script"),Ir(O),Hr(O,"link",D),p.head.appendChild(O),b.instance=O);case"void":return null;default:throw Error(r(443,b.type))}else b.type==="stylesheet"&&(b.state.loading&4)===0&&(D=b.instance,b.state.loading|=4,xm(D,x.precedence,p));return b.instance}function xm(p,b,x){for(var D=x.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),O=D.length?D[D.length-1]:null,B=O,q=0;q<D.length;q++){var oe=D[q];if(oe.dataset.precedence===b)B=oe;else if(B!==O)break}B?B.parentNode.insertBefore(p,B.nextSibling):(b=x.nodeType===9?x.head:x,b.insertBefore(p,b.firstChild))}function xC(p,b){p.crossOrigin==null&&(p.crossOrigin=b.crossOrigin),p.referrerPolicy==null&&(p.referrerPolicy=b.referrerPolicy),p.title==null&&(p.title=b.title)}function AC(p,b){p.crossOrigin==null&&(p.crossOrigin=b.crossOrigin),p.referrerPolicy==null&&(p.referrerPolicy=b.referrerPolicy),p.integrity==null&&(p.integrity=b.integrity)}var Am=null;function tA(p,b,x){if(Am===null){var D=new Map,O=Am=new Map;O.set(x,D)}else O=Am,D=O.get(x),D||(D=new Map,O.set(x,D));if(D.has(p))return D;for(D.set(p,null),x=x.getElementsByTagName(p),O=0;O<x.length;O++){var B=x[O];if(!(B[ef]||B[zr]||p==="link"&&B.getAttribute("rel")==="stylesheet")&&B.namespaceURI!=="http://www.w3.org/2000/svg"){var q=B.getAttribute(b)||"";q=p+q;var oe=D.get(q);oe?oe.push(B):D.set(q,[B])}}return D}function Sm(p,b,x){p=p.ownerDocument||p,p.head.insertBefore(x,b==="title"?p.querySelector("head > title"):null)}function h2(p,b,x){if(x===1||b.itemProp!=null)return!1;switch(p){case"meta":case"title":return!0;case"style":if(typeof b.precedence!="string"||typeof b.href!="string"||b.href==="")break;return!0;case"link":if(typeof b.rel!="string"||typeof b.href!="string"||b.href===""||b.onLoad||b.onError)break;switch(b.rel){case"stylesheet":return p=b.disabled,typeof b.precedence=="string"&&p==null;default:return!0}case"script":if(b.async&&typeof b.async!="function"&&typeof b.async!="symbol"&&!b.onLoad&&!b.onError&&b.src&&typeof b.src=="string")return!0}return!1}function _m(p){return!(p.type==="stylesheet"&&(p.state.loading&3)===0)}function ja(p,b,x,D){if(x.type==="stylesheet"&&(typeof D.media!="string"||matchMedia(D.media).matches!==!1)&&(x.state.loading&4)===0){if(x.instance===null){var O=Ll(D.href),B=b.querySelector(ch(O));if(B){b=B._p,b!==null&&typeof b=="object"&&typeof b.then=="function"&&(p.count++,p=Xf.bind(p),b.then(p,p)),x.state.loading|=4,x.instance=B,Ir(B);return}B=b.ownerDocument||b,D=kC(D),(O=Bo.get(O))&&xC(D,O),B=B.createElement("link"),Ir(B);var q=B;q._p=new Promise(function(oe,pe){q.onload=oe,q.onerror=pe}),Hr(B,"link",D),x.instance=B}p.stylesheets===null&&(p.stylesheets=new Map),p.stylesheets.set(x,b),(b=x.state.preload)&&(x.state.loading&3)===0&&(p.count++,x=Xf.bind(p),b.addEventListener("load",x),b.addEventListener("error",x))}}var SC=0;function f2(p,b){return p.stylesheets&&p.count===0&&Dm(p,p.stylesheets),0<p.count||0<p.imgCount?function(x){var D=setTimeout(function(){if(p.stylesheets&&Dm(p,p.stylesheets),p.unsuspend){var B=p.unsuspend;p.unsuspend=null,B()}},6e4+b);0<p.imgBytes&&SC===0&&(SC=62500*r2());var O=setTimeout(function(){if(p.waitingForImages=!1,p.count===0&&(p.stylesheets&&Dm(p,p.stylesheets),p.unsuspend)){var B=p.unsuspend;p.unsuspend=null,B()}},(p.imgBytes>SC?50:800)+b);return p.unsuspend=x,function(){p.unsuspend=null,clearTimeout(D),clearTimeout(O)}}:null}function Xf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Dm(this,this.stylesheets);else if(this.unsuspend){var p=this.unsuspend;this.unsuspend=null,p()}}}var Em=null;function Dm(p,b){p.stylesheets=null,p.unsuspend!==null&&(p.count++,Em=new Map,b.forEach(nA,p),Em=null,Xf.call(p))}function nA(p,b){if(!(b.state.loading&4)){var x=Em.get(p);if(x)var D=x.get(null);else{x=new Map,Em.set(p,x);for(var O=p.querySelectorAll("link[data-precedence],style[data-precedence]"),B=0;B<O.length;B++){var q=O[B];(q.nodeName==="LINK"||q.getAttribute("media")!=="not all")&&(x.set(q.dataset.precedence,q),D=q)}D&&x.set(null,D)}O=b.instance,q=O.getAttribute("data-precedence"),B=x.get(q)||D,B===D&&x.set(null,O),x.set(q,O),this.count++,D=Xf.bind(this),O.addEventListener("load",D),O.addEventListener("error",D),B?B.parentNode.insertBefore(O,B.nextSibling):(p=p.nodeType===9?p.head:p,p.insertBefore(O,p.firstChild)),b.state.loading|=4}}var id={$$typeof:L,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function rA(p,b,x,D,O,B,q,oe,pe){this.tag=1,this.containerInfo=p,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=wv(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wv(0),this.hiddenUpdates=wv(null),this.identifierPrefix=D,this.onUncaughtError=O,this.onCaughtError=B,this.onRecoverableError=q,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=pe,this.incompleteTransitions=new Map}function iA(p,b,x,D,O,B,q,oe,pe,ye,Ne,Be){return p=new rA(p,b,x,q,pe,ye,Ne,Be,oe),b=1,B===!0&&(b|=24),B=Di(3,null,null,b),p.current=B,B.stateNode=p,b=Sf(),b.refCount++,p.pooledCache=b,b.refCount++,B.memoizedState={element:D,isDehydrated:x,cache:b},dw(B),p}function _C(p){return p?(p=Ts,p):Ts}function oA(p,b,x,D,O,B){O=_C(O),D.context===null?D.context=O:D.pendingContext=O,D=Ea(b),D.payload={element:x},B=B===void 0?null:B,B!==null&&(D.callback=B),x=Et(p,D,b),x!==null&&(Oi(x,p,b),Pu(x,p,b))}function sA(p,b){if(p=p.memoizedState,p!==null&&p.dehydrated!==null){var x=p.retryLane;p.retryLane=x!==0&&x<b?x:b}}function Mm(p,b){sA(p,b),(p=p.alternate)&&sA(p,b)}function aA(p){if(p.tag===13||p.tag===31){var b=To(p,67108864);b!==null&&Oi(b,p,67108864),Mm(p,67108864)}}function Tm(p){if(p.tag===13||p.tag===31){var b=Ni();b=Cv(b);var x=To(p,b);x!==null&&Oi(x,p,b),Mm(p,b)}}var Jf=!0;function Dt(p,b,x,D){var O=re.T;re.T=null;var B=ee.p;try{ee.p=2,EC(p,b,x,D)}finally{ee.p=B,re.T=O}}function lA(p,b,x,D){var O=re.T;re.T=null;var B=ee.p;try{ee.p=8,EC(p,b,x,D)}finally{ee.p=B,re.T=O}}function EC(p,b,x,D){if(Jf){var O=uh(D);if(O===null)qf(p,b,D,Rm,x),cA(p,D);else if(p2(O,p,b,x,D))D.stopPropagation();else if(cA(p,D),b&4&&-1<Ha.indexOf(p)){for(;O!==null;){var B=uu(O);if(B!==null)switch(B.tag){case 3:if(B=B.stateNode,B.current.memoizedState.isDehydrated){var q=ma(B.pendingLanes);if(q!==0){var oe=B;for(oe.pendingLanes|=2,oe.entangledLanes|=2;q;){var pe=1<<31-xn(q);oe.entanglements[1]|=pe,q&=~pe}$s(B),(Yt&6)===0&&(eh=Gt()+500,td(0))}}break;case 31:case 13:oe=To(B,2),oe!==null&&Oi(oe,B,2),nh(),Mm(B,2)}if(B=uh(D),B===null&&qf(p,b,D,Rm,x),B===O)break;O=B}O!==null&&D.stopPropagation()}else qf(p,b,D,null,x)}}function uh(p){return p=wg(p),DC(p)}var Rm=null;function DC(p){if(Rm=null,p=du(p),p!==null){var b=a(p);if(b===null)p=null;else{var x=b.tag;if(x===13){if(p=l(b),p!==null)return p;p=null}else if(x===31){if(p=d(b),p!==null)return p;p=null}else if(x===3){if(b.stateNode.current.memoizedState.isDehydrated)return b.tag===3?b.stateNode.containerInfo:null;p=null}else b!==p&&(p=null)}}return Rm=p,null}function MC(p){switch(p){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ir()){case Br:return 2;case So:return 8;case cn:case Pr:return 32;case Es:return 268435456;default:return 32}default:return 32}}var Pm=!1,Bl=null,jl=null,zl=null,hh=new Map,ep=new Map,za=[],Ha="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function cA(p,b){switch(p){case"focusin":case"focusout":Bl=null;break;case"dragenter":case"dragleave":jl=null;break;case"mouseover":case"mouseout":zl=null;break;case"pointerover":case"pointerout":hh.delete(b.pointerId);break;case"gotpointercapture":case"lostpointercapture":ep.delete(b.pointerId)}}function fh(p,b,x,D,O,B){return p===null||p.nativeEvent!==B?(p={blockedOn:b,domEventName:x,eventSystemFlags:D,nativeEvent:B,targetContainers:[O]},b!==null&&(b=uu(b),b!==null&&aA(b)),p):(p.eventSystemFlags|=D,b=p.targetContainers,O!==null&&b.indexOf(O)===-1&&b.push(O),p)}function p2(p,b,x,D,O){switch(b){case"focusin":return Bl=fh(Bl,p,b,x,D,O),!0;case"dragenter":return jl=fh(jl,p,b,x,D,O),!0;case"mouseover":return zl=fh(zl,p,b,x,D,O),!0;case"pointerover":var B=O.pointerId;return hh.set(B,fh(hh.get(B)||null,p,b,x,D,O)),!0;case"gotpointercapture":return B=O.pointerId,ep.set(B,fh(ep.get(B)||null,p,b,x,D,O)),!0}return!1}function Ut(p){var b=du(p.target);if(b!==null){var x=a(b);if(x!==null){if(b=x.tag,b===13){if(b=l(x),b!==null){p.blockedOn=b,Jh(p.priority,function(){Tm(x)});return}}else if(b===31){if(b=d(x),b!==null){p.blockedOn=b,Jh(p.priority,function(){Tm(x)});return}}else if(b===3&&x.stateNode.current.memoizedState.isDehydrated){p.blockedOn=x.tag===3?x.stateNode.containerInfo:null;return}}}p.blockedOn=null}function tp(p){if(p.blockedOn!==null)return!1;for(var b=p.targetContainers;0<b.length;){var x=uh(p.nativeEvent);if(x===null){x=p.nativeEvent;var D=new x.constructor(x.type,x);vg=D,x.target.dispatchEvent(D),vg=null}else return b=uu(x),b!==null&&aA(b),p.blockedOn=x,!1;b.shift()}return!0}function dA(p,b,x){tp(p)&&x.delete(b)}function Im(){Pm=!1,Bl!==null&&tp(Bl)&&(Bl=null),jl!==null&&tp(jl)&&(jl=null),zl!==null&&tp(zl)&&(zl=null),hh.forEach(dA),ep.forEach(dA)}function np(p,b){p.blockedOn===b&&(p.blockedOn=null,Pm||(Pm=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Im)))}var Nm=null;function rp(p){Nm!==p&&(Nm=p,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Nm===p&&(Nm=null);for(var b=0;b<p.length;b+=3){var x=p[b],D=p[b+1],O=p[b+2];if(typeof D!="function"){if(DC(D||x)===null)continue;break}var B=uu(x);B!==null&&(p.splice(b,3),b-=3,Ta(B,{pending:!0,data:O,method:x.method,action:D},D,O))}}))}function od(p){function b(pe){return np(pe,p)}Bl!==null&&np(Bl,p),jl!==null&&np(jl,p),zl!==null&&np(zl,p),hh.forEach(b),ep.forEach(b);for(var x=0;x<za.length;x++){var D=za[x];D.blockedOn===p&&(D.blockedOn=null)}for(;0<za.length&&(x=za[0],x.blockedOn===null);)Ut(x),x.blockedOn===null&&za.shift();if(x=(p.ownerDocument||p).$$reactFormReplay,x!=null)for(D=0;D<x.length;D+=3){var O=x[D],B=x[D+1],q=O[Ei]||null;if(typeof B=="function")q||rp(x);else if(q){var oe=null;if(B&&B.hasAttribute("formAction")){if(O=B,q=B[Ei]||null)oe=q.formAction;else if(DC(O)!==null)continue}else oe=q.action;typeof oe=="function"?x[D+1]=oe:(x.splice(D,3),D-=3),rp(x)}}}function uA(){function p(B){B.canIntercept&&B.info==="react-transition"&&B.intercept({handler:function(){return new Promise(function(q){return O=q})},focusReset:"manual",scroll:"manual"})}function b(){O!==null&&(O(),O=null),D||setTimeout(x,20)}function x(){if(!D&&!navigation.transition){var B=navigation.currentEntry;B&&B.url!=null&&navigation.navigate(B.url,{state:B.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var D=!1,O=null;return navigation.addEventListener("navigate",p),navigation.addEventListener("navigatesuccess",b),navigation.addEventListener("navigateerror",b),setTimeout(x,100),function(){D=!0,navigation.removeEventListener("navigate",p),navigation.removeEventListener("navigatesuccess",b),navigation.removeEventListener("navigateerror",b),O!==null&&(O(),O=null)}}}function TC(p){this._internalRoot=p}ip.prototype.render=TC.prototype.render=function(p){var b=this._internalRoot;if(b===null)throw Error(r(409));var x=b.current,D=Ni();oA(x,D,p,b,null,null)},ip.prototype.unmount=TC.prototype.unmount=function(){var p=this._internalRoot;if(p!==null){this._internalRoot=null;var b=p.containerInfo;oA(p.current,2,null,p,null,null),nh(),b[cu]=null}};function ip(p){this._internalRoot=p}ip.prototype.unstable_scheduleHydration=function(p){if(p){var b=xc();p={blockedOn:null,target:p,priority:b};for(var x=0;x<za.length&&b!==0&&b<za[x].priority;x++);za.splice(x,0,p),x===0&&Ut(p)}};var hA=t.version;if(hA!=="19.2.0")throw Error(r(527,hA,"19.2.0"));ee.findDOMNode=function(p){var b=p._reactInternals;if(b===void 0)throw typeof p.render=="function"?Error(r(188)):(p=Object.keys(p).join(","),Error(r(268,p)));return p=m(b),p=p!==null?v(p):null,p=p===null?null:p.stateNode,p};var fA={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:re,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Om=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Om.isDisabled&&Om.supportsFiber)try{kc=Om.inject(fA),Qr=Om}catch{}}return qC.createRoot=function(p,b){if(!o(p))throw Error(r(299));var x=!1,D="",O=Jk,B=Iw,q=ex;return b!=null&&(b.unstable_strictMode===!0&&(x=!0),b.identifierPrefix!==void 0&&(D=b.identifierPrefix),b.onUncaughtError!==void 0&&(O=b.onUncaughtError),b.onCaughtError!==void 0&&(B=b.onCaughtError),b.onRecoverableError!==void 0&&(q=b.onRecoverableError)),b=iA(p,1,!1,null,null,x,D,null,O,B,q,uA),p[cu]=b.current,Bi(p),new TC(b)},qC.hydrateRoot=function(p,b,x){if(!o(p))throw Error(r(299));var D=!1,O="",B=Jk,q=Iw,oe=ex,pe=null;return x!=null&&(x.unstable_strictMode===!0&&(D=!0),x.identifierPrefix!==void 0&&(O=x.identifierPrefix),x.onUncaughtError!==void 0&&(B=x.onUncaughtError),x.onCaughtError!==void 0&&(q=x.onCaughtError),x.onRecoverableError!==void 0&&(oe=x.onRecoverableError),x.formState!==void 0&&(pe=x.formState)),b=iA(p,1,!0,b,x??null,D,O,pe,B,q,oe,uA),b.context=_C(null),x=b.current,D=Ni(),D=Cv(D),O=Ea(D),O.callback=null,Et(x,O,D),x=D,b.current.lanes=x,ba(b,x),$s(b),p[cu]=b.current,Bi(p),new ip(b)},qC.version="19.2.0",qC}var y6;function fle(){if(y6)return vM.exports;y6=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),vM.exports=hle(),vM.exports}var ple=fle();var k6="popstate";function gle(e={}){function t(r,o){let{pathname:a,search:l,hash:d}=r.location;return lP("",{pathname:a,search:l,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){return typeof o=="string"?o:Py(o)}return ble(t,n,null,e)}function hr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ja(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function mle(){return Math.random().toString(36).substring(2,10)}function x6(e,t){return{usr:e.state,key:e.key,idx:t}}function lP(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Xb(t):t,state:n,key:t&&t.key||r||mle()}}function Py({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Xb(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function ble(e,t,n,r={}){let{window:o=document.defaultView,v5Compat:a=!1}=r,l=o.history,d="POP",f=null,m=v();m==null&&(m=0,l.replaceState({...l.state,idx:m},""));function v(){return(l.state||{idx:null}).idx}function C(){d="POP";let P=v(),N=P==null?null:P-m;m=P,f&&f({action:d,location:T.location,delta:N})}function y(P,N){d="PUSH";let j=lP(T.location,P,N);m=v()+1;let L=x6(j,m),V=T.createHref(j);try{l.pushState(L,"",V)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;o.location.assign(V)}a&&f&&f({action:d,location:T.location,delta:1})}function S(P,N){d="REPLACE";let j=lP(T.location,P,N);m=v();let L=x6(j,m),V=T.createHref(j);l.replaceState(L,"",V),a&&f&&f({action:d,location:T.location,delta:0})}function E(P){return vle(P)}let T={get action(){return d},get location(){return e(o,l)},listen(P){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(k6,C),f=P,()=>{o.removeEventListener(k6,C),f=null}},createHref(P){return t(o,P)},createURL:E,encodeLocation(P){let N=E(P);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:y,replace:S,go(P){return l.go(P)}};return T}function vle(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),hr(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:Py(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function qG(e,t,n="/"){return wle(e,t,n,!1)}function wle(e,t,n,r){let o=typeof t=="string"?Xb(t):t,a=Id(o.pathname||"/",n);if(a==null)return null;let l=KG(e);Cle(l);let d=null;for(let f=0;d==null&&f<l.length;++f){let m=Rle(a);d=Mle(l[f],m,r)}return d}function KG(e,t=[],n=[],r="",o=!1){let a=(l,d,f=o,m)=>{let v={relativePath:m===void 0?l.path||"":m,caseSensitive:l.caseSensitive===!0,childrenIndex:d,route:l};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(r)&&f)return;hr(v.relativePath.startsWith(r),`Absolute route path "${v.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(r.length)}let C=kd([r,v.relativePath]),y=n.concat(v);l.children&&l.children.length>0&&(hr(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${C}".`),KG(l.children,t,y,C,f)),!(l.path==null&&!l.index)&&t.push({path:C,score:Ele(C,l.index),routesMeta:y})};return e.forEach((l,d)=>{if(l.path===""||!l.path?.includes("?"))a(l,d);else for(let f of YG(l.path))a(l,d,!0,f)}),t}function YG(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,o=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return o?[a,""]:[a];let l=YG(r.join("/")),d=[];return d.push(...l.map(f=>f===""?a:[a,f].join("/"))),o&&d.push(...l),d.map(f=>e.startsWith("/")&&f===""?"/":f)}function Cle(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Dle(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var yle=/^:[\w-]+$/,kle=3,xle=2,Ale=1,Sle=10,_le=-2,A6=e=>e==="*";function Ele(e,t){let n=e.split("/"),r=n.length;return n.some(A6)&&(r+=_le),t&&(r+=xle),n.filter(o=>!A6(o)).reduce((o,a)=>o+(yle.test(a)?kle:a===""?Ale:Sle),r)}function Dle(e,t){return e.length===t.length&&e.slice(0,-1).every((r,o)=>r===t[o])?e[e.length-1]-t[t.length-1]:0}function Mle(e,t,n=!1){let{routesMeta:r}=e,o={},a="/",l=[];for(let d=0;d<r.length;++d){let f=r[d],m=d===r.length-1,v=a==="/"?t:t.slice(a.length)||"/",C=pS({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},v),y=f.route;if(!C&&m&&n&&!r[r.length-1].route.index&&(C=pS({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},v)),!C)return null;Object.assign(o,C.params),l.push({params:o,pathname:kd([a,C.pathname]),pathnameBase:Fle(kd([a,C.pathnameBase])),route:y}),C.pathnameBase!=="/"&&(a=kd([a,C.pathnameBase]))}return l}function pS(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Tle(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let a=o[0],l=a.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:r.reduce((m,{paramName:v,isOptional:C},y)=>{if(v==="*"){let E=d[y]||"";l=a.slice(0,a.length-E.length).replace(/(.)\/+$/,"$1")}const S=d[y];return C&&!S?m[v]=void 0:m[v]=(S||"").replace(/%2F/g,"/"),m},{}),pathname:a,pathnameBase:l,pattern:e}}function Tle(e,t=!1,n=!0){Ja(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,d,f)=>(r.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),r]}function Rle(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ja(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Id(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}var Ple=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ile=e=>Ple.test(e);function Nle(e,t="/"){let{pathname:n,search:r="",hash:o=""}=typeof e=="string"?Xb(e):e,a;if(n)if(Ile(n))a=n;else{if(n.includes("//")){let l=n;n=n.replace(/\/\/+/g,"/"),Ja(!1,`Pathnames cannot have embedded double slashes - normalizing ${l} -> ${n}`)}n.startsWith("/")?a=S6(n.substring(1),"/"):a=S6(n,t)}else a=t;return{pathname:a,search:Lle(r),hash:Ble(o)}}function S6(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function kM(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Ole(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function QG(e){let t=Ole(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function ZG(e,t,n,r=!1){let o;typeof e=="string"?o=Xb(e):(o={...e},hr(!o.pathname||!o.pathname.includes("?"),kM("?","pathname","search",o)),hr(!o.pathname||!o.pathname.includes("#"),kM("#","pathname","hash",o)),hr(!o.search||!o.search.includes("#"),kM("#","search","hash",o)));let a=e===""||o.pathname==="",l=a?"/":o.pathname,d;if(l==null)d=n;else{let C=t.length-1;if(!r&&l.startsWith("..")){let y=l.split("/");for(;y[0]==="..";)y.shift(),C-=1;o.pathname=y.join("/")}d=C>=0?t[C]:"/"}let f=Nle(o,d),m=l&&l!=="/"&&l.endsWith("/"),v=(a||l===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(m||v)&&(f.pathname+="/"),f}var kd=e=>e.join("/").replace(/\/\/+/g,"/"),Fle=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Lle=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Ble=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function jle(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var XG=["POST","PUT","PATCH","DELETE"];new Set(XG);var zle=["GET",...XG];new Set(zle);var Jb=M.createContext(null);Jb.displayName="DataRouter";var Q_=M.createContext(null);Q_.displayName="DataRouterState";M.createContext(!1);var JG=M.createContext({isTransitioning:!1});JG.displayName="ViewTransition";var Hle=M.createContext(new Map);Hle.displayName="Fetchers";var Vle=M.createContext(null);Vle.displayName="Await";var mc=M.createContext(null);mc.displayName="Navigation";var f0=M.createContext(null);f0.displayName="Location";var bc=M.createContext({outlet:null,matches:[],isDataRoute:!1});bc.displayName="Route";var cN=M.createContext(null);cN.displayName="RouteError";function Gle(e,{relative:t}={}){hr(p0(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=M.useContext(mc),{hash:o,pathname:a,search:l}=g0(e,{relative:t}),d=a;return n!=="/"&&(d=a==="/"?n:kd([n,a])),r.createHref({pathname:d,search:l,hash:o})}function p0(){return M.useContext(f0)!=null}function eg(){return hr(p0(),"useLocation() may be used only in the context of a <Router> component."),M.useContext(f0).location}var eU="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function tU(e){M.useContext(mc).static||M.useLayoutEffect(e)}function yn(){let{isDataRoute:e}=M.useContext(bc);return e?nce():Ule()}function Ule(){hr(p0(),"useNavigate() may be used only in the context of a <Router> component.");let e=M.useContext(Jb),{basename:t,navigator:n}=M.useContext(mc),{matches:r}=M.useContext(bc),{pathname:o}=eg(),a=JSON.stringify(QG(r)),l=M.useRef(!1);return tU(()=>{l.current=!0}),M.useCallback((f,m={})=>{if(Ja(l.current,eU),!l.current)return;if(typeof f=="number"){n.go(f);return}let v=ZG(f,JSON.parse(a),o,m.relative==="path");e==null&&t!=="/"&&(v.pathname=v.pathname==="/"?t:kd([t,v.pathname])),(m.replace?n.replace:n.push)(v,m.state,m)},[t,n,a,o,e])}M.createContext(null);function Z_(){let{matches:e}=M.useContext(bc),t=e[e.length-1];return t?t.params:{}}function g0(e,{relative:t}={}){let{matches:n}=M.useContext(bc),{pathname:r}=eg(),o=JSON.stringify(QG(n));return M.useMemo(()=>ZG(e,JSON.parse(o),r,t==="path"),[e,o,r,t])}function Wle(e,t){return nU(e,t)}function nU(e,t,n,r,o){hr(p0(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=M.useContext(mc),{matches:l}=M.useContext(bc),d=l[l.length-1],f=d?d.params:{},m=d?d.pathname:"/",v=d?d.pathnameBase:"/",C=d&&d.route;{let j=C&&C.path||"";rU(m,!C||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let y=eg(),S;if(t){let j=typeof t=="string"?Xb(t):t;hr(v==="/"||j.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${j.pathname}" was given in the \`location\` prop.`),S=j}else S=y;let E=S.pathname||"/",T=E;if(v!=="/"){let j=v.replace(/^\//,"").split("/");T="/"+E.replace(/^\//,"").split("/").slice(j.length).join("/")}let P=qG(e,{pathname:T});Ja(C||P!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),Ja(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=Qle(P&&P.map(j=>Object.assign({},j,{params:Object.assign({},f,j.params),pathname:kd([v,a.encodeLocation?a.encodeLocation(j.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?v:kd([v,a.encodeLocation?a.encodeLocation(j.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathnameBase])})),l,n,r,o);return t&&N?M.createElement(f0.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},N):N}function $le(){let e=tce(),t=jle(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=M.createElement(M.Fragment,null,M.createElement("p",null," Hey developer "),M.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",M.createElement("code",{style:a},"ErrorBoundary")," or"," ",M.createElement("code",{style:a},"errorElement")," prop on your route.")),M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},t),n?M.createElement("pre",{style:o},n):null,l)}var qle=M.createElement($le,null),Kle=class extends M.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?M.createElement(bc.Provider,{value:this.props.routeContext},M.createElement(cN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Yle({routeContext:e,match:t,children:n}){let r=M.useContext(Jb);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),M.createElement(bc.Provider,{value:e},n)}function Qle(e,t=[],n=null,r=null,o=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,l=n?.errors;if(l!=null){let v=a.findIndex(C=>C.route.id&&l?.[C.route.id]!==void 0);hr(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,v+1))}let d=!1,f=-1;if(n)for(let v=0;v<a.length;v++){let C=a[v];if((C.route.HydrateFallback||C.route.hydrateFallbackElement)&&(f=v),C.route.id){let{loaderData:y,errors:S}=n,E=C.route.loader&&!y.hasOwnProperty(C.route.id)&&(!S||S[C.route.id]===void 0);if(C.route.lazy||E){d=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}let m=n&&r?(v,C)=>{r(v,{location:n.location,params:n.matches?.[0]?.params??{},errorInfo:C})}:void 0;return a.reduceRight((v,C,y)=>{let S,E=!1,T=null,P=null;n&&(S=l&&C.route.id?l[C.route.id]:void 0,T=C.route.errorElement||qle,d&&(f<0&&y===0?(rU("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,P=null):f===y&&(E=!0,P=C.route.hydrateFallbackElement||null)));let N=t.concat(a.slice(0,y+1)),j=()=>{let L;return S?L=T:E?L=P:C.route.Component?L=M.createElement(C.route.Component,null):C.route.element?L=C.route.element:L=v,M.createElement(Yle,{match:C,routeContext:{outlet:v,matches:N,isDataRoute:n!=null},children:L})};return n&&(C.route.ErrorBoundary||C.route.errorElement||y===0)?M.createElement(Kle,{location:n.location,revalidation:n.revalidation,component:T,error:S,children:j(),routeContext:{outlet:null,matches:N,isDataRoute:!0},onError:m}):j()},null)}function dN(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Zle(e){let t=M.useContext(Jb);return hr(t,dN(e)),t}function Xle(e){let t=M.useContext(Q_);return hr(t,dN(e)),t}function Jle(e){let t=M.useContext(bc);return hr(t,dN(e)),t}function uN(e){let t=Jle(e),n=t.matches[t.matches.length-1];return hr(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function ece(){return uN("useRouteId")}function tce(){let e=M.useContext(cN),t=Xle("useRouteError"),n=uN("useRouteError");return e!==void 0?e:t.errors?.[n]}function nce(){let{router:e}=Zle("useNavigate"),t=uN("useNavigate"),n=M.useRef(!1);return tU(()=>{n.current=!0}),M.useCallback(async(o,a={})=>{Ja(n.current,eU),n.current&&(typeof o=="number"?e.navigate(o):await e.navigate(o,{fromRouteId:t,...a}))},[e,t])}var _6={};function rU(e,t,n){!t&&!_6[e]&&(_6[e]=!0,Ja(!1,n))}M.memo(rce);function rce({routes:e,future:t,state:n,unstable_onError:r}){return nU(e,void 0,n,r,t)}function jt(e){hr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ice({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:o,static:a=!1}){hr(!p0(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),d=M.useMemo(()=>({basename:l,navigator:o,static:a,future:{}}),[l,o,a]);typeof n=="string"&&(n=Xb(n));let{pathname:f="/",search:m="",hash:v="",state:C=null,key:y="default"}=n,S=M.useMemo(()=>{let E=Id(f,l);return E==null?null:{location:{pathname:E,search:m,hash:v,state:C,key:y},navigationType:r}},[l,f,m,v,C,y,r]);return Ja(S!=null,`<Router basename="${l}"> is not able to match the URL "${f}${m}${v}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:M.createElement(mc.Provider,{value:d},M.createElement(f0.Provider,{children:t,value:S}))}function oce({children:e,location:t}){return Wle(cP(e),t)}function cP(e,t=[]){let n=[];return M.Children.forEach(e,(r,o)=>{if(!M.isValidElement(r))return;let a=[...t,o];if(r.type===M.Fragment){n.push.apply(n,cP(r.props.children,a));return}hr(r.type===jt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),hr(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=cP(r.props.children,a)),n.push(l)}),n}var j1="get",z1="application/x-www-form-urlencoded";function X_(e){return e!=null&&typeof e.tagName=="string"}function sce(e){return X_(e)&&e.tagName.toLowerCase()==="button"}function ace(e){return X_(e)&&e.tagName.toLowerCase()==="form"}function lce(e){return X_(e)&&e.tagName.toLowerCase()==="input"}function cce(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function dce(e,t){return e.button===0&&(!t||t==="_self")&&!cce(e)}var YA=null;function uce(){if(YA===null)try{new FormData(document.createElement("form"),0),YA=!1}catch{YA=!0}return YA}var hce=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function xM(e){return e!=null&&!hce.has(e)?(Ja(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${z1}"`),null):e}function fce(e,t){let n,r,o,a,l;if(ace(e)){let d=e.getAttribute("action");r=d?Id(d,t):null,n=e.getAttribute("method")||j1,o=xM(e.getAttribute("enctype"))||z1,a=new FormData(e)}else if(sce(e)||lce(e)&&(e.type==="submit"||e.type==="image")){let d=e.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=e.getAttribute("formaction")||d.getAttribute("action");if(r=f?Id(f,t):null,n=e.getAttribute("formmethod")||d.getAttribute("method")||j1,o=xM(e.getAttribute("formenctype"))||xM(d.getAttribute("enctype"))||z1,a=new FormData(d,e),!uce()){let{name:m,type:v,value:C}=e;if(v==="image"){let y=m?`${m}.`:"";a.append(`${y}x`,"0"),a.append(`${y}y`,"0")}else m&&a.append(m,C)}}else{if(X_(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=j1,r=null,o=z1,l=e}return a&&o==="text/plain"&&(l=a,a=void 0),{action:r,method:n.toLowerCase(),encType:o,formData:a,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function hN(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function pce(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&Id(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function gce(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function mce(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function bce(e,t,n){let r=await Promise.all(e.map(async o=>{let a=t.routes[o.route.id];if(a){let l=await gce(a,n);return l.links?l.links():[]}return[]}));return yce(r.flat(1).filter(mce).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function E6(e,t,n,r,o,a){let l=(f,m)=>n[m]?f.route.id!==n[m].route.id:!0,d=(f,m)=>n[m].pathname!==f.pathname||n[m].route.path?.endsWith("*")&&n[m].params["*"]!==f.params["*"];return a==="assets"?t.filter((f,m)=>l(f,m)||d(f,m)):a==="data"?t.filter((f,m)=>{let v=r.routes[f.route.id];if(!v||!v.hasLoader)return!1;if(l(f,m)||d(f,m))return!0;if(f.route.shouldRevalidate){let C=f.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof C=="boolean")return C}return!0}):[]}function vce(e,t,{includeHydrateFallback:n}={}){return wce(e.map(r=>{let o=t.routes[r.route.id];if(!o)return[];let a=[o.module];return o.clientActionModule&&(a=a.concat(o.clientActionModule)),o.clientLoaderModule&&(a=a.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(a=a.concat(o.hydrateFallbackModule)),o.imports&&(a=a.concat(o.imports)),a}).flat(1))}function wce(e){return[...new Set(e)]}function Cce(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function yce(e,t){let n=new Set;return new Set(t),e.reduce((r,o)=>{let a=JSON.stringify(Cce(o));return n.has(a)||(n.add(a),r.push({key:a,link:o})),r},[])}function iU(){let e=M.useContext(Jb);return hN(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function kce(){let e=M.useContext(Q_);return hN(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var fN=M.createContext(void 0);fN.displayName="FrameworkContext";function oU(){let e=M.useContext(fN);return hN(e,"You must render this element inside a <HydratedRouter> element"),e}function xce(e,t){let n=M.useContext(fN),[r,o]=M.useState(!1),[a,l]=M.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:m,onMouseLeave:v,onTouchStart:C}=t,y=M.useRef(null);M.useEffect(()=>{if(e==="render"&&l(!0),e==="viewport"){let T=N=>{N.forEach(j=>{l(j.isIntersecting)})},P=new IntersectionObserver(T,{threshold:.5});return y.current&&P.observe(y.current),()=>{P.disconnect()}}},[e]),M.useEffect(()=>{if(r){let T=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(T)}}},[r]);let S=()=>{o(!0)},E=()=>{o(!1),l(!1)};return n?e!=="intent"?[a,y,{}]:[a,y,{onFocus:KC(d,S),onBlur:KC(f,E),onMouseEnter:KC(m,S),onMouseLeave:KC(v,E),onTouchStart:KC(C,S)}]:[!1,y,{}]}function KC(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function Ace({page:e,...t}){let{router:n}=iU(),r=M.useMemo(()=>qG(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?M.createElement(_ce,{page:e,matches:r,...t}):null}function Sce(e){let{manifest:t,routeModules:n}=oU(),[r,o]=M.useState([]);return M.useEffect(()=>{let a=!1;return bce(e,t,n).then(l=>{a||o(l)}),()=>{a=!0}},[e,t,n]),r}function _ce({page:e,matches:t,...n}){let r=eg(),{manifest:o,routeModules:a}=oU(),{basename:l}=iU(),{loaderData:d,matches:f}=kce(),m=M.useMemo(()=>E6(e,t,f,o,r,"data"),[e,t,f,o,r]),v=M.useMemo(()=>E6(e,t,f,o,r,"assets"),[e,t,f,o,r]),C=M.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let E=new Set,T=!1;if(t.forEach(N=>{let j=o.routes[N.route.id];!j||!j.hasLoader||(!m.some(L=>L.route.id===N.route.id)&&N.route.id in d&&a[N.route.id]?.shouldRevalidate||j.hasClientLoader?T=!0:E.add(N.route.id))}),E.size===0)return[];let P=pce(e,l,"data");return T&&E.size>0&&P.searchParams.set("_routes",t.filter(N=>E.has(N.route.id)).map(N=>N.route.id).join(",")),[P.pathname+P.search]},[l,d,r,o,m,t,e,a]),y=M.useMemo(()=>vce(v,o),[v,o]),S=Sce(v);return M.createElement(M.Fragment,null,C.map(E=>M.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...n})),y.map(E=>M.createElement("link",{key:E,rel:"modulepreload",href:E,...n})),S.map(({key:E,link:T})=>M.createElement("link",{key:E,nonce:n.nonce,...T})))}function Ece(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var sU=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{sU&&(window.__reactRouterVersion="7.9.6")}catch{}function Dce({basename:e,children:t,window:n}){let r=M.useRef();r.current==null&&(r.current=gle({window:n,v5Compat:!0}));let o=r.current,[a,l]=M.useState({action:o.action,location:o.location}),d=M.useCallback(f=>{M.startTransition(()=>l(f))},[l]);return M.useLayoutEffect(()=>o.listen(d),[o,d]),M.createElement(ice,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:o})}var aU=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,lU=M.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:o,reloadDocument:a,replace:l,state:d,target:f,to:m,preventScrollReset:v,viewTransition:C,...y},S){let{basename:E}=M.useContext(mc),T=typeof m=="string"&&aU.test(m),P,N=!1;if(typeof m=="string"&&T&&(P=m,sU))try{let te=new URL(window.location.href),ae=m.startsWith("//")?new URL(te.protocol+m):new URL(m),X=Id(ae.pathname,E);ae.origin===te.origin&&X!=null?m=X+ae.search+ae.hash:N=!0}catch{Ja(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let j=Gle(m,{relative:o}),[L,V,U]=xce(r,y),$=Rce(m,{replace:l,state:d,target:f,preventScrollReset:v,relative:o,viewTransition:C});function z(te){t&&t(te),te.defaultPrevented||$(te)}let K=M.createElement("a",{...y,...U,href:P||j,onClick:N||a?t:z,ref:Ece(S,V),target:f,"data-discover":!T&&n==="render"?"true":void 0});return L&&!T?M.createElement(M.Fragment,null,K,M.createElement(Ace,{page:j})):K});lU.displayName="Link";var Gn=M.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:o=!1,style:a,to:l,viewTransition:d,children:f,...m},v){let C=g0(l,{relative:m.relative}),y=eg(),S=M.useContext(Q_),{navigator:E,basename:T}=M.useContext(mc),P=S!=null&&Fce(C)&&d===!0,N=E.encodeLocation?E.encodeLocation(C).pathname:C.pathname,j=y.pathname,L=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;n||(j=j.toLowerCase(),L=L?L.toLowerCase():null,N=N.toLowerCase()),L&&T&&(L=Id(L,T)||L);const V=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let U=j===N||!o&&j.startsWith(N)&&j.charAt(V)==="/",$=L!=null&&(L===N||!o&&L.startsWith(N)&&L.charAt(N.length)==="/"),z={isActive:U,isPending:$,isTransitioning:P},K=U?t:void 0,te;typeof r=="function"?te=r(z):te=[r,U?"active":null,$?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let ae=typeof a=="function"?a(z):a;return M.createElement(lU,{...m,"aria-current":K,className:te,ref:v,style:ae,to:l,viewTransition:d},typeof f=="function"?f(z):f)});Gn.displayName="NavLink";var Mce=M.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:o,state:a,method:l=j1,action:d,onSubmit:f,relative:m,preventScrollReset:v,viewTransition:C,...y},S)=>{let E=Nce(),T=Oce(d,{relative:m}),P=l.toLowerCase()==="get"?"get":"post",N=typeof d=="string"&&aU.test(d),j=L=>{if(f&&f(L),L.defaultPrevented)return;L.preventDefault();let V=L.nativeEvent.submitter,U=V?.getAttribute("formmethod")||l;E(V||L.currentTarget,{fetcherKey:t,method:U,navigate:n,replace:o,state:a,relative:m,preventScrollReset:v,viewTransition:C})};return M.createElement("form",{ref:S,method:P,action:T,onSubmit:r?f:j,...y,"data-discover":!N&&e==="render"?"true":void 0})});Mce.displayName="Form";function Tce(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function cU(e){let t=M.useContext(Jb);return hr(t,Tce(e)),t}function Rce(e,{target:t,replace:n,state:r,preventScrollReset:o,relative:a,viewTransition:l}={}){let d=yn(),f=eg(),m=g0(e,{relative:a});return M.useCallback(v=>{if(dce(v,t)){v.preventDefault();let C=n!==void 0?n:Py(f)===Py(m);d(e,{replace:C,state:r,preventScrollReset:o,relative:a,viewTransition:l})}},[f,d,m,n,r,t,e,o,a,l])}var Pce=0,Ice=()=>`__${String(++Pce)}__`;function Nce(){let{router:e}=cU("useSubmit"),{basename:t}=M.useContext(mc),n=ece();return M.useCallback(async(r,o={})=>{let{action:a,method:l,encType:d,formData:f,body:m}=fce(r,t);if(o.navigate===!1){let v=o.fetcherKey||Ice();await e.fetch(v,n,o.action||a,{preventScrollReset:o.preventScrollReset,formData:f,body:m,formMethod:o.method||l,formEncType:o.encType||d,flushSync:o.flushSync})}else await e.navigate(o.action||a,{preventScrollReset:o.preventScrollReset,formData:f,body:m,formMethod:o.method||l,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[e,t,n])}function Oce(e,{relative:t}={}){let{basename:n}=M.useContext(mc),r=M.useContext(bc);hr(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),a={...g0(e||".",{relative:t})},l=eg();if(e==null){a.search=l.search;let d=new URLSearchParams(a.search),f=d.getAll("index");if(f.some(v=>v==="")){d.delete("index"),f.filter(C=>C).forEach(C=>d.append("index",C));let v=d.toString();a.search=v?`?${v}`:""}}return(!e||e===".")&&o.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:kd([n,a.pathname])),Py(a)}function Fce(e,{relative:t}={}){let n=M.useContext(JG);hr(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=cU("useViewTransitionState"),o=g0(e,{relative:t});if(!n.isTransitioning)return!1;let a=Id(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=Id(n.nextLocation.pathname,r)||n.nextLocation.pathname;return pS(o.pathname,l)!=null||pS(o.pathname,a)!=null}var tg=lN();const dU=fa(tg);function uU(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=uU(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function St(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=uU(e))&&(r&&(r+=" "),r+=t);return r}function Lce(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}Lce(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var m0=e=>typeof e=="number"&&!isNaN(e),Vp=e=>typeof e=="string",Nd=e=>typeof e=="function",Bce=e=>Vp(e)||m0(e),dP=e=>Vp(e)||Nd(e)?e:null,jce=(e,t)=>e===!1||m0(e)&&e>0?e:t,uP=e=>M.isValidElement(e)||Vp(e)||Nd(e)||m0(e);function zce(e,t,n=300){let{scrollHeight:r,style:o}=e;requestAnimationFrame(()=>{o.minHeight="initial",o.height=r+"px",o.transition=`all ${n}ms`,requestAnimationFrame(()=>{o.height="0",o.padding="0",o.margin="0",setTimeout(t,n)})})}function Hce({enter:e,exit:t,appendPosition:n=!1,collapse:r=!0,collapseDuration:o=300}){return function({children:a,position:l,preventExitTransition:d,done:f,nodeRef:m,isIn:v,playToast:C}){let y=n?`${e}--${l}`:e,S=n?`${t}--${l}`:t,E=M.useRef(0);return M.useLayoutEffect(()=>{let T=m.current,P=y.split(" "),N=j=>{j.target===m.current&&(C(),T.removeEventListener("animationend",N),T.removeEventListener("animationcancel",N),E.current===0&&j.type!=="animationcancel"&&T.classList.remove(...P))};T.classList.add(...P),T.addEventListener("animationend",N),T.addEventListener("animationcancel",N)},[]),M.useEffect(()=>{let T=m.current,P=()=>{T.removeEventListener("animationend",P),r?zce(T,f,o):f()};v||(d?P():(E.current=1,T.className+=` ${S}`,T.addEventListener("animationend",P)))},[v]),ue.createElement(ue.Fragment,null,a)}}function D6(e,t){return{content:hU(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:t}}function hU(e,t,n=!1){return M.isValidElement(e)&&!Vp(e.type)?M.cloneElement(e,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):Nd(e)?e({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):e}function Vce({closeToast:e,theme:t,ariaLabel:n="close"}){return ue.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:r=>{r.stopPropagation(),e(!0)},"aria-label":n},ue.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},ue.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function Gce({delay:e,isRunning:t,closeToast:n,type:r="default",hide:o,className:a,controlledProgress:l,progress:d,rtl:f,isIn:m,theme:v}){let C=o||l&&d===0,y={animationDuration:`${e}ms`,animationPlayState:t?"running":"paused"};l&&(y.transform=`scaleX(${d})`);let S=St("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${v}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":f}),E=Nd(a)?a({rtl:f,type:r,defaultClassName:S}):St(S,a),T={[l&&d>=1?"onTransitionEnd":"onAnimationEnd"]:l&&d<1?null:()=>{m&&n()}};return ue.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":C},ue.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${v} Toastify__progress-bar--${r}`}),ue.createElement("div",{role:"progressbar","aria-hidden":C?"true":"false","aria-label":"notification timer",className:E,style:y,...T}))}var Uce=1,fU=()=>`${Uce++}`;function Wce(e,t,n){let r=1,o=0,a=[],l=[],d=t,f=new Map,m=new Set,v=j=>(m.add(j),()=>m.delete(j)),C=()=>{l=Array.from(f.values()),m.forEach(j=>j())},y=({containerId:j,toastId:L,updateId:V})=>{let U=j?j!==e:e!==1,$=f.has(L)&&V==null;return U||$},S=(j,L)=>{f.forEach(V=>{var U;(L==null||L===V.props.toastId)&&((U=V.toggle)==null||U.call(V,j))})},E=j=>{var L,V;(V=(L=j.props)==null?void 0:L.onClose)==null||V.call(L,j.removalReason),j.isActive=!1},T=j=>{if(j==null)f.forEach(E);else{let L=f.get(j);L&&E(L)}C()},P=()=>{o-=a.length,a=[]},N=j=>{var L,V;let{toastId:U,updateId:$}=j.props,z=$==null;j.staleId&&f.delete(j.staleId),j.isActive=!0,f.set(U,j),C(),n(D6(j,z?"added":"updated")),z&&((V=(L=j.props).onOpen)==null||V.call(L))};return{id:e,props:d,observe:v,toggle:S,removeToast:T,toasts:f,clearQueue:P,buildToast:(j,L)=>{if(y(L))return;let{toastId:V,updateId:U,data:$,staleId:z,delay:K}=L,te=U==null;te&&o++;let ae={...d,style:d.toastStyle,key:r++,...Object.fromEntries(Object.entries(L).filter(([Z,se])=>se!=null)),toastId:V,updateId:U,data:$,isIn:!1,className:dP(L.className||d.toastClassName),progressClassName:dP(L.progressClassName||d.progressClassName),autoClose:L.isLoading?!1:jce(L.autoClose,d.autoClose),closeToast(Z){f.get(V).removalReason=Z,T(V)},deleteToast(){let Z=f.get(V);if(Z!=null){if(n(D6(Z,"removed")),f.delete(V),o--,o<0&&(o=0),a.length>0){N(a.shift());return}C()}}};ae.closeButton=d.closeButton,L.closeButton===!1||uP(L.closeButton)?ae.closeButton=L.closeButton:L.closeButton===!0&&(ae.closeButton=uP(d.closeButton)?d.closeButton:!0);let X={content:j,props:ae,staleId:z};d.limit&&d.limit>0&&o>d.limit&&te?a.push(X):m0(K)?setTimeout(()=>{N(X)},K):N(X)},setProps(j){d=j},setToggle:(j,L)=>{let V=f.get(j);V&&(V.toggle=L)},isToastActive:j=>{var L;return(L=f.get(j))==null?void 0:L.isActive},getSnapshot:()=>l}}var mo=new Map,Iy=[],hP=new Set,$ce=e=>hP.forEach(t=>t(e)),pU=()=>mo.size>0;function qce(){Iy.forEach(e=>mU(e.content,e.options)),Iy=[]}var Kce=(e,{containerId:t})=>{var n;return(n=mo.get(t||1))==null?void 0:n.toasts.get(e)};function gU(e,t){var n;if(t)return!!((n=mo.get(t))!=null&&n.isToastActive(e));let r=!1;return mo.forEach(o=>{o.isToastActive(e)&&(r=!0)}),r}function Yce(e){if(!pU()){Iy=Iy.filter(t=>e!=null&&t.options.toastId!==e);return}if(e==null||Bce(e))mo.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=mo.get(e.containerId);t?t.removeToast(e.id):mo.forEach(n=>{n.removeToast(e.id)})}}var Qce=(e={})=>{mo.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})};function mU(e,t){uP(e)&&(pU()||Iy.push({content:e,options:t}),mo.forEach(n=>{n.buildToast(e,t)}))}function Zce(e){var t;(t=mo.get(e.containerId||1))==null||t.setToggle(e.id,e.fn)}function bU(e,t){mo.forEach(n=>{(t==null||!(t!=null&&t.containerId)||t?.containerId===n.id)&&n.toggle(e,t?.id)})}function Xce(e){let t=e.containerId||1;return{subscribe(n){let r=Wce(t,e,$ce);mo.set(t,r);let o=r.observe(n);return qce(),()=>{o(),mo.delete(t)}},setProps(n){var r;(r=mo.get(t))==null||r.setProps(n)},getSnapshot(){var n;return(n=mo.get(t))==null?void 0:n.getSnapshot()}}}function Jce(e){return hP.add(e),()=>{hP.delete(e)}}function ede(e){return e&&(Vp(e.toastId)||m0(e.toastId))?e.toastId:fU()}function b0(e,t){return mU(e,t),t.toastId}function J_(e,t){return{...t,type:t&&t.type||e,toastId:ede(t)}}function eE(e){return(t,n)=>b0(t,J_(e,n))}function Ge(e,t){return b0(e,J_("default",t))}Ge.loading=(e,t)=>b0(e,J_("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function tde(e,{pending:t,error:n,success:r},o){let a;t&&(a=Vp(t)?Ge.loading(t,o):Ge.loading(t.render,{...o,...t}));let l={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},d=(m,v,C)=>{if(v==null){Ge.dismiss(a);return}let y={type:m,...l,...o,data:C},S=Vp(v)?{render:v}:v;return a?Ge.update(a,{...y,...S}):Ge(S.render,{...y,...S}),C},f=Nd(e)?e():e;return f.then(m=>d("success",r,m)).catch(m=>d("error",n,m)),f}Ge.promise=tde;Ge.success=eE("success");Ge.info=eE("info");Ge.error=eE("error");Ge.warning=eE("warning");Ge.warn=Ge.warning;Ge.dark=(e,t)=>b0(e,J_("default",{theme:"dark",...t}));function nde(e){Yce(e)}Ge.dismiss=nde;Ge.clearWaitingQueue=Qce;Ge.isActive=gU;Ge.update=(e,t={})=>{let n=Kce(e,t);if(n){let{props:r,content:o}=n,a={delay:100,...r,...t,toastId:t.toastId||e,updateId:fU()};a.toastId!==e&&(a.staleId=e);let l=a.render||o;delete a.render,b0(l,a)}};Ge.done=e=>{Ge.update(e,{progress:1})};Ge.onChange=Jce;Ge.play=e=>bU(!0,e);Ge.pause=e=>bU(!1,e);function rde(e){var t;let{subscribe:n,getSnapshot:r,setProps:o}=M.useRef(Xce(e)).current;o(e);let a=(t=M.useSyncExternalStore(n,r,r))==null?void 0:t.slice();function l(d){if(!a)return[];let f=new Map;return e.newestOnTop&&a.reverse(),a.forEach(m=>{let{position:v}=m.props;f.has(v)||f.set(v,[]),f.get(v).push(m)}),Array.from(f,m=>d(m[0],m[1]))}return{getToastToRender:l,isToastActive:gU,count:a?.length}}function ide(e){let[t,n]=M.useState(!1),[r,o]=M.useState(!1),a=M.useRef(null),l=M.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:d,pauseOnHover:f,closeToast:m,onClick:v,closeOnClick:C}=e;Zce({id:e.toastId,containerId:e.containerId,fn:n}),M.useEffect(()=>{if(e.pauseOnFocusLoss)return y(),()=>{S()}},[e.pauseOnFocusLoss]);function y(){document.hasFocus()||N(),window.addEventListener("focus",P),window.addEventListener("blur",N)}function S(){window.removeEventListener("focus",P),window.removeEventListener("blur",N)}function E(z){if(e.draggable===!0||e.draggable===z.pointerType){j();let K=a.current;l.canCloseOnClick=!0,l.canDrag=!0,K.style.transition="none",e.draggableDirection==="x"?(l.start=z.clientX,l.removalDistance=K.offsetWidth*(e.draggablePercent/100)):(l.start=z.clientY,l.removalDistance=K.offsetHeight*(e.draggablePercent===80?e.draggablePercent*1.5:e.draggablePercent)/100)}}function T(z){let{top:K,bottom:te,left:ae,right:X}=a.current.getBoundingClientRect();z.nativeEvent.type!=="touchend"&&e.pauseOnHover&&z.clientX>=ae&&z.clientX<=X&&z.clientY>=K&&z.clientY<=te?N():P()}function P(){n(!0)}function N(){n(!1)}function j(){l.didMove=!1,document.addEventListener("pointermove",V),document.addEventListener("pointerup",U)}function L(){document.removeEventListener("pointermove",V),document.removeEventListener("pointerup",U)}function V(z){let K=a.current;if(l.canDrag&&K){l.didMove=!0,t&&N(),e.draggableDirection==="x"?l.delta=z.clientX-l.start:l.delta=z.clientY-l.start,l.start!==z.clientX&&(l.canCloseOnClick=!1);let te=e.draggableDirection==="x"?`${l.delta}px, var(--y)`:`0, calc(${l.delta}px + var(--y))`;K.style.transform=`translate3d(${te},0)`,K.style.opacity=`${1-Math.abs(l.delta/l.removalDistance)}`}}function U(){L();let z=a.current;if(l.canDrag&&l.didMove&&z){if(l.canDrag=!1,Math.abs(l.delta)>l.removalDistance){o(!0),e.closeToast(!0),e.collapseAll();return}z.style.transition="transform 0.2s, opacity 0.2s",z.style.removeProperty("transform"),z.style.removeProperty("opacity")}}let $={onPointerDown:E,onPointerUp:T};return d&&f&&($.onMouseEnter=N,e.stacked||($.onMouseLeave=P)),C&&($.onClick=z=>{v&&v(z),l.canCloseOnClick&&m(!0)}),{playToast:P,pauseToast:N,isRunning:t,preventExitTransition:r,toastRef:a,eventHandlers:$}}var ode=typeof window<"u"?M.useLayoutEffect:M.useEffect,tE=({theme:e,type:t,isLoading:n,...r})=>ue.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...r});function sde(e){return ue.createElement(tE,{...e},ue.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function ade(e){return ue.createElement(tE,{...e},ue.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function lde(e){return ue.createElement(tE,{...e},ue.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function cde(e){return ue.createElement(tE,{...e},ue.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function dde(){return ue.createElement("div",{className:"Toastify__spinner"})}var fP={info:ade,warning:sde,success:lde,error:cde,spinner:dde},ude=e=>e in fP;function hde({theme:e,type:t,isLoading:n,icon:r}){let o=null,a={theme:e,type:t};return r===!1||(Nd(r)?o=r({...a,isLoading:n}):M.isValidElement(r)?o=M.cloneElement(r,a):n?o=fP.spinner():ude(t)&&(o=fP[t](a))),o}var fde=e=>{let{isRunning:t,preventExitTransition:n,toastRef:r,eventHandlers:o,playToast:a}=ide(e),{closeButton:l,children:d,autoClose:f,onClick:m,type:v,hideProgressBar:C,closeToast:y,transition:S,position:E,className:T,style:P,progressClassName:N,updateId:j,role:L,progress:V,rtl:U,toastId:$,deleteToast:z,isIn:K,isLoading:te,closeOnClick:ae,theme:X,ariaLabel:Z}=e,se=St("Toastify__toast",`Toastify__toast-theme--${X}`,`Toastify__toast--${v}`,{"Toastify__toast--rtl":U},{"Toastify__toast--close-on-click":ae}),Q=Nd(T)?T({rtl:U,position:E,type:v,defaultClassName:se}):St(se,T),J=hde(e),re=!!V||!f,ee={closeToast:y,type:v,theme:X},le=null;return l===!1||(Nd(l)?le=l(ee):M.isValidElement(l)?le=M.cloneElement(l,ee):le=Vce(ee)),ue.createElement(S,{isIn:K,done:z,position:E,preventExitTransition:n,nodeRef:r,playToast:a},ue.createElement("div",{id:$,tabIndex:0,onClick:m,"data-in":K,className:Q,...o,style:P,ref:r,...K&&{role:L,"aria-label":Z}},J!=null&&ue.createElement("div",{className:St("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!te})},J),hU(d,e,!t),le,!e.customProgressBar&&ue.createElement(Gce,{...j&&!re?{key:`p-${j}`}:{},rtl:U,theme:X,delay:f,isRunning:t,isIn:K,closeToast:y,hide:C,type:v,className:N,controlledProgress:re,progress:V||0})))},pde=(e,t=!1)=>({enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}),gde=Hce(pde("bounce",!0)),mde={position:"top-right",transition:gde,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&e.code==="KeyT"};function pN(e){let t={...mde,...e},n=e.stacked,[r,o]=M.useState(!0),a=M.useRef(null),{getToastToRender:l,isToastActive:d,count:f}=rde(t),{className:m,style:v,rtl:C,containerId:y,hotKeys:S}=t;function E(P){let N=St("Toastify__toast-container",`Toastify__toast-container--${P}`,{"Toastify__toast-container--rtl":C});return Nd(m)?m({position:P,rtl:C,defaultClassName:N}):St(N,dP(m))}function T(){n&&(o(!0),Ge.play())}return ode(()=>{var P;if(n){let N=a.current.querySelectorAll('[data-in="true"]'),j=12,L=(P=t.position)==null?void 0:P.includes("top"),V=0,U=0;Array.from(N).reverse().forEach(($,z)=>{let K=$;K.classList.add("Toastify__toast--stacked"),z>0&&(K.dataset.collapsed=`${r}`),K.dataset.pos||(K.dataset.pos=L?"top":"bot");let te=V*(r?.2:1)+(r?0:j*z);K.style.setProperty("--y",`${L?te:te*-1}px`),K.style.setProperty("--g",`${j}`),K.style.setProperty("--s",`${1-(r?U:0)}`),V+=K.offsetHeight,U+=.025})}},[r,f,n]),M.useEffect(()=>{function P(N){var j;let L=a.current;S(N)&&((j=L.querySelector('[tabIndex="0"]'))==null||j.focus(),o(!1),Ge.pause()),N.key==="Escape"&&(document.activeElement===L||L!=null&&L.contains(document.activeElement))&&(o(!0),Ge.play())}return document.addEventListener("keydown",P),()=>{document.removeEventListener("keydown",P)}},[S]),ue.createElement("section",{ref:a,className:"Toastify",id:y,onMouseEnter:()=>{n&&(o(!1),Ge.pause())},onMouseLeave:T,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},l((P,N)=>{let j=N.length?{...v}:{...v,pointerEvents:"none"};return ue.createElement("div",{tabIndex:-1,className:E(P),"data-stacked":n,style:j,key:`c-${P}`},N.map(({content:L,props:V})=>ue.createElement(fde,{...V,stacked:n,collapseAll:T,isIn:d(V.toastId,V.containerId),key:`t-${V.key}`},L)))}))}const vU=M.createContext(null),nE=()=>M.useContext(vU);function bde({children:e}){const[t,n]=M.useState(()=>{const o=localStorage.getItem("user");return o?JSON.parse(o):null}),r=()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),n(null)};return A.jsx(vU.Provider,{value:{user:t,setUser:n,logout:r},children:e})}var wU={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},M6=ue.createContext&&ue.createContext(wU),vde=["attr","size","title"];function wde(e,t){if(e==null)return{};var n=Cde(e,t),r,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)r=a[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Cde(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function gS(){return gS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gS.apply(this,arguments)}function T6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function mS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?T6(Object(n),!0).forEach(function(r){yde(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yde(e,t,n){return t=kde(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kde(e){var t=xde(e,"string");return typeof t=="symbol"?t:t+""}function xde(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function CU(e){return e&&e.map((t,n)=>ue.createElement(t.tag,mS({key:n},t.attr),CU(t.child)))}function ln(e){return t=>ue.createElement(Ade,gS({attr:mS({},e.attr)},t),CU(e.child))}function Ade(e){var t=n=>{var{attr:r,size:o,title:a}=e,l=wde(e,vde),d=o||n.size||"1em",f;return n.className&&(f=n.className),e.className&&(f=(f?f+" ":"")+e.className),ue.createElement("svg",gS({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,l,{className:f,style:mS(mS({color:e.color||n.color},n.style),e.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),a&&ue.createElement("title",null,a),e.children)};return M6!==void 0?ue.createElement(M6.Consumer,null,n=>t(n)):t(wU)}function Sde(e){return ln({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(e)}function _de(e){return ln({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"18 15 12 9 6 15"},child:[]}]})(e)}function R6(e){return ln({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"},child:[]}]})(e)}function Ede(e){return ln({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"},child:[]},{tag:"polyline",attr:{points:"14 2 14 8 20 8"},child:[]},{tag:"line",attr:{x1:"16",y1:"13",x2:"8",y2:"13"},child:[]},{tag:"line",attr:{x1:"16",y1:"17",x2:"8",y2:"17"},child:[]},{tag:"polyline",attr:{points:"10 9 9 9 8 9"},child:[]}]})(e)}function Dde(e){return ln({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"},child:[]}]})(e)}function Mde(e){return ln({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(e)}function P6(e){return ln({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(e)}function Tde(e){return ln({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"},child:[]},{tag:"polyline",attr:{points:"17 21 17 13 7 13 7 21"},child:[]},{tag:"polyline",attr:{points:"7 3 7 8 15 8"},child:[]}]})(e)}function Rde(e){return ln({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(e)}function Pde(e){return ln({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"17 8 12 3 7 8"},child:[]},{tag:"line",attr:{x1:"12",y1:"3",x2:"12",y2:"15"},child:[]}]})(e)}function Ide(e){return ln({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(e)}function Nde(e){return ln({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(e)}function Ode(e){return ln({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(e)}function I6(e){return ln({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(e)}function Fde(e){return ln({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(e)}function AM(e){return ln({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 236c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-64c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-72v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm96-114.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(e)}function Lde(e){return ln({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M181.9 256.1c-5-16-4.9-46.9-2-46.9 8.4 0 7.6 36.9 2 46.9zm-1.7 47.2c-7.7 20.2-17.3 43.3-28.4 62.7 18.3-7 39-17.2 62.9-21.9-12.7-9.6-24.9-23.4-34.5-40.8zM86.1 428.1c0 .8 13.2-5.4 34.9-40.2-6.7 6.3-29.1 24.5-34.9 40.2zM248 160h136v328c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V24C0 10.7 10.7 0 24 0h200v136c0 13.2 10.8 24 24 24zm-8 171.8c-20-12.2-33.3-29-42.7-53.8 4.5-18.5 11.6-46.6 6.2-64.2-4.7-29.4-42.4-26.5-47.8-6.8-5 18.3-.4 44.1 8.1 77-11.6 27.6-28.7 64.6-40.8 85.8-.1 0-.1.1-.2.1-27.1 13.9-73.6 44.5-54.5 68 5.6 6.9 16 10 21.5 10 17.9 0 35.7-18 61.1-61.8 25.8-8.5 54.1-19.1 79-23.2 21.7 11.8 47.1 19.5 64 19.5 29.2 0 31.2-32 19.7-43.4-13.9-13.6-54.3-9.7-73.6-7.2zM377 105L279 7c-4.5-4.5-10.6-7-17-7h-6v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-74.1 255.3c4.1-2.7-2.5-11.9-42.8-9 37.1 15.8 42.8 9 42.8 9z"},child:[]}]})(e)}function Bde(e){return ln({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528 32H48C21.5 32 0 53.5 0 80v16h576V80c0-26.5-21.5-48-48-48zM0 432c0 26.5 21.5 48 48 48h480c26.5 0 48-21.5 48-48V128H0v304zm352-232c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16zm0 64c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16zm0 64c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16zM176 192c35.3 0 64 28.7 64 64s-28.7 64-64 64-64-28.7-64-64 28.7-64 64-64zM67.1 396.2C75.5 370.5 99.6 352 128 352h8.2c12.3 5.1 25.7 8 39.8 8s27.6-2.9 39.8-8h8.2c28.4 0 52.5 18.5 60.9 44.2 3.2 9.9-5.2 19.8-15.6 19.8H82.7c-10.4 0-18.8-10-15.6-19.8z"},child:[]}]})(e)}function jde(e){return ln({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 480H48c-26.51 0-48-21.49-48-48V80c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v352c0 26.51-21.49 48-48 48zM128 120c-22.091 0-40 17.909-40 40s17.909 40 40 40 40-17.909 40-40-17.909-40-40-40zm0 96c-22.091 0-40 17.909-40 40s17.909 40 40 40 40-17.909 40-40-17.909-40-40-40zm0 96c-22.091 0-40 17.909-40 40s17.909 40 40 40 40-17.909 40-40-17.909-40-40-40zm288-136v-32c0-6.627-5.373-12-12-12H204c-6.627 0-12 5.373-12 12v32c0 6.627 5.373 12 12 12h200c6.627 0 12-5.373 12-12zm0 96v-32c0-6.627-5.373-12-12-12H204c-6.627 0-12 5.373-12 12v32c0 6.627 5.373 12 12 12h200c6.627 0 12-5.373 12-12zm0 96v-32c0-6.627-5.373-12-12-12H204c-6.627 0-12 5.373-12 12v32c0 6.627 5.373 12 12 12h200c6.627 0 12-5.373 12-12z"},child:[]}]})(e)}function zde(e){return ln({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M80 368H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm0-320H16A16 16 0 0 0 0 64v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16V64a16 16 0 0 0-16-16zm0 160H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm416 176H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(e)}function Hde(e){return ln({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M621.16 54.46C582.37 38.19 543.55 32 504.75 32c-123.17-.01-246.33 62.34-369.5 62.34-30.89 0-61.76-3.92-92.65-13.72-3.47-1.1-6.95-1.62-10.35-1.62C15.04 79 0 92.32 0 110.81v317.26c0 12.63 7.23 24.6 18.84 29.46C57.63 473.81 96.45 480 135.25 480c123.17 0 246.34-62.35 369.51-62.35 30.89 0 61.76 3.92 92.65 13.72 3.47 1.1 6.95 1.62 10.35 1.62 17.21 0 32.25-13.32 32.25-31.81V83.93c-.01-12.64-7.24-24.6-18.85-29.47zM48 132.22c20.12 5.04 41.12 7.57 62.72 8.93C104.84 170.54 79 192.69 48 192.69v-60.47zm0 285v-47.78c34.37 0 62.18 27.27 63.71 61.4-22.53-1.81-43.59-6.31-63.71-13.62zM320 352c-44.19 0-80-42.99-80-96 0-53.02 35.82-96 80-96s80 42.98 80 96c0 53.03-35.83 96-80 96zm272 27.78c-17.52-4.39-35.71-6.85-54.32-8.44 5.87-26.08 27.5-45.88 54.32-49.28v57.72zm0-236.11c-30.89-3.91-54.86-29.7-55.81-61.55 19.54 2.17 38.09 6.23 55.81 12.66v48.89z"},child:[]}]})(e)}function SM(e){return ln({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function _M(e){return ln({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"},child:[]}]})(e)}function Vde(e){return ln({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 32h192c13.255 0 24 10.745 24 24v160c0 13.255-10.745 24-24 24H296c-13.255 0-24-10.745-24-24V56c0-13.255 10.745-24 24-24zm-80 0H24C10.745 32 0 42.745 0 56v160c0 13.255 10.745 24 24 24h192c13.255 0 24-10.745 24-24V56c0-13.255-10.745-24-24-24zM0 296v160c0 13.255 10.745 24 24 24h192c13.255 0 24-10.745 24-24V296c0-13.255-10.745-24-24-24H24c-13.255 0-24 10.745-24 24zm296 184h192c13.255 0 24-10.745 24-24V296c0-13.255-10.745-24-24-24H296c-13.255 0-24 10.745-24 24v160c0 13.255 10.745 24 24 24z"},child:[]}]})(e)}function Gde(e){return ln({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(e)}function Ude(e){return ln({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"},child:[]}]})(e)}function Wde(e){return ln({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm95.8 32.6L272 480l-32-136 32-56h-96l32 56-32 136-47.8-191.4C56.9 292 0 350.3 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-72.1-56.9-130.4-128.2-133.8z"},child:[]}]})(e)}const $de=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),qde=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),N6=e=>{const t=qde(e);return t.charAt(0).toUpperCase()+t.slice(1)},yU=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),Kde=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var Yde={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Qde=M.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:a,iconNode:l,...d},f)=>M.createElement("svg",{ref:f,...Yde,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:yU("lucide",o),...!a&&!Kde(d)&&{"aria-hidden":"true"},...d},[...l.map(([m,v])=>M.createElement(m,v)),...Array.isArray(a)?a:[a]]));const Vt=(e,t)=>{const n=M.forwardRef(({className:r,...o},a)=>M.createElement(Qde,{ref:a,iconNode:t,className:yU(`lucide-${$de(N6(e))}`,`lucide-${e}`,r),...o}));return n.displayName=N6(e),n};const Zde=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Yi=Vt("activity",Zde);const Xde=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Jde=Vt("arrow-left",Xde);const eue=[["path",{d:"M15 13a3 3 0 1 0-6 0",key:"10j68g"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}]],tue=Vt("book-user",eue);const nue=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],rue=Vt("briefcase",nue);const iue=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],O6=Vt("calendar-days",iue);const oue=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Yn=Vt("calendar",oue);const sue=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],pP=Vt("chart-column",sue);const aue=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],lue=Vt("check",aue);const cue=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],rE=Vt("chevron-down",cue);const due=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],uue=Vt("chevron-right",due);const hue=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],fue=Vt("circle-alert",hue);const pue=[["path",{d:"M18 20a6 6 0 0 0-12 0",key:"1qehca"}],["circle",{cx:"12",cy:"10",r:"4",key:"1h16sb"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],gue=Vt("circle-user-round",pue);const mue=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],EM=Vt("clipboard-list",mue);const bue=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],bS=Vt("clock",bue);const vue=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],wue=Vt("dollar-sign",vue);const Cue=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],yue=Vt("eye-off",Cue);const kue=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],v0=Vt("eye",kue);const xue=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],Aue=Vt("file-spreadsheet",xue);const Sue=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],_ue=Vt("house",Sue);const Eue=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Due=Vt("loader-circle",Eue);const Mue=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Tue=Vt("lock",Mue);const Rue=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Pue=Vt("mail",Rue);const Iue=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],Xo=Vt("message-circle",Iue);const Nue=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Oue=Vt("message-square",Nue);const Fue=[["path",{d:"M13.4 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-7.4",key:"re6nr2"}],["path",{d:"M2 6h4",key:"aawbzj"}],["path",{d:"M2 10h4",key:"l0bgd4"}],["path",{d:"M2 14h4",key:"1gsvsf"}],["path",{d:"M2 18h4",key:"1bu2t1"}],["path",{d:"M21.378 5.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"pqwjuv"}]],gN=Vt("notebook-pen",Fue);const Lue=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"16",height:"18",x:"4",y:"4",rx:"2",key:"1u9h20"}],["path",{d:"M8 10h6",key:"3oa6kw"}],["path",{d:"M8 14h8",key:"1fgep2"}],["path",{d:"M8 18h5",key:"17enja"}]],Qd=Vt("notepad-text",Lue);const Bue=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],vS=Vt("phone",Bue);const jue=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],kU=Vt("play",jue);const zue=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],xU=Vt("refresh-cw",zue);const Hue=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],AU=Vt("shield",Hue);const Vue=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],ko=Vt("square-pen",Vue);const Gue=[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]],Uue=Vt("sticky-note",Gue);const Wue=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],$ue=Vt("target",Wue);const que=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],SU=Vt("trending-up",que);const Kue=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],DM=Vt("user-check",Kue);const Yue=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Bn=Vt("user",Yue);const Que=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Ny=Vt("users",Que);const Zue=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],_U=Vt("x",Zue);function Xue({onToggleSidebar:e}){const{user:t,setUser:n}=nE(),r=yn(),[o,a]=M.useState(!1),l=M.useRef(null),d="https://crm.softwaresetu.com/api",f=JSON.parse(localStorage.getItem("user")||"{}"),m=JSON.parse(localStorage.getItem("adminData")||"{}");console.log("Stored User:",f),console.log("Admin Data:",m);const v=f?.role==="employee"?m?.logo:f?.logo,C=v?v.startsWith("http")?v:`${d}/${v}`:"/fallback-logo.png",y=()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),n(null),r("/"),a(!1)};M.useEffect(()=>{const E=T=>{l.current&&!l.current.contains(T.target)&&a(!1)};return document.addEventListener("mousedown",E),()=>document.removeEventListener("mousedown",E)},[]);const S=E=>{switch(E){case"admin":return"bg-purple-100 text-purple-800 border-purple-200";case"manager":return"bg-blue-100 text-blue-800 border-blue-200";case"employee":return"bg-orange-100 text-orange-800 border-orange-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}};return A.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 bg-white border-b border-gray-200 shadow-sm backdrop-blur-sm bg-white/95",children:A.jsxs("div",{className:"mx-auto flex items-center justify-between px-6 py-3",children:[A.jsxs("div",{className:"flex items-center gap-4",children:[A.jsx("button",{onClick:e,className:"md:hidden p-2.5 rounded-xl border border-gray-200 hover:bg-gray-50 transition-all",children:A.jsxs("div",{className:"w-5 h-5 flex flex-col justify-center",children:[A.jsx("span",{className:"w-full h-0.5 bg-gray-600 mb-1"}),A.jsx("span",{className:"w-full h-0.5 bg-gray-600 mb-1"}),A.jsx("span",{className:"w-full h-0.5 bg-gray-600"})]})}),A.jsx("img",{src:C,alt:"Logo",className:"h-10 md:h-12 w-auto object-contain"})]}),A.jsxs("div",{className:"flex items-center gap-4",children:[f?.role==="employee"&&A.jsxs("button",{onClick:()=>r("/my-performance"),className:"flex items-center gap-3 px-5 py-2.5 bg-blue-600 text-white rounded-xl hover:bg-blue-700",children:[A.jsx(SU,{}),A.jsx("span",{children:"My Performance"})]}),A.jsxs("div",{className:"relative",ref:l,children:[A.jsxs("button",{onClick:()=>a(!o),className:"flex items-center gap-3 px-4 py-2.5 rounded-xl border border-gray-200 hover:bg-gray-50",children:[A.jsx(Ude,{className:"text-2xl text-gray-500"}),A.jsx("p",{className:"text-sm font-semibold hidden sm:block",children:f?.name}),o?A.jsx(_de,{}):A.jsx(Sde,{})]}),o&&A.jsxs("div",{className:"absolute right-0 top-full mt-2 w-64 bg-white rounded-2xl shadow-xl border border-gray-300 py-2",children:[A.jsxs("div",{className:"px-4 py-3 border-b border-gray-300",children:[A.jsx("p",{className:"text-sm font-semibold",children:f?.name}),A.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[A.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs border ${S(f?.role)}`,children:f?.role}),A.jsx("span",{className:"text-xs text-gray-500",children:f?.email})]})]}),f?.role!=="employee"&&A.jsxs("button",{onClick:()=>{r("/profile"),a(!1)},className:"flex items-center gap-3 w-full px-4 py-2.5 text-sm hover:bg-gray-50",children:[A.jsx(Ide,{}),"Update Logo"]}),A.jsxs("button",{onClick:y,className:"flex items-center gap-3 w-full px-4 py-2.5 text-sm text-red-600 hover:bg-red-50",children:[A.jsx(Mde,{}),"Sign Out"]})]})]})]})]})})}function Jue(e){return ln({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216.058 50.312c-.86-.005-1.572.037-2.12.123-5.981.932-20.108 8.016-36.207 19.511-16.098 11.496-34.887 27.134-53.93 44.485C95.74 140 67.162 169.31 45.217 194.7a3640.34 3640.34 0 0 0 50.812-3.872c1.538-16.08 6.79-32.61 17.368-45.879 10.166-12.751 26.122-21.682 46.617-21.675 18.943.006 41.55 7.126 68.935 23.275 21.438-25.45 40.574-39.736 58.412-45.451 4.809-1.54 9.513-2.39 14.06-2.643 13.645-.757 25.888 3.872 35.364 11.428 12.635 10.075 21.142 24.598 26.899 38.805.992 2.45 1.896 4.884 2.724 7.293 23.722-4.31 47.353-8.98 70.862-14.045-37.748-21.248-80.89-42.643-120-59.428-24.529-10.527-47.336-19.235-65.735-24.926-16.098-4.98-29.455-7.241-35.476-7.271zM305.4 116.13c-3.799-.029-7.94.635-12.548 2.111-14.046 4.5-32.654 17.808-54.899 45.59l-5.01 6.26-6.795-4.258c-28.717-17.994-50.548-24.553-66.142-24.558-15.595-.005-25.28 5.793-32.537 14.896-14.515 18.206-15.809 52.865-10.364 69.465 18.603 56.713 44.738 83.02 82.76 99.79 40.195-.354 79.786-7.153 118.967-19.483 20.884-31.578 38.095-67.142 36.006-118.356-.289-7.076-2.844-19.814-7.838-32.139-4.994-12.324-12.465-24.333-21.44-31.49-5.609-4.473-11.496-7.346-18.552-7.773-.53-.032-1.065-.05-1.608-.055zm-3.562 12.434a32.378 32.378 0 0 1 1.945.008c12.646.438 23.185 11.183 29.035 24.455-30.127-21.403-61.454-.145-79.638 12.49 12.363-17.632 28.675-36.452 48.658-36.953zm-137.897 25.761c13.546.007 30.081 4.885 46.036 17.26-86.153-26.888-63.03 66.667-35.965 120.168-28.36-17.18-59.2-88.077-38.166-125.47 3.994-7.101 14.55-11.965 28.095-11.958zm273.852 5.817a2248.032 2248.032 0 0 1-66.674 13.187c.972 4.94 1.54 9.517 1.703 13.524 1.966 48.19-12.285 84.872-30.328 115.326 3.958-.999 8.002-2.008 11.836-2.985 35.11-44.441 56.905-91.65 83.463-139.052zm15.437 9.289c-24.388 43.716-45.437 88.85-78.228 132.535 42.408 26.96 76.17 59.279 109.562 91.057-4.48-75.07-16.635-149.384-31.334-223.592zm-357.435 39.4a3715.148 3715.148 0 0 1-68.361 5.033c42.3 39.285 77.699 79.787 131.166 113.1 2.476.118 4.947.205 7.414.275-28.645-19.655-50.737-49.423-66.012-95.994-2.143-6.533-3.63-14.2-4.207-22.414zm-66.64 31.49l35.439 208.356c15.896-32.83 45.198-74.957 77.945-110.531-46.16-29.99-78.98-64.656-113.385-97.825zm333.741 75.29l-1.09.277c-54.862 13.97-125.265 32.309-201.154 29.244-35.114 37.072-67.574 85.062-82.158 116.557 146.769-2.776 272.969-26.229 398.856-50.698-35.89-34.067-70.647-67.974-114.454-95.38z"},child:[]}]})(e)}function ehe({open:e}){const t=localStorage.getItem("user"),n=t?JSON.parse(t):null,r="flex items-center gap-2 px-4 py-2 rounded-lg",o=({isActive:a})=>`${r} ${a?"bg-blue-600 text-white":"text-gray-700 hover:bg-gray-100"}`;return A.jsx("aside",{className:`
        fixed top-20 bottom-4 left-0 bg-white border-r rounded-r-2xl border-gray-200 p-4
        md:translate-x-0 w-64 transition-transform
        ${e?"translate-x-0":"-translate-x-full"}
        overflow-y-auto
      `,children:A.jsxs("nav",{className:"mt-2 space-y-1",children:[A.jsxs(Gn,{to:"/dashboard",className:o,children:[A.jsx(_ue,{className:"mr-2 h-5 w-5"})," Dashboard"]}),n?.role==="admin"&&A.jsxs(A.Fragment,{children:[A.jsxs(Gn,{to:"/employees",className:o,children:[A.jsx(Ny,{className:"mr-2 h-5 w-5"})," Employees"]}),A.jsxs(Gn,{to:"/customer",className:o,children:[A.jsx(Bn,{className:"mr-2 h-5 w-5"})," Customer"]}),A.jsxs(Gn,{to:"/excel",className:o,children:[A.jsx(Aue,{className:"mr-2 h-5 w-5"})," Excel"]}),A.jsxs(Gn,{to:"/earning-form",className:o,children:[A.jsx(wue,{className:"mr-2 h-5 w-5"})," Earning"]}),A.jsxs(Gn,{to:"/source-status",className:o,children:[A.jsx(Yi,{className:"mr-2 h-5 w-5"})," Customer Status"]}),A.jsxs(Gn,{to:"/daily",className:o,children:[A.jsx(O6,{className:"mr-2 h-5 w-5"})," Daily Demo"]}),A.jsxs(Gn,{to:"/admin-demo-done",className:o,children:[A.jsx(O6,{className:"mr-2 h-5 w-5"})," Demo Done"]}),A.jsxs(Gn,{to:"/daily-activity",className:o,children:[A.jsx(EM,{className:"mr-2 h-5 w-5"})," Daily Activity Report"]}),A.jsxs(Gn,{to:"/new-daily-activity",className:o,children:[A.jsx(EM,{className:"mr-2 h-5 w-5"})," New Daily Activity Report"]}),A.jsxs(Gn,{to:"/deal",className:o,children:[A.jsx(rue,{className:"mr-2 h-5 w-5"})," Deal"]}),A.jsxs(Gn,{to:"/admin-follow",className:o,children:[A.jsx(SU,{className:"mr-2 h-5 w-5"})," Follow / Demo"]}),A.jsxs(Gn,{to:"/admin-interested",className:o,children:[A.jsx(pP,{className:"mr-2 h-5 w-5"})," Interested"]}),A.jsxs(Gn,{to:"/admin-activity",className:o,children:[A.jsx(tue,{className:"mr-2 h-5 w-5"})," Users Activity"]}),A.jsxs(Gn,{to:"/dfi",className:o,children:[A.jsx(DM,{className:"mr-2 h-5 w-5"})," DFI"]}),A.jsxs(Gn,{to:"/user-track",className:o,children:[A.jsx(gue,{className:"mr-2 h-5 w-5"})," User Report"]}),A.jsxs(Gn,{to:"/deal-status-monthly",className:o,children:[A.jsx(Bn,{className:"mr-2 h-5 w-5"})," New Clients"]}),A.jsxs(Gn,{to:"/hr",className:o,children:[A.jsx(Jue,{className:"mr-2 h-5 w-5"})," HR"]})]}),n?.role==="employee"&&A.jsxs(A.Fragment,{children:[A.jsxs(Gn,{to:"/assign-customer",className:o,children:[A.jsx(Ny,{className:"mr-2 h-5 w-5"})," Contacts"]}),A.jsxs(Gn,{to:"/daily-activity",className:o,children:[A.jsx(EM,{className:"mr-2 h-5 w-5"})," Daily Activity Report"]}),A.jsxs(Gn,{to:"/follow-up",className:o,children:[A.jsx(Yi,{className:"mr-2 h-5 w-5"})," Follow Up / Demo"]}),A.jsxs(Gn,{to:"/user-interested",className:o,children:[A.jsx(pP,{className:"mr-2 h-5 w-5"})," Interested"]}),A.jsxs(Gn,{to:"/activity",className:o,children:[A.jsx(DM,{className:"mr-2 h-5 w-5"})," Activity"]}),A.jsxs(Gn,{to:"/user-dfi",className:o,children:[A.jsx(DM,{className:"mr-2 h-5 w-5"})," DFI"]}),A.jsxs(Gn,{to:"/deal-status-monthly",className:o,children:[A.jsx(Bn,{className:"mr-2 h-5 w-5"})," New Clients"]})]})]})})}function Wt({children:e}){const[t,n]=M.useState(!1);return A.jsxs("div",{className:"min-h-screen bg-gray-100",children:[A.jsx(Xue,{onToggleSidebar:()=>n(r=>!r)}),A.jsxs("div",{className:"flex pt-20",children:[A.jsx(ehe,{open:t}),A.jsx("main",{className:"flex-1 p-4 md:ml-64 w-full",children:e})]})]})}function EU(e,t){return function(){return e.apply(t,arguments)}}const{toString:the}=Object.prototype,{getPrototypeOf:mN}=Object,{iterator:iE,toStringTag:DU}=Symbol,oE=(e=>t=>{const n=the.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),ol=e=>(e=e.toLowerCase(),t=>oE(t)===e),sE=e=>t=>typeof t===e,{isArray:ev}=Array,_b=sE("undefined");function w0(e){return e!==null&&!_b(e)&&e.constructor!==null&&!_b(e.constructor)&&Ko(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const MU=ol("ArrayBuffer");function nhe(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&MU(e.buffer),t}const rhe=sE("string"),Ko=sE("function"),TU=sE("number"),C0=e=>e!==null&&typeof e=="object",ihe=e=>e===!0||e===!1,H1=e=>{if(oE(e)!=="object")return!1;const t=mN(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(DU in e)&&!(iE in e)},ohe=e=>{if(!C0(e)||w0(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},she=ol("Date"),ahe=ol("File"),lhe=ol("Blob"),che=ol("FileList"),dhe=e=>C0(e)&&Ko(e.pipe),uhe=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Ko(e.append)&&((t=oE(e))==="formdata"||t==="object"&&Ko(e.toString)&&e.toString()==="[object FormData]"))},hhe=ol("URLSearchParams"),[fhe,phe,ghe,mhe]=["ReadableStream","Request","Response","Headers"].map(ol),bhe=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function y0(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,o;if(typeof e!="object"&&(e=[e]),ev(e))for(r=0,o=e.length;r<o;r++)t.call(null,e[r],r,e);else{if(w0(e))return;const a=n?Object.getOwnPropertyNames(e):Object.keys(e),l=a.length;let d;for(r=0;r<l;r++)d=a[r],t.call(null,e[d],d,e)}}function RU(e,t){if(w0(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r=n.length,o;for(;r-- >0;)if(o=n[r],t===o.toLowerCase())return o;return null}const Cp=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,PU=e=>!_b(e)&&e!==Cp;function gP(){const{caseless:e,skipUndefined:t}=PU(this)&&this||{},n={},r=(o,a)=>{const l=e&&RU(n,a)||a;H1(n[l])&&H1(o)?n[l]=gP(n[l],o):H1(o)?n[l]=gP({},o):ev(o)?n[l]=o.slice():(!t||!_b(o))&&(n[l]=o)};for(let o=0,a=arguments.length;o<a;o++)arguments[o]&&y0(arguments[o],r);return n}const vhe=(e,t,n,{allOwnKeys:r}={})=>(y0(t,(o,a)=>{n&&Ko(o)?e[a]=EU(o,n):e[a]=o},{allOwnKeys:r}),e),whe=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Che=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},yhe=(e,t,n,r)=>{let o,a,l;const d={};if(t=t||{},e==null)return t;do{for(o=Object.getOwnPropertyNames(e),a=o.length;a-- >0;)l=o[a],(!r||r(l,e,t))&&!d[l]&&(t[l]=e[l],d[l]=!0);e=n!==!1&&mN(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},khe=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},xhe=e=>{if(!e)return null;if(ev(e))return e;let t=e.length;if(!TU(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},Ahe=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&mN(Uint8Array)),She=(e,t)=>{const r=(e&&e[iE]).call(e);let o;for(;(o=r.next())&&!o.done;){const a=o.value;t.call(e,a[0],a[1])}},_he=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},Ehe=ol("HTMLFormElement"),Dhe=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,o){return r.toUpperCase()+o}),F6=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),Mhe=ol("RegExp"),IU=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};y0(n,(o,a)=>{let l;(l=t(o,a,e))!==!1&&(r[a]=l||o)}),Object.defineProperties(e,r)},The=e=>{IU(e,(t,n)=>{if(Ko(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(Ko(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Rhe=(e,t)=>{const n={},r=o=>{o.forEach(a=>{n[a]=!0})};return ev(e)?r(e):r(String(e).split(t)),n},Phe=()=>{},Ihe=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Nhe(e){return!!(e&&Ko(e.append)&&e[DU]==="FormData"&&e[iE])}const Ohe=e=>{const t=new Array(10),n=(r,o)=>{if(C0(r)){if(t.indexOf(r)>=0)return;if(w0(r))return r;if(!("toJSON"in r)){t[o]=r;const a=ev(r)?[]:{};return y0(r,(l,d)=>{const f=n(l,o+1);!_b(f)&&(a[d]=f)}),t[o]=void 0,a}}return r};return n(e,0)},Fhe=ol("AsyncFunction"),Lhe=e=>e&&(C0(e)||Ko(e))&&Ko(e.then)&&Ko(e.catch),NU=((e,t)=>e?setImmediate:t?((n,r)=>(Cp.addEventListener("message",({source:o,data:a})=>{o===Cp&&a===n&&r.length&&r.shift()()},!1),o=>{r.push(o),Cp.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Ko(Cp.postMessage)),Bhe=typeof queueMicrotask<"u"?queueMicrotask.bind(Cp):typeof process<"u"&&process.nextTick||NU,jhe=e=>e!=null&&Ko(e[iE]),Me={isArray:ev,isArrayBuffer:MU,isBuffer:w0,isFormData:uhe,isArrayBufferView:nhe,isString:rhe,isNumber:TU,isBoolean:ihe,isObject:C0,isPlainObject:H1,isEmptyObject:ohe,isReadableStream:fhe,isRequest:phe,isResponse:ghe,isHeaders:mhe,isUndefined:_b,isDate:she,isFile:ahe,isBlob:lhe,isRegExp:Mhe,isFunction:Ko,isStream:dhe,isURLSearchParams:hhe,isTypedArray:Ahe,isFileList:che,forEach:y0,merge:gP,extend:vhe,trim:bhe,stripBOM:whe,inherits:Che,toFlatObject:yhe,kindOf:oE,kindOfTest:ol,endsWith:khe,toArray:xhe,forEachEntry:She,matchAll:_he,isHTMLForm:Ehe,hasOwnProperty:F6,hasOwnProp:F6,reduceDescriptors:IU,freezeMethods:The,toObjectSet:Rhe,toCamelCase:Dhe,noop:Phe,toFiniteNumber:Ihe,findKey:RU,global:Cp,isContextDefined:PU,isSpecCompliantForm:Nhe,toJSONObject:Ohe,isAsyncFn:Fhe,isThenable:Lhe,setImmediate:NU,asap:Bhe,isIterable:jhe};function Ot(e,t,n,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),o&&(this.response=o,this.status=o.status?o.status:null)}Me.inherits(Ot,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Me.toJSONObject(this.config),code:this.code,status:this.status}}});const OU=Ot.prototype,FU={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{FU[e]={value:e}});Object.defineProperties(Ot,FU);Object.defineProperty(OU,"isAxiosError",{value:!0});Ot.from=(e,t,n,r,o,a)=>{const l=Object.create(OU);Me.toFlatObject(e,l,function(v){return v!==Error.prototype},m=>m!=="isAxiosError");const d=e&&e.message?e.message:"Error",f=t==null&&e?e.code:t;return Ot.call(l,d,f,n,r,o),e&&l.cause==null&&Object.defineProperty(l,"cause",{value:e,configurable:!0}),l.name=e&&e.name||"Error",a&&Object.assign(l,a),l};const zhe=null;function mP(e){return Me.isPlainObject(e)||Me.isArray(e)}function LU(e){return Me.endsWith(e,"[]")?e.slice(0,-2):e}function L6(e,t,n){return e?e.concat(t).map(function(o,a){return o=LU(o),!n&&a?"["+o+"]":o}).join(n?".":""):t}function Hhe(e){return Me.isArray(e)&&!e.some(mP)}const Vhe=Me.toFlatObject(Me,{},null,function(t){return/^is[A-Z]/.test(t)});function aE(e,t,n){if(!Me.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=Me.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(T,P){return!Me.isUndefined(P[T])});const r=n.metaTokens,o=n.visitor||v,a=n.dots,l=n.indexes,f=(n.Blob||typeof Blob<"u"&&Blob)&&Me.isSpecCompliantForm(t);if(!Me.isFunction(o))throw new TypeError("visitor must be a function");function m(E){if(E===null)return"";if(Me.isDate(E))return E.toISOString();if(Me.isBoolean(E))return E.toString();if(!f&&Me.isBlob(E))throw new Ot("Blob is not supported. Use a Buffer instead.");return Me.isArrayBuffer(E)||Me.isTypedArray(E)?f&&typeof Blob=="function"?new Blob([E]):Buffer.from(E):E}function v(E,T,P){let N=E;if(E&&!P&&typeof E=="object"){if(Me.endsWith(T,"{}"))T=r?T:T.slice(0,-2),E=JSON.stringify(E);else if(Me.isArray(E)&&Hhe(E)||(Me.isFileList(E)||Me.endsWith(T,"[]"))&&(N=Me.toArray(E)))return T=LU(T),N.forEach(function(L,V){!(Me.isUndefined(L)||L===null)&&t.append(l===!0?L6([T],V,a):l===null?T:T+"[]",m(L))}),!1}return mP(E)?!0:(t.append(L6(P,T,a),m(E)),!1)}const C=[],y=Object.assign(Vhe,{defaultVisitor:v,convertValue:m,isVisitable:mP});function S(E,T){if(!Me.isUndefined(E)){if(C.indexOf(E)!==-1)throw Error("Circular reference detected in "+T.join("."));C.push(E),Me.forEach(E,function(N,j){(!(Me.isUndefined(N)||N===null)&&o.call(t,N,Me.isString(j)?j.trim():j,T,y))===!0&&S(N,T?T.concat(j):[j])}),C.pop()}}if(!Me.isObject(e))throw new TypeError("data must be an object");return S(e),t}function B6(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function bN(e,t){this._pairs=[],e&&aE(e,this,t)}const BU=bN.prototype;BU.append=function(t,n){this._pairs.push([t,n])};BU.toString=function(t){const n=t?function(r){return t.call(this,r,B6)}:B6;return this._pairs.map(function(o){return n(o[0])+"="+n(o[1])},"").join("&")};function Ghe(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function jU(e,t,n){if(!t)return e;const r=n&&n.encode||Ghe;Me.isFunction(n)&&(n={serialize:n});const o=n&&n.serialize;let a;if(o?a=o(t,n):a=Me.isURLSearchParams(t)?t.toString():new bN(t,n).toString(r),a){const l=e.indexOf("#");l!==-1&&(e=e.slice(0,l)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class j6{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Me.forEach(this.handlers,function(r){r!==null&&t(r)})}}const zU={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Uhe=typeof URLSearchParams<"u"?URLSearchParams:bN,Whe=typeof FormData<"u"?FormData:null,$he=typeof Blob<"u"?Blob:null,qhe={isBrowser:!0,classes:{URLSearchParams:Uhe,FormData:Whe,Blob:$he},protocols:["http","https","file","blob","url","data"]},vN=typeof window<"u"&&typeof document<"u",bP=typeof navigator=="object"&&navigator||void 0,Khe=vN&&(!bP||["ReactNative","NativeScript","NS"].indexOf(bP.product)<0),Yhe=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Qhe=vN&&window.location.href||"http://localhost",Zhe=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:vN,hasStandardBrowserEnv:Khe,hasStandardBrowserWebWorkerEnv:Yhe,navigator:bP,origin:Qhe},Symbol.toStringTag,{value:"Module"})),$i={...Zhe,...qhe};function Xhe(e,t){return aE(e,new $i.classes.URLSearchParams,{visitor:function(n,r,o,a){return $i.isNode&&Me.isBuffer(n)?(this.append(r,n.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...t})}function Jhe(e){return Me.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function efe(e){const t={},n=Object.keys(e);let r;const o=n.length;let a;for(r=0;r<o;r++)a=n[r],t[a]=e[a];return t}function HU(e){function t(n,r,o,a){let l=n[a++];if(l==="__proto__")return!0;const d=Number.isFinite(+l),f=a>=n.length;return l=!l&&Me.isArray(o)?o.length:l,f?(Me.hasOwnProp(o,l)?o[l]=[o[l],r]:o[l]=r,!d):((!o[l]||!Me.isObject(o[l]))&&(o[l]=[]),t(n,r,o[l],a)&&Me.isArray(o[l])&&(o[l]=efe(o[l])),!d)}if(Me.isFormData(e)&&Me.isFunction(e.entries)){const n={};return Me.forEachEntry(e,(r,o)=>{t(Jhe(r),o,n,0)}),n}return null}function tfe(e,t,n){if(Me.isString(e))try{return(t||JSON.parse)(e),Me.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const k0={transitional:zU,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",o=r.indexOf("application/json")>-1,a=Me.isObject(t);if(a&&Me.isHTMLForm(t)&&(t=new FormData(t)),Me.isFormData(t))return o?JSON.stringify(HU(t)):t;if(Me.isArrayBuffer(t)||Me.isBuffer(t)||Me.isStream(t)||Me.isFile(t)||Me.isBlob(t)||Me.isReadableStream(t))return t;if(Me.isArrayBufferView(t))return t.buffer;if(Me.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let d;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Xhe(t,this.formSerializer).toString();if((d=Me.isFileList(t))||r.indexOf("multipart/form-data")>-1){const f=this.env&&this.env.FormData;return aE(d?{"files[]":t}:t,f&&new f,this.formSerializer)}}return a||o?(n.setContentType("application/json",!1),tfe(t)):t}],transformResponse:[function(t){const n=this.transitional||k0.transitional,r=n&&n.forcedJSONParsing,o=this.responseType==="json";if(Me.isResponse(t)||Me.isReadableStream(t))return t;if(t&&Me.isString(t)&&(r&&!this.responseType||o)){const l=!(n&&n.silentJSONParsing)&&o;try{return JSON.parse(t,this.parseReviver)}catch(d){if(l)throw d.name==="SyntaxError"?Ot.from(d,Ot.ERR_BAD_RESPONSE,this,null,this.response):d}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:$i.classes.FormData,Blob:$i.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Me.forEach(["delete","get","head","post","put","patch"],e=>{k0.headers[e]={}});const nfe=Me.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),rfe=e=>{const t={};let n,r,o;return e&&e.split(`
`).forEach(function(l){o=l.indexOf(":"),n=l.substring(0,o).trim().toLowerCase(),r=l.substring(o+1).trim(),!(!n||t[n]&&nfe[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},z6=Symbol("internals");function YC(e){return e&&String(e).trim().toLowerCase()}function V1(e){return e===!1||e==null?e:Me.isArray(e)?e.map(V1):String(e)}function ife(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const ofe=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function MM(e,t,n,r,o){if(Me.isFunction(r))return r.call(this,t,n);if(o&&(t=n),!!Me.isString(t)){if(Me.isString(r))return t.indexOf(r)!==-1;if(Me.isRegExp(r))return r.test(t)}}function sfe(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function afe(e,t){const n=Me.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(o,a,l){return this[r].call(this,t,o,a,l)},configurable:!0})})}let Yo=class{constructor(t){t&&this.set(t)}set(t,n,r){const o=this;function a(d,f,m){const v=YC(f);if(!v)throw new Error("header name must be a non-empty string");const C=Me.findKey(o,v);(!C||o[C]===void 0||m===!0||m===void 0&&o[C]!==!1)&&(o[C||f]=V1(d))}const l=(d,f)=>Me.forEach(d,(m,v)=>a(m,v,f));if(Me.isPlainObject(t)||t instanceof this.constructor)l(t,n);else if(Me.isString(t)&&(t=t.trim())&&!ofe(t))l(rfe(t),n);else if(Me.isObject(t)&&Me.isIterable(t)){let d={},f,m;for(const v of t){if(!Me.isArray(v))throw TypeError("Object iterator must return a key-value pair");d[m=v[0]]=(f=d[m])?Me.isArray(f)?[...f,v[1]]:[f,v[1]]:v[1]}l(d,n)}else t!=null&&a(n,t,r);return this}get(t,n){if(t=YC(t),t){const r=Me.findKey(this,t);if(r){const o=this[r];if(!n)return o;if(n===!0)return ife(o);if(Me.isFunction(n))return n.call(this,o,r);if(Me.isRegExp(n))return n.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=YC(t),t){const r=Me.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||MM(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let o=!1;function a(l){if(l=YC(l),l){const d=Me.findKey(r,l);d&&(!n||MM(r,r[d],d,n))&&(delete r[d],o=!0)}}return Me.isArray(t)?t.forEach(a):a(t),o}clear(t){const n=Object.keys(this);let r=n.length,o=!1;for(;r--;){const a=n[r];(!t||MM(this,this[a],a,t,!0))&&(delete this[a],o=!0)}return o}normalize(t){const n=this,r={};return Me.forEach(this,(o,a)=>{const l=Me.findKey(r,a);if(l){n[l]=V1(o),delete n[a];return}const d=t?sfe(a):String(a).trim();d!==a&&delete n[a],n[d]=V1(o),r[d]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return Me.forEach(this,(r,o)=>{r!=null&&r!==!1&&(n[o]=t&&Me.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(o=>r.set(o)),r}static accessor(t){const r=(this[z6]=this[z6]={accessors:{}}).accessors,o=this.prototype;function a(l){const d=YC(l);r[d]||(afe(o,l),r[d]=!0)}return Me.isArray(t)?t.forEach(a):a(t),this}};Yo.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Me.reduceDescriptors(Yo.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});Me.freezeMethods(Yo);function TM(e,t){const n=this||k0,r=t||n,o=Yo.from(r.headers);let a=r.data;return Me.forEach(e,function(d){a=d.call(n,a,o.normalize(),t?t.status:void 0)}),o.normalize(),a}function VU(e){return!!(e&&e.__CANCEL__)}function tv(e,t,n){Ot.call(this,e??"canceled",Ot.ERR_CANCELED,t,n),this.name="CanceledError"}Me.inherits(tv,Ot,{__CANCEL__:!0});function GU(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new Ot("Request failed with status code "+n.status,[Ot.ERR_BAD_REQUEST,Ot.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function lfe(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function cfe(e,t){e=e||10;const n=new Array(e),r=new Array(e);let o=0,a=0,l;return t=t!==void 0?t:1e3,function(f){const m=Date.now(),v=r[a];l||(l=m),n[o]=f,r[o]=m;let C=a,y=0;for(;C!==o;)y+=n[C++],C=C%e;if(o=(o+1)%e,o===a&&(a=(a+1)%e),m-l<t)return;const S=v&&m-v;return S?Math.round(y*1e3/S):void 0}}function dfe(e,t){let n=0,r=1e3/t,o,a;const l=(m,v=Date.now())=>{n=v,o=null,a&&(clearTimeout(a),a=null),e(...m)};return[(...m)=>{const v=Date.now(),C=v-n;C>=r?l(m,v):(o=m,a||(a=setTimeout(()=>{a=null,l(o)},r-C)))},()=>o&&l(o)]}const wS=(e,t,n=3)=>{let r=0;const o=cfe(50,250);return dfe(a=>{const l=a.loaded,d=a.lengthComputable?a.total:void 0,f=l-r,m=o(f),v=l<=d;r=l;const C={loaded:l,total:d,progress:d?l/d:void 0,bytes:f,rate:m||void 0,estimated:m&&d&&v?(d-l)/m:void 0,event:a,lengthComputable:d!=null,[t?"download":"upload"]:!0};e(C)},n)},H6=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},V6=e=>(...t)=>Me.asap(()=>e(...t)),ufe=$i.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,$i.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL($i.origin),$i.navigator&&/(msie|trident)/i.test($i.navigator.userAgent)):()=>!0,hfe=$i.hasStandardBrowserEnv?{write(e,t,n,r,o,a,l){if(typeof document>"u")return;const d=[`${e}=${encodeURIComponent(t)}`];Me.isNumber(n)&&d.push(`expires=${new Date(n).toUTCString()}`),Me.isString(r)&&d.push(`path=${r}`),Me.isString(o)&&d.push(`domain=${o}`),a===!0&&d.push("secure"),Me.isString(l)&&d.push(`SameSite=${l}`),document.cookie=d.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function ffe(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function pfe(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function UU(e,t,n){let r=!ffe(t);return e&&(r||n==!1)?pfe(e,t):t}const G6=e=>e instanceof Yo?{...e}:e;function Gp(e,t){t=t||{};const n={};function r(m,v,C,y){return Me.isPlainObject(m)&&Me.isPlainObject(v)?Me.merge.call({caseless:y},m,v):Me.isPlainObject(v)?Me.merge({},v):Me.isArray(v)?v.slice():v}function o(m,v,C,y){if(Me.isUndefined(v)){if(!Me.isUndefined(m))return r(void 0,m,C,y)}else return r(m,v,C,y)}function a(m,v){if(!Me.isUndefined(v))return r(void 0,v)}function l(m,v){if(Me.isUndefined(v)){if(!Me.isUndefined(m))return r(void 0,m)}else return r(void 0,v)}function d(m,v,C){if(C in t)return r(m,v);if(C in e)return r(void 0,m)}const f={url:a,method:a,data:a,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:d,headers:(m,v,C)=>o(G6(m),G6(v),C,!0)};return Me.forEach(Object.keys({...e,...t}),function(v){const C=f[v]||o,y=C(e[v],t[v],v);Me.isUndefined(y)&&C!==d||(n[v]=y)}),n}const WU=e=>{const t=Gp({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:o,xsrfCookieName:a,headers:l,auth:d}=t;if(t.headers=l=Yo.from(l),t.url=jU(UU(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),d&&l.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):""))),Me.isFormData(n)){if($i.hasStandardBrowserEnv||$i.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(Me.isFunction(n.getHeaders)){const f=n.getHeaders(),m=["content-type","content-length"];Object.entries(f).forEach(([v,C])=>{m.includes(v.toLowerCase())&&l.set(v,C)})}}if($i.hasStandardBrowserEnv&&(r&&Me.isFunction(r)&&(r=r(t)),r||r!==!1&&ufe(t.url))){const f=o&&a&&hfe.read(a);f&&l.set(o,f)}return t},gfe=typeof XMLHttpRequest<"u",mfe=gfe&&function(e){return new Promise(function(n,r){const o=WU(e);let a=o.data;const l=Yo.from(o.headers).normalize();let{responseType:d,onUploadProgress:f,onDownloadProgress:m}=o,v,C,y,S,E;function T(){S&&S(),E&&E(),o.cancelToken&&o.cancelToken.unsubscribe(v),o.signal&&o.signal.removeEventListener("abort",v)}let P=new XMLHttpRequest;P.open(o.method.toUpperCase(),o.url,!0),P.timeout=o.timeout;function N(){if(!P)return;const L=Yo.from("getAllResponseHeaders"in P&&P.getAllResponseHeaders()),U={data:!d||d==="text"||d==="json"?P.responseText:P.response,status:P.status,statusText:P.statusText,headers:L,config:e,request:P};GU(function(z){n(z),T()},function(z){r(z),T()},U),P=null}"onloadend"in P?P.onloadend=N:P.onreadystatechange=function(){!P||P.readyState!==4||P.status===0&&!(P.responseURL&&P.responseURL.indexOf("file:")===0)||setTimeout(N)},P.onabort=function(){P&&(r(new Ot("Request aborted",Ot.ECONNABORTED,e,P)),P=null)},P.onerror=function(V){const U=V&&V.message?V.message:"Network Error",$=new Ot(U,Ot.ERR_NETWORK,e,P);$.event=V||null,r($),P=null},P.ontimeout=function(){let V=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const U=o.transitional||zU;o.timeoutErrorMessage&&(V=o.timeoutErrorMessage),r(new Ot(V,U.clarifyTimeoutError?Ot.ETIMEDOUT:Ot.ECONNABORTED,e,P)),P=null},a===void 0&&l.setContentType(null),"setRequestHeader"in P&&Me.forEach(l.toJSON(),function(V,U){P.setRequestHeader(U,V)}),Me.isUndefined(o.withCredentials)||(P.withCredentials=!!o.withCredentials),d&&d!=="json"&&(P.responseType=o.responseType),m&&([y,E]=wS(m,!0),P.addEventListener("progress",y)),f&&P.upload&&([C,S]=wS(f),P.upload.addEventListener("progress",C),P.upload.addEventListener("loadend",S)),(o.cancelToken||o.signal)&&(v=L=>{P&&(r(!L||L.type?new tv(null,e,P):L),P.abort(),P=null)},o.cancelToken&&o.cancelToken.subscribe(v),o.signal&&(o.signal.aborted?v():o.signal.addEventListener("abort",v)));const j=lfe(o.url);if(j&&$i.protocols.indexOf(j)===-1){r(new Ot("Unsupported protocol "+j+":",Ot.ERR_BAD_REQUEST,e));return}P.send(a||null)})},bfe=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,o;const a=function(m){if(!o){o=!0,d();const v=m instanceof Error?m:this.reason;r.abort(v instanceof Ot?v:new tv(v instanceof Error?v.message:v))}};let l=t&&setTimeout(()=>{l=null,a(new Ot(`timeout ${t} of ms exceeded`,Ot.ETIMEDOUT))},t);const d=()=>{e&&(l&&clearTimeout(l),l=null,e.forEach(m=>{m.unsubscribe?m.unsubscribe(a):m.removeEventListener("abort",a)}),e=null)};e.forEach(m=>m.addEventListener("abort",a));const{signal:f}=r;return f.unsubscribe=()=>Me.asap(d),f}},vfe=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,o;for(;r<n;)o=r+t,yield e.slice(r,o),r=o},wfe=async function*(e,t){for await(const n of Cfe(e))yield*vfe(n,t)},Cfe=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},U6=(e,t,n,r)=>{const o=wfe(e,t);let a=0,l,d=f=>{l||(l=!0,r&&r(f))};return new ReadableStream({async pull(f){try{const{done:m,value:v}=await o.next();if(m){d(),f.close();return}let C=v.byteLength;if(n){let y=a+=C;n(y)}f.enqueue(new Uint8Array(v))}catch(m){throw d(m),m}},cancel(f){return d(f),o.return()}},{highWaterMark:2})},W6=64*1024,{isFunction:QA}=Me,yfe=(({Request:e,Response:t})=>({Request:e,Response:t}))(Me.global),{ReadableStream:$6,TextEncoder:q6}=Me.global,K6=(e,...t)=>{try{return!!e(...t)}catch{return!1}},kfe=e=>{e=Me.merge.call({skipUndefined:!0},yfe,e);const{fetch:t,Request:n,Response:r}=e,o=t?QA(t):typeof fetch=="function",a=QA(n),l=QA(r);if(!o)return!1;const d=o&&QA($6),f=o&&(typeof q6=="function"?(E=>T=>E.encode(T))(new q6):async E=>new Uint8Array(await new n(E).arrayBuffer())),m=a&&d&&K6(()=>{let E=!1;const T=new n($i.origin,{body:new $6,method:"POST",get duplex(){return E=!0,"half"}}).headers.has("Content-Type");return E&&!T}),v=l&&d&&K6(()=>Me.isReadableStream(new r("").body)),C={stream:v&&(E=>E.body)};o&&["text","arrayBuffer","blob","formData","stream"].forEach(E=>{!C[E]&&(C[E]=(T,P)=>{let N=T&&T[E];if(N)return N.call(T);throw new Ot(`Response type '${E}' is not supported`,Ot.ERR_NOT_SUPPORT,P)})});const y=async E=>{if(E==null)return 0;if(Me.isBlob(E))return E.size;if(Me.isSpecCompliantForm(E))return(await new n($i.origin,{method:"POST",body:E}).arrayBuffer()).byteLength;if(Me.isArrayBufferView(E)||Me.isArrayBuffer(E))return E.byteLength;if(Me.isURLSearchParams(E)&&(E=E+""),Me.isString(E))return(await f(E)).byteLength},S=async(E,T)=>{const P=Me.toFiniteNumber(E.getContentLength());return P??y(T)};return async E=>{let{url:T,method:P,data:N,signal:j,cancelToken:L,timeout:V,onDownloadProgress:U,onUploadProgress:$,responseType:z,headers:K,withCredentials:te="same-origin",fetchOptions:ae}=WU(E),X=t||fetch;z=z?(z+"").toLowerCase():"text";let Z=bfe([j,L&&L.toAbortSignal()],V),se=null;const Q=Z&&Z.unsubscribe&&(()=>{Z.unsubscribe()});let J;try{if($&&m&&P!=="get"&&P!=="head"&&(J=await S(K,N))!==0){let ne=new n(T,{method:"POST",body:N,duplex:"half"}),fe;if(Me.isFormData(N)&&(fe=ne.headers.get("content-type"))&&K.setContentType(fe),ne.body){const[ve,me]=H6(J,wS(V6($)));N=U6(ne.body,W6,ve,me)}}Me.isString(te)||(te=te?"include":"omit");const re=a&&"credentials"in n.prototype,ee={...ae,signal:Z,method:P.toUpperCase(),headers:K.normalize().toJSON(),body:N,duplex:"half",credentials:re?te:void 0};se=a&&new n(T,ee);let le=await(a?X(se,ae):X(T,ee));const ce=v&&(z==="stream"||z==="response");if(v&&(U||ce&&Q)){const ne={};["status","statusText","headers"].forEach(Oe=>{ne[Oe]=le[Oe]});const fe=Me.toFiniteNumber(le.headers.get("content-length")),[ve,me]=U&&H6(fe,wS(V6(U),!0))||[];le=new r(U6(le.body,W6,ve,()=>{me&&me(),Q&&Q()}),ne)}z=z||"text";let he=await C[Me.findKey(C,z)||"text"](le,E);return!ce&&Q&&Q(),await new Promise((ne,fe)=>{GU(ne,fe,{data:he,headers:Yo.from(le.headers),status:le.status,statusText:le.statusText,config:E,request:se})})}catch(re){throw Q&&Q(),re&&re.name==="TypeError"&&/Load failed|fetch/i.test(re.message)?Object.assign(new Ot("Network Error",Ot.ERR_NETWORK,E,se),{cause:re.cause||re}):Ot.from(re,re&&re.code,E,se)}}},xfe=new Map,$U=e=>{let t=e&&e.env||{};const{fetch:n,Request:r,Response:o}=t,a=[r,o,n];let l=a.length,d=l,f,m,v=xfe;for(;d--;)f=a[d],m=v.get(f),m===void 0&&v.set(f,m=d?new Map:kfe(t)),v=m;return m};$U();const wN={http:zhe,xhr:mfe,fetch:{get:$U}};Me.forEach(wN,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Y6=e=>`- ${e}`,Afe=e=>Me.isFunction(e)||e===null||e===!1;function Sfe(e,t){e=Me.isArray(e)?e:[e];const{length:n}=e;let r,o;const a={};for(let l=0;l<n;l++){r=e[l];let d;if(o=r,!Afe(r)&&(o=wN[(d=String(r)).toLowerCase()],o===void 0))throw new Ot(`Unknown adapter '${d}'`);if(o&&(Me.isFunction(o)||(o=o.get(t))))break;a[d||"#"+l]=o}if(!o){const l=Object.entries(a).map(([f,m])=>`adapter ${f} `+(m===!1?"is not supported by the environment":"is not available in the build"));let d=n?l.length>1?`since :
`+l.map(Y6).join(`
`):" "+Y6(l[0]):"as no adapter specified";throw new Ot("There is no suitable adapter to dispatch the request "+d,"ERR_NOT_SUPPORT")}return o}const qU={getAdapter:Sfe,adapters:wN};function RM(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new tv(null,e)}function Q6(e){return RM(e),e.headers=Yo.from(e.headers),e.data=TM.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),qU.getAdapter(e.adapter||k0.adapter,e)(e).then(function(r){return RM(e),r.data=TM.call(e,e.transformResponse,r),r.headers=Yo.from(r.headers),r},function(r){return VU(r)||(RM(e),r&&r.response&&(r.response.data=TM.call(e,e.transformResponse,r.response),r.response.headers=Yo.from(r.response.headers))),Promise.reject(r)})}const KU="1.13.2",lE={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{lE[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const Z6={};lE.transitional=function(t,n,r){function o(a,l){return"[Axios v"+KU+"] Transitional option '"+a+"'"+l+(r?". "+r:"")}return(a,l,d)=>{if(t===!1)throw new Ot(o(l," has been removed"+(n?" in "+n:"")),Ot.ERR_DEPRECATED);return n&&!Z6[l]&&(Z6[l]=!0,console.warn(o(l," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(a,l,d):!0}};lE.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function _fe(e,t,n){if(typeof e!="object")throw new Ot("options must be an object",Ot.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let o=r.length;for(;o-- >0;){const a=r[o],l=t[a];if(l){const d=e[a],f=d===void 0||l(d,a,e);if(f!==!0)throw new Ot("option "+a+" must be "+f,Ot.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Ot("Unknown option "+a,Ot.ERR_BAD_OPTION)}}const G1={assertOptions:_fe,validators:lE},Gl=G1.validators;let Dp=class{constructor(t){this.defaults=t||{},this.interceptors={request:new j6,response:new j6}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const a=o.stack?o.stack.replace(/^.+\n/,""):"";try{r.stack?a&&!String(r.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+a):r.stack=a}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Gp(this.defaults,n);const{transitional:r,paramsSerializer:o,headers:a}=n;r!==void 0&&G1.assertOptions(r,{silentJSONParsing:Gl.transitional(Gl.boolean),forcedJSONParsing:Gl.transitional(Gl.boolean),clarifyTimeoutError:Gl.transitional(Gl.boolean)},!1),o!=null&&(Me.isFunction(o)?n.paramsSerializer={serialize:o}:G1.assertOptions(o,{encode:Gl.function,serialize:Gl.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),G1.assertOptions(n,{baseUrl:Gl.spelling("baseURL"),withXsrfToken:Gl.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let l=a&&Me.merge(a.common,a[n.method]);a&&Me.forEach(["delete","get","head","post","put","patch","common"],E=>{delete a[E]}),n.headers=Yo.concat(l,a);const d=[];let f=!0;this.interceptors.request.forEach(function(T){typeof T.runWhen=="function"&&T.runWhen(n)===!1||(f=f&&T.synchronous,d.unshift(T.fulfilled,T.rejected))});const m=[];this.interceptors.response.forEach(function(T){m.push(T.fulfilled,T.rejected)});let v,C=0,y;if(!f){const E=[Q6.bind(this),void 0];for(E.unshift(...d),E.push(...m),y=E.length,v=Promise.resolve(n);C<y;)v=v.then(E[C++],E[C++]);return v}y=d.length;let S=n;for(;C<y;){const E=d[C++],T=d[C++];try{S=E(S)}catch(P){T.call(this,P);break}}try{v=Q6.call(this,S)}catch(E){return Promise.reject(E)}for(C=0,y=m.length;C<y;)v=v.then(m[C++],m[C++]);return v}getUri(t){t=Gp(this.defaults,t);const n=UU(t.baseURL,t.url,t.allowAbsoluteUrls);return jU(n,t.params,t.paramsSerializer)}};Me.forEach(["delete","get","head","options"],function(t){Dp.prototype[t]=function(n,r){return this.request(Gp(r||{},{method:t,url:n,data:(r||{}).data}))}});Me.forEach(["post","put","patch"],function(t){function n(r){return function(a,l,d){return this.request(Gp(d||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:a,data:l}))}}Dp.prototype[t]=n(),Dp.prototype[t+"Form"]=n(!0)});let Efe=class YU{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(a){n=a});const r=this;this.promise.then(o=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](o);r._listeners=null}),this.promise.then=o=>{let a;const l=new Promise(d=>{r.subscribe(d),a=d}).then(o);return l.cancel=function(){r.unsubscribe(a)},l},t(function(a,l,d){r.reason||(r.reason=new tv(a,l,d),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new YU(function(o){t=o}),cancel:t}}};function Dfe(e){return function(n){return e.apply(null,n)}}function Mfe(e){return Me.isObject(e)&&e.isAxiosError===!0}const vP={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(vP).forEach(([e,t])=>{vP[t]=e});function QU(e){const t=new Dp(e),n=EU(Dp.prototype.request,t);return Me.extend(n,Dp.prototype,t,{allOwnKeys:!0}),Me.extend(n,t,null,{allOwnKeys:!0}),n.create=function(o){return QU(Gp(e,o))},n}const je=QU(k0);je.Axios=Dp;je.CanceledError=tv;je.CancelToken=Efe;je.isCancel=VU;je.VERSION=KU;je.toFormData=aE;je.AxiosError=Ot;je.Cancel=je.CanceledError;je.all=function(t){return Promise.all(t)};je.spread=Dfe;je.isAxiosError=Mfe;je.mergeConfig=Gp;je.AxiosHeaders=Yo;je.formToJSON=e=>HU(Me.isHTMLForm(e)?new FormData(e):e);je.getAdapter=qU.getAdapter;je.HttpStatusCode=vP;je.default=je;const{Axios:I$e,AxiosError:N$e,CanceledError:O$e,isCancel:F$e,CancelToken:L$e,VERSION:B$e,all:j$e,Cancel:z$e,isAxiosError:H$e,spread:V$e,toFormData:G$e,AxiosHeaders:U$e,HttpStatusCode:W$e,formToJSON:$$e,getAdapter:q$e,mergeConfig:K$e}=je;function Tfe(){const[e,t]=M.useState({email:"",password:""}),[n,r]=M.useState(""),[o,a]=M.useState(!1),[l,d]=M.useState(!1),f="https://crm.softwaresetu.com/api",m=yn(),v=async C=>{C.preventDefault(),r(""),d(!0);try{const{data:y}=await je.post(`${f}/auth/login`,{email:e.email,password:e.password});localStorage.setItem("token",y.token),localStorage.setItem("user",JSON.stringify(y.user)),y.admin&&localStorage.setItem("adminData",JSON.stringify(y.admin));const S=JSON.parse(localStorage.getItem("user"));console.log("Logged-in user:",S),console.log("Admin Data:",y.admin),S.role==="employee"?m("/assign-customer"):m("/dashboard")}catch(y){r(y.response?.data?.message||"Login failed. Please try again.")}finally{d(!1)}};return A.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#f0f4ff] p-4",children:A.jsxs("div",{className:"bg-white rounded-2xl shadow-md w-full max-w-md p-8",children:[A.jsx("h1",{className:"text-2xl font-semibold text-center mb-2",children:"Welcome Back"}),A.jsx("p",{className:"text-center text-gray-500 mb-6",children:"Sign in to your account to continue"}),n&&A.jsx("div",{className:"mb-3 text-red-600 text-sm",children:n}),A.jsxs("form",{onSubmit:v,className:"space-y-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email"}),A.jsxs("div",{className:"relative",children:[A.jsx(Pue,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),A.jsx("input",{className:"w-full pl-10 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:outline-none",type:"email",value:e.email,onChange:C=>t(y=>({...y,email:C.target.value})),placeholder:"you@example.com",required:!0})]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium mb-1",children:"Password"}),A.jsxs("div",{className:"relative",children:[A.jsx(Tue,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),A.jsx("input",{className:"w-full pl-10 pr-10 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:outline-none",type:o?"text":"password",value:e.password,onChange:C=>t(y=>({...y,password:C.target.value})),placeholder:"",required:!0}),o?A.jsx(yue,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5 cursor-pointer",onClick:()=>a(!1)}):A.jsx(v0,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5 cursor-pointer",onClick:()=>a(!0)})]})]}),A.jsx("button",{className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-2 rounded-lg transition",disabled:l,children:l?"Logging in...":"Sign In"})]})]})})}function Gh({role:e,children:t,fallback:n=null}){const r=localStorage.getItem("user"),o=r?JSON.parse(r):null;return!o||o.role!==e?n:t}var Up=class{constructor(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}setFrameworkOverrides(e){this.frameworkOverrides=e}getListeners(e,t,n){const r=t?this.allAsyncListeners:this.allSyncListeners;let o=r.get(e);return!o&&n&&(o=new Set,r.set(e,o)),o}noRegisteredListenersExist(){return this.allSyncListeners.size===0&&this.allAsyncListeners.size===0&&this.globalSyncListeners.size===0&&this.globalAsyncListeners.size===0}addEventListener(e,t,n=!1){this.getListeners(e,n,!0).add(t)}removeEventListener(e,t,n=!1){const r=this.getListeners(e,n,!1);r&&(r.delete(t),r.size===0&&(n?this.allAsyncListeners:this.allSyncListeners).delete(e))}addGlobalListener(e,t=!1){this.getGlobalListeners(t).add(e)}removeGlobalListener(e,t=!1){this.getGlobalListeners(t).delete(e)}dispatchEvent(e){this.dispatchToListeners(e,!0),this.dispatchToListeners(e,!1),this.firedEvents[e.type]=!0}dispatchEventOnce(e){this.firedEvents[e.type]||this.dispatchEvent(e)}dispatchToListeners(e,t){const n=e.type;if(t&&"event"in e){const d=e.event;d instanceof Event&&(e.eventPath=d.composedPath())}const{frameworkOverrides:r}=this,o=d=>{const f=r?()=>r.wrapIncoming(d):d;t?this.dispatchAsync(f):f()},a=this.getListeners(n,t,!1);if((a?.size??0)>0){const d=new Set(a);for(const f of d)a?.has(f)&&o(()=>f(e))}const l=this.getGlobalListeners(t);if(l.size>0){const d=new Set(l);for(const f of d)o(()=>f(n,e))}}getGlobalListeners(e){return e?this.globalAsyncListeners:this.globalSyncListeners}dispatchAsync(e){if(this.asyncFunctionsQueue.push(e),!this.scheduled){const t=()=>{window.setTimeout(this.flushAsyncQueue.bind(this),0)};this.frameworkOverrides?this.frameworkOverrides.wrapIncoming(t):t(),this.scheduled=!0}}flushAsyncQueue(){this.scheduled=!1;const e=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[];for(const t of e)t()}};function xd(e){return e==null||e===""?null:e}function Ye(e){return e!=null&&e!==""}function zn(e){return!Ye(e)}function wP(e){return e!=null&&typeof e.toString=="function"?e.toString():null}function Oy(e,t){const n=e?JSON.stringify(e):null,r=t?JSON.stringify(t):null;return n===r}function Rfe(e,t,n=!1){const r=e==null,o=t==null;if(e?.toNumber&&(e=e.toNumber()),t?.toNumber&&(t=t.toNumber()),r&&o)return 0;if(r)return-1;if(o)return 1;function a(l,d){return l>d?1:l<d?-1:0}if(typeof e!="string"||!n)return a(e,t);try{return e.localeCompare(t)}catch{return a(e,t)}}var Pfe=/[&<>"']/g,Ife={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function ng(e){return e?.toString().toString()??null}function yy(e){return ng(e)?.replace(Pfe,t=>Ife[t])??null}function $l(e){return e.eRootDiv.getRootNode()}function Qn(e){return $l(e).activeElement}function Wr(e){const{gos:t,eRootDiv:n}=e;let r=null;const o=t.get("getDocument");return o&&Ye(o)?r=o():n&&(r=n.ownerDocument),r&&Ye(r)?r:document}function ZU(e){const t=Qn(e);return t===null||t===Wr(e).body}function XU(e){return Wr(e).defaultView||window}function CN(e){let t=null,n=null;try{t=Wr(e).fullscreenElement}catch{}finally{t||(t=$l(e));const r=t.querySelector("body");r?n=r:t instanceof ShadowRoot?n=t:t instanceof Document?n=t?.documentElement:n=t}return n}function Nfe(e){return CN(e)?.clientWidth??(window.innerWidth||-1)}function Ofe(e){return CN(e)?.clientHeight??(window.innerHeight||-1)}function sl(e,t,n){n==null||typeof n=="string"&&n==""?yN(e,t):pa(e,t,n)}function pa(e,t,n){e.setAttribute(JU(t),n.toString())}function yN(e,t){e.removeAttribute(JU(t))}function JU(e){return`aria-${e}`}function Od(e,t){t?e.setAttribute("role",t):e.removeAttribute("role")}function Ffe(e){let t;return e==="asc"?t="ascending":e==="desc"?t="descending":e==="mixed"?t="other":t="none",t}function Lfe(e){return e.getAttribute("aria-label")}function Eb(e,t){sl(e,"label",t)}function Fy(e,t){sl(e,"labelledby",t)}function eW(e,t){sl(e,"live",t)}function Bfe(e,t){sl(e,"atomic",t)}function jfe(e,t){sl(e,"relevant",t)}function zfe(e,t){sl(e,"invalid",t)}function Hfe(e,t){sl(e,"disabled",t)}function tW(e,t){sl(e,"hidden",t)}function Ly(e,t){pa(e,"expanded",t)}function Vfe(e){yN(e,"expanded")}function Gfe(e,t){pa(e,"setsize",t)}function Ufe(e,t){pa(e,"posinset",t)}function Wfe(e,t){pa(e,"multiselectable",t)}function nW(e,t){pa(e,"rowcount",t)}function CS(e,t){pa(e,"rowindex",t)}function $fe(e,t){pa(e,"rowspan",t)}function rW(e,t){pa(e,"colcount",t)}function iW(e,t){pa(e,"colindex",t)}function qfe(e,t){pa(e,"colspan",t)}function oW(e,t){pa(e,"sort",t)}function sW(e){yN(e,"sort")}function aW(e,t){sl(e,"selected",t)}function Kfe(e,t){sl(e,"controls",t)}function Yfe(e,t){Kfe(e,t.id),Fy(t,e.id)}function X6(e,t){sl(e,"owns",t)}function cE(e,t){return t===void 0?e("ariaIndeterminate","indeterminate"):t===!0?e("ariaChecked","checked"):e("ariaUnchecked","unchecked")}var Qfe="[tabindex], input, select, button, textarea, [href]",lW="[disabled], .ag-disabled:not(.ag-button), .ag-disabled *";function ky(e){return!e||!e.matches("input, select, button, textarea")||!e.matches(lW)?!1:vc(e)}function Ln(e,t,n={}){const{skipAriaHidden:r}=n;e.classList.toggle("ag-hidden",!t),r||tW(e,!t)}function Zfe(e,t,n={}){const{skipAriaHidden:r}=n;e.classList.toggle("ag-invisible",!t),r||tW(e,!t)}function By(e,t){const n="disabled",r=t?a=>a.setAttribute(n,""):a=>a.removeAttribute(n);r(e);const o=e.querySelectorAll("input")??[];for(const a of o)r(a)}function Mp(e,t,n){let r=0;for(;e;){if(e.classList.contains(t))return!0;if(e=e.parentElement,typeof n=="number"){if(++r>n)break}else if(e===n)break}return!1}function rg(e){const{height:t,width:n,borderTopWidth:r,borderRightWidth:o,borderBottomWidth:a,borderLeftWidth:l,paddingTop:d,paddingRight:f,paddingBottom:m,paddingLeft:v,marginTop:C,marginRight:y,marginBottom:S,marginLeft:E,boxSizing:T}=window.getComputedStyle(e),P=Number.parseFloat;return{height:P(t||"0"),width:P(n||"0"),borderTopWidth:P(r||"0"),borderRightWidth:P(o||"0"),borderBottomWidth:P(a||"0"),borderLeftWidth:P(l||"0"),paddingTop:P(d||"0"),paddingRight:P(f||"0"),paddingBottom:P(m||"0"),paddingLeft:P(v||"0"),marginTop:P(C||"0"),marginRight:P(y||"0"),marginBottom:P(S||"0"),marginLeft:P(E||"0"),boxSizing:T}}function kN(e){const t=rg(e);return t.boxSizing==="border-box"?t.height-t.paddingTop-t.paddingBottom-t.borderTopWidth-t.borderBottomWidth:t.height}function jy(e){const t=rg(e);return t.boxSizing==="border-box"?t.width-t.paddingLeft-t.paddingRight-t.borderLeftWidth-t.borderRightWidth:t.width}function cW(e){const{height:t,marginBottom:n,marginTop:r}=rg(e);return Math.floor(t+n+r)}function yS(e){const{width:t,marginLeft:n,marginRight:r}=rg(e);return Math.floor(t+n+r)}function dW(e){const t=e.getBoundingClientRect(),{borderTopWidth:n,borderLeftWidth:r,borderRightWidth:o,borderBottomWidth:a}=rg(e);return{top:t.top+(n||0),left:t.left+(r||0),right:t.right+(o||0),bottom:t.bottom+(a||0)}}function kS(e,t){let n=e.scrollLeft;return t&&(n=Math.abs(n)),n}function xS(e,t,n){n&&(t*=-1),e.scrollLeft=t}function ki(e){for(;e?.firstChild;)e.firstChild.remove()}function oa(e){e?.parentNode&&e.remove()}function uW(e){return!!e.offsetParent}function vc(e){return e.checkVisibility?e.checkVisibility({checkVisibilityCSS:!0}):!(!uW(e)||window.getComputedStyle(e).visibility!=="visible")}function xN(e){const t=document.createElement("div");return t.innerHTML=(e||"").trim(),t.firstChild}function hW(e,t,n){n&&n.nextSibling===t||(e.firstChild?n?n.nextSibling?e.insertBefore(t,n.nextSibling):e.appendChild(t):e.firstChild&&e.firstChild!==t&&e.insertAdjacentElement("afterbegin",t):e.appendChild(t))}function fW(e,t){for(let n=0;n<t.length;n++){const r=t[n],o=e.children[n];o!==r&&e.insertBefore(r,o)}}function Xfe(e){return e.replace(/[A-Z]/g,t=>`-${t.toLocaleLowerCase()}`)}function x0(e,t){if(t)for(const n of Object.keys(t)){const r=t[n];if(!n?.length||r==null)continue;const o=Xfe(n),a=r.toString(),l=a.replace(/\s*!important/g,""),d=l.length!=a.length?"important":void 0;e.style.setProperty(o,l,d)}}function U1(e){return()=>{const t=e();return t?AN(t)||pW(t):!0}}function AN(e){return e.clientWidth<e.scrollWidth}function pW(e){return e.clientHeight<e.scrollHeight}function AS(e,t){t==="flex"?(e.style.removeProperty("width"),e.style.removeProperty("minWidth"),e.style.removeProperty("maxWidth"),e.style.flex="1 1 auto"):oc(e,t)}function oc(e,t){t=SN(t),e.style.width=t,e.style.maxWidth=t,e.style.minWidth=t}function xy(e,t){t=SN(t),e.style.height=t,e.style.maxHeight=t,e.style.minHeight=t}function SN(e){return typeof e=="number"?`${e}px`:e}function _N(e){return e instanceof Node||e instanceof HTMLElement}function vs(e,t,n){n==null||n===""?e.removeAttribute(t):e.setAttribute(t,n.toString())}function al(e,t,n){const o=XU(e).ResizeObserver,a=o?new o(n):null;return a?.observe(t),()=>a?.disconnect()}function Zd(e,t){const n=XU(e);n.requestAnimationFrame?n.requestAnimationFrame(t):n.webkitRequestAnimationFrame?n.webkitRequestAnimationFrame(t):n.setTimeout(t,0)}var gW="data-ref",PM;function J6(){return PM??(PM=document.createTextNode(" ")),PM.cloneNode()}function A0(e){const{attrs:t,children:n,cls:r,ref:o,role:a,tag:l}=e,d=document.createElement(l);if(r&&(d.className=r),o&&d.setAttribute(gW,o),a&&d.setAttribute("role",a),t)for(const f of Object.keys(t))d.setAttribute(f,t[f]);if(n)if(typeof n=="string")d.textContent=n;else{let f=!0;for(const m of n)m&&(typeof m=="string"?(d.appendChild(document.createTextNode(m)),f=!1):typeof m=="function"?d.appendChild(m()):(f&&(d.appendChild(J6()),f=!1),d.append(A0(m)),d.appendChild(J6())))}return d}var Jfe=["touchstart","touchend","touchmove","touchcancel","scroll"],epe=["wheel"],IM={},mW=(()=>{const e={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return n=>{if(typeof IM[n]=="boolean")return IM[n];const r=document.createElement(e[n]||"div");return n="on"+n,IM[n]=n in r}})();function CP(e,t){return!t||!e?!1:npe(t).indexOf(e)>=0}function tpe(e){const t=[];let n=e.target;for(;n;)t.push(n),n=n.parentElement;return t}function npe(e){const t=e;return t.path?t.path:t.composedPath?t.composedPath():tpe(t)}function rpe(e,t,n){const r=ipe(t);let o;r!=null&&(o={passive:r}),e.addEventListener(t,n,o)}var ipe=e=>{const t=Jfe.includes(e),n=epe.includes(e);if(t)return!0;if(n)return!1};function bW(e,t,n){if(n===0)return!1;const r=Math.abs(e.clientX-t.clientX),o=Math.abs(e.clientY-t.clientY);return Math.max(r,o)<=n}var Ay=(e,t)=>{const n=e.identifier;for(let r=0,o=t.length;r<o;++r){const a=t[r];if(a.identifier===n)return a}return null};function zy(e,t){return e.gos.isElementInThisInstance(t.target)}function ope(e,t,n){const o=e.getBoundingClientRect().height,a=Nfe(n)-2,l=Ofe(n)-2;if(!e.offsetParent)return;const f=dW(e.offsetParent),{clientY:m,clientX:v}=t;let C=m-f.top-o/2,y=v-f.left-10;const S=Wr(n),E=S.defaultView||window,T=E.pageYOffset||S.documentElement.scrollTop,P=E.pageXOffset||S.documentElement.scrollLeft;a>0&&y+e.clientWidth>a+P&&(y=a+P-e.clientWidth),y<0&&(y=0),l>0&&C+e.clientHeight>l+T&&(C=l+T-e.clientHeight),C<0&&(C=0),e.style.left=`${y}px`,e.style.top=`${C}px`}var W1=(e,...t)=>{for(const n of t){const[r,o,a,l]=n;r.addEventListener(o,a,l),e.push(n)}},EN=e=>{if(e){for(const[t,n,r,o]of e)t.removeEventListener(n,r,o);e.length=0}},xh=e=>{e.cancelable&&e.preventDefault()};function spe(e,t){return t}function vW(e){return e?.getLocaleTextFunc()??spe}function ape(e,t,n,r){const o=t[n];return e.getLocaleTextFunc()(n,typeof o=="function"?o(r):o,r)}function lpe(e){return(t,n,r)=>e({key:t,defaultValue:n,variableValues:r})}function cpe(e){return(t,n,r)=>{let o=e?.[t];if(o&&r?.length){let a=0;for(;!(a>=r.length||o.indexOf("${variable}")===-1);)o=o.replace("${variable}",r[a++])}return o??n}}var wc=class{constructor(){this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.propertyListenerId=0,this.lastChangeSetIdLookup={},this.isAlive=()=>!this.destroyed}preWireBeans(e){this.beans=e,this.stubContext=e.context,this.eventSvc=e.eventSvc,this.gos=e.gos}destroy(){const{destroyFunctions:e}=this;for(let t=0;t<e.length;t++)e[t]();e.length=0,this.destroyed=!0,this.dispatchLocalEvent({type:"destroyed"})}addEventListener(e,t,n){this.localEventService||(this.localEventService=new Up),this.localEventService.addEventListener(e,t,n)}removeEventListener(e,t,n){this.localEventService?.removeEventListener(e,t,n)}dispatchLocalEvent(e){this.localEventService?.dispatchEvent(e)}addManagedElementListeners(e,t){return this._setupListeners(e,t)}addManagedEventListeners(e){return this._setupListeners(this.eventSvc,e)}addManagedListeners(e,t){return this._setupListeners(e,t)}_setupListeners(e,t){const n=[];for(const r of Object.keys(t)){const o=t[r];o&&n.push(this._setupListener(e,r,o))}return n}_setupListener(e,t,n){if(this.destroyed)return()=>null;let r;if(dpe(e))e.__addEventListener(t,n),r=()=>(e.__removeEventListener(t,n),null);else{const o=upe(e);e instanceof HTMLElement?rpe(e,t,n):o?e.addListener(t,n):e.addEventListener(t,n),r=o?()=>(e.removeListener(t,n),null):()=>(e.removeEventListener(t,n),null)}return this.destroyFunctions.push(r),()=>(r(),this.destroyFunctions=this.destroyFunctions.filter(o=>o!==r),null)}setupPropertyListener(e,t){const{gos:n}=this;n.addPropertyEventListener(e,t);const r=()=>(n.removePropertyEventListener(e,t),null);return this.destroyFunctions.push(r),()=>(r(),this.destroyFunctions=this.destroyFunctions.filter(o=>o!==r),null)}addManagedPropertyListener(e,t){return this.destroyed?()=>null:this.setupPropertyListener(e,t)}addManagedPropertyListeners(e,t){if(this.destroyed)return;const n=e.join("-")+this.propertyListenerId++,r=o=>{if(o.changeSet){if(o.changeSet&&o.changeSet.id===this.lastChangeSetIdLookup[n])return;this.lastChangeSetIdLookup[n]=o.changeSet.id}const a={type:"propertyChanged",changeSet:o.changeSet,source:o.source};t(a)};for(const o of e)this.setupPropertyListener(o,r)}getLocaleTextFunc(){return vW(this.beans.localeSvc)}addDestroyFunc(e){this.isAlive()?this.destroyFunctions.push(e):e()}createOptionalManagedBean(e,t){return e?this.createManagedBean(e,t):void 0}createManagedBean(e,t){const n=this.createBean(e,t);return this.addDestroyFunc(this.destroyBean.bind(this,e,t)),n}createBean(e,t,n){return(t||this.stubContext).createBean(e,n)}destroyBean(e,t){return(t||this.stubContext).destroyBean(e)}destroyBeans(e,t){return(t||this.stubContext).destroyBeans(e)}};function dpe(e){return e.__addEventListener!==void 0}function upe(e){return e.eventServiceType==="global"}var Pe=class extends wc{},ez={};function DN(e,t){ez[t]||(e(),ez[t]=!0)}var hpe={pending:!1,funcs:[]},fpe={pending:!1,funcs:[]};function yP(e,t="setTimeout",n){const r=t==="raf"?fpe:hpe;if(r.funcs.push(e),r.pending)return;r.pending=!0;const o=()=>{const a=r.funcs.slice();r.funcs.length=0,r.pending=!1;for(const l of a)l()};t==="raf"?Zd(n,o):window.setTimeout(o,0)}function Ci(e,t,n){let r;return function(...o){const a=this;window.clearTimeout(r),r=window.setTimeout(function(){e.isAlive()&&t.apply(a,o)},n)}}function tz(e,t){let n=0;return function(...r){const o=this,a=Date.now();a-n<t||(n=a,e.apply(o,r))}}function ppe(e,t,n,r=100){const o=Date.now();let a=null,l=!1;const d=()=>{a!=null&&(window.clearInterval(a),a=null)};e.addDestroyFunc(d);const f=()=>{const m=Date.now()-o>r;(t()||m)&&(n(),l=!0,d())};f(),l||(a=window.setInterval(f,10))}var wW=new Set(["__proto__","constructor","prototype"]);function gpe(e,t){if(e!=null){if(Array.isArray(e)){for(let n=0;n<e.length;n++)t(n.toString(),e[n]);return}for(const n of Object.keys(e).filter(r=>!wW.has(r)))t(n,e[n])}}function Co(e,t,n=!0,r=!1){Ye(t)&&gpe(t,(o,a)=>{let l=e[o];l!==a&&(r&&l==null&&a!=null&&typeof a=="object"&&a.constructor===Object&&(l={},e[o]=l),nz(a)&&nz(l)&&!Array.isArray(l)?Co(l,a,n,r):(n||a!==void 0)&&(e[o]=a))})}function nz(e){return typeof e=="object"&&e!==null}var MN=class hd{static applyGlobalGridOptions(t){if(!hd.gridOptions)return{...t};let n={};return Co(n,hd.gridOptions,!0,!0),hd.mergeStrategy==="deep"?Co(n,t,!0,!0):n={...n,...t},hd.gridOptions.context&&(n.context=hd.gridOptions.context),t.context&&(hd.mergeStrategy==="deep"&&n.context&&Co(t.context,n.context,!0,!0),n.context=t.context),n}static applyGlobalGridOption(t,n){if(hd.mergeStrategy==="deep"){const r=CW(t);if(r&&typeof r=="object"&&typeof n=="object")return hd.applyGlobalGridOptions({[t]:n})[t]}return n}};MN.gridOptions=void 0;MN.mergeStrategy="shallow";var TN=MN;function CW(e){return TN.gridOptions?.[e]}var yW={suppressContextMenu:!1,preventDefaultOnContextMenu:!1,allowContextMenuWithControlKey:!1,suppressMenuHide:!0,enableBrowserTooltips:!1,tooltipTrigger:"hover",tooltipShowDelay:2e3,tooltipHideDelay:1e4,tooltipMouseTrack:!1,tooltipShowMode:"standard",tooltipInteraction:!1,copyHeadersToClipboard:!1,copyGroupHeadersToClipboard:!1,clipboardDelimiter:"	",suppressCopyRowsToClipboard:!1,suppressCopySingleCellRanges:!1,suppressLastEmptyLineOnPaste:!1,suppressClipboardPaste:!1,suppressClipboardApi:!1,suppressCutToClipboard:!1,maintainColumnOrder:!1,enableStrictPivotColumnOrder:!1,suppressFieldDotNotation:!1,allowDragFromColumnsToolPanel:!1,suppressMovableColumns:!1,suppressColumnMoveAnimation:!1,suppressMoveWhenColumnDragging:!1,suppressDragLeaveHidesColumns:!1,suppressRowGroupHidesColumns:!1,suppressAutoSize:!1,autoSizePadding:20,skipHeaderOnAutoSize:!1,singleClickEdit:!1,suppressClickEdit:!1,readOnlyEdit:!1,stopEditingWhenCellsLoseFocus:!1,enterNavigatesVertically:!1,enterNavigatesVerticallyAfterEdit:!1,enableCellEditingOnBackspace:!1,undoRedoCellEditing:!1,undoRedoCellEditingLimit:10,suppressCsvExport:!1,suppressExcelExport:!1,cacheQuickFilter:!1,includeHiddenColumnsInQuickFilter:!1,excludeChildrenWhenTreeDataFiltering:!1,enableAdvancedFilter:!1,includeHiddenColumnsInAdvancedFilter:!1,enableCharts:!1,masterDetail:!1,keepDetailRows:!1,keepDetailRowsCount:10,detailRowAutoHeight:!1,tabIndex:0,rowBuffer:10,valueCache:!1,valueCacheNeverExpires:!1,enableCellExpressions:!1,suppressTouch:!1,suppressFocusAfterRefresh:!1,suppressBrowserResizeObserver:!1,suppressPropertyNamesCheck:!1,suppressChangeDetection:!1,debug:!1,suppressLoadingOverlay:!1,suppressNoRowsOverlay:!1,pagination:!1,paginationPageSize:100,paginationPageSizeSelector:!0,paginationAutoPageSize:!1,paginateChildRows:!1,suppressPaginationPanel:!1,pivotMode:!1,pivotPanelShow:"never",pivotDefaultExpanded:0,pivotSuppressAutoColumn:!1,suppressExpandablePivotGroups:!1,functionsReadOnly:!1,suppressAggFuncInHeader:!1,alwaysAggregateAtRootLevel:!1,aggregateOnlyChangedColumns:!1,suppressAggFilteredOnly:!1,removePivotHeaderRowWhenSingleValueColumn:!1,animateRows:!0,cellFlashDuration:500,cellFadeDuration:1e3,allowShowChangeAfterFilter:!1,domLayout:"normal",ensureDomOrder:!1,enableRtl:!1,suppressColumnVirtualisation:!1,suppressMaxRenderedRowRestriction:!1,suppressRowVirtualisation:!1,rowDragManaged:!1,rowDragInsertDelay:500,suppressRowDrag:!1,suppressMoveWhenRowDragging:!1,rowDragEntireRow:!1,rowDragMultiRow:!1,embedFullWidthRows:!1,groupDisplayType:"singleColumn",groupDefaultExpanded:0,groupMaintainOrder:!1,groupSelectsChildren:!1,groupSuppressBlankHeader:!1,groupSelectsFiltered:!1,showOpenedGroup:!1,groupRemoveSingleChildren:!1,groupRemoveLowestSingleChildren:!1,groupHideOpenParents:!1,groupAllowUnbalanced:!1,rowGroupPanelShow:"never",suppressMakeColumnVisibleAfterUnGroup:!1,treeData:!1,rowGroupPanelSuppressSort:!1,suppressGroupRowsSticky:!1,rowModelType:"clientSide",asyncTransactionWaitMillis:50,suppressModelUpdateAfterUpdateTransaction:!1,cacheOverflowSize:1,infiniteInitialRowCount:1,serverSideInitialRowCount:1,cacheBlockSize:100,maxBlocksInCache:-1,maxConcurrentDatasourceRequests:2,blockLoadDebounceMillis:0,purgeClosedRowNodes:!1,serverSideSortAllLevels:!1,serverSideOnlyRefreshFilteredGroups:!1,serverSidePivotResultFieldSeparator:"_",viewportRowModelPageSize:5,viewportRowModelBufferSize:5,alwaysShowHorizontalScroll:!1,alwaysShowVerticalScroll:!1,debounceVerticalScrollbar:!1,suppressHorizontalScroll:!1,suppressScrollOnNewData:!1,suppressScrollWhenPopupsAreOpen:!1,suppressAnimationFrame:!1,suppressMiddleClickScrolls:!1,suppressPreventDefaultOnMouseWheel:!1,rowMultiSelectWithClick:!1,suppressRowDeselection:!1,suppressRowClickSelection:!1,suppressCellFocus:!1,suppressHeaderFocus:!1,suppressMultiRangeSelection:!1,enableCellTextSelection:!1,enableRangeSelection:!1,enableRangeHandle:!1,enableFillHandle:!1,fillHandleDirection:"xy",suppressClearOnFillReduction:!1,accentedSort:!1,unSortIcon:!1,suppressMultiSort:!1,alwaysMultiSort:!1,suppressMaintainUnsortedOrder:!1,suppressRowHoverHighlight:!1,suppressRowTransform:!1,columnHoverHighlight:!1,deltaSort:!1,enableGroupEdit:!1,groupLockGroupColumns:0,serverSideEnableClientSideSort:!1,suppressServerSideFullWidthLoadingRow:!1,pivotMaxGeneratedColumns:-1,columnMenu:"new",reactiveCustomComponents:!0,suppressSetFilterByDefault:!1,rowNumbers:!1,enableFilterHandlers:!1},kW="https://www.ag-grid.com";function Nh(e,t,...n){e.get("debug")&&console.log("AG Grid: "+t,...n)}function ub(e,...t){DN(()=>console.warn("AG Grid: "+e,...t),e+t?.join(""))}function hb(e,...t){DN(()=>console.error("AG Grid: "+e,...t),e+t?.join(""))}var xW=new Set,SS={},Tp={},$1,AW=!1,SW=!1,mpe=!1;function bpe(e){const[t,n]=e.version.split(".")||[],[r,o]=$1.split(".")||[];return t===r&&n===o}function vpe(e){$1||($1=e.version);const t=r=>`You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. ${r} Please update all modules to the same version.`;e.version?bpe(e)||hb(t(`'${e.moduleName}' is version ${e.version} but the other modules are version ${$1}.`)):hb(t(`'${e.moduleName}' is incompatible.`));const n=e.validate?.();n&&!n.isValid&&hb(`${n.message}`)}function Hy(e,t,n=!1){n||(AW=!0),vpe(e);const r=e.rowModels??["all"];xW.add(e);let o;t!==void 0?(SW=!0,Tp[t]===void 0&&(Tp[t]={}),o=Tp[t]):o=SS;for(const a of r)o[a]===void 0&&(o[a]={}),o[a][e.moduleName]=e;if(e.dependsOn)for(const a of e.dependsOn)Hy(a,t,n)}function wpe(e){delete Tp[e]}function kP(e,t,n){const r=o=>!!SS[o]?.[e]||!!Tp[t]?.[o]?.[e];return r(n)||r("all")}function RN(){return SW}function Cpe(e,t){const n=Tp[e]??{};return[...Object.values(SS.all??{}),...Object.values(n.all??{}),...Object.values(SS[t]??{}),...Object.values(n[t]??{})]}function ype(){return new Set(xW)}function _W(e,t){const n=Tp[e]??{};return[...Object.values(n.all??{}),...Object.values(n[t]??{})]}function kpe(){return AW}function xpe(){return mpe}var Cc=class{static register(e){Hy(e,void 0)}static registerModules(e){for(const t of e)Hy(t,void 0)}},Qe="34.3.1",rz=2e3,iz=100,EW="_version_",DW=null,fb=`${kW}/javascript-data-grid`;function Ape(e){DW=e}function Spe(e){fb=e}function MW(e,t,n){return DW?.(e,t)??[Mpe(e,t,n)]}function dE(e,t,n,r,o){e(`${r?"warning":"error"} #${t}`,...MW(t,n,o))}function _pe(e){if(!e)return String(e);const t={};for(const n of Object.keys(e))typeof e[n]!="object"&&typeof e[n]!="function"&&(t[n]=e[n]);return JSON.stringify(t)}function Epe(e){let t=e;return e instanceof Error?t=e.toString():typeof e=="object"&&(t=_pe(e)),t}function _S(e){return e===void 0?"undefined":e===null?"null":e}function xP(e,t){return`${e}?${t.toString()}`}function Dpe(e,t,n){const r=Array.from(t.entries()).sort((a,l)=>l[1].length-a[1].length);let o=xP(e,t);for(const[a,l]of r){if(a===EW)continue;const d=o.length-n;if(d<=0)break;const f="...",m=d+f.length,v=l.length-m>iz?l.slice(0,l.length-m)+f:l.slice(0,iz)+f;t.set(a,v),o=xP(e,t)}return o}function TW(e,t){const n=new URLSearchParams;if(n.append(EW,Qe),t)for(const a of Object.keys(t))n.append(a,Epe(t[a]));const r=`${fb}/errors/${e}`,o=xP(r,n);return o.length<=rz?o:Dpe(r,n,rz)}var Mpe=(e,t,n)=>{const r=TW(e,t);return`${`${n?n+` 
`:""}Visit ${r}`}${n?"":` 
  Alternatively register the ValidationModule to see the full message in the console.`}`};function ze(...e){dE(ub,e[0],e[1],!0)}function Cn(...e){dE(hb,e[0],e[1],!1)}function gy(e,t,n){dE(hb,e,t,!1,n)}function Tpe(e,t,n){dE(ub,e,t,!0,n)}function Rpe(e,t){const n=t[0];return`error #${n} `+MW(n,t[1],e).join(" ")}function sc(...e){return Rpe(void 0,e)}function RW(e,t){return e.get("rowModelType")===t}function Wn(e,t){return RW(e,"clientSide")}function cc(e,t){return RW(e,"serverSide")}function xi(e,t){return e.get("domLayout")===t}function Th(e){return ES(e)!==void 0}function PW(e){return typeof e.get("getRowHeight")=="function"}function Ppe(e,t){return t?!e.get("enableStrictPivotColumnOrder"):e.get("maintainColumnOrder")}function Fd(e,t,n=!1,r){const{gos:o,environment:a}=e;if(r==null&&(r=a.getDefaultRowHeight()),PW(o)){if(n)return{height:r,estimated:!0};const f={node:t,data:t.data},m=o.getCallback("getRowHeight")(f);if(AP(m))return m===0&&ze(23),{height:Math.max(1,m),estimated:!1}}if(t.detail&&o.get("masterDetail"))return Ipe(o);const l=o.get("rowHeight");return{height:l&&AP(l)?l:r,estimated:!1}}function Ipe(e){if(e.get("detailRowAutoHeight"))return{height:1,estimated:!1};const t=e.get("detailRowHeight");return AP(t)?{height:t,estimated:!1}:{height:300,estimated:!1}}function Rp(e){const{environment:t,gos:n}=e,r=n.get("rowHeight");if(!r||zn(r))return t.getDefaultRowHeight();const o=t.refreshRowHeightVariable();return o!==-1?o:(ze(24),t.getDefaultRowHeight())}function AP(e){return!isNaN(e)&&typeof e=="number"&&isFinite(e)}function IW(e,t,n){const r=t[e.getDomDataKey()];return r?r[n]:void 0}function Wp(e,t,n,r){const o=e.getDomDataKey();let a=t[o];zn(a)&&(a={},t[o]=a),a[n]=r}function pb(e){return e.get("ensureDomOrder")?!1:e.get("animateRows")}function uE(e){return!(e.get("paginateChildRows")||e.get("groupHideOpenParents")||xi(e,"print"))}function Ql(e){return!e.get("autoGroupColumnDef")?.comparator&&!e.get("treeData")}function SP(e){const t=e.get("groupAggFiltering");if(typeof t=="function")return e.getCallback("groupAggFiltering");if(t===!0)return()=>!0}function PN(e){return e.get("grandTotalRow")}function Npe(e){const t=e.get("groupTotalRow");return typeof t=="function"?e.getCallback("groupTotalRow"):()=>t??void 0}function Ope(e){return e.get("groupHideOpenParents")?!0:e.get("groupDisplayType")==="multipleColumns"}function NW(e,t){return t?!1:e.get("groupDisplayType")==="groupRows"}function OW(e,t,n){return!!t.group&&!t.footer&&NW(e,n)}function Db(e){const t=e.getCallback("getRowId");return t===void 0?t:n=>{let r=t(n);return typeof r!="string"&&(DN(()=>ze(25,{id:r}),"getRowIdString"),r=String(r)),r}}function Fpe(e,t){const n=e.get("groupHideParentOfSingleChild");return!!(n===!0||n==="leafGroupsOnly"&&t.leafGroup||e.get("groupRemoveSingleChildren")||e.get("groupRemoveLowestSingleChildren")&&t.leafGroup)}function Lpe(e){const t=e.get("maxConcurrentDatasourceRequests");return t>0?t:void 0}function Pp(e){return e?.checkboxes??!0}function q1(e){return e?.mode==="multiRow"&&(e.headerCheckbox??!0)}function Vy(e){if(typeof e=="object")return e.checkboxLocation??"selectionColumn"}function NM(e){return e?.hideDisabledCheckboxes??!1}function Bpe(e){return typeof e.get("rowSelection")!="string"}function Ld(e){const t=e.get("cellSelection");return t!==void 0?!!t:e.get("enableRangeSelection")}function FW(e){const t=e.get("rowSelection")??"single";if(typeof t=="string"){const n=e.get("suppressRowClickSelection"),r=e.get("suppressRowDeselection");return n&&r?!1:n?"enableDeselection":r?"enableSelection":!0}return t.mode==="singleRow"||t.mode==="multiRow"?t.enableClickSelection??!1:!1}function jpe(e){const t=FW(e);return t===!0||t==="enableSelection"}function zpe(e){const t=FW(e);return t===!0||t==="enableDeselection"}function _P(e){const t=e.get("rowSelection");return typeof t=="string"?e.get("isRowSelectable"):t?.isRowSelectable}function ES(e){const t="beanName"in e&&e.beanName==="gos"?e.get("rowSelection"):e.rowSelection;if(typeof t=="string")switch(t){case"multiple":return"multiRow";case"single":return"singleRow";default:return}switch(t?.mode){case"multiRow":case"singleRow":return t.mode;default:return}}function Gy(e){return ES(e)==="multiRow"}function Hpe(e){const t=e.get("rowSelection");return typeof t=="string"?e.get("rowMultiSelectWithClick"):t?.enableSelectionWithoutKeys??!1}function DS(e){const t=e.get("rowSelection");if(typeof t=="string"){const n=e.get("groupSelectsChildren"),r=e.get("groupSelectsFiltered");return n&&r?"filteredDescendants":n?"descendants":"self"}return t?.mode==="multiRow"?t.groupSelects:void 0}function LW(e,t=!0){const n=e.get("rowSelection");return typeof n!="object"?t?"all":void 0:n.mode==="multiRow"?n.selectAll:"all"}function Vpe(e){const t=e.get("rowSelection");return typeof t=="string"?!1:t?.mode==="multiRow"?t.ctrlASelectsRows??!1:!1}function Uy(e){const t=DS(e);return t==="descendants"||t==="filteredDescendants"}function oz(e){const t=e.get("rowSelection");return typeof t=="object"&&t.masterSelects||"self"}function Gpe(e){return e.isModuleRegistered("SetFilter")&&!e.get("suppressSetFilterByDefault")}function ws(e){return e.get("columnMenu")==="legacy"}function Upe(e){return!ws(e)}function Wpe(e){return!e||e.length<2?e:"on"+e[0].toUpperCase()+e.substring(1)}function $pe(e,t,n){typeof e!="object"&&(e={});const r={...e};for(const o of n){const a=t[o];typeof a<"u"&&(r[o]=a)}return r}function qpe(e,t){if(!e)return;const n={};let r=!1;for(const l of Object.keys(e))n[l]=e[l],r=!0;if(!r)return;const o={type:"gridOptionsChanged",options:n};t.dispatchEvent(o);const a={type:"componentStateChanged",...n};t.dispatchEvent(a)}function ht(e,t){return e.addCommon(t)}function K1(e,t){return e[t]??e.gridOptions?.[t]??CW(t)??yW[t]}function sz({gos:e},t){return t.button===2||t.ctrlKey&&e.get("allowContextMenuWithControlKey")}var Kpe={resizable:!0,sortable:!0},Ype=0;function BW(){return Ype++}function Oh(e){return e instanceof ig}var ig=class extends Pe{constructor(e,t,n,r){super(),this.colDef=e,this.userProvidedColDef=t,this.colId=n,this.primary=r,this.isColumn=!0,this.instanceId=BW(),this.autoHeaderHeight=null,this.moving=!1,this.resizing=!1,this.menuVisible=!1,this.lastLeftPinned=!1,this.firstRightPinned=!1,this.filterActive=!1,this.colEventSvc=new Up,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.flex=null,this.colIdSanitised=yy(n)}destroy(){super.destroy(),this.beans.rowSpanSvc?.deregister(this)}getInstanceId(){return this.instanceId}setState(){const{colDef:e,beans:{sortSvc:t,pinnedCols:n,colFlex:r}}=this;t?.initCol(this);const o=e.hide;o!==void 0?this.visible=!o:this.visible=!e.initialHide,n?.initCol(this),r?.initCol(this)}setColDef(e,t,n){const r=e.spanRows!==this.colDef.spanRows;this.colDef=e,this.userProvidedColDef=t,this.initMinAndMaxWidths(),this.initDotNotation(),this.initTooltip(),r&&(this.beans.rowSpanSvc?.deregister(this),this.initRowSpan()),this.dispatchColEvent("colDefChanged",n)}getUserProvidedColDef(){return this.userProvidedColDef}getParent(){return this.parent}getOriginalParent(){return this.originalParent}postConstruct(){this.setState(),this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip(),this.initRowSpan(),this.addPivotListener()}initDotNotation(){const{gos:e,colDef:{field:t,tooltipField:n}}=this,r=e.get("suppressFieldDotNotation");this.fieldContainsDots=Ye(t)&&t.includes(".")&&!r,this.tooltipFieldContainsDots=Ye(n)&&n.includes(".")&&!r}initMinAndMaxWidths(){const e=this.colDef;this.minWidth=e.minWidth??this.beans.environment.getDefaultColumnMinWidth(),this.maxWidth=e.maxWidth??Number.MAX_SAFE_INTEGER}initTooltip(){this.beans.tooltipSvc?.initCol(this)}initRowSpan(){this.colDef.spanRows&&this.beans.rowSpanSvc?.register(this)}addPivotListener(){const e=this.beans.pivotColDefSvc,t=this.colDef.pivotValueColumn;!e||!t||this.addManagedListeners(t,{colDefChanged:n=>{const r=e.recreateColDef(this.colDef);this.setColDef(r,r,n.source)}})}resetActualWidth(e){const t=this.calculateColInitialWidth(this.colDef);this.setActualWidth(t,e,!0)}calculateColInitialWidth(e){let t;const n=e.width,r=e.initialWidth;return n!=null?t=n:r!=null?t=r:t=200,Math.max(Math.min(t,this.maxWidth),this.minWidth)}isEmptyGroup(){return!1}isRowGroupDisplayed(e){return this.beans.showRowGroupCols?.isRowGroupDisplayed(this,e)??!1}isPrimary(){return this.primary}isFilterAllowed(){return!!this.colDef.filter}isFieldContainsDots(){return this.fieldContainsDots}isTooltipEnabled(){return this.tooltipEnabled}isTooltipFieldContainsDots(){return this.tooltipFieldContainsDots}getHighlighted(){return this.highlighted}__addEventListener(e,t){this.colEventSvc.addEventListener(e,t)}__removeEventListener(e,t){this.colEventSvc.removeEventListener(e,t)}addEventListener(e,t){this.frameworkEventListenerService=this.beans.frameworkOverrides.createLocalEventListenerWrapper?.(this.frameworkEventListenerService,this.colEventSvc);const n=this.frameworkEventListenerService?.wrap(e,t)??t;this.colEventSvc.addEventListener(e,n)}removeEventListener(e,t){const n=this.frameworkEventListenerService?.unwrap(e,t)??t;this.colEventSvc.removeEventListener(e,n)}createColumnFunctionCallbackParams(e){return ht(this.gos,{node:e,data:e.data,column:this,colDef:this.colDef})}isSuppressNavigable(e){return this.beans.cellNavigation?.isSuppressNavigable(this,e)??!1}isCellEditable(e){return this.beans.editSvc?.isCellEditable({rowNode:e,column:this})??!1}isSuppressFillHandle(){return!!this.colDef.suppressFillHandle}isAutoHeight(){return!!this.colDef.autoHeight}isAutoHeaderHeight(){return!!this.colDef.autoHeaderHeight}isRowDrag(e){return this.isColumnFunc(e,this.colDef.rowDrag)}isDndSource(e){return this.isColumnFunc(e,this.colDef.dndSource)}isCellCheckboxSelection(e){return this.beans.selectionSvc?.isCellCheckboxSelection(this,e)??!1}isSuppressPaste(e){return this.isColumnFunc(e,this.colDef?.suppressPaste??null)}isResizable(){return!!this.getColDefValue("resizable")}getColDefValue(e){return this.colDef[e]??Kpe[e]}isColumnFunc(e,t){if(typeof t=="boolean")return t;if(typeof t=="function"){const n=this.createColumnFunctionCallbackParams(e);return t(n)}return!1}createColumnEvent(e,t){return ht(this.gos,{type:e,column:this,columns:[this],source:t})}isMoving(){return this.moving}getSort(){return this.sort}isSortable(){return!!this.getColDefValue("sortable")}isSortAscending(){return this.sort==="asc"}isSortDescending(){return this.sort==="desc"}isSortNone(){return zn(this.sort)}isSorting(){return Ye(this.sort)}getSortIndex(){return this.sortIndex}isMenuVisible(){return this.menuVisible}getAggFunc(){return this.aggFunc}getLeft(){return this.left}getOldLeft(){return this.oldLeft}getRight(){return this.left+this.actualWidth}setLeft(e,t){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.dispatchColEvent("leftChanged",t))}isFilterActive(){return this.filterActive}isHovered(){return ze(261),!!this.beans.colHover?.isHovered(this)}setFirstRightPinned(e,t){this.firstRightPinned!==e&&(this.firstRightPinned=e,this.dispatchColEvent("firstRightPinnedChanged",t))}setLastLeftPinned(e,t){this.lastLeftPinned!==e&&(this.lastLeftPinned=e,this.dispatchColEvent("lastLeftPinnedChanged",t))}isFirstRightPinned(){return this.firstRightPinned}isLastLeftPinned(){return this.lastLeftPinned}isPinned(){return this.pinned==="left"||this.pinned==="right"}isPinnedLeft(){return this.pinned==="left"}isPinnedRight(){return this.pinned==="right"}getPinned(){return this.pinned}setVisible(e,t){const n=e===!0;this.visible!==n&&(this.visible=n,this.dispatchColEvent("visibleChanged",t)),this.dispatchStateUpdatedEvent("hide")}isVisible(){return this.visible}isSpanHeaderHeight(){return!this.getColDef().suppressSpanHeaderHeight}getFirstRealParent(){let e=this.getOriginalParent();for(;e?.isPadding();)e=e.getOriginalParent();return e}getColumnGroupPaddingInfo(){let e=this.getParent();if(!e?.isPadding())return{numberOfParents:0,isSpanningTotal:!1};const t=e.getPaddingLevel()+1;let n=!0;for(;e;){if(!e.isPadding()){n=!1;break}e=e.getParent()}return{numberOfParents:t,isSpanningTotal:n}}getColDef(){return this.colDef}getDefinition(){return this.colDef}getColumnGroupShow(){return this.colDef.columnGroupShow}getColId(){return this.colId}getId(){return this.colId}getUniqueId(){return this.colId}getActualWidth(){return this.actualWidth}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}createBaseColDefParams(e){return ht(this.gos,{node:e,data:e.data,colDef:this.colDef,column:this})}getColSpan(e){if(zn(this.colDef.colSpan))return 1;const t=this.createBaseColDefParams(e),n=this.colDef.colSpan(t);return Math.max(n,1)}getRowSpan(e){if(zn(this.colDef.rowSpan))return 1;const t=this.createBaseColDefParams(e),n=this.colDef.rowSpan(t);return Math.max(n,1)}setActualWidth(e,t,n=!1){e=Math.max(e,this.minWidth),e=Math.min(e,this.maxWidth),this.actualWidth!==e&&(this.actualWidth=e,this.flex!=null&&t!=="flex"&&t!=="gridInitializing"&&(this.flex=null),n||this.fireColumnWidthChangedEvent(t)),this.dispatchStateUpdatedEvent("width")}fireColumnWidthChangedEvent(e){this.dispatchColEvent("widthChanged",e)}isGreaterThanMax(e){return e>this.maxWidth}getMinWidth(){return this.minWidth}getMaxWidth(){return this.maxWidth}getFlex(){return this.flex}isRowGroupActive(){return this.rowGroupActive}isPivotActive(){return this.pivotActive}isAnyFunctionActive(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()}isAnyFunctionAllowed(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()}isValueActive(){return this.aggregationActive}isAllowPivot(){return this.colDef.enablePivot===!0}isAllowValue(){return this.colDef.enableValue===!0}isAllowRowGroup(){return this.colDef.enableRowGroup===!0}dispatchColEvent(e,t,n){const r=this.createColumnEvent(e,t);n&&Co(r,n),this.colEventSvc.dispatchEvent(r)}dispatchStateUpdatedEvent(e){this.colEventSvc.dispatchEvent({type:"columnStateUpdated",key:e})}};function Ui(e){return e instanceof Y1}var Y1=class extends Pe{constructor(e,t,n,r){super(),this.colGroupDef=e,this.groupId=t,this.padding=n,this.level=r,this.isColumn=!1,this.expandable=!1,this.instanceId=BW(),this.expandableListenerRemoveCallback=null,this.expanded=!!e?.openByDefault}destroy(){this.expandableListenerRemoveCallback&&this.reset(null,void 0),super.destroy()}reset(e,t){this.colGroupDef=e,this.level=t,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0}getInstanceId(){return this.instanceId}getOriginalParent(){return this.originalParent}getLevel(){return this.level}isVisible(){return this.children?this.children.some(e=>e.isVisible()):!1}isPadding(){return this.padding}setExpanded(e){this.expanded=e===void 0?!1:e,this.dispatchLocalEvent({type:"expandedChanged"})}isExpandable(){return this.expandable}isExpanded(){return this.expanded}getGroupId(){return this.groupId}getId(){return this.getGroupId()}setChildren(e){this.children=e}getChildren(){return this.children}getColGroupDef(){return this.colGroupDef}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}forEachLeafColumn(e){if(this.children)for(const t of this.children)Oh(t)?e(t):Ui(t)&&t.forEachLeafColumn(e)}addLeafColumns(e){if(this.children)for(const t of this.children)Oh(t)?e.push(t):Ui(t)&&t.addLeafColumns(e)}getColumnGroupShow(){const e=this.colGroupDef;if(e)return e.columnGroupShow}setupExpandable(){this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();const e=this.onColumnVisibilityChanged.bind(this);for(const t of this.getLeafColumns())t.__addEventListener("visibleChanged",e);this.expandableListenerRemoveCallback=()=>{for(const t of this.getLeafColumns())t.__removeEventListener("visibleChanged",e);this.expandableListenerRemoveCallback=null}}setExpandable(){if(this.isPadding())return;let e=!1,t=!1,n=!1;const r=this.findChildrenRemovingPadding();for(let a=0,l=r.length;a<l;a++){const d=r[a];if(!d.isVisible())continue;const f=d.getColumnGroupShow();f==="open"?(e=!0,n=!0):f==="closed"?(t=!0,n=!0):(e=!0,t=!0)}const o=e&&t&&n;this.expandable!==o&&(this.expandable=o,this.dispatchLocalEvent({type:"expandableChanged"}))}findChildrenRemovingPadding(){const e=[],t=n=>{for(const r of n)Ui(r)&&r.isPadding()?t(r.children):e.push(r)};return t(this.children),e}onColumnVisibilityChanged(){this.setExpandable()}},Qpe={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}};function az(e,t,n){const r={},o=e.gos;return Object.assign(r,o.get("defaultColGroupDef")),Object.assign(r,t),o.validateColDef(r,n),r}var Zpe=class{constructor(){this.existingKeys={}}addExistingKeys(e){for(let t=0;t<e.length;t++)this.existingKeys[e[t]]=!0}getUniqueKey(e,t){e=wP(e);let n=0;for(;;){let r=e??t;if(r?n!==0&&(r+="_"+n):r=n,!this.existingKeys[r]){const o=String(r);return e&&n>0&&ze(273,{providedId:e,usedId:o}),this.existingKeys[o]=!0,o}n++}}};function Tn(e){if(e?.length)return e[e.length-1]}function Uh(e,t,n){if(e===t)return!0;if(!e||!t)return e==null&&t==null;const r=e.length;if(r!==t.length)return!1;for(let o=0;o<r;o++)if(e[o]!==t[o]&&!n?.(e[o],t[o]))return!1;return!0}function QC(e,t){if(e)for(const n of e)t(n)}function el(e,t){const n=e.indexOf(t);n>=0&&e.splice(n,1)}function lz(e,t,n){for(let r=0;r<t.length;r++)el(e,t[r]);for(let r=t.length-1;r>=0;r--)e.splice(n,0,t[r])}var hE="ag-Grid-AutoColumn",jW="ag-Grid-SelectionColumn",zW="ag-Grid-RowNumbersColumn";function HW(e){const t=[],n=r=>{for(let o=0;o<r.length;o++){const a=r[o];Oh(a)?t.push(a):Ui(a)&&n(a.getChildren())}};return n(e),t}function fd(e){return e.reduce((t,n)=>t+n.getActualWidth(),0)}function MS(e,t,n){const r={};if(!t)return;Sd(null,t,a=>{r[a.getInstanceId()]=a}),n&&Sd(null,n,a=>{r[a.getInstanceId()]=null});const o=Object.values(r).filter(a=>a!=null);e.context.destroyBeans(o)}function IN(e){return e.getId().startsWith(hE)}function Xd(e){return(typeof e=="string"?e:"getColId"in e?e.getColId():e.colId)?.startsWith(jW)??!1}function Ad(e){return(typeof e=="string"?e:"getColId"in e?e.getColId():e.colId)?.startsWith(zW)??!1}function Xpe(e){return Xd(e)||Ad(e)}function TS(e){let t=[];return e instanceof Array?t=e:typeof e=="string"&&(t=e.split(",")),t}function Jpe(e,t){return Uh(e,t,(n,r)=>n.getColId()===r.getColId())}function ege(e){e.map={};for(const t of e.list)e.map[t.getId()]=t}function gb(e){return e==="optionsUpdated"?"gridOptionsChanged":e}function Sy(e,t){const n=e===t,r=e.getColDef()===t,o=e.getColId()==t;return n||r||o}var tge=(e,t)=>(n,r)=>{const o={value1:void 0,value2:void 0};let a=!1;return e&&(e[n]!==void 0&&(o.value1=e[n],a=!0),Ye(r)&&e[r]!==void 0&&(o.value2=e[r],a=!0)),!a&&t&&(t[n]!==void 0&&(o.value1=t[n]),Ye(r)&&t[r]!==void 0&&(o.value2=t[r])),o},nge=(e,t)=>{Ui(e)&&e.setupExpandable(),e.originalParent=t};function rge(e,t=null,n,r,o){const a=new Zpe,{existingCols:l,existingGroups:d,existingColKeys:f}=ige(r);a.addExistingKeys(f);const m=VW(e,t,0,n,l,a,d,o),{colGroupSvc:v}=e,C=v?.findMaxDepth(m,0)??0,y=v?v.balanceColumnTree(m,0,C,a):m;return Sd(null,y,nge),{columnTree:y,treeDepth:C}}function ige(e){const t=[],n=[],r=[];return e&&Sd(null,e,o=>{if(Ui(o)){const a=o;n.push(a)}else{const a=o;r.push(a.getId()),t.push(a)}}),{existingCols:t,existingGroups:n,existingColKeys:r}}function VW(e,t,n,r,o,a,l,d){if(!t)return[];const{colGroupSvc:f}=e,m=new Array(t.length);for(let v=0;v<m.length;v++){const C=t[v];f&&dge(C)?m[v]=f.createProvidedColumnGroup(r,C,n,o,a,l,d):m[v]=oge(e,r,C,o,a,d)}return m}function oge(e,t,n,r,o,a){const l=age(n,r);l&&r?.splice(l.idx,1);let d=l?.column;if(d){const f=EP(e,n,d.getColId());d.setColDef(f,n,a),sge(e,d,f,a)}else{const f=o.getUniqueKey(n.colId,n.field),m=EP(e,n,f);d=new ig(m,n,f,t),e.context.createBean(d)}return e.dataTypeSvc?.addColumnListeners(d),d}function GW(e,t,n,r,o,a,l,d){const{sortSvc:f,pinnedCols:m,colFlex:v}=e;n!==void 0&&t.setVisible(!n,d),f&&(f.updateColSort(t,r,d),o!==void 0&&f.setColSortIndex(t,o)),a!==void 0&&m?.setColPinned(t,a),l!==void 0&&v?.setColFlex(t,l)}function sge(e,t,n,r){GW(e,t,n.hide,n.sort,n.sortIndex,n.pinned,n.flex,r);const o=t.getFlex();if(!(o!=null&&o>0))if(n.width!=null)t.setActualWidth(n.width,r);else{const a=t.getActualWidth();t.setActualWidth(a,r)}}function age(e,t){if(t)for(let n=0;n<t.length;n++){const r=t[n].getUserProvidedColDef();if(!r)continue;if(e.colId!=null){if(t[n].getId()===e.colId)return{idx:n,column:t[n]};continue}if(e.field!=null){if(r.field===e.field)return{idx:n,column:t[n]};continue}if(r===e)return{idx:n,column:t[n]}}}function EP(e,t,n,r){const{gos:o,dataTypeSvc:a}=e,l={},d=o.get("defaultColDef");Co(l,d,!1,!0);const f=lge(e,l,t,n);f&&cge(e,f,l);const m=l.cellDataType;Co(l,t,!1,!0),m!==void 0&&(l.cellDataType=m);const v=o.get("autoGroupColumnDef"),C=Ql(o);return t.rowGroup&&v&&C&&Co(l,{sort:v.sort,initialSort:v.initialSort},!1,!0),a&&(a.postProcess(l),a.validateColDef(l)),o.validateColDef(l,n,r),l}function lge(e,t,n,r){const o=e.dataTypeSvc?.updateColDefAndGetColumnType(t,n,r),a=n.type??o??t.type;return t.type=a,a?TS(a):void 0}function cge(e,t,n){if(!t.length)return;const r=Object.assign({},Qpe),o=e.gos.get("columnTypes")||{};for(const a of Object.keys(o)){const l=o[a];a in r?ze(34,{key:a}):(l.type&&ze(35),r[a]=l)}for(const a of t){const l=r[a.trim()];l?Co(n,l,!1,!0):ze(36,{t:a})}}function dge(e){return e.children!==void 0}function Sd(e,t,n){if(t)for(let r=0;r<t.length;r++){const o=t[r];Ui(o)&&Sd(o,o.getChildren(),n),n(o,e)}}function UW(e,t){const n=[],r=[],o=[];return e.forEach(l=>{const d=l.getColDef().lockPosition;d==="right"?o.push(l):d==="left"||d===!0?n.push(l):r.push(l)}),t.get("enableRtl")?[...o,...r,...n]:[...n,...r,...o]}function WW(e,t){let n=!0;return Sd(null,t,r=>{if(!Ui(r))return;const o=r;if(!o.getColGroupDef()?.marryChildren)return;const d=[];for(const y of o.getLeafColumns()){const S=e.indexOf(y);d.push(S)}const f=Math.max.apply(Math,d),m=Math.min.apply(Math,d),v=f-m,C=o.getLeafColumns().length-1;v>C&&(n=!1)}),n}function $W(e,t){if(!e||e.length==0)return;const n=t(e[0]);for(let r=1;r<e.length;r++)if(n!==t(e[r]))return;return n}function qW(e,t,n){if(!t.length)return;const r=t.length===1?t[0]:null,o=$W(t,a=>a.getPinned());e.dispatchEvent({type:"columnPinned",pinned:o??null,columns:t,column:r,source:n})}function uge(e,t,n){if(!t.length)return;const r=t.length===1?t[0]:null,o=$W(t,a=>a.isVisible());e.dispatchEvent({type:"columnVisible",visible:o,columns:t,column:r,source:n})}function hge(e,t,n,r){e.dispatchEvent({type:t,columns:n,column:n&&n.length==1?n[0]:null,source:r})}function Mb(e,t,n,r,o=null){t?.length&&e.dispatchEvent({type:"columnResized",columns:t,column:t.length===1?t[0]:null,flexColumns:o,finished:n,source:r})}function Ya(e,t,n){const{colModel:r,rowGroupColsSvc:o,pivotColsSvc:a,autoColSvc:l,selectionColSvc:d,colAnimation:f,visibleCols:m,pivotResultCols:v,environment:C,valueColsSvc:y,eventSvc:S,gos:E}=e,T=r.getColDefCols()??[],P=d?.getColumns();if(!T.length&&!P?.length)return!1;if(t?.state&&!t.state.forEach)return ze(32),!1;const N=(U,$,z,K,te)=>{if(!U)return;const ae=tge($,t.defaultState),X=ae("flex").value1;if(GW(e,U,ae("hide").value1,ae("sort").value1,ae("sortIndex").value1,ae("pinned").value1,X,n),X==null){const Z=ae("width").value1;if(Z!=null){const se=U.getColDef().minWidth??C.getDefaultColumnMinWidth();se!=null&&Z>=se&&U.setActualWidth(Z,n)}}te||!U.isPrimary()||(y?.syncColumnWithState(U,n,ae),o?.syncColumnWithState(U,n,ae,z),a?.syncColumnWithState(U,n,ae,K))},j=(U,$,z)=>{const K=KW(e,n),te=$.slice(),ae={},X={},Z=[],se=[],Q=[];let J=0;const re=o?.columns.slice()??[],ee=a?.columns.slice()??[];for(const he of U){const ne=he.colId;if(ne.startsWith(hE)){Z.push(he),Q.push(he);continue}if(Xd(ne)){se.push(he),Q.push(he);continue}const ve=z(ne);ve?(N(ve,he,ae,X,!1),el(te,ve)):(Q.push(he),J+=1)}const le=he=>N(he,null,ae,X,!1);te.forEach(le),o?.sortColumns(cz.bind(o,ae,re)),a?.sortColumns(cz.bind(a,X,ee)),r.refreshCols(!1,n);const ce=(he,ne,fe=[])=>{for(const ve of ne){const me=he(ve.colId);el(fe,me),N(me,ve,null,null,!0)}fe.forEach(le)};return ce(he=>l?.getColumn(he)??null,Z,l?.getColumns()?.slice()),ce(he=>d?.getColumn(he)??null,se,d?.getColumns()?.slice()),pge(t,r,E),m.refresh(n),S.dispatchEvent({type:"columnEverythingChanged",source:n}),K(),{unmatchedAndAutoStates:Q,unmatchedCount:J}};f?.start();let{unmatchedAndAutoStates:L,unmatchedCount:V}=j(t.state||[],T,U=>r.getColDefCol(U));if(L.length>0||Ye(t.defaultState)){const U=v?.getPivotResultCols()?.list??[];V=j(L,U,$=>v?.getPivotResultCol($)??null).unmatchedCount}return f?.finish(),V===0}function fge(e,t){const{colModel:n,autoColSvc:r,selectionColSvc:o,eventSvc:a,gos:l}=e,d=n.getColDefCols();if(!d?.length)return;const f=n.getColDefColTree(),m=HW(f),v=[];let C=1e3,y=1e3;const S=j=>{const L=YW(j);zn(L.rowGroupIndex)&&L.rowGroup&&(L.rowGroupIndex=C++),zn(L.pivotIndex)&&L.pivot&&(L.pivotIndex=y++),v.push(L)};r?.getColumns()?.forEach(S),o?.getColumns()?.forEach(S),m?.forEach(S),Ya(e,{state:v},t);const E=r?.getColumns()??[],N=[...o?.getColumns()??[],...E,...d].map(j=>({colId:j.colId}));Ya(e,{state:N,applyOrder:!0},t),a.dispatchEvent(ht(l,{type:"columnsReset",source:t}))}function KW(e,t){const{rowGroupColsSvc:n,pivotColsSvc:r,valueColsSvc:o,colModel:a,sortSvc:l,eventSvc:d}=e,f={rowGroupColumns:n?.columns.slice()??[],pivotColumns:r?.columns.slice()??[],valueColumns:o?.columns.slice()??[]},m=RS(e),v={};for(const C of m)v[C.colId]=C;return()=>{const C=($,z,K,te)=>{const ae=z.map(te),X=K.map(te);if(Uh(ae,X))return;const se=new Set(z);for(const J of K)se.delete(J)||se.add(J);const Q=[...se];d.dispatchEvent({type:$,columns:Q,column:Q.length===1?Q[0]:null,source:t})},y=$=>{const z=[];return a.forAllCols(K=>{const te=v[K.getColId()];te&&$(te,K)&&z.push(K)}),z},S=$=>$.getColId();C("columnRowGroupChanged",f.rowGroupColumns,n?.columns??[],S),C("columnPivotChanged",f.pivotColumns,r?.columns??[],S);const T=y(($,z)=>{const K=$.aggFunc!=null,te=K!=z.isValueActive(),ae=K&&$.aggFunc!=z.getAggFunc();return te||ae});T.length>0&&hge(d,"columnValueChanged",T,t),Mb(d,y(($,z)=>$.width!=z.getActualWidth()),!0,t),qW(d,y(($,z)=>$.pinned!=z.getPinned()),t),uge(d,y(($,z)=>$.hide==z.isVisible()),t);const V=y(($,z)=>$.sort!=z.getSort()||$.sortIndex!=z.getSortIndex());V.length>0&&l?.dispatchSortChangedEvents(t,V);const U=RS(e);mge(m,U,t,a,d)}}function RS(e){const{colModel:t,rowGroupColsSvc:n,pivotColsSvc:r}=e,o=t.getColDefCols();if(zn(o)||!t.isAlive())return[];const a=n?.columns,l=r?.columns,d=[],f=v=>{const C=v.isRowGroupActive()&&a?a.indexOf(v):null,y=v.isPivotActive()&&l?l.indexOf(v):null,S=v.isValueActive()?v.getAggFunc():null,E=v.getSort()!=null?v.getSort():null,T=v.getSortIndex()!=null?v.getSortIndex():null;d.push({colId:v.getColId(),width:v.getActualWidth(),hide:!v.isVisible(),pinned:v.getPinned(),sort:E,sortIndex:T,aggFunc:S,rowGroup:v.isRowGroupActive(),rowGroupIndex:C,pivot:v.isPivotActive(),pivotIndex:y,flex:v.getFlex()??null})};t.forAllCols(v=>f(v));const m=new Map(t.getCols().map((v,C)=>[v.getColId(),C]));return d.sort((v,C)=>{const y=m.has(v.colId)?m.get(v.colId):-1,S=m.has(C.colId)?m.get(C.colId):-1;return y-S}),d}function YW(e){const t=(E,T)=>E??T??null,n=e.getColDef(),r=t(n.sort,n.initialSort),o=t(n.sortIndex,n.initialSortIndex),a=t(n.hide,n.initialHide),l=t(n.pinned,n.initialPinned),d=t(n.width,n.initialWidth),f=t(n.flex,n.initialFlex);let m=t(n.rowGroupIndex,n.initialRowGroupIndex),v=t(n.rowGroup,n.initialRowGroup);m==null&&!v&&(m=null,v=null);let C=t(n.pivotIndex,n.initialPivotIndex),y=t(n.pivot,n.initialPivot);C==null&&!y&&(C=null,y=null);const S=t(n.aggFunc,n.initialAggFunc);return{colId:e.getColId(),sort:r,sortIndex:o,hide:a,pinned:l,width:d,flex:f,rowGroup:v,rowGroupIndex:m,pivot:y,pivotIndex:C,aggFunc:S}}function pge(e,t,n){if(!e.applyOrder||!e.state)return;const r=[];for(const o of e.state)o.colId!=null&&r.push(o.colId);gge(t.cols,r,t,n)}function gge(e,t,n,r){if(e==null)return;let o=[];const a={};for(const d of t){if(a[d])continue;const f=e.map[d];f&&(o.push(f),a[d]=!0)}let l=0;for(const d of e.list){const f=d.getColId();if(a[f]!=null)continue;f.startsWith(hE)?o.splice(l++,0,d):o.push(d)}if(o=UW(o,r),!WW(o,n.getColTree())){ze(39);return}e.list=o}function mge(e,t,n,r,o){const a={};for(const v of t)a[v.colId]=v;const l={};for(const v of e)a[v.colId]&&(l[v.colId]=!0);const d=e.filter(v=>l[v.colId]),f=t.filter(v=>l[v.colId]),m=[];f.forEach((v,C)=>{const y=d?.[C];if(y&&y.colId!==v.colId){const S=r.getCol(y.colId);S&&m.push(S)}}),m.length&&o.dispatchEvent({type:"columnMoved",columns:m,column:m.length===1?m[0]:null,finished:!0,source:n})}var cz=(e,t,n,r)=>{const o=e[n.getId()],a=e[r.getId()],l=o!=null,d=a!=null;if(l&&d)return o-a;if(l)return-1;if(d)return 1;const f=t.indexOf(n),m=t.indexOf(r),v=f>=0,C=m>=0;return v&&C?f-m:v?-1:1},bge=class extends Pe{constructor(){super(...arguments),this.beanName="colModel",this.pivotMode=!1,this.ready=!1,this.changeEventsDispatching=!1}postConstruct(){this.pivotMode=this.gos.get("pivotMode"),this.addManagedPropertyListeners(["groupDisplayType","treeData","treeDataDisplayType","groupHideOpenParents","rowNumbers","hidePaddedHeaderRows"],e=>this.refreshAll(gb(e.source))),this.addManagedPropertyListeners(["defaultColDef","defaultColGroupDef","columnTypes","suppressFieldDotNotation"],this.recreateColumnDefs.bind(this)),this.addManagedPropertyListener("pivotMode",e=>this.setPivotMode(this.gos.get("pivotMode"),gb(e.source)))}createColsFromColDefs(e){const{beans:t}=this,{valueCache:n,colAutosize:r,rowGroupColsSvc:o,pivotColsSvc:a,valueColsSvc:l,visibleCols:d,eventSvc:f,groupHierarchyColSvc:m}=t,v=this.colDefs?KW(t,e):void 0;n?.expire();const C=this.colDefCols?.list,y=this.colDefCols?.tree,S=rge(t,this.colDefs,!0,y,e);MS(t,this.colDefCols?.tree,S.columnTree);const E=S.columnTree,T=S.treeDepth,P=HW(E),N={};for(const j of P)N[j.getId()]=j;this.colDefCols={tree:E,treeDepth:T,list:P,map:N},this.createColumnsForService([m],this.colDefCols,e),o?.extractCols(e,C),a?.extractCols(e,C),l?.extractCols(e,C),this.ready=!0,this.refreshCols(!0,e),d.refresh(e),f.dispatchEvent({type:"columnEverythingChanged",source:e}),v&&(this.changeEventsDispatching=!0,v(),this.changeEventsDispatching=!1),f.dispatchEvent({type:"newColumnsLoaded",source:e}),e==="gridInitializing"&&r?.applyAutosizeStrategy()}refreshCols(e,t){if(!this.colDefCols)return;const n=this.cols?.tree;this.saveColOrder();const{autoColSvc:r,selectionColSvc:o,rowNumbersSvc:a,quickFilter:l,pivotResultCols:d,showRowGroupCols:f,rowAutoHeight:m,visibleCols:v,colViewport:C,eventSvc:y}=this.beans,S=this.selectCols(d,this.colDefCols);this.createColumnsForService([r,o,a],S,t);const E=Ppe(this.gos,this.showingPivotResult);(!e||E)&&this.restoreColOrder(S),this.positionLockedCols(S),f?.refresh(),l?.refreshCols(),this.setColSpanActive(),m?.setAutoHeightActive(S),v.clear(),C.clear(),!Uh(n,this.cols.tree)&&y.dispatchEvent({type:"gridColumnsChanged"})}createColumnsForService(e,t,n){for(const r of e)r&&(r.createColumns(t,o=>{this.lastOrder=o(this.lastOrder),this.lastPivotOrder=o(this.lastPivotOrder)},n),r.addColumns(t))}selectCols(e,t){const n=e?.getPivotResultCols()??null;this.showingPivotResult=n!=null;const{map:r,list:o,tree:a,treeDepth:l}=n??t;return this.cols={list:o.slice(),map:{...r},tree:a.slice(),treeDepth:l},n&&(n.list.some(f=>this.cols?.map[f.getColId()]!==void 0)||(this.lastPivotOrder=null)),this.cols}getColsToShow(){if(!this.cols)return[];const{valueColsSvc:e,selectionColSvc:t,gos:n}=this.beans,r=this.isPivotMode()&&!this.showingPivotResult,o=t?.isSelectionColumnEnabled(),a=n.get("rowNumbers"),l=e?.columns;return this.cols.list.filter(f=>{const m=IN(f);if(r){const v=l?.includes(f);return m||v||o&&Xd(f)||a&&Ad(f)}else return m||f.isVisible()})}refreshAll(e){this.ready&&(this.refreshCols(!1,e),this.beans.visibleCols.refresh(e))}setColsVisible(e,t=!1,n){Ya(this.beans,{state:e.map(r=>({colId:typeof r=="string"?r:r.getColId(),hide:!t}))},n)}restoreColOrder(e){const t=this.showingPivotResult?this.lastPivotOrder:this.lastOrder;if(!t)return;const n=t.filter(C=>e.map[C.getId()]!=null);if(n.length===0)return;if(n.length===e.list.length){e.list=n;return}const r=C=>{const y=C.getOriginalParent();return y?y.getChildren().length>1?!0:r(y):!1};if(!n.some(C=>r(C))){const C=new Set(n);for(const y of e.list)C.has(y)||n.push(y);e.list=n;return}const o=new Map;for(let C=0;C<n.length;C++){const y=n[C];o.set(y,C)}const a=e.list.filter(C=>!o.has(C));if(a.length===0){e.list=n;return}const l=(C,y)=>{const S=y?y.getOriginalParent():C.getOriginalParent();if(!S)return null;let E=null,T=null;for(const P of S.getChildren())if(!(P===y||P===C)){if(P instanceof ig){const N=o.get(P);if(N==null)continue;(E==null||E<N)&&(E=N,T=P);continue}P.forEachLeafColumn(N=>{const j=o.get(N);j!=null&&(E==null||E<j)&&(E=j,T=N)})}return T??l(C,S)},d=[],f=new Map;for(const C of a){const y=l(C,null);if(y==null){d.push(C);continue}const S=f.get(y);S===void 0?f.set(y,C):Array.isArray(S)?S.push(C):f.set(y,[S,C])}const m=new Array(e.list.length);let v=m.length-1;for(let C=d.length-1;C>=0;C--)m[v--]=d[C];for(let C=n.length-1;C>=0;C--){const y=n[C],S=f.get(y);if(S)if(Array.isArray(S))for(let E=S.length-1;E>=0;E--){const T=S[E];m[v--]=T}else m[v--]=S;m[v--]=y}e.list=m}positionLockedCols(e){e.list=UW(e.list,this.gos)}saveColOrder(){this.showingPivotResult?this.lastPivotOrder=this.cols?.list??null:this.lastOrder=this.cols?.list??null}getColumnDefs(e){return this.colDefCols&&this.beans.colDefFactory?.getColumnDefs(this.colDefCols.list,this.showingPivotResult,this.lastOrder,this.cols?.list??[],e)}setColSpanActive(){this.colSpanActive=!!this.cols?.list.some(e=>e.getColDef().colSpan!=null)}isPivotMode(){return this.pivotMode}setPivotMode(e,t){if(e===this.pivotMode||(this.pivotMode=e,!this.ready))return;this.refreshCols(!1,t);const{visibleCols:n,eventSvc:r}=this.beans;n.refresh(t),r.dispatchEvent({type:"columnPivotModeChanged"})}isPivotActive(){const e=this.beans.pivotColsSvc?.columns;return this.pivotMode&&!!e?.length}recreateColumnDefs(e){if(!this.cols)return;this.beans.autoColSvc?.updateColumns(e);const t=gb(e.source);this.createColsFromColDefs(t)}setColumnDefs(e,t){this.colDefs=e,this.createColsFromColDefs(t)}destroy(){MS(this.beans,this.colDefCols?.tree),super.destroy()}getColTree(){return this.cols?.tree??[]}getColDefColTree(){return this.colDefCols?.tree??[]}getColDefCols(){return this.colDefCols?.list??null}getCols(){return this.cols?.list??[]}forAllCols(e){const{pivotResultCols:t,autoColSvc:n,selectionColSvc:r,groupHierarchyColSvc:o}=this.beans;QC(this.colDefCols?.list,e),QC(n?.columns?.list,e),QC(r?.columns?.list,e),QC(o?.columns?.list,e),QC(t?.getPivotResultCols()?.list,e)}getColsForKeys(e){return e?e.map(t=>this.getCol(t)).filter(t=>t!=null):[]}getColDefCol(e){return this.colDefCols?.list?this.getColFromCollection(e,this.colDefCols):null}getCol(e){return e==null?null:this.getColFromCollection(e,this.cols)}getColById(e){return this.cols?.map[e]??null}getColFromCollection(e,t){if(t==null)return null;const{map:n,list:r}=t;if(typeof e=="string"&&n[e])return n[e];for(let d=0;d<r.length;d++)if(Sy(r[d],e))return r[d];const{autoColSvc:o,selectionColSvc:a,groupHierarchyColSvc:l}=this.beans;return o?.getColumn(e)??a?.getColumn(e)??l?.getColumn(e)??null}},QW=class{constructor(){this.existingIds={}}getInstanceIdForKey(e){const t=this.existingIds[e];let n;return typeof t!="number"?n=0:n=t+1,this.existingIds[e]=n,n}},nv=class extends Pe{};function S0(e,t,n){return n&&e.addDestroyFunc(()=>t.destroyBean(n)),n??e}var qe=null;function dz(e){return typeof e?.getGui=="function"}var rv=class{constructor(e){this.cssClassStates={},this.getGui=e}toggleCss(e,t){if(!e)return;if(e.indexOf(" ")>=0){const r=(e||"").split(" ");if(r.length>1){for(const o of r)this.toggleCss(o,t);return}}this.cssClassStates[e]!==t&&e.length&&(this.getGui()?.classList.toggle(e,t),this.cssClassStates[e]=t)}},vge=0,_0=class extends wc{constructor(e,t){super(),this.suppressDataRefValidation=!1,this.displayed=!0,this.visible=!0,this.compId=vge++,this.cssManager=new rv(()=>this.eGui),this.componentSelectors=new Map((t??[]).map(n=>[n.selector,n])),e&&this.setTemplate(e)}preConstruct(){this.wireTemplate(this.getGui());const e="component-"+Object.getPrototypeOf(this)?.constructor?.name;for(const t of this.css??[])this.beans.environment.addGlobalCSS(t,e)}wireTemplate(e,t){e&&this.gos&&(this.applyElementsToComponent(e),this.createChildComponentsFromTags(e,t))}getCompId(){return this.compId}getDataRefAttribute(e){return e.getAttribute?e.getAttribute(gW):null}applyElementsToComponent(e,t,n,r=null){if(t===void 0&&(t=this.getDataRefAttribute(e)),t){const o=this[t];if(o===qe)this[t]=r??e;else{const a=n?.[t];if(!this.suppressDataRefValidation&&!a)throw new Error(`data-ref: ${t} on ${this.constructor.name} with ${o}`)}}}createChildComponentsFromTags(e,t){const n=[];for(const r of e.childNodes??[])n.push(r);for(const r of n){if(!(r instanceof HTMLElement))continue;const o=this.createComponentFromElement(r,a=>{const l=a.getGui();if(l)for(const d of r.attributes??[])l.setAttribute(d.name,d.value)},t);if(o){if(o.addItems&&r.children.length){this.createChildComponentsFromTags(r,t);const a=Array.prototype.slice.call(r.children);o.addItems(a)}this.swapComponentForNode(o,e,r)}else r.childNodes&&this.createChildComponentsFromTags(r,t)}}createComponentFromElement(e,t,n){const r=e.nodeName,o=this.getDataRefAttribute(e),a=r.indexOf("AG-")===0,l=a?this.componentSelectors.get(r):null;let d=null;if(l){const f=n&&o?n[o]:void 0;d=new l.component(f),d.setParentComponent(this),this.createBean(d,null,t)}else if(a)throw new Error(`selector: ${r}`);return this.applyElementsToComponent(e,o,n,d),d}swapComponentForNode(e,t,n){const r=e.getGui();t.replaceChild(r,n),t.insertBefore(document.createComment(n.nodeName),r),this.addDestroyFunc(this.destroyBean.bind(this,e))}activateTabIndex(e){const t=this.gos.get("tabIndex");e||(e=[]),e.length||e.push(this.getGui());for(const n of e)n.setAttribute("tabindex",t.toString())}setTemplate(e,t,n){let r;typeof e=="string"||e==null?r=xN(e):r=A0(e),this.setTemplateFromElement(r,t,n)}setTemplateFromElement(e,t,n,r=!1){if(this.eGui=e,this.suppressDataRefValidation=r,t)for(let o=0;o<t.length;o++){const a=t[o];this.componentSelectors.set(a.selector,a)}this.wireTemplate(e,n)}getGui(){return this.eGui}getFocusableElement(){return this.eGui}getAriaElement(){return this.getFocusableElement()}setParentComponent(e){this.parentComponent=e}getParentComponent(){return this.parentComponent}setGui(e){this.eGui=e}queryForHtmlElement(e){return this.eGui.querySelector(e)}getContainerAndElement(e,t){let n=t;return e==null?null:(n||(n=this.eGui),_N(e)?{element:e,parent:n}:{element:e.getGui(),parent:n})}prependChild(e,t){const{element:n,parent:r}=this.getContainerAndElement(e,t)||{};!n||!r||r.insertAdjacentElement("afterbegin",n)}appendChild(e,t){const{element:n,parent:r}=this.getContainerAndElement(e,t)||{};!n||!r||r.appendChild(n)}isDisplayed(){return this.displayed}setVisible(e,t={}){if(e!==this.visible){this.visible=e;const{skipAriaHidden:n}=t;Zfe(this.eGui,e,{skipAriaHidden:n})}}setDisplayed(e,t={}){if(e!==this.displayed){this.displayed=e;const{skipAriaHidden:n}=t;Ln(this.eGui,e,{skipAriaHidden:n});const r={type:"displayChanged",visible:this.displayed};this.dispatchLocalEvent(r)}}destroy(){this.parentComponent&&(this.parentComponent=void 0),super.destroy()}addGuiEventListener(e,t,n){this.eGui.addEventListener(e,t,n),this.addDestroyFunc(()=>this.eGui.removeEventListener(e,t))}addCss(e){this.cssManager.toggleCss(e,!0)}removeCss(e){this.cssManager.toggleCss(e,!1)}toggleCss(e,t){this.cssManager.toggleCss(e,t)}registerCSS(e){this.css||(this.css=[]),this.css.push(e)}},nn=class extends _0{};function ZW(e){return typeof e=="object"&&!!e.component}function wge(e,t){return new Jt(n=>{n(window.setInterval(e,t))})}var Jt=class my{constructor(t){this.status=0,this.resolution=null,this.waiters=[],t(n=>this.onDone(n),n=>this.onReject(n))}static all(t){return t.length?new my(n=>{let r=t.length;const o=new Array(r);t.forEach((a,l)=>{a.then(d=>{o[l]=d,r--,r===0&&n(o)})})}):my.resolve()}static resolve(t=null){return new my(n=>n(t))}then(t){return new my(n=>{this.status===1?n(t(this.resolution)):this.waiters.push(r=>n(t(r)))})}onDone(t){this.status=1,this.resolution=t;for(const n of this.waiters)n(t)}onReject(t){}};function Cge(e){return e?e.prototype&&"getGui"in e.prototype:!1}function XW(e,t,n,r){const{name:o}=n;let a,l,d,f,m,v;if(t){const C=t,y=C[o+"Selector"],S=y?y(r):null,E=T=>{typeof T=="string"?a=T:T!=null&&T!==!0&&(e.isFrameworkComponent(T)?d=T:l=T)};S?(E(S.component),f=S.params,m=S.popup,v=S.popupPosition):E(C[o])}return{compName:a,jsComp:l,fwComp:d,paramsFromSelector:f,popupFromSelector:m,popupPositionFromSelector:v}}var yge=class extends Pe{constructor(){super(...arguments),this.beanName="userCompFactory"}wireBeans(e){this.agCompUtils=e.agCompUtils,this.registry=e.registry,this.frameworkCompWrapper=e.frameworkCompWrapper,this.gridOptions=e.gridOptions}getCompDetailsFromGridOptions(e,t,n,r=!1){return this.getCompDetails(this.gridOptions,e,t,n,r)}getCompDetails(e,t,n,r,o=!1){const{name:a,cellRenderer:l}=t;let{compName:d,jsComp:f,fwComp:m,paramsFromSelector:v,popupFromSelector:C,popupPositionFromSelector:y}=XW(this.beans.frameworkOverrides,e,t,r),S,E;const T=L=>{const V=this.registry.getUserComponent(a,L);V&&(f=V.componentFromFramework?void 0:V.component,m=V.componentFromFramework?V.component:void 0,S=V.params,E=V.processParams)};if(d!=null&&T(d),f==null&&m==null&&n!=null&&T(n),f&&l&&!Cge(f)&&(f=this.agCompUtils?.adaptFunction(t,f)),!f&&!m){const{validation:L}=this.beans;o&&(d!==n||!n)?d?L?.isProvidedUserComp(d)||Cn(50,{compName:d}):n?L||Cn(260,{...this.gos.getModuleErrorParams(),propName:a,compName:n}):Cn(216,{name:a}):n&&!L&&Cn(146,{comp:n});return}const P=this.mergeParams(e,t,r,v,S,E),N=f==null,j=f??m;return{componentFromFramework:N,componentClass:j,params:P,type:t,popupFromSelector:C,popupPositionFromSelector:y,newAgStackInstance:()=>this.newAgStackInstance(j,N,P,t)}}newAgStackInstance(e,t,n,r){const o=!t;let a;o?a=new e:a=this.frameworkCompWrapper.wrap(e,r.mandatoryMethods,r.optionalMethods,r),this.createBean(a);const l=a.init?.(n);return l==null?Jt.resolve(a):l.then(()=>a)}mergeParams(e,t,n,r=null,o,a){const l={...n,...o},f=e?.[t.name+"Params"];if(typeof f=="function"){const m=f(n);Co(l,m)}else typeof f=="object"&&Co(l,f);return Co(l,r),a?a(l):l}},kge={name:"dateComponent",mandatoryMethods:["getDate","setDate"],optionalMethods:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled","refresh"]},xge={name:"dragAndDropImageComponent",mandatoryMethods:["setIcon","setLabel"]},Age={name:"headerComponent",optionalMethods:["refresh"]},Sge={name:"innerHeaderComponent"},_ge={name:"innerHeaderGroupComponent"},Ege={name:"headerGroupComponent"},Dge={name:"innerRenderer",cellRenderer:!0,optionalMethods:["afterGuiAttached"]},Mge={name:"cellRenderer",optionalMethods:["refresh","afterGuiAttached"],cellRenderer:!0},Tge={name:"loadingCellRenderer",cellRenderer:!0},Rge={name:"cellEditor",mandatoryMethods:["getValue"],optionalMethods:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached","refresh"]},Pge={name:"loadingOverlayComponent",optionalMethods:["refresh"]},Ige={name:"noRowsOverlayComponent",optionalMethods:["refresh"]},Nge={name:"tooltipComponent"},NN={name:"filter",mandatoryMethods:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethods:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged","refresh"]},Oge={name:"floatingFilterComponent",mandatoryMethods:["onParentModelChanged"],optionalMethods:["afterGuiAttached","refresh"]},Fge={name:"fullWidthCellRenderer",optionalMethods:["refresh","afterGuiAttached"],cellRenderer:!0},Lge={name:"loadingCellRenderer",cellRenderer:!0},Bge={name:"groupRowRenderer",optionalMethods:["afterGuiAttached"],cellRenderer:!0},jge={name:"detailCellRenderer",optionalMethods:["refresh"],cellRenderer:!0};function zge(e,t){return e.getCompDetailsFromGridOptions(xge,"agDragAndDropImage",t,!0)}function ZA(e,t,n){return e.getCompDetails(t,Dge,void 0,n)}function Hge(e,t,n){return e.getCompDetails(t,Age,"agColumnHeader",n)}function Vge(e,t,n){return e.getCompDetails(t,Sge,void 0,n)}function Gge(e,t){const n=t.columnGroup.getColGroupDef();return e.getCompDetails(n,Ege,"agColumnGroupHeader",t)}function Uge(e,t,n){return e.getCompDetails(t,_ge,void 0,n)}function Wge(e,t){return e.getCompDetailsFromGridOptions(Fge,void 0,t,!0)}function $ge(e,t){return e.getCompDetailsFromGridOptions(Lge,"agLoadingCellRenderer",t,!0)}function qge(e,t){return e.getCompDetailsFromGridOptions(Bge,"agGroupRowRenderer",t,!0)}function Kge(e,t){return e.getCompDetailsFromGridOptions(jge,"agDetailCellRenderer",t,!0)}function PS(e,t,n){return e.getCompDetails(t,Mge,void 0,n)}function uz(e,t,n){return e.getCompDetails(t,Tge,"agSkeletonCellRenderer",n,!0)}function JW(e,t,n){return e.getCompDetails(t,Rge,"agCellEditor",n,!0)}function Yge(e,t,n,r){const o=t.filter;return ZW(o)&&(t={filter:o.component,filterParams:t.filterParams}),e.getCompDetails(t,NN,r,n,!0)}function Qge(e,t,n){return e.getCompDetails(t,kge,"agDateInput",n,!0)}function Zge(e,t){return e.getCompDetailsFromGridOptions(Pge,"agLoadingOverlay",t,!0)}function Xge(e,t){return e.getCompDetailsFromGridOptions(Ige,"agNoRowsOverlay",t,!0)}function Jge(e,t){return e.getCompDetails(t.colDef,Nge,"agTooltipComponent",t,!0)}function eme(e,t,n,r){return e.getCompDetails(t,Oge,r,n)}function e$(e,t){return XW(e,t,NN)}function OM(e,t,n){return e.mergeParams(t,NN,n)}function Wy(e){const t=e;return t?.getFrameworkComponentInstance!=null?t.getFrameworkComponentInstance():e}function tme(e){return typeof e=="object"&&!!e.getComp}var xe={BACKSPACE:"Backspace",TAB:"Tab",ENTER:"Enter",ESCAPE:"Escape",SPACE:" ",LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown",DELETE:"Delete",F2:"F2",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown",PAGE_HOME:"Home",PAGE_END:"End",A:"KeyA",C:"KeyC",D:"KeyD",V:"KeyV",X:"KeyX",Y:"KeyY",Z:"KeyZ"},ON=class extends _0{isPopup(){return!0}setParentComponent(e){e.addCss("ag-has-popup"),super.setParentComponent(e)}destroy(){const e=this.parentComponent;e?.isAlive()&&e.getGui().classList.remove("ag-has-popup"),super.destroy()}},FM,LM,BM,jM,DP,MP,zM;function Wh(){return FM===void 0&&(FM=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),FM}function t$(){return LM===void 0&&(LM=/(firefox)/i.test(navigator.userAgent)),LM}function n$(){return BM===void 0&&(BM=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),BM}function Ip(){return jM===void 0&&(jM=/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1),jM}function TP(e){if(!e)return null;const t=e.tabIndex,n=e.getAttribute("tabIndex");return t===-1&&(n===null||n===""&&!t$())?null:t.toString()}function nme(){if(zM!==void 0)return zM;if(!document.body)return-1;let e=1e6;const t=t$()?6e6:1e9,n=document.createElement("div");for(document.body.appendChild(n);;){const r=e*2;if(n.style.height=r+"px",r>t||n.clientHeight!==r)break;e=r}return n.remove(),zM=e,e}function rme(){return MP==null&&r$(),MP}function r$(){const e=document.body,t=document.createElement("div");t.style.width=t.style.height="100px",t.style.opacity="0",t.style.overflow="scroll",t.style.msOverflowStyle="scrollbar",t.style.position="absolute",e.appendChild(t);let n=t.offsetWidth-t.clientWidth;n===0&&t.clientWidth===0&&(n=null),t.parentNode&&t.remove(),n!=null&&(MP=n,DP=n===0)}function i$(){return DP==null&&r$(),DP}var FN="T",ime=new RegExp(`[${FN} ]`),ome=new RegExp(`^\\d{4}-\\d{2}-\\d{2}(${FN}\\d{2}:\\d{2}:\\d{2}\\D?)?`);function Zl(e,t){return e.toString().padStart(t,"0")}function ks(e,t=!0,n=FN){if(!e)return null;let r=[e.getFullYear(),e.getMonth()+1,e.getDate()].map(o=>Zl(o,2)).join("-");return t&&(r+=n+[e.getHours(),e.getMinutes(),e.getSeconds()].map(o=>Zl(o,2)).join(":")),r}function XA(e,t=!0){return e?t?[String(e.getFullYear()),String(e.getMonth()+1),Zl(e.getDate(),2),Zl(e.getHours(),2),`:${Zl(e.getMinutes(),2)}`,`:${Zl(e.getSeconds(),2)}`]:[e.getFullYear(),e.getMonth()+1,Zl(e.getDate(),2)].map(String):null}var HM=e=>{if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"},RP=["January","February","March","April","May","June","July","August","September","October","November","December"],VM=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function PP(e,t){if(t==null)return ks(e,!1);const n=Zl(e.getFullYear(),4),r={YYYY:()=>n.slice(n.length-4,n.length),YY:()=>n.slice(n.length-2,n.length),Y:()=>`${e.getFullYear()}`,MMMM:()=>RP[e.getMonth()],MMM:()=>RP[e.getMonth()].slice(0,3),MM:()=>Zl(e.getMonth()+1,2),Mo:()=>`${e.getMonth()+1}${HM(e.getMonth()+1)}`,M:()=>`${e.getMonth()+1}`,Do:()=>`${e.getDate()}${HM(e.getDate())}`,DD:()=>Zl(e.getDate(),2),D:()=>`${e.getDate()}`,dddd:()=>VM[e.getDay()],ddd:()=>VM[e.getDay()].slice(0,3),dd:()=>VM[e.getDay()].slice(0,2),do:()=>`${e.getDay()}${HM(e.getDay())}`,d:()=>`${e.getDay()}`},o=new RegExp(Object.keys(r).join("|"),"g");return t.replace(o,a=>a in r?r[a]():a)}function Q1(e,t=!1){return!!Qo(e,t)}function sme(e){return Q1(e,!0)}function Qo(e,t=!1,n){if(!e||!n&&!ome.test(e))return null;const[r,o]=e.split(ime);if(!r)return null;const a=r.split("-").map(S=>Number.parseInt(S,10));if(a.filter(S=>!isNaN(S)).length!==3)return null;const[l,d,f]=a,m=new Date(l,d-1,f);if(m.getFullYear()!==l||m.getMonth()!==d-1||m.getDate()!==f||!o&&t)return null;if(!o||o==="00:00:00")return m;const[v,C,y]=o.split(":").map(S=>Number.parseInt(S,10));if(v>=0&&v<24)m.setHours(v);else if(t)return null;if(C>=0&&C<60)m.setMinutes(C);else if(t)return null;if(y>=0&&y<60)m.setSeconds(y);else if(t)return null;return m}function IP(e){const{inputValue:t,allSuggestions:n,hideIrrelevant:r,filterByPercentageOfBestMatch:o}=e;let a=(n??[]).map((f,m)=>({value:f,relevance:ame(t,f),idx:m}));if(a.sort((f,m)=>f.relevance-m.relevance),r&&(a=a.filter(f=>f.relevance<Math.max(f.value.length,t.length))),a.length>0&&o&&o>0){const m=a[0].relevance*o;a=a.filter(v=>m-v.relevance<0)}const l=[],d=[];for(const f of a)l.push(f.value),d.push(f.idx);return{values:l,indices:d}}function ame(e,t){e.length<t.length&&([e,t]=[t,e]);let n=[],r=[];const o=e.length,a=t.length;for(let d=0;d<=a;d++)n[d]=d;let l=0;for(let d=1;d<=o;d++){r[0]=d;for(let f=1;f<=a;f++){const m=e[d-1],v=t[f-1];if(m.toLocaleLowerCase()===v.toLocaleLowerCase())++l,m===v&&++l,d>1&&f>1&&e[d-2].toLocaleLowerCase()===t[f-2].toLocaleLowerCase()&&(++l,e[d-2]===t[f-2]&&++l),d<o/2-10&&++l,r[f]=n[f-1];else{const C=r[f-1],y=n[f],S=n[f-1];r[f]=1+Math.min(C,y,S)}}[n,r]=[r,n]}return n[a]/(l+1)}function o$(e){return e.altKey||e.ctrlKey||e.metaKey?!1:e.key?.length===1}var NP=!1,IS=0;function lme(e){IS>0||(e.addEventListener("keydown",NS),e.addEventListener("mousedown",NS))}function cme(e){IS>0||(e.removeEventListener("keydown",NS),e.removeEventListener("mousedown",NS))}function NS(e){const t=NP,n=e.type==="keydown";n&&(e.ctrlKey||e.metaKey||e.altKey)||t!==n&&(NP=n)}function dme(e){const t=Wr(e);return lme(t),IS++,()=>{IS--,cme(t)}}function ume(){return NP}function mb(e,t,n=!1){const r=Qfe;let o=lW;t&&(o+=", "+t),n&&(o+=', [tabindex="-1"]');const a=Array.prototype.slice.apply(e.querySelectorAll(r)).filter(f=>vc(f)),l=Array.prototype.slice.apply(e.querySelectorAll(o));return l.length?((f,m)=>f.filter(v=>m.indexOf(v)===-1))(a,l):a}function Fh(e,t=!1,n=!1,r=!1){const o=mb(e,r?".ag-tab-guard":null,n),a=t?Tn(o):o[0];return a?(a.focus({preventScroll:!0}),!0):!1}function og(e,t,n,r){const o=mb(t,n?':not([tabindex="-1"])':null),a=Qn(e);let l;n?l=o.findIndex(f=>f.contains(a)):l=o.indexOf(a);const d=l+(r?-1:1);return d<0||d>=o.length?null:o[d]}function s$(e,t=5){let n=0;for(;e&&TP(e)===null&&++n<=t;)e=e.parentElement;return TP(e)===null?null:e}var hme=".ag-label{white-space:nowrap}:where(.ag-ltr) .ag-label{margin-right:var(--ag-spacing)}:where(.ag-rtl) .ag-label{margin-left:var(--ag-spacing)}:where(.ag-label-align-right) .ag-label{order:1}:where(.ag-ltr) :where(.ag-label-align-right) .ag-label{margin-left:var(--ag-spacing)}:where(.ag-rtl) :where(.ag-label-align-right) .ag-label{margin-right:var(--ag-spacing)}.ag-label-align-right>*{flex:none}.ag-label-align-top{align-items:flex-start;flex-direction:column;>*{align-self:stretch}}.ag-label-ellipsis{flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:where(.ag-label-align-top) .ag-label{margin-bottom:calc(var(--ag-spacing)*.5)}",fme=class extends _0{constructor(e,t,n){super(t,n),this.labelSeparator="",this.labelAlignment="left",this.disabled=!1,this.label="",this.config=e||{},this.registerCSS(hme)}postConstruct(){this.addCss("ag-labeled"),this.eLabel.classList.add("ag-label");const{labelSeparator:e,label:t,labelWidth:n,labelAlignment:r,disabled:o}=this.config;o!=null&&this.setDisabled(o),e!=null&&this.setLabelSeparator(e),t!=null&&this.setLabel(t),n!=null&&this.setLabelWidth(n),this.setLabelAlignment(r||this.labelAlignment),this.refreshLabel()}refreshLabel(){const{label:e,eLabel:t}=this;ki(t),typeof e=="string"?t.innerText=e+this.labelSeparator:e&&t.appendChild(e),e===""?(Ln(t,!1),Od(t,"presentation")):(Ln(t,!0),Od(t,null))}setLabelSeparator(e){return this.labelSeparator===e?this:(this.labelSeparator=e,this.label!=null&&this.refreshLabel(),this)}getLabelId(){const e=this.eLabel;return e.id=e.id||`ag-${this.getCompId()}-label`,e.id}getLabel(){return this.label}setLabel(e){return this.label===e?this:(this.label=e,this.refreshLabel(),this)}setLabelAlignment(e){const n=this.getGui().classList;return n.toggle("ag-label-align-left",e==="left"),n.toggle("ag-label-align-right",e==="right"),n.toggle("ag-label-align-top",e==="top"),this}setLabelEllipsis(e){return this.eLabel.classList.toggle("ag-label-ellipsis",e),this}setLabelWidth(e){return this.label==null?this:(AS(this.eLabel,e),this)}setDisabled(e){e=!!e;const t=this.getGui();return By(t,e),t.classList.toggle("ag-disabled",e),this.disabled=e,this}isDisabled(){return!!this.disabled}},a$=class extends fme{constructor(e,t,n,r){super(e,t,n),this.className=r}postConstruct(){super.postConstruct();const{width:e,value:t,onValueChange:n}=this.config;e!=null&&this.setWidth(e),t!=null&&this.setValue(t),n!=null&&this.onValueChange(n),this.className&&this.addCss(this.className),this.refreshAriaLabelledBy()}setLabel(e){return super.setLabel(e),this.refreshAriaLabelledBy(),this}refreshAriaLabelledBy(){const e=this.getAriaElement(),t=this.getLabelId(),n=this.getLabel();n==null||n==""||Lfe(e)!==null?Fy(e,""):Fy(e,t??"")}setAriaLabel(e){return Eb(this.getAriaElement(),e),this.refreshAriaLabelledBy(),this}onValueChange(e){return this.addManagedListeners(this,{fieldValueChanged:()=>e(this.getValue())}),this}getWidth(){return this.getGui().clientWidth}setWidth(e){return oc(this.getGui(),e),this}getPreviousValue(){return this.previousValue}getValue(){return this.value}setValue(e,t){return this.value===e?this:(this.previousValue=this.value,this.value=e,t||this.dispatchLocalEvent({type:"fieldValueChanged"}),this)}};function pme(e){return{tag:"div",role:"presentation",children:[{tag:"div",ref:"eLabel",cls:"ag-input-field-label"},{tag:"div",ref:"eWrapper",cls:"ag-wrapper ag-input-wrapper",role:"presentation",children:[{tag:e,ref:"eInput",cls:"ag-input-field-input"}]}]}}var yp=class extends a${constructor(e,t,n="text",r="input"){super(e,e?.template??pme(r),[],t),this.inputType=n,this.displayFieldTag=r,this.eLabel=qe,this.eWrapper=qe,this.eInput=qe}postConstruct(){super.postConstruct(),this.setInputType(this.inputType);const{eLabel:e,eWrapper:t,eInput:n,className:r}=this;e.classList.add(`${r}-label`),t.classList.add(`${r}-input-wrapper`),n.classList.add(`${r}-input`),this.addCss("ag-input-field"),n.id=n.id||`ag-${this.getCompId()}-input`;const{inputName:o,inputWidth:a}=this.config;o!=null&&this.setInputName(o),a!=null&&this.setInputWidth(a),this.addInputListeners(),this.activateTabIndex([n])}addInputListeners(){this.addManagedElementListeners(this.eInput,{input:e=>this.setValue(e.target.value)})}setInputType(e){this.displayFieldTag==="input"&&(this.inputType=e,vs(this.eInput,"type",e))}getInputElement(){return this.eInput}setInputWidth(e){return AS(this.eWrapper,e),this}setInputName(e){return this.getInputElement().setAttribute("name",e),this}getFocusableElement(){return this.eInput}setMaxLength(e){const t=this.eInput;return t.maxLength=e,this}setInputPlaceholder(e){return vs(this.eInput,"placeholder",e),this}setInputAriaLabel(e){return Eb(this.eInput,e),this.refreshAriaLabelledBy(),this}setDisabled(e){return By(this.eInput,e),super.setDisabled(e)}setAutoComplete(e){if(e===!0)vs(this.eInput,"autocomplete",null);else{const t=typeof e=="string"?e:"off";vs(this.eInput,"autocomplete",t)}return this}},LN=class extends yp{constructor(e,t="ag-checkbox",n="checkbox"){super(e,t,n),this.labelAlignment="right",this.selected=!1,this.readOnly=!1,this.passive=!1}postConstruct(){super.postConstruct();const{readOnly:e,passive:t}=this.config;typeof e=="boolean"&&this.setReadOnly(e),typeof t=="boolean"&&this.setPassive(t)}addInputListeners(){this.addManagedElementListeners(this.eInput,{click:this.onCheckboxClick.bind(this)}),this.addManagedElementListeners(this.eLabel,{click:this.toggle.bind(this)})}getNextValue(){return this.selected===void 0?!0:!this.selected}setPassive(e){this.passive=e}isReadOnly(){return this.readOnly}setReadOnly(e){this.eWrapper.classList.toggle("ag-disabled",e),this.eInput.disabled=e,this.readOnly=e}setDisabled(e){return this.eWrapper.classList.toggle("ag-disabled",e),super.setDisabled(e)}toggle(){if(this.eInput.disabled)return;const e=this.isSelected(),t=this.getNextValue();this.passive?this.dispatchChange(t,e):this.setValue(t)}getValue(){return this.isSelected()}setValue(e,t){return this.refreshSelectedClass(e),this.setSelected(e,t),this}setName(e){const t=this.getInputElement();return t.name=e,this}isSelected(){return this.selected}setSelected(e,t){if(this.isSelected()===e)return;this.previousValue=this.isSelected(),e=this.selected=typeof e=="boolean"?e:void 0;const n=this.eInput;n.checked=e,n.indeterminate=e===void 0,t||this.dispatchChange(this.selected,this.previousValue)}dispatchChange(e,t,n){this.dispatchLocalEvent({type:"fieldValueChanged",selected:e,previousValue:t,event:n});const r=this.getInputElement();this.eventSvc.dispatchEvent({type:"checkboxChanged",id:r.id,name:r.name,selected:e,previousValue:t})}onCheckboxClick(e){if(this.passive||this.eInput.disabled)return;const t=this.isSelected(),n=this.selected=e.target.checked;this.refreshSelectedClass(n),this.dispatchChange(n,t,e)}refreshSelectedClass(e){const t=this.eWrapper.classList;t.toggle("ag-checked",e===!0),t.toggle("ag-indeterminate",e==null)}},BN={selector:"AG-CHECKBOX",component:LN},gme=class extends LN{constructor(e){super(e,"ag-radio-button","radio")}isSelected(){return this.eInput.checked}toggle(){this.eInput.disabled||this.isSelected()||this.setValue(!0)}addInputListeners(){super.addInputListeners(),this.addManagedEventListeners({checkboxChanged:this.onChange.bind(this)})}onChange(e){const t=this.eInput;e.selected&&e.name&&t.name&&t.name===e.name&&e.id&&t.id!==e.id&&this.setValue(!1,!0)}},sg=class extends yp{constructor(e,t="ag-text-field",n="text"){super(e,t,n)}postConstruct(){super.postConstruct(),this.config.allowedCharPattern&&this.preventDisallowedCharacters()}setValue(e,t){const n=this.eInput;return n.value!==e&&(n.value=Ye(e)?e:""),super.setValue(e,t)}setStartValue(e){this.setValue(e,!0)}preventDisallowedCharacters(){const e=new RegExp(`[${this.config.allowedCharPattern}]`),t=n=>{o$(n)&&n.key&&!e.test(n.key)&&n.preventDefault()};this.addManagedListeners(this.eInput,{keydown:t,paste:n=>{n.clipboardData?.getData("text")?.split("").some(o=>!e.test(o))&&n.preventDefault()}})}},fE={selector:"AG-INPUT-TEXT-FIELD",component:sg},mme=class extends yp{constructor(e){super(e,"ag-text-area",null,"textarea")}setValue(e,t){const n=super.setValue(e,t);return this.eInput.value=e,n}setCols(e){return this.eInput.cols=e,this}setRows(e){return this.eInput.rows=e,this}},bme={selector:"AG-INPUT-TEXT-AREA",component:mme},jN=class extends sg{constructor(e){super(e,"ag-number-field","number")}postConstruct(){super.postConstruct();const e=this.eInput;this.addManagedListeners(e,{blur:()=>{const a=Number.parseFloat(e.value),l=isNaN(a)?"":this.normalizeValue(a.toString());this.value!==l&&this.setValue(l)},wheel:this.onWheel.bind(this)}),e.step="any";const{precision:t,min:n,max:r,step:o}=this.config;typeof t=="number"&&this.setPrecision(t),typeof n=="number"&&this.setMin(n),typeof r=="number"&&this.setMax(r),typeof o=="number"&&this.setStep(o)}onWheel(e){Qn(this.beans)===this.eInput&&e.preventDefault()}normalizeValue(e){return e===""?"":(this.precision!=null&&(e=this.adjustPrecision(e)),e)}adjustPrecision(e,t){const n=this.precision;if(n==null)return e;if(t){const o=Number.parseFloat(e).toFixed(n);return Number.parseFloat(o).toString()}const r=String(e).split(".");if(r.length>1){if(r[1].length<=n)return e;if(n>0)return`${r[0]}.${r[1].slice(0,n)}`}return r[0]}setMin(e){return this.min===e?this:(this.min=e,vs(this.eInput,"min",e),this)}setMax(e){return this.max===e?this:(this.max=e,vs(this.eInput,"max",e),this)}setPrecision(e){return this.precision=e,this}setStep(e){return this.step===e?this:(this.step=e,vs(this.eInput,"step",e),this)}setValue(e,t){return this.setValueOrInputValue(n=>super.setValue(n,t),()=>this,e)}setStartValue(e){return this.setValueOrInputValue(t=>super.setValue(t,!0),t=>{this.eInput.value=t},e)}setValueOrInputValue(e,t,n){if(Ye(n)){let r=this.isScientificNotation(n);if(r&&this.eInput.validity.valid)return e(n);if(!r){n=this.adjustPrecision(n);const o=this.normalizeValue(n);r=n!=o}if(r)return t(n)}return e(n)}getValue(){const e=this.eInput;if(!e.validity.valid)return;const t=e.value;return this.isScientificNotation(t)?this.adjustPrecision(t,!0):super.getValue()}isScientificNotation(e){return typeof e=="string"&&e.includes("e")}},vme={selector:"AG-INPUT-NUMBER-FIELD",component:jN},wme=class extends sg{constructor(e){super(e,"ag-date-field","date")}postConstruct(){super.postConstruct();const e=Wh();this.addManagedListeners(this.eInput,{wheel:this.onWheel.bind(this),mousedown:()=>{this.isDisabled()||e||this.eInput.focus()}}),this.eInput.step="any"}onWheel(e){Qn(this.beans)===this.eInput&&e.preventDefault()}setMin(e){const t=e instanceof Date?ks(e??null,!!this.includeTime)??void 0:e;return this.min===t?this:(this.min=t,vs(this.eInput,"min",t),this)}setMax(e){const t=e instanceof Date?ks(e??null,!!this.includeTime)??void 0:e;return this.max===t?this:(this.max=t,vs(this.eInput,"max",t),this)}setStep(e){return this.step===e?this:(this.step=e,vs(this.eInput,"step",e),this)}setIncludeTime(e){return this.includeTime===e?this:(this.includeTime=e,super.setInputType(e?"datetime-local":"date"),e&&this.setStep(1),this)}getDate(){if(this.eInput.validity.valid)return Qo(this.getValue())??void 0}setDate(e,t){this.setValue(ks(e??null,this.includeTime),t)}},l$={selector:"AG-INPUT-DATE-FIELD",component:wme},Cme=".ag-list-item{align-items:center;display:flex;height:var(--ag-list-item-height);overflow:hidden;text-overflow:ellipsis;white-space:nowrap;&.ag-active-item{background-color:var(--ag-row-hover-color)}}",yme="ag-active-item",kme=(e,t)=>({tag:"div",cls:`ag-list-item ag-${e}-list-item`,attrs:{role:"option"},children:[{tag:"span",ref:"eText",children:t}]}),xme=class extends _0{constructor(e,t,n){super(kme(e,t)),this.label=t,this.value=n,this.eText=qe}postConstruct(){this.createTooltip(),this.addEventListeners()}setHighlighted(e){const t=this.getGui();t.classList.toggle(yme,e),aW(t,e),this.dispatchLocalEvent({type:"itemHighlighted",highlighted:e})}getHeight(){return this.getGui().clientHeight}setIndex(e,t){const n=this.getGui();Ufe(n,e),Gfe(n,t)}createTooltip(){const e={getTooltipValue:()=>this.label,getGui:()=>this.getGui(),getLocation:()=>"UNKNOWN",shouldDisplayTooltip:()=>AN(this.eText)},t=this.createOptionalManagedBean(this.beans.registry.createDynamicBean("highlightTooltipFeature",!1,e,this));t&&(this.tooltipFeature=t)}addEventListeners(){const e=this.getParentComponent();e&&(this.addGuiEventListener("mouseover",()=>{e.highlightItem(this)}),this.addGuiEventListener("mousedown",t=>{t.preventDefault(),t.stopPropagation(),e.setValue(this.value)}))}},Ame=class extends _0{constructor(e="default"){super({tag:"div",cls:`ag-list ag-${e}-list`}),this.cssIdentifier=e,this.options=[],this.listItems=[],this.highlightedItem=null,this.registerCSS(Cme)}postConstruct(){const e=this.getGui();this.addManagedElementListeners(e,{mouseleave:()=>this.clearHighlighted()})}handleKeyDown(e){const t=e.key;switch(t){case xe.ENTER:if(!this.highlightedItem)this.setValue(this.getValue());else{const n=this.listItems.indexOf(this.highlightedItem);this.setValueByIndex(n)}break;case xe.DOWN:case xe.UP:e.preventDefault(),this.navigate(t);break;case xe.PAGE_DOWN:case xe.PAGE_UP:case xe.PAGE_HOME:case xe.PAGE_END:e.preventDefault(),this.navigateToPage(t);break}}addOptions(e){for(const t of e)this.addOption(t);return this}addOption(e){const{value:t,text:n}=e,r=n??t;return this.options.push({value:t,text:r}),this.renderOption(t,r),this.updateIndices(),this}clearOptions(){this.options=[],this.reset(!0);for(const e of this.listItems)e.destroy();ki(this.getGui()),this.listItems=[],this.refreshAriaRole()}setValue(e,t){if(this.value===e)return this.fireItemSelected(),this;if(e==null)return this.reset(t),this;const n=this.options.findIndex(r=>r.value===e);if(n!==-1){const r=this.options[n];this.value=r.value,this.displayValue=r.text,this.highlightItem(this.listItems[n]),t||this.fireChangeEvent()}return this}setValueByIndex(e){return this.setValue(this.options[e].value)}getValue(){return this.value}getDisplayValue(){return this.displayValue}refreshHighlighted(){this.clearHighlighted();const e=this.options.findIndex(t=>t.value===this.value);e!==-1&&this.highlightItem(this.listItems[e])}highlightItem(e){const t=e.getGui();if(!vc(t))return;this.clearHighlighted(),e.setHighlighted(!0),this.highlightedItem=e;const n=this.getGui(),{scrollTop:r,clientHeight:o}=n,{offsetTop:a,offsetHeight:l}=t;(a+l>r+o||a<r)&&t.scrollIntoView({block:"nearest"})}hideItemTooltip(){this.highlightedItem?.tooltipFeature?.attemptToHideTooltip()}destroy(){this.hideItemTooltip(),super.destroy()}reset(e){this.value=null,this.displayValue=null,this.clearHighlighted(),e||this.fireChangeEvent()}clearHighlighted(){this.highlightedItem?.setHighlighted(!1),this.highlightedItem=null}renderOption(e,t){const n=new xme(this.cssIdentifier,t,e);n.setParentComponent(this);const r=this.createManagedBean(n);this.listItems.push(r),this.getGui().appendChild(r.getGui())}navigate(e){const t=e===xe.DOWN;let n;const{listItems:r,highlightedItem:o}=this;if(!o)n=t?r[0]:Tn(r);else{let l=r.indexOf(o)+(t?1:-1);l=Math.min(Math.max(l,0),r.length-1),n=r[l]}this.highlightItem(n)}navigateToPage(e){const{listItems:t,highlightedItem:n}=this;if(!n||t.length===0)return;const r=t.indexOf(n),o=this.options.length-1,a=t[0].getHeight(),l=Math.floor(this.getGui().clientHeight/a);let d=-1;e===xe.PAGE_HOME?d=0:e===xe.PAGE_END?d=o:e===xe.PAGE_DOWN?d=Math.min(r+l,o):e===xe.PAGE_UP&&(d=Math.max(r-l,0)),d!==-1&&this.highlightItem(t[d])}refreshAriaRole(){Od(this.getGui(),this.options.length===0?"presentation":"listbox")}updateIndices(){this.refreshAriaRole();const e=this.listItems,t=e.length;e.forEach((n,r)=>{n.setIndex(r+1,t)})}fireChangeEvent(){this.dispatchLocalEvent({type:"fieldValueChanged"}),this.fireItemSelected()}fireItemSelected(){this.dispatchLocalEvent({type:"selectedItem"})}},Sme=".ag-picker-field-display{flex:1 1 auto}.ag-picker-field{align-items:center;display:flex}.ag-picker-field-icon{border:0;cursor:pointer;display:flex;margin:0;padding:0}.ag-picker-field-wrapper{background-color:var(--ag-picker-button-background-color);border:var(--ag-picker-button-border);border-radius:5px;min-height:max(var(--ag-list-item-height),calc(var(--ag-spacing)*4));overflow:hidden;&:where(.ag-picker-has-focus),&:where(:focus-within){background-color:var(--ag-picker-button-focus-background-color);border:var(--ag-picker-button-focus-border);box-shadow:var(--ag-focus-shadow);&:where(.invalid){box-shadow:var(--ag-focus-error-shadow)}}&:where(.invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&:disabled{opacity:.5}}",_me={tag:"div",cls:"ag-picker-field",role:"presentation",children:[{tag:"div",ref:"eLabel"},{tag:"div",ref:"eWrapper",cls:"ag-wrapper ag-picker-field-wrapper ag-picker-collapsed",children:[{tag:"div",ref:"eDisplayField",cls:"ag-picker-field-display"},{tag:"div",ref:"eIcon",cls:"ag-picker-field-icon",attrs:{"aria-hidden":"true"}}]}]},Eme=class extends a${constructor(e){if(super(e,e?.template||_me,e?.agComponents||[],e?.className),this.isPickerDisplayed=!1,this.skipClick=!1,this.pickerGap=4,this.hideCurrentPicker=null,this.eLabel=qe,this.eWrapper=qe,this.eDisplayField=qe,this.eIcon=qe,this.registerCSS(Sme),this.ariaRole=e?.ariaRole,this.onPickerFocusIn=this.onPickerFocusIn.bind(this),this.onPickerFocusOut=this.onPickerFocusOut.bind(this),!e)return;const{pickerGap:t,maxPickerHeight:n,variableWidth:r,minPickerWidth:o,maxPickerWidth:a}=e;t!=null&&(this.pickerGap=t),this.variableWidth=!!r,n!=null&&this.setPickerMaxHeight(n),o!=null&&this.setPickerMinWidth(o),a!=null&&this.setPickerMaxWidth(a)}postConstruct(){super.postConstruct(),this.setupAria();const e=`ag-${this.getCompId()}-display`;this.eDisplayField.setAttribute("id",e);const t=this.getAriaElement();this.addManagedElementListeners(t,{keydown:this.onKeyDown.bind(this)}),this.addManagedElementListeners(this.eLabel,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)}),this.addManagedElementListeners(this.eWrapper,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)});const{pickerIcon:n,inputWidth:r}=this.config;if(n){const o=this.beans.iconSvc.createIconNoSpan(n);o&&this.eIcon.appendChild(o)}r!=null&&this.setInputWidth(r)}setupAria(){const e=this.getAriaElement();e.setAttribute("tabindex",this.gos.get("tabIndex").toString()),Ly(e,!1),this.ariaRole&&Od(e,this.ariaRole)}onLabelOrWrapperMouseDown(e){if(e){const t=this.getFocusableElement();if(t!==this.eWrapper&&e?.target===t)return;e.preventDefault(),this.getFocusableElement().focus()}if(this.skipClick){this.skipClick=!1;return}this.isDisabled()||(this.isPickerDisplayed?this.hidePicker():this.showPicker())}onKeyDown(e){switch(e.key){case xe.UP:case xe.DOWN:case xe.ENTER:case xe.SPACE:e.preventDefault(),this.onLabelOrWrapperMouseDown();break;case xe.ESCAPE:this.isPickerDisplayed&&(e.preventDefault(),e.stopPropagation(),this.hideCurrentPicker&&this.hideCurrentPicker());break}}showPicker(){this.isPickerDisplayed=!0,this.pickerComponent||(this.pickerComponent=this.createPickerComponent());const e=this.pickerComponent.getGui();e.addEventListener("focusin",this.onPickerFocusIn),e.addEventListener("focusout",this.onPickerFocusOut),this.hideCurrentPicker=this.renderAndPositionPicker(),this.toggleExpandedStyles(!0)}renderAndPositionPicker(){const e=this.pickerComponent.getGui();this.gos.get("suppressScrollWhenPopupsAreOpen")||([this.destroyMouseWheelFunc]=this.addManagedEventListeners({bodyScroll:()=>{this.hidePicker()}}));const t=this.getLocaleTextFunc(),{config:{pickerAriaLabelKey:n,pickerAriaLabelValue:r,modalPicker:o=!0},maxPickerHeight:a,minPickerWidth:l,maxPickerWidth:d,variableWidth:f,beans:m,eWrapper:v}=this,C={modal:o,eChild:e,closeOnEsc:!0,closedCallback:()=>{const T=ZU(m);this.beforeHidePicker(),T&&this.isAlive()&&this.getFocusableElement().focus()},ariaLabel:t(n,r),anchorToElement:v};e.style.position="absolute";const y=m.popupSvc,S=y.addPopup(C);f?(l&&(e.style.minWidth=l),e.style.width=SN(yS(v)),d&&(e.style.maxWidth=d)):AS(e,d??yS(v));const E=a??`${kN(y.getPopupParent())}px`;return e.style.setProperty("max-height",E),this.alignPickerToComponent(),S.hideFunc}alignPickerToComponent(){if(!this.pickerComponent)return;const{pickerGap:e,config:{pickerType:t},beans:{popupSvc:n,gos:r},eWrapper:o,pickerComponent:a}=this,l=r.get("enableRtl")?"right":"left";n.positionPopupByComponent({type:t,eventSource:o,ePopup:a.getGui(),position:"under",alignSide:l,keepWithinBounds:!0,nudgeY:e})}beforeHidePicker(){this.destroyMouseWheelFunc&&(this.destroyMouseWheelFunc(),this.destroyMouseWheelFunc=void 0),this.toggleExpandedStyles(!1);const e=this.pickerComponent.getGui();e.removeEventListener("focusin",this.onPickerFocusIn),e.removeEventListener("focusout",this.onPickerFocusOut),this.isPickerDisplayed=!1,this.pickerComponent=void 0,this.hideCurrentPicker=null}toggleExpandedStyles(e){if(!this.isAlive())return;const t=this.getAriaElement();Ly(t,e);const n=this.eWrapper.classList;n.toggle("ag-picker-expanded",e),n.toggle("ag-picker-collapsed",!e)}onPickerFocusIn(){this.togglePickerHasFocus(!0)}onPickerFocusOut(e){this.pickerComponent?.getGui().contains(e.relatedTarget)||this.togglePickerHasFocus(!1)}togglePickerHasFocus(e){this.pickerComponent&&this.eWrapper.classList.toggle("ag-picker-has-focus",e)}hidePicker(){this.hideCurrentPicker&&(this.hideCurrentPicker(),this.dispatchLocalEvent({type:"pickerHidden"}))}setInputWidth(e){return AS(this.eWrapper,e),this}getFocusableElement(){return this.eWrapper}setPickerGap(e){return this.pickerGap=e,this}setPickerMinWidth(e){return typeof e=="number"&&(e=`${e}px`),this.minPickerWidth=e??void 0,this}setPickerMaxWidth(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerWidth=e??void 0,this}setPickerMaxHeight(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerHeight=e??void 0,this}destroy(){this.hidePicker(),super.destroy()}},Dme=".ag-select{align-items:center;display:flex;&.ag-disabled{opacity:.5}}:where(.ag-select){.ag-picker-field-wrapper{cursor:default}&.ag-disabled .ag-picker-field-wrapper:focus{box-shadow:none}&:not(.ag-cell-editor,.ag-label-align-top){min-height:var(--ag-list-item-height)}.ag-picker-field-display{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ag-picker-field-icon{align-items:center;display:flex}}:where(.ag-ltr) :where(.ag-select){.ag-picker-field-wrapper{padding-left:calc(var(--ag-cell-horizontal-padding)/2);padding-right:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-select){.ag-picker-field-wrapper{padding-left:var(--ag-spacing);padding-right:calc(var(--ag-cell-horizontal-padding)/2)}}.ag-select-list{background-color:var(--ag-picker-list-background-color);border:var(--ag-picker-list-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dropdown-shadow);overflow:hidden auto}.ag-select-list-item{cursor:default;-webkit-user-select:none;-moz-user-select:none;user-select:none;:where(span){overflow:hidden;text-overflow:ellipsis;white-space:nowrap}}:where(.ag-ltr) .ag-select-list-item{padding-left:calc(var(--ag-cell-horizontal-padding)/2)}:where(.ag-rtl) .ag-select-list-item{padding-right:calc(var(--ag-cell-horizontal-padding)/2)}",zN=class extends Eme{constructor(e){super({pickerAriaLabelKey:"ariaLabelSelectField",pickerAriaLabelValue:"Select Field",pickerType:"ag-list",className:"ag-select",pickerIcon:"selectOpen",ariaRole:"combobox",...e}),this.registerCSS(Dme)}postConstruct(){this.tooltipFeature=this.createOptionalManagedBean(this.beans.registry.createDynamicBean("tooltipFeature",!1,{shouldDisplayTooltip:U1(()=>this.eDisplayField),getGui:()=>this.getGui()})),super.postConstruct(),this.createListComponent(),this.eWrapper.tabIndex=this.gos.get("tabIndex");const{options:e,value:t,placeholder:n}=this.config;e!=null&&this.addOptions(e),t!=null&&this.setValue(t,!0),n&&t==null&&(this.eDisplayField.textContent=n),this.addManagedElementListeners(this.eWrapper,{focusout:this.onWrapperFocusOut.bind(this)})}onWrapperFocusOut(e){this.eWrapper.contains(e.relatedTarget)||this.hidePicker()}createListComponent(){const e=this.createBean(new Ame("select"));this.listComponent=e,e.setParentComponent(this);const t=e.getAriaElement(),n=`ag-select-list-${e.getCompId()}`;t.setAttribute("id",n),Yfe(this.getAriaElement(),t),e.addManagedElementListeners(e.getGui(),{mousedown:r=>{r?.preventDefault()}}),e.addManagedListeners(e,{selectedItem:()=>{this.hidePicker(),this.dispatchLocalEvent({type:"selectedItem"})},fieldValueChanged:()=>{this.listComponent&&(this.setValue(this.listComponent.getValue(),!1,!0),this.hidePicker())}})}createPickerComponent(){return this.listComponent}beforeHidePicker(){this.listComponent?.hideItemTooltip(),super.beforeHidePicker()}onKeyDown(e){const{key:t}=e;switch(t===xe.TAB&&this.hidePicker(),t){case xe.ENTER:case xe.UP:case xe.DOWN:case xe.PAGE_UP:case xe.PAGE_DOWN:case xe.PAGE_HOME:case xe.PAGE_END:e.preventDefault(),this.isPickerDisplayed?this.listComponent?.handleKeyDown(e):super.onKeyDown(e);break;case xe.ESCAPE:super.onKeyDown(e);break;case xe.SPACE:this.isPickerDisplayed?e.preventDefault():super.onKeyDown(e);break}}showPicker(){const e=this.listComponent;e&&(super.showPicker(),e.refreshHighlighted())}addOptions(e){for(const t of e)this.addOption(t);return this}addOption(e){return this.listComponent.addOption(e),this}clearOptions(){return this.listComponent?.clearOptions(),this.setValue(void 0,!0),this}setValue(e,t,n){const{listComponent:r,config:{placeholder:o},eDisplayField:a,tooltipFeature:l}=this;if(this.value===e||!r)return this;if(n||r.setValue(e,!0),r.getValue()===this.getValue())return this;let f=r.getDisplayValue();return f==null&&o&&(f=o),a.textContent=f,l?.setTooltipAndRefresh(f??null),super.setValue(e,t)}destroy(){this.listComponent=this.destroyBean(this.listComponent),super.destroy()}},Mme={selector:"AG-SELECT",component:zN},Tme=':where(.ag-root-wrapper,.ag-external,.ag-popup,.ag-dnd-ghost,.ag-chart),:where(.ag-root-wrapper,.ag-external,.ag-popup,.ag-dnd-ghost,.ag-chart) :where([class^=ag-]){box-sizing:border-box;&:after,&:before{box-sizing:border-box}&:where(div,span,label):focus-visible{box-shadow:inset var(--ag-focus-shadow);outline:none;&:where(.invalid){box-shadow:inset var(--ag-focus-error-shadow)}}&:where(button){color:inherit}}:where(.ag-root-wrapper,ag-external,.ag-popup,.ag-dnd-ghost,.ag-chart) :where([class^=ag-]) ::-ms-clear{display:none}.ag-hidden{display:none!important}.ag-invisible{visibility:hidden!important}.ag-popup-child{top:0;z-index:5;&:where(:not(.ag-tooltip-custom)){box-shadow:var(--ag-popup-shadow)}}.ag-input-wrapper,.ag-picker-field-wrapper{align-items:center;display:flex;flex:1 1 auto;line-height:normal;position:relative}.ag-input-field{align-items:center;display:flex;flex-direction:row}.ag-input-field-input:where(:not([type=checkbox],[type=radio])){flex:1 1 auto;min-width:0;width:100%}.ag-chart,.ag-dnd-ghost,.ag-external,.ag-popup,.ag-root-wrapper{cursor:default;line-height:normal;white-space:normal;-webkit-font-smoothing:antialiased;background-color:var(--ag-background-color);color:var(--ag-text-color);color-scheme:var(--ag-browser-color-scheme);font-family:var(--ag-font-family);font-size:var(--ag-font-size);--ag-indentation-level:0}:where(.ag-icon):before{align-items:center;background-color:currentcolor;color:inherit;content:"";display:flex;font-family:inherit;font-size:var(--ag-icon-size);font-style:normal;font-variant:normal;height:var(--ag-icon-size);justify-content:center;line-height:var(--ag-icon-size);-webkit-mask-size:contain;mask-size:contain;text-transform:none;width:var(--ag-icon-size)}.ag-icon{background-position:50%;background-repeat:no-repeat;background-size:contain;color:var(--ag-icon-color);display:block;height:var(--ag-icon-size);position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:var(--ag-icon-size)}.ag-disabled,[disabled]{.ag-icon{opacity:.5}&.ag-icon-grip{opacity:.35}}.ag-resizer{pointer-events:none;position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none;z-index:1}:where(.ag-resizer){&.ag-resizer-topLeft{cursor:nwse-resize;height:5px;left:0;top:0;width:5px}&.ag-resizer-top{cursor:ns-resize;height:5px;left:5px;right:5px;top:0}&.ag-resizer-topRight{cursor:nesw-resize;height:5px;right:0;top:0;width:5px}&.ag-resizer-right{bottom:5px;cursor:ew-resize;right:0;top:5px;width:5px}&.ag-resizer-bottomRight{bottom:0;cursor:nwse-resize;height:5px;right:0;width:5px}&.ag-resizer-bottom{bottom:0;cursor:ns-resize;height:5px;left:5px;right:5px}&.ag-resizer-bottomLeft{bottom:0;cursor:nesw-resize;height:5px;left:0;width:5px}&.ag-resizer-left{bottom:5px;cursor:ew-resize;left:0;top:5px;width:5px}}',HN=typeof window!="object"||!window?.document?.fonts?.forEach,Tb=(e,t,n,r,o,a)=>{if(HN)return;r&&(e=`@layer ${CSS.escape(r)} { ${e} }`);let l=bb.map.get(t);if(l||(l=[],bb.map.set(t,l)),l.some(v=>v.css===e))return;const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.dataset.agGlobalCss=n,d.textContent=e;const f={css:e,el:d,priority:o};let m;for(const v of l){if(v.priority>o)break;m=v}if(m){m.el.insertAdjacentElement("afterend",d);const v=l.indexOf(m);l.splice(v+1,0,f)}else t.insertBefore(d,t.querySelector(":not(title, meta)")),l.push(f)},c$=(e,t,n,r)=>{Tb(Tme,e,"shared",t,0,n),r?.forEach((o,a)=>o.forEach(l=>Tb(l,e,a,t,0,n)))},Rme=e=>{bb.grids.add(e)},Pme=e=>{if(bb.grids.delete(e),bb.grids.size===0){bb.map=new WeakMap;for(const t of document.head.querySelectorAll("style[data-ag-global-css]"))t.remove()}},hz,bb=(hz=typeof window=="object"?window:{}).agStyleInjectionState??(hz.agStyleInjectionState={map:new WeakMap,grids:new Set}),Zo=e=>new d$(e),Ah="$default",Ime=0,d$=class{constructor({feature:e,params:t,modeParams:n={},css:r,cssImports:o}){this.feature=e,this.css=r,this.cssImports=o,this.modeParams={[Ah]:{...n[Ah]??{},...t??{}},...n}}use(e,t,n){let r=this._inject;if(r==null){let{css:o}=this;if(o){const a=`ag-theme-${this.feature??"part"}-${++Ime}`;typeof o=="function"&&(o=o()),o=`:where(.${a}) {
${o}
}
`;for(const l of this.cssImports??[])o=`@import url(${JSON.stringify(l)});
${o}`;r={css:o,class:a}}else r=!1;this._inject=r}return r&&e&&Tb(r.css,e,r.class,t,1,n),r?r.class:!1}},Nme=e=>e.replace(/[A-Z]/g,t=>`-${t}`).toLowerCase(),u$=e=>`--ag-${Nme(e)}`,dc=e=>`var(${u$(e)})`,Ome=(e,t,n)=>Math.max(t,Math.min(n,e)),Fme=e=>{const t=new Map;return n=>{const r=n;return t.has(r)||t.set(r,e(n)),t.get(r)}},ql=e=>({ref:"accentColor",mix:e}),fo=e=>({ref:"foregroundColor",mix:e}),wi=e=>({ref:"foregroundColor",mix:e,onto:"backgroundColor"}),Lme=e=>({ref:"foregroundColor",mix:e,onto:"headerBackgroundColor"}),Fr={ref:"backgroundColor"},bd={ref:"foregroundColor"},ia={ref:"accentColor"},OS={backgroundColor:"#fff",foregroundColor:"#181d1f",borderColor:fo(.15),chromeBackgroundColor:wi(.02),browserColorScheme:"light"},Bme={...OS,textColor:bd,accentColor:"#2196f3",invalidColor:"#e02525",fontFamily:["-apple-system","BlinkMacSystemFont","Segoe UI","Roboto","Oxygen-Sans","Ubuntu","Cantarell","Helvetica Neue","sans-serif"],subtleTextColor:{ref:"textColor",mix:.5},borderWidth:1,borderRadius:4,spacing:8,fontSize:14,focusShadow:{spread:3,color:ql(.5)},focusErrorShadow:{spread:3,color:{ref:"invalidColor",onto:"backgroundColor",mix:.5}},popupShadow:"0 0 16px #00000026",cardShadow:"0 1px 4px 1px #00000018",dropdownShadow:{ref:"cardShadow"},listItemHeight:{calc:"max(iconSize, dataFontSize) + widgetVerticalSpacing"},dragAndDropImageBackgroundColor:Fr,dragAndDropImageBorder:!0,dragAndDropImageNotAllowedBorder:{color:{ref:"invalidColor",onto:"dragAndDropImageBackgroundColor",mix:.5}},dragAndDropImageShadow:{ref:"popupShadow"},iconSize:16,iconColor:"inherit",toggleButtonWidth:28,toggleButtonHeight:18,toggleButtonOnBackgroundColor:ia,toggleButtonOffBackgroundColor:wi(.3),toggleButtonSwitchBackgroundColor:Fr,toggleButtonSwitchInset:2,tooltipBackgroundColor:{ref:"chromeBackgroundColor"},tooltipErrorBackgroundColor:{ref:"invalidColor",onto:"backgroundColor",mix:.1},tooltipTextColor:{ref:"textColor"},tooltipErrorTextColor:{ref:"invalidColor"},tooltipBorder:!0,tooltipErrorBorder:{color:{ref:"invalidColor",onto:"backgroundColor",mix:.25}}},jme=["colorScheme","color","length","scale","borderStyle","border","shadow","image","fontFamily","fontWeight","duration"],zme=Fme(e=>(e=e.toLowerCase(),jme.find(t=>e.endsWith(t.toLowerCase()))??"length")),pE=e=>typeof e=="object"&&e?.ref?dc(e.ref):typeof e=="string"?e:typeof e=="number"?String(e):!1,VN=e=>{if(typeof e=="string")return e;if(e&&"ref"in e){const t=dc(e.ref);return e.mix==null?t:`color-mix(in srgb, ${e.onto?dc(e.onto):"transparent"}, ${t} ${Ome(e.mix*100,0,100)}%)`}return!1},Hme=pE,sb=e=>typeof e=="string"?e:typeof e=="number"?`${e}px`:e&&"calc"in e?`calc(${e.calc.replace(/ ?[*/+] ?/g," $& ").replace(/-?\b[a-z][a-z0-9]*\b(?![-(])/gi,n=>n[0]==="-"?n:" "+dc(n)+" ")})`:e&&"ref"in e?dc(e.ref):!1,Vme=pE,OP=(e,t)=>typeof e=="string"?e:e===!0?OP({},t):e===!1?t==="columnBorder"?OP({color:"transparent"},t):"none":e&&"ref"in e?dc(e.ref):h$(e.style??"solid")+" "+sb(e.width??{ref:"borderWidth"})+" "+VN(e.color??{ref:"borderColor"}),Gme=e=>typeof e=="string"?e:e===!1?"none":e&&"ref"in e?dc(e.ref):[sb(e.offsetX??0),sb(e.offsetY??0),sb(e.radius??0),sb(e.spread??0),VN(e.color??{ref:"foregroundColor"})].join(" "),h$=pE,f$=e=>typeof e=="string"?e.includes(",")?e:fz(e):e&&"googleFont"in e?f$(e.googleFont):e&&"ref"in e?dc(e.ref):Array.isArray(e)?e.map(t=>(typeof t=="object"&&"googleFont"in t&&(t=t.googleFont),fz(t))).join(", "):!1,fz=e=>/^[\w-]+$|\w\(/.test(e)?e:JSON.stringify(e),Ume=pE,p$=e=>typeof e=="string"?e:e&&"url"in e?`url(${JSON.stringify(e.url)})`:e&&"svg"in e?p$({url:`data:image/svg+xml,${encodeURIComponent(e.svg)}`}):e&&"ref"in e?dc(e.ref):!1,Wme=(e,t,n)=>typeof e=="string"?e:typeof e=="number"?(e>=10&&n.warn(104,{value:e,param:t}),`${e}s`):e&&"ref"in e?dc(e.ref):!1,$me={color:VN,colorScheme:Hme,length:sb,scale:Vme,border:OP,borderStyle:h$,shadow:Gme,image:p$,fontFamily:f$,fontWeight:Ume,duration:Wme},qme=(e,t,n)=>{const r=zme(e);return $me[r](t,e,n)},Kme=e=>new g$(e),g$=class m${constructor(t,n=[]){this.themeLogger=t,this.parts=n}withPart(t){return typeof t=="function"&&(t=t()),t instanceof d$?new m$(this.themeLogger,[...this.parts,t]):(this.themeLogger.preInitErr(259,"Invalid part",{part:t}),this)}withoutPart(t){return this.withPart(Zo({feature:t}))}withParams(t,n=Ah){return this.withPart(Zo({modeParams:{[n]:t}}))}_startUse({styleContainer:t,cssLayer:n,nonce:r,loadThemeGoogleFonts:o,moduleCss:a}){if(HN)return;Qme(),c$(t,n,r,a);const l=Yme(this);if(l.length>0)for(const d of l)o&&Zme(d,r);for(const d of this.parts)d.use(t,n,r)}_getCssClass(){return this._cssClassCache??(this._cssClassCache=pz(this.parts).map(t=>t.use(void 0,void 0,void 0)).filter(Boolean).join(" "))}_getModeParams(){let t=this._paramsCache;if(!t){const n={[Ah]:{...Bme}};for(const r of pz(this.parts))for(const o of Object.keys(r.modeParams)){const a=r.modeParams[o];if(a){const l=n[o]??(n[o]={}),d=new Set;for(const f of Object.keys(a)){const m=a[f];m!==void 0&&(l[f]=m,d.add(f))}if(o===Ah)for(const f of Object.keys(n)){const m=n[f];if(f!==Ah)for(const v of d)delete m[v]}}}this._paramsCache=t=n}return t}_getPerInstanceCss(t){const n="##SELECTOR##";let r=this._paramsCssCache;if(!r){let o="",a="";const l=this._getModeParams();for(const f of Object.keys(l)){const m=l[f];if(f!==Ah){const C=`:where([data-ag-theme-mode="${typeof CSS=="object"?CSS.escape(f):f}"]) & {
`;o+=C,a+=C}for(const v of Object.keys(m).sort()){const C=m[v],y=qme(v,C,this.themeLogger);if(y===!1)this.themeLogger.error(107,{key:v,value:C});else{const S=u$(v),E=S.replace("--ag-","--ag-inherited-");o+=`	${S}: var(${E}, ${y});
`,a+=`	${E}: var(${S});
`}}f!==Ah&&(o+=`}
`,a+=`}
`)}let d=`${n} {
${o}}
`;d+=`:has(> ${n}):not(${n}) {
${a}}
`,this._paramsCssCache=r=d}return r.replaceAll(n,`:where(.${t})`)}},pz=e=>{const t=new Map;for(const r of e)t.set(r.feature,r);const n=[];for(const r of e)(!r.feature||t.get(r.feature)===r)&&n.push(r);return n},Yme=e=>{const t=new Set,n=a=>{if(Array.isArray(a))a.forEach(n);else{const l=a?.googleFont;typeof l=="string"&&t.add(l)}};return Object.values(e._getModeParams()).flatMap(a=>Object.values(a)).forEach(n),Array.from(t).sort()},gz=!1,Qme=()=>{if(!gz){gz=!0;for(const e of Array.from(document.head.querySelectorAll('style[data-ag-scope="legacy"]')))e.remove()}},Zme=async(e,t)=>{const n=`@import url('https://${Xme}/css2?family=${encodeURIComponent(e)}:wght@100;200;300;400;500;600;700;800;900&display=swap');
`;Tb(n,document.head,`googleFont:${e}`,void 0,0,t)},Xme="fonts.googleapis.com",Jme=1,ebe=class{constructor(e){this.beans={},this.createdBeans=[],this.destroyed=!1,this.instanceId=Jme++,e?.beanClasses&&(this.beanDestroyComparator=e.beanDestroyComparator,this.init(e))}init(e){this.id=e.id,this.beans.context=this,this.destroyCallback=e.destroyCallback;for(const t of Object.keys(e.providedBeanInstances))this.beans[t]=e.providedBeanInstances[t];for(const t of e.beanClasses){const n=new t;n.beanName?this.beans[n.beanName]=n:console.error(`Bean ${t.name} is missing beanName`),this.createdBeans.push(n)}for(const t of e.derivedBeans??[]){const{beanName:n,bean:r}=t(this);this.beans[n]=r,this.createdBeans.push(r)}e.beanInitComparator&&this.createdBeans.sort(e.beanInitComparator),this.initBeans(this.createdBeans)}getBeanInstances(){return Object.values(this.beans)}createBean(e,t){return this.initBeans([e],t),e}initBeans(e,t){const n=this.beans;for(const r of e)r.preWireBeans?.(n),r.wireBeans?.(n);for(const r of e)r.preConstruct?.();t&&e.forEach(t);for(const r of e)r.postConstruct?.()}getBeans(){return this.beans}getBean(e){return this.beans[e]}getId(){return this.id}destroy(){if(this.destroyed)return;this.destroyed=!0;const e=this.getBeanInstances();this.beanDestroyComparator&&e.sort(this.beanDestroyComparator),this.destroyBeans(e),this.beans={},this.createdBeans=[],this.destroyCallback?.()}destroyBean(e){e?.destroy?.()}destroyBeans(e){if(e)for(let t=0;t<e.length;t++)this.destroyBean(e[t]);return[]}isDestroyed(){return this.destroyed}},tbe=0,nbe=class extends wc{constructor(){super(...arguments),this.beanName="environment",this.paramsClass=`ag-theme-params-${++tbe}`,this.globalCSS=[]}wireBeans(e){this.eRootDiv=e.eRootDiv}postConstruct(){const{gos:e,eRootDiv:t}=this;e.setInstanceDomData(t),this.eStyleContainer=e.get("themeStyleContainer")??(t.getRootNode()===document?document.head:t),this.cssLayer=e.get("themeCssLayer"),this.styleNonce=e.get("styleNonce"),this.addManagedPropertyListener("theme",()=>this.handleThemeChange()),this.handleThemeChange(),this.initVariables(),this.addDestroyFunc(()=>Pme(this)),this.mutationObserver=new MutationObserver(()=>{this.fireStylesChangedEvent("themeChanged")}),this.addDestroyFunc(()=>this.mutationObserver.disconnect())}applyThemeClasses(e,t=[]){const{theme:n}=this;let r;n?r=`${this.paramsClass} ${n._getCssClass()}`:r=this.applyLegacyThemeClasses();for(const o of Array.from(e.classList))o.startsWith("ag-theme-")&&e.classList.remove(o);if(r){const o=e.className;e.className=`${o}${o?" ":""}${r}${t?.length?" "+t.join(" "):""}`}}applyLegacyThemeClasses(){let e="";this.mutationObserver.disconnect();let t=this.eRootDiv;for(;t;){let n=!1;for(const r of Array.from(t.classList))r.startsWith("ag-theme-")&&(n=!0,e=e?`${e} ${r}`:r);n&&this.mutationObserver.observe(t,{attributes:!0,attributeFilter:["class"]}),t=t.parentElement}return e}addGlobalCSS(e,t){this.theme?Tb(e,this.eStyleContainer,t,this.cssLayer,0,this.styleNonce):this.globalCSS.push([e,t])}handleThemeChange(){const{gos:e,theme:t}=this,n=e.get("theme");let r;if(n==="legacy")r=void 0;else{const o=n??this.getDefaultTheme();o instanceof g$?r=o:this.themeError(o)}r!==t&&this.handleNewTheme(r),this.postProcessThemeChange(r,n)}handleNewTheme(e){const{gos:t,eRootDiv:n,globalCSS:r}=this,o=this.getAdditionalCss();if(e){Rme(this),c$(this.eStyleContainer,this.cssLayer,this.styleNonce,o);for(const[l,d]of r)Tb(l,this.eStyleContainer,d,this.cssLayer,0,this.styleNonce);r.length=0}this.theme=e,e?._startUse({loadThemeGoogleFonts:t.get("loadThemeGoogleFonts"),styleContainer:this.eStyleContainer,cssLayer:this.cssLayer,nonce:this.styleNonce,moduleCss:o});let a=this.eParamsStyle;if(!a){a=this.eParamsStyle=A0({tag:"style"});const l=t.get("styleNonce");l&&a.setAttribute("nonce",l),n.appendChild(a)}HN||(a.textContent=e?._getPerInstanceCss(this.paramsClass)||""),this.applyThemeClasses(n),this.fireStylesChangedEvent("themeChanged")}},rbe=class extends wc{constructor(){super(...arguments),this.beanName="registry"}registerDynamicBeans(e){if(e){this.dynamicBeans??(this.dynamicBeans={});for(const t of Object.keys(e))this.dynamicBeans[t]=e[t]}}createDynamicBean(e,t,...n){if(!this.dynamicBeans)throw new Error(this.getDynamicError(e,!0));const r=this.dynamicBeans[e];if(r==null){if(t)throw new Error(this.getDynamicError(e,!1));return}return new r(...n)}},ibe=class extends wc{constructor(){super(...arguments),this.beanName="eventSvc",this.eventServiceType="global",this.globalSvc=new Up}addListener(e,t,n){this.globalSvc.addEventListener(e,t,n)}removeListener(e,t,n){this.globalSvc.removeEventListener(e,t,n)}addGlobalListener(e,t=!1){this.globalSvc.addGlobalListener(e,t)}removeGlobalListener(e,t=!1){this.globalSvc.removeGlobalListener(e,t)}dispatchEvent(e){this.globalSvc.dispatchEvent(this.gos.addCommon(e))}dispatchEventOnce(e){this.globalSvc.dispatchEventOnce(this.gos.addCommon(e))}},b$=class extends wc{constructor(e,t){super(),this.ctrl=e,t&&(this.beans=t)}postConstruct(){this.refreshTooltip()}setBrowserTooltip(e,t){const n="title",r=this.ctrl.getGui();r&&(e!=null&&(e!=""||t)?r.setAttribute(n,e):r.removeAttribute(n))}updateTooltipText(){const{getTooltipValue:e}=this.ctrl;e&&(this.tooltip=e())}createTooltipFeatureIfNeeded(){if(this.tooltipManager==null){const e=this.beans.registry.createDynamicBean("tooltipStateManager",!0,this.ctrl,()=>this.tooltip);e&&(this.tooltipManager=this.createBean(e,this.beans.context))}}attemptToShowTooltip(){this.tooltipManager?.prepareToShowTooltip()}attemptToHideTooltip(){this.tooltipManager?.hideTooltip()}setTooltipAndRefresh(e){this.tooltip=e,this.refreshTooltip()}refreshTooltip(e){this.browserTooltips=this.beans.gos.get("enableBrowserTooltips"),this.updateTooltipText(),this.browserTooltips?(this.setBrowserTooltip(this.tooltip),this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context)):(this.setBrowserTooltip(e?"":null,e),this.createTooltipFeatureIfNeeded())}destroy(){this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context),super.destroy()}},obe=1e3,sbe=1e3,mz=100,bz,JA=!1,abe=class extends wc{constructor(e,t){super(),this.tooltipCtrl=e,this.getTooltipValue=t,this.interactionEnabled=!1,this.isInteractingWithTooltip=!1,this.state=0,this.tooltipInstanceCount=0,this.tooltipMouseTrack=!1}wireBeans(e){this.popupSvc=e.popupSvc}postConstruct(){this.gos.get("tooltipInteraction")&&(this.interactionEnabled=!0),this.tooltipTrigger=this.getTooltipTrigger(),this.tooltipMouseTrack=this.gos.get("tooltipMouseTrack");const e=this.tooltipCtrl.getGui();this.tooltipTrigger===0&&this.addManagedListeners(e,{mouseenter:this.onMouseEnter.bind(this),mouseleave:this.onMouseLeave.bind(this)}),this.tooltipTrigger===1&&this.addManagedListeners(e,{focusin:this.onFocusIn.bind(this),focusout:this.onFocusOut.bind(this)}),this.addManagedListeners(e,{mousemove:this.onMouseMove.bind(this)}),this.interactionEnabled||this.addManagedListeners(e,{mousedown:this.onMouseDown.bind(this),keydown:this.onKeyDown.bind(this)})}getGridOptionsTooltipDelay(e){const t=this.gos.get(e);return Math.max(200,t)}getTooltipDelay(e){return e==="show"?this.tooltipCtrl.getTooltipShowDelayOverride?.()??this.getGridOptionsTooltipDelay("tooltipShowDelay"):this.tooltipCtrl.getTooltipHideDelayOverride?.()??this.getGridOptionsTooltipDelay("tooltipHideDelay")}destroy(){this.setToDoNothing(),super.destroy()}getTooltipTrigger(){const e=this.gos.get("tooltipTrigger");return!e||e==="hover"?0:1}onMouseEnter(e){this.interactionEnabled&&this.interactiveTooltipTimeoutId&&(this.unlockService(),this.startHideTimeout()),!Ip()&&(JA?this.showTooltipTimeoutId=window.setTimeout(()=>{this.prepareToShowTooltip(e)},mz):this.prepareToShowTooltip(e))}onMouseMove(e){this.lastMouseEvent&&(this.lastMouseEvent=e),this.tooltipMouseTrack&&this.state===2&&this.tooltipComp&&this.positionTooltip()}onMouseDown(){this.setToDoNothing()}onMouseLeave(){this.interactionEnabled?this.lockService():this.setToDoNothing()}onFocusIn(){this.prepareToShowTooltip()}onFocusOut(e){const t=e.relatedTarget,n=this.tooltipCtrl.getGui(),r=this.tooltipComp?.getGui();this.isInteractingWithTooltip||n.contains(t)||this.interactionEnabled&&r?.contains(t)||this.setToDoNothing()}onKeyDown(){this.isInteractingWithTooltip&&(this.isInteractingWithTooltip=!1),this.setToDoNothing()}prepareToShowTooltip(e){if(this.state!=0||JA)return;let t=0;e&&(t=this.isLastTooltipHiddenRecently()?200:this.getTooltipDelay("show")),this.lastMouseEvent=e||null,this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),t),this.state=1}isLastTooltipHiddenRecently(){return Date.now()-bz<obe}setToDoNothing(e){!e&&this.state===2&&this.hideTooltip(),this.onBodyScrollEventCallback&&(this.onBodyScrollEventCallback(),this.onBodyScrollEventCallback=void 0),this.clearEventHandlers(),this.onDocumentKeyDownCallback&&(this.onDocumentKeyDownCallback(),this.onDocumentKeyDownCallback=void 0),this.clearTimeouts(),this.state=0,this.lastMouseEvent=null}showTooltip(){const e=this.getTooltipValue(),t=this.tooltipCtrl;if(!Ye(e)||t.shouldDisplayTooltip&&!t.shouldDisplayTooltip()){this.setToDoNothing();return}const n=this.gos.addCommon({location:t.getLocation?.()??"UNKNOWN",value:e,hideTooltipCallback:()=>this.hideTooltip(!0),...t.getAdditionalParams?.()});this.state=2,this.tooltipInstanceCount++;const r=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);this.createTooltipComp(n,r)}hideTooltip(e){!e&&this.isInteractingWithTooltip||(this.tooltipComp&&(this.destroyTooltipComp(),bz=Date.now()),this.eventSvc.dispatchEvent({type:"tooltipHide",parentGui:this.tooltipCtrl.getGui()}),e&&(this.isInteractingWithTooltip=!1),this.setToDoNothing(!0))}newTooltipComponentCallback(e,t){if(this.state!==2||this.tooltipInstanceCount!==e){this.destroyBean(t);return}const r=t.getGui();this.tooltipComp=t,r.classList.contains("ag-tooltip")||r.classList.add("ag-tooltip-custom"),this.tooltipTrigger===0&&r.classList.add("ag-tooltip-animate"),this.interactionEnabled&&r.classList.add("ag-tooltip-interactive");const o=this.getLocaleTextFunc(),a=this.popupSvc?.addPopup({eChild:r,ariaLabel:o("ariaLabelTooltip","Tooltip")});if(a&&(this.tooltipPopupDestroyFunc=a.hideFunc),this.positionTooltip(),this.tooltipTrigger===1){const l=()=>this.setToDoNothing();[this.onBodyScrollEventCallback]=this.addManagedEventListeners({bodyScroll:l}),this.setEventHandlers(l)}this.interactionEnabled&&([this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener]=this.addManagedElementListeners(r,{mouseenter:this.onTooltipMouseEnter.bind(this),mouseleave:this.onTooltipMouseLeave.bind(this)}),[this.onDocumentKeyDownCallback]=this.addManagedElementListeners(Wr(this.beans),{keydown:l=>{r.contains(l?.target)||this.onKeyDown()}}),this.tooltipTrigger===1&&([this.tooltipFocusInListener,this.tooltipFocusOutListener]=this.addManagedElementListeners(r,{focusin:this.onTooltipFocusIn.bind(this),focusout:this.onTooltipFocusOut.bind(this)}))),this.eventSvc.dispatchEvent({type:"tooltipShow",tooltipGui:r,parentGui:this.tooltipCtrl.getGui()}),this.startHideTimeout()}onTooltipMouseEnter(){this.isInteractingWithTooltip=!0,this.unlockService()}onTooltipMouseLeave(){this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,this.lockService())}onTooltipFocusIn(){this.isInteractingWithTooltip=!0}isTooltipFocused(){const e=this.tooltipComp?.getGui(),t=Qn(this.beans);return!!e&&e.contains(t)}onTooltipFocusOut(e){const t=this.tooltipCtrl.getGui();this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,t.contains(e.relatedTarget)?this.startHideTimeout():this.hideTooltip())}positionTooltip(){const e={type:"tooltip",ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack};this.lastMouseEvent?this.popupSvc?.positionPopupUnderMouseEvent({...e,mouseEvent:this.lastMouseEvent}):this.popupSvc?.positionPopupByComponent({...e,eventSource:this.tooltipCtrl.getGui(),position:"under",keepWithinBounds:!0,nudgeY:5})}destroyTooltipComp(){this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");const e=this.tooltipPopupDestroyFunc,t=this.tooltipComp,n=this.tooltipTrigger===0?sbe:0;window.setTimeout(()=>{e(),this.destroyBean(t)},n),this.clearTooltipListeners(),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0}clearTooltipListeners(){for(const e of[this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener,this.tooltipFocusInListener,this.tooltipFocusOutListener])e&&e();this.tooltipMouseEnterListener=this.tooltipMouseLeaveListener=this.tooltipFocusInListener=this.tooltipFocusOutListener=null}lockService(){JA=!0,this.interactiveTooltipTimeoutId=window.setTimeout(()=>{this.unlockService(),this.setToDoNothing()},mz)}unlockService(){JA=!1,this.clearInteractiveTimeout()}startHideTimeout(){this.clearHideTimeout(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.getTooltipDelay("hide"))}clearShowTimeout(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0)}clearHideTimeout(){this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)}clearInteractiveTimeout(){this.interactiveTooltipTimeoutId&&(window.clearTimeout(this.interactiveTooltipTimeoutId),this.interactiveTooltipTimeoutId=void 0)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout(),this.clearInteractiveTimeout()}},lbe=class extends b${constructor(e,t,n){super(e,n),this.highlightTracker=t,this.onHighlight=this.onHighlight.bind(this)}postConstruct(){super.postConstruct(),this.wireHighlightListeners()}wireHighlightListeners(){this.addManagedPropertyListener("tooltipTrigger",({currentValue:e})=>{this.setTooltipMode(e)}),this.setTooltipMode(this.gos.get("tooltipTrigger")),this.highlightTracker.addEventListener("itemHighlighted",this.onHighlight)}onHighlight(e){this.tooltipMode===1&&(e.highlighted?this.attemptToShowTooltip():this.attemptToHideTooltip())}setTooltipMode(e="focus"){this.tooltipMode=e==="focus"?1:0}destroy(){this.highlightTracker.removeEventListener("itemHighlighted",this.onHighlight),super.destroy()}},e1=0,cbe=200,dbe=class extends wc{constructor(){super(...arguments),this.beanName="popupSvc",this.popupList=[]}getPopupParent(){const e=this.gos.get("popupParent");return e||this.getDefaultPopupParent()}positionPopupUnderMouseEvent(e){const{ePopup:t,nudgeX:n,nudgeY:r,skipObserver:o}=e;this.positionPopup({ePopup:t,nudgeX:n,nudgeY:r,keepWithinBounds:!0,skipObserver:o,updatePosition:()=>this.calculatePointerAlign(e.mouseEvent),postProcessCallback:()=>this.callPostProcessPopup(e,e.type,e.ePopup,null,e.mouseEvent)})}calculatePointerAlign(e){const t=this.getParentRect();return{x:e.clientX-t.left,y:e.clientY-t.top}}positionPopupByComponent(e){const{ePopup:t,nudgeX:n,nudgeY:r,keepWithinBounds:o,eventSource:a,alignSide:l="left",position:d="over",type:f}=e,m=a.getBoundingClientRect(),v=this.getParentRect();this.setAlignedTo(a,t);const C=()=>{let y=m.left-v.left;l==="right"&&(y-=t.offsetWidth-m.width);let S;return d==="over"?(S=m.top-v.top,this.setAlignedStyles(t,"over")):(this.setAlignedStyles(t,"under"),this.shouldRenderUnderOrAbove(t,m,v,e.nudgeY||0)==="under"?S=m.top-v.top+m.height:S=m.top-t.offsetHeight-(r||0)*2-v.top),{x:y,y:S}};this.positionPopup({ePopup:t,nudgeX:n,nudgeY:r,keepWithinBounds:o,updatePosition:C,postProcessCallback:()=>this.callPostProcessPopup(e,f,t,a,null)})}shouldRenderUnderOrAbove(e,t,n,r){const o=n.bottom-t.bottom,a=t.top-n.top,l=e.offsetHeight+r;return o>l?"under":a>l||a>o?"above":"under"}setAlignedStyles(e,t){const n=this.getPopupIndex(e);if(n===-1)return;const r=this.popupList[n],{alignedToElement:o}=r;if(!o)return;const a=["right","left","over","above","under"];for(const l of a)o.classList.remove(`ag-has-popup-positioned-${l}`),e.classList.remove(`ag-popup-positioned-${l}`);t&&(o.classList.add(`ag-has-popup-positioned-${t}`),e.classList.add(`ag-popup-positioned-${t}`))}setAlignedTo(e,t){const n=this.getPopupIndex(t);if(n!==-1){const r=this.popupList[n];r.alignedToElement=e}}positionPopup(e){const{ePopup:t,keepWithinBounds:n,nudgeX:r,nudgeY:o,skipObserver:a,updatePosition:l}=e,d={width:0,height:0},f=(m=!1)=>{let{x:v,y:C}=l();m&&t.clientWidth===d.width&&t.clientHeight===d.height||(d.width=t.clientWidth,d.height=t.clientHeight,r&&(v+=r),o&&(C+=o),n&&(v=this.keepXYWithinBounds(t,v,1),C=this.keepXYWithinBounds(t,C,0)),t.style.left=`${v}px`,t.style.top=`${C}px`,e.postProcessCallback&&e.postProcessCallback())};if(f(),!a){const m=al(this.beans,t,()=>f(!0));setTimeout(()=>m(),cbe)}}getParentRect(){const e=Wr(this.beans);let t=this.getPopupParent();return t===e.body?t=e.documentElement:getComputedStyle(t).position==="static"&&(t=t.offsetParent),dW(t)}keepXYWithinBounds(e,t,n){const r=n===0,o=r?"clientHeight":"clientWidth",a=r?"top":"left",l=r?"height":"width",d=r?"scrollTop":"scrollLeft",f=Wr(this.beans),m=f.documentElement,v=this.getPopupParent(),C=e.getBoundingClientRect(),y=v.getBoundingClientRect(),S=f.documentElement.getBoundingClientRect(),E=v===f.body,T=Math.ceil(C[l]);let N=E?(r?cW:yS)(m)+m[d]:v[o];E&&(N-=Math.abs(S[a]-y[a]));const j=N-T;return Math.min(Math.max(t,0),Math.max(j,0))}addPopup(e){const{eChild:t,ariaLabel:n,ariaOwns:r,alwaysOnTop:o,positionCallback:a,anchorToElement:l}=e,d=this.getPopupIndex(t);if(d!==-1)return{hideFunc:this.popupList[d].hideFunc};this.initialisePopupPosition(t);const f=this.createPopupWrapper(t,!!o,n,r),m=this.addEventListenersToPopup({...e,wrapperEl:f});return a&&a(),this.addPopupToPopupList(t,f,m,l),{hideFunc:m}}initialisePopupPosition(e){const n=this.getPopupParent().getBoundingClientRect();Ye(e.style.top)||(e.style.top=`${n.top*-1}px`),Ye(e.style.left)||(e.style.left=`${n.left*-1}px`)}createPopupWrapper(e,t,n,r){const o=this.getPopupParent(),{environment:a,gos:l}=this.beans,d=A0({tag:"div"});return a.applyThemeClasses(d),d.classList.add("ag-popup"),e.classList.add(l.get("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),e.hasAttribute("role")||Od(e,"dialog"),n?Eb(e,n):r&&(e.id||(e.id=`popup-component-${e1}`),X6(r,e.id)),d.appendChild(e),o.appendChild(d),t?this.setAlwaysOnTop(e,!0):this.bringPopupToFront(e),d}addEventListenersToPopup(e){const t=this.beans,n=Wr(t),{wrapperEl:r,eChild:o,closedCallback:a,afterGuiAttached:l,closeOnEsc:d,modal:f,ariaOwns:m}=e;let v=!1;const C=T=>{if(!r.contains(Qn(t)))return;T.key===xe.ESCAPE&&!this.isStopPropagation(T)&&E({keyboardEvent:T})},y=T=>E({mouseEvent:T}),S=T=>E({touchEvent:T}),E=(T={})=>{const{mouseEvent:P,touchEvent:N,keyboardEvent:j,forceHide:L}=T;!L&&(this.isEventFromCurrentPopup({mouseEvent:P,touchEvent:N},o)||v)||(v=!0,r.remove(),n.removeEventListener("keydown",C),n.removeEventListener("mousedown",y),n.removeEventListener("touchstart",S),n.removeEventListener("contextmenu",y),this.eventSvc.removeListener("dragStarted",y),a&&a(P||N||j),this.removePopupFromPopupList(o,m))};return l&&l({hidePopup:E}),window.setTimeout(()=>{d&&n.addEventListener("keydown",C),f&&(n.addEventListener("mousedown",y),this.eventSvc.addListener("dragStarted",y),n.addEventListener("touchstart",S),n.addEventListener("contextmenu",y))},0),E}addPopupToPopupList(e,t,n,r){this.popupList.push({element:e,wrapper:t,hideFunc:n,instanceId:e1,isAnchored:!!r}),r&&this.setPopupPositionRelatedToElement(e,r),e1=e1+1}getPopupIndex(e){return this.popupList.findIndex(t=>t.element===e)}setPopupPositionRelatedToElement(e,t){const n=this.getPopupIndex(e);if(n===-1)return;const r=this.popupList[n];if(r.stopAnchoringPromise&&r.stopAnchoringPromise.then(a=>a&&a()),r.stopAnchoringPromise=void 0,r.isAnchored=!1,!t)return;const o=this.keepPopupPositionedRelativeTo({element:t,ePopup:e,hidePopup:r.hideFunc});return r.stopAnchoringPromise=o,r.isAnchored=!0,o}removePopupFromPopupList(e,t){this.setAlignedStyles(e,null),this.setPopupPositionRelatedToElement(e,null),t&&X6(t,null),this.popupList=this.popupList.filter(n=>n.element!==e)}keepPopupPositionedRelativeTo(e){const t=this.getPopupParent(),n=t.getBoundingClientRect(),{element:r,ePopup:o}=e,a=r.getBoundingClientRect(),l=C=>Number.parseInt(C.substring(0,C.length-1),10),d=(C,y)=>{const S=n[C]-a[C],E=l(o.style[C]);return{initialDiff:S,lastDiff:S,initial:E,last:E,direction:y}},f=d("top",0),m=d("left",1),v=this.beans.frameworkOverrides;return new Jt(C=>{v.wrapIncoming(()=>{wge(()=>{const y=t.getBoundingClientRect(),S=r.getBoundingClientRect();if(S.top==0&&S.left==0&&S.height==0&&S.width==0){e.hidePopup();return}const T=(P,N)=>{const j=l(o.style[N]);P.last!==j&&(P.initial=j,P.last=j);const L=y[N]-S[N];if(L!=P.lastDiff){const V=this.keepXYWithinBounds(o,P.initial+P.initialDiff-L,P.direction);o.style[N]=`${V}px`,P.last=V}P.lastDiff=L};T(f,"top"),T(m,"left")},200).then(y=>{C(()=>{y!=null&&window.clearInterval(y)})})},"popupPositioning")})}isEventFromCurrentPopup(e,t){const{mouseEvent:n,touchEvent:r}=e,o=n||r;if(!o)return!1;const a=this.getPopupIndex(t);if(a===-1)return!1;for(let l=a;l<this.popupList.length;l++){const d=this.popupList[l];if(CP(d.element,o))return!0}return this.isElementWithinCustomPopup(o.target)}isElementWithinCustomPopup(e){const t=Wr(this.beans);for(;e&&e!==t.body;){if(e.classList.contains("ag-custom-component-popup")||e.parentElement===null)return!0;e=e.parentElement}return!1}getWrapper(e){for(;!e.classList.contains("ag-popup")&&e.parentElement;)e=e.parentElement;return e.classList.contains("ag-popup")?e:null}setAlwaysOnTop(e,t){const n=this.getWrapper(e);n&&(n.classList.toggle("ag-always-on-top",!!t),t&&this.bringPopupToFront(n))}bringPopupToFront(e){const t=this.getPopupParent(),n=Array.prototype.slice.call(t.querySelectorAll(".ag-popup")),r=n.length,o=this.getWrapper(e);if(!o||r<=1||!t.contains(e))return;const a=[],l=[];for(const y of n)y!==o&&(y.classList.contains("ag-always-on-top")?l.push(y):a.push(y));const d=[],f=l.length,C=o.classList.contains("ag-always-on-top")||!f?[...a,...l,o]:[...a,o,...l];for(let y=0;y<=r;y++){const S=C[y];if(n[y]===C[y]||S===o)continue;const E=S.querySelectorAll("div");for(const T of E)T.scrollTop!==0&&d.push([T,T.scrollTop]);y===0?t.insertAdjacentElement("afterbegin",S):C[y-1].insertAdjacentElement("afterend",S)}for(;d.length;){const y=d.pop();y[0].scrollTop=y[1]}}},ube=class extends ON{constructor(){super({tag:"div",cls:"ag-tooltip"})}init(e){const{value:t}=e,n=this.getGui();n.textContent=ng(t);const r=e.location.replace(/([a-z])([A-Z0-9])/g,"$1-$2").toLowerCase();n.classList.add(`ag-${r}-tooltip`)}},v$=(e,t)=>{if(t!=null&&e?.setPointerCapture)try{return e.setPointerCapture(t),e.hasPointerCapture(t)}catch{}return!1},hbe=(e,t)=>{if(typeof PointerEvent>"u"||!(t instanceof PointerEvent))return null;const n=t.pointerId;if(!v$(e,n))return null;const r={eElement:e,pointerId:n,onLost(o){pbe(r,o)}};return e.addEventListener("lostpointercapture",r.onLost),r},fbe=e=>{if(!e)return;w$(e);const{eElement:t,pointerId:n}=e;if(t){try{t.releasePointerCapture(n)}catch{}e.eElement=null}},w$=e=>{const{eElement:t,onLost:n}=e;t&&n&&(t.removeEventListener("lostpointercapture",n),e.onLost=null)},pbe=(e,t)=>{w$(e);const{eElement:n,pointerId:r}=e;n&&t.pointerId===r&&v$(n,r)},Km,ab,ud=e=>{if(!ab)ab=new WeakSet;else if(ab.has(e))return!1;return ab.add(e),!0},gbe=class extends wc{constructor(){super(...arguments),this.beanName="dragSvc",this.dragging=!1,this.drag=null,this.dragSources=[]}get startTarget(){return this.drag?.start.target??null}isPointer(){return!!Km?.has($l(this.beans))}hasPointerCapture(){const e=this.drag?.pointerCapture;return!!(e&&this.beans.eRootDiv.hasPointerCapture?.(e.pointerId))}destroy(){this.drag&&this.cancelDrag();const e=this.dragSources;for(const t of e)vz(t);e.length=0,super.destroy()}removeDragSource(e){const t=this.dragSources;for(let n=0,r=t.length;n<r;++n){const o=t[n];if(o.params===e){t.splice(n,1),vz(o);break}}}addDragSource(e){if(!this.isAlive())return;const{eElement:t,includeTouch:n}=e,r=[];let o;if(n){const m=t.style;m&&(o=m.touchAction,m.touchAction="none")}const a={handlers:r,params:e,oldTouchAction:o};this.dragSources.push(a),W1(r,[t,"pointerdown",m=>this.onPointerDown(e,m),{passive:!1}],[t,"mousedown",m=>this.onMouseDown(e,m)]);const f=this.gos.get("suppressTouch");n&&!f&&W1(r,[t,"touchstart",v=>this.onTouchStart(e,v),{passive:!1}])}cancelDrag(e){const t=this.drag;e??(e=t?.eElement),e&&this.eventSvc.dispatchEvent({type:"dragCancelled",target:e}),t?.params.onDragCancel?.(),this.destroyDrag()}shouldPreventMouseEvent(e){const t=e.type;return(t==="mousemove"||t==="pointermove")&&e.cancelable&&zy(this.beans,e)&&!ky(UM(e))}initDrag(e,...t){this.drag=e;const n=this.beans,r=d=>this.onScroll(d),o=d=>this.onKeyDown(d),a=$l(n),l=Wr(n);W1(e.handlers,[a,"contextmenu",xh],[a,"keydown",o],[l,"scroll",r,{capture:!0}],[l.defaultView||window,"scroll",r],...t)}destroyDrag(){this.dragging=!1;const e=this.drag;if(e){const t=e.rootEl;Km?.get(t)===e&&Km?.delete(t),this.drag=null,fbe(e.pointerCapture),EN(e.handlers)}}onPointerDown(e,t){if(this.isPointer())return;const n=this.beans;if(ab?.has(t))return;const r=t.pointerType;if(r==="touch"&&(n.gos.get("suppressTouch")||!e.includeTouch||(e.stopPropagationForTouch&&t.stopPropagation(),ky(UM(t))))||!t.isPrimary||r==="mouse"&&t.button!==0)return;this.destroyDrag();const o=$l(n),a=e.eElement,l=t.pointerId,d=new GM(o,e,t,l);Km??(Km=new WeakMap),Km.set(o,d);const f=C=>{C.pointerId===l&&this.onMouseOrPointerMove(C)},m=C=>{C.pointerId===l&&this.onMouseOrPointerUp(C)},v=C=>{C.pointerId===l&&ud(C)&&this.cancelDrag()};this.initDrag(d,[o,"pointerup",m],[o,"pointercancel",v],[o,"pointermove",f,{passive:!1}],[o,"touchmove",xh,{passive:!1}],[a,"mousemove",xh,{passive:!1}]),e.dragStartPixels===0?this.onMouseOrPointerMove(t):ud(t)}onTouchStart(e,t){if(this.gos.get("suppressTouch")||!e.includeTouch||!ud(t)||ky(UM(t)))return;if(e.stopPropagationForTouch&&t.stopPropagation(),this.isPointer()){xh(t);return}this.destroyDrag();const r=this.beans,o=$l(r),a=new GM(o,e,t.touches[0]),l=m=>this.onTouchMove(m),d=m=>this.onTouchUp(m),f=t.target??e.eElement;this.initDrag(a,[$l(r),"touchmove",xh,{passive:!1}],[f,"touchmove",l,{passive:!0}],[f,"touchend",d,{passive:!0}],[f,"touchcancel",d,{passive:!0}]),e.dragStartPixels===0&&this.onMove(a.start)}onMouseDown(e,t){if(t.button!==0||ab?.has(t)||this.isPointer())return;const n=this.beans;this.destroyDrag();const r=new GM($l(n),e,t),o=d=>this.onMouseOrPointerMove(d),a=d=>this.onMouseOrPointerUp(d),l=$l(n);this.initDrag(r,[l,"mousemove",o],[l,"mouseup",a]),e.dragStartPixels===0?this.onMouseOrPointerMove(t):ud(t)}onScroll(e){if(!ud(e))return;const t=this.drag,n=t?.lastDrag;n&&this.dragging&&t.params?.onDragging(n)}onMouseOrPointerMove(e){ud(e)&&(Wh()&&Wr(this.beans).getSelection()?.removeAllRanges(),this.shouldPreventMouseEvent(e)&&xh(e),this.onMove(e))}onTouchMove(e){const t=this.drag;if(!t||!ud(e))return;const n=Ay(t.start,e.touches);n&&(e.preventDefault(),this.onMove(n))}onMove(e){const t=this.drag;if(!t)return;t.lastDrag=e;const n=t.params;if(!this.dragging){const r=t.start,a=n.dragStartPixels??4;if(bW(e,r,a)||(this.dragging=!0,n.capturePointer&&(t.pointerCapture=hbe(this.beans.eRootDiv,e)),this.eventSvc.dispatchEvent({type:"dragStarted",target:n.eElement}),n.onDragStart(r),this.drag!==t)||(n.onDragging(r),this.drag!==t))return}n.onDragging(e)}onTouchUp(e){const t=this.drag;t&&ud(e)&&this.onUp(Ay(t.start,e.changedTouches))}onMouseOrPointerUp(e){ud(e)&&this.onUp(e)}onUp(e){const t=this.drag;t&&(e||(e=t.lastDrag),e&&this.dragging&&(this.dragging=!1,t.params.onDragStop(e),this.eventSvc.dispatchEvent({type:"dragStopped",target:t.params.eElement})),this.destroyDrag())}onKeyDown(e){e.key===xe.ESCAPE&&this.cancelDrag()}},vz=e=>{EN(e.handlers);const t=e.oldTouchAction;if(t!=null){const n=e.params.eElement.style;n&&(n.touchAction=t)}},GM=class{constructor(e,t,n,r=null){this.rootEl=e,this.params=t,this.start=n,this.pointerId=r,this.handlers=[],this.lastDrag=null,this.pointerCapture=null,this.eElement=t.eElement}},UM=e=>{const t=e.target;return t instanceof Element?t:null},mbe=class extends wc{constructor(){super(...arguments),this.beanName="dragAndDrop",this.dragSourceAndParamsList=[],this.dragItem=null,this.dragInitialSourcePointerOffsetX=0,this.dragInitialSourcePointerOffsetY=0,this.lastMouseEvent=null,this.lastDraggingEvent=null,this.dragSource=null,this.dragImageParent=null,this.dragImageCompPromise=null,this.dragImageComp=null,this.dragImageLastIcon=void 0,this.dragImageLastLabel=void 0,this.dropTargets=[],this.lastDropTarget=null}addDragSource(e,t=!1){const n={capturePointer:!0,dragSource:e,eElement:e.eElement,dragStartPixels:e.dragStartPixels,onDragStart:r=>this.onDragStart(e,r),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),onDragCancel:this.onDragCancel.bind(this),includeTouch:t};this.dragSourceAndParamsList.push(n),this.beans.dragSvc.addDragSource(n)}setDragImageCompIcon(e,t=!1){const n=this.dragImageComp;n&&(t||this.dragImageLastIcon!==e)&&(this.dragImageLastIcon=e,n.setIcon(e,t))}removeDragSource(e){const{dragSourceAndParamsList:t,beans:n}=this,r=t.find(o=>o.dragSource===e);r&&(n.dragSvc?.removeDragSource(r),el(t,r))}destroy(){const{dragSourceAndParamsList:e,dropTargets:t,beans:n}=this,r=n.dragSvc;for(const o of e)r?.removeDragSource(o);e.length=0,t.length=0,this.clearDragAndDropProperties(),super.destroy()}nudge(){const e=this.lastMouseEvent;e&&this.onDragging(e,!0)}onDragStart(e,t){this.lastMouseEvent=t,this.dragSource=e,this.dragItem=e.getDragItem();const n=e.eElement.getBoundingClientRect();this.dragInitialSourcePointerOffsetX=t.clientX-n.left,this.dragInitialSourcePointerOffsetY=t.clientY-n.top,e.onDragStarted?.(),this.createAndUpdateDragImageComp(e)}onDragStop(e){const{dragSource:t,lastDropTarget:n}=this;if(t?.onDragStopped?.(),n){const r=this.dropTargetEvent(n,e,!1);n.onDragStop?.(r)}this.clearDragAndDropProperties()}onDragCancel(){const{dragSource:e,lastDropTarget:t,lastMouseEvent:n}=this;if(e?.onDragCancelled?.(),t&&n){const r=this.dropTargetEvent(t,n,!1);t.onDragCancel?.(r)}this.clearDragAndDropProperties()}onDragging(e,t=!1){this.positionDragImageComp(e);const n=this.findCurrentDropTarget(e),{lastDropTarget:r,dragSource:o,dragItem:a}=this;let l=!1;if(n!==r){if(l=!0,r){const d=this.dropTargetEvent(r,e,t);r.onDragLeave?.(d)}if(r!==null&&!n?this.handleExit(o,a):r===null&&n&&this.handleEnter(o,a),n){const d=this.dropTargetEvent(n,e,t);n.onDragEnter?.(d)}this.lastDropTarget=n}else if(n){const d=this.dropTargetEvent(n,e,t);n.onDragging?.(d),d?.changed&&(l=!0)}this.lastMouseEvent=e,l&&this.updateDragImageComp()}clearDragAndDropProperties(){this.removeDragImageComp(this.dragImageComp),this.dragImageCompPromise=null,this.dragImageParent=null,this.dragImageLastIcon=void 0,this.dragImageLastLabel=void 0,this.lastMouseEvent=null,this.lastDraggingEvent=null,this.lastDropTarget=null,this.dragItem=null,this.dragInitialSourcePointerOffsetX=0,this.dragInitialSourcePointerOffsetY=0,this.dragSource=null}getAllContainersFromDropTarget(e){const t=e.getSecondaryContainers?e.getSecondaryContainers():null,n=[[e.getContainer()]];return t?n.concat(t):n}isMouseOnDropTarget(e,t){const n=this.getAllContainersFromDropTarget(t);let r=!1;const o=(d,f)=>{for(const m of f){const{width:v,height:C,left:y,right:S,top:E,bottom:T}=m.getBoundingClientRect();if(v===0||C===0)return!1;const P=d.clientX>=y&&d.clientX<S,N=d.clientY>=E&&d.clientY<T;if(!P||!N)return!1}return!0};for(const d of n)if(o(e,d)){r=!0;break}const{eElement:a,type:l}=this.dragSource;return t.targetContainsSource&&!t.getContainer().contains(a)?!1:r&&t.isInterestedIn(l,a)}findCurrentDropTarget(e){const t=this.dropTargets.filter(a=>this.isMouseOnDropTarget(e,a)),n=t.length;if(n===0)return null;if(n===1)return t[0];const o=$l(this.beans).elementsFromPoint(e.clientX,e.clientY);for(const a of o)for(const l of t)if(this.getAllContainersFromDropTarget(l).flatMap(f=>f).indexOf(a)!==-1)return l;return null}addDropTarget(e){this.dropTargets.push(e)}removeDropTarget(e){this.dropTargets=this.dropTargets.filter(t=>t.getContainer()!==e.getContainer())}hasExternalDropZones(){return this.dropTargets.some(e=>e.external)}findExternalZone(e){return this.dropTargets.find(t=>t.external&&t.getContainer()===e)||null}dropTargetEvent(e,t,n){const{dragSource:r,dragItem:o,lastDraggingEvent:a,lastMouseEvent:l,dragInitialSourcePointerOffsetX:d,dragInitialSourcePointerOffsetY:f}=this,m=e.getContainer(),v=m.getBoundingClientRect(),{clientX:C,clientY:y}=t,S=C-(l?.clientX||0),E=y-(l?.clientY||0),T=this.createEvent({event:t,x:C-v.left,y:y-v.top,vDirection:E>0?"down":E<0?"up":null,hDirection:S<0?"left":S>0?"right":null,initialSourcePointerOffsetX:d,initialSourcePointerOffsetY:f,dragSource:r,fromNudge:n,dragItem:o,dropZoneTarget:m,dropTarget:a?.dropTarget??null,changed:!!a?.changed});return this.lastDraggingEvent=T,T}positionDragImageComp(e){const t=this.dragImageComp?.getGui();t&&ope(t,e,this.beans)}removeDragImageComp(e){this.dragImageComp===e&&(this.dragImageComp=null),e&&(e.getGui()?.remove(),this.destroyBean(e))}createAndUpdateDragImageComp(e){const t=this.createDragImageComp(e)??null;this.dragImageCompPromise=t,t?.then(n=>{if(t!==this.dragImageCompPromise||!this.lastMouseEvent||!this.isAlive()){this.destroyBean(n);return}this.dragImageCompPromise=null,this.dragImageLastIcon=void 0,this.dragImageLastLabel=void 0;const r=this.dragImageComp;r!==n&&(this.dragImageComp=n,this.removeDragImageComp(r)),n&&(this.appendDragImageComp(n),this.updateDragImageComp())})}appendDragImageComp(e){const t=e.getGui(),n=t.style;n.position="absolute",n.zIndex="9999",this.beans.dragSvc?.hasPointerCapture()&&(n.pointerEvents="none"),this.gos.setInstanceDomData(t),this.beans.environment.applyThemeClasses(t),n.top="20px",n.left="20px";const r=CN(this.beans);this.dragImageParent=r,r?r.appendChild(t):this.warnNoBody()}updateDragImageComp(){const{dragImageComp:e,dragSource:t,lastDropTarget:n,lastDraggingEvent:r,dragImageLastLabel:o}=this;if(!e)return;this.setDragImageCompIcon(n?.getIconName?.(r)??null);let a=t?.dragItemName;typeof a=="function"&&(a=a(r)),a||(a=""),o!==a&&(this.dragImageLastLabel=a,e.setLabel(a))}},bbe=class extends mbe{createEvent(e){return ht(this.gos,e)}createDragImageComp(e){const{gos:t,beans:n}=this;return zge(n.userCompFactory,ht(t,{dragSource:e}))?.newAgStackInstance()}handleEnter(e,t){e?.onGridEnter?.(t)}handleExit(e,t){e?.onGridExit?.(t)}warnNoBody(){ze(54)}isDropZoneWithinThisGrid(e){return this.beans.ctrlsSvc.getGridBodyCtrl().eGridBody.contains(e.dropZoneTarget)}registerGridDropTarget(e,t){const n={getContainer:e,isInterestedIn:r=>r===1||r===0,getIconName:()=>"notAllowed"};this.addDropTarget(n),t.addDestroyFunc(()=>this.removeDropTarget(n))}};function C$(e,t){return e+"_"+t}function Er(e){return e instanceof $y}var $y=class extends Pe{constructor(e,t,n,r){super(),this.providedColumnGroup=e,this.groupId=t,this.partId=n,this.pinned=r,this.isColumn=!1,this.displayedChildren=[],this.autoHeaderHeight=null,this.parent=null,this.colIdSanitised=yy(this.getUniqueId())}reset(){this.parent=null,this.children=null,this.displayedChildren=null}getParent(){return this.parent}getUniqueId(){return C$(this.groupId,this.partId)}isEmptyGroup(){return this.displayedChildren.length===0}isMoving(){const e=this.getProvidedColumnGroup().getLeafColumns();return!e||e.length===0?!1:e.every(t=>t.isMoving())}checkLeft(){for(const e of this.displayedChildren)Er(e)&&e.checkLeft();if(this.displayedChildren.length>0)if(this.gos.get("enableRtl")){const t=Tn(this.displayedChildren).getLeft();this.setLeft(t)}else{const e=this.displayedChildren[0].getLeft();this.setLeft(e)}else this.setLeft(null)}getLeft(){return this.left}getOldLeft(){return this.oldLeft}setLeft(e){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.dispatchLocalEvent({type:"leftChanged"}))}getPinned(){return this.pinned}getGroupId(){return this.groupId}getPartId(){return this.partId}getActualWidth(){let e=0;for(const t of this.displayedChildren??[])e+=t.getActualWidth();return e}isResizable(){if(!this.displayedChildren)return!1;let e=!1;for(const t of this.displayedChildren)t.isResizable()&&(e=!0);return e}getMinWidth(){let e=0;for(const t of this.displayedChildren)e+=t.getMinWidth();return e}addChild(e){this.children||(this.children=[]),this.children.push(e)}getDisplayedChildren(){return this.displayedChildren}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}getDisplayedLeafColumns(){const e=[];return this.addDisplayedLeafColumns(e),e}getDefinition(){return this.providedColumnGroup.getColGroupDef()}getColGroupDef(){return this.providedColumnGroup.getColGroupDef()}isPadding(){return this.providedColumnGroup.isPadding()}isExpandable(){return this.providedColumnGroup.isExpandable()}isExpanded(){return this.providedColumnGroup.isExpanded()}setExpanded(e){this.providedColumnGroup.setExpanded(e)}isAutoHeaderHeight(){return!!this.getColGroupDef()?.autoHeaderHeight}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}addDisplayedLeafColumns(e){for(const t of this.displayedChildren??[])Oh(t)?e.push(t):Er(t)&&t.addDisplayedLeafColumns(e)}addLeafColumns(e){for(const t of this.children??[])Oh(t)?e.push(t):Er(t)&&t.addLeafColumns(e)}getChildren(){return this.children}getColumnGroupShow(){return this.providedColumnGroup.getColumnGroupShow()}getProvidedColumnGroup(){return this.providedColumnGroup}getPaddingLevel(){const e=this.getParent();return!this.isPadding()||!e?.isPadding()?0:1+e.getPaddingLevel()}calculateDisplayedColumns(){this.displayedChildren=[];let e=this;for(;e?.isPadding();)e=e.getParent();if(!(e?e.getProvidedColumnGroup().isExpandable():!1)){this.displayedChildren=this.children,this.dispatchLocalEvent({type:"displayedChildrenChanged"});return}for(const n of this.children??[]){if(Er(n)&&!n.displayedChildren?.length)continue;switch(n.getColumnGroupShow()){case"open":e.getProvidedColumnGroup().isExpanded()&&this.displayedChildren.push(n);break;case"closed":e.getProvidedColumnGroup().isExpanded()||this.displayedChildren.push(n);break;default:this.displayedChildren.push(n);break}}this.dispatchLocalEvent({type:"displayedChildrenChanged"})}},FP="row-group-",GN="t-",UN="b-",vbe=0,Bd=class{constructor(e){this.master=!1,this.detail=void 0,this.rowIndex=null,this.key=null,this.sourceRowIndex=-1,this._leafs=void 0,this.childrenMapped=null,this.treeParent=null,this.treeNodeFlags=0,this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=vbe++,this.alreadyRendered=!1,this.hovered=!1,this.__selected=!1,this.beans=e}get allLeafChildren(){const e=this._leafs;return e===void 0?this.beans.groupStage?.loadLeafs?.(this)??null:e}set allLeafChildren(e){this._leafs=e}setData(e){this.setDataCommon(e,!1)}updateData(e){this.setDataCommon(e,!0)}setDataCommon(e,t){const{valueCache:n,eventSvc:r}=this.beans,o=this.data;this.data=e,n?.onDataChanged(),this.updateDataOnDetailNode(),this.resetQuickFilterAggregateText();const a=this.createDataChangedEvent(e,o,t);if(this.__localEventService?.dispatchEvent(a),this.sibling){this.sibling.data=e;const d=this.sibling.createDataChangedEvent(e,o,t);this.sibling.__localEventService?.dispatchEvent(d)}r.dispatchEvent({type:"rowNodeDataChanged",node:this});const l=this.pinnedSibling;l&&(l.data=e,l.__localEventService?.dispatchEvent(l.createDataChangedEvent(e,o,t)),r.dispatchEvent({type:"rowNodeDataChanged",node:l}))}updateDataOnDetailNode(){const e=this.detailNode;e&&(e.data=this.data)}createDataChangedEvent(e,t,n){return{type:"dataChanged",node:this,oldData:t,newData:e,update:n}}getRowIndexString(){return this.rowIndex==null?(Cn(13),null):this.rowPinned==="top"?GN+this.rowIndex:this.rowPinned==="bottom"?UN+this.rowIndex:this.rowIndex.toString()}setDataAndId(e,t){const{selectionSvc:n}=this.beans,r=n?.createDaemonNode?.(this),o=this.data;this.data=e,this.updateDataOnDetailNode(),this.setId(t),n&&(n.updateRowSelectable(this),n.syncInRowNode(this,r));const a=this.createDataChangedEvent(e,o,!1);this.__localEventService?.dispatchEvent(a)}setId(e){const t=Db(this.beans.gos);if(t)if(this.data){const n=this.parent?.getRoute()??[];this.id=t({data:this.data,parentKeys:n.length>0?n:void 0,level:this.level,rowPinned:this.rowPinned}),this.id.startsWith(FP)&&Cn(14,{groupPrefix:FP})}else this.id=void 0;else this.id=e}setRowTop(e){if(this.oldRowTop=this.rowTop,this.rowTop===e)return;this.rowTop=e,this.dispatchRowEvent("topChanged");const t=e!==null;this.displayed!==t&&(this.displayed=t,this.dispatchRowEvent("displayedChanged"))}clearRowTopAndRowIndex(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)}setHovered(e){this.hovered=e}isHovered(){return this.hovered}setRowHeight(e,t=!1){this.rowHeight=e,this.rowHeightEstimated=t,this.dispatchRowEvent("heightChanged")}setExpanded(e,t,n){this.beans.expansionSvc?.setExpanded(this,e,t,n)}setDataValue(e,t,n){const{colModel:r,valueSvc:o,gos:a,editSvc:l}=this.beans,d=typeof e!="string"?e:r.getCol(e)??r.getColDefCol(e);if(!d)return!1;const f=o.getValueForDisplay(d,this,void 0,void 0,"api").value;if(a.get("readOnlyEdit")){const{beans:{eventSvc:v},data:C,rowIndex:y,rowPinned:S}=this;return v.dispatchEvent({type:"cellEditRequest",event:null,rowIndex:y,rowPinned:S,column:d,colDef:d.colDef,data:C,node:this,oldValue:f,newValue:t,value:t,source:n}),!1}if(l&&!l.committing){const v=l.setDataValue({rowNode:this,column:d},t,n);if(v!=null)return v}const m=o.setValue(this,d,t,n);return this.dispatchCellChangedEvent(d,t,f),m&&this.pinnedSibling?.dispatchCellChangedEvent(d,t,f),m}updateHasChildren(){let e=this.group&&!this.footer||!!this.childrenAfterGroup?.length;const{rowChildrenSvc:t}=this.beans;t&&(e=t.getHasChildrenValue(this)),e!==this.__hasChildren&&(this.__hasChildren=!!e,this.dispatchRowEvent("hasChildrenChanged"))}hasChildren(){return this.__hasChildren==null&&this.updateHasChildren(),this.__hasChildren}dispatchCellChangedEvent(e,t,n){const r={type:"cellChanged",node:this,column:e,newValue:t,oldValue:n};this.__localEventService?.dispatchEvent(r)}resetQuickFilterAggregateText(){this.quickFilterAggregateText=null}isExpandable(){return this.beans.expansionSvc?.isExpandable(this)??!1}isSelected(){if(this.footer)return this.sibling.isSelected();const e=this.rowPinned&&this.pinnedSibling;return e?e.isSelected():this.__selected}depthFirstSearch(e){const t=this.childrenAfterGroup;if(t)for(let n=0,r=t.length;n<r;++n)t[n].depthFirstSearch(e);e(this)}dispatchRowEvent(e){this.__localEventService?.dispatchEvent({type:e,node:this})}setSelected(e,t=!1,n="api"){this.beans.selectionSvc?.setNodesSelected({nodes:[this],newValue:e,clearSelection:t,source:n})}isRowPinned(){return!!this.rowPinned}__addEventListener(e,t){(this.__localEventService??(this.__localEventService=new Up)).addEventListener(e,t)}__removeEventListener(e,t){this.removeLocalListener(e,t)}addEventListener(e,t){this.beans.validation?.checkRowEvents(e);const n=this.__localEventService??(this.__localEventService=new Up);this.frameworkEventListenerService=this.beans.frameworkOverrides.createLocalEventListenerWrapper?.(this.frameworkEventListenerService,n);const r=this.frameworkEventListenerService?.wrap(e,t)??t;n.addEventListener(e,r)}removeEventListener(e,t){const n=this.frameworkEventListenerService?.unwrap(e,t)??t;this.removeLocalListener(e,n)}removeLocalListener(e,t){const n=this.__localEventService;n&&(n.removeEventListener(e,t),n.noRegisteredListenersExist()&&(this.__localEventService=null))}isFullWidthCell(){if(ze(61),this.detail)return!0;const e=this.beans.gos.getCallback("isFullWidthRow");return e?e({rowNode:this}):!1}getRoute(){if(this.level===-1)return[];if(this.key==null)return;const e=[];let t=this;for(;t?.key!=null;)e.push(t.key),t=t.parent;return e.reverse()}setRowIndex(e){this.rowIndex!==e&&(this.rowIndex=e,this.dispatchRowEvent("rowIndexChanged"))}setAllChildrenCount(e){this.allChildrenCount!==e&&(this.allChildrenCount=e,this.dispatchRowEvent("allChildrenCountChanged"))}setUiLevel(e){this.uiLevel!==e&&(this.uiLevel=e,this.dispatchRowEvent("uiLevelChanged"))}getFirstChild(){const e=this.childStore;return e?e.getFirstNode():this.childrenAfterSort?.[0]??null}};function y$(e,t,n){return ht(t,{type:n,node:e,data:e.data,rowIndex:e.rowIndex,rowPinned:e.rowPinned})}var wbe=new Set(["__autoHeights","__checkAutoHeightsDebounced","__localEventService","__objectId","_leafs","childStore","oldRowTop","sticky","treeNodeFlags","treeParent"]),k$=(e,t)=>{const n=new Bd(t);for(const r of Object.keys(e))wbe.has(r)||(n[r]=e[r]);return n.oldRowTop=null,n},x$=e=>{for(;e?.length;){const t=e[0];if(t.data)return t;e=t.childrenAfterGroup}},A$={agSetColumnFilter:"agSetColumnFilterHandler",agMultiColumnFilter:"agMultiColumnFilterHandler",agGroupColumnFilter:"agGroupColumnFilterHandler",agNumberColumnFilter:"agNumberColumnFilterHandler",agDateColumnFilter:"agDateColumnFilterHandler",agTextColumnFilter:"agTextColumnFilterHandler"},Cbe=new Set(Object.values(A$));function vh(e,t){const n=e.filterUi;if(!n)return null;if(n.created)return n.promise;if(t)return null;const r=n.create(n.refreshed),o=n;return o.created=!0,o.promise=r,r}function ybe(e,t,n,r,o,a,l){return t.refresh?.({...n,model:r,source:a,additionalEventAttributes:l}),e().then(d=>{if(d){const{filter:f,filterParams:m}=d;S$(f,m,r,o,a,l)}})}function S$(e,t,n,r,o,a){e?.refresh?.({...t,model:n,state:r,source:o,additionalEventAttributes:a})}function _$(e,t,n){const r=e();r?.created&&r.promise.then(o=>{const a=t();S$(o,r.filterParams,a,n()??{model:a},"ui")})}function wz(e,t,n,r,o,a,l){let d,f=!1,m;switch(e){case"apply":{const v=r();m=v?.model??null,l&&(m=l(m)),d={state:v?.state,model:m},f=!0;break}case"clear":{d={model:null};break}case"reset":{d={model:null},f=!0,m=null;break}case"cancel":{d={model:n()};break}}o(d),f?a(m):_$(t,n,r)}function ri(e,t){return e[t]??null}function Dr(e){return A0(e)}function kbe(e){return{tag:"div",cls:e}}var xbe=class extends nn{constructor(e){const{className:t="ag-filter-apply-panel"}=e??{};super(kbe(t)),this.listeners=[],this.validationMessage=null,this.className=t}updateButtons(e,t){const n=this.buttons;if(this.buttons=e,n===e)return;const r=this.getGui();ki(r);let o;this.destroyListeners();const a=document.createDocumentFragment(),l=this.className,d=({type:m,label:v})=>{const C=N=>{this.dispatchLocalEvent({type:m,event:N})};["apply","clear","reset","cancel"].includes(m)||ze(75);const y=m==="apply",E=Dr({tag:"button",attrs:{type:y&&t?"submit":"button"},ref:`${m}FilterButton`,cls:`ag-button ag-standard-button ${l}-button${y?" "+l+"-apply-button":""}`,children:v});this.activateTabIndex([E]),y&&(o=E);const T=N=>{N.key===xe.ENTER&&(N.preventDefault(),C(N))},P=this.listeners;E.addEventListener("click",C),P.push(()=>E.removeEventListener("click",C)),E.addEventListener("keydown",T),P.push(()=>E.removeEventListener("keydown",T)),a.append(E)};for(const m of e)d(m);this.eApply=o;const f=this.validationTooltipFeature;o&&!f?this.validationTooltipFeature=this.createOptionalManagedBean(this.beans.registry.createDynamicBean("tooltipFeature",!1,{getGui:()=>this.eApply,getLocation:()=>"advancedFilter",getTooltipShowDelayOverride:()=>1e3})):!o&&f&&(this.validationTooltipFeature=this.destroyBean(f)),r.append(a)}getApplyButton(){return this.eApply}updateValidity(e,t=null){const n=this.eApply;n&&(By(n,e===!1),this.validationMessage=t??null,this.validationTooltipFeature?.setTooltipAndRefresh(this.validationMessage))}destroyListeners(){for(const e of this.listeners)e();this.listeners=[]}destroy(){this.destroyListeners(),super.destroy()}},Abe={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose one",equals:"Equals",notEqual:"Does not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"Between",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equal to",greaterThanOrEqual:"Greater than or equal to",contains:"Contains",notContains:"Does not contain",startsWith:"Begins with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",before:"Before",after:"After",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd",filterSummaryInactive:"is (All)",filterSummaryContains:"contains",filterSummaryNotContains:"does not contain",filterSummaryTextEquals:"equals",filterSummaryTextNotEqual:"does not equal",filterSummaryStartsWith:"begins with",filterSummaryEndsWith:"ends with",filterSummaryBlank:"is blank",filterSummaryNotBlank:"is not blank",filterSummaryEquals:"=",filterSummaryNotEqual:"!=",filterSummaryGreaterThan:">",filterSummaryGreaterThanOrEqual:">=",filterSummaryLessThan:"<",filterSummaryLessThanOrEqual:"<=",filterSummaryInRange:"between",filterSummaryInRangeValues:e=>`(${e[0]}, ${e[1]})`,filterSummaryTextQuote:e=>`"${e[0]}"`};function Eh(e,t,n){return ape(e,Abe,t,n)}function WN(e,t){const{debounceMs:n}=e;return gE(e)?(n!=null&&ze(71),0):n??t}function gE(e){return(e.buttons?.indexOf("apply")??-1)>=0}var Sbe=class extends nn{constructor(e,t,n,r,o,a){super(),this.column=e,this.wrapper=t,this.eventParent=n,this.updateModel=r,this.isGlobalButtons=o,this.enableGlobalButtonCheck=a,this.hidePopup=null,this.applyActive=!1}postConstruct(){const{comp:e,params:t}=this.wrapper,n=t,r=n.useForm,o=r?"form":"div";this.setTemplate({tag:o,cls:"ag-filter-wrapper"}),r&&this.addManagedElementListeners(this.getGui(),{submit:a=>{a?.preventDefault()},keydown:this.handleKeyDown.bind(this)}),this.appendChild(e.getGui()),this.params=n,this.resetButtonsPanel(n),this.addManagedListeners(this.eventParent,{filterParamsChanged:({column:a,params:l})=>{a===this.column&&this.resetButtonsPanel(l,this.params)},filterStateChanged:({column:a,state:l})=>{a===this.column&&this.eButtons?.updateValidity(l.valid!==!1)},filterAction:({column:a,action:l,event:d})=>{a===this.column&&this.afterAction(l,d)},...this.enableGlobalButtonCheck?{filterGlobalButtons:({isGlobal:a})=>{if(a!==this.isGlobalButtons){this.isGlobalButtons=a;const l=this.params;this.resetButtonsPanel(l,l,!0)}}}:void 0})}afterGuiAttached(e){e&&(this.hidePopup=e.hidePopup)}resetButtonsPanel(e,t,n){const{buttons:r,readOnly:o}=t??{},{buttons:a,readOnly:l,useForm:d}=e;if(!n&&o===l&&Oy(r,a))return;const f=a&&a.length>0&&!e.readOnly&&!this.isGlobalButtons;let m=this.eButtons;if(f){const v=a.map(C=>{const y=`${C}Filter`;return{type:C,label:Eh(this,y)}});if(this.applyActive=gE(this.params),!m){m=this.createBean(new xbe),this.appendChild(m.getGui());const C=this.column,y=S=>({event:E})=>{this.updateModel(C,S,{fromButtons:!0}),this.afterAction(S,E)};m?.addManagedListeners(m,{apply:y("apply"),clear:y("clear"),reset:y("reset"),cancel:y("cancel")}),this.eButtons=m}m.updateButtons(v,d)}else this.applyActive=!1,m&&(oa(m.getGui()),this.eButtons=this.destroyBean(m))}close(e){const t=this.hidePopup;if(!t)return;const n=e,r=n?.key;let o;(r===xe.ENTER||r===xe.SPACE)&&(o={keyboardEvent:n}),t(o),this.hidePopup=null}afterAction(e,t){const{params:n,applyActive:r}=this,o=n?.closeOnApply;switch(e){case"apply":{t?.preventDefault(),o&&r&&this.close(t);break}case"reset":{o&&r&&this.close();break}case"cancel":{o&&this.close(t);break}}}handleKeyDown(e){!e.defaultPrevented&&e.key===xe.ENTER&&this.applyActive&&(this.updateModel(this.column,"apply",{fromButtons:!0}),this.afterAction("apply",e))}destroy(){this.hidePopup=null,this.eButtons=this.destroyBean(this.eButtons)}},_be={tag:"div",cls:"ag-filter"},Ebe=class extends nn{constructor(e,t,n){super(_be),this.column=e,this.source=t,this.enableGlobalButtonCheck=n,this.wrapper=null}postConstruct(){this.beans.colFilter?.activeFilterComps.add(this),this.createFilter(!0),this.addManagedEventListeners({filterDestroyed:this.onFilterDestroyed.bind(this)})}hasFilter(){return this.wrapper!=null}getFilter(){return this.wrapper?.then(e=>e.comp)??null}afterInit(){return this.wrapper?.then(()=>{})??Jt.resolve()}afterGuiAttached(e){this.afterGuiAttachedParams=e,this.wrapper?.then(t=>{this.comp?.afterGuiAttached(e),t?.comp?.afterGuiAttached?.(e)})}afterGuiDetached(){this.wrapper?.then(e=>{e?.comp?.afterGuiDetached?.()})}createFilter(e){const{column:t,source:n,beans:{colFilter:r}}=this,o=r.getFilterUiForDisplay(t)??null;this.wrapper=o,o?.then(a=>{if(!a)return;const{isHandler:l,comp:d}=a;let f;if(l){const m=!!this.enableGlobalButtonCheck,v=this.createBean(new Sbe(t,a,r,r.updateModel.bind(r),m&&r.isGlobalButtons,m));this.comp=v,f=v.getGui()}else f=d.getGui(),Ye(f)||ze(69,{guiFromFilter:f});this.appendChild(f),e?this.eventSvc.dispatchEvent({type:"filterOpened",column:t,source:n,eGui:this.getGui()}):d.afterGuiAttached?.(this.afterGuiAttachedParams)})}onFilterDestroyed(e){const{source:t,column:n}=e;(t==="api"||t==="paramsUpdated")&&n.getId()===this.column.getId()&&this.beans.colModel.getColDefCol(this.column)&&(ki(this.getGui()),this.comp=this.destroyBean(this.comp),this.createFilter())}destroy(){this.beans.colFilter?.activeFilterComps.delete(this),this.eventSvc.dispatchEvent({type:"filterClosed",column:this.column}),this.wrapper=null,this.comp=this.destroyBean(this.comp),this.afterGuiAttachedParams=void 0,super.destroy()}},Cz={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},yz=["january","february","march","april","may","june","july","august","september","october","november","december"];function Dbe(e,t){return e==null?-1:t==null?1:Number.parseFloat(e)-Number.parseFloat(t)}function kz(e){return e instanceof Date&&!isNaN(e.getTime())}var LP={number:()=>{},boolean:()=>({maxNumConditions:1,debounceMs:0,filterOptions:["empty",{displayKey:"true",displayName:"True",predicate:(e,t)=>t,numberOfInputs:0},{displayKey:"false",displayName:"False",predicate:(e,t)=>t===!1,numberOfInputs:0}]}),date:()=>({isValidDate:kz}),dateString:({dataTypeDefinition:e})=>({comparator:(t,n)=>{const r=e.dateParser(n);return n==null||r<t?-1:r>t?1:0},isValidDate:t=>typeof t=="string"&&kz(e.dateParser(t))}),dateTime:e=>LP.date(e),dateTimeString:e=>LP.dateString(e),object:()=>{},text:()=>{}},BP={number:()=>({comparator:Dbe}),boolean:({t:e})=>({valueFormatter:t=>Ye(t.value)?e(String(t.value),t.value?"True":"False"):e("blanks","(Blanks)")}),date:({formatValue:e,t})=>({valueFormatter:n=>{const r=e(n);return Ye(r)?r:t("blanks","(Blanks)")},treeList:!0,treeListFormatter:(n,r)=>{if(n==="NaN")return t("invalidDate","Invalid Date");if(r===1&&n!=null){const o=yz[Number(n)-1];return t(o,Cz[o])}return n??t("blanks","(Blanks)")},treeListPathGetter:n=>XA(n,!1)}),dateString:({formatValue:e,dataTypeDefinition:t,t:n})=>({valueFormatter:r=>{const o=e(r);return Ye(o)?o:n("blanks","(Blanks)")},treeList:!0,treeListPathGetter:r=>XA(t.dateParser(r??void 0),!1),treeListFormatter:(r,o)=>{if(o===1&&r!=null){const a=yz[Number(r)-1];return n(a,Cz[a])}return r??n("blanks","(Blanks)")}}),dateTime:e=>{const t=BP.date(e);return t.treeListPathGetter=XA,t},dateTimeString(e){const t=e.dataTypeDefinition.dateParser,n=BP.dateString(e);return n.treeListPathGetter=r=>XA(t(r??void 0)),n},object:({formatValue:e,t})=>({valueFormatter:n=>{const r=e(n);return Ye(r)?r:t("blanks","(Blanks)")}}),text:()=>{}};function Mbe(e,t,n,r,o,a,l){let d=t,f=n;const m=e==="agSetColumnFilter";!f&&r.baseDataType==="object"&&!m&&(f=({column:S,node:E})=>o({column:S,node:E,value:a.valueSvc.getValue(S,E)}));const C=(m?BP:LP)[r.baseDataType],y=C({dataTypeDefinition:r,formatValue:o,t:l});return d=typeof t=="object"?{...y,...t}:y,{filterParams:d,filterValueGetter:f}}var Tbe={boolean:"agTextColumnFilter",date:"agDateColumnFilter",dateString:"agDateColumnFilter",dateTime:"agDateColumnFilter",dateTimeString:"agDateColumnFilter",number:"agNumberColumnFilter",object:"agTextColumnFilter",text:"agTextColumnFilter"},Rbe={boolean:"agTextColumnFloatingFilter",date:"agDateColumnFloatingFilter",dateString:"agDateColumnFloatingFilter",dateTime:"agDateColumnFloatingFilter",dateTimeString:"agDateColumnFloatingFilter",number:"agNumberColumnFloatingFilter",object:"agTextColumnFloatingFilter",text:"agTextColumnFloatingFilter"};function Pbe(e,t=!1){return(t?Rbe:Tbe)[e??"text"]}var E$="ag-resizer-wrapper",wh=(e,t)=>({tag:"div",ref:`${e}Resizer`,cls:`ag-resizer ag-resizer-${t}`}),Ibe={tag:"div",cls:E$,children:[wh("eTopLeft","topLeft"),wh("eTop","top"),wh("eTopRight","topRight"),wh("eRight","right"),wh("eBottomRight","bottomRight"),wh("eBottom","bottom"),wh("eBottomLeft","bottomLeft"),wh("eLeft","left")]},Nbe=class extends Pe{constructor(e,t){super(),this.element=e,this.dragStartPosition={x:0,y:0},this.position={x:0,y:0},this.lastSize={width:-1,height:-1},this.positioned=!1,this.resizersAdded=!1,this.resizeListeners=[],this.boundaryEl=null,this.isResizing=!1,this.isMoving=!1,this.resizable={},this.movable=!1,this.currentResizer=null,this.config=Object.assign({},{popup:!1},t)}wireBeans(e){this.popupSvc=e.popupSvc,this.dragSvc=e.dragSvc}center(e){const{clientHeight:t,clientWidth:n}=this.offsetParent,r=n/2-this.getWidth()/2,o=t/2-this.getHeight()/2;this.offsetElement(r,o,e)}initialisePosition(e){if(this.positioned)return;const{centered:t,forcePopupParentAsOffsetParent:n,minWidth:r,width:o,minHeight:a,height:l,x:d,y:f}=this.config;this.offsetParent||this.setOffsetParent();let m=0,v=0;const C=vc(this.element);if(C){const y=this.findBoundaryElement(),S=window.getComputedStyle(y);if(S.minWidth!=null){const E=y.offsetWidth-this.element.offsetWidth;v=Number.parseInt(S.minWidth,10)-E}if(S.minHeight!=null){const E=y.offsetHeight-this.element.offsetHeight;m=Number.parseInt(S.minHeight,10)-E}}if(this.minHeight=a||m,this.minWidth=r||v,o&&this.setWidth(o),l&&this.setHeight(l),(!o||!l)&&this.refreshSize(),t)this.center(e);else if(d||f)this.offsetElement(d,f,e);else if(C&&n){let y=this.boundaryEl,S=!0;if(y||(y=this.findBoundaryElement(),S=!1),y){const E=Number.parseFloat(y.style.top),T=Number.parseFloat(y.style.left);S?this.offsetElement(isNaN(T)?0:T,isNaN(E)?0:E,e):this.setPosition(T,E)}}this.positioned=!!this.offsetParent}isPositioned(){return this.positioned}getPosition(){return this.position}setMovable(e,t){if(!this.config.popup||e===this.movable)return;this.movable=e;const n=this.moveElementDragListener||{eElement:t,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};e?(this.dragSvc?.addDragSource(n),this.moveElementDragListener=n):(this.dragSvc?.removeDragSource(n),this.moveElementDragListener=void 0)}setResizable(e){if(this.clearResizeListeners(),e?this.addResizers():this.removeResizers(),typeof e=="boolean"){if(e===!1)return;e={topLeft:e,top:e,topRight:e,right:e,bottomRight:e,bottom:e,bottomLeft:e,left:e}}Object.keys(e).forEach(t=>{const r=!!e[t],o=this.getResizerElement(t),a={dragStartPixels:0,eElement:o,onDragStart:l=>this.onResizeStart(l,t),onDragging:this.onResize.bind(this),onDragStop:l=>this.onResizeEnd(l,t)};(r||!this.isAlive()&&!r)&&(r?(this.dragSvc?.addDragSource(a),this.resizeListeners.push(a),o.style.pointerEvents="all"):o.style.pointerEvents="none",this.resizable[t]=r)})}removeSizeFromEl(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")}restoreLastSize(){this.element.style.flex="0 0 auto";const{height:e,width:t}=this.lastSize;t!==-1&&(this.element.style.width=`${t}px`),e!==-1&&(this.element.style.height=`${e}px`)}getHeight(){return this.element.offsetHeight}setHeight(e){const{popup:t}=this.config,n=this.element;let r=!1;if(typeof e=="string"&&e.includes("%"))xy(n,e),e=cW(n),r=!0;else if(e=Math.max(this.minHeight,e),this.positioned){const o=this.getAvailableHeight();o&&e>o&&(e=o)}this.getHeight()!==e&&(r?(n.style.maxHeight="unset",n.style.minHeight="unset"):t?xy(n,e):(n.style.height=`${e}px`,n.style.flex="0 0 auto",this.lastSize.height=typeof e=="number"?e:Number.parseFloat(e)))}getAvailableHeight(){const{popup:e,forcePopupParentAsOffsetParent:t}=this.config;this.positioned||this.initialisePosition();const{clientHeight:n}=this.offsetParent;if(!n)return null;const r=this.element.getBoundingClientRect(),o=this.offsetParent.getBoundingClientRect(),a=e?this.position.y:r.top,l=e?0:o.top;let d=0;if(t){const m=this.element.parentElement;if(m){const{bottom:v}=m.getBoundingClientRect();d=v-r.bottom}}return n+l-a-d}getWidth(){return this.element.offsetWidth}setWidth(e){const t=this.element,{popup:n}=this.config;let r=!1;if(typeof e=="string"&&e.includes("%"))oc(t,e),e=yS(t),r=!0;else if(this.positioned){e=Math.max(this.minWidth,e);const{clientWidth:o}=this.offsetParent,a=n?this.position.x:this.element.getBoundingClientRect().left;o&&e+a>o&&(e=o-a)}this.getWidth()!==e&&(r?(t.style.maxWidth="unset",t.style.minWidth="unset"):this.config.popup?oc(t,e):(t.style.width=`${e}px`,t.style.flex=" unset",this.lastSize.width=typeof e=="number"?e:Number.parseFloat(e)))}offsetElement(e=0,t=0,n){const{forcePopupParentAsOffsetParent:r}=this.config,o=r?this.boundaryEl:this.element;o&&(this.popupSvc?.positionPopup({ePopup:o,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:()=>({x:e,y:t}),postProcessCallback:n}),this.setPosition(Number.parseFloat(o.style.left),Number.parseFloat(o.style.top)))}constrainSizeToAvailableHeight(e){if(!this.config.forcePopupParentAsOffsetParent)return;const t=()=>{const n=this.getAvailableHeight();this.element.style.setProperty("max-height",`${n}px`)};e&&this.popupSvc?(this.resizeObserverSubscriber?.(),this.resizeObserverSubscriber=al(this.beans,this.popupSvc?.getPopupParent(),t)):(this.element.style.removeProperty("max-height"),this.resizeObserverSubscriber&&(this.resizeObserverSubscriber(),this.resizeObserverSubscriber=void 0))}setPosition(e,t){this.position.x=e,this.position.y=t}updateDragStartPosition(e,t){this.dragStartPosition={x:e,y:t}}calculateMouseMovement(e){const{e:t,isLeft:n,isTop:r,anywhereWithin:o,topBuffer:a}=e,l=t.clientX-this.dragStartPosition.x,d=t.clientY-this.dragStartPosition.y,f=this.shouldSkipX(t,!!n,!!o,l)?0:l,m=this.shouldSkipY(t,!!r,a,d)?0:d;return{movementX:f,movementY:m}}shouldSkipX(e,t,n,r){const o=this.element.getBoundingClientRect(),a=this.offsetParent.getBoundingClientRect(),l=this.boundaryEl.getBoundingClientRect(),d=this.config.popup?this.position.x:o.left;let f=d<=0&&a.left>=e.clientX||a.right<=e.clientX&&a.right<=l.right;return f?!0:(t?f=r<0&&e.clientX>d+a.left||r>0&&e.clientX<d+a.left:n?f=r<0&&e.clientX>l.right||r>0&&e.clientX<d+a.left:f=r<0&&e.clientX>l.right||r>0&&e.clientX<l.right,f)}shouldSkipY(e,t,n=0,r){const o=this.element.getBoundingClientRect(),a=this.offsetParent.getBoundingClientRect(),l=this.boundaryEl.getBoundingClientRect(),d=this.config.popup?this.position.y:o.top;let f=d<=0&&a.top>=e.clientY||a.bottom<=e.clientY&&a.bottom<=l.bottom;return f?!0:(t?f=r<0&&e.clientY>d+a.top+n||r>0&&e.clientY<d+a.top:f=r<0&&e.clientY>l.bottom||r>0&&e.clientY<l.bottom,f)}createResizeMap(){const e=t=>({element:this.element.querySelector(`[data-ref=${t}Resizer]`)});this.resizerMap={topLeft:e("eTopLeft"),top:e("eTop"),topRight:e("eTopRight"),right:e("eRight"),bottomRight:e("eBottomRight"),bottom:e("eBottom"),bottomLeft:e("eBottomLeft"),left:e("eLeft")}}addResizers(){if(this.resizersAdded)return;const e=this.element;e&&(e.appendChild(Dr(Ibe)),this.createResizeMap(),this.resizersAdded=!0)}removeResizers(){this.resizerMap=void 0,this.element.querySelector(`.${E$}`)?.remove(),this.resizersAdded=!1}getResizerElement(e){return this.resizerMap[e].element}onResizeStart(e,t){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!t.match(/top/i),isRight:!!t.match(/right/i),isBottom:!!t.match(/bottom/i),isLeft:!!t.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[t].element.classList.add("ag-active");const{popup:n,forcePopupParentAsOffsetParent:r}=this.config;!n&&!r&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(e.clientX,e.clientY)}getSiblings(){const t=this.element.parentElement;return t?Array.prototype.slice.call(t.children).filter(n=>!n.classList.contains("ag-hidden")):null}getMinSizeOfSiblings(){const e=this.getSiblings()||[];let t=0,n=0;for(let r=0;r<e.length;r++){const o=e[r],a=!!o.style.flex&&o.style.flex!=="0 0 auto";if(o===this.element)continue;let l=this.minHeight||0,d=this.minWidth||0;if(a){const f=window.getComputedStyle(o);f.minHeight&&(l=Number.parseInt(f.minHeight,10)),f.minWidth&&(d=Number.parseInt(f.minWidth,10))}else l=o.offsetHeight,d=o.offsetWidth;t+=l,n+=d}return{height:t,width:n}}applySizeToSiblings(e){let t=null;const n=this.getSiblings();if(n){for(let r=0;r<n.length;r++){const o=n[r];o!==t&&(e?o.style.height=`${o.offsetHeight}px`:o.style.width=`${o.offsetWidth}px`,o.style.flex="0 0 auto",o===this.element&&(t=n[r+1]))}t&&(t.style.removeProperty("height"),t.style.removeProperty("min-height"),t.style.removeProperty("max-height"),t.style.flex="1 1 auto")}}isResizable(){return Object.values(this.resizable).some(e=>e)}onResize(e){if(!this.isResizing||!this.currentResizer)return;const{popup:t,forcePopupParentAsOffsetParent:n}=this.config,{isTop:r,isRight:o,isBottom:a,isLeft:l}=this.currentResizer,d=o||l,f=a||r,{movementX:m,movementY:v}=this.calculateMouseMovement({e,isLeft:l,isTop:r}),C=this.position.x,y=this.position.y;let S=0,E=0;if(d&&m){const T=l?-1:1,P=this.getWidth(),N=P+m*T;let j=!1;l&&(S=P-N,(C+S<=0||N<=this.minWidth)&&(j=!0,S=0)),j||this.setWidth(N)}if(f&&v){const T=r?-1:1,P=this.getHeight(),N=P+v*T;let j=!1;r?(E=P-N,(y+E<=0||N<=this.minHeight)&&(j=!0,E=0)):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&P<N&&this.getMinSizeOfSiblings().height+N>this.element.parentElement.offsetHeight&&(j=!0),j||this.setHeight(N)}this.updateDragStartPosition(e.clientX,e.clientY),((t||n)&&S||E)&&this.offsetElement(C+S,y+E)}onResizeEnd(e,t){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null,this.element.classList.remove("ag-resizing"),this.resizerMap[t].element.classList.remove("ag-active"),this.dispatchLocalEvent({type:"resize"})}refreshSize(){const e=this.element;this.config.popup&&(this.config.width||this.setWidth(e.offsetWidth),this.config.height||this.setHeight(e.offsetHeight))}onMoveStart(e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(e.clientX,e.clientY)}onMove(e){if(!this.isMoving)return;const{x:t,y:n}=this.position;let r;this.config.calculateTopBuffer&&(r=this.config.calculateTopBuffer());const{movementX:o,movementY:a}=this.calculateMouseMovement({e,isTop:!0,anywhereWithin:!0,topBuffer:r});this.offsetElement(t+o,n+a),this.updateDragStartPosition(e.clientX,e.clientY)}onMoveEnd(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")}setOffsetParent(){this.config.forcePopupParentAsOffsetParent&&this.popupSvc?this.offsetParent=this.popupSvc.getPopupParent():this.offsetParent=this.element.offsetParent}findBoundaryElement(){let e=this.element;for(;e;){if(window.getComputedStyle(e).position!=="static")return e;e=e.parentElement}return this.element}clearResizeListeners(){for(;this.resizeListeners.length;){const e=this.resizeListeners.pop();this.dragSvc?.removeDragSource(e)}}destroy(){super.destroy(),this.moveElementDragListener&&this.dragSvc?.removeDragSource(this.moveElementDragListener),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()}},D$="__ag_Grid_Stop_Propagation";function Lh(e){e[D$]=!0}function Qa(e){return e[D$]===!0}var Obe="ag-focus-managed",iv=class extends Pe{constructor(e,t={}){super(),this.eFocusable=e,this.callbacks=t,this.callbacks={shouldStopEventPropagation:()=>!1,onTabKeyDown:n=>{if(n.defaultPrevented)return;const r=og(this.beans,this.eFocusable,!1,n.shiftKey);r&&(r.focus(),n.preventDefault())},...t}}postConstruct(){const{eFocusable:e,callbacks:{onFocusIn:t,onFocusOut:n}}=this;e.classList.add(Obe),this.addKeyDownListeners(e),t&&this.addManagedElementListeners(e,{focusin:t}),n&&this.addManagedElementListeners(e,{focusout:n})}addKeyDownListeners(e){this.addManagedElementListeners(e,{keydown:t=>{if(t.defaultPrevented||Qa(t))return;const{callbacks:n}=this;if(n.shouldStopEventPropagation(t)){Lh(t);return}t.key===xe.TAB?n.onTabKeyDown(t):n.handleKeyDown&&n.handleKeyDown(t)}})}},Fbe=class extends nn{constructor(e,t){super(),this.filterNameKey=e,this.cssIdentifier=t,this.applyActive=!1,this.debouncePending=!1,this.defaultDebounceMs=0}postConstruct(){const e={tag:"div",cls:`ag-filter-body-wrapper ag-${this.cssIdentifier}-body-wrapper`,children:[this.createBodyTemplate()]};this.setTemplate(e,this.getAgComponents()),this.createManagedBean(new iv(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=this.createBean(new Nbe(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}))}handleKeyDown(e){}init(e){const t=e;this.setParams(t),this.setModelIntoUi(t.state.model,!0).then(()=>this.updateUiVisibility())}refresh(e){const t=e,n=this.params;this.params=t,t.source==="colDef"&&this.updateParams(t,n);const o=t.state,a=this.state;return this.state=o,(o.model!==a.model||o.state!==a.state)&&this.setModelIntoUi(o.model),!0}setParams(e){this.params=e,this.state=e.state,this.commonUpdateParams(e)}updateParams(e,t){this.commonUpdateParams(e,t)}commonUpdateParams(e,t){this.applyActive=gE(e),this.setupApplyDebounced()}doesFilterPass(e){ze(283);const{getHandler:t,model:n,column:r}=this.params;return t().doesFilterPass({...e,model:n,handlerParams:this.beans.colFilter.getHandlerParams(r)})}getFilterTitle(){return this.translate(this.filterNameKey)}isFilterActive(){return ze(284),this.params.model!=null}setupApplyDebounced(){const e=WN(this.params,this.defaultDebounceMs),t=Ci(this,this.checkApplyDebounce.bind(this),e);this.applyDebounced=()=>{this.debouncePending=!0,t()}}checkApplyDebounce(){this.debouncePending&&(this.debouncePending=!1,this.doApplyModel())}getModel(){return ze(285),this.params.model}setModel(e){ze(286);const{beans:t,params:n}=this;return t.colFilter.setModelForColumnLegacy(n.column,e)}applyModel(e="api"){return this.doApplyModel()}canApply(e){return!0}doApplyModel(e){const{params:t,state:n}=this,r=!this.areModelsEqual(t.model,n.model);return r&&t.onAction("apply",e),r}onNewRowsLoaded(){}onUiChanged(e,t=!1){this.updateUiVisibility();const n=this.getModelFromUi(),r={model:n,state:this.getState(),valid:this.canApply(n)};this.state=r;const o=this.params;o.onStateChange(r),o.onUiChange(this.getUiChangeEventParams()),this.gos.get("enableFilterHandlers")||this.eventSvc.dispatchEvent({type:"filterModified",column:o.column,filterInstance:this}),e??(e=this.applyActive?void 0:"debounce"),e==="immediately"?this.doApplyModel({afterFloatingFilter:t,afterDataChange:!1}):e==="debounce"&&this.applyDebounced()}getState(){}getUiChangeEventParams(){}afterGuiAttached(e){this.lastContainerType=e?.container,this.refreshFilterResizer(e?.container)}refreshFilterResizer(e){const{positionableFeature:t,gos:n}=this;if(!t)return;const r=e==="floatingFilter"||e==="columnFilter";r?(t.restoreLastSize(),t.setResizable(n.get("enableRtl")?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(t.removeSizeFromEl(),t.setResizable(!1)),t.constrainSizeToAvailableHeight(r)}afterGuiDetached(){this.checkApplyDebounce(),this.positionableFeature?.constrainSizeToAvailableHeight(!1)}destroy(){this.positionableFeature=this.destroyBean(this.positionableFeature),super.destroy()}translate(e){return Eh(this,e)}getPositionableElement(){return this.getGui()}areModelsEqual(e,t){return e===t||e==null&&t==null?!0:e==null||t==null?!1:this.areNonNullModelsEqual(e,t)}};function M$(e){return!!e.operator}function Lbe(e,t,n){if(t==null)return null;let r=null;const{compName:o,jsComp:a,fwComp:l}=e$(e,t);return o?r={agSetColumnFilter:"agSetColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"}[o]:a==null&&l==null&&t.filter===!0&&(r=n()),r}var Wa={AUTO_HEIGHT:"ag-layout-auto-height",NORMAL:"ag-layout-normal",PRINT:"ag-layout-print"},$N=class extends Pe{constructor(e){super(),this.view=e}postConstruct(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()}updateLayoutClasses(){const e=this.gos.get("domLayout"),t={autoHeight:e==="autoHeight",normal:e==="normal",print:e==="print"},n=t.autoHeight?Wa.AUTO_HEIGHT:t.print?Wa.PRINT:Wa.NORMAL;this.view.updateLayoutClasses(n,t)}},Ch="Viewport",xz="fakeVScrollComp",WM=["fakeHScrollComp","centerHeader","topCenter","bottomCenter","stickyTopCenter","stickyBottomCenter"],Az=100,$M=150,Bbe=class extends Pe{constructor(e){super(),this.clearRetryListenerFncs=[],this.lastScrollSource=[null,null],this.scrollLeft=-1,this.nextScrollTop=-1,this.scrollTop=-1,this.lastOffsetHeight=-1,this.lastScrollTop=-1,this.lastIsHorizontalScrollShowing=!1,this.scrollTimer=0,this.isScrollActive=!1,this.isVerticalPositionInvalidated=!0,this.isHorizontalPositionInvalidated=!0,this.eBodyViewport=e,this.resetLastHScrollDebounced=Ci(this,()=>this.lastScrollSource[1]=null,$M),this.resetLastVScrollDebounced=Ci(this,()=>this.lastScrollSource[0]=null,$M)}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.animationFrameSvc=e.animationFrameSvc,this.visibleCols=e.visibleCols}destroy(){super.destroy(),this.clearRetryListenerFncs=[],window.clearTimeout(this.scrollTimer)}postConstruct(){this.enableRtl=this.gos.get("enableRtl");const e=this.invalidateVerticalScroll.bind(this),t=this.invalidateHorizontalScroll.bind(this);this.addManagedEventListeners({displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this),bodyHeightChanged:e,scrollGapChanged:t}),this.addManagedElementListeners(this.eBodyViewport,{scroll:e}),this.ctrlsSvc.whenReady(this,n=>{this.centerRowsCtrl=n.center,this.onDisplayedColumnsWidthChanged(),this.addScrollListener()})}invalidateHorizontalScroll(){this.isHorizontalPositionInvalidated=!0}invalidateVerticalScroll(){this.isVerticalPositionInvalidated=!0}addScrollListener(){this.addHorizontalScrollListeners(),this.addVerticalScrollListeners()}addHorizontalScrollListeners(){this.addManagedElementListeners(this.centerRowsCtrl.eViewport,{scroll:this.onHScroll.bind(this,Ch)});for(const e of WM){const t=this.ctrlsSvc.get(e);this.registerScrollPartner(t,this.onHScroll.bind(this,e))}}addVerticalScrollListeners(){const e=this.ctrlsSvc.get("fakeVScrollComp"),t=this.gos.get("debounceVerticalScrollbar"),n=t?Ci(this,this.onVScroll.bind(this,Ch),Az):this.onVScroll.bind(this,Ch),r=t?Ci(this,this.onVScroll.bind(this,xz),Az):this.onVScroll.bind(this,xz);this.addManagedElementListeners(this.eBodyViewport,{scroll:n}),this.registerScrollPartner(e,r)}registerScrollPartner(e,t){e.onScrollCallback(t)}onDisplayedColumnsWidthChanged(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()}horizontallyScrollHeaderCenterAndFloatingCenter(e){this.centerRowsCtrl!=null&&(e===void 0&&(e=this.centerRowsCtrl.getCenterViewportScrollLeft()),this.setScrollLeftForAllContainersExceptCurrent(Math.abs(e)))}setScrollLeftForAllContainersExceptCurrent(e){for(const t of[...WM,Ch]){if(this.lastScrollSource[1]===t)continue;const n=this.getViewportForSource(t);xS(n,e,this.enableRtl)}}getViewportForSource(e){return e===Ch?this.centerRowsCtrl.eViewport:this.ctrlsSvc.get(e).eViewport}isControllingScroll(e,t){return this.lastScrollSource[t]==null?(t===0?this.lastScrollSource[0]=e:this.lastScrollSource[1]=e,!0):this.lastScrollSource[t]===e}onHScroll(e){if(!this.isControllingScroll(e,1))return;const t=this.centerRowsCtrl.eViewport,{scrollLeft:n}=t;if(this.shouldBlockScrollUpdate(1,n,!0))return;const r=kS(this.getViewportForSource(e),this.enableRtl);this.doHorizontalScroll(r),this.resetLastHScrollDebounced()}onVScroll(e){if(!this.isControllingScroll(e,0))return;let t;if(e===Ch?t=this.eBodyViewport.scrollTop:t=this.ctrlsSvc.get("fakeVScrollComp").getScrollPosition(),this.shouldBlockScrollUpdate(0,t,!0))return;const{animationFrameSvc:n}=this;n?.setScrollTop(t),this.nextScrollTop=t,e===Ch?this.ctrlsSvc.get("fakeVScrollComp").setScrollPosition(t):this.eBodyViewport.scrollTop=t,n?.active?n.schedule():this.scrollGridIfNeeded(!0),this.resetLastVScrollDebounced()}doHorizontalScroll(e){const t=this.ctrlsSvc.get("fakeHScrollComp").getScrollPosition();this.scrollLeft===e&&e===t||(this.scrollLeft=e,this.fireScrollEvent(1),this.horizontallyScrollHeaderCenterAndFloatingCenter(e),this.centerRowsCtrl.onHorizontalViewportChanged(!0))}isScrolling(){return this.isScrollActive}fireScrollEvent(e){const t={type:"bodyScroll",direction:e===1?"horizontal":"vertical",left:this.scrollLeft,top:this.scrollTop};this.isScrollActive=!0,this.eventSvc.dispatchEvent(t),window.clearTimeout(this.scrollTimer),this.scrollTimer=window.setTimeout(()=>{this.scrollTimer=0,this.isScrollActive=!1,this.eventSvc.dispatchEvent({...t,type:"bodyScrollEnd"})},$M)}shouldBlockScrollUpdate(e,t,n=!1){return n&&!Ip()?!1:e===0?this.shouldBlockVerticalScroll(t):this.shouldBlockHorizontalScroll(t)}shouldBlockVerticalScroll(e){const t=kN(this.eBodyViewport),{scrollHeight:n}=this.eBodyViewport;return e<0||e+t>n}shouldBlockHorizontalScroll(e){const t=this.centerRowsCtrl.getCenterWidth(),{scrollWidth:n}=this.centerRowsCtrl.eViewport;if(this.enableRtl){if(e>0)return!0}else if(e<0)return!0;return Math.abs(e)+t>n}redrawRowsAfterScroll(){this.fireScrollEvent(0)}checkScrollLeft(){const e=this.scrollLeft;let t=!1;for(const n of WM)if(this.getViewportForSource(n).scrollLeft!==e){t=!0;break}t&&this.onHScroll(Ch)}scrollGridIfNeeded(e=!1){const t=this.scrollTop!=this.nextScrollTop;return t&&(this.scrollTop=this.nextScrollTop,e&&this.invalidateVerticalScroll(),this.redrawRowsAfterScroll()),t}setHorizontalScrollPosition(e,t=!1){const r=this.centerRowsCtrl.eViewport.scrollWidth-this.centerRowsCtrl.getCenterWidth();!t&&this.shouldBlockScrollUpdate(1,e)&&(this.enableRtl?e=e>0?0:r:e=Math.min(Math.max(e,0),r)),xS(this.centerRowsCtrl.eViewport,Math.abs(e),this.enableRtl),this.doHorizontalScroll(e)}setVerticalScrollPosition(e){this.invalidateVerticalScroll(),this.eBodyViewport.scrollTop=e}getVScrollPosition(){if(!this.isVerticalPositionInvalidated){const{lastOffsetHeight:n,lastScrollTop:r}=this;return{top:r,bottom:r+n}}this.isVerticalPositionInvalidated=!1;const{scrollTop:e,offsetHeight:t}=this.eBodyViewport;return this.lastScrollTop=e,this.lastOffsetHeight=t,{top:e,bottom:e+t}}getApproximateVScollPosition(){return this.lastScrollTop>=0&&this.lastOffsetHeight>=0?{top:this.scrollTop,bottom:this.scrollTop+this.lastOffsetHeight}:this.getVScrollPosition()}getHScrollPosition(){return this.centerRowsCtrl.getHScrollPosition()}isHorizontalScrollShowing(){return this.isHorizontalPositionInvalidated&&(this.lastIsHorizontalScrollShowing=this.centerRowsCtrl.isHorizontalScrollShowing(),this.isHorizontalPositionInvalidated=!1),this.lastIsHorizontalScrollShowing}scrollHorizontally(e){const t=this.centerRowsCtrl.eViewport.scrollLeft;return this.setHorizontalScrollPosition(t+e),this.centerRowsCtrl.eViewport.scrollLeft-t}scrollToTop(){this.eBodyViewport.scrollTop=0}ensureNodeVisible(e,t=null){const{rowModel:n}=this.beans,r=n.getRowCount();let o=-1;for(let a=0;a<r;a++){const l=n.getRow(a);if(typeof e=="function"){if(l&&e(l)){o=a;break}}else if(e===l||e===l.data){o=a;break}}o>=0&&this.ensureIndexVisible(o,t)}ensureIndexVisible(e,t,n=0){if(xi(this.gos,"print"))return;const{rowModel:r}=this.beans,o=r.getRowCount();if(typeof e!="number"||e<0||e>=o){ze(88,{index:e});return}this.clearRetryListeners();const{frameworkOverrides:a,pageBounds:l,rowContainerHeight:d,rowRenderer:f}=this.beans;a.wrapIncoming(()=>{const m=this.ctrlsSvc.getGridBodyCtrl(),v=r.getRow(e);let C,y,S=0;this.invalidateVerticalScroll();do{const{stickyTopHeight:E,stickyBottomHeight:T}=m,P=v.rowTop,N=v.rowHeight,j=l.getPixelOffset(),L=v.rowTop-j,V=L+v.rowHeight,U=this.getVScrollPosition(),$=d.divStretchOffset,z=U.top+$,K=U.bottom+$,te=K-z,ae=d.getScrollPositionForPixel(L),X=d.getScrollPositionForPixel(V-te),Z=Math.min((ae+X)/2,L),se=z+E>L,Q=K-T<V;let J=null;t==="top"?J=ae-E:t==="bottom"?J=X+T:t==="middle"?J=Z:se?J=ae-E:Q&&(X-ae>te?J=ae-E:J=X+T),J!==null&&(this.setVerticalScrollPosition(J),f.redraw({afterScroll:!0})),C=P!==v.rowTop||N!==v.rowHeight,y=E!==m.stickyTopHeight||T!==m.stickyBottomHeight,S++}while((C||y)&&S<10);if(this.animationFrameSvc?.flushAllFrames(),n<10&&(v?.stub||!this.beans.rowAutoHeight?.areRowsMeasured())){const E=this.getVScrollPosition().top;this.clearRetryListenerFncs=this.addManagedEventListeners({bodyScroll:()=>{const T=this.getVScrollPosition().top;E!==T&&this.clearRetryListeners()},modelUpdated:()=>{this.clearRetryListeners(),!(e>=r.getRowCount())&&this.ensureIndexVisible(e,t,n+1)}})}})}clearRetryListeners(){for(const e of this.clearRetryListenerFncs)e();this.clearRetryListenerFncs=[]}ensureColumnVisible(e,t="auto"){const{colModel:n,frameworkOverrides:r}=this.beans,o=n.getCol(e);if(!o||o.isPinned()||!this.visibleCols.isColDisplayed(o))return;const a=this.getPositionedHorizontalScroll(o,t);r.wrapIncoming(()=>{a!==null&&this.centerRowsCtrl.setCenterViewportScrollLeft(a),this.centerRowsCtrl.onHorizontalViewportChanged(),this.animationFrameSvc?.flushAllFrames()})}getPositionedHorizontalScroll(e,t){const{columnBeforeStart:n,columnAfterEnd:r}=this.isColumnOutsideViewport(e),o=this.centerRowsCtrl.getCenterWidth()<e.getActualWidth(),a=this.centerRowsCtrl.getCenterWidth(),l=this.enableRtl;let d=(l?n:r)||o,f=l?r:n;t!=="auto"&&(d=t==="start",f=t==="end");const m=t==="middle";if(d||f||m){const{colLeft:v,colMiddle:C,colRight:y}=this.getColumnBounds(e);return m?C-a/2:d?l?y:v:l?v-a:y-a}return null}isColumnOutsideViewport(e){const{start:t,end:n}=this.getViewportBounds(),{colLeft:r,colRight:o}=this.getColumnBounds(e),a=this.enableRtl,l=a?t>o:n<o,d=a?n<r:t>r;return{columnBeforeStart:l,columnAfterEnd:d}}getColumnBounds(e){const t=this.enableRtl,n=this.visibleCols.bodyWidth,r=e.getActualWidth(),o=e.getLeft(),a=t?-1:1,l=t?n-o:o,d=l+r*a,f=l+r/2*a;return{colLeft:l,colMiddle:f,colRight:d}}getViewportBounds(){const e=this.centerRowsCtrl.getCenterWidth(),t=this.centerRowsCtrl.getCenterViewportScrollLeft(),n=t,r=e+t;return{start:n,end:r,width:e}}},qN=class extends Pe{constructor(e,t=!1){super(),this.callback=e,this.addSpacer=t}postConstruct(){const e=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",e),this.addManagedEventListeners({columnContainerWidthChanged:e,displayedColumnsChanged:e,leftPinnedWidthChanged:e}),this.addSpacer&&this.addManagedEventListeners({rightPinnedWidthChanged:e,scrollVisibilityChanged:e,scrollbarWidthChanged:e}),this.setWidth()}setWidth(){const e=xi(this.gos,"print"),{visibleCols:t,scrollVisibleSvc:n}=this.beans,r=t.bodyWidth,o=t.getColsLeftWidth(),a=t.getDisplayedColumnsRightWidth();let l;e?l=r+o+a:(l=r,this.addSpacer&&(this.gos.get("enableRtl")?o:a)===0&&n.verticalScrollShowing&&(l+=n.getScrollbarWidth())),this.callback(l)}},jbe=class extends Pe{constructor(e){super(),this.centerContainerCtrl=e}wireBeans(e){this.scrollVisibleSvc=e.scrollVisibleSvc}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.listenForResize()}),this.addManagedEventListeners({scrollbarWidthChanged:this.onScrollbarWidthChanged.bind(this)}),this.addManagedPropertyListeners(["alwaysShowHorizontalScroll","alwaysShowVerticalScroll"],()=>{this.checkViewportAndScrolls()})}listenForResize(){const{beans:e,centerContainerCtrl:t,gridBodyCtrl:n}=this,r=()=>{Zd(e,()=>{this.onCenterViewportResized()})};t.registerViewportResizeListener(r),n.registerBodyViewportResizeListener(r)}onScrollbarWidthChanged(){this.checkViewportAndScrolls()}onCenterViewportResized(){if(this.scrollVisibleSvc.updateScrollGap(),this.centerContainerCtrl.isViewportInTheDOMTree()){const{pinnedCols:e,colFlex:t}=this.beans;e?.keepPinnedColumnsNarrowerThanViewport(),this.checkViewportAndScrolls();const n=this.centerContainerCtrl.getCenterWidth();n!==this.centerWidth&&(this.centerWidth=n,t?.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0}checkViewportAndScrolls(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.scrollFeature.checkScrollLeft()}getBodyHeight(){return this.bodyHeight}checkBodyHeight(){const e=this.gridBodyCtrl.eBodyViewport,t=kN(e);this.bodyHeight!==t&&(this.bodyHeight=t,this.eventSvc.dispatchEvent({type:"bodyHeightChanged"}))}updateScrollVisibleService(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)}updateScrollVisibleServiceImpl(){if(!this.isAlive())return;const e={horizontalScrollShowing:this.centerContainerCtrl.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleSvc.setScrollsVisible(e)}onHorizontalViewportChanged(){const e=this.centerContainerCtrl.getCenterWidth(),t=this.centerContainerCtrl.getViewportScrollLeft();this.beans.colViewport.setScrollPosition(e,t)}};function Z1(e,t,n,r){const o=t.getColDef().cellRendererParams?.suppressMouseEventHandling;return T$(e,t,n,r,o)}function zbe(e,t,n,r){const o=t?.suppressMouseEventHandling;return T$(e,void 0,n,r,o)}function T$(e,t,n,r,o){return o?o(ht(e,{column:t,node:n,event:r})):!1}function R$(e,t,n){let r=t;for(;r;){const o=IW(e,r,n);if(o)return o;r=r.parentElement}return null}var FS="cellCtrl";function KN(e,t){return R$(e,t,FS)}var LS="renderedRow";function Hbe(e,t){return R$(e,t,LS)}function jP(e,t,n,r,o){const a=r?r.getColDef().suppressKeyboardEvent:void 0;if(!a)return!1;const l=ht(e,{event:t,editing:o,column:r,node:n,data:n.data,colDef:r.getColDef()});return!!(a&&a(l))}function Vbe(e){const{pinnedRowModel:t,rowModel:n}=e,[r,o]=[t?.isEmpty("top")??!0,t?.isEmpty("bottom")??!0],a=r?null:"top";let l,d;o?(l=null,d=n.getRowCount()-1):(l="bottom",d=t?.getPinnedBottomRowCount()??-1);const{visibleCols:f,rangeSvc:m}=e,v=f.allCols;!m||!v?.length||m.setCellRange({rowStartIndex:0,rowStartPinned:a,rowEndIndex:d,rowEndPinned:l})}var Gbe=65,Ube=67,Wbe=86,$be=68,qbe=90,Kbe=89;function Ybe(e){const{keyCode:t}=e;let n;switch(t){case Gbe:n=xe.A;break;case Ube:n=xe.C;break;case Wbe:n=xe.V;break;case $be:n=xe.D;break;case qbe:n=xe.Z;break;case Kbe:n=xe.Y;break;default:n=e.code}return n}var Qbe=class extends Pe{constructor(e){super(),this.element=e}postConstruct(){this.addKeyboardListeners(),this.addMouseListeners(),this.beans.touchSvc?.mockRowContextMenu(this),this.editSvc=this.beans.editSvc}addKeyboardListeners(){const e="keydown",t=this.processKeyboardEvent.bind(this,e);this.addManagedElementListeners(this.element,{[e]:t})}addMouseListeners(){const t=["dblclick","contextmenu","mouseover","mouseout","click",mW("touchstart")?"touchstart":"mousedown"];for(const n of t){const r=this.processMouseEvent.bind(this,n);this.addManagedElementListeners(this.element,{[n]:r})}}processMouseEvent(e,t){if(!zy(this.beans,t)||Qa(t))return;const{cellCtrl:n,rowCtrl:r}=this.getControlsForEventTarget(t.target);e==="contextmenu"?(n?.column&&n.dispatchCellContextMenuEvent(t),this.beans.contextMenuSvc?.handleContextMenuMouseEvent(t,void 0,r,n)):(n&&n.onMouseEvent(e,t),r&&r.onMouseEvent(e,t))}getControlsForEventTarget(e){const{gos:t}=this;return{cellCtrl:KN(t,e),rowCtrl:Hbe(t,e)}}processKeyboardEvent(e,t){const{cellCtrl:n,rowCtrl:r}=this.getControlsForEventTarget(t.target);t.defaultPrevented||(n?this.processCellKeyboardEvent(n,e,t):r?.isFullWidth()&&this.processFullWidthRowKeyboardEvent(r,e,t))}processCellKeyboardEvent(e,t,n){const r=this.editSvc?.isEditing(e,{withOpenEditor:!0})??!1;!jP(this.gos,n,e.rowNode,e.column,r)&&t==="keydown"&&(!r&&this.beans.navigation?.handlePageScrollingKey(n)||e.onKeyDown(n),this.doGridOperations(n,r),o$(n)&&e.processCharacter(n)),t==="keydown"&&this.eventSvc.dispatchEvent(e.createEvent(n,"cellKeyDown"))}processFullWidthRowKeyboardEvent(e,t,n){const{rowNode:r}=e,{focusSvc:o,navigation:a}=this.beans,d=o.getFocusedCell()?.column;if(!jP(this.gos,n,r,d,!1)){const m=n.key;if(t==="keydown")switch(m){case xe.PAGE_HOME:case xe.PAGE_END:case xe.PAGE_UP:case xe.PAGE_DOWN:a?.handlePageScrollingKey(n,!0);break;case xe.LEFT:case xe.RIGHT:if(!this.gos.get("embedFullWidthRows"))break;case xe.UP:case xe.DOWN:e.onKeyboardNavigate(n);break;case xe.TAB:e.onTabKeyDown(n);break}}t==="keydown"&&this.eventSvc.dispatchEvent(e.createRowEvent("cellKeyDown",n))}doGridOperations(e,t){if(!e.ctrlKey&&!e.metaKey||t||!zy(this.beans,e))return;const n=Ybe(e),{clipboardSvc:r,undoRedo:o}=this.beans;if(n===xe.A)return this.onCtrlAndA(e);if(n===xe.C)return this.onCtrlAndC(r,e);if(n===xe.D)return this.onCtrlAndD(r,e);if(n===xe.V)return this.onCtrlAndV(r,e);if(n===xe.X)return this.onCtrlAndX(r,e);if(n===xe.Y)return this.onCtrlAndY(o);if(n===xe.Z)return this.onCtrlAndZ(o,e)}onCtrlAndA(e){const{beans:{rowModel:t,rangeSvc:n,selectionSvc:r},gos:o}=this;n&&Ld(o)&&!Vpe(o)&&t.isRowsToRender()?Vbe(this.beans):r&&r.selectAllRowNodes({source:"keyboardSelectAll",selectAll:LW(o)}),e.preventDefault()}onCtrlAndC(e,t){if(!e||this.gos.get("enableCellTextSelection"))return;const{cellCtrl:n}=this.getControlsForEventTarget(t.target);this.editSvc?.isEditing(n,{withOpenEditor:!0})||(t.preventDefault(),e.copyToClipboard())}onCtrlAndX(e,t){if(!e||this.gos.get("enableCellTextSelection")||this.gos.get("suppressCutToClipboard"))return;const{cellCtrl:n}=this.getControlsForEventTarget(t.target);this.editSvc?.isEditing(n,{withOpenEditor:!0})||(t.preventDefault(),e.cutToClipboard(void 0,"ui"))}onCtrlAndV(e,t){const{cellCtrl:n}=this.getControlsForEventTarget(t.target);this.editSvc?.isEditing(n,{withOpenEditor:!0})||e&&!this.gos.get("suppressClipboardPaste")&&e.pasteFromClipboard()}onCtrlAndD(e,t){e&&!this.gos.get("suppressClipboardPaste")&&e.copyRangeDown(),t.preventDefault()}onCtrlAndZ(e,t){!this.gos.get("undoRedoCellEditing")||!e||(t.preventDefault(),t.shiftKey?e.redo("ui"):e.undo("ui"))}onCtrlAndY(e){e?.redo("ui")}},P$=class extends Pe{constructor(e,t){super(),this.eContainer=e,this.eViewport=t}postConstruct(){this.addManagedEventListeners({rowContainerHeightChanged:this.onHeightChanged.bind(this,this.beans.rowContainerHeight)})}onHeightChanged(e){const t=e.uiContainerHeight,n=t!=null?`${t}px`:"";this.eContainer.style.height=n,this.eViewport&&(this.eViewport.style.height=n)}},t1=e=>e.topRowCtrls,n1=e=>e.getStickyTopRowCtrls(),r1=e=>e.getStickyBottomRowCtrls(),i1=e=>e.bottomRowCtrls,o1=e=>e.allRowCtrls,qM=e=>e.getCtrls("top"),KM=e=>e.getCtrls("center"),YM=e=>e.getCtrls("bottom"),Zbe={center:{type:"center",name:"center-cols",getRowCtrls:o1,getSpannedRowCtrls:KM},left:{type:"left",name:"pinned-left-cols",pinnedType:"left",getRowCtrls:o1,getSpannedRowCtrls:KM},right:{type:"right",name:"pinned-right-cols",pinnedType:"right",getRowCtrls:o1,getSpannedRowCtrls:KM},fullWidth:{type:"fullWidth",name:"full-width",fullWidth:!0,getRowCtrls:o1},topCenter:{type:"center",name:"floating-top",getRowCtrls:t1,getSpannedRowCtrls:qM},topLeft:{type:"left",name:"pinned-left-floating",container:"ag-pinned-left-floating-top",pinnedType:"left",getRowCtrls:t1,getSpannedRowCtrls:qM},topRight:{type:"right",name:"pinned-right-floating",container:"ag-pinned-right-floating-top",pinnedType:"right",getRowCtrls:t1,getSpannedRowCtrls:qM},topFullWidth:{type:"fullWidth",name:"floating-top-full-width",fullWidth:!0,getRowCtrls:t1},stickyTopCenter:{type:"center",name:"sticky-top",getRowCtrls:n1},stickyTopLeft:{type:"left",name:"pinned-left-sticky-top",container:"ag-pinned-left-sticky-top",pinnedType:"left",getRowCtrls:n1},stickyTopRight:{type:"right",name:"pinned-right-sticky-top",container:"ag-pinned-right-sticky-top",pinnedType:"right",getRowCtrls:n1},stickyTopFullWidth:{type:"fullWidth",name:"sticky-top-full-width",fullWidth:!0,getRowCtrls:n1},stickyBottomCenter:{type:"center",name:"sticky-bottom",getRowCtrls:r1},stickyBottomLeft:{type:"left",name:"pinned-left-sticky-bottom",container:"ag-pinned-left-sticky-bottom",pinnedType:"left",getRowCtrls:r1},stickyBottomRight:{type:"right",name:"pinned-right-sticky-bottom",container:"ag-pinned-right-sticky-bottom",pinnedType:"right",getRowCtrls:r1},stickyBottomFullWidth:{type:"fullWidth",name:"sticky-bottom-full-width",fullWidth:!0,getRowCtrls:r1},bottomCenter:{type:"center",name:"floating-bottom",getRowCtrls:i1,getSpannedRowCtrls:YM},bottomLeft:{type:"left",name:"pinned-left-floating-bottom",container:"ag-pinned-left-floating-bottom",pinnedType:"left",getRowCtrls:i1,getSpannedRowCtrls:YM},bottomRight:{type:"right",name:"pinned-right-floating-bottom",container:"ag-pinned-right-floating-bottom",pinnedType:"right",getRowCtrls:i1,getSpannedRowCtrls:YM},bottomFullWidth:{type:"fullWidth",name:"floating-bottom-full-width",fullWidth:!0,getRowCtrls:i1}};function YN(e){return`ag-${ov(e).name}-viewport`}function _y(e){const t=ov(e);return t.container??`ag-${t.name}-container`}function I$(e){return`ag-${ov(e).name}-spanned-cells-container`}function ov(e){return Zbe[e]}var Xbe=["topCenter","topLeft","topRight"],Jbe=["bottomCenter","bottomLeft","bottomRight"],eve=["center","left","right"],tve=["center","left","right","fullWidth"],nve=["stickyTopCenter","stickyBottomCenter","center","topCenter","bottomCenter"],rve=["left","bottomLeft","topLeft","stickyTopLeft","stickyBottomLeft"],ive=["right","bottomRight","topRight","stickyTopRight","stickyBottomRight"],N$=["stickyTopCenter","stickyTopLeft","stickyTopRight"],O$=["stickyBottomCenter","stickyBottomLeft","stickyBottomRight"],ove=[...N$,"stickyTopFullWidth",...O$,"stickyBottomFullWidth"],sve=[...Xbe,...Jbe,...eve,...N$,...O$],F$=class extends Pe{constructor(e){super(),this.name=e,this.visible=!0,this.EMPTY_CTRLS=[],this.options=ov(e)}postConstruct(){this.enableRtl=this.gos.get("enableRtl"),this.forContainers(["center"],()=>{this.viewportSizeFeature=this.createManagedBean(new jbe(this)),this.addManagedEventListeners({stickyTopOffsetChanged:this.onStickyTopOffsetChanged.bind(this)})})}onStickyTopOffsetChanged(e){this.comp.setOffsetTop(`${e.offset}px`)}registerWithCtrlsService(){this.options.fullWidth||this.beans.ctrlsSvc.register(this.name,this)}forContainers(e,t){e.indexOf(this.name)>=0&&t()}setComp(e,t,n,r){this.comp=e,this.eContainer=t,this.eSpannedContainer=n,this.eViewport=r,this.createManagedBean(new Qbe(this.eViewport??this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder();const{pinnedCols:o,rangeSvc:a}=this.beans,l=()=>this.onPinnedWidthChanged();this.forContainers(rve,()=>{this.pinnedWidthFeature=this.createOptionalManagedBean(o?.createPinnedWidthFeature(!0,this.eContainer,this.eSpannedContainer)),this.addManagedEventListeners({leftPinnedWidthChanged:l})}),this.forContainers(ive,()=>{this.pinnedWidthFeature=this.createOptionalManagedBean(o?.createPinnedWidthFeature(!1,this.eContainer,this.eSpannedContainer)),this.addManagedEventListeners({rightPinnedWidthChanged:l})}),this.forContainers(tve,()=>this.createManagedBean(new P$(this.eContainer,this.name==="center"?r:void 0))),a&&this.forContainers(sve,()=>this.createManagedBean(a.createDragListenerFeature(this.eContainer))),this.forContainers(nve,()=>this.createManagedBean(new qN(d=>this.comp.setContainerWidth(`${d}px`)))),this.visible=this.isContainerVisible(),this.addListeners(),this.registerWithCtrlsService()}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}addListeners(){const{spannedRowRenderer:e,gos:t}=this.beans,n=this.onDisplayedColumnsChanged.bind(this);this.addManagedEventListeners({displayedColumnsChanged:n,displayedColumnsWidthChanged:n,displayedRowsChanged:r=>this.onDisplayedRowsChanged(r.afterScroll)}),n(),this.onDisplayedRowsChanged(),e&&this.options.getSpannedRowCtrls&&t.get("enableCellSpan")&&this.addManagedListeners(e,{spannedRowsUpdated:()=>{const r=this.options.getSpannedRowCtrls(e);r&&this.comp.setSpannedRowCtrls(r,!1)}})}listenOnDomOrder(){if(ove.indexOf(this.name)>=0){this.comp.setDomOrder(!0);return}const t=()=>{const n=this.gos.get("ensureDomOrder"),r=xi(this.gos,"print");this.comp.setDomOrder(n||r)};this.addManagedPropertyListener("domLayout",t),t()}onDisplayedColumnsChanged(){this.forContainers(["center"],()=>this.onHorizontalViewportChanged())}addPreventScrollWhileDragging(){const{dragSvc:e}=this.beans;if(!e)return;const t=n=>{e.dragging&&n.cancelable&&n.preventDefault()};this.eContainer.addEventListener("touchmove",t,{passive:!1}),this.addDestroyFunc(()=>this.eContainer.removeEventListener("touchmove",t))}onHorizontalViewportChanged(e=!1){const t=this.getCenterWidth(),n=this.getCenterViewportScrollLeft();this.beans.colViewport.setScrollPosition(t,n,e)}hasHorizontalScrollGap(){return this.eContainer.clientWidth-this.eViewport.clientWidth<0}hasVerticalScrollGap(){return this.eContainer.clientHeight-this.eViewport.clientHeight<0}getCenterWidth(){return jy(this.eViewport)}getCenterViewportScrollLeft(){return kS(this.eViewport,this.enableRtl)}registerViewportResizeListener(e){const t=al(this.beans,this.eViewport,e);this.addDestroyFunc(()=>t())}isViewportInTheDOMTree(){return uW(this.eViewport)}getViewportScrollLeft(){return kS(this.eViewport,this.enableRtl)}isHorizontalScrollShowing(){return this.gos.get("alwaysShowHorizontalScroll")||AN(this.eViewport)}setHorizontalScroll(e){this.comp.setHorizontalScroll(e)}getHScrollPosition(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}}setCenterViewportScrollLeft(e){xS(this.eViewport,e,this.enableRtl)}isContainerVisible(){return!(this.options.pinnedType!=null)||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0}onPinnedWidthChanged(){const e=this.isContainerVisible();this.visible!=e&&(this.visible=e,this.onDisplayedRowsChanged())}onDisplayedRowsChanged(e=!1){const t=this.options.getRowCtrls(this.beans.rowRenderer);if(!this.visible||t.length===0){this.comp.setRowCtrls({rowCtrls:this.EMPTY_CTRLS});return}const n=xi(this.gos,"print"),o=this.gos.get("embedFullWidthRows")||n,a=t.filter(l=>{const d=l.isFullWidth();return this.options.fullWidth?!o&&d:o||!d});this.comp.setRowCtrls({rowCtrls:a,useFlushSync:e})}},L$="ag-force-vertical-scroll",ave="ag-selectable",lve="ag-column-moving",B$=class extends Pe{constructor(){super(...arguments),this.stickyTopHeight=0,this.stickyBottomHeight=0}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.colModel=e.colModel,this.scrollVisibleSvc=e.scrollVisibleSvc,this.pinnedRowModel=e.pinnedRowModel,this.filterManager=e.filterManager,this.rowGroupColsSvc=e.rowGroupColsSvc}setComp(e,t,n,r,o,a,l){this.comp=e,this.eGridBody=t,this.eBodyViewport=n,this.eTop=r,this.eBottom=o,this.eStickyTop=a,this.eStickyBottom=l,this.eCenterColsViewport=n.querySelector(`.${YN("center")}`),this.eFullWidthContainer=n.querySelector(`.${_y("fullWidth")}`),this.eStickyTopFullWidthContainer=a.querySelector(`.${_y("stickyTopFullWidth")}`),this.eStickyBottomFullWidthContainer=l.querySelector(`.${_y("stickyBottomFullWidth")}`),this.setCellTextSelection(this.gos.get("enableCellTextSelection")),this.addManagedPropertyListener("enableCellTextSelection",d=>this.setCellTextSelection(d.currentValue)),this.createManagedBean(new $N(this.comp)),this.scrollFeature=this.createManagedBean(new Bbe(n)),this.beans.rowDragSvc?.setupRowDrag(n,this),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([r,n,o,a,l]),this.setGridRootRole(),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.updateScrollingClasses(),this.filterManager?.setupAdvFilterHeaderComp(r),this.ctrlsSvc.register("gridBodyCtrl",this)}addEventListeners(){const e=this.setFloatingHeights.bind(this),t=this.setGridRootRole.bind(this),n=this.toggleRowResizeStyles.bind(this);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this),scrollGapChanged:this.updateScrollingClasses.bind(this),pinnedRowDataChanged:e,pinnedHeightChanged:e,pinnedRowsChanged:e,headerHeightChanged:this.setStickyTopOffsetTop.bind(this),columnRowGroupChanged:t,columnPivotChanged:t,rowResizeStarted:n,rowResizeEnded:n}),this.addManagedPropertyListener("treeData",t)}toggleRowResizeStyles(e){const t=e.type==="rowResizeStarted";this.eBodyViewport.classList.toggle("ag-prevent-animation",t)}onGridColumnsChanged(){const e=this.beans.colModel.getCols();this.comp.setColumnCount(e.length)}onScrollVisibilityChanged(){const{scrollVisibleSvc:e}=this,t=e.verticalScrollShowing;this.setVerticalScrollPaddingVisible(t),this.setStickyWidth(t),this.setStickyBottomOffsetBottom();const n=t&&e.getScrollbarWidth()||0,r=i$()?16:0,o=`calc(100% + ${n+r}px)`;Zd(this.beans,()=>this.comp.setBodyViewportWidth(o)),this.updateScrollingClasses()}setGridRootRole(){const{rowGroupColsSvc:e,colModel:t}=this;let n=this.gos.get("treeData");if(!n){const r=t.isPivotMode();n=(e?e.columns.length:0)>=(r?2:1)}this.comp.setGridRootRole(n?"treegrid":"grid")}addFocusListeners(e){for(const t of e)this.addManagedElementListeners(t,{focusin:n=>{const{target:r}=n,o=Mp(r,"ag-root",t);t.classList.toggle("ag-has-focus",!o)},focusout:n=>{const{target:r,relatedTarget:o}=n,a=t.contains(o),l=Mp(o,"ag-root",t);Mp(r,"ag-root",t)||(!a||l)&&t.classList.remove("ag-has-focus")}})}setColumnMovingCss(e){this.comp.setColumnMovingCss(lve,e)}setCellTextSelection(e=!1){this.comp.setCellSelectableCss(ave,e)}updateScrollingClasses(){const{eGridBody:{classList:e},scrollVisibleSvc:t}=this;e.toggle("ag-body-vertical-content-no-gap",!t.verticalScrollGap),e.toggle("ag-body-horizontal-content-no-gap",!t.horizontalScrollGap)}disableBrowserDragging(){this.addManagedElementListeners(this.eGridBody,{dragstart:e=>{if(e.target instanceof HTMLImageElement)return e.preventDefault(),!1}})}addStopEditingWhenGridLosesFocus(){this.beans.editSvc?.addStopEditingWhenGridLosesFocus([this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop,this.eStickyBottom])}updateRowCount(){const e=(this.ctrlsSvc.getHeaderRowContainerCtrl()?.getRowCount()??0)+(this.filterManager?.getHeaderRowCount()??0),{rowModel:t}=this.beans,n=t.isLastRowIndexKnown()?t.getRowCount():-1,r=n===-1?-1:e+n;this.comp.setRowCount(r)}registerBodyViewportResizeListener(e){this.comp.registerBodyViewportResizeListener(e)}setVerticalScrollPaddingVisible(e){const t=e?"scroll":"hidden";this.comp.setPinnedTopBottomOverflowY(t)}isVerticalScrollShowing(){const e=this.gos.get("alwaysShowVerticalScroll"),t=e?L$:null,n=xi(this.gos,"normal");return this.comp.setAlwaysVerticalScrollClass(t,e),e||n&&pW(this.eBodyViewport)}setupRowAnimationCssClass(){const{rowContainerHeight:e,environment:t}=this.beans;let n=t.sizesMeasured;const r=()=>{const o=n&&pb(this.gos)&&!e.stretching,a=o?"ag-row-animation":"ag-row-no-animation";this.comp.setRowAnimationCssOnBodyViewport(a,o)};r(),this.addManagedEventListeners({heightScaleChanged:r}),this.addManagedPropertyListener("animateRows",r),this.addManagedEventListeners({gridStylesChanged:()=>{!n&&t.sizesMeasured&&(n=!0,r())}})}addBodyViewportListener(){const{eBodyViewport:e,eStickyTop:t,eStickyBottom:n,eTop:r,eBottom:o,beans:{popupSvc:a,touchSvc:l}}=this,d=this.onBodyViewportContextMenu.bind(this);this.addManagedElementListeners(e,{contextmenu:d}),l?.mockBodyContextMenu(this,d),this.addManagedElementListeners(e,{wheel:this.onBodyViewportWheel.bind(this,a)});const f=this.onStickyWheel.bind(this);for(const v of[t,n,r,o])this.addManagedElementListeners(v,{wheel:f});const m=this.onHorizontalWheel.bind(this);for(const v of["left","right","topLeft","topRight","bottomLeft","bottomRight"])this.addManagedElementListeners(this.ctrlsSvc.get(v).eContainer,{wheel:m});this.addFullWidthContainerWheelListener()}addFullWidthContainerWheelListener(){this.addManagedElementListeners(this.eFullWidthContainer,{wheel:e=>this.onFullWidthContainerWheel(e)})}onFullWidthContainerWheel(e){const{deltaX:t,deltaY:n,shiftKey:r}=e;(r||Math.abs(t)>Math.abs(n))&&zy(this.beans,e)&&this.scrollGridBodyToMatchEvent(e)}onStickyWheel(e){const{deltaY:t}=e;this.scrollVertically(t)>0&&e.preventDefault()}onHorizontalWheel(e){const{deltaX:t,deltaY:n,shiftKey:r}=e;(r||Math.abs(t)>Math.abs(n))&&this.scrollGridBodyToMatchEvent(e)}scrollGridBodyToMatchEvent(e){const{deltaX:t,deltaY:n}=e;e.preventDefault(),this.eCenterColsViewport.scrollBy({left:t||n})}onBodyViewportContextMenu(e,t,n){if(!e&&!n)return;this.gos.get("preventDefaultOnContextMenu")&&(e||n).preventDefault();const{target:r}=e||t;(r===this.eBodyViewport||r===this.ctrlsSvc.get("center").eViewport)&&this.beans.contextMenuSvc?.showContextMenu({mouseEvent:e,touchEvent:n,value:null,anchorToElement:this.eGridBody,source:"ui"})}onBodyViewportWheel(e,t){this.gos.get("suppressScrollWhenPopupsAreOpen")&&e?.hasAnchoredPopup()&&t.preventDefault()}scrollVertically(e){const t=this.eBodyViewport.scrollTop;return this.scrollFeature.setVerticalScrollPosition(t+e),this.eBodyViewport.scrollTop-t}setFloatingHeights(){const{pinnedRowModel:e,beans:{environment:t}}=this,n=e?.getPinnedTopTotalHeight(),r=e?.getPinnedBottomTotalHeight(),o=t.getPinnedRowBorderWidth(),a=t.getRowBorderWidth(),l=o-a,d=n?l+n:0,f=r?l+r:0;this.comp.setTopHeight(d),this.comp.setBottomHeight(f),this.comp.setTopInvisible(d<=0),this.comp.setBottomInvisible(f<=0),this.setStickyTopOffsetTop(),this.setStickyBottomOffsetBottom()}setStickyTopHeight(e=0){this.comp.setStickyTopHeight(`${e}px`),this.stickyTopHeight=e}setStickyBottomHeight(e=0){this.comp.setStickyBottomHeight(`${e}px`),this.stickyBottomHeight=e}setStickyWidth(e){if(!e)this.comp.setStickyTopWidth("100%"),this.comp.setStickyBottomWidth("100%");else{const t=this.scrollVisibleSvc.getScrollbarWidth();this.comp.setStickyTopWidth(`calc(100% - ${t}px)`),this.comp.setStickyBottomWidth(`calc(100% - ${t}px)`)}}setStickyTopOffsetTop(){const t=this.ctrlsSvc.get("gridHeaderCtrl").headerHeight+(this.filterManager?.getHeaderHeight()??0),n=this.pinnedRowModel?.getPinnedTopTotalHeight()??0;let r=0;t>0&&(r+=t),n>0&&(r+=n),r>0&&(r+=1),this.comp.setStickyTopTop(`${r}px`)}setStickyBottomOffsetBottom(){const{pinnedRowModel:e,scrollVisibleSvc:t,comp:n}=this,r=e?.getPinnedBottomTotalHeight()??0,a=t.horizontalScrollShowing&&t.getScrollbarWidth()||0,l=r+a;n.setStickyBottomBottom(`${l}px`)}};function cve(e,t){return KN(e,t.target)?.getFocusedCellPosition()??null}function Sz(e,t){const n=xi(e.gos,"normal"),r=t;let o,a;r.clientX!=null||r.clientY!=null?(o=r.clientX,a=r.clientY):(o=r.x,a=r.y);const{pageFirstPixel:l}=e.pageBounds.getCurrentPagePixelRange();if(a+=l,n){const d=e.ctrlsSvc.getScrollFeature(),f=d.getVScrollPosition(),m=d.getHScrollPosition();o+=m.left,a+=f.top}return{x:o,y:a}}var j$=class extends nn{constructor(e,t){super(),this.direction=t,this.eViewport=qe,this.eContainer=qe,this.hideTimeout=0,this.setTemplate(e)}postConstruct(){this.addManagedEventListeners({scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this)}),this.onScrollVisibilityChanged(),this.toggleCss("ag-apple-scrollbar",n$()||Ip())}destroy(){super.destroy(),window.clearTimeout(this.hideTimeout)}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.invisibleScrollbar=i$(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))}addActiveListenerToggles(){const e=this.getGui(),t=()=>this.toggleCss("ag-scrollbar-active",!0),n=()=>this.toggleCss("ag-scrollbar-active",!1);this.addManagedListeners(e,{mouseenter:t,mousedown:t,touchstart:t,mouseleave:n,touchend:n})}onScrollVisibilityChanged(){this.invisibleScrollbar===void 0&&this.initialiseInvisibleScrollbar(),Zd(this.beans,()=>this.setScrollVisible())}hideAndShowInvisibleScrollAsNeeded(){this.addManagedEventListeners({bodyScroll:e=>{e.direction===this.direction&&(this.hideTimeout&&(window.clearTimeout(this.hideTimeout),this.hideTimeout=0),this.toggleCss("ag-scrollbar-scrolling",!0))},bodyScrollEnd:()=>{this.hideTimeout=window.setTimeout(()=>{this.toggleCss("ag-scrollbar-scrolling",!1),this.hideTimeout=0},400)}})}attemptSettingScrollPosition(e){const t=this.eViewport;ppe(this,()=>vc(t),()=>this.setScrollPosition(e),100)}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}},dve={tag:"div",cls:"ag-body-horizontal-scroll",attrs:{"aria-hidden":"true"},children:[{tag:"div",ref:"eLeftSpacer",cls:"ag-horizontal-left-spacer"},{tag:"div",ref:"eViewport",cls:"ag-body-horizontal-scroll-viewport",children:[{tag:"div",ref:"eContainer",cls:"ag-body-horizontal-scroll-container"}]},{tag:"div",ref:"eRightSpacer",cls:"ag-horizontal-right-spacer"}]},z$=class extends j${constructor(){super(dve,"horizontal"),this.eLeftSpacer=qe,this.eRightSpacer=qe,this.setScrollVisibleDebounce=0}wireBeans(e){this.visibleCols=e.visibleCols,this.scrollVisibleSvc=e.scrollVisibleSvc}postConstruct(){super.postConstruct();const e=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e,pinnedRowDataChanged:this.refreshCompBottom.bind(this)}),this.addManagedPropertyListener("domLayout",e),this.beans.ctrlsSvc.register("fakeHScrollComp",this),this.createManagedBean(new qN(t=>this.eContainer.style.width=`${t}px`)),this.addManagedPropertyListeners(["suppressHorizontalScroll"],this.onScrollVisibilityChanged.bind(this))}destroy(){window.clearTimeout(this.setScrollVisibleDebounce),super.destroy()}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.enableRtl=this.gos.get("enableRtl"),super.initialiseInvisibleScrollbar(),this.invisibleScrollbar&&this.refreshCompBottom())}refreshCompBottom(){if(!this.invisibleScrollbar)return;const e=this.beans.pinnedRowModel?.getPinnedBottomTotalHeight()??0;this.getGui().style.bottom=`${e}px`}onScrollVisibilityChanged(){super.onScrollVisibilityChanged(),this.setFakeHScrollSpacerWidths()}setFakeHScrollSpacerWidths(){const e=this.scrollVisibleSvc.verticalScrollShowing;let t=this.visibleCols.getDisplayedColumnsRightWidth();const n=!this.enableRtl&&e,r=this.scrollVisibleSvc.getScrollbarWidth();n&&(t+=r),oc(this.eRightSpacer,t),this.eRightSpacer.classList.toggle("ag-scroller-corner",t<=r);let o=this.visibleCols.getColsLeftWidth();this.enableRtl&&e&&(o+=r),oc(this.eLeftSpacer,o),this.eLeftSpacer.classList.toggle("ag-scroller-corner",o<=r)}setScrollVisible(){const e=this.scrollVisibleSvc.horizontalScrollShowing,t=this.invisibleScrollbar,n=this.gos.get("suppressHorizontalScroll"),r=e&&this.scrollVisibleSvc.getScrollbarWidth()||0,a=n?0:r===0&&t?16:r,l=()=>{this.setScrollVisibleDebounce=0,this.toggleCss("ag-scrollbar-invisible",t),xy(this.getGui(),a),xy(this.eViewport,a),xy(this.eContainer,a),a||this.eContainer.style.setProperty("min-height","1px"),this.setVisible(e,{skipAriaHidden:!0})};window.clearTimeout(this.setScrollVisibleDebounce),e?this.setScrollVisibleDebounce=window.setTimeout(l,100):l()}getScrollPosition(){return kS(this.eViewport,this.enableRtl)}setScrollPosition(e){vc(this.eViewport)||this.attemptSettingScrollPosition(e),xS(this.eViewport,e,this.enableRtl)}},uve={selector:"AG-FAKE-HORIZONTAL-SCROLL",component:z$},hve={tag:"div",cls:"ag-body-vertical-scroll",attrs:{"aria-hidden":"true"},children:[{tag:"div",ref:"eViewport",cls:"ag-body-vertical-scroll-viewport",children:[{tag:"div",ref:"eContainer",cls:"ag-body-vertical-scroll-container"}]}]},H$=class extends j${constructor(){super(hve,"vertical")}postConstruct(){super.postConstruct(),this.createManagedBean(new P$(this.eContainer));const{ctrlsSvc:e}=this.beans;e.register("fakeVScrollComp",this),this.addManagedEventListeners({rowContainerHeightChanged:this.onRowContainerHeightChanged.bind(this,e)})}setScrollVisible(){const{scrollVisibleSvc:e}=this.beans,t=e.verticalScrollShowing,n=this.invisibleScrollbar,r=t&&e.getScrollbarWidth()||0,o=r===0&&n?16:r;this.toggleCss("ag-scrollbar-invisible",n),oc(this.getGui(),o),oc(this.eViewport,o),oc(this.eContainer,o),this.setDisplayed(t,{skipAriaHidden:!0})}onRowContainerHeightChanged(e){const n=e.getGridBodyCtrl().eBodyViewport,r=this.getScrollPosition(),o=n.scrollTop;r!=o&&this.setScrollPosition(o,!0)}getScrollPosition(){return this.eViewport.scrollTop}setScrollPosition(e,t){!t&&!vc(this.eViewport)&&this.attemptSettingScrollPosition(e),this.eViewport.scrollTop=e}},fve={selector:"AG-FAKE-VERTICAL-SCROLL",component:H$},pve="ag-column-first",gve="ag-column-last";function V$(e,t,n,r){return zn(e)?[]:bve(e.headerClass,e,t,n,r)}function G$(e,t,n){e.toggleCss(pve,n.isColAtEdge(t,"first")),e.toggleCss(gve,n.isColAtEdge(t,"last"))}function mve(e,t,n,r){return ht(t,{colDef:e,column:n,columnGroup:r})}function bve(e,t,n,r,o){if(zn(e))return[];let a;if(typeof e=="function"){const l=mve(t,n,r,o);a=e(l)}else a=e;return typeof a=="string"?[a]:Array.isArray(a)?[...a]:[]}function vve(e,t,n){t.addManagedElementListeners(n,{keydown:r=>{if(!r.defaultPrevented&&r.key===xe.TAB){const o=r.shiftKey;og(e,n,!1,o)||Rb(e,o)&&r.preventDefault()}}})}function wve(e,t){return e.ctrlsSvc.get("gridCtrl").focusInnerElement(t)}function Np(e){return e.gos.get("suppressHeaderFocus")||!!e.overlays?.isExclusive()}function mE(e){return e.gos.get("suppressCellFocus")||!!e.overlays?.isExclusive()}function Rb(e,t,n=!1){const r=e.ctrlsSvc.get("gridCtrl");return!n&&r.focusNextInnerContainer(t)?!0:((n||!t&&!r.isDetailGrid())&&r.forceFocusOutOfContainer(t),!1)}function tc(e){return e.ctrlsSvc.getHeaderRowContainerCtrl()?.getRowCount()??0}function QN(e){const t=[],n=e.ctrlsSvc.getHeaderRowContainerCtrls();for(const r of n){if(!r)continue;const o=r.getGroupRowCount()||0;for(let a=0;a<o;a++){const l=r.getGroupRowCtrlAtIndex(a),d=t[a];if(l){const f=Cve(e,l);(d==null||f>d)&&(t[a]=f)}}}return t}function Cve(e,t){let r=e.colModel.isPivotMode()?kve(e):W$(e);const o=t.getHeaderCellCtrls();for(const a of o){const{column:l}=a,d=l.getAutoHeaderHeight();d!=null&&d>r&&l.isAutoHeaderHeight()&&(r=d)}return r}function ZN(e){let n=e.colModel.isPivotMode()?yve(e):E0(e);return e.colModel.forAllCols(r=>{const o=r.getAutoHeaderHeight();o!=null&&o>n&&r.isAutoHeaderHeight()&&(n=o)}),n}function E0(e){return e.gos.get("headerHeight")??e.environment.getDefaultHeaderHeight()}function U$(e){return e.gos.get("floatingFiltersHeight")??E0(e)}function W$(e){return e.gos.get("groupHeaderHeight")??E0(e)}function yve(e){return e.gos.get("pivotHeaderHeight")??E0(e)}function kve(e){return e.gos.get("pivotGroupHeaderHeight")??W$(e)}function xve(e,t){return e.headerRowIndex===t.headerRowIndex&&e.column===t.column}var $$=class extends Pe{setComp(e,t,n){this.comp=e,this.eGui=t;const{beans:r}=this,{headerNavigation:o,touchSvc:a,ctrlsSvc:l}=r;o&&this.createManagedBean(new iv(n,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedEventListeners({columnPivotModeChanged:this.onPivotModeChanged.bind(this,r),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this,r)}),this.onPivotModeChanged(r),this.setupHeaderHeight();const d=this.onHeaderContextMenu.bind(this);this.addManagedElementListeners(this.eGui,{contextmenu:d}),a?.mockHeaderContextMenu(this,d),l.register("gridHeaderCtrl",this)}setupHeaderHeight(){const e=this.setHeaderHeight.bind(this);e(),this.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],e),this.addManagedEventListeners({headerRowsChanged:e,columnHeaderHeightChanged:e,columnGroupHeaderHeightChanged:()=>Zd(this.beans,()=>e()),gridStylesChanged:e,advancedFilterEnabledChanged:e})}setHeaderHeight(){const{beans:e}=this;let t=0;const n=QN(e).reduce((a,l)=>a+l,0),r=ZN(e);if(e.filterManager?.hasFloatingFilters()&&(t+=U$(e)),t+=n,t+=r,this.headerHeight===t)return;this.headerHeight=t;const o=`${t+1}px`;this.comp.setHeightAndMinHeight(o),this.eventSvc.dispatchEvent({type:"headerHeightChanged"})}onPivotModeChanged(e){const t=e.colModel.isPivotMode();this.comp.toggleCss("ag-pivot-on",t),this.comp.toggleCss("ag-pivot-off",!t)}onDisplayedColumnsChanged(e){const n=e.visibleCols.allCols.some(r=>r.isSpanHeaderHeight());this.comp.toggleCss("ag-header-allow-overflow",n)}onTabKeyDown(e){const t=this.gos.get("enableRtl"),n=e.shiftKey,r=n!==t?"LEFT":"RIGHT",{beans:o}=this,{headerNavigation:a,focusSvc:l}=o;(a.navigateHorizontally(r,!0,e)||!n&&l.focusOverlay(!1)||Rb(o,n,!0))&&e.preventDefault()}handleKeyDown(e){let t=null;const{headerNavigation:n}=this.beans;switch(e.key){case xe.LEFT:t="LEFT";case xe.RIGHT:{Ye(t)||(t="RIGHT"),n.navigateHorizontally(t,!1,e)&&e.preventDefault();break}case xe.UP:t="UP";case xe.DOWN:{Ye(t)||(t="DOWN"),n.navigateVertically(t,e)&&e.preventDefault();break}default:return}}onFocusOut(e){const{relatedTarget:t}=e,{eGui:n,beans:r}=this;!t&&n.contains(Qn(r))||n.contains(t)||(r.focusSvc.focusedHeader=null)}onHeaderContextMenu(e,t,n){const{menuSvc:r,ctrlsSvc:o}=this.beans;if(!e&&!n||!r?.isHeaderContextMenuEnabled())return;const{target:a}=e??t;(a===this.eGui||a===o.getHeaderRowContainerCtrl()?.eViewport)&&r.showHeaderContextMenu(void 0,e,n)}},XN=class extends nn{constructor(e,t){super(e),this.ctrl=t}getCtrl(){return this.ctrl}},Ave={tag:"div",cls:"ag-header-cell",role:"columnheader",children:[{tag:"div",ref:"eResize",cls:"ag-header-cell-resize",role:"presentation"},{tag:"div",ref:"eHeaderCompWrapper",cls:"ag-header-cell-comp-wrapper",role:"presentation"}]},Sve=class extends XN{constructor(t){super(Ave,t),this.eResize=qe,this.eHeaderCompWrapper=qe,this.headerCompVersion=0}postConstruct(){const t=this.getGui(),n=()=>{const o=this.ctrl.getSelectAllGui();o&&(this.eResize.insertAdjacentElement("afterend",o),this.addDestroyFunc(()=>o.remove()))},r={setWidth:o=>t.style.width=o,toggleCss:(o,a)=>this.toggleCss(o,a),setUserStyles:o=>x0(t,o),setAriaSort:o=>o?oW(t,o):sW(t),setUserCompDetails:o=>this.setUserCompDetails(o),getUserCompInstance:()=>this.headerComp,refreshSelectAllGui:n,removeSelectAllGui:()=>this.ctrl.getSelectAllGui()?.remove()};this.ctrl.setComp(r,this.getGui(),this.eResize,this.eHeaderCompWrapper,void 0),n()}destroy(){this.destroyHeaderComp(),super.destroy()}destroyHeaderComp(){this.headerComp&&(this.headerCompGui?.remove(),this.headerComp=this.destroyBean(this.headerComp),this.headerCompGui=void 0)}setUserCompDetails(t){this.headerCompVersion++;const n=this.headerCompVersion;t.newAgStackInstance().then(r=>this.afterCompCreated(n,r))}afterCompCreated(t,n){if(t!=this.headerCompVersion||!this.isAlive()){this.destroyBean(n);return}this.destroyHeaderComp(),this.headerComp=n,this.headerCompGui=n.getGui(),this.eHeaderCompWrapper.appendChild(this.headerCompGui),this.ctrl.setDragSource(this.getGui())}},_ve={tag:"div",cls:"ag-header-group-cell",role:"columnheader",children:[{tag:"div",ref:"eHeaderCompWrapper",cls:"ag-header-cell-comp-wrapper",role:"presentation"},{tag:"div",ref:"eResize",cls:"ag-header-cell-resize",role:"presentation"}]},Eve=class extends XN{constructor(t){super(_ve,t),this.eResize=qe,this.eHeaderCompWrapper=qe}postConstruct(){const t=this.getGui(),n=(o,a)=>a!=null?t.setAttribute(o,a):t.removeAttribute(o),r={toggleCss:(o,a)=>this.toggleCss(o,a),setUserStyles:o=>x0(t,o),setHeaderWrapperHidden:o=>{o?this.eHeaderCompWrapper.style.setProperty("display","none"):this.eHeaderCompWrapper.style.removeProperty("display")},setHeaderWrapperMaxHeight:o=>{o!=null?this.eHeaderCompWrapper.style.setProperty("max-height",`${o}px`):this.eHeaderCompWrapper.style.removeProperty("max-height"),this.eHeaderCompWrapper.classList.toggle("ag-header-cell-comp-wrapper-limited-height",o!=null)},setResizableDisplayed:o=>Ln(this.eResize,o),setWidth:o=>t.style.width=o,setAriaExpanded:o=>n("aria-expanded",o),setUserCompDetails:o=>this.setUserCompDetails(o),getUserCompInstance:()=>this.headerGroupComp};this.ctrl.setComp(r,t,this.eResize,this.eHeaderCompWrapper,void 0)}setUserCompDetails(t){t.newAgStackInstance().then(n=>this.afterHeaderCompCreated(n))}afterHeaderCompCreated(t){const n=()=>this.destroyBean(t);if(!this.isAlive()){n();return}const r=this.getGui(),o=t.getGui();this.eHeaderCompWrapper.appendChild(o),this.addDestroyFunc(n),this.headerGroupComp=t,this.ctrl.setDragSource(r)}},Dve={tag:"div",cls:"ag-header-cell ag-floating-filter",role:"gridcell",children:[{tag:"div",ref:"eFloatingFilterBody",role:"presentation"},{tag:"div",ref:"eButtonWrapper",cls:"ag-floating-filter-button ag-hidden",role:"presentation",children:[{tag:"button",ref:"eButtonShowMainFilter",cls:"ag-button ag-floating-filter-button-button",attrs:{type:"button",tabindex:"-1"}}]}]},Mve=class extends XN{constructor(t){super(Dve,t),this.eFloatingFilterBody=qe,this.eButtonWrapper=qe,this.eButtonShowMainFilter=qe}postConstruct(){const t=this.getGui(),n={toggleCss:(r,o)=>this.toggleCss(r,o),setUserStyles:r=>x0(t,r),addOrRemoveBodyCssClass:(r,o)=>this.eFloatingFilterBody.classList.toggle(r,o),setButtonWrapperDisplayed:r=>Ln(this.eButtonWrapper,r),setCompDetails:r=>this.setCompDetails(r),getFloatingFilterComp:()=>this.compPromise,setWidth:r=>t.style.width=r,setMenuIcon:r=>this.eButtonShowMainFilter.appendChild(r)};this.ctrl.setComp(n,t,this.eButtonShowMainFilter,this.eFloatingFilterBody,void 0)}setCompDetails(t){if(!t){this.destroyFloatingFilterComp(),this.compPromise=null;return}this.compPromise=t.newAgStackInstance(),this.compPromise.then(n=>this.afterCompCreated(n))}destroy(){this.destroyFloatingFilterComp(),super.destroy()}destroyFloatingFilterComp(){this.floatingFilterComp&&(this.floatingFilterComp.getGui().remove(),this.floatingFilterComp=this.destroyBean(this.floatingFilterComp))}afterCompCreated(t){if(t){if(!this.isAlive()){this.destroyBean(t);return}this.destroyFloatingFilterComp(),this.floatingFilterComp=t,this.eFloatingFilterBody.appendChild(t.getGui()),t.afterGuiAttached&&t.afterGuiAttached()}}},Tve=class extends nn{constructor(t){super({tag:"div",cls:t.headerRowClass,role:"row"}),this.ctrl=t,this.headerComps={}}postConstruct(){this.getGui().setAttribute("tabindex",String(this.gos.get("tabIndex"))),CS(this.getGui(),this.ctrl.getAriaRowIndex());const n={setHeight:r=>this.getGui().style.height=r,setTop:r=>this.getGui().style.top=r,setHeaderCtrls:(r,o)=>this.setHeaderCtrls(r,o),setWidth:r=>this.getGui().style.width=r,setRowIndex:r=>CS(this.getGui(),r)};this.ctrl.setComp(n,void 0)}destroy(){this.setHeaderCtrls([],!1),super.destroy()}setHeaderCtrls(t,n){if(!this.isAlive())return;const r=this.headerComps;this.headerComps={};for(const o of t){const a=o.instanceId;let l=r[a];delete r[a],l==null&&(l=this.createHeaderComp(o),this.getGui().appendChild(l.getGui())),this.headerComps[a]=l}if(Object.values(r).forEach(o=>{o.getGui().remove(),this.destroyBean(o)}),n){const o=Object.values(this.headerComps);o.sort((l,d)=>{const f=l.getCtrl().column.getLeft(),m=d.getCtrl().column.getLeft();return f-m});const a=o.map(l=>l.getGui());fW(this.getGui(),a)}}createHeaderComp(t){let n;switch(this.ctrl.type){case"group":n=new Eve(t);break;case"filter":n=new Mve(t);break;default:n=new Sve(t);break}return this.createBean(n),n.setParentComponent(this),n}},JN=class extends Pe{constructor(e,t,n,r){super(),this.columnOrGroup=e,this.eCell=t,this.colsSpanning=r,this.columnOrGroup=e,this.ariaEl=t.querySelector("[role=columnheader]")||t,this.beans=n}setColsSpanning(e){this.colsSpanning=e,this.onLeftChanged()}getColumnOrGroup(){const{beans:e,colsSpanning:t}=this;return e.gos.get("enableRtl")&&t?Tn(t):this.columnOrGroup}postConstruct(){const e=this.onLeftChanged.bind(this);this.addManagedListeners(this.columnOrGroup,{leftChanged:e}),this.setLeftFirstTime(),this.addManagedEventListeners({displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}setLeftFirstTime(){const{gos:e,colAnimation:t}=this.beans,n=e.get("suppressColumnMoveAnimation"),r=Ye(this.columnOrGroup.getOldLeft());t?.isActive()&&r&&!n?this.animateInLeft():this.onLeftChanged()}animateInLeft(){const e=this.getColumnOrGroup(),t=this.modifyLeftForPrintLayout(e,e.getOldLeft()),n=this.modifyLeftForPrintLayout(e,e.getLeft());this.setLeft(t),this.actualLeft=n,this.beans.colAnimation.executeNextVMTurn(()=>{this.actualLeft===n&&this.setLeft(n)})}onLeftChanged(){const e=this.getColumnOrGroup(),t=e.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(e,t),this.setLeft(this.actualLeft)}modifyLeftForPrintLayout(e,t){const{gos:n,visibleCols:r}=this.beans;if(!xi(n,"print")||e.getPinned()==="left")return t;const a=r.getColsLeftWidth();if(e.getPinned()==="right"){const l=r.bodyWidth;return a+l+t}return a+t}setLeft(e){if(Ye(e)&&(this.eCell.style.left=`${e}px`),Er(this.columnOrGroup)){const t=this.columnOrGroup.getLeafColumns();if(!t.length)return;t.length>1&&qfe(this.ariaEl,t.length)}}},Rve=0,q$="headerCtrl",eO=class extends Pe{constructor(e,t){super(),this.column=e,this.rowCtrl=t,this.resizeToggleTimeout=0,this.resizeMultiplier=1,this.resizeFeature=null,this.lastFocusEvent=null,this.dragSource=null,this.reAttemptToFocus=!1,this.instanceId=e.getUniqueId()+"-"+Rve++}postConstruct(){const e=this.refreshTabIndex.bind(this);this.addManagedPropertyListeners(["suppressHeaderFocus"],e),this.addManagedEventListeners({overlayExclusiveChanged:e})}setComp(e,t,n,r,o){t.setAttribute("col-id",this.column.colIdSanitised),this.wireComp(e,t,n,r,o),this.reAttemptToFocus&&(this.reAttemptToFocus=!1,this.focus(this.lastFocusEvent??void 0))}shouldStopEventPropagation(e){const{headerRowIndex:t,column:n}=this.beans.focusSvc.focusedHeader,r=n.getDefinition(),o=r?.suppressHeaderKeyboardEvent;if(!Ye(o))return!1;const a=ht(this.gos,{colDef:r,column:n,headerRowIndex:t,event:e});return!!o(a)}getWrapperHasFocus(){return Qn(this.beans)===this.eGui}setGui(e,t){this.eGui=e,this.addDomData(t),t.addManagedListeners(this.beans.eventSvc,{displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this)}),t.addManagedElementListeners(this.eGui,{focus:this.onGuiFocus.bind(this)}),this.onDisplayedColumnsChanged(),this.refreshTabIndex()}refreshHeaderStyles(){const e=this.column.getDefinition();if(!e)return;const{headerStyle:t}=e;let n;if(typeof t=="function"){const r=this.getHeaderClassParams();n=t(r)}else n=t;n&&this.comp.setUserStyles(n)}onGuiFocus(){this.eventSvc.dispatchEvent({type:"headerFocused",column:this.column})}setupAutoHeight(e){const{wrapperElement:t,checkMeasuringCallback:n,compBean:r}=e,{beans:o}=this,a=C=>{if(!this.isAlive()||!r.isAlive())return;const{paddingTop:y,paddingBottom:S,borderBottomWidth:E,borderTopWidth:T}=rg(this.eGui),P=y+S+E+T,j=t.offsetHeight+P;if(C<5){const V=!Wr(o)?.contains(t),U=j==0;if(V||U){yP(()=>a(C+1),"raf",o);return}}this.setColHeaderHeight(this.column,j)};let l=!1,d;const f=()=>{const C=this.column.isAutoHeaderHeight();C&&!l&&m(),!C&&l&&v()},m=()=>{l=!0,this.comp.toggleCss("ag-header-cell-auto-height",!0),a(0),d=al(this.beans,t,()=>a(0))},v=()=>{l=!1,d&&d(),this.comp.toggleCss("ag-header-cell-auto-height",!1),d=void 0};f(),r.addDestroyFunc(()=>v()),r.addManagedListeners(this.column,{widthChanged:()=>l&&a(0)}),r.addManagedEventListeners({sortChanged:()=>{l&&window.setTimeout(()=>a(0))}}),n&&n(f)}onDisplayedColumnsChanged(){const{comp:e,column:t,beans:n,eGui:r}=this;!e||!t||!r||(G$(e,t,n.visibleCols),iW(r,n.visibleCols.getAriaColIndex(t)))}addResizeAndMoveKeyboardListeners(e){e.addManagedListeners(this.eGui,{keydown:this.onGuiKeyDown.bind(this),keyup:this.onGuiKeyUp.bind(this)})}refreshTabIndex(){const e=Np(this.beans);this.eGui&&vs(this.eGui,"tabindex",e?null:"-1")}onGuiKeyDown(e){const t=Qn(this.beans),n=e.key===xe.LEFT||e.key===xe.RIGHT;if(this.isResizing&&(e.preventDefault(),e.stopImmediatePropagation()),t!==this.eGui||!e.shiftKey&&!e.altKey||((this.isResizing||n)&&(e.preventDefault(),e.stopImmediatePropagation()),!n))return;const o=e.key===xe.LEFT!==this.gos.get("enableRtl")?"left":"right";if(e.altKey){this.isResizing=!0,this.resizeMultiplier+=1;const a=this.getViewportAdjustedResizeDiff(e);this.resizeHeader(a,e.shiftKey),this.resizeFeature?.toggleColumnResizing(!0)}else this.moveHeader(o)}moveHeader(e){this.beans.colMoves?.moveHeader(e,this.eGui,this.column,this.rowCtrl.pinned,this)}getViewportAdjustedResizeDiff(e){const t=this.getResizeDiff(e),{pinnedCols:n}=this.beans;return n?n.getHeaderResizeDiff(t,this.column):t}getResizeDiff(e){const{gos:t,column:n}=this;let r=e.key===xe.LEFT!==t.get("enableRtl");const o=n.getPinned(),a=t.get("enableRtl");return o&&a!==(o==="right")&&(r=!r),(r?-1:1)*this.resizeMultiplier}onGuiKeyUp(){this.isResizing&&(this.resizeToggleTimeout&&(window.clearTimeout(this.resizeToggleTimeout),this.resizeToggleTimeout=0),this.isResizing=!1,this.resizeMultiplier=1,this.resizeToggleTimeout=window.setTimeout(()=>{this.resizeFeature?.toggleColumnResizing(!1)},150))}handleKeyDown(e){const t=this.getWrapperHasFocus();switch(e.key){case xe.PAGE_DOWN:case xe.PAGE_UP:case xe.PAGE_HOME:case xe.PAGE_END:t&&e.preventDefault()}}addDomData(e){const t=q$,{eGui:n,gos:r}=this;Wp(r,n,t,this),e.addDestroyFunc(()=>Wp(r,n,t,null))}focus(e){if(!this.isAlive())return!1;const{eGui:t}=this;return t?(t.focus(),this.lastFocusEvent=e||null):this.reAttemptToFocus=!0,!0}focusThis(){this.beans.focusSvc.focusedHeader={headerRowIndex:this.rowCtrl.rowIndex,column:this.column}}removeDragSource(){this.dragSource&&(this.beans.dragAndDrop?.removeDragSource(this.dragSource),this.dragSource=null)}handleContextMenuMouseEvent(e,t,n){const r=e??t,{menuSvc:o,gos:a}=this.beans;a.get("preventDefaultOnContextMenu")&&r.preventDefault(),o?.isHeaderContextMenuEnabled(n)&&o.showHeaderContextMenu(n,e,t),this.dispatchColumnMouseEvent("columnHeaderContextMenu",n)}dispatchColumnMouseEvent(e,t){this.eventSvc.dispatchEvent({type:e,column:t})}setColHeaderHeight(e,t){if(!e.setAutoHeaderHeight(t))return;const{eventSvc:n}=this;e.isColumn?n.dispatchEvent({type:"columnHeaderHeightChanged",column:e,columns:[e],source:"autosizeColumnHeaderHeight"}):n.dispatchEvent({type:"columnGroupHeaderHeightChanged",columnGroup:e,source:"autosizeColumnGroupHeaderHeight"})}clearComponent(){this.removeDragSource(),this.resizeFeature=null,this.comp=null,this.eGui=null}destroy(){super.destroy(),this.column=null,this.lastFocusEvent=null,this.rowCtrl=null}},Pve=class extends eO{constructor(){super(...arguments),this.refreshFunctions={},this.userHeaderClasses=new Set,this.ariaDescriptionProperties=new Map}wireComp(e,t,n,r,o){this.comp=e;const{rowCtrl:a,column:l,beans:d}=this,{colResize:f,context:m,colHover:v,rangeSvc:C}=d,y=S0(this,m,o);this.setGui(t,y),this.updateState(),this.setupWidth(y),this.setupMovingCss(y),this.setupMenuClass(y),this.setupSortableClass(y),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight({wrapperElement:r,checkMeasuringCallback:E=>this.setRefreshFunction("measuring",E),compBean:y}),this.addColumnHoverListener(y),this.setupFilterClass(y),this.setupStylesFromColDef(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(y),this.setupSelectAll(y),this.setupUserComp(),this.refreshAria(),f?this.resizeFeature=y.createManagedBean(f.createResizeFeature(a.pinned,l,n,e,this)):Ln(n,!1),v?.createHoverFeature(y,[l],t),C?.createRangeHighlightFeature(y,l,e),y.createManagedBean(new JN(l,t,d)),y.createManagedBean(new iv(t,{shouldStopEventPropagation:E=>this.shouldStopEventPropagation(E),onTabKeyDown:()=>null,handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addResizeAndMoveKeyboardListeners(y),y.addManagedPropertyListeners(["suppressMovableColumns","suppressMenuHide","suppressAggFuncInHeader","enableAdvancedFilter"],()=>this.refresh()),y.addManagedListeners(l,{colDefChanged:()=>this.refresh()}),y.addManagedListeners(l,{headerHighlightChanged:this.onHeaderHighlightChanged.bind(this)});const S=()=>this.checkDisplayName();y.addManagedEventListeners({columnValueChanged:S,columnRowGroupChanged:S,columnPivotChanged:S,headerHeightChanged:this.onHeaderHeightChanged.bind(this)}),y.addDestroyFunc(()=>{this.refreshFunctions={},this.selectAllFeature=null,this.dragSourceElement=void 0,this.userCompDetails=null,this.userHeaderClasses.clear(),this.ariaDescriptionProperties.clear(),this.clearComponent()})}resizeHeader(e,t){this.beans.colResize?.resizeHeader(this.column,e,t)}getHeaderClassParams(){const{column:e,beans:t}=this,n=e.colDef;return ht(t.gos,{colDef:n,column:e,floatingFilter:!1})}setupUserComp(){const e=this.lookupUserCompDetails();e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setUserCompDetails(e)}lookupUserCompDetails(){const e=this.createParams(),t=this.column.getColDef();return Hge(this.beans.userCompFactory,t,e)}createParams(){const{menuSvc:e,sortSvc:t,colFilter:n,gos:r}=this.beans;return ht(r,{column:this.column,displayName:this.displayName,enableSorting:this.column.isSortable(),enableMenu:this.menuEnabled,enableFilterButton:this.openFilterEnabled&&!!e?.isHeaderFilterButtonEnabled(this.column),enableFilterIcon:!!n&&(!this.openFilterEnabled||ws(this.gos)),showColumnMenu:(a,l)=>{e?.showColumnMenu({column:this.column,buttonElement:a,positionBy:"button",onClosedCallback:l})},showColumnMenuAfterMouseClick:(a,l)=>{e?.showColumnMenu({column:this.column,mouseEvent:a,positionBy:"mouse",onClosedCallback:l})},showFilter:a=>{e?.showFilterMenu({column:this.column,buttonElement:a,containerType:"columnFilter",positionBy:"button"})},progressSort:a=>{t?.progressSort(this.column,!!a,"uiColumnSorted")},setSort:(a,l)=>{t?.setSortForColumn(this.column,a,!!l,"uiColumnSorted")},eGridHeader:this.eGui,setTooltip:(a,l)=>{r.assertModuleRegistered("Tooltip",3),this.setupTooltip(a,l)}})}setupSelectAll(e){const{selectionSvc:t}=this.beans;t&&(this.selectAllFeature=e.createOptionalManagedBean(t.createSelectAllFeature(this.column)),this.selectAllFeature?.setComp(this),e.addManagedPropertyListener("rowSelection",()=>{const n=t.createSelectAllFeature(this.column);n&&!this.selectAllFeature?(this.selectAllFeature=e.createManagedBean(n),this.selectAllFeature?.setComp(this),this.comp.refreshSelectAllGui()):this.selectAllFeature&&!n&&(this.comp.removeSelectAllGui(),this.selectAllFeature=this.destroyBean(this.selectAllFeature))}))}getSelectAllGui(){return this.selectAllFeature?.getCheckboxGui()}handleKeyDown(e){super.handleKeyDown(e),e.key===xe.SPACE&&this.selectAllFeature?.onSpaceKeyDown(e),e.key===xe.ENTER&&this.onEnterKeyDown(e),e.key===xe.DOWN&&e.altKey&&this.showMenuOnKeyPress(e,!1)}onEnterKeyDown(e){e.ctrlKey||e.metaKey?this.showMenuOnKeyPress(e,!0):this.sortable&&this.beans.sortSvc?.progressSort(this.column,e.shiftKey,"uiColumnSorted")}showMenuOnKeyPress(e,t){const n=this.comp.getUserCompInstance();_z(n)&&n.onMenuKeyboardShortcut(t)&&e.preventDefault()}onFocusIn(e){this.eGui.contains(e.relatedTarget)||(this.focusThis(),this.announceAriaDescription()),ume()&&this.setActiveHeader(!0)}onFocusOut(e){this.eGui.contains(e.relatedTarget)||this.setActiveHeader(!1)}setupTooltip(e,t){this.tooltipFeature=this.beans.tooltipSvc?.setupHeaderTooltip(this.tooltipFeature,this,e,t)}setupStylesFromColDef(){this.setRefreshFunction("headerStyles",this.refreshHeaderStyles.bind(this)),this.refreshHeaderStyles()}setupClassesFromColDef(){const e=()=>{const t=this.column.getColDef(),n=V$(t,this.gos,this.column,null),r=this.userHeaderClasses;this.userHeaderClasses=new Set(n);for(const o of n)r.has(o)?r.delete(o):this.comp.toggleCss(o,!0);for(const o of r)this.comp.toggleCss(o,!1)};this.setRefreshFunction("headerClasses",e),e()}setDragSource(e){this.dragSourceElement=e,this.removeDragSource(),!(!e||!this.draggable)&&(this.dragSource=this.beans.colMoves?.setDragSourceForHeader(e,this.column,this.displayName)??null)}updateState(){const{menuSvc:e}=this.beans;this.menuEnabled=!!e?.isColumnMenuInHeaderEnabled(this.column),this.openFilterEnabled=!!e?.isFilterMenuInHeaderEnabled(this.column),this.sortable=this.column.isSortable(),this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()}setRefreshFunction(e,t){this.refreshFunctions[e]=t}refresh(){this.updateState(),this.refreshHeaderComp(),this.refreshAria();for(const e of Object.values(this.refreshFunctions))e()}refreshHeaderComp(){const e=this.lookupUserCompDetails();if(!e)return;(this.comp.getUserCompInstance()!=null&&this.userCompDetails.componentClass==e.componentClass?this.attemptHeaderCompRefresh(e.params):!1)?this.setDragSource(this.dragSourceElement):this.setCompDetails(e)}attemptHeaderCompRefresh(e){const t=this.comp.getUserCompInstance();return!t||!t.refresh?!1:t.refresh(e)}calculateDisplayName(){return this.beans.colNames.getDisplayNameForColumn(this.column,"header",!0)}checkDisplayName(){this.displayName!==this.calculateDisplayName()&&this.refresh()}workOutDraggable(){const e=this.column.getColDef();return!!(!this.gos.get("suppressMovableColumns")&&!e.suppressMovable&&!e.lockPosition)||!!e.enableRowGroup||!!e.enablePivot}setupWidth(e){const t=()=>{const n=this.column.getActualWidth();this.comp.setWidth(`${n}px`)};e.addManagedListeners(this.column,{widthChanged:t}),t()}setupMovingCss(e){const t=()=>{this.comp.toggleCss("ag-header-cell-moving",this.column.isMoving())};e.addManagedListeners(this.column,{movingChanged:t}),t()}setupMenuClass(e){const t=()=>{this.comp?.toggleCss("ag-column-menu-visible",this.column.isMenuVisible())};e.addManagedListeners(this.column,{menuVisibleChanged:t}),t()}setupSortableClass(e){const t=()=>{this.comp.toggleCss("ag-header-cell-sortable",!!this.sortable)};t(),this.setRefreshFunction("updateSortable",t),e.addManagedEventListeners({sortChanged:this.refreshAriaSort.bind(this)})}setupFilterClass(e){const t=()=>{const n=this.column.isFilterActive();this.comp.toggleCss("ag-header-cell-filtered",n),this.refreshAria()};e.addManagedListeners(this.column,{filterActiveChanged:t}),t()}setupWrapTextClass(){const e=()=>{const t=!!this.column.getColDef().wrapHeaderText;this.comp.toggleCss("ag-header-cell-wrap-text",t)};e(),this.setRefreshFunction("wrapText",e)}onHeaderHighlightChanged(){const e=this.column.getHighlighted(),t=e===0,n=e===1;this.comp.toggleCss("ag-header-highlight-before",t),this.comp.toggleCss("ag-header-highlight-after",n)}onDisplayedColumnsChanged(){super.onDisplayedColumnsChanged(),this.isAlive()&&this.onHeaderHeightChanged()}onHeaderHeightChanged(){this.refreshSpanHeaderHeight()}refreshSpanHeaderHeight(){const{eGui:e,column:t,comp:n,beans:r}=this,o=QN(this.beans),a=o.reduce((y,S)=>y+S,0)===0;if(n.toggleCss("ag-header-parent-hidden",a),!t.isSpanHeaderHeight()){e.style.removeProperty("top"),e.style.removeProperty("height"),n.toggleCss("ag-header-span-height",!1),n.toggleCss("ag-header-span-total",!1);return}const{numberOfParents:l,isSpanningTotal:d}=this.column.getColumnGroupPaddingInfo();n.toggleCss("ag-header-span-height",l>0);const f=ZN(r);if(l===0){n.toggleCss("ag-header-span-total",!1),e.style.setProperty("top","0px"),e.style.setProperty("height",`${f}px`);return}n.toggleCss("ag-header-span-total",d);const m=(this.column.getFirstRealParent()?.getLevel()??-1)+1,v=o.length-m;let C=0;for(let y=0;y<v;y++)C+=o[o.length-1-y];e.style.setProperty("top",`${-C}px`),e.style.setProperty("height",`${f+C}px`)}refreshAriaSort(){if(this.sortable){const e=this.getLocaleTextFunc(),t=this.beans.sortSvc?.getDisplaySortForColumn(this.column)||null;this.comp.setAriaSort(Ffe(t)),this.setAriaDescriptionProperty("sort",e("ariaSortableColumn","Press ENTER to sort"))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)}refreshAriaMenu(){if(this.menuEnabled){const e=this.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",e("ariaMenuColumn","Press ALT DOWN to open column menu"))}else this.setAriaDescriptionProperty("menu",null)}refreshAriaFilterButton(){if(this.openFilterEnabled&&!ws(this.gos)){const e=this.getLocaleTextFunc();this.setAriaDescriptionProperty("filterButton",e("ariaFilterColumn","Press CTRL ENTER to open filter"))}else this.setAriaDescriptionProperty("filterButton",null)}refreshAriaFiltered(){const e=this.getLocaleTextFunc();this.column.isFilterActive()?this.setAriaDescriptionProperty("filter",e("ariaColumnFiltered","Column Filtered")):this.setAriaDescriptionProperty("filter",null)}setAriaDescriptionProperty(e,t){t!=null?this.ariaDescriptionProperties.set(e,t):this.ariaDescriptionProperties.delete(e)}announceAriaDescription(){if(!this.eGui.contains(Qn(this.beans)))return;const e=Array.from(this.ariaDescriptionProperties.keys()).sort((t,n)=>t==="filter"?-1:n.charCodeAt(0)-t.charCodeAt(0)).map(t=>this.ariaDescriptionProperties.get(t)).join(". ");this.beans.ariaAnnounce?.announceValue(e,"columnHeader")}refreshAria(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaFilterButton(),this.refreshAriaFiltered()}addColumnHoverListener(e){this.beans.colHover?.addHeaderColumnHoverListener(e,this.comp,this.column)}addActiveHeaderMouseListeners(e){const t=o=>this.handleMouseOverChange(o.type==="mouseenter"),n=()=>{this.setActiveHeader(!0),this.dispatchColumnMouseEvent("columnHeaderClicked",this.column)},r=o=>this.handleContextMenuMouseEvent(o,void 0,this.column);e.addManagedListeners(this.eGui,{mouseenter:t,mouseleave:t,click:n,contextmenu:r})}handleMouseOverChange(e){this.setActiveHeader(e),this.eventSvc.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column})}setActiveHeader(e){this.comp.toggleCss("ag-header-active",e)}getAnchorElementForMenu(e){const t=this.comp.getUserCompInstance();return _z(t)?t.getAnchorElementForMenu(e):this.eGui}destroy(){this.tooltipFeature=this.destroyBean(this.tooltipFeature),super.destroy()}};function _z(e){return typeof e?.getAnchorElementForMenu=="function"&&typeof e.onMenuKeyboardShortcut=="function"}var Ive=0,QM=class extends Pe{constructor(e,t,n){super(),this.rowIndex=e,this.pinned=t,this.type=n,this.instanceId=Ive++,this.comp=null,this.allCtrls=[];let r="ag-header-row-column";n==="group"?r="ag-header-row-group":n==="filter"&&(r="ag-header-row-filter"),this.headerRowClass=`ag-header-row ${r}`}setRowIndex(e){this.rowIndex=e,this.comp?.setRowIndex(this.getAriaRowIndex()),this.onRowHeightChanged()}postConstruct(){this.isPrintLayout=xi(this.gos,"print"),this.isEnsureDomOrder=this.gos.get("ensureDomOrder")}areCellsRendered(){return this.comp?this.allCtrls.every(e=>e.eGui!=null):!1}setComp(e,t,n=!0){this.comp=e,t=S0(this,this.beans.context,t),n&&(this.setRowIndex(this.rowIndex),this.onVirtualColumnsChanged()),this.setWidth(),this.addEventListeners(t)}getAriaRowIndex(){return this.rowIndex+1}addEventListeners(e){const t=this.onRowHeightChanged.bind(this),n=this.onDisplayedColumnsChanged.bind(this);e.addManagedEventListeners({columnResized:this.setWidth.bind(this),displayedColumnsChanged:n,virtualColumnsChanged:r=>this.onVirtualColumnsChanged(r.afterScroll),columnGroupHeaderHeightChanged:t,columnHeaderHeightChanged:t,gridStylesChanged:t,advancedFilterEnabledChanged:t}),e.addManagedPropertyListener("domLayout",n),e.addManagedPropertyListener("ensureDomOrder",r=>this.isEnsureDomOrder=r.currentValue),e.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],t)}onDisplayedColumnsChanged(){this.isPrintLayout=xi(this.gos,"print"),this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()}setWidth(){if(!this.comp)return;const e=this.getWidthForRow();this.comp.setWidth(`${e}px`)}getWidthForRow(){const{visibleCols:e}=this.beans;return this.isPrintLayout?this.pinned!=null?0:e.getContainerWidth("right")+e.getContainerWidth("left")+e.getContainerWidth(null):e.getContainerWidth(this.pinned)}onRowHeightChanged(){if(!this.comp)return;const{topOffset:e,rowHeight:t}=this.getTopAndHeight();this.comp.setTop(e+"px"),this.comp.setHeight(t+"px")}getTopAndHeight(){let e=0;const t=QN(this.beans);for(let o=0;o<t.length;o++){if(o===this.rowIndex&&this.type==="group")return{topOffset:e,rowHeight:t[o]};e+=t[o]}const n=ZN(this.beans);if(this.type==="column")return{topOffset:e,rowHeight:n};e+=n;const r=U$(this.beans);return{topOffset:e,rowHeight:r}}onVirtualColumnsChanged(e=!1){if(!this.comp)return;const t=this.getUpdatedHeaderCtrls(),n=this.isEnsureDomOrder||this.isPrintLayout;this.comp.setHeaderCtrls(t,n,e)}getUpdatedHeaderCtrls(){const e=this.ctrlsById;this.ctrlsById=new Map;const t=this.getColumnsInViewport();for(const r of t)this.recycleAndCreateHeaderCtrls(r,this.ctrlsById,e);const n=r=>{const{focusSvc:o,visibleCols:a}=this.beans;return o.isHeaderWrapperFocused(r)?a.isVisible(r.column):!1};if(e)for(const[r,o]of e)n(o)?this.ctrlsById.set(r,o):this.destroyBean(o);return this.allCtrls=Array.from(this.ctrlsById.values()),this.allCtrls}getHeaderCellCtrls(){return this.allCtrls}recycleAndCreateHeaderCtrls(e,t,n){if(e.isEmptyGroup())return;const r=e.getUniqueId();let o;if(n&&(o=n.get(r),n.delete(r)),o&&o.column!=e&&(this.destroyBean(o),o=void 0),o==null)switch(this.type){case"filter":{o=this.createBean(this.beans.registry.createDynamicBean("headerFilterCellCtrl",!0,e,this));break}case"group":o=this.createBean(this.beans.registry.createDynamicBean("headerGroupCellCtrl",!0,e,this));break;default:o=this.createBean(new Pve(e,this));break}t.set(r,o)}getColumnsInViewport(){if(!this.isPrintLayout)return this.getComponentsToRender();if(this.pinned)return[];const e=[];for(const t of["left",null,"right"])e.push(...this.getComponentsToRender(t));return e}getComponentsToRender(e=this.pinned){return this.type==="group"?this.beans.colViewport.getHeadersToRender(e,this.rowIndex):this.beans.colViewport.getColumnHeadersToRender(e)}focusHeader(e,t){const n=this.allCtrls.find(o=>o.column==e);return n?n.focus(t):!1}destroy(){this.allCtrls=this.destroyBeans(this.allCtrls),this.ctrlsById=void 0,this.comp=null,super.destroy()}},K$=class extends Pe{constructor(e){super(),this.pinned=e,this.hidden=!1,this.includeFloatingFilter=!1,this.groupsRowCtrls=[]}setComp(e,t){this.comp=e,this.eViewport=t;const{pinnedCols:n,ctrlsSvc:r,colModel:o,colMoves:a}=this.beans;this.setupCenterWidth(),n?.setupHeaderPinnedWidth(this),this.setupDragAndDrop(a,this.eViewport);const l=this.refresh.bind(this,!0);this.addManagedEventListeners({displayedColumnsChanged:l,advancedFilterEnabledChanged:l});const d=`${typeof this.pinned=="string"?this.pinned:"center"}Header`;r.register(d,this),o.ready&&this.refresh()}getAllCtrls(){const e=[...this.groupsRowCtrls];return this.columnsRowCtrl&&e.push(this.columnsRowCtrl),this.filtersRowCtrl&&e.push(this.filtersRowCtrl),e}refresh(e=!1){const{focusSvc:t,filterManager:n,visibleCols:r}=this.beans;let o=0;const a=t.getFocusHeaderToUseAfterRefresh(),l=()=>{const C=r.headerGroupRowCount;o=C,e||(this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls));const y=this.groupsRowCtrls.length;if(y!==C){if(y>C){for(let S=C;S<y;S++)this.destroyBean(this.groupsRowCtrls[S]);this.groupsRowCtrls.length=C;return}for(let S=y;S<C;S++){const E=this.createBean(new QM(S,this.pinned,"group"));this.groupsRowCtrls.push(E)}}},d=()=>{const C=o++;if(this.hidden){this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl);return}this.columnsRowCtrl==null||!e?(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl),this.columnsRowCtrl=this.createBean(new QM(C,this.pinned,"column"))):this.columnsRowCtrl.rowIndex!==C&&this.columnsRowCtrl.setRowIndex(C)},f=()=>{this.includeFloatingFilter=!!n?.hasFloatingFilters()&&!this.hidden;const C=()=>{this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)};if(!this.includeFloatingFilter){C();return}e||C();const y=o++;this.filtersRowCtrl?this.filtersRowCtrl.rowIndex!==y&&this.filtersRowCtrl.setRowIndex(y):this.filtersRowCtrl=this.createBean(new QM(y,this.pinned,"filter"))},m=this.getAllCtrls();l(),d(),f();const v=this.getAllCtrls();this.comp.setCtrls(v),this.restoreFocusOnHeader(t,a),m.length!==v.length&&this.beans.eventSvc.dispatchEvent({type:"headerRowsChanged"})}getHeaderCtrlForColumn(e){const t=n=>n?.getHeaderCellCtrls().find(r=>r.column===e);if(Oh(e))return t(this.columnsRowCtrl);if(this.groupsRowCtrls.length!==0)for(let n=0;n<this.groupsRowCtrls.length;n++){const r=t(this.groupsRowCtrls[n]);if(r)return r}}getHtmlElementForColumnHeader(e){return this.getHeaderCtrlForColumn(e)?.eGui??null}getRowType(e){return this.getAllCtrls()[e]?.type}focusHeader(e,t,n){const o=this.getAllCtrls()[e];return o?o.focusHeader(t,n):!1}getGroupRowCount(){return this.groupsRowCtrls.length}getGroupRowCtrlAtIndex(e){return this.groupsRowCtrls[e]}getRowCount(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)}setHorizontalScroll(e){this.comp.setViewportScrollLeft(e)}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}destroy(){this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl),this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl),this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls),super.destroy()}setupDragAndDrop(e,t){const n=e?.createBodyDropTarget(this.pinned,t);n&&this.createManagedBean(n)}restoreFocusOnHeader(e,t){if(!t)return;const{column:n}=t;n.getPinned()==this.pinned&&e.focusHeaderPosition({headerPosition:t,scroll:!1})}setupCenterWidth(){this.pinned==null&&this.createManagedBean(new qN(e=>this.comp.setCenterWidth(`${e}px`),!0))}},Nve=class extends Pe{constructor(){super(...arguments),this.beanName="menuSvc"}postConstruct(){const{enterpriseMenuFactory:e,filterMenuFactory:t}=this.beans;this.activeMenuFactory=e??t}showColumnMenu(e){this.showColumnMenuCommon(this.activeMenuFactory,e,"columnMenu")}showFilterMenu(e){this.showColumnMenuCommon(Dz(this.beans),e,e.containerType,!0)}showHeaderContextMenu(e,t,n){this.activeMenuFactory?.showMenuAfterContextMenuEvent(e,t,n)}hidePopupMenu(){this.beans.contextMenuSvc?.hideActiveMenu(),this.activeMenuFactory?.hideActiveMenu()}hideFilterMenu(){Dz(this.beans)?.hideActiveMenu()}isColumnMenuInHeaderEnabled(e){const{suppressHeaderMenuButton:t}=e.getColDef();return!t&&!!this.activeMenuFactory?.isMenuEnabled(e)&&(ws(this.gos)||!!this.beans.enterpriseMenuFactory)}isFilterMenuInHeaderEnabled(e){return!e.getColDef().suppressHeaderFilterButton&&!!this.beans.filterManager?.isFilterAllowed(e)}isHeaderContextMenuEnabled(e){return!(e&&Oh(e)?e.getColDef():e?.getColGroupDef())?.suppressHeaderContextMenu&&this.gos.get("columnMenu")==="new"}isHeaderMenuButtonAlwaysShowEnabled(){return this.isSuppressMenuHide()}isHeaderMenuButtonEnabled(){const e=!this.isSuppressMenuHide();return!(Ip()&&e)}isHeaderFilterButtonEnabled(e){return this.isFilterMenuInHeaderEnabled(e)&&!ws(this.gos)&&!this.isFloatingFilterButtonDisplayed(e)}isFilterMenuItemEnabled(e){return!!this.beans.filterManager?.isFilterAllowed(e)&&!ws(this.gos)&&!this.isFilterMenuInHeaderEnabled(e)&&!this.isFloatingFilterButtonDisplayed(e)}isFloatingFilterButtonEnabled(e){return!e.getColDef().suppressFloatingFilterButton}isFloatingFilterButtonDisplayed(e){return!!e.getColDef().floatingFilter&&this.isFloatingFilterButtonEnabled(e)}isSuppressMenuHide(){const e=this.gos,t=e.get("suppressMenuHide");return ws(e)?e.exists("suppressMenuHide")?t:!1:t}showColumnMenuCommon(e,t,n,r){const{positionBy:o,onClosedCallback:a}=t,l=t.column;if(o==="button"){const{buttonElement:d}=t;e?.showMenuAfterButtonClick(l,d,n,a,r)}else if(o==="mouse"){const{mouseEvent:d}=t;e?.showMenuAfterMouseEvent(l,d,n,a,r)}else if(l){const d=this.beans,f=d.ctrlsSvc;f.getScrollFeature().ensureColumnVisible(l,"auto"),Zd(d,()=>{const m=f.getHeaderRowContainerCtrl(l.getPinned())?.getHeaderCtrlForColumn(l);m&&e?.showMenuAfterButtonClick(l,m.getAnchorElementForMenu(r),n,a,r)})}}};function Ez(e,t,n){e.menuVisible!==t&&(e.menuVisible=t,e.dispatchColEvent("menuVisibleChanged",n))}function Dz(e){const{enterpriseMenuFactory:t,filterMenuFactory:n,gos:r}=e;return t&&ws(r)?t:n}var bE=class extends ON{constructor(){super(...arguments),this.errorMessages=null}init(e){this.params=e,this.initialiseEditor(e),this.eEditor.onValueChange(()=>e.validate())}destroy(){this.errorMessages=null}},Y$=class extends nn{constructor(){super()}},Ove={tag:"span",cls:"ag-overlay-loading-center"},Fve=class extends Y${init(){const e=xd(this.gos.get("overlayLoadingTemplate")?.trim());if(this.setTemplate(e??Ove),!e){const n=this.getLocaleTextFunc()("loadingOoo","Loading...");this.getGui().textContent=n,this.beans.ariaAnnounce.announceValue(n,"overlay")}}},Lve={tag:"span",cls:"ag-overlay-no-rows-center"},Bve=class extends Y${init(){const e=xd(this.gos.get("overlayNoRowsTemplate")?.trim());if(this.setTemplate(e??Lve),!e){const n=this.getLocaleTextFunc()("noRowsToShow","No Rows To Show");this.getGui().textContent=n,this.beans.ariaAnnounce.announceValue(n,"overlay")}}};function jve(e,t,n){const r=Cs(e,t,n);if(r){const{className:a}=r;if(typeof a=="string"&&a.includes("ag-icon")||typeof a=="object"&&a["ag-icon"])return r}const o=Dr({tag:"span"});return o.appendChild(r),o}function Cs(e,t,n){let r=null;e==="smallDown"?ze(262):e==="smallLeft"?ze(263):e==="smallRight"&&ze(264);const o=n?.getColDef().icons;if(o&&(r=o[e]),t.gos&&!r){const a=t.gos.get("icons");a&&(r=a[e])}if(r){let a;if(typeof r=="function")a=r();else if(typeof r=="string")a=r;else{ze(38,{iconName:e});return}if(typeof a=="string")return xN(a);if(_N(a))return a;ze(133,{iconName:e});return}else{const a=t.registry.getIcon(e);return a||t.validation?.validateIcon(e),Dr({tag:"span",cls:`ag-icon ag-icon-${a??e}`,role:"presentation",attrs:{unselectable:"on"}})}}var zve=".ag-dnd-ghost{align-items:center;background-color:var(--ag-drag-and-drop-image-background-color);border:var(--ag-drag-and-drop-image-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-drag-and-drop-image-shadow);color:var(--ag-text-color);cursor:move;display:flex;font-weight:500;gap:var(--ag-cell-widget-spacing);height:var(--ag-header-height);overflow:hidden;padding-left:var(--ag-cell-horizontal-padding);padding-right:var(--ag-cell-horizontal-padding);text-overflow:ellipsis;transform:translateY(calc(var(--ag-spacing)*2));white-space:nowrap}.ag-dnd-ghost-not-allowed{border:var(--ag-drag-and-drop-image-not-allowed-border)}",Hve={tag:"div",children:[{tag:"div",ref:"eGhost",cls:"ag-dnd-ghost ag-unselectable",children:[{tag:"span",ref:"eIcon",cls:"ag-dnd-ghost-icon ag-shake-left-to-right"},{tag:"div",ref:"eLabel",cls:"ag-dnd-ghost-label"}]}]},Vve=class extends nn{constructor(){super(),this.dragSource=null,this.eIcon=qe,this.eLabel=qe,this.eGhost=qe,this.registerCSS(zve)}postConstruct(){const e=t=>jve(t,this.beans,null);this.dropIconMap={pinned:e("columnMovePin"),hide:e("columnMoveHide"),move:e("columnMoveMove"),left:e("columnMoveLeft"),right:e("columnMoveRight"),group:e("columnMoveGroup"),aggregate:e("columnMoveValue"),pivot:e("columnMovePivot"),notAllowed:e("dropNotAllowed")}}init(e){this.dragSource=e.dragSource,this.setTemplate(Hve),this.beans.environment.applyThemeClasses(this.eGhost)}destroy(){this.dragSource=null,super.destroy()}setIcon(e,t){const{eGhost:n,eIcon:r,dragSource:o,dropIconMap:a,gos:l}=this;ki(r);let d=null;e||(e=o?.getDefaultIconName?o.getDefaultIconName():"notAllowed"),d=a[e],n.classList.toggle("ag-dnd-ghost-not-allowed",e==="notAllowed"),r.classList.toggle("ag-shake-left-to-right",t),!(d===a.hide&&l.get("suppressDragLeaveHidesColumns"))&&d&&r.appendChild(d)}setLabel(e){this.eLabel.textContent=e}},Gve=".ag-checkbox-cell{height:100%}",Uve={tag:"div",cls:"ag-cell-wrapper ag-checkbox-cell",role:"presentation",children:[{tag:"ag-checkbox",ref:"eCheckbox",role:"presentation"}]},Wve=class extends nn{constructor(){super(Uve,[BN]),this.eCheckbox=qe,this.registerCSS(Gve)}init(e){this.refresh(e);const{eCheckbox:t,beans:n}=this,r=t.getInputElement();r.setAttribute("tabindex","-1"),eW(r,"polite"),this.addManagedListeners(r,{click:o=>{if(Lh(o),t.isDisabled())return;const a=t.getValue();this.onCheckboxChanged(a)},dblclick:o=>{Lh(o)}}),this.addManagedElementListeners(e.eGridCell,{keydown:o=>{if(o.key===xe.SPACE&&!t.isDisabled()){e.eGridCell===Qn(n)&&t.toggle();const a=t.getValue();this.onCheckboxChanged(a),o.preventDefault()}}})}refresh(e){return this.params=e,this.updateCheckbox(e),!0}updateCheckbox(e){let t,n=!0;const{value:r,column:o,node:a}=e;if(a.group&&o)if(typeof r=="boolean")t=r;else{const C=o.getColId();C.startsWith(hE)?t=r==null||r===""?void 0:r==="true":a.aggData&&a.aggData[C]!==void 0||a.sourceRowIndex>=0?t=r??void 0:n=!1}else t=r??void 0;const{eCheckbox:l}=this;if(!n){l.setDisplayed(!1);return}l.setValue(t);const d=e.disabled??!o?.isCellEditable(a);l.setDisabled(d);const f=this.getLocaleTextFunc(),m=cE(f,t),v=d?m:`${f("ariaToggleCellValue","Press SPACE to toggle cell value")} (${m})`;l.setInputAriaLabel(v)}onCheckboxChanged(e){const{params:t}=this,{column:n,node:r,value:o}=t;this.beans?.editSvc?.setEditingCells([{column:n,colId:n.getColId(),rowIndex:r.rowIndex,rowPinned:r.rowPinned,state:"changed",oldValue:o,newValue:o}],{update:!0,forceRefreshOfEditCellsOnly:!0});const a=r.setDataValue(n,e,"renderer");this.beans.editSvc?.stopEditing({rowNode:r,column:n},{source:this.beans.editSvc?.isBatchEditing()?"ui":"api"}),a||this.updateCheckbox(t)}},Mz=class{constructor(e,t){this.beans=e,this.floating=t,this.all=new Set,this.visible=new Set,this.order=[],this.queued=new Set}size(){return this.visible.size}add(e){const{all:t,visible:n,order:r}=this;t.has(e)||(t.add(e),n.add(e),r.push(e),this.sort())}delete(e){this.all.delete(e),this.visible.delete(e),this.queued.delete(e.id),el(this.order,e)}has(e){return this.visible.has(e)}forEach(e){this.order.forEach(e)}getByIndex(e){return this.order[e]}getById(e){for(const t of this.visible)if(t.id==e)return t}clear(){const{all:e,visible:t,order:n,queued:r}=this;e.clear(),r.clear(),t.clear(),n.length=0}sort(){const{sortSvc:e,rowNodeSorter:t,gos:n}=this.beans,r=e?.getSortOptions()??[],o=Kve(this.order);if(this.order.sort((l,d)=>(l.pinnedSibling?.rowIndex??0)-(d.pinnedSibling?.rowIndex??0)),this.order=t?.doFullSort(this.order,r)??this.order,!o)return;const a=PN(n);a==="bottom"||a==="pinnedBottom"?this.order.push(o):this.order.unshift(o)}hide(e){const{all:t,visible:n}=this;t.forEach(r=>e(r)?n.delete(r):n.add(r)),this.order=Array.from(n),this.sort()}queue(e){this.queued.add(e)}unqueue(e){this.queued.delete(e)}forEachQueued(e){this.queued.forEach(e)}};function Q$(e){if(e.level===-1)return!0;const t=e.parent;return t?.childrenAfterSort?.some(n=>n==e)?Q$(t):!1}function ZM(e,t){const{gos:n,rowModel:r,filterManager:o}=e;return cc(n)?!r.getRowNode(t.id):o?.isAnyFilterPresent()?!Q$(t):n.get("pivotMode")?!t.group:!1}function $ve(e){return!!e.footer&&e.level===-1}function qve(e){return!!e.pinnedSibling&&$ve(e.pinnedSibling)}function Kve(e){const t=e.findIndex(qve);if(t>-1)return e.splice(t,1)?.[0]}var Tz=class extends Pe{postConstruct(){const{gos:e,beans:t}=this;this.top=new Mz(t,"top"),this.bottom=new Mz(t,"bottom");const n=o=>ZM(t,o.pinnedSibling),r=()=>{const o=e.get("isRowPinned");o&&e.get("enableRowPinning")&&t.rowModel.forEachNode(a=>this.pinRow(a,o(a)),!0),this.refreshRowPositions(),this.dispatchRowPinnedEvents()};this.addManagedEventListeners({gridStylesChanged:this.onGridStylesChanges.bind(this),modelUpdated:({keepRenderedRows:o})=>{this.tryToEmptyQueues(),this.pinGrandTotalRow(),this.forContainers(l=>l.hide(n));const a=this.refreshRowPositions();(!o||a)&&this.dispatchRowPinnedEvents()},columnRowGroupChanged:()=>{this.forContainers(Qve),this.refreshRowPositions()},rowNodeDataChanged:({node:o})=>{(e.get("isRowPinnable")?.(o)??!0)||this.pinRow(o,null)},firstDataRendered:r}),this.addManagedPropertyListener("pivotMode",()=>{this.forContainers(o=>o.hide(n)),this.dispatchRowPinnedEvents()}),this.addManagedPropertyListener("grandTotalRow",({currentValue:o})=>{this._grandTotalPinned=o==="pinnedBottom"?"bottom":o==="pinnedTop"?"top":null}),this.addManagedPropertyListener("isRowPinned",r)}destroy(){this.reset(!1),super.destroy()}reset(e=!0){this.forContainers(t=>{const n=[];t.forEach(r=>n.push(r)),n.forEach(r=>this.pinRow(r,null)),t.clear()}),e&&this.dispatchRowPinnedEvents()}pinRow(e,t,n){if(e.footer&&e.level>-1)return;if(e.footer&&e.level===-1){this._grandTotalPinned=t,Xve(this.beans);return}const r=e.rowPinned??e.pinnedSibling?.rowPinned;if(r!=null&&t!=null&&t!=r){const l=e.rowPinned?e:e.pinnedSibling,d=e.rowPinned?e.pinnedSibling:e;this.pinRow(l,null,n),this.pinRow(d,t,n);return}const a=n&&Zve(this.beans,e,n);if(a){a.forEach(l=>this.pinRow(l,t));return}if(t==null){const l=e.rowPinned?e:e.pinnedSibling,d=this.findPinnedRowNode(l);if(!d)return;d.delete(l);const f=l.pinnedSibling;XM(l),this.refreshRowPositions(t),this.dispatchRowPinnedEvents(f)}else{const l=Rz(this.beans,e,t),d=this.getContainer(t);d.add(l),ZM(this.beans,e)&&d.hide(f=>ZM(this.beans,f.pinnedSibling)),this.refreshRowPositions(t),this.dispatchRowPinnedEvents(e)}}isManual(){return!0}isEmpty(e){return this.getContainer(e).size()===0}isRowsToRender(e){return!this.isEmpty(e)}ensureRowHeightsValid(){let e=!1,t=0;const n=r=>{if(r.rowHeightEstimated){const o=Fd(this.beans,r);r.setRowTop(t),r.setRowHeight(o.height),t+=o.height,e=!0}};return this.bottom.forEach(n),t=0,this.top.forEach(n),this.eventSvc.dispatchEvent({type:"pinnedHeightChanged"}),e}getPinnedTopTotalHeight(){return Pz(this.top)}getPinnedBottomTotalHeight(){return Pz(this.bottom)}getPinnedTopRowCount(){return this.top.size()}getPinnedBottomRowCount(){return this.bottom.size()}getPinnedTopRow(e){return this.top.getByIndex(e)}getPinnedBottomRow(e){return this.bottom.getByIndex(e)}getPinnedRowById(e,t){return this.getContainer(t).getById(e)}forEachPinnedRow(e,t){this.getContainer(e).forEach(t)}getPinnedState(){const e=t=>{const n=[];return this.forEachPinnedRow(t,r=>n.push(r.pinnedSibling.id)),n};return{top:e("top"),bottom:e("bottom")}}setPinnedState(e){this.forContainers((t,n)=>{for(const r of e[n]){const o=this.beans.rowModel.getRowNode(r);o?this.pinRow(o,n):t.queue(r)}})}getGrandTotalPinned(){return this._grandTotalPinned}setGrandTotalPinned(e){this._grandTotalPinned=e}tryToEmptyQueues(){this.forContainers((e,t)=>{const n=new Set;e.forEachQueued(r=>{const o=this.beans.rowModel.getRowNode(r);o&&n.add(o)});for(const r of n)e.unqueue(r.id),this.pinRow(r,t)})}pinGrandTotalRow(){const{gos:e,beans:t,_grandTotalPinned:n}=this,r=t.rowModel;if(!Wn(e))return;const o=r.rootNode?.sibling;if(!o)return;const a=o.pinnedSibling,l=a&&this.findPinnedRowNode(a);if(n){if(l&&l.floating!==n&&(l.delete(a),XM(a)),!l||l.floating!==n){const d=Rz(t,o,n);this.getContainer(n).add(d)}}else{if(!l)return;l.delete(a),XM(a)}}onGridStylesChanges(e){e.rowHeightChanged&&this.forContainers(t=>t.forEach(n=>n.setRowHeight(n.rowHeight,!0)))}getContainer(e){return e==="top"?this.top:this.bottom}findPinnedRowNode(e){if(this.top.has(e))return this.top;if(this.bottom.has(e))return this.bottom}refreshRowPositions(e){const t=r=>Yve(this.beans,r);if(e)return t(this.getContainer(e));let n=!1;return this.forContainers(r=>{const o=t(r);n||(n=o)}),n}forContainers(e){e(this.top,"top"),e(this.bottom,"bottom")}dispatchRowPinnedEvents(e){this.eventSvc.dispatchEvent({type:"pinnedRowsChanged"}),e?.dispatchRowEvent("rowPinned")}};function Yve(e,t){let n=0,r=!1;return t.forEach((o,a)=>{if(r||(r=o.rowTop!==n),o.setRowTop(n),o.rowHeightEstimated||o.rowHeight==null){const l=Fd(e,o).height;r||(r=o.rowHeight!==l),o.setRowHeight(l)}o.setRowIndex(a),n+=o.rowHeight}),r}function Rz(e,t,n){if(t.pinnedSibling)return t.pinnedSibling;const r=k$(t,e);r.setRowTop(null),r.setRowIndex(null),r.rowPinned=n;const o=n==="top"?GN:UN;return r.id=`${o}${n}-${t.id}`,r.pinnedSibling=t,t.pinnedSibling=r,r}function XM(e){if(!e.pinnedSibling)return;e.rowPinned=null,e.setRowTop(null),e.setRowIndex(null);const t=e.pinnedSibling;e.pinnedSibling=void 0,t&&(t.pinnedSibling=void 0,t.rowPinned=null)}function Qve(e){const t=new Set;e.forEach(n=>{n.group&&t.add(n)}),t.forEach(n=>e.delete(n))}function Zve(e,t,n){const{rowSpanSvc:r}=e,o=(n&&r?.isCellSpanning(n,t))??!1;if(n&&o)return r?.getCellSpan(n,t)?.spannedNodes}function Pz(e){const t=e.size();if(t===0)return 0;const n=e.getByIndex(t-1);return n===void 0?0:n.rowTop+n.rowHeight}function Xve({gos:e,rowModel:t}){Wn(e)&&t.refreshModel({step:"map"})}var Iz=class extends Pe{constructor(){super(...arguments),this.nextId=0,this.pinnedTopRows={cache:{},order:[]},this.pinnedBottomRows={cache:{},order:[]}}postConstruct(){const e=this.gos;this.setPinnedRowData(e.get("pinnedTopRowData"),"top"),this.setPinnedRowData(e.get("pinnedBottomRowData"),"bottom"),this.addManagedPropertyListener("pinnedTopRowData",t=>this.setPinnedRowData(t.currentValue,"top")),this.addManagedPropertyListener("pinnedBottomRowData",t=>this.setPinnedRowData(t.currentValue,"bottom")),this.addManagedEventListeners({gridStylesChanged:this.onGridStylesChanges.bind(this)})}reset(){}isEmpty(e){return this.getCache(e).order.length===0}isRowsToRender(e){return!this.isEmpty(e)}isManual(){return!1}pinRow(e,t){}onGridStylesChanges(e){if(e.rowHeightChanged){const t=n=>{n.setRowHeight(n.rowHeight,!0)};ZC(this.pinnedBottomRows,t),ZC(this.pinnedTopRows,t)}}ensureRowHeightsValid(){let e=!1,t=0;const n=r=>{if(r.rowHeightEstimated){const o=Fd(this.beans,r);r.setRowTop(t),r.setRowHeight(o.height),t+=o.height,e=!0}};return ZC(this.pinnedBottomRows,n),t=0,ZC(this.pinnedTopRows,n),this.eventSvc.dispatchEvent({type:"pinnedHeightChanged"}),e}setPinnedRowData(e,t){this.updateNodesFromRowData(e,t),this.eventSvc.dispatchEvent({type:"pinnedRowDataChanged"})}updateNodesFromRowData(e,t){const n=this.getCache(t);if(e===void 0){n.order.length=0,n.cache={};return}const r=Db(this.gos),o=t==="top"?GN:UN,a=new Set(n.order),l=[],d=new Set;let f=0,m=-1;for(const v of e){const C=r?.({data:v,level:0,rowPinned:t})??o+this.nextId++;if(d.has(C)){ze(96,{id:C,data:v});continue}m++,d.add(C),l.push(C);const y=Ey(n,C);if(y!==void 0)y.data!==v&&y.updateData(v),f+=this.setRowTopAndRowIndex(y,f,m),a.delete(C);else{const S=new Bd(this.beans);S.id=C,S.data=v,S.rowPinned=t,f+=this.setRowTopAndRowIndex(S,f,m),n.cache[C]=S,n.order.push(C)}}for(const v of a)Ey(n,v)?.clearRowTopAndRowIndex(),delete n.cache[v];n.order=l}setRowTopAndRowIndex(e,t,n){return e.setRowTop(t),e.setRowHeight(Fd(this.beans,e).height),e.setRowIndex(n),e.rowHeight}getPinnedTopTotalHeight(){return Nz(this.pinnedTopRows)}getPinnedBottomTotalHeight(){return Nz(this.pinnedBottomRows)}getPinnedTopRowCount(){return HP(this.pinnedTopRows)}getPinnedBottomRowCount(){return HP(this.pinnedBottomRows)}getPinnedTopRow(e){return zP(this.pinnedTopRows,e)}getPinnedBottomRow(e){return zP(this.pinnedBottomRows,e)}getPinnedRowById(e,t){return Ey(this.getCache(t),e)}forEachPinnedRow(e,t){return ZC(this.getCache(e),t)}getCache(e){return e==="top"?this.pinnedTopRows:this.pinnedBottomRows}getPinnedState(){return{top:[],bottom:[]}}setPinnedState(){}getGrandTotalPinned(){}setGrandTotalPinned(){}};function Nz(e){const t=HP(e);if(t===0)return 0;const n=zP(e,t-1);return n===void 0?0:n.rowTop+n.rowHeight}function Ey(e,t){return e.cache[t]}function zP(e,t){return Ey(e,e.order[t])}function ZC(e,t){e.order.forEach((n,r)=>{const o=Ey(e,n);o&&t(o,r)})}function HP(e){return e.order.length}var Jve=class extends Pe{constructor(){super(...arguments),this.beanName="pinnedRowModel"}postConstruct(){const{gos:e}=this,t=()=>{const n=e.get("enableRowPinning"),r=PN(e),a=!!n||(r==="pinnedBottom"||r==="pinnedTop"),l=a?this.inner instanceof Iz:this.inner instanceof Tz;this.inner&&l&&this.destroyBean(this.inner),(l||!this.inner)&&(this.inner=this.createManagedBean(a?new Tz:new Iz))};this.addManagedPropertyListeners(["enableRowPinning","grandTotalRow"],t),t()}reset(){return this.inner.reset()}isEmpty(e){return this.inner.isEmpty(e)}isManual(){return this.inner.isManual()}isRowsToRender(e){return this.inner.isRowsToRender(e)}pinRow(e,t,n){return this.inner.pinRow(e,t,n)}ensureRowHeightsValid(){return this.inner.ensureRowHeightsValid()}getPinnedRowById(e,t){return this.inner.getPinnedRowById(e,t)}getPinnedTopTotalHeight(){return this.inner.getPinnedTopTotalHeight()}getPinnedBottomTotalHeight(){return this.inner.getPinnedBottomTotalHeight()}getPinnedTopRowCount(){return this.inner.getPinnedTopRowCount()}getPinnedBottomRowCount(){return this.inner.getPinnedBottomRowCount()}getPinnedTopRow(e){return this.inner.getPinnedTopRow(e)}getPinnedBottomRow(e){return this.inner.getPinnedBottomRow(e)}forEachPinnedRow(e,t){return this.inner.forEachPinnedRow(e,t)}getPinnedState(){return this.inner.getPinnedState()}setPinnedState(e){return this.inner.setPinnedState(e)}setGrandTotalPinned(e){return this.inner.setGrandTotalPinned(e)}getGrandTotalPinned(){return this.inner.getGrandTotalPinned()}};function D0(e){return!!(e.rowPinned&&e.pinnedSibling)}function ea(e,t,n,r){const o=t==="top";if(!n)return ea(e,t,o?e.getPinnedTopRow(0):e.getPinnedBottomRow(0),r);if(!r){const f=o?e.getPinnedTopRowCount():e.getPinnedBottomRowCount();return ea(e,t,n,o?e.getPinnedTopRow(f-1):e.getPinnedBottomRow(f-1))}let a=!1,l=!1;const d=[];return e.forEachPinnedRow(t,f=>{if(f===n&&!a){a=!0,d.push(f);return}if(a&&f===r){l=!0,d.push(f);return}a&&!l&&d.push(f)}),d}var ewe={tag:"div",cls:"ag-selection-checkbox",role:"presentation",children:[{tag:"ag-checkbox",ref:"eCheckbox",role:"presentation"}]},twe=class extends nn{constructor(){super(ewe,[BN]),this.eCheckbox=qe}postConstruct(){this.eCheckbox.setPassive(!0)}onDataChanged(){this.onSelectionChanged()}onSelectableChanged(){this.showOrHideSelect()}onSelectionChanged(){const e=this.getLocaleTextFunc(),{rowNode:t,eCheckbox:n}=this,r=t.isSelected(),o=cE(e,r),[a,l]=t.selectable?["ariaRowToggleSelection","Press Space to toggle row selection"]:["ariaRowSelectionDisabled","Row Selection is disabled for this row"],d=e(a,l);n.setValue(r,!0),n.setInputAriaLabel(`${d} (${o})`)}init(e){if(this.rowNode=e.rowNode,this.column=e.column,this.overrides=e.overrides,this.onSelectionChanged(),this.addManagedListeners(this.eCheckbox.getInputElement(),{dblclick:Lh,click:r=>{Lh(r),this.beans.selectionSvc?.handleSelectionEvent(r,this.rowNode,"checkboxSelected")}}),this.addManagedListeners(this.rowNode,{rowSelected:this.onSelectionChanged.bind(this),dataChanged:this.onDataChanged.bind(this),selectableChanged:this.onSelectableChanged.bind(this)}),this.addManagedPropertyListener("rowSelection",({currentValue:r,previousValue:o})=>{const a=typeof r=="object"?NM(r):void 0,l=typeof o=="object"?NM(o):void 0;a!==l&&this.onSelectableChanged()}),_P(this.gos)||typeof this.getIsVisible()=="function"){const r=this.showOrHideSelect.bind(this);this.addManagedEventListeners({displayedColumnsChanged:r}),this.addManagedListeners(this.rowNode,{dataChanged:r,cellChanged:r}),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")}showOrHideSelect(){const{column:e,rowNode:t,overrides:n,gos:r}=this,o=t.selectable,a=this.getIsVisible();let l;if(typeof a=="function"){const C=n?.callbackParams;if(!e)l=a({...C,node:t,data:t.data});else{const y=e.createColumnFunctionCallbackParams(t);l=a({...C,...y})}}else l=a??!1;const d=o&&!l||!o&&l,f=o||l,m=r.get("rowSelection"),v=m&&typeof m!="string"?!NM(m):!!e?.getColDef().showDisabledCheckboxes;this.setVisible(f&&(d?v:!0)),this.setDisplayed(f&&(d?v:!0)),f&&this.eCheckbox.setDisabled(d),n?.removeHidden&&this.setDisplayed(f)}getIsVisible(){const e=this.overrides;if(e)return e.isVisible;const t=this.gos.get("rowSelection");return t&&typeof t!="string"?Pp(t):this.column?.getColDef()?.checkboxSelection}},nwe=class{constructor(e,t){this.rowModel=e,this.pinnedRowModel=t,this.selectAll=!1,this.rootId=null,this.endId=null,this.cachedRange=[]}reset(){this.rootId=null,this.endId=null,this.cachedRange.length=0}setRoot(e){this.rootId=e.id,this.endId=null,this.cachedRange.length=0}setEndRange(e){this.endId=e.id,this.cachedRange.length=0}getRange(){if(this.cachedRange.length===0){const e=this.getRoot(),t=this.getEnd();if(e==null||t==null)return this.cachedRange;this.cachedRange=this.getNodesInRange(e,t)??[]}return this.cachedRange}isInRange(e){return this.rootId===null?!1:this.getRange().some(t=>t.id===e.id)}getRoot(e){if(this.rootId)return this.getRowNode(this.rootId);if(e)return this.setRoot(e),e}getEnd(){if(this.endId)return this.getRowNode(this.endId)}getRowNode(e){let t;const{rowModel:n,pinnedRowModel:r}=this;return t??(t=n.getRowNode(e)),r?.isManual()&&(t??(t=r.getPinnedRowById(e,"top")),t??(t=r.getPinnedRowById(e,"bottom"))),t}truncate(e){const t=this.getRange();if(t.length===0)return{keep:[],discard:[]};const n=t[0].id===this.rootId,r=t.findIndex(o=>o.id===e.id);if(r>-1){const o=t.slice(0,r),a=t.slice(r+1);return this.setEndRange(e),n?{keep:o,discard:a}:{keep:a,discard:o}}else return{keep:t,discard:[]}}extend(e,t=!1){const n=this.getRoot();if(n==null){const o=this.getRange().slice();return t&&e.depthFirstSearch(a=>!a.group&&o.push(a)),o.push(e),this.setRoot(e),{keep:o,discard:[]}}const r=this.getNodesInRange(n,e);if(!r)return this.setRoot(e),{keep:[e],discard:[]};if(r.find(o=>o.id===this.endId))return this.setEndRange(e),{keep:this.getRange(),discard:[]};{const o=this.getRange().slice();return this.setEndRange(e),{keep:this.getRange(),discard:o}}}getNodesInRange(e,t){const{pinnedRowModel:n,rowModel:r}=this;if(!n?.isManual())return r.getNodesInRangeForSelection(e,t);if(e.rowPinned==="top"&&!t.rowPinned)return ea(n,"top",e,void 0).concat(r.getNodesInRangeForSelection(r.getRow(0),t)??[]);if(e.rowPinned==="bottom"&&!t.rowPinned){const o=ea(n,"bottom",void 0,e),a=r.getRowCount(),l=r.getRow(a-1);return(r.getNodesInRangeForSelection(t,l)??[]).concat(o)}if(!e.rowPinned&&!t.rowPinned)return r.getNodesInRangeForSelection(e,t);if(e.rowPinned==="top"&&t.rowPinned==="top")return ea(n,"top",e,t);if(e.rowPinned==="bottom"&&t.rowPinned==="top"){const o=ea(n,"top",t,void 0),a=ea(n,"bottom",void 0,e),l=r.getRow(0),d=r.getRow(r.getRowCount()-1);return o.concat(r.getNodesInRangeForSelection(l,d)??[]).concat(a)}if(!e.rowPinned&&t.rowPinned==="top")return ea(n,"top",t,void 0).concat(r.getNodesInRangeForSelection(r.getRow(0),e)??[]);if(e.rowPinned==="top"&&t.rowPinned==="bottom"){const o=ea(n,"top",e,void 0),a=ea(n,"bottom",void 0,t),l=r.getRow(0),d=r.getRow(r.getRowCount()-1);return o.concat(r.getNodesInRangeForSelection(l,d)??[]).concat(a)}if(e.rowPinned==="bottom"&&t.rowPinned==="bottom")return ea(n,"bottom",e,t);if(!e.rowPinned&&t.rowPinned==="bottom"){const o=ea(n,"bottom",void 0,t),a=r.getRow(r.getRowCount());return(r.getNodesInRangeForSelection(e,a)??[]).concat(o)}return null}},rwe=class extends Pe{constructor(e){super(),this.column=e,this.cbSelectAllVisible=!1,this.processingEventFromCheckbox=!1}onSpaceKeyDown(e){const t=this.cbSelectAll;t.isDisplayed()&&!t.getGui().contains(Qn(this.beans))&&(e.preventDefault(),t.setValue(!t.getValue()))}getCheckboxGui(){return this.cbSelectAll.getGui()}setComp(e){this.headerCellCtrl=e;const t=this.createManagedBean(new LN);this.cbSelectAll=t,t.addCss("ag-header-select-all"),Od(t.getGui(),"presentation"),this.showOrHideSelectAll();const n=this.updateStateOfCheckbox.bind(this);this.addManagedEventListeners({newColumnsLoaded:()=>this.showOrHideSelectAll(),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),selectionChanged:n,paginationChanged:n,modelUpdated:n}),this.addManagedPropertyListener("rowSelection",({currentValue:r,previousValue:o})=>{const a=l=>typeof l=="string"||!l||l.mode==="singleRow"?void 0:l.selectAll;a(r)!==a(o)&&this.showOrHideSelectAll(),this.updateStateOfCheckbox()}),this.addManagedListeners(t,{fieldValueChanged:this.onCbSelectAll.bind(this)}),t.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()}onDisplayedColumnsChanged(e){this.isAlive()&&this.showOrHideSelectAll(e.source==="uiColumnMoved")}showOrHideSelectAll(e=!1){const t=this.isCheckboxSelection();this.cbSelectAllVisible=t,this.cbSelectAll.setDisplayed(t),t&&(this.checkRightRowModelType("selectAllCheckbox"),this.checkSelectionType("selectAllCheckbox"),this.updateStateOfCheckbox()),this.refreshSelectAllLabel(e)}updateStateOfCheckbox(){if(!this.cbSelectAllVisible||this.processingEventFromCheckbox)return;this.processingEventFromCheckbox=!0;const e=this.getSelectAllMode(),t=this.beans.selectionSvc,n=this.cbSelectAll,r=t.getSelectAllState(e);n.setValue(r);const o=t.hasNodesToSelect(e);n.setDisabled(!o),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}refreshSelectAllLabel(e=!1){const t=this.getLocaleTextFunc(),{headerCellCtrl:n,cbSelectAll:r,cbSelectAllVisible:o}=this,a=r.getValue(),l=cE(t,a),d=t("ariaRowSelectAll","Press Space to toggle all rows selection");n.setAriaDescriptionProperty("selectAll",o?`${d} (${l})`:null),r.setInputAriaLabel(t("ariaHeaderSelection","Column with Header Selection")),e||n.announceAriaDescription()}checkSelectionType(e){return Gy(this.gos)?!0:(ze(128,{feature:e}),!1)}checkRightRowModelType(e){const{gos:t,rowModel:n}=this.beans;return Wn(t)||cc(t)?!0:(ze(129,{feature:e,rowModel:n.getType()}),!1)}onCbSelectAll(){if(this.processingEventFromCheckbox||!this.cbSelectAllVisible)return;const e=this.cbSelectAll.getValue(),t=this.getSelectAllMode();let n="uiSelectAll";t==="currentPage"?n="uiSelectAllCurrentPage":t==="filtered"&&(n="uiSelectAllFiltered");const r={source:n,selectAll:t},o=this.beans.selectionSvc;e?o.selectAllRowNodes(r):o.deselectAllRowNodes(r)}isCheckboxSelection(){const{column:e,gos:t,beans:n}=this,a=typeof t.get("rowSelection")=="object"?"headerCheckbox":"headerCheckboxSelection";return Z$(n,e)&&this.checkRightRowModelType(a)&&this.checkSelectionType(a)}getSelectAllMode(){const e=LW(this.gos,!1);if(e)return e;const{headerCheckboxSelectionCurrentPageOnly:t,headerCheckboxSelectionFilteredOnly:n}=this.column.getColDef();return t?"currentPage":n?"filtered":"all"}destroy(){super.destroy(),this.cbSelectAll=void 0,this.headerCellCtrl=void 0}};function Z$({gos:e,selectionColSvc:t},n){const r=e.get("rowSelection"),o=n.getColDef(),{headerCheckboxSelection:a}=o;let l=!1;if(typeof r=="object"){const f=Xd(n),m=IN(n);(Vy(r)==="autoGroupColumn"&&m||f&&t?.isSelectionColumnEnabled())&&(l=q1(r))}else typeof a=="function"?l=a(ht(e,{column:n,colDef:o})):l=!!a;return l}var iwe=class extends Pe{postConstruct(){const{gos:e,beans:t}=this;this.selectionCtx=new nwe(t.rowModel,t.pinnedRowModel),this.addManagedPropertyListeners(["isRowSelectable","rowSelection"],()=>{const n=_P(e);n!==this.isRowSelectable&&(this.isRowSelectable=n,this.updateSelectable())}),this.isRowSelectable=_P(e),this.addManagedEventListeners({cellValueChanged:n=>this.updateRowSelectable(n.node),rowNodeDataChanged:n=>this.updateRowSelectable(n.node)})}destroy(){super.destroy(),this.selectionCtx.reset()}createCheckboxSelectionComponent(){return new twe}createSelectAllFeature(e){if(Z$(this.beans,e))return new rwe(e)}isMultiSelect(){return Gy(this.gos)}onRowCtrlSelected(e,t,n){const r=!!e.rowNode.isSelected();e.forEachGui(n,o=>{o.rowComp.toggleCss("ag-row-selected",r);const a=o.element;aW(a,r),a.contains(Qn(this.beans))&&t(o)})}announceAriaRowSelection(e){if(this.isRowSelectionBlocked(e))return;const t=e.isSelected(),n=this.beans.editSvc?.isEditing({rowNode:e});if(!e.selectable||n)return;const o=this.getLocaleTextFunc()(t?"ariaRowDeselect":"ariaRowSelect",`Press SPACE to ${t?"deselect":"select"} this row`);this.beans.ariaAnnounce?.announceValue(o,"rowSelection")}isRowSelectionBlocked(e){return!e.selectable||e.rowPinned&&!D0(e)||!Th(this.gos)}updateRowSelectable(e,t){const n=e.rowPinned&&e.pinnedSibling?e.pinnedSibling.selectable:this.isRowSelectable?.(e)??!0;return this.setRowSelectable(e,n,t),n}setRowSelectable(e,t,n){if(e.selectable!==t){if(e.selectable=t,e.dispatchRowEvent("selectableChanged"),n)return;if(Uy(this.gos)){const o=this.calculateSelectedFromChildren(e);this.setNodesSelected({nodes:[e],newValue:o??!1,source:"selectableChanged"});return}e.isSelected()&&!e.selectable&&this.setNodesSelected({nodes:[e],newValue:!1,source:"selectableChanged"})}}calculateSelectedFromChildren(e){let t=!1,n=!1;if(!e.childrenAfterGroup?.length)return e.selectable?e.__selected:null;for(let r=0;r<e.childrenAfterGroup.length;r++){const o=e.childrenAfterGroup[r];let a=o.isSelected();if(!o.selectable){const l=this.calculateSelectedFromChildren(o);if(l===null)continue;a=l}switch(a){case!0:t=!0;break;case!1:n=!0;break;default:return}}if(!(t&&n))return t?!0:n?!1:e.selectable?e.__selected:null}selectRowNode(e,t,n,r="api"){const o=!e.selectable&&t,a=e.__selected===t;if(o||a)return!1;e.__selected=t,e.dispatchRowEvent("rowSelected");const l=e.sibling;l&&l.footer&&l.__localEventService&&l.dispatchRowEvent("rowSelected");const d=e.pinnedSibling;return d?.rowPinned&&d.__localEventService&&d.dispatchRowEvent("rowSelected"),this.eventSvc.dispatchEvent({...y$(e,this.gos,"rowSelected"),event:n||null,source:r}),!0}isCellCheckboxSelection(e,t){const n=this.gos.get("rowSelection");if(n&&typeof n!="string"){const r=Xd(e)&&Pp(n);return e.isColumnFunc(t,r)}else return e.isColumnFunc(t,e.colDef.checkboxSelection)}inferNodeSelections(e,t,n,r){const{gos:o,selectionCtx:a}=this,l=e.isSelected(),d=Uy(o),f=jpe(o),m=zpe(o),v=this.isMultiSelect(),C=r==="rowClicked";if(C&&!(f||m))return null;if(t&&n&&v){const y=a.getRoot();if(y)if(y.isSelected()){const S=a.isInRange(e)?a.truncate(e):a.extend(e,d);return{deselect:S.discard,select:S.keep,reset:!1}}else{const S=a.extend(e,d);return{select:[],deselect:S.keep,reset:!1}}else return null}else if(t&&v){const y=a.selectAll?this.beans.rowModel.getRow(0):void 0,S=a.getRoot(y),E=a.isInRange(e)?a.truncate(e):a.extend(e,d);return{select:E.keep,deselect:E.discard,reset:a.selectAll||!!(S&&!S.isSelected())}}else if(n){if(C){const y=!l;return y&&!f||!y&&!m?null:(a.setRoot(e),{node:e,newValue:y,clearSelection:!1})}return a.setRoot(e),{node:e,newValue:!l,clearSelection:!v}}else{a.setRoot(e);const y=Hpe(o),S=DS(o)==="filteredDescendants",E=C&&(!y||!f);if(S&&l===void 0&&Wn(o))return{node:e,newValue:!1,checkFilteredNodes:!0,clearSelection:!v||E};if(C){const T=l?!y:f;return T===l&&!E||T&&!f||!T&&!m?null:{node:e,newValue:T,clearSelection:!v||E,keepDescendants:e.group&&d}}return{node:e,newValue:!l,clearSelection:!v||E}}}},vb={TAB_GUARD:"ag-tab-guard",TAB_GUARD_TOP:"ag-tab-guard-top",TAB_GUARD_BOTTOM:"ag-tab-guard-bottom"},X$=class extends Pe{constructor(e){super(),this.skipTabGuardFocus=!1,this.forcingFocusOut=!1,this.allowFocus=!1;const{comp:t,eTopGuard:n,eBottomGuard:r,focusTrapActive:o,forceFocusOutWhenTabGuardsAreEmpty:a,isFocusableContainer:l,focusInnerElement:d,onFocusIn:f,onFocusOut:m,shouldStopEventPropagation:v,onTabKeyDown:C,handleKeyDown:y,isEmpty:S,eFocusableElement:E}=e;this.comp=t,this.eTopGuard=n,this.eBottomGuard=r,this.providedFocusInnerElement=d,this.eFocusableElement=E,this.focusTrapActive=!!o,this.forceFocusOutWhenTabGuardsAreEmpty=!!a,this.isFocusableContainer=!!l,this.providedFocusIn=f,this.providedFocusOut=m,this.providedShouldStopEventPropagation=v,this.providedOnTabKeyDown=C,this.providedHandleKeyDown=y,this.providedIsEmpty=S}postConstruct(){this.createManagedBean(new iv(this.eFocusableElement,{shouldStopEventPropagation:()=>this.shouldStopEventPropagation(),onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e),onFocusIn:e=>this.onFocusIn(e),onFocusOut:e=>this.onFocusOut(e)})),this.activateTabGuards();for(const e of[this.eTopGuard,this.eBottomGuard])this.addManagedElementListeners(e,{focus:this.onFocus.bind(this)})}handleKeyDown(e){this.providedHandleKeyDown&&this.providedHandleKeyDown(e)}tabGuardsAreActive(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")}shouldStopEventPropagation(){return this.providedShouldStopEventPropagation?this.providedShouldStopEventPropagation():!1}activateTabGuards(){if(this.forcingFocusOut)return;const e=this.gos.get("tabIndex");this.comp.setTabIndex(e.toString())}deactivateTabGuards(){this.comp.setTabIndex()}onFocus(e){if(this.isFocusableContainer&&!this.eFocusableElement.contains(e.relatedTarget)&&!this.allowFocus){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.skipTabGuardFocus){this.skipTabGuardFocus=!1;return}if(this.forceFocusOutWhenTabGuardsAreEmpty&&(this.providedIsEmpty?this.providedIsEmpty():mb(this.eFocusableElement,".ag-tab-guard").length===0)){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.isFocusableContainer&&this.eFocusableElement.contains(e.relatedTarget))return;const t=e.target===this.eBottomGuard;!(this.providedFocusInnerElement?this.providedFocusInnerElement(t):this.focusInnerElement(t))&&this.forceFocusOutWhenTabGuardsAreEmpty&&this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard)}findNextElementOutsideAndFocus(e){const t=Wr(this.beans),n=mb(t.body,null,!0),r=n.indexOf(e?this.eTopGuard:this.eBottomGuard);if(r===-1)return;let o,a;e?(o=0,a=r):(o=r+1,a=n.length);const l=n.slice(o,a),d=this.gos.get("tabIndex");l.sort((f,m)=>{const v=Number.parseInt(f.getAttribute("tabindex")||"0"),C=Number.parseInt(m.getAttribute("tabindex")||"0");return C===d?1:v===d?-1:v===0?1:C===0?-1:v-C}),l[e?l.length-1:0]?.focus()}onFocusIn(e){this.focusTrapActive||this.forcingFocusOut||(this.providedFocusIn&&this.providedFocusIn(e),this.isFocusableContainer||this.deactivateTabGuards())}onFocusOut(e){this.focusTrapActive||(this.providedFocusOut&&this.providedFocusOut(e),this.eFocusableElement.contains(e.relatedTarget)||this.activateTabGuards())}onTabKeyDown(e){if(this.providedOnTabKeyDown){this.providedOnTabKeyDown(e);return}if(this.focusTrapActive||e.defaultPrevented)return;const t=this.tabGuardsAreActive();t&&this.deactivateTabGuards();const n=this.getNextFocusableElement(e.shiftKey);t&&setTimeout(()=>this.activateTabGuards(),0),n&&(n.focus(),e.preventDefault())}focusInnerElement(e=!1){const t=mb(this.eFocusableElement);return this.tabGuardsAreActive()&&(t.splice(0,1),t.splice(t.length-1,1)),t.length?(t[e?t.length-1:0].focus({preventScroll:!0}),!0):!1}getNextFocusableElement(e){return og(this.beans,this.eFocusableElement,!1,e)}forceFocusOutOfContainer(e=!1){if(this.forcingFocusOut)return;const t=e?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,this.forcingFocusOut=!0,t.focus(),window.setTimeout(()=>{this.forcingFocusOut=!1,this.activateTabGuards()})}isTabGuard(e,t){return e===this.eTopGuard&&!t||e===this.eBottomGuard&&(t??!0)}setAllowFocus(e){this.allowFocus=e}},owe=class extends Pe{constructor(e){super(),this.comp=e}initialiseTabGuard(e){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.comp.getFocusableElement();const{eTopGuard:t,eBottomGuard:n,eFocusableElement:r}=this,o=[t,n],a={setTabIndex:P=>{for(const N of o)P!=null?N.setAttribute("tabindex",P):N.removeAttribute("tabindex")}};this.addTabGuards(t,n);const{focusTrapActive:l=!1,onFocusIn:d,onFocusOut:f,focusInnerElement:m,handleKeyDown:v,onTabKeyDown:C,shouldStopEventPropagation:y,isEmpty:S,forceFocusOutWhenTabGuardsAreEmpty:E,isFocusableContainer:T}=e;this.tabGuardCtrl=this.createManagedBean(new X$({comp:a,focusTrapActive:l,eTopGuard:t,eBottomGuard:n,eFocusableElement:r,onFocusIn:d,onFocusOut:f,focusInnerElement:m,handleKeyDown:v,onTabKeyDown:C,shouldStopEventPropagation:y,isEmpty:S,forceFocusOutWhenTabGuardsAreEmpty:E,isFocusableContainer:T}))}getTabGuardCtrl(){return this.tabGuardCtrl}createTabGuard(e){const t=Wr(this.beans).createElement("div"),n=e==="top"?vb.TAB_GUARD_TOP:vb.TAB_GUARD_BOTTOM;return t.classList.add(vb.TAB_GUARD,n),Od(t,"presentation"),t}addTabGuards(e,t){const n=this.eFocusableElement;n.insertAdjacentElement("afterbegin",e),n.insertAdjacentElement("beforeend",t)}removeAllChildrenExceptTabGuards(){const e=[this.eTopGuard,this.eBottomGuard];ki(this.comp.getFocusableElement()),this.addTabGuards(...e)}forceFocusOutOfContainer(e=!1){this.tabGuardCtrl.forceFocusOutOfContainer(e)}appendChild(e,t,n){_N(t)||(t=t.getGui());const{eBottomGuard:r}=this;r?r.insertAdjacentElement("beforebegin",t):e(t,n)}destroy(){const{eTopGuard:e,eBottomGuard:t}=this;oa(e),oa(t),super.destroy()}},J$=class extends nn{initialiseTabGuard(t){this.tabGuardFeature=this.createManagedBean(new owe(this)),this.tabGuardFeature.initialiseTabGuard(t)}forceFocusOutOfContainer(t=!1){this.tabGuardFeature.forceFocusOutOfContainer(t)}appendChild(t,n){this.tabGuardFeature.appendChild(super.appendChild.bind(this),t,n)}},swe=500,awe=550,s1,lwe=e=>{if(!s1)s1=new WeakSet;else if(s1.has(e))return!1;return s1.add(e),!0},fp=class{constructor(e,t=!1){this.eElement=e,this.preventClick=t,this.startListener=null,this.handlers=[],this.eventSvc=void 0,this.touchStart=null,this.lastTapTime=null,this.longPressTimer=0,this.moved=!1}addEventListener(e,t){let n=this.eventSvc;if(!n){if(n===null)return;this.eventSvc=n=new Up;const r=this.onTouchStart.bind(this);this.startListener=r,this.eElement.addEventListener("touchstart",r,{passive:!0})}n.addEventListener(e,t)}removeEventListener(e,t){this.eventSvc?.removeEventListener(e,t)}onTouchStart(e){if(this.touchStart||!lwe(e))return;const t=e.touches[0];this.touchStart=t;const n=this.handlers;if(!n.length){const r=this.eElement,o=r.ownerDocument,a=this.onTouchMove.bind(this),l=this.onTouchEnd.bind(this),d=this.onTouchCancel.bind(this),f={passive:!0},m={passive:!1};W1(n,[r,"touchmove",a,f],[o,"touchcancel",d,f],[o,"touchend",l,m],[o,"contextmenu",xh,m])}this.clearLongPress(),this.longPressTimer=window.setTimeout(()=>{this.longPressTimer=0,this.touchStart===t&&!this.moved&&(this.moved=!0,this.eventSvc?.dispatchEvent({type:"longTap",touchStart:t,touchEvent:e}))},awe)}onTouchMove(e){const{moved:t,touchStart:n}=this;if(!t&&n){const r=Ay(n,e.touches);r&&!bW(r,n,4)&&(this.clearLongPress(),this.moved=!0)}}onTouchEnd(e){const t=this.touchStart;!t||!Ay(t,e.changedTouches)||(this.moved||(this.eventSvc?.dispatchEvent({type:"tap",touchStart:t}),this.checkDoubleTap(t)),this.preventClick&&xh(e),this.cancel())}onTouchCancel(e){const t=this.touchStart;!t||!Ay(t,e.changedTouches)||(this.lastTapTime=null,this.cancel())}checkDoubleTap(e){let t=Date.now();const n=this.lastTapTime;n&&t-n>swe&&(this.eventSvc?.dispatchEvent({type:"doubleTap",touchStart:e}),t=null),this.lastTapTime=t}cancel(){this.clearLongPress(),EN(this.handlers),this.touchStart=null}clearLongPress(){window.clearTimeout(this.longPressTimer),this.longPressTimer=0,this.moved=!1}destroy(){const e=this.startListener;e&&(this.startListener=null,this.eElement.removeEventListener("touchstart",e)),this.cancel(),this.eElement=null,this.eventSvc=null}},cwe=class{constructor(e){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=e.scrollContainer,this.scrollHorizontally=e.scrollAxis.includes("x"),this.scrollVertically=e.scrollAxis.includes("y"),this.scrollByTick=e.scrollByTick!=null?e.scrollByTick:20,e.onScrollCallback&&(this.onScrollCallback=e.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=e.getVerticalPosition,this.setVerticalPosition=e.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=e.getHorizontalPosition,this.setHorizontalPosition=e.setHorizontalPosition),this.shouldSkipVerticalScroll=e.shouldSkipVerticalScroll||(()=>!1),this.shouldSkipHorizontalScroll=e.shouldSkipHorizontalScroll||(()=>!1)}get scrolling(){return this.tickingInterval!==null}check(e,t=!1){const n=t||this.shouldSkipVerticalScroll();if(n&&this.shouldSkipHorizontalScroll())return;const r=this.scrollContainer.getBoundingClientRect(),o=this.scrollByTick;this.tickLeft=e.clientX<r.left+o,this.tickRight=e.clientX>r.right-o,this.tickUp=e.clientY<r.top+o&&!n,this.tickDown=e.clientY>r.bottom-o&&!n,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}ensureTickingStarted(){this.tickingInterval===null&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)}doTick(){this.tickCount++;const e=this.tickCount>20?200:this.tickCount>10?80:40;if(this.scrollVertically){const t=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(t-e),this.tickDown&&this.setVerticalPosition(t+e)}if(this.scrollHorizontally){const t=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(t-e),this.tickRight&&this.setHorizontalPosition(t+e)}this.onScrollCallback&&this.onScrollCallback()}ensureCleared(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)}},eq=class{constructor(e="javascript"){this.frameworkName=e,this.renderingEngine="vanilla",this.batchFrameworkComps=!1,this.wrapIncoming=t=>t(),this.wrapOutgoing=t=>t(),this.baseDocLink=`${kW}/${this.frameworkName}-data-grid`,Spe(this.baseDocLink)}frameworkComponent(e){return null}isFrameworkComponent(e){return!1}getDocLink(e){return this.baseDocLink+(e?"/"+e:"")}};function dwe(e){return{beanName:"gridApi",bean:e.getBean("apiFunctionSvc").api}}var uwe=["licenseManager","environment","eventSvc","gos","paginationAutoPageSizeSvc","apiFunctionSvc","gridApi","registry","agCompUtils","userCompFactory","rowContainerHeight","horizontalResizeSvc","localeSvc","pinnedRowModel","dragSvc","colGroupSvc","visibleCols","popupSvc","selectionSvc","colFilter","quickFilter","filterManager","colModel","headerNavigation","pageBounds","pagination","pageBoundsListener","rowSpanSvc","stickyRowSvc","rowRenderer","expressionSvc","alignedGridsSvc","navigation","valueCache","valueSvc","autoWidthCalc","filterMenuFactory","dragAndDrop","focusSvc","cellNavigation","cellStyles","scrollVisibleSvc","sortSvc","colHover","colAnimation","autoColSvc","selectionColSvc","changeDetectionSvc","animationFrameSvc","undoRedo","colDefFactory","rowStyleSvc","rowNodeBlockLoader","rowNodeSorter","ctrlsSvc","pinnedCols","dataTypeSvc","syncSvc","overlays","stateSvc","expansionSvc","apiEventSvc","ariaAnnounce","menuSvc","colMoves","colAutosize","colFlex","colResize","pivotColsSvc","valueColsSvc","rowGroupColsSvc","colNames","colViewport","pivotResultCols","showRowGroupCols","validation"],Oz=Object.fromEntries(uwe.map((e,t)=>[e,t]));function hwe(e,t){const n=(e.beanName?Oz[e.beanName]:void 0)??Number.MAX_SAFE_INTEGER,r=(t.beanName?Oz[t.beanName]:void 0)??Number.MAX_SAFE_INTEGER;return n-r}function fwe(e,t){return e?.beanName==="gridDestroySvc"?-1:t?.beanName==="gridDestroySvc"?1:0}var pwe={tag:"div",cls:"ag-pinned-left-header",role:"rowgroup"},gwe={tag:"div",cls:"ag-pinned-right-header",role:"rowgroup"},mwe={tag:"div",cls:"ag-header-viewport",role:"rowgroup",attrs:{tabindex:"-1"},children:[{tag:"div",ref:"eCenterContainer",cls:"ag-header-container",role:"presentation"}]},JM=class extends nn{constructor(t){super(),this.eCenterContainer=qe,this.headerRowComps={},this.rowCompsList=[],this.pinned=t}postConstruct(){this.selectAndSetTemplate();const t={setDisplayed:r=>this.setDisplayed(r),setCtrls:r=>this.setCtrls(r),setCenterWidth:r=>this.eCenterContainer.style.width=r,setViewportScrollLeft:r=>this.getGui().scrollLeft=r,setPinnedContainerWidth:r=>{const o=this.getGui();o.style.width=r,o.style.maxWidth=r,o.style.minWidth=r}};this.createManagedBean(new K$(this.pinned)).setComp(t,this.getGui())}selectAndSetTemplate(){const t=this.pinned=="left",n=this.pinned=="right",r=t?pwe:n?gwe:mwe;this.setTemplate(r),this.eRowContainer=this.eCenterContainer!==qe?this.eCenterContainer:this.getGui()}destroy(){this.setCtrls([]),super.destroy()}destroyRowComp(t){this.destroyBean(t),t.getGui().remove()}setCtrls(t){const n=this.headerRowComps;this.headerRowComps={},this.rowCompsList=[];let r;const o=a=>{const l=a.getGui();l.parentElement!=this.eRowContainer&&this.eRowContainer.appendChild(l),r&&hW(this.eRowContainer,l,r),r=l};for(const a of t){const l=a.instanceId,d=n[l];delete n[l];const f=d||this.createBean(new Tve(a));this.headerRowComps[l]=f,this.rowCompsList.push(f),o(f)}for(const a of Object.values(n))this.destroyRowComp(a)}},bwe={tag:"div",cls:"ag-header",role:"presentation"},vwe=class extends nn{constructor(){super(bwe)}postConstruct(){const t={toggleCss:(o,a)=>this.toggleCss(o,a),setHeightAndMinHeight:o=>{this.getGui().style.height=o,this.getGui().style.minHeight=o}};this.createManagedBean(new $$).setComp(t,this.getGui(),this.getFocusableElement());const r=o=>{this.createManagedBean(o),this.appendChild(o)};r(new JM("left")),r(new JM(null)),r(new JM("right"))}},wwe={selector:"AG-HEADER-ROOT",component:vwe},Cwe=class extends nn{constructor(t,n,r,o,a){super(),this.cellCtrl=n,this.rendererVersion=0,this.editorVersion=0,this.beans=t,this.gos=t.gos,this.column=n.column,this.rowNode=n.rowNode,this.eRow=o;const l=Dr({tag:"div",role:n.getCellAriaRole(),attrs:{"comp-id":`${this.getCompId()}`,"col-id":n.column.colIdSanitised}});this.eCell=l;let d;n.isCellSpanning()?(d=Dr({tag:"div",cls:"ag-spanned-cell-wrapper",role:"presentation"}),d.appendChild(l),this.setTemplateFromElement(d)):this.setTemplateFromElement(l),this.cellCssManager=new rv(()=>l),this.forceWrapper=n.isForceWrapper(),this.refreshWrapper(!1);const f={toggleCss:(m,v)=>this.cellCssManager.toggleCss(m,v),setUserStyles:m=>x0(l,m),getFocusableElement:()=>l,setIncludeSelection:m=>this.includeSelection=m,setIncludeRowDrag:m=>this.includeRowDrag=m,setIncludeDndSource:m=>this.includeDndSource=m,setRenderDetails:(m,v,C)=>this.setRenderDetails(m,v,C),setEditDetails:(m,v,C)=>this.setEditDetails(m,v,C),getCellEditor:()=>this.cellEditor||null,getCellRenderer:()=>this.cellRenderer||null,getParentOfValue:()=>this.getParentOfValue(),refreshEditStyles:(m,v)=>this.refreshEditStyles(m,v)};n.setComp(f,l,d,this.eCellWrapper,r,a,void 0)}getParentOfValue(){return this.eCellValue??this.eCellWrapper??this.eCell}setRenderDetails(t,n,r){if(this.cellEditor&&!this.cellEditorPopupWrapper)return;this.firstRender=this.firstRender==null;const a=this.refreshWrapper(!1);this.refreshEditStyles(!1),t?!(r||a)&&this.refreshCellRenderer(t)||(this.destroyRenderer(),this.createCellRendererInstance(t)):(this.destroyRenderer(),this.insertValueWithoutCellRenderer(n)),this.rowDraggingComp?.refreshVisibility()}setEditDetails(t,n,r){t?this.createCellEditorInstance(t,n,r):this.destroyEditor()}removeControls(){const t=this.beans.context;this.checkboxSelectionComp=t.destroyBean(this.checkboxSelectionComp),this.dndSourceComp=t.destroyBean(this.dndSourceComp),this.rowDraggingComp=t.destroyBean(this.rowDraggingComp)}refreshWrapper(t){const n=this.includeRowDrag||this.includeDndSource||this.includeSelection,r=n||this.forceWrapper,o=r&&this.eCellWrapper==null;o&&(this.eCellWrapper=Dr({tag:"div",cls:"ag-cell-wrapper",role:"presentation"}),this.eCell.appendChild(this.eCellWrapper));const a=!r&&this.eCellWrapper!=null;a&&(oa(this.eCellWrapper),this.eCellWrapper=void 0),this.cellCssManager.toggleCss("ag-cell-value",!r);const l=!t&&r,d=l&&this.eCellValue==null;if(d){const v=this.cellCtrl.getCellValueClass();this.eCellValue=Dr({tag:"span",cls:v,role:"presentation"}),this.eCellWrapper.appendChild(this.eCellValue)}const f=!l&&this.eCellValue!=null;f&&(oa(this.eCellValue),this.eCellValue=void 0);const m=o||a||d||f;return m&&this.removeControls(),!t&&n&&this.addControls(),m}addControls(){const{cellCtrl:t,eCellWrapper:n,eCellValue:r,includeRowDrag:o,includeDndSource:a,includeSelection:l}=this,d=f=>{f&&n.insertBefore(f.getGui(),r)};o&&this.rowDraggingComp==null&&(this.rowDraggingComp=t.createRowDragComp(),d(this.rowDraggingComp)),a&&this.dndSourceComp==null&&(this.dndSourceComp=t.createDndSource(),d(this.dndSourceComp)),l&&this.checkboxSelectionComp==null&&(this.checkboxSelectionComp=t.createSelectionCheckbox(),d(this.checkboxSelectionComp))}createCellEditorInstance(t,n,r){const o=this.editorVersion,a=t.newAgStackInstance(),{params:l}=t;a.then(f=>this.afterCellEditorCreated(o,f,l,n,r)),zn(this.cellEditor)&&l.cellStartedEdit&&this.cellCtrl.focusCell(!0)}insertValueWithoutCellRenderer(t){const n=this.getParentOfValue();ki(n);const r=ng(t);r!=null&&(n.textContent=r)}destroyRenderer(){const{context:t}=this.beans;this.cellRenderer=t.destroyBean(this.cellRenderer),oa(this.cellRendererGui),this.cellRendererGui=null,this.rendererVersion++}destroyEditor(){const{context:t}=this.beans;(this.cellEditorPopupWrapper?.getGui().contains(Qn(this.beans))||this.cellCtrl.hasBrowserFocus())&&this.eCell.focus({preventScroll:!0}),this.hideEditorPopup?.(),this.hideEditorPopup=void 0,this.cellEditor=t.destroyBean(this.cellEditor),this.cellEditorPopupWrapper=t.destroyBean(this.cellEditorPopupWrapper),oa(this.cellEditorGui),this.cellCtrl.disableEditorTooltipFeature(),this.cellEditorGui=null,this.editorVersion++}refreshCellRenderer(t){if(this.cellRenderer?.refresh==null||this.cellRendererClass!==t.componentClass)return!1;const n=this.cellRenderer.refresh(t.params);return n===!0||n===void 0}createCellRendererInstance(t){const n=this.rendererVersion,r=l=>d=>{if(this.rendererVersion!==n||!this.isAlive())return;const m=l.newAgStackInstance(),v=this.afterCellRendererCreated.bind(this,n,l.componentClass);m?.then(v)},{animationFrameSvc:o}=this.beans;let a;if(o?.active&&this.firstRender?a=(l,d=!1)=>{o.createTask(r(l),this.rowNode.rowIndex,"p2",l.componentFromFramework,d)}:a=l=>r(l)(),t.params?.deferRender&&!this.cellCtrl.rowNode.group){const{loadingComp:l,onReady:d}=this.cellCtrl.getDeferLoadingCellRenderer();l&&(a(l),d.then(()=>a(t,!0)))}else a(t)}afterCellRendererCreated(t,n,r){if(!this.isAlive()||t!==this.rendererVersion){this.beans.context.destroyBean(r);return}this.cellRenderer=r,this.cellRendererClass=n;const a=r.getGui();if(this.cellRendererGui=a,a!=null){const l=this.getParentOfValue();ki(l),l.appendChild(a)}}afterCellEditorCreated(t,n,r,o,a){const l=t!==this.editorVersion,{context:d}=this.beans;if(l){d.destroyBean(n);return}if(n.isCancelBeforeStart?.()){d.destroyBean(n),this.cellCtrl.stopEditing(!0);return}if(!n.getGui){ze(97,{colId:this.column.getId()}),d.destroyBean(n);return}this.cellEditor=n,this.cellEditorGui=n.getGui();const m=o||n.isPopup?.();m?this.addPopupCellEditor(r,a):this.addInCellEditor(),this.refreshEditStyles(!0,m),n.afterGuiAttached?.(),this.cellCtrl.enableEditorTooltipFeature(n),this.cellCtrl.cellEditorAttached()}refreshEditStyles(t,n){const{cellCssManager:r}=this;r.toggleCss("ag-cell-inline-editing",t&&!n),r.toggleCss("ag-cell-popup-editing",t&&!!n),r.toggleCss("ag-cell-not-inline-editing",!t||!!n)}addInCellEditor(){const{eCell:t}=this;t.contains(Qn(this.beans))&&t.focus(),this.destroyRenderer(),this.refreshWrapper(!0),ki(this.getParentOfValue()),this.cellEditorGui&&this.getParentOfValue().appendChild(this.cellEditorGui)}addPopupCellEditor(t,n){const{gos:r,context:o,popupSvc:a,editSvc:l}=this.beans;r.get("editType")==="fullRow"&&ze(98);const d=this.cellEditorPopupWrapper=o.createBean(l.createPopupEditorWrapper(t)),{cellEditor:f,cellEditorGui:m,eCell:v,rowNode:C,column:y,cellCtrl:S}=this,E=d.getGui();m&&E.appendChild(m);const T=r.get("stopEditingWhenCellsLoseFocus"),P=n??f.getPopupPosition?.()??"over",N=r.get("enableRtl"),j={ePopup:E,column:y,rowNode:C,type:"popupCellEditor",eventSource:v,position:P,alignSide:N?"right":"left",keepWithinBounds:!0},L=a.positionPopupByComponent.bind(a,j),V=a.addPopup({modal:T,eChild:E,closeOnEsc:!0,closedCallback:()=>{S.onPopupEditorClosed()},anchorToElement:v,positionCallback:L,ariaOwns:v});V&&(this.hideEditorPopup=V.hideFunc)}detach(){this.getGui().remove()}destroy(){this.destroyRenderer(),this.destroyEditor(),this.removeControls(),super.destroy()}},ywe=class extends nn{constructor(t,n,r){super(),this.cellComps=new Map,this.beans=n,this.rowCtrl=t;const o=Dr({tag:"div",role:"row",attrs:{"comp-id":`${this.getCompId()}`}});this.setInitialStyle(o,r),this.setTemplateFromElement(o);const a=o.style;this.domOrder=this.rowCtrl.getDomOrder();const l={setDomOrder:d=>this.domOrder=d,setCellCtrls:d=>this.setCellCtrls(d),showFullWidth:d=>this.showFullWidth(d),getFullWidthCellRenderer:()=>this.fullWidthCellRenderer,getFullWidthCellRendererParams:()=>this.fullWidthCellRendererParams,toggleCss:(d,f)=>this.toggleCss(d,f),setUserStyles:d=>x0(o,d),setTop:d=>a.top=d,setTransform:d=>a.transform=d,setRowIndex:d=>o.setAttribute("row-index",d),setRowId:d=>o.setAttribute("row-id",d),setRowBusinessKey:d=>o.setAttribute("row-business-key",d),refreshFullWidth:d=>{const f=d();return this.fullWidthCellRendererParams=f,this.fullWidthCellRenderer?.refresh?.(f)??!1}};t.setComp(l,this.getGui(),r,void 0),this.addDestroyFunc(()=>{t.unsetComp(r)})}setInitialStyle(t,n){const r=this.rowCtrl.getInitialTransform(n);if(r)t.style.setProperty("transform",r);else{const o=this.rowCtrl.getInitialRowTop(n);o&&t.style.setProperty("top",o)}}showFullWidth(t){const n=o=>{if(this.isAlive()){const a=o.getGui();this.getGui().appendChild(a),this.rowCtrl.setupDetailRowAutoHeight(a),this.setFullWidthRowComp(o,t.params)}else this.beans.context.destroyBean(o)};t.newAgStackInstance().then(n)}setCellCtrls(t){const n=new Map(this.cellComps);for(const r of t){const o=r.instanceId;this.cellComps.has(o)?n.delete(o):this.newCellComp(r)}this.destroyCells(n),this.ensureDomOrder(t)}ensureDomOrder(t){if(!this.domOrder)return;const n=[];for(const r of t){const o=this.cellComps.get(r.instanceId);o&&n.push(o.getGui())}fW(this.getGui(),n)}newCellComp(t){const n=this.beans.editSvc?.isEditing(t,{withOpenEditor:!0})??!1,r=new Cwe(this.beans,t,this.rowCtrl.printLayout,this.getGui(),n);this.cellComps.set(t.instanceId,r),this.getGui().appendChild(r.getGui())}destroy(){super.destroy(),this.destroyCells(this.cellComps)}setFullWidthRowComp(t,n){this.fullWidthCellRenderer=t,this.fullWidthCellRendererParams=n,this.addDestroyFunc(()=>{this.fullWidthCellRenderer=this.beans.context.destroyBean(this.fullWidthCellRenderer),this.fullWidthCellRendererParams=void 0})}destroyCells(t){for(const n of t.values()){if(!n)return;const r=n.cellCtrl.instanceId;if(this.cellComps.get(r)!==n)return;n.detach(),n.destroy(),this.cellComps.delete(r)}}};function kwe(e,t,n){const r=!!n.gos.get("enableCellSpan")&&!!t.getSpannedRowCtrls,o={tag:"div",ref:"eContainer",cls:_y(e),role:"rowgroup"};if(t.type==="center"||r){const a={tag:"div",ref:"eSpannedContainer",cls:`ag-spanning-container ${I$(e)}`,role:"presentation"};return o.role="presentation",{tag:"div",ref:"eViewport",cls:`ag-viewport ${YN(e)}`,role:"rowgroup",children:[o,r?a:null]}}return o}var xwe=class extends nn{constructor(t){super(),this.eViewport=qe,this.eContainer=qe,this.eSpannedContainer=qe,this.rowCompsNoSpan={},this.rowCompsWithSpan={},this.name=t?.name,this.options=ov(this.name)}postConstruct(){this.setTemplate(kwe(this.name,this.options,this.beans));const t={setHorizontalScroll:r=>this.eViewport.scrollLeft=r,setViewportHeight:r=>this.eViewport.style.height=r,setRowCtrls:({rowCtrls:r})=>this.setRowCtrls(r),setSpannedRowCtrls:r=>this.setRowCtrls(r,!0),setDomOrder:r=>{this.domOrder=r},setContainerWidth:r=>{this.eContainer.style.width=r,this.eSpannedContainer&&(this.eSpannedContainer.style.width=r)},setOffsetTop:r=>{const o=`translateY(${r})`;this.eContainer.style.transform=o,this.eSpannedContainer&&(this.eSpannedContainer.style.transform=o)}};this.createManagedBean(new F$(this.name)).setComp(t,this.eContainer,this.eSpannedContainer,this.eViewport)}destroy(){this.setRowCtrls([]),this.setRowCtrls([],!0),super.destroy(),this.lastPlacedElement=null}setRowCtrls(t,n){const{beans:r,options:o}=this,a=n?this.eSpannedContainer:this.eContainer,l=n?{...this.rowCompsWithSpan}:{...this.rowCompsNoSpan},d={};n?this.rowCompsWithSpan=d:this.rowCompsNoSpan=d,this.lastPlacedElement=null;const f=[];for(const m of t){const v=m.instanceId,C=l[v];let y;if(C)y=C,delete l[v];else{if(!m.rowNode.displayed)continue;y=new ywe(m,r,o.type)}d[v]=y,f.push([y,!C])}this.removeOldRows(Object.values(l)),this.addRowNodes(f,a)}addRowNodes(t,n){const{domOrder:r}=this;for(const[o,a]of t){const l=o.getGui();r?this.ensureDomOrder(l,n):a&&n.appendChild(l)}}removeOldRows(t){for(const n of t)n.getGui().remove(),n.destroy()}ensureDomOrder(t,n){hW(n,t,this.lastPlacedElement),this.lastPlacedElement=t}},Awe={selector:"AG-ROW-CONTAINER",component:xwe};function XC(e,t){return t.map(n=>{const r=`e${n[0].toUpperCase()+n.substring(1)}RowContainer`;return e[r]={name:n},{tag:"ag-row-container",ref:r,attrs:{name:n}}})}function Swe(e){const t={},n={tag:"div",ref:"eGridRoot",cls:"ag-root ag-unselectable",children:[{tag:"ag-header-root"},{tag:"div",ref:"eTop",cls:"ag-floating-top",role:"presentation",children:XC(t,["topLeft","topCenter","topRight","topFullWidth"])},{tag:"div",ref:"eBody",cls:"ag-body",role:"presentation",children:[{tag:"div",ref:"eBodyViewport",cls:"ag-body-viewport",role:"presentation",children:XC(t,["left","center","right","fullWidth"])},{tag:"ag-fake-vertical-scroll"}]},{tag:"div",ref:"eStickyTop",cls:"ag-sticky-top",role:"presentation",children:XC(t,["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"])},{tag:"div",ref:"eStickyBottom",cls:"ag-sticky-bottom",role:"presentation",children:XC(t,["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"])},{tag:"div",ref:"eBottom",cls:"ag-floating-bottom",role:"presentation",children:XC(t,["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"])},{tag:"ag-fake-horizontal-scroll"},e?{tag:"ag-overlay-wrapper"}:null]};return{paramsMap:t,elementParams:n}}var _we=class extends nn{constructor(){super(...arguments),this.eGridRoot=qe,this.eBodyViewport=qe,this.eStickyTop=qe,this.eStickyBottom=qe,this.eTop=qe,this.eBottom=qe,this.eBody=qe}postConstruct(){const{overlays:t,rangeSvc:n}=this.beans,r=t?.getOverlayWrapperSelector(),{paramsMap:o,elementParams:a}=Swe(!!r);this.setTemplate(a,[...r?[r]:[],uve,fve,wwe,Awe],o);const l=(f,m)=>{const v=`${f}px`;m.style.minHeight=v,m.style.height=v},d={setRowAnimationCssOnBodyViewport:(f,m)=>this.setRowAnimationCssOnBodyViewport(f,m),setColumnCount:f=>rW(this.getGui(),f),setRowCount:f=>nW(this.getGui(),f),setTopHeight:f=>l(f,this.eTop),setBottomHeight:f=>l(f,this.eBottom),setTopInvisible:f=>this.eTop.classList.toggle("ag-invisible",f),setBottomInvisible:f=>this.eBottom.classList.toggle("ag-invisible",f),setStickyTopHeight:f=>this.eStickyTop.style.height=f,setStickyTopTop:f=>this.eStickyTop.style.top=f,setStickyTopWidth:f=>this.eStickyTop.style.width=f,setStickyBottomHeight:f=>{this.eStickyBottom.style.height=f,this.eStickyBottom.classList.toggle("ag-invisible",f==="0px")},setStickyBottomBottom:f=>this.eStickyBottom.style.bottom=f,setStickyBottomWidth:f=>this.eStickyBottom.style.width=f,setColumnMovingCss:(f,m)=>this.toggleCss(f,m),updateLayoutClasses:(f,m)=>{const v=[this.eBodyViewport.classList,this.eBody.classList];for(const C of v)C.toggle(Wa.AUTO_HEIGHT,m.autoHeight),C.toggle(Wa.NORMAL,m.normal),C.toggle(Wa.PRINT,m.print);this.toggleCss(Wa.AUTO_HEIGHT,m.autoHeight),this.toggleCss(Wa.NORMAL,m.normal),this.toggleCss(Wa.PRINT,m.print)},setAlwaysVerticalScrollClass:(f,m)=>this.eBodyViewport.classList.toggle(L$,m),registerBodyViewportResizeListener:f=>{const m=al(this.beans,this.eBodyViewport,f);this.addDestroyFunc(()=>m())},setPinnedTopBottomOverflowY:f=>this.eTop.style.overflowY=this.eBottom.style.overflowY=f,setCellSelectableCss:(f,m)=>{for(const v of[this.eTop,this.eBodyViewport,this.eBottom])v.classList.toggle(f,m)},setBodyViewportWidth:f=>this.eBodyViewport.style.width=f,setGridRootRole:f=>Od(this.eGridRoot,f)};this.ctrl=this.createManagedBean(new B$),this.ctrl.setComp(d,this.getGui(),this.eBodyViewport,this.eTop,this.eBottom,this.eStickyTop,this.eStickyBottom),(n&&Ld(this.gos)||Gy(this.gos))&&Wfe(this.getGui(),!0)}setRowAnimationCssOnBodyViewport(t,n){const r=this.eBodyViewport.classList;r.toggle("ag-row-animation",n),r.toggle("ag-row-no-animation",!n)}},Ewe={selector:"AG-GRID-BODY",component:_we},tq=class extends Pe{constructor(){super(...arguments),this.additionalFocusableContainers=new Set}setComp(e,t,n){this.view=e,this.eGridHostDiv=t,this.eGui=n,this.eGui.setAttribute("grid-id",this.beans.context.getId());const{dragAndDrop:r,ctrlsSvc:o}=this.beans;r?.registerGridDropTarget(()=>this.eGui,this),this.createManagedBean(new $N(this.view)),this.view.setRtlClass(this.gos.get("enableRtl")?"ag-rtl":"ag-ltr");const a=al(this.beans,this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(()=>a()),o.register("gridCtrl",this)}isDetailGrid(){return s$(this.getGui())?.getAttribute("row-id")?.startsWith("detail")||!1}getOptionalSelectors(){const e=this.beans;return{paginationSelector:e.pagination?.getPaginationSelector(),gridHeaderDropZonesSelector:e.registry?.getSelector("AG-GRID-HEADER-DROP-ZONES"),sideBarSelector:e.sideBar?.getSelector(),statusBarSelector:e.registry?.getSelector("AG-STATUS-BAR"),watermarkSelector:e.licenseManager?.getWatermarkSelector()}}onGridSizeChanged(){this.eventSvc.dispatchEvent({type:"gridSizeChanged",clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight})}destroyGridUi(){this.view.destroyGridUi()}getGui(){return this.eGui}setResizeCursor(e){const{view:t}=this;if(e===!1)t.setCursor(null);else{const n=e===1?"ew-resize":"ns-resize";t.setCursor(n)}}disableUserSelect(e){this.view.setUserSelect(e?"none":null)}focusNextInnerContainer(e){const t=this.getFocusableContainers(),{indexWithFocus:n,nextIndex:r}=this.getNextFocusableIndex(t,e);if(r<0||r>=t.length)return!1;if(r===0){if(n>0){const{visibleCols:o,focusSvc:a}=this.beans,l=o.allCols,d=Tn(l);if(a.focusGridView({column:d,backwards:!0}))return!0}return!1}return this.focusContainer(t[r],e)}focusInnerElement(e){if(this.gos.getCallback("focusGridInnerElement")?.({fromBottom:!!e}))return!0;const n=this.getFocusableContainers(),{focusSvc:r,visibleCols:o}=this.beans,a=o.allCols;if(e){if(n.length>1)return this.focusContainer(Tn(n),e);const l=Tn(a);if(r.focusGridView({column:l,backwards:e}))return!0}if(this.gos.get("headerHeight")===0||Np(this.beans)){if(r.focusGridView({column:a[0],backwards:e}))return!0;for(let l=1;l<n.length;l++)if(Fh(n[l].getGui(),e))return!0;return!1}return r.focusFirstHeader()}forceFocusOutOfContainer(e=!1){this.view.forceFocusOutOfContainer(e)}addFocusableContainer(e){this.additionalFocusableContainers.add(e)}removeFocusableContainer(e){this.additionalFocusableContainers.delete(e)}allowFocusForNextCoreContainer(e){const t=this.view.getFocusableContainers(),{nextIndex:n,indexWithFocus:r}=this.getNextFocusableIndex(t,e);if(r===-1||n<0||n>=t.length)return;const o=t[n];o.setAllowFocus?.(!0),setTimeout(()=>{o.setAllowFocus?.(!1)})}isFocusable(){const e=this.beans;return!mE(e)||!Np(e)||!!e.sideBar?.comp?.isDisplayed()}getNextFocusableIndex(e,t){const n=Qn(this.beans),r=e.findIndex(a=>a.getGui().contains(n)),o=r+(t?-1:1);return{indexWithFocus:r,nextIndex:o}}focusContainer(e,t){e.setAllowFocus?.(!0);const n=Fh(e.getGui(),t,!1,!0);return e.setAllowFocus?.(!1),n}getFocusableContainers(){return[...this.view.getFocusableContainers(),...this.additionalFocusableContainers]}destroy(){this.additionalFocusableContainers.clear(),super.destroy()}},Dwe=class extends J${constructor(t){super(),this.gridBody=qe,this.sideBar=qe,this.pagination=qe,this.rootWrapperBody=qe,this.eGridDiv=t}postConstruct(){const t={destroyGridUi:()=>this.destroyBean(this),setRtlClass:l=>this.addCss(l),forceFocusOutOfContainer:this.forceFocusOutOfContainer.bind(this),updateLayoutClasses:this.updateLayoutClasses.bind(this),getFocusableContainers:this.getFocusableContainers.bind(this),setUserSelect:l=>{this.getGui().style.userSelect=l??"",this.getGui().style.webkitUserSelect=l??""},setCursor:l=>{this.getGui().style.cursor=l??""}},n=this.createManagedBean(new tq),r=n.getOptionalSelectors(),o=this.createTemplate(r),a=[Ewe,...Object.values(r).filter(l=>!!l)];this.setTemplate(o,a),n.setComp(t,this.eGridDiv,this.getGui()),this.insertGridIntoDom(),this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:l=>n.focusInnerElement(l),forceFocusOutWhenTabGuardsAreEmpty:!0,isEmpty:()=>!n.isFocusable()})}insertGridIntoDom(){const t=this.getGui();this.eGridDiv.appendChild(t),this.addDestroyFunc(()=>{t.remove(),Nh(this.gos,"Grid removed from DOM")})}updateLayoutClasses(t,n){const r=this.rootWrapperBody.classList,{AUTO_HEIGHT:o,NORMAL:a,PRINT:l}=Wa,{autoHeight:d,normal:f,print:m}=n;r.toggle(o,d),r.toggle(a,f),r.toggle(l,m),this.toggleCss(o,d),this.toggleCss(a,f),this.toggleCss(l,m)}createTemplate(t){const n=t.gridHeaderDropZonesSelector?{tag:"ag-grid-header-drop-zones"}:null,r=t.sideBarSelector?{tag:"ag-side-bar",ref:"sideBar"}:null,o=t.statusBarSelector?{tag:"ag-status-bar"}:null,a=t.watermarkSelector?{tag:"ag-watermark"}:null,l=t.paginationSelector?{tag:"ag-pagination",ref:"pagination"}:null;return{tag:"div",cls:"ag-root-wrapper",role:"presentation",children:[n,{tag:"div",ref:"rootWrapperBody",cls:"ag-root-wrapper-body",role:"presentation",children:[{tag:"ag-grid-body",ref:"gridBody"},r]},o,l,a]}}getFocusableElement(){return this.rootWrapperBody}forceFocusOutOfContainer(t=!1){if(!t&&this.pagination?.isDisplayed()){this.pagination.forceFocusOutOfContainer(t);return}super.forceFocusOutOfContainer(t)}getFocusableContainers(){const t=[this.gridBody];for(const n of[this.sideBar,this.pagination])n&&t.push(n);return t.filter(n=>vc(n.getGui()))}},At=(e,t)=>{for(const n of Object.keys(t))t[n]=e;return t},Fz={dispatchEvent:"CommunityCore",...At("CommunityCore",{destroy:0,getGridId:0,getGridOption:0,isDestroyed:0,setGridOption:0,updateGridOptions:0,isModuleRegistered:0}),...At("GridState",{getState:0,setState:0}),...At("SharedRowSelection",{setNodesSelected:0,selectAll:0,deselectAll:0,selectAllFiltered:0,deselectAllFiltered:0,selectAllOnCurrentPage:0,deselectAllOnCurrentPage:0,getSelectedNodes:0,getSelectedRows:0}),...At("RowApi",{redrawRows:0,setRowNodeExpanded:0,getRowNode:0,addRenderedRowListener:0,getRenderedNodes:0,forEachNode:0,getFirstDisplayedRowIndex:0,getLastDisplayedRowIndex:0,getDisplayedRowAtIndex:0,getDisplayedRowCount:0}),...At("ScrollApi",{getVerticalPixelRange:0,getHorizontalPixelRange:0,ensureColumnVisible:0,ensureIndexVisible:0,ensureNodeVisible:0}),...At("KeyboardNavigation",{getFocusedCell:0,clearFocusedCell:0,setFocusedCell:0,tabToNextCell:0,tabToPreviousCell:0,setFocusedHeader:0}),...At("EventApi",{addEventListener:0,addGlobalListener:0,removeEventListener:0,removeGlobalListener:0}),...At("ValueCache",{expireValueCache:0}),...At("CellApi",{getCellValue:0}),...At("SharedMenu",{showColumnMenu:0,hidePopupMenu:0}),...At("Sort",{onSortChanged:0}),...At("PinnedRow",{getPinnedTopRowCount:0,getPinnedBottomRowCount:0,getPinnedTopRow:0,getPinnedBottomRow:0,forEachPinnedRow:0}),...At("Overlay",{showLoadingOverlay:0,showNoRowsOverlay:0,hideOverlay:0}),...At("RenderApi",{setGridAriaProperty:0,refreshCells:0,refreshHeader:0,isAnimationFrameQueueEmpty:0,flushAllAnimationFrames:0,getSizesForCurrentTheme:0,getCellRendererInstances:0}),...At("HighlightChanges",{flashCells:0}),...At("RowDrag",{addRowDropZone:0,removeRowDropZone:0,getRowDropZoneParams:0,getRowDropPositionIndicator:0,setRowDropPositionIndicator:0}),...At("ColumnApi",{getColumnDefs:0,getColumnDef:0,getDisplayNameForColumn:0,getColumn:0,getColumns:0,applyColumnState:0,getColumnState:0,resetColumnState:0,isPinning:0,isPinningLeft:0,isPinningRight:0,getDisplayedColAfter:0,getDisplayedColBefore:0,setColumnsVisible:0,setColumnsPinned:0,getAllGridColumns:0,getDisplayedLeftColumns:0,getDisplayedCenterColumns:0,getDisplayedRightColumns:0,getAllDisplayedColumns:0,getAllDisplayedVirtualColumns:0}),...At("ColumnAutoSize",{sizeColumnsToFit:0,autoSizeColumns:0,autoSizeAllColumns:0}),...At("ColumnGroup",{setColumnGroupOpened:0,getColumnGroup:0,getProvidedColumnGroup:0,getDisplayNameForColumnGroup:0,getColumnGroupState:0,setColumnGroupState:0,resetColumnGroupState:0,getLeftDisplayedColumnGroups:0,getCenterDisplayedColumnGroups:0,getRightDisplayedColumnGroups:0,getAllDisplayedColumnGroups:0}),...At("ColumnMove",{moveColumnByIndex:0,moveColumns:0}),...At("ColumnResize",{setColumnWidths:0}),...At("ColumnHover",{isColumnHovered:0}),...At("EditCore",{getCellEditorInstances:0,getEditingCells:0,getEditRowValues:0,stopEditing:0,startEditingCell:0,isEditing:0,validateEdit:0}),...At("BatchEdit",{startBatchEdit:0,cancelBatchEdit:0,commitBatchEdit:0,isBatchEditing:0}),...At("UndoRedoEdit",{undoCellEditing:0,redoCellEditing:0,getCurrentUndoSize:0,getCurrentRedoSize:0}),...At("FilterCore",{isAnyFilterPresent:0,onFilterChanged:0}),...At("ColumnFilter",{isColumnFilterPresent:0,getColumnFilterInstance:0,destroyFilter:0,setFilterModel:0,getFilterModel:0,getColumnFilterModel:0,setColumnFilterModel:0,showColumnFilter:0,hideColumnFilter:0,getColumnFilterHandler:0,doFilterAction:0}),...At("QuickFilter",{isQuickFilterPresent:0,getQuickFilter:0,resetQuickFilter:0}),...At("Find",{findGetActiveMatch:0,findGetTotalMatches:0,findGoTo:0,findNext:0,findPrevious:0,findGetNumMatches:0,findGetParts:0,findClearActive:0,findRefresh:0}),...At("Pagination",{paginationIsLastPageFound:0,paginationGetPageSize:0,paginationGetCurrentPage:0,paginationGetTotalPages:0,paginationGetRowCount:0,paginationGoToNextPage:0,paginationGoToPreviousPage:0,paginationGoToFirstPage:0,paginationGoToLastPage:0,paginationGoToPage:0}),...At("CsrmSsrmSharedApi",{expandAll:0,collapseAll:0}),...At("SsrmInfiniteSharedApi",{setRowCount:0,getCacheBlockState:0,isLastRowIndexKnown:0}),...At("ClientSideRowModelApi",{onGroupExpandedOrCollapsed:0,refreshClientSideRowModel:0,isRowDataEmpty:0,forEachLeafNode:0,forEachNodeAfterFilter:0,forEachNodeAfterFilterAndSort:0,applyTransaction:0,applyTransactionAsync:0,flushAsyncTransactions:0,getBestCostNodeSelection:0,onRowHeightChanged:0,resetRowHeights:0}),...At("CsvExport",{getDataAsCsv:0,exportDataAsCsv:0}),...At("InfiniteRowModel",{refreshInfiniteCache:0,purgeInfiniteCache:0,getInfiniteRowCount:0}),...At("AdvancedFilter",{getAdvancedFilterModel:0,setAdvancedFilterModel:0,showAdvancedFilterBuilder:0,hideAdvancedFilterBuilder:0}),...At("IntegratedCharts",{getChartModels:0,getChartRef:0,getChartImageDataURL:0,downloadChart:0,openChartToolPanel:0,closeChartToolPanel:0,createRangeChart:0,createPivotChart:0,createCrossFilterChart:0,updateChart:0,restoreChart:0}),...At("Clipboard",{copyToClipboard:0,cutToClipboard:0,copySelectedRowsToClipboard:0,copySelectedRangeToClipboard:0,copySelectedRangeDown:0,pasteFromClipboard:0}),...At("ExcelExport",{getDataAsExcel:0,exportDataAsExcel:0,getSheetDataForExcel:0,getMultipleSheetsAsExcel:0,exportMultipleSheetsAsExcel:0}),...At("SharedMasterDetail",{addDetailGridInfo:0,removeDetailGridInfo:0,getDetailGridInfo:0,forEachDetailGridInfo:0}),...At("ContextMenu",{showContextMenu:0}),...At("ColumnMenu",{showColumnChooser:0,hideColumnChooser:0}),...At("CellSelection",{getCellRanges:0,addCellRange:0,clearRangeSelection:0,clearCellSelection:0}),...At("SharedRowGrouping",{setRowGroupColumns:0,removeRowGroupColumns:0,addRowGroupColumns:0,getRowGroupColumns:0,moveRowGroupColumn:0}),...At("SharedAggregation",{addAggFuncs:0,clearAggFuncs:0,setColumnAggFunc:0}),...At("SharedPivot",{isPivotMode:0,getPivotResultColumn:0,setValueColumns:0,getValueColumns:0,removeValueColumns:0,addValueColumns:0,setPivotColumns:0,removePivotColumns:0,addPivotColumns:0,getPivotColumns:0,setPivotResultColumns:0,getPivotResultColumns:0}),...At("ServerSideRowModelApi",{getServerSideSelectionState:0,setServerSideSelectionState:0,applyServerSideTransaction:0,applyServerSideTransactionAsync:0,applyServerSideRowData:0,retryServerSideLoads:0,flushServerSideAsyncTransactions:0,refreshServerSide:0,getServerSideGroupLevelState:0,onRowHeightChanged:0,resetRowHeights:0}),...At("SideBar",{isSideBarVisible:0,setSideBarVisible:0,setSideBarPosition:0,openToolPanel:0,closeToolPanel:0,getOpenedToolPanel:0,refreshToolPanel:0,isToolPanelShowing:0,getToolPanelInstance:0,getSideBar:0}),...At("StatusBar",{getStatusPanel:0}),...At("AiToolkit",{getStructuredSchema:0})},eT={isDestroyed:()=>!0,destroy(){},preConstruct(){},postConstruct(){},preWireBeans(){},wireBeans(){}},Mwe=(e,t)=>e.eventSvc.dispatchEvent(t),nq=class{};Reflect.defineProperty(nq,"name",{value:"GridApi"});var Twe=class extends Pe{constructor(){super(),this.beanName="apiFunctionSvc",this.api=new nq,this.fns={...eT,dispatchEvent:Mwe},this.preDestroyLink="";const{api:e}=this;for(const t of Object.keys(Fz))e[t]=this.makeApi(t)[t]}postConstruct(){this.preDestroyLink=this.beans.frameworkOverrides.getDocLink("grid-lifecycle/#grid-pre-destroyed")}addFunction(e,t){const{fns:n,beans:r}=this;n!==eT&&(n[e]=r?.validation?.validateApiFunction(e,t)??t)}makeApi(e){return{[e]:(...t)=>{const{beans:n,fns:{[e]:r}}=this;return r?r(n,...t):this.apiNotFound(e)}}}apiNotFound(e){const{beans:t,gos:n,preDestroyLink:r}=this;if(!t)ze(26,{fnName:e,preDestroyLink:r});else{const o=Fz[e];n.assertModuleRegistered(o,`api.${e}`)&&ze(27,{fnName:e,module:o})}}destroy(){super.destroy(),this.fns=eT,this.beans=null}};function Rwe(e){return e.context.getId()}function Pwe(e){e.gridDestroySvc.destroy()}function Iwe(e){return e.gridDestroySvc.destroyCalled}function Nwe(e,t){return e.gos.get(t)}function Owe(e,t,n){rq(e,{[t]:n})}function rq(e,t){e.gos.updateGridOptions({options:t})}function Fwe(e,t){const n=t.replace(/Module$/,"");return e.gos.isModuleRegistered(n)}var Lwe={tag:"div",cls:"ag-drag-handle ag-row-drag",attrs:{draggable:"true"}},Bwe=class extends nn{constructor(e,t,n){super(Lwe),this.rowNode=e,this.column=t,this.eCell=n}postConstruct(){this.getGui().appendChild(Cs("rowDrag",this.beans,null)),this.addGuiEventListener("mousedown",t=>{t.stopPropagation()}),this.addDragSource(),this.checkVisibility()}addDragSource(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))}onDragStart(e){const{rowNode:t,column:n,eCell:r,gos:o}=this,a=n.getColDef().dndSourceOnRowDrag,l=e.dataTransfer;if(l.setDragImage(r,0,0),a){const d=ht(o,{rowNode:t,dragEvent:e});a(d)}else try{const d=JSON.stringify(t.data);l.setData("application/json",d),l.setData("text/plain",d)}catch{}}checkVisibility(){const e=this.column.isDndSource(this.rowNode);this.setDisplayed(e)}};function jwe(e,t){e.rowDragSvc?.rowDragFeature?.addRowDropZone(t)}function zwe(e,t){const n=e.dragAndDrop?.findExternalZone(t.getContainer());n&&e.dragAndDrop?.removeDropTarget(n)}function Hwe(e,t){return e.rowDragSvc?.rowDragFeature?.getRowDropZone(t)}function Vwe(e){const t=e.rowDropHighlightSvc;return t?{row:t.row,dropIndicatorPosition:t.position}:{row:null,dropIndicatorPosition:"none"}}function Gwe(e,t){const n=e.rowDropHighlightSvc;if(!n)return;const r=t?.row;let o=t?.dropIndicatorPosition;o!=="above"&&o!=="below"&&o!=="inside"&&(o="none");const a=r?.rowIndex;a==null||o==="none"?n.clear():n.set(r,o)}var Uwe=class extends gbe{shouldPreventMouseEvent(e){return this.gos.get("enableCellTextSelection")&&super.shouldPreventMouseEvent(e)}},Wwe=class extends Pe{constructor(){super(...arguments),this.beanName="horizontalResizeSvc"}addResizeBar(e){const t={dragStartPixels:e.dragStartPixels||0,eElement:e.eResizeBar,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this,e),onDragging:this.onDragging.bind(this,e),onDragCancel:this.onDragStop.bind(this,e),includeTouch:!0,stopPropagationForTouch:!0},{dragSvc:n}=this.beans;return n.addDragSource(t),()=>n.removeDragSource(t)}onDragStart(e,t){this.dragStartX=t.clientX,this.setResizeIcons();const n=t instanceof MouseEvent&&t.shiftKey===!0;e.onResizeStart(n)}setResizeIcons(){const e=this.beans.ctrlsSvc.get("gridCtrl");e.setResizeCursor(1),e.disableUserSelect(!0)}onDragStop(e){e.onResizeEnd(this.resizeAmount),this.resetIcons()}resetIcons(){const e=this.beans.ctrlsSvc.get("gridCtrl");e.setResizeCursor(!1),e.disableUserSelect(!1)}onDragging(e,t){this.resizeAmount=t.clientX-this.dragStartX,e.onResizing(this.resizeAmount)}},$we={tag:"div",cls:"ag-drag-handle ag-row-drag",attrs:{"aria-hidden":"true"}},qwe=class extends nn{constructor(e,t,n,r,o,a=!1){super(),this.cellValueFn=e,this.rowNode=t,this.column=n,this.customGui=r,this.dragStartPixels=o,this.alwaysVisible=a,this.dragSource=null}isCustomGui(){return this.customGui!=null}postConstruct(){const{beans:e,customGui:t}=this;t?this.setDragElement(t,this.dragStartPixels):(this.setTemplate($we),this.getGui().appendChild(Cs("rowDrag",e,null)),this.addDragSource()),this.alwaysVisible||this.initCellDrag()}initCellDrag(){const{beans:e,gos:t,rowNode:n}=this,r=this.refreshVisibility.bind(this);this.addManagedPropertyListener("suppressRowDrag",r),this.addManagedListeners(n,{dataChanged:r,cellChanged:r}),this.addManagedListeners(e.eventSvc,t.get("rowDragManaged")?{sortChanged:r,filterChanged:r,columnRowGroupChanged:r,newColumnsLoaded:r}:{newColumnsLoaded:r})}setDragElement(e,t){this.setTemplateFromElement(e,void 0,void 0,!0),this.addDragSource(t)}refreshVisibility(){if(this.alwaysVisible)return;const e={skipAriaHidden:!0};if(this.isNeverDisplayed()){this.setDisplayed(!1,e);return}const t=this.column;let n=typeof t?.getColDef().rowDrag=="function",r=!t||this.isCustomGui()||t.isRowDrag(this.rowNode);r&&this.rowNode.footer&&this.gos.get("rowDragManaged")&&(r=!1,n=!0),this.setDisplayed(n||r,e),this.setVisible(r,e)}isNeverDisplayed(){const{gos:e,beans:t}=this;return!!(e.get("suppressRowDrag")||e.get("rowDragManaged")&&t.rowDragSvc.rowDragFeature?.shouldPreventRowMove()&&!t.dragAndDrop?.hasExternalDropZones())}getSelectedNodes(){const e=this.rowNode;if(!this.gos.get("rowDragMultiRow"))return[e];const n=this.beans.selectionSvc?.getSelectedNodes()??[];return n.indexOf(e)!==-1?n:[e]}getDragItem(){const{column:e,rowNode:t}=this;return{rowNode:t,rowNodes:this.getSelectedNodes(),columns:e?[e]:void 0,defaultTextValue:this.cellValueFn()}}getRowDragText(e){if(e){const t=e.getColDef();if(t.rowDragText)return t.rowDragText}return this.gos.get("rowDragText")}addDragSource(e=4){if(this.dragSource&&this.removeDragSource(),this.gos.get("rowDragManaged")&&this.rowNode.footer)return;const t=this.getGui();this.gos.get("enableCellTextSelection")&&(this.removeMouseDownListener(),this.mouseDownListener=this.addManagedElementListeners(t,{mousedown:r=>{r?.preventDefault()}})[0]);const n=this.getLocaleTextFunc();this.dragSource={type:2,eElement:t,dragItemName:r=>{const o=r?.dragItem||this.getDragItem(),a=(r?.dropTarget?.rows.length??o.rowNodes?.length)||1,l=this.getRowDragText(this.column);return l?l(o,a):a===1?this.cellValueFn():`${a} ${n("rowDragRows","rows")}`},getDragItem:()=>this.getDragItem(),dragStartPixels:e,dragSourceDomDataKey:this.gos.getDomDataKey()},this.beans.dragAndDrop.addDragSource(this.dragSource,!0)}destroy(){this.removeDragSource(),this.removeMouseDownListener(),super.destroy()}removeDragSource(){this.dragSource&&(this.beans.dragAndDrop.removeDragSource(this.dragSource),this.dragSource=null)}removeMouseDownListener(){this.mouseDownListener&&(this.mouseDownListener(),this.mouseDownListener=void 0)}},X1=class{constructor(){this.reordered=!1,this.removals=new Set,this.updates=new Set,this.adds=new Set}};function Kwe(e){const{rowIndex:t,rowPinned:n,column:r}=e;return`${t}.${n??"null"}.${r.getId()}`}function iq(e,t){const n=e.column===t.column,r=e.rowPinned===t.rowPinned,o=e.rowIndex===t.rowIndex;return n&&r&&o}function Ywe(e,t){switch(e.rowPinned){case"top":if(t.rowPinned!=="top")return!0;break;case"bottom":if(t.rowPinned!=="bottom")return!1;break;default:if(Ye(t.rowPinned))return t.rowPinned!=="top";break}return e.rowIndex<t.rowIndex}function oq(e,t){return!e&&!t?!0:e&&!t||!e&&t?!1:e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned}function Qwe(e){let t=0,n;const{pinnedRowModel:r,rowModel:o,pageBounds:a}=e;return r?.getPinnedTopRowCount()?n="top":o.getRowCount()?(n=null,t=a.getFirstRow()):r?.getPinnedBottomRowCount()&&(n="bottom"),n===void 0?null:{rowIndex:t,rowPinned:n}}function Zwe(e){let t,n=null;const{pinnedRowModel:r,pageBounds:o}=e,a=r?.getPinnedBottomRowCount(),l=r?.getPinnedTopRowCount();return a?(n="bottom",t=a-1):e.rowModel.getRowCount()?t=o.getLastRow():l&&(n="top",t=l-1),t===void 0?null:{rowIndex:t,rowPinned:n}}function jd(e,t){switch(t.rowPinned){case"top":return e.pinnedRowModel?.getPinnedTopRow(t.rowIndex);case"bottom":return e.pinnedRowModel?.getPinnedBottomRow(t.rowIndex);default:return e.rowModel.getRow(t.rowIndex)}}function lb(e,t){const n=e.spannedRowRenderer?.getCellByPosition(t);if(n)return n;const r=e.rowRenderer.getRowByPosition(t);return r?r.getCellCtrl(t.column):null}function Xwe(e,t,n){const{rowModel:r,pinnedRowModel:o}=e;let a;return a??(a=r?.getRowNode(t)),n?a??(a=o?.getPinnedRowById(t,n)):(a??(a=o?.getPinnedRowById(t,"top")),a??(a=o?.getPinnedRowById(t,"bottom"))),a}function BS(e,t,n=!1){const{rowIndex:r,rowPinned:o}=t,{pageBounds:a,pinnedRowModel:l,rowModel:d}=e;if(r===0)return o==="top"?null:o==="bottom"&&d.isRowsToRender()?{rowIndex:a.getLastRow(),rowPinned:null}:l?.isRowsToRender("top")?{rowIndex:l.getPinnedTopRowCount()-1,rowPinned:"top"}:null;if(n){const f=o?void 0:d.getRow(r);return sq(e,f,!0)??{rowIndex:r-1,rowPinned:o}}return{rowIndex:r-1,rowPinned:o}}function Lz(e,t,n=!1){const{rowIndex:r,rowPinned:o}=t,{pageBounds:a,pinnedRowModel:l,rowModel:d}=e;if(Jwe(e,t))return o==="bottom"?null:o==="top"&&d.isRowsToRender()?{rowIndex:a.getFirstRow(),rowPinned:null}:l?.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;if(n){const f=o?void 0:d.getRow(r);return sq(e,f)??{rowIndex:r+1,rowPinned:o}}return{rowIndex:r+1,rowPinned:o}}function sq(e,t,n=!1){const{gos:r,rowRenderer:o}=e;if(!t?.sticky||!uE(r))return;const a=o.getStickyTopRowCtrls(),l=o.getStickyBottomRowCtrls(),d=!l.some(C=>C.rowNode.rowIndex===t.rowIndex),f=d?a:l,m=(n?-1:1)*(d?-1:1);let v;for(let C=0;C<f.length;C++)if(f[C].rowNode.rowIndex===t.rowIndex){v=f[C+m];break}return v?{rowIndex:v.rowNode.rowIndex,rowPinned:null}:void 0}function Jwe(e,t){const{rowPinned:n,rowIndex:r}=t,{pinnedRowModel:o,pageBounds:a}=e;return n==="top"?(o?.getPinnedTopRowCount()??0)-1<=r:n==="bottom"?(o?.getPinnedBottomRowCount()??0)-1<=r:a.getLastRow()<=r}var qy=class{constructor(e,t){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=e,this.pathRoot={rowNode:t,children:null},this.mapToItems[t.id]=this.pathRoot}depthFirstSearchChangedPath(e,t){const{rowNode:n,children:r}=e;if(r)for(let o=0;o<r.length;++o)this.depthFirstSearchChangedPath(r[o],t);t(n)}depthFirstSearchEverything(e,t,n){const r=e.childrenAfterGroup;if(r)for(let o=0,a=r.length;o<a;++o){const l=r[o];l.childrenAfterGroup?this.depthFirstSearchEverything(l,t,n):n&&t(l)}t(e)}forEachChangedNodeDepthFirst(e,t=!1,n=!1){this.active&&!n?this.depthFirstSearchChangedPath(this.pathRoot,e):this.depthFirstSearchEverything(this.pathRoot.rowNode,e,t)}executeFromRootNode(e){e(this.pathRoot.rowNode)}createPathItems(e){let t=e,n=0;for(;!this.mapToItems[t.id];){const r={rowNode:t,children:null};this.mapToItems[t.id]=r,n++,t=t.parent}return n}populateColumnsMap(e,t){if(!this.keepingColumns||!t)return;let n=e;for(;n;){this.nodeIdsToColumns[n.id]||(this.nodeIdsToColumns[n.id]={});for(const r of t)this.nodeIdsToColumns[n.id][r.getId()]=!0;n=n.parent}}linkPathItems(e,t){let n=e;for(let r=0;r<t;r++){const o=this.mapToItems[n.id],a=this.mapToItems[n.parent.id];a.children||(a.children=[]),a.children.push(o),n=n.parent}}addParentNode(e,t){if(!e||e.isRowPinned())return;const n=this.createPathItems(e);this.linkPathItems(e,n),this.populateColumnsMap(e,t)}canSkip(e){return this.active&&!this.mapToItems[e.id]}getValueColumnsForNode(e,t){if(!this.keepingColumns)return t;const n=this.nodeIdsToColumns[e.id];return t.filter(o=>n[o.getId()])}getNotValueColumnsForNode(e,t){if(!this.keepingColumns)return null;const n=this.nodeIdsToColumns[e.id];return t.filter(o=>!n[o.getId()])}},eCe=class{constructor(e,t){this.beans=e,this.groupThrottled=!1,this.scrollChanged=!1,this.scrollChanging=!1,this.oldVScroll=null,this.groupTimer=null,this.groupTarget=null,this.onGroupThrottle=()=>{this.groupTimer=null,this.groupThrottled=!0,this.beans.dragAndDrop?.nudge()};const n=()=>t.scrollFeature.getVScrollPosition().top;this.autoScroll=new cwe({scrollContainer:t.eBodyViewport,scrollAxis:"y",getVerticalPosition:n,setVerticalPosition:r=>t.scrollFeature.setVerticalScrollPosition(r),onScrollCallback:()=>{const r=n();if(this.oldVScroll!==r){this.oldVScroll=r,this.scrollChanging=!0;return}const o=this.scrollChanging;this.scrollChanged=o,this.scrollChanging=!1,o&&(this.beans.dragAndDrop?.nudge(),this.scrollChanged=!1)}})}updateGroup(e,t){this.groupTarget&&this.groupTarget!==e&&this.clearGroup(),e&&(t&&this.groupThrottled&&!e.expanded&&e.childrenAfterSort?.length&&e.isExpandable()&&e.setExpanded(!0,void 0,!0),e.expanded&&e.childrenAfterSort?.length&&(this.groupThrottled=!0,this.groupTarget=e))}startGroup(e){this.groupTarget=e,this.groupTimer===null&&(this.groupTimer=window.setTimeout(this.onGroupThrottle,this.beans.gos.get("rowDragInsertDelay")))}clearGroup(){this.groupThrottled=!1,this.groupTarget=null;const e=this.groupTimer;e!==null&&(this.groupTimer=null,window.clearTimeout(e))}clear(){this.clearGroup(),this.autoScroll.ensureCleared(),this.oldVScroll=null,this.scrollChanged=!1,this.scrollChanging=!1}},tCe=class extends Pe{constructor(e){super(),this.eContainer=e,this.lastDraggingEvent=null,this.nudger=null}postConstruct(){const e=this.beans;e.ctrlsSvc.whenReady(this,t=>{this.nudger=new eCe(e,t.gridBodyCtrl)})}destroy(){super.destroy(),this.nudger?.clear(),this.nudger=null,this.lastDraggingEvent=null,this.eContainer=null}getContainer(){return this.eContainer}isInterestedIn(e){return e===2}getIconName(e){return e?.dropTarget?.allowed===!1||this.gos.get("rowDragManaged")&&this.shouldPreventRowMove()?"notAllowed":"move"}shouldPreventRowMove(){const{rowGroupColsSvc:e,filterManager:t,sortSvc:n}=this.beans;return!!((e?.columns??[]).length||t?.isAnyFilterPresent()||n?.isSortActive())}getRowNodes(e){if(!this.isFromThisGrid(e))return e.dragItem.rowNodes||[];const t=e.dragItem.rowNode;if(this.gos.get("rowDragMultiRow")){const n=this.beans.selectionSvc?.getSelectedNodes();if(n&&n.indexOf(t)>=0)return n.slice().sort(iCe)}return[t]}onDragEnter(e){this.dragging(e,!0)}onDragging(e){this.dragging(e,!1)}dragging(e,t){const{lastDraggingEvent:n,beans:r}=this;if(t){const l=this.getRowNodes(e);e.dragItem.rowNodes=l,zz(l,!0)}this.lastDraggingEvent=e;const o=e.fromNudge,a=this.makeRowsDrop(n,e,o,!1);r.rowDropHighlightSvc?.fromDrag(e),t&&this.dispatchGridEvent("rowDragEnter",e),this.dispatchGridEvent("rowDragMove",e),a?.rowDragManaged&&a.moved&&a.allowed&&a.sameGrid&&!a.suppressMoveWhenRowDragging&&(!o&&!this.nudger?.autoScroll.scrolling||this.nudger?.scrollChanged)&&this.dropRows(a),this.nudger?.autoScroll.check(e.event)}isFromThisGrid(e){return e.dragSource.dragSourceDomDataKey===this.gos.getDomDataKey()}makeRowsDrop(e,t,n,r){const{beans:o,gos:a}=this,l=this.newRowsDrop(t,r),d=o.rowModel;if(t.dropTarget=l,t.changed=!1,!l)return null;let{sameGrid:f,rootNode:m,source:v,target:C,rows:y}=l;C??(C=d.getRow(d.getRowCount()-1)??null);const S=!!this.beans.groupStage?.treeData&&f;let E=null;if(C?.footer){const L=J1(d,-1,C)??J1(d,1,C);E=C.sibling??m,C=L??null}C?.detail&&(C=C.parent),l.moved&&(l.moved=v!==C);let T=.5;if(C&&(f&&l.moved&&(E||!S)?T=v.rowIndex>C.rowIndex?-.5:.5:T=(l.y-C.rowTop-C.rowHeight/2)/C.rowHeight||0),!S&&f&&C&&l.moved&&Wn(a)){const L=oCe(d,l);L&&(T=v.rowIndex>L.rowIndex?-.5:.5,C=L,l.moved&&(l.moved=v!==C))}const P=this.nudger;P?.updateGroup(C,n),S&&!E&&P&&(!C||T>=.5&&C.rowIndex===o.pageBounds.getLastRow()?E=m:l.moved&&this.targetShouldBeParent(C,T,y)&&(P.groupThrottled&&(E=C),!n&&(!E||C&&!C.expanded&&C.childrenAfterSort?.length)&&P.startGroup(C)),E??(E=C?.parent??m));let N=!1;if(E){if(E===C&&E!==m){const L=E.expanded?J1(d,1,C):null;L?.parent===E?(C=L,T=-.5):N=!0}if(C&&!N){let L=C;for(;L&&L!==m&&L!==E;)C=L,L=L.parent}}l.target=C,l.newParent=E,l.moved&&(l.moved=v!==C);const j=T<0?"above":"below";return l.position=l.moved?N?"inside":j:"none",this.validateRowsDrop(l,S,j,r),t.changed||(t.changed=rCe(e?.dropTarget,l)),l}newRowsDrop(e,t){const{beans:n,gos:r}=this,o=n.rowModel.rootNode,a=Wn(r)?r.get("rowDragManaged"):!1,l=r.get("suppressMoveWhenRowDragging"),d=this.isFromThisGrid(e);let{rowNode:f,rowNodes:m}=e.dragItem;if(m||(m=f?[f]:[]),f||(f=m[0]),!f||!o)return null;const v=this.beans.dragAndDrop.isDropZoneWithinThisGrid(e);let C=!0;a&&(!m.length||this.shouldPreventRowMove()||(l||!d)&&!v)&&(C=!1);const y=Sz(n,e).y,S=this.getOverNode(y);return{api:n.gridApi,context:n.gridOptions.context,draggingEvent:e,rowDragManaged:a,suppressMoveWhenRowDragging:l,sameGrid:d,withinGrid:v,rootNode:o,moved:f!==S,y,overNode:S,overIndex:S?.rowIndex??-1,position:"none",source:f,target:S??null,newParent:null,rows:m,allowed:C,highlight:!t&&a&&l&&(v||!d)}}validateRowsDrop(e,t,n,r){const{rowDragManaged:o,suppressMoveWhenRowDragging:a}=e;t||(e.newParent=null),a&&!e.moved&&(e.allowed=!1);const l=(!o||e.allowed)&&this.gos.get("isRowValidDropPosition");if(l){t&&e.newParent&&Bz(e.rows,e.newParent)&&(e.newParent=null);const d=l(e);if(!d)e.allowed=!1;else if(typeof d=="object"){d.rows!==void 0&&(e.rows=d.rows??[]),t&&d.newParent!==void 0&&(e.newParent=d.newParent),d.target!==void 0&&(e.target=d.target),d.position&&(e.position=d.position),d.allowed!==void 0?e.allowed=d.allowed:o||(e.allowed=!0);const f=e.draggingEvent;d.changed&&f&&(f.changed=!0),!r&&d.highlight!==void 0&&(e.highlight=d.highlight)}}o&&(e.rows=this.filterRows(e)),t&&e.newParent&&Bz(e.rows,e.newParent)&&(e.newParent=null),a&&(!e.rows.length||e.position==="none")&&(e.allowed=!1),(!e.allowed||!e.newParent)&&e.position==="inside"&&(e.position=n)}targetShouldBeParent(e,t,n){const r=e.rowIndex,o=.25;if(t<-.5+o)return!1;if(t<.5-o)return!0;let a,l=r+1;const d=this.beans.rowModel;do a=d.getRow(l++);while(a?.footer);const f=e.childrenAfterGroup;if(a&&a.parent===e&&f?.length){const m=new Set(n);for(const v of f)if(v.rowIndex!==null&&!m.has(v))return!0}return!1}addRowDropZone(e){if(!e.getContainer()){ze(55);return}const t=this.beans.dragAndDrop;if(t.findExternalZone(e.getContainer())){ze(56);return}const n=e.fromGrid?e:{getContainer:e.getContainer,onDragEnter:e.onDragEnter&&(o=>e.onDragEnter(this.rowDragEvent("rowDragEnter",o))),onDragLeave:e.onDragLeave&&(o=>e.onDragLeave(this.rowDragEvent("rowDragLeave",o))),onDragging:e.onDragging&&(o=>e.onDragging(this.rowDragEvent("rowDragMove",o))),onDragStop:e.onDragStop&&(o=>e.onDragStop(this.rowDragEvent("rowDragEnd",o))),onDragCancel:e.onDragCancel&&(o=>e.onDragCancel(this.rowDragEvent("rowDragCancel",o)))},r={isInterestedIn:o=>o===2,getIconName:()=>"move",external:!0,...n};t.addDropTarget(r),this.addDestroyFunc(()=>t.removeDropTarget(r))}getRowDropZone(e){return{getContainer:this.getContainer.bind(this),onDragEnter:n=>{this.onDragEnter(n),e?.onDragEnter?.(this.rowDragEvent("rowDragEnter",n))},onDragLeave:n=>{this.onDragLeave(n),e?.onDragLeave?.(this.rowDragEvent("rowDragLeave",n))},onDragging:n=>{this.onDragging(n),e?.onDragging?.(this.rowDragEvent("rowDragMove",n))},onDragStop:n=>{this.onDragStop(n),e?.onDragStop?.(this.rowDragEvent("rowDragEnd",n))},onDragCancel:n=>{this.onDragCancel(n),e?.onDragCancel?.(this.rowDragEvent("rowDragCancel",n))},fromGrid:!0}}getOverNode(e){const{pageBounds:t,rowModel:n}=this.beans,o=e>t.getCurrentPagePixelRange().pageLastPixel?-1:n.getRowIndexAtPixel(e);return o>=0?n.getRow(o):void 0}rowDragEvent(e,t){const n=this.beans,{dragItem:r,dropTarget:o,event:a,vDirection:l}=t,d=o?.rootNode===n.rowModel.rootNode,f=d?o.y:Sz(n,t).y,m=d?o.overNode:this.getOverNode(f),v=d?o.overIndex:m?.rowIndex??-1;return{api:n.gridApi,context:n.gridOptions.context,type:e,event:a,node:r.rowNode,nodes:r.rowNodes,overIndex:v,overNode:m,y:f,vDirection:l,rowsDrop:o}}dispatchGridEvent(e,t){const n=this.rowDragEvent(e,t);this.eventSvc.dispatchEvent(n)}onDragLeave(e){this.dispatchGridEvent("rowDragLeave",e),this.stopDragging(e)}onDragStop(e){const t=this.makeRowsDrop(this.lastDraggingEvent,e,!1,!0);this.dispatchGridEvent("rowDragEnd",e),t?.allowed&&t.rowDragManaged&&(t.suppressMoveWhenRowDragging||!t.sameGrid||this.nudger?.autoScroll.scrolling)&&this.dropRows(t),this.stopDragging(e)}onDragCancel(e){this.dispatchGridEvent("rowDragCancel",e),this.stopDragging(e)}stopDragging(e){this.nudger?.clear(),this.beans.rowDropHighlightSvc?.fromDrag(null),zz(e.dragItem.rowNodes,!1)}dropRows(e){return e.sameGrid?this.csrmMoveRows(e):this.csrmAddRows(e)}csrmAddRows({position:e,target:t,rows:n}){const r=Db(this.gos),o=this.beans.rowModel,a=n.filter(({data:d,rowPinned:f})=>!o.getRowNode(r?.({data:d,level:0,rowPinned:f})??d.id)).map(({data:d})=>d);if(a.length===0)return!1;const l=t?jz(t)+(e==="above"?0:1):void 0;return o.updateRowData({add:a,addIndex:l}),!0}filterRows({newParent:e,rows:t}){let n;for(let r=0,o=t.length;r<o;++r){let a=!0;const l=t[r];(!l||l.footer||l.rowTop===null&&l!==this.beans.rowModel.getRowNode(l.id)||e&&l.parent!==e&&nCe(l,e)||!VP(l))&&(a=!1),a?n?.push(l):n??(n=t.slice(0,r))}return n??t}csrmMoveRows({position:e,target:t,rows:n,newParent:r,rootNode:o}){let a=!1;const l=new Set;for(const y of n){r&&y.parent!==r&&(y.treeParent=r,a=!0);const S=VP(y);S&&l.add(S)}if(!a&&l.size===0)return!1;const d=this.beans.focusSvc,f=d.getFocusedCell(),m=f&&lb(this.beans,f);if(l.size&&this.reorderLeafChildren(l,...this.getMoveRowsBounds(l,t,e==="above"))&&(a=!0),!a)return!1;const v=this.beans.rowModel,C=new X1;return C.reordered=!0,v.refreshModel({step:"group",keepRenderedRows:!0,animate:!this.gos.get("suppressAnimationFrame"),changedPath:new qy(!1,o),changedRowNodes:C}),m?m.focusCell():d.clearFocusedCell(),!0}getMoveRowsBounds(e,t,n){const r=this.beans.rowModel.rootNode?._leafs?.length??0;let o=t?jz(t):-1;o<0||o>=r?o=r:n||++o;let a=o,l=Math.min(o,r-1);for(const d of e){const f=d.sourceRowIndex;f<a&&(a=f),f>l&&(l=f)}return[a,o,l]}reorderLeafChildren(e,t,n,r){let o=!1;const a=this.beans.rowModel.rootNode?._leafs;if(!e.size||!a)return!1;let l=t;for(let f=t;f<n;++f){const m=a[f];e.has(m)||(m.sourceRowIndex!==l&&(m.sourceRowIndex=l,a[l]=m,o=!0),++l)}let d=r;for(let f=r;f>=n;--f){const m=a[f];e.has(m)||(m.sourceRowIndex!==d&&(m.sourceRowIndex=d,a[d]=m,o=!0),--d)}for(const f of e)f.sourceRowIndex!==l&&(f.sourceRowIndex=l,a[l]=f,o=!0),++l;return o}},J1=(e,t,n)=>{if(n){const r=e.getRowCount();let o=n.rowIndex+t;for(;o>=0&&o<r;){const a=e.getRow(o);if(!a||!a.footer&&!a.detail)return a;o+=t}}},nCe=(e,t)=>{let n=t;for(;n;){if(n===e)return!0;n=n.parent}return!1},Bz=(e,t)=>{for(let n=0,r=e.length;n<r;++n)if(e[n].parent!==t)return!1;return!0},jz=e=>{const t=VP(e);return t!==void 0?t.sourceRowIndex:-1},VP=e=>e.data?e:x$(e.childrenAfterGroup),rCe=(e,t)=>e!==t&&(!e||e.sameGrid!==t.sameGrid||e.allowed!==t.allowed||e.position!==t.position||e.target!==t.target||e.source!==t.source||e.newParent!==t.newParent||!Uh(e.rows,t.rows)),iCe=({rowIndex:e},{rowIndex:t})=>e!==null&&t!==null?e-t:0,zz=(e,t)=>{for(let n=0,r=e?.length||0;n<r;++n){const o=e[n];o.dragging!==t&&(o.dragging=t,o.dispatchRowEvent("draggingChanged"))}},oCe=(e,t)=>{let n=null,r=t.target;if(r&&t.rows.indexOf(r)<0)return null;const o=t.source;if(!r||!o)return null;let a=r.rowIndex-o.rowIndex;const l=a<0?-1:1;a=t.suppressMoveWhenRowDragging?Math.abs(a):1;const d=new Set(t.rows);do{const f=J1(e,l,r);if(!f)break;d.has(f)||(n=f,--a),r=f}while(a>0);return n},sCe=class extends Pe{constructor(){super(...arguments),this.beanName="rowDragSvc"}setupRowDrag(e,t){const n=t.createManagedBean(new tCe(e)),r=this.beans.dragAndDrop;r.addDropTarget(n),t.addDestroyFunc(()=>r.removeDropTarget(n)),this.rowDragFeature=n}createRowDragComp(e,t,n,r,o,a){return new qwe(e,t,n,r,o,a)}createRowDragCompForRow(e,t){if(Ld(this.gos))return;const n=this.getLocaleTextFunc();return this.createRowDragComp(()=>`1 ${n("rowDragRow","row")}`,e,void 0,t,void 0,!0)}createRowDragCompForCell(e,t,n,r,o,a){const l=this.gos;return l.get("rowDragManaged")&&(!Wn(l)||l.get("pagination"))?void 0:this.createRowDragComp(n,e,t,r,o,a)}},aCe=class extends Pe{constructor(){super(...arguments),this.beanName="rowDropHighlightSvc",this.uiLevel=0,this.dragging=!1,this.row=null,this.position="none"}postConstruct(){this.addManagedEventListeners({modelUpdated:this.onModelUpdated.bind(this)})}onModelUpdated(){const e=this.row,t=this.dragging;!e||e?.rowIndex===null||this.position==="none"?this.clear():this.set(e,this.position),this.dragging=t}destroy(){this.clear(),super.destroy()}clear(){const e=this.row;this.dragging=!1,e&&(this.uiLevel=0,this.position="none",this.row=null,e.dispatchRowEvent("rowHighlightChanged"))}set(e,t){const n=e!==this.row,r=e.uiLevel,o=t!==this.position,a=r!==this.uiLevel;this.dragging=!1,(n||o||a)&&(n&&this.clear(),this.uiLevel=r,this.position=t,this.row=e,e.dispatchRowEvent("rowHighlightChanged"))}fromDrag(e){const t=e?.dropTarget;if(t){const{highlight:n,target:r,position:o}=t;if(n&&r&&o!=="none"){this.set(r,o),this.dragging=!0;return}}this.dragging&&this.clear()}},aq={moduleName:"Drag",version:Qe,beans:[Uwe]},lCe={moduleName:"DragAndDrop",version:Qe,dynamicBeans:{dndSourceComp:Bwe},icons:{rowDrag:"grip"}},lq={moduleName:"SharedDragAndDrop",version:Qe,beans:[bbe],dependsOn:[aq],userComponents:{agDragAndDropImage:Vve},icons:{columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",rowDrag:"grip"}},cCe={moduleName:"RowDrag",version:Qe,beans:[aCe,sCe],apiFunctions:{addRowDropZone:jwe,removeRowDropZone:zwe,getRowDropZoneParams:Hwe,getRowDropPositionIndicator:Vwe,setRowDropPositionIndicator:Gwe},dependsOn:[lq]},dCe={moduleName:"HorizontalResize",version:Qe,beans:[Wwe],dependsOn:[aq]},uCe=":where(.ag-ltr) :where(.ag-column-moving){.ag-cell,.ag-header-cell,.ag-spanned-cell-wrapper{transition:left .2s}.ag-header-group-cell{transition:left .2s,width .2s}}:where(.ag-rtl) :where(.ag-column-moving){.ag-cell,.ag-header-cell,.ag-spanned-cell-wrapper{transition:right .2s}.ag-header-group-cell{transition:right .2s,width .2s}}",hCe=class extends Pe{constructor(){super(...arguments),this.beanName="colAnimation",this.executeNextFuncs=[],this.executeLaterFuncs=[],this.active=!1,this.activeNext=!1,this.suppressAnimation=!1,this.animationThreadCount=0}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>this.gridBodyCtrl=e.gridBodyCtrl)}isActive(){return this.active&&!this.suppressAnimation}setSuppressAnimation(e){this.suppressAnimation=e}start(){if(this.active)return;const{gos:e}=this;e.get("suppressColumnMoveAnimation")||e.get("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0,this.activeNext=!0)}finish(){this.active&&this.flush(()=>this.activeNext=!1,()=>this.active=!1)}executeNextVMTurn(e){this.activeNext?this.executeNextFuncs.push(e):e()}executeLaterVMTurn(e){this.active?this.executeLaterFuncs.push(e):e()}ensureAnimationCssClassPresent(){this.animationThreadCount++;const e=this.animationThreadCount,{gridBodyCtrl:t}=this;t.setColumnMovingCss(!0),this.executeLaterFuncs.push(()=>{this.animationThreadCount===e&&t.setColumnMovingCss(!1)})}flush(e,t){const{executeNextFuncs:n,executeLaterFuncs:r}=this;if(n.length===0&&r.length===0){e(),t();return}const o=a=>{for(;a.length;){const l=a.pop();l&&l()}};this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e(),o(n)},0),window.setTimeout(()=>{t(),o(r)},200)})}};function fCe(e,t,n){e.colMoves?.moveColumnByIndex(t,n,"api")}function pCe(e,t,n){e.colMoves?.moveColumns(t,n,"api")}var gCe=class extends Pe{constructor(e){super(),this.pinned=e,this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[]}onDragEnter(e){if(this.clearColumnsList(),this.gos.get("functionsReadOnly"))return;const t=e.dragItem.columns;if(t)for(const n of t)n.isPrimary()&&(n.isAnyFunctionActive()||(n.isAllowValue()?this.columnsToAggregate.push(n):n.isAllowRowGroup()?this.columnsToGroup.push(n):n.isAllowPivot()&&this.columnsToPivot.push(n)))}getIconName(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?"pinned":"move":null}onDragLeave(e){this.clearColumnsList()}clearColumnsList(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0}onDragging(e){}onDragStop(e){const{valueColsSvc:t,rowGroupColsSvc:n,pivotColsSvc:r}=this.beans;this.columnsToAggregate.length>0&&t?.addColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&n?.addColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&r?.addColumns(this.columnsToPivot,"toolPanelDragAndDrop")}onDragCancel(){this.clearColumnsList()}};function mCe(e,t){!t||t.length<=1||t.filter(r=>e.indexOf(r)<0).length>0||t.sort((r,o)=>{const a=e.indexOf(r),l=e.indexOf(o);return a-l})}function bCe(e){const t=[...e];for(const n of e){let r=null,o=n.getParent();for(;o!=null&&o.getDisplayedLeafColumns().length===1;)r=o,o=o.getParent();if(r!=null){const l=!!r.getColGroupDef()?.marryChildren?r.getProvidedColumnGroup().getLeafColumns():r.getLeafColumns();for(const d of l)t.includes(d)||t.push(d)}}return t}function vCe(e,t,n,r){const o=r.allCols;let a=null,l=null;for(let d=0;d<e.length;d++){const f=e[d],m=n.getProposedColumnOrder(t,f);if(!n.doesOrderPassRules(m))continue;const v=m.filter(y=>o.includes(y));if(l===null)l=v;else if(!Uh(v,l))break;const C=CCe(m);(a===null||C<a.fragCount)&&(a={move:f,fragCount:C})}return a}function cq(e){const{isFromHeader:t,fromLeft:n,xPosition:r,fromEnter:o,fakeEvent:a,pinned:l,gos:d,colModel:f,colMoves:m,visibleCols:v}=e;let{allMovingColumns:C}=e;t&&(C=bCe(C));const y=C.slice();mCe(f.getCols(),y);const S=kCe({movingCols:y,draggingRight:n,xPosition:r,pinned:l,gos:d,colModel:f,visibleCols:v}),E=wCe(y,f);if(S.length===0)return;const T=S[0];if(E!==null&&(t||!o)&&!a&&(!n&&T>=E||n&&T<=E))return;const N=vCe(S,y,m,v);if(!N)return;const j=N.move;if(!(j>f.getCols().length-y.length))return{columns:y,toIndex:j}}function dq(e){const{columns:t,toIndex:n}=cq(e)||{},{finished:r,colMoves:o}=e;return!t||n==null?null:(o.moveColumns(t,n,"uiColumnMoved",r),r?null:{columns:t,toIndex:n})}function wCe(e,t){const n=t.getCols(),r=e.map(f=>n.indexOf(f)).sort((f,m)=>f-m),o=r[0];return Tn(r)-o!==r.length-1?null:o}function CCe(e){function t(r){const o=[];let a=r.getOriginalParent();for(;a!=null;)o.push(a),a=a.getOriginalParent();return o}let n=0;for(let r=0;r<e.length-1;r++){let o=t(e[r]),a=t(e[r+1]);[o,a]=o.length>a.length?[o,a]:[a,o];for(const l of o)a.indexOf(l)===-1&&n++}return n}function yCe(e,t){switch(t){case"left":return e.leftCols;case"right":return e.rightCols;default:return e.centerCols}}function kCe(e){const{movingCols:t,draggingRight:n,xPosition:r,pinned:o,gos:a,colModel:l,visibleCols:d}=e;if(a.get("suppressMovableColumns")||t.some(L=>L.getColDef().suppressMovable))return[];const m=yCe(d,o),v=l.getCols(),C=m.filter(L=>t.includes(L)),y=m.filter(L=>!t.includes(L)),S=v.filter(L=>!t.includes(L));let E=0,T=r;if(n){let L=0;for(const V of C)L+=V.getActualWidth();T-=L}if(T>0){for(let L=0;L<y.length;L++){const V=y[L];if(T-=V.getActualWidth(),T<0)break;E++}n&&E++}let P;if(E>0){const L=y[E-1];P=S.indexOf(L)+1}else P=S.indexOf(y[0]),P===-1&&(P=0);const N=[P],j=(L,V)=>L-V;if(n){let L=P+1;const V=v.length-1;for(;L<=V;)N.push(L),L++;N.sort(j)}else{let L=P;const V=v.length-1;let U=v[L];for(;L<=V&&m.indexOf(U)<0;)L++,N.push(L),U=v[L];L=P-1;const $=0;for(;L>=$;)N.push(L),L--;N.sort(j).reverse()}return N}function GP(e){const{pinned:t,fromKeyboard:n,gos:r,ctrlsSvc:o,useHeaderRow:a,skipScrollPadding:l}=e;let d=o.getHeaderRowContainerCtrl(t)?.eViewport,{x:f}=e;return d?(n&&(f-=d.getBoundingClientRect().left),r.get("enableRtl")&&(a&&(d=d.querySelector(".ag-header-row")),f=d.clientWidth-f),t==null&&!l&&(f+=o.get("center").getCenterViewportScrollLeft()),f):0}function tT(e,t){for(const n of e)n.moving=t,n.dispatchColEvent("movingChanged","uiColumnMoved")}var Hz=7,UP=100,a1=UP/2,xCe=5,ACe=100,SCe=class extends Pe{constructor(e){super(),this.pinned=e,this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.isCenterContainer=!Ye(e)}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}getIconName(){const{pinned:e,lastDraggingEvent:t}=this,{dragItem:n}=t||{},r=n?.columns??[];for(const o of r){const a=o.getPinned();if(o.getColDef().lockPinned){if(a==e)return"move";continue}const l=n?.containerType;if(l===e||!e)return"move";if(e&&(!a||l!==e))return"pinned"}return"notAllowed"}onDragEnter(e){const t=e.dragItem,n=t.columns;if(e.dragSource.type===0)this.setColumnsVisible(n,!0,"uiColumnDragged");else{const o=t.visibleState,a=(n||[]).filter(l=>o[l.getId()]&&!l.isVisible());this.setColumnsVisible(a,!0,"uiColumnDragged")}this.gos.get("suppressMoveWhenColumnDragging")||this.attemptToPinColumns(n,this.pinned),this.onDragging(e,!0,!0)}onDragging(e=this.lastDraggingEvent,t=!1,n=!1,r=!1){const{gos:o,ctrlsSvc:a}=this.beans,l=o.get("suppressMoveWhenColumnDragging");if(r&&!l){this.finishColumnMoving();return}if(this.lastDraggingEvent=e,!e||!r&&zn(e.hDirection))return;const d=GP({x:e.x,pinned:this.pinned,gos:o,ctrlsSvc:a});t||this.checkCenterForScrolling(d),l?this.handleColumnDragWhileSuppressingMovement(e,t,n,d,r):this.handleColumnDragWhileAllowingMovement(e,t,n,d,r)}onDragLeave(){this.ensureIntervalCleared(),this.clearHighlighted(),this.updateDragItemContainerType(),this.lastMovedInfo=null}onDragStop(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null}onDragCancel(){this.clearHighlighted(),this.ensureIntervalCleared(),this.lastMovedInfo=null}setColumnsVisible(e,t,n){if(!e?.length)return;const r=e.filter(o=>!o.getColDef().lockVisible);r.length&&this.beans.colModel.setColsVisible(r,t,n)}finishColumnMoving(){this.clearHighlighted();const e=this.lastMovedInfo;if(!e)return;const{columns:t,toIndex:n}=e;this.beans.colMoves.moveColumns(t,n,"uiColumnMoved",!0)}updateDragItemContainerType(){const{lastDraggingEvent:e}=this;if(this.gos.get("suppressMoveWhenColumnDragging")||!e)return;const t=e.dragItem;t&&(t.containerType=this.pinned)}handleColumnDragWhileSuppressingMovement(e,t,n,r,o){const a=this.getAllMovingColumns(e,!0);if(o){const l=this.isAttemptingToPin(a);l&&this.attemptToPinColumns(a,void 0,!0);const{fromLeft:d,xPosition:f}=this.getNormalisedXPositionInfo(a,l)||{};if(d==null||f==null){this.finishColumnMoving();return}this.moveColumnsAfterHighlight({allMovingColumns:a,xPosition:f,fromEnter:t,fakeEvent:n,fromLeft:d})}else{if(!this.beans.dragAndDrop.isDropZoneWithinThisGrid(e))return;this.highlightHoveredColumn(a,r)}}handleColumnDragWhileAllowingMovement(e,t,n,r,o){const a=this.getAllMovingColumns(e),l=this.normaliseDirection(e.hDirection)==="right",d=e.dragSource.type===1,f=this.getMoveColumnParams({allMovingColumns:a,isFromHeader:d,xPosition:r,fromLeft:l,fromEnter:t,fakeEvent:n}),m=dq({...f,finished:o});m&&(this.lastMovedInfo=m)}getAllMovingColumns(e,t=!1){const n=e.dragSource.getDragItem();let r=null;t?(r=n.columnsInSplit,r||(r=n.columns)):r=n.columns;const o=a=>a.getColDef().lockPinned?a.getPinned()==this.pinned:!0;return r?r.filter(o):[]}getMoveColumnParams(e){const{allMovingColumns:t,isFromHeader:n,xPosition:r,fromLeft:o,fromEnter:a,fakeEvent:l}=e,{gos:d,colModel:f,colMoves:m,visibleCols:v}=this.beans;return{allMovingColumns:t,isFromHeader:n,fromLeft:o,xPosition:r,pinned:this.pinned,fromEnter:a,fakeEvent:l,gos:d,colModel:f,colMoves:m,visibleCols:v}}highlightHoveredColumn(e,t){const{gos:n,colModel:r}=this.beans,o=n.get("enableRtl"),a=r.getCols().filter(v=>v.isVisible()&&v.getPinned()===this.pinned);let l=null,d=null,f=null;for(const v of a){if(d=v.getActualWidth(),l=this.getNormalisedColumnLeft(v,0,o),l!=null){const C=l+d;if(l<=t&&C>=t){f=v;break}}l=null,d=null}if(f)e.indexOf(f)!==-1&&(f=null);else{for(let v=a.length-1;v>=0;v--){const C=a[v],y=a[v].getParent();if(!y){f=C;break}const S=y?.getDisplayedLeafColumns();if(S.length){f=Tn(S);break}}if(!f)return;l=this.getNormalisedColumnLeft(f,0,o),d=f.getActualWidth()}if(this.lastHighlightedColumn?.column!==f&&this.clearHighlighted(),f==null||l==null||d==null)return;let m;t-l<d/2!==o?m=0:m=1,Vz(f,m),this.lastHighlightedColumn={column:f,position:m}}getNormalisedXPositionInfo(e,t){const{gos:n,visibleCols:r}=this.beans,o=n.get("enableRtl"),{firstMovingCol:a,column:l,position:d}=this.getColumnMoveAndTargetInfo(e,t,o);if(!a||!l||d==null)return;const f=r.allCols,m=f.indexOf(a),v=f.indexOf(l),C=d===0!==o,y=m<v||m===v&&!C;let S=0;if(C?y&&(S-=1):y||(S+=1),v+S===m)return;const E=f[v+S];if(!E)return;const T=this.getNormalisedColumnLeft(E,20,o);return{fromLeft:y,xPosition:T}}getColumnMoveAndTargetInfo(e,t,n){const r=this.lastHighlightedColumn||{},{firstMovingCol:o,lastMovingCol:a}=_Ce(e);if(!o||!a||r.column||!t)return{firstMovingCol:o,...r};const d=this.getPinDirection()==="left";return{firstMovingCol:o,position:d?1:0,column:d!==n?o:a}}normaliseDirection(e){if(this.gos.get("enableRtl"))switch(e){case"left":return"right";case"right":return"left"}return e}getNormalisedColumnLeft(e,t,n){const{gos:r,ctrlsSvc:o}=this.beans,a=e.getLeft();if(a==null)return null;const l=e.getActualWidth();return GP({x:n?a+l-t:a+t,pinned:e.getPinned(),useHeaderRow:n,skipScrollPadding:!0,gos:r,ctrlsSvc:o})}isAttemptingToPin(e){const t=this.needToMoveLeft||this.needToMoveRight,n=this.failedMoveAttempts>Hz;return t&&n||e.some(r=>r.getPinned()!==this.pinned)}moveColumnsAfterHighlight(e){const{allMovingColumns:t,xPosition:n,fromEnter:r,fakeEvent:o,fromLeft:a}=e,l=this.getMoveColumnParams({allMovingColumns:t,isFromHeader:!0,xPosition:n,fromLeft:a,fromEnter:r,fakeEvent:o}),{columns:d,toIndex:f}=cq(l)||{};d&&f!=null&&(this.lastMovedInfo={columns:d,toIndex:f}),this.finishColumnMoving()}clearHighlighted(){const{lastHighlightedColumn:e}=this;e&&(Vz(e.column,null),this.lastHighlightedColumn=null)}checkCenterForScrolling(e){if(!this.isCenterContainer)return;const t=this.beans.ctrlsSvc.get("center"),n=t.getCenterViewportScrollLeft(),r=n+t.getCenterWidth();let o,a;this.gos.get("enableRtl")?(o=e<n+a1,a=e>r-a1):(a=e<n+a1,o=e>r-a1),this.needToMoveRight=o,this.needToMoveLeft=a,a||o?this.ensureIntervalStarted():this.ensureIntervalCleared()}ensureIntervalStarted(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),ACe),this.beans.dragAndDrop.setDragImageCompIcon(this.needToMoveLeft?"left":"right",!0))}ensureIntervalCleared(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.failedMoveAttempts=0,this.beans.dragAndDrop.setDragImageCompIcon(this.getIconName()))}moveInterval(){let e;this.intervalCount++,e=10+this.intervalCount*xCe,e>UP&&(e=UP);let t=null;const n=this.gridBodyCon.scrollFeature;if(this.needToMoveLeft?t=n.scrollHorizontally(-e):this.needToMoveRight&&(t=n.scrollHorizontally(e)),t!==0)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;const{pinnedCols:r,dragAndDrop:o,gos:a}=this.beans;if(this.failedMoveAttempts<=Hz+1||!r)return;if(o.setDragImageCompIcon("pinned"),!a.get("suppressMoveWhenColumnDragging")){const l=this.lastDraggingEvent?.dragItem.columns;this.attemptToPinColumns(l,void 0,!0)}}}getPinDirection(){if(this.needToMoveLeft||this.pinned==="left")return"left";if(this.needToMoveRight||this.pinned==="right")return"right"}attemptToPinColumns(e,t,n=!1){const r=(e||[]).filter(l=>!l.getColDef().lockPinned);if(!r.length)return 0;n&&(t=this.getPinDirection());const{pinnedCols:o,dragAndDrop:a}=this.beans;return o?.setColsPinned(r,t,"uiColumnDragged"),n&&a.nudge(),r.length}destroy(){super.destroy(),this.lastDraggingEvent=null,this.clearHighlighted(),this.lastMovedInfo=null}};function Vz(e,t){e.highlighted!==t&&(e.highlighted=t,e.dispatchColEvent("headerHighlightChanged","uiColumnMoved"))}function _Ce(e){const t=e.length;let n,r;for(let o=0;o<t;o++){if(!n){const a=e[o];a.getLeft()!=null&&(n=a)}if(!r){const a=e[t-1-o];a.getLeft()!=null&&(r=a)}if(n&&r)break}return{firstMovingCol:n,lastMovingCol:r}}var ECe=class extends Pe{constructor(e,t){super(),this.pinned=e,this.eContainer=t}postConstruct(){const{ctrlsSvc:e,dragAndDrop:t}=this.beans,n=this.pinned;e.whenReady(this,r=>{let o;const a=r.gridBodyCtrl.eBodyViewport;switch(n){case"left":o=[[a,r.left.eContainer],[r.bottomLeft.eContainer],[r.topLeft.eContainer]];break;case"right":o=[[a,r.right.eContainer],[r.bottomRight.eContainer],[r.topRight.eContainer]];break;default:o=[[a,r.center.eViewport],[r.bottomCenter.eViewport],[r.topCenter.eViewport]];break}this.eSecondaryContainers=o}),this.moveColumnFeature=this.createManagedBean(new SCe(n)),this.bodyDropPivotTarget=this.createManagedBean(new gCe(n)),t.addDropTarget(this),this.addDestroyFunc(()=>t.removeDropTarget(this))}isInterestedIn(e){return e===1||e===0&&this.gos.get("allowDragFromColumnsToolPanel")}getSecondaryContainers(){return this.eSecondaryContainers}getContainer(){return this.eContainer}getIconName(){return this.currentDropListener.getIconName()}isDropColumnInPivotMode(e){return this.beans.colModel.isPivotMode()&&e.dragSource.type===0}onDragEnter(e){this.currentDropListener=this.isDropColumnInPivotMode(e)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(e)}onDragLeave(e){this.currentDropListener.onDragLeave(e)}onDragging(e){this.currentDropListener.onDragging(e)}onDragStop(e){this.currentDropListener.onDragStop(e)}onDragCancel(){this.currentDropListener.onDragCancel()}},DCe=class extends Pe{constructor(){super(...arguments),this.beanName="colMoves"}moveColumnByIndex(e,t,n){const r=this.beans.colModel.getCols();if(!r)return;const o=r[e];this.moveColumns([o],t,n)}moveColumns(e,t,n,r=!0){const{colModel:o,colAnimation:a,visibleCols:l,eventSvc:d}=this.beans,f=o.getCols();if(!f)return;if(t>f.length-e.length){ze(30,{toIndex:t});return}a?.start();const m=o.getColsForKeys(e);this.doesMovePassRules(m,t)&&(lz(o.getCols(),m,t),l.refresh(n),d.dispatchEvent({type:"columnMoved",columns:m,column:m.length===1?m[0]:null,toIndex:t,finished:r,source:n})),a?.finish()}doesMovePassRules(e,t){const n=this.getProposedColumnOrder(e,t);return this.doesOrderPassRules(n)}doesOrderPassRules(e){const{colModel:t,gos:n}=this.beans;return!(!WW(e,t.getColTree())||!(o=>{const a=m=>m?m==="left"||m===!0?-1:1:0,l=n.get("enableRtl");let d=l?1:-1,f=!0;for(const m of o){const v=a(m.getColDef().lockPosition);l?v>d&&(f=!1):v<d&&(f=!1),d=v}return f})(e))}getProposedColumnOrder(e,t){const r=this.beans.colModel.getCols().slice();return lz(r,e,t),r}createBodyDropTarget(e,t){return new ECe(e,t)}moveHeader(e,t,n,r,o){const{ctrlsSvc:a,gos:l,colModel:d,visibleCols:f,focusSvc:m}=this.beans,v=t.getBoundingClientRect(),C=v.left,y=Er(n),S=y?v.width:n.getActualWidth(),E=e==="left"!==l.get("enableRtl"),T=GP({x:E?C-20:C+S+20,pinned:r,fromKeyboard:!0,gos:l,ctrlsSvc:a}),P=m.focusedHeader;dq({allMovingColumns:y?n.getLeafColumns():[n],isFromHeader:!0,fromLeft:e==="right",xPosition:T,pinned:r,fromEnter:!1,fakeEvent:!1,gos:l,colModel:d,colMoves:this,visibleCols:f,finished:!0});let N;if(y){const j=n.getDisplayedLeafColumns();N=E?j[0]:Tn(j)}else N=n;if(a.getScrollFeature().ensureColumnVisible(N,"auto"),(!o.isAlive()||l.get("ensureDomOrder"))&&P){let j;if(y){const L=n.getGroupId(),V=n.getLeafColumns();if(!V.length)return;const U=V[0].getParent();if(!U)return;j=MCe(U,L)}else j=n;j&&m.focusHeaderPosition({headerPosition:{...P,column:j}})}}setDragSourceForHeader(e,t,n){const{gos:r,colModel:o,dragAndDrop:a,visibleCols:l}=this.beans;let d=!r.get("suppressDragLeaveHidesColumns");const f=Er(t),m=f?t.getProvidedColumnGroup().getLeafColumns():[t],C={type:1,eElement:e,getDefaultIconName:()=>d?"hide":"notAllowed",getDragItem:f?()=>RCe(t,l.allCols):()=>TCe(t),dragItemName:n,onDragStarted:()=>{d=!r.get("suppressDragLeaveHidesColumns"),tT(m,!0)},onDragStopped:()=>tT(m,!1),onDragCancelled:()=>tT(m,!1),onGridEnter:y=>{if(d){const{columns:S=[],visibleState:E}=y??{},T=f?N=>!E||E[N.getColId()]:()=>!0,P=S.filter(N=>!N.getColDef().lockVisible&&T(N));o.setColsVisible(P,!0,"uiColumnMoved")}},onGridExit:y=>{if(d){const S=y?.columns?.filter(E=>!E.getColDef().lockVisible)||[];o.setColsVisible(S,!1,"uiColumnMoved")}}};return a.addDragSource(C,!0),C}};function MCe(e,t){for(;e;){if(e.getGroupId()===t)return e;e=e.getParent()}}function TCe(e){const t={};return t[e.getId()]=e.isVisible(),{columns:[e],visibleState:t,containerType:e.pinned}}function RCe(e,t){const n=e.getProvidedColumnGroup().getLeafColumns(),r={};for(const d of n)r[d.getId()]=d.isVisible();const o=[];for(const d of t)n.indexOf(d)>=0&&(o.push(d),el(n,d));for(const d of n)o.push(d);const a=[],l=e.getLeafColumns();for(const d of o)l.indexOf(d)!==-1&&a.push(d);return{columns:o,columnsInSplit:a,visibleState:r,containerType:a[0]?.pinned}}var PCe={moduleName:"ColumnMove",version:Qe,beans:[DCe,hCe],apiFunctions:{moveColumnByIndex:fCe,moveColumns:pCe},dependsOn:[lq],css:[uCe]},ICe=class extends Pe{constructor(){super(...arguments),this.beanName="autoWidthCalc"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.centerRowContainerCtrl=e.center})}getPreferredWidthForColumn(e,t){const n=this.getHeaderCellForColumn(e);if(!n)return-1;const r=this.beans.rowRenderer.getAllCellsNotSpanningForColumn(e);return t||r.push(n),this.getPreferredWidthForElements(r)}getPreferredWidthForColumnGroup(e){const t=this.getHeaderCellForColumn(e);return t?this.getPreferredWidthForElements([t]):-1}getPreferredWidthForElements(e,t){const n=document.createElement("form");n.style.position="fixed";const r=this.centerRowContainerCtrl.eContainer;for(const a of e)this.cloneItemIntoDummy(a,n);r.appendChild(n);const o=n.offsetWidth;return n.remove(),t=t??this.gos.get("autoSizePadding"),o+t}getHeaderCellForColumn(e){let t=null;for(const n of this.beans.ctrlsSvc.getHeaderRowContainerCtrls()){const r=n.getHtmlElementForColumnHeader(e);r!=null&&(t=r)}return t}cloneItemIntoDummy(e,t){const n=e.cloneNode(!0);n.style.width="",n.style.position="static",n.style.left="";const r=document.createElement("div"),o=r.classList;["ag-header-cell","ag-header-group-cell"].some(d=>n.classList.contains(d))?(o.add("ag-header","ag-header-row"),r.style.position="static"):o.add("ag-row");let l=e.parentElement;for(;l;){if(["ag-header-row","ag-row"].some(f=>l.classList.contains(f))){for(let f=0;f<l.classList.length;f++){const m=l.classList[f];m!="ag-row-position-absolute"&&o.add(m)}break}l=l.parentElement}r.appendChild(n),t.appendChild(r)}},uq={moduleName:"AutoWidth",version:Qe,beans:[ICe]};function NCe(e,t,n=!0,r="api"){e.colResize?.setColumnWidths(t,!1,n,r)}var OCe=class extends Pe{constructor(e,t,n,r){super(),this.comp=e,this.eResize=t,this.pinned=n,this.columnGroup=r}postConstruct(){if(!this.columnGroup.isResizable()){this.comp.setResizableDisplayed(!1);return}const{horizontalResizeSvc:e,gos:t,colAutosize:n}=this.beans,r=e.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});this.addDestroyFunc(r),!t.get("suppressAutoSize")&&n&&this.addDestroyFunc(n.addColumnGroupResize(this.eResize,this.columnGroup,()=>this.resizeLeafColumnsToFit("uiColumnResized")))}onResizeStart(e){const{columnsToResize:t,resizeStartWidth:n,resizeRatios:r,groupAfterColumns:o,groupAfterStartWidth:a,groupAfterRatios:l}=this.getInitialValues(e);this.resizeCols=t,this.resizeStartWidth=n,this.resizeRatios=r,this.resizeTakeFromCols=o,this.resizeTakeFromStartWidth=a,this.resizeTakeFromRatios=l,this.toggleColumnResizing(!0)}onResizing(e,t,n="uiColumnResized"){const r=this.normaliseDragChange(t),o=this.resizeStartWidth+r;this.resizeColumnsFromLocalValues(o,n,e)}getInitialValues(e){const t=f=>f.reduce((m,v)=>m+v.getActualWidth(),0),n=(f,m)=>f.map(v=>v.getActualWidth()/m),r=this.getColumnsToResize(),o=t(r),a=n(r,o),l={columnsToResize:r,resizeStartWidth:o,resizeRatios:a};let d=null;if(e&&(d=this.beans.colGroupSvc?.getGroupAtDirection(this.columnGroup,"After")??null),d){const f=d.getDisplayedLeafColumns(),m=l.groupAfterColumns=f.filter(C=>C.isResizable()),v=l.groupAfterStartWidth=t(m);l.groupAfterRatios=n(m,v)}else l.groupAfterColumns=void 0,l.groupAfterStartWidth=void 0,l.groupAfterRatios=void 0;return l}resizeLeafColumnsToFit(e){const t=this.beans.autoWidthCalc.getPreferredWidthForColumnGroup(this.columnGroup),n=this.getInitialValues();t>n.resizeStartWidth&&this.resizeColumns(n,t,e,!0)}resizeColumnsFromLocalValues(e,t,n=!0){if(!this.resizeCols||!this.resizeRatios)return;const r={columnsToResize:this.resizeCols,resizeStartWidth:this.resizeStartWidth,resizeRatios:this.resizeRatios,groupAfterColumns:this.resizeTakeFromCols,groupAfterStartWidth:this.resizeTakeFromStartWidth,groupAfterRatios:this.resizeTakeFromRatios};this.resizeColumns(r,e,t,n)}resizeColumns(e,t,n,r=!0){const{columnsToResize:o,resizeStartWidth:a,resizeRatios:l,groupAfterColumns:d,groupAfterStartWidth:f,groupAfterRatios:m}=e,v=[];if(v.push({columns:o,ratios:l,width:t}),d){const C=t-a;v.push({columns:d,ratios:m,width:f-C})}this.beans.colResize?.resizeColumnSets({resizeSets:v,finished:r,source:n}),r&&this.toggleColumnResizing(!1)}toggleColumnResizing(e){this.comp.toggleCss("ag-column-resizing",e)}getColumnsToResize(){return this.columnGroup.getDisplayedLeafColumns().filter(t=>t.isResizable())}normaliseDragChange(e){let t=e;return this.gos.get("enableRtl")?this.pinned!=="left"&&(t*=-1):this.pinned==="right"&&(t*=-1),t}destroy(){super.destroy(),this.resizeCols=void 0,this.resizeRatios=void 0,this.resizeTakeFromCols=void 0,this.resizeTakeFromRatios=void 0}},FCe=class extends Pe{constructor(e,t,n,r,o){super(),this.pinned=e,this.column=t,this.eResize=n,this.comp=r,this.ctrl=o}postConstruct(){const e=[];let t,n;const r=()=>{if(Ln(this.eResize,t),!t)return;const{horizontalResizeSvc:l,colAutosize:d}=this.beans,f=l.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});e.push(f),n&&d&&e.push(d.addColumnAutosizeListeners(this.eResize,this.column))},o=()=>{for(const l of e)l();e.length=0},a=()=>{const l=this.column.isResizable(),d=!this.gos.get("suppressAutoSize")&&!this.column.getColDef().suppressAutoSize;(l!==t||d!==n)&&(t=l,n=d,o(),r())};a(),this.addDestroyFunc(o),this.ctrl.setRefreshFunction("resize",a)}onResizing(e,t){const{column:n,lastResizeAmount:r,resizeStartWidth:o,beans:a}=this,l=this.normaliseResizeAmount(t),d=o+l,f=[{key:n,newWidth:d}],{pinnedCols:m,ctrlsSvc:v,colResize:C}=a;if(this.column.getPinned()){const y=m?.leftWidth??0,S=m?.rightWidth??0,E=jy(v.getGridBodyCtrl().eBodyViewport)-50;if(y+S+(l-r)>E)return}this.lastResizeAmount=l,C?.setColumnWidths(f,this.resizeWithShiftKey,e,"uiColumnResized"),e&&this.toggleColumnResizing(!1)}onResizeStart(e){this.resizeStartWidth=this.column.getActualWidth(),this.lastResizeAmount=0,this.resizeWithShiftKey=e,this.toggleColumnResizing(!0)}toggleColumnResizing(e){this.column.resizing=e,this.comp.toggleCss("ag-column-resizing",e)}normaliseResizeAmount(e){let t=e;const n=this.pinned!=="left",r=this.pinned==="right";return this.gos.get("enableRtl")?n&&(t*=-1):r&&(t*=-1),t}},LCe=class extends Pe{constructor(){super(...arguments),this.beanName="colResize"}setColumnWidths(e,t,n,r){const o=[],{colModel:a,gos:l,visibleCols:d}=this.beans;for(const f of e){const m=a.getColDefCol(f.key)||a.getCol(f.key);if(!m)continue;if(o.push({width:f.newWidth,ratios:[1],columns:[m]}),l.get("colResizeDefault")==="shift"&&(t=!t),t){const C=d.getColAfter(m);if(!C)continue;const y=m.getActualWidth()-f.newWidth,S=C.getActualWidth()+y;o.push({width:S,ratios:[1],columns:[C]})}}o.length!==0&&this.resizeColumnSets({resizeSets:o,finished:n,source:r})}resizeColumnSets(e){const{resizeSets:t,finished:n,source:r}=e;if(!(!t||t.every(v=>BCe(v)))){if(n){const v=t&&t.length>0?t[0].columns:null;Mb(this.eventSvc,v,n,r)}return}const a=[],l=[];for(const v of t){const{width:C,columns:y,ratios:S}=v,E={},T={};for(const j of y)l.push(j);let P=!0,N=0;for(;P;){if(N++,N>1e3){Cn(31);break}P=!1;const j=[];let L=0,V=C;y.forEach(($,z)=>{if(T[$.getId()])V-=E[$.getId()];else{j.push($);const te=S[z];L+=te}});const U=1/L;j.forEach(($,z)=>{const K=z===j.length-1;let te;K?te=V:(te=Math.round(S[z]*C*U),V-=te);const ae=$.getMinWidth(),X=$.getMaxWidth();te<ae?(te=ae,T[$.getId()]=!0,P=!0):X>0&&te>X&&(te=X,T[$.getId()]=!0,P=!0),E[$.getId()]=te})}for(const j of y){const L=E[j.getId()];j.getActualWidth()!==L&&(j.setActualWidth(L,r),a.push(j))}}const d=a.length>0;let f=[];if(d){const{colFlex:v,visibleCols:C,colViewport:y}=this.beans;f=v?.refreshFlexedColumns({resizingCols:l,skipSetLeft:!0})??[],C.setLeftValues(r),C.updateBodyWidths(),y.checkViewportColumns()}const m=l.concat(f);(d||n)&&Mb(this.eventSvc,m,n,r,f)}resizeHeader(e,t,n){if(!e.isResizable())return;const r=e.getActualWidth(),o=e.getMinWidth(),a=e.getMaxWidth(),l=Math.min(Math.max(r+t,o),a);this.setColumnWidths([{key:e,newWidth:l}],n,!0,"uiColumnResized")}createResizeFeature(e,t,n,r,o){return new FCe(e,t,n,r,o)}createGroupResizeFeature(e,t,n,r){return new OCe(e,t,n,r)}};function BCe(e){const{columns:t,width:n}=e;let r=0,o=0,a=!0;for(const f of t){const m=f.getMinWidth();r+=m||0;const v=f.getMaxWidth();v>0?o+=v:a=!1}const l=n>=r,d=!a||n<=o;return l&&d}var jCe={moduleName:"ColumnResize",version:Qe,beans:[LCe],apiFunctions:{setColumnWidths:NCe},dependsOn:[dCe,uq]},zCe=class extends Pe{constructor(e,t){super(),this.removeChildListenersFuncs=[],this.columnGroup=t,this.comp=e}postConstruct(){this.addListenersToChildrenColumns(),this.addManagedListeners(this.columnGroup,{displayedChildrenChanged:this.onDisplayedChildrenChanged.bind(this)}),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))}addListenersToChildrenColumns(){this.removeListenersOnChildrenColumns();const e=this.onWidthChanged.bind(this);for(const t of this.columnGroup.getLeafColumns())t.__addEventListener("widthChanged",e),t.__addEventListener("visibleChanged",e),this.removeChildListenersFuncs.push(()=>{t.__removeEventListener("widthChanged",e),t.__removeEventListener("visibleChanged",e)})}removeListenersOnChildrenColumns(){for(const e of this.removeChildListenersFuncs)e();this.removeChildListenersFuncs=[]}onDisplayedChildrenChanged(){this.addListenersToChildrenColumns(),this.onWidthChanged()}onWidthChanged(){const e=this.columnGroup.getActualWidth();this.comp.setWidth(`${e}px`),this.comp.toggleCss("ag-hidden",e===0)}},HCe=class extends eO{constructor(){super(...arguments),this.onSuppressColMoveChange=()=>{!this.isAlive()||this.isSuppressMoving()?this.removeDragSource():this.dragSource||this.setDragSource(this.eGui)}}wireComp(e,t,n,r,o){const{column:a,beans:l}=this,{context:d,colNames:f,colHover:m,rangeSvc:v,colResize:C}=l;this.comp=e,o=S0(this,d,o),this.setGui(t,o),this.displayName=f.getDisplayNameForColumnGroup(a,"header"),this.refreshHeaderStyles(),this.addClasses(),this.setupMovingCss(o),this.setupExpandable(o),this.setupTooltip(),this.setupAutoHeight({wrapperElement:r,compBean:o}),this.setupUserComp(),this.addHeaderMouseListeners(o),this.addManagedPropertyListener("groupHeaderHeight",this.refreshMaxHeaderHeight.bind(this)),this.refreshMaxHeaderHeight();const y=this.rowCtrl.pinned,S=a.getProvidedColumnGroup().getLeafColumns();m?.createHoverFeature(o,S,t),v?.createRangeHighlightFeature(o,a,e),o.createManagedBean(new JN(a,t,l)),o.createManagedBean(new zCe(e,a)),C?this.resizeFeature=o.createManagedBean(C.createGroupResizeFeature(e,n,y,a)):e.setResizableDisplayed(!1),o.createManagedBean(new iv(t,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:()=>{},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)})),this.addHighlightListeners(o,S),o.addManagedPropertyListener("suppressMovableColumns",this.onSuppressColMoveChange),this.addResizeAndMoveKeyboardListeners(o),o.addDestroyFunc(()=>this.clearComponent())}getHeaderClassParams(){const{column:e,beans:t}=this,n=e.getDefinition();return ht(t.gos,{colDef:n,columnGroup:e,floatingFilter:!1})}refreshMaxHeaderHeight(){const{gos:e,comp:t}=this,n=e.get("groupHeaderHeight");n!=null?n===0?t.setHeaderWrapperHidden(!0):t.setHeaderWrapperMaxHeight(n):(t.setHeaderWrapperHidden(!1),t.setHeaderWrapperMaxHeight(null))}addHighlightListeners(e,t){if(this.beans.gos.get("suppressMoveWhenColumnDragging"))for(const n of t)e.addManagedListeners(n,{headerHighlightChanged:this.onLeafColumnHighlightChanged.bind(this,n)})}onLeafColumnHighlightChanged(e){const t=this.column.getDisplayedLeafColumns(),n=t[0]===e,r=Tn(t)===e;if(!n&&!r)return;const o=e.getHighlighted(),a=!!this.rowCtrl.getHeaderCellCtrls().find(f=>f.column.isMoving());let l=!1,d=!1;if(a){const f=this.beans.gos.get("enableRtl"),m=o===1,v=o===0;n&&(f?d=m:l=v),r&&(f?l=v:d=m)}this.comp.toggleCss("ag-header-highlight-before",l),this.comp.toggleCss("ag-header-highlight-after",d)}resizeHeader(e,t){const{resizeFeature:n}=this;if(!n)return;const r=n.getInitialValues(t);n.resizeColumns(r,r.resizeStartWidth+e,"uiColumnResized",!0)}resizeLeafColumnsToFit(e){this.resizeFeature?.resizeLeafColumnsToFit(e)}setupUserComp(){const{colGroupSvc:e,userCompFactory:t,gos:n,enterpriseMenuFactory:r}=this.beans,o=this.column,a=o.getProvidedColumnGroup(),l=ht(n,{displayName:this.displayName,columnGroup:o,setExpanded:f=>{e.setColumnGroupOpened(a,f,"gridInitializing")},setTooltip:(f,m)=>{n.assertModuleRegistered("Tooltip",3),this.setupTooltip(f,m)},showColumnMenu:(f,m)=>r?.showMenuAfterButtonClick(a,f,"columnMenu",m),showColumnMenuAfterMouseClick:(f,m)=>r?.showMenuAfterMouseEvent(a,f,"columnMenu",m),eGridHeader:this.eGui}),d=Gge(t,l);d&&this.comp.setUserCompDetails(d)}addHeaderMouseListeners(e){const t=o=>this.handleMouseOverChange(o.type==="mouseenter"),n=()=>this.dispatchColumnMouseEvent("columnHeaderClicked",this.column.getProvidedColumnGroup()),r=o=>this.handleContextMenuMouseEvent(o,void 0,this.column.getProvidedColumnGroup());e.addManagedListeners(this.eGui,{mouseenter:t,mouseleave:t,click:n,contextmenu:r})}handleMouseOverChange(e){this.eventSvc.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column.getProvidedColumnGroup()})}setupTooltip(e,t){this.tooltipFeature=this.beans.tooltipSvc?.setupHeaderGroupTooltip(this.tooltipFeature,this,e,t)}setupExpandable(e){const t=this.column.getProvidedColumnGroup();this.refreshExpanded();const n=this.refreshExpanded.bind(this);e.addManagedListeners(t,{expandedChanged:n,expandableChanged:n})}refreshExpanded(){const{column:e}=this;this.expandable=e.isExpandable();const t=e.isExpanded();this.expandable?this.comp.setAriaExpanded(t?"true":"false"):this.comp.setAriaExpanded(void 0),this.refreshHeaderStyles()}addClasses(){const{column:e}=this,t=e.getColGroupDef(),n=V$(t,this.gos,null,e);e.isPadding()?(n.push("ag-header-group-cell-no-group"),e.getLeafColumns().every(o=>o.isSpanHeaderHeight())&&n.push("ag-header-span-height")):(n.push("ag-header-group-cell-with-group"),t?.wrapHeaderText&&n.push("ag-header-cell-wrap-text"));for(const r of n)this.comp.toggleCss(r,!0)}setupMovingCss(e){const{column:t}=this,r=t.getProvidedColumnGroup().getLeafColumns(),o=()=>this.comp.toggleCss("ag-header-cell-moving",t.isMoving());for(const a of r)e.addManagedListeners(a,{movingChanged:o});o()}onFocusIn(e){this.eGui.contains(e.relatedTarget)||this.focusThis()}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();if(!(!this.expandable||!t)&&e.key===xe.ENTER){const n=this.column,r=!n.isExpanded();this.beans.colGroupSvc.setColumnGroupOpened(n.getProvidedColumnGroup(),r,"uiColumnExpanded")}}setDragSource(e){!this.isAlive()||this.isSuppressMoving()||(this.removeDragSource(),e&&(this.dragSource=this.beans.colMoves?.setDragSourceForHeader(e,this.column,this.displayName)??null))}isSuppressMoving(){return this.gos.get("suppressMovableColumns")||this.column.getLeafColumns().some(e=>e.getColDef().suppressMovable||e.getColDef().lockPosition)}destroy(){this.tooltipFeature=this.destroyBean(this.tooltipFeature),super.destroy()}};function VCe(e,t,n){e.colGroupSvc?.setColumnGroupOpened(t,n,"api")}function GCe(e,t,n){return e.colGroupSvc?.getColumnGroup(t,n)??null}function UCe(e,t){return e.colGroupSvc?.getProvidedColGroup(t)??null}function WCe(e,t,n){return e.colNames.getDisplayNameForColumnGroup(t,n)||""}function $Ce(e){return e.colGroupSvc?.getColumnGroupState()??[]}function qCe(e,t){e.colGroupSvc?.setColumnGroupState(t,"api")}function KCe(e){e.colGroupSvc?.resetColumnGroupState("api")}function YCe(e){return e.visibleCols.treeLeft}function QCe(e){return e.visibleCols.treeCenter}function ZCe(e){return e.visibleCols.treeRight}function XCe(e){return e.visibleCols.getAllTrees()}function JCe(e,t){for(let n=0;n<t.length;n++){const r=e.indexOf(t[n]);r>=0&&(e[r]=e[e.length-1],e.pop())}}var eye=class extends Pe{constructor(){super(...arguments),this.beanName="visibleCols",this.colsAndGroupsMap={},this.leftCols=[],this.rightCols=[],this.centerCols=[],this.allCols=[],this.headerGroupRowCount=0,this.bodyWidth=0,this.leftWidth=0,this.rightWidth=0,this.isBodyWidthDirty=!0}refresh(e,t=!1){const{colFlex:n,colModel:r,colGroupSvc:o,colViewport:a,selectionColSvc:l}=this.beans;t||this.buildTrees(r,o),o?.updateOpenClosedVisibility(),this.leftCols=nT(this.treeLeft),this.centerCols=nT(this.treeCenter),this.rightCols=nT(this.treeRight),l?.refreshVisibility(this.leftCols,this.centerCols,this.rightCols),this.joinColsAriaOrder(r),this.joinCols(),this.headerGroupRowCount=this.getHeaderRowCount(),this.setLeftValues(e),this.autoHeightCols=this.allCols.filter(d=>d.isAutoHeight()),n?.refreshFlexedColumns(),this.updateBodyWidths(),this.setFirstRightAndLastLeftPinned(r,this.leftCols,this.rightCols,e),a.checkViewportColumns(!1),this.eventSvc.dispatchEvent({type:"displayedColumnsChanged",source:e})}getHeaderRowCount(){if(!this.gos.get("hidePaddedHeaderRows"))return this.beans.colModel.cols.treeDepth;let e=0;for(const t of this.allCols){let n=t.getParent();for(;n;){if(!n.isPadding()){const r=n.getProvidedColumnGroup().getLevel()+1;r>e&&(e=r);break}n=n.getParent()}}return e}updateBodyWidths(){const e=fd(this.centerCols),t=fd(this.leftCols),n=fd(this.rightCols);this.isBodyWidthDirty=this.bodyWidth!==e,(this.bodyWidth!==e||this.leftWidth!==t||this.rightWidth!==n)&&(this.bodyWidth=e,this.leftWidth=t,this.rightWidth=n,this.eventSvc.dispatchEvent({type:"columnContainerWidthChanged"}),this.eventSvc.dispatchEvent({type:"displayedColumnsWidthChanged"}))}setLeftValues(e){this.setLeftValuesOfCols(e),this.setLeftValuesOfGroups()}setFirstRightAndLastLeftPinned(e,t,n,r){let o,a;this.gos.get("enableRtl")?(o=t?t[0]:null,a=n?Tn(n):null):(o=t?Tn(t):null,a=n?n[0]:null);for(const l of e.getCols())l.setLastLeftPinned(l===o,r),l.setFirstRightPinned(l===a,r)}buildTrees(e,t){const n=e.getColsToShow(),r=n.filter(f=>f.getPinned()=="left"),o=n.filter(f=>f.getPinned()=="right"),a=n.filter(f=>f.getPinned()!="left"&&f.getPinned()!="right"),l=new QW,d=f=>t?t.createColumnGroups(f):f.columns;this.treeLeft=d({columns:r,idCreator:l,pinned:"left",oldDisplayedGroups:this.treeLeft}),this.treeRight=d({columns:o,idCreator:l,pinned:"right",oldDisplayedGroups:this.treeRight}),this.treeCenter=d({columns:a,idCreator:l,pinned:null,oldDisplayedGroups:this.treeCenter}),this.updateColsAndGroupsMap()}clear(){this.leftCols=[],this.rightCols=[],this.centerCols=[],this.allCols=[],this.ariaOrderColumns=[]}joinColsAriaOrder(e){const t=e.getCols(),n=[],r=[],o=[];for(const a of t){const l=a.getPinned();l?l===!0||l==="left"?n.push(a):o.push(a):r.push(a)}this.ariaOrderColumns=n.concat(r).concat(o)}getAriaColIndex(e){let t;return Er(e)?t=e.getLeafColumns()[0]:t=e,this.ariaOrderColumns.indexOf(t)+1}setLeftValuesOfGroups(){for(const e of[this.treeLeft,this.treeRight,this.treeCenter])for(const t of e)Er(t)&&t.checkLeft()}setLeftValuesOfCols(e){const{colModel:t}=this.beans;if(!t.getColDefCols())return;const r=t.getCols().slice(0),o=this.gos.get("enableRtl");for(const a of[this.leftCols,this.rightCols,this.centerCols]){if(o){let l=fd(a);for(const d of a)l-=d.getActualWidth(),d.setLeft(l,e)}else{let l=0;for(const d of a)d.setLeft(l,e),l+=d.getActualWidth()}JCe(r,a)}for(const a of r)a.setLeft(null,e)}joinCols(){this.gos.get("enableRtl")?this.allCols=this.rightCols.concat(this.centerCols).concat(this.leftCols):this.allCols=this.leftCols.concat(this.centerCols).concat(this.rightCols)}getAllTrees(){return this.treeLeft&&this.treeRight&&this.treeCenter?this.treeLeft.concat(this.treeCenter).concat(this.treeRight):null}isColDisplayed(e){return this.allCols.indexOf(e)>=0}getLeftColsForRow(e){const{leftCols:t,beans:{colModel:n}}=this;return n.colSpanActive?this.getColsForRow(e,t):t}getRightColsForRow(e){const{rightCols:t,beans:{colModel:n}}=this;return n.colSpanActive?this.getColsForRow(e,t):t}getColsForRow(e,t,n,r){const o=[];let a=null;for(let l=0;l<t.length;l++){const d=t[l],f=t.length-l,m=Math.min(d.getColSpan(e),f),v=[d];if(m>1){const y=m-1;for(let S=1;S<=y;S++)v.push(t[l+S]);l+=y}let C;if(n){C=!1;for(const y of v)n(y)&&(C=!0)}else C=!0;C&&(o.length===0&&a&&(r&&r(d))&&o.push(a),o.push(d)),a=d}return o}getContainerWidth(e){switch(e){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}}getColBefore(e){const t=this.allCols,n=t.indexOf(e);return n>0?t[n-1]:null}isPinningLeft(){return this.leftCols.length>0}isPinningRight(){return this.rightCols.length>0}updateColsAndGroupsMap(){this.colsAndGroupsMap={};const e=t=>{this.colsAndGroupsMap[t.getUniqueId()]=t};Op(this.treeCenter,!1,e),Op(this.treeLeft,!1,e),Op(this.treeRight,!1,e)}isVisible(e){return this.colsAndGroupsMap[e.getUniqueId()]===e}getFirstColumn(){const e=this.gos.get("enableRtl"),t=["leftCols","centerCols","rightCols"];e&&t.reverse();for(let n=0;n<t.length;n++){const r=this[t[n]];if(r.length)return e?Tn(r):r[0]}return null}getColAfter(e){const t=this.allCols,n=t.indexOf(e);return n<t.length-1?t[n+1]:null}getColsLeftWidth(){return fd(this.leftCols)}getDisplayedColumnsRightWidth(){return fd(this.rightCols)}isColAtEdge(e,t){const n=this.allCols;if(!n.length)return!1;const r=t==="first";let o;if(Er(e)){const a=e.getDisplayedLeafColumns();if(!a.length)return!1;o=r?a[0]:Tn(a)}else o=e;return(r?n[0]:Tn(n))===o}};function Op(e,t,n){if(e)for(let r=0;r<e.length;r++){const o=e[r];if(Er(o)){const a=t?o.getDisplayedChildren():o.getChildren();Op(a,t,n)}n(o)}}function nT(e){const t=[];return Op(e,!0,n=>{Oh(n)&&t.push(n)}),t}var tye=class extends Pe{constructor(){super(...arguments),this.beanName="colGroupSvc"}getColumnGroupState(){const e=[],t=this.beans.colModel.getColTree();return Sd(null,t,n=>{Ui(n)&&e.push({groupId:n.getGroupId(),open:n.isExpanded()})}),e}resetColumnGroupState(e){const t=this.beans.colModel.getColDefColTree();if(!t)return;const n=[];Sd(null,t,r=>{if(Ui(r)){const o=r.getColGroupDef(),a={groupId:r.getGroupId(),open:o?o.openByDefault:void 0};n.push(a)}}),this.setColumnGroupState(n,e)}setColumnGroupState(e,t){const{colModel:n,colAnimation:r,visibleCols:o,eventSvc:a}=this.beans;if(!n.getColTree().length)return;r?.start();const d=[];for(const f of e){const m=f.groupId,v=f.open,C=this.getProvidedColGroup(m);C&&C.isExpanded()!==v&&(C.setExpanded(v),d.push(C))}o.refresh(t,!0),d.length&&a.dispatchEvent({type:"columnGroupOpened",columnGroup:d.length===1?d[0]:void 0,columnGroups:d}),r?.finish()}setColumnGroupOpened(e,t,n){let r;Ui(e)?r=e.getId():r=e||"",this.setColumnGroupState([{groupId:r,open:t}],n)}getProvidedColGroup(e){let t=null;return Sd(null,this.beans.colModel.getColTree(),n=>{Ui(n)&&n.getId()===e&&(t=n)}),t}getGroupAtDirection(e,t){const n=e.getProvidedColumnGroup().getLevel()+e.getPaddingLevel(),r=e.getDisplayedLeafColumns(),o=t==="After"?Tn(r):r[0],a=`getCol${t}`;for(;;){const l=this.beans.visibleCols[a](o);if(!l)return null;const d=this.getColGroupAtLevel(l,n);if(d!==e)return d}}getColGroupAtLevel(e,t){let n=e.getParent(),r,o;for(;r=n.getProvidedColumnGroup().getLevel(),o=n.getPaddingLevel(),!(r+o<=t);)n=n.getParent();return n}updateOpenClosedVisibility(){const e=this.beans.visibleCols.getAllTrees();Op(e,!1,t=>{Er(t)&&t.calculateDisplayedColumns()})}getColumnGroup(e,t){if(!e)return null;if(Er(e))return e;const n=this.beans.visibleCols.getAllTrees(),r=typeof t=="number";let o=null;return Op(n,!1,a=>{if(Er(a)){const l=a;let d;r?d=e===l.getGroupId()&&t===l.getPartId():d=e===l.getGroupId(),d&&(o=l)}}),o}createColumnGroups(e){const{columns:t,idCreator:n,pinned:r,oldDisplayedGroups:o,isStandaloneStructure:a}=e,l=this.mapOldGroupsById(o),d=[];let f=t;for(;f.length;){const m=f;f=[];let v=0;const C=y=>{const S=v;v=y;const E=m[S],P=(Er(E)?E.getProvidedColumnGroup():E).getOriginalParent();if(P==null){for(let j=S;j<y;j++)d.push(m[j]);return}const N=this.createColumnGroup(P,n,l,r,a);for(let j=S;j<y;j++)N.addChild(m[j]);f.push(N)};for(let y=1;y<m.length;y++){const S=m[y],T=(Er(S)?S.getProvidedColumnGroup():S).getOriginalParent(),P=m[v],j=(Er(P)?P.getProvidedColumnGroup():P).getOriginalParent();T!==j&&C(y)}v<m.length&&C(m.length)}return a||this.setupParentsIntoCols(d,null),d}createProvidedColumnGroup(e,t,n,r,o,a,l){const d=o.getUniqueKey(t.groupId||null,null),f=az(this.beans,t,d),m=new Y1(f,d,!1,n);this.createBean(m);const v=this.findExistingGroup(t,a);v&&a.splice(v.idx,1);const C=v?.group;C&&m.setExpanded(C.isExpanded());const y=VW(this.beans,f.children,n+1,e,r,o,a,l);return m.setChildren(y),m}balanceColumnTree(e,t,n,r){const o=[];for(let a=0;a<e.length;a++){const l=e[a];if(Ui(l)){const d=l,f=this.balanceColumnTree(d.getChildren(),t+1,n,r);d.setChildren(f),o.push(d)}else{let d,f;for(let m=t;m<n;m++){const v=r.getUniqueKey(null,null),C=az(this.beans,null,v),y=new Y1(C,v,!0,m);this.createBean(y),f&&f.setChildren([y]),f=y,d||(d=f)}if(d&&f)if(o.push(d),e.some(v=>Ui(v))){f.setChildren([l]);continue}else{f.setChildren(e);break}o.push(l)}}return o}findDepth(e){let t=0,n=e;for(;n?.[0]&&Ui(n[0]);)t++,n=n[0].getChildren();return t}findMaxDepth(e,t){let n=t;for(let r=0;r<e.length;r++){const o=e[r];if(Ui(o)){const a=o,l=this.findMaxDepth(a.getChildren(),t+1);n<l&&(n=l)}}return n}balanceTreeForAutoCols(e,t){const n=[];for(const r of e){let o=r;for(let a=t-1;a>=0;a--){const l=new Y1(null,`FAKE_PATH_${r.getId()}}_${a}`,!0,a);this.createBean(l),l.setChildren([o]),o.originalParent=l,o=l}t===0&&(r.originalParent=null),n.push(o)}return n}findExistingGroup(e,t){if(e.groupId!=null)for(let r=0;r<t.length;r++){const o=t[r];if(o.getColGroupDef()&&o.getId()===e.groupId)return{idx:r,group:o}}}createColumnGroup(e,t,n,r,o){const a=e.getGroupId(),l=t.getInstanceIdForKey(a),d=C$(a,l);let f=n[d];return f&&f.getProvidedColumnGroup()!==e&&(f=null),Ye(f)?f.reset():(f=new $y(e,a,l,r),o||this.createBean(f)),f}mapOldGroupsById(e){const t={},n=r=>{for(const o of r)if(Er(o)){const a=o;t[o.getUniqueId()]=a,n(a.getChildren())}};return e&&n(e),t}setupParentsIntoCols(e,t){for(const n of e??[])if(n.parent!==t&&(this.beans.colViewport.colsWithinViewportHash=""),n.parent=t,Er(n)){const r=n;this.setupParentsIntoCols(r.getChildren(),r)}}},nye={moduleName:"ColumnGroup",version:Qe,dynamicBeans:{headerGroupCellCtrl:HCe},beans:[tye],apiFunctions:{getAllDisplayedColumnGroups:XCe,getCenterDisplayedColumnGroups:QCe,getColumnGroup:GCe,getColumnGroupState:$Ce,getDisplayNameForColumnGroup:WCe,getLeftDisplayedColumnGroups:YCe,getProvidedColumnGroup:UCe,getRightDisplayedColumnGroups:ZCe,resetColumnGroupState:KCe,setColumnGroupOpened:VCe,setColumnGroupState:qCe}},rye={tag:"div",cls:"ag-skeleton-container"},iye=class extends nn{constructor(){super(rye)}init(t){const n=`ag-cell-skeleton-renderer-${this.getCompId()}`;this.getGui().setAttribute("id",n),this.addDestroyFunc(()=>Fy(t.eParentOfValue)),Fy(t.eParentOfValue,n),t.deferRender?this.setupLoading(t):t.node.failedLoad?this.setupFailed():this.setupLoading(t)}setupFailed(){const t=this.getLocaleTextFunc();this.getGui().textContent=t("loadingError","ERR");const n=t("ariaSkeletonCellLoadingFailed","Row failed to load");Eb(this.getGui(),n)}setupLoading(t){const n=Dr({tag:"div",cls:"ag-skeleton-effect"}),r=t.node.rowIndex;if(r!=null){const l=75+25*(r%2===0?Math.sin(r):Math.cos(r));n.style.width=`${l}%`}this.getGui().appendChild(n);const o=this.getLocaleTextFunc(),a=t.deferRender?o("ariaDeferSkeletonCellLoading","Cell is loading"):o("ariaSkeletonCellLoading","Row data is loading");Eb(this.getGui(),a)}refresh(t){return!1}},oye={moduleName:"CheckboxCellRenderer",version:Qe,userComponents:{agCheckboxCellRenderer:Wve}},sye={moduleName:"SkeletonCellRenderer",version:Qe,userComponents:{agSkeletonCellRenderer:iye}};function aye(e,t){const n=e.colModel.getColDefCol(t);return n?n.getColDef():null}function lye(e){return e.colModel.getColumnDefs(!0)}function cye(e,t,n){return e.colNames.getDisplayNameForColumn(t,n)||""}function dye(e,t){return e.colModel.getColDefCol(t)}function uye(e){return e.colModel.getColDefCols()}function hye(e,t){return Ya(e,t,"api")}function fye(e){return RS(e)}function pye(e){fge(e,"api")}function gye(e){return e.visibleCols.isPinningLeft()||e.visibleCols.isPinningRight()}function mye(e){return e.visibleCols.isPinningLeft()}function bye(e){return e.visibleCols.isPinningRight()}function vye(e,t){return e.visibleCols.getColAfter(t)}function wye(e,t){return e.visibleCols.getColBefore(t)}function Cye(e,t,n){e.colModel.setColsVisible(t,n,"api")}function yye(e,t,n){e.pinnedCols?.setColsPinned(t,n,"api")}function kye(e){return e.colModel.getCols()}function xye(e){return e.visibleCols.leftCols}function Aye(e){return e.visibleCols.centerCols}function Sye(e){return e.visibleCols.rightCols}function _ye(e){return e.visibleCols.allCols}function Eye(e){return e.colViewport.getViewportColumns()}function WP(e,t){if(!e)return;const n=e,r={};for(const o of Object.keys(n)){if(t&&t.indexOf(o)>=0||wW.has(o))continue;const a=n[o];typeof a=="object"&&a!==null&&a.constructor===Object?r[o]=WP(a):r[o]=a}return r}var Dye=class extends Pe{constructor(){super(...arguments),this.beanName="colDefFactory"}wireBeans(e){this.rowGroupColsSvc=e.rowGroupColsSvc,this.pivotColsSvc=e.pivotColsSvc}getColumnDefs(e,t,n,r,o=!1){const a=e.slice();t?a.sort((f,m)=>n.indexOf(f)-n.indexOf(m)):(n||o)&&a.sort((f,m)=>r.indexOf(f)-r.indexOf(m));const l=this.rowGroupColsSvc?.columns,d=this.pivotColsSvc?.columns;return this.buildColumnDefs(a,l,d)}buildColumnDefs(e,t=[],n=[]){const r=[],o={};for(const a of e){const l=this.createDefFromColumn(a,t,n);let d=!0,f=l,m=a.getOriginalParent(),v=null;for(;m;){let C=null;if(m.isPadding()){m=m.getOriginalParent();continue}const y=o[m.getGroupId()];if(y){y.children.push(f),d=!1;break}if(C=this.createDefFromGroup(m),C&&(C.children=[f],o[C.groupId]=C,f=C,m=m.getOriginalParent()),m!=null&&v===m){d=!1;break}v=m}d&&r.push(f)}return r}createDefFromGroup(e){const t=WP(e.getColGroupDef(),["children"]);return t&&(t.groupId=e.getGroupId()),t}createDefFromColumn(e,t,n){const r=WP(e.getColDef());return r.colId=e.getColId(),r.width=e.getActualWidth(),r.rowGroup=e.isRowGroupActive(),r.rowGroupIndex=e.isRowGroupActive()?t.indexOf(e):null,r.pivot=e.isPivotActive(),r.pivotIndex=e.isPivotActive()?n.indexOf(e):null,r.aggFunc=e.isValueActive()?e.getAggFunc():null,r.hide=e.isVisible()?void 0:!0,r.pinned=e.isPinned()?e.getPinned():null,r.sort=e.getSort()?e.getSort():null,r.sortIndex=e.getSortIndex()!=null?e.getSortIndex():null,r}},Mye=class extends Pe{constructor(){super(...arguments),this.beanName="colFlex",this.columnsHidden=!1}refreshFlexedColumns(e={}){const t=e.source??"flex";e.viewportWidth!=null&&(this.flexViewportWidth=e.viewportWidth);const n=this.flexViewportWidth,{visibleCols:r,colDelayRenderSvc:o}=this.beans,a=r.centerCols;let l=-1;if(e.resizingCols){const T=new Set(e.resizingCols);for(let P=a.length-1;P>=0;P--)if(T.has(a[P])){l=P;break}}let d=!1;const f=a.map((T,P)=>{const N=T.getFlex(),j=N!=null&&N>0&&P>l;return d||(d=j),{col:T,isFlex:j,flex:Math.max(0,N??0),initialSize:T.getActualWidth(),min:T.getMinWidth(),max:T.getMaxWidth(),targetSize:0}});if(d?(o?.hideColumns("colFlex"),this.columnsHidden=!0):this.columnsHidden&&this.revealColumns(o),!n||!d)return[];let m=f.length,v=f.reduce((T,P)=>T+P.flex,0),C=n;const y=(T,P)=>{T.frozenSize=P,T.col.setActualWidth(P,t),C-=P,v-=T.flex,m-=1},S=T=>T.frozenSize!=null;for(const T of f)T.isFlex||y(T,T.initialSize);for(;m>0;){const T=Math.round(v<1?C*v:C);let P,N=0,j=0;for(const U of f){if(S(U))continue;P=U,j+=T*(U.flex/v);const $=j-N,z=Math.round($);U.targetSize=z,N+=z}P&&(P.targetSize+=T-N);let L=0;for(const U of f){if(S(U))continue;const $=U.targetSize,z=Math.min(Math.max($,U.min),U.max);L+=z-$,U.violationType=z===$?void 0:z<$?"max":"min",U.targetSize=z}const V=L===0?"all":L>0?"min":"max";for(const U of f)S(U)||(V==="all"||U.violationType===V)&&y(U,U.targetSize)}e.skipSetLeft||r.setLeftValues(t),e.updateBodyWidths&&r.updateBodyWidths();const E=f.filter(T=>T.isFlex&&!T.violationType).map(T=>T.col);if(e.fireResizedEvent){const T=f.filter(N=>N.initialSize!==N.frozenSize).map(N=>N.col),P=f.filter(N=>N.flex).map(N=>N.col);Mb(this.eventSvc,T,!0,t,P)}return this.revealColumns(o),E}revealColumns(e){this.columnsHidden&&(e?.revealColumns("colFlex"),this.columnsHidden=!1)}initCol(e){const{flex:t,initialFlex:n}=e.colDef;t!==void 0?e.flex=t:n!==void 0&&(e.flex=n)}setColFlex(e,t){e.flex=t??null,e.dispatchStateUpdatedEvent("flex")}};function Dy(e,t,n){if(!t||!e)return;if(!n)return e[t];const r=t.split(".");let o=e;for(let a=0;a<r.length;a++){if(o==null)return;o=o[r[a]]}return o}var Tye=["dateTimeString","dateString","text","number","boolean","date"],Rye=class extends Pe{constructor(){super(...arguments),this.beanName="dataTypeSvc",this.dataTypeDefinitions={},this.isPendingInference=!1,this.isColumnTypeOverrideInDataTypeDefinitions=!1,this.columnStateUpdatesPendingInference={},this.columnStateUpdateListenerDestroyFuncs=[],this.columnDefinitionPropsPerDataType={number(){return{cellEditor:"agNumberCellEditor"}},boolean(){return{cellEditor:"agCheckboxCellEditor",cellRenderer:"agCheckboxCellRenderer",getFindText:()=>null,suppressKeyboardEvent:e=>!!e.colDef.editable&&e.event.key===xe.SPACE}},date({formatValue:e}){return{cellEditor:"agDateCellEditor",keyCreator:e}},dateString({formatValue:e}){return{cellEditor:"agDateStringCellEditor",keyCreator:e}},dateTime(e){return this.date(e)},dateTimeString(e){return this.dateString(e)},object({formatValue:e,colModel:t,colId:n}){return{cellEditorParams:{useFormatter:!0},comparator:(r,o)=>{const a=t.getColDefCol(n),l=a?.getColDef();if(!a||!l)return 0;const d=r==null?"":e({column:a,node:null,value:r}),f=o==null?"":e({column:a,node:null,value:o});return d===f?0:d>f?1:-1},keyCreator:e}},text(){return{}}}}wireBeans(e){this.colModel=e.colModel}postConstruct(){this.processDataTypeDefinitions(),this.addManagedPropertyListener("dataTypeDefinitions",e=>{this.processDataTypeDefinitions(),this.colModel.recreateColumnDefs(e)})}processDataTypeDefinitions(){const e=this.getDefaultDataTypes(),t={},n={},r=v=>C=>{const{column:y,node:S,value:E}=C;let T=y.getColDef().valueFormatter;return T===v.groupSafeValueFormatter&&(T=v.valueFormatter),this.beans.valueSvc.formatValue(y,S,E,T)};for(const v of Object.keys(e)){const C=e[v],y={...C,groupSafeValueFormatter:Wz(C,this.gos)};t[v]=y,n[v]=r(y)}const o=this.gos.get("dataTypeDefinitions")??{},a={};for(const v of Object.keys(o)){const C=o[v],y=this.processDataTypeDefinition(C,o,[v],e);y&&(t[v]=y,C.dataTypeMatcher&&(a[v]=C.dataTypeMatcher),n[v]=r(y))}const{valueParser:l,valueFormatter:d}=e.object,{valueParser:f,valueFormatter:m}=t.object;this.hasObjectValueParser=f!==l,this.hasObjectValueFormatter=m!==d,this.formatValueFuncs=n,this.dataTypeDefinitions=t,this.dataTypeMatchers=this.sortKeysInMatchers(a,e)}sortKeysInMatchers(e,t){const n={...e};for(const r of Tye)delete n[r],n[r]=e[r]??t[r].dataTypeMatcher;return n}processDataTypeDefinition(e,t,n,r){let o;const a=e.extendsDataType;if(e.columnTypes&&(this.isColumnTypeOverrideInDataTypeDefinitions=!0),e.extendsDataType===e.baseDataType){let l=r[a];const d=t[a];if(l&&d&&(l=d),!Uz(e,l,a))return;o=Gz(l,e)}else{if(n.includes(a)){ze(44);return}const l=t[a];if(!Uz(e,l,a))return;const d=this.processDataTypeDefinition(l,t,[...n,a],r);if(!d)return;o=Gz(d,e)}return{...o,groupSafeValueFormatter:Wz(o,this.gos)}}updateColDefAndGetColumnType(e,t,n){let{cellDataType:r}=t;const{field:o}=t;if(r===void 0&&(r=e.cellDataType),(r==null||r===!0)&&(r=this.canInferCellDataType(e,t)?this.inferCellDataType(o,n):!1),!r){e.cellDataType=!1;return}const a=this.dataTypeDefinitions[r];if(!a){ze(47,{cellDataType:r});return}return e.cellDataType=r,a.groupSafeValueFormatter&&(e.valueFormatter=a.groupSafeValueFormatter),a.valueParser&&(e.valueParser=a.valueParser),a.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(e,r,a,n),a.columnTypes}addColumnListeners(e){if(!this.isPendingInference)return;const t=this.columnStateUpdatesPendingInference[e.getColId()];if(!t)return;const n=r=>{t.add(r.key)};e.__addEventListener("columnStateUpdated",n),this.columnStateUpdateListenerDestroyFuncs.push(()=>e.__removeEventListener("columnStateUpdated",n))}canInferCellDataType(e,t){const{gos:n}=this;if(!Wn(n))return!1;const r={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if(rT(t,r))return!1;const o=t.type===null?e.type:t.type;if(o){const a=n.get("columnTypes")??{};if(TS(o).some(d=>{const f=a[d.trim()];return f&&rT(f,r)}))return!1}return!rT(e,r)}inferCellDataType(e,t){if(!e)return;let n;const r=this.getInitialData();if(r){const a=e.includes(".")&&!this.gos.get("suppressFieldDotNotation");n=Dy(r,e,a)}else this.initWaitForRowData(t);return n==null?void 0:Object.keys(this.dataTypeMatchers).find(a=>this.dataTypeMatchers[a](n))??"object"}getInitialData(){const e=this.gos.get("rowData");if(e?.length)return e[0];if(this.initialData)return this.initialData;{const t=this.beans.rowModel.rootNode?._leafs;if(t?.length)return t[0].data}return null}initWaitForRowData(e){if(this.columnStateUpdatesPendingInference[e]=new Set,this.isPendingInference)return;this.isPendingInference=!0;const t=this.isColumnTypeOverrideInDataTypeDefinitions,{colAutosize:n,eventSvc:r}=this.beans;t&&n&&(n.shouldQueueResizeOperations=!0);const[o]=this.addManagedEventListeners({rowDataUpdateStarted:a=>{const{firstRowData:l}=a;l&&(o?.(),this.isPendingInference=!1,this.processColumnsPendingInference(l,t),this.columnStateUpdatesPendingInference={},t&&n?.processResizeOperations(),r.dispatchEvent({type:"dataTypesInferred"}))}})}processColumnsPendingInference(e,t){this.initialData=e;const n=[];this.destroyColumnStateUpdateListeners();const r={},o={};for(const a of Object.keys(this.columnStateUpdatesPendingInference)){const l=this.columnStateUpdatesPendingInference[a],d=this.colModel.getCol(a);if(!d)return;const f=d.getColDef();if(!this.resetColDefIntoCol(d,"cellDataTypeInferred"))return;const m=d.getColDef();if(t&&m.type&&m.type!==f.type){const v=Iye(d,l);v.rowGroup&&v.rowGroupIndex==null&&(r[a]=v),v.pivot&&v.pivotIndex==null&&(o[a]=v),n.push(v)}}t&&n.push(...this.generateColumnStateForRowGroupAndPivotIndexes(r,o)),n.length&&Ya(this.beans,{state:n},"cellDataTypeInferred"),this.initialData=null}generateColumnStateForRowGroupAndPivotIndexes(e,t){const n={},{rowGroupColsSvc:r,pivotColsSvc:o}=this.beans;return r?.restoreColumnOrder(n,e),o?.restoreColumnOrder(n,t),Object.values(n)}resetColDefIntoCol(e,t){const n=e.getUserProvidedColDef();if(!n)return!1;const r=EP(this.beans,n,e.getColId());return e.setColDef(r,n,t),!0}getDateStringTypeDefinition(e){const{dateString:t}=this.dataTypeDefinitions;return e?this.getDataTypeDefinition(e)??t:t}getDateParserFunction(e){return this.getDateStringTypeDefinition(e).dateParser}getDateFormatterFunction(e){return this.getDateStringTypeDefinition(e).dateFormatter}getDateIncludesTimeFlag(e){return e==="dateTime"||e==="dateTimeString"}getDataTypeDefinition(e){const t=e.getColDef();if(t.cellDataType)return this.dataTypeDefinitions[t.cellDataType]}getBaseDataType(e){return this.getDataTypeDefinition(e)?.baseDataType}checkType(e,t){if(t==null)return!0;const n=this.getDataTypeDefinition(e)?.dataTypeMatcher;return n?n(t):!0}validateColDef(e){const t=n=>ze(48,{property:n});if(e.cellDataType==="object"){const{object:n}=this.dataTypeDefinitions;e.valueFormatter===n.groupSafeValueFormatter&&!this.hasObjectValueFormatter&&t("Formatter"),e.editable&&e.valueParser===n.valueParser&&!this.hasObjectValueParser&&t("Parser")}}postProcess(e){const t=e.cellDataType;if(!t||typeof t!="string")return;const{dataTypeDefinitions:n,beans:r,formatValueFuncs:o}=this,a=n[t];a&&r.colFilter?.setColDefPropsForDataType(e,a,o[t])}getFormatValue(e){return this.formatValueFuncs[e]}isColPendingInference(e){return this.isPendingInference&&!!this.columnStateUpdatesPendingInference[e]}setColDefPropertiesForBaseDataType(e,t,n,r){const o=this.formatValueFuncs[t],a=this.columnDefinitionPropsPerDataType[n.baseDataType]({colDef:e,cellDataType:t,colModel:this.colModel,dataTypeDefinition:n,colId:r,formatValue:o});Object.assign(e,a)}getDateObjectTypeDef(e){const t=this.getLocaleTextFunc(),n=this.getDateIncludesTimeFlag(e);return{baseDataType:e,valueParser:r=>Qo(r.newValue&&String(r.newValue)),valueFormatter:r=>r.value==null?"":!(r.value instanceof Date)||isNaN(r.value.getTime())?t("invalidDate","Invalid Date"):ks(r.value,n)??"",dataTypeMatcher:r=>r instanceof Date}}getDateStringTypeDef(e){const t=this.getDateIncludesTimeFlag(e);return{baseDataType:e,dateParser:n=>Qo(n)??void 0,dateFormatter:n=>ks(n??null,t)??void 0,valueParser:n=>Q1(String(n.newValue))?n.newValue:null,valueFormatter:n=>Q1(String(n.value))?String(n.value):"",dataTypeMatcher:n=>typeof n=="string"&&Q1(n)}}getDefaultDataTypes(){const e=this.getLocaleTextFunc();return{number:{baseDataType:"number",valueParser:t=>t.newValue?.trim?.()===""?null:Number(t.newValue),valueFormatter:t=>t.value==null?"":typeof t.value!="number"||isNaN(t.value)?e("invalidNumber","Invalid Number"):String(t.value),dataTypeMatcher:t=>typeof t=="number"},text:{baseDataType:"text",valueParser:t=>t.newValue===""?null:wP(t.newValue),dataTypeMatcher:t=>typeof t=="string"},boolean:{baseDataType:"boolean",valueParser:t=>t.newValue==null?t.newValue:t.newValue?.trim?.()===""?null:String(t.newValue).toLowerCase()==="true",valueFormatter:t=>t.value==null?"":String(t.value),dataTypeMatcher:t=>typeof t=="boolean"},date:this.getDateObjectTypeDef("date"),dateString:this.getDateStringTypeDef("dateString"),dateTime:this.getDateObjectTypeDef("dateTime"),dateTimeString:{...this.getDateStringTypeDef("dateTimeString"),dataTypeMatcher:t=>typeof t=="string"&&sme(t)},object:{baseDataType:"object",valueParser:()=>null,valueFormatter:t=>wP(t.value)??""}}}destroyColumnStateUpdateListeners(){for(const e of this.columnStateUpdateListenerDestroyFuncs)e();this.columnStateUpdateListenerDestroyFuncs=[]}destroy(){this.dataTypeDefinitions={},this.dataTypeMatchers={},this.formatValueFuncs={},this.columnStateUpdatesPendingInference={},this.destroyColumnStateUpdateListeners(),super.destroy()}};function Gz(e,t){const n={...e,...t};return e.columnTypes&&t.columnTypes&&t.appendColumnTypes&&(n.columnTypes=[...TS(e.columnTypes),...TS(t.columnTypes)]),n}function Uz(e,t,n){return t?t.baseDataType!==e.baseDataType?(ze(46),!1):!0:(ze(45,{parentCellDataType:n}),!1)}function Wz(e,t){if(e.valueFormatter)return n=>{if(n.node?.group){const r=(n.colDef.pivotValueColumn??n.column).getAggFunc();if(r){if(r==="first"||r==="last")return e.valueFormatter(n);if(e.baseDataType==="number"&&r!=="count"){if(typeof n.value=="number")return e.valueFormatter(n);if(typeof n.value=="object"){if(!n.value)return;if("toNumber"in n.value)return e.valueFormatter({...n,value:n.value.toNumber()});if("value"in n.value)return e.valueFormatter({...n,value:n.value.value})}}return}}else if(t.get("groupHideOpenParents")&&n.column.isRowGroupActive()&&typeof n.value=="string"&&!e.dataTypeMatcher?.(n.value))return;return e.valueFormatter(n)}}function Pye(e,t,n,r){if(!t[n])return!1;const o=e[n];return o===null?(t[n]=!1,!1):r===void 0?!!o:o===r}function rT(e,t){return[["cellRenderer","agSparklineCellRenderer"],["valueGetter",void 0],["valueParser",void 0],["refData",void 0]].some(([n,r])=>Pye(e,t,n,r))}function Iye(e,t){const n=YW(e);for(const r of t)delete n[r],r==="rowGroup"?delete n.rowGroupIndex:r==="pivot"&&delete n.pivotIndex;return n}var Nye={moduleName:"DataType",version:Qe,beans:[Rye],dependsOn:[oye]},Oye={moduleName:"ColumnFlex",version:Qe,beans:[Mye]},hq={moduleName:"ColumnApi",version:Qe,beans:[Dye],apiFunctions:{getColumnDef:aye,getDisplayNameForColumn:cye,getColumn:dye,getColumns:uye,applyColumnState:hye,getColumnState:fye,resetColumnState:pye,isPinning:gye,isPinningLeft:mye,isPinningRight:bye,getDisplayedColAfter:vye,getDisplayedColBefore:wye,setColumnsVisible:Cye,setColumnsPinned:yye,getAllGridColumns:kye,getDisplayedLeftColumns:xye,getDisplayedCenterColumns:Aye,getDisplayedRightColumns:Sye,getAllDisplayedColumns:_ye,getAllDisplayedVirtualColumns:Eye,getColumnDefs:lye}};function Fye(e){if(!e||e==null)return null;const t=/([a-z])([A-Z])/g,n=/([A-Z]+)([A-Z])([a-z])/g;return e.replace(t,"$1 $2").replace(n,"$1 $2$3").replace(/\./g," ").split(" ").map(o=>o.substring(0,1).toUpperCase()+(o.length>1?o.substring(1,o.length):"")).join(" ")}var Lye=class extends Pe{constructor(){super(...arguments),this.beanName="colNames"}getDisplayNameForColumn(e,t,n=!1){if(!e)return null;const r=this.getHeaderName(e.getColDef(),e,null,null,t),{aggColNameSvc:o}=this.beans;return n&&o?o.getHeaderName(e,r):r}getDisplayNameForProvidedColumnGroup(e,t,n){const r=t?.getColGroupDef();return r?this.getHeaderName(r,null,e,t,n):null}getDisplayNameForColumnGroup(e,t){return this.getDisplayNameForProvidedColumnGroup(e,e.getProvidedColumnGroup(),t)}getHeaderName(e,t,n,r,o){const a=e.headerValueGetter;if(a){const l=ht(this.gos,{colDef:e,column:t,columnGroup:n,providedColumnGroup:r,location:o});return typeof a=="function"?a(l):typeof a=="string"?this.beans.expressionSvc?.evaluate(a,l)??null:""}else{if(e.headerName!=null)return e.headerName;if(e.field)return Fye(e.field)}return""}},Bye=class extends Pe{constructor(){super(...arguments),this.beanName="colViewport",this.colsWithinViewport=[],this.headerColsWithinViewport=[],this.colsWithinViewportHash="",this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={},this.columnsToRenderLeft=[],this.columnsToRenderRight=[],this.columnsToRenderCenter=[]}wireBeans(e){this.visibleCols=e.visibleCols,this.colModel=e.colModel}postConstruct(){this.suppressColumnVirtualisation=this.gos.get("suppressColumnVirtualisation")}setScrollPosition(e,t,n=!1){const{visibleCols:r}=this,o=r.isBodyWidthDirty;if(!(e===this.scrollWidth&&t===this.scrollPosition&&!o)){if(this.scrollWidth=e,this.scrollPosition=t,r.isBodyWidthDirty=!0,this.gos.get("enableRtl")){const l=r.bodyWidth;this.viewportLeft=l-t-e,this.viewportRight=l-t}else this.viewportLeft=t,this.viewportRight=e+t;this.colModel.ready&&this.checkViewportColumns(n)}}getColumnHeadersToRender(e){switch(e){case"left":return this.columnsToRenderLeft;case"right":return this.columnsToRenderRight;default:return this.columnsToRenderCenter}}getHeadersToRender(e,t){let n;switch(e){case"left":n=this.rowsOfHeadersToRenderLeft[t];break;case"right":n=this.rowsOfHeadersToRenderRight[t];break;default:n=this.rowsOfHeadersToRenderCenter[t];break}return n??[]}extractViewportColumns(){const e=this.visibleCols.centerCols;this.isColumnVirtualisationSuppressed()?(this.colsWithinViewport=e,this.headerColsWithinViewport=e):(this.colsWithinViewport=e.filter(this.isColumnInRowViewport.bind(this)),this.headerColsWithinViewport=e.filter(this.isColumnInHeaderViewport.bind(this)))}isColumnVirtualisationSuppressed(){return this.suppressColumnVirtualisation||this.viewportRight===0}clear(){this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={},this.colsWithinViewportHash=""}isColumnInHeaderViewport(e){return e.isAutoHeaderHeight()||jye(e)?!0:this.isColumnInRowViewport(e)}isColumnInRowViewport(e){if(e.isAutoHeight())return!0;const t=e.getLeft()||0,n=t+e.getActualWidth(),r=this.viewportLeft-200,o=this.viewportRight+200,a=t<r&&n<r,l=t>o&&n>o;return!a&&!l}getViewportColumns(){const{leftCols:e,rightCols:t}=this.visibleCols;return this.colsWithinViewport.concat(e).concat(t)}getColsWithinViewport(e){if(!this.colModel.colSpanActive)return this.colsWithinViewport;const t=a=>{const l=a.getLeft();return Ye(l)&&l>this.viewportLeft},n=this.isColumnVirtualisationSuppressed()?void 0:this.isColumnInRowViewport.bind(this),{visibleCols:r}=this,o=r.centerCols;return r.getColsForRow(e,o,n,t)}checkViewportColumns(e=!1){this.extractViewport()&&this.eventSvc.dispatchEvent({type:"virtualColumnsChanged",afterScroll:e})}calculateHeaderRows(){const{leftCols:e,rightCols:t}=this.visibleCols;this.columnsToRenderLeft=e,this.columnsToRenderRight=t,this.columnsToRenderCenter=this.colsWithinViewport;const n=r=>{const o=new Set,a={};for(const l of r){let d=l.getParent();const f=l.isSpanHeaderHeight();for(;d&&!o.has(d);){if(f&&d.isPadding()){d=d.getParent();continue}const v=d.getProvidedColumnGroup().getLevel();a[v]??(a[v]=[]),a[v].push(d),o.add(d),d=d.getParent()}}return a};this.rowsOfHeadersToRenderLeft=n(e),this.rowsOfHeadersToRenderRight=n(t),this.rowsOfHeadersToRenderCenter=n(this.headerColsWithinViewport)}extractViewport(){const e=r=>`${r.getId()}-${r.getPinned()||"normal"}`;this.extractViewportColumns();const t=this.getViewportColumns().map(e).join("#"),n=this.colsWithinViewportHash!==t;return n&&(this.colsWithinViewportHash=t,this.calculateHeaderRows()),n}};function jye(e){for(;e;){if(e.isAutoHeaderHeight())return!0;e=e.getParent()}return!1}var zye=class extends Pe{constructor(){super(...arguments),this.beanName="agCompUtils"}adaptFunction(e,t){if(!e.cellRenderer)return null;class n{refresh(){return!1}getGui(){return this.eGui}init(o){const a=t(o),l=typeof a;if(l==="string"||l==="number"||l==="boolean"){this.eGui=xN("<span>"+a+"</span>");return}if(a==null){this.eGui=Dr({tag:"span"});return}this.eGui=a}}return n}},Hye={moduleName:"CellRendererFunction",version:Qe,beans:[zye]},Vye=class extends rbe{constructor(){super(...arguments),this.agGridDefaults={},this.agGridDefaultOverrides={},this.jsComps={},this.selectors={},this.icons={}}postConstruct(){const e=this.gos.get("components");if(e!=null)for(const t of Object.keys(e))this.jsComps[t]=e[t]}registerModule(e){const{icons:t,userComponents:n,dynamicBeans:r,selectors:o}=e;if(n){const a=(l,d,f,m)=>{this.agGridDefaults[l]=d,(f||m)&&(this.agGridDefaultOverrides[l]={params:f,processParams:m})};for(const l of Object.keys(n)){let d=n[l];if(tme(d)&&(d=d.getComp(this.beans)),typeof d=="object"){const{classImp:f,params:m,processParams:v}=d;a(l,f,m,v)}else a(l,d)}}this.registerDynamicBeans(r);for(const a of o??[])this.selectors[a.selector]=a;if(t)for(const a of Object.keys(t))this.icons[a]=t[a]}getUserComponent(e,t){const n=(d,f,m,v)=>({componentFromFramework:f,component:d,params:m,processParams:v}),{frameworkOverrides:r}=this.beans,o=r.frameworkComponent(t,this.gos.get("components"));if(o!=null)return n(o,!0);const a=this.jsComps[t];if(a){const d=r.isFrameworkComponent(a);return n(a,d)}const l=this.agGridDefaults[t];if(l){const d=this.agGridDefaultOverrides[t];return n(l,!1,d?.params,d?.processParams)}return this.beans.validation?.missingUserComponent(e,t,this.agGridDefaults,this.jsComps),null}getSelector(e){return this.selectors[e]}getIcon(e){return this.icons[e]}getDynamicError(e,t){return t?sc(279,{name:e}):this.beans.validation?.missingDynamicBean(e)??sc(256)}},Gye=23,Uye=class extends Pe{constructor(){super(...arguments),this.beanName="ctrlsSvc",this.params={},this.ready=!1,this.readyCallbacks=[]}postConstruct(){this.addEventListener("ready",()=>{if(this.updateReady(),this.ready){for(const e of this.readyCallbacks)e(this.params);this.readyCallbacks.length=0}},this.beans.frameworkOverrides.runWhenReadyAsync?.()??!1)}updateReady(){const e=Object.values(this.params);this.ready=e.length===Gye&&e.every(t=>t?.isAlive()??!1)}whenReady(e,t){this.ready?t(this.params):this.readyCallbacks.push(t),e.addDestroyFunc(()=>{const n=this.readyCallbacks.indexOf(t);n>=0&&this.readyCallbacks.splice(n,1)})}register(e,t){this.params[e]=t,this.updateReady(),this.ready&&this.dispatchLocalEvent({type:"ready"}),t.addDestroyFunc(()=>{this.updateReady()})}get(e){return this.params[e]}getGridBodyCtrl(){return this.params.gridBodyCtrl}getHeaderRowContainerCtrls(){const{leftHeader:e,centerHeader:t,rightHeader:n}=this.params;return[e,n,t]}getHeaderRowContainerCtrl(e){const t=this.params;switch(e){case"left":return t.leftHeader;case"right":return t.rightHeader;default:return t.centerHeader}}getScrollFeature(){return this.getGridBodyCtrl().scrollFeature}},Wye='.ag-aria-description-container{border:0;z-index:9999;clip:rect(1px,1px,1px,1px);height:1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px}.ag-unselectable{-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-selectable{-webkit-user-select:text;-moz-user-select:text;user-select:text}.ag-tab-guard{display:block;height:0;position:absolute;width:0}:where(.ag-virtual-list-viewport) .ag-tab-guard{position:sticky}.ag-tab-guard-top{top:1px}.ag-tab-guard-bottom{bottom:1px}.ag-shake-left-to-right{animation-direction:alternate;animation-duration:.2s;animation-iteration-count:infinite;animation-name:ag-shake-left-to-right}@keyframes ag-shake-left-to-right{0%{padding-left:6px;padding-right:2px}to{padding-left:2px;padding-right:6px}}.ag-body-horizontal-scroll-viewport,.ag-body-vertical-scroll-viewport,.ag-body-viewport,.ag-center-cols-viewport,.ag-floating-bottom-viewport,.ag-floating-top-viewport,.ag-header-viewport,.ag-sticky-bottom-viewport,.ag-sticky-top-viewport,.ag-virtual-list-viewport{flex:1 1 auto;height:100%;min-width:0;overflow:hidden;position:relative}.ag-viewport{position:relative}.ag-spanning-container{position:absolute;top:0;z-index:1}.ag-body-viewport,.ag-center-cols-viewport,.ag-floating-bottom-viewport,.ag-floating-top-viewport,.ag-header-viewport,.ag-sticky-bottom-viewport,.ag-sticky-top-viewport{overflow-x:auto;-ms-overflow-style:none!important;scrollbar-width:none!important;&::-webkit-scrollbar{display:none!important}}.ag-body-viewport{display:flex;overflow-x:hidden;&:where(.ag-layout-normal){overflow-y:auto;-webkit-overflow-scrolling:touch}}.ag-floating-bottom-container,.ag-floating-top-container,.ag-sticky-bottom-container,.ag-sticky-top-container{min-height:1px}.ag-center-cols-viewport{min-height:100%;width:100%}.ag-body-horizontal-scroll-viewport{overflow-x:scroll}.ag-body-vertical-scroll-viewport{overflow-y:scroll}.ag-virtual-list-viewport{overflow:auto;width:100%}.ag-body-container,.ag-body-horizontal-scroll-container,.ag-body-vertical-scroll-container,.ag-center-cols-container,.ag-floating-bottom-container,.ag-floating-bottom-full-width-container,.ag-floating-top-container,.ag-full-width-container,.ag-header-container,.ag-pinned-left-cols-container,.ag-pinned-right-cols-container,.ag-sticky-bottom-container,.ag-sticky-top-container,.ag-virtual-list-container{position:relative}.ag-floating-bottom-container,.ag-floating-top-container,.ag-header-container,.ag-pinned-left-floating-bottom,.ag-pinned-left-floating-top,.ag-pinned-right-floating-bottom,.ag-pinned-right-floating-top,.ag-sticky-bottom-container,.ag-sticky-top-container{height:100%;white-space:nowrap}.ag-center-cols-container,.ag-pinned-right-cols-container{display:block}.ag-body-horizontal-scroll-container{height:100%}.ag-body-vertical-scroll-container{width:100%}.ag-floating-bottom-full-width-container,.ag-floating-top-full-width-container,.ag-full-width-container,.ag-sticky-bottom-full-width-container,.ag-sticky-top-full-width-container{pointer-events:none;position:absolute;top:0}:where(.ag-ltr) .ag-floating-bottom-full-width-container,:where(.ag-ltr) .ag-floating-top-full-width-container,:where(.ag-ltr) .ag-full-width-container,:where(.ag-ltr) .ag-sticky-bottom-full-width-container,:where(.ag-ltr) .ag-sticky-top-full-width-container{left:0}:where(.ag-rtl) .ag-floating-bottom-full-width-container,:where(.ag-rtl) .ag-floating-top-full-width-container,:where(.ag-rtl) .ag-full-width-container,:where(.ag-rtl) .ag-sticky-bottom-full-width-container,:where(.ag-rtl) .ag-sticky-top-full-width-container{right:0}.ag-full-width-container{width:100%}.ag-floating-bottom-full-width-container,.ag-floating-top-full-width-container{display:inline-block;height:100%;overflow:hidden;width:100%}.ag-virtual-list-container{overflow:hidden}.ag-body{display:flex;flex:1 1 auto;flex-direction:row!important;min-height:0;position:relative}.ag-body-horizontal-scroll,.ag-body-vertical-scroll{display:flex;min-height:0;min-width:0;position:relative;&:where(.ag-scrollbar-invisible){bottom:0;position:absolute;&:where(.ag-apple-scrollbar){opacity:0;transition:opacity .4s;visibility:hidden;&:where(.ag-scrollbar-scrolling,.ag-scrollbar-active){opacity:1;visibility:visible}}}}.ag-body-horizontal-scroll{width:100%;&:where(.ag-scrollbar-invisible){left:0;right:0}}.ag-body-vertical-scroll{height:100%;&:where(.ag-scrollbar-invisible){top:0;z-index:10}}:where(.ag-ltr) .ag-body-vertical-scroll{&:where(.ag-scrollbar-invisible){right:0}}:where(.ag-rtl) .ag-body-vertical-scroll{&:where(.ag-scrollbar-invisible){left:0}}.ag-force-vertical-scroll{overflow-y:scroll!important}.ag-horizontal-left-spacer,.ag-horizontal-right-spacer{height:100%;min-width:0;overflow-x:scroll;&:where(.ag-scroller-corner){overflow-x:hidden}}:where(.ag-row-animation) .ag-row{transition:transform .4s,top .4s,opacity .2s;&:where(.ag-after-created){transition:transform .4s,top .4s,height .4s,opacity .2s}}:where(.ag-row-animation.ag-prevent-animation) .ag-row{transition:none!important;&:where(.ag-row.ag-after-created){transition:none!important}}:where(.ag-row-no-animation) .ag-row{transition:none}.ag-row-loading{align-items:center;display:flex}.ag-row-position-absolute{position:absolute}.ag-row-position-relative{position:relative}.ag-full-width-row{overflow:hidden;pointer-events:all}.ag-row-inline-editing{z-index:1}.ag-row-dragging{z-index:2}.ag-stub-cell{align-items:center;display:flex}.ag-cell{display:inline-block;height:100%;position:absolute;white-space:nowrap;&:focus-visible{box-shadow:none}}.ag-cell-value{flex:1 1 auto}.ag-cell-value:not(.ag-allow-overflow),.ag-group-value{overflow:hidden;text-overflow:ellipsis}.ag-cell-wrap-text{white-space:normal;word-break:break-word}:where(.ag-cell) .ag-icon{display:inline-block;vertical-align:middle}.ag-floating-top{display:flex;overflow:hidden;position:relative;white-space:nowrap;width:100%}:where(.ag-floating-top:not(.ag-invisible)){border-bottom:var(--ag-pinned-row-border)}.ag-floating-bottom{display:flex;overflow:hidden;position:relative;white-space:nowrap;width:100%}:where(.ag-floating-bottom:not(.ag-invisible)){border-top:var(--ag-pinned-row-border)}.ag-sticky-bottom,.ag-sticky-top{background-color:var(--ag-data-background-color);display:flex;height:0;overflow:hidden;position:absolute;width:100%;z-index:1}.ag-opacity-zero{opacity:0!important}.ag-cell-label-container{align-items:center;display:flex;flex-direction:row-reverse;height:100%;justify-content:space-between;width:100%}:where(.ag-right-aligned-header){.ag-cell-label-container{flex-direction:row}.ag-header-cell-text{text-align:end}}.ag-column-group-icons{display:block;>*{cursor:pointer}}:where(.ag-ltr){direction:ltr;.ag-body,.ag-body-horizontal-scroll,.ag-body-viewport,.ag-floating-bottom,.ag-floating-top,.ag-header,.ag-sticky-bottom,.ag-sticky-top{flex-direction:row}}:where(.ag-rtl){direction:rtl;text-align:right;.ag-body,.ag-body-horizontal-scroll,.ag-body-viewport,.ag-floating-bottom,.ag-floating-top,.ag-header,.ag-sticky-bottom,.ag-sticky-top{flex-direction:row-reverse}.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{display:block}}:where(.ag-rtl){.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{transform:rotate(180deg)}}:where(.ag-rtl){.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{transform:rotate(-180deg)}}.ag-measurement-container{height:0;overflow:hidden;visibility:hidden;width:0}.ag-measurement-element-border{display:inline-block;&:before{border-left:var(--ag-internal-measurement-border);content:"";display:block}}.ag-group{position:relative;width:100%}.ag-group-title-bar{align-items:center;display:flex;padding:var(--ag-spacing)}.ag-group-title{display:inline;min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:where(.ag-group-title-bar) .ag-group-title{cursor:default}.ag-group-toolbar{align-items:center;display:flex;padding:var(--ag-spacing)}.ag-group-container{display:flex}.ag-disabled .ag-group-container{pointer-events:none}.ag-disabled-group-container,.ag-disabled-group-title-bar{opacity:.5}.ag-group-container-horizontal{flex-flow:row wrap}.ag-group-container-vertical{flex-direction:column}.ag-group-title-bar-icon{cursor:pointer;flex:none}:where(.ag-ltr) .ag-group-title-bar-icon{margin-right:var(--ag-spacing)}:where(.ag-rtl) .ag-group-title-bar-icon{margin-left:var(--ag-spacing)}:where(.ag-group-item-alignment-stretch) .ag-group-item{align-items:stretch}:where(.ag-group-item-alignment-start) .ag-group-item{align-items:flex-start}:where(.ag-group-item-alignment-end) .ag-group-item{align-items:flex-end}:where(.ag-ltr) .ag-row:not(.ag-row-level-0) .ag-pivot-leaf-group{margin-left:var(--ag-row-group-indent-size)}:where(.ag-rtl) .ag-row:not(.ag-row-level-0) .ag-pivot-leaf-group{margin-right:var(--ag-row-group-indent-size)}:where(.ag-ltr) .ag-row-group-leaf-indent{margin-left:calc(var(--ag-cell-widget-spacing) + var(--ag-icon-size))}:where(.ag-rtl) .ag-row-group-leaf-indent{margin-right:calc(var(--ag-cell-widget-spacing) + var(--ag-icon-size))}.ag-value-change-delta{padding:0 2px}.ag-value-change-delta-up{color:var(--ag-value-change-delta-up-color)}.ag-value-change-delta-down{color:var(--ag-value-change-delta-down-color)}.ag-value-change-value{background-color:transparent;border-radius:1px;padding-left:1px;padding-right:1px;transition:background-color 1s}.ag-value-change-value-highlight{background-color:var(--ag-value-change-value-highlight-background-color);transition:background-color .1s}.ag-cell-data-changed{background-color:var(--ag-value-change-value-highlight-background-color)!important}.ag-cell-data-changed-animation{background-color:transparent}.ag-cell-highlight{background-color:var(--ag-range-selection-highlight-color)!important}.ag-row,.ag-spanned-row{color:var(--ag-cell-text-color);font-family:var(--ag-cell-font-family);font-size:var(--ag-data-font-size);white-space:nowrap;--ag-internal-content-line-height:calc(min(var(--ag-row-height), var(--ag-line-height, 1000px)) - var(--ag-internal-row-border-width, 1px) - 2px)}.ag-row{background-color:var(--ag-data-background-color);border-bottom:var(--ag-row-border);height:var(--ag-row-height);width:100%;&.ag-row-editing-invalid{background-color:var(--ag-full-row-edit-invalid-background-color)}}:where(.ag-body-vertical-content-no-gap>div>div>div,.ag-body-vertical-content-no-gap>div>div>div>div)>.ag-row-last{border-bottom-color:transparent}.ag-sticky-bottom{border-top:var(--ag-row-border);box-sizing:content-box!important}.ag-group-contracted,.ag-group-expanded{cursor:pointer}.ag-cell,.ag-full-width-row .ag-cell-wrapper.ag-row-group{border:1px solid transparent;line-height:var(--ag-internal-content-line-height);-webkit-font-smoothing:subpixel-antialiased}:where(.ag-ltr) .ag-cell{border-right:var(--ag-column-border)}:where(.ag-rtl) .ag-cell{border-left:var(--ag-column-border)}.ag-spanned-cell-wrapper{background-color:var(--ag-data-background-color);position:absolute}.ag-spanned-cell-wrapper>.ag-spanned-cell{display:block;position:relative}:where(.ag-ltr) :where(.ag-body-horizontal-content-no-gap) .ag-column-last{border-right-color:transparent}:where(.ag-rtl) :where(.ag-body-horizontal-content-no-gap) .ag-column-last{border-left-color:transparent}.ag-cell-wrapper{align-items:center;display:flex;>:where(:not(.ag-cell-value,.ag-group-value)){align-items:center;display:flex;height:var(--ag-internal-content-line-height)}&:where(.ag-row-group){align-items:flex-start}:where(.ag-full-width-row) &:where(.ag-row-group){align-items:center;height:100%}}:where(.ag-ltr) .ag-cell-wrapper{padding-left:calc(var(--ag-indentation-level)*var(--ag-row-group-indent-size))}:where(.ag-rtl) .ag-cell-wrapper{padding-right:calc(var(--ag-indentation-level)*var(--ag-row-group-indent-size))}:where(.ag-cell-wrap-text:not(.ag-cell-auto-height)) .ag-cell-wrapper{align-items:normal;height:100%;:where(.ag-cell-value){height:100%}}:where(.ag-ltr) .ag-row>.ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}:where(.ag-rtl) .ag-row>.ag-cell-wrapper.ag-row-group{padding-right:calc(var(--ag-cell-horizontal-padding) + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}.ag-cell-focus:not(.ag-cell-range-selected):focus-within,.ag-cell-range-single-cell,.ag-cell-range-single-cell.ag-cell-range-handle,.ag-context-menu-open .ag-cell-focus:not(.ag-cell-range-selected),.ag-context-menu-open .ag-full-width-row.ag-row-focus .ag-cell-wrapper.ag-row-group,.ag-full-width-row.ag-row-focus:focus .ag-cell-wrapper.ag-row-group{border:1px solid;border-color:var(--ag-range-selection-border-color);border-style:var(--ag-range-selection-border-style);outline:initial}.ag-full-width-row.ag-row-focus:focus{box-shadow:none}:where(.ag-ltr) .ag-group-contracted,:where(.ag-ltr) .ag-group-expanded,:where(.ag-ltr) .ag-row-drag,:where(.ag-ltr) .ag-selection-checkbox{margin-right:var(--ag-cell-widget-spacing)}:where(.ag-rtl) .ag-group-contracted,:where(.ag-rtl) .ag-group-expanded,:where(.ag-rtl) .ag-row-drag,:where(.ag-rtl) .ag-selection-checkbox{margin-left:var(--ag-cell-widget-spacing)}:where(.ag-ltr) .ag-group-child-count{margin-left:3px}:where(.ag-rtl) .ag-group-child-count{margin-right:3px}.ag-row-highlight-above:after,.ag-row-highlight-below:after,.ag-row-highlight-inside:after{background-color:var(--ag-range-selection-border-color);content:"";height:1px;pointer-events:none;position:absolute;width:calc(100% - 1px)}:where(.ag-ltr) .ag-row-highlight-above:after,:where(.ag-ltr) .ag-row-highlight-below:after,:where(.ag-ltr) .ag-row-highlight-inside:after{left:1px}:where(.ag-rtl) .ag-row-highlight-above:after,:where(.ag-rtl) .ag-row-highlight-below:after,:where(.ag-rtl) .ag-row-highlight-inside:after{right:1px}.ag-row-highlight-above:after{top:0}.ag-row-highlight-below:after{bottom:0}.ag-row-highlight-indent:after{display:block;width:auto}:where(.ag-ltr) .ag-row-highlight-indent:after{left:calc((var(--ag-cell-widget-spacing) + var(--ag-icon-size))*2 + var(--ag-cell-horizontal-padding) + var(--ag-row-highlight-level)*var(--ag-row-group-indent-size));right:1px}:where(.ag-rtl) .ag-row-highlight-indent:after{left:1px;right:calc((var(--ag-cell-widget-spacing) + var(--ag-icon-size))*2 + var(--ag-cell-horizontal-padding) + var(--ag-row-highlight-level)*var(--ag-row-group-indent-size))}.ag-row-highlight-inside:after{background-color:var(--ag-selected-row-background-color);border:1px solid var(--ag-range-selection-border-color);display:block;height:auto;inset:0;width:auto}.ag-body,.ag-floating-bottom,.ag-floating-top{background-color:var(--ag-data-background-color)}.ag-row-odd{background-color:var(--ag-odd-row-background-color)}.ag-row-selected:before{background-color:var(--ag-selected-row-background-color);content:"";display:block;inset:0;pointer-events:none;position:absolute}.ag-row-hover.ag-full-width-row.ag-row-group:before,.ag-row-hover:not(.ag-full-width-row):before{background-color:var(--ag-row-hover-color);content:"";display:block;inset:0;pointer-events:none;position:absolute}.ag-row-hover.ag-row-selected:before{background-color:var(--ag-row-hover-color);background-image:linear-gradient(var(--ag-selected-row-background-color),var(--ag-selected-row-background-color))}.ag-row.ag-full-width-row.ag-row-group>*{position:relative}.ag-column-hover{background-color:var(--ag-column-hover-color)}.ag-header-range-highlight{background-color:var(--ag-range-header-highlight-color)}.ag-right-aligned-cell{font-variant-numeric:tabular-nums}:where(.ag-ltr) .ag-right-aligned-cell{text-align:right}:where(.ag-rtl) .ag-right-aligned-cell{text-align:left}.ag-right-aligned-cell .ag-cell-value,.ag-right-aligned-cell .ag-group-value{margin-left:auto}:where(.ag-ltr) .ag-cell:not(.ag-cell-inline-editing),:where(.ag-ltr) .ag-full-width-row .ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px + var(--ag-row-group-indent-size)*var(--ag-indentation-level));padding-right:calc(var(--ag-cell-horizontal-padding) - 1px)}:where(.ag-rtl) .ag-cell:not(.ag-cell-inline-editing),:where(.ag-rtl) .ag-full-width-row .ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px);padding-right:calc(var(--ag-cell-horizontal-padding) - 1px + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}.ag-row>.ag-cell-wrapper{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px);padding-right:calc(var(--ag-cell-horizontal-padding) - 1px)}.ag-row-dragging{cursor:move;opacity:.5}.ag-details-row{background-color:var(--ag-data-background-color);padding:calc(var(--ag-spacing)*3.75)}.ag-layout-auto-height,.ag-layout-print{.ag-center-cols-container,.ag-center-cols-viewport{min-height:150px}}.ag-overlay-loading-wrapper{background-color:var(--ag-modal-overlay-background-color)}.ag-skeleton-container{align-content:center;height:100%;width:100%}.ag-skeleton-effect{animation:ag-skeleton-loading 1.5s ease-in-out .5s infinite;background-color:var(--ag-row-loading-skeleton-effect-color);border-radius:.25rem;height:1em;width:100%}:where(.ag-ltr) .ag-right-aligned-cell .ag-skeleton-effect{margin-left:auto}:where(.ag-rtl) .ag-right-aligned-cell .ag-skeleton-effect{margin-right:auto}@keyframes ag-skeleton-loading{0%{background-color:var(--ag-row-loading-skeleton-effect-color)}50%{background-color:color-mix(in srgb,transparent,var(--ag-row-loading-skeleton-effect-color) 40%)}to{background-color:var(--ag-row-loading-skeleton-effect-color)}}.ag-loading{align-items:center;display:flex;height:100%}:where(.ag-ltr) .ag-loading{padding-left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-loading{padding-right:var(--ag-cell-horizontal-padding)}:where(.ag-ltr) .ag-loading-icon{padding-right:var(--ag-cell-widget-spacing)}:where(.ag-rtl) .ag-loading-icon{padding-left:var(--ag-cell-widget-spacing)}.ag-icon-loading{animation-duration:1s;animation-iteration-count:infinite;animation-name:spin;animation-timing-function:linear}@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.ag-header{background-color:var(--ag-header-background-color);border-bottom:var(--ag-header-row-border);color:var(--ag-header-text-color);display:flex;font-family:var(--ag-header-font-family);font-size:var(--ag-header-font-size);font-weight:var(--ag-header-font-weight);overflow:hidden;white-space:nowrap;width:100%}.ag-header-row{height:var(--ag-header-height);position:absolute}.ag-floating-filter-button-button,.ag-header-cell-filter-button,.ag-header-cell-menu-button,.ag-header-expand-icon,.ag-panel-title-bar-button,:where(.ag-header-cell-sortable) .ag-header-cell-label{cursor:pointer}:where(.ag-ltr) .ag-header-expand-icon{margin-left:4px}:where(.ag-rtl) .ag-header-expand-icon{margin-right:4px}.ag-header-row:where(:not(:first-child)){:where(.ag-header-cell:not(.ag-header-span-height.ag-header-span-total,.ag-header-parent-hidden),.ag-header-group-cell.ag-header-group-cell-with-group){border-top:var(--ag-header-row-border)}}.ag-header-row:where(:not(.ag-header-row-column-group)){overflow:hidden}:where(.ag-header.ag-header-allow-overflow) .ag-header-row{overflow:visible}.ag-header-cell{display:inline-flex;overflow:hidden}.ag-header-group-cell{contain:paint;display:flex}.ag-header-cell,.ag-header-group-cell{align-items:center;gap:var(--ag-cell-widget-spacing);height:100%;padding:0 var(--ag-cell-horizontal-padding);position:absolute}@property --ag-internal-moving-color{syntax:"<color>";inherits:false;initial-value:transparent}@property --ag-internal-hover-color{syntax:"<color>";inherits:false;initial-value:transparent}.ag-header-cell:where(:not(.ag-floating-filter)),.ag-header-group-cell{&:before{background-image:linear-gradient(var(--ag-internal-hover-color),var(--ag-internal-hover-color)),linear-gradient(var(--ag-internal-moving-color),var(--ag-internal-moving-color));content:"";inset:0;position:absolute;--ag-internal-moving-color:transparent;--ag-internal-hover-color:transparent;transition:--ag-internal-moving-color var(--ag-header-cell-background-transition-duration),--ag-internal-hover-color var(--ag-header-cell-background-transition-duration)}&:where(:hover):before{--ag-internal-hover-color:var(--ag-header-cell-hover-background-color)}&:where(.ag-header-cell-moving):before{--ag-internal-moving-color:var(--ag-header-cell-moving-background-color);--ag-internal-hover-color:var(--ag-header-cell-hover-background-color)}}:where(.ag-header-cell:not(.ag-floating-filter) *,.ag-header-group-cell *){position:relative;z-index:1}.ag-header-cell-menu-button:where(:not(.ag-header-menu-always-show)){opacity:0;transition:opacity .2s}.ag-header-cell-filter-button,:where(.ag-header-cell.ag-header-active) .ag-header-cell-menu-button{opacity:1}.ag-header-cell-label,.ag-header-group-cell-label{align-items:center;align-self:stretch;display:flex;flex:1 1 auto;overflow:hidden;padding:5px 0}:where(.ag-ltr) .ag-sort-indicator-icon{padding-left:var(--ag-spacing)}:where(.ag-rtl) .ag-sort-indicator-icon{padding-right:var(--ag-spacing)}.ag-header-cell-label{text-overflow:ellipsis}.ag-header-group-cell-label.ag-sticky-label{flex:none;max-width:100%;overflow:visible;position:sticky}:where(.ag-ltr) .ag-header-group-cell-label.ag-sticky-label{left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-header-group-cell-label.ag-sticky-label{right:var(--ag-cell-horizontal-padding)}.ag-header-cell-text,.ag-header-group-text{overflow:hidden;text-overflow:ellipsis}.ag-header-cell-text{word-break:break-word}.ag-header-cell-comp-wrapper{width:100%}:where(.ag-header-group-cell) .ag-header-cell-comp-wrapper{display:flex}:where(.ag-header-cell:not(.ag-header-cell-auto-height)) .ag-header-cell-comp-wrapper{align-items:center;display:flex;height:100%}.ag-header-cell-wrap-text .ag-header-cell-comp-wrapper{white-space:normal}.ag-header-cell-comp-wrapper-limited-height>*{overflow:hidden}:where(.ag-right-aligned-header) .ag-header-cell-label{flex-direction:row-reverse}:where(.ag-ltr) :where(.ag-header-cell:not(.ag-right-aligned-header)){.ag-header-label-icon,.ag-header-menu-icon{margin-left:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-header-cell:not(.ag-right-aligned-header)){.ag-header-label-icon,.ag-header-menu-icon{margin-right:var(--ag-spacing)}}:where(.ag-ltr) :where(.ag-header-cell.ag-right-aligned-header){.ag-header-label-icon,.ag-header-menu-icon{margin-right:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-header-cell.ag-right-aligned-header){.ag-header-label-icon,.ag-header-menu-icon{margin-left:var(--ag-spacing)}}.ag-header-cell:after,.ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{content:"";height:var(--ag-header-column-border-height);position:absolute;top:calc(50% - var(--ag-header-column-border-height)*.5);z-index:1}:where(.ag-ltr) .ag-header-cell:after,:where(.ag-ltr) .ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{border-right:var(--ag-header-column-border);right:0}:where(.ag-rtl) .ag-header-cell:after,:where(.ag-rtl) .ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{border-left:var(--ag-header-column-border);left:0}.ag-header-highlight-after:after,.ag-header-highlight-before:after{background-color:var(--ag-accent-color);content:"";height:100%;position:absolute;width:1px}:where(.ag-ltr) .ag-header-highlight-before:after{left:0}:where(.ag-rtl) .ag-header-highlight-before:after{right:0}:where(.ag-ltr) .ag-header-highlight-after:after{right:0;:where(.ag-pinned-left-header) &{right:1px}}:where(.ag-rtl) .ag-header-highlight-after:after{left:0;:where(.ag-pinned-left-header) &{left:1px}}.ag-header-cell-resize{align-items:center;cursor:ew-resize;display:flex;height:100%;position:absolute;top:0;width:8px;z-index:2;&:after{background-color:var(--ag-header-column-resize-handle-color);content:"";height:var(--ag-header-column-resize-handle-height);position:absolute;top:calc(50% - var(--ag-header-column-resize-handle-height)*.5);width:var(--ag-header-column-resize-handle-width);z-index:1}}:where(.ag-ltr) .ag-header-cell-resize{right:-3px;&:after{left:calc(50% - var(--ag-header-column-resize-handle-width))}}:where(.ag-rtl) .ag-header-cell-resize{left:-3px;&:after{right:calc(50% - var(--ag-header-column-resize-handle-width))}}:where(.ag-header-cell.ag-header-span-height) .ag-header-cell-resize:after{height:calc(100% - var(--ag-spacing)*4);top:calc(var(--ag-spacing)*2)}.ag-header-group-cell-no-group:where(.ag-header-span-height){display:none}.ag-sort-indicator-container{display:flex;gap:var(--ag-spacing)}.ag-layout-print{&.ag-body{display:block;height:unset}&.ag-root-wrapper{display:inline-block}.ag-body-horizontal-scroll,.ag-body-vertical-scroll{display:none}&.ag-force-vertical-scroll{overflow-y:visible!important}}@media print{.ag-root-wrapper.ag-layout-print{display:table;.ag-body-horizontal-scroll-viewport,.ag-body-viewport,.ag-center-cols-container,.ag-center-cols-viewport,.ag-root,.ag-root-wrapper-body,.ag-virtual-list-viewport{display:block!important;height:auto!important;overflow:hidden!important}.ag-cell,.ag-row{-moz-column-break-inside:avoid;break-inside:avoid}}}ag-grid,ag-grid-angular{display:block}.ag-root-wrapper{border:var(--ag-wrapper-border);border-radius:var(--ag-wrapper-border-radius);display:flex;flex-direction:column;overflow:hidden;position:relative;&.ag-layout-normal{height:100%}}.ag-root-wrapper-body{display:flex;flex-direction:row;&.ag-layout-normal{flex:1 1 auto;height:0;min-height:0}}.ag-root{display:flex;flex-direction:column;position:relative;&.ag-layout-auto-height,&.ag-layout-normal{flex:1 1 auto;overflow:hidden;width:0}&.ag-layout-normal{height:100%}}.ag-virtual-list-item{height:var(--ag-list-item-height);position:absolute;width:100%}.ag-list-item-hovered:after{background-color:var(--ag-accent-color);content:"";height:1px;left:0;position:absolute;right:0}.ag-item-highlight-top:after{top:0}.ag-item-highlight-bottom:after{bottom:0}.ag-drag-handle{color:var(--ag-drag-handle-color);cursor:grab;:where(.ag-icon){color:var(--ag-drag-handle-color)}}.ag-chart-menu-icon,.ag-chart-settings-next,.ag-chart-settings-prev,.ag-column-group-icons,.ag-column-select-header-icon,.ag-filter-toolpanel-expand,.ag-floating-filter-button-button,.ag-group-title-bar-icon,.ag-header-cell-filter-button,.ag-header-cell-menu-button,.ag-header-expand-icon,.ag-panel-title-bar-button,.ag-panel-title-bar-button-icon,.ag-set-filter-group-icons,:where(.ag-group-contracted) .ag-icon,:where(.ag-group-expanded) .ag-icon{background-color:var(--ag-icon-button-background-color);border-radius:var(--ag-icon-button-border-radius);box-shadow:0 0 0 var(--ag-icon-button-background-spread) var(--ag-icon-button-background-color);color:var(--ag-icon-button-color);&:hover{background-color:var(--ag-icon-button-hover-background-color);box-shadow:0 0 0 var(--ag-icon-button-background-spread) var(--ag-icon-button-hover-background-color);color:var(--ag-icon-button-hover-color)}}.ag-filter-active{background-image:linear-gradient(var(--ag-icon-button-active-background-color),var(--ag-icon-button-active-background-color));border-radius:1px;outline:solid var(--ag-icon-button-background-spread) var(--ag-icon-button-active-background-color);position:relative;&:after{background-color:var(--ag-icon-button-active-indicator-color);border-radius:50%;content:"";height:6px;position:absolute;top:-1px;width:6px}:where(.ag-icon-filter){clip-path:path("M8,0C8,4.415 11.585,8 16,8L16,16L0,16L0,0L8,0Z");color:var(--ag-icon-button-active-color)}}:where(.ag-ltr) .ag-filter-active{&:after{right:-1px}}:where(.ag-rtl) .ag-filter-active{&:after{left:-1px}}.ag-menu{background-color:var(--ag-menu-background-color);border:var(--ag-menu-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-menu-shadow);color:var(--ag-menu-text-color);max-height:100%;overflow-y:auto;position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}',$ye={wrapperBorder:!0,rowBorder:!0,headerRowBorder:!0,footerRowBorder:{ref:"rowBorder"},columnBorder:{style:"solid",width:1,color:"transparent"},headerColumnBorder:!1,headerColumnBorderHeight:"100%",pinnedColumnBorder:!0,pinnedRowBorder:!0,sidePanelBorder:!0,sideBarPanelWidth:250,sideBarBackgroundColor:{ref:"chromeBackgroundColor"},sideButtonBarBackgroundColor:{ref:"sideBarBackgroundColor"},sideButtonBarTopPadding:0,sideButtonSelectedUnderlineWidth:2,sideButtonSelectedUnderlineColor:"transparent",sideButtonSelectedUnderlineTransitionDuration:0,sideButtonBackgroundColor:"transparent",sideButtonTextColor:{ref:"textColor"},sideButtonHoverBackgroundColor:{ref:"sideButtonBackgroundColor"},sideButtonHoverTextColor:{ref:"sideButtonTextColor"},sideButtonSelectedBackgroundColor:Fr,sideButtonSelectedTextColor:{ref:"sideButtonTextColor"},sideButtonBorder:"solid 1px transparent",sideButtonSelectedBorder:!0,sideButtonLeftPadding:{ref:"spacing"},sideButtonRightPadding:{ref:"spacing"},sideButtonVerticalPadding:{calc:"spacing * 3"},headerBackgroundColor:{ref:"chromeBackgroundColor"},headerFontFamily:{ref:"fontFamily"},cellFontFamily:{ref:"fontFamily"},headerFontWeight:500,headerFontSize:{ref:"fontSize"},dataFontSize:{ref:"fontSize"},headerTextColor:{ref:"textColor"},headerCellHoverBackgroundColor:"transparent",headerCellMovingBackgroundColor:{ref:"headerCellHoverBackgroundColor"},headerCellBackgroundTransitionDuration:"0.2s",cellTextColor:{ref:"textColor"},rangeSelectionBorderStyle:"solid",rangeSelectionBorderColor:ia,rangeSelectionBackgroundColor:ql(.2),rangeSelectionChartBackgroundColor:"#0058FF1A",rangeSelectionChartCategoryBackgroundColor:"#00FF841A",rangeSelectionHighlightColor:ql(.5),rangeHeaderHighlightColor:Lme(.08),rowNumbersSelectedColor:ql(.5),rowHoverColor:ql(.08),columnHoverColor:ql(.05),selectedRowBackgroundColor:ql(.12),modalOverlayBackgroundColor:{ref:"backgroundColor",mix:.66},dataBackgroundColor:Fr,oddRowBackgroundColor:{ref:"dataBackgroundColor"},wrapperBorderRadius:8,cellHorizontalPadding:{calc:"spacing * 2 * cellHorizontalPaddingScale"},cellWidgetSpacing:{calc:"spacing * 1.5"},cellHorizontalPaddingScale:1,rowGroupIndentSize:{calc:"cellWidgetSpacing + iconSize"},valueChangeDeltaUpColor:"#43a047",valueChangeDeltaDownColor:"#e53935",valueChangeValueHighlightBackgroundColor:"#16a08580",rowHeight:{calc:"max(iconSize, dataFontSize) + spacing * 3.25 * rowVerticalPaddingScale"},rowVerticalPaddingScale:1,headerHeight:{calc:"max(iconSize, dataFontSize) + spacing * 4 * headerVerticalPaddingScale"},headerVerticalPaddingScale:1,paginationPanelHeight:{ref:"rowHeight",calc:"max(rowHeight, 22px)"},dragHandleColor:fo(.7),headerColumnResizeHandleHeight:"30%",headerColumnResizeHandleWidth:2,headerColumnResizeHandleColor:{ref:"borderColor"},widgetContainerHorizontalPadding:{calc:"spacing * 1.5"},widgetContainerVerticalPadding:{calc:"spacing * 1.5"},widgetHorizontalSpacing:{calc:"spacing * 1.5"},widgetVerticalSpacing:{ref:"spacing"},iconButtonColor:{ref:"iconColor"},iconButtonBackgroundColor:"transparent",iconButtonBackgroundSpread:4,iconButtonBorderRadius:1,iconButtonHoverColor:{ref:"iconButtonColor"},iconButtonHoverBackgroundColor:fo(.1),iconButtonActiveColor:ia,iconButtonActiveBackgroundColor:ql(.28),iconButtonActiveIndicatorColor:ia,menuBorder:{color:fo(.2)},menuBackgroundColor:wi(.03),menuTextColor:wi(.95),menuShadow:{ref:"popupShadow"},menuSeparatorColor:{ref:"borderColor"},setFilterIndentSize:{ref:"iconSize"},chartMenuPanelWidth:260,chartMenuLabelColor:fo(.8),dialogShadow:{ref:"popupShadow"},cellEditingBorder:{color:ia},cellEditingShadow:{ref:"cardShadow"},fullRowEditInvalidBackgroundColor:{ref:"invalidColor",onto:"backgroundColor",mix:.25},dialogBorder:{color:fo(.2)},panelBackgroundColor:Fr,panelTitleBarHeight:{ref:"headerHeight"},panelTitleBarBackgroundColor:{ref:"headerBackgroundColor"},panelTitleBarIconColor:{ref:"headerTextColor"},panelTitleBarTextColor:{ref:"headerTextColor"},panelTitleBarFontWeight:{ref:"headerFontWeight"},panelTitleBarBorder:!0,columnSelectIndentSize:{ref:"iconSize"},toolPanelSeparatorBorder:!0,columnDropCellBackgroundColor:fo(.07),columnDropCellTextColor:{ref:"textColor"},columnDropCellDragHandleColor:{ref:"textColor"},columnDropCellBorder:{color:fo(.13)},selectCellBackgroundColor:fo(.07),selectCellBorder:{color:fo(.13)},advancedFilterBuilderButtonBarBorder:!0,advancedFilterBuilderIndentSize:{calc:"spacing * 2 + iconSize"},advancedFilterBuilderJoinPillColor:"#f08e8d",advancedFilterBuilderColumnPillColor:"#a6e194",advancedFilterBuilderOptionPillColor:"#f3c08b",advancedFilterBuilderValuePillColor:"#85c0e4",filterPanelApplyButtonColor:Fr,filterPanelApplyButtonBackgroundColor:ia,filterPanelCardSubtleColor:{ref:"textColor",mix:.7},filterPanelCardSubtleHoverColor:{ref:"textColor"},findMatchColor:bd,findMatchBackgroundColor:"#ffff00",findActiveMatchColor:bd,findActiveMatchBackgroundColor:"#ffa500",filterToolPanelGroupIndent:{ref:"spacing"},rowLoadingSkeletonEffectColor:fo(.15),statusBarLabelColor:bd,statusBarLabelFontWeight:500,statusBarValueColor:bd,statusBarValueFontWeight:500,pinnedSourceRowTextColor:{ref:"textColor"},pinnedSourceRowBackgroundColor:{ref:"dataBackgroundColor"},pinnedSourceRowFontWeight:600,pinnedRowFontWeight:600,pinnedRowBackgroundColor:{ref:"dataBackgroundColor"},pinnedRowTextColor:{ref:"textColor"}},qye=".ag-cell-batch-edit{background-color:var(--ag-cell-batch-edit-background-color);color:var(--ag-cell-batch-edit-text-color);display:inherit}.ag-row-batch-edit{background-color:var(--ag-row-batch-edit-background-color);color:var(--ag-row-batch-edit-text-color)}",fq={cellBatchEditBackgroundColor:"rgba(220 181 139 / 16%)",cellBatchEditTextColor:"#422f00",rowBatchEditBackgroundColor:{ref:"cellBatchEditBackgroundColor"},rowBatchEditTextColor:{ref:"cellBatchEditTextColor"}},Kye={...fq,cellBatchEditTextColor:"#f3d0b3"},Yye=()=>Zo({feature:"batchEditStyle",params:fq,css:qye}),Qye=Yye(),pq=":where(.ag-button){background:none;border:none;color:inherit;cursor:pointer;font-family:inherit;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;margin:0;padding:0;text-indent:inherit;text-shadow:inherit;text-transform:inherit;word-spacing:inherit;&:disabled{cursor:default}&:focus-visible{box-shadow:var(--ag-focus-shadow);outline:none}}.ag-standard-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:var(--ag-button-background-color);border:var(--ag-button-border);border-radius:var(--ag-button-border-radius);color:var(--ag-button-text-color);cursor:pointer;font-weight:var(--ag-button-font-weight);padding:var(--ag-button-vertical-padding) var(--ag-button-horizontal-padding);&:hover{background-color:var(--ag-button-hover-background-color);border:var(--ag-button-hover-border);color:var(--ag-button-hover-text-color)}&:active{background-color:var(--ag-button-active-background-color);border:var(--ag-button-active-border);color:var(--ag-button-active-text-color)}&:disabled{background-color:var(--ag-button-disabled-background-color);border:var(--ag-button-disabled-border);color:var(--ag-button-disabled-text-color)}}",gq={buttonTextColor:"inherit",buttonFontWeight:"normal",buttonBackgroundColor:"transparent",buttonBorder:!1,buttonBorderRadius:{ref:"borderRadius"},buttonHorizontalPadding:{calc:"spacing * 2"},buttonVerticalPadding:{ref:"spacing"},buttonHoverTextColor:{ref:"buttonTextColor"},buttonHoverBackgroundColor:{ref:"buttonBackgroundColor"},buttonHoverBorder:{ref:"buttonBorder"},buttonActiveTextColor:{ref:"buttonHoverTextColor"},buttonActiveBackgroundColor:{ref:"buttonHoverBackgroundColor"},buttonActiveBorder:{ref:"buttonHoverBorder"},buttonDisabledTextColor:{ref:"inputDisabledTextColor"},buttonDisabledBackgroundColor:{ref:"inputDisabledBackgroundColor"},buttonDisabledBorder:{ref:"inputDisabledBorder"}},Zye=()=>Zo({feature:"buttonStyle",params:{...gq,buttonBackgroundColor:Fr,buttonBorder:!0,buttonHoverBackgroundColor:{ref:"rowHoverColor"},buttonActiveBorder:{color:ia}},css:pq}),Xye=Zye(),Jye=()=>Zo({feature:"buttonStyle",params:{...gq,buttonBorder:{color:bd,width:2,style:"outset"},buttonActiveBorder:{color:bd,width:2,style:"inset"},buttonBackgroundColor:wi(.07),buttonHoverBackgroundColor:Fr,buttonVerticalPadding:{calc:"spacing * 0.5"}},css:pq}),e0e=Jye(),t0e=".ag-column-drop-vertical-empty-message{align-items:center;border:dashed var(--ag-border-width);border-color:var(--ag-border-color);display:flex;inset:0;justify-content:center;margin:calc(var(--ag-spacing)*1.5) calc(var(--ag-spacing)*2);overflow:hidden;padding:calc(var(--ag-spacing)*2);position:absolute}",n0e=".ag-column-drop-vertical-empty-message{color:var(--ag-subtle-text-color);font-size:calc(var(--ag-font-size) - 1px);font-weight:600;padding-top:var(--ag-spacing)}:where(.ag-ltr) .ag-column-drop-vertical-empty-message{padding-left:calc(var(--ag-icon-size) + var(--ag-spacing) + var(--ag-widget-horizontal-spacing));padding-right:var(--ag-spacing)}:where(.ag-rtl) .ag-column-drop-vertical-empty-message{padding-left:var(--ag-spacing);padding-right:calc(var(--ag-icon-size) + var(--ag-spacing) + var(--ag-widget-horizontal-spacing))}",r0e=()=>Zo({feature:"columnDropStyle",css:t0e}),mq=r0e(),i0e=()=>Zo({feature:"columnDropStyle",css:n0e}),o0e=i0e(),s0e={warn:(...e)=>{ze(e[0],e[1])},error:(...e)=>{Cn(e[0],e[1])},preInitErr:(...e)=>{gy(e[0],e[2],e[1])}},bq=()=>Kme(s0e).withParams($ye).withPart(Xye).withPart(mq).withPart(Qye),a0e='.ag-checkbox-input-wrapper,.ag-radio-button-input-wrapper{background-color:var(--ag-checkbox-unchecked-background-color);border:solid var(--ag-checkbox-border-width) var(--ag-checkbox-unchecked-border-color);flex:none;height:var(--ag-icon-size);position:relative;width:var(--ag-icon-size);:where(input){-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:block;height:var(--ag-icon-size);margin:0;opacity:0;width:var(--ag-icon-size)}&:after{content:"";display:block;inset:0;-webkit-mask-position:center;mask-position:center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;pointer-events:none;position:absolute}&:where(.ag-checked){background-color:var(--ag-checkbox-checked-background-color);border-color:var(--ag-checkbox-checked-border-color);&:after{background-color:var(--ag-checkbox-checked-shape-color)}}&:where(:focus-within,:active){box-shadow:var(--ag-focus-shadow)}&:where(.ag-disabled){filter:grayscale();opacity:.5}}.ag-checkbox-input-wrapper{border-radius:var(--ag-checkbox-border-radius);&:where(.ag-checked):after{-webkit-mask-image:var(--ag-checkbox-checked-shape-image);mask-image:var(--ag-checkbox-checked-shape-image)}&:where(.ag-indeterminate){background-color:var(--ag-checkbox-indeterminate-background-color);border-color:var(--ag-checkbox-indeterminate-border-color);&:after{background-color:var(--ag-checkbox-indeterminate-shape-color);-webkit-mask-image:var(--ag-checkbox-indeterminate-shape-image);mask-image:var(--ag-checkbox-indeterminate-shape-image)}}}.ag-cell-editing-error .ag-checkbox-input-wrapper:focus-within{box-shadow:var(--ag-focus-error-shadow)}.ag-radio-button-input-wrapper{border-radius:100%;&:where(.ag-checked):after{-webkit-mask-image:var(--ag-radio-checked-shape-image);mask-image:var(--ag-radio-checked-shape-image)}}',l0e=()=>Zo({feature:"checkboxStyle",params:{checkboxBorderWidth:1,checkboxBorderRadius:{ref:"borderRadius"},checkboxUncheckedBackgroundColor:Fr,checkboxUncheckedBorderColor:wi(.3),checkboxCheckedBackgroundColor:ia,checkboxCheckedBorderColor:{ref:"checkboxCheckedBackgroundColor"},checkboxCheckedShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="10" height="7" fill="none"><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.75" d="M1 3.5 3.5 6l5-5"/></svg>'},checkboxCheckedShapeColor:Fr,checkboxIndeterminateBackgroundColor:wi(.3),checkboxIndeterminateBorderColor:{ref:"checkboxIndeterminateBackgroundColor"},checkboxIndeterminateShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="10" height="2" fill="none"><rect width="10" height="2" fill="#000" rx="1"/></svg>'},checkboxIndeterminateShapeColor:Fr,radioCheckedShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="6" height="6" fill="none"><circle cx="3" cy="3" r="3" fill="#000"/></svg>'}},css:a0e}),vq=l0e(),wq=()=>({...OS,...Kye,backgroundColor:"hsl(217, 0%, 17%)",foregroundColor:"#FFF",chromeBackgroundColor:wi(.05),rowHoverColor:ql(.15),selectedRowBackgroundColor:ql(.2),menuBackgroundColor:wi(.1),browserColorScheme:"dark",popupShadow:"0 0px 20px #000A",cardShadow:"0 1px 4px 1px #000A",advancedFilterBuilderJoinPillColor:"#7a3a37",advancedFilterBuilderColumnPillColor:"#355f2d",advancedFilterBuilderOptionPillColor:"#5a3168",advancedFilterBuilderValuePillColor:"#374c86",filterPanelApplyButtonColor:bd,findMatchColor:Fr,findActiveMatchColor:Fr,checkboxUncheckedBorderColor:wi(.4),toggleButtonOffBackgroundColor:wi(.4),rowBatchEditBackgroundColor:wi(.1)}),c0e=()=>({...wq(),backgroundColor:"#1f2836"}),d0e=()=>Zo({feature:"colorScheme",params:OS,modeParams:{light:OS,dark:wq(),"dark-blue":c0e()}}),Cq=d0e(),u0e=`.ag-icon-aggregation:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eaggregation%3C/title%3E%3Cpath d='M25.128 2.002c2.56.096 4.772 2.292 4.87 4.87a712 712 0 0 1 0 18.256c-.096 2.56-2.292 4.772-4.87 4.87a712 712 0 0 1-18.256 0c-2.558-.096-4.772-2.29-4.87-4.87a712 712 0 0 1 0-18.256c.096-2.56 2.292-4.772 4.87-4.87a712 712 0 0 1 18.256 0M7.006 4c-1.57.02-2.946 1.348-3.004 2.922-.078 6.078-.23 12.16.002 18.234.094 1.484 1.354 2.746 2.84 2.84 6.1.232 12.212.232 18.312 0 1.48-.094 2.746-1.35 2.84-2.84.232-6.1.232-12.212 0-18.312-.094-1.48-1.35-2.746-2.84-2.84C19.11 3.774 13.056 4 7.006 4M22 12h-2v-2h-8v.092c.056 1.352 3.426 2.598 4.472 4.404.682 1.174.438 2.754-.572 3.72C14.29 19.618 12 20.924 12 22h8v-2h2v4H10c0-1.586-.098-3.304 1.016-4.314 1.904-1.632 4.89-3.108 3.54-4.42-1.918-1.68-4.464-2.936-4.554-5.12L10 8h12z'/%3E%3C/svg%3E")}.ag-icon-arrows:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Earrows%3C/title%3E%3Cpath d='m6.414 17 2.294 2.292-1.416 1.416L2.586 16l4.706-4.708 1.416 1.416L6.414 15H15V6.414l-2.292 2.294-1.416-1.416L16 2.586l4.708 4.706-1.416 1.416L17 6.414V15h8.586l-2.294-2.292 1.416-1.416L29.414 16l-4.706 4.708-1.416-1.416L25.586 17H17v8.586l2.292-2.294 1.416 1.416L16 29.414l-4.708-4.706 1.416-1.416L15 25.586V17z'/%3E%3C/svg%3E")}.ag-icon-asc:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Easc%3C/title%3E%3Cpath d='m15 10.621-4.292 4.294-1.416-1.416L16 6.793l6.708 6.706-1.416 1.416L17 10.621v14.586h-2z'/%3E%3C/svg%3E")}.ag-icon-cancel:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Ecancel%3C/title%3E%3Cpath d='M16 4C9.378 4 4 9.378 4 16s5.378 12 12 12 12-5.378 12-12S22.622 4 16 4m0 2c5.52 0 10 4.48 10 10s-4.48 10-10 10S6 21.52 6 16 10.48 6 16 6m0 8.586 5.292-5.294 1.416 1.416L17.414 16l5.294 5.292-1.416 1.416L16 17.414l-5.292 5.294-1.416-1.416L14.586 16l-5.294-5.292 1.416-1.416z'/%3E%3C/svg%3E")}.ag-icon-chart:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Echart%3C/title%3E%3Cpath d='M6.667 12.267h4v13.067h-4zm7.466-5.6h3.733v18.667h-3.733zM21.6 17.333h3.733v8H21.6z'/%3E%3C/svg%3E")}.ag-icon-color-picker:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Ecolor-picker%3C/title%3E%3Cpath d='M23.907 17.587 10.574 4.254l-1.88 1.88 3.173 3.173-8.28 8.28 10.16 10.16zm-16.547 0 6.387-6.387 6.387 6.387H7.361zm18.387 2s-2.667 2.893-2.667 4.667c0 1.467 1.2 2.667 2.667 2.667s2.667-1.2 2.667-2.667c0-1.773-2.667-4.667-2.667-4.667'/%3E%3C/svg%3E")}.ag-icon-columns:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Ecolumns%3C/title%3E%3Cpath d='M14 25h-2V7h2zm6 0h-2V7h2zm6 0h-2V7h2zM8 25H6V7h2z'/%3E%3C/svg%3E")}.ag-icon-contracted:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Econtracted%3C/title%3E%3Cpath d='m21.061 16-8.706 8.708-1.416-1.416L18.233 16l-7.294-7.292 1.416-1.416z'/%3E%3C/svg%3E")}.ag-icon-copy:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Ecopy%3C/title%3E%3Cpath d='M21.929 27.999h-7.828a5.09 5.09 0 0 1-5.086-5.086v-9.812a5.087 5.087 0 0 1 5.086-5.086h7.828a5.09 5.09 0 0 1 5.086 5.086v9.812a5.087 5.087 0 0 1-5.086 5.086m.16-17.984h-8.088a2.94 2.94 0 0 0-2.938 2.938v10.132a2.94 2.94 0 0 0 2.938 2.938h8.088a2.94 2.94 0 0 0 2.936-2.938V12.953a2.94 2.94 0 0 0-2.936-2.938M7.041 26.013h-2.05a4 4 0 0 1-.006-.228V9.065a5.07 5.07 0 0 1 5.064-5.064h12.812q.069 0 .134.002v2.012H9.915a2.876 2.876 0 0 0-2.874 2.874z'/%3E%3C/svg%3E")}.ag-icon-cross:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='4 4 24 24'%3E%3Ctitle%3Ecross%3C/title%3E%3Cpath d='m16 14.586 5.292-5.294 1.416 1.416L17.414 16l5.294 5.292-1.416 1.416L16 17.414l-5.292 5.294-1.416-1.416L14.586 16l-5.294-5.292 1.416-1.416z'/%3E%3C/svg%3E")}.ag-icon-csv:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M384 131.9c-7.753-8.433-110.425-128.473-114.9-133L48-.1C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48zm-35.9 2.1H257V27.9zM30 479V27h200l1 105c0 13.3-1.3 29 12 29h111l1 318z' style='fill-rule:nonzero' transform='translate(3.934 -.054)scale(.06285)'/%3E%3Cpath d='M.688-.226a.2.2 0 0 1-.017.074.28.28 0 0 1-.145.14.412.412 0 0 1-.234.013.28.28 0 0 1-.202-.168.468.468 0 0 1-.04-.19q0-.086.025-.155a.319.319 0 0 1 .182-.191.4.4 0 0 1 .134-.025q.087 0 .155.035a.3.3 0 0 1 .104.085.17.17 0 0 1 .036.097.06.06 0 0 1-.018.044.06.06 0 0 1-.042.019.06.06 0 0 1-.042-.013.2.2 0 0 1-.031-.046.2.2 0 0 0-.066-.079.16.16 0 0 0-.095-.027.17.17 0 0 0-.142.068.3.3 0 0 0-.053.193.4.4 0 0 0 .023.139.2.2 0 0 0 .067.083.2.2 0 0 0 .1.027q.063 0 .106-.031a.2.2 0 0 0 .065-.091.2.2 0 0 1 .023-.046q.014-.018.044-.018a.06.06 0 0 1 .044.018.06.06 0 0 1 .019.045' style='fill-rule:nonzero' transform='matrix(8.39799 0 0 12.455 7.122 25.977)'/%3E%3Cpath d='M.622-.215a.2.2 0 0 1-.033.117.23.23 0 0 1-.098.081.4.4 0 0 1-.153.029.34.34 0 0 1-.175-.04.23.23 0 0 1-.079-.077.17.17 0 0 1-.031-.093q0-.027.019-.045a.06.06 0 0 1 .046-.019.06.06 0 0 1 .039.014.1.1 0 0 1 .027.044.3.3 0 0 0 .03.057q.015.023.044.038.03.015.076.015.065 0 .105-.03a.09.09 0 0 0 .04-.075.08.08 0 0 0-.022-.058.14.14 0 0 0-.056-.034 1 1 0 0 0-.092-.025.7.7 0 0 1-.129-.042.2.2 0 0 1-.083-.066.17.17 0 0 1-.03-.104q0-.058.032-.105a.2.2 0 0 1 .093-.07.4.4 0 0 1 .144-.025q.066 0 .114.016a.3.3 0 0 1 .08.044.2.2 0 0 1 .046.057q.015.03.015.058a.07.07 0 0 1-.018.046.06.06 0 0 1-.046.021q-.025 0-.038-.012a.2.2 0 0 1-.028-.041.2.2 0 0 0-.047-.063Q.387-.625.326-.625a.15.15 0 0 0-.09.025q-.035.024-.035.059 0 .021.012.037a.1.1 0 0 0 .032.027.4.4 0 0 0 .111.036q.06.015.11.031.048.018.083.042a.2.2 0 0 1 .054.062.2.2 0 0 1 .019.091' style='fill-rule:nonzero' transform='matrix(8.39799 0 0 12.455 13.339 25.977)'/%3E%3Cpath d='m.184-.633.162.48.163-.483q.013-.038.019-.053a.062.062 0 0 1 .061-.039q.018 0 .034.009a.1.1 0 0 1 .025.025q.009.015.009.031L.654-.64l-.007.025-.009.024-.173.468-.019.051a.2.2 0 0 1-.021.042.1.1 0 0 1-.033.03.1.1 0 0 1-.049.012.1.1 0 0 1-.05-.011A.1.1 0 0 1 .26-.03a.2.2 0 0 1-.021-.042L.22-.123.05-.587.041-.612.033-.638.03-.662q0-.025.02-.046a.07.07 0 0 1 .05-.02q.037 0 .053.023.015.023.031.072' style='fill-rule:nonzero' transform='matrix(8.39799 0 0 12.455 18.94 25.977)'/%3E%3C/svg%3E")}.ag-icon-cut:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M14.703 15.096 6.215 4.719a1 1 0 1 1 1.548-1.267l13.058 15.965A5.001 5.001 0 0 1 28 23.916a5 5 0 0 1-4.999 4.999 5 5 0 0 1-4.999-4.999 4.98 4.98 0 0 1 1.23-3.283l-3.238-3.958-3.272 4.001a4.98 4.98 0 0 1 1.265 3.323 5 5 0 0 1-4.999 4.999 5 5 0 0 1-4.999-4.999 5 5 0 0 1 7.13-4.522zM8.991 20.8a3.1 3.1 0 0 0-3.1 3.1c0 1.711 1.389 3.1 3.1 3.1s3.1-1.389 3.1-3.1-1.389-3.1-3.1-3.1M23 20.8a3.1 3.1 0 0 0-3.1 3.1c0 1.711 1.389 3.1 3.1 3.1s3.1-1.389 3.1-3.1-1.389-3.1-3.1-3.1m-5.723-8.852 1.292 1.579 7.205-8.808a1 1 0 0 0-1.548-1.267z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-desc:before,.ag-icon-down:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Edesc%3C/title%3E%3Cpath d='m17 21.379 4.292-4.294 1.416 1.416L16 25.207l-6.708-6.706 1.416-1.416L15 21.379V6.793h2z'/%3E%3C/svg%3E")}.ag-icon-excel:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M384 131.9c-7.753-8.433-110.425-128.473-114.9-133L48-.1C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48zm-35.9 2.1H257V27.9zM30 479V27h200l1 105c0 13.3-1.3 29 12 29h111l1 318z' style='fill-rule:nonzero' transform='translate(3.934 -.054)scale(.06285)'/%3E%3Cpath d='m.052-.139.16-.234-.135-.208a.4.4 0 0 1-.028-.052.1.1 0 0 1-.01-.042.05.05 0 0 1 .018-.037.07.07 0 0 1 .045-.016q.03 0 .047.018a1 1 0 0 1 .047.066l.107.174.115-.174.024-.038.019-.026.021-.015a.1.1 0 0 1 .027-.005.06.06 0 0 1 .044.016.05.05 0 0 1 .018.039q0 .033-.038.089l-.141.211.152.234a.3.3 0 0 1 .03.051.1.1 0 0 1 .009.038.1.1 0 0 1-.008.031.1.1 0 0 1-.024.023.1.1 0 0 1-.034.008.1.1 0 0 1-.035-.008.1.1 0 0 1-.023-.022L.427-.067.301-.265l-.134.204-.022.034-.016.019a.1.1 0 0 1-.022.015.1.1 0 0 1-.03.005.06.06 0 0 1-.044-.016.06.06 0 0 1-.017-.047q0-.036.036-.088' style='fill-rule:nonzero' transform='matrix(17.82892 0 0 16.50777 10.371 25.928)'/%3E%3C/svg%3E")}.ag-icon-expanded:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eexpanded%3C/title%3E%3Cpath d='M21.061 8.708 13.767 16l7.294 7.292-1.416 1.416L10.939 16l8.706-8.708z'/%3E%3C/svg%3E")}.ag-icon-eye-slash:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eeye-slash%3C/title%3E%3Cpath d='M9.304 7.89a15.2 15.2 0 0 1 6.404-1.638c.294-.002.292-.002.584 0 5.956.174 11.328 4.088 13.62 9.748 0 0-1.318 3.178-3.224 5.174a13.6 13.6 0 0 1-2.226 1.874L26.414 25 25 26.414l-2.336-2.336C17.866 26.396 11.776 26.15 7.36 22.96a14.9 14.9 0 0 1-4.168-4.612c-.41-.71-.694-1.336-1.104-2.348 0 0 .898-2.218 2.002-3.718a14.6 14.6 0 0 1 3.442-3.334L5.586 7 7 5.586zm-.3 2.528c-2.038 1.344-3.708 3.246-4.724 5.508L4.248 16c2.46 5.762 9.622 9.064 15.63 7.15q.688-.219 1.342-.516l-.912-.912a6.96 6.96 0 0 1-4.19 1.394c-3.862 0-7-3.136-7-7 0-1.57.52-3.022 1.394-4.19zm14.032 11.204a13.25 13.25 0 0 0 4.684-5.548l.032-.074c-1.984-4.646-6.834-7.798-12.006-7.748-1.712.05-3.386.458-4.922 1.158l1.102 1.102a6.97 6.97 0 0 1 4.192-1.396 7.003 7.003 0 0 1 5.606 11.192zm-11.09-8.262a5.003 5.003 0 0 0 6.928 6.928zm8.342 5.514a5.002 5.002 0 0 0-6.928-6.928z'/%3E%3C/svg%3E")}.ag-icon-eye:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eeye%3C/title%3E%3Cpath d='M16.292 6.32c5.956.174 11.328 4.086 13.62 9.746 0 0-1.318 3.18-3.224 5.176-4.862 5.088-13.534 5.97-19.328 1.784a14.9 14.9 0 0 1-4.168-4.612c-.41-.71-.694-1.336-1.104-2.348 0 0 .898-2.216 2.002-3.716 2.678-3.64 7.03-5.896 11.618-6.03.294-.004.292-.004.584 0m-.546 2c-4.896.142-9.458 3.202-11.466 7.672l-.032.074c2.46 5.762 9.622 9.066 15.63 7.152 3.458-1.102 6.342-3.738 7.842-7.076l.032-.076C25.768 11.42 20.918 8.27 15.746 8.32m.254.946c3.754 0 6.8 3.048 6.8 6.8 0 3.754-3.046 6.8-6.8 6.8s-6.8-3.046-6.8-6.8c0-3.752 3.046-6.8 6.8-6.8m5 6.768V16c0-2.76-2.24-5-5-5s-5 2.24-5 5v.066c0 2.76 2.24 5 5 5s5-2.24 5-5z'/%3E%3C/svg%3E")}.ag-icon-filter:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Efilter%3C/title%3E%3Cpath d='M26 8.184c-.066 2.658-4.058 5.154-6.742 7.974a1.05 1.05 0 0 0-.258.682v3.66L13 25c0-2.74.066-5.482-.002-8.222a1.05 1.05 0 0 0-.256-.62C10.026 13.304 6.06 10.61 6 8.184V6h20zM8 8c0 .304.06.612.258.842 2.716 2.854 6.682 5.548 6.742 7.974V21l2-1.5v-2.684c.066-2.658 4.058-5.154 6.742-7.974.198-.23.258-.538.258-.842z'/%3E%3C/svg%3E")}.ag-icon-first:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Efirst%3C/title%3E%3Cpath d='M24.354 8.708 17.06 16l7.294 7.292-1.416 1.416L14.232 16l8.706-8.708zM9.646 8v16h-2V8z'/%3E%3C/svg%3E")}.ag-icon-group:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Egroup%3C/title%3E%3Cpath d='M25.128 2.002c2.56.096 4.772 2.292 4.87 4.87a712 712 0 0 1 0 18.256c-.096 2.56-2.292 4.772-4.87 4.87a712 712 0 0 1-18.256 0c-2.558-.096-4.772-2.29-4.87-4.87a712 712 0 0 1 0-18.256c.096-2.56 2.292-4.772 4.87-4.87a712 712 0 0 1 18.256 0M7.006 4c-1.57.02-2.946 1.348-3.004 2.922-.078 6.078-.23 12.16.002 18.234.094 1.484 1.354 2.746 2.84 2.84 6.1.232 12.212.232 18.312 0 1.48-.094 2.746-1.35 2.84-2.84.232-6.1.232-12.212 0-18.312-.094-1.48-1.35-2.746-2.84-2.84C19.11 3.774 13.056 4 7.006 4M14 21h-4v-2h4zm12 0H16v-2h10zm-12-4h-4v-2h4zm12 0H16v-2h10zm-16-4H6v-2h4zm16 0H12v-2h14z'/%3E%3C/svg%3E")}.ag-icon-last:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Elast%3C/title%3E%3Cpath d='m17.768 16-8.706 8.708-1.416-1.416L14.94 16 7.646 8.708l1.416-1.416zm6.586 8h-2V8h2z'/%3E%3C/svg%3E")}.ag-icon-left:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eleft%3C/title%3E%3Cpath d='m17.621 11-2 2h12.586v6H15.621l2 2-4.414 4.414L3.793 16l9.414-9.414zm-11 5 6.586 6.586L14.793 21l-4-4h15.414v-2H10.793l4-4-1.586-1.586z'/%3E%3C/svg%3E")}.ag-icon-linked:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Elinked%3C/title%3E%3Cpath d='M17.138 13.418a1.03 1.03 0 0 0-.298.658s.125.096.226.178c1.372 1.114 2.033 3.039 1.582 4.796a4.7 4.7 0 0 1-1.205 2.123c-1.145 1.151-2.296 2.294-3.445 3.441-1.241 1.232-3.185 1.691-4.864 1.105-1.546-.54-2.756-1.938-3.048-3.572-.267-1.496.246-3.108 1.319-4.186l.578-.578-.03-.092a10.5 10.5 0 0 1-.452-2.3v-.005c-.776.775-1.621 1.489-2.275 2.396-1.817 2.522-1.643 6.323.706 8.669 1.813 1.811 4.708 2.462 7.171 1.517a6.75 6.75 0 0 0 2.336-1.518l3.427-3.424c1.939-1.954 2.533-5.126 1.294-7.674a6.8 6.8 0 0 0-2.071-2.481l-.003-.002zM21.265 4a6.8 6.8 0 0 0-4.734 1.964l-3.427 3.424c-1.961 1.977-2.52 5.092-1.32 7.619a6.8 6.8 0 0 0 2.098 2.537l.003.002c.32-.32.643-.637.96-.96.167-.172.27-.401.286-.64l-.204-.167c-1.603-1.287-2.215-3.68-1.316-5.616a4.7 4.7 0 0 1 .918-1.32c1.145-1.151 2.296-2.294 3.445-3.441 1.239-1.23 3.178-1.694 4.864-1.105 1.83.639 3.16 2.498 3.12 4.493a4.8 4.8 0 0 1-1.391 3.265l-.578.578.03.092c.235.743.387 1.519.452 2.3v.005c.732-.731 1.521-1.406 2.162-2.244 1.192-1.559 1.643-3.651 1.204-5.575a6.8 6.8 0 0 0-3.98-4.703 6.8 6.8 0 0 0-2.529-.506h-.061z'/%3E%3C/svg%3E")}.ag-icon-loading:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eloading%3C/title%3E%3Cpath d='M17 29h-2v-8h2zm-3.586-9L7 26.414 5.586 25 12 18.586zm13 5L25 26.414 18.586 20 20 18.586zM29 17h-8v-2h8zm-18 0H3v-2h8zm2.414-5L12 13.414 5.586 7 7 5.586zm13-5L20 13.414 18.586 12 25 5.586zM17 11h-2V3h2z'/%3E%3C/svg%3E")}.ag-icon-maximize:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='3 3 26 26'%3E%3Ctitle%3Emaximize%3C/title%3E%3Cpath d='m7.54 17.4.1 6.98 6.96.1-2.24-2.24L16 18.6 13.4 16l-3.64 3.64zm16.92-2.8-.1-6.98-6.96-.1 2.24 2.24L16 13.4l2.6 2.6 3.64-3.64z'/%3E%3C/svg%3E")}.ag-icon-menu:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Emenu%3C/title%3E%3Cpath d='M26 23H6v-2h20zm0-6H6v-2h20zm0-6H6V9h20z'/%3E%3C/svg%3E")}.ag-icon-menu-alt:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' fill='none'%3E%3Cpath fill='%23000' d='M16 18a2 2 0 1 0 0-4 2 2 0 0 0 0 4m0-7a2 2 0 1 0 0-4 2 2 0 0 0 0 4m0 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4'/%3E%3C/svg%3E")}.ag-icon-minimize:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='3 3 26 26'%3E%3Ctitle%3Eminimize%3C/title%3E%3Cpath d='m14.8 24.26-.1-6.96-6.96-.1 2.24 2.24-3.64 3.64 2.6 2.6 3.64-3.64zm2.4-16.52.1 6.96 6.96.1-2.24-2.24 3.64-3.64-2.6-2.6-3.64 3.64z'/%3E%3C/svg%3E")}.ag-icon-minus:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M7.515 7.515c-4.683 4.682-4.683 12.288 0 16.97 4.682 4.683 12.288 4.683 16.97 0 4.683-4.682 4.683-12.288 0-16.97-4.682-4.683-12.288-4.683-16.97 0m1.414 1.414c3.903-3.903 10.239-3.903 14.142 0s3.903 10.239 0 14.142-10.239 3.903-14.142 0-3.903-10.239 0-14.142m-1.414 6.07h16.97v2.002H7.515z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-next:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Enext%3C/title%3E%3Cpath d='m21.061 16-8.706 8.708-1.416-1.416L18.233 16l-7.294-7.292 1.416-1.416z'/%3E%3C/svg%3E")}.ag-icon-none:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Enone%3C/title%3E%3Cpath d='m10.044 21.258 4.478-4.198L16 18.444 9 25l-7-6.556 1.478-1.384 4.478 4.198V7h2.088zm14 3.742h-2.088V10.742l-4.478 4.198L16 13.556 23 7q3.5 3.28 7 6.556l-1.478 1.384-4.478-4.198z'/%3E%3C/svg%3E")}.ag-icon-not-allowed:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Enot-allowed%3C/title%3E%3Cpath d='M16.186 3.646c8.188.154 14.898 9.796 11.17 17.78-3.298 7.066-13.932 9.374-19.848 3.87-3.9-3.632-5.076-9.896-2.684-14.708 2.082-4.19 6.588-6.974 11.362-6.942m-.298 1.998c-6.922.132-12.578 8.308-9.33 15.052 3.342 6.934 15.246 7.646 18.932 0 3.076-6.386-1.988-15.1-9.602-15.052m7.596 6.422c2.864 5.33-1.744 13.186-8.306 12.536a8.6 8.6 0 0 1-3.232-.998l-1.266-.706L22.778 10.8q.351.633.706 1.266m-9.422 10.276c3.296 1.028 7.246-1.006 8.216-4.418a6.6 6.6 0 0 0-.056-3.742zm2.104-14.696a8.8 8.8 0 0 1 3.936 1.038l1.266.706L9.27 21.488c-3.018-5.41-.99-13.37 6.318-13.834q.289-.01.578-.008m-.31 2c-4.06.154-7.23 4.614-6.03 8.46l8.16-8.16a6.8 6.8 0 0 0-2.13-.3'/%3E%3C/svg%3E")}.ag-icon-paste:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Epaste%3C/title%3E%3Cpath d='M20 6.5c0-1-1-3-4-3s-4 2-4 3H8c-2.21 0-4 1.79-4 4v14c0 2.21 1.79 4 4 4h16c2.21 0 4-1.79 4-4v-14c0-2.21-1.79-4-4-4zm-4 .546c.734 0 1.334.572 1.334 1.272S16.734 9.59 16 9.59s-1.334-.572-1.334-1.272.6-1.272 1.334-1.272M24 26.5H8a2 2 0 0 1-2-2v-14a2 2 0 0 1 2-2h2v4h12v-4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2'/%3E%3C/svg%3E")}.ag-icon-pin:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Epin%3C/title%3E%3Cpath d='m10.78 19.777-4.668-4.666s.032-1 .67-1.87c1.366-1.86 4.052-1.96 6.056-1.572l3.158-3.108c-.7-2.342 3.352-5.046 3.352-5.046l9.166 9.168q-.334.447-.67.894c-1.074 1.426-2.538 2.63-4.272 2.338l-3.32 3.218c.046.344.042.03.118 1.152.144 2.13-.64 4.324-2.632 5.34l-.746.364-4.798-4.798-7.292 7.294-1.416-1.416zm8.24-13.672c-.688.568-1.416 1.45-1.024 2.072l.49.722-4.986 4.988c-1.988-.506-4.346-.636-5.156.614l9.02 9.032q.14-.099.272-.21c1.226-1.08.764-3.04.498-4.9l4.79-4.79s1.47.938 2.936-.776l-6.79-6.79q-.026.019-.05.038'/%3E%3C/svg%3E")}.ag-icon-pivot:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Epivot%3C/title%3E%3Cpath d='M25.128 2.002c2.56.096 4.772 2.292 4.87 4.87a712 712 0 0 1 0 18.256c-.096 2.56-2.292 4.772-4.87 4.87a712 712 0 0 1-18.256 0c-2.558-.096-4.772-2.29-4.87-4.87a712 712 0 0 1 0-18.256c.096-2.56 2.292-4.772 4.87-4.87a712 712 0 0 1 18.256 0m2.966 7.954H9.892v18.136c5.086.13 10.18.098 15.264-.096 1.48-.094 2.746-1.35 2.84-2.84.192-5.064.226-10.134.098-15.2M3.968 24.1q.015.528.036 1.056c.094 1.484 1.354 2.746 2.84 2.84l1.012.036V24.1zM22 15.414l-.292.294-1.416-1.416L23 11.586l2.708 2.706-1.416 1.416-.292-.294v3.592c-.032 2.604-2.246 4.892-4.872 4.992L15.414 24l.294.292-1.416 1.416L11.586 23l2.706-2.708 1.416 1.416-.322.32c3.372.03 6.578-.164 6.614-3.034zM3.88 18.038c.002 1.346.012 2.694.038 4.04h3.938v-4.04zm.05-6.062a681 681 0 0 0-.044 4.042h3.97v-4.042zm5.962-7.99Q8.449 3.999 7.006 4c-1.57.02-2.946 1.348-3.004 2.922q-.02 1.517-.042 3.034h3.896v-2.02h2.036zm14.244-.016v3.966h3.898q-.017-.546-.038-1.092c-.094-1.48-1.35-2.746-2.84-2.84q-.51-.019-1.02-.034m-8.14-.054q-2.035.022-4.07.048v3.972h4.07zm6.106.008c-1.358-.022-2.714-.026-4.07-.022v4.034h4.07z'/%3E%3C/svg%3E")}.ag-icon-plus:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M7.515 7.515c-4.683 4.682-4.683 12.288 0 16.97 4.682 4.683 12.288 4.683 16.97 0 4.683-4.682 4.683-12.288 0-16.97-4.682-4.683-12.288-4.683-16.97 0m1.414 1.414c3.903-3.903 10.239-3.903 14.142 0s3.903 10.239 0 14.142-10.239 3.903-14.142 0-3.903-10.239 0-14.142M15 15l-.001-7.485h2.002L17 15l7.485-.001v2.002L17 17l.001 7.485h-2.002L15 17l-7.485.001v-2.002z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-previous:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eprevious%3C/title%3E%3Cpath d='M21.061 8.708 13.767 16l7.294 7.292-1.416 1.416L10.939 16l8.706-8.708z'/%3E%3C/svg%3E")}.ag-icon-right:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eright%3C/title%3E%3Cpath d='m28.207 16-9.414 9.414L14.379 21l2-2H3.793v-6h12.586l-2-2 4.414-4.414zm-11-5 4 4H5.793v2h15.414l-4 4 1.586 1.586L25.379 16l-6.586-6.586z'/%3E%3C/svg%3E")}.ag-icon-save:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Esave%3C/title%3E%3Cpath d='M25.333 16v9.333H6.666V16H3.999v9.333C3.999 26.8 5.199 28 6.666 28h18.667C26.8 28 28 26.8 28 25.333V16zm-8 .893 3.453-3.44 1.88 1.88L15.999 22l-6.667-6.667 1.88-1.88 3.453 3.44V4h2.667v12.893z'/%3E%3C/svg%3E")}.ag-icon-small-down:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Esmall-down%3C/title%3E%3Cpath d='M24.708 12.355 16 21.061l-8.708-8.706 1.416-1.416L16 18.233l7.292-7.294z'/%3E%3C/svg%3E")}.ag-icon-small-left:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Esmall-left%3C/title%3E%3Cpath d='M21.061 8.708 13.767 16l7.294 7.292-1.416 1.416L10.939 16l8.706-8.708z'/%3E%3C/svg%3E")}.ag-icon-small-right:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Esmall-right%3C/title%3E%3Cpath d='m21.061 16-8.706 8.708-1.416-1.416L18.233 16l-7.294-7.292 1.416-1.416z'/%3E%3C/svg%3E")}.ag-icon-small-up:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Esmall-up%3C/title%3E%3Cpath d='m24.708 19.645-1.416 1.416L16 13.767l-7.292 7.294-1.416-1.416L16 10.939z'/%3E%3C/svg%3E")}.ag-icon-tick:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Etick%3C/title%3E%3Cpath d='M24.708 10.855 13 22.561l-5.708-5.706 1.416-1.416L13 19.733 23.292 9.439z'/%3E%3C/svg%3E")}.ag-icon-tree-closed:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Etree-closed%3C/title%3E%3Cpath d='m21.061 16-8.706 8.708-1.416-1.416L18.233 16l-7.294-7.292 1.416-1.416z'/%3E%3C/svg%3E")}.ag-icon-tree-indeterminate:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Etree-indeterminate%3C/title%3E%3Cpath d='M6 15h20v2H6z'/%3E%3C/svg%3E")}.ag-icon-tree-open:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Etree-open%3C/title%3E%3Cpath d='M24.708 12.355 16 21.061l-8.708-8.706 1.416-1.416L16 18.233l7.292-7.294z'/%3E%3C/svg%3E")}.ag-icon-unlinked:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eunlinked%3C/title%3E%3Cpath d='M5.35 3.999a.2.2 0 0 0-.14.058c-.388.38-.768.768-1.152 1.152a.21.21 0 0 0-.002.288c7.459 7.506 14.965 14.965 22.447 22.447a.21.21 0 0 0 .288.002q.576-.574 1.151-1.151a.21.21 0 0 0 .002-.288C20.484 19.002 12.979 11.542 5.497 4.06a.2.2 0 0 0-.146-.061zm.611 12.548c-1.933 1.939-2.538 5.119-1.289 7.688a6.79 6.79 0 0 0 4.891 3.672 6.82 6.82 0 0 0 5.893-1.866l1.984-1.984-1.438-1.438-1.986 1.986c-1.486 1.476-3.993 1.81-5.834.629a4.73 4.73 0 0 1-2.024-2.853 4.76 4.76 0 0 1 1.241-4.393l1.986-1.986-1.438-1.438-1.984 1.984zM21.273 3.999a6.78 6.78 0 0 0-4.727 1.963l-1.984 1.984L16 9.384l1.985-1.985a4.74 4.74 0 0 1 2.776-1.338c1.974-.224 4.045.926 4.845 2.834.712 1.699.329 3.778-1.004 5.12L22.616 16l1.439 1.438q1-1 2-2c2.012-2.031 2.557-5.368 1.112-7.982-1.144-2.07-3.432-3.441-5.834-3.459h-.061z'/%3E%3C/svg%3E")}.ag-icon-up:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Easc%3C/title%3E%3Cpath d='m15 10.621-4.292 4.294-1.416-1.416L16 6.793l6.708 6.706-1.416 1.416L17 10.621v14.586h-2z'/%3E%3C/svg%3E")}.ag-icon-grip:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Egrip%3C/title%3E%3Cpath d='M8 24H6v-4h2zm6 0h-2v-4h2zm6 0h-2v-4h2zm6 0h-2v-4h2zM8 18H6v-4h2zm6 0h-2v-4h2zm6 0h-2v-4h2zm6 0h-2v-4h2zM8 12H6V8h2zm6 0h-2V8h2zm6 0h-2V8h2zm6 0h-2V8h2z'/%3E%3C/svg%3E")}.ag-icon-settings:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' fill='none' viewBox='0 0 32 32'%3E%3Cpath fill='%23000' d='M30 8h-4.1c-.5-2.3-2.5-4-4.9-4s-4.4 1.7-4.9 4H2v2h14.1c.5 2.3 2.5 4 4.9 4s4.4-1.7 4.9-4H30zm-9 4c-1.7 0-3-1.3-3-3s1.3-3 3-3 3 1.3 3 3-1.3 3-3 3M2 24h4.1c.5 2.3 2.5 4 4.9 4s4.4-1.7 4.9-4H30v-2H15.9c-.5-2.3-2.5-4-4.9-4s-4.4 1.7-4.9 4H2zm9-4c1.7 0 3 1.3 3 3s-1.3 3-3 3-3-1.3-3-3 1.3-3 3-3'/%3E%3C/svg%3E")}.ag-icon-column-arrow:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 32 32'%3E%3Cpath fill='currentColor' fill-rule='evenodd' d='M11 4a1 1 0 0 1 1 1v22a1 1 0 1 1-2 0V5a1 1 0 0 1 1-1' clip-rule='evenodd'/%3E%3Cpath fill='currentColor' fill-rule='evenodd' d='M2 13a1 1 0 0 1 1-1h23.5a1 1 0 1 1 0 2H3a1 1 0 0 1-1-1' clip-rule='evenodd'/%3E%3Cpath fill='currentColor' fill-rule='evenodd' d='M2 4h18v24H2zm2 2v20h14V6zM26.793 13 23 9.207l1.414-1.414L29.621 13l-5.207 5.207L23 16.793z' clip-rule='evenodd'/%3E%3C/svg%3E")}.ag-icon-un-pin:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' fill='none' viewBox='0 0 32 32'%3E%3Cpath fill='currentColor' fill-rule='evenodd' d='m6.112 15.111 3.272 3.271 1.436-1.402-2.476-2.479c.81-1.25 3.168-1.12 5.156-.614l4.986-4.988-.49-.722c-.392-.622.336-1.504 1.024-2.072l.008-.007.01-.006.032-.025 1.447 1.447 1.432-1.397-2.601-2.602s-4.052 2.704-3.352 5.046l-3.158 3.108c-2.004-.388-4.69-.288-6.056 1.572-.638.87-.67 1.87-.67 1.87m.581 11.582.014.014 5.502-5.501 4.783 4.783.746-.364c1.992-1.016 2.776-3.21 2.632-5.34-.055-.805-.068-.87-.088-.97-.008-.04-.017-.085-.03-.182l3.32-3.218c1.734.292 3.198-.912 4.272-2.338q.337-.447.67-.894l-.001-.001-.007-.007-.007-.007-.007-.007-3.87-3.87 1.585-1.584-1.414-1.414-14.381 14.38-1.237 1.209-5.69 5.687 1.417 1.416zM23.21 10.206l2.65 2.651c-1.465 1.714-2.935.776-2.935.776l-4.79 4.79q.041.291.087.583c.257 1.676.513 3.35-.585 4.317a4 4 0 0 1-.272.21l-3.739-3.744z' clip-rule='evenodd'/%3E%3C/svg%3E")}.ag-icon-pinned-top:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' fill='none' viewBox='0 0 32 32'%3E%3Cpath fill='currentColor' d='m16.708 10.878 8.708 8.706L24 21l-6.292-6.294V27h-2V14.706L9.416 21 8 19.584q4.348-4.344 8.691-8.69zM25 6H8v2h17z'/%3E%3C/svg%3E")}.ag-icon-pinned-bottom:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' fill='none' viewBox='0 0 32 32'%3E%3Cpath fill='currentColor' d='M16.708 22.122 8 13.416 9.416 12l6.292 6.294V6h2v12.294L24 12l1.416 1.416-8.691 8.69zM7.416 28h17v-2h-17z'/%3E%3C/svg%3E")}.ag-icon-chevron-up:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='none' viewBox='0 0 16 16'%3E%3Cpath fill='currentColor' fill-rule='evenodd' d='M3.479 10.521a.75.75 0 0 1 0-1.06l4-4a.75.75 0 0 1 1.06 0l4 4a.75.75 0 0 1-1.06 1.06l-3.47-3.47-3.47 3.47a.75.75 0 0 1-1.06 0' clip-rule='evenodd'/%3E%3C/svg%3E")}.ag-icon-chevron-down:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='none' viewBox='0 0 16 16'%3E%3Cpath fill='currentColor' fill-rule='evenodd' d='M12.521 5.461a.75.75 0 0 1 0 1.06l-4 4a.75.75 0 0 1-1.06 0l-4-4a.75.75 0 0 1 1.06-1.06l3.47 3.47 3.47-3.47a.75.75 0 0 1 1.06 0' clip-rule='evenodd'/%3E%3C/svg%3E")}.ag-icon-chevron-left:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='none' viewBox='0 0 16 16'%3E%3Cpath fill='currentColor' fill-rule='evenodd' d='M10.53 12.512a.75.75 0 0 1-1.06 0l-4-4a.75.75 0 0 1 0-1.06l4-4a.75.75 0 0 1 1.06 1.06l-3.47 3.47 3.47 3.47a.75.75 0 0 1 0 1.06' clip-rule='evenodd'/%3E%3C/svg%3E")}.ag-icon-chevron-right:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='none' viewBox='0 0 16 16'%3E%3Cpath fill='currentColor' fill-rule='evenodd' d='M5.47 3.47a.75.75 0 0 1 1.06 0l4 4a.75.75 0 0 1 0 1.06l-4 4a.75.75 0 0 1-1.06-1.06L8.94 8 5.47 4.53a.75.75 0 0 1 0-1.06' clip-rule='evenodd'/%3E%3C/svg%3E")}.ag-icon-filter-add:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' fill='none' viewBox='0 0 32 32'%3E%3Cpath fill='currentColor' d='M19.834 8H8c0 .304.06.612.258.842 2.716 2.854 6.682 5.548 6.742 7.974V21l2-1.5v-2.684c.056-2.267 2.968-4.417 5.49-6.75v3.087c-1.081.974-2.245 1.968-3.232 3.005a1.05 1.05 0 0 0-.258.682v3.66L13 25c0-2.74.066-5.482-.002-8.222a1.05 1.05 0 0 0-.256-.62C10.026 13.304 6.06 10.61 6 8.184V6h13.834z'/%3E%3Cpath fill='currentColor' d='M26 6h2.946v2.002H26v3.313h-2.002V8.002h-2.946V6h2.946V3.04H26z'/%3E%3C/svg%3E")}.ag-icon-edit:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' fill='none' viewBox='0 0 32 32'%3E%3Cpath fill='currentColor' d='M23.182 5a3.82 3.82 0 0 1 2.83 6.383l-.131.137-2.09 2.088a1 1 0 0 1-.084.099 1 1 0 0 1-.098.084L12.533 24.869a3 3 0 0 1-1.245.746l-4.353 1.32-.003.002a1.5 1.5 0 0 1-1.87-1.867l.003-.004 1.32-4.352v-.003l.06-.174c.13-.344.321-.661.565-.936l.126-.135L18.209 8.39a1 1 0 0 1 .18-.181l2.092-2.09.137-.132A3.82 3.82 0 0 1 23.182 5M8.548 20.883a1 1 0 0 0-.25.415l-1.049 3.451 3.457-1.048.114-.042q.17-.076.301-.206l10.458-10.46-2.572-2.572zM23.182 7c-.482 0-.946.19-1.287.531v.001l-1.474 1.475 2.572 2.572 1.474-1.474.121-.133A1.82 1.82 0 0 0 23.182 7'/%3E%3C/svg%3E")}`,h0e=Zo({feature:"iconSet",css:u0e}),yq={aggregation:'<path d="M18 7V4H6l6 8-6 8h12v-3"/>',arrows:'<polyline points="5 9 2 12 5 15"/><polyline points="9 5 12 2 15 5"/><polyline points="15 19 12 22 9 19"/><polyline points="19 9 22 12 19 15"/><line x1="2" x2="22" y1="12" y2="12"/><line x1="12" x2="12" y1="2" y2="22"/>',asc:'<path d="m5 12 7-7 7 7"/><path d="M12 19V5"/>',cancel:'<path d="m18 6-12 12"/><path d="m6 6 12 12"/>',chart:'<line x1="18" x2="18" y1="20" y2="10"/><line x1="12" x2="12" y1="20" y2="4"/><line x1="6" x2="6" y1="20" y2="14"/>',"color-picker":'<path d="m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z"/><path d="m5 2 5 5"/><path d="M2 13h15"/><path d="M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z"/>',columns:'<path d="M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18"/>',contracted:'<path d="m9 18 6-6-6-6"/>',copy:'<rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/>',cross:'<path d="M18 6 6 18"/><path d="m6 6 12 12"/>',csv:'<path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><path d="M8 13h2"/><path d="M8 17h2"/><path d="M14 13h2"/><path d="M14 17h2"/>',cut:'<circle cx="6" cy="6" r="3"/><path d="M8.12 8.12 12 12"/><path d="M20 4 8.12 15.88"/><circle cx="6" cy="18" r="3"/><path d="M14.8 14.8 20 20"/>',desc:'<path d="M12 5v14"/><path d="m19 12-7 7-7-7"/>',down:'<path d="M12 5v14"/><path d="m19 12-7 7-7-7"/>',excel:'<path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><path d="M8 13h2"/><path d="M8 17h2"/><path d="M14 13h2"/><path d="M14 17h2"/>',expanded:'<path d="m15 18-6-6 6-6"/>',"eye-slash":'<path d="M9.88 9.88a3 3 0 1 0 4.24 4.24"/><path d="M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"/><path d="M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"/><line x1="2" x2="22" y1="2" y2="22"/>',eye:'<path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"/><circle cx="12" cy="12" r="3"/>',filter:'<path d="M3 6h18"/><path d="M7 12h10"/><path d="M10 18h4"/>',first:'<path d="m17 18-6-6 6-6"/><path d="M7 6v12"/>',group:'<path d="M16 12H3"/><path d="M16 18H3"/><path d="M10 6H3"/><path d="M21 18V8a2 2 0 0 0-2-2h-5"/><path d="m16 8-2-2 2-2"/>',last:'<path d="m7 18 6-6-6-6"/><path d="M17 6v12"/>',left:'<path d="m12 19-7-7 7-7"/><path d="M19 12H5"/>',linked:'<path d="M9 17H7A5 5 0 0 1 7 7h2"/><path d="M15 7h2a5 5 0 1 1 0 10h-2"/><line x1="8" x2="16" y1="12" y2="12"/>',loading:'<line x1="12" x2="12" y1="2" y2="6"/><line x1="12" x2="12" y1="18" y2="22"/><line x1="4.93" x2="7.76" y1="4.93" y2="7.76"/><line x1="16.24" x2="19.07" y1="16.24" y2="19.07"/><line x1="2" x2="6" y1="12" y2="12"/><line x1="18" x2="22" y1="12" y2="12"/><line x1="4.93" x2="7.76" y1="19.07" y2="16.24"/><line x1="16.24" x2="19.07" y1="7.76" y2="4.93"/>',maximize:'<polyline points="15 3 21 3 21 9"/><polyline points="9 21 3 21 3 15"/><line x1="21" x2="14" y1="3" y2="10"/><line x1="3" x2="10" y1="21" y2="14"/>',menu:'<line x1="4" x2="20" y1="12" y2="12"/><line x1="4" x2="20" y1="6" y2="6"/><line x1="4" x2="20" y1="18" y2="18"/>',"menu-alt":'<circle cx="12" cy="5" r="0.75" fill="#D9D9D9"/><circle cx="12" cy="12" r="0.75" fill="#D9D9D9"/><circle cx="12" cy="19" r="0.75" fill="#D9D9D9"/>',minimize:'<polyline points="4 14 10 14 10 20"/><polyline points="20 10 14 10 14 4"/><line x1="14" x2="21" y1="10" y2="3"/><line x1="3" x2="10" y1="21" y2="14"/>',minus:'<circle cx="12" cy="12" r="10"/><path d="M8 12h8"/>',next:'<path d="m9 18 6-6-6-6"/>',none:'<path d="m7 15 5 5 5-5"/><path d="m7 9 5-5 5 5"/>',"not-allowed":'<circle cx="12" cy="12" r="10"/><path d="m4.9 4.9 14.2 14.2"/>',paste:'<path d="M15 2H9a1 1 0 0 0-1 1v2c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V3c0-.6-.4-1-1-1Z"/><path d="M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2M16 4h2a2 2 0 0 1 2 2v2M11 14h10"/><path d="m17 10 4 4-4 4"/>',pin:'<line x1="12" x2="12" y1="17" y2="22"/><path d="M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z"/>',pivot:'<path d="M15 3v18"/><rect width="18" height="18" x="3" y="3" rx="2"/><path d="M21 9H3"/><path d="M21 15H3"/>',plus:'<circle cx="12" cy="12" r="10"/><path d="M8 12h8"/><path d="M12 8v8"/>',previous:'<path d="m15 18-6-6 6-6"/>',right:'<path d="M5 12h14"/><path d="m12 5 7 7-7 7"/>',save:'<path d="M12 17V3"/><path d="m6 11 6 6 6-6"/><path d="M19 21H5"/>',"small-left":'<path d="m15 18-6-6 6-6"/>',"small-right":'<path d="m9 18 6-6-6-6"/>',tick:'<path d="M20 6 9 17l-5-5"/>',"tree-closed":'<path d="m9 18 6-6-6-6"/>',"tree-indeterminate":'<path d="M5 12h14"/>',"tree-open":'<path d="m6 9 6 6 6-6"/>',unlinked:'<path d="M9 17H7A5 5 0 0 1 7 7"/><path d="M15 7h2a5 5 0 0 1 4 8"/><line x1="8" x2="12" y1="12" y2="12"/><line x1="2" x2="22" y1="2" y2="22"/>',up:'<path d="m5 12 7-7 7 7"/><path d="M12 19V5"/>',grip:'<circle cx="5" cy="8" r="0.5"/><circle cx="12" cy="8" r="0.5"/><circle cx="19" cy="8" r="0.5"/><circle cx="5" cy="16" r="0.5"/><circle cx="12" cy="16" r="0.5"/><circle cx="19" cy="16" r="0.5"/><g stroke="none" fill="currentColor"><circle cx="5" cy="8" r="1"/><circle cx="12" cy="8" r="1"/><circle cx="19" cy="8" r="1"/><circle cx="5" cy="16" r="1"/><circle cx="12" cy="16" r="1"/><circle cx="19" cy="16" r="1"/></g>',settings:'<path d="M20 7h-9"/><path d="M14 17H5"/><circle cx="17" cy="17" r="3"/><circle cx="7" cy="7" r="3"/>'},kq={"column-arrow":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="none" viewBox="0 0 32 32"><path fill-rule="evenodd" clip-rule="evenodd" d="M0 26C0 28.2092 1.79086 30 4 30H14C16.2091 30 18 28.2092 18 26V15H25.8786L24.4394 16.4393C23.8536 17.0251 23.8536 17.9749 24.4394 18.5607C25.0252 19.1464 25.9748 19.1464 26.5606 18.5607L30.5606 14.5607C31.1464 13.9749 31.1464 13.0251 30.5606 12.4393L26.5606 8.43934C25.9748 7.85356 25.0252 7.85356 24.4394 8.43934C23.8536 9.02512 23.8536 9.97488 24.4394 10.5607L25.8786 12H18V6C18 3.79086 16.2091 2 14 2H4C1.79086 2 0 3.79086 0 6V26ZM14 5H10.5V12H15V6C15 5.44772 14.5523 5 14 5ZM4 5H7.5V12H3V6C3 5.44772 3.44772 5 4 5ZM10.5 15H15V26C15 26.5522 14.5523 27 14 27H10.5V15ZM4 27H7.5V15H3V26C3 26.5522 3.44772 27 4 27Z" fill="currentColor"/></svg>',"small-down":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="black" stroke="none" viewBox="0 0 32 32"><path d="M7.334 10.667 16 21.334l8.667-10.667H7.334Z"/></svg>',"small-up":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="black" stroke="none" viewBox="0 0 32 32"><path d="M7.334 21.333 16 10.666l8.667 10.667H7.334Z"/></svg>',"pinned-top":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="none" viewBox="0 0 16 16"><path fill="currentColor" d="M12.53 3.72A.75.75 0 0 1 12 5H4a.75.75 0 0 1 0-1.5h8a.75.75 0 0 1 .53.22ZM3.269 10.744a.75.75 0 0 1 .2-.524l4-4a.75.75 0 0 1 1.06 0l4 4a.75.75 0 1 1-1.06 1.06L8.75 8.56V14a.75.75 0 0 1-1.5 0V8.56l-2.72 2.72a.75.75 0 0 1-1.26-.536Z"/></svg>',"pinned-bottom":'<svg xmlns="http://www.w3.org/2000/svg" fill="none" class="ag-icon" viewBox="0 0 16 16"><path fill="currentColor" d="M3.47 12.28A.75.75 0 0 1 4 11h8a.75.75 0 0 1 0 1.5H4a.75.75 0 0 1-.53-.22ZM12.731 5.256a.75.75 0 0 1-.2.524l-4 4a.75.75 0 0 1-1.06 0l-4-4a.75.75 0 1 1 1.06-1.06l2.72 2.72V2a.75.75 0 0 1 1.5 0v5.44l2.72-2.72a.75.75 0 0 1 1.26.536Z"/></svg>',"un-pin":'<svg xmlns="http://www.w3.org/2000/svg" fill="none" class="ag-icon" viewBox="0 0 16 16"><path fill="currentColor" d="M8 11a.75.75 0 0 0-.75.75v3.333a.75.75 0 1 0 1.5 0V11.75A.75.75 0 0 0 8 11Z"/><path fill="currentColor" d="M13.11 1.436a.75.75 0 0 0-1.22-.872l-10 14a.75.75 0 1 0 1.22.872L5.207 12.5h7.376a.75.75 0 0 0 .75-.75v-1.174a2.08 2.08 0 0 0-1.153-1.863l-1.185-.599-.005-.002a.58.58 0 0 1-.323-.522V5.165a2.083 2.083 0 0 0 1.854-2.904l.589-.825Zm-3.943 5.52v.634a2.08 2.08 0 0 0 1.153 1.863l1.185.6.005.002a.58.58 0 0 1 .323.522V11H6.28l2.887-4.044ZM9.277 1H5.25a2.084 2.084 0 0 0-.083 4.165v1.676l1.5-2.132v-.292a.75.75 0 0 0-.75-.75H5.25a.584.584 0 0 1 0-1.167h2.972L9.277 1Z"/></svg>',"chevron-down":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 6L8 10L4 6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>',"chevron-up":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4 10L8 6L12 10" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>',"chevron-left":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10 12L6 8L10 4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>',"chevron-right":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M6 12L10 8L6 4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>',"filter-add":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M5.12126 7.75L10.8517 7.75" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/><path d="M6.65934 11.748L9.32778 11.748" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/><path d="M12.2943 1.04872V6.19184M14.9886 3.74341H9.68478" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/><path d="M8.25488 3C8.04799 3.18323 7.91706 3.45099 7.91699 3.74902C7.91713 4.04868 8.04988 4.31681 8.25879 4.5H2C1.58579 4.5 1.25 4.16421 1.25 3.75C1.25 3.33579 1.58579 3 2 3H8.25488Z" fill="currentColor"/></svg>',edit:'<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 10.6262V12.5012H5.375L10.905 6.97122L9.03 5.09622L3.5 10.6262ZM12.355 5.52122C12.4014 5.47497 12.4381 5.42002 12.4632 5.35953C12.4883 5.29905 12.5012 5.23421 12.5012 5.16872C12.5012 5.10324 12.4883 5.0384 12.4632 4.97791C12.4381 4.91742 12.4014 4.86248 12.355 4.81622L11.185 3.64622C11.1387 3.59987 11.0838 3.5631 11.0233 3.53801C10.9628 3.51291 10.898 3.5 10.8325 3.5C10.767 3.5 10.7022 3.51291 10.6417 3.53801C10.5812 3.5631 10.5263 3.59987 10.48 3.64622L9.565 4.56122L11.44 6.43622L12.355 5.52122Z" fill="currentColor"/></svg>'},f0e=(e={})=>{let t="";for(const n of[...Object.keys(yq),...Object.keys(kq)]){const r=p0e(n,e.strokeWidth);t+=`.ag-icon-${n}::before { mask-image: url('data:image/svg+xml,${encodeURIComponent(r)}'); }
`}return t},p0e=(e,t=1.5)=>{const n=kq[e];if(n)return n;const r=yq[e];if(!r)throw new Error(`Missing icon data for ${e}`);return`<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke="black" stroke-width="${t}" viewBox="0 0 24 24"><style>* { vector-effect: non-scaling-stroke; }</style>`+r+"</svg>"},g0e=(e={})=>Zo({feature:"iconSet",css:()=>f0e(e)}),m0e=g0e(),b0e=':where(.ag-input-field-input[type=number]:not(.ag-number-field-input-stepper)){-webkit-appearance:textfield;-moz-appearance:textfield;appearance:textfield;&::-webkit-inner-spin-button,&::-webkit-outer-spin-button{-webkit-appearance:none;appearance:none;margin:0}}.ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){background-color:var(--ag-input-background-color);border:var(--ag-input-border);border-radius:var(--ag-input-border-radius);color:var(--ag-input-text-color);font-family:inherit;font-size:inherit;line-height:inherit;margin:0;min-height:var(--ag-input-height);padding:0;&:where(:disabled){background-color:var(--ag-input-disabled-background-color);border:var(--ag-input-disabled-border);color:var(--ag-input-disabled-text-color)}&:where(:focus){background-color:var(--ag-input-focus-background-color);border:var(--ag-input-focus-border);box-shadow:var(--ag-input-focus-shadow);color:var(--ag-input-focus-text-color);outline:none}&:where(:invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&:where(.invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&::-moz-placeholder{color:var(--ag-input-placeholder-text-color)}&::placeholder{color:var(--ag-input-placeholder-text-color)}}:where(.ag-ltr) .ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){padding-left:var(--ag-input-padding-start)}:where(.ag-rtl) .ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){padding-right:var(--ag-input-padding-start)}:where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter,.ag-filter-add-select){.ag-input-wrapper:before{background-color:currentcolor;color:var(--ag-input-icon-color);content:"";display:block;height:12px;-webkit-mask-image:url("data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS41Ij48cGF0aCBkPSJNNS4zIDlhMy43IDMuNyAwIDEgMCAwLTcuNSAzLjcgMy43IDAgMCAwIDAgNy41Wk0xMC41IDEwLjUgOC4zIDguMiIvPjwvc3ZnPg==");mask-image:url("data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS41Ij48cGF0aCBkPSJNNS4zIDlhMy43IDMuNyAwIDEgMCAwLTcuNSAzLjcgMy43IDAgMCAwIDAgNy41Wk0xMC41IDEwLjUgOC4zIDguMiIvPjwvc3ZnPg==");-webkit-mask-position:center;mask-position:center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;opacity:.5;position:absolute;width:12px}}:where(.ag-ltr) :where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter,.ag-filter-add-select){.ag-input-wrapper:before{margin-left:var(--ag-spacing)}.ag-number-field-input,.ag-text-field-input{padding-left:calc(var(--ag-spacing)*1.5 + 12px)}}:where(.ag-rtl) :where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter,.ag-filter-add-select){.ag-input-wrapper:before{margin-right:var(--ag-spacing)}.ag-number-field-input,.ag-text-field-input{padding-right:calc(var(--ag-spacing)*1.5 + 12px)}}',v0e=".ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){&:focus{box-shadow:var(--ag-focus-shadow);&:where(.invalid),&:where(:invalid){box-shadow:var(--ag-focus-error-shadow)}}}",w0e={inputBackgroundColor:"transparent",inputBorder:!1,inputBorderRadius:0,inputTextColor:{ref:"textColor"},inputPlaceholderTextColor:{ref:"inputTextColor",mix:.5},inputPaddingStart:0,inputHeight:{calc:"max(iconSize, fontSize) + spacing * 2"},inputFocusBackgroundColor:{ref:"inputBackgroundColor"},inputFocusBorder:{ref:"inputBorder"},inputFocusShadow:"none",inputFocusTextColor:{ref:"inputTextColor"},inputDisabledBackgroundColor:{ref:"inputBackgroundColor"},inputDisabledBorder:{ref:"inputBorder"},inputDisabledTextColor:{ref:"inputTextColor"},inputInvalidBackgroundColor:{ref:"inputBackgroundColor"},inputInvalidBorder:{ref:"inputBorder"},inputInvalidTextColor:{ref:"inputTextColor"},inputIconColor:{ref:"inputTextColor"},pickerButtonBorder:!1,pickerButtonFocusBorder:{ref:"inputFocusBorder"},pickerButtonBackgroundColor:{ref:"backgroundColor"},pickerButtonFocusBackgroundColor:{ref:"backgroundColor"},pickerListBorder:!1,pickerListBackgroundColor:{ref:"backgroundColor"},colorPickerThumbSize:18,colorPickerTrackSize:12,colorPickerThumbBorderWidth:3,colorPickerTrackBorderRadius:12,colorPickerColorBorderRadius:4},C0e=()=>Zo({feature:"inputStyle",params:{...w0e,inputBackgroundColor:Fr,inputBorder:!0,inputBorderRadius:{ref:"borderRadius"},inputPaddingStart:{ref:"spacing"},inputFocusBorder:{color:ia},inputFocusShadow:{ref:"focusShadow"},inputDisabledBackgroundColor:wi(.06),inputDisabledTextColor:{ref:"textColor",mix:.5},inputInvalidBorder:{color:{ref:"invalidColor"}},pickerButtonBorder:!0,pickerListBorder:!0},css:()=>b0e+v0e}),xq=C0e(),Aq='.ag-tabs-header{background-color:var(--ag-tab-bar-background-color);border-bottom:var(--ag-tab-bar-border);display:flex;flex:1;gap:var(--ag-tab-spacing);padding:var(--ag-tab-bar-top-padding) var(--ag-tab-bar-horizontal-padding) 0}.ag-tabs-header-wrapper{display:flex}.ag-tabs-close-button-wrapper{align-items:center;border:0;display:flex;padding:var(--ag-spacing)}:where(.ag-ltr) .ag-tabs-close-button-wrapper{border-right:solid var(--ag-border-width) var(--ag-border-color)}:where(.ag-rtl) .ag-tabs-close-button-wrapper{border-left:solid var(--ag-border-width) var(--ag-border-color)}.ag-tabs-close-button{background-color:unset;border:0;cursor:pointer;padding:0}.ag-tab{align-items:center;background-color:var(--ag-tab-background-color);border-left:var(--ag-tab-selected-border-width) solid transparent;border-right:var(--ag-tab-selected-border-width) solid transparent;color:var(--ag-tab-text-color);cursor:pointer;display:flex;flex:1;justify-content:center;padding:var(--ag-tab-top-padding) var(--ag-tab-horizontal-padding) var(--ag-tab-bottom-padding);position:relative;&:hover{background-color:var(--ag-tab-hover-background-color);color:var(--ag-tab-hover-text-color)}&.ag-tab-selected{background-color:var(--ag-tab-selected-background-color);color:var(--ag-tab-selected-text-color)}&:after{background-color:var(--ag-tab-selected-underline-color);bottom:0;content:"";display:block;height:var(--ag-tab-selected-underline-width);left:0;opacity:0;position:absolute;right:0;transition:opacity var(--ag-tab-selected-underline-transition-duration)}&.ag-tab-selected:after{opacity:1}}:where(.ag-ltr) .ag-tab{&.ag-tab-selected{&:where(:not(:first-of-type)){border-left-color:var(--ag-tab-selected-border-color)}&:where(:not(:last-of-type)){border-right-color:var(--ag-tab-selected-border-color)}}}:where(.ag-rtl) .ag-tab{&.ag-tab-selected{&:where(:not(:first-of-type)){border-right-color:var(--ag-tab-selected-border-color)}&:where(:not(:last-of-type)){border-left-color:var(--ag-tab-selected-border-color)}}}',y0e=".ag-tab{border-left:var(--ag-tab-selected-border-width) solid transparent;border-right:var(--ag-tab-selected-border-width) solid transparent;border-top:var(--ag-tab-selected-border-width) solid transparent;flex:none;&.ag-tab-selected{border-left-color:var(--ag-tab-selected-border-color);border-right-color:var(--ag-tab-selected-border-color);border-top-color:var(--ag-tab-selected-border-color);margin-bottom:-1px;padding-bottom:calc(var(--ag-tab-bottom-padding) + 1px)}}",Sq={tabBarBackgroundColor:"transparent",tabBarHorizontalPadding:0,tabBarTopPadding:0,tabBackgroundColor:"transparent",tabTextColor:{ref:"textColor"},tabHorizontalPadding:{ref:"spacing"},tabTopPadding:{ref:"spacing"},tabBottomPadding:{ref:"spacing"},tabSpacing:"0",tabHoverBackgroundColor:{ref:"tabBackgroundColor"},tabHoverTextColor:{ref:"tabTextColor"},tabSelectedBackgroundColor:{ref:"tabBackgroundColor"},tabSelectedTextColor:{ref:"tabTextColor"},tabSelectedBorderWidth:{ref:"borderWidth"},tabSelectedBorderColor:"transparent",tabSelectedUnderlineColor:"transparent",tabSelectedUnderlineWidth:0,tabSelectedUnderlineTransitionDuration:0,tabBarBorder:!1},k0e=()=>Zo({feature:"tabStyle",params:{...Sq,tabBarBorder:!0,tabBarBackgroundColor:fo(.05),tabTextColor:{ref:"textColor",mix:.7},tabSelectedTextColor:{ref:"textColor"},tabHoverTextColor:{ref:"textColor"},tabSelectedBorderColor:{ref:"borderColor"},tabSelectedBackgroundColor:Fr},css:Aq}),x0e=k0e(),A0e=()=>Zo({feature:"tabStyle",params:{...Sq,tabBarBackgroundColor:{ref:"chromeBackgroundColor"},tabBarHorizontalPadding:{ref:"spacing"},tabBarTopPadding:{ref:"spacing"},tabBarBorder:!0,tabHorizontalPadding:{calc:"spacing * 2"},tabTopPadding:{ref:"spacing"},tabBottomPadding:{ref:"spacing"},tabSpacing:{ref:"spacing"},tabSelectedBorderColor:{ref:"borderColor"},tabSelectedBackgroundColor:Fr},css:()=>Aq+y0e}),S0e=A0e(),_0e=()=>bq().withPart(vq).withPart(Cq).withPart(m0e).withPart(x0e).withPart(xq).withPart(mq).withParams({fontFamily:[{googleFont:"IBM Plex Sans"},"-apple-system","BlinkMacSystemFont","Segoe UI","Roboto","Oxygen-Sans","Ubuntu"]}),E0e=_0e(),D0e=()=>bq().withPart(e0e).withPart(vq).withPart(Cq).withPart(h0e).withPart(S0e).withPart(xq).withPart(o0e).withParams({accentColor:"#0091ea",borderColor:fo(.2),spacing:4,widgetVerticalSpacing:{calc:"max(8px, spacing)"},borderRadius:2,wrapperBorderRadius:2,headerColumnResizeHandleColor:"transparent",headerColumnBorder:!0,headerColumnBorderHeight:"50%",oddRowBackgroundColor:{ref:"chromeBackgroundColor",mix:.5},checkboxBorderRadius:2,checkboxBorderWidth:1,checkboxUncheckedBackgroundColor:Fr,checkboxUncheckedBorderColor:wi(.5),checkboxCheckedBackgroundColor:Fr,checkboxCheckedBorderColor:ia,checkboxCheckedShapeColor:ia,checkboxIndeterminateBackgroundColor:Fr,checkboxIndeterminateBorderColor:wi(.5),checkboxIndeterminateShapeColor:wi(.5),focusShadow:{radius:2,spread:1,color:ia},headerTextColor:fo(.6),iconButtonHoverBackgroundColor:"transparent",iconButtonActiveBackgroundColor:"transparent",fontSize:12,tabSelectedBackgroundColor:Fr,headerFontWeight:"bold",toggleButtonWidth:32,toggleButtonHeight:16,toggleButtonSwitchInset:1,toggleButtonOffBackgroundColor:wi(.5),sideButtonBorder:!0,sideButtonBarTopPadding:{calc:"spacing * 4"},popupShadow:"5px 5px 10px rgba(0, 0, 0, 0.3)",statusBarLabelColor:fo(.54),statusBarLabelFontWeight:600,statusBarValueFontWeight:600,panelTitleBarIconColor:bd,colorPickerThumbSize:13,colorPickerTrackSize:11,colorPickerThumbBorderWidth:2,colorPickerTrackBorderRadius:2,colorPickerColorBorderRadius:2}),M0e=D0e(),T0e={cssName:"--ag-cell-horizontal-padding",changeKey:"cellHorizontalPaddingChanged",defaultValue:16},R0e={cssName:"--ag-indentation-level",changeKey:"indentationLevelChanged",defaultValue:0,noWarn:!0,cacheDefault:!0},P0e={cssName:"--ag-row-group-indent-size",changeKey:"rowGroupIndentSizeChanged",defaultValue:0},$z={cssName:"--ag-row-height",changeKey:"rowHeightChanged",defaultValue:42},qz={cssName:"--ag-header-height",changeKey:"headerHeightChanged",defaultValue:48},Kz={cssName:"--ag-list-item-height",changeKey:"listItemHeightChanged",defaultValue:24},iT={cssName:"--ag-row-border",changeKey:"rowBorderWidthChanged",defaultValue:1,border:!0},Yz={cssName:"--ag-pinned-row-border",changeKey:"pinnedRowBorderWidthChanged",defaultValue:1,border:!0};function I0e(e,t){for(const n of t.sort((r,o)=>r.moduleName.localeCompare(o.moduleName))){const r=n.css;r&&e.set(`module-${n.moduleName}`,r)}}var N0e=class extends nbe{constructor(){super(...arguments),this.sizeEls=new Map,this.lastKnownValues=new Map,this.sizesMeasured=!1}initVariables(){this.addManagedPropertyListener("rowHeight",()=>this.refreshRowHeightVariable()),this.getSizeEl($z),this.getSizeEl(qz),this.getSizeEl(Kz),this.getSizeEl(iT),this.getSizeEl(Yz),this.refreshRowBorderWidthVariable()}getPinnedRowBorderWidth(){return this.getCSSVariablePixelValue(Yz)}getRowBorderWidth(){return this.getCSSVariablePixelValue(iT)}getDefaultRowHeight(){return this.getCSSVariablePixelValue($z)}getDefaultHeaderHeight(){return this.getCSSVariablePixelValue(qz)}getDefaultCellHorizontalPadding(){return this.getCSSVariablePixelValue(T0e)}getCellPaddingLeft(){const e=this.getDefaultCellHorizontalPadding(),t=this.getCSSVariablePixelValue(R0e),n=this.getCSSVariablePixelValue(P0e);return e-1+n*t}getCellPadding(){const e=this.getDefaultCellHorizontalPadding()-1;return this.getCellPaddingLeft()+e}getDefaultColumnMinWidth(){return Math.min(36,this.getDefaultRowHeight())}getDefaultListItemHeight(){return this.getCSSVariablePixelValue(Kz)}refreshRowHeightVariable(){const{eRootDiv:e}=this,t=e.style.getPropertyValue("--ag-line-height").trim(),n=this.gos.get("rowHeight");if(n==null||isNaN(n)||!isFinite(n))return t!==null&&e.style.setProperty("--ag-line-height",null),-1;const r=`${n}px`;return t!=r?(e.style.setProperty("--ag-line-height",r),n):t!=""?Number.parseFloat(t):-1}getCSSVariablePixelValue(e){const t=this.lastKnownValues.get(e);if(t!=null)return t;const n=this.measureSizeEl(e);return n==="detached"||n==="no-styles"?(e.cacheDefault&&this.lastKnownValues.set(e,e.defaultValue),e.defaultValue):(this.lastKnownValues.set(e,n),n)}measureSizeEl(e){const t=this.getSizeEl(e);if(t.offsetParent==null)return"detached";const n=t.offsetWidth;return n===oT?"no-styles":(this.sizesMeasured=!0,n)}getMeasurementContainer(){let e=this.eMeasurementContainer;return e||(e=this.eMeasurementContainer=Dr({tag:"div",cls:"ag-measurement-container"}),this.eRootDiv.appendChild(e)),e}getSizeEl(e){let t=this.sizeEls.get(e);if(t)return t;const n=this.getMeasurementContainer();t=Dr({tag:"div"});const{border:r,noWarn:o}=e;r?(t.className="ag-measurement-element-border",t.style.setProperty("--ag-internal-measurement-border",`var(${e.cssName}, solid ${oT}px)`)):t.style.width=`var(${e.cssName}, ${oT}px)`,n.appendChild(t),this.sizeEls.set(e,t);let a=this.measureSizeEl(e);a==="no-styles"&&!o&&ze(9,{variable:e});const l=al(this.beans,t,()=>{const d=this.measureSizeEl(e);d==="detached"||d==="no-styles"||(this.lastKnownValues.set(e,d),d!==a&&(a=d,this.fireStylesChangedEvent(e.changeKey)))});return this.addDestroyFunc(()=>l()),t}fireStylesChangedEvent(e){e==="rowBorderWidthChanged"&&this.refreshRowBorderWidthVariable(),this.eventSvc.dispatchEvent({type:"gridStylesChanged",[e]:!0})}refreshRowBorderWidthVariable(){const e=this.getCSSVariablePixelValue(iT);this.eRootDiv.style.setProperty("--ag-internal-row-border-width",`${e}px`)}postProcessThemeChange(e,t){e&&getComputedStyle(this.getMeasurementContainer()).getPropertyValue("--ag-legacy-styles-loaded")&&Cn(t?106:239)}getAdditionalCss(){const e=new Map;return e.set("core",[Wye]),I0e(e,Array.from(ype())),e}getDefaultTheme(){return E0e}themeError(e){Cn(240,{theme:e})}},oT=15538,O0e=class extends ibe{postConstruct(){const{globalListener:e,globalSyncListener:t}=this.beans;e&&this.addGlobalListener(e,!0),t&&this.addGlobalListener(t,!1)}};function _q(e,t,n){const r=e.visibleCols.headerGroupRowCount;if(n>=r)return{column:t,headerRowIndex:n};let o=t.getParent();for(;o&&o.getProvidedColumnGroup().getLevel()>n;)o=o.getParent();const a=t.isSpanHeaderHeight();return!o||a&&o.isPadding()?{column:t,headerRowIndex:r}:{column:o,headerRowIndex:o.getProvidedColumnGroup().getLevel()}}var F0e=class extends Pe{constructor(){super(...arguments),this.beanName="headerNavigation",this.currentHeaderRowWithoutSpan=-1}postConstruct(){const e=this.beans;e.ctrlsSvc.whenReady(this,n=>{this.gridBodyCon=n.gridBodyCtrl});const t=Wr(e);this.addManagedElementListeners(t,{mousedown:()=>{this.currentHeaderRowWithoutSpan=-1}})}getHeaderPositionForColumn(e,t){let n;const{colModel:r,colGroupSvc:o,ctrlsSvc:a}=this.beans;if(typeof e=="string"?(n=r.getCol(e),n||(n=o?.getColumnGroup(e)??null)):n=e,!n)return null;const d=a.getHeaderRowContainerCtrl()?.getAllCtrls(),f=Tn(d||[]).type==="filter",m=tc(this.beans)-1;let v=-1,C=n;for(;C;)v++,C=C.getParent();let y=v;return t&&f&&y===m-1&&y++,y===-1?null:{headerRowIndex:y,column:n}}navigateVertically(e,t){const{focusSvc:n,visibleCols:r}=this.beans,{focusedHeader:o}=n;if(!o)return!1;const{headerRowIndex:a}=o,l=o.column,d=tc(this.beans),f=this.getHeaderRowType(a),m=r.headerGroupRowCount;let{headerRowIndex:v,column:C,headerRowIndexWithoutSpan:y}=e==="UP"?L0e(f,l,a):B0e(l,a,m),S=!1;return v<0&&(v=0,C=l,S=!0),v>=d?(v=-1,this.currentHeaderRowWithoutSpan=-1):y!==void 0&&(this.currentHeaderRowWithoutSpan=y),!S&&!C?!1:n.focusHeaderPosition({headerPosition:{headerRowIndex:v,column:C},allowUserOverride:!0,event:t})}navigateHorizontally(e,t=!1,n){const{focusSvc:r,gos:o}=this.beans,a={...r.focusedHeader};let l,d;this.currentHeaderRowWithoutSpan!==-1?a.headerRowIndex=this.currentHeaderRowWithoutSpan:this.currentHeaderRowWithoutSpan=a.headerRowIndex,e==="LEFT"!==o.get("enableRtl")?(d="Before",l=this.findHeader(a,d)):(d="After",l=this.findHeader(a,d));const f=o.getCallback("tabToNextHeader");if(t&&f){const m=r.focusHeaderPositionFromUserFunc({userFunc:f,headerPosition:l,direction:d});if(m){const{headerRowIndex:v}=r.focusedHeader||{};v!=null&&v!=a.headerRowIndex&&(this.currentHeaderRowWithoutSpan=v)}return m}return l||!t?r.focusHeaderPosition({headerPosition:l,direction:d,fromTab:t,allowUserOverride:!0,event:n}):this.focusNextHeaderRow(a,d,n)}focusNextHeaderRow(e,t,n){const r=this.beans,o=e.headerRowIndex;let a=null,l;const d=tc(r),f=this.beans.visibleCols.allCols;if(t==="Before"){if(o<=0)return!1;a=Tn(f),l=o-1,this.currentHeaderRowWithoutSpan-=1}else a=f[0],l=o+1,this.currentHeaderRowWithoutSpan<d?this.currentHeaderRowWithoutSpan+=1:this.currentHeaderRowWithoutSpan=-1;let{column:m,headerRowIndex:v}=_q(this.beans,a,l);return v>=d&&(v=-1),r.focusSvc.focusHeaderPosition({headerPosition:{column:m,headerRowIndex:v},direction:t,fromTab:!0,allowUserOverride:!0,event:n})}scrollToColumn(e,t="After"){if(e.getPinned())return;let n;if(Er(e)){const r=e.getDisplayedLeafColumns();n=t==="Before"?Tn(r):r[0]}else n=e;this.gridBodyCon.scrollFeature.ensureColumnVisible(n)}findHeader(e,t){const{colGroupSvc:n,visibleCols:r}=this.beans;let o=e.column;if(o instanceof $y){const f=o.getDisplayedLeafColumns();o=t==="Before"?f[0]:f[f.length-1]}const a=t==="Before"?r.getColBefore(o):r.getColAfter(o);if(!a)return;const l=r.headerGroupRowCount;if(e.headerRowIndex>=l)return{headerRowIndex:e.headerRowIndex,column:a};const d=n?.getColGroupAtLevel(a,e.headerRowIndex);return d?d.isPadding()&&a.isSpanHeaderHeight()?{headerRowIndex:r.headerGroupRowCount,column:a}:{headerRowIndex:e.headerRowIndex,column:d??a}:{headerRowIndex:a instanceof ig&&a.isSpanHeaderHeight()?r.headerGroupRowCount:e.headerRowIndex,column:a}}getHeaderRowType(e){const t=this.beans.ctrlsSvc.getHeaderRowContainerCtrl();if(t)return t.getRowType(e)}};function L0e(e,t,n){const r=n-1;if(e!=="filter"){const o=t instanceof ig&&t.isSpanHeaderHeight();let a=t.getParent();for(;a&&(a.getProvidedColumnGroup().getLevel()>r||o&&a.isPadding());)a=a.getParent();if(a)return o?{column:a,headerRowIndex:a.getProvidedColumnGroup().getLevel(),headerRowIndexWithoutSpan:r}:{column:a,headerRowIndex:r,headerRowIndexWithoutSpan:r}}return{column:t,headerRowIndex:r,headerRowIndexWithoutSpan:r}}function B0e(e,t,n){const r=t+1,o={column:e,headerRowIndex:r,headerRowIndexWithoutSpan:r};if(e instanceof $y){if(r>=n)return{column:e.getDisplayedLeafColumns()[0],headerRowIndex:n,headerRowIndexWithoutSpan:r};let l=e.getDisplayedChildren()[0];if(l instanceof $y&&l.isPadding()){const f=l.getDisplayedLeafColumns()[0];f.isSpanHeaderHeight()&&(l=f)}o.column=l,l instanceof ig&&l.isSpanHeaderHeight()&&(o.headerRowIndex=n,o.headerRowIndexWithoutSpan=r)}return o}var j0e=class extends Pe{constructor(){super(...arguments),this.beanName="focusSvc",this.focusFallbackTimeout=null,this.needsFocusRestored=!1}wireBeans(e){this.colModel=e.colModel,this.visibleCols=e.visibleCols,this.rowRenderer=e.rowRenderer,this.navigation=e.navigation,this.filterManager=e.filterManager,this.overlays=e.overlays}postConstruct(){const e=this.clearFocusedCell.bind(this);this.addManagedEventListeners({columnPivotModeChanged:e,newColumnsLoaded:this.onColumnEverythingChanged.bind(this),columnGroupOpened:e,columnRowGroupChanged:e}),this.addDestroyFunc(dme(this.beans))}attemptToRecoverFocus(){this.needsFocusRestored=!0,this.focusFallbackTimeout!=null&&clearTimeout(this.focusFallbackTimeout),this.focusFallbackTimeout=window.setTimeout(this.setFocusRecovered.bind(this),100)}setFocusRecovered(){this.needsFocusRestored=!1,this.focusFallbackTimeout!=null&&(clearTimeout(this.focusFallbackTimeout),this.focusFallbackTimeout=null)}shouldTakeFocus(){return this.gos.get("suppressFocusAfterRefresh")?(this.setFocusRecovered(),!1):this.needsFocusRestored?(this.setFocusRecovered(),!0):this.doesRowOrCellHaveBrowserFocus()}onColumnEverythingChanged(){if(!this.focusedCell)return;const e=this.focusedCell.column,t=this.colModel.getCol(e.getId());e!==t&&this.clearFocusedCell()}getFocusCellToUseAfterRefresh(){const{gos:e,focusedCell:t}=this;return e.get("suppressFocusAfterRefresh")||e.get("suppressCellFocus")||!t||!this.doesRowOrCellHaveBrowserFocus()?null:t}getFocusHeaderToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedHeader||!this.isDomDataPresentInHierarchy(Qn(this.beans),q$)?null:this.focusedHeader}doesRowOrCellHaveBrowserFocus(){const e=Qn(this.beans);return this.isDomDataPresentInHierarchy(e,FS)?!0:this.isDomDataPresentInHierarchy(e,LS)}isDomDataPresentInHierarchy(e,t){let n=e;for(;n;){if(IW(this.gos,n,t))return!0;n=n.parentNode}return!1}getFocusedCell(){return this.focusedCell}getFocusEventParams(e){const{rowIndex:t,rowPinned:n,column:r}=e,o={rowIndex:t,rowPinned:n,column:r,isFullWidthCell:!1},a=this.rowRenderer.getRowByPosition({rowIndex:t,rowPinned:n});return a&&(o.isFullWidthCell=a.isFullWidth()),o}clearFocusedCell(){if(this.focusedCell==null)return;const e=this.getFocusEventParams(this.focusedCell);this.focusedCell=null,this.eventSvc.dispatchEvent({type:"cellFocusCleared",...e})}setFocusedCell(e){this.setFocusRecovered();const{column:t,rowIndex:n,rowPinned:r,forceBrowserFocus:o=!1,preventScrollOnBrowserFocus:a=!1,sourceEvent:l}=e,d=this.colModel.getCol(t);if(!d){this.focusedCell=null;return}this.focusedCell={rowIndex:n,rowPinned:xd(r),column:d};const f=this.getFocusEventParams(this.focusedCell);this.eventSvc.dispatchEvent({type:"cellFocused",...f,...this.previousCellFocusParams&&{previousParams:this.previousCellFocusParams},forceBrowserFocus:o,preventScrollOnBrowserFocus:a,sourceEvent:l}),this.previousCellFocusParams=f}isCellFocused(e){return this.focusedCell==null?!1:iq(e,this.focusedCell)}isHeaderWrapperFocused(e){if(this.focusedHeader==null)return!1;const{column:t,rowCtrl:{rowIndex:n,pinned:r}}=e,{column:o,headerRowIndex:a}=this.focusedHeader;return t===o&&n===a&&r==o.getPinned()}focusHeaderPosition(e){if(this.setFocusRecovered(),Np(this.beans))return!1;const{direction:t,fromTab:n,allowUserOverride:r,event:o,fromCell:a,rowWithoutSpanValue:l,scroll:d=!0}=e;let{headerPosition:f}=e;if(a&&this.filterManager?.isAdvFilterHeaderActive())return this.focusAdvancedFilter(f);if(r){const m=this.focusedHeader,v=tc(this.beans);if(n){const C=this.gos.getCallback("tabToNextHeader");C&&(f=this.getHeaderPositionFromUserFunc({userFunc:C,direction:t,currentPosition:m,headerPosition:f,headerRowCount:v}))}else{const C=this.gos.getCallback("navigateToNextHeader");if(C&&o){const y={key:o.key,previousHeaderPosition:m,nextHeaderPosition:f,headerRowCount:v,event:o};f=C(y)}}}return f?this.focusProvidedHeaderPosition({headerPosition:f,direction:t,event:o,fromCell:a,rowWithoutSpanValue:l,scroll:d}):!1}focusHeaderPositionFromUserFunc(e){if(Np(this.beans))return!1;const{userFunc:t,headerPosition:n,direction:r,event:o}=e,a=this.focusedHeader,l=tc(this.beans),d=this.getHeaderPositionFromUserFunc({userFunc:t,direction:r,currentPosition:a,headerPosition:n,headerRowCount:l});return!!d&&this.focusProvidedHeaderPosition({headerPosition:d,direction:r,event:o})}getHeaderPositionFromUserFunc(e){const{userFunc:t,direction:n,currentPosition:r,headerPosition:o,headerRowCount:a}=e,d=t({backwards:n==="Before",previousHeaderPosition:r,nextHeaderPosition:o,headerRowCount:a});return d===!0?r:d===!1?null:d}focusProvidedHeaderPosition(e){const{headerPosition:t,direction:n,fromCell:r,rowWithoutSpanValue:o,event:a,scroll:l=!0}=e,{column:d,headerRowIndex:f}=t,{filterManager:m,ctrlsSvc:v,headerNavigation:C}=this.beans;if(this.focusedHeader&&xve(e.headerPosition,this.focusedHeader))return!1;if(f===-1)return m?.isAdvFilterHeaderActive()?this.focusAdvancedFilter(t):this.focusGridView({column:d,event:a});l&&C?.scrollToColumn(d,n);const S=v.getHeaderRowContainerCtrl(d.getPinned())?.focusHeader(t.headerRowIndex,d,a)||!1;return C&&S&&(o!=null||r)&&(C.currentHeaderRowWithoutSpan=o??-1),S}focusFirstHeader(){if(this.overlays?.isExclusive()&&this.focusOverlay())return!0;const e=this.visibleCols.allCols[0];if(!e)return!1;const t=_q(this.beans,e,0);return this.focusHeaderPosition({headerPosition:t,rowWithoutSpanValue:0})}focusLastHeader(e){if(this.overlays?.isExclusive()&&this.focusOverlay(!0))return!0;const t=tc(this.beans)-1,n=Tn(this.visibleCols.allCols);return this.focusHeaderPosition({headerPosition:{headerRowIndex:t,column:n},rowWithoutSpanValue:-1,event:e})}focusPreviousFromFirstCell(e){return this.filterManager?.isAdvFilterHeaderActive()?this.focusAdvancedFilter(null):this.focusLastHeader(e)}isAnyCellFocused(){return!!this.focusedCell}isRowFocused(e,t){return this.focusedCell==null?!1:this.focusedCell.rowIndex===e&&this.focusedCell.rowPinned===xd(t)}focusOverlay(e){const t=this.overlays?.isVisible()&&this.overlays.eWrapper?.getGui();return!!t&&Fh(t,e)}focusGridView(e){const{backwards:t=!1,canFocusOverlay:n=!0,event:r}=e;if(this.overlays?.isExclusive())return n&&this.focusOverlay(t);if(mE(this.beans))return t&&!Np(this.beans)?this.focusLastHeader():n&&this.focusOverlay(t)?!0:t?!1:Rb(this.beans,t);const o=t?Zwe(this.beans):Qwe(this.beans);if(o){const a=e.column??this.focusedHeader?.column,{rowIndex:l,rowPinned:d}=o,f=jd(this.beans,o);if(!a||!f||l==null)return!1;if(a.isSuppressNavigable(f)){const m=this.gos.get("enableRtl");let v;return!r||r.key===xe.TAB?v=m?xe.LEFT:xe.RIGHT:v=r.key,this.beans.navigation?.navigateToNextCell(null,v,{rowIndex:l,column:a,rowPinned:d||null},!0),!0}return this.navigation?.ensureCellVisible({rowIndex:l,column:a,rowPinned:d}),t&&this.rowRenderer.getRowByPosition(o)?.isFullWidth()&&this.navigation?.tryToFocusFullWidthRow(o,t)||(this.setFocusedCell({rowIndex:l,column:a,rowPinned:xd(d),forceBrowserFocus:!0}),this.beans.rangeSvc?.setRangeToCell({rowIndex:l,rowPinned:d,column:a})),!0}return!!(n&&this.focusOverlay(t)||t&&this.focusLastHeader())}focusAdvancedFilter(e){return this.advFilterFocusColumn=e?.column,this.beans.advancedFilter?.getCtrl().focusHeaderComp()??!1}focusNextFromAdvancedFilter(e,t){const n=(t?void 0:this.advFilterFocusColumn)??this.visibleCols.allCols?.[0];return e?this.focusHeaderPosition({headerPosition:{column:n,headerRowIndex:tc(this.beans)-1}}):this.focusGridView({column:n})}clearAdvancedFilterColumn(){this.advFilterFocusColumn=void 0}},z0e=class extends Pe{constructor(){super(...arguments),this.beanName="scrollVisibleSvc"}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.colAnimation=e.colAnimation}postConstruct(){this.horizontalScrollShowing=this.gos.get("alwaysShowHorizontalScroll")===!0,this.verticalScrollShowing=this.gos.get("alwaysShowVerticalScroll")===!0,this.getScrollbarWidth(),this.addManagedEventListeners({displayedColumnsChanged:this.updateScrollVisible.bind(this),displayedColumnsWidthChanged:this.updateScrollVisible.bind(this)})}updateScrollVisible(){const{colAnimation:e}=this;e?.isActive()?e.executeLaterVMTurn(()=>{e.executeLaterVMTurn(()=>this.updateScrollVisibleImpl())}):this.updateScrollVisibleImpl()}updateScrollVisibleImpl(){const e=this.ctrlsSvc.get("center");if(!e||this.colAnimation?.isActive())return;const t={horizontalScrollShowing:e.isHorizontalScrollShowing(),verticalScrollShowing:this.verticalScrollShowing};this.setScrollsVisible(t),this.updateScrollGap()}updateScrollGap(){const e=this.ctrlsSvc.get("center"),t=e.hasHorizontalScrollGap(),n=e.hasVerticalScrollGap();(this.horizontalScrollGap!==t||this.verticalScrollGap!==n)&&(this.horizontalScrollGap=t,this.verticalScrollGap=n,this.eventSvc.dispatchEvent({type:"scrollGapChanged"}))}setScrollsVisible(e){(this.horizontalScrollShowing!==e.horizontalScrollShowing||this.verticalScrollShowing!==e.verticalScrollShowing)&&(this.horizontalScrollShowing=e.horizontalScrollShowing,this.verticalScrollShowing=e.verticalScrollShowing,this.eventSvc.dispatchEvent({type:"scrollVisibilityChanged"}))}getScrollbarWidth(){if(this.scrollbarWidth==null){const e=this.gos.get("scrollbarWidth"),n=typeof e=="number"&&e>=0?e:rme();n!=null&&(this.scrollbarWidth=n,this.eventSvc.dispatchEvent({type:"scrollbarWidthChanged"}))}return this.scrollbarWidth}},H0e=class extends Pe{constructor(){super(...arguments),this.beanName="gridDestroySvc",this.destroyCalled=!1}destroy(){if(this.destroyCalled)return;const{stateSvc:e,ctrlsSvc:t,context:n}=this.beans;this.eventSvc.dispatchEvent({type:"gridPreDestroyed",state:e?.getState()??{}}),this.destroyCalled=!0,t.get("gridCtrl")?.destroyGridUi(),n.destroy(),super.destroy()}},eS=new Set(["gridPreDestroyed","fillStart","pasteStart"]),V0e=["columnEverythingChanged","newColumnsLoaded","columnPivotModeChanged","pivotMaxColumnsExceeded","columnRowGroupChanged","expandOrCollapseAll","columnPivotChanged","gridColumnsChanged","columnValueChanged","columnMoved","columnVisible","columnPinned","columnGroupOpened","columnResized","displayedColumnsChanged","virtualColumnsChanged","columnHeaderMouseOver","columnHeaderMouseLeave","columnHeaderClicked","columnHeaderContextMenu","asyncTransactionsFlushed","rowGroupOpened","rowDataUpdated","pinnedRowDataChanged","pinnedRowsChanged","rangeSelectionChanged","cellSelectionChanged","chartCreated","chartRangeSelectionChanged","chartOptionsChanged","chartDestroyed","toolPanelVisibleChanged","toolPanelSizeChanged","modelUpdated","cutStart","cutEnd","pasteStart","pasteEnd","fillStart","fillEnd","cellSelectionDeleteStart","cellSelectionDeleteEnd","rangeDeleteStart","rangeDeleteEnd","undoStarted","undoEnded","redoStarted","redoEnded","cellClicked","cellDoubleClicked","cellMouseDown","cellContextMenu","cellValueChanged","cellEditRequest","rowValueChanged","headerFocused","cellFocused","rowSelected","selectionChanged","tooltipShow","tooltipHide","cellKeyDown","cellMouseOver","cellMouseOut","filterChanged","filterModified","filterUiChanged","filterOpened","floatingFilterUiChanged","advancedFilterBuilderVisibleChanged","sortChanged","virtualRowRemoved","rowClicked","rowDoubleClicked","gridReady","gridPreDestroyed","gridSizeChanged","viewportChanged","firstDataRendered","dragStarted","dragStopped","dragCancelled","rowEditingStarted","rowEditingStopped","cellEditingStarted","cellEditingStopped","bodyScroll","bodyScrollEnd","paginationChanged","componentStateChanged","storeRefreshed","stateUpdated","columnMenuVisibleChanged","contextMenuVisibleChanged","rowDragEnter","rowDragMove","rowDragLeave","rowDragEnd","rowDragCancel","findChanged","rowResizeStarted","rowResizeEnded","columnsReset","bulkEditingStarted","bulkEditingStopped","batchEditingStarted","batchEditingStopped"],tO=V0e.reduce((e,t)=>(e[t]=Wpe(t),e),{}),JC=(e,t)=>({tag:"span",ref:`eSort${e}`,cls:`ag-sort-indicator-icon ag-sort-${t} ag-hidden`,attrs:{"aria-hidden":"true"}}),G0e={tag:"span",cls:"ag-sort-indicator-container",children:[JC("Order","order"),JC("Asc","ascending-icon"),JC("Desc","descending-icon"),JC("Mixed","mixed-icon"),JC("None","none-icon")]},nO=class extends nn{constructor(e){super(),this.eSortOrder=qe,this.eSortAsc=qe,this.eSortDesc=qe,this.eSortMixed=qe,this.eSortNone=qe,e||this.setTemplate(G0e)}attachCustomElements(e,t,n,r,o){this.eSortOrder=e,this.eSortAsc=t,this.eSortDesc=n,this.eSortMixed=r,this.eSortNone=o}setupSort(e,t=!1){if(this.column=e,this.suppressOrder=t,this.setupMultiSortIndicator(),!e.isSortable()&&!e.getColDef().showRowGroup)return;this.addInIcon("sortAscending",this.eSortAsc,e),this.addInIcon("sortDescending",this.eSortDesc,e),this.addInIcon("sortUnSort",this.eSortNone,e);const n=this.updateIcons.bind(this),r=this.onSortChanged.bind(this);this.addManagedPropertyListener("unSortIcon",n),this.addManagedEventListeners({newColumnsLoaded:n,sortChanged:r,columnRowGroupChanged:r}),this.onSortChanged()}addInIcon(e,t,n){if(t==null)return;const r=Cs(e,this.beans,n);r&&t.appendChild(r)}onSortChanged(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()}updateIcons(){const{eSortAsc:e,eSortDesc:t,eSortNone:n,column:r,gos:o,beans:a}=this,l=a.sortSvc.getDisplaySortForColumn(r);if(e&&Ln(e,l==="asc",{skipAriaHidden:!0}),t&&Ln(t,l==="desc",{skipAriaHidden:!0}),n){const d=!r.getColDef().unSortIcon&&!o.get("unSortIcon"),f=l==null;Ln(n,!d&&f,{skipAriaHidden:!0})}}setupMultiSortIndicator(){const{eSortMixed:e,column:t,gos:n}=this;this.addInIcon("sortUnSort",e,t);const r=t.getColDef().showRowGroup;Ql(n)&&r&&(this.addManagedEventListeners({sortChanged:this.updateMultiSortIndicator.bind(this),columnRowGroupChanged:this.updateMultiSortIndicator.bind(this)}),this.updateMultiSortIndicator())}updateMultiSortIndicator(){const{eSortMixed:e,beans:t,column:n}=this;if(e){const r=t.sortSvc.getDisplaySortForColumn(n)==="mixed";Ln(e,r,{skipAriaHidden:!0})}}updateSortOrder(){const{eSortOrder:e,column:t,beans:{sortSvc:n}}=this;if(!e)return;const r=n.getColumnsWithSortingOrdered(),o=n.getDisplaySortIndexForColumn(t)??-1,a=r.some(d=>n.getDisplaySortIndexForColumn(d)??!1),l=o>=0&&a;Ln(e,l,{skipAriaHidden:!0}),o>=0?e.textContent=(o+1).toString():ki(e)}},U0e={selector:"AG-SORT-INDICATOR",component:nO},Ky=["asc","desc",null],W0e=class extends Pe{constructor(){super(...arguments),this.beanName="sortSvc"}progressSort(e,t,n){const r=this.getNextSortDirection(e);this.setSortForColumn(e,r,t,n)}progressSortFromEvent(e,t){const r=this.gos.get("multiSortKey")==="ctrl"?t.ctrlKey||t.metaKey:t.shiftKey;this.progressSort(e,r,"uiColumnSorted")}setSortForColumn(e,t,n,r){t!=="asc"&&t!=="desc"&&(t=null);const{gos:o,showRowGroupCols:a}=this.beans,l=Ql(o);let d=[e];if(l&&e.getColDef().showRowGroup){const C=a?.getSourceColumnsForGroupColumn?.(e)?.filter(y=>y.isSortable());C&&(d=[e,...C])}for(const v of d)this.setColSort(v,t,r);const f=(n||o.get("alwaysMultiSort"))&&!o.get("suppressMultiSort"),m=[];if(!f){const v=this.clearSortBarTheseColumns(d,r);m.push(...v)}this.updateSortIndex(e),m.push(...d),this.dispatchSortChangedEvents(r,m)}updateSortIndex(e){const{gos:t,colModel:n,showRowGroupCols:r}=this.beans,o=Ql(t),a=r?.getShowRowGroupCol(e.getId()),l=o&&a||e,d=this.getColumnsWithSortingOrdered();n.forAllCols(v=>this.setColSortIndex(v,null));const f=d.filter(v=>o&&v.getColDef().showRowGroup?!1:v!==l);(l.getSort()?[...f,l]:f).forEach((v,C)=>this.setColSortIndex(v,C))}onSortChanged(e,t){this.dispatchSortChangedEvents(e,t)}isSortActive(){let e=!1;return this.beans.colModel.forAllCols(t=>{t.getSort()&&(e=!0)}),e}dispatchSortChangedEvents(e,t){const n={type:"sortChanged",source:e};t&&(n.columns=t),this.eventSvc.dispatchEvent(n)}clearSortBarTheseColumns(e,t){const n=[];return this.beans.colModel.forAllCols(r=>{e.includes(r)||(r.getSort()&&n.push(r),this.setColSort(r,void 0,t))}),n}getNextSortDirection(e){const t=e.getColDef().sortingOrder??this.gos.get("sortingOrder")??Ky,n=t.indexOf(e.getSort()),r=n<0,o=n==t.length-1;return r||o?t[0]:t[n+1]}getIndexedSortMap(){const{gos:e,colModel:t,showRowGroupCols:n,rowGroupColsSvc:r}=this.beans;let o=[];if(t.forAllCols(m=>{m.getSort()&&o.push(m)}),t.isPivotMode()){const m=Ql(e);o=o.filter(v=>{const C=!!v.getAggFunc(),y=!v.isPrimary(),S=m?n?.getShowRowGroupCol(v.getId()):v.getColDef().showRowGroup;return C||y||S})}const a=r?.columns.filter(m=>!!m.getSort())??[],l={};o.forEach((m,v)=>l[m.getId()]=v),o.sort((m,v)=>{const C=m.getSortIndex(),y=v.getSortIndex();if(C!=null&&y!=null)return C-y;if(C==null&&y==null){const S=l[m.getId()],E=l[v.getId()];return S>E?1:-1}else return y==null?-1:1});const d=Ql(e)&&!!a.length;d&&(o=[...new Set(o.map(m=>n?.getShowRowGroupCol(m.getId())??m))]);const f=new Map;if(o.forEach((m,v)=>f.set(m,v)),d)for(const m of a){const v=n.getShowRowGroupCol(m.getId());f.set(m,f.get(v))}return f}getColumnsWithSortingOrdered(){return[...this.getIndexedSortMap().entries()].sort(([,e],[,t])=>e-t).map(([e])=>e)}getSortModel(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),colId:e.getId()}))}getSortOptions(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),column:e}))}canColumnDisplayMixedSort(e){const t=Ql(this.gos),n=!!e.getColDef().showRowGroup;return t&&n}getDisplaySortForColumn(e){const t=this.beans.showRowGroupCols?.getSourceColumnsForGroupColumn(e);if(!this.canColumnDisplayMixedSort(e)||!t?.length)return e.getSort();const r=e.getColDef().field!=null||!!e.getColDef().valueGetter?[e,...t]:t,o=r[0].getSort();return r.every(l=>l.getSort()==o)?o:"mixed"}getDisplaySortIndexForColumn(e){return this.getIndexedSortMap().get(e)}setupHeader(e,t,n){let r=0;e.addManagedListeners(t,{movingChanged:()=>{r=Date.now()}}),n&&e.addManagedElementListeners(n,{click:a=>{const l=t.isMoving(),f=Date.now()-r<50;l||f||this.progressSortFromEvent(t,a)}});const o=()=>{const a=t.getSort();if(e.toggleCss("ag-header-cell-sorted-asc",a==="asc"),e.toggleCss("ag-header-cell-sorted-desc",a==="desc"),e.toggleCss("ag-header-cell-sorted-none",!a),t.getColDef().showRowGroup){const f=!this.beans.showRowGroupCols?.getSourceColumnsForGroupColumn(t)?.every(m=>t.getSort()==m.getSort());e.toggleCss("ag-header-cell-sorted-mixed",f)}};e.addManagedEventListeners({sortChanged:o,columnRowGroupChanged:o})}initCol(e){const{sort:t,initialSort:n,sortIndex:r,initialSortIndex:o}=e.colDef;t!==void 0?(t==="asc"||t==="desc")&&(e.sort=t):(n==="asc"||n==="desc")&&(e.sort=n),r!==void 0?r!==null&&(e.sortIndex=r):o!==null&&(e.sortIndex=o)}updateColSort(e,t,n){t!==void 0&&(t==="desc"||t==="asc"?this.setColSort(e,t,n):this.setColSort(e,void 0,n))}setColSort(e,t,n){e.sort!==t&&(e.sort=t,e.dispatchColEvent("sortChanged",n)),e.dispatchStateUpdatedEvent("sort")}setColSortIndex(e,t){e.sortIndex=t,e.dispatchStateUpdatedEvent("sortIndex")}createSortIndicator(e){return new nO(e)}getSortIndicatorSelector(){return U0e}},wb={agSetColumnFilter:"SetFilter",agSetColumnFloatingFilter:"SetFilter",agMultiColumnFilter:"MultiFilter",agMultiColumnFloatingFilter:"MultiFilter",agGroupColumnFilter:"GroupFilter",agGroupColumnFloatingFilter:"GroupFilter",agGroupCellRenderer:"GroupCellRenderer",agGroupRowRenderer:"GroupCellRenderer",agRichSelect:"RichSelect",agRichSelectCellEditor:"RichSelect",agDetailCellRenderer:"SharedMasterDetail",agSparklineCellRenderer:"Sparklines",agDragAndDropImage:"SharedDragAndDrop",agColumnHeader:"ColumnHeaderComp",agColumnGroupHeader:"ColumnGroupHeaderComp",agSortIndicator:"Sort",agAnimateShowChangeCellRenderer:"HighlightChanges",agAnimateSlideCellRenderer:"HighlightChanges",agLoadingCellRenderer:"LoadingCellRenderer",agSkeletonCellRenderer:"SkeletonCellRenderer",agCheckboxCellRenderer:"CheckboxCellRenderer",agLoadingOverlay:"Overlay",agNoRowsOverlay:"Overlay",agTooltipComponent:"Tooltip",agReadOnlyFloatingFilter:"CustomFilter",agTextColumnFilter:"TextFilter",agNumberColumnFilter:"NumberFilter",agDateColumnFilter:"DateFilter",agDateInput:"DateFilter",agTextColumnFloatingFilter:"TextFilter",agNumberColumnFloatingFilter:"NumberFilter",agDateColumnFloatingFilter:"DateFilter",agCellEditor:"TextEditor",agSelectCellEditor:"SelectEditor",agTextCellEditor:"TextEditor",agNumberCellEditor:"NumberEditor",agDateCellEditor:"DateEditor",agDateStringCellEditor:"DateEditor",agCheckboxCellEditor:"CheckboxEditor",agLargeTextCellEditor:"LargeTextEditor",agMenuItem:"MenuItem",agColumnsToolPanel:"ColumnsToolPanel",agFiltersToolPanel:"FiltersToolPanel",agNewFiltersToolPanel:"NewFiltersToolPanel",agAggregationComponent:"StatusBar",agSelectedRowCountComponent:"StatusBar",agTotalRowCountComponent:"StatusBar",agFilteredRowCountComponent:"StatusBar",agTotalAndFilteredRowCountComponent:"StatusBar",agFindCellRenderer:"Find"};function Qz(e){return`"${e}"`}var $0e=()=>({checkboxSelection:{version:"32.2",message:"Use `rowSelection.checkboxes` in `GridOptions` instead."},headerCheckboxSelection:{version:"32.2",message:"Use `rowSelection.headerCheckbox = true` in `GridOptions` instead."},headerCheckboxSelectionFilteredOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "filtered"` in `GridOptions` instead.'},headerCheckboxSelectionCurrentPageOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "currentPage"` in `GridOptions` instead.'},showDisabledCheckboxes:{version:"32.2",message:"Use `rowSelection.hideDisabledCheckboxes = true` in `GridOptions` instead."},rowGroupingHierarchy:{version:"34.3",message:"Use `colDef.groupHierarchy` instead."}}),q0e={aggFunc:"SharedAggregation",autoHeight:"RowAutoHeight",cellClass:"CellStyle",cellClassRules:"CellStyle",cellEditor:({cellEditor:e,editable:t})=>t?typeof e=="string"?wb[e]??"CustomEditor":"CustomEditor":null,cellRenderer:({cellRenderer:e})=>typeof e!="string"?null:wb[e],cellStyle:"CellStyle",columnChooserParams:"ColumnMenu",contextMenuItems:"ContextMenu",dndSource:"DragAndDrop",dndSourceOnRowDrag:"DragAndDrop",editable:({editable:e,cellEditor:t})=>e&&!t?"TextEditor":null,enableCellChangeFlash:"HighlightChanges",enablePivot:"SharedPivot",enableRowGroup:"SharedRowGrouping",enableValue:"SharedAggregation",filter:({filter:e})=>e&&typeof e!="string"&&typeof e!="boolean"?"CustomFilter":typeof e=="string"?wb[e]??"ColumnFilter":"ColumnFilter",floatingFilter:"ColumnFilter",getQuickFilterText:"QuickFilter",headerTooltip:"Tooltip",headerTooltipValueGetter:"Tooltip",mainMenuItems:"ColumnMenu",menuTabs:e=>{const t=["columnsMenuTab","generalMenuTab"];return e.menuTabs?.some(n=>t.includes(n))?"ColumnMenu":null},pivot:"SharedPivot",pivotIndex:"SharedPivot",rowDrag:"RowDrag",rowGroup:"SharedRowGrouping",rowGroupIndex:"SharedRowGrouping",tooltipField:"Tooltip",tooltipValueGetter:"Tooltip",tooltipComponentSelector:"Tooltip",spanRows:"CellSpan",groupHierarchy:"SharedRowGrouping"},K0e=()=>({autoHeight:{supportedRowModels:["clientSide","serverSide"],validate:(t,{paginationAutoPageSize:n})=>n?"colDef.autoHeight is not supported with paginationAutoPageSize.":null},cellRendererParams:{validate:t=>(t.rowGroup!=null||t.rowGroupIndex!=null||t.cellRenderer==="agGroupCellRenderer")&&"checkbox"in t.cellRendererParams?'Since v33.0, `cellRendererParams.checkbox` has been deprecated. Use `rowSelection.checkboxLocation = "autoGroupColumn"` instead.':null},flex:{validate:(t,n)=>n.autoSizeStrategy?"colDef.flex is not supported with gridOptions.autoSizeStrategy":null},headerCheckboxSelection:{supportedRowModels:["clientSide","serverSide"],validate:(t,{rowSelection:n})=>n==="multiple"?null:"headerCheckboxSelection is only supported with rowSelection=multiple"},headerCheckboxSelectionCurrentPageOnly:{supportedRowModels:["clientSide"],validate:(t,{rowSelection:n})=>n==="multiple"?null:"headerCheckboxSelectionCurrentPageOnly is only supported with rowSelection=multiple"},headerCheckboxSelectionFilteredOnly:{supportedRowModels:["clientSide"],validate:(t,{rowSelection:n})=>n==="multiple"?null:"headerCheckboxSelectionFilteredOnly is only supported with rowSelection=multiple"},headerValueGetter:{validate:t=>{const n=t.headerValueGetter;return typeof n=="function"||typeof n=="string"?null:"headerValueGetter must be a function or a valid string expression"}},icons:{validate:({icons:t})=>{if(t){if(t.smallDown)return sc(262);if(t.smallLeft)return sc(263);if(t.smallRight)return sc(264)}return null}},sortingOrder:{validate:t=>{const n=t.sortingOrder;if(Array.isArray(n)&&n.length>0){const r=n.filter(o=>!Ky.includes(o));if(r.length>0)return`sortingOrder must be an array with elements from [${Ky.map(_S).join()}], currently it includes [${r.map(_S).join()}]`}else if(!Array.isArray(n)||n.length<=0)return`sortingOrder must be an array with at least one element, currently it's ${n}`;return null}},type:{validate:t=>{const n=t.type;return n instanceof Array?n.some(o=>typeof o!="string")?"if colDef.type is supplied an array it should be of type 'string[]'":null:typeof n=="string"?null:"colDef.type should be of type 'string' | 'string[]'"}},rowSpan:{validate:(t,{suppressRowTransform:n})=>n?null:"colDef.rowSpan requires suppressRowTransform to be enabled."},spanRows:{dependencies:{editable:{required:[!1,void 0]},rowDrag:{required:[!1,void 0]},colSpan:{required:[void 0]},rowSpan:{required:[void 0]}},validate:(t,{rowSelection:n,cellSelection:r,suppressRowTransform:o,enableCellSpan:a,rowDragEntireRow:l,enableCellTextSelection:d})=>typeof n=="object"&&n?.mode==="singleRow"&&n?.enableClickSelection?"colDef.spanRows is not supported with rowSelection.clickSelection":r?"colDef.spanRows is not supported with cellSelection.":o?"colDef.spanRows is not supported with suppressRowTransform.":a?l?"colDef.spanRows is not supported with rowDragEntireRow.":d?"colDef.spanRows is not supported with enableCellTextSelection.":null:"colDef.spanRows requires enableCellSpan to be enabled."},groupHierarchy:{validate(t,{groupHierarchyConfig:n={}},r){const o=new Set(["year","quarter","month","formattedMonth","day","hour","minute","second"]),a=[];for(const l of t.groupHierarchy??[]){if(typeof l=="object"){r.validation?.validateColDef(l);continue}!o.has(l)&&!(l in n)&&a.push(Qz(l))}if(a.length>0){const l=`The following parts of colDef.groupHierarchy are not recognised: ${a.join(", ")}.`,d=`Choose one of ${[...o].map(Qz).join(", ")}, or define your own parts in gridOptions.groupHierarchyConfig.`;return`${l}
${d}`}return null}}}),Y0e={headerName:void 0,columnGroupShow:void 0,headerStyle:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,cellDataType:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,headerTooltipValueGetter:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellAriaRole:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellEditor:void 0,cellEditorParams:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,tooltipComponentParams:void 0,refData:void 0,columnChooserParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,suppressStickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressHeaderMenuButton:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,spanRows:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,tooltipComponentSelector:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,suppressSpanHeaderHeight:void 0,useValueFormatterForExport:void 0,useValueParserForImport:void 0,mainMenuItems:void 0,contextMenuItems:void 0,suppressFloatingFilterButton:void 0,suppressHeaderFilterButton:void 0,suppressHeaderContextMenu:void 0,loadingCellRenderer:void 0,loadingCellRendererParams:void 0,loadingCellRendererSelector:void 0,context:void 0,dateComponent:void 0,dateComponentParams:void 0,getFindText:void 0,rowGroupingHierarchy:void 0,groupHierarchy:void 0},Q0e=()=>Object.keys(Y0e),Z0e=()=>({objectName:"colDef",allProperties:Q0e(),docsUrl:"column-properties/",deprecations:$0e(),validations:K0e()}),X0e=["overlayLoadingTemplate","overlayNoRowsTemplate","gridId","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","groupDisplayType","treeDataDisplayType","treeDataChildrenField","treeDataParentIdField","colResizeDefault","tooltipTrigger","serverSidePivotResultFieldSeparator","columnMenu","tooltipShowMode","invalidEditValueMode","grandTotalRow","themeCssLayer","findSearchValue","styleNonce","renderingMode"],J0e=["components","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","dragAndDropImageComponentParams","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","themeStyleContainer","statusBar","chartThemeOverrides","customChartThemes","chartToolPanelsDef","dataTypeDefinitions","advancedFilterParent","advancedFilterBuilderParams","advancedFilterParams","initialState","autoSizeStrategy","selectionColumnDef","findOptions","filterHandlers","groupHierarchyConfig"],eke=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass","paginationPageSizeSelector"],Eq=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","groupLockGroupColumns","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","pivotDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDuration","cellFadeDuration","tabIndex","pivotMaxGeneratedColumns","rowDragInsertDelay"],tke=["theme","rowSelection"],nke=["cellSelection","sideBar","rowNumbers","suppressGroupChangesColumnVisibility","groupAggFiltering","suppressStickyTotalRow","groupHideParentOfSingleChild","enableRowPinning"],Dq=["loadThemeGoogleFonts","suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellFocus","suppressHeaderFocus","suppressHorizontalScroll","groupSelectsChildren","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressColumnMoveAnimation","suppressMoveWhenColumnDragging","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","allowContextMenuWithControlKey","suppressContextMenu","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","alwaysAggregateAtRootLevel","suppressFocusAfterRefresh","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","enableCellSpan","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","includeHiddenColumnsInQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","includeHiddenColumnsInAdvancedFilter","suppressMultiRangeSelection","enterNavigatesVerticallyAfterEdit","enterNavigatesVertically","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","tooltipInteraction","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideSortAllLevels","serverSideEnableClientSideSort","serverSideOnlyRefreshFilteredGroups","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","groupMaintainOrder","columnHoverHighlight","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","suppressGroupRowsSticky","suppressCutToClipboard","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","enableAdvancedFilter","masterDetail","treeData","reactiveCustomComponents","applyQuickFilterBeforePivotOrAgg","suppressServerSideFullWidthLoadingRow","suppressAdvancedFilterEval","loading","maintainColumnOrder","enableStrictPivotColumnOrder","suppressSetFilterByDefault","enableFilterHandlers","suppressStartEditOnTab","hidePaddedHeaderRows","ssrmExpandAllAffectsAllRows"],rke=["doesExternalFilterPass","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","rowDragText","groupRowRenderer","dragAndDropImageComponent","fullWidthCellRenderer","loadingCellRenderer","loadingOverlayComponent","noRowsOverlayComponent","detailCellRenderer","quickFilterParser","quickFilterMatcher","getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getFullRowEditValidationErrors","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","isFullWidthRow","sendToClipboard","focusGridInnerElement","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processUnpinnedColumns","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","loadingCellRendererSelector","getRowId","chartMenuItems","groupTotalRow","alwaysPassFilter","isRowPinnable","isRowPinned","isRowValidDropPosition"],ike=()=>[...eke,...J0e,...X0e,...Eq,...rke,...Dq,...nke,...tke],oke=()=>({suppressLoadingOverlay:{version:"32",message:"Use `loading`=false instead."},enableFillHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeSelection:{version:"32.2",message:"Use `cellSelection = true` instead."},suppressMultiRangeSelection:{version:"32.2",message:"Use `cellSelection.suppressMultiRanges` instead."},suppressClearOnFillReduction:{version:"32.2",message:"Use `cellSelection.handle.suppressClearOnFillReduction` instead."},fillHandleDirection:{version:"32.2",message:"Use `cellSelection.handle.direction` instead."},fillOperation:{version:"32.2",message:"Use `cellSelection.handle.setFillValue` instead."},suppressRowClickSelection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},suppressRowDeselection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},rowMultiSelectWithClick:{version:"32.2",message:"Use `rowSelection.enableSelectionWithoutKeys` instead."},groupSelectsChildren:{version:"32.2",message:'Use `rowSelection.groupSelects = "descendants"` instead.'},groupSelectsFiltered:{version:"32.2",message:'Use `rowSelection.groupSelects = "filteredDescendants"` instead.'},isRowSelectable:{version:"32.2",message:"Use `selectionOptions.isRowSelectable` instead."},suppressCopySingleCellRanges:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},suppressCopyRowsToClipboard:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},onRangeSelectionChanged:{version:"32.2",message:"Use `onCellSelectionChanged` instead."},onRangeDeleteStart:{version:"32.2",message:"Use `onCellSelectionDeleteStart` instead."},onRangeDeleteEnd:{version:"32.2",message:"Use `onCellSelectionDeleteEnd` instead."},suppressBrowserResizeObserver:{version:"32.2",message:"The grid always uses the browser's ResizeObserver, this grid option has no effect."},onColumnEverythingChanged:{version:"32.2",message:"Either use `onDisplayedColumnsChanged` which is fired at the same time, or use one of the more specific column events."},groupRemoveSingleChildren:{version:"33",message:"Use `groupHideParentOfSingleChild` instead."},groupRemoveLowestSingleChildren:{version:"33",message:'Use `groupHideParentOfSingleChild: "leafGroupsOnly"` instead.'},suppressRowGroupHidesColumns:{version:"33",message:'Use `suppressGroupChangesColumnVisibility: "suppressHideOnGroup"` instead.'},suppressMakeColumnVisibleAfterUnGroup:{version:"33",message:'Use `suppressGroupChangesColumnVisibility: "suppressShowOnUngroup"` instead.'},unSortIcon:{version:"33",message:"Use `defaultColDef.unSortIcon` instead."},sortingOrder:{version:"33",message:"Use `defaultColDef.sortingOrder` instead."},suppressPropertyNamesCheck:{version:"33",message:"`gridOptions` and `columnDefs` both have a `context` property that should be used for arbitrary user data. This means that column definitions and gridOptions should only contain valid properties making this property redundant."},suppressAdvancedFilterEval:{version:"34",message:"Advanced filter no longer uses function evaluation, so this option has no effect."}});function Ul(e,t,n){return typeof t=="number"||t==null?t==null||t>=n?null:`${e}: value should be greater than or equal to ${n}`:`${e}: value should be a number`}var ske={alignedGrids:"AlignedGrids",allowContextMenuWithControlKey:"ContextMenu",autoSizeStrategy:"ColumnAutoSize",cellSelection:"CellSelection",columnHoverHighlight:"ColumnHover",datasource:"InfiniteRowModel",doesExternalFilterPass:"ExternalFilter",editType:"EditCore",invalidEditValueMode:"EditCore",enableAdvancedFilter:"AdvancedFilter",enableCellSpan:"CellSpan",enableCharts:"IntegratedCharts",enableRangeSelection:"CellSelection",enableRowPinning:"PinnedRow",findSearchValue:"Find",getFullRowEditValidationErrors:"EditCore",getContextMenuItems:"ContextMenu",getLocaleText:"Locale",getMainMenuItems:"ColumnMenu",getRowClass:"RowStyle",getRowStyle:"RowStyle",groupTotalRow:"SharedRowGrouping",grandTotalRow:"ClientSideRowModelHierarchy",initialState:"GridState",isExternalFilterPresent:"ExternalFilter",isRowPinnable:"PinnedRow",isRowPinned:"PinnedRow",localeText:"Locale",masterDetail:"SharedMasterDetail",pagination:"Pagination",pinnedBottomRowData:"PinnedRow",pinnedTopRowData:"PinnedRow",pivotMode:"SharedPivot",pivotPanelShow:"RowGroupingPanel",quickFilterText:"QuickFilter",rowClass:"RowStyle",rowClassRules:"RowStyle",rowData:"ClientSideRowModel",rowDragManaged:"RowDrag",rowGroupPanelShow:"RowGroupingPanel",rowNumbers:"RowNumbers",rowSelection:"SharedRowSelection",rowStyle:"RowStyle",serverSideDatasource:"ServerSideRowModel",sideBar:"SideBar",statusBar:"StatusBar",treeData:"SharedTreeData",undoRedoCellEditing:"UndoRedoEdit",valueCache:"ValueCache",viewportDatasource:"ViewportRowModel"},ake=()=>{const e={autoSizePadding:{validate({autoSizePadding:n}){return Ul("autoSizePadding",n,0)}},cacheBlockSize:{supportedRowModels:["serverSide","infinite"],validate({cacheBlockSize:n}){return Ul("cacheBlockSize",n,1)}},cacheOverflowSize:{validate({cacheOverflowSize:n}){return Ul("cacheOverflowSize",n,1)}},datasource:{supportedRowModels:["infinite"]},domLayout:{validate:n=>{const r=n.domLayout,o=["autoHeight","normal","print"];return r&&!o.includes(r)?`domLayout must be one of [${o.join()}], currently it's ${r}`:null}},enableFillHandle:{dependencies:{enableRangeSelection:{required:[!0]}}},enableRangeHandle:{dependencies:{enableRangeSelection:{required:[!0]}}},enableRangeSelection:{dependencies:{rowDragEntireRow:{required:[!1,void 0]}}},enableRowPinning:{supportedRowModels:["clientSide"],validate({enableRowPinning:n,pinnedTopRowData:r,pinnedBottomRowData:o}){return n&&(r||o)?"Manual row pinning cannot be used together with pinned row data. Either set `enableRowPinning` to `false`, or remove `pinnedTopRowData` and `pinnedBottomRowData`.":null}},isRowPinnable:{supportedRowModels:["clientSide"],validate({enableRowPinning:n,isRowPinnable:r,pinnedTopRowData:o,pinnedBottomRowData:a}){return r&&(o||a)?"Manual row pinning cannot be used together with pinned row data. Either remove `isRowPinnable`, or remove `pinnedTopRowData` and `pinnedBottomRowData`.":!n&&r?"`isRowPinnable` requires `enableRowPinning` to be set.":null}},isRowPinned:{supportedRowModels:["clientSide"],validate({enableRowPinning:n,isRowPinned:r,pinnedTopRowData:o,pinnedBottomRowData:a}){return r&&(o||a)?"Manual row pinning cannot be used together with pinned row data. Either remove `isRowPinned`, or remove `pinnedTopRowData` and `pinnedBottomRowData`.":!n&&r?"`isRowPinned` requires `enableRowPinning` to be set.":null}},groupDefaultExpanded:{supportedRowModels:["clientSide"]},groupHideOpenParents:{supportedRowModels:["clientSide","serverSide"],dependencies:{groupTotalRow:{required:[void 0,"bottom"]},treeData:{required:[void 0,!1],reason:"Tree Data has values at the group level so it doesn't make sense to hide them."}}},groupHideParentOfSingleChild:{dependencies:{groupHideOpenParents:{required:[void 0,!1]}}},groupRemoveLowestSingleChildren:{dependencies:{groupHideOpenParents:{required:[void 0,!1]},groupRemoveSingleChildren:{required:[void 0,!1]}}},groupRemoveSingleChildren:{dependencies:{groupHideOpenParents:{required:[void 0,!1]},groupRemoveLowestSingleChildren:{required:[void 0,!1]}}},groupSelectsChildren:{dependencies:{rowSelection:{required:["multiple"]}}},groupHierarchyConfig:{validate({groupHierarchyConfig:n={}},r,o){for(const a of Object.keys(n))o.validation?.validateColDef(n[a]);return null}},icons:{validate:({icons:n})=>{if(n){if(n.smallDown)return sc(262);if(n.smallLeft)return sc(263);if(n.smallRight)return sc(264)}return null}},infiniteInitialRowCount:{validate({infiniteInitialRowCount:n}){return Ul("infiniteInitialRowCount",n,1)}},initialGroupOrderComparator:{supportedRowModels:["clientSide"]},ssrmExpandAllAffectsAllRows:{validate:n=>{if(typeof n.ssrmExpandAllAffectsAllRows=="boolean"){if(n.rowModelType!=="serverSide")return"'ssrmExpandAllAffectsAllRows' is only supported with the Server Side Row Model.";if(n.ssrmExpandAllAffectsAllRows&&typeof n.getRowId!="function")return"'getRowId' callback must be provided for Server Side Row Model grouping to work correctly."}return null}},keepDetailRowsCount:{validate({keepDetailRowsCount:n}){return Ul("keepDetailRowsCount",n,1)}},paginationPageSize:{validate({paginationPageSize:n}){return Ul("paginationPageSize",n,1)}},paginationPageSizeSelector:{validate:n=>{const r=n.paginationPageSizeSelector;return typeof r=="boolean"||r==null||r.length?null:`'paginationPageSizeSelector' cannot be an empty array.
                    If you want to hide the page size selector, set paginationPageSizeSelector to false.`}},pivotMode:{dependencies:{treeData:{required:[!1,void 0],reason:"Pivot Mode is not supported with Tree Data."}}},quickFilterText:{supportedRowModels:["clientSide"]},rowBuffer:{validate({rowBuffer:n}){return Ul("rowBuffer",n,0)}},rowClass:{validate:n=>typeof n.rowClass=="function"?"rowClass should not be a function, please use getRowClass instead":null},rowData:{supportedRowModels:["clientSide"]},rowDragManaged:{supportedRowModels:["clientSide"],dependencies:{pagination:{required:[!1,void 0]}}},rowSelection:{validate({rowSelection:n}){return n&&typeof n=="string"?'As of version 32.2.1, using `rowSelection` with the values "single" or "multiple" has been deprecated. Use the object value instead.':n&&typeof n!="object"?"Expected `RowSelectionOptions` object for the `rowSelection` property.":n&&n.mode!=="multiRow"&&n.mode!=="singleRow"?`Selection mode "${n.mode}" is invalid. Use one of 'singleRow' or 'multiRow'.`:null}},rowStyle:{validate:n=>{const r=n.rowStyle;return r&&typeof r=="function"?"rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead":null}},serverSideDatasource:{supportedRowModels:["serverSide"]},serverSideInitialRowCount:{supportedRowModels:["serverSide"],validate({serverSideInitialRowCount:n}){return Ul("serverSideInitialRowCount",n,1)}},serverSideOnlyRefreshFilteredGroups:{supportedRowModels:["serverSide"]},serverSideSortAllLevels:{supportedRowModels:["serverSide"]},sortingOrder:{validate:n=>{const r=n.sortingOrder;if(Array.isArray(r)&&r.length>0){const o=r.filter(a=>!Ky.includes(a));if(o.length>0)return`sortingOrder must be an array with elements from [${Ky.map(_S).join()}], currently it includes [${o.map(_S).join()}]`}else if(!Array.isArray(r)||r.length<=0)return`sortingOrder must be an array with at least one element, currently it's ${r}`;return null}},tooltipHideDelay:{validate:n=>n.tooltipHideDelay&&n.tooltipHideDelay<0?"tooltipHideDelay should not be lower than 0":null},tooltipShowDelay:{validate:n=>n.tooltipShowDelay&&n.tooltipShowDelay<0?"tooltipShowDelay should not be lower than 0":null},treeData:{supportedRowModels:["clientSide","serverSide"],validate:n=>{const r=n.rowModelType??"clientSide";switch(r){case"clientSide":{const{treeDataChildrenField:o,treeDataParentIdField:a,getDataPath:l,getRowId:d}=n;if(!o&&!a&&!l)return"treeData requires either 'treeDataChildrenField' or 'treeDataParentIdField' or 'getDataPath' in the clientSide row model.";if(o){if(l)return"Cannot use both 'treeDataChildrenField' and 'getDataPath' at the same time.";if(a)return"Cannot use both 'treeDataChildrenField' and 'treeDataParentIdField' at the same time."}if(a){if(!d)return"getRowId callback not provided, tree data with parent id cannot be built.";if(l)return"Cannot use both 'treeDataParentIdField' and 'getDataPath' at the same time."}return null}case"serverSide":{const o=`treeData requires 'isServerSideGroup' and 'getServerSideGroupKey' in the ${r} row model.`;return n.isServerSideGroup&&n.getServerSideGroupKey?null:o}}return null}},viewportDatasource:{supportedRowModels:["viewport"]},viewportRowModelBufferSize:{validate({viewportRowModelBufferSize:n}){return Ul("viewportRowModelBufferSize",n,0)}},viewportRowModelPageSize:{validate({viewportRowModelPageSize:n}){return Ul("viewportRowModelPageSize",n,1)}},rowDragEntireRow:{dependencies:{cellSelection:{required:[void 0]}}},autoGroupColumnDef:{validate({autoGroupColumnDef:n,showOpenedGroup:r}){return n?.field&&r?"autoGroupColumnDef.field and showOpenedGroup are not supported when used together.":n?.valueGetter&&r?"autoGroupColumnDef.valueGetter and showOpenedGroup are not supported when used together.":null}},renderingMode:{validate:n=>{const r=n.renderingMode,o=["default","legacy"];return r&&!o.includes(r)?`renderingMode must be one of [${o.join()}], currently it's ${r}`:null}},autoSizeStrategy:{validate:({autoSizeStrategy:n})=>{if(!n)return null;const r=["fitCellContents","fitGridWidth","fitProvidedWidth"],o=n.type;return o!=="fitCellContents"&&o!=="fitGridWidth"&&o!=="fitProvidedWidth"?`Invalid Auto-size strategy. \`autoSizeStrategy\` must be one of ${r.map(a=>'"'+a+'"').join(", ")}, currently it's ${o}`:o==="fitProvidedWidth"&&typeof n.width!="number"?`When using the 'fitProvidedWidth' auto-size strategy, must provide a numeric \`width\`. You provided ${n.width}`:null}}},t={};for(const n of Dq)t[n]={expectedType:"boolean"};for(const n of Eq)t[n]={expectedType:"number"};return Co(t,e),t},lke=()=>({objectName:"gridOptions",allProperties:[...ike(),...Object.values(tO)],propertyExceptions:["api"],docsUrl:"grid-options/",deprecations:oke(),validations:ake()}),cke=0,dke=0,Zz="__ag_grid_instance",uke=class extends Pe{constructor(){super(...arguments),this.beanName="gos",this.domDataKey="__AG_"+Math.random().toString(),this.instanceId=dke++,this.gridReadyFired=!1,this.queueEvents=[],this.propEventSvc=new Up,this.globalEventHandlerFactory=e=>(t,n)=>{if(!this.isAlive())return;const r=eS.has(t);if(r&&!e||!r&&e||!hke(t))return;const o=(a,l)=>{const d=tO[a],f=this.gridOptions[d];typeof f=="function"&&this.beans.frameworkOverrides.wrapOutgoing(()=>f(l))};if(this.gridReadyFired)o(t,n);else if(t==="gridReady"){o(t,n),this.gridReadyFired=!0;for(const a of this.queueEvents)o(a.eventName,a.event);this.queueEvents=[]}else this.queueEvents.push({eventName:t,event:n})}}wireBeans(e){this.gridOptions=e.gridOptions,this.validation=e.validation,this.api=e.gridApi,this.gridId=e.context.getId()}get gridOptionsContext(){return this.gridOptions.context}postConstruct(){this.validateGridOptions(this.gridOptions),this.eventSvc.addGlobalListener(this.globalEventHandlerFactory().bind(this),!0),this.eventSvc.addGlobalListener(this.globalEventHandlerFactory(!0).bind(this),!1),this.propEventSvc.setFrameworkOverrides(this.beans.frameworkOverrides),this.addManagedEventListeners({gridOptionsChanged:({options:e})=>{this.updateGridOptions({options:e,force:!0,source:"optionsUpdated"})}})}destroy(){super.destroy(),this.queueEvents=[]}get(e){return this.gridOptions[e]??yW[e]}getCallback(e){return this.mergeGridCommonParams(this.gridOptions[e])}exists(e){return Ye(this.gridOptions[e])}mergeGridCommonParams(e){return e&&(n=>e(this.addCommon(n)))}updateGridOptions({options:e,force:t,source:n="api"}){const r={id:cke++,properties:[]},o=[],{gridOptions:a,validation:l}=this;for(const d of Object.keys(e)){const f=TN.applyGlobalGridOption(d,e[d]);l?.warnOnInitialPropertyUpdate(n,d);const m=t||typeof f=="object"&&n==="api",v=a[d];if(m||v!==f){a[d]=f;const C={type:d,currentValue:f,previousValue:v,changeSet:r,source:n};o.push(C)}}this.validateGridOptions(this.gridOptions),r.properties=o.map(d=>d.type);for(const d of o)Nh(this,`Updated property ${d.type} from`,d.previousValue," to ",d.currentValue),this.propEventSvc.dispatchEvent(d)}addPropertyEventListener(e,t){this.propEventSvc.addEventListener(e,t)}removePropertyEventListener(e,t){this.propEventSvc.removeEventListener(e,t)}getDomDataKey(){return this.domDataKey}addCommon(e){return e.api=this.api,e.context=this.gridOptionsContext,e}validateOptions(e,t){for(const n of Object.keys(e)){const r=e[n];if(r==null||r===!1)continue;let o=t[n];typeof o=="function"&&(o=o(e,this.gridOptions,this.beans)),o&&this.assertModuleRegistered(o,n)}}validateGridOptions(e){this.validateOptions(e,ske),this.validation?.processGridOptions(e)}validateColDef(e,t,n){(n||!this.beans.dataTypeSvc?.isColPendingInference(t))&&(this.validateOptions(e,q0e),this.validation?.validateColDef(e))}assertModuleRegistered(e,t){const n=Array.isArray(e)?e.some(r=>this.isModuleRegistered(r)):this.isModuleRegistered(e);return n||Cn(200,{...this.getModuleErrorParams(),moduleName:e,reasonOrId:t}),n}getModuleErrorParams(){return{gridId:this.gridId,gridScoped:RN(),rowModelType:this.get("rowModelType"),isUmd:xpe()}}isModuleRegistered(e){return kP(e,this.gridId,this.get("rowModelType"))}setInstanceDomData(e){e[Zz]=this.instanceId}isElementInThisInstance(e){let t=e;for(;t;){const n=t[Zz];if(Ye(n))return n===this.instanceId;t=t.parentElement}return!1}};function hke(e){return!!tO[e]}function Mq(e){const t={"aria-hidden":"true"};return{tag:"div",cls:"ag-cell-label-container",role:"presentation",children:[{tag:"span",ref:"eMenu",cls:"ag-header-icon ag-header-cell-menu-button",attrs:t},{tag:"span",ref:"eFilterButton",cls:"ag-header-icon ag-header-cell-filter-button",attrs:t},{tag:"div",ref:"eLabel",cls:"ag-header-cell-label",role:"presentation",children:[{tag:"span",ref:"eText",cls:"ag-header-cell-text"},{tag:"span",ref:"eFilter",cls:"ag-header-icon ag-header-label-icon ag-filter-icon",attrs:t},e?{tag:"ag-sort-indicator",ref:"eSortIndicator"}:null]}]}}var fke=Mq(!0),pke=Mq(!1),gke=class extends nn{constructor(){super(...arguments),this.eFilter=qe,this.eFilterButton=qe,this.eSortIndicator=qe,this.eMenu=qe,this.eLabel=qe,this.eText=qe,this.eSortOrder=qe,this.eSortAsc=qe,this.eSortDesc=qe,this.eSortMixed=qe,this.eSortNone=qe,this.isLoadingInnerComponent=!1}refresh(e){const t=this.params;if(this.params=e,this.workOutTemplate(e,!!this.beans?.sortSvc)!=this.currentTemplate||this.workOutShowMenu()!=this.currentShowMenu||e.enableSorting!=this.currentSort||this.currentSuppressMenuHide!=null&&this.shouldSuppressMenuHide()!=this.currentSuppressMenuHide||t.enableFilterButton!=e.enableFilterButton||t.enableFilterIcon!=e.enableFilterIcon)return!1;if(this.innerHeaderComponent){const n={...e};Co(n,e.innerHeaderComponentParams),this.innerHeaderComponent.refresh?.(n)}else this.setDisplayName(e);return!0}workOutTemplate(e,t){const n=e.template;return n?n?.trim?n.trim():n:t?fke:pke}init(e){this.params=e;const{sortSvc:t,touchSvc:n,rowNumbersSvc:r,userCompFactory:o}=this.beans,a=t?.getSortIndicatorSelector();this.currentTemplate=this.workOutTemplate(e,!!a),this.setTemplate(this.currentTemplate,a?[a]:void 0),n?.setupForHeader(this),this.setMenu(),this.setupSort(),r?.setupForHeader(this),this.setupFilterIcon(),this.setupFilterButton(),this.workOutInnerHeaderComponent(o,e),this.setDisplayName(e)}workOutInnerHeaderComponent(e,t){const n=Vge(e,t,t);n&&(this.isLoadingInnerComponent=!0,n.newAgStackInstance().then(r=>{this.isLoadingInnerComponent=!1,r&&(this.isAlive()?(this.innerHeaderComponent=r,this.eText&&this.eText.appendChild(r.getGui())):this.destroyBean(r))}))}setDisplayName(e){const{displayName:t}=e,n=this.currentDisplayName;this.currentDisplayName=t,!(!this.eText||n===t||this.innerHeaderComponent||this.isLoadingInnerComponent)&&(this.eText.textContent=ng(t))}addInIcon(e,t,n){const r=Cs(e,this.beans,n);r&&t.appendChild(r)}workOutShowMenu(){return this.params.enableMenu&&!!this.beans.menuSvc?.isHeaderMenuButtonEnabled()}shouldSuppressMenuHide(){return!!this.beans.menuSvc?.isHeaderMenuButtonAlwaysShowEnabled()}setMenu(){if(!this.eMenu)return;if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu){oa(this.eMenu),this.eMenu=void 0;return}const{gos:e,eMenu:t,params:n}=this,r=ws(e);this.addInIcon(r?"menu":"menuAlt",t,n.column),t.classList.toggle("ag-header-menu-icon",!r);const o=this.shouldSuppressMenuHide();this.currentSuppressMenuHide=o,this.addManagedElementListeners(t,{click:()=>this.showColumnMenu(this.eMenu)}),this.toggleMenuAlwaysShow(o)}toggleMenuAlwaysShow(e){this.eMenu?.classList.toggle("ag-header-menu-always-show",e)}showColumnMenu(e){const{currentSuppressMenuHide:t,params:n}=this;t||this.toggleMenuAlwaysShow(!0),n.showColumnMenu(e,()=>{t||this.toggleMenuAlwaysShow(!1)})}onMenuKeyboardShortcut(e){const{params:t,gos:n,beans:r,eMenu:o,eFilterButton:a}=this,l=t.column,d=ws(n);if(e&&!d){if(r.menuSvc?.isFilterMenuInHeaderEnabled(l))return t.showFilter(a??o??this.getGui()),!0}else if(t.enableMenu)return this.showColumnMenu(o??a??this.getGui()),!0;return!1}setupSort(){const{sortSvc:e}=this.beans;if(!e)return;const{enableSorting:t,column:n}=this.params;if(this.currentSort=t,!this.eSortIndicator){this.eSortIndicator=this.createBean(e.createSortIndicator(!0));const{eSortIndicator:r,eSortOrder:o,eSortAsc:a,eSortDesc:l,eSortMixed:d,eSortNone:f}=this;r.attachCustomElements(o,a,l,d,f)}this.eSortIndicator.setupSort(n),this.currentSort&&e.setupHeader(this,n,this.eLabel)}setupFilterIcon(){const{eFilter:e,params:t}=this;if(!e)return;const n=()=>{const r=t.column.isFilterActive();Ln(e,r,{skipAriaHidden:!0})};this.configureFilter(t.enableFilterIcon,e,n,"filterActive")}setupFilterButton(){const{eFilterButton:e,params:t}=this;if(!e)return;this.configureFilter(t.enableFilterButton,e,this.onFilterChangedButton.bind(this),"filter")?this.addManagedElementListeners(e,{click:()=>t.showFilter(e)}):this.eFilterButton=void 0}configureFilter(e,t,n,r){if(!e)return oa(t),!1;const o=this.params.column;return this.addInIcon(r,t,o),this.addManagedListeners(o,{filterChanged:n}),n(),!0}onFilterChangedButton(){const e=this.params.column.isFilterActive();this.eFilterButton.classList.toggle("ag-filter-active",e)}getAnchorElementForMenu(e){const{eFilterButton:t,eMenu:n}=this;return e?t??n??this.getGui():n??t??this.getGui()}destroy(){super.destroy(),this.innerHeaderComponent&&(this.destroyBean(this.innerHeaderComponent),this.innerHeaderComponent=void 0)}},mke={tag:"div",cls:"ag-header-group-cell-label",role:"presentation",children:[{tag:"span",ref:"agLabel",cls:"ag-header-group-text",role:"presentation"},{tag:"span",ref:"agOpened",cls:"ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"},{tag:"span",ref:"agClosed",cls:"ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"}]},bke=class extends nn{constructor(){super(mke),this.agOpened=qe,this.agClosed=qe,this.agLabel=qe,this.isLoadingInnerComponent=!1}init(e){const{userCompFactory:t,touchSvc:n}=this.beans;this.params=e,this.checkWarnings(),this.workOutInnerHeaderGroupComponent(t,e),this.setupLabel(e),this.addGroupExpandIcon(e),this.setupExpandIcons(),n?.setupForHeaderGroup(this)}checkWarnings(){this.params.template&&ze(89)}workOutInnerHeaderGroupComponent(e,t){const n=Uge(e,t,t);n&&(this.isLoadingInnerComponent=!0,n.newAgStackInstance().then(r=>{this.isLoadingInnerComponent=!1,r&&(this.isAlive()?(this.innerHeaderGroupComponent=r,this.agLabel.appendChild(r.getGui())):this.destroyBean(r))}))}setupExpandIcons(){const{agOpened:e,agClosed:t,params:{columnGroup:n},beans:r}=this;this.addInIcon("columnGroupOpened",e),this.addInIcon("columnGroupClosed",t);const o=f=>{if(Qa(f))return;const m=!n.isExpanded();r.colGroupSvc.setColumnGroupOpened(n.getProvidedColumnGroup(),m,"uiColumnExpanded")};this.addTouchAndClickListeners(r,t,o),this.addTouchAndClickListeners(r,e,o);const a=f=>{Lh(f)};this.addManagedElementListeners(t,{dblclick:a}),this.addManagedElementListeners(e,{dblclick:a}),this.addManagedElementListeners(this.getGui(),{dblclick:o}),this.updateIconVisibility();const l=n.getProvidedColumnGroup(),d=this.updateIconVisibility.bind(this);this.addManagedListeners(l,{expandedChanged:d,expandableChanged:d})}addTouchAndClickListeners(e,t,n){e.touchSvc?.setupForHeaderGroupElement(this,t,n),this.addManagedElementListeners(t,{click:n})}updateIconVisibility(){const{agOpened:e,agClosed:t,params:{columnGroup:n}}=this;if(n.isExpandable()){const r=n.isExpanded();Ln(e,r),Ln(t,!r)}else Ln(e,!1),Ln(t,!1)}addInIcon(e,t){const n=Cs(e,this.beans,null);n&&t.appendChild(n)}addGroupExpandIcon(e){if(!e.columnGroup.isExpandable()){const{agOpened:t,agClosed:n}=this;Ln(t,!1),Ln(n,!1)}}setupLabel(e){const{displayName:t,columnGroup:n}=e,r=this.innerHeaderGroupComponent||this.isLoadingInnerComponent;Ye(t)&&!r&&(this.agLabel.textContent=ng(t)),this.toggleCss("ag-sticky-label",!n.getColGroupDef()?.suppressStickyLabel)}destroy(){super.destroy(),this.innerHeaderGroupComponent&&(this.destroyBean(this.innerHeaderGroupComponent),this.innerHeaderGroupComponent=void 0)}},vke={moduleName:"ColumnHeaderComp",version:Qe,userComponents:{agColumnHeader:gke},icons:{menu:"menu",menuAlt:"menu-alt"}},wke={moduleName:"ColumnGroupHeaderComp",version:Qe,userComponents:{agColumnGroupHeader:bke},icons:{columnGroupOpened:"expanded",columnGroupClosed:"contracted"}},Cke=class extends Pe{constructor(){super(...arguments),this.beanName="animationFrameSvc",this.p1={list:[],sorted:!1},this.p2={list:[],sorted:!1},this.f1={list:[],sorted:!1},this.destroyTasks=[],this.ticking=!1,this.scrollGoingDown=!0,this.lastScrollTop=0,this.taskCount=0}setScrollTop(e){this.scrollGoingDown=e>=this.lastScrollTop,e===0&&(this.scrollGoingDown=!0),this.lastScrollTop=e}postConstruct(){this.active=!this.gos.get("suppressAnimationFrame"),this.batchFrameworkComps=this.beans.frameworkOverrides.batchFrameworkComps}verify(){this.active===!1&&ze(92)}createTask(e,t,n,r,o=!1){this.verify();let a=n;r&&this.batchFrameworkComps&&(a="f1");const l={task:e,index:t,createOrder:++this.taskCount,deferred:o};this.addTaskToList(this[a],l),this.schedule()}addTaskToList(e,t){e.list.push(t),e.sorted=!1}sortTaskList(e){if(e.sorted)return;const t=this.scrollGoingDown?1:-1;e.list.sort((n,r)=>n.deferred!==r.deferred?n.deferred?-1:1:n.index!==r.index?t*(r.index-n.index):r.createOrder-n.createOrder),e.sorted=!0}addDestroyTask(e){this.verify(),this.destroyTasks.push(e),this.schedule()}executeFrame(e){const{p1:t,p2:n,f1:r,destroyTasks:o,beans:a}=this,{ctrlsSvc:l,frameworkOverrides:d}=a,f=t.list,m=n.list,v=r.list,C=Date.now();let y=0;const S=e<=0,E=l.getScrollFeature();for(;S||y<e;){if(!E.scrollGridIfNeeded()){let P;if(f.length)this.sortTaskList(t),P=f.pop().task;else if(m.length)this.sortTaskList(n),P=m.pop().task;else if(v.length)d.wrapOutgoing(()=>{for(;(S||y<e)&&!E.scrollGridIfNeeded();){if(v.length)this.sortTaskList(r),P=v.pop().task,P();else break;y=Date.now()-C}}),P=()=>{};else if(o.length)P=o.pop();else break;P()}y=Date.now()-C}f.length||m.length||v.length||o.length?this.requestFrame():this.ticking=!1}flushAllFrames(){this.active&&this.executeFrame(-1)}schedule(){this.active&&(this.ticking||(this.ticking=!0,this.requestFrame()))}requestFrame(){const e=this.executeFrame.bind(this,60);Zd(this.beans,e)}isQueueEmpty(){return!this.ticking}},yke={moduleName:"AnimationFrame",version:Qe,beans:[Cke]},kke=class extends Pe{constructor(){super(...arguments),this.beanName="iconSvc"}createIconNoSpan(e,t){return Cs(e,this.beans,t?.column)}},xke=class extends Pe{constructor(){super(...arguments),this.beanName="touchSvc"}mockBodyContextMenu(e,t){this.mockContextMenu(e,e.eBodyViewport,t)}mockHeaderContextMenu(e,t){this.mockContextMenu(e,e.eGui,t)}mockRowContextMenu(e){if(!Ip())return;const t=(n,r,o)=>{const{rowCtrl:a,cellCtrl:l}=e.getControlsForEventTarget(o?.target??null);l?.column&&l.dispatchCellContextMenuEvent(o??null),this.beans.contextMenuSvc?.handleContextMenuMouseEvent(void 0,o,a,l)};this.mockContextMenu(e,e.element,t)}handleCellDoubleClick(e,t){return(()=>{if(!Ip()||mW("dblclick"))return!1;const r=Date.now(),o=r-e.lastIPadMouseClickEvent<200;return e.lastIPadMouseClickEvent=r,o})()?(e.onCellDoubleClicked(t),t.preventDefault(),!0):!1}setupForHeader(e){const{gos:t,sortSvc:n,menuSvc:r}=this.beans;if(t.get("suppressTouch"))return;const{params:o,eMenu:a,eFilterButton:l}=e,d=new fp(e.getGui(),!0);e.addDestroyFunc(()=>d.destroy());const f=e.shouldSuppressMenuHide(),m=f&&Ye(a)&&o.enableMenu;let v=d;if(m&&(v=new fp(a,!0),e.addDestroyFunc(()=>v.destroy())),o.enableMenu||r?.isHeaderContextMenuEnabled(o.column)){const C=m?"tap":"longTap",y=S=>o.showColumnMenuAfterMouseClick(S.touchStart);e.addManagedListeners(v,{[C]:y}),e.addManagedListeners(d,{longTap:y})}if(o.enableSorting){const C=y=>{const S=y.touchStart.target;f&&(a?.contains(S)||l?.contains(S))||n?.progressSort(o.column,!1,"uiColumnSorted")};e.addManagedListeners(d,{tap:C})}if(o.enableFilterButton&&l){const C=new fp(l,!0);e.addManagedListeners(C,{tap:()=>o.showFilter(l)}),e.addDestroyFunc(()=>C.destroy())}}setupForHeaderGroup(e){const t=e.params;if(this.beans.menuSvc?.isHeaderContextMenuEnabled(t.columnGroup.getProvidedColumnGroup())){const n=new fp(t.eGridHeader,!0),r=o=>t.showColumnMenuAfterMouseClick(o.touchStart);e.addManagedListeners(n,{longTap:r}),e.addDestroyFunc(()=>n.destroy())}}setupForHeaderGroupElement(e,t,n){const r=new fp(t,!0);e.addManagedListeners(r,{tap:n}),e.addDestroyFunc(()=>r.destroy())}mockContextMenu(e,t,n){if(!Ip())return;const r=new fp(t),o=a=>{zy(this.beans,a.touchEvent)&&n(void 0,a.touchStart,a.touchEvent)};e.addManagedListeners(r,{longTap:o}),e.addDestroyFunc(()=>r.destroy())}},Ake={moduleName:"Touch",version:Qe,beans:[xke]},Ske=class extends Pe{constructor(){super(...arguments),this.beanName="cellNavigation"}wireBeans(e){this.rowSpanSvc=e.rowSpanSvc}getNextCellToFocus(e,t,n=!1){return n?this.getNextCellToFocusWithCtrlPressed(e,t):this.getNextCellToFocusWithoutCtrlPressed(e,t)}getNextCellToFocusWithCtrlPressed(e,t){const n=e===xe.UP,r=e===xe.DOWN,o=e===xe.LEFT;let a,l;const{pageBounds:d,gos:f,visibleCols:m,pinnedRowModel:v}=this.beans,{rowPinned:C}=t;if(n||r)C&&v?n?l=0:l=C==="top"?v.getPinnedTopRowCount()-1:v.getPinnedBottomRowCount()-1:l=n?d.getFirstRow():d.getLastRow(),a=t.column;else{const y=f.get("enableRtl");l=t.rowIndex,a=(o!==y?m.allCols:[...m.allCols].reverse()).find(E=>this.isCellGoodToFocusOn({rowIndex:l,rowPinned:null,column:E}))}return a?{rowIndex:l,rowPinned:C,column:a}:null}getNextCellToFocusWithoutCtrlPressed(e,t){let n=t,r=!1;for(;!r;){switch(e){case xe.UP:n=this.getCellAbove(n);break;case xe.DOWN:n=this.getCellBelow(n);break;case xe.RIGHT:n=this.gos.get("enableRtl")?this.getCellToLeft(n):this.getCellToRight(n);break;case xe.LEFT:n=this.gos.get("enableRtl")?this.getCellToRight(n):this.getCellToLeft(n);break;default:n=null,ze(8,{key:e});break}n?r=this.isCellGoodToFocusOn(n):r=!0}return n}isCellGoodToFocusOn(e){const t=e.column;let n;const{pinnedRowModel:r,rowModel:o}=this.beans;switch(e.rowPinned){case"top":n=r?.getPinnedTopRow(e.rowIndex);break;case"bottom":n=r?.getPinnedBottomRow(e.rowIndex);break;default:n=o.getRow(e.rowIndex);break}return n?!this.isSuppressNavigable(t,n):!1}getCellToLeft(e){if(!e)return null;const t=this.beans.visibleCols.getColBefore(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getCellToRight(e){if(!e)return null;const t=this.beans.visibleCols.getColAfter(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getCellBelow(e){if(!e)return null;const t=this.rowSpanSvc?.getCellEnd(e)??e,n=Lz(this.beans,t,!0);return n?{rowIndex:n.rowIndex,column:e.column,rowPinned:n.rowPinned}:null}getCellAbove(e){if(!e)return null;const t=this.rowSpanSvc?.getCellStart(e)??e,n=BS(this.beans,{rowIndex:t.rowIndex,rowPinned:t.rowPinned},!0);return n?{rowIndex:n.rowIndex,column:e.column,rowPinned:n.rowPinned}:null}getNextTabbedCell(e,t){return t?this.getNextTabbedCellBackwards(e):this.getNextTabbedCellForwards(e)}getNextTabbedCellForwards(e){const{visibleCols:t,pagination:n}=this.beans,r=t.allCols;let o=e.rowIndex,a=e.rowPinned,l=t.getColAfter(e.column);if(!l){l=r[0];const d=Lz(this.beans,e,!0);if(zn(d)||!d.rowPinned&&!(n?.isRowInPage(d.rowIndex)??!0))return null;o=d?d.rowIndex:null,a=d?d.rowPinned:null}return{rowIndex:o,column:l,rowPinned:a}}getNextTabbedCellBackwards(e){const{beans:t}=this,{visibleCols:n,pagination:r}=t,o=n.allCols;let a=e.rowIndex,l=e.rowPinned,d=n.getColBefore(e.column);if(!d){d=Tn(o);const f=BS(t,{rowIndex:e.rowIndex,rowPinned:e.rowPinned},!0);if(zn(f)||!f.rowPinned&&!(r?.isRowInPage(f.rowIndex)??!0))return null;a=f?f.rowIndex:null,l=f?f.rowPinned:null}return{rowIndex:a,column:d,rowPinned:l}}isSuppressNavigable(e,t){const{suppressNavigable:n}=e.colDef;if(typeof n=="boolean")return n;if(typeof n=="function"){const r=e.createColumnFunctionCallbackParams(t);return n(r)}return!1}};function _ke(e){return e.focusSvc.getFocusedCell()}function Eke(e){return e.focusSvc.clearFocusedCell()}function Dke(e,t,n,r){e.focusSvc.setFocusedCell({rowIndex:t,column:n,rowPinned:r,forceBrowserFocus:!0})}function Mke(e,t){return e.navigation?.tabToNextCell(!1,t)??!1}function Tke(e,t){return e.navigation?.tabToNextCell(!0,t)??!1}function Rke(e,t,n=!1){const r=e.headerNavigation?.getHeaderPositionForColumn(t,n);r&&e.focusSvc.focusHeaderPosition({headerPosition:r})}var Pke=class extends Pe{constructor(){super(...arguments),this.beanName="editModelSvc",this.edits=new Map,this.cellValidations=new Tq,this.rowValidations=new Rq,this.suspendEdits=!1}suspend(e){this.suspendEdits=e}removeEdits({rowNode:e,column:t}){if(!this.hasEdits({rowNode:e})||!e)return;const n=this.getEditRow(e);t?n.delete(t):n.clear(),n.size===0&&this.edits.delete(e)}getEditRow(e,t={}){if(this.suspendEdits||this.edits.size===0)return;const n=e&&this.edits.get(e);if(n)return n;if(t.checkSiblings){const r=e.pinnedSibling;if(r)return this.getEditRow(r)}}getEditRowDataValue(e,{checkSiblings:t}={}){if(!e||this.edits.size===0)return;const n=this.getEditRow(e),r=e.pinnedSibling,o=t&&r&&this.getEditRow(r);if(!n&&!o)return;const a=Object.assign({},e.data),l=(d,f)=>d.forEach(({pendingValue:m},v)=>{m!==la&&(f[v.getColId()]=m)});return n&&l(n,a),o&&l(o,a),a}getEdit(e,t){const n=this._getEdit(e);return t&&n?{...n}:n}_getEdit(e){if(!this.suspendEdits&&this.edits.size!==0)return e.rowNode&&e.column&&this.getEditRow(e.rowNode)?.get(e.column)}getEditMap(e=!0){if(this.suspendEdits||this.edits.size===0)return new Map;if(!e)return this.edits;const t=new Map;return this.edits.forEach((n,r)=>{const o=new Map;n.forEach(({editorState:a,...l},d)=>o.set(d,{...l})),t.set(r,o)}),t}setEditMap(e){this.edits.clear(),e.forEach((t,n)=>{const r=new Map;t.forEach((o,a)=>r.set(a,{...o})),this.edits.set(n,r)})}setEdit(e,t){(this.edits.size===0||!this.edits.has(e.rowNode))&&this.edits.set(e.rowNode,new Map);const n=this._getEdit(e),r=Object.assign({editorState:{isCancelAfterEnd:void 0,isCancelBeforeStart:void 0},...n,...t});return this.getEditRow(e.rowNode).set(e.column,r),r}clearEditValue(e){const{rowNode:t,column:n}=e;if(t)if(n){const r=this._getEdit(e);r&&(r.editorValue=void 0,r.pendingValue=r.sourceValue,r.state="changed")}else this.getEditRow(t)?.forEach(r=>{r.editorValue=void 0,r.pendingValue=r.sourceValue,r.state="changed"})}getState(e){if(!this.suspendEdits)return this.getEdit(e)?.state}getEditPositions(e){if(this.suspendEdits||(e??this.edits).size===0)return[];const t=[];return(e??this.edits).forEach((n,r)=>{for(const o of n.keys()){const{editorState:a,...l}=n.get(o);t.push({rowNode:r,column:o,...l})}}),t}hasRowEdits(e,t){return this.suspendEdits||this.edits.size===0?!1:!!this.getEditRow(e,t)}hasEdits(e={},t={}){if(this.suspendEdits||this.edits.size===0)return!1;const{rowNode:n,column:r}=e,{withOpenEditor:o}=t;if(n){const a=this.getEditRow(n,t);return a?r?o?this.getEdit(e)?.state==="editing":a.has(r)??!1:a.size!==0?o?Array.from(a.values()).some(({state:l})=>l==="editing"):!0:!1:!1}return o?this.getEditPositions().some(({state:a})=>a==="editing"):this.edits.size>0}start(e){const t=this.getEditRow(e.rowNode)??new Map,{rowNode:n,column:r}=e;r&&!t.has(r)&&t.set(r,{editorValue:void 0,pendingValue:la,sourceValue:this.beans.valueSvc.getValue(r,n,!1,"api"),state:"editing",editorState:{isCancelAfterEnd:void 0,isCancelBeforeStart:void 0}}),this.edits.set(n,t)}stop(e){this.hasEdits(e)&&(e?this.removeEdits(e):this.clear())}clear(){for(const e of this.edits.values())e.clear();this.edits.clear()}getCellValidationModel(){return this.cellValidations}getRowValidationModel(){return this.rowValidations}setCellValidationModel(e){this.cellValidations=e}setRowValidationModel(e){this.rowValidations=e}destroy(){super.destroy(),this.clear()}},Tq=class{constructor(){this.cellValidations=new Map}getCellValidation(e){const{rowNode:t,column:n}=e||{};return this.cellValidations?.get(t)?.get(n)}hasCellValidation(e){return!e?.rowNode||!e.column?this.cellValidations.size>0:!!this.getCellValidation(e)}setCellValidation(e,t){const{rowNode:n,column:r}=e;this.cellValidations.has(n)||this.cellValidations.set(n,new Map),this.cellValidations.get(n).set(r,t)}clearCellValidation(e){const{rowNode:t,column:n}=e;this.cellValidations.get(t)?.delete(n)}setCellValidationMap(e){this.cellValidations=e}getCellValidationMap(){return this.cellValidations}clearCellValidationMap(){this.cellValidations.clear()}},Rq=class{constructor(){this.rowValidations=new Map}getRowValidation(e){const{rowNode:t}=e||{};return this.rowValidations.get(t)}hasRowValidation(e){return e?.rowNode?!!this.getRowValidation(e):this.rowValidations.size>0}setRowValidation({rowNode:e},t){this.rowValidations.set(e,t)}clearRowValidation({rowNode:e}){this.rowValidations.delete(e)}setRowValidationMap(e){this.rowValidations=e}getRowValidationMap(){return this.rowValidations}clearRowValidationMap(){this.rowValidations.clear()}};function rO(e,t={}){const{rowIndex:n,rowId:r,rowCtrl:o,rowPinned:a}=t;if(o)return o;const{rowModel:l,rowRenderer:d}=e;let{rowNode:f}=t;return f||(r?f=Xwe(e,r,a):n!=null&&(f=l.getRow(n))),d.getRowCtrls(f?[f]:[])?.[0]}function er(e,t={}){const{cellCtrl:n,colId:r,columnId:o,column:a}=t;if(n)return n;const l=e.colModel.getCol(r??o??$P(a)),d=t.rowCtrl??rO(e,t),f=d?.getCellCtrl(l)??void 0;if(f)return f;const m=t.rowNode??d?.rowNode;if(m)return e.rowRenderer.getCellCtrls([m],[l])?.[0]}function Xz(e){const{editSvc:t}=e;t?.isBatchEditing()?Cb(e):t?.stopEditing(void 0,{source:"api"})}function Ike(e,t,n){const{gos:r,popupSvc:o}=t;if(!r.get("stopEditingWhenCellsLoseFocus"))return;const a=l=>{const d=l.relatedTarget;if(TP(d)===null){Xz(t);return}let f=n.some(m=>m.contains(d))&&r.isElementInThisInstance(d);f||(f=!!o&&(o.getActivePopups().some(m=>m.contains(d))||o.isElementWithinCustomPopup(d))),f||Xz(t)};for(const l of n)e.addManagedElementListeners(l,{focusout:a})}function $P(e){if(e)return typeof e=="string"?e:e.getColId()}var la=Symbol("unedited");function Pq(e,t={}){const n=[],r=e.rowRenderer.getCellCtrls(t.rowNodes,t.columns);for(const o of r){const a=o.comp?.getCellEditor();a&&n.push({ctrl:o,editor:Wy(a)})}return n}var Nke=(e,t={})=>Pq(e,t).map(n=>n.editor);function Oke(e,t,n,r,o,a){t.length===0&&n?.rowNode&&n?.column&&Pb(e,n,{key:r,event:o,cellStartedEdit:a});const{valueSvc:l,editSvc:d,editModelSvc:f}=e,{rowNode:m,column:v}=n??{};for(const C of t){const{rowNode:y,column:S}=C,E=er(e,C);if(!E){if(y&&S){const P=l.getValue(S,y,void 0,"api"),L=(n?.rowNode===y&&n?.column===S&&r||void 0)??d?.getCellDataValue(C,!1)??l.getValueForDisplay(S,y)?.value??P??la;f?.setEdit(C,{pendingValue:L,sourceValue:P,state:"editing"})}continue}const T=a&&m===E.rowNode&&E.column===v;Pb(e,{rowNode:m,column:E.column},{key:T?r:null,event:T?o:null,cellStartedEdit:T&&a})}}function vd({pendingValue:e,sourceValue:t}){return e===la&&(e=t),e!==t}function Pb(e,t,n){const r=e.gos.get("enableGroupEdit"),{key:o,event:a,cellStartedEdit:l,silent:d}=n??{},f=er(e,t),m=f?.comp?.getCellEditor(),v=Nq(e,t,o,l&&!d),C=e.editModelSvc?.getEdit(t);let y=v.value;if(y===void 0&&(y=C?.sourceValue),e.editModelSvc?.setEdit(t,{editorValue:y,state:"editing"}),m){m.refresh?.(v);return}const S=t.column.getColDef(),E=JW(e.userCompFactory,S,v),T=E?.popupFromSelector!=null?E.popupFromSelector:!!S.cellEditorPopup,P=E?.popupPositionFromSelector!=null?E.popupPositionFromSelector:S.cellEditorPopupPosition;if(Oq(E.params,a),f){f.editCompDetails=E,f.onEditorAttachedFuncs.push(()=>f.rangeFeature?.unsetComp()),f.comp?.setEditDetails(E,T,P,e.gos.get("reactiveCustomComponents")),f?.rowCtrl?.refreshRow({suppressFlash:!0});const N=e.editModelSvc?.getEdit(t,!0);!d&&!N?.editorState?.cellStartedEditing&&(e.editSvc?.dispatchCellEvent(t,a,"cellEditingStarted",r?{value:y}:{}),e.editModelSvc?.setEdit(t,{editorState:{cellStartedEditing:!0}}))}}function Iq(e,t,n){const r={editorValueExists:!1};if(iO(e)&&(t.getValidationErrors?.()?.length??0)>0||n?.isCancelling)return r;if(n?.isStopping){const a=t?.isCancelAfterEnd?.();if(a)return{...r,isCancelAfterEnd:a}}return{editorValue:t.getValue(),editorValueExists:!0}}function Nq(e,t,n,r){const{valueSvc:o,gos:a,editSvc:l}=e,d=e.gos.get("enableGroupEdit"),f=er(e,t),m=t.rowNode?.rowIndex??void 0,v=l?.isBatchEditing(),C=e.colModel.getCol(t.column.getId()),{rowNode:y,column:S}=t,E=f.comp?.getCellEditor(),T=l?.getCellDataValue(t,!1),P=T===void 0?E?Iq(e,E)?.editorValue:void 0:T,N=P===la?o.getValueForDisplay(C,y)?.value:P;return ht(a,{value:d?P:N,eventKey:n??null,column:S,colDef:S.getColDef(),rowIndex:m,node:y,data:y.data,cellStartedEdit:r??!1,onKeyDown:f?.onKeyDown.bind(f),stopEditing:j=>{l.stopEditing(t,{source:v?"ui":"api",suppressNavigateAfterEdit:j}),jS(e,t)},eGridCell:f?.eGui,parseValue:j=>o.parseValue(C,y,j,f?.value),formatValue:f?.formatValue.bind(f),validate:()=>{l?.validateEdit()}})}function qP(e,t){const{editModelSvc:n}=e;n?.getEditMap().forEach((r,o)=>{r.forEach((a,l)=>{!t&&(a.state==="editing"||a.pendingValue===la)||!vd(a)&&(a.state!=="editing"||t)&&n?.removeEdits({rowNode:o,column:l})})})}function Fke(e,t){const n=t.comp?.getCellEditor();if(!n?.refresh)return;const{eventKey:r,cellStartedEdit:o}=t.editCompDetails.params,{column:a}=t,l=Nq(e,t,r,o),d=a.getColDef(),f=JW(e.userCompFactory,d,l);n.refresh(Oq(f.params,r))}function Oq(e,t){return t instanceof KeyboardEvent&&e.column.getColDef().cellEditor==="agNumberCellEditor"?e.suppressPreventDefault=["-","+",".","e"].includes(t?.key??"")||e.suppressPreventDefault:t?.preventDefault?.(),e}function kp(e,t){for(const n of e.editModelSvc?.getEditPositions()??[]){const r=er(e,n);if(!r)continue;const o=r.comp?.getCellEditor();if(!o)continue;const{editorValue:a,editorValueExists:l,isCancelAfterEnd:d}=Iq(e,o,t);d&&e.editModelSvc?.setEdit(n,{editorState:{isCancelAfterEnd:d}}),tS(e,n,a,void 0,!l,t)}}function tS(e,t,n,r,o,a){const{editModelSvc:l,valueSvc:d}=e;if(!l)return;const{rowNode:f,column:m}=t;if(!(f&&m))return;let v=l.getEdit(t,!0);v?.sourceValue||(v=l.setEdit(t,{sourceValue:d.getValue(m,f,void 0,"api"),pendingValue:v?v.editorValue:la})),l.setEdit(t,{editorValue:o?v.sourceValue:n}),a?.persist&&Lke(e,t)}function Lke(e,t){const{editModelSvc:n}=e,r=n?.getEdit(t,!0);n?.setEdit(t,{pendingValue:r?.editorValue})}function Cb(e,t,n){t||(t=e.editModelSvc?.getEditPositions());for(const r of t??[])jS(e,r,n)}function jS(e,t,n){const r=e.gos.get("enableGroupEdit"),{editModelSvc:o}=e,a=er(e,t),l=o?.getEdit(t,!0);if(!a){l&&o?.setEdit(t,{state:"changed"});return}const{comp:d}=a;if(d&&!d.getCellEditor()){if(a?.refreshCell(),l){o?.setEdit(t,{state:"changed"});const m=r?Jz(n,l):{valueChanged:!1,newValue:void 0,oldValue:l.sourceValue};e8(e,t,m,n)}return}if(iO(e)){const m=d?.getCellEditor()?.getValidationErrors?.(),v=o?.getCellValidationModel();m?.length?v?.setCellValidation(t,{errorMessages:m}):v?.clearCellValidation(t)}o?.setEdit(t,{state:"changed"}),d?.setEditDetails(),d?.refreshEditStyles(!1,!1),a?.refreshCell({force:!0,suppressFlash:!0});const f=o?.getEdit(t);if(f&&f.state==="changed"){const m=r?Jz(n,f):{valueChanged:vd(f)&&!n?.cancel,newValue:n?.cancel||f.editorState.isCancelAfterEnd?void 0:f?.editorValue??l?.pendingValue,oldValue:f?.sourceValue};e8(e,t,m,n)}}function Jz(e,t){return e?.cancel?{valueChanged:!1,oldValue:t.sourceValue,newValue:void 0,value:t.sourceValue}:{valueChanged:!1,oldValue:t.sourceValue,newValue:t.pendingValue,value:t.sourceValue}}function e8(e,t,n,{silent:r,event:o}={}){const{editSvc:a,editModelSvc:l}=e,d=l?.getEdit(t),{editorState:f}=d||{},{isCancelBeforeStart:m}=f||{};!r&&!m&&(a?.dispatchCellEvent(t,o,"cellEditingStopped",n),l?.setEdit(t,{editorState:{cellStoppedEditing:!0}}))}function iO(e){const{gos:t,colModel:n}=e,r=!!t.get("getFullRowEditValidationErrors"),o=n.getColumnDefs()?.filter(l=>l.editable).some(({cellEditorParams:l})=>{const{minLength:d,maxLength:f,getValidationErrors:m,min:v,max:C}=l||{};return d!==void 0||f!==void 0||m!==void 0||v!==void 0||C!==void 0}),a=e.gridApi.getCellEditorInstances().some(l=>l.getValidationElement||l.getValidationErrors);return o||r||a}function $p(e,t){if(!(t||iO(e)))return;const n=Pq(e),r=new Tq,{ariaAnnounce:o,localeSvc:a,editModelSvc:l,gos:d}=e,f=d.get("editType")==="fullRow",v=vW(a)("ariaValidationErrorPrefix","Cell Editor Validation");for(const y of n){const{ctrl:S,editor:E}=y,{rowNode:T,column:P}=S,N=E.getValidationErrors?.()??[],j=E.getValidationElement?.(!1)||!E.isPopup?.()&&S.eGui;if(j){const L=N!=null&&N.length>0,V=L?N.join(". "):"";zfe(j,L),L&&o.announceValue(`${v} ${N}`,"editorValidation"),j instanceof HTMLInputElement?j.setCustomValidity(V):j.classList.toggle("invalid",L)}N?.length>0&&r.setCellValidation({rowNode:T,column:P},{errorMessages:N})}kp(e,{persist:!1}),l?.setCellValidationModel(r);const C=new Set;for(const{ctrl:y}of n)C.add(y.rowCtrl);if(f){const y=Bke(e);l?.setRowValidationModel(y)}for(const y of C.values()){y.rowEditStyleFeature?.applyRowStyles();for(const S of y.getAllCellCtrls())S.tooltipFeature?.refreshTooltip(!0),S.editorTooltipFeature?.refreshTooltip(!0),S.editStyleFeature?.applyCellStyles?.()}}var Bke=e=>{const t=new Rq,n=e.gos.get("getFullRowEditValidationErrors"),r=e.editModelSvc?.getEditMap();if(!r)return t;for(const o of r.keys()){const a=r.get(o);if(!a)continue;const l=[],{rowIndex:d,rowPinned:f}=o;for(const v of a.keys()){const C=a.get(v);if(!C)continue;const{editorValue:y,pendingValue:S,sourceValue:E}=C,T=y??(S===la?void 0:S)??E;l.push({column:v,colId:v.getColId(),rowIndex:d,rowPinned:f,oldValue:E,newValue:T})}const m=n?.({editorsState:l})??[];m.length>0&&t.setRowValidation({rowNode:o},{errorMessages:m})}return t};function jke(e){$p(e,!0);const t=e.editModelSvc?.getCellValidationModel().getCellValidationMap();if(!t)return null;const n=[];return t.forEach((r,o)=>{r.forEach(({errorMessages:a},l)=>{n.push({column:l,rowIndex:o.rowIndex,rowPinned:o.rowPinned,messages:a??null})})}),n}function zke(e,t,n,{rowNode:r,column:o},a){return ht(e.gos,{type:n,node:r,data:r.data,value:a,column:o,colDef:o.getColDef(),rowPinned:r.rowPinned,event:t,rowIndex:r.rowIndex})}function Hke(e,t=!1){return e===xe.DELETE?!0:!t&&e===xe.BACKSPACE?n$():!1}var Vke=class extends Pe{constructor(e,t,n,r){super(),this.cellCtrl=e,this.rowNode=n,this.rowCtrl=r,this.beans=t}init(){this.eGui=this.cellCtrl.eGui}onKeyDown(e){const t=e.key;switch(t){case xe.ENTER:this.onEnterKeyDown(e);break;case xe.F2:this.onF2KeyDown(e);break;case xe.ESCAPE:this.onEscapeKeyDown(e);break;case xe.TAB:this.onTabKeyDown(e);break;case xe.BACKSPACE:case xe.DELETE:this.onBackspaceOrDeleteKeyDown(t,e);break;case xe.DOWN:case xe.UP:case xe.RIGHT:case xe.LEFT:this.onNavigationKeyDown(e,t);break}}onNavigationKeyDown(e,t){const{cellCtrl:n,beans:r}=this;if(!r.editSvc?.isEditing(n,{withOpenEditor:!0})){if(e.shiftKey&&n.isRangeSelectionEnabled())this.onShiftRangeSelect(e);else{const o=n.getFocusedCellPosition();r.navigation?.navigateToNextCell(e,t,o,!0)}e.preventDefault()}}onShiftRangeSelect(e){const{rangeSvc:t,navigation:n}=this.beans;if(!t)return;const r=t.extendLatestRangeInDirection(e);r&&(e.key===xe.LEFT||e.key===xe.RIGHT?n?.ensureColumnVisible(r.column):n?.ensureRowVisible(r.rowIndex))}onTabKeyDown(e){this.beans.navigation?.onTabKeyDown(this.cellCtrl,e)}onBackspaceOrDeleteKeyDown(e,t){const{cellCtrl:n,beans:r,rowNode:o}=this,{gos:a,rangeSvc:l,eventSvc:d,editSvc:f}=r;if(d.dispatchEvent({type:"keyShortcutChangedCellStart"}),Hke(e,a.get("enableCellEditingOnBackspace"))&&!f?.isEditing(n,{withOpenEditor:!0})){if(l&&Ld(a))l.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:"deleteKey"});else if(n.isCellEditable()){const{column:m}=n,v=this.beans.valueSvc.getDeleteValue(m,o);o.setDataValue(m,v,"cellClear")}}else f?.isEditing(n,{withOpenEditor:!0})||r.editSvc?.startEditing(n,{startedEdit:!0,event:t});d.dispatchEvent({type:"keyShortcutChangedCellEnd"})}onEnterKeyDown(e){const{cellCtrl:t,beans:n}=this,{editSvc:r,navigation:o}=n,a=r?.isEditing(t,{withOpenEditor:!0}),l=t.rowNode,d=r?.isRowEditing(l,{withOpenEditor:!0}),f=m=>{r?.startEditing(m,{startedEdit:!0,event:e,source:"edit"})&&e.preventDefault()};if(a||d){if(this.isCtrlEnter(e)){r?.applyBulkEdit(t,n?.rangeSvc?.getCellRanges()||[]);return}if($p(n),r?.checkNavWithValidation(void 0,e)==="block-stop")return;r?.isEditing(t,{withOpenEditor:!0})?r?.stopEditing(t,{event:e,source:"edit"}):d&&!t.isCellEditable()?r?.stopEditing({rowNode:l},{event:e,source:"edit"}):f(t)}else if(n.gos.get("enterNavigatesVertically")){const m=e.shiftKey?xe.UP:xe.DOWN;o?.navigateToNextCell(null,m,t.cellPosition,!1)}else{if(r?.hasValidationErrors())return;r?.hasValidationErrors(t)&&r.revertSingleCellEdit(t,!0),f(t)}}isCtrlEnter(e){return(e.ctrlKey||e.metaKey)&&e.key===xe.ENTER}onF2KeyDown(e){const{cellCtrl:t,beans:{editSvc:n}}=this;n?.isEditing()&&($p(this.beans),n?.checkNavWithValidation(void 0,e)==="block-stop")||n?.startEditing(t,{startedEdit:!0,event:e})}onEscapeKeyDown(e){const{cellCtrl:t,beans:{editSvc:n}}=this;n?.checkNavWithValidation(t,e)==="block-stop"&&n.revertSingleCellEdit(t),n?.stopEditing(t,{event:e,cancel:!0})}processCharacter(e){const n=e.target!==this.eGui,{beans:{editSvc:r},cellCtrl:o}=this;if(n||r?.isEditing(o,{withOpenEditor:!0}))return;if(e.key===xe.SPACE)this.onSpaceKeyDown(e);else if(r?.isCellEditable(o,"ui")){if(r?.hasValidationErrors()&&!r?.hasValidationErrors(o))return;r?.startEditing(o,{startedEdit:!0,event:e,source:"api"}),!o.editCompDetails?.params?.suppressPreventDefault&&e.preventDefault()}}onSpaceKeyDown(e){const{gos:t,editSvc:n}=this.beans,{rowNode:r}=this.cellCtrl;!n?.isEditing(this.cellCtrl,{withOpenEditor:!0})&&Th(t)&&this.beans.selectionSvc?.handleSelectionEvent(e,r,"spaceKey"),e.preventDefault()}},Gke=class extends Pe{constructor(e,t,n){super(),this.cellCtrl=e,this.column=n,this.beans=t}onMouseEvent(e,t){if(!Qa(t))switch(e){case"click":this.onCellClicked(t);break;case"mousedown":case"touchstart":this.onMouseDown(t);break;case"dblclick":this.onCellDoubleClicked(t);break;case"mouseout":this.onMouseOut(t);break;case"mouseover":this.onMouseOver(t);break}}onCellClicked(e){if(this.beans.touchSvc?.handleCellDoubleClick(this,e))return;const{eventSvc:t,rangeSvc:n,editSvc:r,editModelSvc:o,frameworkOverrides:a,gos:l}=this.beans,d=e.ctrlKey||e.metaKey,{cellCtrl:f}=this,{column:m,cellPosition:v,rowNode:C}=f,y=Z1(l,m,C,e);n&&d&&!y&&n.getCellRangeCount(v)>1&&n.intersectLastRange(!0);const S=f.createEvent(e,"cellClicked");S.isEventHandlingSuppressed=y,t.dispatchEvent(S);const E=m.getColDef();if(E.onCellClicked&&window.setTimeout(()=>{a.wrapOutgoing(()=>{E.onCellClicked(S)})},0),!y&&o?.getState(f)!=="editing"){const T=r?.isEditing(),P=o?.getCellValidationModel().getCellValidationMap().size??0,N=o?.getRowValidationModel().getRowValidationMap().size??0;if(T&&(P>0||N>0))return;r?.shouldStartEditing(f,e)?r?.startEditing(f,{event:e}):r?.shouldStopEditing(f,e)&&(this.beans.gos.get("editType")==="fullRow"?r?.stopEditing(f,{event:e,source:"edit"}):r?.stopEditing(void 0,{event:e,source:"edit"}))}}onCellDoubleClicked(e){const{column:t,beans:n,cellCtrl:r}=this,{eventSvc:o,frameworkOverrides:a,editSvc:l,editModelSvc:d,gos:f}=n,m=Z1(f,r.column,r.rowNode,e),v=t.getColDef(),C=r.createEvent(e,"cellDoubleClicked");if(C.isEventHandlingSuppressed=m,o.dispatchEvent(C),typeof v.onCellDoubleClicked=="function"&&window.setTimeout(()=>{a.wrapOutgoing(()=>{v.onCellDoubleClicked(C)})},0),!m&&l?.shouldStartEditing(r,e)&&d?.getState(r)!=="editing"){const y=l?.isEditing(),S=d?.getCellValidationModel().getCellValidationMap().size??0,E=d?.getRowValidationModel().getRowValidationMap().size??0;if(y&&(S>0||E>0))return;l?.startEditing(r,{event:e})}}onMouseDown(e){const{ctrlKey:t,metaKey:n,shiftKey:r}=e,o=e.target,{cellCtrl:a,beans:l}=this,{eventSvc:d,rangeSvc:f,rowNumbersSvc:m,focusSvc:v,gos:C,editSvc:y}=l,{column:S,rowNode:E,cellPosition:T}=a,P=Z1(C,S,E,e),N=()=>{const U=a.createEvent(e,"cellMouseDown");U.isEventHandlingSuppressed=P,d.dispatchEvent(U)};if(P){N();return}if(this.isRightClickInExistingRange(e))return;const j=f&&!f.isEmpty(),L=this.containsWidget(o),V=Ad(S);if(m&&V&&!m.handleMouseDownOnCell(T,e)){f&&e.preventDefault(),e.stopImmediatePropagation();return}if(!r||!j){const U=y?.isEditing(a),z=C.get("enableCellTextSelection")&&e.defaultPrevented,K=(Wh()||z)&&!U&&!ky(o)&&!L;a.focusCell(K,e)}if(r&&j&&!v.isCellFocused(T)){e.preventDefault();const U=v.getFocusedCell();if(U){const{column:$,rowIndex:z,rowPinned:K}=U;y?.isEditing(U)&&y?.stopEditing(U),v.setFocusedCell({column:$,rowIndex:z,rowPinned:K,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,sourceEvent:e})}}if(!L){if(f){V&&e.preventDefault();const U=sz(l,e)&&V;if(r)f.extendLatestRangeToCell(T);else if(!U){const $=t||n;f.setRangeToCell(T,$)}}N()}}isRightClickInExistingRange(e){const{rangeSvc:t}=this.beans;if(t){const n=t.isCellInAnyRange(this.cellCtrl.cellPosition),r=sz(this.beans,e);if(n&&r)return!0}return!1}containsWidget(e){return Mp(e,"ag-selection-checkbox",3)||Mp(e,"ag-drag-handle",3)}onMouseOut(e){if(this.mouseStayingInsideCell(e))return;const{eventSvc:t,colHover:n}=this.beans;t.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOut")),n?.clearMouseOver()}onMouseOver(e){if(this.mouseStayingInsideCell(e))return;const{eventSvc:t,colHover:n}=this.beans;t.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOver")),n?.setMouseOver([this.column])}mouseStayingInsideCell(e){if(!e.target||!e.relatedTarget)return!1;const t=this.cellCtrl.eGui,n=t.contains(e.target),r=t.contains(e.relatedTarget);return n&&r}},Uke=class extends Pe{constructor(e,t){super(),this.cellCtrl=e,this.beans=t,this.column=e.column,this.rowNode=e.rowNode}setupRowSpan(){this.rowSpan=this.column.getRowSpan(this.rowNode),this.addManagedListeners(this.beans.eventSvc,{newColumnsLoaded:()=>this.onNewColumnsLoaded()})}init(){this.eSetLeft=this.cellCtrl.getRootElement(),this.eContent=this.cellCtrl.eGui;const e=this.cellCtrl.getCellSpan();if(e||(this.setupColSpan(),this.setupRowSpan()),this.onLeftChanged(),this.onWidthChanged(),e||this._legacyApplyRowSpan(),e){const t=this.refreshSpanHeight.bind(this,e);t(),this.addManagedListeners(this.beans.eventSvc,{paginationChanged:t,recalculateRowBounds:t,pinnedHeightChanged:t})}}refreshSpanHeight(e){const t=e.getCellHeight();t!=null&&(this.eContent.style.height=`${t}px`)}onNewColumnsLoaded(){const e=this.column.getRowSpan(this.rowNode);this.rowSpan!==e&&(this.rowSpan=e,this._legacyApplyRowSpan(!0))}onDisplayColumnsChanged(){const e=this.getColSpanningList();Uh(this.colsSpanning,e)||(this.colsSpanning=e,this.onWidthChanged(),this.onLeftChanged())}setupColSpan(){this.column.getColDef().colSpan!=null&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListeners(this.beans.eventSvc,{displayedColumnsChanged:this.onDisplayColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onWidthChanged.bind(this)}))}onWidthChanged(){if(!this.eContent)return;const e=this.getCellWidth();this.eContent.style.width=`${e}px`}getCellWidth(){return this.colsSpanning?this.colsSpanning.reduce((e,t)=>e+t.getActualWidth(),0):this.column.getActualWidth()}getColSpanningList(){const{column:e,rowNode:t}=this,n=e.getColSpan(t),r=[];if(n===1)r.push(e);else{let o=e;const a=e.getPinned();for(let l=0;o&&l<n&&(r.push(o),o=this.beans.visibleCols.getColAfter(o),!(!o||zn(o)||a!==o.getPinned()));l++);}return r}onLeftChanged(){if(!this.eSetLeft)return;const e=this.modifyLeftForPrintLayout(this.getCellLeft());this.eSetLeft.style.left=e+"px"}getCellLeft(){let e;return this.beans.gos.get("enableRtl")&&this.colsSpanning?e=Tn(this.colsSpanning):e=this.column,e.getLeft()}modifyLeftForPrintLayout(e){if(!this.cellCtrl.printLayout||this.column.getPinned()==="left")return e;const{visibleCols:t}=this.beans,n=t.getColsLeftWidth();if(this.column.getPinned()==="right"){const r=t.bodyWidth;return n+r+(e||0)}return n+(e||0)}_legacyApplyRowSpan(e){if(this.rowSpan===1&&!e)return;const n=Rp(this.beans)*this.rowSpan;this.eContent.style.height=`${n}px`,this.eContent.style.zIndex="1"}destroy(){super.destroy()}},Wke="ag-cell",$ke="ag-cell-auto-height",qke="ag-cell-normal-height",Kke="ag-cell-focus",Yke="ag-cell-first-right-pinned",Qke="ag-cell-last-left-pinned",Zke="ag-cell-not-inline-editing",Xke="ag-cell-wrap-text",Jke=0,yb=class extends Pe{constructor(e,t,n,r){super(),this.column=e,this.rowNode=t,this.rowCtrl=r,this.rangeFeature=void 0,this.rowResizeFeature=void 0,this.positionFeature=void 0,this.customStyleFeature=void 0,this.editStyleFeature=void 0,this.mouseListener=void 0,this.keyboardListener=void 0,this.suppressRefreshCell=!1,this.onCompAttachedFuncs=[],this.onEditorAttachedFuncs=[],this.focusEventWhileNotReady=null,this.hasBeenFocused=!1,this.hasEdit=!1,this.tooltipFeature=void 0,this.editorTooltipFeature=void 0,this.beans=n,this.gos=n.gos,this.editSvc=n.editSvc,this.hasEdit=!!n.editSvc;const{colId:o}=e;this.instanceId=o+"-"+Jke++,this.createCellPosition(),this.updateAndFormatValue(!1)}addFeatures(){const{beans:e}=this;this.positionFeature=new Uke(this,e),this.customStyleFeature=e.cellStyles?.createCellCustomStyleFeature(this,e),this.editStyleFeature=e.editSvc?.createCellStyleFeature(this,e),this.mouseListener=new Gke(this,e,this.column),this.keyboardListener=new Vke(this,e,this.rowNode,this.rowCtrl),this.enableTooltipFeature();const{rangeSvc:t}=e;t&&Ld(e.gos)&&(this.rangeFeature=t.createCellRangeFeature(e,this)),Ad(this.column)&&(this.rowResizeFeature=this.beans.rowNumbersSvc.createRowNumbersRowResizerFeature(e,this))}isCellSpanning(){return!1}getCellSpan(){}removeFeatures(){const e=this.beans.context;this.positionFeature=e.destroyBean(this.positionFeature),this.editorTooltipFeature=e.destroyBean(this.editorTooltipFeature),this.customStyleFeature=e.destroyBean(this.customStyleFeature),this.editStyleFeature=e.destroyBean(this.editStyleFeature),this.mouseListener=e.destroyBean(this.mouseListener),this.keyboardListener=e.destroyBean(this.keyboardListener),this.rangeFeature=e.destroyBean(this.rangeFeature),this.rowResizeFeature=e.destroyBean(this.rowResizeFeature),this.disableTooltipFeature()}enableTooltipFeature(e,t){this.tooltipFeature=this.beans.tooltipSvc?.enableCellTooltipFeature(this,e,t)}disableTooltipFeature(){this.tooltipFeature=this.beans.context.destroyBean(this.tooltipFeature)}enableEditorTooltipFeature(e){this.editorTooltipFeature&&this.disableEditorTooltipFeature(),this.editorTooltipFeature=this.beans.tooltipSvc?.setupCellEditorTooltip(this,e),$p(this.beans)}disableEditorTooltipFeature(){this.editorTooltipFeature=this.beans.context.destroyBean(this.editorTooltipFeature)}setComp(e,t,n,r,o,a,l){if(this.comp=e,this.eGui=t,this.printLayout=o,l??(l=this),this.addDomData(l),this.addFeatures(),l.addDestroyFunc(()=>this.removeFeatures()),this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.setupFocus(),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAutoHeight(r,l),this.refreshFirstAndLastStyles(),this.refreshAriaColIndex(),this.positionFeature?.init(),this.customStyleFeature?.setComp(e),this.editStyleFeature?.setComp(e),this.tooltipFeature?.refreshTooltip(),this.keyboardListener?.init(),this.rangeFeature?.setComp(e),this.rowResizeFeature?.refreshRowResizer(),a&&this.isCellEditable()||this.hasEdit&&this.editSvc?.isEditing(this,{withOpenEditor:!0})?this.editSvc?.startEditing(this,{startedEdit:!1,source:"api",silent:!0,continueEditing:!0}):this.showValue(!1,!0),this.onCompAttachedFuncs.length){for(const d of this.onCompAttachedFuncs)d();this.onCompAttachedFuncs=[]}}setupAutoHeight(e,t){this.isAutoHeight=this.beans.rowAutoHeight?.setupCellAutoHeight(this,e,t)??!1}getCellAriaRole(){return this.column.getColDef().cellAriaRole??"gridcell"}isCellRenderer(){const e=this.column.getColDef();return e.cellRenderer!=null||e.cellRendererSelector!=null}getValueToDisplay(){return this.valueFormatted??this.value}getDeferLoadingCellRenderer(){const{beans:e,column:t}=this,{userCompFactory:n,ctrlsSvc:r,eventSvc:o}=e,a=t.getColDef(),l=this.createCellRendererParams();l.deferRender=!0;const d=uz(n,a,l);if(r.getGridBodyCtrl()?.scrollFeature?.isScrolling()){let f;const m=new Jt(C=>{f=C}),[v]=this.addManagedListeners(o,{bodyScrollEnd:()=>{f(),v()}});return{loadingComp:d,onReady:m}}return{loadingComp:d,onReady:Jt.resolve()}}showValue(e,t){const{beans:n,column:r,rowNode:o,rangeFeature:a}=this,{userCompFactory:l}=n;let d=this.getValueToDisplay(),f;const m=o.stub&&o.groupData?.[r.getId()]==null,v=r.getColDef();if(m||this.isCellRenderer()){const C=this.createCellRendererParams();!m||Ad(r)?f=PS(l,v,C):f=uz(l,v,C)}if(!f&&!m&&n.findSvc?.isMatch(o,r)){const C=this.createCellRendererParams();f=PS(l,{...r.getColDef(),cellRenderer:"agFindCellRenderer"},C)}if(this.hasEdit&&this.editSvc.isBatchEditing()&&this.editSvc.isRowEditing(o,{checkSiblings:!0})){const C=this.editSvc.prepDetailsDuringBatch(this,{compDetails:f,valueToDisplay:d});C&&(C.compDetails?f=C.compDetails:C.valueToDisplay&&(d=C.valueToDisplay))}this.comp.setRenderDetails(f,d,e),this.customRowDragComp?.refreshVisibility(),!t&&a&&Zd(n,()=>a?.refreshHandle()),this.rowResizeFeature?.refreshRowResizer()}setupControlComps(){const e=this.column.getColDef();this.includeSelection=this.isIncludeControl(this.isCheckboxSelection(e),!0),this.includeRowDrag=this.isIncludeControl(e.rowDrag),this.includeDndSource=this.isIncludeControl(e.dndSource),this.comp.setIncludeSelection(this.includeSelection),this.comp.setIncludeDndSource(this.includeDndSource),this.comp.setIncludeRowDrag(this.includeRowDrag)}isForceWrapper(){return this.beans.gos.get("enableCellTextSelection")||this.column.isAutoHeight()}getCellValueClass(){const e="ag-cell-value",t=this.column.getColDef().cellRenderer==="agCheckboxCellRenderer";let n="";return t&&(n=" ag-allow-overflow"),`${e}${n}`}isIncludeControl(e,t=!1){return(this.rowNode.rowPinned==null||t&&D0(this.rowNode))&&!!e}isCheckboxSelection(e){const{rowSelection:t,groupDisplayType:n}=this.beans.gridOptions,r=Vy(t),o=Xd(this.column);return n==="custom"&&r!=="selectionColumn"&&o?!1:e.checkboxSelection||o&&typeof t=="object"&&Pp(t)}refreshShouldDestroy(){const e=this.column.getColDef(),t=this.includeSelection!=this.isIncludeControl(this.isCheckboxSelection(e),!0),n=this.includeRowDrag!=this.isIncludeControl(e.rowDrag),r=this.includeDndSource!=this.isIncludeControl(e.dndSource),o=this.isAutoHeight!=this.column.isAutoHeight();return t||n||r||o}onPopupEditorClosed(){const{editSvc:e}=this.beans;e?.isEditing(this,{withOpenEditor:!0})&&e?.stopEditing(this,{source:e?.isBatchEditing()?"ui":"api"})}stopEditing(e=!1){const{editSvc:t}=this.beans;return t?.stopEditing(this,{cancel:e,source:t?.isBatchEditing()?"ui":"api"})??!1}createCellRendererParams(){const{value:e,valueFormatted:t,column:n,rowNode:r,comp:o,eGui:a,beans:{valueSvc:l,gos:d,editSvc:f}}=this;return ht(d,{value:e,valueFormatted:t,getValue:()=>l.getValueForDisplay(n,r).value,setValue:v=>f?.setDataValue({rowNode:r,column:n},v)||r.setDataValue(n,v),formatValue:this.formatValue.bind(this),data:r.data,node:r,pinned:n.getPinned(),colDef:n.getColDef(),column:n,refreshCell:this.refreshCell.bind(this),eGridCell:a,eParentOfValue:o.getParentOfValue(),registerRowDragger:(v,C,y,S)=>this.registerRowDragger(v,C,S),setTooltip:(v,C)=>{d.assertModuleRegistered("Tooltip",3),this.tooltipFeature&&this.disableTooltipFeature(),this.enableTooltipFeature(v,C),this.tooltipFeature?.refreshTooltip()}})}onCellChanged(e){e.column===this.column&&this.refreshCell({})}refreshOrDestroyCell(e){if(this.refreshShouldDestroy()?this.rowCtrl?.recreateCell(this):this.refreshCell(e),this.hasEdit&&this.editCompDetails){const{editSvc:t,comp:n}=this;!n?.getCellEditor()&&t.isEditing(this,{withOpenEditor:!0})&&t.startEditing(this,{startedEdit:!1,source:"api",silent:!0})}}refreshCell({force:e,suppressFlash:t,newData:n}={}){const{editStyleFeature:r,customStyleFeature:o,rowCtrl:{rowEditStyleFeature:a},beans:{cellFlashSvc:l,filterManager:d},column:f,comp:m,suppressRefreshCell:v,tooltipFeature:C}=this;if(v)return;const{field:y,valueGetter:S,showRowGroup:E,enableCellChangeFlash:T}=f.getColDef(),P=y==null&&S==null&&E==null,N=e||P||n,j=!!m,L=this.updateAndFormatValue(j),V=N||L;if(j){if(V){this.showValue(!!n,!1);const U=d?.isSuppressFlashingCellsBecauseFiltering();!t&&!U&&T&&l?.flashCell(this),r?.applyCellStyles?.(),o?.applyUserStyles(),o?.applyClassesFromColDef(),a?.applyRowStyles()}C?.refreshTooltip(),o?.applyCellClassRules()}}isCellEditable(){return this.column.isCellEditable(this.rowNode)}formatValue(e){return this.callValueFormatter(e)??e}callValueFormatter(e){return this.beans.valueSvc.formatValue(this.column,this.rowNode,e)}updateAndFormatValue(e){const t=this.value,n=this.valueFormatted,{value:r,valueFormatted:o}=this.beans.valueSvc.getValueForDisplay(this.column,this.rowNode,!0);return this.value=r,this.valueFormatted=o,e?!this.valuesAreEqual(t,this.value)||this.valueFormatted!=n:!0}valuesAreEqual(e,t){const n=this.column.getColDef();return n.equals?n.equals(e,t):e===t}addDomData(e){const t=this.eGui;Wp(this.beans.gos,t,FS,this),e.addDestroyFunc(()=>Wp(this.beans.gos,t,FS,null))}createEvent(e,t){const{rowNode:n,column:r,value:o,beans:a}=this;return zke(a,e,t,{rowNode:n,column:r},o)}processCharacter(e){this.keyboardListener?.processCharacter(e)}onKeyDown(e){this.keyboardListener?.onKeyDown(e)}onMouseEvent(e,t){this.mouseListener?.onMouseEvent(e,t)}getColSpanningList(){return this.positionFeature?.getColSpanningList()??[]}onLeftChanged(){this.comp&&this.positionFeature?.onLeftChanged()}onDisplayedColumnsChanged(){this.eGui&&(this.refreshAriaColIndex(),this.refreshFirstAndLastStyles())}refreshFirstAndLastStyles(){const{comp:e,column:t,beans:n}=this;G$(e,t,n.visibleCols)}refreshAriaColIndex(){const e=this.beans.visibleCols.getAriaColIndex(this.column);iW(this.eGui,e)}onWidthChanged(){return this.positionFeature?.onWidthChanged()}getRowPosition(){const{rowIndex:e,rowPinned:t}=this.cellPosition;return{rowIndex:e,rowPinned:t}}updateRangeBordersIfRangeCount(){this.comp&&this.rangeFeature?.updateRangeBordersIfRangeCount()}onCellSelectionChanged(){this.comp&&this.rangeFeature?.onCellSelectionChanged()}isRangeSelectionEnabled(){return this.rangeFeature!=null}focusCell(e=!1,t){const n=this.editSvc?.allowedFocusTargetOnValidation(this);n&&n!==this||this.beans.focusSvc.setFocusedCell({...this.getFocusedCellPosition(),forceBrowserFocus:e,sourceEvent:t})}restoreFocus(e=!1){const{beans:{editSvc:t,focusSvc:n},comp:r}=this;if(!r||t?.isEditing(this)||!this.isCellFocused()||!n.shouldTakeFocus())return;const o=()=>{if(!this.isAlive())return;const a=r.getFocusableElement();this.isCellFocused()&&a.focus({preventScroll:!0})};if(e){setTimeout(o,0);return}o()}onRowIndexChanged(){this.createCellPosition(),this.onCellFocused(),this.restoreFocus(),this.rangeFeature?.onCellSelectionChanged(),this.rowResizeFeature?.refreshRowResizer()}onSuppressCellFocusChanged(e){const t=this.eGui;t&&(Ad(this.column)&&(e=!0),vs(t,"tabindex",e?void 0:-1))}onFirstRightPinnedChanged(){if(!this.comp)return;const e=this.column.isFirstRightPinned();this.comp.toggleCss(Yke,e)}onLastLeftPinnedChanged(){if(!this.comp)return;const e=this.column.isLastLeftPinned();this.comp.toggleCss(Qke,e)}checkCellFocused(){return this.beans.focusSvc.isCellFocused(this.cellPosition)}isCellFocused(){const e=this.checkCellFocused();return this.hasBeenFocused||(this.hasBeenFocused=e),e}setupFocus(){this.restoreFocus(!0),this.onCellFocused(this.focusEventWhileNotReady??void 0)}onCellFocused(e){const{beans:t}=this;if(mE(t))return;if(!this.comp){e&&(this.focusEventWhileNotReady=e);return}const n=this.isCellFocused(),r=t.editSvc?.isEditing(this)??!1;if(this.comp.toggleCss(Kke,n),n&&e?.forceBrowserFocus){let o=this.comp.getFocusableElement();if(r){const a=mb(o,null,!0);a.length&&(o=a[0])}o.focus({preventScroll:!!e.preventScrollOnBrowserFocus})}n&&e&&this.rowCtrl.announceDescription()}createCellPosition(){const{rowIndex:e,rowPinned:t}=this.rowNode;this.cellPosition={rowIndex:e,rowPinned:xd(t),column:this.column}}applyStaticCssClasses(){const{comp:e}=this;e.toggleCss(Wke,!0),e.toggleCss(Zke,!0);const t=this.column.isAutoHeight()==!0;e.toggleCss($ke,t),e.toggleCss(qke,!t)}onColumnHover(){this.beans.colHover?.onCellColumnHover(this.column,this.comp)}onColDefChanged(){this.comp&&(this.column.isTooltipEnabled()?(this.disableTooltipFeature(),this.enableTooltipFeature()):this.disableTooltipFeature(),this.setWrapText(),this.editSvc?.isEditing(this)?this.editSvc?.handleColDefChanged(this):this.refreshOrDestroyCell({force:!0,suppressFlash:!0}))}setWrapText(){const e=this.column.getColDef().wrapText==!0;this.comp.toggleCss(Xke,e)}dispatchCellContextMenuEvent(e){const t=this.column.getColDef(),n=this.createEvent(e,"cellContextMenu"),{beans:r}=this;r.eventSvc.dispatchEvent(n),t.onCellContextMenu&&window.setTimeout(()=>{r.frameworkOverrides.wrapOutgoing(()=>{t.onCellContextMenu(n)})},0)}getCellRenderer(){return this.comp?.getCellRenderer()??null}destroy(){this.onCompAttachedFuncs=[],this.onEditorAttachedFuncs=[],this.isCellFocused()&&this.hasBrowserFocus()&&this.beans.focusSvc.attemptToRecoverFocus(),super.destroy()}hasBrowserFocus(){return this.eGui?.contains(Qn(this.beans))??!1}createSelectionCheckbox(){const e=this.beans.selectionSvc?.createCheckboxSelectionComponent();if(e)return this.beans.context.createBean(e),e.init({rowNode:this.rowNode,column:this.column}),e}createDndSource(){const e=this.beans.registry.createDynamicBean("dndSourceComp",!1,this.rowNode,this.column,this.eGui);return e&&this.beans.context.createBean(e),e}registerRowDragger(e,t,n){if(this.customRowDragComp){this.customRowDragComp.setDragElement(e,t);return}const r=this.createRowDragComp(e,t,n);r&&(this.customRowDragComp=r,this.addDestroyFunc(()=>{this.beans.context.destroyBean(r),this.customRowDragComp=null}),r.refreshVisibility())}createRowDragComp(e,t,n){const r=this.beans.rowDragSvc?.createRowDragCompForCell(this.rowNode,this.column,()=>this.value,e,t,n);if(r)return this.beans.context.createBean(r),r}cellEditorAttached(){for(const e of this.onEditorAttachedFuncs)e();this.onEditorAttachedFuncs=[]}setFocusedCellPosition(e){}getFocusedCellPosition(){return this.cellPosition}refreshAriaRowIndex(){}getRootElement(){return this.eGui}};function oO(e,t,n,r,o,a){if(n==null&&t==null)return;const l={},d={},f=(m,v)=>{for(const C of m.split(" "))C.trim()!=""&&v(C)};if(n){const m=Object.keys(n);for(let v=0;v<m.length;v++){const C=m[v],y=n[C];let S;typeof y=="string"?S=e?e.evaluate(y,r):!0:typeof y=="function"&&(S=y(r)),f(C,E=>{S?l[E]=!0:d[E]=!0})}}if(t&&a)for(const m of Object.keys(t))f(m,v=>{l[v]||(d[v]=!0)});a&&Object.keys(d).forEach(a),Object.keys(l).forEach(o)}function t8(e){if(e.group)return e.level;const t=e.parent;return t?t.level+1:0}var exe=class extends Pe{constructor(){super(...arguments),this.beanName="rowStyleSvc"}processClassesFromGridOptions(e,t){const n=this.gos,r=l=>{if(typeof l=="string")e.push(l);else if(Array.isArray(l))for(const d of l)e.push(d)},o=n.get("rowClass");o&&r(o);const a=n.getCallback("getRowClass");if(a){const l={data:t.data,node:t,rowIndex:t.rowIndex},d=a(l);r(d)}}preProcessRowClassRules(e,t){this.processRowClassRules(t,n=>{e.push(n)},()=>{})}processRowClassRules(e,t,n){const{gos:r,expressionSvc:o}=this.beans,a=ht(r,{data:e.data,node:e,rowIndex:e.rowIndex});oO(o,void 0,r.get("rowClassRules"),a,t,n)}processStylesFromGridOptions(e){const t=this.gos,n=t.get("rowStyle"),r=t.getCallback("getRowStyle");let o;if(r){const a={data:e.data,node:e,rowIndex:e.rowIndex};o=r(a)}if(o||n)return Object.assign({},n,o)}},txe=0,zS=class extends Pe{constructor(e,t,n,r,o){super(),this.rowNode=e,this.useAnimationFrameForCreate=r,this.printLayout=o,this.allRowGuis=[],this.active=!0,this.centerCellCtrls={list:[],map:{}},this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}},this.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.rowDragComps=[],this.lastMouseDownOnDragger=!1,this.emptyStyle={},this.updateColumnListsPending=!1,this.rowId=null,this.businessKey=null,this.beans=t,this.gos=t.gos,this.paginationPage=t.pagination?.getCurrentPage()??0,this.suppressRowTransform=this.gos.get("suppressRowTransform"),this.instanceId=e.id+"-"+txe++,this.rowId=yy(e.id),this.initRowBusinessKey(),this.rowFocused=t.focusSvc.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned),this.rowLevel=t8(this.rowNode),this.setRowType(),this.setAnimateFlags(n),this.rowStyles=this.processStylesFromGridOptions(),this.rowEditStyleFeature=t.editSvc?.createRowStyleFeature(this,t),this.addListeners()}initRowBusinessKey(){this.businessKeyForNodeFunc=this.gos.get("getBusinessKeyForNode"),this.updateRowBusinessKey()}updateRowBusinessKey(){if(typeof this.businessKeyForNodeFunc!="function")return;const e=this.businessKeyForNodeFunc(this.rowNode);this.businessKey=yy(e)}updateGui(e,t){e==="left"?this.leftGui=t:e==="right"?this.rightGui=t:e==="fullWidth"?this.fullWidthGui=t:this.centerGui=t}setComp(e,t,n,r){const{context:o,focusSvc:a}=this.beans;r=S0(this,o,r);const l={rowComp:e,element:t,containerType:n,compBean:r};this.allRowGuis.push(l),this.updateGui(n,l),this.initialiseRowComp(l);const d=this.rowNode,f=this.rowType==="FullWidthLoading"||d.stub,m=!d.data&&this.beans.rowModel.getType()==="infinite";!f&&!m&&!d.rowPinned&&this.beans.rowRenderer.dispatchFirstDataRenderedEvent();const v=this.fullWidthGui?.element;v&&!this.beans.editSvc?.isEditing(this)&&a.isRowFocused(d.rowIndex,d.rowPinned)&&a.shouldTakeFocus()&&setTimeout(()=>v.focus({preventScroll:!0}),0)}unsetComp(e){this.allRowGuis=this.allRowGuis.filter(t=>t.containerType!==e),this.updateGui(e,void 0)}isCacheable(){return this.rowType==="FullWidthDetail"&&this.gos.get("keepDetailRows")}setCached(e){const t=e?"none":"";for(const n of this.allRowGuis)n.element.style.display=t}initialiseRowComp(e){const t=this.gos;this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.listenOnDomOrder(e),this.onRowHeightChanged(e),this.updateRowIndexes(e),this.setFocusedClasses(e),this.setStylesFromGridOptions(!1,e),Th(t)&&this.rowNode.selectable&&this.onRowSelected(e),this.updateColumnLists(!this.useAnimationFrameForCreate);const n=e.rowComp,r=this.getInitialRowClasses(e.containerType);for(const o of r)n.toggleCss(o,!0);this.executeSlideAndFadeAnimations(e),this.rowNode.group&&Ly(e.element,this.rowNode.expanded==!0),this.setRowCompRowId(n),this.setRowCompRowBusinessKey(n),Wp(t,e.element,LS,this),e.compBean.addDestroyFunc(()=>Wp(t,e.element,LS,null)),this.useAnimationFrameForCreate?this.beans.animationFrameSvc.createTask(this.addHoverFunctionality.bind(this,e),this.rowNode.rowIndex,"p2",!1):this.addHoverFunctionality(e),this.isFullWidth()&&this.setupFullWidth(e),t.get("rowDragEntireRow")&&this.addRowDraggerToRow(e),this.useAnimationFrameForCreate&&this.beans.animationFrameSvc.addDestroyTask(()=>{this.isAlive()&&e.rowComp.toggleCss("ag-after-created",!0)}),this.executeProcessRowPostCreateFunc()}setRowCompRowBusinessKey(e){this.businessKey!=null&&e.setRowBusinessKey(this.businessKey)}setRowCompRowId(e){const t=yy(this.rowNode.id);this.rowId=t,t!=null&&e.setRowId(t)}executeSlideAndFadeAnimations(e){const{containerType:t}=e;this.slideInAnimation[t]&&(yP(()=>{this.onTopChanged()}),this.slideInAnimation[t]=!1),this.fadeInAnimation[t]&&(yP(()=>{e.rowComp.toggleCss("ag-opacity-zero",!1)}),this.fadeInAnimation[t]=!1)}addRowDraggerToRow(e){const t=this.beans.rowDragSvc?.createRowDragCompForRow(this.rowNode,e.element);if(!t)return;const n=this.createBean(t,this.beans.context);this.rowDragComps.push(n),e.compBean.addDestroyFunc(()=>{this.rowDragComps=this.rowDragComps.filter(r=>r!==n),this.rowEditStyleFeature=this.destroyBean(this.rowEditStyleFeature,this.beans.context),this.destroyBean(n,this.beans.context)})}setupFullWidth(e){const t=this.getPinnedForContainer(e.containerType),n=this.createFullWidthCompDetails(e.element,t);e.rowComp.showFullWidth(n)}getFullWidthCellRenderers(){return this.gos.get("embedFullWidthRows")?this.allRowGuis.map(e=>e?.rowComp?.getFullWidthCellRenderer()):[this.fullWidthGui?.rowComp?.getFullWidthCellRenderer()]}executeProcessRowPostCreateFunc(){const e=this.gos.getCallback("processRowPostCreate");if(!e||!this.areAllContainersReady())return;const t={eRow:this.centerGui.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)};e(t)}areAllContainersReady(){const{leftGui:e,centerGui:t,rightGui:n,beans:{visibleCols:r}}=this,o=!!e||!r.isPinningLeft(),a=!!t,l=!!n||!r.isPinningRight();return o&&a&&l}isNodeFullWidthCell(){if(this.rowNode.detail)return!0;const e=this.beans.gos.getCallback("isFullWidthRow");return e?e({rowNode:this.rowNode}):!1}setRowType(){const e=this.rowNode.stub&&!this.gos.get("suppressServerSideFullWidthLoadingRow")&&!this.gos.get("groupHideOpenParents"),t=this.isNodeFullWidthCell(),n=this.gos.get("masterDetail")&&this.rowNode.detail,r=this.beans.colModel.isPivotMode(),o=OW(this.gos,this.rowNode,r);e?this.rowType="FullWidthLoading":n?this.rowType="FullWidthDetail":t?this.rowType="FullWidth":o?this.rowType="FullWidthGroup":this.rowType="Normal"}updateColumnLists(e=!1,t=!1){if(this.isFullWidth())return;const{animationFrameSvc:n}=this.beans;if(!n?.active||e||this.printLayout){this.updateColumnListsImpl(t);return}this.updateColumnListsPending||(n.createTask(()=>{this.active&&this.updateColumnListsImpl(!0)},this.rowNode.rowIndex,"p1",!1),this.updateColumnListsPending=!0)}getNewCellCtrl(e){if(!this.beans.rowSpanSvc?.isCellSpanning(e,this.rowNode))return new yb(e,this.rowNode,this.beans,this)}isCorrectCtrlForSpan(e){return!this.beans.rowSpanSvc?.isCellSpanning(e.column,this.rowNode)}createCellCtrls(e,t,n=null){const r={list:[],map:{}},o=(m,v,C)=>{C!=null?r.list.splice(C,0,v):r.list.push(v),r.map[m]=v},a=[];for(const m of t){const v=m.getInstanceId();let C=e.map[v];C&&!this.isCorrectCtrlForSpan(C)&&(C.destroy(),C=void 0),C||(C=this.getNewCellCtrl(m)),C&&o(v,C)}for(const m of e.list){const v=m.column.getInstanceId();if(r.map[v]!=null)continue;!this.isCellEligibleToBeRemoved(m,n)?a.push([v,m]):m.destroy()}if(a.length)for(const[m,v]of a){const C=r.list.findIndex(S=>S.column.getLeft()>v.column.getLeft()),y=C===-1?void 0:Math.max(C-1,0);o(m,v,y)}const{focusSvc:l,visibleCols:d}=this.beans,f=l.getFocusedCell();if(f&&f.column.getPinned()==n){const m=f.column.getInstanceId();if(!r.map[m]&&d.allCols.includes(f.column)){const C=this.createFocusedCellCtrl();if(C){const y=r.list.findIndex(E=>E.column.getLeft()>C.column.getLeft()),S=y===-1?void 0:Math.max(y-1,0);o(m,C,S)}}}return r}createFocusedCellCtrl(){const{focusSvc:e,rowSpanSvc:t}=this.beans,n=e.getFocusedCell();if(!n)return;const r=t?.getCellSpan(n.column,this.rowNode);if(r){if(r.firstNode!==this.rowNode||!r.doesSpanContain(n))return}else if(!e.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned))return;return this.getNewCellCtrl(n.column)}updateColumnListsImpl(e){this.updateColumnListsPending=!1,this.createAllCellCtrls(),this.setCellCtrls(e)}setCellCtrls(e){for(const t of this.allRowGuis){const n=this.getCellCtrlsForContainer(t.containerType);t.rowComp.setCellCtrls(n,e)}}getCellCtrlsForContainer(e){switch(e){case"left":return this.leftCellCtrls.list;case"right":return this.rightCellCtrls.list;case"fullWidth":return[];case"center":return this.centerCellCtrls.list}}createAllCellCtrls(){const e=this.beans.colViewport,t=this.beans.visibleCols;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,t.allCols),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{const n=e.getColsWithinViewport(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,n);const r=t.getLeftColsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,r,"left");const o=t.getRightColsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,o,"right")}}isCellEligibleToBeRemoved(e,t){const{column:o}=e;if(o.getPinned()!=t||!this.isCorrectCtrlForSpan(e))return!0;const{visibleCols:a,editSvc:l}=this.beans,d=l?.isEditing(e),f=e.isCellFocused();return d||f?!(a.allCols.indexOf(o)>=0):!0}getDomOrder(){return this.gos.get("ensureDomOrder")||xi(this.gos,"print")}listenOnDomOrder(e){const t=()=>{e.rowComp.setDomOrder(this.getDomOrder())};e.compBean.addManagedPropertyListeners(["domLayout","ensureDomOrder"],t)}setAnimateFlags(e){if(this.rowNode.sticky||!e)return;const t=Ye(this.rowNode.oldRowTop),{visibleCols:n}=this.beans,r=n.isPinningLeft(),o=n.isPinningRight();if(t){const{slideInAnimation:a}=this;if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){a.fullWidth=!0;return}a.center=!0,a.left=r,a.right=o}else{const{fadeInAnimation:a}=this;if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){a.fullWidth=!0;return}a.center=!0,a.left=r,a.right=o}}isFullWidth(){return this.rowType!=="Normal"}refreshFullWidth(){const e=(l,d)=>l?l.rowComp.refreshFullWidth(()=>this.createFullWidthCompDetails(l.element,d).params):!0,t=e(this.fullWidthGui,null),n=e(this.centerGui,null),r=e(this.leftGui,"left"),o=e(this.rightGui,"right");return t&&n&&r&&o}addListeners(){const{beans:e,gos:t,rowNode:n}=this,{expansionSvc:r,eventSvc:o,context:a,rowSpanSvc:l}=e;this.addManagedListeners(this.rowNode,{heightChanged:()=>this.onRowHeightChanged(),rowSelected:()=>this.onRowSelected(),rowIndexChanged:this.onRowIndexChanged.bind(this),topChanged:this.onTopChanged.bind(this),...r?.getRowExpandedListeners(this)??{}}),n.detail&&this.addManagedListeners(n.parent,{dataChanged:this.onRowNodeDataChanged.bind(this)}),this.addManagedListeners(n,{dataChanged:this.onRowNodeDataChanged.bind(this),cellChanged:this.postProcessCss.bind(this),rowHighlightChanged:this.onRowNodeHighlightChanged.bind(this),draggingChanged:this.postProcessRowDragging.bind(this),uiLevelChanged:this.onUiLevelChanged.bind(this),rowPinned:this.onRowPinned.bind(this)}),this.addManagedListeners(o,{paginationPixelOffsetChanged:this.onPaginationPixelOffsetChanged.bind(this),heightScaleChanged:this.onTopChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),virtualColumnsChanged:this.onVirtualColumnsChanged.bind(this),cellFocused:this.onCellFocusChanged.bind(this),cellFocusCleared:this.onCellFocusChanged.bind(this),paginationChanged:this.onPaginationChanged.bind(this),modelUpdated:this.refreshFirstAndLastRowStyles.bind(this),columnMoved:()=>this.updateColumnLists()}),l&&this.addManagedListeners(l,{spannedCellsUpdated:({pinned:d})=>{d&&!n.rowPinned||this.updateColumnLists()}}),this.addDestroyFunc(()=>{this.rowDragComps=this.destroyBeans(this.rowDragComps,a),this.tooltipFeature=this.destroyBean(this.tooltipFeature,a),this.rowEditStyleFeature=this.destroyBean(this.rowEditStyleFeature,a)}),this.addManagedPropertyListeners(["rowStyle","getRowStyle","rowClass","getRowClass","rowClassRules"],this.postProcessCss.bind(this)),this.addManagedPropertyListener("rowDragEntireRow",()=>{if(t.get("rowDragEntireRow")){for(const f of this.allRowGuis)this.addRowDraggerToRow(f);return}this.rowDragComps=this.destroyBeans(this.rowDragComps,a)}),this.addListenersForCellComps()}addListenersForCellComps(){this.addManagedListeners(this.rowNode,{rowIndexChanged:()=>{for(const e of this.getAllCellCtrls())e.onRowIndexChanged()},cellChanged:e=>{for(const t of this.getAllCellCtrls())t.onCellChanged(e)}})}onRowPinned(){for(const e of this.allRowGuis)e.rowComp.toggleCss("ag-row-pinned-source",!!this.rowNode.pinnedSibling)}onRowNodeDataChanged(e){this.refreshRow({suppressFlash:!e.update,newData:!e.update})}refreshRow(e){if(this.isFullWidth()!==!!this.isNodeFullWidthCell()){this.beans.rowRenderer.redrawRow(this.rowNode);return}if(this.isFullWidth()){this.refreshFullWidth()||this.beans.rowRenderer.redrawRow(this.rowNode);return}for(const n of this.getAllCellCtrls())n.refreshCell(e);for(const n of this.allRowGuis)this.setRowCompRowId(n.rowComp),this.updateRowBusinessKey(),this.setRowCompRowBusinessKey(n.rowComp);this.onRowSelected(),this.postProcessCss()}postProcessCss(){this.setStylesFromGridOptions(!0),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.rowEditStyleFeature?.applyRowStyles(),this.postProcessRowDragging()}onRowNodeHighlightChanged(){const e=this.beans.rowDropHighlightSvc,t=e?.row===this.rowNode?e.position:"none",n=t==="above",r=t==="inside",o=t==="below",l=this.gos.get("treeData")&&(o||n),d=this.rowNode.uiLevel.toString();for(const f of this.allRowGuis){const m=f.rowComp;m.toggleCss("ag-row-highlight-above",n),m.toggleCss("ag-row-highlight-inside",r),m.toggleCss("ag-row-highlight-below",o),m.toggleCss("ag-row-highlight-indent",l),l?f.element.style.setProperty("--ag-row-highlight-level",d):f.element.style.removeProperty("--ag-row-highlight-level")}}postProcessRowDragging(){const e=this.rowNode.dragging;for(const t of this.allRowGuis)t.rowComp.toggleCss("ag-row-dragging",e)}onDisplayedColumnsChanged(){this.updateColumnLists(!0),this.beans.rowAutoHeight?.requestCheckAutoHeight()}onVirtualColumnsChanged(){this.updateColumnLists(!1,!0)}getRowPosition(){return{rowPinned:xd(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}}onKeyboardNavigate(e){const t=this.findFullWidthInfoForEvent(e);if(!t)return;const{rowGui:n,column:r}=t;if(!(n.element===e.target))return;const l=this.rowNode,{focusSvc:d,navigation:f}=this.beans,m=d.getFocusedCell(),v={rowIndex:l.rowIndex,rowPinned:l.rowPinned,column:m?.column??r};f?.navigateToNextCell(e,e.key,v,!0),e.preventDefault()}onTabKeyDown(e){if(e.defaultPrevented||Qa(e))return;const t=this.allRowGuis.find(d=>d.element.contains(e.target)),n=t?t.element:null,r=n===e.target,o=Qn(this.beans);let a=!1;n&&o&&(a=n.contains(o)&&o.classList.contains("ag-cell"));let l=null;!r&&!a&&(l=og(this.beans,n,!1,e.shiftKey)),(this.isFullWidth()&&r||!l)&&this.beans.navigation?.onTabKeyDown(this,e)}getFullWidthElement(){return this.fullWidthGui?this.fullWidthGui.element:null}getRowYPosition(){const e=this.allRowGuis.find(t=>vc(t.element))?.element;return e?e.getBoundingClientRect().top:0}onSuppressCellFocusChanged(e){const t=this.isFullWidth()&&e?void 0:this.gos.get("tabIndex");for(const n of this.allRowGuis)vs(n.element,"tabindex",t)}onFullWidthRowFocused(e){const t=this.rowNode,n=e?this.isFullWidth()&&e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned:!1;let r;if(this.fullWidthGui)r=this.fullWidthGui.element;else{const a=this.beans.colModel.getCol(e?.column)?.pinned;a?r=a==="right"?this.rightGui?.element:this.leftGui?.element:r=this.centerGui?.element}r&&(r.classList.toggle("ag-full-width-focus",n),n&&e?.forceBrowserFocus&&r.focus({preventScroll:!0}))}recreateCell(e){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,e),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,e),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,e),e.destroy(),this.updateColumnLists()}removeCellCtrl(e,t){const n={list:[],map:{}};for(const r of e.list)r!==t&&(n.list.push(r),n.map[r.column.getInstanceId()]=r);return n}onMouseEvent(e,t){switch(e){case"dblclick":this.onRowDblClick(t);break;case"click":this.onRowClick(t);break;case"touchstart":case"mousedown":this.onRowMouseDown(t);break}}createRowEvent(e,t){const{rowNode:n}=this;return ht(this.gos,{type:e,node:n,data:n.data,rowIndex:n.rowIndex,rowPinned:n.rowPinned,event:t})}createRowEventWithSource(e,t){const n=this.createRowEvent(e,t);return n.source=this,n}onRowDblClick(e){if(Qa(e))return;const t=this.createRowEventWithSource("rowDoubleClicked",e);t.isEventHandlingSuppressed=this.isSuppressMouseEvent(e),this.beans.eventSvc.dispatchEvent(t)}findFullWidthInfoForEvent(e){if(!e)return;const t=this.findFullWidthRowGui(e.target),n=this.getColumnForFullWidth(t);if(!(!t||!n))return{rowGui:t,column:n}}findFullWidthRowGui(e){return this.allRowGuis.find(t=>t.element.contains(e))}getColumnForFullWidth(e){const{visibleCols:t}=this.beans;switch(e?.containerType){case"center":return t.centerCols[0];case"left":return t.leftCols[0];case"right":return t.rightCols[0];default:return t.allCols[0]}}onRowMouseDown(e){if(this.lastMouseDownOnDragger=Mp(e.target,"ag-row-drag",3),!this.isFullWidth()||this.isSuppressMouseEvent(e))return;const{rangeSvc:t,focusSvc:n}=this.beans;t?.removeAllCellRanges();const r=this.findFullWidthInfoForEvent(e);if(!r)return;const{rowGui:o,column:a}=r,l=o.element,d=e.target,f=this.rowNode;let m=e.defaultPrevented||Wh();l&&l.contains(d)&&ky(d)&&(m=!1),n.setFocusedCell({rowIndex:f.rowIndex,column:a,rowPinned:f.rowPinned,forceBrowserFocus:m})}isSuppressMouseEvent(e){const{gos:t,rowNode:n}=this;if(this.isFullWidth()){const o=this.findFullWidthRowGui(e.target);return zbe(t,o?.rowComp.getFullWidthCellRendererParams(),n,e)}const r=KN(t,e.target);return r!=null&&Z1(t,r.column,n,e)}onRowClick(e){if(Qa(e)||this.lastMouseDownOnDragger)return;const n=this.isSuppressMouseEvent(e),{eventSvc:r,selectionSvc:o}=this.beans,a=this.createRowEventWithSource("rowClicked",e);a.isEventHandlingSuppressed=n,r.dispatchEvent(a),!n&&o?.handleSelectionEvent(e,this.rowNode,"rowClicked")}setupDetailRowAutoHeight(e){this.rowType==="FullWidthDetail"&&this.beans.masterDetailSvc?.setupDetailRowAutoHeight(this,e)}createFullWidthCompDetails(e,t){const{gos:n,rowNode:r}=this,o=ht(n,{fullWidth:!0,data:r.data,node:r,value:r.key,valueFormatted:r.key,eGridCell:e,eParentOfValue:e,pinned:t,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:(l,d,f,m)=>this.addFullWidthRowDragging(l,d,f,m),setTooltip:(l,d)=>{n.assertModuleRegistered("Tooltip",3),this.setupFullWidthRowTooltip(l,d)}}),a=this.beans.userCompFactory;switch(this.rowType){case"FullWidthDetail":return Kge(a,o);case"FullWidthGroup":{const{value:l,valueFormatted:d}=this.beans.valueSvc.getValueForDisplay(void 0,this.rowNode,!0);return o.value=l,o.valueFormatted=d,qge(a,o)}case"FullWidthLoading":return $ge(a,o);default:return Wge(a,o)}}setupFullWidthRowTooltip(e,t){this.fullWidthGui&&(this.tooltipFeature=this.beans.tooltipSvc?.setupFullWidthRowTooltip(this.tooltipFeature,this,e,t))}addFullWidthRowDragging(e,t,n="",r){const{rowDragSvc:o,context:a}=this.beans;if(!o||!this.isFullWidth())return;const l=o.createRowDragComp(()=>n,this.rowNode,void 0,e,t,r);this.createBean(l,a),this.addDestroyFunc(()=>{this.destroyBean(l,a)})}onUiLevelChanged(){const e=t8(this.rowNode);if(this.rowLevel!=e){const t="ag-row-level-"+e,n="ag-row-level-"+this.rowLevel;for(const r of this.allRowGuis)r.rowComp.toggleCss(t,!0),r.rowComp.toggleCss(n,!1)}this.rowLevel=e}isFirstRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBounds.getFirstRow()}isLastRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBounds.getLastRow()}refreshFirstAndLastRowStyles(){const e=this.isFirstRowOnPage(),t=this.isLastRowOnPage();if(this.firstRowOnPage!==e){this.firstRowOnPage=e;for(const n of this.allRowGuis)n.rowComp.toggleCss("ag-row-first",e)}if(this.lastRowOnPage!==t){this.lastRowOnPage=t;for(const n of this.allRowGuis)n.rowComp.toggleCss("ag-row-last",t)}}getAllCellCtrls(){return this.leftCellCtrls.list.length===0&&this.rightCellCtrls.list.length===0?this.centerCellCtrls.list:[...this.centerCellCtrls.list,...this.leftCellCtrls.list,...this.rightCellCtrls.list]}postProcessClassesFromGridOptions(){const e=[];if(this.beans.rowStyleSvc?.processClassesFromGridOptions(e,this.rowNode),!!e.length)for(const t of e)for(const n of this.allRowGuis)n.rowComp.toggleCss(t,!0)}postProcessRowClassRules(){this.beans.rowStyleSvc?.processRowClassRules(this.rowNode,e=>{for(const t of this.allRowGuis)t.rowComp.toggleCss(e,!0)},e=>{for(const t of this.allRowGuis)t.rowComp.toggleCss(e,!1)})}setStylesFromGridOptions(e,t){e&&(this.rowStyles=this.processStylesFromGridOptions()),this.forEachGui(t,n=>n.rowComp.setUserStyles(this.rowStyles))}getPinnedForContainer(e){return e==="left"||e==="right"?e:null}getInitialRowClasses(e){const t=this.getPinnedForContainer(e),n=this.isFullWidth(),{rowNode:r,beans:o}=this,a=[];a.push("ag-row"),a.push(this.rowFocused?"ag-row-focus":"ag-row-no-focus"),this.fadeInAnimation[e]&&a.push("ag-opacity-zero"),a.push(r.rowIndex%2===0?"ag-row-even":"ag-row-odd"),r.isRowPinned()&&(a.push("ag-row-pinned"),o.pinnedRowModel?.isManual()&&a.push("ag-row-pinned-manual")),!r.isRowPinned()&&r.pinnedSibling&&a.push("ag-row-pinned-source"),r.isSelected()&&a.push("ag-row-selected"),r.footer&&a.push("ag-row-footer"),a.push("ag-row-level-"+this.rowLevel),r.stub&&a.push("ag-row-loading"),n&&a.push("ag-full-width-row"),o.expansionSvc?.addExpandedCss(a,r),r.dragging&&a.push("ag-row-dragging");const{rowStyleSvc:l}=o;return l&&(l.processClassesFromGridOptions(a,r),l.preProcessRowClassRules(a,r)),a.push(this.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),this.isFirstRowOnPage()&&a.push("ag-row-first"),this.isLastRowOnPage()&&a.push("ag-row-last"),n&&(t==="left"&&a.push("ag-cell-last-left-pinned"),t==="right"&&a.push("ag-cell-first-right-pinned")),a}processStylesFromGridOptions(){return this.beans.rowStyleSvc?.processStylesFromGridOptions(this.rowNode)??this.emptyStyle}onRowSelected(e){this.beans.selectionSvc?.onRowCtrlSelected(this,t=>{(t===this.centerGui||t===this.fullWidthGui)&&this.announceDescription()},e)}announceDescription(){this.beans.selectionSvc?.announceAriaRowSelection(this.rowNode)}addHoverFunctionality(e){if(!this.active)return;const{element:t,compBean:n}=e,{rowNode:r,beans:o,gos:a}=this;n.addManagedListeners(t,{pointerenter:l=>{l.pointerType==="mouse"&&r.dispatchRowEvent("mouseEnter")},pointerleave:l=>{l.pointerType==="mouse"&&r.dispatchRowEvent("mouseLeave")}}),n.addManagedListeners(r,{mouseEnter:()=>{!o.dragSvc?.dragging&&!a.get("suppressRowHoverHighlight")&&(t.classList.add("ag-row-hover"),r.setHovered(!0))},mouseLeave:()=>{this.resetHoveredStatus(t)}})}resetHoveredStatus(e){const t=e?[e]:this.allRowGuis.map(n=>n.element);for(const n of t)n.classList.remove("ag-row-hover");this.rowNode.setHovered(!1)}roundRowTopToBounds(e){const t=this.beans.ctrlsSvc.getScrollFeature().getApproximateVScollPosition(),n=this.applyPaginationOffset(t.top,!0)-100,r=this.applyPaginationOffset(t.bottom,!0)+100;return Math.min(Math.max(n,e),r)}forEachGui(e,t){if(e)t(e);else for(const n of this.allRowGuis)t(n)}isRowRendered(){return this.allRowGuis.length>0}onRowHeightChanged(e){if(this.rowNode.rowHeight==null)return;const t=this.rowNode.rowHeight,n=this.beans.environment.getDefaultRowHeight(),o=PW(this.gos)?Fd(this.beans,this.rowNode).height:void 0,a=o?`${Math.min(n,o)-2}px`:void 0;this.forEachGui(e,l=>{l.element.style.height=`${t}px`,a&&l.element.style.setProperty("--ag-line-height",a)})}destroyFirstPass(e=!1){this.active=!1;const{rowNode:t}=this;if(!e&&pb(this.gos)&&!t.sticky)if(t.rowTop!=null){const o=this.roundRowTopToBounds(t.rowTop);this.setRowTop(o)}else for(const o of this.allRowGuis)o.rowComp.toggleCss("ag-opacity-zero",!0);this.fullWidthGui?.element.contains(Qn(this.beans))&&this.beans.focusSvc.attemptToRecoverFocus(),t.setHovered(!1);const n=this.createRowEvent("virtualRowRemoved");this.dispatchLocalEvent(n),this.beans.eventSvc.dispatchEvent(n),super.destroy()}destroySecondPass(){this.allRowGuis.length=0;const e=t=>{for(const n of t.list)n.destroy();return{list:[],map:{}}};this.centerCellCtrls=e(this.centerCellCtrls),this.leftCellCtrls=e(this.leftCellCtrls),this.rightCellCtrls=e(this.rightCellCtrls)}setFocusedClasses(e){this.forEachGui(e,t=>{t.rowComp.toggleCss("ag-row-focus",this.rowFocused),t.rowComp.toggleCss("ag-row-no-focus",!this.rowFocused)})}onCellFocusChanged(){const{focusSvc:e}=this.beans,t=e.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);t!==this.rowFocused&&(this.rowFocused=t,this.setFocusedClasses())}onPaginationChanged(){const e=this.beans.pagination?.getCurrentPage()??0;this.paginationPage!==e&&(this.paginationPage=e,this.onTopChanged()),this.refreshFirstAndLastRowStyles()}onTopChanged(){this.setRowTop(this.rowNode.rowTop)}onPaginationPixelOffsetChanged(){this.onTopChanged()}applyPaginationOffset(e,t=!1){if(this.rowNode.isRowPinned()||this.rowNode.sticky)return e;const n=this.beans.pageBounds.getPixelOffset();return e+n*(t?1:-1)}setRowTop(e){if(!this.printLayout&&Ye(e)){const t=this.applyPaginationOffset(e),o=`${this.rowNode.isRowPinned()||this.rowNode.sticky?t:this.beans.rowContainerHeight.getRealPixelPosition(t)}px`;this.setRowTopStyle(o)}}getInitialRowTop(e){return this.suppressRowTransform?this.getInitialRowTopShared(e):void 0}getInitialTransform(e){return this.suppressRowTransform?void 0:`translateY(${this.getInitialRowTopShared(e)})`}getInitialRowTopShared(e){if(this.printLayout)return"";const t=this.rowNode;let n;if(t.sticky)n=t.stickyRowTop;else{const r=this.slideInAnimation[e]?this.roundRowTopToBounds(t.oldRowTop):t.rowTop,o=this.applyPaginationOffset(r);n=t.isRowPinned()?o:this.beans.rowContainerHeight.getRealPixelPosition(o)}return n+"px"}setRowTopStyle(e){for(const t of this.allRowGuis)this.suppressRowTransform?t.rowComp.setTop(e):t.rowComp.setTransform(`translateY(${e})`)}getCellCtrl(e,t=!1){let n=null;for(const r of this.getAllCellCtrls())r.column==e&&(n=r);if(n!=null||t)return n;for(const r of this.getAllCellCtrls())r?.getColSpanningList().indexOf(e)>=0&&(n=r);return n}onRowIndexChanged(){this.rowNode.rowIndex!=null&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())}updateRowIndexes(e){const t=this.rowNode.getRowIndexString();if(t===null)return;const n=(this.beans.ctrlsSvc.getHeaderRowContainerCtrl()?.getRowCount()??0)+(this.beans.filterManager?.getHeaderRowCount()??0),r=this.rowNode.rowIndex%2===0,o=n+this.rowNode.rowIndex+1;this.forEachGui(e,a=>{a.rowComp.setRowIndex(t),a.rowComp.toggleCss("ag-row-even",r),a.rowComp.toggleCss("ag-row-odd",!r),CS(a.element,o)})}},nxe=class extends Pe{constructor(){super(),this.beanName="navigation",this.onPageDown=tz(this.onPageDown,100),this.onPageUp=tz(this.onPageUp,100)}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}handlePageScrollingKey(e,t=!1){const n=e.key,r=e.altKey,o=e.ctrlKey||e.metaKey,a=!!this.beans.rangeSvc&&e.shiftKey,l=cve(this.gos,e);let d=!1;switch(n){case xe.PAGE_HOME:case xe.PAGE_END:!o&&!r&&(this.onHomeOrEndKey(n),d=!0);break;case xe.LEFT:case xe.RIGHT:case xe.UP:case xe.DOWN:if(!l)return!1;o&&!r&&!a&&(this.onCtrlUpDownLeftRight(n,l),d=!0);break;case xe.PAGE_DOWN:case xe.PAGE_UP:!o&&!r&&(d=this.handlePageUpDown(n,l,t));break}return d&&e.preventDefault(),d}handlePageUpDown(e,t,n){return n&&(t=this.beans.focusSvc.getFocusedCell()),t?(e===xe.PAGE_UP?this.onPageUp(t):this.onPageDown(t),!0):!1}navigateTo({scrollIndex:e,scrollType:t,scrollColumn:n,focusIndex:r,focusColumn:o,isAsync:a,rowPinned:l}){const{scrollFeature:d}=this.gridBodyCon;Ye(n)&&!n.isPinned()&&d.ensureColumnVisible(n),Ye(e)&&d.ensureIndexVisible(e,t),a||d.ensureIndexVisible(r);const{focusSvc:f,rangeSvc:m}=this.beans;f.setFocusedCell({rowIndex:r,column:o,rowPinned:l,forceBrowserFocus:!0}),m?.setRangeToCell({rowIndex:r,rowPinned:l,column:o})}onPageDown(e){const t=this.beans,n=sT(t),r=this.getViewportHeight(),{pageBounds:o,rowModel:a,rowAutoHeight:l}=t,d=o.getPixelOffset(),f=n.top+r,m=a.getRowIndexAtPixel(f+d);l?.active?this.navigateToNextPageWithAutoHeight(e,m):this.navigateToNextPage(e,m)}onPageUp(e){const t=this.beans,n=sT(t),{pageBounds:r,rowModel:o,rowAutoHeight:a}=t,l=r.getPixelOffset(),d=n.top,f=o.getRowIndexAtPixel(d+l);a?.active?this.navigateToNextPageWithAutoHeight(e,f,!0):this.navigateToNextPage(e,f,!0)}navigateToNextPage(e,t,n=!1){const{pageBounds:r,rowModel:o}=this.beans,a=this.getViewportHeight(),l=r.getFirstRow(),d=r.getLastRow(),f=r.getPixelOffset(),m=o.getRow(e.rowIndex),v=n?m?.rowHeight-a-f:a-f,C=m?.rowTop+v;let y=o.getRowIndexAtPixel(C+f);if(y===e.rowIndex){const E=n?-1:1;t=y=e.rowIndex+E}let S;n?(S="bottom",y<l&&(y=l),t<l&&(t=l)):(S="top",y>d&&(y=d),t>d&&(t=d)),this.isRowTallerThanView(o.getRow(y))&&(t=y,S="top"),this.navigateTo({scrollIndex:t,scrollType:S,scrollColumn:null,focusIndex:y,focusColumn:e.column})}navigateToNextPageWithAutoHeight(e,t,n=!1){this.navigateTo({scrollIndex:t,scrollType:n?"bottom":"top",scrollColumn:null,focusIndex:t,focusColumn:e.column}),setTimeout(()=>{const r=this.getNextFocusIndexForAutoHeight(e,n);this.navigateTo({scrollIndex:t,scrollType:n?"bottom":"top",scrollColumn:null,focusIndex:r,focusColumn:e.column,isAsync:!0})},50)}getNextFocusIndexForAutoHeight(e,t=!1){const n=t?-1:1,r=this.getViewportHeight(),{pageBounds:o,rowModel:a}=this.beans,l=o.getLastRow();let d=0,f=e.rowIndex;for(;f>=0&&f<=l;){const m=a.getRow(f);if(m){const v=m.rowHeight??0;if(d+v>r)break;d+=v}f+=n}return Math.max(0,Math.min(f,l))}getViewportHeight(){const e=this.beans,t=sT(e),n=this.beans.scrollVisibleSvc.getScrollbarWidth();let r=t.bottom-t.top;return e.ctrlsSvc.get("center").isHorizontalScrollShowing()&&(r-=n),r}isRowTallerThanView(e){if(!e)return!1;const t=e.rowHeight;return typeof t!="number"?!1:t>this.getViewportHeight()}onCtrlUpDownLeftRight(e,t){const n=this.beans.cellNavigation.getNextCellToFocus(e,t,!0),r=this.getNormalisedPosition(n),{rowIndex:o,rowPinned:a,column:l}=r??n,d=l;this.navigateTo({scrollIndex:o,scrollType:null,scrollColumn:d,focusIndex:o,focusColumn:d,rowPinned:a})}onHomeOrEndKey(e){const t=e===xe.PAGE_HOME,{visibleCols:n,pageBounds:r,rowModel:o}=this.beans,a=n.allCols,l=t?r.getFirstRow():r.getLastRow(),d=o.getRow(l);if(!d)return;const f=(t?a:[...a].reverse()).find(m=>!m.isSuppressNavigable(d));f&&this.navigateTo({scrollIndex:l,scrollType:null,scrollColumn:f,focusIndex:l,focusColumn:f})}onTabKeyDown(e,t){const n=t.shiftKey,r=this.tabToNextCellCommon(e,n,t),o=this.beans,{ctrlsSvc:a,pageBounds:l,focusSvc:d,gos:f}=o;if(r!==!1){r?t.preventDefault():r===null&&a.get("gridCtrl").allowFocusForNextCoreContainer(n);return}if(n){const{rowIndex:m,rowPinned:v}=e.getRowPosition();(v?m===0:m===l.getFirstRow())&&(f.get("headerHeight")===0||Np(o)?Rb(o,!0,!0):(t.preventDefault(),d.focusPreviousFromFirstCell(t)))}else e instanceof yb&&e.focusCell(!0),(d.focusOverlay(!1)||Rb(o,n))&&t.preventDefault()}tabToNextCell(e,t){const n=this.beans,{focusSvc:r,rowRenderer:o}=n,a=r.getFocusedCell();if(!a)return!1;let l=lb(n,a);return!l&&(l=o.getRowByPosition(a),!l?.isFullWidth())?!1:!!this.tabToNextCellCommon(l,e,t,"api")}tabToNextCellCommon(e,t,n,r="ui"){const{editSvc:o,focusSvc:a}=this.beans;let l;const d=e instanceof yb?e:e.getAllCellCtrls()?.[0];return o?.isEditing()?l=o?.moveToNextCell(d,t,n,r):l=this.moveToNextCellNotEditing(e,t,n),l===null?l:l||!!a.focusedHeader}moveToNextCellNotEditing(e,t,n){const r=this.beans.visibleCols.allCols;let o;if(e instanceof zS){if(o={...e.getRowPosition(),column:t?r[0]:Tn(r)},this.gos.get("embedFullWidthRows")&&n){const l=e.findFullWidthInfoForEvent(n);l&&(o.column=l.column)}}else o=e.getFocusedCellPosition();const a=this.findNextCellToFocusOn(o,{backwards:t,startEditing:!1});if(a===!1)return null;if(a instanceof yb)a.focusCell(!0);else if(a)return this.tryToFocusFullWidthRow(a,t);return Ye(a)}findNextCellToFocusOn(e,{backwards:t,startEditing:n,skipToNextEditableCell:r}){let o=e;const a=this.beans,{cellNavigation:l,gos:d,focusSvc:f,rowRenderer:m,rangeSvc:v}=a;for(;;){e!==o&&(e=o),t||(o=this.getLastCellOfColSpan(o)),o=l.getNextTabbedCell(o,t);const C=d.getCallback("tabToNextCell");if(Ye(C)){const T=C({backwards:t,editing:n,previousCellPosition:e,nextCellPosition:o||null});if(T===!0)o=e;else{if(T===!1)return!1;o={rowIndex:T.rowIndex,column:T.column,rowPinned:T.rowPinned}}}if(!o)return null;if(o.rowIndex<0){const E=tc(a);return f.focusHeaderPosition({headerPosition:{headerRowIndex:E+o.rowIndex,column:o.column},fromCell:!0}),null}const y=d.get("editType")==="fullRow";if(n&&(!y||r)&&!this.isCellEditable(o))continue;this.ensureCellVisible(o);const S=lb(a,o);if(!S){const E=m.getRowByPosition(o);if(!E||!E.isFullWidth()||n)continue;return{...E.getRowPosition(),column:o?.column}}if(!l.isSuppressNavigable(S.column,S.rowNode))return S.setFocusedCellPosition(o),v?.setRangeToCell(o),S}}isCellEditable(e){const t=this.lookupRowNodeForCell(e);return t?e.column.isCellEditable(t):!1}lookupRowNodeForCell({rowIndex:e,rowPinned:t}){const{pinnedRowModel:n,rowModel:r}=this.beans;return t==="top"?n?.getPinnedTopRow(e):t==="bottom"?n?.getPinnedBottomRow(e):r.getRow(e)}navigateToNextCell(e,t,n,r){let o=n,a=!1;const l=this.beans,{cellNavigation:d,focusSvc:f,gos:m}=l;for(;o&&(o===n||!this.isValidNavigateCell(o));)m.get("enableRtl")?t===xe.LEFT&&(o=this.getLastCellOfColSpan(o)):t===xe.RIGHT&&(o=this.getLastCellOfColSpan(o)),o=d.getNextCellToFocus(t,o),a=zn(o);if(a&&e&&e.key===xe.UP&&(o={rowIndex:-1,rowPinned:null,column:n.column}),r){const C=m.getCallback("navigateToNextCell");if(Ye(C)){const S=C({key:t,previousCellPosition:n,nextCellPosition:o||null,event:e});Ye(S)?o={rowPinned:S.rowPinned,rowIndex:S.rowIndex,column:S.column}:o=null}}if(!o)return;if(o.rowIndex<0){const C=tc(l);f.focusHeaderPosition({headerPosition:{headerRowIndex:C+o.rowIndex,column:n.column},event:e||void 0,fromCell:!0});return}const v=this.getNormalisedPosition(o);v?this.focusPosition(v):this.tryToFocusFullWidthRow(o)}getNormalisedPosition(e){if(!!this.beans.spannedRowRenderer?.getCellByPosition(e))return e;this.ensureCellVisible(e);const n=lb(this.beans,e);return n?(e=n.getFocusedCellPosition(),this.ensureCellVisible(e),e):null}tryToFocusFullWidthRow(e,t){const{visibleCols:n,rowRenderer:r,focusSvc:o,eventSvc:a}=this.beans,l=n.allCols;if(!r.getRowByPosition(e)?.isFullWidth())return!1;const f=o.getFocusedCell(),m={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column||(t?Tn(l):l[0])};this.focusPosition(m);const v=t??(f!=null&&Ywe(m,f));return a.dispatchEvent({type:"fullWidthRowFocused",rowIndex:m.rowIndex,rowPinned:m.rowPinned,column:m.column,isFullWidthCell:!0,fromBelow:v}),!0}focusPosition(e){const{focusSvc:t,rangeSvc:n}=this.beans;t.setFocusedCell({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0}),n?.setRangeToCell(e)}isValidNavigateCell(e){return!!jd(this.beans,e)}getLastCellOfColSpan(e){const t=lb(this.beans,e);if(!t)return e;const n=t.getColSpanningList();return n.length===1?e:{rowIndex:e.rowIndex,column:Tn(n),rowPinned:e.rowPinned}}ensureCellVisible(e){const t=uE(this.gos),n=this.beans.rowModel.getRow(e.rowIndex),r=t&&n?.sticky,{scrollFeature:o}=this.gridBodyCon;!r&&zn(e.rowPinned)&&o.ensureIndexVisible(e.rowIndex),e.column.isPinned()||o.ensureColumnVisible(e.column)}ensureColumnVisible(e){const t=this.gridBodyCon.scrollFeature;e.isPinned()||t.ensureColumnVisible(e)}ensureRowVisible(e){this.gridBodyCon.scrollFeature.ensureIndexVisible(e)}};function sT(e){return e.ctrlsSvc.getScrollFeature().getVScrollPosition()}var rxe={moduleName:"KeyboardNavigation",version:Qe,beans:[nxe,Ske,F0e],apiFunctions:{getFocusedCell:_ke,clearFocusedCell:Eke,setFocusedCell:Dke,setFocusedHeader:Rke,tabToNextCell:Mke,tabToPreviousCell:Tke}},ixe=class extends Pe{constructor(){super(...arguments),this.beanName="pageBoundsListener"}postConstruct(){this.addManagedEventListeners({modelUpdated:this.onModelUpdated.bind(this),recalculateRowBounds:this.calculatePages.bind(this)}),this.onModelUpdated()}onModelUpdated(e){this.calculatePages(),this.eventSvc.dispatchEvent({type:"paginationChanged",animate:e?.animate??!1,newData:e?.newData??!1,newPage:e?.newPage??!1,newPageSize:e?.newPageSize??!1,keepRenderedRows:e?.keepRenderedRows??!1})}calculatePages(){const{pageBounds:e,pagination:t,rowModel:n}=this.beans;t?t.calculatePages():e.calculateBounds(0,n.getRowCount()-1)}},oxe=class extends Pe{constructor(){super(...arguments),this.beanName="pageBounds",this.pixelOffset=0}getFirstRow(){return this.topRowBounds?.rowIndex??-1}getLastRow(){return this.bottomRowBounds?.rowIndex??-1}getCurrentPageHeight(){const{topRowBounds:e,bottomRowBounds:t}=this;return!e||!t?0:Math.max(t.rowTop+t.rowHeight-e.rowTop,0)}getCurrentPagePixelRange(){const{topRowBounds:e,bottomRowBounds:t}=this,n=e?.rowTop??0,r=t?t.rowTop+t.rowHeight:0;return{pageFirstPixel:n,pageLastPixel:r}}calculateBounds(e,t){const{rowModel:n}=this.beans,r=n.getRowBounds(e);r&&(r.rowIndex=e),this.topRowBounds=r;const o=n.getRowBounds(t);o&&(o.rowIndex=t),this.bottomRowBounds=o,this.calculatePixelOffset()}getPixelOffset(){return this.pixelOffset}calculatePixelOffset(){const e=this.topRowBounds?.rowTop??0;this.pixelOffset!==e&&(this.pixelOffset=e,this.eventSvc.dispatchEvent({type:"paginationPixelOffsetChanged"}))}},sxe=".ag-pinned-left-floating-bottom,.ag-pinned-left-floating-top,.ag-pinned-right-floating-bottom,.ag-pinned-right-floating-top{min-width:0;overflow:hidden;position:relative}.ag-pinned-left-sticky-top,.ag-pinned-right-sticky-top{height:100%;overflow:hidden;position:relative}.ag-sticky-bottom-full-width-container,.ag-sticky-top-full-width-container{height:100%;overflow:hidden;width:100%}.ag-pinned-left-header,.ag-pinned-right-header{display:inline-block;height:100%;overflow:hidden;position:relative}.ag-body-horizontal-scroll:not(.ag-scrollbar-invisible){.ag-horizontal-left-spacer:not(.ag-scroller-corner){border-right:var(--ag-pinned-column-border)}.ag-horizontal-right-spacer:not(.ag-scroller-corner){border-left:var(--ag-pinned-column-border)}}.ag-pinned-right-header{border-left:var(--ag-pinned-column-border)}.ag-pinned-left-header{border-right:var(--ag-pinned-column-border)}.ag-cell.ag-cell-first-right-pinned:not(.ag-cell-range-left,.ag-cell-range-single-cell,.ag-cell-focus:not(.ag-cell-range-selected):focus-within){border-left:var(--ag-pinned-column-border)}.ag-cell.ag-cell-last-left-pinned:not(.ag-cell-range-right,.ag-cell-range-single-cell,.ag-cell-focus:not(.ag-cell-range-selected):focus-within){border-right:var(--ag-pinned-column-border)}.ag-pinned-left-header .ag-header-cell-resize:after{left:calc(50% - var(--ag-header-column-resize-handle-width))}.ag-pinned-right-header .ag-header-cell-resize:after{left:50%}.ag-pinned-left-header .ag-header-cell-resize{right:-3px}.ag-pinned-right-header .ag-header-cell-resize{left:-3px}",axe=class extends Pe{constructor(e,t){super(),this.isLeft=e,this.elements=t,this.getWidth=e?()=>this.beans.pinnedCols.leftWidth:()=>this.beans.pinnedCols.rightWidth}postConstruct(){this.addManagedEventListeners({[`${this.isLeft?"left":"right"}PinnedWidthChanged`]:this.onPinnedWidthChanged.bind(this)})}onPinnedWidthChanged(){const e=this.getWidth(),t=e>0;for(const n of this.elements)n&&(Ln(n,t),oc(n,e))}},lxe=class extends Pe{constructor(){super(...arguments),this.beanName="pinnedCols"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,t=>{this.gridBodyCtrl=t.gridBodyCtrl});const e=this.checkContainerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}checkContainerWidths(){const{gos:e,visibleCols:t,eventSvc:n}=this.beans,r=xi(e,"print"),o=r?0:t.getColsLeftWidth(),a=r?0:t.getDisplayedColumnsRightWidth();o!=this.leftWidth&&(this.leftWidth=o,n.dispatchEvent({type:"leftPinnedWidthChanged"})),a!=this.rightWidth&&(this.rightWidth=a,n.dispatchEvent({type:"rightPinnedWidthChanged"}))}keepPinnedColumnsNarrowerThanViewport(){const e=this.gridBodyCtrl.eBodyViewport,t=jy(e);if(t<=50)return;const n=this.getPinnedColumnsOverflowingViewport(t-50),r=this.gos.getCallback("processUnpinnedColumns"),{columns:o,hasLockedPinned:a}=n;let l=o;!l.length&&!a||(r&&(l=r({columns:l,viewportWidth:t})),l?.length&&(l=l.filter(d=>!Ad(d)),this.setColsPinned(l,null,"viewportSizeFeature")))}createPinnedWidthFeature(e,...t){return new axe(e,t)}setColsPinned(e,t,n){const{colModel:r,colAnimation:o,visibleCols:a,gos:l}=this.beans;if(!r.cols||!e?.length)return;if(xi(l,"print")){ze(37);return}o?.start();let d;t===!0||t==="left"?d="left":t==="right"?d="right":d=null;const f=[];for(const m of e){if(!m)continue;const v=r.getCol(m);v&&v.getPinned()!==d&&(this.setColPinned(v,d),f.push(v))}f.length&&(a.refresh(n),qW(this.eventSvc,f,n)),o?.finish()}initCol(e){const{pinned:t,initialPinned:n}=e.colDef;t!==void 0?this.setColPinned(e,t):this.setColPinned(e,n)}setColPinned(e,t){t===!0||t==="left"?e.pinned="left":t==="right"?e.pinned="right":e.pinned=null,e.dispatchStateUpdatedEvent("pinned")}setupHeaderPinnedWidth(e){const{scrollVisibleSvc:t}=this.beans;if(e.pinned==null)return;const n=e.pinned==="left",r=e.pinned==="right";e.hidden=!0;const o=()=>{const a=n?this.leftWidth:this.rightWidth;if(a==null)return;const l=a==0,d=e.hidden!==l,f=this.gos.get("enableRtl"),m=t.getScrollbarWidth(),C=t.verticalScrollShowing&&(f&&n||!f&&r)?a+m:a;e.comp.setPinnedContainerWidth(`${C}px`),e.comp.setDisplayed(!l),d&&(e.hidden=l,e.refresh())};e.addManagedEventListeners({leftPinnedWidthChanged:o,rightPinnedWidthChanged:o,scrollVisibilityChanged:o,scrollbarWidthChanged:o})}getHeaderResizeDiff(e,t){if(t.getPinned()){const{leftWidth:r,rightWidth:o}=this,a=jy(this.beans.ctrlsSvc.getGridBodyCtrl().eBodyViewport)-50;if(r+o+e>a)if(a>r+o)e=a-r-o;else return 0}return e}getPinnedColumnsOverflowingViewport(e){const t=this.rightWidth??0,n=this.leftWidth??0,r=t+n;let o=!1;if(r<e)return{columns:[],hasLockedPinned:o};const{visibleCols:a}=this.beans,l=[...a.leftCols],d=[...a.rightCols];let f=0,m=0;const v=0,C=[];let y=r-v-e;for(;(m<l.length||f<d.length)&&y>0;){if(f<d.length){const S=d[f++];if(S.colDef.lockPinned){o=!0;continue}y-=S.getActualWidth(),C.push(S)}if(m<l.length&&y>0){const S=l[m++];if(S.colDef.lockPinned){o=!0;continue}y-=S.getActualWidth(),C.push(S)}}return{columns:C,hasLockedPinned:o}}},cxe={moduleName:"PinnedColumn",version:Qe,beans:[lxe],css:[sxe]},dxe=class extends Pe{constructor(){super(),this.beanName="ariaAnnounce",this.descriptionContainer=null,this.pendingAnnouncements=new Map,this.lastAnnouncement="",this.updateAnnouncement=Ci(this,this.updateAnnouncement.bind(this),200)}postConstruct(){const e=this.beans,t=Wr(e),n=this.descriptionContainer=t.createElement("div");n.classList.add("ag-aria-description-container"),eW(n,"polite"),jfe(n,"additions text"),Bfe(n,!0),e.eGridDiv.appendChild(n)}announceValue(e,t){this.pendingAnnouncements.set(t,e),this.updateAnnouncement()}updateAnnouncement(){if(!this.descriptionContainer)return;const e=Array.from(this.pendingAnnouncements.values()).join(". ");this.pendingAnnouncements.clear(),this.descriptionContainer.textContent="",setTimeout(()=>{this.handleAnnouncementUpdate(e)},50)}handleAnnouncementUpdate(e){if(!this.isAlive()||!this.descriptionContainer)return;let t=e;if(t==null||t.replace(/[ .]/g,"")==""){this.lastAnnouncement="";return}this.lastAnnouncement===t&&(t=`${t}`),this.lastAnnouncement=t,this.descriptionContainer.textContent=t}destroy(){super.destroy();const{descriptionContainer:e}=this;e&&(ki(e),e.remove()),this.descriptionContainer=null,this.pendingAnnouncements.clear()}},uxe={moduleName:"Aria",version:Qe,beans:[dxe]},hxe=":where(.ag-delay-render){.ag-cell,.ag-header-cell,.ag-header-group-cell,.ag-row,.ag-spanned-cell-wrapper{visibility:hidden}}",n8="ag-delay-render",fxe=class extends Pe{constructor(){super(...arguments),this.beanName="colDelayRenderSvc",this.hideRequested=!1,this.alreadyRevealed=!1,this.timesRetried=0,this.requesters=new Set}hideColumns(e){this.alreadyRevealed||this.requesters.has(e)||(this.requesters.add(e),this.hideRequested||(this.beans.ctrlsSvc.whenReady(this,t=>{t.gridBodyCtrl.eGridBody.classList.add(n8)}),this.hideRequested=!0))}revealColumns(e){if(this.alreadyRevealed||!this.isAlive()||(this.requesters.delete(e),this.requesters.size>0))return;const{renderStatus:t,ctrlsSvc:n}=this.beans;if(t){if(!t.areHeaderCellsRendered()&&this.timesRetried<5){this.timesRetried++,setTimeout(()=>this.revealColumns(e));return}this.timesRetried=0}n.getGridBodyCtrl().eGridBody.classList.remove(n8),this.alreadyRevealed=!0}},pxe={moduleName:"ColumnDelayRender",version:Qe,beans:[fxe],css:[hxe]};function gxe(e){e.overlays?.showLoadingOverlay()}function mxe(e){e.overlays?.showNoRowsOverlay()}function bxe(e){e.overlays?.hideOverlay()}var vxe=".ag-overlay{inset:0;pointer-events:none;position:absolute;z-index:2}.ag-overlay-panel,.ag-overlay-wrapper{display:flex;height:100%;width:100%}.ag-overlay-wrapper{align-items:center;flex:none;justify-content:center;text-align:center}.ag-overlay-loading-wrapper{pointer-events:all}.ag-overlay-loading-center{background:var(--ag-background-color);border:solid var(--ag-border-width) var(--ag-border-color);border-radius:var(--ag-border-radius);box-shadow:var(--ag-popup-shadow);padding:var(--ag-spacing)}",wxe={tag:"div",cls:"ag-overlay",role:"presentation",children:[{tag:"div",cls:"ag-overlay-panel",role:"presentation",children:[{tag:"div",ref:"eOverlayWrapper",cls:"ag-overlay-wrapper",role:"presentation"}]}]},Fq=class extends nn{constructor(){super(wxe),this.eOverlayWrapper=qe,this.activePromise=null,this.activeOverlay=null,this.updateListenerDestroyFunc=null,this.activeCssClass=null,this.elToFocusAfter=null,this.registerCSS(vxe)}handleKeyDown(e){if(e.key!==xe.TAB||e.defaultPrevented||Qa(e))return;const t=this.beans;if(og(t,this.eOverlayWrapper,!1,e.shiftKey))return;let r=!1;e.shiftKey?r=t.focusSvc.focusGridView({column:Tn(t.visibleCols.allCols),backwards:!0,canFocusOverlay:!1}):r=Rb(t,!1),r&&e.preventDefault()}updateLayoutClasses(e,t){const n=this.eOverlayWrapper.classList,{AUTO_HEIGHT:r,NORMAL:o,PRINT:a}=Wa;n.toggle(r,t.autoHeight),n.toggle(o,t.normal),n.toggle(a,t.print)}postConstruct(){this.createManagedBean(new $N(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.beans.overlays.setOverlayWrapperComp(this),this.addManagedElementListeners(this.getFocusableElement(),{keydown:this.handleKeyDown.bind(this)})}setWrapperTypeClass(e){const t=this.eOverlayWrapper.classList;this.activeCssClass&&t.toggle(this.activeCssClass,!1),this.activeCssClass=e,t.toggle(e,!0)}showOverlay(e,t,n,r){if(this.setWrapperTypeClass(t),this.destroyActiveOverlay(),this.elToFocusAfter=null,this.activePromise=e,!!e){if(this.setDisplayed(!0,{skipAriaHidden:!0}),n&&this.isGridFocused()){const o=Qn(this.beans);o&&!ZU(this.beans)&&(this.elToFocusAfter=o)}e.then(o=>{if(this.activePromise!==e){this.activeOverlay!==o&&(this.destroyBean(o),o=null);return}if(this.activePromise=null,!!o){if(this.activeOverlay!==o&&(this.eOverlayWrapper.appendChild(o.getGui()),this.activeOverlay=o,r)){const a=o;this.updateListenerDestroyFunc=this.addManagedPropertyListener(r,({currentValue:l})=>{a.refresh?.(ht(this.gos,{...l??{}}))})}n&&this.isGridFocused()&&Fh(this.eOverlayWrapper)}})}}updateOverlayWrapperPaddingTop(e){this.eOverlayWrapper.style.setProperty("padding-top",`${e}px`)}destroyActiveOverlay(){this.activePromise=null;const e=this.activeOverlay;if(!e)return;let t=this.elToFocusAfter;this.activeOverlay=null,this.elToFocusAfter=null,t&&!this.isGridFocused()&&(t=null);const n=this.updateListenerDestroyFunc;n&&(n(),this.updateListenerDestroyFunc=null),this.destroyBean(e),ki(this.eOverlayWrapper),t?.focus?.({preventScroll:!0})}hideOverlay(){this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})}isGridFocused(){const e=Qn(this.beans);return!!e&&this.beans.eGridDiv.contains(e)}destroy(){this.elToFocusAfter=null,this.destroyActiveOverlay(),this.beans.overlays.setOverlayWrapperComp(void 0),super.destroy()}},Cxe={selector:"AG-OVERLAY-WRAPPER",component:Fq},yxe=class extends Pe{constructor(){super(...arguments),this.beanName="overlays",this.state=0,this.showInitialOverlay=!0,this.wrapperPadding=0}postConstruct(){this.isClientSide=Wn(this.gos),this.isServerSide=!this.isClientSide&&cc(this.gos);const e=()=>this.updateOverlayVisibility();this.addManagedEventListeners({newColumnsLoaded:e,rowDataUpdated:e,gridSizeChanged:this.refreshWrapperPadding.bind(this),rowCountReady:()=>{this.showInitialOverlay=!1,this.updateOverlayVisibility()}}),this.addManagedPropertyListener("loading",e)}setOverlayWrapperComp(e){this.eWrapper=e,this.updateOverlayVisibility()}isVisible(){return this.state!==0&&!!this.eWrapper}isExclusive(){return this.state===1&&!!this.eWrapper}showLoadingOverlay(){this.showInitialOverlay=!1;const e=this.gos,t=e.get("loading");!t&&(t!==void 0||e.get("suppressLoadingOverlay"))||this.doShowLoadingOverlay()}showNoRowsOverlay(){this.showInitialOverlay=!1;const e=this.gos;e.get("loading")||e.get("suppressNoRowsOverlay")||this.doShowNoRowsOverlay()}hideOverlay(){if(this.showInitialOverlay=!1,this.gos.get("loading")){ze(99);return}this.doHideOverlay()}getOverlayWrapperSelector(){return Cxe}getOverlayWrapperCompClass(){return Fq}updateOverlayVisibility(){if(!this.eWrapper){this.state=0;return}const{state:e,isClientSide:t,isServerSide:n,beans:{gos:r,colModel:o,rowModel:a}}=this;let l=this.gos.get("loading");l!==void 0&&(this.showInitialOverlay=!1),this.showInitialOverlay&&l===void 0&&!r.get("suppressLoadingOverlay")&&(l=!r.get("columnDefs")||!o.ready||!r.get("rowData")&&t),l?e!==1&&this.doShowLoadingOverlay():(this.showInitialOverlay=!1,t&&a.isEmpty()&&!r.get("suppressNoRowsOverlay")?e!==2&&this.doShowNoRowsOverlay():(e===1||!n&&e!==0)&&this.doHideOverlay())}doShowLoadingOverlay(){this.eWrapper&&(this.state=1,this.showOverlay(Zge(this.beans.userCompFactory,ht(this.gos,{})),"ag-overlay-loading-wrapper","loadingOverlayComponentParams"),this.updateExclusive())}doShowNoRowsOverlay(){this.eWrapper&&(this.state=2,this.showOverlay(Xge(this.beans.userCompFactory,ht(this.gos,{})),"ag-overlay-no-rows-wrapper","noRowsOverlayComponentParams"),this.updateExclusive())}doHideOverlay(){this.eWrapper&&(this.state=0,this.eWrapper.hideOverlay(),this.updateExclusive())}showOverlay(e,t,n){const r=e?.newAgStackInstance()??null;this.eWrapper?.showOverlay(r,t,this.isExclusive(),n),this.refreshWrapperPadding()}updateExclusive(){const e=this.exclusive;this.exclusive=this.isExclusive(),this.exclusive!==e&&this.eventSvc.dispatchEvent({type:"overlayExclusiveChanged"})}refreshWrapperPadding(){const e=this.eWrapper;if(!e)return;let t=0;this.state===2&&(t=this.beans.ctrlsSvc.get("gridHeaderCtrl")?.headerHeight||0),this.wrapperPadding!==t&&(this.wrapperPadding=t,e.updateOverlayWrapperPaddingTop(t))}},kxe={moduleName:"Overlay",version:Qe,userComponents:{agLoadingOverlay:Fve,agNoRowsOverlay:Bve},apiFunctions:{showLoadingOverlay:gxe,showNoRowsOverlay:mxe,hideOverlay:bxe},beans:[yxe]},xxe=class extends Pe{constructor(){super(...arguments),this.beanName="rowContainerHeight",this.scrollY=0,this.uiBodyHeight=0}postConstruct(){this.addManagedEventListeners({bodyHeightChanged:this.updateOffset.bind(this)}),this.maxDivHeight=nme(),Nh(this.gos,"RowContainerHeightService - maxDivHeight = "+this.maxDivHeight)}updateOffset(){if(!this.stretching)return;const e=this.beans.ctrlsSvc.getScrollFeature().getVScrollPosition().top,t=this.getUiBodyHeight();(e!==this.scrollY||t!==this.uiBodyHeight)&&(this.scrollY=e,this.uiBodyHeight=t,this.calculateOffset())}calculateOffset(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;const e=this.scrollY/this.maxScrollY,t=e*this.pixelsToShave;Nh(this.gos,`RowContainerHeightService - Div Stretch Offset = ${t} (${this.pixelsToShave} * ${e})`),this.setDivStretchOffset(t)}setUiContainerHeight(e){e!==this.uiContainerHeight&&(this.uiContainerHeight=e,this.eventSvc.dispatchEvent({type:"rowContainerHeightChanged"}))}clearOffset(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)}setDivStretchOffset(e){const t=typeof e=="number"?Math.floor(e):null;this.divStretchOffset!==t&&(this.divStretchOffset=t,this.eventSvc.dispatchEvent({type:"heightScaleChanged"}))}setModelHeight(e){this.modelHeight=e,this.stretching=e!=null&&this.maxDivHeight>0&&e>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()}getRealPixelPosition(e){return e-this.divStretchOffset}getUiBodyHeight(){const e=this.beans.ctrlsSvc.getScrollFeature().getVScrollPosition();return e.bottom-e.top}getScrollPositionForPixel(e){if(this.pixelsToShave<=0)return e;const t=this.modelHeight-this.getUiBodyHeight(),n=e/t;return this.maxScrollY*n}},Axe=400,Sxe=class extends Pe{constructor(){super(...arguments),this.beanName="rowRenderer",this.destroyFuncsForColumnListeners=[],this.rowCtrlsByRowIndex={},this.zombieRowCtrls={},this.allRowCtrls=[],this.topRowCtrls=[],this.bottomRowCtrls=[],this.refreshInProgress=!1,this.dataFirstRenderedFired=!1,this.setupRangeSelectionListeners=()=>{const e=()=>{for(const a of this.getAllCellCtrls())a.onCellSelectionChanged()},t=()=>{for(const a of this.getAllCellCtrls())a.updateRangeBordersIfRangeCount()},n=()=>{this.eventSvc.addListener("cellSelectionChanged",e),this.eventSvc.addListener("columnMoved",t),this.eventSvc.addListener("columnPinned",t),this.eventSvc.addListener("columnVisible",t)},r=()=>{this.eventSvc.removeListener("cellSelectionChanged",e),this.eventSvc.removeListener("columnMoved",t),this.eventSvc.removeListener("columnPinned",t),this.eventSvc.removeListener("columnVisible",t)};this.addDestroyFunc(()=>r()),this.addManagedPropertyListeners(["enableRangeSelection","cellSelection"],()=>{Ld(this.gos)?n():r()}),Ld(this.gos)&&n()}}wireBeans(e){this.pageBounds=e.pageBounds,this.colModel=e.colModel,this.pinnedRowModel=e.pinnedRowModel,this.rowModel=e.rowModel,this.focusSvc=e.focusSvc,this.rowContainerHeight=e.rowContainerHeight,this.ctrlsSvc=e.ctrlsSvc,this.editSvc=e.editSvc}postConstruct(){this.ctrlsSvc.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.initialise()})}initialise(){this.addManagedEventListeners({paginationChanged:this.onPageLoaded.bind(this),pinnedRowDataChanged:this.onPinnedRowDataChanged.bind(this),pinnedRowsChanged:this.onPinnedRowsChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),bodyScroll:this.onBodyScroll.bind(this),bodyHeightChanged:this.redraw.bind(this,{})}),this.addManagedPropertyListeners(["domLayout","embedFullWidthRows"],()=>this.onDomLayoutChanged()),this.addManagedPropertyListeners(["suppressMaxRenderedRowRestriction","rowBuffer"],()=>this.redraw()),this.addManagedPropertyListener("suppressCellFocus",r=>this.onSuppressCellFocusChanged(r.currentValue)),this.addManagedPropertyListeners(["groupSuppressBlankHeader","getBusinessKeyForNode","fullWidthCellRenderer","fullWidthCellRendererParams","suppressStickyTotalRow","groupRowRenderer","groupRowRendererParams","loadingCellRenderer","loadingCellRendererParams","detailCellRenderer","detailCellRendererParams","enableRangeSelection","enableCellTextSelection"],()=>this.redrawRows()),this.addManagedPropertyListener("cellSelection",({currentValue:r,previousValue:o})=>{(!o&&r||o&&!r)&&this.redrawRows()});const{stickyRowSvc:e,gos:t,showRowGroupCols:n}=this.beans;if(n&&this.addManagedPropertyListener("showOpenedGroup",()=>{const r=n.getShowRowGroupCols();r.length&&this.refreshCells({columns:r,force:!0})}),e)this.stickyRowFeature=e.createStickyRowFeature(this,this.createRowCon.bind(this),this.destroyRowCtrls.bind(this));else{const r=this.gridBodyCtrl;r.setStickyTopHeight(0),r.setStickyBottomHeight(0)}this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=xi(t,"print"),this.embedFullWidthRows=this.printLayout||t.get("embedFullWidthRows"),this.redrawAfterModelUpdate()}initialiseCache(){if(this.gos.get("keepDetailRows")){const e=this.getKeepDetailRowsCount(),t=e??3;this.cachedRowCtrls=new _xe(t)}}getKeepDetailRowsCount(){return this.gos.get("keepDetailRowsCount")}getStickyTopRowCtrls(){return this.stickyRowFeature?.stickyTopRowCtrls??[]}getStickyBottomRowCtrls(){return this.stickyRowFeature?.stickyBottomRowCtrls??[]}updateAllRowCtrls(){const e=Object.values(this.rowCtrlsByRowIndex),t=Object.values(this.zombieRowCtrls),n=this.cachedRowCtrls?.getEntries()??[];t.length>0||n.length>0?this.allRowCtrls=[...e,...t,...n]:this.allRowCtrls=e}isCellBeingRendered(e,t){const n=this.rowCtrlsByRowIndex[e];return!t||!n?!!n:n.isFullWidth()?!0:!!this.beans.spannedRowRenderer?.getCellByPosition({rowIndex:e,column:t,rowPinned:null})||!!n.getCellCtrl(t)||!n.isRowRendered()}updateCellFocus(e){for(const t of this.getAllCellCtrls())t.onCellFocused(e);for(const t of this.getFullWidthRowCtrls())t.onFullWidthRowFocused(e)}onCellFocusChanged(e){if(e?.rowIndex!=null&&!e.rowPinned){const t=this.beans.colModel.getCol(e.column)??void 0;this.isCellBeingRendered(e.rowIndex,t)||this.redraw()}this.updateCellFocus(e)}onSuppressCellFocusChanged(e){for(const t of this.getAllCellCtrls())t.onSuppressCellFocusChanged(e);for(const t of this.getFullWidthRowCtrls())t.onSuppressCellFocusChanged(e)}registerCellEventListeners(){this.addManagedEventListeners({cellFocused:e=>this.onCellFocusChanged(e),cellFocusCleared:()=>this.updateCellFocus(),flashCells:e=>{const{cellFlashSvc:t}=this.beans;if(t)for(const n of this.getAllCellCtrls())t.onFlashCells(n,e)},columnHoverChanged:()=>{for(const e of this.getAllCellCtrls())e.onColumnHover()},displayedColumnsChanged:()=>{for(const e of this.getAllCellCtrls())e.onDisplayedColumnsChanged()},displayedColumnsWidthChanged:()=>{if(this.printLayout)for(const e of this.getAllCellCtrls())e.onLeftChanged()}}),this.setupRangeSelectionListeners(),this.refreshListenersToColumnsForCellComps(),this.addManagedEventListeners({gridColumnsChanged:this.refreshListenersToColumnsForCellComps.bind(this)}),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))}removeGridColumnListeners(){for(const e of this.destroyFuncsForColumnListeners)e();this.destroyFuncsForColumnListeners.length=0}refreshListenersToColumnsForCellComps(){this.removeGridColumnListeners();const e=this.colModel.getCols();for(const t of e){const n=f=>{for(const m of this.getAllCellCtrls())m.column===t&&f(m)},r=()=>{n(f=>f.onLeftChanged())},o=()=>{n(f=>f.onWidthChanged())},a=()=>{n(f=>f.onFirstRightPinnedChanged())},l=()=>{n(f=>f.onLastLeftPinnedChanged())},d=()=>{n(f=>f.onColDefChanged())};t.__addEventListener("leftChanged",r),t.__addEventListener("widthChanged",o),t.__addEventListener("firstRightPinnedChanged",a),t.__addEventListener("lastLeftPinnedChanged",l),t.__addEventListener("colDefChanged",d),this.destroyFuncsForColumnListeners.push(()=>{t.__removeEventListener("leftChanged",r),t.__removeEventListener("widthChanged",o),t.__removeEventListener("firstRightPinnedChanged",a),t.__removeEventListener("lastLeftPinnedChanged",l),t.__removeEventListener("colDefChanged",d)})}}onDomLayoutChanged(){const e=xi(this.gos,"print"),t=e||this.gos.get("embedFullWidthRows"),n=t!==this.embedFullWidthRows||this.printLayout!==e;this.printLayout=e,this.embedFullWidthRows=t,n&&this.redrawAfterModelUpdate({domLayoutChanged:!0})}datasourceChanged(){this.firstRenderedRow=0,this.lastRenderedRow=-1;const e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)}onPageLoaded(e){const t={recycleRows:e.keepRenderedRows,animate:e.animate,newData:e.newData,newPage:e.newPage,onlyBody:!0};this.redrawAfterModelUpdate(t)}getAllCellsNotSpanningForColumn(e){const t=[];for(const n of this.getAllRowCtrls()){const r=n.getCellCtrl(e,!0)?.eGui;r&&t.push(r)}return t}refreshFloatingRowComps(e=!0){this.refreshFloatingRows(this.topRowCtrls,"top",e),this.refreshFloatingRows(this.bottomRowCtrls,"bottom",e)}refreshFloatingRows(e,t,n){const{pinnedRowModel:r,beans:o,printLayout:a}=this,l=Object.fromEntries(e.map(f=>[f.rowNode.id,f]));r?.forEachPinnedRow(t,(f,m)=>{const v=e[m];v&&r.getPinnedRowById(v.rowNode.id,t)===void 0&&(v.destroyFirstPass(),v.destroySecondPass()),f.id in l&&n?(e[m]=l[f.id],delete l[f.id]):e[m]=new zS(f,o,!1,!1,a)});const d=(t==="top"?r?.getPinnedTopRowCount():r?.getPinnedBottomRowCount())??0;e.length=d}onPinnedRowDataChanged(){const e={recycleRows:!0};this.redrawAfterModelUpdate(e)}onPinnedRowsChanged(){this.redrawAfterModelUpdate({recycleRows:!0})}redrawRow(e,t=!1){if(e.sticky)this.stickyRowFeature?.refreshStickyNode(e);else if(this.cachedRowCtrls?.has(e)){this.cachedRowCtrls.removeRow(e);return}else{const n=r=>{const o=r[e.rowIndex];o&&o.rowNode===e&&(o.destroyFirstPass(),o.destroySecondPass(),r[e.rowIndex]=this.createRowCon(e,!1,!1))};switch(e.rowPinned){case"top":n(this.topRowCtrls);break;case"bottom":n(this.bottomRowCtrls);break;default:n(this.rowCtrlsByRowIndex),this.updateAllRowCtrls()}}t||this.dispatchDisplayedRowsChanged(!1)}redrawRows(e){const{editSvc:t}=this.beans;if(t?.isEditing()&&(t.isBatchEditing()?t.cleanupEditors():t.stopEditing(void 0,{source:"api"})),e!=null){for(const r of e??[])this.redrawRow(r,!0);this.dispatchDisplayedRowsChanged(!1);return}this.redrawAfterModelUpdate()}redrawAfterModelUpdate(e={}){this.getLockOnRefresh();const t=this.beans.focusSvc?.getFocusCellToUseAfterRefresh();this.updateContainerHeights(),this.scrollToTopIfNewData(e);const n=!e.domLayoutChanged&&!!e.recycleRows,r=e.animate&&pb(this.gos),o=n?this.getRowsToRecycle():null;n||this.removeAllRowComps(),this.workOutFirstAndLastRowsToRender();const{stickyRowFeature:a,gos:l}=this;if(a){a.checkStickyRows();const d=a.extraTopHeight+a.extraBottomHeight;d&&this.updateContainerHeights(d)}this.recycleRows(o,r),this.gridBodyCtrl.updateRowCount(),e.onlyBody||this.refreshFloatingRowComps(l.get("enableRowPinning")?n:void 0),this.dispatchDisplayedRowsChanged(),t!=null&&this.restoreFocusedCell(t),this.releaseLockOnRefresh()}scrollToTopIfNewData(e){const t=e.newData||e.newPage,n=this.gos.get("suppressScrollOnNewData");t&&!n&&(this.gridBodyCtrl.scrollFeature.scrollToTop(),this.stickyRowFeature?.resetOffsets())}updateContainerHeights(e=0){const{rowContainerHeight:t}=this;if(this.printLayout){t.setModelHeight(null);return}let n=this.pageBounds.getCurrentPageHeight();n===0&&(n=1),t.setModelHeight(n+e)}getLockOnRefresh(){if(this.refreshInProgress)throw new Error(sc(252));this.refreshInProgress=!0,this.beans.frameworkOverrides.getLockOnRefresh?.()}releaseLockOnRefresh(){this.refreshInProgress=!1,this.beans.frameworkOverrides.releaseLockOnRefresh?.()}isRefreshInProgress(){return this.refreshInProgress}restoreFocusedCell(e){if(!e)return;const t=this.beans.focusSvc,n=this.findPositionToFocus(e);if(!n){t.focusHeaderPosition({headerPosition:{headerRowIndex:tc(this.beans)-1,column:e.column}});return}if(e.rowIndex!==n.rowIndex||e.rowPinned!=n.rowPinned){t.setFocusedCell({...n,preventScrollOnBrowserFocus:!0,forceBrowserFocus:!0});return}t.doesRowOrCellHaveBrowserFocus()||this.updateCellFocus(ht(this.gos,{...n,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,type:"cellFocused"}))}findPositionToFocus(e){const{pagination:t,pageBounds:n}=this.beans;let r=e;for(r.rowPinned==null&&t&&n&&!t.isRowInPage(r.rowIndex)&&(r={rowPinned:null,rowIndex:n.getFirstRow()});r;){if(r.rowPinned==null&&n)if(r.rowIndex<n.getFirstRow()){if(r=BS(this.beans,{rowPinned:null,rowIndex:0}),!r)return null}else r.rowIndex>n.getLastRow()&&(r={rowPinned:null,rowIndex:n.getLastRow()});const o=this.getRowByPosition(r);if(o?.isAlive())return{...o.getRowPosition(),column:e.column};r=BS(this.beans,r)}return null}getAllCellCtrls(){const e=[],t=this.getAllRowCtrls(),n=t.length;for(let r=0;r<n;r++){const o=t[r].getAllCellCtrls(),a=o.length;for(let l=0;l<a;l++)e.push(o[l])}return e}getAllRowCtrls(){const{spannedRowRenderer:e}=this.beans,t=this.getStickyTopRowCtrls(),n=this.getStickyBottomRowCtrls();return[...this.topRowCtrls,...this.bottomRowCtrls,...t,...n,...e?.getCtrls("top")??[],...e?.getCtrls("bottom")??[],...e?.getCtrls("center")??[],...Object.values(this.rowCtrlsByRowIndex)]}addRenderedRowListener(e,t,n){const r=this.rowCtrlsByRowIndex[t];r&&r.addEventListener(e,n)}refreshCells({rowNodes:e,columns:t,force:n,suppressFlash:r}={}){const o={force:n,newData:!1,suppressFlash:r};for(const a of this.getCellCtrls(e,t))a.refreshOrDestroyCell(o);this.refreshFullWidth(e)}refreshRows(e={}){for(const t of this.getRowCtrls(e.rowNodes))t.refreshRow(e);this.refreshFullWidth(e.rowNodes)}refreshFullWidth(e){if(!e)return;let t=!1;for(const n of this.getRowCtrls(e)){if(!n.isFullWidth())continue;n.refreshFullWidth()||(t=!0,this.redrawRow(n.rowNode,!0))}t&&this.dispatchDisplayedRowsChanged(!1)}getRowCtrls(e){const t=KP(e),n=this.getAllRowCtrls();return!e||!t?n:n.filter(r=>{const o=r.rowNode;return YP(o,t)})}getCellCtrls(e,t){let n;Ye(t)&&(n={},t.forEach(o=>{const a=this.colModel.getCol(o);Ye(a)&&(n[a.getId()]=!0)}));const r=[];for(const o of this.getRowCtrls(e))for(const a of o.getAllCellCtrls()){const l=a.column.getId();n&&!n[l]||r.push(a)}return r}destroy(){this.removeAllRowComps(!0),super.destroy()}removeAllRowComps(e=!1){const t=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(t,e),this.stickyRowFeature?.destroyStickyCtrls()}getRowsToRecycle(){const e=[];for(const n of Object.keys(this.rowCtrlsByRowIndex))this.rowCtrlsByRowIndex[n].rowNode.id==null&&e.push(n);this.removeRowCtrls(e);const t={};for(const n of Object.values(this.rowCtrlsByRowIndex)){const r=n.rowNode;t[r.id]=n}return this.rowCtrlsByRowIndex={},t}removeRowCtrls(e,t=!1){for(const n of e){const r=this.rowCtrlsByRowIndex[n];r&&(r.destroyFirstPass(t),r.destroySecondPass()),delete this.rowCtrlsByRowIndex[n]}}onBodyScroll(e){e.direction==="vertical"&&this.redraw({afterScroll:!0})}redraw(e={}){const{focusSvc:t,animationFrameSvc:n}=this.beans,{afterScroll:r}=e;let o;const a=this.stickyRowFeature;a&&(o=t?.getFocusCellToUseAfterRefresh()||void 0);const l=this.firstRenderedRow,d=this.lastRenderedRow;this.workOutFirstAndLastRowsToRender();let f=!1;if(a){f=a.checkStickyRows();const v=a.extraTopHeight+a.extraBottomHeight;v&&this.updateContainerHeights(v)}const m=this.firstRenderedRow!==l||this.lastRenderedRow!==d;if(!(r&&!f&&!m)&&(this.getLockOnRefresh(),this.recycleRows(null,!1,r),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(r&&!f),o!=null)){const v=t?.getFocusCellToUseAfterRefresh();o!=null&&v==null&&(n?.flushAllFrames(),this.restoreFocusedCell(o))}}removeRowCompsNotToDraw(e,t){const n={};for(const a of e)n[a]=!0;const o=Object.keys(this.rowCtrlsByRowIndex).filter(a=>!n[a]);this.removeRowCtrls(o,t)}calculateIndexesToDraw(e){const t=[];for(let l=this.firstRenderedRow;l<=this.lastRenderedRow;l++)t.push(l);const n=this.beans.pagination,r=this.beans.focusSvc?.getFocusedCell()?.rowIndex;r!=null&&(r<this.firstRenderedRow||r>this.lastRenderedRow)&&(!n||n.isRowInPage(r))&&r<this.rowModel.getRowCount()&&t.push(r);const o=l=>{const d=l.rowNode.rowIndex;d==null||d===r||(d<this.firstRenderedRow||d>this.lastRenderedRow)&&this.doNotUnVirtualiseRow(l)&&t.push(d)};for(const l of Object.values(this.rowCtrlsByRowIndex))o(l);if(e)for(const l of Object.values(e))o(l);t.sort((l,d)=>l-d);const a=[];for(let l=0;l<t.length;l++){const d=t[l],f=this.rowModel.getRow(d);f&&!f.sticky&&a.push(d)}return a}recycleRows(e,t=!1,n=!1){const r=this.calculateIndexesToDraw(e);(this.printLayout||n)&&(t=!1),this.removeRowCompsNotToDraw(r,!t);for(const o of r)this.createOrUpdateRowCtrl(o,e,t,n);if(e){const{animationFrameSvc:o}=this.beans;o?.active&&n&&!this.printLayout?o.addDestroyTask(()=>{this.destroyRowCtrls(e,t),this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}):this.destroyRowCtrls(e,t)}this.updateAllRowCtrls()}dispatchDisplayedRowsChanged(e=!1){this.eventSvc.dispatchEvent({type:"displayedRowsChanged",afterScroll:e})}onDisplayedColumnsChanged(){const{visibleCols:e}=this.beans,t=e.isPinningLeft(),n=e.isPinningRight();(this.pinningLeft!==t||n!==this.pinningRight)&&(this.pinningLeft=t,this.pinningRight=n,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())}redrawFullWidthEmbeddedRows(){const e=[];for(const t of this.getFullWidthRowCtrls()){const n=t.rowNode.rowIndex;e.push(n.toString())}this.refreshFloatingRowComps(),this.removeRowCtrls(e),this.redraw({afterScroll:!0})}getFullWidthRowCtrls(e){const t=KP(e);return this.getAllRowCtrls().filter(n=>{if(!n.isFullWidth())return!1;const r=n.rowNode;return!(t!=null&&!YP(r,t))})}createOrUpdateRowCtrl(e,t,n,r){let o,a=this.rowCtrlsByRowIndex[e];if(a||(o=this.rowModel.getRow(e),Ye(o)&&Ye(t)&&t[o.id]&&o.alreadyRendered&&(a=t[o.id],t[o.id]=null)),!a)if(o||(o=this.rowModel.getRow(e)),Ye(o))a=this.createRowCon(o,n,r);else return;o&&(o.alreadyRendered=!0),this.rowCtrlsByRowIndex[e]=a}destroyRowCtrls(e,t){const n=[];if(e){for(const r of Object.values(e))if(r){if(this.cachedRowCtrls&&r.isCacheable()){this.cachedRowCtrls.addRow(r);continue}if(r.destroyFirstPass(!t),t){const o=r.instanceId;this.zombieRowCtrls[o]=r,n.push(()=>{r.destroySecondPass(),delete this.zombieRowCtrls[o]})}else r.destroySecondPass()}}t&&(n.push(()=>{this.isAlive()&&(this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged())}),window.setTimeout(()=>{for(const r of n)r()},Axe))}getRowBuffer(){return this.gos.get("rowBuffer")}getRowBufferInPixels(){const e=this.getRowBuffer(),t=Rp(this.beans);return e*t}workOutFirstAndLastRowsToRender(){const{rowContainerHeight:e,pageBounds:t,rowModel:n}=this;e.updateOffset();let r,o;if(!n.isRowsToRender())r=0,o=-1;else if(this.printLayout)this.beans.environment.refreshRowHeightVariable(),r=t.getFirstRow(),o=t.getLastRow();else{const v=this.getRowBufferInPixels(),C=this.ctrlsSvc.getScrollFeature(),y=this.gos.get("suppressRowVirtualisation");let S=!1,E,T;do{const V=t.getPixelOffset(),{pageFirstPixel:U,pageLastPixel:$}=t.getCurrentPagePixelRange(),z=e.divStretchOffset,K=C.getVScrollPosition(),te=K.top,ae=K.bottom;y?(E=U+z,T=$+z):(E=Math.max(te+V-v,U)+z,T=Math.min(ae+V+v,$)+z),this.firstVisibleVPixel=Math.max(te+V,U)+z,this.lastVisibleVPixel=Math.min(ae+V,$)+z,S=this.ensureAllRowsInRangeHaveHeightsCalculated(E,T)}while(S);let P=n.getRowIndexAtPixel(E),N=n.getRowIndexAtPixel(T);const j=t.getFirstRow(),L=t.getLastRow();P<j&&(P=j),N>L&&(N=L),r=P,o=N}const a=xi(this.gos,"normal"),l=this.gos.get("suppressMaxRenderedRowRestriction"),d=Math.max(this.getRowBuffer(),500);a&&!l&&o-r>d&&(o=r+d);const f=r!==this.firstRenderedRow,m=o!==this.lastRenderedRow;(f||m)&&(this.firstRenderedRow=r,this.lastRenderedRow=o,this.eventSvc.dispatchEvent({type:"viewportChanged",firstRow:r,lastRow:o}))}dispatchFirstDataRenderedEvent(){this.dataFirstRenderedFired||(this.dataFirstRenderedFired=!0,Zd(this.beans,()=>{this.beans.eventSvc.dispatchEvent({type:"firstDataRendered",firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow})}))}ensureAllRowsInRangeHaveHeightsCalculated(e,t){const n=this.pinnedRowModel?.ensureRowHeightsValid(),r=this.stickyRowFeature?.ensureRowHeightsValid(),{pageBounds:o,rowModel:a}=this,l=a.ensureRowHeightsValid(e,t,o.getFirstRow(),o.getLastRow());return(l||r)&&this.eventSvc.dispatchEvent({type:"recalculateRowBounds"}),r||l||n?(this.updateContainerHeights(),!0):!1}doNotUnVirtualiseRow(e){const r=e.rowNode,o=this.focusSvc.isRowFocused(r.rowIndex,r.rowPinned),a=this.editSvc?.isEditing(e),l=r.detail;return o||a||l?!!this.isRowPresent(r):!1}isRowPresent(e){return this.rowModel.isRowPresent(e)?this.beans.pagination?.isRowInPage(e.rowIndex)??!0:!1}createRowCon(e,t,n){const r=this.cachedRowCtrls?.getRow(e)??null;if(r)return r;const o=n&&!this.printLayout&&!!this.beans.animationFrameSvc?.active;return new zS(e,this.beans,t,o,this.printLayout)}getRenderedNodes(){const e=Object.values(this.rowCtrlsByRowIndex).map(r=>r.rowNode),t=this.getStickyTopRowCtrls().map(r=>r.rowNode),n=this.getStickyBottomRowCtrls().map(r=>r.rowNode);return[...t,...e,...n]}getRowByPosition(e){let t;const{rowIndex:n}=e;switch(e.rowPinned){case"top":t=this.topRowCtrls[n];break;case"bottom":t=this.bottomRowCtrls[n];break;default:t=this.rowCtrlsByRowIndex[n],t||(t=this.getStickyTopRowCtrls().find(r=>r.rowNode.rowIndex===n)||null,t||(t=this.getStickyBottomRowCtrls().find(r=>r.rowNode.rowIndex===n)||null));break}return t}isRangeInRenderedViewport(e,t){if(e==null||t==null)return!1;const r=e>this.lastRenderedRow;return!(t<this.firstRenderedRow)&&!r}},_xe=class{constructor(e){this.entriesMap={},this.entriesList=[],this.maxCount=e}addRow(e){if(this.entriesMap[e.rowNode.id]=e,this.entriesList.push(e),e.setCached(!0),this.entriesList.length>this.maxCount){const t=this.entriesList[0];t.destroyFirstPass(),t.destroySecondPass(),this.removeFromCache(t)}}getRow(e){if(e?.id==null)return null;const t=this.entriesMap[e.id];return t?(this.removeFromCache(t),t.setCached(!1),t.rowNode!=e?null:t):null}has(e){return this.entriesMap[e.id]!=null}removeRow(e){const t=e.id,n=this.entriesMap[t];delete this.entriesMap[t],el(this.entriesList,n)}removeFromCache(e){const t=e.rowNode.id;delete this.entriesMap[t],el(this.entriesList,e)}getEntries(){return this.entriesList}};function KP(e){if(!e)return;const t={top:{},bottom:{},normal:{}};for(const n of e){const r=n.id;switch(n.rowPinned){case"top":t.top[r]=n;break;case"bottom":t.bottom[r]=n;break;default:t.normal[r]=n;break}}return t}function YP(e,t){const n=e.id;switch(e.rowPinned){case"top":return t.top[n]!=null;case"bottom":return t.bottom[n]!=null;default:return t.normal[n]!=null}}var Exe=class extends Pe{constructor(){super(...arguments),this.beanName="rowNodeSorter"}postConstruct(){const{gos:e}=this;this.isAccentedSort=e.get("accentedSort"),this.primaryColumnsSortGroups=Ql(e),this.addManagedPropertyListener("accentedSort",t=>this.isAccentedSort=t.currentValue),this.addManagedPropertyListener("autoGroupColumnDef",()=>this.primaryColumnsSortGroups=Ql(e))}doFullSort(e,t){const n=e.map((r,o)=>({currentPos:o,rowNode:r}));return n.sort(this.compareRowNodes.bind(this,t)),n.map(r=>r.rowNode)}compareRowNodes(e,t,n){const r=t.rowNode,o=n.rowNode;for(let a=0,l=e.length;a<l;a++){const d=e[a],f=d.sort==="desc",m=this.getValue(r,d.column),v=this.getValue(o,d.column);let C;const y=this.getComparator(d,r);if(y?C=y(m,v,r,o,f):C=Rfe(m,v,this.isAccentedSort),!isNaN(C)&&C!==0)return d.sort==="asc"?C:C*-1}return t.currentPos-n.currentPos}getComparator(e,t){const n=e.column,r=n.getColDef().comparator;if(r!=null)return r;if(!n.getColDef().showRowGroup)return;const o=!t.group&&n.getColDef().field;if(!o)return;const a=this.beans.colModel.getColDefCol(o);if(a)return a.getColDef().comparator}getValue(e,t){const{valueSvc:n,colModel:r,showRowGroupCols:o,gos:a}=this.beans;if(!this.primaryColumnsSortGroups)return n.getValue(t,e,!1);if(e.rowGroupColumn===t){if(NW(a,r.isPivotActive())){const m=e.data?e:x$(e.childrenAfterGroup);return m&&n.getValue(t,m,!1)}const f=o?.getShowRowGroupCol(t.getId());return f?e.groupData?.[f.getId()]:void 0}if(!(e.group&&t.getColDef().showRowGroup))return n.getValue(t,e,!1)}};function Dxe(e){e.sortSvc?.onSortChanged("api")}var Lq={moduleName:"Sort",version:Qe,beans:[W0e,Exe],apiFunctions:{onSortChanged:Dxe},userComponents:{agSortIndicator:nO},icons:{sortAscending:"asc",sortDescending:"desc",sortUnSort:"none"}},Mxe=class extends Pe{constructor(){super(...arguments),this.beanName="syncSvc",this.waitingForColumns=!1}postConstruct(){this.addManagedPropertyListener("columnDefs",e=>this.setColumnDefs(e))}start(){this.beans.ctrlsSvc.whenReady(this,()=>{const e=this.gos.get("columnDefs");e?this.setColumnsAndData(e):this.waitingForColumns=!0,this.gridReady()})}setColumnsAndData(e){const{colModel:t,rowModel:n}=this.beans;t.setColumnDefs(e??[],"gridInitializing"),n.start()}gridReady(){const{eventSvc:e,gos:t}=this;e.dispatchEvent({type:"gridReady"}),Nh(t,`initialised successfully, enterprise = ${t.isModuleRegistered("EnterpriseCore")}`)}setColumnDefs(e){const t=this.gos.get("columnDefs");if(t){if(this.waitingForColumns){this.waitingForColumns=!1,this.setColumnsAndData(t);return}this.beans.colModel.setColumnDefs(t,gb(e.source))}}};function Txe(e){e.valueCache?.expire()}function Rxe(e,t){const{colKey:n,rowNode:r,useFormatter:o}=t,a=e.colModel.getColDefCol(n)??e.colModel.getCol(n);if(zn(a))return null;const l=e.valueSvc.getValueForDisplay(a,r,o);return o?l.valueFormatted??ng(l.value):l.value}var Pxe="paste",Ixe=class extends Pe{constructor(){super(...arguments),this.beanName="changeDetectionSvc",this.clientSideRowModel=null}postConstruct(){const{gos:e,rowModel:t}=this.beans;Wn(e)&&(this.clientSideRowModel=t),this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this)})}onCellValueChanged(e){const{gos:t,rowRenderer:n}=this.beans;if(e.source===Pxe||t.get("suppressChangeDetection"))return;const r=e.node,o=[r],a=this.clientSideRowModel,l=a?.rootNode;if(l&&!r.isRowPinned()){const d=t.get("aggregateOnlyChangedColumns"),f=new qy(d,l);f.addParentNode(r.parent,[e.column]),a.doAggregate(f),f.forEachChangedNodeDepthFirst(m=>{o.push(m),m.sibling&&o.push(m.sibling)})}n.refreshCells({rowNodes:o})}},Nxe=class extends Pe{constructor(){super(...arguments),this.beanName="expressionSvc",this.cache={}}evaluate(e,t){if(typeof e=="string")return this.evaluateExpression(e,t);Cn(15,{expression:e})}evaluateExpression(e,t){try{return this.createExpressionFunction(e)(t.value,t.context,t.oldValue,t.newValue,t.value,t.node,t.data,t.colDef,t.rowIndex,t.api,t.getValue,t.column,t.columnGroup)}catch(n){return Cn(16,{expression:e,params:t,e:n}),null}}createExpressionFunction(e){const t=this.cache;if(t[e])return t[e];const n=this.createFunctionBody(e),r=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, getValue, column, columnGroup",n);return t[e]=r,r}createFunctionBody(e){return e.includes("return")?e:"return "+e+";"}},Oxe=class extends Pe{constructor(){super(...arguments),this.beanName="valueCache",this.cacheVersion=0}postConstruct(){const e=this.gos;this.active=e.get("valueCache"),this.neverExpires=e.get("valueCacheNeverExpires")}onDataChanged(){this.neverExpires||this.expire()}expire(){this.cacheVersion++}setValue(e,t,n){if(this.active){const r=this.cacheVersion;e.__cacheVersion!==r&&(e.__cacheVersion=r,e.__cacheData={}),e.__cacheData[t]=n}}getValue(e,t){if(!(!this.active||e.__cacheVersion!==this.cacheVersion))return e.__cacheData[t]}},Fxe={moduleName:"ValueCache",version:Qe,beans:[Oxe],apiFunctions:{expireValueCache:Txe}},Lxe={moduleName:"Expression",version:Qe,beans:[Nxe]},Bxe={moduleName:"ChangeDetection",version:Qe,beans:[Ixe]},jxe={moduleName:"CellApi",version:Qe,apiFunctions:{getCellValue:Rxe}},zxe=class extends Pe{constructor(){super(...arguments),this.beanName="valueSvc",this.hasEditSvc=!1,this.initialised=!1,this.isSsrm=!1}wireBeans(e){this.expressionSvc=e.expressionSvc,this.colModel=e.colModel,this.valueCache=e.valueCache,this.dataTypeSvc=e.dataTypeSvc,this.editSvc=e.editSvc,this.hasEditSvc=!!e.editSvc}postConstruct(){this.initialised||this.init()}init(){this.executeValueGetter=this.valueCache?this.executeValueGetterWithValueCache.bind(this):this.executeValueGetterWithoutValueCache.bind(this),this.isSsrm=cc(this.gos),this.cellExpressions=this.gos.get("enableCellExpressions"),this.isTreeData=this.gos.get("treeData"),this.initialised=!0;const e=t=>this.callColumnCellValueChangedHandler(t);this.eventSvc.addListener("cellValueChanged",e,!0),this.addDestroyFunc(()=>this.eventSvc.removeListener("cellValueChanged",e,!0)),this.addManagedPropertyListener("treeData",t=>this.isTreeData=t.currentValue)}getValueForDisplay(e,t,n=!1,r=!1,o="ui"){const{showRowGroupColValueSvc:a}=this.beans,l=!e&&t.group,d=e?.colDef.showRowGroup,f=!this.isTreeData||t.footer;if(a&&f&&(l||d)){const T=a.getGroupValue(t,e);if(T==null)return{value:null,valueFormatted:null};if(!n)return{value:T.value,valueFormatted:null};const P=a.formatAndPrefixGroupColValue(T,e,r);return{value:T.value,valueFormatted:P}}if(!e)return{value:t.key,valueFormatted:null};const m=t.leafGroup&&this.colModel.isPivotMode(),v=t.group&&t.expanded&&!t.footer&&!m,C=this.gos.get("groupSuppressBlankHeader")||!t.sibling,y=v&&!C,S=this.getValue(e,t,y,o),E=n&&!(r&&e.colDef.useValueFormatterForExport===!1);return{value:S,valueFormatted:E?this.formatValue(e,t,S):null}}getValue(e,t,n=!1,r="ui"){if(this.initialised||this.init(),!t)return;const o=e.getColDef(),a=o.field,l=e.getColId(),d=t.data;if(this.hasEditSvc&&r==="ui"){const T=this.editSvc;if(T.isEditing()){const P=T.getCellDataValue({rowNode:t,column:e},!0);if(P!==void 0)return P}}let f;const m=o.showRowGroup;if(typeof m=="string"&&(this.beans.rowGroupColsSvc?.getColumnIndex(m)??-1)>t.level)return null;const v=typeof m!="string"||!t.group,C=t.groupData&&l in t.groupData,y=!n&&t.aggData&&t.aggData[l]!==void 0,S=this.isSsrm&&n&&!!o.aggFunc,E=this.isSsrm&&t.footer&&t.field&&(o.showRowGroup===!0||o.showRowGroup===t.field);if(this.isTreeData&&y)f=t.aggData[l];else if(this.isTreeData&&o.valueGetter)f=this.executeValueGetter(o.valueGetter,d,e,t);else if(this.isTreeData&&a&&d)f=Dy(d,a,e.isFieldContainsDots());else if(C)f=t.groupData[l];else if(y)f=t.aggData[l];else if(o.valueGetter&&!S){if(!v)return f;f=this.executeValueGetter(o.valueGetter,d,e,t)}else if(E)f=Dy(d,t.field,e.isFieldContainsDots());else if(a&&d&&!S){if(!v)return f;f=Dy(d,a,e.isFieldContainsDots())}if(this.cellExpressions&&typeof f=="string"&&f.indexOf("=")===0){const T=f.substring(1);f=this.executeValueGetter(T,d,e,t)}return f}parseValue(e,t,n,r){const o=e.getColDef(),a=o.valueParser;if(Ye(a)){const l=ht(this.gos,{node:t,data:t?.data,oldValue:r,newValue:n,colDef:o,column:e});return typeof a=="function"?a(l):this.expressionSvc?.evaluate(a,l)}return n}getDeleteValue(e,t){return Ye(e.getColDef().valueParser)?this.parseValue(e,t,"",this.getValueForDisplay(e,t).value)??null:null}formatValue(e,t,n,r,o=!0){const{expressionSvc:a}=this.beans;let l=null,d;const f=e.getColDef();if(r?d=r:o&&(d=f.valueFormatter),d){const m=t?t.data:null,v=ht(this.gos,{value:n,node:t,data:m,colDef:f,column:e});typeof d=="function"?l=d(v):l=a?a.evaluate(d,v):null}else if(f.refData)return f.refData[n]||"";return l==null&&Array.isArray(n)&&(l=n.join(", ")),l}setValue(e,t,n,r){const o=this.colModel.getColDefCol(t);if(!e||!o)return!1;zn(e.data)&&(e.data={});const{field:a,valueSetter:l}=o.getColDef();if(zn(a)&&zn(l))return ze(17),!1;if(this.dataTypeSvc&&!this.dataTypeSvc.checkType(o,n))return ze(135),!1;const d=ht(this.gos,{node:e,data:e.data,oldValue:this.getValue(o,e,void 0,r),newValue:n,colDef:o.getColDef(),column:o});d.newValue=n;let f;if(Ye(l)?typeof l=="function"?f=l(d):f=this.expressionSvc?.evaluate(l,d):f=this.setValueUsingField(e.data,a,n,o.isFieldContainsDots()),f===void 0&&(f=!0),!f)return!1;e.resetQuickFilterAggregateText(),this.valueCache?.onDataChanged();const m=this.getValue(o,e);return this.dispatchCellValueChangedEvent(e,d,m,r),e.pinnedSibling&&this.dispatchCellValueChangedEvent(e.pinnedSibling,d,m,r),!0}dispatchCellValueChangedEvent(e,t,n,r){this.eventSvc.dispatchEvent({type:"cellValueChanged",event:null,rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:t.column,colDef:t.colDef,data:e.data,node:e,oldValue:t.oldValue,newValue:n,value:n,source:r})}callColumnCellValueChangedHandler(e){const t=e.colDef.onCellValueChanged;typeof t=="function"&&this.beans.frameworkOverrides.wrapOutgoing(()=>{t({node:e.node,data:e.data,oldValue:e.oldValue,newValue:e.newValue,colDef:e.colDef,column:e.column,api:e.api,context:e.context})})}setValueUsingField(e,t,n,r){if(!t)return!1;let o=!1;if(!r)o=e[t]===n,o||(e[t]=n);else{const a=t.split(".");let l=e;for(;a.length>0&&l;){const d=a.shift();a.length===0?(o=l[d]===n,o||(l[d]=n)):l=l[d]}}return!o}executeValueGetterWithValueCache(e,t,n,r){const o=n.getColId(),a=this.valueCache.getValue(r,o);if(a!==void 0)return a;const l=this.executeValueGetterWithoutValueCache(e,t,n,r);return this.valueCache.setValue(r,o,l),l}executeValueGetterWithoutValueCache(e,t,n,r){const o=ht(this.gos,{data:t,node:r,column:n,colDef:n.getColDef(),getValue:this.getValueCallback.bind(this,r)});let a;return typeof e=="function"?a=e(o):a=this.expressionSvc?.evaluate(e,o),a}getValueCallback(e,t){const n=this.colModel.getColDefCol(t);return n?this.getValue(n,e):null}getKeyForNode(e,t){const n=this.getValue(e,t),r=e.getColDef().keyCreator;let o=n;if(r){const a=ht(this.gos,{value:n,colDef:e.getColDef(),column:e,node:t,data:t.data});o=r(a)}return typeof o=="string"||o==null||(o=String(o),o==="[object Object]"&&ze(121)),o}},Hxe={moduleName:"CommunityCore",version:Qe,beans:[H0e,Twe,Vye,yge,xxe,eye,O0e,uke,bge,oxe,ixe,Sxe,zxe,j0e,N0e,z0e,Uye,Mxe,Lye,Bye,kke],icons:{selectOpen:"small-down",smallDown:"small-down",colorPicker:"color-picker",smallUp:"small-up",checkboxChecked:"small-up",checkboxIndeterminate:"checkbox-indeterminate",checkboxUnchecked:"checkbox-unchecked",radioButtonOn:"radio-button-on",radioButtonOff:"radio-button-off",smallLeft:"small-left",smallRight:"small-right"},apiFunctions:{getGridId:Rwe,destroy:Pwe,isDestroyed:Iwe,getGridOption:Nwe,setGridOption:Owe,updateGridOptions:rq,isModuleRegistered:Fwe},dependsOn:[Nye,PCe,jCe,Lq,vke,nye,wke,kxe,Bxe,yke,rxe,cxe,uxe,Ake,Hye,Oye,Lxe,sye,pxe]},Bq={AdvancedFilter:1,AiToolkit:1,AllEnterprise:1,BatchEdit:1,CellSelection:1,Clipboard:1,ColumnMenu:1,ColumnsToolPanel:1,ContextMenu:1,ExcelExport:1,FiltersToolPanel:1,Find:1,GridCharts:1,IntegratedCharts:1,GroupFilter:1,MasterDetail:1,Menu:1,MultiFilter:1,NewFiltersToolPanel:1,Pivot:1,RangeSelection:1,RichSelect:1,RowNumbers:1,RowGrouping:1,RowGroupingPanel:1,ServerSideRowModelApi:1,ServerSideRowModel:1,SetFilter:1,SideBar:1,Sparklines:1,StatusBar:1,TreeData:1,ViewportRowModel:1},aT=["TextFilter","NumberFilter","DateFilter","SetFilter","MultiFilter","GroupFilter","CustomFilter"],Vxe={EditCore:["TextEditor","NumberEditor","DateEditor","CheckboxEditor","LargeTextEditor","SelectEditor","RichSelect","CustomEditor"],CheckboxCellRenderer:["AllCommunity"],ClientSideRowModelHierarchy:["RowGrouping","Pivot","TreeData"],ColumnFilter:aT,ColumnGroupHeaderComp:["AllCommunity"],ColumnGroup:["AllCommunity"],ColumnHeaderComp:["AllCommunity"],ColumnMove:["AllCommunity"],ColumnResize:["AllCommunity"],CommunityCore:["AllCommunity"],CsrmSsrmSharedApi:["ClientSideRowModelApi","ServerSideRowModelApi"],RowModelSharedApi:["ClientSideRowModelApi","ServerSideRowModelApi"],EnterpriseCore:["AllEnterprise"],FilterCore:[...aT,"QuickFilter","ExternalFilter","AdvancedFilter"],GroupCellRenderer:["RowGrouping","Pivot","TreeData","MasterDetail","ServerSideRowModel"],KeyboardNavigation:["AllCommunity"],LoadingCellRenderer:["ServerSideRowModel"],MenuCore:["ColumnMenu","ContextMenu"],MenuItem:["ColumnMenu","ContextMenu","MultiFilter","IntegratedCharts","ColumnsToolPanel"],Overlay:["AllCommunity"],PinnedColumn:["AllCommunity"],SharedAggregation:["RowGrouping","Pivot","TreeData","ServerSideRowModel"],SharedDragAndDrop:["AllCommunity"],SharedMasterDetail:["MasterDetail","ServerSideRowModel"],SharedMenu:[...aT,"ColumnMenu","ContextMenu"],SharedPivot:["Pivot","ServerSideRowModel"],SharedRowGrouping:["RowGrouping","ServerSideRowModel"],SharedRowSelection:["RowSelection","ServerSideRowModel"],SkeletonCellRenderer:["ServerSideRowModel"],Sort:["AllCommunity"],SsrmInfiniteSharedApi:["InfiniteRowModel","ServerSideRowModelApi"],SharedTreeData:["TreeData","ServerSideRowModel"]},Gxe={InfiniteRowModel:"infinite",ClientSideRowModelApi:"clientSide",ClientSideRowModel:"clientSide",ServerSideRowModelApi:"serverSide",ServerSideRowModel:"serverSide",ViewportRowModel:"viewport"};function Uxe(e,t){const n=[];for(const r of Array.isArray(e)?e:[e]){const o=Vxe[r];if(o)for(const a of o){const l=Gxe[a];(!l||l===t)&&n.push(a)}else n.push(r)}return n}var jq=()=>`No AG Grid modules are registered! It is recommended to start with all Community features via the AllCommunityModule:
                    
    import { ModuleRegistry, AllCommunityModule } from 'ag-grid-community';
    
    ModuleRegistry.registerModules([ AllCommunityModule ]);
    `,Wxe=e=>{const t=e.map(r=>`import { ${My(r)} } from '${Bq[r]?"ag-grid-enterprise":"ag-grid-community"}';`);return e.some(r=>r==="IntegratedCharts"||r==="Sparklines")&&t.push("import { AgChartsEnterpriseModule } from 'ag-charts-enterprise';"),`import { ModuleRegistry } from 'ag-grid-community'; 
${t.join(` 
`)} 

ModuleRegistry.registerModules([ ${e.map(r=>My(r,!0)).join(", ")} ]); 

For more info see: ${fb}/modules/`};function My(e,t=!1){return t&&(e==="IntegratedCharts"||e==="Sparklines")?`${e}Module.with(AgChartsEnterpriseModule)`:`${e}Module`}function $xe(e,t){const n=t.filter(a=>a==="IntegratedCharts"||a==="Sparklines");let r="";return!globalThis?.agCharts&&n.length>0?r=`Unable to use ${e} as either the ag-charts-community or ag-charts-enterprise script needs to be included alongside ag-grid-enterprise.
`:t.some(a=>Bq[a])&&(r=r+`Unable to use ${e} as that requires the ag-grid-enterprise script to be included.
`),r}function zq({moduleName:e,rowModelType:t}){return`To use the ${e}Module you must set the gridOption "rowModelType='${t}'"`}var r8=({reasonOrId:e,moduleName:t,gridScoped:n,gridId:r,rowModelType:o,additionalText:a,isUmd:l})=>{const d=Uxe(t,o),f=typeof e=="string"?e:Qxe[e];if(l)return $xe(f,d);const m=d.filter(y=>y==="IntegratedCharts"||y==="Sparklines"),v=m.length>0?`${m.map(y=>My(y)).join()} must be initialised with an AG Charts module. One of 'AgChartsCommunityModule' / 'AgChartsEnterpriseModule'.`:"";return`${`Unable to use ${f} as ${d.length>1?"one of "+d.map(y=>My(y)).join(", "):My(d[0])} is not registered${n?" for gridId: "+r:""}. ${v} Check if you have registered the module:
`}
${Wxe(d)}`+(a?` 

${a}`:"")},i8=e=>`${e} must be initialised with an AG Charts module. One of 'AgChartsCommunityModule' / 'AgChartsEnterpriseModule'.

import { AgChartsEnterpriseModule } from 'ag-charts-enterprise';
import { ModuleRegistry } from 'ag-grid-community';
import { ${e} } from 'ag-grid-enterprise';
    
ModuleRegistry.registerModules([${e}.with(AgChartsEnterpriseModule)]);
    `,qxe=e=>`AG Grid: Unable to use the Clipboard API (navigator.clipboard.${e}()). The reason why it could not be used has been logged in the previous line. For this reason the grid has defaulted to using a workaround which doesn't perform as well. Either fix why Clipboard API is blocked, OR stop this message from appearing by setting grid property suppressClipboardApi=true (which will default the grid to using the workaround rather than the API.`,Kxe={1:()=>"`rowData` must be an array",2:({nodeId:e})=>`Duplicate node id '${e}' detected from getRowId callback, this could cause issues in your grid.`,3:()=>"Calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.",4:({id:e})=>`Could not find row id=${e}, data item was not found for this id`,5:({data:e})=>["Could not find data item as object was not found.",e," Consider using getRowId to help the Grid find matching row data"],6:()=>"'groupHideOpenParents' only works when specifying specific columns for 'colDef.showRowGroup'",7:()=>"Pivoting is not supported with aligned grids as it may produce different columns in each grid.",8:({key:e})=>`Unknown key for navigation ${e}`,9:({variable:e})=>`No value for ${e?.cssName}. This usually means that the grid has been initialised before styles have been loaded. The default value of ${e?.defaultValue} will be used and updated when styles load.`,10:({eventType:e})=>`As of v33, the '${e}' event is deprecated. Use the global 'modelUpdated' event to determine when row children have changed.`,11:()=>"No gridOptions provided to createGrid",12:({colKey:e})=>["column ",e," not found"],13:()=>"Could not find rowIndex, this means tasks are being executed on a rowNode that has been removed from the grid.",14:({groupPrefix:e})=>`Row IDs cannot start with ${e}, this is a reserved prefix for AG Grid's row grouping feature.`,15:({expression:e})=>["value should be either a string or a function",e],16:({expression:e,params:t,e:n})=>["Processing of the expression failed","Expression = ",e,"Params = ",t,"Exception = ",n],17:()=>"you need either field or valueSetter set on colDef for editing to work",18:()=>"alignedGrids contains an undefined option.",19:()=>"alignedGrids - No api found on the linked grid.",20:()=>`You may want to configure via a callback to avoid setup race conditions:
                     "alignedGrids: () => [linkedGrid]"`,21:()=>"pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.",22:({key:e})=>`${e} is an initial property and cannot be updated.`,23:()=>"The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead.",24:()=>"row height must be a number if not using standard row model",25:({id:e})=>["The getRowId callback must return a string. The ID ",e," is being cast to a string."],26:({fnName:e,preDestroyLink:t})=>`Grid API function ${e}() cannot be called as the grid has been destroyed.
 Either clear local references to the grid api, when it is destroyed, or check gridApi.isDestroyed() to avoid calling methods against a destroyed grid.
 To run logic when the grid is about to be destroyed use the gridPreDestroy event. See: ${t}`,27:({fnName:e,module:t})=>`API function '${e}' not registered to module '${t}'`,28:()=>"setRowCount cannot be used while using row grouping.",29:()=>"tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?",30:({toIndex:e})=>["tried to insert columns in invalid location, toIndex = ",e,"remember that you should not count the moving columns when calculating the new index"],31:()=>"infinite loop in resizeColumnSets",32:()=>"applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state.",33:()=>"stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON.",34:({key:e})=>`the column type '${e}' is a default column type and cannot be overridden.`,35:()=>"Column type definitions 'columnTypes' with a 'type' attribute are not supported because a column type cannot refer to another column type. Only column definitions 'columnDefs' can use the 'type' attribute to refer to a column type.",36:({t:e})=>"colDef.type '"+e+"' does not correspond to defined gridOptions.columnTypes",37:()=>"Changing the column pinning status is not allowed with domLayout='print'",38:({iconName:e})=>`provided icon '${e}' needs to be a string or a function`,39:()=>"Applying column order broke a group where columns should be married together. Applying new order has been discarded.",40:({e,method:t})=>`${e}
${qxe(t)}`,41:()=>"Browser did not allow document.execCommand('copy'). Ensure 'api.copySelectedRowsToClipboard() is invoked via a user event, i.e. button click, otherwise the browser will prevent it for security reasons.",42:()=>"Browser does not support document.execCommand('copy') for clipboard operations",43:({iconName:e})=>`As of v33, icon '${e}' is deprecated. Use the icon CSS name instead.`,44:()=>'Data type definition hierarchies (via the "extendsDataType" property) cannot contain circular references.',45:({parentCellDataType:e})=>`The data type definition ${e} does not exist.`,46:()=>'The "baseDataType" property of a data type definition must match that of its parent.',47:({cellDataType:e})=>`Missing data type definition - "${e}"`,48:({property:e})=>`Cell data type is "object" but no Value ${e} has been provided. Please either provide an object data type definition with a Value ${e}, or set "colDef.value${e}"`,49:({methodName:e})=>`Framework component is missing the method ${e}()`,50:({compName:e})=>`Could not find component ${e}, did you forget to configure this component?`,51:()=>"Export cancelled. Export is not allowed as per your configuration.",52:()=>"There is no `window` associated with the current `document`",53:()=>"unknown value type during csv conversion",54:()=>"Could not find document body, it is needed for drag and drop and context menu.",55:()=>"addRowDropZone - A container target needs to be provided",56:()=>"addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.",57:()=>"unable to show popup filter, filter instantiation failed",58:()=>"no values found for select cellEditor",59:()=>"cannot select pinned rows",60:()=>"cannot select node until it has finished loading",61:()=>"since version v32.2.0, rowNode.isFullWidthCell() has been deprecated. Instead check `rowNode.detail` followed by the user provided `isFullWidthRow` grid option.",62:({colId:e})=>`setFilterModel() - no column found for colId: ${e}`,63:({colId:e})=>`setFilterModel() - unable to fully apply model, filtering disabled for colId: ${e}`,64:({colId:e})=>`setFilterModel() - unable to fully apply model, unable to create filter for colId: ${e}`,65:()=>"filter missing setModel method, which is needed for setFilterModel",66:()=>"filter API missing getModel method, which is needed for getFilterModel",67:()=>"Filter is missing isFilterActive() method",68:()=>"Column Filter API methods have been disabled as Advanced Filters are enabled.",69:({guiFromFilter:e})=>`getGui method from filter returned ${e}; it should be a DOM element.`,70:({newFilter:e})=>`Grid option quickFilterText only supports string inputs, received: ${typeof e}`,71:()=>"debounceMs is ignored when apply button is present",72:({keys:e})=>["ignoring FilterOptionDef as it doesn't contain one of ",e],73:()=>"invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'",74:()=>"no filter options for filter",75:()=>"Unknown button type specified",76:({filterModelType:e})=>['Unexpected type of filter "',e,'", it looks like the filter was configured with incorrect Filter Options'],77:()=>"Filter model is missing 'conditions'",78:()=>'Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.',79:()=>'"filterParams.maxNumConditions" must be greater than or equal to zero.',80:()=>'"filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.',81:()=>'"filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".',82:({param:e})=>`DateFilter ${e} is not a number`,83:()=>"DateFilter minValidYear should be <= maxValidYear",84:()=>"DateFilter minValidDate should be <= maxValidDate",85:()=>"DateFilter should not have both minValidDate and minValidYear parameters set at the same time! minValidYear will be ignored.",86:()=>"DateFilter should not have both maxValidDate and maxValidYear parameters set at the same time! maxValidYear will be ignored.",87:()=>"DateFilter parameter minValidDate should always be lower than or equal to parameter maxValidDate.",88:({index:e})=>`Invalid row index for ensureIndexVisible: ${e}`,89:()=>"A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)",90:()=>"datasource is missing getRows method",91:()=>"Filter is missing method doesFilterPass",92:()=>"AnimationFrameService called but animation frames are off",93:()=>"cannot add multiple ranges when `cellSelection.suppressMultiRanges = true`",94:({paginationPageSizeOption:e,pageSizeSet:t,pageSizesSet:n,pageSizeOptions:r})=>`'paginationPageSize=${e}'${t?"":" (default value)"}, but ${e} is not included in${n?"":" the default"} paginationPageSizeSelector=[${r?.join(", ")}].`,95:({paginationPageSizeOption:e,paginationPageSizeSelector:t})=>`Either set '${t}' to an array that includes ${e} or to 'false' to disable the page size selector.`,96:({id:e,data:t})=>["Duplicate ID",e,"found for pinned row with data",t,"When `getRowId` is defined, it must return unique IDs for all pinned rows. Use the `rowPinned` parameter."],97:({colId:e})=>`cellEditor for column ${e} is missing getGui() method`,98:()=>"popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.",99:()=>"Since v32, `api.hideOverlay()` does not hide the loading overlay when `loading=true`. Set `loading=false` instead.",101:({propertyName:e,componentName:t,agGridDefaults:n,jsComps:r})=>{const o=[],a=[...Object.keys(n??[]).filter(d=>!["agCellEditor","agGroupRowRenderer","agSortIndicator"].includes(d)),...Object.keys(r??[]).filter(d=>!!r[d])],l=IP({inputValue:t,allSuggestions:a,hideIrrelevant:!0,filterByPercentageOfBestMatch:.8}).values;return o.push(`Could not find '${t}' component. It was configured as "${e}: '${t}'" but it wasn't found in the list of registered components.
`),l.length>0&&o.push(`         Did you mean: [${l.slice(0,3)}]?
`),o.push("If using a custom component check it has been registered correctly."),o},102:()=>"selectAll: 'filtered' only works when gridOptions.rowModelType='clientSide'",103:()=>"Invalid selection state. When using client-side row model, the state must conform to `string[]`.",104:({value:e,param:t})=>`Numeric value ${e} passed to ${t} param will be interpreted as ${e} seconds. If this is intentional use "${e}s" to silence this warning.`,105:({e})=>["chart rendering failed",e],106:()=>`Theming API and Legacy Themes are both used in the same page. A Theming API theme has been provided to the 'theme' grid option, but the file (ag-grid.css) is also included and will cause styling issues. Remove ag-grid.css from the page. See the migration guide: ${fb}/theming-migration/`,107:({key:e,value:t})=>`Invalid value for theme param ${e} - ${t}`,108:({e})=>["chart update failed",e],109:({inputValue:e,allSuggestions:t})=>{const n=IP({inputValue:e,allSuggestions:t,hideIrrelevant:!0,filterByPercentageOfBestMatch:.8}).values;return[`Could not find '${e}' aggregate function. It was configured as "aggFunc: '${e}'" but it wasn't found in the list of registered aggregations.`,n.length>0?`         Did you mean: [${n.slice(0,3)}]?`:"","If using a custom aggregation function check it has been registered correctly."].join(`
`)},110:()=>"groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup",111:()=>"Invalid selection state. When `groupSelects` is enabled, the state must conform to `IServerSideGroupSelectionState`.",113:()=>"Set Filter cannot initialise because you are using a row model that does not contain all rows in the browser. Either use a different filter type, or configure Set Filter such that you provide it with values",114:({component:e})=>`Could not find component with name of ${e}. Is it in Vue.components?`,116:()=>"Invalid selection state. The state must conform to `IServerSideSelectionState`.",117:()=>"selectAll must be of boolean type.",118:()=>"Infinite scrolling must be enabled in order to set the row count.",119:()=>"Unable to instantiate filter",120:()=>"MultiFloatingFilterComp expects MultiFilter as its parent",121:()=>"a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (see AG Grid docs) or b) to toString() on the object to return a key",122:()=>"could not find the document, document is empty",123:()=>"Advanced Filter is only supported with the Client-Side Row Model or Server-Side Row Model.",124:()=>"No active charts to update.",125:({chartId:e})=>`Unable to update chart. No active chart found with ID: ${e}.`,126:()=>"unable to restore chart as no chart model is provided",127:({allRange:e})=>`unable to create chart as ${e?"there are no columns in the grid":"no range is selected"}.`,128:({feature:e})=>`${e} is only available if using 'multiRow' selection mode.`,129:({feature:e,rowModel:t})=>`${e} is only available if using 'clientSide' or 'serverSide' rowModelType, you are using ${t}.`,130:()=>'cannot multi select unless selection mode is "multiRow"',132:()=>"Row selection features are not available unless `rowSelection` is enabled.",133:({iconName:e})=>`icon '${e}' function should return back a string or a dom object`,134:({iconName:e})=>`Did not find icon '${e}'`,135:()=>"Data type of the new value does not match the cell data type of the column",136:()=>"Unable to update chart as the 'type' is missing. It must be either 'rangeChartUpdate', 'pivotChartUpdate', or 'crossFilterChartUpdate'.",137:({type:e,currentChartType:t})=>`Unable to update chart as a '${e}' update type is not permitted on a ${t}.`,138:({chartType:e})=>`invalid chart type supplied: ${e}`,139:({customThemeName:e})=>`a custom chart theme with the name ${e} has been supplied but not added to the 'chartThemes' list`,140:({name:e})=>`no stock theme exists with the name '${e}' and no custom chart theme with that name was supplied to 'customChartThemes'`,141:()=>"cross filtering with row grouping is not supported.",142:()=>"cross filtering is only supported in the client side row model.",143:({panel:e})=>`'${e}' is not a valid Chart Tool Panel name`,144:({type:e})=>`Invalid charts data panel group name supplied: '${e}'`,145:({group:e})=>`As of v32, only one charts customize panel group can be expanded at a time. '${e}' will not be expanded.`,146:({comp:e})=>`Unable to instantiate component '${e}' as its module hasn't been loaded. Add 'ValidationModule' to see which module is required.`,147:({group:e})=>`Invalid charts customize panel group name supplied: '${e}'`,148:({group:e})=>`invalid chartGroupsDef config '${e}'`,149:({group:e,chartType:t})=>`invalid chartGroupsDef config '${e}.${t}'`,150:()=>"'seriesChartTypes' are required when the 'customCombo' chart type is specified.",151:({chartType:e})=>`invalid chartType '${e}' supplied in 'seriesChartTypes', converting to 'line' instead.`,152:({colId:e})=>`no 'seriesChartType' found for colId = '${e}', defaulting to 'line'.`,153:({chartDataType:e})=>`unexpected chartDataType value '${e}' supplied, instead use 'category', 'series' or 'excluded'`,154:({colId:e})=>`cross filtering requires a 'agSetColumnFilter' or 'agMultiColumnFilter' to be defined on the column with id: ${e}`,155:({option:e})=>`'${e}' is not a valid Chart Toolbar Option`,156:({panel:e})=>`Invalid panel in chartToolPanelsDef.panels: '${e}'`,157:({unrecognisedGroupIds:e})=>["unable to find group(s) for supplied groupIds:",e],158:()=>"can not expand a column item that does not represent a column group header",159:()=>"Invalid params supplied to createExcelFileForExcel() - `ExcelExportParams.data` is empty.",160:()=>"Export cancelled. Export is not allowed as per your configuration.",161:()=>"The Excel Exporter is currently on Multi Sheet mode. End that operation by calling 'api.getMultipleSheetAsExcel()' or 'api.exportMultipleSheetsAsExcel()'",162:({id:e,dataType:t})=>`Unrecognized data type for excel export [${e}.dataType=${t}]`,163:({featureName:e})=>`Excel table export does not work with ${e}. The exported Excel file will not contain any Excel tables.
 Please turn off ${e} to enable Excel table exports.`,164:()=>"Unable to add data table to Excel sheet: A table already exists.",165:()=>"Unable to add data table to Excel sheet: Missing required parameters.",166:({unrecognisedGroupIds:e})=>["unable to find groups for these supplied groupIds:",e],167:({unrecognisedColIds:e})=>["unable to find columns for these supplied colIds:",e],168:()=>"detailCellRendererParams.template should be function or string",169:()=>'Reference to eDetailGrid was missing from the details template. Please add data-ref="eDetailGrid" to the template.',170:({providedStrategy:e})=>`invalid cellRendererParams.refreshStrategy = ${e} supplied, defaulting to refreshStrategy = 'rows'.`,171:()=>"could not find detail grid options for master detail, please set gridOptions.detailCellRendererParams.detailGridOptions",172:()=>"could not find getDetailRowData for master / detail, please set gridOptions.detailCellRendererParams.getDetailRowData",173:({group:e})=>`invalid chartGroupsDef config '${e}'`,174:({group:e,chartType:t})=>`invalid chartGroupsDef config '${e}.${t}'`,175:({menuTabName:e,itemsToConsider:t})=>[`Trying to render an invalid menu item '${e}'. Check that your 'menuTabs' contains one of `,t],176:({key:e})=>`unknown menu item type ${e}`,177:()=>"valid values for cellSelection.handle.direction are 'x', 'y' and 'xy'. Default to 'xy'.",178:({colId:e})=>`column ${e} is not visible`,179:()=>"totalValueGetter should be either a function or a string (expression)",180:()=>"agRichSelectCellEditor requires cellEditorParams.values to be set",181:()=>"agRichSelectCellEditor cannot have `multiSelect` and `allowTyping` set to `true`. AllowTyping has been turned off.",182:()=>'you cannot mix groupDisplayType = "multipleColumns" with treeData, only one column can be used to display groups when doing tree data',183:()=>"Group Column Filter only works on group columns. Please use a different filter.",184:({parentGroupData:e,childNodeData:t})=>["duplicate group keys for row data, keys should be unique",[e,t]],185:({data:e})=>["getDataPath() should not return an empty path",[e]],186:({rowId:e,rowData:t,duplicateRowsData:n})=>["duplicate group keys for row data, keys should be unique",e,t,...n??[]],187:({rowId:e,firstData:t,secondData:n})=>[`Duplicate node id ${e}. Row IDs are provided via the getRowId() callback. Please modify the getRowId() callback code to provide unique row id values.`,"first instance",t,"second instance",n],188:e=>`getRowId callback must be provided for Server Side Row Model ${e?.feature||"selection"} to work correctly.`,189:({startRow:e})=>`invalid value ${e} for startRow, the value should be >= 0`,190:({rowGroupId:e,data:t})=>["null and undefined values are not allowed for server side row model keys",e?`column = ${e}`:"","data is ",t],194:({method:e})=>`calling gridApi.${e}() is only possible when using rowModelType=\`clientSide\`.`,195:({justCurrentPage:e})=>`selecting just ${e?"current page":"filtered"} only works when gridOptions.rowModelType='clientSide'`,196:({key:e})=>`Provided ids must be of string type. Invalid id provided: ${e}`,197:()=>"`toggledNodes` must be an array of string ids.",199:()=>"getSelectedNodes and getSelectedRows functions cannot be used with select all functionality with the server-side row model. Use `api.getServerSideSelectionState()` instead.",200:r8,201:({rowModelType:e})=>`Could not find row model for rowModelType = ${e}`,202:()=>"`getSelectedNodes` and `getSelectedRows` functions cannot be used with `groupSelectsChildren` and the server-side row model. Use `api.getServerSideSelectionState()` instead.",203:()=>"Server Side Row Model does not support Dynamic Row Height and Cache Purging. Either a) remove getRowHeight() callback or b) remove maxBlocksInCache property. Purging has been disabled.",204:()=>"Server Side Row Model does not support Auto Row Height and Cache Purging. Either a) remove colDef.autoHeight or b) remove maxBlocksInCache property. Purging has been disabled.",205:({duplicateIdText:e})=>`Unable to display rows as duplicate row ids (${e}) were returned by the getRowId callback. Please modify the getRowId callback to provide unique ids.`,206:()=>"getRowId callback must be implemented for transactions to work. Transaction was ignored.",207:()=>'The Set Filter Parameter "defaultToNothingSelected" value was ignored because it does not work when "excelMode" is used.',208:()=>"Set Filter Value Formatter must return string values. Please ensure the Set Filter Value Formatter returns string values for complex objects.",209:()=>`Set Filter Key Creator is returning null for provided values and provided values are primitives. Please provide complex objects. See ${fb}/filter-set-filter-list/#filter-value-types`,210:()=>"Set Filter has a Key Creator, but provided values are primitives. Did you mean to provide complex objects?",211:()=>"property treeList=true for Set Filter params, but you did not provide a treeListPathGetter or values of type Date.",212:()=>"please review all your toolPanel components, it seems like at least one of them doesn't have an id",213:()=>"Advanced Filter does not work with Filters Tool Panel. Filters Tool Panel has been disabled.",214:({key:e})=>`unable to lookup Tool Panel as invalid key supplied: ${e}`,215:({key:e,defaultByKey:t})=>`the key ${e} is not a valid key for specifying a tool panel, valid keys are: ${Object.keys(t??{}).join(",")}`,216:({name:e})=>`Missing component for '${e}'`,217:({invalidColIds:e})=>["unable to find grid columns for the supplied colDef(s):",e],218:({property:e,defaultOffset:t})=>`${e} must be a number, the value you provided is not a valid number. Using the default of ${t}px.`,219:({property:e})=>`Property ${e} does not exist on the target object.`,220:({lineDash:e})=>`'${e}' is not a valid 'lineDash' option.`,221:()=>"agAggregationComponent should only be used with the client and server side row model.",222:()=>"agFilteredRowCountComponent should only be used with the client side row model.",223:()=>"agSelectedRowCountComponent should only be used with the client and server side row model.",224:()=>"agTotalAndFilteredRowCountComponent should only be used with the client side row model.",225:()=>"agTotalRowCountComponent should only be used with the client side row model.",226:()=>"viewport is missing init method.",227:()=>"menu item icon must be DOM node or string",228:({menuItemOrString:e})=>`unrecognised menu item ${e}`,229:({index:e})=>["invalid row index for ensureIndexVisible: ",e],230:()=>"detailCellRendererParams.template is not supported by AG Grid React. To change the template, provide a Custom Detail Cell Renderer. See https://www.ag-grid.com/react-data-grid/master-detail-custom-detail/",231:()=>"As of v32, using custom components with `reactiveCustomComponents = false` is deprecated.",232:()=>"Using both rowData and v-model. rowData will be ignored.",233:({methodName:e})=>`Framework component is missing the method ${e}()`,234:()=>'Group Column Filter does not work with the colDef property "field". This property will be ignored.',235:()=>'Group Column Filter does not work with the colDef property "filterValueGetter". This property will be ignored.',236:()=>'Group Column Filter does not work with the colDef property "filterParams". This property will be ignored.',237:()=>"Group Column Filter does not work with Tree Data enabled. Please disable Tree Data, or use a different filter.",238:()=>"setRowCount can only accept a positive row count.",239:()=>'Theming API and CSS File Themes are both used in the same page. In v33 we released the Theming API as the new default method of styling the grid. See the migration docs https://www.ag-grid.com/react-data-grid/theming-migration/. Because no value was provided to the `theme` grid option it defaulted to themeQuartz. But the file (ag-grid.css) is also included and will cause styling issues. Either pass the string "legacy" to the theme grid option to use v32 style themes, or remove ag-grid.css from the page to use Theming API.',240:({theme:e})=>`theme grid option must be a Theming API theme object or the string "legacy", received: ${e}`,243:()=>"Failed to deserialize state - each provided state object must be an object.",244:()=>"Failed to deserialize state - `selectAllChildren` must be a boolean value or undefined.",245:()=>"Failed to deserialize state - `toggledNodes` must be an array.",246:()=>"Failed to deserialize state - Every `toggledNode` requires an associated string id.",247:()=>`Row selection state could not be parsed due to invalid data. Ensure all child state has toggledNodes or does not conform with the parent rule. 
Please rebuild the selection state and reapply it.`,248:()=>"SetFloatingFilter expects SetFilter as its parent",249:()=>"Must supply a Value Formatter in Set Filter params when using a Key Creator",250:()=>"Must supply a Key Creator in Set Filter params when `treeList = true` on a group column, and Tree Data or Row Grouping is enabled.",251:({chartType:e})=>`AG Grid: Unable to create chart as an invalid chartType = '${e}' was supplied.`,252:()=>`cannot get grid to draw rows when it is in the middle of drawing rows. 
Your code probably called a grid API method while the grid was in the render stage. 
To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). 
To see what part of your code that caused the refresh check this stacktrace.`,253:({version:e})=>["Illegal version string: ",e],254:()=>"Cannot create chart: no chart themes available.",255:({point:e})=>`Lone surrogate U+${e?.toString(16).toUpperCase()} is not a scalar value`,256:()=>"Unable to initialise. See validation error, or load ValidationModule if missing.",257:()=>i8("IntegratedChartsModule"),258:()=>i8("SparklinesModule"),259:({part:e})=>`the argument to theme.withPart must be a Theming API part object, received: ${e}`,260:({propName:e,compName:t,gridScoped:n,gridId:r,rowModelType:o})=>r8({reasonOrId:`AG Grid '${e}' component: ${t}`,moduleName:wb[t],gridId:r,gridScoped:n,rowModelType:o}),261:()=>"As of v33, `column.isHovered()` is deprecated. Use `api.isColumnHovered(column)` instead.",262:()=>'As of v33, icon key "smallDown" is deprecated. Use "advancedFilterBuilderSelect" for Advanced Filter Builder dropdown, "selectOpen" for Select cell editor and dropdowns (e.g. Integrated Charts menu), "richSelectOpen" for Rich Select cell editor.',263:()=>'As of v33, icon key "smallLeft" is deprecated. Use "panelDelimiterRtl" for Row Group Panel / Pivot Panel, "subMenuOpenRtl" for sub-menus.',264:()=>'As of v33, icon key "smallRight" is deprecated. Use "panelDelimiter" for Row Group Panel / Pivot Panel, "subMenuOpen" for sub-menus.',265:({colId:e})=>`Unable to infer chart data type for column '${e}' if first data entry is null. Please specify "chartDataType", or a "cellDataType" in the column definition. For more information, see ${fb}/integrated-charts-range-chart#coldefchartdatatype .`,266:()=>'As of v33.1, using "keyCreator" with the Rich Select Editor has been deprecated. It now requires the "formatValue" callback to convert complex data to strings.',267:()=>"Detail grids can not use a different theme to the master grid, the `theme` detail grid option will be ignored.",268:()=>"Transactions aren't supported with tree data when using treeDataChildrenField",269:()=>"When `masterSelects: 'detail'`, detail grids must be configured with multi-row selection",270:({id:e,parentId:t})=>`Cycle detected for row with id='${e}' and parent id='${t}'. Resetting the parent for row with id='${e}' and showing it as a root-level node.`,271:({id:e,parentId:t})=>`Parent row not found for row with id='${e}' and parent id='${t}'. Showing row with id='${e}' as a root-level node.`,272:()=>jq(),273:({providedId:e,usedId:t})=>`Provided column id '${e}' was already in use, ensure all column and group ids are unique. Using '${t}' instead.`,274:({prop:e})=>{let t=`Since v33, ${e} has been deprecated.`;switch(e){case"maxComponentCreationTimeMs":t+=" This property is no longer required and so will be removed in a future version.";break;case"setGridApi":t+=" This method is not called by AG Grid. To access the GridApi see: https://ag-grid.com/react-data-grid/grid-interface/#grid-api ";break;case"children":t+=" For multiple versions AgGridReact does not support children.";break}return t},275:zq,276:()=>"Row Numbers Row Resizer cannot be used when Grid Columns have `autoHeight` enabled.",277:({colId:e})=>`'enableFilterHandlers' is set to true, but column '${e}' does not have 'filter.doesFilterPass' or 'filter.handler' set.`,278:({colId:e})=>`Unable to create filter handler for column '${e}'`,279:e=>{},280:({colId:e})=>`'name' must be provided for custom filter components for column '${e}`,281:({colId:e})=>`Filter for column '${e}' does not have 'filterParams.buttons', but the new Filters Tool Panel has buttons configured. Either configure buttons for the filter, or disable buttons on the Filters Tool Panel.`,282:()=>"New filter tool panel requires `enableFilterHandlers: true`.",283:()=>"As of v34, use the same method on the filter handler (`api.getColumnFilterHandler(colKey)`) instead.",284:()=>"As of v34, filters are active when they have a model. Use `api.getColumnFilterModel()` instead.",285:()=>"As of v34, use (`api.getColumnFilterModel()`) instead.",286:()=>"As of v34, use (`api.setColumnFilterModel()`) instead.",287:()=>"`api.doFilterAction()` requires `enableFilterHandlers = true",288:()=>"`api.getColumnFilterModel(key, true)` requires `enableFilterHandlers = true",289:({rowModelType:e})=>`Row Model '${e}' is not supported with Batch Editing`,290:({rowIndex:e,rowPinned:t})=>`Row with index '${e}' and pinned state '${t}' not found`,291:()=>"License Key being set multiple times with different values. This can result in an incorrect license key being used,",292:({colId:e})=>`The Multi Filter for column '${e}' has buttons configured against the child filters. When 'enableFilterHandlers=true', buttons must instead be provided against the parent Multi Filter params. The child filter buttons will be ignored.`};function Yxe(e,t){const n=Kxe[e];if(!n)return[`Missing error text for error id ${e}!`];const r=n(t),a=`
See ${TW(e,t)}`;return Array.isArray(r)?r.concat(a):[r,a]}var Qxe={1:"Charting Aggregation",2:"pivotResultFields",3:"setTooltip"},o8=new WeakMap,s8=new WeakMap;function Zxe(e,t,n){if(!t)return Cn(11),{};const r=n;let o;if(!r?.setThemeOnGridDiv){const l=Dr({tag:"div"});l.style.height="100%",e.appendChild(l),e=l,o=()=>e.remove()}return new Hq().create(e,t,l=>{const d=new Dwe(e);l.createBean(d)},void 0,n,o)}var Xxe=1,Hq=class{create(e,t,n,r,o,a){const l=TN.applyGlobalGridOptions(t),d=l.gridId??String(Xxe++),f=this.getRegisteredModules(o,d,l.rowModelType),m=this.createBeansList(l.rowModelType,f,d),v=this.createProvidedBeans(e,l,o);if(!m)return;const y={providedBeanInstances:v,beanClasses:m,id:d,beanInitComparator:hwe,beanDestroyComparator:fwe,derivedBeans:[dwe],destroyCallback:()=>{s8.delete(E),o8.delete(e),wpe(d),a?.()}},S=new ebe(y);this.registerModuleFeatures(S,f),n(S),S.getBean("syncSvc").start(),r?.(S);const E=S.getBean("gridApi");return o8.set(e,E),s8.set(E,e),E}getRegisteredModules(e,t,n){return Hy(Hxe,void 0,!0),e?.modules?.forEach(r=>Hy(r,t)),Cpe(t,a8(n))}registerModuleFeatures(e,t){const n=e.getBean("registry"),r=e.getBean("apiFunctionSvc");for(const o of t){n.registerModule(o);const a=o.apiFunctions;if(a){const l=Object.keys(a);for(const d of l)r?.addFunction(d,a[d])}}}createProvidedBeans(e,t,n){let r=n?n.frameworkOverrides:null;zn(r)&&(r=new eq);const o={gridOptions:t,eGridDiv:e,eRootDiv:e,globalListener:n?n.globalListener:null,globalSyncListener:n?n.globalSyncListener:null,frameworkOverrides:r};return n?.providedBeanInstances&&Object.assign(o,n.providedBeanInstances),o}createBeansList(e,t,n){const r={clientSide:"ClientSideRowModel",infinite:"InfiniteRowModel",serverSide:"ServerSideRowModel",viewport:"ViewportRowModel"},o=a8(e),a=r[o];if(!a){gy(201,{rowModelType:o},`Unknown rowModelType ${o}.`);return}if(!kpe()){gy(272,void 0,jq());return}if(!e){const d=Object.entries(r).filter(([f,m])=>kP(m,n,f));if(d.length==1){const[f,m]=d[0];if(f!==o){const v={moduleName:m,rowModelType:f};gy(275,v,zq(v));return}}}if(!kP(a,n,o)){gy(200,{reasonOrId:`rowModelType = '${o}'`,moduleName:a,gridScoped:RN(),gridId:n,rowModelType:o},`Missing module ${a}Module for rowModelType ${o}.`);return}const l=new Set;for(const d of t)for(const f of d.beans??[])l.add(f);return Array.from(l)}};function a8(e){return e??"clientSide"}function Jd(e){const t=e.rowModel;return t.getType()==="clientSide"?t:void 0}function vE(e){const t=e.rowModel;return t.getType()==="infinite"?t:void 0}function Jxe(e){const t=e.rowModel;return t.getType()==="serverSide"?t:void 0}var eAe=class extends Pe{constructor(){super(...arguments),this.beanName="localeSvc"}getLocaleTextFunc(){const e=this.gos,t=e.getCallback("getLocaleText");return t?lpe(t):cpe(e.get("localeText"))}};function tAe(e,t=!1){const n=[],r=[],o=[],a=[],l=[],d=[],f=[],m=[],v=[];let C=0;for(let y=0;y<e.length;y++){const{colId:S,sort:E,sortIndex:T,rowGroup:P,rowGroupIndex:N,aggFunc:j,pivot:L,pivotIndex:V,pinned:U,hide:$,width:z,flex:K}=e[y];v.push(S),E&&(n[T??C++]={colId:S,sort:E}),P&&(r[N??0]=S),typeof j=="string"&&o.push({colId:S,aggFunc:j}),L&&(a[V??0]=S),U&&(U==="right"?d:l).push(S),$&&f.push(S),(K!=null||z)&&m.push({colId:S,flex:K??void 0,width:z})}return{sort:n.length?{sortModel:lT(n)}:void 0,rowGroup:r.length?{groupColIds:lT(r)}:void 0,aggregation:o.length?{aggregationModel:o}:void 0,pivot:a.length||t?{pivotMode:t,pivotColIds:lT(a)}:void 0,columnPinning:l.length||d.length?{leftColIds:l,rightColIds:d}:void 0,columnVisibility:f.length?{hiddenColIds:f}:void 0,columnSizing:m.length?{columnSizingModel:m}:void 0,columnOrder:v.length?{orderedColIds:v}:void 0}}function lT(e){return e.filter(t=>t!=null)}function nAe(e){const t=[];for(const{groupId:n,open:r}of e)r&&t.push(n);return t.length?{openColumnGroupIds:t}:void 0}var rAe=class{wrap(e,t,n,r){const o=this.createWrapper(e,r);for(const a of t??[])this.createMethod(o,a,!0);for(const a of n??[])this.createMethod(o,a,!1);return o}createMethod(e,t,n){e.addMethod(t,this.createMethodProxy(e,t,n))}createMethodProxy(e,t,n){return function(){return e.hasMethod(t)?e.callMethod(t,arguments):(n&&ze(49,{methodName:t}),null)}}};function cT(e){return e.get("tooltipShowMode")==="whenTruncated"}function iAe(e,t){if(typeof e!="number")return"";const n=t(),r=n("thousandSeparator",","),o=n("decimalSeparator",".");return e.toString().replace(".",o).replace(/(\d)(?=(\d{3})+(?!\d))/g,`$1${r}`)}var oAe=class extends Pe{getFileName(e){const t=this.getDefaultFileExtension();return e?.length||(e=this.getDefaultFileName()),e.includes(".")?e:`${e}.${t}`}getData(e){const t=this.createSerializingSession(e);return this.beans.gridSerializer.serialize(t,e)}getDefaultFileName(){return`export.${this.getDefaultFileExtension()}`}},sAe=class{constructor(e){const{colModel:t,rowGroupColsSvc:n,colNames:r,valueSvc:o,gos:a,processCellCallback:l,processHeaderCallback:d,processGroupHeaderCallback:f,processRowGroupCallback:m}=e;this.colModel=t,this.rowGroupColsSvc=n,this.colNames=r,this.valueSvc=o,this.gos=a,this.processCellCallback=l,this.processHeaderCallback=d,this.processGroupHeaderCallback=f,this.processRowGroupCallback=m}prepare(e){}extractHeaderValue(e){return this.getHeaderName(this.processHeaderCallback,e)??""}extractRowCellValue(e,t,n,r,o){const a=t===0&&OW(this.gos,o,this.colModel.isPivotMode());if(this.processRowGroupCallback&&(this.gos.get("treeData")||o.group)&&(e.isRowGroupDisplayed(o.rowGroupColumn?.getColId()??"")||a))return{value:this.processRowGroupCallback(ht(this.gos,{column:e,node:o}))??""};if(this.processCellCallback)return{value:this.processCellCallback(ht(this.gos,{accumulatedRowIndex:n,column:e,node:o,value:this.valueSvc.getValueForDisplay(e,o,void 0,void 0).value,type:r,parseValue:y=>this.valueSvc.parseValue(e,o,y,this.valueSvc.getValue(e,o,void 0)),formatValue:y=>this.valueSvc.formatValue(e,o,y)??y}))??""};const l=this.gos.get("treeData"),d=this.valueSvc,f=o.level===-1&&o.footer,m=e.colDef.showRowGroup===!0&&(o.group||l);if(!f&&(a||m)){let y="",S=o;for(;S&&S.level!==-1;){const{value:E,valueFormatted:T}=d.getValueForDisplay(a?void 0:e,S,!0,!0);y=` -> ${T??E??""}${y}`,S=S.parent}return{value:y,valueFormatted:y}}const{value:v,valueFormatted:C}=d.getValueForDisplay(e,o,!0,!0);return{value:v??"",valueFormatted:C}}getHeaderName(e,t){return e?e(ht(this.gos,{column:t})):this.colNames.getDisplayNameForColumn(t,"csv",!0)}};function aAe(e,t){const n=document.defaultView||window;if(!n){ze(52);return}const r=document.createElement("a"),o=n.URL.createObjectURL(t);r.setAttribute("href",o),r.setAttribute("download",e),r.style.display="none",document.body.appendChild(r),r.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:n})),r.remove(),n.setTimeout(()=>{n.URL.revokeObjectURL(o)},0)}var lAe={enableBrowserTooltips:!0,tooltipTrigger:!0,tooltipMouseTrack:!0,tooltipShowMode:!0,tooltipInteraction:!0,defaultColGroupDef:!0,suppressAutoSize:!0,skipHeaderOnAutoSize:!0,autoSizeStrategy:!0,components:!0,stopEditingWhenCellsLoseFocus:!0,undoRedoCellEditing:!0,undoRedoCellEditingLimit:!0,excelStyles:!0,cacheQuickFilter:!0,customChartThemes:!0,chartThemeOverrides:!0,chartToolPanelsDef:!0,loadingCellRendererSelector:!0,localeText:!0,keepDetailRows:!0,keepDetailRowsCount:!0,detailRowHeight:!0,detailRowAutoHeight:!0,tabIndex:!0,valueCache:!0,valueCacheNeverExpires:!0,enableCellExpressions:!0,suppressTouch:!0,suppressBrowserResizeObserver:!0,suppressPropertyNamesCheck:!0,debug:!0,dragAndDropImageComponent:!0,loadingOverlayComponent:!0,suppressLoadingOverlay:!0,noRowsOverlayComponent:!0,paginationPageSizeSelector:!0,paginateChildRows:!0,pivotPanelShow:!0,pivotSuppressAutoColumn:!0,suppressExpandablePivotGroups:!0,aggFuncs:!0,allowShowChangeAfterFilter:!0,ensureDomOrder:!0,enableRtl:!0,suppressColumnVirtualisation:!0,suppressMaxRenderedRowRestriction:!0,suppressRowVirtualisation:!0,rowDragText:!0,groupLockGroupColumns:!0,suppressGroupRowsSticky:!0,rowModelType:!0,cacheOverflowSize:!0,infiniteInitialRowCount:!0,serverSideInitialRowCount:!0,maxBlocksInCache:!0,maxConcurrentDatasourceRequests:!0,blockLoadDebounceMillis:!0,serverSideOnlyRefreshFilteredGroups:!0,serverSidePivotResultFieldSeparator:!0,viewportRowModelPageSize:!0,viewportRowModelBufferSize:!0,debounceVerticalScrollbar:!0,suppressAnimationFrame:!0,suppressPreventDefaultOnMouseWheel:!0,scrollbarWidth:!0,icons:!0,suppressRowTransform:!0,gridId:!0,enableGroupEdit:!0,initialState:!0,processUnpinnedColumns:!0,createChartContainer:!0,getLocaleText:!0,getRowId:!0,reactiveCustomComponents:!0,renderingMode:!0,columnMenu:!0,suppressSetFilterByDefault:!0,getDataPath:!0,enableCellSpan:!0,enableFilterHandlers:!0,filterHandlers:!0},Vo="clientSide",Hi="serverSide",Ym="infinite",cAe={onGroupExpandedOrCollapsed:[Vo],refreshClientSideRowModel:[Vo],isRowDataEmpty:[Vo],forEachLeafNode:[Vo],forEachNodeAfterFilter:[Vo],forEachNodeAfterFilterAndSort:[Vo],resetRowHeights:[Vo,Hi],applyTransaction:[Vo],applyTransactionAsync:[Vo],flushAsyncTransactions:[Vo],getBestCostNodeSelection:[Vo],getServerSideSelectionState:[Hi],setServerSideSelectionState:[Hi],applyServerSideTransaction:[Hi],applyServerSideTransactionAsync:[Hi],applyServerSideRowData:[Hi],retryServerSideLoads:[Hi],flushServerSideAsyncTransactions:[Hi],refreshServerSide:[Hi],getServerSideGroupLevelState:[Hi],refreshInfiniteCache:[Ym],purgeInfiniteCache:[Ym],getInfiniteRowCount:[Ym],isLastRowIndexKnown:[Ym,Hi],expandAll:[Vo,Hi],collapseAll:[Vo,Hi],onRowHeightChanged:[Vo,Hi],setRowCount:[Ym,Hi],getCacheBlockState:[Ym,Hi]},dAe={showLoadingOverlay:{version:"v32",message:'`showLoadingOverlay` is deprecated. Use the grid option "loading"=true instead or setGridOption("loading", true).'},clearRangeSelection:{version:"v32.2",message:"Use `clearCellSelection` instead."},getInfiniteRowCount:{version:"v32.2",old:"getInfiniteRowCount()",new:"getDisplayedRowCount()"},selectAllFiltered:{version:"v33",old:"selectAllFiltered()",new:'selectAll("filtered")'},deselectAllFiltered:{version:"v33",old:"deselectAllFiltered()",new:'deselectAll("filtered")'},selectAllOnCurrentPage:{version:"v33",old:"selectAllOnCurrentPage()",new:'selectAll("currentPage")'},deselectAllOnCurrentPage:{version:"v33",old:"deselectAllOnCurrentPage()",new:'deselectAll("currentPage")'}};function uAe(e,t,n){const r=dAe[e];if(r){const{version:a,new:l,old:d,message:f}=r,m=d??e;return(...v)=>{const C=l?`Please use ${l} instead. `:"";return ub(`Since ${a} api.${m} is deprecated. ${C}${f??""}`),t.apply(t,v)}}const o=cAe[e];return o?(...a)=>{const l=n.rowModel.getType();if(!o.includes(l)){hb(`api.${e} can only be called when gridOptions.rowModelType is ${o.join(" or ")}`);return}return t.apply(t,a)}:t}var hAe={detailCellRendererCtrl:"SharedMasterDetail",dndSourceComp:"DragAndDrop",fillHandle:"CellSelection",groupCellRendererCtrl:"GroupCellRenderer",headerFilterCellCtrl:"ColumnFilter",headerGroupCellCtrl:"ColumnGroup",rangeHandle:"CellSelection",tooltipFeature:"Tooltip",highlightTooltipFeature:"Tooltip",tooltipStateManager:"Tooltip",groupStrategy:"RowGrouping",treeGroupStrategy:"TreeData",rowNumberRowResizer:"RowNumbers",singleCell:"EditCore",fullRow:"EditCore",agSetColumnFilterHandler:"SetFilter",agMultiColumnFilterHandler:"MultiFilter",agGroupColumnFilterHandler:"GroupFilter",agNumberColumnFilterHandler:"NumberFilter",agDateColumnFilterHandler:"DateFilter",agTextColumnFilterHandler:"TextFilter"},fAe={expanded:1,contracted:1,"tree-closed":1,"tree-open":1,"tree-indeterminate":1,pin:1,"eye-slash":1,arrows:1,left:1,right:1,group:1,aggregation:1,pivot:1,"not-allowed":1,chart:1,cross:1,cancel:1,tick:1,first:1,previous:1,next:1,last:1,linked:1,unlinked:1,"color-picker":1,loading:1,menu:1,"menu-alt":1,filter:1,"filter-add":1,columns:1,maximize:1,minimize:1,copy:1,cut:1,paste:1,grip:1,save:1,csv:1,excel:1,"small-down":1,"small-left":1,"small-right":1,"small-up":1,asc:1,desc:1,none:1,up:1,down:1,plus:1,minus:1,settings:1,"checkbox-checked":1,"checkbox-indeterminate":1,"checkbox-unchecked":1,"radio-button-on":1,"radio-button-off":1,eye:1,"column-arrow":1,"un-pin":1,"pinned-top":1,"pinned-bottom":1,"chevron-up":1,"chevron-down":1,"chevron-left":1,"chevron-right":1,edit:1},pAe={chart:"MenuCore",cancel:"EnterpriseCore",first:"Pagination",previous:"Pagination",next:"Pagination",last:"Pagination",linked:"IntegratedCharts",loadingMenuItems:"MenuCore",unlinked:"IntegratedCharts",menu:"ColumnHeaderComp",legacyMenu:"ColumnMenu",filter:"ColumnFilter",filterActive:"ColumnFilter",filterAdd:"NewFiltersToolPanel",filterCardCollapse:"NewFiltersToolPanel",filterCardExpand:"NewFiltersToolPanel",filterCardEditing:"NewFiltersToolPanel",filterTab:"ColumnMenu",filtersToolPanel:"FiltersToolPanel",columns:["MenuCore"],columnsToolPanel:["ColumnsToolPanel"],maximize:"EnterpriseCore",minimize:"EnterpriseCore",save:"MenuCore",columnGroupOpened:"ColumnGroupHeaderComp",columnGroupClosed:"ColumnGroupHeaderComp",accordionOpen:"EnterpriseCore",accordionClosed:"EnterpriseCore",accordionIndeterminate:"EnterpriseCore",columnSelectClosed:["ColumnsToolPanel","ColumnMenu"],columnSelectOpen:["ColumnsToolPanel","ColumnMenu"],columnSelectIndeterminate:["ColumnsToolPanel","ColumnMenu"],columnMovePin:"SharedDragAndDrop",columnMoveHide:"SharedDragAndDrop",columnMoveMove:"SharedDragAndDrop",columnMoveLeft:"SharedDragAndDrop",columnMoveRight:"SharedDragAndDrop",columnMoveGroup:"SharedDragAndDrop",columnMoveValue:"SharedDragAndDrop",columnMovePivot:"SharedDragAndDrop",dropNotAllowed:"SharedDragAndDrop",ensureColumnVisible:["ColumnsToolPanel","ColumnMenu"],groupContracted:"GroupCellRenderer",groupExpanded:"GroupCellRenderer",setFilterGroupClosed:"SetFilter",setFilterGroupOpen:"SetFilter",setFilterGroupIndeterminate:"SetFilter",setFilterLoading:"SetFilter",close:"EnterpriseCore",check:"MenuItem",colorPicker:"CommunityCore",groupLoading:"LoadingCellRenderer",menuAlt:"ColumnHeaderComp",menuPin:"MenuCore",menuValue:"MenuCore",menuAddRowGroup:["MenuCore","ColumnsToolPanel"],menuRemoveRowGroup:["MenuCore","ColumnsToolPanel"],clipboardCopy:"MenuCore",clipboardCut:"MenuCore",clipboardPaste:"MenuCore",pivotPanel:["ColumnsToolPanel","RowGroupingPanel"],rowGroupPanel:["ColumnsToolPanel","RowGroupingPanel"],valuePanel:"ColumnsToolPanel",columnDrag:"EnterpriseCore",rowDrag:["RowDrag","DragAndDrop"],csvExport:"MenuCore",excelExport:"MenuCore",smallDown:"CommunityCore",selectOpen:"CommunityCore",richSelectOpen:"RichSelect",richSelectRemove:"RichSelect",smallLeft:"CommunityCore",smallRight:"CommunityCore",subMenuOpen:"MenuItem",subMenuOpenRtl:"MenuItem",panelDelimiter:"RowGroupingPanel",panelDelimiterRtl:"RowGroupingPanel",smallUp:"CommunityCore",sortAscending:["MenuCore","Sort"],sortDescending:["MenuCore","Sort"],sortUnSort:["MenuCore","Sort"],advancedFilterBuilder:"AdvancedFilter",advancedFilterBuilderDrag:"AdvancedFilter",advancedFilterBuilderInvalid:"AdvancedFilter",advancedFilterBuilderMoveUp:"AdvancedFilter",advancedFilterBuilderMoveDown:"AdvancedFilter",advancedFilterBuilderAdd:"AdvancedFilter",advancedFilterBuilderRemove:"AdvancedFilter",advancedFilterBuilderSelectOpen:"AdvancedFilter",chartsMenu:"IntegratedCharts",chartsMenuEdit:"IntegratedCharts",chartsMenuAdvancedSettings:"IntegratedCharts",chartsMenuAdd:"IntegratedCharts",chartsColorPicker:"IntegratedCharts",chartsThemePrevious:"IntegratedCharts",chartsThemeNext:"IntegratedCharts",chartsDownload:"IntegratedCharts",checkboxChecked:"CommunityCore",checkboxIndeterminate:"CommunityCore",checkboxUnchecked:"CommunityCore",radioButtonOn:"CommunityCore",radioButtonOff:"CommunityCore",rowPin:"PinnedRow",rowUnpin:"PinnedRow",rowPinBottom:"PinnedRow",rowPinTop:"PinnedRow"},gAe=new Set(["colorPicker","smallUp","checkboxChecked","checkboxIndeterminate","checkboxUnchecked","radioButtonOn","radioButtonOff","smallDown","smallLeft","smallRight"]),mAe=class extends Pe{constructor(){super(...arguments),this.beanName="validation"}wireBeans(e){this.gridOptions=e.gridOptions,Ape(Yxe)}warnOnInitialPropertyUpdate(e,t){e==="api"&&lAe[t]&&ze(22,{key:t})}processGridOptions(e){this.processOptions(e,lke())}validateApiFunction(e,t){return uAe(e,t,this.beans)}missingUserComponent(e,t,n,r){const o=wb[t];o?this.gos.assertModuleRegistered(o,`AG Grid '${e}' component: ${t}`):ze(101,{propertyName:e,componentName:t,agGridDefaults:n,jsComps:r})}missingDynamicBean(e){const t=hAe[e];return t?sc(200,{...this.gos.getModuleErrorParams(),moduleName:t,reasonOrId:e}):void 0}checkRowEvents(e){vAe.has(e)&&ze(10,{eventType:e})}validateIcon(e){if(gAe.has(e)&&ze(43,{iconName:e}),fAe[e])return;const t=pAe[e];if(t){Cn(200,{reasonOrId:`icon '${e}'`,moduleName:t,gridScoped:RN(),gridId:this.beans.context.getId(),rowModelType:this.gos.get("rowModelType"),additionalText:"Alternatively, use the CSS icon name directly."});return}ze(134,{iconName:e})}isProvidedUserComp(e){return!!wb[e]}validateColDef(e){this.processOptions(e,Z0e())}processOptions(e,t){const{validations:n,deprecations:r,allProperties:o,propertyExceptions:a,objectName:l,docsUrl:d}=t;o&&this.gridOptions.suppressPropertyNamesCheck!==!0&&this.checkProperties(e,[...a??[],...Object.keys(r)],o,l,d);const f=new Set;if(Object.keys(e).forEach(v=>{const C=r[v];if(C){const{message:j,version:L}=C;f.add(`As of v${L}, ${String(v)} is deprecated. ${j??""}`)}const y=e[v];if(y==null||y===!1)return;const S=n[v];if(!S)return;const{dependencies:E,validate:T,supportedRowModels:P,expectedType:N}=S;if(N){const j=typeof y;if(j!==N){f.add(`${String(v)} should be of type '${N}' but received '${j}' (${y}).`);return}}if(P){const j=this.gridOptions.rowModelType??"clientSide";if(!P.includes(j)){f.add(`${String(v)} is not supported with the '${j}' row model. It is only valid with: ${P.join(", ")}.`);return}}if(E){const j=this.checkForRequiredDependencies(v,E,e);if(j){f.add(j);return}}if(T){const j=T(e,this.gridOptions,this.beans);if(j){f.add(j);return}}}),f.size>0)for(const v of f)ub(v)}checkForRequiredDependencies(e,t,n){const o=Object.entries(t).filter(([a,l])=>{const d=n[a];return!l.required.includes(d)});return o.length===0?null:o.map(([a,l])=>`'${String(e)}' requires '${a}' to be one of [${l.required.map(d=>d===null?"null":d===void 0?"undefined":d).join(", ")}]. ${l.reason??""}`).join(`
           `)}checkProperties(e,t,n,r,o){const a=["__ob__","__v_skip","__metadata__"],l=bAe(Object.getOwnPropertyNames(e),[...a,...t,...n],n),d=Object.keys(l);for(const f of d){const m=l[f];let v=`invalid ${r} property '${f}' did you mean any of these: ${m.slice(0,8).join(", ")}.`;n.includes("context")&&(v+=`
If you are trying to annotate ${r} with application data, use the '${r}.context' property instead.`),ub(v)}if(d.length>0&&o){const f=this.beans.frameworkOverrides.getDocLink(o);ub(`to see all the valid ${r} properties please check: ${f}`)}}};function bAe(e,t,n){const r={},o=e.filter(a=>!t.some(l=>l===a));if(o.length>0)for(const a of o)r[a]=IP({inputValue:a,allSuggestions:n}).values;return r}var vAe=new Set(["firstChildChanged","lastChildChanged","childIndexChanged"]),wAe={moduleName:"Validation",version:Qe,beans:[mAe]};function Vq(e){const t=e.sibling;t&&(t.childrenAfterFilter=e.childrenAfterFilter)}var CAe=class extends Pe{constructor(){super(...arguments),this.beanName="filterStage",this.step="filter",this.refreshProps=["excludeChildrenWhenTreeDataFiltering"]}wireBeans(e){this.filterManager=e.filterManager}execute(e){const{changedPath:t}=e;this.filter(t)}filter(e){const t=!!this.filterManager?.isChildFilterPresent();this.filterNodes(t,e)}filterNodes(e,t){const n=(r,o)=>{r.hasChildren()&&e&&!o?r.childrenAfterFilter=r.childrenAfterGroup.filter(a=>{const l=a.childrenAfterFilter&&a.childrenAfterFilter.length>0,d=a.data&&this.filterManager.doesRowPassFilter({rowNode:a});return l||d}):r.childrenAfterFilter=r.childrenAfterGroup,Vq(r)};if(this.doingTreeDataFiltering()){const r=(a,l)=>{if(a.childrenAfterGroup)for(let d=0;d<a.childrenAfterGroup.length;d++){const f=a.childrenAfterGroup[d],m=l||this.filterManager.doesRowPassFilter({rowNode:f});f.childrenAfterGroup?r(a.childrenAfterGroup[d],m):n(f,m)}n(a,l)},o=a=>r(a,!1);t.executeFromRootNode(o)}else{const r=o=>n(o,!1);t.forEachChangedNodeDepthFirst(r,!0)}}doingTreeDataFiltering(){return this.gos.get("treeData")&&!this.gos.get("excludeChildrenWhenTreeDataFiltering")}},yAe=class extends eO{constructor(){super(...arguments),this.iconCreated=!1}wireComp(e,t,n,r,o){this.comp=e;const a=S0(this,this.beans.context,o);this.eButtonShowMainFilter=n,this.eFloatingFilterBody=r,this.setGui(t,a),this.setupActive(),this.refreshHeaderStyles(),this.setupWidth(a),this.setupLeft(a),this.setupHover(a),this.setupFocus(a),this.setupAria(),this.setupFilterButton(),this.setupUserComp(),this.setupSyncWithFilter(a),this.setupUi(),a.addManagedElementListeners(this.eButtonShowMainFilter,{click:this.showParentFilter.bind(this)}),this.setupFilterChangedListener(a);const l=()=>this.onColDefChanged(a);a.addManagedListeners(this.column,{colDefChanged:l}),a.addManagedEventListeners({filterSwitched:({column:d})=>{d===this.column&&l()}}),a.addDestroyFunc(()=>{this.eButtonShowMainFilter=null,this.eFloatingFilterBody=null,this.userCompDetails=null,this.clearComponent()})}resizeHeader(){}moveHeader(){}getHeaderClassParams(){const{column:e,beans:t}=this,n=e.colDef;return ht(t.gos,{colDef:n,column:e,floatingFilter:!0})}setupActive(){const e=this.column.getColDef(),t=!!e.filter,n=!!e.floatingFilter;this.active=t&&n}setupUi(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton),!this.active||this.iconCreated)return;const e=Cs("filter",this.beans,this.column);e&&(this.iconCreated=!0,this.eButtonShowMainFilter.appendChild(e))}setupFocus(e){e.createManagedBean(new iv(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))}setupAria(){const e=this.getLocaleTextFunc();Eb(this.eButtonShowMainFilter,e("ariaFilterMenuOpen","Open Filter Menu"))}onTabKeyDown(e){const{beans:t}=this;if(Qn(t)===this.eGui)return;const o=og(t,this.eGui,null,e.shiftKey);if(o){t.headerNavigation?.scrollToColumn(this.column),e.preventDefault(),o.focus();return}const a=this.findNextColumnWithFloatingFilter(e.shiftKey);a&&t.focusSvc.focusHeaderPosition({headerPosition:{headerRowIndex:this.rowCtrl.rowIndex,column:a},event:e})&&e.preventDefault()}findNextColumnWithFloatingFilter(e){const t=this.beans.visibleCols;let n=this.column;do if(n=e?t.getColBefore(n):t.getColAfter(n),!n)break;while(!n.getColDef().filter||!n.getColDef().floatingFilter);return n}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();switch(e.key){case xe.UP:case xe.DOWN:case xe.LEFT:case xe.RIGHT:if(t)return;Lh(e);case xe.ENTER:t&&Fh(this.eGui)&&e.preventDefault();break;case xe.ESCAPE:t||this.eGui.focus()}}onFocusIn(e){if(this.eGui.contains(e.relatedTarget))return;const n=!!e.relatedTarget&&!e.relatedTarget.classList.contains("ag-floating-filter"),r=!!e.relatedTarget&&Mp(e.relatedTarget,"ag-floating-filter");if(n&&r&&e.target===this.eGui){const o=this.lastFocusEvent,a=!!(o&&o.key===xe.TAB);if(o&&a){const l=o.shiftKey;Fh(this.eGui,l)}}this.focusThis()}setupHover(e){this.beans.colHover?.addHeaderFilterColumnHoverListener(e,this.comp,this.column,this.eGui)}setupLeft(e){const t=new JN(this.column,this.eGui,this.beans);e.createManagedBean(t)}setupFilterButton(){this.suppressFilterButton=!this.beans.menuSvc?.isFloatingFilterButtonEnabled(this.column),this.highlightFilterButtonWhenActive=!ws(this.gos)}setupUserComp(){if(!this.active)return;const e=this.beans.colFilter?.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter());e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setCompDetails(e)}showParentFilter(){const e=this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter;this.beans.menuSvc?.showFilterMenu({column:this.column,buttonElement:e,containerType:"floatingFilter",positionBy:"button"})}setupSyncWithFilter(e){if(!this.active)return;const{beans:{colFilter:t},column:n,gos:r}=this,o=a=>{if(a?.source==="filterDestroyed"&&(!this.isAlive()||!t?.isAlive()))return;const l=this.comp.getFloatingFilterComp();l&&l.then(d=>{if(d){if(r.get("enableFilterHandlers")){const v=a;let C="filter";v?.afterFloatingFilter?C="ui":v?.afterDataChange?C="dataChanged":a?.source==="api"&&(C="api"),this.updateFloatingFilterParams(this.userCompDetails,C);return}const f=t?.getCurrentFloatingFilterParentModel(n),m=a?{...a,columns:a.columns??[],source:a.source==="api"?"api":"columnFilter"}:null;d.onParentModelChanged(f,m)}})};[this.destroySyncListener]=e.addManagedListeners(n,{filterChanged:o}),t?.isFilterActive(n)&&o(null)}setupWidth(e){const t=()=>{const n=`${this.column.getActualWidth()}px`;this.comp.setWidth(n)};e.addManagedListeners(this.column,{widthChanged:t}),t()}setupFilterChangedListener(e){this.active&&([this.destroyFilterChangedListener]=e.addManagedListeners(this.column,{filterChanged:this.updateFilterButton.bind(this)}),this.updateFilterButton())}updateFilterButton(){if(!this.suppressFilterButton&&this.comp){const e=!!this.beans.filterManager?.isFilterAllowed(this.column);this.comp.setButtonWrapperDisplayed(e),this.highlightFilterButtonWhenActive&&e&&this.eButtonShowMainFilter.classList.toggle("ag-filter-active",this.column.isFilterActive())}}onColDefChanged(e){const t=this.active;this.setupActive();const n=!t&&this.active;t&&!this.active&&(this.destroySyncListener(),this.destroyFilterChangedListener());const r=this.beans.colFilter,o=this.active?r?.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter()):null,a=this.comp.getFloatingFilterComp();!a||!o?this.updateCompDetails(e,o,n):a.then(l=>{!l||r?.areFilterCompsDifferent(this.userCompDetails??null,o)?this.updateCompDetails(e,o,n):this.updateFloatingFilterParams(o,"colDef")})}updateCompDetails(e,t,n){this.isAlive()&&(this.setCompDetails(t),this.setupFilterButton(),this.setupUi(),n&&(this.setupSyncWithFilter(e),this.setupFilterChangedListener(e)))}updateFloatingFilterParams(e,t){if(!e)return;let n=e.params;this.comp.getFloatingFilterComp()?.then(r=>{typeof r?.refresh=="function"&&(this.gos.get("enableFilterHandlers")&&(n={...n,model:ri(this.beans.colFilter?.model??{},this.column.getColId()),source:t}),r.refresh(n))})}addResizeAndMoveKeyboardListeners(){}destroy(){super.destroy(),this.destroySyncListener=null,this.destroyFilterChangedListener=null}};function kAe(e,t){const n=e.colModel.getCol(t);if(!n){Cn(12,{colKey:t});return}e.menuSvc?.showColumnMenu({column:n,positionBy:"auto"})}function xAe(e){e.menuSvc?.hidePopupMenu()}var AAe={moduleName:"SharedMenu",version:Qe,beans:[Nve],apiFunctions:{showColumnMenu:kAe,hidePopupMenu:xAe}},SAe=class extends dbe{postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridCtrl=e.gridCtrl}),this.addManagedEventListeners({gridStylesChanged:this.handleThemeChange.bind(this)})}getDefaultPopupParent(){return this.gridCtrl.getGui()}positionPopupForMenu(e){const{eventSource:t,ePopup:n,event:r}=e,o=t.getBoundingClientRect(),a=this.getParentRect();this.setAlignedTo(t,n);let l=!1;const d=()=>{const f=this.keepXYWithinBounds(n,o.top-a.top,0),m=n.clientWidth>0?n.clientWidth:200;l||(n.style.minWidth=`${m}px`,l=!0);const C=a.right-a.left-m;let y;return this.gos.get("enableRtl")?(y=E(),y<0&&(y=S(),this.setAlignedStyles(n,"left")),y>C&&(y=0,this.setAlignedStyles(n,"right"))):(y=S(),y>C&&(y=E(),this.setAlignedStyles(n,"right")),y<0&&(y=0,this.setAlignedStyles(n,"left"))),{x:y,y:f};function S(){return o.right-a.left-2}function E(){return o.left-a.left-m}};this.positionPopup({ePopup:n,keepWithinBounds:!0,updatePosition:d,postProcessCallback:()=>this.callPostProcessPopup(e,"subMenu",n,t,r instanceof MouseEvent?r:void 0)})}callPostProcessPopup(e,t,n,r,o){const a=this.gos.getCallback("postProcessPopup");if(a){const{column:l,rowNode:d}=e;a({column:l,rowNode:d,ePopup:n,type:t,eventSource:r,mouseEvent:o})}}getActivePopups(){return this.popupList.map(e=>e.element)}handleThemeChange(e){if(e.themeChanged){const t=this.beans.environment;for(const n of this.popupList)t.applyThemeClasses(n.wrapper)}}hasAnchoredPopup(){return this.popupList.some(e=>e.isAnchored)}isStopPropagation(e){return Qa(e)}},wE={moduleName:"Popup",version:Qe,beans:[SAe]},_Ae=".ag-set-filter{--ag-indentation-level:0}.ag-set-filter-item{align-items:center;display:flex;height:100%}:where(.ag-ltr) .ag-set-filter-item{padding-left:calc(var(--ag-widget-container-horizontal-padding) + var(--ag-indentation-level)*var(--ag-set-filter-indent-size))}:where(.ag-rtl) .ag-set-filter-item{padding-right:calc(var(--ag-widget-container-horizontal-padding) + var(--ag-indentation-level)*var(--ag-set-filter-indent-size))}.ag-set-filter-item-checkbox{display:flex;height:100%;width:100%}.ag-set-filter-group-icons{display:block;>*{cursor:pointer}}:where(.ag-ltr) .ag-set-filter-group-icons{margin-right:var(--ag-widget-container-horizontal-padding)}:where(.ag-rtl) .ag-set-filter-group-icons{margin-left:var(--ag-widget-container-horizontal-padding)}.ag-filter-body-wrapper{display:flex;flex-direction:column}:where(.ag-menu:not(.ag-tabs) .ag-filter) .ag-filter-body-wrapper,:where(.ag-menu:not(.ag-tabs) .ag-filter)>:not(.ag-filter-wrapper){min-width:180px}.ag-filter-filter{flex:1 1 0px}.ag-filter-condition{display:flex;justify-content:center}.ag-floating-filter-body{display:flex;flex:1 1 auto;height:100%;position:relative}.ag-floating-filter-full-body{align-items:center;display:flex;flex:1 1 auto;height:100%;overflow:hidden;width:100%}:where(.ag-floating-filter-full-body)>div{flex:1 1 auto}.ag-floating-filter-input{align-items:center;display:flex;width:100%;>*{flex:1 1 auto}:where(.ag-input-field-input[type=date]),:where(.ag-input-field-input[type=datetime-local]){width:1px}}.ag-floating-filter-button{display:flex;flex:none}.ag-date-floating-filter-wrapper{display:flex}.ag-set-floating-filter-input :where(input)[disabled]{pointer-events:none}.ag-floating-filter-button-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:none;height:var(--ag-icon-size);width:var(--ag-icon-size)}.ag-filter-loading{align-items:unset;background-color:var(--ag-chrome-background-color);height:100%;padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);position:absolute;width:100%;z-index:1;:where(.ag-menu) &{background-color:var(--ag-menu-background-color)}}.ag-filter-separator{border-top:solid var(--ag-border-width) var(--menu-separator-color)}:where(.ag-filter-select) .ag-picker-field-wrapper{width:0}.ag-filter-condition-operator{height:17px}:where(.ag-ltr) .ag-filter-condition-operator-or{margin-left:calc(var(--ag-spacing)*2)}:where(.ag-rtl) .ag-filter-condition-operator-or{margin-right:calc(var(--ag-spacing)*2)}.ag-set-filter-select-all{padding-top:var(--ag-widget-container-vertical-padding)}.ag-filter-no-matches,.ag-set-filter-list{height:calc(var(--ag-list-item-height)*6)}.ag-filter-no-matches{padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}.ag-set-filter-tree-list{height:calc(var(--ag-list-item-height)*10)}.ag-set-filter-filter{margin-left:var(--ag-widget-container-horizontal-padding);margin-right:var(--ag-widget-container-horizontal-padding);margin-top:var(--ag-widget-container-vertical-padding)}.ag-filter-to{margin-top:var(--ag-widget-vertical-spacing)}.ag-mini-filter{margin:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}:where(.ag-ltr) .ag-set-filter-add-group-indent{margin-left:calc(var(--ag-icon-size) + var(--ag-widget-container-horizontal-padding))}:where(.ag-rtl) .ag-set-filter-add-group-indent{margin-right:calc(var(--ag-icon-size) + var(--ag-widget-container-horizontal-padding))}:where(.ag-filter-menu) .ag-set-filter-list{min-width:200px}.ag-filter-virtual-list-item:focus-visible{box-shadow:inset var(--ag-focus-shadow)}.ag-filter-apply-panel{display:flex;justify-content:flex-end;overflow:hidden;padding:var(--ag-widget-vertical-spacing) var(--ag-widget-container-horizontal-padding) var(--ag-widget-container-vertical-padding)}.ag-filter-apply-panel-button{line-height:1.5}:where(.ag-ltr) .ag-filter-apply-panel-button{margin-left:calc(var(--ag-spacing)*2)}:where(.ag-rtl) .ag-filter-apply-panel-button{margin-right:calc(var(--ag-spacing)*2)}.ag-simple-filter-body-wrapper{display:flex;flex-direction:column;min-height:calc(var(--ag-list-item-height) + var(--ag-widget-container-vertical-padding) + var(--ag-widget-vertical-spacing));overflow-y:auto;padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);padding-bottom:calc(var(--ag-widget-container-vertical-padding) - var(--ag-widget-vertical-spacing));&>*{margin-bottom:var(--ag-widget-vertical-spacing)}:where(.ag-resizer-wrapper){margin:0}}.ag-multi-filter-menu-item{margin:var(--ag-spacing) 0}.ag-multi-filter-group-title-bar{background-color:transparent;color:var(--ag-header-text-color);font-weight:500;padding:calc(var(--ag-spacing)*1.5) var(--ag-spacing)}.ag-group-filter-field-select-wrapper{display:flex;flex-direction:column;gap:var(--ag-widget-vertical-spacing);padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}";function EAe(e){const t=e.filterManager;return!!t?.isColumnFilterPresent()||!!t?.isAggregateFilterPresent()}function DAe(e,t){return e.filterManager?.getColumnFilterInstance(t)??Promise.resolve(void 0)}function MAe(e,t){const n=e.colModel.getColDefCol(t);if(n)return e.colFilter?.destroyFilter(n,"api")}function TAe(e,t){e.frameworkOverrides.wrapIncoming(()=>e.filterManager?.setFilterModel(t))}function RAe(e){return e.filterManager?.getFilterModel()??{}}function PAe(e,t,n){const{gos:r,colModel:o,colFilter:a}=e;n&&!r.get("enableFilterHandlers")&&(ze(288),n=!1);const l=o.getColDefCol(t);return l?a?.getModelForColumn(l,n)??null:null}function IAe(e,t,n){return e.filterManager?.setColumnFilterModel(t,n)??Promise.resolve()}function NAe(e,t){const n=e.colModel.getCol(t);if(!n){Cn(12,{colKey:t});return}e.menuSvc?.showFilterMenu({column:n,containerType:"columnFilter",positionBy:"auto"})}function OAe(e){e.menuSvc?.hideFilterMenu()}function FAe(e,t){const n=e.colModel.getCol(t);if(!n){Cn(12,{colKey:t});return}return e.colFilter?.getHandler(n,!0)}function LAe(e,t){const{colModel:n,colFilter:r,gos:o}=e;if(!o.get("enableFilterHandlers")){ze(287);return}const{colId:a,action:l}=t;if(a){const d=n.getColById(a);d&&r?.updateModel(d,l)}else r?.updateAllModels(l)}var BAe={filterHandler:()=>({doesFilterPass:()=>!0})},jAe=class extends Pe{constructor(){super(...arguments),this.beanName="colFilter",this.allColumnFilters=new Map,this.allColumnListeners=new Map,this.activeAggregateFilters=[],this.activeColumnFilters=[],this.processingFilterChange=!1,this.modelUpdates=[],this.columnModelUpdates=[],this.state=new Map,this.handlerMap={...A$},this.isGlobalButtons=!1,this.activeFilterComps=new Set}postConstruct(){this.addManagedEventListeners({gridColumnsChanged:this.onColumnsChanged.bind(this),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)});const e=this.gos,t={...e.get("initialState")?.filter?.filterModel??{}};this.initialModel=t,this.model={...t},e.get("enableFilterHandlers")||delete this.handlerMap.agMultiColumnFilter}refreshModel(){this.onNewRowsLoaded("rowDataUpdated")}setModel(e,t="api",n){const{colModel:r,dataTypeSvc:o,filterManager:a}=this.beans;if(o?.isPendingInference){this.modelUpdates.push({model:e,source:t});return}const l=[],d=this.getModel(!0);if(e){const f=new Set(Object.keys(e));this.allColumnFilters.forEach((m,v)=>{const C=e[v];l.push(this.setModelOnFilterWrapper(m,C)),f.delete(v)}),f.forEach(m=>{const v=r.getColDefCol(m)||r.getCol(m);if(!v){ze(62,{colId:m});return}if(!v.isFilterAllowed()){ze(63,{colId:m});return}const C=this.getOrCreateFilterWrapper(v,!0);if(!C){ze(64,{colId:m});return}l.push(this.setModelOnFilterWrapper(C,e[m],!0))})}else this.model={},this.allColumnFilters.forEach(f=>{l.push(this.setModelOnFilterWrapper(f,null))});Jt.all(l).then(()=>{const f=this.getModel(!0),m=[];this.allColumnFilters.forEach((v,C)=>{const y=d?d[C]:null,S=f?f[C]:null;Oy(y,S)||m.push(v.column)}),m.length>0?a?.onFilterChanged({columns:m,source:t}):n&&this.updateActive("filterChanged")})}getModel(e){const t={},{allColumnFilters:n,initialModel:r,beans:{colModel:o}}=this;if(n.forEach((a,l)=>{const d=this.getModelFromFilterWrapper(a);Ye(d)&&(t[l]=d)}),!e)for(const a of Object.keys(r)){const l=r[a];Ye(l)&&!n.has(a)&&o.getCol(a)?.isFilterAllowed()&&(t[a]=l)}return t}setState(e,t,n="api"){if(this.state.clear(),t)for(const r of Object.keys(t)){const o=t[r];this.state.set(r,{model:ri(this.model,r),state:o})}this.setModel(e,n,!0)}getState(){const e=this.state;if(!e.size)return;const t={};let n=!1;return e.forEach((r,o)=>{const a=r.state;a!=null&&(n=!0,t[o]=a)}),n?t:void 0}getModelFromFilterWrapper(e){const n=e.column.getColId();if(e.isHandler)return ri(this.model,n);const r=e.filter;return r?typeof r.getModel!="function"?(ze(66),null):r.getModel():ri(this.initialModel,n)}isFilterPresent(){return this.activeColumnFilters.length>0}isAggFilterPresent(){return!!this.activeAggregateFilters.length}disableFilters(){this.initialModel={};const{allColumnFilters:e}=this;return e.size?(e.forEach(t=>this.disposeFilterWrapper(t,"advancedFilterEnabled")),!0):!1}updateActiveFilters(){const e=m=>m?m.isFilterActive?m.isFilterActive():(ze(67),!1):!1,{colModel:t,gos:n}=this.beans,r=!!SP(n),o=m=>{if(!m.isPrimary())return!0;const C=!t.isPivotActive();return!m.isValueActive()||!C?!1:t.isPivotMode()?!0:r},a=[],l=[],d=(m,v,C)=>{v&&(o(m)?a.push(C):l.push(C))},f=[];return this.allColumnFilters.forEach(m=>{const v=m.column,C=v.getColId();if(m.isHandler)f.push(Jt.resolve().then(()=>{d(v,this.isHandlerActive(v),{colId:C,isHandler:!0,handler:m.handler,handlerParams:m.handlerParams})}));else{const y=vh(m);y&&f.push(y.then(S=>{d(v,e(S),{colId:C,isHandler:!1,comp:S})}))}}),Jt.all(f).then(()=>{this.activeAggregateFilters=a,this.activeColumnFilters=l})}updateFilterFlagInColumns(e,t){const n=[];return this.allColumnFilters.forEach(r=>{const o=r.column;if(r.isHandler)n.push(Jt.resolve().then(()=>{this.setColFilterActive(o,this.isHandlerActive(o),e,t)}));else{const a=vh(r);a&&n.push(a.then(l=>{this.setColFilterActive(o,l.isFilterActive(),e,t)}))}}),this.beans.groupFilter?.updateFilterFlags(e,t),Jt.all(n)}doFiltersPass(e,t,n){const{data:r,aggData:o}=e,a=n?this.activeAggregateFilters:this.activeColumnFilters,l=n?o:r,d=this.model;for(let f=0;f<a.length;f++){const m=a[f],{colId:v,isHandler:C}=m;if(v!==t)if(C){const{handler:y,handlerParams:S}=m;if(!y.doesFilterPass({node:e,data:l,model:ri(d,v),handlerParams:S}))return!1}else{const y=m.comp;if(typeof y.doesFilterPass!="function"){Cn(91);continue}if(!y.doesFilterPass({node:e,data:l}))return!1}}return!0}getHandlerParams(e){const t=this.allColumnFilters.get(e.getColId());return t?.isHandler?t.handlerParams:void 0}callOnFilterChangedOutsideRenderCycle(e){const{rowRenderer:t,filterManager:n}=this.beans,r=()=>{this.isAlive()&&n?.onFilterChanged(e)};t.isRefreshInProgress()?setTimeout(r,0):r()}updateBeforeFilterChanged(e={}){const{column:t,additionalEventAttributes:n}=e,r=t?.getColId();return this.updateActiveFilters().then(()=>this.updateFilterFlagInColumns("filterChanged",n).then(()=>{this.allColumnFilters.forEach(o=>{const{column:a,isHandler:l}=o;r!==a.getColId()&&(l&&o.handler.onAnyFilterChanged?.(),vh(o,l)?.then(d=>{typeof d?.onAnyFilterChanged=="function"&&d.onAnyFilterChanged()}))}),this.processingFilterChange=!0}))}updateAfterFilterChanged(){this.processingFilterChange=!1}isSuppressFlashingCellsBecauseFiltering(){return!(this.gos.get("allowShowChangeAfterFilter")??!1)&&this.processingFilterChange}onNewRowsLoaded(e){const t=[];this.allColumnFilters.forEach(n=>{const r=n.isHandler;r&&n.handler.onNewRowsLoaded?.();const o=vh(n,r);o&&t.push(o.then(a=>{a.onNewRowsLoaded?.()}))}),Jt.all(t).then(()=>this.updateActive(e,{afterDataChange:!0}))}updateActive(e,t){this.updateFilterFlagInColumns(e,t).then(()=>this.updateActiveFilters())}createGetValue(e,t){const{filterValueSvc:n,colModel:r}=this.beans;return(o,a)=>{const l=a?r.getCol(a):e;return l?n.getValue(l,o,t):void 0}}isFilterActive(e){const t=this.cachedFilter(e);if(t?.isHandler)return this.isHandlerActive(e);const n=t?.filter;return n?n.isFilterActive():ri(this.initialModel,e.getColId())!=null}isHandlerActive(e){const t=Ye(ri(this.model,e.getColId()));if(t)return t;const n=this.beans.groupFilter;return n?.isGroupFilter(e)?n.isFilterActive(e):!1}getOrCreateFilterUi(e){const t=this.getOrCreateFilterWrapper(e,!0);return t?vh(t):null}getFilterUiForDisplay(e){const t=this.getOrCreateFilterWrapper(e,!0);if(!t)return null;const n=vh(t);return n?n.then(r=>({comp:r,params:t.filterUi.filterParams,isHandler:t.isHandler})):null}getHandler(e,t){const n=this.getOrCreateFilterWrapper(e,t);return n?.isHandler?n.handler:void 0}getOrCreateFilterWrapper(e,t){if(!e.isFilterAllowed())return;let n=this.cachedFilter(e);return!n&&t&&(n=this.createFilterWrapper(e),this.setColumnFilterWrapper(e,n)),n}cachedFilter(e){return this.allColumnFilters.get(e.getColId())}getDefaultFilter(e,t=!1){return this.getDefaultFilterFromDataType(()=>this.beans.dataTypeSvc?.getBaseDataType(e),t)}getDefaultFilterFromDataType(e,t=!1){return Gpe(this.gos)?t?"agSetColumnFloatingFilter":"agSetColumnFilter":Pbe(e(),t)}getDefaultFloatingFilter(e){return this.getDefaultFilter(e,!0)}createFilterComp(e,t,n,r,o,a){const l=()=>{const m=this.createFilterCompParams(e,o,a),v=r(m,o);return Yge(this.beans.userCompFactory,t,v,n)},d=l();return d?{compDetails:d,createFilterUi:m=>(m?l():d).newAgStackInstance()}:null}createFilterInstance(e,t,n,r){const o=this.beans.selectableFilter;o?.isSelectable(t)&&(t=o.getFilterDef(e,t));const{handler:a,handlerParams:l,handlerGenerator:d}=this.createHandler(e,t,n)??{},f=this.createFilterComp(e,t,n,r,!!a,"init");if(!f)return{compDetails:null,createFilterUi:null,handler:a,handlerGenerator:d,handlerParams:l};const{compDetails:m,createFilterUi:v}=f;return this.isGlobalButtons&&(m.params?.buttons?.length||ze(281,{colId:e.getColId()})),{compDetails:m,handler:a,handlerGenerator:d,handlerParams:l,createFilterUi:v}}createBaseFilterParams(e,t){const{filterManager:n,rowModel:r}=this.beans;return ht(this.gos,{column:e,colDef:e.getColDef(),getValue:this.createGetValue(e),doesRowPassOtherFilter:t?()=>!0:o=>n?.doesRowPassOtherFilters(e.getColId(),o)??!0,rowModel:r})}createFilterCompParams(e,t,n,r){const o=this.filterChangedCallbackFactory(e),a=this.createBaseFilterParams(e,r);if(a.filterChangedCallback=o,a.filterModifiedCallback=r?()=>{}:l=>this.filterModified(e,l),t){const l=a,d=e.getColId(),f=ri(this.model,d);l.model=f,l.state=this.state.get(d)??{model:f},l.onModelChange=(m,v)=>{this.updateStoredModel(d,m),this.refreshHandlerAndUi(e,m,"ui",!1,v).then(()=>{o({...v,source:"columnFilter"})})},l.onStateChange=m=>{this.updateState(e,m),this.updateOrRefreshFilterUi(e)},l.onAction=(m,v,C)=>{this.updateModel(e,m,v),this.dispatchLocalEvent({type:"filterAction",column:e,action:m,event:C})},l.getHandler=()=>this.getHandler(e,!0),l.onUiChange=m=>this.filterUiChanged(e,m),l.source=n}return a}createFilterUiForHandler(e,t){return t?{created:!1,create:t,filterParams:e.params,compDetails:e}:null}createFilterUiLegacy(e,t,n){const r=t(),o={created:!0,create:t,filterParams:e.params,compDetails:e,promise:r};return r.then(n),o}createFilterWrapper(e){const{compDetails:t,handler:n,handlerGenerator:r,handlerParams:o,createFilterUi:a}=this.createFilterInstance(e,e.getColDef(),this.getDefaultFilter(e),d=>d),l=e.getColId();if(n)return delete this.initialModel[l],n.init?.({...o,source:"init",model:ri(this.model,l)}),{column:e,isHandler:!0,handler:n,handlerGenerator:r,handlerParams:o,filterUi:this.createFilterUiForHandler(t,a)};if(a){const d={column:e,filterUi:null,isHandler:!1};return d.filterUi=this.createFilterUiLegacy(t,a,f=>{d.filter=f??void 0}),d}return{column:e,filterUi:null,isHandler:!1}}createHandlerFunc(e,t,n){const{gos:r,frameworkOverrides:o,registry:a}=this.beans;let l;const d=S=>{const E=S.filter;if(ZW(E)){const T=E.handler;return T||(l=E.doesFilterPass,l?()=>({doesFilterPass:l}):void 0)}return typeof E=="string"?E:void 0},f=r.get("enableFilterHandlers"),m=f?d(t):void 0,v=S=>()=>this.createBean(a.createDynamicBean(S,!0));let C,y;if(typeof m=="string"){const S=r.get("filterHandlers")?.[m];S!=null?C=S:Cbe.has(m)&&(C=v(m),y=m)}else C=m;if(!C){let S;const{compName:E,jsComp:T,fwComp:P}=e$(o,t);E?S=E:T==null&&P==null&&t.filter===!0&&(S=n),y=this.handlerMap[S],y&&(C=v(y))}return C?{filterHandler:C,handlerNameOrCallback:l??y}:f?(Wn(r)&&ze(277,{colId:e.getColId()}),BAe):void 0}createHandler(e,t,n){const r=this.createHandlerFunc(e,t,n);if(!r)return;const o=OM(this.beans.userCompFactory,t,this.createFilterCompParams(e,!0,"init")),{handlerNameOrCallback:a,filterHandler:l}=r,{handler:d,handlerParams:f}=this.createHandlerFromFunc(e,l,o);return{handler:d,handlerParams:f,handlerGenerator:a??l}}createHandlerFromFunc(e,t,n){const r=e.getColDef(),o=t(ht(this.gos,{column:e,colDef:r})),a=this.createHandlerParams(e,n);return{handler:o,handlerParams:a}}createHandlerParams(e,t){const n=e.getColDef(),r=e.getColId(),o=this.filterChangedCallbackFactory(e);return ht(this.gos,{colDef:n,column:e,getValue:this.createGetValue(e),doesRowPassOtherFilter:a=>this.beans.filterManager?.doesRowPassOtherFilters(r,a)??!0,onModelChange:(a,l)=>{this.updateStoredModel(r,a),this.refreshHandlerAndUi(e,a,"handler",!1,l).then(()=>{o({...l,source:"columnFilter"})})},filterParams:t})}onColumnsChanged(){const e=[],{colModel:t,filterManager:n,groupFilter:r}=this.beans;this.allColumnFilters.forEach((a,l)=>{let d;a.column.isPrimary()?d=t.getColDefCol(l):d=t.getCol(l),!(d&&d===a.column)&&(e.push(a.column),this.disposeFilterWrapper(a,"columnChanged"),this.disposeColumnListener(l))});const o=r&&e.every(a=>r.isGroupFilter(a));e.length>0&&!o&&n?.onFilterChanged({columns:e,source:"api"})}isFilterAllowed(e){if(!e.isFilterAllowed())return!1;const n=this.beans.groupFilter;return n?.isGroupFilter(e)?n.isFilterAllowed(e):!0}getFloatingFilterCompDetails(e,t){const{userCompFactory:n,frameworkOverrides:r,selectableFilter:o}=this.beans,a=y=>{const S=this.getOrCreateFilterUi(e);S?.then(E=>{y(Wy(E))})},l=e.getColDef(),d=o?.isSelectable(l)?o.getFilterDef(e,l):l,f=Lbe(r,d,()=>this.getDefaultFloatingFilter(e))??"agReadOnlyFloatingFilter",m=this.gos.get("enableFilterHandlers"),v=OM(n,d,this.createFilterCompParams(e,m,"init",!0)),C=ht(this.gos,{column:e,filterParams:v,currentParentModel:()=>this.getCurrentFloatingFilterParentModel(e),parentFilterInstance:a,showParentFilter:t});if(m){const y=C,S=e.getColId(),E=this.filterChangedCallbackFactory(e);y.onUiChange=T=>this.floatingFilterUiChanged(e,T),y.model=ri(this.model,S),y.onModelChange=(T,P)=>{this.updateStoredModel(S,T),this.refreshHandlerAndUi(e,T,"floating",!0,P).then(()=>{E({...P,source:"columnFilter"})})},y.getHandler=()=>this.getHandler(e,!0),y.source="init"}return eme(n,l,C,f)}getCurrentFloatingFilterParentModel(e){return this.getModelFromFilterWrapper(this.cachedFilter(e)??{column:e})}destroyFilterUi(e,t,n,r){const o="paramsUpdated";if(e.isHandler){const a=t.getColId();delete this.initialModel[a],this.state.delete(a);const l=e.filterUi,d=this.createFilterUiForHandler(n,r);e.filterUi=d;const f=this.eventSvc;l?.created?l.promise.then(m=>{this.destroyBean(m),f.dispatchEvent({type:"filterDestroyed",source:o,column:t})}):f.dispatchEvent({type:"filterHandlerDestroyed",source:o,column:t})}else this.destroyFilter(t,o)}destroyFilter(e,t="api"){const n=e.getColId(),r=this.allColumnFilters.get(n);this.disposeColumnListener(n),delete this.initialModel[n],r&&this.disposeFilterWrapper(r,t).then(o=>{o&&this.isAlive()&&this.beans.filterManager?.onFilterChanged({columns:[e],source:"api"})})}disposeColumnListener(e){const t=this.allColumnListeners.get(e);t&&(this.allColumnListeners.delete(e),t())}disposeFilterWrapper(e,t){let n=!1;const{column:r,isHandler:o,filterUi:a}=e,l=r.getColId();o&&(n=this.isHandlerActive(r),this.destroyBean(e.handler),delete this.model[l],this.state.delete(l));const d=()=>{this.setColFilterActive(r,!1,"filterDestroyed"),this.allColumnFilters.delete(l),this.eventSvc.dispatchEvent({type:"filterDestroyed",source:t,column:r})};if(a){if(a.created)return a.promise.then(f=>(n=o?n:!!f?.isFilterActive(),this.destroyBean(f),d(),n));d()}return Jt.resolve(n)}filterChangedCallbackFactory(e){return t=>{this.callOnFilterChangedOutsideRenderCycle({additionalEventAttributes:t,columns:[e],column:e,source:t?.source??"columnFilter"})}}filterParamsChanged(e,t="api"){const n=this.allColumnFilters.get(e);if(!n)return;const r=this.beans,o=n.column,a=o.getColDef(),l=o.isFilterAllowed(),d=this.getDefaultFilter(o),f=r.selectableFilter,m=f?.isSelectable(a)?f.getFilterDef(o,a):a,v=l?this.createHandlerFunc(o,m,this.getDefaultFilter(o)):void 0,C=!!v,y=n.isHandler;if(y!=C){this.destroyFilter(o,"paramsUpdated");return}const{compDetails:S,createFilterUi:E}=(l?this.createFilterComp(o,m,d,P=>P,C,"colDef"):null)??{compDetails:null,createFilterUi:null},T=S?.params??OM(r.userCompFactory,m,this.createFilterCompParams(o,C,"colDef"));if(y){const P=v?.handlerNameOrCallback??v?.filterHandler,N=ri(this.model,e);if(n.handlerGenerator!=P){const j=n.handler,{handler:L,handlerParams:V}=this.createHandlerFromFunc(o,v.filterHandler,T);n.handler=L,n.handlerParams=V,n.handlerGenerator=P,delete this.model[e],L.init?.({...V,source:"init",model:null}),this.destroyBean(j),N!=null&&this.beans.filterManager?.onFilterChanged({columns:[o],source:t})}else{const j=this.createHandlerParams(o,S?.params);n.handlerParams=j,n.handler.refresh?.({...j,source:"colDef",model:N})}}if(this.areFilterCompsDifferent(n.filterUi?.compDetails??null,S)||!n.filterUi||!S){this.destroyFilterUi(n,o,S,E);return}n.filterUi.filterParams=T,vh(n,y)?.then(P=>{(P?.refresh?P.refresh(T):!0)===!1?this.destroyFilterUi(n,o,S,E):this.dispatchLocalEvent({type:"filterParamsChanged",column:o,params:T})})}refreshHandlerAndUi(e,t,n,r,o){const a=this.cachedFilter(e);if(!a)return r&&this.getOrCreateFilterWrapper(e,!0),Jt.resolve();if(!a.isHandler)return Jt.resolve();const{filterUi:l,handler:d,handlerParams:f}=a;return ybe(()=>{if(l){const{created:m,filterParams:v}=l;if(m)return l.promise.then(C=>C?{filter:C,filterParams:v}:void 0);l.refreshed=!0}return Jt.resolve(void 0)},d,f,t,this.state.get(e.getColId())??{model:t},n,o)}setColumnFilterWrapper(e,t){const n=e.getColId();this.allColumnFilters.set(n,t),this.allColumnListeners.set(n,this.addManagedListeners(e,{colDefChanged:()=>this.filterParamsChanged(n)})[0])}areFilterCompsDifferent(e,t){if(!t||!e)return!0;const{componentClass:n}=e,{componentClass:r}=t;return!(n===r||n?.render&&r?.render&&n.render===r.render)}hasFloatingFilters(){return this.beans.colModel.getCols().some(t=>t.getColDef().floatingFilter)}getFilterInstance(e){const t=this.beans.colModel.getColDefCol(e);if(!t)return Promise.resolve(void 0);const n=this.getOrCreateFilterUi(t);return n?new Promise(r=>{n.then(o=>{r(Wy(o))})}):Promise.resolve(null)}processFilterModelUpdateQueue(){this.modelUpdates.forEach(({model:e,source:t})=>this.setModel(e,t)),this.modelUpdates=[],this.columnModelUpdates.forEach(({key:e,model:t,resolve:n})=>{this.setModelForColumn(e,t).then(()=>n())}),this.columnModelUpdates=[]}getModelForColumn(e,t){if(t){const{state:r,model:o}=this,a=e.getColId(),l=r.get(a);return l?l.model??null:ri(o,a)}const n=this.cachedFilter(e);return n?this.getModelFromFilterWrapper(n):null}setModelForColumn(e,t){if(this.beans.dataTypeSvc?.isPendingInference){let n=()=>{};const r=new Promise(o=>{n=o});return this.columnModelUpdates.push({key:e,model:t,resolve:n}),r}return new Promise(n=>{this.setModelForColumnLegacy(e,t).then(r=>n(r))})}getStateForColumn(e){return this.state.get(e)??{model:ri(this.model,e)}}setModelForColumnLegacy(e,t){const n=this.beans.colModel.getColDefCol(e),r=n?this.getOrCreateFilterWrapper(n,!0):null;return r?this.setModelOnFilterWrapper(r,t):Jt.resolve()}setColDefPropsForDataType(e,t,n){const r=e.filter,o=r===!0?this.getDefaultFilterFromDataType(()=>t.baseDataType):r;if(typeof o!="string")return;let a,l;const d=this.beans,{filterParams:f,filterValueGetter:m}=e;o==="agMultiColumnFilter"?{filterParams:a,filterValueGetter:l}=d.multiFilter?.getParamsForDataType(f,m,t,n)??{}:{filterParams:a,filterValueGetter:l}=Mbe(o,f,m,t,n,d,this.getLocaleTextFunc()),e.filterParams=a,l&&(e.filterValueGetter=l)}setColFilterActive(e,t,n,r){e.filterActive!==t&&(e.filterActive=t,e.dispatchColEvent("filterActiveChanged",n)),e.dispatchColEvent("filterChanged",n,r)}setModelOnFilterWrapper(e,t,n){return new Jt(r=>{if(e.isHandler){const a=e.column,l=a.getColId(),d=this.model[l];if(this.updateStoredModel(l,t),n&&t===d){r();return}this.refreshHandlerAndUi(a,t,"api").then(()=>r());return}const o=vh(e);if(o){o.then(a=>{if(typeof a?.setModel!="function"){ze(65),r();return}(a.setModel(t)||Jt.resolve()).then(()=>r())});return}r()})}updateStoredModel(e,t){Ye(t)?this.model[e]=t:delete this.model[e];const n=this.state.get(e),r={model:t,state:n?.state};this.state.set(e,r)}filterModified(e,t){this.getOrCreateFilterUi(e)?.then(n=>{this.eventSvc.dispatchEvent({type:"filterModified",column:e,filterInstance:n,...t})})}filterUiChanged(e,t){this.gos.get("enableFilterHandlers")&&this.eventSvc.dispatchEvent({type:"filterUiChanged",column:e,...t})}floatingFilterUiChanged(e,t){this.gos.get("enableFilterHandlers")&&this.eventSvc.dispatchEvent({type:"floatingFilterUiChanged",column:e,...t})}updateModel(e,t,n){const r=e.getColId(),o=this.cachedFilter(e),a=()=>o?.filterUi;wz(t,a,()=>ri(this.model,r),()=>this.state.get(r),l=>this.updateState(e,l),l=>a()?.filterParams?.onModelChange(l,n),o?.isHandler?o.handler.processModelToApply?.bind(o.handler):void 0)}updateAllModels(e,t){const n=[];this.allColumnFilters.forEach((r,o)=>{const a=this.beans.colModel.getColDefCol(o);a&&wz(e,()=>r.filterUi,()=>ri(this.model,o),()=>this.state.get(o),l=>this.updateState(a,l),l=>{this.updateStoredModel(o,l),this.dispatchLocalEvent({type:"filterAction",column:a,action:e}),n.push(this.refreshHandlerAndUi(a,l,"ui"))},r?.isHandler?r.handler.processModelToApply?.bind(r.handler):void 0)}),n.length&&Jt.all(n).then(()=>{this.callOnFilterChangedOutsideRenderCycle({source:"columnFilter",additionalEventAttributes:t,columns:[]})})}updateOrRefreshFilterUi(e){const t=e.getColId();_$(()=>this.cachedFilter(e)?.filterUi,()=>ri(this.model,t),()=>this.state.get(t))}updateState(e,t){this.state.set(e.getColId(),t),this.dispatchLocalEvent({type:"filterStateChanged",column:e,state:t})}canApplyAll(){const{state:e,model:t,activeFilterComps:n}=this;for(const o of n)if(o.source==="COLUMN_MENU")return!1;let r=!1;for(const o of e.keys()){const a=e.get(o);if(a.valid===!1)return!1;(a.model??null)!==ri(t,o)&&(r=!0)}return r}hasUnappliedModel(e){const{model:t,state:n}=this;return(n.get(e)?.model??null)!==ri(t,e)}setGlobalButtons(e){this.isGlobalButtons=e,this.dispatchLocalEvent({type:"filterGlobalButtons",isGlobal:e})}shouldKeepStateOnDetach(e,t){if(t==="newFiltersToolPanel")return!0;const n=this.beans.filterPanelSvc;return n?.isActive?!!n.getState(e.getColId()):!1}destroy(){super.destroy(),this.allColumnFilters.forEach(e=>this.disposeFilterWrapper(e,"gridDestroyed")),this.allColumnListeners.clear(),this.state.clear(),this.activeFilterComps.clear()}};function zAe(e){return!!e.filterManager?.isAnyFilterPresent()}function HAe(e,t="api"){e.filterManager?.onFilterChanged({source:t})}var VAe=class extends Pe{constructor(){super(...arguments),this.beanName="filterManager",this.advFilterModelUpdateQueue=[]}wireBeans(e){this.quickFilter=e.quickFilter,this.advancedFilter=e.advancedFilter,this.colFilter=e.colFilter}postConstruct(){const e=this.refreshFiltersForAggregations.bind(this),t=this.updateAdvFilterColumns.bind(this);this.addManagedEventListeners({columnValueChanged:e,columnPivotChanged:e,columnPivotModeChanged:e,newColumnsLoaded:t,columnVisible:t,advancedFilterEnabledChanged:({enabled:r})=>this.onAdvFilterEnabledChanged(r),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.addManagedPropertyListeners(["isExternalFilterPresent","doesExternalFilterPass"],()=>{this.onFilterChanged({source:"api"})}),this.updateAggFiltering(),this.addManagedPropertyListener("groupAggFiltering",()=>{this.updateAggFiltering(),this.onFilterChanged()}),this.quickFilter&&this.addManagedListeners(this.quickFilter,{quickFilterChanged:()=>this.onFilterChanged({source:"quickFilter"})});const{gos:n}=this;this.alwaysPassFilter=n.get("alwaysPassFilter"),this.addManagedPropertyListener("alwaysPassFilter",()=>{this.alwaysPassFilter=n.get("alwaysPassFilter"),this.onFilterChanged({source:"api"})})}isExternalFilterPresentCallback(){const e=this.gos.getCallback("isExternalFilterPresent");return typeof e=="function"&&e({})}doesExternalFilterPass(e){const t=this.gos.get("doesExternalFilterPass");return typeof t=="function"&&t(e)}setFilterState(e,t,n="api"){this.isAdvFilterEnabled()||this.colFilter?.setState(e,t,n)}setFilterModel(e,t="api",n){if(this.isAdvFilterEnabled()){n||this.warnAdvFilters();return}this.colFilter?.setModel(e,t)}getFilterModel(){return this.colFilter?.getModel()??{}}getFilterState(){return this.colFilter?.getState()}isColumnFilterPresent(){return!!this.colFilter?.isFilterPresent()}isAggregateFilterPresent(){return!!this.colFilter?.isAggFilterPresent()}isChildFilterPresent(){return this.isColumnFilterPresent()||this.isQuickFilterPresent()||this.externalFilterPresent||this.isAdvFilterPresent()}isAnyFilterPresent(){return this.isChildFilterPresent()||this.isAggregateFilterPresent()}isAdvFilterPresent(){return this.isAdvFilterEnabled()&&this.advancedFilter.isFilterPresent()}onAdvFilterEnabledChanged(e){e?this.colFilter?.disableFilters()&&this.onFilterChanged({source:"advancedFilter"}):this.advancedFilter?.isFilterPresent()&&(this.advancedFilter.setModel(null),this.onFilterChanged({source:"advancedFilter"}))}isAdvFilterEnabled(){return!!this.advancedFilter?.isEnabled()}isAdvFilterHeaderActive(){return this.isAdvFilterEnabled()&&this.advancedFilter.isHeaderActive()}refreshFiltersForAggregations(){SP(this.gos)&&this.isAnyFilterPresent()&&this.onFilterChanged()}onFilterChanged(e={}){const{source:t,additionalEventAttributes:n,columns:r=[]}=e;this.externalFilterPresent=this.isExternalFilterPresentCallback(),(this.colFilter?this.colFilter.updateBeforeFilterChanged(e):Jt.resolve()).then(()=>{const o={source:t,type:"filterChanged",columns:r};n&&Co(o,n),this.eventSvc.dispatchEvent(o),this.colFilter?.updateAfterFilterChanged()})}isSuppressFlashingCellsBecauseFiltering(){return!!this.colFilter?.isSuppressFlashingCellsBecauseFiltering()}isQuickFilterPresent(){return!!this.quickFilter?.isFilterPresent()}updateAggFiltering(){this.aggFiltering=!!SP(this.gos)}isAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&this.shouldApplyQuickFilterAfterAgg()}isNonAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&!this.shouldApplyQuickFilterAfterAgg()}shouldApplyQuickFilterAfterAgg(){return(this.aggFiltering||this.beans.colModel.isPivotMode())&&!this.gos.get("applyQuickFilterBeforePivotOrAgg")}doesRowPassOtherFilters(e,t){return this.doesRowPassFilter({rowNode:t,colIdToSkip:e})}doesRowPassAggregateFilters(e){const{rowNode:t}=e;return this.alwaysPassFilter?.(t)?!0:!(this.isAggregateQuickFilterPresent()&&!this.quickFilter.doesRowPass(t)||this.isAggregateFilterPresent()&&!this.colFilter.doFiltersPass(t,e.colIdToSkip,!0))}doesRowPassFilter(e){const{rowNode:t}=e;return this.alwaysPassFilter?.(t)?!0:!(this.isNonAggregateQuickFilterPresent()&&!this.quickFilter.doesRowPass(t)||this.externalFilterPresent&&!this.doesExternalFilterPass(t)||this.isColumnFilterPresent()&&!this.colFilter.doFiltersPass(t,e.colIdToSkip)||this.isAdvFilterPresent()&&!this.advancedFilter.doesFilterPass(t))}isFilterAllowed(e){return this.isAdvFilterEnabled()?!1:!!this.colFilter?.isFilterAllowed(e)}getAdvFilterModel(){return this.isAdvFilterEnabled()?this.advancedFilter.getModel():null}setAdvFilterModel(e,t="api"){if(this.isAdvFilterEnabled()){if(this.beans.dataTypeSvc?.isPendingInference){this.advFilterModelUpdateQueue.push(e);return}this.advancedFilter.setModel(e??null),this.onFilterChanged({source:t})}}toggleAdvFilterBuilder(e,t){this.isAdvFilterEnabled()&&this.advancedFilter.getCtrl().toggleFilterBuilder({source:t,force:e})}updateAdvFilterColumns(){this.isAdvFilterEnabled()&&this.advancedFilter.updateValidity()&&this.onFilterChanged({source:"advancedFilter"})}hasFloatingFilters(){return this.isAdvFilterEnabled()?!1:!!this.colFilter?.hasFloatingFilters()}getColumnFilterInstance(e){return this.isAdvFilterEnabled()?(this.warnAdvFilters(),Promise.resolve(void 0)):this.colFilter?.getFilterInstance(e)??Promise.resolve(void 0)}warnAdvFilters(){ze(68)}setupAdvFilterHeaderComp(e){this.advancedFilter?.getCtrl().setupHeaderComp(e)}getHeaderRowCount(){return this.isAdvFilterHeaderActive()?1:0}getHeaderHeight(){return this.isAdvFilterHeaderActive()?this.advancedFilter.getCtrl().getHeaderHeight():0}processFilterModelUpdateQueue(){for(const e of this.advFilterModelUpdateQueue)this.setAdvFilterModel(e);this.advFilterModelUpdateQueue=[]}setColumnFilterModel(e,t){return this.isAdvFilterEnabled()?(this.warnAdvFilters(),Promise.resolve()):this.colFilter?.setModelForColumn(e,t)??Promise.resolve()}},GAe=class extends Pe{constructor(){super(...arguments),this.beanName="filterMenuFactory"}wireBeans(e){this.popupSvc=e.popupSvc}hideActiveMenu(){this.hidePopup?.()}showMenuAfterMouseEvent(e,t,n,r){e&&!e.isColumn||this.showPopup(e,o=>{this.popupSvc?.positionPopupUnderMouseEvent({column:e,type:n,mouseEvent:t,ePopup:o})},n,t.target,ws(this.gos),r)}showMenuAfterButtonClick(e,t,n,r){if(e&&!e.isColumn)return;let o=-1,a="left";const l=ws(this.gos);!l&&this.gos.get("enableRtl")&&(o=1,a="right");const d=l?void 0:4*o,f=l?void 0:4;this.showPopup(e,m=>{this.popupSvc?.positionPopupByComponent({type:n,eventSource:t,ePopup:m,nudgeX:d,nudgeY:f,alignSide:a,keepWithinBounds:!0,position:"under",column:e})},n,t,l,r)}showPopup(e,t,n,r,o,a){const l=e?this.createBean(new Ebe(e,"COLUMN_MENU")):void 0;if(this.activeMenu=l,!l?.hasFilter()||!e){Cn(57);return}const d=Dr({tag:"div",cls:`ag-menu${o?"":" ag-filter-menu"}`,role:"presentation"});[this.tabListener]=this.addManagedElementListeners(d,{keydown:T=>this.trapFocusWithin(T,d)}),d.appendChild(l?.getGui());let f;const m=()=>l?.afterGuiDetached(),v=Upe(this.gos)?r??this.beans.ctrlsSvc.getGridBodyCtrl().eGridBody:void 0,C=T=>{Ez(e,!1,"contextMenu");const P=T instanceof KeyboardEvent;this.tabListener&&(this.tabListener=this.tabListener()),P&&r&&vc(r)&&s$(r)?.focus({preventScroll:!0}),m(),this.destroyBean(this.activeMenu),this.dispatchVisibleChangedEvent(!1,n,e),a?.()},y=this.getLocaleTextFunc(),S=o&&n!=="columnFilter"?y("ariaLabelColumnMenu","Column Menu"):y("ariaLabelColumnFilter","Column Filter"),E=this.popupSvc?.addPopup({modal:!0,eChild:d,closeOnEsc:!0,closedCallback:C,positionCallback:()=>t(d),anchorToElement:v,ariaLabel:S});E&&(this.hidePopup=f=E.hideFunc),l.afterInit().then(()=>{t(d),l.afterGuiAttached({container:n,hidePopup:f})}),Ez(e,!0,"contextMenu"),this.dispatchVisibleChangedEvent(!0,n,e)}trapFocusWithin(e,t){e.key!==xe.TAB||e.defaultPrevented||og(this.beans,t,!1,e.shiftKey)||(e.preventDefault(),Fh(t,e.shiftKey))}dispatchVisibleChangedEvent(e,t,n){this.eventSvc.dispatchEvent({type:"columnMenuVisibleChanged",visible:e,switchingTab:!1,key:t,column:n??null,columnGroup:null})}isMenuEnabled(e){return e.isFilterAllowed()&&(e.getColDef().menuTabs??["filterMenuTab"]).includes("filterMenuTab")}showMenuAfterContextMenuEvent(){}destroy(){this.destroyBean(this.activeMenu),super.destroy()}},UAe=class extends Pe{constructor(){super(...arguments),this.beanName="filterValueSvc"}getValue(e,t,n){if(!t)return;const r=e.getColDef(),{selectableFilter:o,valueSvc:a}=this.beans,l=n??o?.getFilterValueGetter(e.getColId())??r.filterValueGetter;return l?this.executeFilterValueGetter(l,t.data,e,t,r):a.getValue(e,t)}executeFilterValueGetter(e,t,n,r,o){const{expressionSvc:a,valueSvc:l}=this.beans,d=ht(this.gos,{data:t,node:r,column:n,colDef:o,getValue:l.getValueCallback.bind(l,r)});return typeof e=="function"?e(d):a?.evaluate(e,d)}},WAe={tag:"div",cls:"ag-floating-filter-input",role:"presentation",children:[{tag:"ag-input-text-field",ref:"eFloatingFilterText"}]},$Ae=class extends nn{constructor(){super(WAe,[fE]),this.eFloatingFilterText=qe}init(e){this.params=e;const t=this.beans.colNames.getDisplayNameForColumn(e.column,"header",!0);if(this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(`${t} ${this.getLocaleTextFunc()("ariaFilterInput","Filter Input")}`),this.gos.get("enableFilterHandlers")){const n=e,r=n.getHandler();if(r.getModelAsString){const o=r.getModelAsString(n.model);this.eFloatingFilterText.setValue(o)}}}onParentModelChanged(e){if(e==null){this.eFloatingFilterText.setValue("");return}this.params.parentFilterInstance(t=>{if(t.getModelAsString){const n=t.getModelAsString(e);this.eFloatingFilterText.setValue(n)}})}refresh(e){this.init(e)}},sO=class{constructor(){this.customFilterOptions={}}init(e,t){this.filterOptions=e.filterOptions??t,this.mapCustomOptions(),this.defaultOption=this.getDefaultItem(e.defaultOption)}refresh(e,t){const n=e.filterOptions??t;this.filterOptions!==n&&(this.filterOptions=n,this.customFilterOptions={},this.mapCustomOptions()),this.defaultOption=this.getDefaultItem(e.defaultOption)}mapCustomOptions(){const{filterOptions:e}=this;if(e)for(const t of e){if(typeof t=="string")continue;const n=[["displayKey"],["displayName"],["predicate","test"]],r=o=>o.some(a=>t[a]!=null)?!0:(ze(72,{keys:o}),!1);if(!n.every(r)){this.filterOptions=e.filter(o=>o===t)||[];continue}this.customFilterOptions[t.displayKey]=t}}getDefaultItem(e){const{filterOptions:t}=this;if(e)return e;if(t.length>=1){const n=t[0];if(typeof n=="string")return n;if(n.displayKey)return n.displayKey;ze(73)}else ze(74)}getCustomOption(e){return this.customFilterOptions[e]}};function Ty(e,t,n){return n==null?e.splice(t):e.splice(t,n)}function HS(e){return e==null||typeof e=="string"&&e.trim().length===0}function qAe(e){return e==="AND"||e==="OR"?e:"AND"}function KAe(e,t,n){if(e==null)return;const{predicate:r}=e;if(r!=null&&!t.some(o=>o==null))return r(t,n)}function YAe(e,t){let n=e.length;return n>t&&(e.splice(t),ze(78),n=t),n}function Yy(e,t){const n=t.getCustomOption(e);if(n){const{numberOfInputs:o}=n;return o??1}return e&&["empty","notBlank","blank"].indexOf(e)>=0?0:e==="inRange"?2:1}var aO=class extends Fbe{constructor(e,t,n){super(e,"simple-filter"),this.mapValuesFromModel=t,this.defaultOptions=n,this.eTypes=[],this.eJoinPanels=[],this.eJoinAnds=[],this.eJoinOrs=[],this.eConditionBodies=[],this.listener=()=>this.onUiChanged(),this.lastUiCompletePosition=null,this.joinOperatorId=0}setParams(e){super.setParams(e);const t=new sO;this.optionsFactory=t,t.init(e,this.defaultOptions),this.commonUpdateSimpleParams(e),this.createOption(),this.createMissingConditionsAndOperators()}updateParams(e,t){this.optionsFactory.refresh(e,this.defaultOptions),super.updateParams(e,t),this.commonUpdateSimpleParams(e)}commonUpdateSimpleParams(e){this.setNumConditions(e),this.defaultJoinOperator=qAe(e.defaultJoinOperator),this.filterPlaceholder=e.filterPlaceholder,this.createFilterListOptions();const t=this.getGui();this.isReadOnly()?t.setAttribute("tabindex","-1"):t.removeAttribute("tabindex")}onFloatingFilterChanged(e,t){this.setTypeFromFloatingFilter(e),this.setValueFromFloatingFilter(t),this.onUiChanged("immediately",!0)}setTypeFromFloatingFilter(e){this.eTypes.forEach((t,n)=>{const r=n===0?e:this.optionsFactory.defaultOption;t.setValue(r,!0)})}getModelFromUi(){const e=this.getUiCompleteConditions();return e.length===0?null:this.maxNumConditions>1&&e.length>1?{filterType:this.filterType,operator:this.getJoinOperator(),conditions:e}:e[0]}getConditionTypes(){return this.eTypes.map(e=>e.getValue())}getConditionType(e){return this.eTypes[e].getValue()}getJoinOperator(){const{eJoinOrs:e,defaultJoinOperator:t}=this;return e.length===0?t:e[0].getValue()===!0?"OR":"AND"}areNonNullModelsEqual(e,t){const n=!e.operator,r=!t.operator;if(!n&&r||n&&!r)return!1;let a;if(n){const l=e,d=t;a=this.areSimpleModelsEqual(l,d)}else{const l=e,d=t;a=l.operator===d.operator&&Uh(l.conditions,d.conditions,(f,m)=>this.areSimpleModelsEqual(f,m))}return a}setModelIntoUi(e,t){if(e==null)return this.resetUiToDefaults(t),Jt.resolve();if(e.operator){const r=e;let o=r.conditions;o==null&&(o=[],ze(77));const a=YAe(o,this.maxNumConditions),l=this.getNumConditions();if(a<l)this.removeConditionsAndOperators(a);else if(a>l)for(let f=l;f<a;f++)this.createJoinOperatorPanel(),this.createOption();const d=r.operator==="OR";this.eJoinAnds.forEach(f=>f.setValue(!d,!0)),this.eJoinOrs.forEach(f=>f.setValue(d,!0)),o.forEach((f,m)=>{this.eTypes[m].setValue(f.type,!0),this.setConditionIntoUi(f,m)})}else{const r=e;this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(r.type,!0),this.setConditionIntoUi(r,0)}return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.updateUiVisibility(),t||this.params.onUiChange(this.getUiChangeEventParams()),Jt.resolve()}setNumConditions(e){let t=e.maxNumConditions??2;t<1&&(ze(79),t=1),this.maxNumConditions=t;let n=e.numAlwaysVisibleConditions??1;n<1&&(ze(80),n=1),n>t&&(ze(81),n=t),this.numAlwaysVisibleConditions=n}createOption(){const e=this.getGui(),t=this.createManagedBean(new zN);this.eTypes.push(t),t.addCss("ag-filter-select"),e.appendChild(t.getGui());const n=this.createEValue();this.eConditionBodies.push(n),e.appendChild(n),this.putOptionsIntoDropdown(t),this.resetType(t);const r=this.getNumConditions()-1;this.forEachPositionInput(r,o=>this.resetInput(o)),this.addChangedListeners(t,r)}createJoinOperatorPanel(){const e=Dr({tag:"div",cls:"ag-filter-condition"});this.eJoinPanels.push(e);const t=this.createJoinOperator(this.eJoinAnds,e,"and"),n=this.createJoinOperator(this.eJoinOrs,e,"or");this.getGui().appendChild(e);const r=this.eJoinPanels.length-1,o=this.joinOperatorId++;this.resetJoinOperatorAnd(t,r,o),this.resetJoinOperatorOr(n,r,o),this.isReadOnly()||(t.onValueChange(this.listener),n.onValueChange(this.listener))}createJoinOperator(e,t,n){const r=this.createManagedBean(new gme);e.push(r);const o="ag-filter-condition-operator";return r.addCss(o),r.addCss(`${o}-${n}`),t.appendChild(r.getGui()),r}createFilterListOptions(){this.filterListOptions=this.optionsFactory.filterOptions.map(e=>typeof e=="string"?this.createBoilerplateListOption(e):this.createCustomListOption(e))}putOptionsIntoDropdown(e){const{filterListOptions:t}=this;for(const n of t)e.addOption(n);e.setDisabled(t.length<=1)}createBoilerplateListOption(e){return{value:e,text:this.translate(e)}}createCustomListOption(e){const{displayKey:t}=e,n=this.optionsFactory.getCustomOption(e.displayKey);return{value:t,text:n?this.getLocaleTextFunc()(n.displayKey,n.displayName):this.translate(t)}}createBodyTemplate(){return null}getAgComponents(){return[]}updateUiVisibility(){const e=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,e)}updateNumConditions(){let e=-1,t=!0;for(let n=0;n<this.getNumConditions();n++)this.isConditionUiComplete(n)?e=n:t=!1;if(this.shouldAddNewConditionAtEnd(t))this.createJoinOperatorPanel(),this.createOption();else{const n=this.lastUiCompletePosition??this.getNumConditions()-2;if(e<n){this.removeConditionsAndOperators(n+1);const r=e+1,o=n-r;o>0&&this.removeConditionsAndOperators(r,o),this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=e}updateConditionStatusesAndValues(e,t){this.eTypes.forEach((r,o)=>{const a=this.isConditionDisabled(o,e);r.setDisabled(a||this.filterListOptions.length<=1),o===1&&(By(this.eJoinPanels[0],a),this.eJoinAnds[0].setDisabled(a),this.eJoinOrs[0].setDisabled(a))}),this.eConditionBodies.forEach((r,o)=>{Ln(r,this.isConditionBodyVisible(o))});const n=(t??this.getJoinOperator())==="OR";for(const r of this.eJoinAnds)r.setValue(!n,!0);for(const r of this.eJoinOrs)r.setValue(n,!0);this.forEachInput((r,o,a,l)=>{this.setElementDisplayed(r,o<l),this.setElementDisabled(r,this.isConditionDisabled(a,e))}),this.resetPlaceholder()}shouldAddNewConditionAtEnd(e){return e&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()}removeConditionsAndOperators(e,t){if(e>=this.getNumConditions())return;const{eTypes:n,eConditionBodies:r,eJoinPanels:o,eJoinAnds:a,eJoinOrs:l}=this;this.removeComponents(n,e,t),this.removeElements(r,e,t),this.removeEValues(e,t);const d=Math.max(e-1,0);this.removeElements(o,d,t),this.removeComponents(a,d,t),this.removeComponents(l,d,t)}removeElements(e,t,n){const r=Ty(e,t,n);for(const o of r)oa(o)}removeComponents(e,t,n){const r=Ty(e,t,n);for(const o of r)oa(o.getGui()),this.destroyBean(o)}afterGuiAttached(e){if(super.afterGuiAttached(e),this.resetPlaceholder(),!e?.suppressFocus){let t;if(!this.isReadOnly()){const n=this.getInputs(0)[0];n instanceof yp&&this.isConditionBodyVisible(0)?t=n.getInputElement():t=this.eTypes[0]?.getFocusableElement()}(t??this.getGui()).focus({preventScroll:!0})}}afterGuiDetached(){super.afterGuiDetached();const e=this.params;if(this.beans.colFilter?.shouldKeepStateOnDetach(e.column))return;e.onStateChange({model:e.model});let t=-1,n=-1,r=!1;const o=this.getJoinOperator();for(let l=this.getNumConditions()-1;l>=0;l--)if(this.isConditionUiComplete(l))t===-1&&(t=l,n=l);else{const d=l>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(l-1),f=l<t;(d||f)&&(this.removeConditionsAndOperators(l,1),r=!0,f&&n--)}let a=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),a=!0),this.shouldAddNewConditionAtEnd(n===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),a=!0),a&&this.updateConditionStatusesAndValues(n,o),r&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=n}getModelAsString(e){return this.params.getHandler()?.getModelAsString?.(e)??""}getPlaceholderText(e,t){let n=this.translate(e);if(typeof this.filterPlaceholder=="function"){const r=this.eTypes[t].getValue(),o=this.translate(r);n=this.filterPlaceholder({filterOptionKey:r,filterOption:o,placeholder:n})}else typeof this.filterPlaceholder=="string"&&(n=this.filterPlaceholder);return n}resetPlaceholder(){const e=this.getLocaleTextFunc();this.forEachInput((t,n,r,o)=>{if(!(t instanceof yp))return;const a=n===0&&o>1?"inRangeStart":n===0?"filterOoo":"inRangeEnd",l=n===0&&o>1?e("ariaFilterFromValue","Filter from value"):n===0?e("ariaFilterValue","Filter Value"):e("ariaFilterToValue","Filter to Value");t.setInputPlaceholder(this.getPlaceholderText(a,r)),t.setInputAriaLabel(l)})}setElementValue(e,t,n){e instanceof yp&&e.setValue(t!=null?String(t):null,!0)}setElementDisplayed(e,t){dz(e)&&Ln(e.getGui(),t)}setElementDisabled(e,t){dz(e)&&By(e.getGui(),t)}attachElementOnChange(e,t){e instanceof yp&&e.onValueChange(t)}forEachInput(e){this.getConditionTypes().forEach((t,n)=>{this.forEachPositionTypeInput(n,t,e)})}forEachPositionInput(e,t){const n=this.getConditionType(e);this.forEachPositionTypeInput(e,n,t)}forEachPositionTypeInput(e,t,n){const r=Yy(t,this.optionsFactory),o=this.getInputs(e);for(let a=0;a<o.length;a++){const l=o[a];l!=null&&n(l,a,e,r)}}isConditionDisabled(e,t){return this.isReadOnly()?!0:e===0?!1:e>t+1}isConditionBodyVisible(e){const t=this.getConditionType(e);return Yy(t,this.optionsFactory)>0}isConditionUiComplete(e){return!(e>=this.getNumConditions()||this.getConditionType(e)==="empty"||this.getValues(e).some(n=>n==null))}getNumConditions(){return this.eTypes.length}getUiCompleteConditions(){const e=[];for(let t=0;t<this.getNumConditions();t++)this.isConditionUiComplete(t)&&e.push(this.createCondition(t));return e}createMissingConditionsAndOperators(){if(!this.isReadOnly())for(let e=this.getNumConditions();e<this.numAlwaysVisibleConditions;e++)this.createJoinOperatorPanel(),this.createOption()}resetUiToDefaults(e){this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach(t=>this.resetType(t)),this.eJoinAnds.forEach((t,n)=>this.resetJoinOperatorAnd(t,n,this.joinOperatorId+n)),this.eJoinOrs.forEach((t,n)=>this.resetJoinOperatorOr(t,n,this.joinOperatorId+n)),this.joinOperatorId++,this.forEachInput(t=>this.resetInput(t)),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,this.updateUiVisibility(),e||this.params.onUiChange(this.getUiChangeEventParams())}resetType(e){const n=this.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator");e.setValue(this.optionsFactory.defaultOption,!0).setAriaLabel(n).setDisabled(this.isReadOnly()||this.filterListOptions.length<=1)}resetJoinOperatorAnd(e,t,n){this.resetJoinOperator(e,t,this.defaultJoinOperator==="AND",this.translate("andCondition"),n)}resetJoinOperatorOr(e,t,n){this.resetJoinOperator(e,t,this.defaultJoinOperator==="OR",this.translate("orCondition"),n)}resetJoinOperator(e,t,n,r,o){this.updateJoinOperatorDisabled(e.setValue(n,!0).setName(`ag-simple-filter-and-or-${this.getCompId()}-${o}`).setLabel(r),t)}updateJoinOperatorsDisabled(){const e=(t,n)=>this.updateJoinOperatorDisabled(t,n);this.eJoinAnds.forEach(e),this.eJoinOrs.forEach(e)}updateJoinOperatorDisabled(e,t){e.setDisabled(this.isReadOnly()||t>0)}resetInput(e){this.setElementValue(e,null),this.setElementDisabled(e,this.isReadOnly())}setConditionIntoUi(e,t){const n=this.mapValuesFromModel(e,this.optionsFactory);this.forEachInput((r,o,a)=>{a===t&&this.setElementValue(r,n[o]!=null?n[o]:null)})}setValueFromFloatingFilter(e){this.forEachInput((t,n,r)=>{this.setElementValue(t,n===0&&r===0?e:null,!0)})}addChangedListeners(e,t){this.isReadOnly()||(e.onValueChange(this.listener),this.forEachPositionInput(t,n=>{this.attachElementOnChange(n,this.listener)}))}hasInvalidInputs(){return!1}isReadOnly(){return!!this.params.readOnly}},Gq=class{constructor(e,t,n,r,o,a){this.alive=!0,this.context=e,this.eParent=o;const l=Qge(t,n,r);l&&l.newAgStackInstance().then(d=>{if(!this.alive){e.destroyBean(d);return}if(this.dateComp=d,!d)return;o.appendChild(d.getGui()),d?.afterGuiAttached?.();const{tempValue:f,disabled:m}=this;f&&d.setDate(f),m!=null&&d.setDisabled?.(m),a?.(this)})}destroy(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)}getDate(){return this.dateComp?this.dateComp.getDate():this.tempValue}setDate(e){const t=this.dateComp;t?t.setDate(e):this.tempValue=e}setDisabled(e){const t=this.dateComp;t?t.setDisabled?.(e):this.disabled=e}setDisplayed(e){Ln(this.eParent,e)}setInputPlaceholder(e){this.dateComp?.setInputPlaceholder?.(e)}setInputAriaLabel(e){this.dateComp?.setInputAriaLabel?.(e)}afterGuiAttached(e){this.dateComp?.afterGuiAttached?.(e)}updateParams(e){this.dateComp?.refresh?.(e)}},lO=["equals","notEqual","lessThan","greaterThan","inRange","blank","notBlank"];function Uq(e,t){const{dateFrom:n,dateTo:r,type:o}=e||{};return[n&&Qo(n,void 0,!0)||null,r&&Qo(r,void 0,!0)||null].slice(0,Yy(o,t))}var l8=1e3,c8=1/0,QAe=class extends aO{constructor(){super("dateFilter",Uq,lO),this.eConditionPanelsFrom=[],this.eConditionPanelsTo=[],this.dateConditionFromComps=[],this.dateConditionToComps=[],this.minValidYear=l8,this.maxValidYear=c8,this.minValidDate=null,this.maxValidDate=null,this.filterType="date"}afterGuiAttached(e){super.afterGuiAttached(e),this.dateConditionFromComps[0].afterGuiAttached(e)}commonUpdateSimpleParams(e){super.commonUpdateSimpleParams(e);const t=(f,m)=>{const v=e[f];if(v!=null)if(isNaN(v))ze(82,{param:f});else return v==null?m:Number(v);return m},n=t("minValidYear",l8),r=t("maxValidYear",c8);this.minValidYear=n,this.maxValidYear=r,n>r&&ze(83);const{minValidDate:o,maxValidDate:a}=e,l=o instanceof Date?o:Qo(o);this.minValidDate=l;const d=a instanceof Date?a:Qo(a);this.maxValidDate=d,l&&d&&l>d&&ze(84)}createDateCompWrapper(e){const{beans:{userCompFactory:t,context:n,gos:r},params:o}=this,a=new Gq(n,t,o.colDef,ht(r,{onDateChanged:()=>this.onUiChanged(),filterParams:o,location:"filter"}),e);return this.addDestroyFunc(()=>a.destroy()),a}setElementValue(e,t){e.setDate(t)}setElementDisplayed(e,t){e.setDisplayed(t)}setElementDisabled(e,t){e.setDisabled(t)}createEValue(){const e=Dr({tag:"div",cls:"ag-filter-body"});return this.createFromToElement(e,this.eConditionPanelsFrom,this.dateConditionFromComps,"from"),this.createFromToElement(e,this.eConditionPanelsTo,this.dateConditionToComps,"to"),e}createFromToElement(e,t,n,r){const o=Dr({tag:"div",cls:`ag-filter-${r} ag-filter-date-${r}`});t.push(o),e.appendChild(o),n.push(this.createDateCompWrapper(o))}removeEValues(e,t){this.removeDateComps(this.dateConditionFromComps,e,t),this.removeDateComps(this.dateConditionToComps,e,t),Ty(this.eConditionPanelsFrom,e,t),Ty(this.eConditionPanelsTo,e,t)}removeDateComps(e,t,n){const r=Ty(e,t,n);for(const o of r)o.destroy()}isValidDateValue(e){if(e===null)return!1;const{minValidDate:t,maxValidDate:n,minValidYear:r,maxValidYear:o}=this;if(t){if(e<t)return!1}else if(e.getUTCFullYear()<r)return!1;if(n){if(e>n)return!1}else if(e.getUTCFullYear()>o)return!1;return!0}isConditionUiComplete(e){if(!super.isConditionUiComplete(e))return!1;let t=!0;return this.forEachInput((n,r,o,a)=>{o!==e||!t||r>=a||(t=t&&this.isValidDateValue(n.getDate()))}),t}areSimpleModelsEqual(e,t){return e.dateFrom===t.dateFrom&&e.dateTo===t.dateTo&&e.type===t.type}createCondition(e){const t=this.getConditionType(e),n={},r=this.getValues(e),o=this.params.useIsoSeparator?"T":" ";return r.length>0&&(n.dateFrom=ks(r[0],!0,o)),r.length>1&&(n.dateTo=ks(r[1],!0,o)),{dateFrom:null,dateTo:null,filterType:this.filterType,type:t,...n}}resetPlaceholder(){const e=this.getLocaleTextFunc(),t=this.translate("dateFormatOoo"),n=e("ariaFilterValue","Filter Value");this.forEachInput(r=>{r.setInputPlaceholder(t),r.setInputAriaLabel(n)})}getInputs(e){const{dateConditionFromComps:t,dateConditionToComps:n}=this;return e>=t.length?[null,null]:[t[e],n[e]]}getValues(e){const t=[];return this.forEachPositionInput(e,(n,r,o,a)=>{r<a&&t.push(n.getDate())}),t}translate(e){return e==="lessThan"?super.translate("before"):e==="greaterThan"?super.translate("after"):super.translate(e)}},Wq=class extends Pe{constructor(e,t){super(),this.mapValuesFromModel=e,this.defaultOptions=t}init(e){const t=e.filterParams,n=new sO;this.optionsFactory=n,n.init(t,this.defaultOptions),this.filterModelFormatter=this.createManagedBean(new this.FilterModelFormatterClass(n,t)),this.updateParams(e),this.validateModel(e)}refresh(e){if(e.source==="colDef"){const t=e.filterParams,n=this.optionsFactory;n.refresh(t,this.defaultOptions),this.filterModelFormatter.updateParams({optionsFactory:n,filterParams:t}),this.updateParams(e)}this.validateModel(e)}updateParams(e){this.params=e}doesFilterPass(e){const t=e.model;if(t==null)return!0;const{operator:n}=t,r=[];if(n){const l=t;r.push(...l.conditions??[])}else r.push(t);const o=n&&n==="OR"?"some":"every",a=this.params.getValue(e.node);return r[o](l=>this.individualConditionPasses(e,l,a))}getModelAsString(e,t){return this.filterModelFormatter.getModelAsString(e,t)??""}validateModel(e){const{model:t,filterParams:{filterOptions:n,maxNumConditions:r}}=e;if(t==null)return;let a=M$(t)?t.conditions:[t];const l=n?.map(v=>typeof v=="string"?v:v.displayKey)??this.defaultOptions;if(!(!a||a.every(v=>l.find(C=>C===v.type)!==void 0))){this.params={...e,model:null},e.onModelChange(null);return}let f=!1;const m=this.filterType;if((a&&!a.every(v=>v.filterType===m)||t.filterType!==m)&&(a=a.map(v=>({...v,filterType:m})),f=!0),typeof r=="number"&&a&&a.length>r&&(a=a.slice(0,r),f=!0),f){const v=a.length>1?{...t,filterType:m,conditions:a}:{...a[0],filterType:m};this.params={...e,model:v},e.onModelChange(v)}}individualConditionPasses(e,t,n){const r=this.optionsFactory,o=this.mapValuesFromModel(t,r),a=r.getCustomOption(t.type),l=KAe(a,o,n);return l??(n==null?this.evaluateNullValue(t.type):this.evaluateNonNullValue(o,n,t,e))}},$q=class extends Wq{evaluateNullValue(e){const{includeBlanksInEquals:t,includeBlanksInNotEqual:n,includeBlanksInGreaterThan:r,includeBlanksInLessThan:o,includeBlanksInRange:a}=this.params.filterParams;switch(e){case"equals":if(t)return!0;break;case"notEqual":if(n)return!0;break;case"greaterThan":case"greaterThanOrEqual":if(r)return!0;break;case"lessThan":case"lessThanOrEqual":if(o)return!0;break;case"inRange":if(a)return!0;break;case"blank":return!0;case"notBlank":return!1}return!1}evaluateNonNullValue(e,t,n){const r=n.type;if(!this.isValid(t))return r==="notEqual"||r==="notBlank";const o=this.comparator(),a=e[0]!=null?o(e[0],t):0;switch(r){case"equals":return a===0;case"notEqual":return a!==0;case"greaterThan":return a>0;case"greaterThanOrEqual":return a>=0;case"lessThan":return a<0;case"lessThanOrEqual":return a<=0;case"inRange":{const l=o(e[1],t);return this.params.filterParams.inRangeInclusive?a>=0&&l<=0:a>0&&l<0}case"blank":return HS(t);case"notBlank":return!HS(t);default:return ze(76,{filterModelType:r}),!0}}},qq={equals:"Equals",notEqual:"NotEqual",greaterThan:"GreaterThan",greaterThanOrEqual:"GreaterThanOrEqual",lessThan:"LessThan",lessThanOrEqual:"LessThanOrEqual",inRange:"InRange"},ZAe={contains:"Contains",notContains:"NotContains",equals:"TextEquals",notEqual:"TextNotEqual",startsWith:"StartsWith",endsWith:"EndsWith",inRange:"InRange"},cO=class extends Pe{constructor(e,t,n){super(),this.optionsFactory=e,this.filterParams=t,this.valueFormatter=n}getModelAsString(e,t){const n=this.getLocaleTextFunc(),r=t==="filterToolPanel";if(!e)return r?Eh(this,"filterSummaryInactive"):null;if(e.operator!=null){const a=e,d=(a.conditions??[]).map(m=>this.getModelAsString(m,t)),f=a.operator==="AND"?"andCondition":"orCondition";return d.join(` ${Eh(this,f)} `)}else{if(e.type==="blank"||e.type==="notBlank")return r?Eh(this,e.type==="blank"?"filterSummaryBlank":"filterSummaryNotBlank"):n(e.type,e.type);{const a=e,l=this.optionsFactory.getCustomOption(a.type),{displayKey:d,displayName:f,numberOfInputs:m}=l||{};return d&&f&&m===0?n(d,f):this.conditionToString(a,r,a.type==="inRange"||m===2,d,f)}}}updateParams(e){const{optionsFactory:t,filterParams:n}=e;this.optionsFactory=t,this.filterParams=n}conditionForToolPanel(e,t,n,r,o,a){let l;const d=this.getTypeKey(e);return d&&(l=Eh(this,d)),o&&a&&(l=this.getLocaleTextFunc()(o,a)),l!=null?t?`${l} ${Eh(this,"filterSummaryInRangeValues",[n(),r()])}`:`${l} ${n()}`:null}getTypeKey(e){const t=this.filterTypeKeys[e];return t?`filterSummary${t}`:null}formatValue(e){const t=this.valueFormatter;return t?t(e??null)??"":String(e)}},Kq=class extends cO{constructor(e,t){super(e,t,n=>{const{dataTypeSvc:r,valueSvc:o}=this.beans,a=t.column,l=r?.getDateFormatterFunction(a),d=l?l(n??void 0):n;return o.formatValue(a,null,d)}),this.filterTypeKeys=qq}conditionToString(e,t,n,r,o){const{type:a}=e,l=Qo(e.dateFrom),d=Qo(e.dateTo),f=this.filterParams.inRangeFloatingFilterDateFormat,m=t?this.formatValue.bind(this):y=>PP(y,f),v=()=>l!==null?m(l):"null",C=()=>d!==null?m(d):"null";if(t){const y=this.conditionForToolPanel(a,n,v,C,r,o);if(y!=null)return y}return n?`${v()}-${C()}`:l!=null?m(l):`${a}`}};function XAe(e,t){const n=t;return n<e?-1:n>e?1:0}var JAe=class extends $q{constructor(){super(Uq,lO),this.filterType="date",this.FilterModelFormatterClass=Kq}comparator(){return this.params.filterParams.comparator??XAe}isValid(e){const t=this.params.filterParams.isValidDate;return!t||t(e)}},Yq=class extends nn{constructor(){super(...arguments),this.defaultDebounceMs=0}setLastTypeFromModel(e){if(!e){this.lastType=this.optionsFactory.defaultOption;return}const t=e.operator;let n;t?n=e.conditions[0]:n=e,this.lastType=n.type}canWeEditAfterModelFromParentFilter(e){if(!e)return this.isTypeEditable(this.lastType);if(e.operator)return!1;const n=e;return this.isTypeEditable(n.type)}init(e){this.params=e;const t=this.gos.get("enableFilterHandlers");if(this.reactive=t,this.setParams(e),t){const n=e;this.onModelUpdated(n.model)}}setParams(e){const t=new sO;this.optionsFactory=t,t.init(e.filterParams,this.defaultOptions),this.filterModelFormatter=this.createManagedBean(new this.FilterModelFormatterClass(t,e.filterParams)),this.setSimpleParams(e,!1)}setSimpleParams(e,t=!0){const n=this.optionsFactory.defaultOption;t||(this.lastType=n),this.readOnly=!!e.filterParams.readOnly;const r=this.isTypeEditable(n);this.setEditable(r)}refresh(e){this.params=e;const t=e,n=this.reactive;if((!n||t.source==="colDef")&&this.updateParams(e),n){const{source:r,model:o}=t;if(r==="dataChanged"||r==="ui")return;this.onModelUpdated(o)}}updateParams(e){const t=this.optionsFactory;t.refresh(e.filterParams,this.defaultOptions),this.setSimpleParams(e),this.filterModelFormatter.updateParams({optionsFactory:t,filterParams:e.filterParams})}onParentModelChanged(e,t){t?.afterFloatingFilter||t?.afterDataChange||this.onModelUpdated(e)}hasSingleInput(e){const t=this.optionsFactory.getCustomOption(e)?.numberOfInputs;return t==null||t==1}isTypeEditable(e){const t=["inRange","empty","blank","notBlank"];return!!e&&!this.readOnly&&this.hasSingleInput(e)&&t.indexOf(e)<0}getAriaLabel(e){return`${this.beans.colNames.getDisplayNameForColumn(e.column,"header",!0)} ${this.getLocaleTextFunc()("ariaFilterInput","Filter Input")}`}},e1e={tag:"div",cls:"ag-floating-filter-input",role:"presentation",children:[{tag:"ag-input-text-field",ref:"eReadOnlyText"},{tag:"div",ref:"eDateWrapper",cls:"ag-date-floating-filter-wrapper"}]},t1e=class extends Yq{constructor(){super(e1e,[fE]),this.eReadOnlyText=qe,this.eDateWrapper=qe,this.FilterModelFormatterClass=Kq,this.filterType="date",this.defaultOptions=lO}setParams(e){super.setParams(e),this.createDateComponent();const t=this.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(t("ariaDateFilterInput","Date Filter Input"))}updateParams(e){super.updateParams(e),this.dateComp.updateParams(this.getDateComponentParams()),this.updateCompOnModelChange(e.currentParentModel())}updateCompOnModelChange(e){const t=!this.readOnly&&this.canWeEditAfterModelFromParentFilter(e);if(this.setEditable(t),t){const n=e?Qo(e.dateFrom):null;this.dateComp.setDate(n),this.eReadOnlyText.setValue("")}else this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(e)),this.dateComp.setDate(null)}setEditable(e){Ln(this.eDateWrapper,e),Ln(this.eReadOnlyText.getGui(),!e)}onModelUpdated(e){super.setLastTypeFromModel(e),this.updateCompOnModelChange(e)}onDateChanged(){const e=this.dateComp.getDate();if(this.reactive){const t=this.params;t.onUiChange();const n=t.model,r=ks(e),o=r==null?null:{...n??{filterType:this.filterType,type:this.lastType??this.optionsFactory.defaultOption},dateFrom:r};t.onModelChange(o,{afterFloatingFilter:!0})}else this.params.parentFilterInstance(t=>{t?.onFloatingFilterChanged(this.lastType||null,e)})}getDateComponentParams(){const{filterParams:e}=this.params,t=WN(e,this.defaultDebounceMs);return ht(this.gos,{onDateChanged:Ci(this,this.onDateChanged.bind(this),t),filterParams:e,location:"floatingFilter"})}createDateComponent(){const{beans:{context:e,userCompFactory:t},eDateWrapper:n,params:r}=this;this.dateComp=new Gq(e,t,r.column.getColDef(),this.getDateComponentParams(),n,o=>{o.setInputAriaLabel(this.getAriaLabel(r))}),this.addDestroyFunc(()=>this.dateComp.destroy())}},n1e={tag:"div",cls:"ag-filter-filter",children:[{tag:"ag-input-text-field",ref:"eDateInput",cls:"ag-date-filter"}]},r1e=class extends nn{constructor(){super(n1e,[fE]),this.eDateInput=qe,this.isApply=!1,this.applyOnFocusOut=!1}init(e){this.params=e,this.setParams(e);const t=this.eDateInput.getInputElement();this.addManagedListeners(t,{mouseDown:()=>{this.eDateInput.isDisabled()||this.usingSafariDatePicker||t.focus({preventScroll:!0})},input:this.handleInput.bind(this,!1),change:this.handleInput.bind(this,!0),focusout:this.handleFocusOut.bind(this)})}handleInput(e){if(!this.eDateInput.isDisabled()){if(this.isApply){this.applyOnFocusOut=!e,e&&this.params.onDateChanged();return}e||this.params.onDateChanged()}}handleFocusOut(){this.applyOnFocusOut&&(this.applyOnFocusOut=!1,this.params.onDateChanged())}setParams(e){const t=this.eDateInput.getInputElement(),n=this.shouldUseBrowserDatePicker(e);this.usingSafariDatePicker=n&&Wh();const{minValidYear:r,maxValidYear:o,minValidDate:a,maxValidDate:l,buttons:d,includeTime:f,colDef:m}=e.filterParams||{},v=this.beans.dataTypeSvc,C=f??v?.getDateIncludesTimeFlag?.(m.cellDataType)??!1;if(n?C?(t.type="datetime-local",t.step="1"):t.type="date":t.type="text",a&&r&&ze(85),l&&o&&ze(86),a&&l){const[y,S]=[a,l].map(E=>E instanceof Date?E:Qo(E));y&&S&&y.getTime()>S.getTime()&&ze(87)}a?a instanceof Date?t.min=PP(a):t.min=a:r&&(t.min=`${r}-01-01`),l?l instanceof Date?t.max=PP(l):t.max=l:o&&(t.max=`${o}-12-31`),this.isApply=e.location==="floatingFilter"&&!!d?.includes("apply")}refresh(e){this.params=e,this.setParams(e)}getDate(){return Qo(this.eDateInput.getValue())}setDate(e){const t=this.params.filterParams.colDef.cellDataType,n=this.beans.dataTypeSvc?.getDateIncludesTimeFlag(t)??!1;this.eDateInput.setValue(ks(e,n))}setInputPlaceholder(e){this.eDateInput.setInputPlaceholder(e)}setInputAriaLabel(e){this.eDateInput.setAriaLabel(e)}setDisabled(e){this.eDateInput.setDisabled(e)}afterGuiAttached(e){e?.suppressFocus||this.eDateInput.getInputElement().focus({preventScroll:!0})}shouldUseBrowserDatePicker(e){return e?.filterParams?.browserDatePicker??!0}},dO=["equals","notEqual","greaterThan","greaterThanOrEqual","lessThan","lessThanOrEqual","inRange","blank","notBlank"];function QP(e){const{allowedCharPattern:t}=e??{};return t??null}function ZP(e){return e==null||isNaN(e)?null:e}function Qq(e,t){const{filter:n,filterTo:r,type:o}=e||{};return[ZP(n),ZP(r)].slice(0,Yy(o,t))}var i1e=class extends aO{constructor(){super("numberFilter",Qq,dO),this.eValuesFrom=[],this.eValuesTo=[],this.filterType="number",this.defaultDebounceMs=500}setElementValue(e,t,n){const{numberFormatter:r}=this.params,o=!n&&r?r(t??null):t;super.setElementValue(e,o)}createEValue(){const e=QP(this.params),t=Dr({tag:"div",cls:"ag-filter-body",role:"presentation"});return this.createFromToElement(t,this.eValuesFrom,"from",e),this.createFromToElement(t,this.eValuesTo,"to",e),t}createFromToElement(e,t,n,r){const o=this.createManagedBean(r?new sg({allowedCharPattern:r}):new jN);o.addCss(`ag-filter-${n}`),o.addCss("ag-filter-filter"),t.push(o),e.appendChild(o.getGui())}removeEValues(e,t){const n=r=>this.removeComponents(r,e,t);n(this.eValuesFrom),n(this.eValuesTo)}getValues(e){const t=[];return this.forEachPositionInput(e,(n,r,o,a)=>{r<a&&t.push(ZP(this.stringToFloat(n.getValue())))}),t}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}stringToFloat(e){if(typeof e=="number")return e;let t=xd(e);t!=null&&t.trim()===""&&(t=null);const n=this.params.numberParser;return n?n(t):t==null||t.trim()==="-"?null:Number.parseFloat(t)}createCondition(e){const t=this.getConditionType(e),n={filterType:this.filterType,type:t},r=this.getValues(e);return r.length>0&&(n.filter=r[0]),r.length>1&&(n.filterTo=r[1]),n}getInputs(e){const{eValuesFrom:t,eValuesTo:n}=this;return e>=t.length?[null,null]:[t[e],n[e]]}hasInvalidInputs(){let e=!1;return this.forEachInput(t=>{t.getInputElement().validity.valid||(e=!0)}),e}},Zq=class extends cO{constructor(e,t){super(e,t,t.numberFormatter),this.filterTypeKeys=qq}conditionToString(e,t,n,r,o){const{filter:a,filterTo:l,type:d}=e,f=this.formatValue.bind(this);if(t){const m=this.conditionForToolPanel(d,n,()=>f(a),()=>f(l),r,o);if(m!=null)return m}return n?`${f(a)}-${f(l)}`:a!=null?f(a):`${d}`}},o1e=class extends $q{constructor(){super(Qq,dO),this.filterType="number",this.FilterModelFormatterClass=Zq}comparator(){return(e,t)=>e===t?0:e<t?1:-1}isValid(e){return!isNaN(e)}},Xq=class extends Pe{constructor(e){super(),this.params=e,this.eInput=qe,this.onValueChanged=()=>{}}setupGui(e){this.eInput=this.createManagedBean(new sg(this.params?.config));const t=this.eInput.getGui();e.appendChild(t);const n=r=>this.onValueChanged(r);this.addManagedListeners(t,{input:n,keydown:n})}setEditable(e){this.eInput.setDisabled(!e)}getValue(){return this.eInput.getValue()}setValue(e,t){this.eInput.setValue(e,t)}setValueChangedListener(e){this.onValueChanged=e}setParams({ariaLabel:e,autoComplete:t}){const{eInput:n}=this;n.setInputAriaLabel(e),t!==void 0&&n.setAutoComplete(t)}};function XP(e){const t=e?.trim();return t===""?e:t}function Jq(e,t){const{filter:n,filterTo:r,type:o}=e||{};return[n||null,r||null].slice(0,Yy(o,t))}var s1e={tag:"div",ref:"eFloatingFilterInputContainer",cls:"ag-floating-filter-input",role:"presentation"},eK=class extends Yq{constructor(){super(...arguments),this.eFloatingFilterInputContainer=qe,this.defaultDebounceMs=500}postConstruct(){this.setTemplate(s1e)}onModelUpdated(e){this.setLastTypeFromModel(e),this.setEditable(this.canWeEditAfterModelFromParentFilter(e)),this.inputSvc.setValue(this.filterModelFormatter.getModelAsString(e))}setParams(e){this.setupFloatingFilterInputService(e),super.setParams(e),this.setTextInputParams(e)}setupFloatingFilterInputService(e){this.inputSvc=this.createFloatingFilterInputService(e),this.inputSvc.setupGui(this.eFloatingFilterInputContainer)}setTextInputParams(e){const t=e.browserAutoComplete??!1,{inputSvc:n,defaultDebounceMs:r,readOnly:o}=this;if(n.setParams({ariaLabel:this.getAriaLabel(e),autoComplete:t}),this.applyActive=gE(e.filterParams),!o){const a=WN(e.filterParams,r),l=Ci(this,this.syncUpWithParentFilter.bind(this),a);n.setValueChangedListener(l)}}updateParams(e){super.updateParams(e),this.setTextInputParams(e)}recreateFloatingFilterInputService(e){const{inputSvc:t}=this,n=t.getValue();ki(this.eFloatingFilterInputContainer),this.destroyBean(t),this.setupFloatingFilterInputService(e),t.setValue(n,!0)}syncUpWithParentFilter(e){const t=e.key===xe.ENTER,n=this.reactive;if(n&&this.params.onUiChange(),this.applyActive&&!t)return;const{inputSvc:r,params:o,lastType:a}=this;let l=r.getValue();if(o.filterParams.trimInput&&(l=XP(l),r.setValue(l,!0)),n){const d=o,f=d.model,m=this.convertValue(l),v=m==null?null:{...f??{filterType:this.filterType,type:a??this.optionsFactory.defaultOption},filter:m};d.onModelChange(v,{afterFloatingFilter:!0})}else o.parentFilterInstance(d=>{d?.onFloatingFilterChanged(a||null,l||null)})}convertValue(e){return e||null}setEditable(e){this.inputSvc.setEditable(e)}},a1e=class extends Pe{constructor(){super(...arguments),this.onValueChanged=()=>{},this.numberInputActive=!0}setupGui(e){this.eNumberInput=this.createManagedBean(new jN),this.eTextInput=this.createManagedBean(new sg),this.eTextInput.setDisabled(!0);const t=this.eNumberInput.getGui(),n=this.eTextInput.getGui();e.appendChild(t),e.appendChild(n),this.setupListeners(t,r=>this.onValueChanged(r)),this.setupListeners(n,r=>this.onValueChanged(r))}setEditable(e){this.numberInputActive=e,this.eNumberInput.setDisplayed(this.numberInputActive),this.eTextInput.setDisplayed(!this.numberInputActive)}setAutoComplete(e){this.eNumberInput.setAutoComplete(e),this.eTextInput.setAutoComplete(e)}getValue(){return this.getActiveInputElement().getValue()}setValue(e,t){this.getActiveInputElement().setValue(e,t)}getActiveInputElement(){return this.numberInputActive?this.eNumberInput:this.eTextInput}setValueChangedListener(e){this.onValueChanged=e}setupListeners(e,t){this.addManagedListeners(e,{input:t,keydown:t})}setParams(e){this.setAriaLabel(e.ariaLabel),e.autoComplete!==void 0&&this.setAutoComplete(e.autoComplete)}setAriaLabel(e){this.eNumberInput.setInputAriaLabel(e),this.eTextInput.setInputAriaLabel(e)}},l1e=class extends eK{constructor(){super(...arguments),this.FilterModelFormatterClass=Zq,this.filterType="number",this.defaultOptions=dO}updateParams(e){QP(e.filterParams)!==this.allowedCharPattern&&this.recreateFloatingFilterInputService(e),super.updateParams(e)}createFloatingFilterInputService(e){return this.allowedCharPattern=QP(e.filterParams),this.allowedCharPattern?this.createManagedBean(new Xq({config:{allowedCharPattern:this.allowedCharPattern}})):this.createManagedBean(new a1e)}convertValue(e){return e?Number(e):null}},uO=["contains","notContains","equals","notEqual","startsWith","endsWith","blank","notBlank"],c1e=class extends aO{constructor(){super("textFilter",Jq,uO),this.filterType="text",this.eValuesFrom=[],this.eValuesTo=[],this.defaultDebounceMs=500}createCondition(e){const t=this.getConditionType(e),n={filterType:this.filterType,type:t},r=this.getValues(e);return r.length>0&&(n.filter=r[0]),r.length>1&&(n.filterTo=r[1]),n}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}getInputs(e){const{eValuesFrom:t,eValuesTo:n}=this;return e>=t.length?[null,null]:[t[e],n[e]]}getValues(e){const t=[];return this.forEachPositionInput(e,(n,r,o,a)=>{r<a&&t.push(xd(n.getValue()))}),t}createEValue(){const e=Dr({tag:"div",cls:"ag-filter-body",role:"presentation"}),{eValuesFrom:t,eValuesTo:n}=this;return this.createFromToElement(e,t,"from"),this.createFromToElement(e,n,"to"),e}createFromToElement(e,t,n){const r=this.createManagedBean(new sg);r.addCss(`ag-filter-${n}`),r.addCss("ag-filter-filter"),t.push(r),e.appendChild(r.getGui())}removeEValues(e,t){const n=a=>this.removeComponents(a,e,t),{eValuesFrom:r,eValuesTo:o}=this;n(r),n(o)}},tK=class extends cO{constructor(){super(...arguments),this.filterTypeKeys=ZAe}conditionToString(e,t,n,r,o){const{filter:a,filterTo:l,type:d}=e;if(t){const f=v=>()=>Eh(this,"filterSummaryTextQuote",[v]),m=this.conditionForToolPanel(d,n,f(a),f(l),r,o);if(m!=null)return m}return n?`${a}-${l}`:a!=null?`${a}`:`${d}`}},d1e=({filterOption:e,value:t,filterText:n})=>{if(n==null)return!1;switch(e){case"contains":return t.includes(n);case"notContains":return!t.includes(n);case"equals":return t===n;case"notEqual":return t!=n;case"startsWith":return t.indexOf(n)===0;case"endsWith":{const r=t.lastIndexOf(n);return r>=0&&r===t.length-n.length}default:return!1}},u1e=e=>e,h1e=e=>e==null?null:e.toString().toLowerCase(),f1e=class extends Wq{constructor(){super(Jq,uO),this.filterType="text",this.FilterModelFormatterClass=tK}updateParams(e){super.updateParams(e);const t=e.filterParams;this.matcher=t.textMatcher??d1e,this.formatter=t.textFormatter??(t.caseSensitive?u1e:h1e)}evaluateNullValue(e){return e?["notEqual","notContains","blank"].indexOf(e)>=0:!1}evaluateNonNullValue(e,t,n,r){const o=e.map(y=>this.formatter(y))||[],a=this.formatter(t),{api:l,colDef:d,column:f,context:m,filterParams:{textFormatter:v}}=this.params;if(n.type==="blank")return HS(t);if(n.type==="notBlank")return!HS(t);const C={api:l,colDef:d,column:f,context:m,node:r.node,data:r.data,filterOption:n.type,value:a,textFormatter:v};return o.some(y=>this.matcher({...C,filterText:y}))}processModelToApply(e){if(e&&this.params.filterParams.trimInput){const t=n=>{const r={...n},{filter:o,filterTo:a}=n;return o&&(r.filter=XP(o)??null),a&&(r.filterTo=XP(a)??null),r};return M$(e)?{...e,conditions:e.conditions.map(t)}:t(e)}return e}},p1e=class extends eK{constructor(){super(...arguments),this.FilterModelFormatterClass=tK,this.filterType="text",this.defaultOptions=uO}createFloatingFilterInputService(){return this.createManagedBean(new Xq)}};function g1e(e){return!!e.quickFilter?.isFilterPresent()}function m1e(e){return e.quickFilter?.getText()}function b1e(e){e.quickFilter?.resetCache()}var v1e=class extends Pe{constructor(){super(...arguments),this.beanName="quickFilter",this.quickFilter=null,this.quickFilterParts=null}postConstruct(){const e=this.resetCache.bind(this),t=this.gos;this.addManagedEventListeners({columnPivotModeChanged:e,newColumnsLoaded:e,columnRowGroupChanged:e,columnVisible:()=>{t.get("includeHiddenColumnsInQuickFilter")||this.resetCache()}}),this.addManagedPropertyListener("quickFilterText",n=>this.setFilter(n.currentValue)),this.addManagedPropertyListeners(["includeHiddenColumnsInQuickFilter","applyQuickFilterBeforePivotOrAgg"],()=>this.onColumnConfigChanged()),this.quickFilter=this.parseFilter(t.get("quickFilterText")),this.parser=t.get("quickFilterParser"),this.matcher=t.get("quickFilterMatcher"),this.setFilterParts(),this.addManagedPropertyListeners(["quickFilterMatcher","quickFilterParser"],()=>this.setParserAndMatcher())}refreshCols(){const{autoColSvc:e,colModel:t,gos:n,pivotResultCols:r}=this.beans,o=t.isPivotMode(),a=e?.getColumns(),l=t.getColDefCols();let d=(o&&!n.get("applyQuickFilterBeforePivotOrAgg")?r?.getPivotResultCols()?.list:l)??[];a&&(d=d.concat(a)),this.colsToUse=n.get("includeHiddenColumnsInQuickFilter")?d:d.filter(f=>f.isVisible()||f.isRowGroupActive())}isFilterPresent(){return this.quickFilter!==null}doesRowPass(e){const t=this.gos.get("cacheQuickFilter");return this.matcher?this.doesRowPassMatcher(t,e):this.quickFilterParts.every(n=>t?this.doesRowPassCache(e,n):this.doesRowPassNoCache(e,n))}resetCache(){this.beans.rowModel.forEachNode(e=>e.quickFilterAggregateText=null)}getText(){return this.gos.get("quickFilterText")}setFilterParts(){const{quickFilter:e,parser:t}=this;e?this.quickFilterParts=t?t(e):e.split(" "):this.quickFilterParts=null}parseFilter(e){return Ye(e)?e.toUpperCase():null}setFilter(e){if(e!=null&&typeof e!="string"){ze(70,{newFilter:e});return}const t=this.parseFilter(e);this.quickFilter!==t&&(this.quickFilter=t,this.setFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}setParserAndMatcher(){const e=this.gos.get("quickFilterParser"),t=this.gos.get("quickFilterMatcher"),n=e!==this.parser||t!==this.matcher;this.parser=e,this.matcher=t,n&&(this.setFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}onColumnConfigChanged(){this.refreshCols(),this.resetCache(),this.isFilterPresent()&&this.dispatchLocalEvent({type:"quickFilterChanged"})}doesRowPassNoCache(e,t){return this.colsToUse.some(n=>{const r=this.getTextForColumn(n,e);return Ye(r)&&r.includes(t)})}doesRowPassCache(e,t){return this.checkGenerateAggText(e),e.quickFilterAggregateText.includes(t)}doesRowPassMatcher(e,t){let n;e?(this.checkGenerateAggText(t),n=t.quickFilterAggregateText):n=this.getAggText(t);const{quickFilterParts:r,matcher:o}=this;return o(r,n)}checkGenerateAggText(e){e.quickFilterAggregateText||(e.quickFilterAggregateText=this.getAggText(e))}getTextForColumn(e,t){let n=this.beans.filterValueSvc.getValue(e,t);const r=e.getColDef();if(r.getQuickFilterText){const o=ht(this.gos,{value:n,node:t,data:t.data,column:e,colDef:r});n=r.getQuickFilterText(o)}return Ye(n)?n.toString().toUpperCase():null}getAggText(e){const t=[];for(const n of this.colsToUse){const r=this.getTextForColumn(n,e);Ye(r)&&t.push(r)}return t.join(`
`)}},w1e={moduleName:"ClientSideRowModelFilter",version:Qe,rowModels:["clientSide"],beans:[CAe]},hO={moduleName:"FilterCore",version:Qe,beans:[VAe],apiFunctions:{isAnyFilterPresent:zAe,onFilterChanged:HAe},css:[_Ae],dependsOn:[w1e]},nK={moduleName:"FilterValue",version:Qe,beans:[UAe]},CE={moduleName:"ColumnFilter",version:Qe,beans:[jAe,GAe],dynamicBeans:{headerFilterCellCtrl:yAe},icons:{filter:"filter",filterActive:"filter"},apiFunctions:{isColumnFilterPresent:EAe,getColumnFilterInstance:DAe,destroyFilter:MAe,setFilterModel:TAe,getFilterModel:RAe,getColumnFilterModel:PAe,setColumnFilterModel:IAe,showColumnFilter:NAe,hideColumnFilter:OAe,getColumnFilterHandler:FAe,doFilterAction:LAe},dependsOn:[hO,wE,nK,AAe]},C1e={moduleName:"CustomFilter",version:Qe,userComponents:{agReadOnlyFloatingFilter:$Ae},dependsOn:[CE]},y1e={moduleName:"TextFilter",version:Qe,dependsOn:[CE],userComponents:{agTextColumnFilter:{classImp:c1e,params:{useForm:!0}},agTextColumnFloatingFilter:p1e},dynamicBeans:{agTextColumnFilterHandler:f1e}},k1e={moduleName:"NumberFilter",version:Qe,dependsOn:[CE],userComponents:{agNumberColumnFilter:{classImp:i1e,params:{useForm:!0}},agNumberColumnFloatingFilter:l1e},dynamicBeans:{agNumberColumnFilterHandler:o1e}},x1e={moduleName:"DateFilter",version:Qe,dependsOn:[CE],userComponents:{agDateColumnFilter:{classImp:QAe,params:{useForm:!0}},agDateInput:r1e,agDateColumnFloatingFilter:t1e},dynamicBeans:{agDateColumnFilterHandler:JAe}},A1e={moduleName:"QuickFilterCore",version:Qe,rowModels:["clientSide"],beans:[v1e],dependsOn:[hO,nK]},S1e={moduleName:"QuickFilter",version:Qe,apiFunctions:{isQuickFilterPresent:g1e,getQuickFilter:m1e,resetQuickFilter:b1e},dependsOn:[A1e]},_1e={moduleName:"ExternalFilter",version:Qe,dependsOn:[hO]},E1e=".ag-tooltip{background-color:var(--ag-tooltip-background-color);border:var(--ag-tooltip-border);border-radius:var(--ag-border-radius);color:var(--ag-tooltip-text-color);padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);position:absolute;white-space:normal;z-index:99999;&:where(.ag-cell-editor-tooltip){background-color:var(--ag-tooltip-error-background-color);border:var(--ag-tooltip-error-border);color:var(--ag-tooltip-error-text-color);font-weight:500}}.ag-tooltip-custom{position:absolute;z-index:99999}.ag-tooltip-custom:where(:not(.ag-tooltip-interactive)),.ag-tooltip:where(:not(.ag-tooltip-interactive)){pointer-events:none}.ag-tooltip-animate{transition:opacity 1s;&:where(.ag-tooltip-hiding){opacity:0}}",dT=(e,t,n)=>{const{editModelSvc:r}=e,o=r?.getCellValidationModel()?.getCellValidation(t)?.errorMessages,a=r?.getRowValidationModel().getRowValidation(t)?.errorMessages,l=o||a;return l?.length?l.join(n("tooltipValidationErrorSeparator",". ")):void 0},D1e=class extends Pe{constructor(){super(...arguments),this.beanName="tooltipSvc"}setupHeaderTooltip(e,t,n,r){e&&t.destroyBean(e);const o=this.gos,a=cT(o),{column:l,eGui:d}=t,f=l.getColDef();!r&&a&&!f.headerComponent&&(r=U1(()=>d.querySelector(".ag-header-cell-text")));const m="header",C=this.beans.colNames.getDisplayNameForColumn(l,"header",!0),y=n??C,S={getGui:()=>d,getLocation:()=>m,getTooltipValue:()=>n??f?.headerTooltipValueGetter?.(ht(o,{location:m,colDef:f,column:l,value:y,valueFormatted:C}))??f?.headerTooltip,shouldDisplayTooltip:r,getAdditionalParams:()=>({column:l,colDef:l.getColDef()})};let E=this.createTooltipFeature(S);return E&&(E=t.createBean(E),t.setRefreshFunction("tooltip",()=>E.refreshTooltip())),E}setupHeaderGroupTooltip(e,t,n,r){e&&t.destroyBean(e);const o=this.gos,a=cT(o),{column:l,eGui:d}=t,f=l.getColGroupDef();!r&&a&&!f?.headerGroupComponent&&(r=U1(()=>d.querySelector(".ag-header-group-text")));const m="headerGroup",C=this.beans.colNames.getDisplayNameForColumnGroup(l,"header"),y=n??C,S={getGui:()=>d,getLocation:()=>m,getTooltipValue:()=>n??f?.headerTooltipValueGetter?.(ht(o,{location:m,colDef:f,column:l,value:y,valueFormatted:C}))??f?.headerTooltip,shouldDisplayTooltip:r,getAdditionalParams:()=>{const T={column:l};return f&&(T.colDef=f),T}},E=this.createTooltipFeature(S);return E&&t.createBean(E)}enableCellTooltipFeature(e,t,n){const{beans:r}=this,{gos:o,editSvc:a}=r,{column:l,rowNode:d}=e;let f="cell";const m=()=>{const S=!!!a?.isEditing(e)&&dT(r,e,this.getLocaleTextFunc());if(S)return f="cellEditor",S;f="cell";const E=l.getColDef(),T=d.data;if(E.tooltipField&&Ye(T))return Dy(T,E.tooltipField,l.isTooltipFieldContainsDots());const P=E.tooltipValueGetter;return P?P(ht(o,{location:"cell",colDef:l.getColDef(),column:l,rowIndex:e.cellPosition.rowIndex,node:d,data:d.data,value:e.value,valueFormatted:e.valueFormatted})):null},v=cT(o);n||(v&&!e.isCellRenderer()?n=()=>{const y=!!a?.isEditing(e);if(!y&&dT(r,e,this.getLocaleTextFunc()))return!0;if(!l.isTooltipEnabled())return!1;const T=U1(()=>{const P=e.eGui;return P.children.length===0?P:P.querySelector(".ag-cell-value")});return!y&&T()}:n=()=>!a?.isEditing(e));const C={getGui:()=>e.eGui,getLocation:()=>f,getTooltipValue:t!=null?()=>t:m,shouldDisplayTooltip:n,getAdditionalParams:()=>({column:l,colDef:l.getColDef(),rowIndex:e.cellPosition.rowIndex,node:d,data:d.data,valueFormatted:e.valueFormatted})};return this.createTooltipFeature(C,r)}setupFullWidthRowTooltip(e,t,n,r){const o={getGui:()=>t.getFullWidthElement(),getTooltipValue:()=>n,getLocation:()=>"fullWidthRow",shouldDisplayTooltip:r},a=this.beans,l=a.context;e&&t.destroyBean(e,l);const d=this.createTooltipFeature(o,a);if(d)return t.createBean(d,l)}setupCellEditorTooltip(e,t){const{beans:n}=this,{context:r}=n,o=t.getValidationElement?.(!0)||!t.isPopup?.()&&e.eGui;if(!o)return;const a={getGui:()=>o,getTooltipValue:()=>dT(n,e,this.getLocaleTextFunc()),getLocation:()=>"cellEditor",shouldDisplayTooltip:()=>{const{editModelSvc:d}=n,f=d?.getRowValidationModel()?.getRowValidationMap(),m=d?.getCellValidationModel()?.getCellValidationMap(),v=!!f&&f.size>0,C=!!m&&m.size>0;return v||C}},l=this.createTooltipFeature(a,n);if(l)return e.createBean(l,r)}initCol(e){const{colDef:t}=e;e.tooltipEnabled=Ye(t.tooltipField)||Ye(t.tooltipValueGetter)||Ye(t.tooltipComponent)}createTooltipFeature(e,t){return this.beans.registry.createDynamicBean("tooltipFeature",!1,e,t)}},M1e=class extends abe{createTooltipComp(e,t){Jge(this.beans.userCompFactory,e)?.newAgStackInstance().then(t)}setEventHandlers(e){[this.onColumnMovedEventCallback]=this.addManagedEventListeners({columnMoved:e})}clearEventHandlers(){this.onColumnMovedEventCallback?.(),this.onColumnMovedEventCallback=void 0}},rK={moduleName:"Tooltip",version:Qe,beans:[D1e],dynamicBeans:{tooltipFeature:b$,highlightTooltipFeature:lbe,tooltipStateManager:M1e},userComponents:{agTooltipComponent:ube},dependsOn:[wE],css:[E1e]},rb=class{constructor(e){this.cellValueChanges=e}},uT=class extends rb{constructor(e,t,n,r){super(e),this.initialRange=t,this.finalRange=n,this.ranges=r}},T1e=10,d8=class{constructor(e){this.actionStack=[],this.maxStackSize=e||T1e,this.actionStack=new Array(this.maxStackSize)}pop(){return this.actionStack.pop()}push(e){e.cellValueChanges&&e.cellValueChanges.length>0&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(e))}clear(){this.actionStack=[]}getCurrentStackSize(){return this.actionStack.length}},R1e=class extends Pe{constructor(){super(...arguments),this.beanName="undoRedo",this.cellValueChanges=[],this.activeCellEdit=null,this.activeRowEdit=null,this.isPasting=!1,this.isRangeInAction=!1,this.batchEditing=!1,this.bulkEditing=!1,this.onCellValueChanged=e=>{const t={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned},n=this.activeCellEdit!==null&&iq(this.activeCellEdit,t),r=this.activeRowEdit!==null&&oq(this.activeRowEdit,t);if(!(n||r||this.isPasting||this.isRangeInAction))return;const{rowPinned:a,rowIndex:l,column:d,oldValue:f,value:m}=e,v={rowPinned:a,rowIndex:l,columnId:d.getColId(),newValue:m,oldValue:f};this.cellValueChanges.push(v)},this.clearStacks=()=>{this.undoStack.clear(),this.redoStack.clear()}}postConstruct(){const{gos:e,ctrlsSvc:t}=this.beans;if(!e.get("undoRedoCellEditing"))return;const n=e.get("undoRedoCellEditingLimit");if(n<=0)return;this.undoStack=new d8(n),this.redoStack=new d8(n),this.addListeners();const r=this.clearStacks.bind(this);this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this),modelUpdated:o=>{o.keepUndoRedoStack||this.clearStacks()},columnPivotModeChanged:r,newColumnsLoaded:r,columnGroupOpened:r,columnRowGroupChanged:r,columnMoved:r,columnPinned:r,columnVisible:r,rowDragEnd:r}),t.whenReady(this,o=>{this.gridBodyCtrl=o.gridBodyCtrl})}getCurrentUndoStackSize(){return this.undoStack?.getCurrentStackSize()??0}getCurrentRedoStackSize(){return this.redoStack?.getCurrentStackSize()??0}undo(e){const{eventSvc:t,undoStack:n,redoStack:r}=this;t.dispatchEvent({type:"undoStarted",source:e});const o=this.undoRedo(n,r,"initialRange","oldValue","undo");t.dispatchEvent({type:"undoEnded",source:e,operationPerformed:o})}redo(e){const{eventSvc:t,undoStack:n,redoStack:r}=this;t.dispatchEvent({type:"redoStarted",source:e});const o=this.undoRedo(r,n,"finalRange","newValue","redo");t.dispatchEvent({type:"redoEnded",source:e,operationPerformed:o})}undoRedo(e,t,n,r,o){if(!e)return!1;const a=e.pop();return a?.cellValueChanges?(this.processAction(a,l=>l[r],o),a instanceof uT?this.processRange(a.ranges||[a[n]]):this.processCell(a.cellValueChanges),t.push(a),!0):!1}processAction(e,t,n){for(const r of e.cellValueChanges){const{rowIndex:o,rowPinned:a,columnId:l}=r,d={rowIndex:o,rowPinned:a},f=jd(this.beans,d);f.displayed&&f.setDataValue(l,t(r),n)}}processRange(e){let t;const n=this.beans.rangeSvc;n.removeAllCellRanges(!0),e.forEach((r,o)=>{if(!r)return;const a=r.startRow,l=r.endRow;o===e.length-1&&(t={rowPinned:a.rowPinned,rowIndex:a.rowIndex,columnId:r.startColumn.getColId()},this.setLastFocusedCell(t));const d={rowStartIndex:a.rowIndex,rowStartPinned:a.rowPinned,rowEndIndex:l.rowIndex,rowEndPinned:l.rowPinned,columnStart:r.startColumn,columns:r.columns};n.addCellRange(d)})}processCell(e){const t=e[0],{rowIndex:n,rowPinned:r}=t,o={rowIndex:n,rowPinned:r},a=jd(this.beans,o),l={rowPinned:t.rowPinned,rowIndex:a.rowIndex,columnId:t.columnId};this.setLastFocusedCell(l)}setLastFocusedCell(e){const{rowIndex:t,columnId:n,rowPinned:r}=e,{colModel:o,focusSvc:a,rangeSvc:l}=this.beans,d=o.getCol(n);if(!d)return;const{scrollFeature:f}=this.gridBodyCtrl;f.ensureIndexVisible(t),f.ensureColumnVisible(d);const m={rowIndex:t,column:d,rowPinned:r};a.setFocusedCell({...m,forceBrowserFocus:!0}),l?.setRangeToCell(m)}addListeners(){this.addManagedEventListeners({rowEditingStarted:e=>{this.activeRowEdit={rowIndex:e.rowIndex,rowPinned:e.rowPinned}},rowEditingStopped:()=>{const e=new rb(this.cellValueChanges);this.pushActionsToUndoStack(e),this.activeRowEdit=null},cellEditingStarted:e=>{this.activeCellEdit={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned}},cellEditingStopped:e=>{if(this.activeCellEdit=null,e.valueChanged&&!this.activeRowEdit&&!this.isPasting&&!this.isRangeInAction){const n=new rb(this.cellValueChanges);this.pushActionsToUndoStack(n)}},pasteStart:()=>{this.isPasting=!0},pasteEnd:()=>{const e=new rb(this.cellValueChanges);this.pushActionsToUndoStack(e),this.isPasting=!1},fillStart:()=>{this.isRangeInAction=!0},fillEnd:e=>{const t=new uT(this.cellValueChanges,e.initialRange,e.finalRange);this.pushActionsToUndoStack(t),this.isRangeInAction=!1},keyShortcutChangedCellStart:()=>{this.isRangeInAction=!0},keyShortcutChangedCellEnd:()=>{let e;const{rangeSvc:t,gos:n}=this.beans;t&&Ld(n)?e=new uT(this.cellValueChanges,void 0,void 0,[...t.getCellRanges()]):e=new rb(this.cellValueChanges),this.pushActionsToUndoStack(e),this.isRangeInAction=!1},batchEditingStarted:()=>this.startBigChange("batchEditing"),batchEditingStopped:({changes:e})=>this.stopBigChange("batchEditing",e),bulkEditingStarted:()=>this.startBigChange("bulkEditing"),bulkEditingStopped:({changes:e})=>this.stopBigChange("bulkEditing",e)})}startBigChange(e){this.updateBigChange(e,!0)}updateBigChange(e,t){e==="bulkEditing"?this.bulkEditing=t:this.batchEditing=t}stopBigChange(e,t){if(e==="bulkEditing"&&!this.bulkEditing||e==="batchEditing"&&!this.batchEditing||(this.updateBigChange(e,!1),t?.length===0))return;const n=new rb(t??[]);this.pushActionsToUndoStack(n),this.cellValueChanges=[]}pushActionsToUndoStack(e){this.undoStack.push(e),this.cellValueChanges=[],this.redoStack.clear()}},P1e=".ag-cell-inline-editing{border:var(--ag-cell-editing-border)!important;border-radius:var(--ag-border-radius);box-shadow:var(--ag-cell-editing-shadow);padding:0;z-index:1;.ag-cell-edit-wrapper,.ag-cell-editor,.ag-cell-wrapper,:where(.ag-cell-editor) .ag-input-field-input,:where(.ag-cell-editor) .ag-wrapper{height:100%;line-height:normal;min-height:100%;width:100%}&.ag-cell-editing-error{border-color:var(--ag-invalid-color)!important}}:where(.ag-popup-editor) .ag-large-text{background-color:var(--ag-background-color);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dropdown-shadow);padding:0}.ag-large-text-input{display:block;height:auto;padding:var(--ag-cell-horizontal-padding)}:where(.ag-rtl .ag-large-text-input) textarea{resize:none}:where(.ag-ltr) .ag-checkbox-edit{padding-left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-checkbox-edit{padding-right:var(--ag-cell-horizontal-padding)}:where(.ag-row.ag-row-editing-invalid .ag-cell-inline-editing){opacity:.8}.ag-popup-editor{position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}",I1e={tag:"div",cls:"ag-cell-wrapper ag-cell-edit-wrapper ag-checkbox-edit",children:[{tag:"ag-checkbox",ref:"eEditor",role:"presentation"}]},N1e=class extends bE{constructor(){super(I1e,[BN]),this.eEditor=qe}initialiseEditor(e){const t=e.value??void 0,n=this.eEditor;n.setValue(t),n.getInputElement().setAttribute("tabindex","-1"),this.setAriaLabel(t),this.addManagedListeners(n,{fieldValueChanged:o=>this.setAriaLabel(o.selected)})}getValue(){return this.eEditor.getValue()}focusIn(){this.eEditor.getFocusableElement().focus()}afterGuiAttached(){this.params.cellStartedEdit&&this.focusIn()}isPopup(){return!1}setAriaLabel(e){const t=this.getLocaleTextFunc(),n=cE(t,e),r=t("ariaToggleCellValue","Press SPACE to toggle cell value");this.eEditor.setInputAriaLabel(`${r} (${n})`)}getValidationElement(e){return e?this.params.eGridCell:this.eEditor.getInputElement()}getValidationErrors(){const{params:e}=this,{getValidationErrors:t}=e,n=this.getValue();return t?t({value:n,internalErrors:null,cellEditorParams:e}):null}},yE=class extends bE{constructor(e){super(),this.cellEditorInput=e,this.eEditor=qe}initialiseEditor(e){const{cellEditorInput:t}=this;this.setTemplate({tag:"div",cls:"ag-cell-edit-wrapper",children:[t.getTemplate()]},t.getAgComponents());const{eEditor:n}=this,{cellStartedEdit:r,eventKey:o,suppressPreventDefault:a}=e;n.getInputElement().setAttribute("title",""),t.init(n,e);let l,d=!0;r?(this.focusAfterAttached=!0,o===xe.BACKSPACE||o===xe.DELETE?l="":o&&o.length===1?a?d=!1:l=o:(l=t.getStartValue(),o!==xe.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,l=t.getStartValue()),d&&l!=null&&n.setStartValue(l),this.addGuiEventListener("keydown",f=>{const{key:m}=f;(m===xe.PAGE_UP||m===xe.PAGE_DOWN)&&f.preventDefault()})}afterGuiAttached(){const e=this.getLocaleTextFunc(),t=this.eEditor;if(t.setInputAriaLabel(e("ariaInputEditor","Input Editor")),!this.focusAfterAttached)return;Wh()||t.getFocusableElement().focus();const n=t.getInputElement();this.highlightAllOnFocus?n.select():this.cellEditorInput.setCaret?.()}focusIn(){const{eEditor:e}=this,t=e.getFocusableElement(),n=e.getInputElement();t.focus(),n.select()}getValue(){return this.cellEditorInput.getValue()}isPopup(){return!1}getValidationElement(){return this.eEditor.getInputElement()}getValidationErrors(){return this.cellEditorInput.getValidationErrors()}},O1e={tag:"ag-input-date-field",ref:"eEditor",cls:"ag-cell-editor"},F1e=class{constructor(e,t){this.getDataTypeService=e,this.getLocaleTextFunc=t}getTemplate(){return O1e}getAgComponents(){return[l$]}init(e,t){this.eEditor=e,this.params=t;const{min:n,max:r,step:o,colDef:a}=t;n!=null&&e.setMin(n),r!=null&&e.setMax(r),o!=null&&e.setStep(o),this.includeTime=t.includeTime??this.getDataTypeService()?.getDateIncludesTimeFlag?.(a.cellDataType),this.includeTime!=null&&e.setIncludeTime(this.includeTime)}getValidationErrors(){const t=this.eEditor.getInputElement().valueAsDate,{params:n}=this,{min:r,max:o,getValidationErrors:a}=n;let l=[];const d=this.getLocaleTextFunc();if(t instanceof Date&&!isNaN(t.getTime())){if(r){const f=r instanceof Date?r:new Date(r);if(t<f){const m=f.toLocaleDateString();l.push(d("minDateValidation",`Date must be after ${m}`,[m]))}}if(o){const f=o instanceof Date?o:new Date(o);if(t>f){const m=f.toLocaleDateString();l.push(d("maxDateValidation",`Date must be before ${m}`,[m]))}}}return l.length||(l=null),a?a({value:t,cellEditorParams:n,internalErrors:l}):l}getValue(){const{eEditor:e,params:t}=this,n=e.getDate();return!Ye(n)&&!Ye(t.value)?t.value:n??null}getStartValue(){const{value:e}=this.params;if(e instanceof Date)return ks(e,this.includeTime??!1)}},L1e=class extends yE{constructor(){super(new F1e(()=>this.beans.dataTypeSvc,()=>this.getLocaleTextFunc()))}},B1e={tag:"ag-input-date-field",ref:"eEditor",cls:"ag-cell-editor"},j1e=class{constructor(e,t){this.getDataTypeService=e,this.getLocaleTextFunc=t}getTemplate(){return B1e}getAgComponents(){return[l$]}init(e,t){this.eEditor=e,this.params=t;const{min:n,max:r,step:o,colDef:a}=t;n!=null&&e.setMin(n),r!=null&&e.setMax(r),o!=null&&e.setStep(o),this.includeTime=t.includeTime??this.getDataTypeService()?.getDateIncludesTimeFlag?.(a.cellDataType),this.includeTime!=null&&e.setIncludeTime(this.includeTime)}getValidationErrors(){const{eEditor:e,params:t}=this,n=e.getInputElement().value,r=this.formatDate(this.parseDate(n??void 0)),{min:o,max:a,getValidationErrors:l}=t;let d=[];if(r){const f=new Date(r),m=this.getLocaleTextFunc();if(o){const v=new Date(o);if(f<v){const C=v.toLocaleDateString();d.push(m("minDateValidation",`Date must be after ${C}`,[C]))}}if(a){const v=new Date(a);if(f>v){const C=v.toLocaleDateString();d.push(m("maxDateValidation",`Date must be before ${C}`,[C]))}}}return d.length||(d=null),l?l({value:this.getValue(),cellEditorParams:t,internalErrors:d}):d}getValue(){const{params:e,eEditor:t}=this,n=this.formatDate(t.getDate());return!Ye(n)&&!Ye(e.value)?e.value:e.parseValue(n??"")}getStartValue(){return ks(this.parseDate(this.params.value??void 0)??null,this.includeTime??!1)}parseDate(e){const t=this.getDataTypeService();return t?t.getDateParserFunction(this.params.column)(e):Qo(e)??void 0}formatDate(e){const t=this.getDataTypeService();return t?t.getDateFormatterFunction(this.params.column)(e):ks(e??null,this.includeTime??!1)??void 0}},z1e=class extends yE{constructor(){super(new j1e(()=>this.beans.dataTypeSvc,()=>this.getLocaleTextFunc()))}},H1e={tag:"div",cls:"ag-large-text",children:[{tag:"ag-input-text-area",ref:"eEditor",cls:"ag-large-text-input"}]},V1e=class extends bE{constructor(){super(H1e,[bme]),this.eEditor=qe}initialiseEditor(e){const{eEditor:t}=this,{cellStartedEdit:n,eventKey:r,maxLength:o,cols:a,rows:l}=e;this.focusAfterAttached=n,t.getInputElement().setAttribute("title",""),t.setMaxLength(o||200).setCols(a||60).setRows(l||10);let d;n?(this.focusAfterAttached=!0,r===xe.BACKSPACE||r===xe.DELETE?d="":r&&r.length===1?d=r:(d=this.getStartValue(e),r!==xe.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,d=this.getStartValue(e)),d!=null&&t.setValue(d,!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.activateTabIndex()}getStartValue(e){const{value:t}=e;return t?.toString()??t}onKeyDown(e){const t=e.key;(t===xe.LEFT||t===xe.UP||t===xe.RIGHT||t===xe.DOWN||e.shiftKey&&t===xe.ENTER)&&e.stopPropagation()}afterGuiAttached(){const{eEditor:e,focusAfterAttached:t,highlightAllOnFocus:n}=this,r=this.getLocaleTextFunc();e.setInputAriaLabel(r("ariaInputEditor","Input Editor")),t&&(e.getFocusableElement().focus(),n&&e.getInputElement().select())}getValue(){const{eEditor:e,params:t}=this,{value:n}=t,r=e.getValue();return!Ye(r)&&!Ye(n)?n:t.parseValue(r)}getValidationElement(){return this.eEditor.getInputElement()}getValidationErrors(){const{params:e}=this,{maxLength:t,getValidationErrors:n}=e,r=this.getLocaleTextFunc(),o=this.getValue();let a=[];return typeof o=="string"&&t!=null&&o.length>t&&a.push(r("maxLengthValidation",`Must be ${t} characters or fewer.`,[String(t)])),a.length||(a=null),n?n({value:o,internalErrors:a,cellEditorParams:e}):a}},G1e={tag:"ag-input-number-field",ref:"eEditor",cls:"ag-cell-editor"},U1e=class{constructor(e){this.getLocaleTextFunc=e}getTemplate(){return G1e}getAgComponents(){return[vme]}init(e,t){this.eEditor=e,this.params=t;const{max:n,min:r,precision:o,step:a}=t;n!=null&&e.setMax(n),r!=null&&e.setMin(r),o!=null&&e.setPrecision(o),a!=null&&e.setStep(a);const l=e.getInputElement();t.preventStepping?e.addManagedElementListeners(l,{keydown:this.preventStepping}):t.showStepperButtons&&l.classList.add("ag-number-field-input-stepper")}getValidationErrors(){const{params:e}=this,{min:t,max:n,getValidationErrors:r}=e,a=this.eEditor.getInputElement().valueAsNumber,l=this.getLocaleTextFunc();let d=[];return typeof a=="number"&&(t!=null&&a<t&&d.push(l("minValueValidation",`Must be greater than or equal to ${t}.`,[String(t)])),n!=null&&a>n&&d.push(l("maxValueValidation",`Must be less than or equal to ${n}.`,[String(n)]))),d.length||(d=null),r?r({value:a,cellEditorParams:e,internalErrors:d}):d}preventStepping(e){(e.key===xe.UP||e.key===xe.DOWN)&&e.preventDefault()}getValue(){const{eEditor:e,params:t}=this,n=e.getValue();if(!Ye(n)&&!Ye(t.value))return t.value;let r=t.parseValue(n);if(r==null)return r;if(typeof r=="string"){if(r==="")return null;r=Number(r)}return isNaN(r)?null:r}getStartValue(){return this.params.value}setCaret(){Wh()&&this.eEditor.getInputElement().focus({preventScroll:!0})}},W1e=class extends yE{constructor(){super(new U1e(()=>this.getLocaleTextFunc()))}},$1e={tag:"div",cls:"ag-cell-edit-wrapper",children:[{tag:"ag-select",ref:"eEditor",cls:"ag-cell-editor"}]},q1e=class extends bE{constructor(){super($1e,[Mme]),this.eEditor=qe,this.startedByEnter=!1}wireBeans(e){this.valueSvc=e.valueSvc}initialiseEditor(e){this.focusAfterAttached=e.cellStartedEdit;const{eEditor:t,valueSvc:n,gos:r}=this,{values:o,value:a,eventKey:l}=e;if(zn(o)){ze(58);return}this.startedByEnter=l!=null?l===xe.ENTER:!1;let d=!1;o.forEach(C=>{const y={value:C},S=n.formatValue(e.column,null,C),E=S!=null;y.text=E?S:C,t.addOption(y),d=d||a===C}),d?t.setValue(e.value,!0):e.values.length&&t.setValue(e.values[0],!0);const{valueListGap:f,valueListMaxWidth:m,valueListMaxHeight:v}=e;f!=null&&t.setPickerGap(f),v!=null&&t.setPickerMaxHeight(v),m!=null&&t.setPickerMaxWidth(m),r.get("editType")!=="fullRow"&&this.addManagedListeners(this.eEditor,{selectedItem:()=>e.stopEditing()})}afterGuiAttached(){this.focusAfterAttached&&this.eEditor.getFocusableElement().focus(),this.startedByEnter&&setTimeout(()=>{this.isAlive()&&this.eEditor.showPicker()})}focusIn(){this.eEditor.getFocusableElement().focus()}getValue(){return this.eEditor.getValue()}isPopup(){return!1}getValidationElement(){return this.eEditor.getAriaElement()}getValidationErrors(){const{params:e}=this,{values:t,getValidationErrors:n}=e,r=this.getValue();let o=[];if(t&&!t.includes(r)){const a=this.getLocaleTextFunc();o.push(a("invalidSelectionValidation","Invalid selection."))}else o=null;return n?n({value:r,internalErrors:o,cellEditorParams:e}):o}},K1e={tag:"ag-input-text-field",ref:"eEditor",cls:"ag-cell-editor"},Y1e=class{constructor(e){this.getLocaleTextFunc=e}getTemplate(){return K1e}getAgComponents(){return[fE]}init(e,t){this.eEditor=e,this.params=t;const n=t.maxLength;n!=null&&e.setMaxLength(n)}getValidationErrors(){const{params:e}=this,{maxLength:t,getValidationErrors:n}=e,r=this.getValue(),o=this.getLocaleTextFunc();let a=[];return t!=null&&typeof r=="string"&&r.length>t&&a.push(o("maxLengthValidation",`Must be ${t} characters or fewer.`,[String(t)])),a.length||(a=null),n?n({value:r,cellEditorParams:e,internalErrors:a}):a}getValue(){const{eEditor:e,params:t}=this,n=e.getValue();return!Ye(n)&&!Ye(t.value)?t.value:t.parseValue(n)}getStartValue(){const e=this.params;return e.useFormatter||e.column.getColDef().refData?e.formatValue(e.value):e.value}setCaret(){Wh()&&this.eEditor.getInputElement().focus({preventScroll:!0});const e=this.eEditor,t=e.getValue(),n=Ye(t)&&t.length||0;n&&e.getInputElement().setSelectionRange(n,n)}},u8=class extends yE{constructor(){super(new Y1e(()=>this.getLocaleTextFunc()))}};function Q1e(e){return e.ctrlsSvc.getScrollFeature().getVScrollPosition()}function Z1e(e){return e.ctrlsSvc.getScrollFeature().getHScrollPosition()}function iK(e,t,n="auto"){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureColumnVisible(t,n),"ensureVisible")}function oK(e,t,n){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureIndexVisible(t,n),"ensureVisible")}function X1e(e,t,n=null){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureNodeVisible(t,n),"ensureVisible")}function J1e(e){e.undoRedo?.undo("api")}function eSe(e){e.undoRedo?.redo("api")}function tSe(e,t){return e.editModelSvc?.getEditRowDataValue(t,{checkSiblings:!0})}function nSe(e){const t=e.editModelSvc?.getEditMap(),n=[];return t?.forEach((r,o)=>{const{rowIndex:a,rowPinned:l}=o;r.forEach((d,f)=>{const{editorValue:m,pendingValue:v,sourceValue:C,state:y}=d,S=vd(d);let E=m??v;E===la&&(E=void 0);const T={newValue:E,oldValue:C,state:y,column:f,colId:f.getColId(),colKey:f.getColId(),rowIndex:a,rowPinned:l};(y==="editing"||y==="changed"&&S)&&n.push(T)})}),n}function rSe(e,t=!1){const{editSvc:n}=e;if(n?.isBatchEditing()){if(t)for(const r of e.editModelSvc?.getEditPositions()??[])r.state==="editing"&&n.revertSingleCellEdit(r);else kp(e,{persist:!0});Cb(e,void 0,{cancel:t})}else n?.stopEditing(void 0,{cancel:t,source:"edit",forceStop:!t,forceCancel:t})}function iSe(e,t){const n=er(e,t);return e.editSvc?.isEditing(n)??!1}function oSe(e,t){const{key:n,colKey:r,rowIndex:o,rowPinned:a}=t,{editSvc:l,colModel:d}=e,f=d.getCol(r);if(!f){ze(12,{colKey:r});return}const v=jd(e,{rowIndex:o,rowPinned:a||null});if(!v){ze(290,{rowIndex:o,rowPinned:a});return}if(!f.isCellEditable(v))return;a==null&&oK(e,o),iK(e,r),l?.startEditing({rowNode:v,column:f},{event:n?new KeyboardEvent("keydown",{key:n}):void 0,source:"api"})}function sSe(e){return e.editSvc?.validateEdit()||null}function aSe(e){return e.undoRedo?.getCurrentUndoStackSize()??0}function lSe(e){return e.undoRedo?.getCurrentRedoStackSize()??0}var cSe={tag:"div",cls:"ag-popup-editor",attrs:{tabindex:"-1"}},dSe=class extends ON{constructor(e){super(cSe),this.params=e}postConstruct(){Wp(this.gos,this.getGui(),"popupEditorWrapper",!0),this.addKeyDownListener()}addKeyDownListener(){const e=this.getGui(),t=this.params,n=r=>{jP(this.gos,r,t.node,t.column,!0)||t.onKeyDown(r)};this.addManagedElementListeners(e,{keydown:n})}};function uSe(e,{column:t},n,r,o="ui"){if(n instanceof KeyboardEvent&&(n.key===xe.TAB||n.key===xe.ENTER||n.key===xe.F2||n.key===xe.BACKSPACE&&r))return!0;if(n?.shiftKey&&e.rangeSvc?.getCellRanges().length!=0)return!1;const l=t?.getColDef(),d=hSe(e.gos,l),f=n?.type;return f==="click"&&n?.detail===1&&d===1||f==="dblclick"&&n?.detail===2&&d===2?!0:o==="api"?r??!1:!1}function hSe(e,t){return e.get("suppressClickEdit")===!0?0:e.get("singleClickEdit")===!0||t?.singleClickEdit?1:2}function JP(e,{rowNode:t,column:n},r="ui"){const o=n.getColDef().editable,a=e.editModelSvc;return n.isColumnFunc(t,o)||!!a&&a.hasEdits({rowNode:t,column:n},{withOpenEditor:!0})}function fSe(e,t,n="ui"){const r=JP(e,t,n);return r===!0||n==="ui"?r:e.colModel.getCols().some(a=>JP(e,{rowNode:t.rowNode,column:a},n))}var VS=(e,t=!1)=>{if(e!==void 0)return vd(e)||t&&e.state==="editing"};function sK(e,t,n=!1){return VS(e.editModelSvc?.getEdit(t),n)}var aK=(e,t,n)=>{if(e)for(let r=0,o=e.length;r<o;++r){const a=e[r];if(a.data&&(VS(t?.getEdit({rowNode:a,column:n}))||VS(t?.getEdit({rowNode:a.pinnedSibling,column:n})))||aK(a.childrenAfterGroup,t,n))return!0}};function lK(e,t){const{column:n,rowNode:r}=t;return e.gos.get("groupTotalRow")&&!r?.footer?!1:aK(r?.childrenAfterGroup,e.editModelSvc,n)}function cK(e,{rowNode:t,column:n}){if(t=t.pinnedSibling,!!t)return VS(e.editModelSvc?.getEdit({rowNode:t,column:n}))}var pSe=class extends Pe{constructor(e,t){super(),this.cellCtrl=e,this.beans=t,this.editSvc=t.editSvc,this.editModelSvc=t.editModelSvc}setComp(e){this.cellComp=e,this.applyCellStyles()}applyCellStyles(){const{cellCtrl:e,editSvc:t,beans:n}=this;if(t?.isBatchEditing()&&t.isEditing()){const o=sK(n,e)||lK(n,e)||cK(n,e);this.applyBatchingStyle(o)}else this.applyBatchingStyle(!1);const r=!!this.editModelSvc?.getCellValidationModel().hasCellValidation(this.cellCtrl);this.cellComp.toggleCss("ag-cell-editing-error",r)}applyBatchingStyle(e){this.cellComp.toggleCss("ag-cell-editing",e??!1),this.cellComp.toggleCss("ag-cell-batch-edit",(e&&this.editSvc?.isBatchEditing())??!1)}},gSe=class extends Pe{constructor(e,t){super(),this.rowCtrl=e,this.beans=t,this.gos=t.gos,this.editSvc=t.editSvc,this.editModelSvc=t.editModelSvc}applyRowStyles(){const{rowCtrl:e,editModelSvc:t,beans:n}=this;let r=e.rowNode,o=t?.getEditRow(r);const a=this.editModelSvc?.getRowValidationModel().hasRowValidation({rowNode:r});if(!o&&r.pinnedSibling&&(r=r.pinnedSibling,o=t?.getEditRow(r)),o){const l=Array.from(o.keys()).some(d=>{const f={rowNode:r,column:d};return sK(n,f,!0)||lK(n,f)||cK(n,f)});this.applyStyle(a,l);return}this.applyStyle(a)}applyStyle(e=!1,t=!1){const n=this.editSvc?.isBatchEditing()??!1,r=this.gos.get("editType")==="fullRow";this.rowCtrl?.forEachGui(void 0,({rowComp:o})=>{o.toggleCss("ag-row-editing",r&&t),o.toggleCss("ag-row-batch-edit",r&&t&&n),o.toggleCss("ag-row-inline-editing",t),o.toggleCss("ag-row-not-inline-editing",!t),o.toggleCss("ag-row-editing-invalid",r&&t&&e)})}},mSe=({rowModel:e,pinnedRowModel:t,editModelSvc:n},r)=>{const o=new Set;e.forEachNode(a=>r.has(a)&&o.add(a)),t?.forEachPinnedRow("top",a=>r.has(a)&&o.add(a)),t?.forEachPinnedRow("bottom",a=>r.has(a)&&o.add(a));for(const a of r)o.has(a)||n.removeEdits({rowNode:a});return o},bSe=({editModelSvc:e},t,n)=>{for(const r of t)e?.getEditRow(r)?.forEach((o,a)=>!n.has(a)&&e.removeEdits({rowNode:r,column:a}))},vSe=e=>()=>{const t=new Set(e.colModel.getCols()),n=e.editModelSvc.getEditMap(!0),r=new Set(n.keys());bSe(e,mSe(e,r),t)},wSe=new Set(["undo","redo","paste","bulk","rangeSvc"]),CSe=new Set(["ui","api"]),dK={paste:"api",rangeSvc:"api",fillHandle:"api",cellClear:"api",bulk:"api"},ySe=new Set(Object.keys(dK)),kSe=new Set(["paste","rangeSvc","renderer","cellClear","redo","undo"]),l1={cancel:!0,source:"api"},xSe={cancel:!1,source:"api"},Qm={checkSiblings:!0},ey={force:!0,suppressFlash:!0},ASe=class extends Pe{constructor(){super(...arguments),this.beanName="editSvc",this.batch=!1,this.stopping=!1,this.committing=!1}postConstruct(){const{beans:e}=this;this.model=e.editModelSvc,this.valueSvc=e.valueSvc,this.rangeSvc=e.rangeSvc,this.addManagedPropertyListener("editType",({currentValue:r})=>{this.stopEditing(void 0,l1),this.createStrategy(r)});const t=vSe(e),n=()=>{const r=this.model.getCellValidationModel().getCellValidationMap().size>0,o=this.model.getRowValidationModel().getRowValidationMap().size>0;return r||o?this.stopEditing(void 0,l1):this.isEditing()&&(this.isBatchEditing()?Cb(e,this.model.getEditPositions()):this.stopEditing(void 0,xSe)),!1};this.addManagedEventListeners({columnPinned:t,columnVisible:t,columnRowGroupChanged:t,rowExpansionStateChanged:t,pinnedRowsChanged:t,displayedRowsChanged:t,sortChanged:n,filterChanged:n,cellFocused:this.onCellFocused.bind(this)})}isBatchEditing(){return this.batch}setBatchEditing(e){e?(this.batch=!0,this.stopEditing(void 0,l1)):(this.stopEditing(void 0,l1),this.batch=!1)}createStrategy(e){const{beans:t,gos:n,strategy:r}=this,o=h8(n,e);if(r){if(r.beanName===o)return r;this.destroyStrategy()}return this.strategy=this.createOptionalManagedBean(t.registry.createDynamicBean(o,!0))}destroyStrategy(){this.strategy&&(this.strategy.destroy(),this.strategy=this.destroyBean(this.strategy))}shouldStartEditing(e,t,n,r="ui"){const o=uSe(this.beans,e,t,n,r);return o&&(this.strategy??(this.strategy=this.createStrategy())),o}shouldStopEditing(e,t,n="ui"){return this.strategy?.shouldStop(e,t,n)??null}shouldCancelEditing(e,t,n="ui"){return this.strategy?.shouldCancel(e,t,n)??null}validateEdit(){return jke(this.beans)}isEditing(e,t){return this.model.hasEdits(e,t??Qm)}isRowEditing(e,t){return(e&&this.model.hasRowEdits(e,t))??!1}startEditing(e,t){const{startedEdit:n=!0,event:r=null,source:o="ui",ignoreEventKey:a=!1,silent:l}=t;if(this.strategy??(this.strategy=this.createStrategy()),!this.isCellEditable(e,"api"))return;const d=er(this.beans,e);if(d&&!d.comp){d.onCompAttachedFuncs.push(()=>this.startEditing(e,t));return}const f=this.shouldStartEditing(e,r,n,o);if(f===!1&&o!=="api"){this.isEditing(e)&&this.stopEditing();return}!this.batch&&this.shouldStopEditing(e,void 0,o)&&!t.continueEditing&&this.stopEditing(void 0,{source:o}),f&&this.isBatchEditing()&&this.dispatchBatchEvent("batchEditingStarted",new Map),this.strategy.start({position:e,event:r,source:o,ignoreEventKey:a,startedEdit:n,silent:l})}stopEditing(e,t){const{event:n,cancel:r,source:o="ui",forceCancel:a,forceStop:l}=t||{},{beans:d,model:f}=this;if(ySe.has(o)&&this.isBatchEditing())return this.bulkRefresh(e),!1;const m=this.committing?dK[o]:o;if(!(this.committing||this.isEditing(e)||this.isBatchEditing()&&f.hasEdits(e,Qm))||!this.strategy||this.stopping)return!1;this.stopping=!0;const C=er(d,e);C&&(C.onEditorAttachedFuncs=[]);let y=f.getEditMap(!0),S=!1;const E=!r&&(!!this.shouldStopEditing(e,n,m)||this.committing&&!this.batch)||(l??!1),T=r&&!!this.shouldCancelEditing(e,n,m)||(a??!1);if(E||T){kp(d,{persist:!0,isCancelling:T||r,isStopping:E});const P=f.getEditMap(),N=this.processEdits(P,r,o);this.strategy?.stop(r,n);for(const j of N)f.clearEditValue(j);this.bulkRefresh(void 0,y);for(const j of f.getEditPositions(P)){const L=er(d,j),V=vd(j);L?.refreshCell({force:!0,suppressFlash:!V})}y=P,S||(S=E)}else if(n instanceof KeyboardEvent&&this.batch&&this.strategy?.midBatchInputsAllowed(e)&&this.isEditing(e,{withOpenEditor:!0})){const{key:P}=n,N=P===xe.ENTER,j=P===xe.ESCAPE,L=P===xe.TAB;(N||L||j)&&(N||L?kp(d,{persist:!0}):j&&this.revertSingleCellEdit(C),this.isBatchEditing()?this.strategy?.cleanupEditors():Cb(d,f.getEditPositions(),{event:n,cancel:j}),n.preventDefault(),this.bulkRefresh(e,y,{suppressFlash:!0}),y=f.getEditMap())}else kp(d,{persist:!0}),y=f.getEditMap();return S&&e&&this.model.removeEdits(e),this.navigateAfterEdit(t,C?.cellPosition),qP(d),this.model.hasEdits()||(this.model.getCellValidationModel().clearCellValidationMap(),this.model.getRowValidationModel().clearRowValidationMap()),this.bulkRefresh(),T&&this.beans.rowRenderer.refreshRows({rowNodes:Array.from(y.keys())}),this.isBatchEditing()&&(this.beans.rowRenderer.refreshRows({suppressFlash:!0,force:!0}),S&&E&&this.dispatchBatchEvent("batchEditingStopped",y)),this.stopping=!1,S}navigateAfterEdit(e,t){if(!e||!t)return;const{event:n,suppressNavigateAfterEdit:r}=e;if(!(n instanceof KeyboardEvent)||r)return;const{key:a,shiftKey:l}=n,d=this.gos.get("enterNavigatesVerticallyAfterEdit");if(a!==xe.ENTER||!d)return;const f=l?xe.UP:xe.DOWN;this.beans.navigation?.navigateToNextCell(null,f,t,!1)}processEdits(e,t=!1,n){const r=Array.from(e.keys()),o=this.model.getCellValidationModel().getCellValidationMap().size>0||this.model.getRowValidationModel().getRowValidationMap().size>0,a=[];for(const l of r){const d=e.get(l);for(const f of d.keys()){const m=d.get(f),v={rowNode:l,column:f},C=vd(m);!t&&C&&!o&&(this.setNodeDataValue(l,f,m.pendingValue,void 0,n)||a.push(v))}}return a}setNodeDataValue(e,t,n,r,o="edit"){const{beans:a}=this,l=er(a,{rowNode:e,column:t}),d=CSe.has(o)?"edit":o;l&&(l.suppressRefreshCell=!0),this.commitNextEdit();const f=e.setDataValue(t,n,d);return l&&(l.suppressRefreshCell=!1),r&&l?.refreshCell(ey),f}setEditMap(e,t){this.strategy??(this.strategy=this.createStrategy()),this.strategy?.setEditMap(e,t),this.bulkRefresh();let n=ey;t?.forceRefreshOfEditCellsOnly&&(n={...SSe(e),...ey}),this.beans.rowRenderer.refreshCells(n)}dispatchEditValuesChanged({rowNode:e,column:t},n={}){if(!e||!t||!n)return;const{pendingValue:r,sourceValue:o}=n,{rowIndex:a,rowPinned:l,data:d}=e;this.beans.eventSvc.dispatchEvent({type:"cellEditValuesChanged",node:e,rowIndex:a,rowPinned:l,column:t,source:"api",data:d,newValue:r,oldValue:o,value:r,colDef:t.getColDef()})}bulkRefresh(e={},t,n={}){const{beans:r,gos:o}=this,{editModelSvc:a,rowModel:l}=r;Wn(o)&&(e.rowNode&&e.column?this.refCell(e,this.model.getEdit(e),n):t&&a?.getEditMap(!1)?.forEach((d,f)=>{for(const m of d.keys())this.refCell({rowNode:f,column:m},d.get(m),n)}))}refCell({rowNode:e,column:t},n,r={}){const{beans:o,gos:a}=this,l=new Set([e]),d=new Set,f=e.pinnedSibling;f&&l.add(f);const m=e.sibling;m&&d.add(m);let v=e.parent;for(;v;)v.sibling?.footer&&a.get("groupTotalRow")||!v.parent&&v.sibling&&a.get("grandTotalRow")?d.add(v.sibling):d.add(v),v=v.parent;for(const C of l)this.dispatchEditValuesChanged({rowNode:C,column:t},n);for(const C of l)er(o,{rowNode:C,column:t})?.refreshCell(r);for(const C of d)er(o,{rowNode:C,column:t})?.refreshCell(r)}stopAllEditing(e=!1,t="ui"){this.isEditing()&&this.stopEditing(void 0,{cancel:e,source:t})}isCellEditable(e,t="ui"){const{rowNode:n}=e,{gos:r,beans:o}=this;if(n.group){if(r.get("treeData")){if(!n.data&&!r.get("enableGroupEdit"))return!1}else if(!r.get("enableGroupEdit"))return!1}const a=h8(r)==="fullRow"?fSe(o,e,t):JP(o,e,t);return a&&(this.strategy??(this.strategy=this.createStrategy())),a}cellEditingInvalidCommitBlocks(){return this.gos.get("invalidEditValueMode")==="block"}checkNavWithValidation(e,t,n=!0){if(this.hasValidationErrors(e)){const r=er(this.beans,e);return this.cellEditingInvalidCommitBlocks()?(t?.preventDefault?.(),n&&(!r?.hasBrowserFocus()&&r?.focusCell(),r?.comp?.getCellEditor()?.focusIn?.()),"block-stop"):(r&&this.revertSingleCellEdit(r),"revert-continue")}return"continue"}revertSingleCellEdit(e,t=!1){const n=er(this.beans,e);n?.comp?.getCellEditor()&&(Cb(this.beans,[e],{silent:!0}),this.model.clearEditValue(e),Pb(this.beans,e,{silent:!0}),$p(this.beans),n?.refreshCell(ey),t&&(n?.focusCell(),n?.comp?.getCellEditor()?.focusIn?.()))}hasValidationErrors(e){$p(this.beans);const t=er(this.beans,e);t&&(t.refreshCell(ey),t.rowCtrl.rowEditStyleFeature?.applyRowStyles());let n=!1;return e?.rowNode?(n||(n=this.model.getRowValidationModel().hasRowValidation({rowNode:e.rowNode})),e.column&&(n||(n=this.model.getCellValidationModel().hasCellValidation({rowNode:e.rowNode,column:e.column})))):(n||(n=this.model.getCellValidationModel().getCellValidationMap().size>0),n||(n=this.model.getRowValidationModel().getRowValidationMap().size>0)),n}moveToNextCell(e,t,n,r="ui"){let o;const a=this.isEditing(),l=a&&this.checkNavWithValidation(void 0,n)==="block-stop";return e instanceof yb&&a&&(o=this.strategy?.moveToNextEditingCell(e,t,n,r,l)),o===null||(o=o||!!this.beans.focusSvc.focusedHeader,o===!1&&!l&&this.stopEditing()),o}getCellDataValue({rowNode:e,column:t},n=!0){if(!e||!t)return;let r=this.model.getEdit({rowNode:e,column:t});const o=e.pinnedSibling;if(o){const l=this.model.getEdit({rowNode:o,column:t});l&&(r=l)}const a=n?r?.editorValue??r?.pendingValue:r?.pendingValue;return a===la||!r?r?.sourceValue??this.valueSvc.getValue(t,e,!1,"api"):a}addStopEditingWhenGridLosesFocus(e){Ike(this,this.beans,e)}createPopupEditorWrapper(e){return new dSe(e)}commitNextEdit(){this.committing=!0}setDataValue(e,t,n){try{if((!this.isEditing()||this.committing)&&!kSe.has(n))return;const{beans:r}=this;this.strategy??(this.strategy=this.createStrategy());const o=this.isBatchEditing()?"ui":this.committing?n??"api":"api";if(!n||wSe.has(n))return tS(r,e,t,n,void 0,{persist:!0}),this.setNodeDataValue(e.rowNode,e.column,t,!0,n);const a=this.model.getEdit(e);if(a){if(a.pendingValue===t)return!1;if(a.sourceValue!==t)return tS(r,e,t,n,void 0,{persist:!0}),this.stopEditing(e,{source:o,suppressNavigateAfterEdit:!0}),!0;if(a.sourceValue===t)return r.editModelSvc?.removeEdits(e),this.dispatchEditValuesChanged(e,{...a,pendingValue:t}),!0}return tS(r,e,t,n,void 0,{persist:!0}),this.stopEditing(e,{source:o,suppressNavigateAfterEdit:!0}),!0}finally{this.committing=!1}}handleColDefChanged(e){Fke(this.beans,e)}destroy(){this.model.clear(),this.destroyStrategy(),super.destroy()}prepDetailsDuringBatch(e,t){if(!this.batch||!this.model.hasRowEdits(e.rowNode,Qm))return;const{rowNode:r,column:o}=e,{compDetails:a,valueToDisplay:l}=t;if(a){const{params:f}=a;return f.data=this.model.getEditRowDataValue(r,Qm),{compDetails:a}}const d=this.model.getEditRow(e.rowNode,Qm);if(l!==void 0&&d?.has(o))return{valueToDisplay:this.valueSvc.getValue(o,r)}}cleanupEditors(){this.strategy?.cleanupEditors()}dispatchCellEvent(e,t,n,r){this.strategy?.dispatchCellEvent(e,t,n,r)}dispatchBatchEvent(e,t){this.eventSvc.dispatchEvent(this.createBatchEditEvent(e,t))}createBatchEditEvent(e,t){return ht(this.gos,{type:e,...e==="batchEditingStopped"?{changes:this.toEventChangeList(t)}:{}})}toEventChangeList(e){return this.model.getEditPositions(e).map(t=>({rowIndex:t.rowNode.rowIndex,rowPinned:t.rowNode.rowPinned,columnId:t.column.getColId(),newValue:t.pendingValue,oldValue:t.sourceValue}))}applyBulkEdit({rowNode:e,column:t},n){if(!n||n.length===0)return;const{beans:r,rangeSvc:o,valueSvc:a}=this;kp(r,{persist:!0});const l=this.model.getEditMap(!0),d=l.get(e)?.get(t)?.pendingValue;this.batch||this.eventSvc.dispatchEvent({type:"bulkEditingStarted"}),n.forEach(m=>{if(o?.forEachRowInRange(m,v=>{const C=jd(r,v);if(C===void 0)return;const y=l.get(C)??new Map;for(const S of m.columns)if(S&&this.isCellEditable({rowNode:C,column:S},"api")){const E=a.getValue(S,C,!0,"api");let T=a.parseValue(S,C??null,d,E);Number.isNaN(T)&&(T=null),y.set(S,{editorValue:void 0,pendingValue:T,sourceValue:E,state:"changed",editorState:{isCancelAfterEnd:void 0,isCancelBeforeStart:void 0}})}y.size>0&&l.set(C,y)}),this.setEditMap(l),this.batch){this.cleanupEditors(),qP(r),this.bulkRefresh();return}this.commitNextEdit(),this.stopEditing(void 0,{source:"bulk"}),this.eventSvc.dispatchEvent({type:"bulkEditingStopped",changes:this.toEventChangeList(l)})}),this.bulkRefresh();const f=er(r,{rowNode:e,column:t});f&&f.focusCell(!0)}createCellStyleFeature(e,t){return new pSe(e,t)}createRowStyleFeature(e,t){return new gSe(e,t)}setEditingCells(e,t){const{beans:n}=this,{colModel:r,valueSvc:o}=n,a=new Map;for(let{colId:l,column:d,colKey:f,rowIndex:m,rowPinned:v,newValue:C,state:y}of e){const S=l?r.getCol(l):f?r.getCol(f):d;if(!S)continue;const E=jd(n,{rowIndex:m,rowPinned:v});if(!E)continue;const T=o.getValue(S,E,!0,"api");if(!t?.forceRefreshOfEditCellsOnly&&!vd({pendingValue:C,sourceValue:T})&&y!=="editing")continue;let P=a.get(E);P||(P=new Map,a.set(E,P)),C===void 0&&(C=la),P.set(S,{editorValue:void 0,pendingValue:C,sourceValue:T,state:y??"changed",editorState:{isCancelAfterEnd:void 0,isCancelBeforeStart:void 0}})}this.setEditMap(a,t)}onCellFocused(e){const t=er(this.beans,e);if(!t||!this.isEditing(t,Qm))return;const n=this.model.getEdit(t);if(!n||!vd(n))return;const o=this.getLocaleTextFunc()("ariaPendingChange","Pending Change");this.beans.ariaAnnounce?.announceValue(o,"pendingChange")}allowedFocusTargetOnValidation(e){return er(this.beans,e)}};function SSe(e){return{rowNodes:e?Array.from(e.keys()):void 0,columns:e?[...new Set(Array.from(e.values()).flatMap(t=>Array.from(t.keys())))]:void 0}}function h8(e,t){return t??e.get("editType")??"singleCell"}var uK=class extends Pe{postConstruct(){this.model=this.beans.editModelSvc,this.editSvc=this.beans.editSvc,this.addManagedEventListeners({cellFocused:this.onCellFocusChanged?.bind(this),cellFocusCleared:this.onCellFocusChanged?.bind(this)})}clearEdits(e){this.model.clearEditValue(e)}onCellFocusChanged(e){let t;const n=e.previousParams,{editSvc:r,beans:o}=this,a=e.type==="cellFocused"?e.sourceEvent:null;n&&(t=er(o,n));const{gos:l,editModelSvc:d}=o,f=e.type==="cellFocusCleared";if(r.isEditing(void 0,{withOpenEditor:!0})){const{column:m,rowIndex:v,rowPinned:C}=e,y={column:m,rowNode:jd(o,{rowIndex:v,rowPinned:C})},S=l.get("invalidEditValueMode")==="block";if(S)return;const E=!S,T=!!d?.getCellValidationModel().hasCellValidation(y),P=E&&T;(n||f?r.stopEditing(void 0,{cancel:P,source:f&&E?"api":void 0,event:a}):!0)||(r.isBatchEditing()?r.cleanupEditors():r.stopEditing(void 0,{source:"api"}))}t?.refreshCell({suppressFlash:!0,force:!0})}stop(e,t){const n=this.model.getEditPositions(),r={all:[],pass:[],fail:[]};for(const o of n){if(r.all.push(o),(this.model.getCellValidationModel().getCellValidation(o)?.errorMessages?.length??0)>0){r.fail.push(o);continue}r.pass.push(o)}if(e)for(const o of n)jS(this.beans,o,{cancel:e}),this.model.stop(o);else{const o=this.processValidationResults(r);if(o.destroy.length>0)for(const a of o.destroy)jS(this.beans,a,{event:t,cancel:e}),this.model.stop(a);if(o.keep.length>0)for(const a of o.keep){const l=er(this.beans,a);this.editSvc?.cellEditingInvalidCommitBlocks()||l&&this.editSvc.revertSingleCellEdit(l)}}return!0}cleanupEditors({rowNode:e}={},t){kp(this.beans,{persist:!1});const n=this.model.getEditPositions(),r=[];if(e)for(const o of n)o.rowNode!==e&&r.push(o);else for(const o of n)r.push(o);Cb(this.beans,r),qP(this.beans,t)}setFocusOutOnEditor(e){e.comp?.getCellEditor()?.focusOut?.()}setFocusInOnEditor(e){const t=e.comp,n=t?.getCellEditor();if(n?.focusIn)n.focusIn();else{const r=this.beans.gos.get("editType")==="fullRow";e.focusCell(r),e.onEditorAttachedFuncs.push(()=>t?.getCellEditor()?.focusIn?.())}}setupEditors(e){const{event:t,ignoreEventKey:n=!1,startedEdit:r,position:o,cells:a=this.model.getEditPositions()}=e,l=t instanceof KeyboardEvent&&!n&&t.key||void 0;Oke(this.beans,a,o,l,t,r)}dispatchCellEvent(e,t,n,r){const o=er(this.beans,e);o&&this.eventSvc.dispatchEvent({...o.createEvent(t??null,n),...r})}dispatchRowEvent(e,t,n){if(n)return;const r=rO(this.beans,e);r&&this.eventSvc.dispatchEvent(r.createRowEvent(t))}shouldStop(e,t,n="ui"){const r=this.editSvc.isBatchEditing();return r&&n==="api"?!0:r&&(n==="ui"||n==="edit")?!1:n==="api"?!0:t instanceof KeyboardEvent&&!r?t.key===xe.ENTER:null}shouldCancel(e,t,n="ui"){const r=this.editSvc.isBatchEditing();return!!(t instanceof KeyboardEvent&&!r&&t.key===xe.ESCAPE||r&&n==="api"||n==="api")}setEditMap(e,t){t?.update||this.editSvc.stopEditing(void 0,{cancel:!0,source:"api"});const n=[];if(e.forEach((r,o)=>{r.forEach((a,l)=>{a.state==="editing"&&n.push({...a,rowNode:o,column:l})})}),t?.update&&(e=new Map([...this.model.getEditMap(),...e])),this.model?.setEditMap(e),n.length>0){const r=n.at(-1),o=r.pendingValue===la?void 0:r.pendingValue;this.start({position:r,event:new KeyboardEvent("keydown",{key:o}),source:"api"});const a=er(this.beans,r);a&&this.setFocusInOnEditor(a)}}destroy(){this.cleanupEditors(),super.destroy()}},_Se=class extends uK{constructor(){super(...arguments),this.beanName="fullRow",this.startedRows=[]}shouldStop(e,t,n="ui"){const{rowNode:r}=e||{};if(!rO(this.beans,{rowNode:this.rowNode}))return!0;const a=super.shouldStop({rowNode:this.rowNode},t,n);return a!==null?a:this.rowNode?r!==this.rowNode:!1}midBatchInputsAllowed({rowNode:e}){return e?this.model.hasEdits({rowNode:e}):!1}clearEdits(e){this.model.clearEditValue(e)}start(e){const{position:t,silent:n,startedEdit:r,event:o,ignoreEventKey:a}=e,{rowNode:l}=t;this.rowNode!==l&&super.cleanupEditors(t);const d=this.beans.visibleCols.allCols,f=[],m=[];for(const v of d)v.isCellEditable(l)&&m.push(v);if(m.length!=0){this.dispatchRowEvent({rowNode:l},"rowEditingStarted",n),this.startedRows.push(l);for(const v of m){const C={rowNode:l,column:v};f.push(C),this.model.hasEdits(C)||this.model.start(C)}this.rowNode=l,this.setupEditors({cells:f,position:t,startedEdit:r,event:o,ignoreEventKey:a})}}processValidationResults(e){return e.fail.length>0&&this.editSvc.cellEditingInvalidCommitBlocks()?{destroy:[],keep:e.all}:{destroy:e.all,keep:[]}}stop(e,t){const{rowNode:n}=this;if(n&&!this.model.hasRowEdits(n))return!1;const r=[];if(e||this.model.getEditMap().forEach((o,a)=>{if(!(!o||o.size===0)){for(const l of o.values())if(vd(l)){r.push(a);break}}}),$p(this.beans),!e&&this.editSvc?.checkNavWithValidation({rowNode:n})==="block-stop")return!1;super.stop(e,t);for(const o of r)this.dispatchRowEvent({rowNode:o},"rowValueChanged");return this.cleanupEditors({rowNode:n},!0),this.rowNode=void 0,!0}onCellFocusChanged(e){const{rowIndex:t}=e,n=e.previousParams;if(n?.rowIndex===t||e.sourceEvent instanceof KeyboardEvent)return;const r=er(this.beans,n);this.gos.get("invalidEditValueMode")==="block"&&r&&(this.model.getCellValidationModel().getCellValidation(r)||this.model.getRowValidationModel().getRowValidation(r))||super.onCellFocusChanged(e)}cleanupEditors(e={},t){super.cleanupEditors(e,t);for(const n of this.startedRows)this.dispatchRowEvent({rowNode:n},"rowEditingStopped");this.startedRows.length=0}moveToNextEditingCell(e,t,n,r="ui",o=!1){const a=e.cellPosition;let l;this.model.suspend(!0);try{l=this.beans.navigation?.findNextCellToFocusOn(a,{backwards:t,startEditing:!0,skipToNextEditableCell:!1})}finally{this.model.suspend(!1)}if(l===!1)return null;if(l==null)return!1;const d=l.cellPosition,f=e.isCellEditable(),m=l.isCellEditable(),v=d&&a.rowIndex===d.rowIndex&&a.rowPinned===d.rowPinned;f&&this.setFocusOutOnEditor(e),this.restoreEditors();const C=this.gos.get("suppressStartEditOnTab");return m&&!o?C?l.focusCell(!0,n):(l.comp?.getCellEditor()||Pb(this.beans,l,{event:n,cellStartedEdit:!0}),this.setFocusInOnEditor(l),l.focusCell(!1,n)):(m&&o&&this.setFocusInOnEditor(l),l.focusCell(!0,n)),!v&&!o&&(this.editSvc?.stopEditing({rowNode:e.rowNode},{event:n}),this.cleanupEditors(l,!0),C?l.focusCell(!0,n):this.editSvc.startEditing(l,{startedEdit:!0,event:n,source:r,ignoreEventKey:!0})),e.rowCtrl?.refreshRow({suppressFlash:!0,force:!0}),!0}restoreEditors(){this.model.getEditMap().forEach((e,t)=>e.forEach(({state:n},r)=>{if(n!=="editing")return;const o=er(this.beans,{rowNode:t,column:r});o&&!o.comp?.getCellEditor()&&Pb(this.beans,o,{silent:!0})}))}destroy(){super.destroy(),this.rowNode=void 0,this.startedRows.length=0}},ESe=class extends uK{constructor(){super(...arguments),this.beanName="singleCell"}shouldStop(e,t,n="ui"){const r=super.shouldStop(e,t,n);if(r!==null)return r;const{rowNode:o,column:a}=e||{};return(!this.rowNode||!this.column)&&o&&a?null:this.rowNode!==o||this.column!==a}midBatchInputsAllowed(e){return this.model.hasEdits(e)}start(e){const{position:t,startedEdit:n,event:r,ignoreEventKey:o}=e;(this.rowNode!==t.rowNode||this.column!==t.column)&&super.cleanupEditors(),this.rowNode=t.rowNode,this.column=t.column,this.model.start(t),this.setupEditors({cells:[t],position:t,startedEdit:n,event:r,ignoreEventKey:o})}dispatchRowEvent(e,t,n){}processValidationResults(e){return e.fail.length>0&&this.editSvc.cellEditingInvalidCommitBlocks()?{destroy:[],keep:e.all}:{destroy:e.all,keep:[]}}stop(e,t){return super.stop(e,t),this.rowNode=void 0,this.column=void 0,!0}onCellFocusChanged(e){const{colModel:t,editSvc:n}=this.beans,{rowIndex:r,column:o,rowPinned:a}=e,l=jd(this.beans,{rowIndex:r,rowPinned:a}),d=$P(o),f=t.getCol(d),m=e.previousParams;if(m){const v=$P(m.column);if(m?.rowIndex===r&&v===d&&m?.rowPinned===a)return}n?.isEditing({rowNode:l,column:f},{withOpenEditor:!0})&&e.type==="cellFocused"||super.onCellFocusChanged(e)}moveToNextEditingCell(e,t,n,r="ui",o=!1){const a=this.beans.focusSvc.getFocusedCell();a&&(e=lb(this.beans,a)??e);const l=e.cellPosition;let d;const f=this.beans.gos.get("editType")==="fullRow";f&&this.model.suspend(!0),o||(e.eGui.focus(),this.editSvc?.stopEditing(e,{source:this.editSvc?.isBatchEditing()?"ui":"api",event:n}));try{d=this.beans.navigation?.findNextCellToFocusOn(l,{backwards:t,startEditing:!0})}finally{f&&this.model.suspend(!1)}if(d===!1)return null;if(d==null)return!1;const m=d.cellPosition,v=e.isCellEditable(),C=d.isCellEditable(),y=m&&l.rowIndex===m.rowIndex&&l.rowPinned===m.rowPinned;v&&!o&&this.setFocusOutOnEditor(e);const S=this.gos.get("suppressStartEditOnTab");if(!y&&!o&&(super.cleanupEditors(d,!0),S?d.focusCell(!0,n):this.editSvc.startEditing(d,{startedEdit:!0,event:n,source:r,ignoreEventKey:!0})),C&&!o){if(d.focusCell(!1,n),S)d.focusCell(!0,n);else if(!d.comp?.getCellEditor()){const E=this.editSvc?.isEditing(d,{withOpenEditor:!0});Pb(this.beans,d,{event:n,cellStartedEdit:!0,silent:E}),this.setFocusInOnEditor(d),this.cleanupEditors(d)}}else C&&o&&this.setFocusInOnEditor(d),d.focusCell(!0,n);return e.rowCtrl?.refreshRow({suppressFlash:!0,force:!0}),!0}destroy(){super.destroy(),this.rowNode=void 0,this.column=void 0}},$h={moduleName:"EditCore",version:Qe,beans:[Pke,ASe],apiFunctions:{getEditingCells:nSe,getEditRowValues:tSe,getCellEditorInstances:Nke,startEditingCell:oSe,stopEditing:rSe,isEditing:iSe,validateEdit:sSe},dynamicBeans:{singleCell:ESe,fullRow:_Se},dependsOn:[wE,rK],css:[P1e]},DSe={moduleName:"UndoRedoEdit",version:Qe,beans:[R1e],apiFunctions:{undoCellEditing:J1e,redoCellEditing:eSe,getCurrentUndoSize:aSe,getCurrentRedoSize:lSe},dependsOn:[$h]},MSe={moduleName:"TextEditor",version:Qe,userComponents:{agCellEditor:u8,agTextCellEditor:u8},dependsOn:[$h]},TSe={moduleName:"NumberEditor",version:Qe,userComponents:{agNumberCellEditor:{classImp:W1e}},dependsOn:[$h]},RSe={moduleName:"DateEditor",version:Qe,userComponents:{agDateCellEditor:L1e,agDateStringCellEditor:z1e},dependsOn:[$h]},PSe={moduleName:"CheckboxEditor",version:Qe,userComponents:{agCheckboxCellEditor:N1e},dependsOn:[$h]},ISe={moduleName:"SelectEditor",version:Qe,userComponents:{agSelectCellEditor:q1e},dependsOn:[$h]},NSe={moduleName:"LargeTextEditor",version:Qe,userComponents:{agLargeTextCellEditor:V1e},dependsOn:[$h]},OSe={moduleName:"CustomEditor",version:Qe,dependsOn:[$h]},FSe=class extends Pe{constructor(){super(...arguments),this.beanName="selectionColSvc"}postConstruct(){this.addManagedPropertyListener("rowSelection",e=>{this.onSelectionOptionsChanged(e.currentValue,e.previousValue,gb(e.source))}),this.addManagedPropertyListener("selectionColumnDef",this.updateColumns.bind(this))}addColumns(e){const t=this.columns;t!=null&&(e.list=t.list.concat(e.list),e.tree=t.tree.concat(e.tree),ege(e))}createColumns(e,t){const n=()=>{MS(this.beans,this.columns?.tree),this.columns=null},r=e.treeDepth,a=(this.columns?.treeDepth??-1)==r,l=this.generateSelectionCols();if(Jpe(l,this.columns?.list??[])&&a)return;n();const{colGroupSvc:f}=this.beans,m=f?.findDepth(e.tree)??0,v=f?.balanceTreeForAutoCols(l,m)??[];this.columns={list:l,tree:v,treeDepth:m,map:{}},t(y=>{if(!y)return null;const S=y.filter(E=>!Xd(E));return[...l,...S]})}updateColumns(e){const t=gb(e.source);for(const n of this.columns?.list??[]){const r=this.createSelectionColDef(e.currentValue);n.setColDef(r,null,t),Ya(this.beans,{state:[{...r,colId:n.getColId()}]},t)}}getColumn(e){return this.columns?.list.find(t=>Sy(t,e))??null}getColumns(){return this.columns?.list??null}isSelectionColumnEnabled(){const{gos:e,beans:t}=this,n=e.get("rowSelection");if(typeof n!="object"||!Th(e))return!1;const r=(t.autoColSvc?.getColumns()?.length??0)>0;if(n.checkboxLocation==="autoGroupColumn"&&r)return!1;const o=!!Pp(n),a=q1(n);return o||a}createSelectionColDef(e){const{gos:t}=this,n=e??t.get("selectionColumnDef"),r=t.get("enableRtl"),{rowSpan:o,spanRows:a,...l}=n??{};return{width:50,resizable:!1,suppressHeaderMenuButton:!0,sortable:!1,suppressMovable:!0,lockPosition:r?"right":"left",comparator(d,f,m,v){const C=m.isSelected(),y=v.isSelected();return C===y?0:C?1:-1},editable:!1,suppressFillHandle:!0,pinned:null,...l,colId:jW,chartDataType:"excluded"}}generateSelectionCols(){if(!this.isSelectionColumnEnabled())return[];const e=this.createSelectionColDef(),t=e.colId;this.gos.validateColDef(e,t,!0);const n=new ig(e,null,t,!1);return this.createBean(n),[n]}onSelectionOptionsChanged(e,t,n){const r=t&&typeof t!="string"?Pp(t):void 0,o=e&&typeof e!="string"?Pp(e):void 0,a=r!==o,l=t&&typeof t!="string"?q1(t):void 0,d=e&&typeof e!="string"?q1(e):void 0,f=l!==d,m=Vy(e),v=Vy(t);(a||f||m!==v)&&this.beans.colModel.refreshAll(n)}destroy(){MS(this.beans,this.columns?.tree),super.destroy()}refreshVisibility(e,t,n){if(!this.columns?.list.length)return;const r=e.length+t.length+n.length;if(r===0)return;const o=this.columns.list[0];if(!o.isVisible())return;const a=()=>{let f;switch(o.pinned){case"left":case!0:f=e;break;case"right":f=n;break;default:f=t}f&&el(f,o)};(this.beans.rowNumbersSvc?.getColumn(zW)?2:1)===r&&a()}};function LSe(e,t){if(!t.nodes.every(l=>l.rowPinned&&!D0(l)?(ze(59),!1):l.id===void 0?(ze(60),!1):!0))return;const{nodes:r,source:o,newValue:a}=t;e.selectionSvc?.setNodesSelected({nodes:r,source:o??"api",newValue:a})}function BSe(e,t,n="apiSelectAll"){e.selectionSvc?.selectAllRowNodes({source:n,selectAll:t})}function jSe(e,t,n="apiSelectAll"){e.selectionSvc?.deselectAllRowNodes({source:n,selectAll:t})}function zSe(e,t="apiSelectAllFiltered"){e.selectionSvc?.selectAllRowNodes({source:t,selectAll:"filtered"})}function HSe(e,t="apiSelectAllFiltered"){e.selectionSvc?.deselectAllRowNodes({source:t,selectAll:"filtered"})}function VSe(e,t="apiSelectAllCurrentPage"){e.selectionSvc?.selectAllRowNodes({source:t,selectAll:"currentPage"})}function GSe(e,t="apiSelectAllCurrentPage"){e.selectionSvc?.deselectAllRowNodes({source:t,selectAll:"currentPage"})}function USe(e){return e.selectionSvc?.getSelectedNodes()??[]}function WSe(e){return e.selectionSvc?.getSelectedRows()??[]}var $Se=class extends iwe{constructor(){super(...arguments),this.beanName="selectionSvc",this.selectedNodes=new Map,this.detailSelection=new Map,this.masterSelectsDetail=!1}postConstruct(){super.postConstruct();const{gos:e}=this;this.mode=ES(e),this.groupSelectsDescendants=Uy(e),this.groupSelectsFiltered=DS(e)==="filteredDescendants",this.masterSelectsDetail=oz(e)==="detail",this.addManagedPropertyListeners(["groupSelectsChildren","groupSelectsFiltered","rowSelection"],()=>{const t=Uy(e),n=ES(e),r=DS(e)==="filteredDescendants";this.masterSelectsDetail=oz(e)==="detail",(t!==this.groupSelectsDescendants||r!==this.groupSelectsFiltered||n!==this.mode)&&(this.deselectAllRowNodes({source:"api"}),this.groupSelectsDescendants=t,this.groupSelectsFiltered=r,this.mode=n)}),this.addManagedEventListeners({rowSelected:this.onRowSelected.bind(this)})}destroy(){super.destroy(),this.resetNodes()}handleSelectionEvent(e,t,n){if(this.isRowSelectionBlocked(t))return 0;const r=this.inferNodeSelections(t,e.shiftKey,e.metaKey||e.ctrlKey,n);if(r==null)return 0;if(this.selectionCtx.selectAll=!1,"select"in r)return r.reset?this.resetNodes():this.selectRange(r.deselect,!1,n),this.selectRange(r.select,!0,n);{const o=r.checkFilteredNodes?fK(r.node):r.newValue;return this.setNodesSelected({nodes:[r.node],newValue:o,clearSelection:r.clearSelection,keepDescendants:r.keepDescendants,event:e,source:n})}}setNodesSelected({newValue:e,clearSelection:t,suppressFinishActions:n,nodes:r,event:o,source:a,keepDescendants:l=!1}){if(r.length===0)return 0;const{gos:d}=this;if(!Th(d)&&e)return ze(132),0;if(r.length>1&&!this.isMultiSelect())return ze(130),0;let f=0;for(let m=0;m<r.length;m++){const v=r[m],C=Zm(v);if(C.rowPinned&&!D0(C)){ze(59);continue}if(C.id===void 0){ze(60);continue}this.groupSelectsFiltered&&C.group&&!d.get("treeData")||this.selectRowNode(C,e,o,a)&&(this.detailSelection.delete(C.id),f++),this.groupSelectsDescendants&&C.childrenAfterGroup?.length&&(f+=this.selectChildren(C,e,a))}return n||(r.length===1&&a==="api"&&this.selectionCtx.setRoot(Zm(r[0])),e&&(t||!this.isMultiSelect())&&(f+=this.clearOtherNodes(Zm(r[0]),l,a)),f>0&&(this.updateGroupsFromChildrenSelections(a),this.dispatchSelectionChanged(a))),f}selectRange(e,t,n){let r=0;return e.forEach(o=>{const a=Zm(o);if(a.group&&this.groupSelectsDescendants)return;this.selectRowNode(a,t,void 0,n)&&r++}),r>0&&(this.updateGroupsFromChildrenSelections(n),this.dispatchSelectionChanged(n)),r}selectChildren(e,t,n){const r=this.groupSelectsFiltered?e.childrenAfterAggFilter:e.childrenAfterGroup;return r?this.setNodesSelected({newValue:t,clearSelection:!1,suppressFinishActions:!0,source:n,nodes:r}):0}getSelectedNodes(){return Array.from(this.selectedNodes.values())}getSelectedRows(){const e=[];return this.selectedNodes.forEach(t=>t.data&&e.push(t.data)),e}getSelectionCount(){return this.selectedNodes.size}filterFromSelection(e){const t=new Map;this.selectedNodes.forEach((n,r)=>{e(n)&&t.set(r,n)}),this.selectedNodes=t}updateGroupsFromChildrenSelections(e,t){if(!this.groupSelectsDescendants)return!1;const{gos:n,rowModel:r}=this.beans;if(!Wn(n))return!1;const o=r.rootNode;if(!o)return!1;t||(t=new qy(!0,o),t.active=!1);let a=!1;return t.forEachChangedNodeDepthFirst(l=>{if(l!==o){const d=this.calculateSelectedFromChildren(l);a=this.selectRowNode(l,d===null?!1:d,void 0,e)||a}}),a}clearOtherNodes(e,t,n){const r=new Map;let o=0;return this.selectedNodes.forEach(a=>{const l=a.id==e.id;if((t?!KSe(e,a):!0)&&!l){const f=this.selectedNodes.get(a.id);o+=this.setNodesSelected({nodes:[f],newValue:!1,clearSelection:!1,suppressFinishActions:!0,source:n}),this.groupSelectsDescendants&&a.parent&&r.set(a.parent.id,a.parent)}}),r.forEach(a=>{const l=this.calculateSelectedFromChildren(a);this.selectRowNode(a,l===null?!1:l,void 0,n)}),o}onRowSelected(e){const t=e.node;this.groupSelectsDescendants&&t.group||(t.isSelected()?this.selectedNodes.set(t.id,t):this.selectedNodes.delete(t.id))}syncInRowNode(e,t){this.syncInOldRowNode(e,t),this.syncInNewRowNode(e)}createDaemonNode(e){if(!e.id)return;const t=new Bd(this.beans);return t.id=e.id,t.data=e.data,t.__selected=e.__selected,t.level=e.level,t}syncInOldRowNode(e,t){t&&e.id!==t.id&&this.selectedNodes.get(t.id)==e&&this.selectedNodes.set(t.id,t)}syncInNewRowNode(e){this.selectedNodes.has(e.id)?(e.__selected=!0,this.selectedNodes.set(e.id,e)):e.__selected=!1}reset(e){const t=this.getSelectionCount();this.resetNodes(),t&&this.dispatchSelectionChanged(e)}resetNodes(){this.selectedNodes.forEach(e=>{this.selectRowNode(e,!1)}),this.selectedNodes.clear()}getBestCostNodeSelection(){const{gos:e,rowModel:t}=this.beans;if(!Wn(e))return;const n=t.getTopLevelNodes();if(n===null)return;const r=[];function o(a){for(let l=0,d=a.length;l<d;l++){const f=a[l];f.isSelected()?r.push(f):f.group&&f.childrenAfterGroup&&o(f.childrenAfterGroup)}}return o(n),r}isEmpty(){return this.getSelectionCount()===0}deselectAllRowNodes({source:e,selectAll:t}){const n=Wn(this.gos);let r=!1;const o=a=>{const l=this.selectRowNode(Zm(a),!1,void 0,e);r||(r=l)};if(t==="currentPage"||t==="filtered"){if(!n){Cn(102);return}this.getNodesToSelect(t).forEach(o)}else this.selectedNodes.forEach(o),this.reset(e);if(this.selectionCtx.selectAll=!1,n&&this.groupSelectsDescendants){const a=this.updateGroupsFromChildrenSelections(e);r||(r=a)}r&&this.dispatchSelectionChanged(e)}getSelectedCounts(e){let t=0,n=0;return this.getNodesToSelect(e).forEach(r=>{this.groupSelectsDescendants&&r.group||(r.isSelected()?t++:r.selectable&&n++)}),{selectedCount:t,notSelectedCount:n}}getSelectAllState(e){const{selectedCount:t,notSelectedCount:n}=this.getSelectedCounts(e);return hK(t,n)??null}hasNodesToSelect(e){return this.getNodesToSelect(e).filter(t=>t.selectable).length>0}getNodesToSelect(e){if(!this.canSelectAll())return[];const t=[],n=o=>t.push(o);if(e==="currentPage")return this.forEachNodeOnPage(o=>{if(!o.group){n(o);return}if(!o.expanded&&!o.footer){const a=l=>{n(l),l.childrenAfterFilter?.forEach(a)};a(o);return}this.groupSelectsDescendants||n(o)}),t;const r=this.beans.rowModel;return e==="filtered"?(r.forEachNodeAfterFilter(n),t):(r.forEachNode(n),t)}forEachNodeOnPage(e){const{pageBounds:t,rowModel:n}=this.beans,r=t.getFirstRow(),o=t.getLastRow();for(let a=r;a<=o;a++){const l=n.getRow(a);l&&e(l)}}selectAllRowNodes(e){const{gos:t,selectionCtx:n}=this;if(!Th(t)){ze(132);return}if(Bpe(t)&&!Gy(t)){ze(130);return}if(!this.canSelectAll())return;const{source:r,selectAll:o}=e;let a=!1;if(this.getNodesToSelect(o).forEach(l=>{const d=this.selectRowNode(Zm(l),!0,void 0,r);a||(a=d)}),n.selectAll=!0,Wn(t)&&this.groupSelectsDescendants){const l=this.updateGroupsFromChildrenSelections(r);a||(a=l)}a&&this.dispatchSelectionChanged(r)}getSelectionState(){return this.isEmpty()?null:Array.from(this.selectedNodes.keys())}setSelectionState(e,t,n){if(e||(e=[]),!Array.isArray(e)){Cn(103);return}const r=new Set(e),o=[];this.beans.rowModel.forEachNode(a=>{r.has(a.id)&&o.push(a)}),n&&this.resetNodes(),this.setNodesSelected({newValue:!0,nodes:o,source:t})}canSelectAll(){return Wn(this.beans.gos)}updateSelectable(e){const{gos:t,rowModel:n}=this.beans;if(!Th(t))return;const r="selectableChanged",o=e!==void 0,a=Wn(t)&&this.groupSelectsDescendants,l=[],d=f=>{if(o&&!f.group)return;if(a&&f.group){const v=f.childrenAfterGroup?.some(C=>C.selectable)??!1;this.setRowSelectable(f,v,!0);return}!this.updateRowSelectable(f,!0)&&f.isSelected()&&l.push(f)};if(a){if(e===void 0){const f=n.rootNode;e=f?new qy(!1,f):void 0}e?.forEachChangedNodeDepthFirst(d,!o,!o)}else n.forEachNode(d);l.length&&this.setNodesSelected({nodes:l,newValue:!1,source:r}),!o&&a&&this.updateGroupsFromChildrenSelections?.(r)}updateSelectableAfterGrouping(e){this.updateSelectable(e),this.groupSelectsDescendants&&this.updateGroupsFromChildrenSelections?.("rowGroupChanged",e)&&this.dispatchSelectionChanged("rowGroupChanged")}refreshMasterNodeState(e,t){if(!this.masterSelectsDetail)return;const n=e.detailNode?.detailGridInfo?.api;if(!n)return;const r=qSe(n);if(e.isSelected()!==r&&this.selectRowNode(e,r,t,"masterDetail")&&this.dispatchSelectionChanged("masterDetail"),!r){const a=this.detailSelection.get(e.id)??new Set;for(const l of n.getSelectedNodes())a.add(l.id);this.detailSelection.set(e.id,a)}}setDetailSelectionState(e,t,n){if(this.masterSelectsDetail){if(!Gy(t)){ze(269);return}switch(e.isSelected()){case!0:{n.selectAll();break}case!1:{n.deselectAll();break}case void 0:{const r=this.detailSelection.get(e.id);if(r){const o=[];for(const a of r){const l=n.getRowNode(a);l&&o.push(l)}n.setNodesSelected({nodes:o,newValue:!0,source:"masterDetail"})}break}}}}dispatchSelectionChanged(e){this.eventSvc.dispatchEvent({type:"selectionChanged",source:e,selectedNodes:this.getSelectedNodes(),serverSideState:null})}};function Zm(e){return D0(e)?e.pinnedSibling:e.footer?e.sibling:e}function qSe(e){let t=0,n=0;return e.forEachNode(r=>{r.isSelected()?t++:r.selectable&&n++}),hK(t,n)}function hK(e,t){if(e===0&&t===0)return!1;if(!(e>0&&t>0))return e>0}function KSe(e,t){let n=t.parent;for(;n;){if(n===e)return!0;n=n.parent}return!1}function fK(e){const t=e.isSelected()===!1,n=e.childrenAfterFilter?.some(fK)??!1;return t||n}var YSe={moduleName:"SharedRowSelection",version:Qe,beans:[FSe],apiFunctions:{setNodesSelected:LSe,selectAll:BSe,deselectAll:jSe,selectAllFiltered:zSe,deselectAllFiltered:HSe,selectAllOnCurrentPage:VSe,deselectAllOnCurrentPage:GSe,getSelectedNodes:USe,getSelectedRows:WSe}},QSe={moduleName:"RowSelection",version:Qe,rowModels:["clientSide","infinite","viewport"],beans:[$Se],dependsOn:[YSe]};function ZSe(e){e.expansionSvc?.expandAll(!0)}function XSe(e){e.expansionSvc?.expandAll(!1)}function pK(e){e.rowModel?.onRowHeightChanged()}function gK(e){if(e.rowAutoHeight?.active){ze(3);return}e.rowModel?.resetRowHeights()}function JSe(e,t,n){const r=Jxe(e);if(r){if(e.rowGroupColsSvc?.columns.length===0){if(t<0){Cn(238);return}r.setRowCount(t,n);return}Cn(28);return}vE(e)?.setRowCount(t,n)}function e_e(e){return cc(e.gos)?e.rowModel.getBlockStates():e.rowNodeBlockLoader?.getBlockState()??{}}function t_e(e){return e.rowModel.isLastRowIndexKnown()}var n_e={moduleName:"CsrmSsrmSharedApi",version:Qe,apiFunctions:{expandAll:ZSe,collapseAll:XSe}},r_e={moduleName:"RowModelSharedApi",version:Qe,apiFunctions:{onRowHeightChanged:pK,resetRowHeights:gK}},i_e={moduleName:"SsrmInfiniteSharedApi",version:Qe,apiFunctions:{setRowCount:JSe,getCacheBlockState:e_e,isLastRowIndexKnown:t_e}},o_e=class extends Pe{constructor(){super(...arguments),this.beanName="alignedGridsSvc",this.consuming=!1}getAlignedGridApis(){let e=this.gos.get("alignedGrids")??[];const t=typeof e=="function";return typeof e=="function"&&(e=e()),e.map(r=>{if(!r){Cn(18),t||Cn(20);return}if(this.isGridApi(r))return r;const o=r;return"current"in o?o.current?.api:(o.api||Cn(19),o.api)}).filter(r=>!!r&&!r.isDestroyed())}isGridApi(e){return!!e&&!!e.dispatchEvent}postConstruct(){const e=this.fireColumnEvent.bind(this);this.addManagedEventListeners({columnMoved:e,columnVisible:e,columnPinned:e,columnGroupOpened:e,columnResized:e,bodyScroll:this.fireScrollEvent.bind(this),alignedGridColumn:({event:t})=>this.onColumnEvent(t),alignedGridScroll:({event:t})=>this.onScrollEvent(t)})}fireEvent(e){if(!this.consuming)for(const t of this.getAlignedGridApis())t.isDestroyed()||t.dispatchEvent(e)}onEvent(e){this.consuming=!0,e(),this.consuming=!1}fireColumnEvent(e){this.fireEvent({type:"alignedGridColumn",event:e})}fireScrollEvent(e){e.direction==="horizontal"&&this.fireEvent({type:"alignedGridScroll",event:e})}onScrollEvent(e){this.onEvent(()=>{this.beans.ctrlsSvc.getScrollFeature().setHorizontalScrollPosition(e.left,!0)})}extractDataFromEvent(e,t){const n=[];return e.columns?e.columns.forEach(r=>{n.push(t(r))}):e.column&&n.push(t(e.column)),n}getMasterColumns(e){return this.extractDataFromEvent(e,t=>t)}getColumnIds(e){return this.extractDataFromEvent(e,t=>t.getColId())}onColumnEvent(e){this.onEvent(()=>{switch(e.type){case"columnMoved":case"columnVisible":case"columnPinned":case"columnResized":{this.processColumnEvent(e);break}case"columnGroupOpened":{this.processGroupOpenedEvent(e);break}case"columnPivotChanged":ze(21);break}})}processGroupOpenedEvent(e){const{colGroupSvc:t}=this.beans;if(t)for(const n of e.columnGroups){let r=null;n&&(r=t.getProvidedColGroup(n.getGroupId())),!(n&&!r)&&t.setColumnGroupOpened(r,n.isExpanded(),"alignedGridChanged")}}processColumnEvent(e){const t=e.column;let n=null;const r=this.beans,{colResize:o,ctrlsSvc:a,colModel:l}=r;if(t&&(n=l.getColDefCol(t.getColId())),t&&!n)return;const d=this.getMasterColumns(e);switch(e.type){case"columnMoved":{const C=e.api.getColumnState().map(y=>({colId:y.colId}));Ya(r,{state:C,applyOrder:!0},"alignedGridChanged")}break;case"columnVisible":{const C=e.api.getColumnState().map(y=>({colId:y.colId,hide:y.hide}));Ya(r,{state:C},"alignedGridChanged")}break;case"columnPinned":{const C=e.api.getColumnState().map(y=>({colId:y.colId,pinned:y.pinned}));Ya(r,{state:C},"alignedGridChanged")}break;case"columnResized":{const v=e,C={};for(const y of d)C[y.getId()]={key:y.getColId(),newWidth:y.getActualWidth()};for(const y of v.flexColumns??[])C[y.getId()]&&delete C[y.getId()];o?.setColumnWidths(Object.values(C),!1,v.finished,"alignedGridChanged");break}}const m=a.getGridBodyCtrl().isVerticalScrollShowing();for(const v of this.getAlignedGridApis())v.setGridOption("alwaysShowVerticalScroll",m)}},s_e={moduleName:"AlignedGrids",version:Qe,beans:[o_e],dependsOn:[hq]},a_e=class extends Pe{constructor(e){super(),this.rootNode=e,this.nextId=0,this.allNodesMap={},f8(e)}getRowNode(e){return this.allNodesMap[e]}setNewRowData(e){const{selectionSvc:t,pinnedRowModel:n,groupStage:r}=this.beans;t?.reset("rowDataChanged"),n?.isManual()&&n.reset(),this.dispatchRowDataUpdateStarted(e),this.allNodesMap=Object.create(null),this.nextId=0;const o=f8(this.rootNode),a=new Array(e.length);o._leafs=a;let l=0;const d=r?.getNestedDataGetter(),f=d?new Set:null,m=(v,C)=>{const y=v.level+1;for(let S=0,E=C.length;S<E;++S){const T=C[S];if(!T)continue;const P=this.createRowNode(T,y);if(P.sourceRowIndex=l,a[l++]=P,f&&!f.has(T)){f.add(T),P.treeParent=v;const N=d(T);N&&m(P,N)}}};m(o,e),a.length=l}setImmutableRowData(e,t){const{rootNode:n,gos:r}=this;this.dispatchRowDataUpdateStarted(t);const o=Db(r),a=e.changedRowNodes,{adds:l,updates:d}=a,f=new Set,m=[],v=this.beans.groupStage?.getNestedDataGetter();let C=r.get("suppressMaintainUnsortedOrder")?void 0:!1,y=-1,S=!1;const E=(N,j)=>{if(!C&&C!==void 0){const L=N.sourceRowIndex;C=L<=y,y=L}N.data!==j&&(N.updateData(j),l.has(N)||d.add(N),!N.selectable&&N.isSelected()&&m.push(N))},T=(N,j,L)=>{for(let V=0,U=j.length;V<U;++V){const $=j[V];if(!$)continue;let z=this.getRowNode(o({data:$,level:L}));if(z?(E(z,$),S||(S=!!v&&z.treeParent!==N)):(z=this.createRowNode($,L),l.add(z)),!v||f.has(z)){f.add(z);continue}f.add(z),z.treeParent=N;const K=v($);K&&T(z,K,L+1)}};T(n,t,0);const P=this.deleteUnusedNodes(f,a,m)||C||l.size>0;if(P){const N=n._leafs??(n._leafs=[]);C===void 0?h_e(N,f,a):u_e(N,f)&&(a.reordered=!0)}(P||S||d.size)&&(e.rowDataUpdated=!0,this.deselect(m))}deleteUnusedNodes(e,{removals:t},n){const r=this.rootNode._leafs;for(let o=0,a=r.length;o<a;o++){const l=r[o];e.has(l)||(t.add(l),l.isSelected()&&n.push(l),this.deleteNode(l))}return t.size>0}updateRowData(e,t){if(this.dispatchRowDataUpdateStarted(e.add),this.beans.groupStage?.getNestedDataGetter())return ze(268),{remove:[],update:[],add:[]};const n=[],r=Db(this.gos),o=this.executeRemove(r,e,t,n),a=this.executeUpdate(r,e,t,n),l=this.executeAdd(e,t);return this.deselect(n),{remove:o,update:a,add:l}}executeRemove(e,{remove:t},{adds:n,updates:r,removals:o},a){const l=this.rootNode._leafs,d=l?.length,f=t?.length;if(!f||!d)return[];let m=0,v=d,C=0,y;const S=new Array(f);for(let E=0;E<f;++E){const T=this.lookupNode(e,t[E]);if(!T)continue;const P=T.sourceRowIndex;P<v&&(v=P),P>C&&(C=P),T.isSelected()&&a.push(T),this.deleteNode(T),n.delete(T)?(y??(y=new Set),y.add(T)):(r.delete(T),o.add(T)),S[m++]=T}return S.length=m,m&&d_e(l,v,C,o,y),S}executeUpdate(e,{update:t},{adds:n,updates:r},o){const a=t?.length;if(!a)return[];const l=new Array(a);let d=0;for(let f=0;f<a;f++){const m=t[f],v=this.lookupNode(e,m);v&&(v.updateData(m),!v.selectable&&v.isSelected()&&o.push(v),l[d++]=v,n.has(v)||r.add(v))}return l.length=d,l}executeAdd(e,t){var n;const r=(n=this.rootNode)._leafs??(n._leafs=[]),o=r.length,a=e.add,l=a?.length;if(!l)return[];const d=o+l;let f=this.sanitizeAddIndex(r,e.addIndex);if(f<o){for(let C=o-1,y=d-1;C>=f;--C){const S=r[C];S.sourceRowIndex=y,r[y--]=S}t.reordered=!0}r.length=d;const m=new Array(l),v=t.adds;for(let C=0;C<l;C++){const y=this.createRowNode(a[C],0);v.add(y),y.sourceRowIndex=f,r[f]=y,m[C]=y,f++}return m}dispatchRowDataUpdateStarted(e){this.eventSvc.dispatchEvent({type:"rowDataUpdateStarted",firstRowData:e?.length?e[0]:null})}deselect(e){const t="rowDataChanged",n=this.beans.selectionSvc;e.length&&n?.setNodesSelected({newValue:!1,nodes:e,suppressFinishActions:!0,source:t}),n?.updateGroupsFromChildrenSelections?.(t),e.length&&this.eventSvc.dispatchEvent({type:"selectionChanged",source:t,selectedNodes:n?.getSelectedNodes()??null,serverSideState:null})}createRowNode(e,t){const n=new Bd(this.beans);n.parent=this.rootNode,n.level=t,n.group=!1,n.expanded=!1,n.setDataAndId(e,String(this.nextId++));const r=n.id,o=this.allNodesMap;return o[r]&&ze(2,{nodeId:r}),o[r]=n,n}deleteNode(e){e.clearRowTopAndRowIndex();const t=e.id,n=this.allNodesMap;n[t]===e&&delete n[t];const r=e.pinnedSibling;r&&this.beans.pinnedRowModel?.pinRow(r,null)}lookupNode(e,t){if(!e)return c_e(this.rootNode._leafs,t);const n=e({data:t,level:0}),r=this.allNodesMap[n];return r||(Cn(4,{id:n}),null)}sanitizeAddIndex(e,t){const n=e.length;if(typeof t!="number"||t<0||t>=n||Number.isNaN(t))return n;t=Math.ceil(t);const r=this.gos;return t>0&&r.get("treeData")&&r.get("getDataPath")&&(t=l_e(e,t)),t}},l_e=(e,t)=>{for(let n=0,r=e.length;n<r;n++)if(e[n]?.rowIndex==t-1)return n+1;return t},f8=e=>{e.group=!0,e.level=-1,e.id="ROOT_NODE_ID",e._leafs?.length!==0&&(e._leafs=[]);const t=[],n=[],r=[],o=[];e.childrenAfterGroup=t,e.childrenAfterSort=n,e.childrenAfterAggFilter=r,e.childrenAfterFilter=o;const a=e.sibling;return a&&(a.childrenAfterGroup=t,a.childrenAfterSort=n,a.childrenAfterAggFilter=r,a.childrenAfterFilter=o,a.childrenMapped=e.childrenMapped),e.updateHasChildren(),e},c_e=(e,t)=>{if(e)for(let n=0,r=e.length;n<r;n++){const o=e[n];if(o.data===t)return o}return Cn(5,{data:t}),null},d_e=(e,t,n,r,o)=>{t=Math.max(0,t);for(let a=t,l=e.length;a<l;++a){const d=e[a];a<=n&&(r.has(d)||o?.has(d))||(d.sourceRowIndex=t,e[t++]=d)}e.length=t},u_e=(e,t)=>{const n=t.size;e.length=n;let r=0,o=!1,a=!1;for(const l of t){const d=l.sourceRowIndex;d===r?a||(a=o):(d>=0?a=!0:o=!0,l.sourceRowIndex=r,e[r]=l),++r}return a},h_e=(e,t,{removals:n,adds:r})=>{const o=e.length;e.length=t.size;let a=0;for(let l=0;l<o;++l){const d=e[l];n.has(d)||(a!==l&&(d.sourceRowIndex=a,e[a]=d),++a)}for(const l of r)l.sourceRowIndex<0&&(l.sourceRowIndex=a,e[a++]=l);e.length=a},mK=e=>{const t=e.childrenAfterSort,n=e.sibling;if(n&&(n.childrenAfterSort=t),!!t)for(let r=0,o=t.length-1;r<=o;r++){const a=t[r],l=r===0,d=r===o;a.firstChild!==l&&(a.firstChild=l,a.dispatchRowEvent("firstChildChanged")),a.lastChild!==d&&(a.lastChild=d,a.dispatchRowEvent("lastChildChanged")),a.childIndex!==r&&(a.childIndex=r,a.dispatchRowEvent("childIndexChanged"))}},f_e=class extends Pe{constructor(){super(...arguments),this.beanName="sortStage",this.step="sort",this.refreshProps=["postSortRows","groupDisplayType","accentedSort"]}execute(e){const t=this.beans.sortSvc.getSortOptions(),n=t.length>0&&!!e.changedRowNodes&&this.gos.get("deltaSort");this.sort(t,n,e.changedRowNodes,e.changedPath)}sort(e,t,n,r){const{gos:o,colModel:a,rowGroupColsSvc:l,rowNodeSorter:d,rowRenderer:f,showRowGroupCols:m}=this.beans,v=o.get("groupMaintainOrder"),C=a.getCols().some(j=>j.isRowGroupActive()),y=l?.columns,S=a.isPivotMode(),E=o.getCallback("postSortRows");let T=!1,P;const N=j=>{const L=S&&j.leafGroup;let V=v&&C&&!j.leafGroup;V&&(P??(P=this.shouldSortContainsGroupCols(e)),V&&(V=!P));let U=null;if(V){let $=!1;if(y){const z=j.level+1;z<y.length&&($=y[z].getSort()===null)}$||(U=m_e(j))}else!e.length||L||(t&&n?U=p_e(d,j,n,r,e):U=d.doFullSort(j.childrenAfterAggFilter,e));if(U||(U=j.childrenAfterAggFilter?.slice(0)??[]),T||(T=j.childrenAfterSort?.[0]!==U[0]),j.childrenAfterSort=U,mK(j),E){const $={nodes:j.childrenAfterSort};E($)}};if(r?.forEachChangedNodeDepthFirst(N),T&&o.get("groupHideOpenParents")){const j=m?.getShowRowGroupCols();j?.length&&f.refreshCells({columns:j,force:!0})}}shouldSortContainsGroupCols(e){const t=e.length;if(!t)return!1;if(Ql(this.gos)){for(let n=0;n<t;++n){const r=e[n].column;if(r.isPrimary()&&r.isRowGroupActive())return!0}return!1}for(let n=0;n<t;++n)if(e[n].column.getColDef().showRowGroup)return!0;return!1}},p_e=(e,t,n,r,o)=>{const a=t.childrenAfterAggFilter,l=t.childrenAfterSort;if(!l)return e.doFullSort(a,o);const d=new Set,f=[],{updates:m,adds:v}=n;for(let y=0,S=a.length;y<S;++y){const E=a[y];m.has(E)||v.has(E)||r&&!r.canSkip(E)?f.push({currentPos:f.length,rowNode:E}):d.add(E)}const C=l.filter(y=>d.has(y)).map((y,S)=>({currentPos:S,rowNode:y}));return f.sort((y,S)=>e.compareRowNodes(o,y,S)),g_e(e,o,f,C)},g_e=(e,t,n,r)=>{let o=0,a=0;const l=n.length,d=r.length,f=new Array(l+d);let m=0;for(;o<l&&a<d;){const v=n[o],C=r[a];e.compareRowNodes(t,v,C)<0?(f[m++]=v.rowNode,++o):(f[m++]=C.rowNode,++a)}for(;o<l;)f[m++]=n[o++].rowNode;for(;a<d;)f[m++]=r[a++].rowNode;return f},m_e=e=>{const t=e.childrenAfterSort,n=e.childrenAfterAggFilter,r=t?.length,o=n?.length;if(!r||!o)return null;const a=new Array(o),l=new Set;for(let f=0;f<o;++f)l.add(n[f]);let d=0;for(let f=0;f<r;++f){const m=t[f];l.delete(m)&&(a[d++]=m)}if(l.size===0&&d===r)return t;for(const f of l)a[d++]=f;return a.length=d,a},b_e=class extends Pe{constructor(){super(...arguments),this.beanName="rowModel",this.rootNode=null,this.rowCountReady=!1,this.nodeManager=void 0,this.rowsToDisplay=[],this.rowDataUpdatedPending=!1,this.asyncTransactions=null,this.asyncTransactionsTimer=0,this.started=!1,this.refreshingModel=!1,this.rowNodesCountReady=!1,this.stages=[],this.stagesRefreshProps=new Map,this.onRowHeightChanged_debounced=Ci(this,this.onRowHeightChanged.bind(this),100)}postConstruct(){const e=this.beans,t=new Bd(e);this.rootNode=t,this.nodeManager=this.createBean(new a_e(t));const n=this.refreshModel.bind(this,{step:"group"}),r=this.refreshModel.bind(this,{step:"group",afterColumnsChanged:!0,keepRenderedRows:!0,animate:!this.gos.get("suppressAnimationFrame")});this.addManagedEventListeners({newColumnsLoaded:r,columnRowGroupChanged:n,columnValueChanged:this.onValueChanged.bind(this),columnPivotChanged:this.refreshModel.bind(this,{step:"pivot"}),filterChanged:this.onFilterChanged.bind(this),sortChanged:this.onSortChanged.bind(this),columnPivotModeChanged:n,gridStylesChanged:this.onGridStylesChanges.bind(this),gridReady:this.onGridReady.bind(this),rowExpansionStateChanged:this.onRowGroupOpened.bind(this)}),this.addPropertyListeners()}addPropertyListeners(){const{beans:e,stagesRefreshProps:t}=this,n=[e.groupStage,e.filterStage,e.pivotStage,e.aggStage,e.sortStage,e.filterAggStage,e.flattenStage].filter(r=>!!r);this.stages=n;for(let r=n.length-1;r>=0;--r)for(const o of n[r].refreshProps)t.set(o,r);this.addManagedPropertyListeners([...t.keys()],r=>{const o=r.changeSet?.properties;o&&this.onPropChange(o)}),this.addManagedPropertyListener("rowData",()=>this.onPropChange(["rowData"])),this.addManagedPropertyListener("rowHeight",()=>this.resetRowHeights())}start(){this.started=!0,this.rowNodesCountReady?this.refreshModel({step:"group",rowDataUpdated:!0,newData:!0}):this.setInitialData()}setInitialData(){this.gos.get("rowData")&&this.onPropChange(["rowData"])}ensureRowHeightsValid(e,t,n,r){let o,a=!1;do{o=!1;const l=this.getRowIndexAtPixel(e),d=this.getRowIndexAtPixel(t),f=Math.max(l,n),m=Math.min(d,r);for(let v=f;v<=m;v++){const C=this.getRow(v);if(C.rowHeightEstimated){const y=Fd(this.beans,C);C.setRowHeight(y.height),o=!0,a=!0}}o&&this.setRowTopAndRowIndex()}while(o);return a}onPropChange(e){const{nodeManager:t,gos:n,beans:r}=this,o=r.groupStage;if(!t)return;const a=new Set(e),l=o?.onPropChange(a);let d;a.has("rowData")?d=n.get("rowData"):l&&(d=o?.extractData()),d&&!Array.isArray(d)&&(d=null,ze(1));const f={step:"nothing",changedProps:a};d&&(!l&&!this.isEmpty()&&d.length>0&&n.exists("getRowId")&&!n.get("resetRowDataOnUpdate")?(f.keepRenderedRows=!0,f.animate=!n.get("suppressAnimationFrame"),f.changedRowNodes=new X1,t.setImmutableRowData(f,d)):(f.rowDataUpdated=!0,f.newData=!0,t.setNewRowData(d),this.rowNodesCountReady=!0));const m=f.rowDataUpdated?"group":this.getRefreshedStage(e);m&&(f.step=m,this.refreshModel(f))}getRefreshedStage(e){const{stages:t,stagesRefreshProps:n}=this,r=t.length;let o=r;for(let a=0,l=e.length;a<l&&o;++a)o=Math.min(o,n.get(e[a])??o);return o<r?t[o].step:null}setRowTopAndRowIndex(e){const{beans:t,rowsToDisplay:n}=this,r=t.environment.getDefaultRowHeight();let o=0;const a=xi(this.gos,"normal");for(let l=0,d=n.length;l<d;++l){const f=n[l],m=f.id;if(m!=null&&e?.add(m),f.rowHeight==null){const v=Fd(t,f,a,r);f.setRowHeight(v.height,v.estimated)}f.setRowTop(o),f.setRowIndex(l),o+=f.rowHeight}}clearRowTopAndRowIndex(e,t){const n=e.active,r=l=>{l?.id!=null&&!t.has(l.id)&&l.clearRowTopAndRowIndex()},o=l=>{r(l),r(l.detailNode),r(l.sibling);const d=l.childrenAfterGroup;if(!l.hasChildren()||!d)return;const f=l.level==-1;if(!(n&&!f&&!l.expanded))for(let v=0,C=d.length;v<C;++v)o(d[v])},a=this.rootNode;a&&o(a)}isLastRowIndexKnown(){return!0}getRowCount(){return this.rowsToDisplay.length}getTopLevelRowCount(){const{rootNode:e,rowsToDisplay:t}=this;if(!e||!t.length)return 0;if(t[0]===e)return 1;const r=e.sibling?.displayed?1:0;return(e.childrenAfterSort?.length??0)+r}getTopLevelRowDisplayedIndex(e){const{beans:t,rootNode:n,rowsToDisplay:r}=this;if(!n||!r.length||r[0]===n)return e;const a=n.childrenAfterSort,l=f=>{let m=a[f];if(this.gos.get("groupHideOpenParents"))for(;m.expanded&&m.childrenAfterSort&&m.childrenAfterSort.length>0;)m=m.childrenAfterSort[0];return m.rowIndex},d=t.footerSvc;return d?d?.getTopDisplayIndex(r,e,a,l):l(e)}getTopLevelIndexFromDisplayedIndex(e){const{rootNode:t,rowsToDisplay:n}=this;if(!t||!n.length||n[0]===t)return e;let o=this.getRow(e);o.footer&&(o=o.sibling);let a=o.parent;for(;a&&a!==t;)o=a,a=o.parent;const l=t.childrenAfterSort?.indexOf(o)??-1;return l>=0?l:e}getRowBounds(e){const t=this.rowsToDisplay[e];return t?{rowTop:t.rowTop,rowHeight:t.rowHeight}:null}onRowGroupOpened(){this.refreshModel({step:"map",keepRenderedRows:!0,animate:pb(this.gos)})}onFilterChanged({afterDataChange:e,columns:t}){if(!e){const r=t.length===0||t.some(o=>o.isPrimary())?"filter":"filter_aggregates";this.refreshModel({step:r,keepRenderedRows:!0,animate:pb(this.gos)})}}onSortChanged(){this.refreshModel({step:"sort",keepRenderedRows:!0,animate:pb(this.gos)})}getType(){return"clientSide"}onValueChanged(){this.refreshModel({step:this.beans.colModel.isPivotActive()?"pivot":"aggregate"})}createChangePath(e){const t=new qy(!1,this.rootNode);return t.active=e,t}isSuppressModelUpdateAfterUpdateTransaction(e){if(!this.gos.get("suppressModelUpdateAfterUpdateTransaction"))return!1;const{changedRowNodes:t,newData:n,rowDataUpdated:r}=e;return!(!t||n||!r||t.removals.size||t.adds.size)}refreshModel(e){const{nodeManager:t,beans:n,eventSvc:r,started:o,refreshingModel:a}=this;if(!t)return;const l=!!e.rowDataUpdated,d=e.changedPath??(e.changedPath=this.createChangePath(!e.newData&&l));if(o&&l&&r.dispatchEvent({type:"rowDataUpdated"}),!o||a||n.colModel.changeEventsDispatching||this.isSuppressModelUpdateAfterUpdateTransaction(e)){this.rowDataUpdatedPending||(this.rowDataUpdatedPending=l);return}switch(this.rowDataUpdatedPending&&(this.rowDataUpdatedPending=!1,e.step="group"),this.refreshingModel=!0,n.masterDetailSvc?.refreshModel(e),l&&e.step!=="group"&&n.colFilter?.refreshModel(),e.step){case"group":this.doGrouping(e);case"filter":this.doFilter(d);case"pivot":this.doPivot(d);case"aggregate":this.doAggregate(d);case"filter_aggregates":this.doFilterAggregates(d);case"sort":this.doSort(e.changedRowNodes,d);case"map":this.doRowsToDisplay()}const f=new Set;this.setRowTopAndRowIndex(f),this.clearRowTopAndRowIndex(d,f),this.refreshingModel=!1,r.dispatchEvent({type:"modelUpdated",animate:e.animate,keepRenderedRows:e.keepRenderedRows,newData:e.newData,newPage:!1,keepUndoRedoStack:e.keepUndoRedoStack})}isEmpty(){return!this.rootNode?._leafs?.length||!this.beans.colModel?.ready}isRowsToRender(){return this.rowsToDisplay.length>0}getNodesInRangeForSelection(e,t){let n=!1,r=!1;const o=[],a=Uy(this.gos);return this.forEachNodeAfterFilterAndSort(l=>{if(r)return;if(n&&(l===t||l===e)&&(r=!0,a&&l.group)){bK(o,l);return}if(!n){if(l!==t&&l!==e)return;n=!0,t===e&&(r=!0)}(!l.group||!a)&&o.push(l)}),o}getTopLevelNodes(){return this.rootNode?.childrenAfterGroup??null}getRow(e){return this.rowsToDisplay[e]}isRowPresent(e){return this.rowsToDisplay.indexOf(e)>=0}getRowIndexAtPixel(e){const t=this.rowsToDisplay,n=t.length;if(this.isEmpty()||n===0)return-1;let r=0,o=n-1;if(e<=0)return 0;if(t[o].rowTop<=e)return o;let l=-1,d=-1;for(;;){const f=Math.floor((r+o)/2),m=t[f];if(this.isRowInPixel(m,e)||(m.rowTop<e?r=f+1:m.rowTop>e&&(o=f-1),l===r&&d===o))return f;l=r,d=o}}isRowInPixel(e,t){const n=e.rowTop,r=n+e.rowHeight;return n<=t&&r>t}forEachLeafNode(e){const t=this.rootNode?._leafs;if(t)for(let n=0,r=t.length;n<r;++n)e(t[n],n)}forEachNode(e,t=!1){this.depthFirstSearchRowNodes(e,t)}forEachDisplayedNode(e){const t=this.rowsToDisplay;for(let n=0,r=t.length;n<r;++n)e(t[n],n)}forEachNodeAfterFilter(e,t=!1){this.depthFirstSearchRowNodes(e,t,n=>n.childrenAfterAggFilter)}forEachNodeAfterFilterAndSort(e,t=!1){this.depthFirstSearchRowNodes(e,t,n=>n.childrenAfterSort)}forEachPivotNode(e,t,n){const{colModel:r,rowGroupColsSvc:o}=this.beans;if(!r.isPivotMode())return;if(!o?.columns.length){e(this.rootNode,0);return}const a=n?"childrenAfterSort":"childrenAfterGroup";this.depthFirstSearchRowNodes(e,t,l=>l.leafGroup?null:l[a])}depthFirstSearchRowNodes(e,t=!1,n=a=>a.childrenAfterGroup,r=this.rootNode,o=0){let a=o;if(!r)return a;const l=r===this.rootNode;if(l||e(r,a++),r.hasChildren()&&!r.footer){const d=n(r);if(d){const f=this.beans.footerSvc;a=f?.addTotalRows(a,r,e,t,l,"top")??a;for(const m of d)a=this.depthFirstSearchRowNodes(e,t,n,m,a);return f?.addTotalRows(a,r,e,t,l,"bottom")??a}}return a}doAggregate(e){const t=this.rootNode;t&&this.beans.aggStage?.execute({rowNode:t,changedPath:e})}doFilterAggregates(e){const t=this.rootNode,n=this.beans.filterAggStage;if(n){n.execute({rowNode:t,changedPath:e});return}t.childrenAfterAggFilter=t.childrenAfterFilter}doSort(e,t){const n=this.beans.sortStage;if(n){n.execute({rowNode:this.rootNode,changedRowNodes:e,changedPath:t});return}t.forEachChangedNodeDepthFirst(r=>{r.childrenAfterSort=r.childrenAfterAggFilter.slice(0),mK(r)})}doGrouping(e){const t=this.rootNode,r=this.beans.groupStage?.execute({rowNode:t,changedRowNodes:e.changedRowNodes,changedPath:e.changedPath,afterColumnsChanged:!!e.afterColumnsChanged});if(r===void 0){const o=t._leafs;t.childrenAfterGroup=o,t.updateHasChildren();const a=t.sibling;a&&(a.childrenAfterGroup=o)}(r||e.rowDataUpdated)&&this.beans.colFilter?.refreshModel(),!this.rowCountReady&&this.rowNodesCountReady&&(this.rowCountReady=!0,this.eventSvc.dispatchEventOnce({type:"rowCountReady"}))}doFilter(e){const t=this.beans.filterStage;if(t){t.execute({rowNode:this.rootNode,changedPath:e});return}e.forEachChangedNodeDepthFirst(n=>{n.childrenAfterFilter=n.childrenAfterGroup,Vq(n)},!0)}doPivot(e){this.beans.pivotStage?.execute({rowNode:this.rootNode,changedPath:e})}getRowNode(e){const t=this.nodeManager?.getRowNode(e);return typeof t=="object"?t:typeof e=="string"&&e.indexOf(FP)===0?this.beans.groupStage?.getNode(e):void 0}batchUpdateRowData(e,t){if(!this.asyncTransactionsTimer){this.asyncTransactions=[];const n=this.gos.get("asyncTransactionWaitMillis");this.asyncTransactionsTimer=setTimeout(()=>this.executeBatchUpdateRowData(),n)}this.asyncTransactions.push({rowDataTransaction:e,callback:t})}flushAsyncTransactions(){const e=this.asyncTransactionsTimer;e&&(clearTimeout(e),this.executeBatchUpdateRowData())}executeBatchUpdateRowData(){const{nodeManager:e,beans:t,eventSvc:n,asyncTransactions:r}=this;if(!e)return;t.valueCache?.onDataChanged();const o=[],a=[],l=new X1;for(const{rowDataTransaction:d,callback:f}of r??[]){this.rowNodesCountReady=!0;const m=e.updateRowData(d,l);o.push(m),f&&a.push(f.bind(null,m))}this.commitTransactions(l),a.length>0&&setTimeout(()=>{for(let d=0,f=a.length;d<f;d++)a[d]()},0),o.length>0&&n.dispatchEvent({type:"asyncTransactionsFlushed",results:o}),this.asyncTransactionsTimer=0,this.asyncTransactions=null}updateRowData(e){const t=this.nodeManager;if(!t)return null;this.beans.valueCache?.onDataChanged(),this.rowNodesCountReady=!0;const n=new X1,r=t.updateRowData(e,n);return this.commitTransactions(n),r}commitTransactions(e){this.refreshModel({step:"group",rowDataUpdated:!0,keepRenderedRows:!0,animate:!this.gos.get("suppressAnimationFrame"),changedRowNodes:e,changedPath:this.createChangePath(!0)})}doRowsToDisplay(){const{beans:e,rootNode:t}=this,n=e.flattenStage;if(n){this.rowsToDisplay=n.execute({rowNode:t});return}const r=this.rootNode.childrenAfterSort??[];for(const o of r)o.setUiLevel(0);this.rowsToDisplay=r}onRowHeightChanged(){this.refreshModel({step:"map",keepRenderedRows:!0,keepUndoRedoStack:!0})}resetRowHeights(){const e=this.rootNode;if(!e)return;const t=this.resetRowHeightsForAllRowNodes();e.setRowHeight(e.rowHeight,!0);const n=e.sibling;n?.setRowHeight(n.rowHeight,!0),t&&this.onRowHeightChanged()}resetRowHeightsForAllRowNodes(){let e=!1;return this.forEachNode(t=>{t.setRowHeight(t.rowHeight,!0);const n=t.detailNode;n?.setRowHeight(n.rowHeight,!0);const r=t.sibling;r?.setRowHeight(r.rowHeight,!0),e=!0}),e}onGridStylesChanges(e){e.rowHeightChanged&&!this.beans.rowAutoHeight?.active&&this.resetRowHeights()}onGridReady(){this.started||this.setInitialData()}destroy(){super.destroy(),this.nodeManager=this.destroyBean(this.nodeManager),this.started=!1,this.rootNode=null,this.rowsToDisplay=[],this.asyncTransactions=null,clearTimeout(this.asyncTransactionsTimer)}onRowHeightChangedDebounced(){this.onRowHeightChanged_debounced()}},bK=(e,t)=>{const n=t.childrenAfterGroup;if(n)for(let r=0,o=n.length;r<o;++r){const a=n[r];a.data&&e.push(a),a.group&&bK(e,a)}};function v_e(e){e.expansionSvc?.onGroupExpandedOrCollapsed()}function w_e(e,t){const n=Jd(e);n&&((!t||t==="everything")&&(t="group"),n.refreshModel({step:t,keepRenderedRows:!0,animate:!e.gos.get("suppressAnimationFrame")}))}function C_e(e){return Jd(e)?.isEmpty()??!0}function y_e(e,t){Jd(e)?.forEachLeafNode(t)}function k_e(e,t){Jd(e)?.forEachNodeAfterFilter(t)}function x_e(e,t){Jd(e)?.forEachNodeAfterFilterAndSort(t)}function A_e(e,t){return e.frameworkOverrides.wrapIncoming(()=>Jd(e)?.updateRowData(t))}function S_e(e,t,n){e.frameworkOverrides.wrapIncoming(()=>Jd(e)?.batchUpdateRowData(t,n))}function __e(e){e.frameworkOverrides.wrapIncoming(()=>Jd(e)?.flushAsyncTransactions())}function E_e(e){return e.selectionSvc?.getBestCostNodeSelection()}var D_e={moduleName:"ClientSideRowModel",version:Qe,rowModels:["clientSide"],beans:[b_e,f_e],dependsOn:[Lq]},M_e={moduleName:"ClientSideRowModelApi",version:Qe,apiFunctions:{onGroupExpandedOrCollapsed:v_e,refreshClientSideRowModel:w_e,isRowDataEmpty:C_e,forEachLeafNode:y_e,forEachNodeAfterFilter:k_e,forEachNodeAfterFilterAndSort:x_e,applyTransaction:A_e,applyTransactionAsync:S_e,flushAsyncTransactions:__e,getBestCostNodeSelection:E_e,resetRowHeights:gK,onRowHeightChanged:pK},dependsOn:[n_e,r_e]},T_e=class extends Pe{constructor(){super(...arguments),this.beanName="gridSerializer"}wireBeans(e){this.visibleCols=e.visibleCols,this.colModel=e.colModel,this.rowModel=e.rowModel,this.pinnedRowModel=e.pinnedRowModel}serialize(e,t={}){const{allColumns:n,columnKeys:r,skipRowGroups:o,exportRowNumbers:a}=t,l=this.getColumnsToExport({allColumns:n,skipRowGroups:o,columnKeys:r,exportRowNumbers:a});return[this.prepareSession(l),this.prependContent(t),this.exportColumnGroups(t,l),this.exportHeaders(t,l),this.processPinnedTopRows(t,l),this.processRows(t,l),this.processPinnedBottomRows(t,l),this.appendContent(t)].reduce((d,f)=>f(d),e).parse()}processRow(e,t,n,r){const o=t.shouldRowBeSkipped||(()=>!1),l=t.rowPositions!=null||!!t.onlySelected,d=this.gos.get("groupHideOpenParents")&&!l,f=this.colModel.isPivotMode()?r.leafGroup:!r.group,m=!!r.footer,v=r.allChildrenCount===1&&r.childrenAfterGroup?.length===1&&Fpe(this.gos,r);if(!f&&!m&&(t.skipRowGroups||v||d)||t.onlySelected&&!r.isSelected()||t.skipPinnedTop&&r.rowPinned==="top"||t.skipPinnedBottom&&r.rowPinned==="bottom"||r.stub||r.level===-1&&!f&&!m||o(ht(this.gos,{node:r})))return;const S=e.onNewBodyRow(r);if(n.forEach((E,T)=>{S.onColumn(E,T,r)}),t.getCustomContentBelowRow){const E=t.getCustomContentBelowRow(ht(this.gos,{node:r}));E&&e.addCustomContent(E)}}appendContent(e){return t=>{const n=e.appendContent;return n&&t.addCustomContent(n),t}}prependContent(e){return t=>{const n=e.prependContent;return n&&t.addCustomContent(n),t}}prepareSession(e){return t=>(t.prepare(e),t)}exportColumnGroups(e,t){return n=>{if(!e.skipColumnGroupHeaders){const r=new QW,{colGroupSvc:o}=this.beans,a=o?o.createColumnGroups({columns:t,idCreator:r,pinned:null,isStandaloneStructure:!0}):t;this.recursivelyAddHeaderGroups(a,n,e.processGroupHeaderCallback)}return n}}exportHeaders(e,t){return n=>{if(!e.skipColumnHeaders){const r=n.onNewHeaderRow();t.forEach((o,a)=>{r.onColumn(o,a,void 0)})}return n}}processPinnedTopRows(e,t){return n=>{const r=this.processRow.bind(this,n,e,t);return e.rowPositions?e.rowPositions.filter(o=>o.rowPinned==="top").sort((o,a)=>o.rowIndex-a.rowIndex).map(o=>this.pinnedRowModel?.getPinnedTopRow(o.rowIndex)).forEach(r):this.pinnedRowModel?.isManual()||this.pinnedRowModel?.forEachPinnedRow("top",r),n}}processRows(e,t){return n=>{const r=this.rowModel,o=Wn(this.gos),a=cc(this.gos),l=!o&&e.onlySelected,d=this.processRow.bind(this,n,e,t),{exportedRows:f="filteredAndSorted"}=e;if(e.rowPositions)e.rowPositions.filter(m=>m.rowPinned==null).sort((m,v)=>m.rowIndex-v.rowIndex).map(m=>r.getRow(m.rowIndex)).forEach(d);else if(this.colModel.isPivotMode())o?r.forEachPivotNode(d,!0,f==="filteredAndSorted"):a?r.forEachNodeAfterFilterAndSort(d,!0):r.forEachNode(d);else if(e.onlySelectedAllPages||l){const m=this.beans.selectionSvc?.getSelectedNodes()??[];this.replicateSortedOrder(m),m.forEach(d)}else f==="all"?r.forEachNode(d):o||a?r.forEachNodeAfterFilterAndSort(d,!0):r.forEachNode(d);return n}}replicateSortedOrder(e){const{sortSvc:t,rowNodeSorter:n}=this.beans;if(!t||!n)return;const r=t.getSortOptions(),o=(a,l)=>a.rowIndex!=null&&l.rowIndex!=null?a.rowIndex-l.rowIndex:a.level===l.level?a.parent?.id===l.parent?.id?n.compareRowNodes(r,{rowNode:a,currentPos:a.rowIndex??-1},{rowNode:l,currentPos:l.rowIndex??-1}):o(a.parent,l.parent):a.level>l.level?o(a.parent,l):o(a,l.parent);e.sort(o)}processPinnedBottomRows(e,t){return n=>{const r=this.processRow.bind(this,n,e,t);return e.rowPositions?e.rowPositions.filter(o=>o.rowPinned==="bottom").sort((o,a)=>o.rowIndex-a.rowIndex).map(o=>this.pinnedRowModel?.getPinnedBottomRow(o.rowIndex)).forEach(r):this.pinnedRowModel?.isManual()||this.pinnedRowModel?.forEachPinnedRow("bottom",r),n}}getColumnsToExport(e){const{allColumns:t=!1,skipRowGroups:n=!1,exportRowNumbers:r=!1,columnKeys:o}=e,{colModel:a,gos:l,visibleCols:d}=this,f=a.isPivotMode(),m=y=>Xd(y)?!1:!Ad(y)||r;if(o?.length)return a.getColsForKeys(o).filter(m);const v=l.get("treeData");let C=[];return t&&!f?C=a.getCols():C=d.allCols,C=C.filter(y=>m(y)&&(n&&!v?!IN(y):!0)),C}recursivelyAddHeaderGroups(e,t,n){const r=[];for(const o of e){const a=o;if(a.getChildren)for(const l of a.getChildren()??[])r.push(l)}e.length>0&&Er(e[0])&&this.doAddHeaderHeader(t,e,n),r&&r.length>0&&this.recursivelyAddHeaderGroups(r,t,n)}doAddHeaderHeader(e,t,n){const r=e.onNewHeaderGroupingRow();let o=0;for(const a of t){const l=a;let d;n?d=n(ht(this.gos,{columnGroup:l})):d=this.beans.colNames.getDisplayNameForColumnGroup(l,"header");const m=(l.isExpandable()?l.getLeafColumns():[]).reduce((v,C,y,S)=>{let E=Tn(v);return C.getColumnGroupShow()==="open"?(!E||E[1]!=null)&&(E=[y],v.push(E)):E&&E[1]==null&&(E[1]=y-1),y===S.length-1&&E&&E[1]==null&&(E[1]=y),v},[]);r.onColumn(l,d||"",o++,l.getLeafColumns().length-1,m)}}},R_e={moduleName:"SharedExport",version:Qe,beans:[T_e]},p8=`\r
`,P_e=class extends sAe{constructor(e){super(e),this.config=e,this.isFirstLine=!0,this.result="";const{suppressQuotes:t,columnSeparator:n}=e;this.suppressQuotes=t,this.columnSeparator=n}addCustomContent(e){e&&(typeof e=="string"?(/^\s*\n/.test(e)||this.beginNewLine(),e=e.replace(/\r?\n/g,p8),this.result+=e):e.forEach(t=>{this.beginNewLine(),t.forEach((n,r)=>{r!==0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(n.data.value||""),n.mergeAcross&&this.appendEmptyCells(n.mergeAcross)})}))}onNewHeaderGroupingRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}}onNewHeaderGroupingRowColumn(e,t,n,r){n!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(t),this.appendEmptyCells(r)}appendEmptyCells(e){for(let t=1;t<=e;t++)this.result+=this.columnSeparator+this.putInQuotes("")}onNewHeaderRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}}onNewHeaderRowColumn(e,t){t!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(e))}onNewBodyRow(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}}onNewBodyRowColumn(e,t,n){t!=0&&(this.result+=this.columnSeparator);const r=this.extractRowCellValue(e,t,t,"csv",n);this.result+=this.putInQuotes(r.valueFormatted??r.value)}putInQuotes(e){if(this.suppressQuotes)return e;if(e==null)return'""';let t;return typeof e=="string"?t=e:typeof e.toString=="function"?t=e.toString():(ze(53),t=""),'"'+t.replace(/"/g,'""')+'"'}parse(){return this.result}beginNewLine(){this.isFirstLine||(this.result+=p8),this.isFirstLine=!1}},I_e=class extends oAe{constructor(){super(...arguments),this.beanName="csvCreator"}wireBeans(e){this.colModel=e.colModel,this.colNames=e.colNames,this.rowGroupColsSvc=e.rowGroupColsSvc,this.valueSvc=e.valueSvc}getMergedParams(e){const t=this.gos.get("defaultCsvExportParams");return Object.assign({},t,e)}export(e){if(this.isExportSuppressed()){ze(51);return}const t=this.getMergedParams(e),n=this.getData(t),r=new Blob(["\uFEFF",n],{type:"text/plain"}),o=typeof t.fileName=="function"?t.fileName(ht(this.gos,{})):t.fileName;aAe(this.getFileName(o),r)}exportDataAsCsv(e){this.export(e)}getDataAsCsv(e,t=!1){const n=t?Object.assign({},e):this.getMergedParams(e);return this.getData(n)}getDefaultFileExtension(){return"csv"}createSerializingSession(e){const{colModel:t,colNames:n,rowGroupColsSvc:r,valueSvc:o,gos:a}=this,{processCellCallback:l,processHeaderCallback:d,processGroupHeaderCallback:f,processRowGroupCallback:m,suppressQuotes:v,columnSeparator:C}=e;return new P_e({colModel:t,colNames:n,valueSvc:o,gos:a,processCellCallback:l||void 0,processHeaderCallback:d||void 0,processGroupHeaderCallback:f||void 0,processRowGroupCallback:m||void 0,suppressQuotes:v||!1,columnSeparator:C||",",rowGroupColsSvc:r})}isExportSuppressed(){return this.gos.get("suppressCsvExport")}};function N_e(e,t){return e.csvCreator?.getDataAsCsv(t)}function O_e(e,t){e.csvCreator?.exportDataAsCsv(t)}var F_e={moduleName:"CsvExport",version:Qe,beans:[I_e],apiFunctions:{getDataAsCsv:N_e,exportDataAsCsv:O_e},dependsOn:[R_e]},L_e=class extends Pe{constructor(e,t,n){super(),this.id=e,this.parentCache=t,this.params=n,this.state="needsLoading",this.version=0,this.startRow=e*n.blockSize,this.endRow=this.startRow+n.blockSize}load(){this.state="loading",this.loadFromDatasource()}setStateWaitingToLoad(){this.version++,this.state="needsLoading"}pageLoadFailed(e){this.isRequestMostRecentAndLive(e)&&(this.state="failed"),this.dispatchLocalEvent({type:"loadComplete"})}pageLoaded(e,t,n){this.successCommon(e,{rowData:t,rowCount:n})}isRequestMostRecentAndLive(e){const t=e===this.version,n=this.isAlive();return t&&n}successCommon(e,t){this.dispatchLocalEvent({type:"loadComplete"}),this.isRequestMostRecentAndLive(e)&&(this.state="loaded",this.processServerResult(t))}postConstruct(){this.rowNodes=[];const{params:{blockSize:e,rowHeight:t},startRow:n,beans:r,rowNodes:o}=this;for(let a=0;a<e;a++){const l=n+a,d=new Bd(r);d.setRowHeight(t),d.uiLevel=0,d.setRowIndex(l),d.setRowTop(t*l),o.push(d)}}getBlockStateJson(){const{id:e,startRow:t,endRow:n,state:r}=this;return{id:""+e,state:{blockNumber:e,startRow:t,endRow:n,pageStatus:r}}}setDataAndId(e,t,n){Ye(t)?e.setDataAndId(t,n.toString()):e.setDataAndId(void 0,void 0)}loadFromDatasource(){const e=this.createLoadParams();if(zn(this.params.datasource.getRows)){ze(90);return}window.setTimeout(()=>{this.params.datasource.getRows(e)},0)}createLoadParams(){const{startRow:e,endRow:t,version:n,params:{sortModel:r,filterModel:o},gos:a}=this;return{startRow:e,endRow:t,successCallback:this.pageLoaded.bind(this,n),failCallback:this.pageLoadFailed.bind(this,n),sortModel:r,filterModel:o,context:ht(a,{}).context}}forEachNode(e,t,n){this.rowNodes.forEach((r,o)=>{this.startRow+o<n&&e(r,t.value++)})}getRow(e,t=!1){t||(this.lastAccessed=this.params.lastAccessedSequence.value++);const n=e-this.startRow;return this.rowNodes[n]}processServerResult(e){const{rowNodes:t,beans:n}=this;t.forEach((o,a)=>{const l=e.rowData?e.rowData[a]:void 0;!o.id&&o.alreadyRendered&&l&&(t[a]=new Bd(n),t[a].setRowIndex(o.rowIndex),t[a].setRowTop(o.rowTop),t[a].setRowHeight(o.rowHeight),o.clearRowTopAndRowIndex()),this.setDataAndId(t[a],l,this.startRow+a)});const r=e.rowCount!=null&&e.rowCount>=0?e.rowCount:void 0;this.parentCache.pageLoaded(this,r)}destroy(){for(const e of this.rowNodes)e.clearRowTopAndRowIndex();super.destroy()}},B_e=2,j_e=class extends Pe{constructor(e){super(),this.params=e,this.lastRowIndexKnown=!1,this.blocks={},this.blockCount=0,this.rowCount=e.initialRowCount}getRow(e,t=!1){const n=Math.floor(e/this.params.blockSize);let r=this.blocks[n];if(!r){if(t)return;r=this.createBlock(n)}return r.getRow(e)}createBlock(e){const t=this.params,n=this.createBean(new L_e(e,this,t));return this.blocks[n.id]=n,this.blockCount++,this.purgeBlocksIfNeeded(n),t.rowNodeBlockLoader.addBlock(n),n}refreshCache(){if(this.blockCount==0){this.purgeCache();return}for(const t of this.getBlocksInOrder())t.setStateWaitingToLoad();this.params.rowNodeBlockLoader.checkBlockToLoad()}destroy(){for(const e of this.getBlocksInOrder())this.destroyBlock(e);super.destroy()}getRowCount(){return this.rowCount}isLastRowIndexKnown(){return this.lastRowIndexKnown}pageLoaded(e,t){this.isAlive()&&(Nh(this.gos,`InfiniteCache - onPageLoaded: page = ${e.id}, lastRow = ${t}`),this.checkRowCount(e,t),this.onCacheUpdated())}purgeBlocksIfNeeded(e){const t=this.getBlocksInOrder().filter(l=>l!=e),n=(l,d)=>d.lastAccessed-l.lastAccessed;t.sort(n);const r=this.params.maxBlocksInCache>0,o=r?this.params.maxBlocksInCache-1:null,a=B_e-1;t.forEach((l,d)=>{const f=l.state==="needsLoading"&&d>=a,m=r?d>=o:!1;if(f||m){if(this.isBlockCurrentlyDisplayed(l)||this.isBlockFocused(l))return;this.removeBlockFromCache(l)}})}isBlockFocused(e){const t=this.beans.focusSvc.getFocusCellToUseAfterRefresh();if(!t||t.rowPinned!=null)return!1;const{startRow:n,endRow:r}=e;return t.rowIndex>=n&&t.rowIndex<r}isBlockCurrentlyDisplayed(e){const{startRow:t,endRow:n}=e;return this.beans.rowRenderer.isRangeInRenderedViewport(t,n-1)}removeBlockFromCache(e){e&&this.destroyBlock(e)}checkRowCount(e,t){if(typeof t=="number"&&t>=0)this.rowCount=t,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){const{blockSize:n,overflowSize:r}=this.params,a=(e.id+1)*n+r;this.rowCount<a&&(this.rowCount=a)}}setRowCount(e,t){this.rowCount=e,Ye(t)&&(this.lastRowIndexKnown=t),this.lastRowIndexKnown||this.rowCount%this.params.blockSize===0&&this.rowCount++,this.onCacheUpdated()}forEachNodeDeep(e){const t={value:0};for(const n of this.getBlocksInOrder())n.forEachNode(e,t,this.rowCount)}getBlocksInOrder(){const e=(n,r)=>n.id-r.id;return Object.values(this.blocks).sort(e)}destroyBlock(e){delete this.blocks[e.id],this.destroyBean(e),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(e)}onCacheUpdated(){this.isAlive()&&(this.destroyAllBlocksPastVirtualRowCount(),this.eventSvc.dispatchEvent({type:"storeUpdated"}))}destroyAllBlocksPastVirtualRowCount(){const e=[];for(const t of this.getBlocksInOrder())t.id*this.params.blockSize>=this.rowCount&&e.push(t);if(e.length>0)for(const t of e)this.destroyBlock(t)}purgeCache(){for(const e of this.getBlocksInOrder())this.removeBlockFromCache(e);this.lastRowIndexKnown=!1,this.rowCount===0&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()}getRowNodesInRange(e,t){const n=[];let r=-1,o=!1;const a={value:0};let l=!1;for(const f of this.getBlocksInOrder())if(!l){if(o&&r+1!==f.id){l=!0;continue}r=f.id,f.forEachNode(m=>{const v=m===e||m===t;(o||v)&&n.push(m),v&&(o=!o)},a,this.rowCount)}return l||o?[]:n}},z_e=class extends Pe{constructor(){super(...arguments),this.beanName="rowModel",this.rootNode=null}getRowBounds(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}}ensureRowHeightsValid(){return!1}postConstruct(){if(this.gos.get("rowModelType")!=="infinite")return;const e=this.beans,t=new Bd(e);this.rootNode=t,t.level=-1,this.rowHeight=Rp(e),this.addEventListeners(),this.addDestroyFunc(()=>this.destroyCache())}start(){this.setDatasource(this.gos.get("datasource"))}destroy(){this.destroyDatasource(),super.destroy(),this.rootNode=null}destroyDatasource(){this.datasource&&(this.destroyBean(this.datasource),this.beans.rowRenderer.datasourceChanged(),this.datasource=null)}addEventListeners(){this.addManagedEventListeners({filterChanged:this.reset.bind(this),sortChanged:this.reset.bind(this),newColumnsLoaded:this.onColumnEverything.bind(this),storeUpdated:this.dispatchModelUpdatedEvent.bind(this)}),this.addManagedPropertyListener("datasource",()=>this.setDatasource(this.gos.get("datasource"))),this.addManagedPropertyListener("cacheBlockSize",()=>this.resetCache()),this.addManagedPropertyListener("rowHeight",()=>{this.rowHeight=Rp(this.beans),this.cacheParams.rowHeight=this.rowHeight,this.updateRowHeights()})}onColumnEverything(){let e;this.cacheParams?e=!Oy(this.cacheParams.sortModel,this.beans.sortSvc?.getSortModel()??[]):e=!0,e&&this.reset()}getType(){return"infinite"}setDatasource(e){this.destroyDatasource(),this.datasource=e,e&&this.reset()}isEmpty(){return!this.infiniteCache}isRowsToRender(){return!!this.infiniteCache}getNodesInRangeForSelection(e,t){return this.infiniteCache?.getRowNodesInRange(e,t)??[]}reset(){if(!this.datasource)return;Db(this.gos)!=null||this.beans.selectionSvc?.reset("rowDataChanged"),this.resetCache()}dispatchModelUpdatedEvent(){this.eventSvc.dispatchEvent({type:"modelUpdated",newPage:!1,newPageSize:!1,newData:!1,keepRenderedRows:!0,animate:!1})}resetCache(){this.destroyCache();const e=this.beans,{filterManager:t,sortSvc:n,rowNodeBlockLoader:r,eventSvc:o,gos:a}=e;this.cacheParams={datasource:this.datasource,filterModel:t?.getFilterModel()??{},sortModel:n?.getSortModel()??[],rowNodeBlockLoader:r,initialRowCount:a.get("infiniteInitialRowCount"),maxBlocksInCache:a.get("maxBlocksInCache"),rowHeight:Rp(e),overflowSize:a.get("cacheOverflowSize"),blockSize:a.get("cacheBlockSize"),lastAccessedSequence:{value:0}},this.infiniteCache=this.createBean(new j_e(this.cacheParams)),o.dispatchEventOnce({type:"rowCountReady"}),this.dispatchModelUpdatedEvent()}updateRowHeights(){this.forEachNode(e=>{e.setRowHeight(this.rowHeight),e.setRowTop(this.rowHeight*e.rowIndex)}),this.dispatchModelUpdatedEvent()}destroyCache(){this.infiniteCache=this.destroyBean(this.infiniteCache)}getRow(e){const t=this.infiniteCache;if(t&&!(e>=t.getRowCount()))return t.getRow(e)}getRowNode(e){let t;return this.forEachNode(n=>{n.id===e&&(t=n)}),t}forEachNode(e){this.infiniteCache?.forEachNodeDeep(e)}getTopLevelRowCount(){return this.getRowCount()}getTopLevelRowDisplayedIndex(e){return e}getRowIndexAtPixel(e){if(this.rowHeight!==0){const t=Math.floor(e/this.rowHeight),n=this.getRowCount()-1;return t>n?n:t}return 0}getRowCount(){return this.infiniteCache?this.infiniteCache.getRowCount():0}isRowPresent(e){return!!this.getRowNode(e.id)}refreshCache(){this.infiniteCache?.refreshCache()}purgeCache(){this.infiniteCache?.purgeCache()}isLastRowIndexKnown(){return this.infiniteCache?.isLastRowIndexKnown()??!1}setRowCount(e,t){this.infiniteCache?.setRowCount(e,t)}resetRowHeights(){}onRowHeightChanged(){}};function H_e(e){vE(e)?.refreshCache()}function V_e(e){vE(e)?.purgeCache()}function G_e(e){return vE(e)?.getRowCount()}var U_e=class extends Pe{constructor(){super(...arguments),this.beanName="rowNodeBlockLoader",this.activeBlockLoadsCount=0,this.blocks=[],this.active=!0}postConstruct(){this.maxConcurrentRequests=Lpe(this.gos);const e=this.gos.get("blockLoadDebounceMillis");e&&e>0&&(this.checkBlockToLoadDebounce=Ci(this,this.performCheckBlocksToLoad.bind(this),e))}addBlock(e){this.blocks.push(e),e.addEventListener("loadComplete",this.loadComplete.bind(this)),this.checkBlockToLoad()}removeBlock(e){el(this.blocks,e)}destroy(){super.destroy(),this.active=!1}loadComplete(){this.activeBlockLoadsCount--,this.checkBlockToLoad()}checkBlockToLoad(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()}performCheckBlocksToLoad(){if(!this.active)return;if(this.printCacheStatus(),this.maxConcurrentRequests!=null&&this.activeBlockLoadsCount>=this.maxConcurrentRequests){Nh(this.gos,"RowNodeBlockLoader - checkBlockToLoad: max loads exceeded");return}const e=this.maxConcurrentRequests!=null?this.maxConcurrentRequests-this.activeBlockLoadsCount:1,t=this.blocks.filter(n=>n.state==="needsLoading").slice(0,e);this.activeBlockLoadsCount+=t.length;for(const n of t)n.load();this.printCacheStatus()}getBlockState(){const e={};return this.blocks.forEach(t=>{const{id:n,state:r}=t.getBlockStateJson();e[n]=r}),e}printCacheStatus(){Nh(this.gos,`RowNodeBlockLoader - printCacheStatus: activePageLoadsCount = ${this.activeBlockLoadsCount}, blocks = ${JSON.stringify(this.getBlockState())}`)}},W_e={moduleName:"InfiniteRowModelCore",version:Qe,rowModels:["infinite"],beans:[z_e,U_e]},$_e={moduleName:"InfiniteRowModel",version:Qe,apiFunctions:{refreshInfiniteCache:H_e,purgeInfiniteCache:V_e,getInfiniteRowCount:G_e},dependsOn:[W_e,i_e]},q_e="",K_e="",Y_e={tag:"span",children:[{tag:"span",ref:"eDelta",cls:"ag-value-change-delta"},{tag:"span",ref:"eValue",cls:"ag-value-change-value"}]},Q_e=class extends nn{constructor(){super(Y_e),this.eValue=qe,this.eDelta=qe,this.refreshCount=0}init(e){this.refresh(e,!0)}showDelta(e,t){const n=Math.abs(t),r=e.formatValue(n),o=Ye(r)?r:n,a=t>=0,l=this.eDelta;a?l.textContent=q_e+o:l.textContent=K_e+o,l.classList.toggle("ag-value-change-delta-up",a),l.classList.toggle("ag-value-change-delta-down",!a)}setTimerToRemoveDelta(){this.refreshCount++;const e=this.refreshCount;this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.hideDeltaValue()},2e3)})}hideDeltaValue(){this.eValue.classList.remove("ag-value-change-value-highlight"),ki(this.eDelta)}refresh(e,t=!1){const{value:n,valueFormatted:r}=e,{eValue:o,lastValue:a,beans:l}=this;if(n===a||(Ye(r)?o.textContent=r:Ye(n)?o.textContent=n:ki(o),l.filterManager?.isSuppressFlashingCellsBecauseFiltering()))return!1;const d=n&&typeof n=="object"&&"toNumber"in n?n.toNumber():n,f=a&&typeof a=="object"&&"toNumber"in a?a.toNumber():a;if(d===f)return!1;if(typeof d=="number"&&typeof f=="number"){const m=d-f;this.showDelta(e,m)}return a&&o.classList.add("ag-value-change-value-highlight"),t||this.setTimerToRemoveDelta(),this.lastValue=n,!0}},Z_e=".ag-value-slide-out{opacity:1}:where(.ag-ltr) .ag-value-slide-out{margin-right:5px;transition:opacity 3s,margin-right 3s}:where(.ag-rtl) .ag-value-slide-out{margin-left:5px;transition:opacity 3s,margin-left 3s}:where(.ag-ltr,.ag-rtl) .ag-value-slide-out{transition-timing-function:linear}.ag-value-slide-out-end{opacity:0}:where(.ag-ltr) .ag-value-slide-out-end{margin-right:10px}:where(.ag-rtl) .ag-value-slide-out-end{margin-left:10px}",X_e={tag:"span",children:[{tag:"span",ref:"eCurrent",cls:"ag-value-slide-current"}]},J_e=class extends nn{constructor(){super(X_e),this.eCurrent=qe,this.refreshCount=0,this.registerCSS(Z_e)}init(e){this.refresh(e,!0)}addSlideAnimation(){this.refreshCount++;const e=this.refreshCount;this.ePrevious?.remove();const{beans:t,eCurrent:n}=this,r=Dr({tag:"span",cls:"ag-value-slide-previous ag-value-slide-out"});this.ePrevious=r,r.textContent=n.textContent,this.getGui().insertBefore(r,n),t.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(()=>{e===this.refreshCount&&(this.ePrevious?.remove(),this.ePrevious=null)},3e3)})}refresh(e,t=!1){let n=e.value;if(zn(n)&&(n=""),n===this.lastValue||this.beans.filterManager?.isSuppressFlashingCellsBecauseFiltering())return!1;t||this.addSlideAnimation(),this.lastValue=n;const r=this.eCurrent;return Ye(e.valueFormatted)?r.textContent=e.valueFormatted:Ye(e.value)?r.textContent=n:ki(r),!0}},eEe=class extends Pe{constructor(){super(...arguments),this.beanName="cellFlashSvc",this.nextAnimationTime=null,this.nextAnimationCycle=null,this.animations={highlight:new Map,"data-changed":new Map}}animateCell(e,t,n=this.beans.gos.get("cellFlashDuration"),r=this.beans.gos.get("cellFadeDuration")){const o=this.animations[t];o.delete(e);const a=Date.now(),l=a+n,d=a+n+r,f={phase:"flash",flashEndTime:l,fadeEndTime:d};o.set(e,f);const m=`ag-cell-${t}`,v=`${m}-animation`,{comp:C,eGui:{style:y}}=e;C.toggleCss(m,!0),C.toggleCss(v,!1),y.removeProperty("transition"),y.removeProperty("transition-delay"),this.nextAnimationTime&&l+15<this.nextAnimationTime&&(clearTimeout(this.nextAnimationCycle),this.nextAnimationCycle=null,this.nextAnimationTime=null),this.nextAnimationCycle||(this.beans.frameworkOverrides.wrapIncoming(()=>{this.nextAnimationCycle=setTimeout(this.advanceAnimations.bind(this),n)}),this.nextAnimationTime=l)}advanceAnimations(){const e=Date.now();let t=null;for(const n of Object.keys(this.animations)){const r=this.animations[n],o=`ag-cell-${n}`,a=`${o}-animation`;for(const[l,d]of r){if(!l.isAlive()||!l.comp){r.delete(l);continue}const{phase:f,flashEndTime:m,fadeEndTime:v}=d,C=f==="flash"?m:v;if(!(e+15>=C)){t=Math.min(C,t??1/0);continue}const{comp:S,eGui:{style:E}}=l;switch(f){case"flash":S.toggleCss(o,!1),S.toggleCss(a,!0),E.transition=`background-color ${v-m}ms`,E.transitionDelay=`${m-e}ms`,t=Math.min(v,t??1/0),d.phase="fade";break;case"fade":S.toggleCss(o,!1),S.toggleCss(a,!1),E.removeProperty("transition"),E.removeProperty("transition-delay"),r.delete(l);break}}}t==null?(this.nextAnimationTime=null,this.nextAnimationCycle=null):t&&(this.nextAnimationCycle=setTimeout(this.advanceAnimations.bind(this),t-e),this.nextAnimationTime=t)}onFlashCells(e,t){if(!e.comp)return;const n=Kwe(e.cellPosition);t.cells[n]&&this.animateCell(e,"highlight")}flashCell(e,t){this.animateCell(e,"data-changed",t?.flashDuration,t?.fadeDuration)}destroy(){for(const e of Object.keys(this.animations))this.animations[e].clear()}};function tEe(e,t={}){const{cellFlashSvc:n}=e;n&&e.frameworkOverrides.wrapIncoming(()=>{for(const r of e.rowRenderer.getCellCtrls(t.rowNodes,t.columns))n.flashCell(r,t)})}var nEe={moduleName:"HighlightChanges",version:Qe,beans:[eEe],userComponents:{agAnimateShowChangeCellRenderer:Q_e,agAnimateSlideCellRenderer:J_e},apiFunctions:{flashCells:tEe}};function rEe(e){return e.stateSvc?.getState()??{}}function iEe(e,t,n){return e.stateSvc?.setState(t,n)}function g8(e){return e={...e},e.version||(e.version="32.1.0"),e.version==="32.1.0"&&(e=oEe(e)),e.version=Qe,e}function oEe(e){return e.cellSelection=sEe(e,"rangeSelection"),e}function sEe(e,t){if(e&&typeof e=="object")return e[t]}var aEe=class extends Pe{constructor(){super(...arguments),this.beanName="stateSvc",this.updateRowGroupExpansionStateTimer=0,this.suppressEvents=!0,this.queuedUpdateSources=new Set,this.dispatchStateUpdateEventDebounced=Ci(this,()=>this.dispatchQueuedStateUpdateEvents(),0),this.onRowGroupOpenedDebounced=Ci(this,()=>{this.beans.gos.get("ssrmExpandAllAffectsAllRows")?(this.updateCachedState("ssrmRowGroupExpansion",this.getRowGroupExpansionState()),this.updateCachedState("rowGroupExpansion",void 0)):(this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState()),this.updateCachedState("ssrmRowGroupExpansion",void 0))},0),this.onRowSelectedDebounced=Ci(this,()=>{this.staleStateKeys.delete("rowSelection"),this.updateCachedState("rowSelection",this.getRowSelectionState())},0),this.staleStateKeys=new Set}postConstruct(){const{gos:e,ctrlsSvc:t,colDelayRenderSvc:n}=this.beans;this.isClientSideRowModel=Wn(e);const r=g8(e.get("initialState")??{}),o=r.partialColumnState;delete r.partialColumnState,this.cachedState=r;const a=this.suppressEventsAndDispatchInitEvent.bind(this);t.whenReady(this,()=>a(()=>this.setupStateOnGridReady(r))),(r.columnOrder||r.columnVisibility||r.columnSizing||r.columnPinning||r.columnGroup)&&n?.hideColumns("columnState");const[l,d,f]=this.addManagedEventListeners({newColumnsLoaded:({source:m})=>{m==="gridInitializing"&&(l(),a(()=>{this.setupStateOnColumnsInitialised(r,!!o),n?.revealColumns("columnState")}))},rowCountReady:()=>{d?.(),a(()=>this.setupStateOnRowCountReady(r))},firstDataRendered:()=>{f?.(),a(()=>this.setupStateOnFirstDataRendered(r))}})}destroy(){super.destroy(),clearTimeout(this.updateRowGroupExpansionStateTimer),this.queuedUpdateSources.clear()}getState(){return this.staleStateKeys.size&&this.refreshStaleState(),this.cachedState}setState(e,t){const n=g8(e);delete n.partialColumnState,this.cachedState=n,this.startSuppressEvents();const r="api",o=t?new Set(t):void 0;this.setGridReadyState(n,r,o),this.setColumnsInitialisedState(n,r,!!o,o),this.setRowCountState(n,r,o),setTimeout(()=>{this.isAlive()&&this.setFirstDataRenderedState(n,r,o),this.stopSuppressEvents(r)})}setGridReadyState(e,t,n){t==="api"&&!n?.has("sideBar")&&this.beans.sideBar?.comp?.setState(e.sideBar),this.updateCachedState("sideBar",this.getSideBarState())}setupStateOnGridReady(e){this.setGridReadyState(e,"gridInitializing");const t=()=>this.updateCachedState("sideBar",this.getSideBarState());this.addManagedEventListeners({toolPanelVisibleChanged:t,sideBarUpdated:t})}updateColumnAndGroupState(){this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","rowGroup","sort"]),this.updateCachedState("columnGroup",this.getColumnGroupState())}setColumnsInitialisedState(e,t,n,r){this.setColumnState(e,t,n,r),this.setColumnGroupState(e,t,r),this.updateColumnAndGroupState()}setupStateOnColumnsInitialised(e,t){this.setColumnsInitialisedState(e,"gridInitializing",t);const n=r=>()=>this.updateColumnState([r]);this.addManagedEventListeners({columnValueChanged:n("aggregation"),columnMoved:n("columnOrder"),columnPinned:n("columnPinning"),columnResized:n("columnSizing"),columnVisible:n("columnVisibility"),columnPivotChanged:n("pivot"),columnPivotModeChanged:n("pivot"),columnRowGroupChanged:n("rowGroup"),sortChanged:n("sort"),newColumnsLoaded:this.updateColumnAndGroupState.bind(this),columnGroupOpened:()=>this.updateCachedState("columnGroup",this.getColumnGroupState())})}setRowCountState(e,t,n){const{filter:r,rowGroupExpansion:o,ssrmRowGroupExpansion:a,rowSelection:l,pagination:d}=e,f=(v,C)=>!n?.has(v)&&(C||t==="api");f("filter",r)&&this.setFilterState(r),f("rowGroupExpansion",o)&&this.setRowGroupExpansionState(a,o,t),f("rowSelection",l)&&this.setRowSelectionState(l,t),f("pagination",d)&&this.setPaginationState(d,t);const m=this.updateCachedState.bind(this);m("filter",this.getFilterState()),this.beans.gos.get("ssrmExpandAllAffectsAllRows")?(m("ssrmRowGroupExpansion",this.getRowGroupExpansionState()),m("rowGroupExpansion",void 0)):(m("rowGroupExpansion",this.getRowGroupExpansionState()),m("ssrmRowGroupExpansion",void 0)),m("rowSelection",this.getRowSelectionState()),m("pagination",this.getPaginationState())}setupStateOnRowCountReady(e){this.setRowCountState(e,"gridInitializing");const t=this.updateCachedState.bind(this),n=()=>{this.updateRowGroupExpansionStateTimer=0,this.beans.gos.get("ssrmExpandAllAffectsAllRows")?(t("ssrmRowGroupExpansion",this.getRowGroupExpansionState()),t("rowGroupExpansion",void 0)):(t("rowGroupExpansion",this.getRowGroupExpansionState()),t("ssrmRowGroupExpansion",void 0))},r=()=>t("filter",this.getFilterState()),{gos:o,colFilter:a}=this.beans;this.addManagedEventListeners({filterChanged:r,rowExpansionStateChanged:this.onRowGroupOpenedDebounced,expandOrCollapseAll:n,columnRowGroupChanged:n,rowDataUpdated:()=>{(o.get("groupDefaultExpanded")!==0||o.get("isGroupOpenByDefault"))&&(this.updateRowGroupExpansionStateTimer||(this.updateRowGroupExpansionStateTimer=setTimeout(n)))},selectionChanged:()=>{this.staleStateKeys.add("rowSelection"),this.onRowSelectedDebounced()},paginationChanged:l=>{(l.newPage||l.newPageSize)&&t("pagination",this.getPaginationState())}}),a&&this.addManagedListeners(a,{filterStateChanged:r})}setFirstDataRenderedState(e,t,n){const{scroll:r,cellSelection:o,focusedCell:a,columnOrder:l,rowPinning:d}=e,f=(C,y)=>!n?.has(C)&&(y||t==="api");f("focusedCell",a)&&this.setFocusedCellState(a),f("cellSelection",o)&&this.setCellSelectionState(o),f("scroll",r)&&this.setScrollState(r),f("rowPinning",d)&&this.setRowPinningState(d),this.setColumnPivotState(!!l?.orderedColIds,t);const m=this.updateCachedState.bind(this);m("sideBar",this.getSideBarState()),m("focusedCell",this.getFocusedCellState());const v=this.getRangeSelectionState();m("rangeSelection",v),m("cellSelection",v),m("scroll",this.getScrollState())}setupStateOnFirstDataRendered(e){this.setFirstDataRenderedState(e,"gridInitializing");const t=this.updateCachedState.bind(this),n=()=>t("focusedCell",this.getFocusedCellState());this.addManagedEventListeners({cellFocused:n,cellFocusCleared:n,cellSelectionChanged:r=>{if(r.finished){const o=this.getRangeSelectionState();t("rangeSelection",o),t("cellSelection",o)}},bodyScrollEnd:()=>t("scroll",this.getScrollState()),pinnedRowsChanged:()=>t("rowPinning",this.getRowPinningState())})}getColumnState(){const e=this.beans;return tAe(RS(e),e.colModel.isPivotMode())}setColumnState(e,t,n,r){const{sort:o,rowGroup:a,aggregation:l,pivot:d,columnPinning:f,columnVisibility:m,columnSizing:v,columnOrder:C}=e;let y=!1;const S=(X,Z)=>{const se=!r?.has(X)&&!!(Z||t==="api");return y||(y=se),se},E={},T=X=>{let Z=E[X];return Z||(Z={colId:X},E[X]=Z,Z)},P={},N=S("sort",o);N&&o?.sortModel.forEach(({colId:X,sort:Z},se)=>{const Q=T(X);Q.sort=Z,Q.sortIndex=se}),(N||!n)&&(P.sort=null,P.sortIndex=null);const j=S("rowGroup",a);j&&a?.groupColIds.forEach((X,Z)=>{const se=T(X);se.rowGroup=!0,se.rowGroupIndex=Z}),(j||!n)&&(P.rowGroup=null,P.rowGroupIndex=null);const L=S("aggregation",l);L&&l?.aggregationModel.forEach(({colId:X,aggFunc:Z})=>{T(X).aggFunc=Z}),(L||!n)&&(P.aggFunc=null);const V=S("pivot",d);V&&(d?.pivotColIds.forEach((X,Z)=>{const se=T(X);se.pivot=!0,se.pivotIndex=Z}),this.gos.updateGridOptions({options:{pivotMode:!!d?.pivotMode},source:t})),(V||!n)&&(P.pivot=null,P.pivotIndex=null);const U=S("columnPinning",f);if(U){for(const X of f?.leftColIds??[])T(X).pinned="left";for(const X of f?.rightColIds??[])T(X).pinned="right"}(U||!n)&&(P.pinned=null);const $=S("columnVisibility",m);if($)for(const X of m?.hiddenColIds??[])T(X).hide=!0;($||!n)&&(P.hide=null);const z=S("columnSizing",v);if(z)for(const{colId:X,flex:Z,width:se}of v?.columnSizingModel??[]){const Q=T(X);Q.flex=Z??null,Q.width=se}(z||!n)&&(P.flex=null);const K=C?.orderedColIds,te=!!K?.length&&!r?.has("columnOrder"),ae=te?K.map(X=>T(X)):Object.values(E);(ae.length||y)&&(this.columnStates=ae,Ya(this.beans,{state:ae,applyOrder:te,defaultState:P},t))}setColumnPivotState(e,t){const n=this.columnStates;this.columnStates=void 0;const r=this.columnGroupStates;this.columnGroupStates=void 0;const o=this.beans,{pivotResultCols:a,colGroupSvc:l}=o;if(a?.isPivotResultColsPresent()){if(n){const d=[];for(const f of n)a.getPivotResultCol(f.colId)&&d.push(f);Ya(o,{state:d,applyOrder:e},t)}r&&l?.setColumnGroupState(r,t)}}getColumnGroupState(){const e=this.beans.colGroupSvc;if(!e)return;const t=e.getColumnGroupState();return nAe(t)}setColumnGroupState(e,t,n){const r=this.beans.colGroupSvc;if(!r||n?.has("columnGroup")||t!=="api"&&!Object.prototype.hasOwnProperty.call(e,"columnGroup"))return;const o=new Set(e.columnGroup?.openColumnGroupIds),l=r.getColumnGroupState().map(({groupId:d})=>{const f=o.has(d);return f&&o.delete(d),{groupId:d,open:f}});for(const d of o)l.push({groupId:d,open:!0});l.length&&(this.columnGroupStates=l),r.setColumnGroupState(l,t)}getFilterState(){const e=this.beans.filterManager;let t=e?.getFilterModel();t&&Object.keys(t).length===0&&(t=void 0);const n=e?.getFilterState(),r=e?.getAdvFilterModel()??void 0;return t||r||n?{filterModel:t,columnFilterState:n,advancedFilterModel:r}:void 0}setFilterState(e){const t=this.beans.filterManager,{filterModel:n,columnFilterState:r,advancedFilterModel:o}=e??{filterModel:null,columnFilterState:null,advancedFilterModel:null};(n!==void 0||r!==void 0)&&t?.setFilterState(n??null,r??null,"columnFilter"),o!==void 0&&t?.setAdvFilterModel(o??null,"advancedFilter")}getRangeSelectionState(){const e=this.beans.rangeSvc?.getCellRanges().map(t=>{const{id:n,type:r,startRow:o,endRow:a,columns:l,startColumn:d}=t;return{id:n,type:r,startRow:o,endRow:a,colIds:l.map(f=>f.getColId()),startColId:d.getColId()}});return e?.length?{cellRanges:e}:void 0}setCellSelectionState(e){const{gos:t,rangeSvc:n,colModel:r,visibleCols:o}=this.beans;if(!Ld(t)||!n)return;const a=[];for(const l of e?.cellRanges??[]){const d=[];for(const m of l.colIds){const v=r.getCol(m);v&&d.push(v)}if(!d.length)continue;let f=r.getCol(l.startColId);if(!f){const m=o.allCols,v=new Set(d);f=m.find(C=>v.has(C))}a.push({...l,columns:d,startColumn:f})}n.setCellRanges(a)}getScrollState(){if(!this.isClientSideRowModel)return;const e=this.beans.ctrlsSvc.getScrollFeature(),{left:t}=e?.getHScrollPosition()??{left:0},{top:n}=e?.getVScrollPosition()??{top:0};return n||t?{top:n,left:t}:void 0}setScrollState(e){if(!this.isClientSideRowModel)return;const{top:t,left:n}=e??{top:0,left:0},{frameworkOverrides:r,rowRenderer:o,animationFrameSvc:a,ctrlsSvc:l}=this.beans;r.wrapIncoming(()=>{l.get("center").setCenterViewportScrollLeft(n),l.getScrollFeature()?.setVerticalScrollPosition(t),o.redraw({afterScroll:!0}),a?.flushAllFrames()})}getSideBarState(){return this.beans.sideBar?.comp?.getState()}getFocusedCellState(){if(!this.isClientSideRowModel)return;const e=this.beans.focusSvc.getFocusedCell();if(e){const{column:t,rowIndex:n,rowPinned:r}=e;return{colId:t.getColId(),rowIndex:n,rowPinned:r}}}setFocusedCellState(e){if(!this.isClientSideRowModel)return;const{focusSvc:t,colModel:n}=this.beans;if(!e){t.clearFocusedCell();return}const{colId:r,rowIndex:o,rowPinned:a}=e;t.setFocusedCell({column:n.getCol(r),rowIndex:o,rowPinned:a,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}getPaginationState(){const{pagination:e,gos:t}=this.beans;if(!e)return;const n=e.getCurrentPage(),r=t.get("paginationAutoPageSize")?void 0:e.getPageSize();if(!(!n&&!r))return{page:n,pageSize:r}}setPaginationState(e,t){const{pagination:n,gos:r}=this.beans;if(!n)return;const{pageSize:o,page:a}=e??{page:0,pageSize:r.get("paginationPageSize")},l=t==="gridInitializing";o&&!r.get("paginationAutoPageSize")&&n.setPageSize(o,l?"initialState":"pageSizeSelector"),typeof a=="number"&&(l?n.setPage(a):n.goToPage(a))}getRowSelectionState(){const e=this.beans.selectionSvc;if(!e)return;const t=e.getSelectionState();return!t||!Array.isArray(t)&&(t.selectAll===!1||t.selectAllChildren===!1)&&!t?.toggledNodes?.length?void 0:t}setRowSelectionState(e,t){this.beans.selectionSvc?.setSelectionState(e,t,t==="api")}getRowGroupExpansionState(){const{expansionSvc:e}=this.beans;if(e)return e.getExpansionState()}getRowPinningState(){return this.beans.pinnedRowModel?.getPinnedState()}setRowPinningState(e){const t=this.beans.pinnedRowModel;e?t?.setPinnedState(e):t?.reset()}setRowGroupExpansionState(e,t,n){const r=this.beans.expansionSvc;if(!r)return;const o=t??{expandedRowGroupIds:[],collapsedRowGroupIds:[]};r.setExpansionState(o,n)}updateColumnState(e){const t=this.getColumnState();let n=!1;const r=this.cachedState;for(const o of Object.keys(t)){const a=t[o];Oy(a,r[o])||(n=!0)}this.cachedState={...r,...t},n&&this.dispatchStateUpdateEvent(e)}updateCachedState(e,t){const n=this.cachedState[e];this.setCachedStateValue(e,t),Oy(t,n)||this.dispatchStateUpdateEvent([e])}setCachedStateValue(e,t){this.cachedState={...this.cachedState,[e]:t}}refreshStaleState(){const e=this.staleStateKeys;for(const t of e)t==="rowSelection"&&this.setCachedStateValue(t,this.getRowSelectionState());e.clear()}dispatchStateUpdateEvent(e){if(!this.suppressEvents){for(const t of e)this.queuedUpdateSources.add(t);this.dispatchStateUpdateEventDebounced()}}dispatchQueuedStateUpdateEvents(){const e=this.queuedUpdateSources,t=Array.from(e);e.clear(),this.eventSvc.dispatchEvent({type:"stateUpdated",sources:t,state:this.cachedState})}startSuppressEvents(){this.suppressEvents=!0,this.beans.colAnimation?.setSuppressAnimation(!0)}stopSuppressEvents(e){setTimeout(()=>{this.suppressEvents=!1,this.queuedUpdateSources.clear(),this.isAlive()&&(this.beans.colAnimation?.setSuppressAnimation(!1),this.dispatchStateUpdateEvent([e]))})}suppressEventsAndDispatchInitEvent(e){this.startSuppressEvents(),e(),this.stopSuppressEvents("gridInitializing")}},lEe={moduleName:"GridState",version:Qe,beans:[aEe],apiFunctions:{getState:rEe,setState:iEe}};function cEe(e){return e.rowModel.isLastRowIndexKnown()}function dEe(e){return e.pagination?.getPageSize()??100}function uEe(e){return e.pagination?.getCurrentPage()??0}function hEe(e){return e.pagination?.getTotalPages()??1}function fEe(e){return e.pagination?e.pagination.getMasterRowCount():e.rowModel.getRowCount()}function pEe(e){e.pagination?.goToNextPage()}function gEe(e){e.pagination?.goToPreviousPage()}function mEe(e){e.pagination?.goToFirstPage()}function bEe(e){e.pagination?.goToLastPage()}function vEe(e,t){e.pagination?.goToPage(t)}var wEe=class extends Pe{constructor(){super(...arguments),this.beanName="paginationAutoPageSizeSvc"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.centerRowsCtrl=e.center;const t=this.checkPageSize.bind(this);this.addManagedEventListeners({bodyHeightChanged:t,scrollVisibilityChanged:t}),this.addManagedPropertyListener("paginationAutoPageSize",this.onPaginationAutoSizeChanged.bind(this)),this.checkPageSize()})}notActive(){return!this.gos.get("paginationAutoPageSize")||this.centerRowsCtrl==null}onPaginationAutoSizeChanged(){this.notActive()?this.beans.pagination.unsetAutoCalculatedPageSize():this.checkPageSize()}checkPageSize(){if(this.notActive())return;const e=this.centerRowsCtrl.viewportSizeFeature.getBodyHeight();if(e>0){const t=this.beans,n=()=>{const r=Math.max(Rp(t),1),o=Math.floor(e/r);t.pagination.setPageSize(o,"autoCalculated")};this.isBodyRendered?Ci(this,n,50)():(n(),this.isBodyRendered=!0)}else this.isBodyRendered=!1}},ty="paginationPageSizeSelector",CEe={tag:"span",cls:"ag-paging-page-size"},yEe=class extends nn{constructor(){super(CEe),this.hasEmptyOption=!1,this.handlePageSizeItemSelected=()=>{if(!this.selectPageSizeComp)return;const e=this.selectPageSizeComp.getValue();if(!e)return;const t=Number(e);isNaN(t)||t<1||t===this.pagination.getPageSize()||(this.pagination.setPageSize(t,"pageSizeSelector"),this.hasEmptyOption&&this.toggleSelectDisplay(!0),this.selectPageSizeComp.getFocusableElement().focus())}}wireBeans(e){this.pagination=e.pagination}postConstruct(){this.addManagedPropertyListener(ty,()=>{this.onPageSizeSelectorValuesChange()}),this.addManagedEventListeners({paginationChanged:e=>this.handlePaginationChanged(e)})}handlePaginationChanged(e){if(!this.selectPageSizeComp||!e?.newPageSize)return;const t=this.pagination.getPageSize();this.getPageSizeSelectorValues().includes(t)?this.selectPageSizeComp.setValue(t.toString()):this.hasEmptyOption?this.selectPageSizeComp.setValue(""):this.toggleSelectDisplay(!0)}toggleSelectDisplay(e){this.selectPageSizeComp&&!e&&this.reset(),e&&(this.reloadPageSizesSelector(),this.selectPageSizeComp)}reset(){ki(this.getGui()),this.selectPageSizeComp&&(this.selectPageSizeComp=this.destroyBean(this.selectPageSizeComp))}onPageSizeSelectorValuesChange(){this.selectPageSizeComp&&this.shouldShowPageSizeSelector()&&this.reloadPageSizesSelector()}shouldShowPageSizeSelector(){return this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel")&&!this.gos.get("paginationAutoPageSize")&&this.gos.get(ty)!==!1}reloadPageSizesSelector(){const e=this.getPageSizeSelectorValues(),t=this.pagination.getPageSize(),n=!t||!e.includes(t);if(n){const o=this.gos.exists("paginationPageSize"),a=this.gos.get(ty)!==!0;ze(94,{pageSizeSet:o,pageSizesSet:a,pageSizeOptions:e,paginationPageSizeOption:t}),a||ze(95,{paginationPageSizeOption:t,paginationPageSizeSelector:ty}),e.unshift("")}const r=String(n?"":t);this.selectPageSizeComp?(Uh(this.pageSizeOptions,e)||(this.selectPageSizeComp.clearOptions().addOptions(this.createPageSizeSelectOptions(e)),this.pageSizeOptions=e),this.selectPageSizeComp.setValue(r,!0)):this.createPageSizeSelectorComp(e,r),this.hasEmptyOption=n}createPageSizeSelectOptions(e){return e.map(t=>({value:String(t)}))}createPageSizeSelectorComp(e,t){const n=this.getLocaleTextFunc(),r=n("pageSizeSelectorLabel","Page Size:"),o=n("ariaPageSizeSelectorLabel","Page Size");this.selectPageSizeComp=this.createManagedBean(new zN).addOptions(this.createPageSizeSelectOptions(e)).setValue(t).setAriaLabel(o).setLabel(r).onValueChange(()=>this.handlePageSizeItemSelected()),this.appendChild(this.selectPageSizeComp)}getPageSizeSelectorValues(){const e=[20,50,100],t=this.gos.get(ty);return!Array.isArray(t)||!t?.length?e:[...t].sort((n,r)=>n-r)}destroy(){this.toggleSelectDisplay(!1),super.destroy()}},kEe={selector:"AG-PAGE-SIZE-SELECTOR",component:yEe},xEe=".ag-paging-panel{align-items:center;border-top:var(--ag-footer-row-border);display:flex;gap:calc(var(--ag-spacing)*4);height:var(--ag-pagination-panel-height);justify-content:flex-end;padding:0 var(--ag-cell-horizontal-padding)}:where(.ag-paging-page-size) .ag-wrapper{min-width:50px}.ag-paging-page-summary-panel{align-items:center;display:flex;gap:var(--ag-cell-widget-spacing);.ag-disabled &{pointer-events:none}}.ag-paging-button{cursor:pointer;position:relative;&.ag-disabled{cursor:default;opacity:.5}}.ag-paging-number,.ag-paging-row-summary-panel-number{font-weight:500}",AEe=class extends J${constructor(){super(),this.btFirst=qe,this.btPrevious=qe,this.btNext=qe,this.btLast=qe,this.lbRecordCount=qe,this.lbFirstRowOnPage=qe,this.lbLastRowOnPage=qe,this.lbCurrent=qe,this.lbTotal=qe,this.pageSizeComp=qe,this.previousAndFirstButtonsDisabled=!1,this.nextButtonDisabled=!1,this.lastButtonDisabled=!1,this.areListenersSetup=!1,this.allowFocusInnerElement=!1,this.registerCSS(xEe)}wireBeans(e){this.rowModel=e.rowModel,this.pagination=e.pagination,this.ariaAnnounce=e.ariaAnnounce}postConstruct(){const e=this.gos.get("enableRtl");this.setTemplate(this.getTemplate(),[kEe]);const{btFirst:t,btPrevious:n,btNext:r,btLast:o}=this;this.activateTabIndex([t,n,r,o]),t.insertAdjacentElement("afterbegin",Cs(e?"last":"first",this.beans)),n.insertAdjacentElement("afterbegin",Cs(e?"next":"previous",this.beans)),r.insertAdjacentElement("afterbegin",Cs(e?"previous":"next",this.beans)),o.insertAdjacentElement("afterbegin",Cs(e?"first":"last",this.beans)),this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this)),this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this)),this.addManagedPropertyListeners(["paginationPageSizeSelector","paginationAutoPageSize","suppressPaginationPanel"],()=>this.onPageSizeRelatedOptionsChange()),this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector()),this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:a=>this.allowFocusInnerElement?this.tabGuardFeature.getTabGuardCtrl().focusInnerElement(a):wve(this.beans,a),forceFocusOutWhenTabGuardsAreEmpty:!0}),this.onPaginationChanged()}setAllowFocus(e){this.allowFocusInnerElement=e}onPaginationChanged(){const t=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel");this.setDisplayed(t),t&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateLabels(),this.onPageSizeRelatedOptionsChange())}onPageSizeRelatedOptionsChange(){this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector())}setupListeners(){if(!this.areListenersSetup){this.addManagedEventListeners({paginationChanged:this.onPaginationChanged.bind(this)});for(const e of[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}]){const{el:t,fn:n}=e;this.addManagedListeners(t,{click:n,keydown:r=>{(r.key===xe.ENTER||r.key===xe.SPACE)&&(r.preventDefault(),n())}})}vve(this.beans,this,this.getGui()),this.areListenersSetup=!0}}onBtFirst(){this.previousAndFirstButtonsDisabled||this.pagination.goToFirstPage()}formatNumber(e){const t=this.gos.getCallback("paginationNumberFormatter");return t?t({value:e}):iAe(e,this.getLocaleTextFunc.bind(this))}getTemplate(){const e=this.getLocaleTextFunc(),t=`ag-${this.getCompId()}`;return{tag:"div",cls:"ag-paging-panel ag-unselectable",attrs:{id:`${t}`},children:[{tag:"ag-page-size-selector",ref:"pageSizeComp"},{tag:"span",cls:"ag-paging-row-summary-panel",children:[{tag:"span",ref:"lbFirstRowOnPage",cls:"ag-paging-row-summary-panel-number",attrs:{id:`${t}-first-row`}},{tag:"span",attrs:{id:`${t}-to`},children:e("to","to")},{tag:"span",ref:"lbLastRowOnPage",cls:"ag-paging-row-summary-panel-number",attrs:{id:`${t}-last-row`}},{tag:"span",attrs:{id:`${t}-of`},children:e("of","of")},{tag:"span",ref:"lbRecordCount",cls:"ag-paging-row-summary-panel-number",attrs:{id:`${t}-row-count`}}]},{tag:"span",cls:"ag-paging-page-summary-panel",role:"presentation",children:[{tag:"div",ref:"btFirst",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("firstPage","First Page")}},{tag:"div",ref:"btPrevious",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("previousPage","Previous Page")}},{tag:"span",cls:"ag-paging-description",children:[{tag:"span",attrs:{id:`${t}-start-page`},children:e("page","Page")},{tag:"span",ref:"lbCurrent",cls:"ag-paging-number",attrs:{id:`${t}-start-page-number`}},{tag:"span",attrs:{id:`${t}-of-page`},children:e("of","of")},{tag:"span",ref:"lbTotal",cls:"ag-paging-number",attrs:{id:`${t}-of-page-number`}}]},{tag:"div",ref:"btNext",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("nextPage","Next Page")}},{tag:"div",ref:"btLast",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("lastPage","Last Page")}}]}]}}onBtNext(){this.nextButtonDisabled||this.pagination.goToNextPage()}onBtPrevious(){this.previousAndFirstButtonsDisabled||this.pagination.goToPreviousPage()}onBtLast(){this.lastButtonDisabled||this.pagination.goToLastPage()}enableOrDisableButtons(){const e=this.pagination.getCurrentPage(),t=this.rowModel.isLastRowIndexKnown(),n=this.pagination.getTotalPages();this.previousAndFirstButtonsDisabled=e===0,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);const r=this.isZeroPagesToDisplay(),o=e===n-1;this.nextButtonDisabled=o||r,this.lastButtonDisabled=!t||r||e===n-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)}toggleButtonDisabled(e,t){Hfe(e,t),e.classList.toggle("ag-disabled",t)}isZeroPagesToDisplay(){const e=this.rowModel.isLastRowIndexKnown(),t=this.pagination.getTotalPages();return e&&t===0}updateLabels(){const e=this.rowModel.isLastRowIndexKnown(),t=this.pagination.getTotalPages(),n=this.pagination.getMasterRowCount(),r=e?n:null,o=this.pagination.getCurrentPage(),a=this.pagination.getPageSize();let l,d;this.isZeroPagesToDisplay()?l=d=0:(l=a*o+1,d=l+a-1,e&&d>r&&(d=r));const f=l+a-1,m=!e&&n<f,v=this.formatNumber(l);this.lbFirstRowOnPage.textContent=v;let C;const y=this.getLocaleTextFunc();m?C=y("pageLastRowUnknown","?"):C=this.formatNumber(d),this.lbLastRowOnPage.textContent=C;const E=t>0?o+1:0,T=this.formatNumber(E);this.lbCurrent.textContent=T;let P,N;if(e)P=this.formatNumber(t),N=this.formatNumber(r);else{const j=y("more","more");P=j,N=j}this.lbTotal.textContent=P,this.lbRecordCount.textContent=N,this.announceAriaStatus(v,C,N,T,P)}announceAriaStatus(e,t,n,r,o){const a=this.getLocaleTextFunc(),l=a("page","Page"),d=a("to","to"),f=a("of","of"),m=`${e} ${d} ${t} ${f} ${n}`,v=`${l} ${r} ${f} ${o}`;m!==this.ariaRowStatus&&(this.ariaRowStatus=m,this.ariaAnnounce?.announceValue(m,"paginationRow")),v!==this.ariaPageStatus&&(this.ariaPageStatus=v,this.ariaAnnounce?.announceValue(v,"paginationPage"))}},SEe={selector:"AG-PAGINATION",component:AEe},_Ee=class extends Pe{constructor(){super(...arguments),this.beanName="pagination",this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=0,this.masterRowCount=0}postConstruct(){const e=this.gos;this.active=e.get("pagination"),this.pageSizeFromGridOptions=e.get("paginationPageSize"),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedPropertyListener("pagination",this.onPaginationGridOptionChanged.bind(this)),this.addManagedPropertyListener("paginationPageSize",this.onPageSizeGridOptionChanged.bind(this))}getPaginationSelector(){return SEe}isPaginateChildRows(){const e=this.gos;return e.get("groupHideParentOfSingleChild")||e.get("groupRemoveSingleChildren")||e.get("groupRemoveLowestSingleChildren")?!0:e.get("paginateChildRows")}onPaginationGridOptionChanged(){this.active=this.gos.get("pagination"),this.calculatePages(),this.dispatchPaginationChangedEvent({keepRenderedRows:!0})}onPageSizeGridOptionChanged(){this.setPageSize(this.gos.get("paginationPageSize"),"gridOptions")}goToPage(e){const t=this.currentPage;if(!this.active||t===e||typeof t!="number")return;const{editSvc:n}=this.beans;n?.isEditing()&&(n.isBatchEditing()?n.cleanupEditors():n.stopEditing(void 0,{source:"api"})),this.currentPage=e,this.calculatePages(),this.dispatchPaginationChangedEvent({newPage:!0})}goToPageWithIndex(e){if(!this.active)return;let t=e;this.paginateChildRows||(t=this.beans.rowModel.getTopLevelIndexFromDisplayedIndex?.(e)??e),this.goToPage(Math.floor(t/this.pageSize))}isRowInPage(e){return this.active?e>=this.topDisplayedRowIndex&&e<=this.bottomDisplayedRowIndex:!0}getCurrentPage(){return this.currentPage}goToNextPage(){this.goToPage(this.currentPage+1)}goToPreviousPage(){this.goToPage(this.currentPage-1)}goToFirstPage(){this.goToPage(0)}goToLastPage(){const e=this.beans.rowModel.getRowCount(),t=Math.floor(e/this.pageSize);this.goToPage(t)}getPageSize(){return this.pageSize}getTotalPages(){return this.totalPages}setPage(e){this.currentPage=e}get pageSize(){return Ye(this.pageSizeAutoCalculated)&&this.gos.get("paginationAutoPageSize")?this.pageSizeAutoCalculated:Ye(this.pageSizeFromPageSizeSelector)?this.pageSizeFromPageSizeSelector:Ye(this.pageSizeFromInitialState)?this.pageSizeFromInitialState:Ye(this.pageSizeFromGridOptions)?this.pageSizeFromGridOptions:this.defaultPageSize}calculatePages(){this.active?this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly():this.calculatedPagesNotActive(),this.beans.pageBounds.calculateBounds(this.topDisplayedRowIndex,this.bottomDisplayedRowIndex)}unsetAutoCalculatedPageSize(){if(this.pageSizeAutoCalculated===void 0)return;const e=this.pageSizeAutoCalculated;this.pageSizeAutoCalculated=void 0,this.pageSize!==e&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0}))}setPageSize(e,t){const n=this.pageSize;switch(t){case"autoCalculated":this.pageSizeAutoCalculated=e;break;case"pageSizeSelector":this.pageSizeFromPageSizeSelector=e,this.currentPage!==0&&this.goToFirstPage();break;case"initialState":this.pageSizeFromInitialState=e;break;case"gridOptions":this.pageSizeFromGridOptions=e,this.pageSizeFromInitialState=void 0,this.pageSizeFromPageSizeSelector=void 0,this.currentPage!==0&&this.goToFirstPage();break}n!==this.pageSize&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0,keepRenderedRows:!0}))}setZeroRows(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0}adjustCurrentPageIfInvalid(){const e=this.totalPages;this.currentPage>=e&&(this.currentPage=e-1);const t=this.currentPage;(!isFinite(t)||isNaN(t)||t<0)&&(this.currentPage=0)}calculatePagesMasterRowsOnly(){const e=this.beans.rowModel,t=e.getTopLevelRowCount();if(this.masterRowCount=t,t<=0){this.setZeroRows();return}const n=this.pageSize,r=t-1;this.totalPages=Math.floor(r/n)+1,this.adjustCurrentPageIfInvalid();const o=this.currentPage,a=n*o;let l=n*(o+1)-1;if(l>r&&(l=r),this.topDisplayedRowIndex=e.getTopLevelRowDisplayedIndex(a),l===r)this.bottomDisplayedRowIndex=e.getRowCount()-1;else{const d=e.getTopLevelRowDisplayedIndex(l+1);this.bottomDisplayedRowIndex=d-1}}getMasterRowCount(){return this.masterRowCount}calculatePagesAllRows(){const e=this.beans.rowModel.getRowCount();if(this.masterRowCount=e,e===0){this.setZeroRows();return}const{pageSize:t,currentPage:n}=this,r=e-1;this.totalPages=Math.floor(r/t)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=t*n,this.bottomDisplayedRowIndex=t*(n+1)-1,this.bottomDisplayedRowIndex>r&&(this.bottomDisplayedRowIndex=r)}calculatedPagesNotActive(){this.setPageSize(void 0,"autoCalculated"),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.beans.rowModel.getRowCount()-1}dispatchPaginationChangedEvent(e){const{keepRenderedRows:t=!1,newPage:n=!1,newPageSize:r=!1}=e;this.eventSvc.dispatchEvent({type:"paginationChanged",animate:!1,newData:!1,newPage:n,newPageSize:r,keepRenderedRows:t})}},EEe={moduleName:"Pagination",version:Qe,beans:[_Ee,wEe],icons:{first:"first",previous:"previous",next:"next",last:"last"},apiFunctions:{paginationIsLastPageFound:cEe,paginationGetPageSize:dEe,paginationGetCurrentPage:uEe,paginationGetTotalPages:hEe,paginationGetRowCount:fEe,paginationGoToNextPage:pEe,paginationGoToPreviousPage:gEe,paginationGoToFirstPage:mEe,paginationGoToLastPage:bEe,paginationGoToPage:vEe},dependsOn:[wE]};function DEe(e,t={}){const n=t?t.rowNodes:void 0;e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.redrawRows(n))}function vK(e,t,n,r,o){t&&(r&&t.parent&&t.parent.level!==-1&&vK(e,t.parent,n,r,o),t.setExpanded(n,void 0,o))}function MEe(e,t){return e.rowModel.getRowNode(t)}function TEe(e,t,n,r){e.rowRenderer.addRenderedRowListener(t,n,r)}function REe(e){return e.rowRenderer.getRenderedNodes()}function PEe(e,t,n){e.rowModel.forEachNode(t,n)}function IEe(e){return e.rowRenderer.firstRenderedRow}function NEe(e){return e.rowRenderer.lastRenderedRow}function OEe(e,t){return e.rowModel.getRow(t)}function FEe(e){return e.rowModel.getRowCount()}var LEe={moduleName:"RowApi",version:Qe,apiFunctions:{redrawRows:DEe,setRowNodeExpanded:vK,getRowNode:MEe,addRenderedRowListener:TEe,getRenderedNodes:REe,forEachNode:PEe,getFirstDisplayedRowIndex:IEe,getLastDisplayedRowIndex:NEe,getDisplayedRowAtIndex:OEe,getDisplayedRowCount:FEe}},BEe={moduleName:"ScrollApi",version:Qe,apiFunctions:{getVerticalPixelRange:Q1e,getHorizontalPixelRange:Z1e,ensureColumnVisible:iK,ensureIndexVisible:oK,ensureNodeVisible:X1e}};function jEe(e,t,n){if(!t)return;const r=e.ctrlsSvc.getGridBodyCtrl().eGridBody,o=`aria-${t}`;n===null?r.removeAttribute(o):r.setAttribute(o,n)}function zEe(e,t={}){e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.refreshCells(t))}function HEe(e){e.frameworkOverrides.wrapIncoming(()=>{for(const t of e.ctrlsSvc.getHeaderRowContainerCtrls())t.refresh()})}function VEe(e){return e.animationFrameSvc?.isQueueEmpty()??!0}function GEe(e){e.animationFrameSvc?.flushAllFrames()}function UEe(e){return{rowHeight:Rp(e),headerHeight:E0(e)}}function WEe(e,t={}){const n=[];for(const a of e.rowRenderer.getCellCtrls(t.rowNodes,t.columns)){const l=a.getCellRenderer();l!=null&&n.push(Wy(l))}if(t.columns?.length)return n;const r=[],o=KP(t.rowNodes);for(const a of e.rowRenderer.getAllRowCtrls()){if(o&&!YP(a.rowNode,o)||!a.isFullWidth())continue;const l=a.getFullWidthCellRenderers();for(let d=0;d<l.length;d++){const f=l[d];f!=null&&r.push(Wy(f))}}return[...r,...n]}var $Ee={moduleName:"RenderApi",version:Qe,apiFunctions:{setGridAriaProperty:jEe,refreshCells:zEe,refreshHeader:HEe,isAnimationFrameQueueEmpty:VEe,flushAllAnimationFrames:GEe,getSizesForCurrentTheme:UEe,getCellRendererInstances:WEe}};function qEe(e,t){typeof t=="number"?e.colAutosize?.sizeColumnsToFit(t,"api"):e.colAutosize?.sizeColumnsToFitGridBody(t)}function wK({colAutosize:e,visibleCols:t},n,r){Array.isArray(n)?e?.autoSizeCols({colKeys:n,skipHeader:r,source:"api"}):e?.autoSizeCols({...n,colKeys:n.colIds??t.allCols,source:"api"})}function KEe(e,t){t&&typeof t=="object"?wK(e,t):e.colAutosize?.autoSizeAllColumns({source:"api",skipHeader:t})}var YEe=class extends Pe{constructor(){super(...arguments),this.beanName="colAutosize",this.timesDelayed=0,this.shouldQueueResizeOperations=!1,this.resizeOperationQueue=[]}postConstruct(){const{gos:e}=this,t=e.get("autoSizeStrategy");if(t){let n=!1;const r=t.type;if(r==="fitGridWidth"||r==="fitProvidedWidth")n=!0;else if(r==="fitCellContents"){this.addManagedEventListeners({firstDataRendered:()=>this.onFirstDataRendered(t)});const o=e.get("rowData");n=o!=null&&o.length>0&&Wn(e)}n&&this.beans.colDelayRenderSvc?.hideColumns(r)}}autoSizeCols(e){const{eventSvc:t,visibleCols:n}=this.beans;this.innerAutoSizeCols(e).then(r=>{const o=m=>Mb(t,Array.from(m),!0,"autosizeColumns");if(!e.scaleUpToFitGridWidth)return o(r);const a=m8(this.beans),l=m=>n.leftCols.some(v=>Sy(v,m)),d=m=>n.rightCols.some(v=>Sy(v,m)),f=e.colKeys.filter(m=>!Xd(m)&&!Ad(m)&&!l(m)&&!d(m));this.sizeColumnsToFit(a,e.source,!0,{defaultMaxWidth:e.defaultMaxWidth,defaultMinWidth:e.defaultMinWidth,columnLimits:e.columnLimits?.map(m=>({...m,key:m.colId})),colKeys:f,onlyScaleUp:!0}),o(r)})}innerAutoSizeCols(e){return new Promise((t,n)=>{if(this.shouldQueueResizeOperations)return this.pushResizeOperation(()=>this.innerAutoSizeCols(e).then(t,n));const{colKeys:r,skipHeader:o,skipHeaderGroups:a,stopAtGroup:l,defaultMaxWidth:d,defaultMinWidth:f,columnLimits:m=[],source:v="api"}=e,{animationFrameSvc:C,renderStatus:y,colModel:S,autoWidthCalc:E,visibleCols:T}=this.beans;if(C?.flushAllFrames(),this.timesDelayed<5&&y&&(!y.areHeaderCellsRendered()||!y.areCellsRendered())){this.timesDelayed++,setTimeout(()=>{this.isAlive()&&this.innerAutoSizeCols(e).then(t,n)});return}this.timesDelayed=0;const P=new Set;let N=-1;const j=Object.fromEntries(m.map(({colId:U,...$})=>[U,$])),L=o??this.gos.get("skipHeaderOnAutoSize"),V=a??L;for(;N!==0;){N=0;const U=[];for(const $ of r){if(!$||Xpe($))continue;const z=S.getCol($);if(!z||P.has(z))continue;const K=E.getPreferredWidthForColumn(z,L);if(K>0){const te=j[z.colId]??{};te.minWidth??(te.minWidth=f),te.maxWidth??(te.maxWidth=d);const ae=QEe(z,K,te);z.setActualWidth(ae,v),P.add(z),N++}U.push(z)}U.length&&T.refresh(v)}V||this.autoSizeColumnGroupsByColumns(r,v,l),t(P)})}autoSizeColumn(e,t,n){this.autoSizeCols({colKeys:[e],skipHeader:n,skipHeaderGroups:!0,source:t})}autoSizeColumnGroupsByColumns(e,t,n){const{colModel:r,ctrlsSvc:o}=this.beans,a=new Set,l=r.getColsForKeys(e);for(const f of l){let m=f.getParent();for(;m&&m!=n;)m.isPadding()||a.add(m),m=m.getParent()}let d;for(const f of a){for(const m of o.getHeaderRowContainerCtrls())if(d=m.getHeaderCtrlForColumn(f),d)break;d?.resizeLeafColumnsToFit(t)}}autoSizeAllColumns(e){if(this.shouldQueueResizeOperations){this.pushResizeOperation(()=>this.autoSizeAllColumns(e));return}this.autoSizeCols({colKeys:this.beans.visibleCols.allCols,...e})}addColumnAutosizeListeners(e,t){const n=this.gos.get("skipHeaderOnAutoSize"),r=()=>{this.autoSizeColumn(t,"uiColumnResized",n)};e.addEventListener("dblclick",r);const o=new fp(e);return o.addEventListener("doubleTap",r),()=>{e.removeEventListener("dblclick",r),o.destroy()}}addColumnGroupResize(e,t,n){const r=this.gos.get("skipHeaderOnAutoSize"),o=()=>{const a=[],l=t.getDisplayedLeafColumns();for(const d of l)d.getColDef().suppressAutoSize||a.push(d.getColId());a.length>0&&this.autoSizeCols({colKeys:a,skipHeader:r,stopAtGroup:t,source:"uiColumnResized"}),n()};return e.addEventListener("dblclick",o),()=>e.removeEventListener("dblclick",o)}sizeColumnsToFitGridBody(e,t){if(!this.isAlive())return;const n=m8(this.beans);if(n>0){this.sizeColumnsToFit(n,"sizeColumnsToFit",!1,e);return}t===void 0?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,100)},0):t===100?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,500)},100):t===500?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,-1)},500):ze(29)}sizeColumnsToFit(e,t="sizeColumnsToFit",n,r){if(this.shouldQueueResizeOperations){this.pushResizeOperation(()=>this.sizeColumnsToFit(e,t,n,r));return}const o={};for(const{key:E,...T}of r?.columnLimits??[])o[typeof E=="string"?E:E.getColId()]=T;const a=this.beans.visibleCols.allCols;if(e<=0||!a.length)return;const l=fd(a);if(r?.onlyScaleUp&&l>e||e===l&&a.every(T=>{if(T.colDef.suppressSizeToFit)return!0;const P=o?.[T.getId()],N=P?.minWidth??r?.defaultMinWidth,j=P?.maxWidth??r?.defaultMaxWidth,L=T.getActualWidth();return(N==null||L>=N)&&(j==null||L<=j)}))return;const f=[],m=[];for(const E of a){const T=r?.colKeys?.some(P=>Sy(E,P))??!0;E.getColDef().suppressSizeToFit||!T?m.push(E):f.push(E)}const v=f.slice(0);let C=!1;const y=E=>{el(f,E),m.push(E)};for(const E of f){E.resetActualWidth(t);const T=o?.[E.getId()],P=T?.minWidth??r?.defaultMinWidth,N=T?.maxWidth??r?.defaultMaxWidth,j=E.getActualWidth();typeof P=="number"&&j<P?E.setActualWidth(P,t,!0):typeof N=="number"&&j>N&&E.setActualWidth(N,t,!0)}for(;!C;){C=!0;const E=e-fd(m);if(E<=0)for(const T of f){const P=o?.[T.getId()]?.minWidth??r?.defaultMinWidth??T.minWidth;T.setActualWidth(P,t,!0)}else{const T=E/fd(f);let P=E;for(let N=f.length-1;N>=0;N--){const j=f[N],L=o?.[j.getId()],V=L?.minWidth??r?.defaultMinWidth,U=L?.maxWidth??r?.defaultMaxWidth,$=j.getMinWidth(),z=j.getMaxWidth(),K=typeof V=="number"&&V>$?V:$,te=typeof U=="number"&&U<z?U:z;let ae=Math.round(j.getActualWidth()*T);ae<K?(ae=K,y(j),C=!1):ae>te?(ae=te,y(j),C=!1):N===0&&(ae=P),j.setActualWidth(ae,t,!0),P-=ae}}}for(const E of v)E.fireColumnWidthChangedEvent(t);const S=this.beans.visibleCols;S.setLeftValues(t),S.updateBodyWidths(),!n&&Mb(this.eventSvc,v,!0,t)}applyAutosizeStrategy(){const{gos:e,colDelayRenderSvc:t}=this.beans,n=e.get("autoSizeStrategy");n?.type!=="fitGridWidth"&&n?.type!=="fitProvidedWidth"||setTimeout(()=>{if(!this.isAlive())return;const r=n.type;if(r==="fitGridWidth"){const{columnLimits:o,defaultMinWidth:a,defaultMaxWidth:l}=n,d=o?.map(({colId:f,minWidth:m,maxWidth:v})=>({key:f,minWidth:m,maxWidth:v}));this.sizeColumnsToFitGridBody({defaultMinWidth:a,defaultMaxWidth:l,columnLimits:d})}else r==="fitProvidedWidth"&&this.sizeColumnsToFit(n.width,"sizeColumnsToFit");t?.revealColumns(r)})}onFirstDataRendered({colIds:e,...t}){setTimeout(()=>{if(!this.isAlive())return;const n="autosizeColumns";e?this.autoSizeCols({...t,source:n,colKeys:e}):this.autoSizeAllColumns({...t,source:n}),this.beans.colDelayRenderSvc?.revealColumns(t.type)})}processResizeOperations(){this.shouldQueueResizeOperations=!1;for(const e of this.resizeOperationQueue)e();this.resizeOperationQueue=[]}pushResizeOperation(e){this.resizeOperationQueue.push(e)}destroy(){this.resizeOperationQueue.length=0,super.destroy()}};function QEe(e,t,n={}){const r=n.minWidth??e.getMinWidth();t<r&&(t=r);const o=n.maxWidth??e.getMaxWidth();return t>o&&(t=o),t}function m8({ctrlsSvc:e,scrollVisibleSvc:t}){const n=e.getGridBodyCtrl(),o=n.isVerticalScrollShowing()?t.getScrollbarWidth():0;return jy(n.eGridBody)-o}var ZEe={moduleName:"ColumnAutoSize",version:Qe,beans:[YEe],apiFunctions:{sizeColumnsToFit:qEe,autoSizeColumns:wK,autoSizeAllColumns:KEe},dependsOn:[uq]},XEe=".ag-row-pinned-source{background-color:var(--ag-pinned-source-row-background-color);color:var(--ag-pinned-source-row-text-color);font-weight:var(--ag-pinned-source-row-font-weight)}.ag-row-pinned-manual{background-color:var(--ag-pinned-row-background-color);color:var(--ag-pinned-row-text-color);font-weight:var(--ag-pinned-row-font-weight)}";function JEe(e){return e.pinnedRowModel?.getPinnedTopRowCount()??0}function eDe(e){return e.pinnedRowModel?.getPinnedBottomRowCount()??0}function tDe(e,t){return e.pinnedRowModel?.getPinnedTopRow(t)}function nDe(e,t){return e.pinnedRowModel?.getPinnedBottomRow(t)}function rDe(e,t,n){return e.pinnedRowModel?.forEachPinnedRow(t,n)}var iDe={moduleName:"PinnedRow",version:Qe,beans:[Jve],css:[XEe],apiFunctions:{getPinnedTopRowCount:JEe,getPinnedBottomRowCount:eDe,getPinnedTopRow:tDe,getPinnedBottomRow:nDe,forEachPinnedRow:rDe},icons:{rowPin:"pin",rowPinTop:"pinned-top",rowPinBottom:"pinned-bottom",rowUnpin:"un-pin"}},oDe=class{constructor(e,t){this.col=e,this.firstNode=t,this.cellSpan=!0,this.spannedNodes=new Set,this.addSpannedNode(t)}reset(){this.spannedNodes.clear(),this.addSpannedNode(this.firstNode)}addSpannedNode(e){this.spannedNodes.add(e),this.lastNode=e}getLastNode(){return this.lastNode}getCellHeight(){return this.lastNode.rowTop+this.lastNode.rowHeight-this.firstNode.rowTop-1}doesSpanContain(e){return e.column!==this.col||e.rowPinned!=this.firstNode.rowPinned?!1:this.firstNode.rowIndex<=e.rowIndex&&e.rowIndex<=this.lastNode.rowIndex}getLastNodeAutoHeight(){const e=this.firstNode.__autoHeights?.[this.col.getColId()];if(e==null)return;let t=0;for(const n of this.spannedNodes)n!==this.lastNode&&(t+=n.rowHeight);return e-t}},sDe=class extends Pe{constructor(e){super(),this.column=e}buildCache(e){const{column:t,beans:{gos:n,pinnedRowModel:r,rowModel:o,valueSvc:a,pagination:l}}=this,{colDef:d}=t,f=this.getNodeMap(e),m=new Map,v=n.getCallback("isFullWidthRow"),C=d.equals,y=d.spanRows,S=typeof y=="function";let E=null,T=null,P;const N=(L,V)=>{E=L,T=null,P=V},j=L=>{const V=!L.isExpandable()&&!L.group&&!L.detail&&(v?!v({rowNode:L}):!0);if(L.rowIndex==null||!V){N(null,null);return}if(E==null||L.level!==E.level||L.footer||T&&L.rowIndex-1!==T?.getLastNode().rowIndex){N(L,a.getValue(t,L));return}const U=a.getValue(t,L);if(S){const $=ht(n,{valueA:P,nodeA:E,valueB:U,nodeB:L,column:t,colDef:d});if(!y($)){N(L,U);return}}else if(C?!C(P,U):P!==U){N(L,U);return}if(!T){const $=f?.get(E);$?.firstNode===E?($.reset(),T=$):T=new oDe(t,E),m.set(E,T)}T.addSpannedNode(L),m.set(L,T)};switch(e){case"center":o.forEachDisplayedNode?.(L=>{(!l||l.isRowInPage(L.rowIndex))&&j(L)}),this.centerValueNodeMap=m;break;case"top":r?.forEachPinnedRow("top",j),this.topValueNodeMap=m;break;case"bottom":r?.forEachPinnedRow("bottom",j),this.bottomValueNodeMap=m;break}}isCellSpanning(e){return!!this.getCellSpan(e)}getCellSpan(e){return this.getNodeMap(e.rowPinned).get(e)}getNodeMap(e){switch(e){case"top":return this.topValueNodeMap;case"bottom":return this.bottomValueNodeMap;default:return this.centerValueNodeMap}}},aDe=class extends Pe{constructor(){super(...arguments),this.beanName="rowSpanSvc",this.spanningColumns=new Map,this.debouncePinnedEvent=Ci(this,this.dispatchCellsUpdatedEvent.bind(this,!0),0),this.debounceModelEvent=Ci(this,this.dispatchCellsUpdatedEvent.bind(this,!1),0),this.pinnedTimeout=null,this.modelTimeout=null}postConstruct(){const e=this.onRowDataUpdated.bind(this),t=this.buildPinnedCaches.bind(this);this.addManagedEventListeners({paginationChanged:this.buildModelCaches.bind(this),pinnedRowDataChanged:t,pinnedRowsChanged:t,rowNodeDataChanged:e,cellValueChanged:e})}register(e){const{gos:t}=this.beans;if(!t.get("enableCellSpan")||this.spanningColumns.has(e))return;const n=this.createManagedBean(new sDe(e));this.spanningColumns.set(e,n),n.buildCache("top"),n.buildCache("bottom"),n.buildCache("center"),this.debouncePinnedEvent(),this.debounceModelEvent()}dispatchCellsUpdatedEvent(e){this.dispatchLocalEvent({type:"spannedCellsUpdated",pinned:e})}deregister(e){this.spanningColumns.delete(e)}onRowDataUpdated({node:e}){const{spannedRowRenderer:t}=this.beans;if(e.rowPinned){if(this.pinnedTimeout!=null)return;this.pinnedTimeout=window.setTimeout(()=>{this.pinnedTimeout=null,this.buildPinnedCaches(),t?.createCtrls("top"),t?.createCtrls("bottom")},0);return}this.modelTimeout==null&&(this.modelTimeout=window.setTimeout(()=>{this.modelTimeout=null,this.buildModelCaches(),t?.createCtrls("center")},0))}buildModelCaches(){this.modelTimeout!=null&&clearTimeout(this.modelTimeout),this.spanningColumns.forEach(e=>e.buildCache("center")),this.debounceModelEvent()}buildPinnedCaches(){this.pinnedTimeout!=null&&clearTimeout(this.pinnedTimeout),this.spanningColumns.forEach(e=>{e.buildCache("top"),e.buildCache("bottom")}),this.debouncePinnedEvent()}isCellSpanning(e,t){const n=this.spanningColumns.get(e);return n?n.isCellSpanning(t):!1}getCellSpanByPosition(e){const{pinnedRowModel:t,rowModel:n}=this.beans,r=e.column,o=e.rowIndex,a=this.spanningColumns.get(r);if(!a)return;let l;switch(e.rowPinned){case"top":l=t?.getPinnedTopRow(o);break;case"bottom":l=t?.getPinnedBottomRow(o);break;default:l=n.getRow(o)}if(l)return a.getCellSpan(l)}getCellStart(e){const t=this.getCellSpanByPosition(e);return t?{...e,rowIndex:t.firstNode.rowIndex}:e}getCellEnd(e){const t=this.getCellSpanByPosition(e);return t?{...e,rowIndex:t.getLastNode().rowIndex}:e}getCellSpan(e,t){const n=this.spanningColumns.get(e);if(n)return n.getCellSpan(t)}forEachSpannedColumn(e,t){for(const[n,r]of this.spanningColumns)if(r.isCellSpanning(e)){const o=r.getCellSpan(e);t(n,o)}}destroy(){super.destroy(),this.spanningColumns.clear()}},lDe=class extends yb{constructor(e,t,n){super(e.col,e.firstNode,n,t),this.cellSpan=e,this.SPANNED_CELL_CSS_CLASS="ag-spanned-cell"}setComp(e,t,n,r,o,a,l){this.eWrapper=n,super.setComp(e,t,n,r,o,a,l),this.setAriaRowSpan(),this.refreshAriaRowIndex()}isCellSpanning(){return!0}getCellSpan(){return this.cellSpan}refreshAriaRowIndex(){const{eGui:e,rowNode:t}=this;!e||t.rowIndex==null||CS(e,t.rowIndex)}setAriaRowSpan(){$fe(this.eGui,this.cellSpan.spannedNodes.size)}setFocusedCellPosition(e){this.focusedCellPosition=e}getFocusedCellPosition(){return this.focusedCellPosition??this.cellPosition}checkCellFocused(){const e=this.beans.focusSvc.getFocusedCell();return!!e&&this.cellSpan.doesSpanContain(e)}applyStaticCssClasses(){super.applyStaticCssClasses(),this.comp.toggleCss(this.SPANNED_CELL_CSS_CLASS,!0)}onCellFocused(e){const{beans:t}=this;if(mE(t)){this.focusedCellPosition=void 0;return}const n=this.isCellFocused();n||(this.focusedCellPosition=void 0),e&&n&&(this.focusedCellPosition={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column}),super.onCellFocused(e)}getRootElement(){return this.eWrapper}},cDe=class extends zS{onRowIndexChanged(){super.onRowIndexChanged();for(const e of this.getAllCellCtrls())e.refreshAriaRowIndex()}getInitialRowClasses(e){return["ag-spanned-row"]}getNewCellCtrl(e){const t=this.beans.rowSpanSvc?.getCellSpan(e,this.rowNode);if(!(!t||t.firstNode!==this.rowNode))return new lDe(t,this,this.beans)}isCorrectCtrlForSpan(e){const t=this.beans.rowSpanSvc?.getCellSpan(e.column,this.rowNode);return!t||t.firstNode!==this.rowNode?!1:e.getCellSpan()===t}onRowHeightChanged(){}refreshFirstAndLastRowStyles(){}addHoverFunctionality(){}resetHoveredStatus(){}},dDe=class extends Pe{constructor(){super(...arguments),this.beanName="spannedRowRenderer",this.topCtrls=new Map,this.bottomCtrls=new Map,this.centerCtrls=new Map}postConstruct(){this.addManagedEventListeners({displayedRowsChanged:this.createAllCtrls.bind(this)})}createAllCtrls(){this.createCtrls("top"),this.createCtrls("bottom"),this.createCtrls("center")}createCtrls(e){const{rowSpanSvc:t}=this.beans,n=this.getCtrlsMap(e),r=n.size,o=this.getAllRelevantRowControls(e),a=new Map;let l=!1;for(const f of o)f.isAlive()&&t?.forEachSpannedColumn(f.rowNode,(m,v)=>{if(a.has(v.firstNode))return;const C=n.get(v.firstNode);if(C){a.set(v.firstNode,C),n.delete(v.firstNode);return}l=!0;const y=new cDe(v.firstNode,this.beans,!1,!1,!1);a.set(v.firstNode,y)});this.setCtrlsMap(e,a);const d=a.size===r;if(!(!l&&d)){for(const f of n.values())f.destroyFirstPass(!0),f.destroySecondPass();this.dispatchLocalEvent({type:"spannedRowsUpdated",ctrlsKey:e})}}getAllRelevantRowControls(e){const{rowRenderer:t}=this.beans;switch(e){case"top":return t.topRowCtrls;case"bottom":return t.bottomRowCtrls;case"center":return t.allRowCtrls}}getCellByPosition(e){const{rowSpanSvc:t}=this.beans,n=t?.getCellSpanByPosition(e);if(!n)return;const r=this.getCtrlsMap(e.rowPinned).get(n.firstNode);if(r)return r.getAllCellCtrls().find(o=>o.column===e.column)}getCtrls(e){return[...this.getCtrlsMap(e).values()]}destroyRowCtrls(e){for(const t of this.getCtrlsMap(e).values())t.destroyFirstPass(!0),t.destroySecondPass();this.setCtrlsMap(e,new Map)}getCtrlsMap(e){switch(e){case"top":return this.topCtrls;case"bottom":return this.bottomCtrls;default:return this.centerCtrls}}setCtrlsMap(e,t){switch(e){case"top":this.topCtrls=t;break;case"bottom":this.bottomCtrls=t;break;default:this.centerCtrls=t;break}}destroy(){super.destroy(),this.destroyRowCtrls("top"),this.destroyRowCtrls("bottom"),this.destroyRowCtrls("center")}},uDe={moduleName:"CellSpan",version:Qe,beans:[aDe,dDe]},hDe=class extends Pe{constructor(e,t){super(),this.cellCtrl=e,this.staticClasses=[],this.beans=t,this.column=e.column}setComp(e){this.cellComp=e,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()}applyCellClassRules(){const{column:e,cellComp:t}=this,n=e.colDef,r=n.cellClassRules,o=this.getCellClassParams(e,n);oO(this.beans.expressionSvc,r===this.cellClassRules?void 0:this.cellClassRules,r,o,a=>t.toggleCss(a,!0),a=>t.toggleCss(a,!1)),this.cellClassRules=r}applyUserStyles(){const e=this.column,t=e.colDef,n=t.cellStyle;if(!n)return;let r;if(typeof n=="function"){const o=this.getCellClassParams(e,t);r=n(o)}else r=n;r&&this.cellComp.setUserStyles(r)}applyClassesFromColDef(){const{column:e,cellComp:t}=this,n=e.colDef,r=this.getCellClassParams(e,n);for(const a of this.staticClasses)t.toggleCss(a,!1);const o=this.beans.cellStyles.getStaticCellClasses(n,r);this.staticClasses=o;for(const a of o)t.toggleCss(a,!0)}getCellClassParams(e,t){const{value:n,rowNode:r}=this.cellCtrl;return ht(this.beans.gos,{value:n,data:r.data,node:r,colDef:t,column:e,rowIndex:r.rowIndex})}},fDe=class extends Pe{constructor(){super(...arguments),this.beanName="cellStyles"}processAllCellClasses(e,t,n,r){oO(this.beans.expressionSvc,void 0,e.cellClassRules,t,n,r),this.processStaticCellClasses(e,t,n)}getStaticCellClasses(e,t){const{cellClass:n}=e;if(!n)return[];let r;return typeof n=="function"?r=n(t):r=n,typeof r=="string"&&(r=[r]),r||[]}createCellCustomStyleFeature(e,t){return new hDe(e,t)}processStaticCellClasses(e,t,n){this.getStaticCellClasses(e,t).forEach(o=>{n(o)})}},pDe={moduleName:"CellStyle",version:Qe,beans:[fDe]},gDe={moduleName:"RowStyle",version:Qe,beans:[exe]};function mDe(e,t){return!!e.colHover?.isHovered(t)}var bDe=class extends Pe{constructor(e,t){super(),this.columns=e,this.element=t,this.destroyManagedListeners=[],this.enableFeature=n=>{const{beans:r,gos:o,element:a,columns:l}=this,d=r.colHover;if(n??!!o.get("columnHoverHighlight"))this.destroyManagedListeners=this.addManagedElementListeners(a,{mouseover:d.setMouseOver.bind(d,l),mouseout:d.clearMouseOver.bind(d)});else{for(const m of this.destroyManagedListeners)m();this.destroyManagedListeners=[]}}}postConstruct(){this.addManagedPropertyListener("columnHoverHighlight",({currentValue:e})=>{this.enableFeature(e)}),this.enableFeature()}destroy(){super.destroy(),this.destroyManagedListeners=null}},vDe="ag-column-hover",wDe=class extends Pe{constructor(){super(...arguments),this.beanName="colHover"}postConstruct(){this.addManagedPropertyListener("columnHoverHighlight",({currentValue:e})=>{e||this.clearMouseOver()})}setMouseOver(e){this.updateState(e)}clearMouseOver(){this.updateState(null)}isHovered(e){if(!this.gos.get("columnHoverHighlight"))return!1;const t=this.selectedColumns;return!!t&&t.indexOf(e)>=0}addHeaderColumnHoverListener(e,t,n){const r=()=>{const o=this.isHovered(n);t.toggleCss("ag-column-hover",o)};e.addManagedEventListeners({columnHoverChanged:r}),r()}onCellColumnHover(e,t){if(!t)return;const n=this.isHovered(e);t.toggleCss(vDe,n)}addHeaderFilterColumnHoverListener(e,t,n,r){this.createHoverFeature(e,[n],r);const o=()=>{const a=this.isHovered(n);t.toggleCss("ag-column-hover",a)};e.addManagedEventListeners({columnHoverChanged:o}),o()}createHoverFeature(e,t,n){e.createManagedBean(new bDe(t,n))}updateState(e){this.selectedColumns=e,this.eventSvc.dispatchEvent({type:"columnHoverChanged"})}},CDe={moduleName:"ColumnHover",version:Qe,beans:[wDe],apiFunctions:{isColumnHovered:mDe}},yDe=class extends Pe{constructor(){super(...arguments),this.beanName="apiEventSvc",this.syncListeners=new Map,this.asyncListeners=new Map,this.syncGlobalListeners=new Set,this.globalListenerPairs=new Map}postConstruct(){this.wrapSvc=this.beans.frameworkOverrides.createGlobalEventListenerWrapper?.()}addListener(e,t){const n=this.wrapSvc?.wrap(e,t)??t,r=!eS.has(e),o=r?this.asyncListeners:this.syncListeners;o.has(e)||o.set(e,new Set),o.get(e).add(n),this.eventSvc.addListener(e,n,r)}removeListener(e,t){const n=this.wrapSvc?.unwrap(e,t)??t,o=!!this.asyncListeners.get(e)?.delete(n);o||this.syncListeners.get(e)?.delete(n),this.eventSvc.removeListener(e,n,o)}addGlobalListener(e){const t=this.wrapSvc?.wrapGlobal(e)??e,n=(a,l)=>{eS.has(a)&&t(a,l)},r=(a,l)=>{eS.has(a)||t(a,l)};this.globalListenerPairs.set(e,{syncListener:n,asyncListener:r});const o=this.eventSvc;o.addGlobalListener(n,!1),o.addGlobalListener(r,!0)}removeGlobalListener(e){const{eventSvc:t,wrapSvc:n,globalListenerPairs:r}=this,o=n?.unwrapGlobal(e)??e;if(r.has(o)){const{syncListener:l,asyncListener:d}=r.get(o);t.removeGlobalListener(l,!1),t.removeGlobalListener(d,!0),r.delete(e)}else this.syncGlobalListeners.delete(o),t.removeGlobalListener(o,!1)}destroyEventListeners(e,t){e.forEach((n,r)=>{n.forEach(o=>this.eventSvc.removeListener(r,o,t)),n.clear()}),e.clear()}destroyGlobalListeners(e,t){for(const n of e)this.eventSvc.removeGlobalListener(n,t);e.clear()}destroy(){super.destroy(),this.destroyEventListeners(this.syncListeners,!1),this.destroyEventListeners(this.asyncListeners,!0),this.destroyGlobalListeners(this.syncGlobalListeners,!1);const{globalListenerPairs:e,eventSvc:t}=this;e.forEach(({syncListener:n,asyncListener:r})=>{t.removeGlobalListener(n,!1),t.removeGlobalListener(r,!0)}),e.clear()}};function kDe(e,t,n){e.apiEventSvc?.addListener(t,n)}function xDe(e,t,n){e.apiEventSvc?.removeListener(t,n)}function ADe(e,t){e.apiEventSvc?.addGlobalListener(t)}function SDe(e,t){e.apiEventSvc?.removeGlobalListener(t)}var CK={moduleName:"EventApi",version:Qe,apiFunctions:{addEventListener:kDe,addGlobalListener:ADe,removeEventListener:xDe,removeGlobalListener:SDe},beans:[yDe]},_De={moduleName:"Locale",version:Qe,beans:[eAe]},EDe=class extends Pe{constructor(){super(...arguments),this.beanName="rowAutoHeight",this.wasEverActive=!1,this._debouncedCalculateRowHeights=Ci(this,this.calculateRowHeights.bind(this),1)}requestCheckAutoHeight(){this.wasEverActive&&this._debouncedCalculateRowHeights()}calculateRowHeights(){const{visibleCols:e,rowModel:t,rowSpanSvc:n,pinnedRowModel:r}=this.beans,o=e.autoHeightCols;let a=!1;const l=d=>{const f=d.__autoHeights;let m=Fd(this.beans,d).height;for(const v of o){let C=f?.[v.getColId()];const y=n?.getCellSpan(v,d);if(y){if(y.getLastNode()!==d)continue;if(C=n?.getCellSpan(v,d)?.getLastNodeAutoHeight(),!C)return}if(C==null){if(this.colSpanSkipCell(v,d))continue;return}m=Math.max(C,m)}m!==d.rowHeight&&(d.setRowHeight(m),a=!0)};r?.forEachPinnedRow?.("top",l),r?.forEachPinnedRow?.("bottom",l),t.forEachDisplayedNode?.(l),a&&t.onRowHeightChanged?.()}setRowAutoHeight(e,t,n){if(e.__autoHeights??(e.__autoHeights={}),t==null){delete e.__autoHeights[n.getId()];return}const r=e.__autoHeights[n.getId()];e.__autoHeights[n.getId()]=t,r!==t&&this.requestCheckAutoHeight()}colSpanSkipCell(e,t){const{colModel:n,colViewport:r,visibleCols:o}=this.beans;if(!n.colSpanActive)return!1;let a=[];switch(e.getPinned()){case"left":a=o.getLeftColsForRow(t);break;case"right":a=o.getRightColsForRow(t);break;case null:a=r.getColsWithinViewport(t);break}return!a.includes(e)}setupCellAutoHeight(e,t,n){if(!e.column.isAutoHeight()||!t)return!1;this.wasEverActive=!0;const r=t.parentElement,{rowNode:o,column:a}=e,l=this.beans,d=v=>{if(this.beans.editSvc?.isEditing(e)||!e.isAlive()||!n.isAlive())return;const{paddingTop:C,paddingBottom:y,borderBottomWidth:S,borderTopWidth:E}=rg(r),T=C+y+S+E,N=t.offsetHeight+T;if(v<5){const L=!Wr(l)?.contains(t),V=N==0;if(L||V){window.setTimeout(()=>d(v+1),0);return}}this.setRowAutoHeight(o,N,a)},f=()=>d(0);f();const m=al(l,t,f);return n.addDestroyFunc(()=>{m(),this.setRowAutoHeight(o,void 0,a)}),!0}setAutoHeightActive(e){this.active=e.list.some(t=>t.isVisible()&&t.isAutoHeight())}areRowsMeasured(){if(!this.active)return!0;const e=this.beans.rowRenderer.getAllRowCtrls();let t=null;for(const{rowNode:n}of e)if((!t||this.beans.colModel.colSpanActive)&&(t=this.beans.colViewport.getColsWithinViewport(n).filter(o=>o.isAutoHeight())),t.length!==0){if(!n.__autoHeights)return!1;for(const r of t){const o=n.__autoHeights[r.getColId()];if(!o||n.rowHeight<o)return!1}}return!0}},DDe={moduleName:"RowAutoHeight",version:Qe,beans:[EDe]},qh={moduleName:"AllCommunity",version:Qe,dependsOn:[D_e,F_e,$_e,wAe,MSe,TSe,RSe,PSe,ISe,NSe,OSe,DSe,y1e,k1e,x1e,C1e,S1e,_1e,lEe,s_e,EEe,hq,LEe,BEe,$Ee,ZEe,cCe,iDe,QSe,Fxe,pDe,CDe,gDe,CK,jxe,nEe,rK,_De,DDe,lCe,M_e,uDe]},Qi=ue.createContext({}),yK=ue.createContext("default"),M0=(e,t,n,r)=>{if(!e||e.componentFromFramework||t.isDestroyed())return;const a=e.newAgStackInstance();let l,d,f=!1;return a.then(m=>{if(f){t.destroyBean(m);return}l=m,d=l.getGui(),n.appendChild(d),b8(r,l)}),()=>{f=!0,l&&(d?.remove(),t.destroyBean(l),r&&b8(r,void 0))}},b8=(e,t)=>{if(e)if(e instanceof Function)e(t);else{const n=e;n.current=t}},na=(...e)=>e.filter(n=>n!=null&&n!=="").join(" "),sa=class kK{constructor(...t){this.classesMap={};for(const n of t)this.classesMap[n]=!0}setClass(t,n){if(!!this.classesMap[t]==n)return this;const o=new kK;return o.classesMap={...this.classesMap},o.classesMap[t]=n,o}toString(){return Object.keys(this.classesMap).filter(n=>this.classesMap[n]).join(" ")}},sv=e=>{const t=()=>typeof Symbol=="function"&&Symbol.for,n=()=>t()?Symbol.for("react.memo"):60115;return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===n()},eI=ue.version?.split(".")[0],xK=eI==="16"||eI==="17";function MDe(){return eI==="19"}var nS=!1;function TDe(e){return nS||setTimeout(()=>nS=!1,0),nS=!0,e()}var Qy=(e,t)=>{!xK&&e&&!nS?dU.flushSync(t):t()},RDe=e=>{xK?e():ue.startTransition(e)};function PDe(e,t,n){return ue.useSyncExternalStore?ue.useSyncExternalStore(e,t):n}function GS(e,t,n){if(t==null||e==null)return t;if(e===t||t.length===0&&e.length===0)return e;if(n||e.length===0&&t.length>0||e.length>0&&t.length===0)return t;const r=[],o=[],a=new Map,l=new Map;for(let d=0;d<t.length;d++){const f=t[d];l.set(f.instanceId,f)}for(let d=0;d<e.length;d++){const f=e[d];a.set(f.instanceId,f),l.has(f.instanceId)&&r.push(f)}for(let d=0;d<t.length;d++){const f=t[d],m=f.instanceId;a.has(m)||o.push(f)}return r.length===e.length&&o.length===0?e:r.length===0&&o.length===t.length?t:r.length===0?o:o.length===0?r:[...r,...o]}var AK=M.forwardRef((e,t)=>{const{registry:n,context:r}=M.useContext(Qi),o=M.useRef(null),a=M.useRef(null),l=M.useRef(null),d=M.useRef(null),f=M.useRef(null),m=M.useRef(),[v,C]=M.useState(),[y,S]=M.useState(),[E,T]=M.useState(),[P,N]=M.useState(()=>new sa),[j,L]=M.useState(()=>new sa("ag-hidden")),[V,U]=M.useState(()=>new sa("ag-hidden")),[$,z]=M.useState(()=>new sa("ag-invisible"));M.useImperativeHandle(t,()=>({refresh(){return!1}})),M.useLayoutEffect(()=>M0(v,r,a.current),[v]);const K=M.useCallback(ee=>{if(o.current=ee,!ee||r.isDestroyed()){m.current=r.destroyBean(m.current);return}const le={setInnerRenderer:(he,ne)=>{C(he),T(ne)},setChildCount:he=>S(he),toggleCss:(he,ne)=>N(fe=>fe.setClass(he,ne)),setContractedDisplayed:he=>U(ne=>ne.setClass("ag-hidden",!he)),setExpandedDisplayed:he=>L(ne=>ne.setClass("ag-hidden",!he)),setCheckboxVisible:he=>z(ne=>ne.setClass("ag-invisible",!he)),setCheckboxSpacing:he=>z(ne=>ne.setClass("ag-group-checkbox-spacing",he))},ce=n.createDynamicBean("groupCellRendererCtrl",!0);ce&&(m.current=r.createBean(ce),m.current.init(le,ee,l.current,d.current,f.current,AK,e))},[]),te=M.useMemo(()=>`ag-cell-wrapper ${P.toString()}`,[P]),ae=M.useMemo(()=>`ag-group-expanded ${j.toString()}`,[j]),X=M.useMemo(()=>`ag-group-contracted ${V.toString()}`,[V]),Z=M.useMemo(()=>`ag-group-checkbox ${$.toString()}`,[$]),se=v?.componentFromFramework,Q=se?v.componentClass:void 0,J=v==null&&E!=null,re=ng(E);return ue.createElement("span",{className:te,ref:K,...e.colDef?{}:{role:m.current?.getCellAriaRole()}},ue.createElement("span",{className:ae,ref:d}),ue.createElement("span",{className:X,ref:f}),ue.createElement("span",{className:Z,ref:l}),ue.createElement("span",{className:"ag-group-value",ref:a},J?re:se?ue.createElement(Q,{...v.params}):null),ue.createElement("span",{className:"ag-group-child-count"},y))}),v8=AK,fO=M.createContext({setMethods:()=>{}}),IDe=e=>{const{initialProps:t,addUpdateCallback:n,CustomComponentClass:r,setMethods:o}=e,[{key:a,...l},d]=M.useState(t);return M.useEffect(()=>{n(f=>d(f))},[]),ue.createElement(fO.Provider,{value:{setMethods:o}},ue.createElement(r,{key:a,...l}))},NDe=M.memo(IDe),ODe=0;function w8(){return`agPortalKey_${++ODe}`}var SK=class{constructor(e,t,n,r){this.portal=null,this.oldPortal=null,this.reactComponent=e,this.portalManager=t,this.componentType=n,this.suppressFallbackMethods=!!r,this.statelessComponent=this.isStateless(this.reactComponent),this.key=w8(),this.portalKey=w8(),this.instanceCreated=this.isStatelessComponent()?Jt.resolve(!1):new Jt(o=>{this.resolveInstanceCreated=o})}getGui(){return this.eParentElement}getRootElement(){return this.eParentElement.firstChild}destroy(){this.componentInstance&&typeof this.componentInstance.destroy=="function"&&this.componentInstance.destroy();const e=this.portal;e&&this.portalManager.destroyPortal(e)}createParentElement(e){const t=this.portalManager.getComponentWrappingElement(),n=document.createElement(t||"div");return n.classList.add("ag-react-container"),e.reactContainer=n,n}statelessComponentRendered(){return this.eParentElement.childElementCount>0||this.eParentElement.childNodes.length>0}getFrameworkComponentInstance(){return this.componentInstance}isStatelessComponent(){return this.statelessComponent}getReactComponentName(){return this.reactComponent.name}getMemoType(){return this.hasSymbol()?Symbol.for("react.memo"):60115}hasSymbol(){return typeof Symbol=="function"&&Symbol.for}isStateless(e){return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===this.getMemoType()}hasMethod(e){const t=this.getFrameworkComponentInstance();return!!t&&t[e]!=null||this.fallbackMethodAvailable(e)}callMethod(e,t){const n=this.getFrameworkComponentInstance();if(this.isStatelessComponent())return this.fallbackMethod(e,t&&t[0]?t[0]:{});if(!n){setTimeout(()=>this.callMethod(e,t));return}const r=n[e];if(r)return r.apply(n,t);if(this.fallbackMethodAvailable(e))return this.fallbackMethod(e,t&&t[0]?t[0]:{})}addMethod(e,t){this[e]=t}init(e){return this.eParentElement=this.createParentElement(e),this.createOrUpdatePortal(e),new Jt(t=>this.createReactComponent(t))}createOrUpdatePortal(e){this.isStatelessComponent()||(this.ref=t=>{this.componentInstance=t,this.resolveInstanceCreated?.(!0),this.resolveInstanceCreated=void 0},e.ref=this.ref),this.reactElement=this.createElement(this.reactComponent,{...e,key:this.key}),this.portal=tg.createPortal(this.reactElement,this.eParentElement,this.portalKey)}createElement(e,t){return M.createElement(e,t)}createReactComponent(e){this.portalManager.mountReactPortal(this.portal,this,e)}rendered(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!!(!this.isStatelessComponent()&&this.getFrameworkComponentInstance())}refreshComponent(e){this.oldPortal=this.portal,this.createOrUpdatePortal(e),this.portalManager.updateReactPortal(this.oldPortal,this.portal)}fallbackMethod(e,t){const n=this[`${e}Component`];if(!this.suppressFallbackMethods&&n)return n.bind(this)(t)}fallbackMethodAvailable(e){return this.suppressFallbackMethods?!1:!!this[`${e}Component`]}};function kE(e,t,n){for(const r of e){const o=t[r];o&&(n[r]=o)}}var _s=class extends SK{constructor(){super(...arguments),this.awaitUpdateCallback=new Jt(e=>{this.resolveUpdateCallback=e}),this.wrapperComponent=NDe}init(e){return this.sourceParams=e,super.init(this.getProps())}addMethod(){}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}getFrameworkComponentInstance(){return this}createElement(e,t){return super.createElement(this.wrapperComponent,{initialProps:t,CustomComponentClass:e,setMethods:n=>this.setMethods(n),addUpdateCallback:n=>{this.updateCallback=()=>(n(this.getProps()),new Jt(r=>{setTimeout(()=>{r()})})),this.resolveUpdateCallback()}})}setMethods(e){this.providedMethods=e,kE(this.getOptionalMethods(),this.providedMethods,this)}getOptionalMethods(){return[]}getProps(){return{...this.sourceParams,key:this.key,ref:this.ref}}refreshProps(){return this.updateCallback?this.updateCallback():new Jt(e=>this.awaitUpdateCallback.then(()=>{this.updateCallback().then(()=>e())}))}},FDe=class extends _s{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},LDe=class extends _s{constructor(){super(...arguments),this.date=null,this.onDateChange=e=>this.updateDate(e)}getDate(){return this.date}setDate(e){this.date=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled"]}updateDate(e){this.setDate(e),this.sourceParams.onDateChanged()}getProps(){const e=super.getProps();return e.date=this.date,e.onDateChange=this.onDateChange,delete e.onDateChanged,e}},BDe=class extends _s{constructor(){super(...arguments),this.label="",this.icon=null,this.shake=!1}setIcon(e,t){this.icon=e,this.shake=t,this.refreshProps()}setLabel(e){this.label=e,this.refreshProps()}getProps(){const e=super.getProps(),{label:t,icon:n,shake:r}=this;return e.label=t,e.icon=n,e.shake=r,e}},jDe=class extends _s{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e),this.onUiChange=()=>this.sourceParams.filterModifiedCallback(),this.expectingNewMethods=!0,this.hasBeenActive=!1,this.awaitSetMethodsCallback=new Jt(e=>{this.resolveSetMethodsCallback=e})}isFilterActive(){return this.model!=null}doesFilterPass(e){return this.providedMethods.doesFilterPass(e)}getModel(){return this.model}setModel(e){return this.expectingNewMethods=!0,this.model=e,this.hasBeenActive||(this.hasBeenActive=this.isFilterActive()),this.refreshProps()}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}afterGuiAttached(e){const t=this.providedMethods;t?t.afterGuiAttached?.(e):this.awaitSetMethodsCallback.then(()=>this.providedMethods?.afterGuiAttached?.(e))}getOptionalMethods(){return["afterGuiDetached","onNewRowsLoaded","getModelAsString","onAnyFilterChanged"]}setMethods(e){this.expectingNewMethods===!1&&this.hasBeenActive&&this.providedMethods?.doesFilterPass!==e?.doesFilterPass&&setTimeout(()=>{this.sourceParams.filterChangedCallback()}),this.expectingNewMethods=!1,super.setMethods(e),this.resolveSetMethodsCallback(),this.resolveFilterPassCallback?.(),this.resolveFilterPassCallback=void 0}updateModel(e){this.resolveFilterPassCallback?.();const t=new Jt(n=>{this.resolveFilterPassCallback=n});this.setModel(e).then(()=>{t.then(()=>{this.sourceParams.filterChangedCallback()})})}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e.onUiChange=this.onUiChange,delete e.filterChangedCallback,e}},zDe=class extends _s{constructor(){super(...arguments),this.awaitSetMethodsCallback=new Jt(e=>{this.resolveSetMethodsCallback=e})}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}afterGuiAttached(e){const t=this.providedMethods;t?t.afterGuiAttached?.(e):this.awaitSetMethodsCallback.then(()=>this.providedMethods?.afterGuiAttached?.(e))}getOptionalMethods(){return["afterGuiDetached","onNewRowsLoaded","onAnyFilterChanged"]}setMethods(e){super.setMethods(e),this.resolveSetMethodsCallback()}};function _K(e,t){e.parentFilterInstance(n=>{(n.setModel(t)||Jt.resolve()).then(()=>{e.filterParams.filterChangedCallback()})})}var HDe=class{constructor(e,t){this.floatingFilterParams=e,this.refreshProps=t,this.model=null,this.onModelChange=n=>this.updateModel(n)}getProps(){return{...this.floatingFilterParams,model:this.model,onModelChange:this.onModelChange}}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.floatingFilterParams=e,this.refreshProps()}setMethods(e){kE(this.getOptionalMethods(),e,this)}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),_K(this.floatingFilterParams,e)}},VDe=class extends _s{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e)}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),_K(this.sourceParams,e)}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e}},GDe=class extends _s{refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}},UDe=class extends _s{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},WDe=class extends _s{refresh(e){this.sourceParams=e,this.refreshProps()}},$De=class extends _s{constructor(){super(...arguments),this.active=!1,this.expanded=!1,this.onActiveChange=e=>this.updateActive(e)}setActive(e){this.awaitSetActive(e)}setExpanded(e){this.expanded=e,this.refreshProps()}getOptionalMethods(){return["select","configureDefaults"]}awaitSetActive(e){return this.active=e,this.refreshProps()}updateActive(e){const t=this.awaitSetActive(e);e&&t.then(()=>this.sourceParams.onItemActivated())}getProps(){const e=super.getProps();return e.active=this.active,e.expanded=this.expanded,e.onActiveChange=this.onActiveChange,delete e.onItemActivated,e}},qDe=class extends _s{refresh(e){this.sourceParams=e,this.refreshProps()}},KDe=class extends _s{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},YDe=class extends _s{constructor(){super(...arguments),this.onStateChange=e=>this.updateState(e)}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getState(){return this.state}updateState(e){this.state=e,this.refreshProps(),this.sourceParams.onStateUpdated()}getProps(){const e=super.getProps();return e.state=this.state,e.onStateChange=this.onStateChange,e}};function pO(){ze(231)}var QDe=1e3,ZDe=class{constructor(e,t,n){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=t||"div",this.refresher=e,this.maxComponentCreationTimeMs=n||QDe}getPortals(){return this.portals}destroy(){this.destroyed=!0}destroyPortal(e){this.portals=this.portals.filter(t=>t!==e),this.batchUpdate()}getComponentWrappingElement(){return this.wrappingElement}mountReactPortal(e,t,n){this.portals=[...this.portals,e],this.waitForInstance(t,n),this.batchUpdate()}updateReactPortal(e,t){this.portals[this.portals.indexOf(e)]=t,this.batchUpdate()}batchUpdate(){this.hasPendingPortalUpdate||(setTimeout(()=>{this.destroyed||(this.refresher(),this.hasPendingPortalUpdate=!1)}),this.hasPendingPortalUpdate=!0)}waitForInstance(e,t,n=Date.now()){if(this.destroyed){t(null);return}if(e.rendered())t(e);else{if(Date.now()-n>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate){Qy(!0,()=>this.refresher()),e.rendered()&&t(e);return}window.setTimeout(()=>{this.waitForInstance(e,t,n)})}}},XDe=({ctrl:e})=>{const t=e.isAlive(),{context:n}=M.useContext(Qi),[r,o]=M.useState(),[a,l]=M.useState(),d=M.useRef(),f=M.useRef(null),m=M.useRef(null),v=M.useRef(null),C=M.useRef(),y=M.useRef();t&&!y.current&&(y.current=new rv(()=>f.current));const S=M.useCallback(N=>{if(f.current=N,!N||!e.isAlive()||n.isDestroyed()){d.current=n.destroyBean(d.current);return}d.current=n.createBean(new nv);const j=()=>{const V=e.getSelectAllGui();V&&(m.current?.insertAdjacentElement("afterend",V),d.current.addDestroyFunc(()=>V.remove()))},L={setWidth:V=>{f.current&&(f.current.style.width=V)},toggleCss:(V,U)=>y.current.toggleCss(V,U),setUserStyles:V=>l(V),setAriaSort:V=>{f.current&&(V?oW(f.current,V):sW(f.current))},setUserCompDetails:V=>o(V),getUserCompInstance:()=>C.current||void 0,refreshSelectAllGui:j,removeSelectAllGui:()=>e.getSelectAllGui()?.remove()};e.setComp(L,N,m.current,v.current,d.current),j()},[]);M.useLayoutEffect(()=>M0(r,n,v.current,C),[r]),M.useEffect(()=>{e.setDragSource(f.current)},[r]);const E=M.useMemo(()=>!!(r?.componentFromFramework&&sv(r.componentClass)),[r]),T=r?.componentFromFramework,P=r?.componentClass;return ue.createElement("div",{ref:S,style:a,className:"ag-header-cell",role:"columnheader"},ue.createElement("div",{ref:m,className:"ag-header-cell-resize",role:"presentation"}),ue.createElement("div",{ref:v,className:"ag-header-cell-comp-wrapper",role:"presentation"},T?E?ue.createElement(P,{...r.params}):ue.createElement(P,{...r.params,ref:C}):null))},JDe=M.memo(XDe),e2e=class{constructor(e,t){this.floatingFilterParams=e,this.refreshProps=t}getProps(){return this.floatingFilterParams}refresh(e){this.floatingFilterParams=e,this.refreshProps()}setMethods(e){kE(this.getOptionalMethods(),e,this)}getOptionalMethods(){return["afterGuiAttached"]}},t2e=({ctrl:e})=>{const{context:t,gos:n}=M.useContext(Qi),[r,o]=M.useState(),[a,l]=M.useState(()=>new sa("ag-header-cell","ag-floating-filter")),[d,f]=M.useState(()=>new sa),[m,v]=M.useState(()=>new sa("ag-floating-filter-button","ag-hidden")),[C,y]=M.useState("false"),[S,E]=M.useState(),[,T]=M.useState(1),P=M.useRef(),N=M.useRef(null),j=M.useRef(null),L=M.useRef(null),V=M.useRef(null),U=M.useRef(),$=M.useRef(),z=he=>{he!=null&&U.current&&U.current(he)},K=M.useCallback(he=>{if(N.current=he,!he||!e.isAlive()||t.isDestroyed()){P.current=t.destroyBean(P.current);return}P.current=t.createBean(new nv),$.current=new Jt(fe=>{U.current=fe});const ne={toggleCss:(fe,ve)=>l(me=>me.setClass(fe,ve)),setUserStyles:fe=>o(fe),addOrRemoveBodyCssClass:(fe,ve)=>f(me=>me.setClass(fe,ve)),setButtonWrapperDisplayed:fe=>{v(ve=>ve.setClass("ag-hidden",!fe)),y(fe?"false":"true")},setWidth:fe=>{N.current&&(N.current.style.width=fe)},setCompDetails:fe=>E(fe),getFloatingFilterComp:()=>$.current?$.current:null,setMenuIcon:fe=>V.current?.appendChild(fe)};e.setComp(ne,he,V.current,j.current,P.current)},[]);M.useLayoutEffect(()=>M0(S,t,j.current,z),[S]);const te=M.useMemo(()=>a.toString(),[a]),ae=M.useMemo(()=>d.toString(),[d]),X=M.useMemo(()=>m.toString(),[m]),Z=M.useMemo(()=>!!(S&&S.componentFromFramework&&sv(S.componentClass)),[S]),se=M.useMemo(()=>n.get("reactiveCustomComponents"),[]),Q=M.useMemo(()=>n.get("enableFilterHandlers"),[]),[J,re]=M.useState();M.useEffect(()=>{if(S?.componentFromFramework)if(se){const he=Q?e2e:HDe,ne=new he(S.params,()=>T(fe=>fe+1));z(ne),re(ne)}else pO()},[S]);const ee=J?.getProps(),le=S?.componentFromFramework,ce=S?.componentClass;return ue.createElement("div",{ref:K,style:r,className:te,role:"gridcell"},ue.createElement("div",{ref:j,className:ae,role:"presentation"},le?se?ee&&ue.createElement(fO.Provider,{value:{setMethods:he=>J.setMethods(he)}},ue.createElement(ce,{...ee})):ue.createElement(ce,{...S.params,ref:Z?()=>{}:z}):null),ue.createElement("div",{ref:L,"aria-hidden":C,className:X,role:"presentation"},ue.createElement("button",{ref:V,type:"button",className:"ag-button ag-floating-filter-button-button",tabIndex:-1})))},n2e=M.memo(t2e),r2e=({ctrl:e})=>{const{context:t}=M.useContext(Qi),[n,r]=M.useState(),[o,a]=M.useState(()=>new sa),[l,d]=M.useState(()=>new sa),[f,m]=M.useState("false"),[v,C]=M.useState(),[y,S]=M.useState(),E=M.useRef(),T=M.useRef(null),P=M.useRef(null),N=M.useRef(null),j=M.useRef(),L=M.useCallback(te=>{if(T.current=te,!te||!e.isAlive()||t.isDestroyed()){E.current=t.destroyBean(E.current);return}E.current=t.createBean(new nv);const ae={setWidth:X=>{T.current&&(T.current.style.width=X)},toggleCss:(X,Z)=>a(se=>se.setClass(X,Z)),setUserStyles:X=>r(X),setHeaderWrapperHidden:X=>{const Z=N.current;Z&&(X?Z.style.setProperty("display","none"):Z.style.removeProperty("display"))},setHeaderWrapperMaxHeight:X=>{const Z=N.current;Z&&(X!=null?Z.style.setProperty("max-height",`${X}px`):Z.style.removeProperty("max-height"),Z.classList.toggle("ag-header-cell-comp-wrapper-limited-height",X!=null))},setUserCompDetails:X=>S(X),setResizableDisplayed:X=>{d(Z=>Z.setClass("ag-hidden",!X)),m(X?"false":"true")},setAriaExpanded:X=>C(X),getUserCompInstance:()=>j.current||void 0};e.setComp(ae,te,P.current,N.current,E.current)},[]);M.useLayoutEffect(()=>M0(y,t,N.current),[y]),M.useEffect(()=>{T.current&&e.setDragSource(T.current)},[y]);const V=M.useMemo(()=>!!(y?.componentFromFramework&&sv(y.componentClass)),[y]),U=M.useMemo(()=>"ag-header-group-cell "+o.toString(),[o]),$=M.useMemo(()=>"ag-header-cell-resize "+l.toString(),[l]),z=y?.componentFromFramework,K=y?.componentClass;return ue.createElement("div",{ref:L,style:n,className:U,role:"columnheader","aria-expanded":v},ue.createElement("div",{ref:N,className:"ag-header-cell-comp-wrapper",role:"presentation"},z?V?ue.createElement(K,{...y.params}):ue.createElement(K,{...y.params,ref:j}):null),ue.createElement("div",{ref:P,"aria-hidden":f,className:$}))},i2e=M.memo(r2e),o2e=({ctrl:e})=>{const{gos:t,context:n}=M.useContext(Qi),{topOffset:r,rowHeight:o}=M.useMemo(()=>e.getTopAndHeight(),[]),a=M.useMemo(()=>t.get("tabIndex"),[]),[l,d]=M.useState(()=>e.getAriaRowIndex()),f=e.headerRowClass,[m,v]=M.useState(()=>o+"px"),[C,y]=M.useState(()=>r+"px"),S=M.useRef(null),[E,T]=M.useState(()=>e.getUpdatedHeaderCtrls()),P=M.useRef(),N=M.useRef(null),j=M.useCallback(U=>{if(N.current=U,!U||!e.isAlive()||n.isDestroyed()){P.current=n.destroyBean(P.current);return}P.current=n.createBean(new nv);const $={setHeight:z=>v(z),setTop:z=>y(z),setHeaderCtrls:(z,K,te)=>{const ae=S.current,X=GS(ae,z,K);X!==ae&&(S.current=X,Qy(te,()=>T(X)))},setWidth:z=>{N.current&&(N.current.style.width=z)},setRowIndex:z=>{d(z)}};e.setComp($,P.current,!1)},[]),L=M.useMemo(()=>({height:m,top:C}),[m,C]),V=M.useCallback(U=>{switch(e.type){case"group":return ue.createElement(i2e,{ctrl:U,key:U.instanceId});case"filter":return ue.createElement(n2e,{ctrl:U,key:U.instanceId});default:return ue.createElement(JDe,{ctrl:U,key:U.instanceId})}},[]);return ue.createElement("div",{ref:j,className:f,role:"row",style:L,tabIndex:a,"aria-rowindex":l},E.map(V))},s2e=M.memo(o2e),a2e=({pinned:e})=>{const[t,n]=M.useState(!0),[r,o]=M.useState([]),{context:a}=M.useContext(Qi),l=M.useRef(null),d=M.useRef(null),f=M.useRef(),m=e==="left",v=e==="right",C=!m&&!v,y=M.useCallback(T=>{if(l.current=T,!T||a.isDestroyed()){f.current=a.destroyBean(f.current);return}f.current=a.createBean(new K$(e));const P={setDisplayed:n,setCtrls:N=>o(N),setCenterWidth:N=>{d.current&&(d.current.style.width=N)},setViewportScrollLeft:N=>{l.current&&(l.current.scrollLeft=N)},setPinnedContainerWidth:N=>{l.current&&(l.current.style.width=N,l.current.style.minWidth=N,l.current.style.maxWidth=N)}};f.current.setComp(P,l.current)},[]),S=t?"":"ag-hidden",E=()=>r.map(T=>ue.createElement(s2e,{ctrl:T,key:T.instanceId}));return m?ue.createElement("div",{ref:y,className:"ag-pinned-left-header "+S,"aria-hidden":!t,role:"rowgroup"},E()):v?ue.createElement("div",{ref:y,className:"ag-pinned-right-header "+S,"aria-hidden":!t,role:"rowgroup"},E()):C?ue.createElement("div",{ref:y,className:"ag-header-viewport "+S,role:"rowgroup",tabIndex:-1},ue.createElement("div",{ref:d,className:"ag-header-container",role:"presentation"},E())):null},hT=M.memo(a2e),l2e=()=>{const[e,t]=M.useState(()=>new sa),[n,r]=M.useState(),{context:o}=M.useContext(Qi),a=M.useRef(null),l=M.useRef(),d=M.useCallback(v=>{if(a.current=v,!v||o.isDestroyed()){l.current=o.destroyBean(l.current);return}l.current=o.createBean(new $$);const C={toggleCss:(y,S)=>t(E=>E.setClass(y,S)),setHeightAndMinHeight:y=>r(y)};l.current.setComp(C,v,v)},[]),f=M.useMemo(()=>"ag-header "+e.toString(),[e]),m=M.useMemo(()=>({height:n,minHeight:n}),[n]);return ue.createElement("div",{ref:d,className:f,style:m,role:"presentation"},ue.createElement(hT,{pinned:"left"}),ue.createElement(hT,{pinned:null}),ue.createElement(hT,{pinned:"right"}))},c2e=M.memo(l2e),d2e=(e,t)=>{M.useEffect(()=>{const n=t.current;if(n){const r=n.parentElement;if(r){const o=document.createComment(e);return r.insertBefore(o,n),()=>{o.remove()}}}},[e])},wp=d2e,u2e=class{constructor(e,t){this.cellEditorParams=e,this.refreshProps=t,this.instanceCreated=new Jt(n=>{this.resolveInstanceCreated=n}),this.onValueChange=n=>this.updateValue(n),this.value=e.value}getProps(){return{...this.cellEditorParams,initialValue:this.cellEditorParams.value,value:this.value,onValueChange:this.onValueChange}}getValue(){return this.value}refresh(e){this.cellEditorParams=e,this.refreshProps()}setMethods(e){kE(this.getOptionalMethods(),e,this)}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}setRef(e){this.componentInstance=e,this.resolveInstanceCreated?.(),this.resolveInstanceCreated=void 0}getOptionalMethods(){return["isCancelBeforeStart","isCancelAfterEnd","focusIn","focusOut","afterGuiAttached","getValidationErrors","getValidationElement"]}updateValue(e){this.value=e,this.refreshProps()}},h2e=e=>{const t=M.useRef(e),n=M.useRef(),r=M.useRef(!1),o=M.useRef(!1),[,a]=M.useState(0);r.current&&(o.current=!0),M.useEffect(()=>(r.current||(n.current=t.current(),r.current=!0),a(l=>l+1),()=>{o.current&&n.current?.()}),[])},f2e=e=>{const[t,n]=M.useState(),r=M.useContext(Qi),{context:o,popupSvc:a,gos:l,editSvc:d}=r,{editDetails:f,cellCtrl:m,eParentCell:v}=e;return h2e(()=>{const{compDetails:C}=f,y=l.get("stopEditingWhenCellsLoseFocus");let S,E;if(!o.isDestroyed()){E=o.createBean(d.createPopupEditorWrapper(C.params));const T=E.getGui();if(e.jsChildComp){const U=e.jsChildComp.getGui();U&&T.appendChild(U)}const{column:P,rowNode:N}=m,j={column:P,rowNode:N,type:"popupCellEditor",eventSource:v,ePopup:T,position:f.popupPosition,keepWithinBounds:!0},L=a?.positionPopupByComponent.bind(a,j),V=a?.addPopup({modal:y,eChild:T,closeOnEsc:!0,closedCallback:()=>{m.onPopupEditorClosed()},anchorToElement:v,positionCallback:L,ariaOwns:v});S=V?V.hideFunc:void 0,n(E),e.jsChildComp?.afterGuiAttached?.()}return()=>{S?.(),o.destroyBean(E)}}),M.useLayoutEffect(()=>()=>{m.isCellFocused()&&t?.getGui().contains(Qn(r))&&v.focus({preventScroll:!0})},[t]),t&&e.wrappedContent?tg.createPortal(e.wrappedContent,t.getGui()):null},C8=M.memo(f2e),p2e=(e,t,n)=>{const{compProxy:r}=e;n(r);const o=r.getProps(),a=sv(t);return ue.createElement(fO.Provider,{value:{setMethods:l=>r.setMethods(l)}},a?ue.createElement(t,{...o}):ue.createElement(t,{...o,ref:l=>r.setRef(l)}))},y8=(e,t,n)=>e.compProxy?p2e(e,t,n):ue.createElement(t,{...e.compDetails.params,ref:n}),g2e=(e,t,n,r,o)=>{const a=e.compDetails,l=a.componentClass,d=a.componentFromFramework&&!e.popup,f=a.componentFromFramework&&e.popup,m=!a.componentFromFramework&&e.popup;return d?y8(e,l,t):f?ue.createElement(C8,{editDetails:e,cellCtrl:r,eParentCell:n,wrappedContent:y8(e,l,t)}):m&&o?ue.createElement(C8,{editDetails:e,cellCtrl:r,eParentCell:n,jsChildComp:o}):null},m2e=(e,t,n,r,o,a)=>{const{context:l}=M.useContext(Qi),d=M.useCallback(()=>{const f=o.current;if(!f)return;const m=f.getGui();m&&m.parentElement&&m.remove(),l.destroyBean(f),o.current=void 0},[]);M.useEffect(()=>{const f=e!=null,m=e?.compDetails&&!e.compDetails.componentFromFramework,v=t&&n==null;if(!(f&&m&&!v)){d();return}const y=e.compDetails;if(o.current){const E=o.current,P=E.refresh!=null&&e.force==!1?E.refresh(y.params):!1;if(P===!0||P===void 0)return;d()}y.newAgStackInstance().then(E=>{if(!E)return;const T=E.getGui();if(!T)return;(t?n:a.current).appendChild(T),o.current=E})},[e,t,r]),M.useEffect(()=>d,[])},EK=m2e,b2e=({cellCtrl:e,parent:t})=>{const n=M.useRef(),r=M.useMemo(()=>{const{loadingComp:o}=e.getDeferLoadingCellRenderer();return o?{value:void 0,compDetails:o,force:!1}:void 0},[e]);if(EK(r,!1,void 0,1,n,t),r?.compDetails?.componentFromFramework){const o=r.compDetails.componentClass;return ue.createElement(o,{...r.compDetails.params})}return ue.createElement(ue.Fragment,null)},v2e=({cellCtrl:e,printLayout:t,editingCell:n})=>{const r=M.useContext(Qi),{context:o}=r,{column:{colIdSanitised:a},instanceId:l}=e,d=M.useRef(),[f,m]=M.useState(()=>e.isCellRenderer()?void 0:{compDetails:void 0,value:e.getValueToDisplay(),force:!1}),[v,C]=M.useState(),[y,S]=M.useState(1),[E,T]=M.useState(),[P,N]=M.useState(!1),[j,L]=M.useState(!1),[V,U]=M.useState(!1),[$,z]=M.useState(),K=M.useMemo(()=>e.isForceWrapper(),[e]),te=M.useMemo(()=>e.getCellAriaRole(),[e]),ae=M.useRef(null),X=M.useRef(null),Z=M.useRef(null),se=M.useRef(),Q=M.useRef(),J=M.useRef(),re=M.useRef([]),ee=M.useRef(),le=M.useRef(),[ce,he]=M.useState(0),ne=M.useCallback(it=>{le.current=it,he(Nt=>Nt+1)},[]),fe=f!=null&&(P||V||j)&&(v==null||!!v.popup),ve=K||fe,me=M.useMemo(()=>e.getCellValueClass(),[e]),Oe=M.useCallback(it=>{if(Q.current=it,it){const Nt=it.isCancelBeforeStart&&it.isCancelBeforeStart();setTimeout(()=>{Nt?(e.stopEditing(!0),e.focusCell(!0)):(e.cellEditorAttached(),e.enableEditorTooltipFeature(it))})}},[e]),_e=M.useRef();_e.current||(_e.current=new rv(()=>ae.current)),EK(f,ve,le.current,ce,se,ae);const Ue=M.useRef();M.useLayoutEffect(()=>{const it=Ue.current,Nt=f;if(Ue.current=f,it==null||it.compDetails==null||Nt==null||Nt.compDetails==null)return;ee.current?.refreshVisibility();const kn=it.compDetails,Zn=Nt.compDetails;if(kn.componentClass!=Zn.componentClass||Z.current?.refresh==null)return;Z.current.refresh(Zn.params)!=!0&&S(bt=>bt+1)},[f]),M.useLayoutEffect(()=>{if(!(v&&!v.compDetails.componentFromFramework)||o.isDestroyed())return;const Nt=v.compDetails,kn=v.popup===!0,Zn=Nt.newAgStackInstance();return Zn.then(mt=>{if(!mt)return;const bt=mt.getGui();Oe(mt),kn||((K?J:ae).current?.appendChild(bt),mt.afterGuiAttached?.()),z(mt)}),()=>{Zn.then(mt=>{const bt=mt.getGui();e.disableEditorTooltipFeature(),o.destroyBean(mt),Oe(void 0),z(void 0),bt?.remove()})}},[v]);const pt=M.useCallback(it=>{if(J.current=it,!it||o.isDestroyed()||!e.isAlive()){const Zn=re.current;re.current=[];for(const mt of Zn)mt();return}let Nt;const kn=Zn=>{Zn&&(it.insertAdjacentElement("afterbegin",Zn.getGui()),re.current.push(()=>{oa(Zn.getGui()),o.destroyBean(Zn),ee.current===Nt&&(ee.current=void 0)}))};P&&kn(e.createSelectionCheckbox()),V&&kn(e.createDndSource()),j&&(Nt=e.createRowDragComp(),ee.current=Nt,Nt&&(kn(Nt),Nt.refreshVisibility()))},[e,o,V,j,P]),Ee=M.useCallback(()=>{const it=!e.isCellSpanning()||X.current,Nt=ae.current;if(!Nt||!it||!e||!e.isAlive()||o.isDestroyed()){d.current=o.destroyBean(d.current);return}d.current=o.createBean(new nv);const kn={toggleCss:(mt,bt)=>_e.current.toggleCss(mt,bt),setUserStyles:mt=>T(mt),getFocusableElement:()=>ae.current,setIncludeSelection:mt=>N(mt),setIncludeRowDrag:mt=>L(mt),setIncludeDndSource:mt=>U(mt),getCellEditor:()=>Q.current??null,getCellRenderer:()=>Z.current??se.current,getParentOfValue:()=>le.current??J.current??ae.current,setRenderDetails:(mt,bt,Kt)=>{const di=()=>{m(Gt=>Gt?.compDetails!==mt||Gt?.value!==bt||Gt?.force!==Kt?{value:bt,compDetails:mt,force:Kt}:Gt)};if(mt?.params?.deferRender&&!e.rowNode.group){const{loadingComp:Gt,onReady:ir}=e.getDeferLoadingCellRenderer();if(Gt){m({value:void 0,compDetails:Gt,force:!1}),ir.then(()=>RDe(di));return}}di()},setEditDetails:(mt,bt,Kt,di)=>{if(mt){let Gt;mt.componentFromFramework&&(di?Gt=new u2e(mt.params,()=>S(ir=>ir+1)):pO()),C({compDetails:mt,popup:bt,popupPosition:Kt,compProxy:Gt}),bt||m(void 0)}else e.hasBrowserFocus()&&kn.getFocusableElement().focus({preventScroll:!0}),Q.current=void 0,C(void 0)},refreshEditStyles:(mt,bt)=>{if(!ae.current)return;const{current:Kt}=_e;Kt.toggleCss("ag-cell-value",!ve),Kt.toggleCss("ag-cell-inline-editing",!!mt&&!bt),Kt.toggleCss("ag-cell-popup-editing",!!mt&&!!bt),Kt.toggleCss("ag-cell-not-inline-editing",!mt||!!bt)}},Zn=J.current||void 0;e.setComp(kn,Nt,X.current??void 0,Zn,t,n,d.current)},[]),Te=M.useCallback(it=>{ae.current=it,Ee()},[]),Ze=M.useCallback(it=>{X.current=it,Ee()},[]),De=M.useMemo(()=>!!(f?.compDetails?.componentFromFramework&&sv(f.compDetails.componentClass)),[f]);M.useLayoutEffect(()=>{if(!ae.current)return;const{current:it}=_e;it.toggleCss("ag-cell-value",!ve),it.toggleCss("ag-cell-inline-editing",!!v&&!v.popup),it.toggleCss("ag-cell-popup-editing",!!v&&!!v.popup),it.toggleCss("ag-cell-not-inline-editing",!v||!!v.popup)});const et=()=>{const{compDetails:it,value:Nt}=f;if(!it)return Nt?.toString?.()??Nt;if(it.componentFromFramework){const kn=it.componentClass;return ue.createElement(M.Suspense,{fallback:ue.createElement(b2e,{cellCtrl:e,parent:ae})},De?ue.createElement(kn,{...it.params,key:y}):ue.createElement(kn,{...it.params,key:y,ref:Z}))}},lt=()=>{const it=()=>f==null?null:ve?ue.createElement("span",{role:"presentation",id:`cell-${l}`,className:me,ref:ne},et()):et(),Nt=kn=>g2e(kn,Oe,ae.current,e,$);return v!=null?v.popup?ue.createElement(ue.Fragment,null,it(),Nt(v)):Nt(v):it()},yt=()=>ue.createElement("div",{ref:Te,style:E,role:te,"col-id":a},ve?ue.createElement("div",{className:"ag-cell-wrapper",role:"presentation",ref:pt},lt()):lt());return e.isCellSpanning()?ue.createElement("div",{ref:Ze,className:"ag-spanned-cell-wrapper",role:"presentation"},yt()):yt()},w2e=M.memo(v2e),C2e=({rowCtrl:e,containerType:t})=>{const{context:n,gos:r,editSvc:o}=M.useContext(Qi),a=M.useContext(yK)==="default",l=M.useRef(),d=M.useRef(e.getDomOrder()),f=e.isFullWidth(),m=e.rowNode.displayed,[v,C]=M.useState(()=>m?e.rowNode.getRowIndexString():null),[y,S]=M.useState(()=>e.rowId),[E,T]=M.useState(()=>e.businessKey),[P,N]=M.useState(()=>e.rowStyles),j=M.useRef(null),[L,V]=M.useState(()=>null),[U,$]=M.useState(),[z,K]=M.useState(()=>m?e.getInitialRowTop(t):void 0),[te,ae]=M.useState(()=>m?e.getInitialTransform(t):void 0),X=M.useRef(null),Z=M.useRef(),se=M.useRef(),Q=M.useRef(!1),[J,re]=M.useState(0);M.useEffect(()=>{if(Q.current||!U||J>10)return;const Te=X.current?.firstChild;Te?(e.setupDetailRowAutoHeight(Te),Q.current=!0):re(Ze=>Ze+1)},[U,J]);const ee=M.useRef();ee.current||(ee.current=new rv(()=>X.current));const le=M.useRef(()=>{}),ce=M.useCallback(Te=>(le.current=Te,()=>{le.current=()=>{}}),[]),he=PDe(ce,()=>j.current,[]),ne=a?he:L,fe=M.useCallback(Te=>{if(X.current=Te,l.current=Te?n.createBean(new nv):n.destroyBean(l.current),!Te){e.unsetComp(t);return}if(!e.isAlive()||n.isDestroyed())return;const Ze={setTop:K,setTransform:ae,toggleCss:(De,et)=>ee.current.toggleCss(De,et),setDomOrder:De=>d.current=De,setRowIndex:C,setRowId:S,setRowBusinessKey:T,setUserStyles:N,setCellCtrls:(De,et)=>{const lt=j.current,yt=GS(lt,De,d.current);yt!==lt&&(j.current=yt,a?le.current():Qy(et,()=>V(yt)))},showFullWidth:De=>{se.current=De.params,$(De)},getFullWidthCellRenderer:()=>Z.current,getFullWidthCellRendererParams:()=>se.current,refreshFullWidth:De=>{const et=De();return se.current=et,Ue.current?($(lt=>({...lt,params:et})),!0):!Z.current||!Z.current.refresh?!1:Z.current.refresh(et)}};e.setComp(Ze,Te,t,l.current)},[]);M.useLayoutEffect(()=>M0(U,n,X.current,Z),[U]);const ve=M.useMemo(()=>{const Te={top:z,transform:te};return Object.assign(Te,P),Te},[z,te,P]),me=f&&U?.componentFromFramework,Oe=!f&&ne!=null,_e=M.useMemo(()=>!!(U?.componentFromFramework&&sv(U.componentClass)),[U]),Ue=M.useRef(!1);M.useEffect(()=>{Ue.current=_e&&!!U&&!!r.get("reactiveCustomComponents")},[_e,U]);const pt=()=>ne?.map(Te=>ue.createElement(w2e,{cellCtrl:Te,editingCell:o?.isEditing(Te,{withOpenEditor:!0})??!1,printLayout:e.printLayout,key:Te.instanceId})),Ee=()=>{const Te=U.componentClass;return _e?ue.createElement(Te,{...U.params}):ue.createElement(Te,{...U.params,ref:Z})};return ue.createElement("div",{ref:fe,role:"row",style:ve,"row-index":v,"row-id":y,"row-business-key":E},Oe?pt():me?Ee():null)},k8=M.memo(C2e),y2e=({name:e})=>{const{context:t,gos:n}=M.useContext(Qi),r=M.useMemo(()=>ov(e),[e]),o=M.useRef(null),a=M.useRef(null),l=M.useRef(null),d=M.useRef([]),f=M.useRef([]),[m,v]=M.useState(()=>[]),C=!!n.get("enableCellSpan")&&!!r.getSpannedRowCtrls,y=M.useRef([]),S=M.useRef([]),[E,T]=M.useState(()=>[]),P=M.useRef(!1),N=M.useRef(),j=M.useMemo(()=>na("ag-viewport",YN(e)),[e]),L=M.useMemo(()=>na(_y(e)),[e]),V=M.useMemo(()=>na("ag-spanning-container",I$(e)),[e]),U=r.type==="center"||C,$=U?o:a;wp(" AG Row Container "+e+" ",$);const z=M.useCallback(()=>{const J=!U||o.current!=null,re=a.current!=null,ee=!C||l.current!=null;return J&&re&&ee},[]),K=M.useCallback(()=>o.current==null&&a.current==null&&l.current==null,[]),te=M.useCallback(()=>{if(K()&&(N.current=t.destroyBean(N.current)),!t.isDestroyed()&&z()){const J=le=>{const ce=GS(f.current,d.current,P.current);ce!==f.current&&(f.current=ce,Qy(le,()=>v(ce)))},re=le=>{const ce=GS(S.current,y.current,P.current);ce!==S.current&&(S.current=ce,Qy(le,()=>T(ce)))},ee={setHorizontalScroll:le=>{o.current&&(o.current.scrollLeft=le)},setViewportHeight:le=>{o.current&&(o.current.style.height=le)},setRowCtrls:({rowCtrls:le,useFlushSync:ce})=>{const he=!!ce&&d.current.length>0&&le.length>0;d.current=le,J(he)},setSpannedRowCtrls:(le,ce)=>{const he=!!ce&&y.current.length>0&&le.length>0;y.current=le,re(he)},setDomOrder:le=>{P.current!=le&&(P.current=le,J(!1))},setContainerWidth:le=>{a.current&&(a.current.style.width=le)},setOffsetTop:le=>{a.current&&(a.current.style.transform=`translateY(${le})`)}};N.current=t.createBean(new F$(e)),N.current.setComp(ee,a.current,l.current??void 0,o.current)}},[z,K]),ae=M.useCallback(J=>{a.current=J,te()},[te]),X=M.useCallback(J=>{l.current=J,te()},[te]),Z=M.useCallback(J=>{o.current=J,te()},[te]),se=()=>ue.createElement("div",{className:L,ref:ae,role:U?"presentation":"rowgroup"},m.map(J=>ue.createElement(k8,{rowCtrl:J,containerType:r.type,key:J.instanceId})));if(!U)return se();const Q=()=>ue.createElement("div",{className:V,ref:X,role:"presentation"},E.map(J=>ue.createElement(k8,{rowCtrl:J,containerType:r.type,key:J.instanceId})));return ue.createElement("div",{className:j,ref:Z,role:"rowgroup"},se(),C?Q():null)},k2e=M.memo(y2e),x2e=()=>{const e=M.useContext(Qi),{context:t,overlays:n}=e,[r,o]=M.useState(""),[a,l]=M.useState(0),[d,f]=M.useState(0),[m,v]=M.useState("0px"),[C,y]=M.useState("0px"),[S,E]=M.useState("100%"),[T,P]=M.useState("0px"),[N,j]=M.useState("0px"),[L,V]=M.useState("100%"),[U,$]=M.useState(!0),[z,K]=M.useState(!0),[te,ae]=M.useState(null),[X,Z]=M.useState(""),[se,Q]=M.useState(null),[J,re]=M.useState("ag-layout-normal"),ee=M.useRef();ee.current||(ee.current=new rv(()=>le.current));const le=M.useRef(null),ce=M.useRef(null),he=M.useRef(null),ne=M.useRef(null),fe=M.useRef(null),ve=M.useRef(null),me=M.useRef(null),Oe=M.useRef([]),_e=M.useRef([]);wp(" AG Grid Body ",le),wp(" AG Pinned Top ",ce),wp(" AG Sticky Top ",he),wp(" AG Middle ",ve),wp(" AG Pinned Bottom ",me);const Ue=M.useCallback(bt=>{if(le.current=bt,!bt||t.isDestroyed()){Oe.current=t.destroyBeans(Oe.current);for(const cn of _e.current)cn();_e.current=[];return}const Kt=(cn,Pr)=>{cn.appendChild(Pr),_e.current.push(()=>Pr.remove())},di=cn=>{const Pr=t.createBean(new cn);return Oe.current.push(Pr),Pr},Gt=(cn,Pr,Es)=>{Kt(cn,document.createComment(Es)),Kt(cn,di(Pr).getGui())};Gt(bt,z$," AG Fake Horizontal Scroll ");const ir=n?.getOverlayWrapperCompClass();ir&&Gt(bt,ir," AG Overlay Wrapper "),fe.current&&Gt(fe.current,H$," AG Fake Vertical Scroll ");const Br={setRowAnimationCssOnBodyViewport:o,setColumnCount:cn=>{le.current&&rW(le.current,cn)},setRowCount:cn=>{le.current&&nW(le.current,cn)},setTopHeight:l,setBottomHeight:f,setStickyTopHeight:v,setStickyTopTop:y,setStickyTopWidth:E,setTopInvisible:$,setBottomInvisible:K,setColumnMovingCss:(cn,Pr)=>ee.current.toggleCss(cn,Pr),updateLayoutClasses:re,setAlwaysVerticalScrollClass:ae,setPinnedTopBottomOverflowY:Z,setCellSelectableCss:(cn,Pr)=>Q(Pr?cn:null),setBodyViewportWidth:cn=>{ve.current&&(ve.current.style.width=cn)},registerBodyViewportResizeListener:cn=>{if(ve.current){const Pr=al(e,ve.current,cn);_e.current.push(()=>Pr())}},setStickyBottomHeight:P,setStickyBottomBottom:j,setStickyBottomWidth:V,setGridRootRole:cn=>bt.setAttribute("role",cn)},So=t.createBean(new B$);Oe.current.push(So),So.setComp(Br,bt,ve.current,ce.current,me.current,he.current,ne.current)},[]),pt=M.useMemo(()=>na("ag-root","ag-unselectable",J),[J]),Ee=M.useMemo(()=>na("ag-body-viewport",r,J,te,se),[r,J,te,se]),Te=M.useMemo(()=>na("ag-body",J),[J]),Ze=M.useMemo(()=>na("ag-floating-top",U?"ag-invisible":null,se),[se,U]),De=M.useMemo(()=>na("ag-sticky-top",se),[se]),et=M.useMemo(()=>na("ag-sticky-bottom",T==="0px"?"ag-invisible":null,se),[se,T]),lt=M.useMemo(()=>na("ag-floating-bottom",z?"ag-invisible":null,se),[se,z]),yt=M.useMemo(()=>({height:a,minHeight:a,overflowY:X}),[a,X]),it=M.useMemo(()=>({height:m,top:C,width:S}),[m,C,S]),Nt=M.useMemo(()=>({height:T,bottom:N,width:L}),[T,N,L]),kn=M.useMemo(()=>({height:d,minHeight:d,overflowY:X}),[d,X]),Zn=bt=>ue.createElement(k2e,{name:bt,key:`${bt}-container`}),mt=({section:bt,children:Kt,className:di,style:Gt})=>ue.createElement("div",{ref:bt,className:di,role:"presentation",style:Gt},Kt.map(Zn));return ue.createElement("div",{ref:Ue,className:pt},ue.createElement(c2e,null),mt({section:ce,className:Ze,style:yt,children:["topLeft","topCenter","topRight","topFullWidth"]}),ue.createElement("div",{className:Te,ref:fe,role:"presentation"},mt({section:ve,className:Ee,children:["left","center","right","fullWidth"]})),mt({section:he,className:De,style:it,children:["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"]}),mt({section:ne,className:et,style:Nt,children:["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"]}),mt({section:me,className:lt,style:kn,children:["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"]}))},A2e=M.memo(x2e),S2e=(e,t)=>{const{children:n,eFocusableElement:r,onTabKeyDown:o,gridCtrl:a,forceFocusOutWhenTabGuardsAreEmpty:l,isEmpty:d}=e,{context:f}=M.useContext(Qi),m=M.useRef(null),v=M.useRef(null),C=M.useRef(),y=N=>{const j=N==null?void 0:parseInt(N,10).toString();for(const L of[m,v])j===void 0?L.current?.removeAttribute("tabindex"):L.current?.setAttribute("tabindex",j)};M.useImperativeHandle(t,()=>({forceFocusOutOfContainer(N){C.current?.forceFocusOutOfContainer(N)}}));const S=M.useCallback(()=>{const N=m.current,j=v.current;if(!N&&!j||f.isDestroyed()){C.current=f.destroyBean(C.current);return}if(N&&j){const L={setTabIndex:y};C.current=f.createBean(new X$({comp:L,eTopGuard:N,eBottomGuard:j,eFocusableElement:r,onTabKeyDown:o,forceFocusOutWhenTabGuardsAreEmpty:l,focusInnerElement:V=>a.focusInnerElement(V),isEmpty:d}))}},[]),E=M.useCallback(N=>{m.current=N,S()},[S]),T=M.useCallback(N=>{v.current=N,S()},[S]),P=N=>{const j=N==="top"?vb.TAB_GUARD_TOP:vb.TAB_GUARD_BOTTOM;return ue.createElement("div",{className:`${vb.TAB_GUARD} ${j}`,role:"presentation",ref:N==="top"?E:T})};return ue.createElement(ue.Fragment,null,P("top"),n,P("bottom"))},_2e=M.forwardRef(S2e),E2e=M.memo(_2e),D2e=({context:e})=>{const[t,n]=M.useState(""),[r,o]=M.useState(""),[a,l]=M.useState(null),[d,f]=M.useState(null),[m,v]=M.useState(!1),[C,y]=M.useState(),S=M.useRef(),E=M.useRef(null),T=M.useRef(),[P,N]=M.useState(null),j=M.useRef(()=>{}),L=M.useRef(),V=M.useRef([]),U=M.useCallback(()=>{},[]);wp(" AG Grid ",E);const $=M.useCallback(Z=>{if(E.current=Z,S.current=Z?e.createBean(new tq):e.destroyBean(S.current),!Z||e.isDestroyed())return;const se=S.current;j.current=se.focusInnerElement.bind(se);const Q={destroyGridUi:()=>{},setRtlClass:n,forceFocusOutOfContainer:J=>{if(!J&&L.current?.isDisplayed()){L.current.forceFocusOutOfContainer(J);return}T.current?.forceFocusOutOfContainer(J)},updateLayoutClasses:o,getFocusableContainers:()=>{const J=[],re=E.current?.querySelector(".ag-root");re&&J.push({getGui:()=>re});for(const ee of V.current)ee.isDisplayed()&&J.push(ee);return J},setCursor:l,setUserSelect:f};se.setComp(Q,Z,Z),v(!0)},[]);M.useEffect(()=>{const Z=S.current,se=E.current;if(!C||!Z||!P||!se||e.isDestroyed())return;const Q=[],{watermarkSelector:J,paginationSelector:re,sideBarSelector:ee,statusBarSelector:le,gridHeaderDropZonesSelector:ce}=Z.getOptionalSelectors(),he=[];if(ce){const fe=e.createBean(new ce.component),ve=fe.getGui();se.insertAdjacentElement("afterbegin",ve),he.push(ve),Q.push(fe)}if(ee){const fe=e.createBean(new ee.component),ve=fe.getGui(),me=P.querySelector(".ag-tab-guard-bottom");me&&(me.insertAdjacentElement("beforebegin",ve),he.push(ve)),Q.push(fe),V.current.push(fe)}const ne=fe=>{const ve=e.createBean(new fe),me=ve.getGui();return se.insertAdjacentElement("beforeend",me),he.push(me),Q.push(ve),ve};if(le&&ne(le.component),re){const fe=ne(re.component);L.current=fe,V.current.push(fe)}return J&&ne(J.component),()=>{e.destroyBeans(Q);for(const fe of he)fe.remove()}},[C,P,e]);const z=M.useMemo(()=>na("ag-root-wrapper",t,r),[t,r]),K=M.useMemo(()=>na("ag-root-wrapper-body","ag-focus-managed",r),[r]),te=M.useMemo(()=>({userSelect:d??"",WebkitUserSelect:d??"",cursor:a??""}),[d,a]),ae=M.useCallback(Z=>{T.current=Z,y(Z!==null)},[]),X=M.useCallback(()=>!S.current?.isFocusable(),[]);return ue.createElement("div",{ref:$,className:z,style:te,role:"presentation"},ue.createElement("div",{className:K,ref:N,role:"presentation"},m&&P&&!e.isDestroyed()&&ue.createElement(Qi.Provider,{value:e.getBeans()},ue.createElement(E2e,{ref:ae,eFocusableElement:P,onTabKeyDown:U,gridCtrl:S.current,forceFocusOutWhenTabGuardsAreEmpty:!0,isEmpty:X},ue.createElement(A2e,null)))))},M2e=M.memo(D2e),T2e=class extends Pe{postConstruct(){if(this.beans.colAutosize){const e=this.queueResizeOperationsForTick.bind(this);this.addManagedEventListeners({rowExpansionStateChanged:e,expandOrCollapseAll:e,cellValueChanged:e,rowNodeDataChanged:e,rowDataUpdated:e})}}queueResizeOperationsForTick(){const e=this.beans.colAutosize;e.shouldQueueResizeOperations=!0,setTimeout(()=>{e.processResizeOperations()},0)}areHeaderCellsRendered(){return this.beans.ctrlsSvc.getHeaderRowContainerCtrls().every(e=>e.getAllCtrls().every(t=>t.areCellsRendered()))}areCellsRendered(){return this.beans.rowRenderer.getAllRowCtrls().every(e=>e.isRowRendered()&&e.getAllCellCtrls().every(t=>!!t.eGui))}},DK={setGridApi:void 0,maxComponentCreationTimeMs:void 0,children:void 0},R2e={gridOptions:void 0,modules:void 0,containerStyle:void 0,className:void 0,passGridApi:void 0,componentWrappingElement:void 0,...DK},MK=new Set(Object.keys(R2e)),P2e=new Set(Object.keys(DK)),TK=e=>{const t=M.useRef(),n=M.useRef(null),r=M.useRef(null),o=M.useRef([]),a=M.useRef([]),l=M.useRef(e),d=M.useRef(),f=M.useRef(),m=M.useRef(!1),[v,C]=M.useState(void 0),[,y]=M.useState(0),S=M.useCallback(N=>{if(n.current=N,!N){for(const X of o.current)X();o.current.length=0;return}const j=e.modules||[];r.current||(r.current=new ZDe(()=>y(X=>X+1),e.componentWrappingElement,e.maxComponentCreationTimeMs),o.current.push(()=>{r.current?.destroy(),r.current=null}));const L=$pe(e.gridOptions,e,Object.keys(e).filter(X=>!MK.has(X))),V=()=>{if(m.current){const X=()=>d.current?.shouldQueueUpdates()?void 0:a.current.shift();let Z=X();for(;Z;)Z(),Z=X()}},U=new F2e(V);d.current=U;const $=new T2e,z={providedBeanInstances:{frameworkCompWrapper:new N2e(r.current,L),renderStatus:$},modules:j,frameworkOverrides:U,setThemeOnGridDiv:!0},K=X=>{C(X),X.createBean($),o.current.push(()=>{X.destroy()}),X.getBean("ctrlsSvc").whenReady({addDestroyFunc:Z=>{o.current.push(Z)}},()=>{if(X.isDestroyed())return;const Z=t.current;Z&&e.passGridApi?.(Z)})},te=X=>{X.getBean("ctrlsSvc").whenReady({addDestroyFunc:Z=>{o.current.push(Z)}},()=>{for(const Z of a.current)Z();a.current.length=0,m.current=!0})},ae=new Hq;L.gridId??(L.gridId=f.current),t.current=ae.create(N,L,K,te,z),o.current.push(()=>{t.current=void 0}),t.current&&(f.current=t.current.getGridId())},[]),E=M.useMemo(()=>({height:"100%",...e.containerStyle||{}}),[e.containerStyle]),T=M.useCallback(N=>{m.current&&!d.current?.shouldQueueUpdates()?N():a.current.push(N)},[]);M.useEffect(()=>{const N=I2e(l.current,e);l.current=e,T(()=>{t.current&&qpe(N,t.current)})},[e]);const P=!ue.useSyncExternalStore||K1(e,"renderingMode")==="legacy"?"legacy":"default";return ue.createElement("div",{style:E,className:e.className,ref:S},ue.createElement(yK.Provider,{value:P},v&&!v.isDestroyed()?ue.createElement(M2e,{key:v.instanceId,context:v}):null,r.current?.getPortals()??null))};function I2e(e,t){const n={};for(const r of Object.keys(t)){if(MK.has(r)){P2e.has(r)&&ze(274,{prop:r});continue}const o=t[r];e[r]!==o&&(n[r]=o)}return n}var N2e=class extends rAe{constructor(e,t){super(),this.parent=e,this.gridOptions=t}createWrapper(e,t){const n=this.gridOptions;if(K1(n,"reactiveCustomComponents")){const l=(d=>{switch(d){case"filter":return K1(n,"enableFilterHandlers")?zDe:jDe;case"floatingFilterComponent":return K1(n,"enableFilterHandlers")?GDe:VDe;case"dateComponent":return LDe;case"dragAndDropImageComponent":return BDe;case"loadingOverlayComponent":return WDe;case"noRowsOverlayComponent":return qDe;case"statusPanel":return KDe;case"toolPanel":return YDe;case"menuItem":return $De;case"cellRenderer":return FDe;case"innerHeaderComponent":return UDe}})(t.name);if(l)return new l(e,this.parent,t)}else switch(t.name){case"filter":case"floatingFilterComponent":case"dateComponent":case"dragAndDropImageComponent":case"loadingOverlayComponent":case"noRowsOverlayComponent":case"statusPanel":case"toolPanel":case"menuItem":case"cellRenderer":pO();break}const o=!t.cellRenderer&&t.name!=="toolPanel";return new SK(e,this.parent,t,o)}},O2e=M.forwardRef((e,t)=>{const n=M.useContext(Qi),{registry:r,context:o,gos:a,rowModel:l}=n,[d,f]=M.useState(()=>new sa),[m,v]=M.useState(()=>new sa),[C,y]=M.useState(),[S,E]=M.useState(),T=M.useRef(),P=M.useRef(null),N=M.useRef(),j=M.useMemo(()=>_W(e.api.getGridId(),C?.rowModelType??"clientSide"),[e]),L=M.useMemo(()=>d.toString()+" ag-details-row",[d]),V=M.useMemo(()=>m.toString()+" ag-details-grid",[m]);t&&M.useImperativeHandle(t,()=>({refresh(){return T.current?.refresh()??!1}})),e.template&&ze(230);const U=M.useCallback(z=>{if(P.current=z,!z||o.isDestroyed()){T.current=o.destroyBean(T.current),N.current?.();return}const K={toggleCss:(ae,X)=>f(Z=>Z.setClass(ae,X)),toggleDetailGridCss:(ae,X)=>v(Z=>Z.setClass(ae,X)),setDetailGrid:ae=>y(ae),setRowData:ae=>E(ae),getGui:()=>P.current},te=r.createDynamicBean("detailCellRendererCtrl",!0);if(te&&(o.createBean(te),te.init(K,e),T.current=te,a.get("detailRowAutoHeight"))){const ae=()=>{if(P.current==null)return;const X=P.current.clientHeight;X!=null&&X>0&&setTimeout(()=>{e.node.setRowHeight(X),(Wn(a)||cc(a))&&l.onRowHeightChanged()},0)};N.current=al(n,z,ae),ae()}},[]),$=M.useCallback(z=>{T.current?.registerDetailWithMaster(z)},[]);return ue.createElement("div",{className:L,ref:U},C&&ue.createElement(TK,{className:V,...C,modules:j,rowData:S,passGridApi:$}))}),F2e=class extends eq{constructor(e){super("react"),this.processQueuedUpdates=e,this.queueUpdates=!1,this.renderingEngine="react",this.frameworkComponents={agGroupCellRenderer:v8,agGroupRowRenderer:v8,agDetailCellRenderer:O2e},this.wrapIncoming=(t,n)=>n==="ensureVisible"?TDe(t):t()}frameworkComponent(e){return this.frameworkComponents[e]}isFrameworkComponent(e){if(!e)return!1;const t=e.prototype;return!(t&&"getGui"in t)}getLockOnRefresh(){this.queueUpdates=!0}releaseLockOnRefresh(){this.queueUpdates=!1,this.processQueuedUpdates()}shouldQueueUpdates(){return this.queueUpdates}runWhenReadyAsync(){return MDe()}},Nn=class extends M.Component{constructor(){super(...arguments),this.apiListeners=[],this.setGridApi=e=>{this.api=e;for(const t of this.apiListeners)t(e)}}registerApiListener(e){this.apiListeners.push(e)}componentWillUnmount(){this.apiListeners.length=0}render(){return ue.createElement(TK,{...this.props,passGridApi:this.setGridApi})}};function L2e(e){return ln({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M192 0c-41.8 0-77.4 26.7-90.5 64L64 64C28.7 64 0 92.7 0 128L0 448c0 35.3 28.7 64 64 64l256 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64l-37.5 0C269.4 26.7 233.8 0 192 0zm0 64a32 32 0 1 1 0 64 32 32 0 1 1 0-64zM72 272a24 24 0 1 1 48 0 24 24 0 1 1 -48 0zm104-16l128 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-128 0c-8.8 0-16-7.2-16-16s7.2-16 16-16zM72 368a24 24 0 1 1 48 0 24 24 0 1 1 -48 0zm88 0c0-8.8 7.2-16 16-16l128 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-128 0c-8.8 0-16-7.2-16-16z"},child:[]}]})(e)}function Zi({value:e,onChange:t,placeholder:n="Search...",className:r=""}){return A.jsx("input",{type:"text",placeholder:n,value:e,onChange:o=>t(o.target.value),className:`border px-4 py-2 rounded w-64 ${r}`})}var B2e=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function gO(e){if(typeof e!="string")return!1;var t=B2e;return t.includes(e)}var j2e=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],z2e=new Set(j2e);function RK(e){return typeof e!="string"?!1:z2e.has(e)}function PK(e){return typeof e=="string"&&e.startsWith("data-")}function zd(e){if(typeof e!="object"||e===null)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(RK(n)||PK(n))&&(t[n]=e[n]);return t}function mO(e){if(e==null)return null;if(M.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return zd(t)}return typeof e=="object"&&!Array.isArray(e)?zd(e):null}function ca(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(RK(n)||PK(n)||gO(n))&&(t[n]=e[n]);return t}var H2e=["children","width","height","viewBox","className","style","title","desc"];function tI(){return tI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tI.apply(null,arguments)}function V2e(e,t){if(e==null)return{};var n,r,o=G2e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function G2e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var bO=M.forwardRef((e,t)=>{var{children:n,width:r,height:o,viewBox:a,className:l,style:d,title:f,desc:m}=e,v=V2e(e,H2e),C=a||{width:r,height:o,x:0,y:0},y=St("recharts-surface",l);return M.createElement("svg",tI({},ca(v),{className:y,width:r,height:o,style:d,viewBox:"".concat(C.x," ").concat(C.y," ").concat(C.width," ").concat(C.height),ref:t}),M.createElement("title",null,f),M.createElement("desc",null,m),n)}),U2e=["children","className"];function nI(){return nI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nI.apply(null,arguments)}function W2e(e,t){if(e==null)return{};var n,r,o=$2e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function $2e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Hd=M.forwardRef((e,t)=>{var{children:n,className:r}=e,o=W2e(e,U2e),a=St("recharts-layer",r);return M.createElement("g",nI({className:a},ca(o),{ref:t}),n)}),IK=M.createContext(null),q2e=()=>M.useContext(IK);function Un(e){return function(){return e}}const NK=Math.cos,US=Math.sin,ll=Math.sqrt,WS=Math.PI,xE=2*WS,rI=Math.PI,iI=2*rI,pp=1e-6,K2e=iI-pp;function OK(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Y2e(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return OK;const n=10**t;return function(r){this._+=r[0];for(let o=1,a=r.length;o<a;++o)this._+=Math.round(arguments[o]*n)/n+r[o]}}class Q2e{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?OK:Y2e(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,o){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+o}`}bezierCurveTo(t,n,r,o,a,l){this._append`C${+t},${+n},${+r},${+o},${this._x1=+a},${this._y1=+l}`}arcTo(t,n,r,o,a){if(t=+t,n=+n,r=+r,o=+o,a=+a,a<0)throw new Error(`negative radius: ${a}`);let l=this._x1,d=this._y1,f=r-t,m=o-n,v=l-t,C=d-n,y=v*v+C*C;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(y>pp)if(!(Math.abs(C*f-m*v)>pp)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let S=r-l,E=o-d,T=f*f+m*m,P=S*S+E*E,N=Math.sqrt(T),j=Math.sqrt(y),L=a*Math.tan((rI-Math.acos((T+y-P)/(2*N*j)))/2),V=L/j,U=L/N;Math.abs(V-1)>pp&&this._append`L${t+V*v},${n+V*C}`,this._append`A${a},${a},0,0,${+(C*S>v*E)},${this._x1=t+U*f},${this._y1=n+U*m}`}}arc(t,n,r,o,a,l){if(t=+t,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let d=r*Math.cos(o),f=r*Math.sin(o),m=t+d,v=n+f,C=1^l,y=l?o-a:a-o;this._x1===null?this._append`M${m},${v}`:(Math.abs(this._x1-m)>pp||Math.abs(this._y1-v)>pp)&&this._append`L${m},${v}`,r&&(y<0&&(y=y%iI+iI),y>K2e?this._append`A${r},${r},0,1,${C},${t-d},${n-f}A${r},${r},0,1,${C},${this._x1=m},${this._y1=v}`:y>pp&&this._append`A${r},${r},0,${+(y>=rI)},${C},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,o){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+o}h${-r}Z`}toString(){return this._}}function vO(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new Q2e(t)}function wO(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function FK(e){this._context=e}FK.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function AE(e){return new FK(e)}function LK(e){return e[0]}function BK(e){return e[1]}function jK(e,t){var n=Un(!0),r=null,o=AE,a=null,l=vO(d);e=typeof e=="function"?e:e===void 0?LK:Un(e),t=typeof t=="function"?t:t===void 0?BK:Un(t);function d(f){var m,v=(f=wO(f)).length,C,y=!1,S;for(r==null&&(a=o(S=l())),m=0;m<=v;++m)!(m<v&&n(C=f[m],m,f))===y&&((y=!y)?a.lineStart():a.lineEnd()),y&&a.point(+e(C,m,f),+t(C,m,f));if(S)return a=null,S+""||null}return d.x=function(f){return arguments.length?(e=typeof f=="function"?f:Un(+f),d):e},d.y=function(f){return arguments.length?(t=typeof f=="function"?f:Un(+f),d):t},d.defined=function(f){return arguments.length?(n=typeof f=="function"?f:Un(!!f),d):n},d.curve=function(f){return arguments.length?(o=f,r!=null&&(a=o(r)),d):o},d.context=function(f){return arguments.length?(f==null?r=a=null:a=o(r=f),d):r},d}function c1(e,t,n){var r=null,o=Un(!0),a=null,l=AE,d=null,f=vO(m);e=typeof e=="function"?e:e===void 0?LK:Un(+e),t=typeof t=="function"?t:Un(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?BK:Un(+n);function m(C){var y,S,E,T=(C=wO(C)).length,P,N=!1,j,L=new Array(T),V=new Array(T);for(a==null&&(d=l(j=f())),y=0;y<=T;++y){if(!(y<T&&o(P=C[y],y,C))===N)if(N=!N)S=y,d.areaStart(),d.lineStart();else{for(d.lineEnd(),d.lineStart(),E=y-1;E>=S;--E)d.point(L[E],V[E]);d.lineEnd(),d.areaEnd()}N&&(L[y]=+e(P,y,C),V[y]=+t(P,y,C),d.point(r?+r(P,y,C):L[y],n?+n(P,y,C):V[y]))}if(j)return d=null,j+""||null}function v(){return jK().defined(o).curve(l).context(a)}return m.x=function(C){return arguments.length?(e=typeof C=="function"?C:Un(+C),r=null,m):e},m.x0=function(C){return arguments.length?(e=typeof C=="function"?C:Un(+C),m):e},m.x1=function(C){return arguments.length?(r=C==null?null:typeof C=="function"?C:Un(+C),m):r},m.y=function(C){return arguments.length?(t=typeof C=="function"?C:Un(+C),n=null,m):t},m.y0=function(C){return arguments.length?(t=typeof C=="function"?C:Un(+C),m):t},m.y1=function(C){return arguments.length?(n=C==null?null:typeof C=="function"?C:Un(+C),m):n},m.lineX0=m.lineY0=function(){return v().x(e).y(t)},m.lineY1=function(){return v().x(e).y(n)},m.lineX1=function(){return v().x(r).y(t)},m.defined=function(C){return arguments.length?(o=typeof C=="function"?C:Un(!!C),m):o},m.curve=function(C){return arguments.length?(l=C,a!=null&&(d=l(a)),m):l},m.context=function(C){return arguments.length?(C==null?a=d=null:d=l(a=C),m):a},m}class zK{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function Z2e(e){return new zK(e,!0)}function X2e(e){return new zK(e,!1)}const CO={draw(e,t){const n=ll(t/WS);e.moveTo(n,0),e.arc(0,0,n,0,xE)}},J2e={draw(e,t){const n=ll(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},HK=ll(1/3),eMe=HK*2,tMe={draw(e,t){const n=ll(t/eMe),r=n*HK;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},nMe={draw(e,t){const n=ll(t),r=-n/2;e.rect(r,r,n,n)}},rMe=.8908130915292852,VK=US(WS/10)/US(7*WS/10),iMe=US(xE/10)*VK,oMe=-NK(xE/10)*VK,sMe={draw(e,t){const n=ll(t*rMe),r=iMe*n,o=oMe*n;e.moveTo(0,-n),e.lineTo(r,o);for(let a=1;a<5;++a){const l=xE*a/5,d=NK(l),f=US(l);e.lineTo(f*n,-d*n),e.lineTo(d*r-f*o,f*r+d*o)}e.closePath()}},fT=ll(3),aMe={draw(e,t){const n=-ll(t/(fT*3));e.moveTo(0,n*2),e.lineTo(-fT*n,-n),e.lineTo(fT*n,-n),e.closePath()}},Qs=-.5,Zs=ll(3)/2,oI=1/ll(12),lMe=(oI/2+1)*3,cMe={draw(e,t){const n=ll(t/lMe),r=n/2,o=n*oI,a=r,l=n*oI+n,d=-a,f=l;e.moveTo(r,o),e.lineTo(a,l),e.lineTo(d,f),e.lineTo(Qs*r-Zs*o,Zs*r+Qs*o),e.lineTo(Qs*a-Zs*l,Zs*a+Qs*l),e.lineTo(Qs*d-Zs*f,Zs*d+Qs*f),e.lineTo(Qs*r+Zs*o,Qs*o-Zs*r),e.lineTo(Qs*a+Zs*l,Qs*l-Zs*a),e.lineTo(Qs*d+Zs*f,Qs*f-Zs*d),e.closePath()}};function dMe(e,t){let n=null,r=vO(o);e=typeof e=="function"?e:Un(e||CO),t=typeof t=="function"?t:Un(t===void 0?64:+t);function o(){let a;if(n||(n=a=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return o.type=function(a){return arguments.length?(e=typeof a=="function"?a:Un(a),o):e},o.size=function(a){return arguments.length?(t=typeof a=="function"?a:Un(+a),o):t},o.context=function(a){return arguments.length?(n=a??null,o):n},o}function $S(){}function qS(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function GK(e){this._context=e}GK.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:qS(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:qS(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function uMe(e){return new GK(e)}function UK(e){this._context=e}UK.prototype={areaStart:$S,areaEnd:$S,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:qS(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function hMe(e){return new UK(e)}function WK(e){this._context=e}WK.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:qS(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function fMe(e){return new WK(e)}function $K(e){this._context=e}$K.prototype={areaStart:$S,areaEnd:$S,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function pMe(e){return new $K(e)}function x8(e){return e<0?-1:1}function A8(e,t,n){var r=e._x1-e._x0,o=t-e._x1,a=(e._y1-e._y0)/(r||o<0&&-0),l=(n-e._y1)/(o||r<0&&-0),d=(a*o+l*r)/(r+o);return(x8(a)+x8(l))*Math.min(Math.abs(a),Math.abs(l),.5*Math.abs(d))||0}function S8(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function pT(e,t,n){var r=e._x0,o=e._y0,a=e._x1,l=e._y1,d=(a-r)/3;e._context.bezierCurveTo(r+d,o+d*t,a-d,l-d*n,a,l)}function KS(e){this._context=e}KS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:pT(this,this._t0,S8(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,pT(this,S8(this,n=A8(this,e,t)),n);break;default:pT(this,this._t0,n=A8(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function qK(e){this._context=new KK(e)}(qK.prototype=Object.create(KS.prototype)).point=function(e,t){KS.prototype.point.call(this,t,e)};function KK(e){this._context=e}KK.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,o,a){this._context.bezierCurveTo(t,e,r,n,a,o)}};function gMe(e){return new KS(e)}function mMe(e){return new qK(e)}function YK(e){this._context=e}YK.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=_8(e),o=_8(t),a=0,l=1;l<n;++a,++l)this._context.bezierCurveTo(r[0][a],o[0][a],r[1][a],o[1][a],e[l],t[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function _8(e){var t,n=e.length-1,r,o=new Array(n),a=new Array(n),l=new Array(n);for(o[0]=0,a[0]=2,l[0]=e[0]+2*e[1],t=1;t<n-1;++t)o[t]=1,a[t]=4,l[t]=4*e[t]+2*e[t+1];for(o[n-1]=2,a[n-1]=7,l[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=o[t]/a[t-1],a[t]-=r,l[t]-=r*l[t-1];for(o[n-1]=l[n-1]/a[n-1],t=n-2;t>=0;--t)o[t]=(l[t]-o[t+1])/a[t];for(a[n-1]=(e[n]+o[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-o[t+1];return[o,a]}function bMe(e){return new YK(e)}function SE(e,t){this._context=e,this._t=t}SE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function vMe(e){return new SE(e,.5)}function wMe(e){return new SE(e,0)}function CMe(e){return new SE(e,1)}function Ib(e,t){if((l=e.length)>1)for(var n=1,r,o,a=e[t[0]],l,d=a.length;n<l;++n)for(o=a,a=e[t[n]],r=0;r<d;++r)a[r][1]+=a[r][0]=isNaN(o[r][1])?o[r][0]:o[r][1]}function sI(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function yMe(e,t){return e[t]}function kMe(e){const t=[];return t.key=e,t}function xMe(){var e=Un([]),t=sI,n=Ib,r=yMe;function o(a){var l=Array.from(e.apply(this,arguments),kMe),d,f=l.length,m=-1,v;for(const C of a)for(d=0,++m;d<f;++d)(l[d][m]=[0,+r(C,l[d].key,m,a)]).data=C;for(d=0,v=wO(t(l));d<f;++d)l[v[d]].index=d;return n(l,v),l}return o.keys=function(a){return arguments.length?(e=typeof a=="function"?a:Un(Array.from(a)),o):e},o.value=function(a){return arguments.length?(r=typeof a=="function"?a:Un(+a),o):r},o.order=function(a){return arguments.length?(t=a==null?sI:typeof a=="function"?a:Un(Array.from(a)),o):t},o.offset=function(a){return arguments.length?(n=a??Ib,o):n},o}function AMe(e,t){if((r=e.length)>0){for(var n,r,o=0,a=e[0].length,l;o<a;++o){for(l=n=0;n<r;++n)l+=e[n][o][1]||0;if(l)for(n=0;n<r;++n)e[n][o][1]/=l}Ib(e,t)}}function SMe(e,t){if((o=e.length)>0){for(var n=0,r=e[t[0]],o,a=r.length;n<a;++n){for(var l=0,d=0;l<o;++l)d+=e[l][n][1]||0;r[n][1]+=r[n][0]=-d/2}Ib(e,t)}}function _Me(e,t){if(!(!((l=e.length)>0)||!((a=(o=e[t[0]]).length)>0))){for(var n=0,r=1,o,a,l;r<a;++r){for(var d=0,f=0,m=0;d<l;++d){for(var v=e[t[d]],C=v[r][1]||0,y=v[r-1][1]||0,S=(C-y)/2,E=0;E<d;++E){var T=e[t[E]],P=T[r][1]||0,N=T[r-1][1]||0;S+=P-N}f+=C,m+=S*C}o[r-1][1]+=o[r-1][0]=n,f&&(n-=m/f)}o[r-1][1]+=o[r-1][0]=n,Ib(e,t)}}var gT={},mT={},E8;function EMe(){return E8||(E8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(mT)),mT}var bT={},D8;function QK(){return D8||(D8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(bT)),bT}var vT={},M8;function yO(){return M8||(M8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}e.toKey=t})(vT)),vT}var wT={},CT={},T8;function DMe(){return T8||(T8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(CT)),CT}var R8;function kO(){return R8||(R8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=DMe(),n=yO();function r(o){if(Array.isArray(o))return o.map(n.toKey);if(typeof o=="symbol")return[o];o=t.toString(o);const a=[],l=o.length;if(l===0)return a;let d=0,f="",m="",v=!1;for(o.charCodeAt(0)===46&&(a.push(""),d++);d<l;){const C=o[d];m?C==="\\"&&d+1<l?(d++,f+=o[d]):C===m?m="":f+=C:v?C==='"'||C==="'"?m=C:C==="]"?(v=!1,a.push(f),f=""):f+=C:C==="["?(v=!0,f&&(a.push(f),f="")):C==="."?f&&(a.push(f),f=""):f+=C,d++}return f&&a.push(f),a}e.toPath=r})(wT)),wT}var P8;function xO(){return P8||(P8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=EMe(),n=QK(),r=yO(),o=kO();function a(d,f,m){if(d==null)return m;switch(typeof f){case"string":{if(t.isUnsafeProperty(f))return m;const v=d[f];return v===void 0?n.isDeepKey(f)?a(d,o.toPath(f),m):m:v}case"number":case"symbol":{typeof f=="number"&&(f=r.toKey(f));const v=d[f];return v===void 0?m:v}default:{if(Array.isArray(f))return l(d,f,m);if(Object.is(f?.valueOf(),-0)?f="-0":f=String(f),t.isUnsafeProperty(f))return m;const v=d[f];return v===void 0?m:v}}}function l(d,f,m){if(f.length===0)return m;let v=d;for(let C=0;C<f.length;C++){if(v==null||t.isUnsafeProperty(f[C]))return m;v=v[f[C]]}return v===void 0?m:v}e.get=a})(gT)),gT}var yT,I8;function MMe(){return I8||(I8=1,yT=xO().get),yT}var TMe=MMe();const Nb=fa(TMe);var $o=e=>e===0?0:e>0?1:-1,tl=e=>typeof e=="number"&&e!=+e,Vd=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,at=e=>(typeof e=="number"||e instanceof Number)&&!tl(e),uc=e=>at(e)||typeof e=="string",RMe=0,Zy=e=>{var t=++RMe;return"".concat(e||"").concat(t)},nl=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!at(t)&&typeof t!="string")return r;var a;if(Vd(t)){if(n==null)return r;var l=t.indexOf("%");a=n*parseFloat(t.slice(0,l))/100}else a=+t;return tl(a)&&(a=r),o&&n!=null&&a>n&&(a=n),a},ZK=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[e[r]])n[e[r]]=!0;else return!0;return!1};function vi(e,t,n){return at(e)&&at(t)?e+n*(t-e):t}function PMe(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):Nb(r,t))===n)}var ai=e=>e===null||typeof e>"u",T0=e=>ai(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function IMe(e){return e!=null}function R0(){}var NMe=["type","size","sizeType"];function aI(){return aI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},aI.apply(null,arguments)}function N8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function O8(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?N8(Object(n),!0).forEach(function(r){OMe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function OMe(e,t,n){return(t=FMe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FMe(e){var t=LMe(e,"string");return typeof t=="symbol"?t:t+""}function LMe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function BMe(e,t){if(e==null)return{};var n,r,o=jMe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function jMe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var XK={symbolCircle:CO,symbolCross:J2e,symbolDiamond:tMe,symbolSquare:nMe,symbolStar:sMe,symbolTriangle:aMe,symbolWye:cMe},zMe=Math.PI/180,HMe=e=>{var t="symbol".concat(T0(e));return XK[t]||CO},VMe=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*zMe;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},GMe=(e,t)=>{XK["symbol".concat(T0(e))]=t},AO=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,o=BMe(e,NMe),a=O8(O8({},o),{},{type:t,size:n,sizeType:r}),l="circle";typeof t=="string"&&(l=t);var d=()=>{var y=HMe(l),S=dMe().type(y).size(VMe(n,r,l)),E=S();if(E!==null)return E},{className:f,cx:m,cy:v}=a,C=ca(a);return at(m)&&at(v)&&at(n)?M.createElement("path",aI({},C,{className:St("recharts-symbols",f),transform:"translate(".concat(m,", ").concat(v,")"),d:d()})):null};AO.registerSymbol=GMe;var JK=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,UMe=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(M.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(o=>{gO(o)&&(r[o]=(a=>n[o](n,a)))}),r},WMe=(e,t,n)=>r=>(e(t,n,r),null),_E=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(o=>{var a=e[o];gO(o)&&typeof a=="function"&&(r||(r={}),r[o]=WMe(a,t,n))}),r};function F8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function $Me(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?F8(Object(n),!0).forEach(function(r){qMe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qMe(e,t,n){return(t=KMe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KMe(e){var t=YMe(e,"string");return typeof t=="symbol"?t:t+""}function YMe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xo(e,t){var n=$Me({},e),r=t,o=Object.keys(t),a=o.reduce((l,d)=>(l[d]===void 0&&r[d]!==void 0&&(l[d]=r[d]),l),n);return a}function YS(){return YS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},YS.apply(null,arguments)}function L8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function QMe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?L8(Object(n),!0).forEach(function(r){ZMe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ZMe(e,t,n){return(t=XMe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XMe(e){var t=JMe(e,"string");return typeof t=="symbol"?t:t+""}function JMe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ta=32,eTe={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function tTe(e){var{data:t,iconType:n,inactiveColor:r}=e,o=ta/2,a=ta/6,l=ta/3,d=t.inactive?r:t.color,f=n??t.type;if(f==="none")return null;if(f==="plainline"){var m;return M.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:(m=t.payload)===null||m===void 0?void 0:m.strokeDasharray,x1:0,y1:o,x2:ta,y2:o,className:"recharts-legend-icon"})}if(f==="line")return M.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(o,"h").concat(l,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*l,",").concat(o,`
            H`).concat(ta,"M").concat(2*l,",").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(l,",").concat(o),className:"recharts-legend-icon"});if(f==="rect")return M.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(ta/8,"h").concat(ta,"v").concat(ta*3/4,"h").concat(-ta,"z"),className:"recharts-legend-icon"});if(M.isValidElement(t.legendIcon)){var v=QMe({},t);return delete v.legendIcon,M.cloneElement(t.legendIcon,v)}return M.createElement(AO,{fill:d,cx:o,cy:o,size:ta,sizeType:"diameter",type:f})}function nTe(e){var{payload:t,iconSize:n,layout:r,formatter:o,inactiveColor:a,iconType:l}=e,d={x:0,y:0,width:ta,height:ta},f={display:r==="horizontal"?"inline-block":"block",marginRight:10},m={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((v,C)=>{var y=v.formatter||o,S=St({"recharts-legend-item":!0,["legend-item-".concat(C)]:!0,inactive:v.inactive});if(v.type==="none")return null;var E=v.inactive?a:v.color,T=y?y(v.value,v,C):v.value;return M.createElement("li",YS({className:S,style:f,key:"legend-item-".concat(C)},_E(e,v,C)),M.createElement(bO,{width:n,height:n,viewBox:d,style:m,"aria-label":"".concat(T," legend icon")},M.createElement(tTe,{data:v,iconType:l,inactiveColor:a})),M.createElement("span",{className:"recharts-legend-item-text",style:{color:E}},T))})}var rTe=e=>{var t=xo(e,eTe),{payload:n,layout:r,align:o}=t;if(!n||!n.length)return null;var a={padding:0,margin:0,textAlign:r==="horizontal"?o:"left"};return M.createElement("ul",{className:"recharts-default-legend",style:a},M.createElement(nTe,YS({},t,{payload:n})))},kT={},xT={},B8;function iTe(){return B8||(B8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const o=new Map;for(let a=0;a<n.length;a++){const l=n[a],d=r(l);o.has(d)||o.set(d,l)}return Array.from(o.values())}e.uniqBy=t})(xT)),xT}var AT={},j8;function eY(){return j8||(j8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(AT)),AT}var ST={},_T={},ET={},z8;function oTe(){return z8||(z8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(ET)),ET}var H8;function SO(){return H8||(H8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oTe();function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(_T)),_T}var DT={},V8;function sTe(){return V8||(V8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(DT)),DT}var G8;function aTe(){return G8||(G8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=SO(),n=sTe();function r(o){return n.isObjectLike(o)&&t.isArrayLike(o)}e.isArrayLikeObject=r})(ST)),ST}var MT={},TT={},U8;function lTe(){return U8||(U8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xO();function n(r){return function(o){return t.get(o,r)}}e.property=n})(TT)),TT}var RT={},PT={},IT={},NT={},W8;function tY(){return W8||(W8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(NT)),NT}var OT={},$8;function nY(){return $8||($8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(OT)),OT}var FT={},q8;function rY(){return q8||(q8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.eq=t})(FT)),FT}var K8;function cTe(){return K8||(K8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tY(),n=nY(),r=rY();function o(v,C,y){return typeof y!="function"?o(v,C,()=>{}):a(v,C,function S(E,T,P,N,j,L){const V=y(E,T,P,N,j,L);return V!==void 0?!!V:a(E,T,S,L)},new Map)}function a(v,C,y,S){if(C===v)return!0;switch(typeof C){case"object":return l(v,C,y,S);case"function":return Object.keys(C).length>0?a(v,{...C},y,S):r.eq(v,C);default:return t.isObject(v)?typeof C=="string"?C==="":!0:r.eq(v,C)}}function l(v,C,y,S){if(C==null)return!0;if(Array.isArray(C))return f(v,C,y,S);if(C instanceof Map)return d(v,C,y,S);if(C instanceof Set)return m(v,C,y,S);const E=Object.keys(C);if(v==null)return E.length===0;if(E.length===0)return!0;if(S?.has(C))return S.get(C)===v;S?.set(C,v);try{for(let T=0;T<E.length;T++){const P=E[T];if(!n.isPrimitive(v)&&!(P in v)||C[P]===void 0&&v[P]!==void 0||C[P]===null&&v[P]!==null||!y(v[P],C[P],P,v,C,S))return!1}return!0}finally{S?.delete(C)}}function d(v,C,y,S){if(C.size===0)return!0;if(!(v instanceof Map))return!1;for(const[E,T]of C.entries()){const P=v.get(E);if(y(P,T,E,v,C,S)===!1)return!1}return!0}function f(v,C,y,S){if(C.length===0)return!0;if(!Array.isArray(v))return!1;const E=new Set;for(let T=0;T<C.length;T++){const P=C[T];let N=!1;for(let j=0;j<v.length;j++){if(E.has(j))continue;const L=v[j];let V=!1;if(y(L,P,T,v,C,S)&&(V=!0),V){E.add(j),N=!0;break}}if(!N)return!1}return!0}function m(v,C,y,S){return C.size===0?!0:v instanceof Set?f([...v],[...C],y,S):!1}e.isMatchWith=o,e.isSetMatch=m})(IT)),IT}var Y8;function iY(){return Y8||(Y8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cTe();function n(r,o){return t.isMatchWith(r,o,()=>{})}e.isMatch=n})(PT)),PT}var LT={},BT={},jT={},Q8;function dTe(){return Q8||(Q8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(jT)),jT}var zT={},Z8;function oY(){return Z8||(Z8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(zT)),zT}var HT={},X8;function sY(){return X8||(X8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",o="[object Boolean]",a="[object Arguments]",l="[object Symbol]",d="[object Date]",f="[object Map]",m="[object Set]",v="[object Array]",C="[object Function]",y="[object ArrayBuffer]",S="[object Object]",E="[object Error]",T="[object DataView]",P="[object Uint8Array]",N="[object Uint8ClampedArray]",j="[object Uint16Array]",L="[object Uint32Array]",V="[object BigUint64Array]",U="[object Int8Array]",$="[object Int16Array]",z="[object Int32Array]",K="[object BigInt64Array]",te="[object Float32Array]",ae="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=y,e.arrayTag=v,e.bigInt64ArrayTag=K,e.bigUint64ArrayTag=V,e.booleanTag=o,e.dataViewTag=T,e.dateTag=d,e.errorTag=E,e.float32ArrayTag=te,e.float64ArrayTag=ae,e.functionTag=C,e.int16ArrayTag=$,e.int32ArrayTag=z,e.int8ArrayTag=U,e.mapTag=f,e.numberTag=r,e.objectTag=S,e.regexpTag=t,e.setTag=m,e.stringTag=n,e.symbolTag=l,e.uint16ArrayTag=j,e.uint32ArrayTag=L,e.uint8ArrayTag=P,e.uint8ClampedArrayTag=N})(HT)),HT}var VT={},J8;function uTe(){return J8||(J8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(VT)),VT}var eH;function aY(){return eH||(eH=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dTe(),n=oY(),r=sY(),o=nY(),a=uTe();function l(v,C){return d(v,void 0,v,new Map,C)}function d(v,C,y,S=new Map,E=void 0){const T=E?.(v,C,y,S);if(T!==void 0)return T;if(o.isPrimitive(v))return v;if(S.has(v))return S.get(v);if(Array.isArray(v)){const P=new Array(v.length);S.set(v,P);for(let N=0;N<v.length;N++)P[N]=d(v[N],N,y,S,E);return Object.hasOwn(v,"index")&&(P.index=v.index),Object.hasOwn(v,"input")&&(P.input=v.input),P}if(v instanceof Date)return new Date(v.getTime());if(v instanceof RegExp){const P=new RegExp(v.source,v.flags);return P.lastIndex=v.lastIndex,P}if(v instanceof Map){const P=new Map;S.set(v,P);for(const[N,j]of v)P.set(N,d(j,N,y,S,E));return P}if(v instanceof Set){const P=new Set;S.set(v,P);for(const N of v)P.add(d(N,void 0,y,S,E));return P}if(typeof Buffer<"u"&&Buffer.isBuffer(v))return v.subarray();if(a.isTypedArray(v)){const P=new(Object.getPrototypeOf(v)).constructor(v.length);S.set(v,P);for(let N=0;N<v.length;N++)P[N]=d(v[N],N,y,S,E);return P}if(v instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&v instanceof SharedArrayBuffer)return v.slice(0);if(v instanceof DataView){const P=new DataView(v.buffer.slice(0),v.byteOffset,v.byteLength);return S.set(v,P),f(P,v,y,S,E),P}if(typeof File<"u"&&v instanceof File){const P=new File([v],v.name,{type:v.type});return S.set(v,P),f(P,v,y,S,E),P}if(typeof Blob<"u"&&v instanceof Blob){const P=new Blob([v],{type:v.type});return S.set(v,P),f(P,v,y,S,E),P}if(v instanceof Error){const P=new v.constructor;return S.set(v,P),P.message=v.message,P.name=v.name,P.stack=v.stack,P.cause=v.cause,f(P,v,y,S,E),P}if(v instanceof Boolean){const P=new Boolean(v.valueOf());return S.set(v,P),f(P,v,y,S,E),P}if(v instanceof Number){const P=new Number(v.valueOf());return S.set(v,P),f(P,v,y,S,E),P}if(v instanceof String){const P=new String(v.valueOf());return S.set(v,P),f(P,v,y,S,E),P}if(typeof v=="object"&&m(v)){const P=Object.create(Object.getPrototypeOf(v));return S.set(v,P),f(P,v,y,S,E),P}return v}function f(v,C,y=v,S,E){const T=[...Object.keys(C),...t.getSymbols(C)];for(let P=0;P<T.length;P++){const N=T[P],j=Object.getOwnPropertyDescriptor(v,N);(j==null||j.writable)&&(v[N]=d(C[N],N,y,S,E))}}function m(v){switch(n.getTag(v)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=l,e.cloneDeepWithImpl=d,e.copyProperties=f})(BT)),BT}var tH;function hTe(){return tH||(tH=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aY();function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(LT)),LT}var nH;function fTe(){return nH||(nH=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iY(),n=hTe();function r(o){return o=n.cloneDeep(o),a=>t.isMatch(a,o)}e.matches=r})(RT)),RT}var GT={},UT={},WT={},rH;function pTe(){return rH||(rH=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aY(),n=sY();function r(o,a){return t.cloneDeepWith(o,(l,d,f,m)=>{const v=a?.(l,d,f,m);if(v!==void 0)return v;if(typeof o=="object")switch(Object.prototype.toString.call(o)){case n.numberTag:case n.stringTag:case n.booleanTag:{const C=new o.constructor(o?.valueOf());return t.copyProperties(C,o),C}case n.argumentsTag:{const C={};return t.copyProperties(C,o),C.length=o.length,C[Symbol.iterator]=o[Symbol.iterator],C}default:return}})}e.cloneDeepWith=r})(WT)),WT}var iH;function gTe(){return iH||(iH=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pTe();function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(UT)),UT}var $T={},qT={},oH;function lY(){return oH||(oH=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,o=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<o;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(qT)),qT}var KT={},sH;function mTe(){return sH||(sH=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oY();function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(KT)),KT}var aH;function bTe(){return aH||(aH=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=QK(),n=lY(),r=mTe(),o=kO();function a(l,d){let f;if(Array.isArray(d)?f=d:typeof d=="string"&&t.isDeepKey(d)&&l?.[d]==null?f=o.toPath(d):f=[d],f.length===0)return!1;let m=l;for(let v=0;v<f.length;v++){const C=f[v];if((m==null||!Object.hasOwn(m,C))&&!((Array.isArray(m)||r.isArguments(m))&&n.isIndex(C)&&C<m.length))return!1;m=m[C]}return!0}e.has=a})($T)),$T}var lH;function vTe(){return lH||(lH=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iY(),n=yO(),r=gTe(),o=xO(),a=bTe();function l(d,f){switch(typeof d){case"object":{Object.is(d?.valueOf(),-0)&&(d="-0");break}case"number":{d=n.toKey(d);break}}return f=r.cloneDeep(f),function(m){const v=o.get(m,d);return v===void 0?a.has(m,d):f===void 0?v===void 0:t.isMatch(v,f)}}e.matchesProperty=l})(GT)),GT}var cH;function wTe(){return cH||(cH=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eY(),n=lTe(),r=fTe(),o=vTe();function a(l){if(l==null)return t.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?o.matchesProperty(l[0],l[1]):r.matches(l);case"string":case"symbol":case"number":return n.property(l)}}e.iteratee=a})(MT)),MT}var dH;function CTe(){return dH||(dH=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iTe(),n=eY(),r=aTe(),o=wTe();function a(l,d=n.identity){return r.isArrayLikeObject(l)?t.uniqBy(Array.from(l),o.iteratee(d)):[]}e.uniqBy=a})(kT)),kT}var YT,uH;function yTe(){return uH||(uH=1,YT=CTe().uniqBy),YT}var kTe=yTe();const hH=fa(kTe);function cY(e,t,n){return t===!0?hH(e,n):typeof t=="function"?hH(e,t):e}var QT={exports:{}},ZT={},XT={exports:{}},JT={};var fH;function xTe(){if(fH)return JT;fH=1;var e=Vh();function t(C,y){return C===y&&(C!==0||1/C===1/y)||C!==C&&y!==y}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,o=e.useEffect,a=e.useLayoutEffect,l=e.useDebugValue;function d(C,y){var S=y(),E=r({inst:{value:S,getSnapshot:y}}),T=E[0].inst,P=E[1];return a(function(){T.value=S,T.getSnapshot=y,f(T)&&P({inst:T})},[C,S,y]),o(function(){return f(T)&&P({inst:T}),C(function(){f(T)&&P({inst:T})})},[C]),l(S),S}function f(C){var y=C.getSnapshot;C=C.value;try{var S=y();return!n(C,S)}catch{return!0}}function m(C,y){return y()}var v=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:d;return JT.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:v,JT}var pH;function ATe(){return pH||(pH=1,XT.exports=xTe()),XT.exports}var gH;function STe(){if(gH)return ZT;gH=1;var e=Vh(),t=ATe();function n(m,v){return m===v&&(m!==0||1/m===1/v)||m!==m&&v!==v}var r=typeof Object.is=="function"?Object.is:n,o=t.useSyncExternalStore,a=e.useRef,l=e.useEffect,d=e.useMemo,f=e.useDebugValue;return ZT.useSyncExternalStoreWithSelector=function(m,v,C,y,S){var E=a(null);if(E.current===null){var T={hasValue:!1,value:null};E.current=T}else T=E.current;E=d(function(){function N($){if(!j){if(j=!0,L=$,$=y($),S!==void 0&&T.hasValue){var z=T.value;if(S(z,$))return V=z}return V=$}if(z=V,r(L,$))return z;var K=y($);return S!==void 0&&S(z,K)?(L=$,z):(L=$,V=K)}var j=!1,L,V,U=C===void 0?null:C;return[function(){return N(v())},U===null?void 0:function(){return N(U())}]},[v,C,y,S]);var P=o(m,E[0],E[1]);return l(function(){T.hasValue=!0,T.value=P},[P]),f(P),P},ZT}var mH;function _Te(){return mH||(mH=1,QT.exports=STe()),QT.exports}var ETe=_Te(),_O=M.createContext(null),DTe=e=>e,fr=()=>{var e=M.useContext(_O);return e?e.store.dispatch:DTe},rS=()=>{},MTe=()=>rS,TTe=(e,t)=>e===t;function ut(e){var t=M.useContext(_O);return ETe.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:MTe,t?t.store.getState:rS,t?t.store.getState:rS,t?e:rS,TTe)}function RTe(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function PTe(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function ITe(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var bH=e=>Array.isArray(e)?e:[e];function NTe(e){const t=Array.isArray(e[0])?e[0]:e;return ITe(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function OTe(e,t){const n=[],{length:r}=e;for(let o=0;o<r;o++)n.push(e[o].apply(null,t));return n}var FTe=class{constructor(e){this.value=e}deref(){return this.value}},LTe=typeof WeakRef<"u"?WeakRef:FTe,BTe=0,vH=1;function d1(){return{s:BTe,v:void 0,o:null,p:null}}function dY(e,t={}){let n=d1();const{resultEqualityCheck:r}=t;let o,a=0;function l(){let d=n;const{length:f}=arguments;for(let C=0,y=f;C<y;C++){const S=arguments[C];if(typeof S=="function"||typeof S=="object"&&S!==null){let E=d.o;E===null&&(d.o=E=new WeakMap);const T=E.get(S);T===void 0?(d=d1(),E.set(S,d)):d=T}else{let E=d.p;E===null&&(d.p=E=new Map);const T=E.get(S);T===void 0?(d=d1(),E.set(S,d)):d=T}}const m=d;let v;if(d.s===vH)v=d.v;else if(v=e.apply(null,arguments),a++,r){const C=o?.deref?.()??o;C!=null&&r(C,v)&&(v=C,a!==0&&a--),o=typeof v=="object"&&v!==null||typeof v=="function"?new LTe(v):v}return m.s=vH,m.v=v,v}return l.clearCache=()=>{n=d1(),l.resetResultsCount()},l.resultsCount=()=>a,l.resetResultsCount=()=>{a=0},l}function jTe(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...o)=>{let a=0,l=0,d,f={},m=o.pop();typeof m=="object"&&(f=m,m=o.pop()),RTe(m,`createSelector expects an output function after the inputs, but received: [${typeof m}]`);const v={...n,...f},{memoize:C,memoizeOptions:y=[],argsMemoize:S=dY,argsMemoizeOptions:E=[]}=v,T=bH(y),P=bH(E),N=NTe(o),j=C(function(){return a++,m.apply(null,arguments)},...T),L=S(function(){l++;const U=OTe(N,arguments);return d=j.apply(null,U),d},...P);return Object.assign(L,{resultFunc:m,memoizedResultFunc:j,dependencies:N,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>d,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:C,argsMemoize:S})};return Object.assign(r,{withTypes:()=>r}),r}var Ie=jTe(dY),zTe=Object.assign((e,t=Ie)=>{PTe(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(a=>e[a]);return t(r,(...a)=>a.reduce((l,d,f)=>(l[n[f]]=d,l),{}))},{withTypes:()=>zTe}),eR={},tR={},nR={},wH;function HTe(){return wH||(wH=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,o,a)=>{if(r!==o){const l=t(r),d=t(o);if(l===d&&l===0){if(r<o)return a==="desc"?1:-1;if(r>o)return a==="desc"?-1:1}return a==="desc"?d-l:l-d}return 0};e.compareValues=n})(nR)),nR}var rR={},iR={},CH;function uY(){return CH||(CH=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(iR)),iR}var yH;function VTe(){return yH||(yH=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uY(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function o(a,l){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||l!=null&&Object.hasOwn(l,a)}e.isKey=o})(rR)),rR}var kH;function GTe(){return kH||(kH=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=HTe(),n=VTe(),r=kO();function o(a,l,d,f){if(a==null)return[];d=f?void 0:d,Array.isArray(a)||(a=Object.values(a)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(d)||(d=d==null?[]:[d]),d=d.map(S=>String(S));const m=(S,E)=>{let T=S;for(let P=0;P<E.length&&T!=null;++P)T=T[E[P]];return T},v=(S,E)=>E==null||S==null?E:typeof S=="object"&&"key"in S?Object.hasOwn(E,S.key)?E[S.key]:m(E,S.path):typeof S=="function"?S(E):Array.isArray(S)?m(E,S):typeof E=="object"?E[S]:E,C=l.map(S=>(Array.isArray(S)&&S.length===1&&(S=S[0]),S==null||typeof S=="function"||Array.isArray(S)||n.isKey(S)?S:{key:S,path:r.toPath(S)}));return a.map(S=>({original:S,criteria:C.map(E=>v(E,S))})).slice().sort((S,E)=>{for(let T=0;T<C.length;T++){const P=t.compareValues(S.criteria[T],E.criteria[T],d[T]);if(P!==0)return P}return 0}).map(S=>S.original)}e.orderBy=o})(tR)),tR}var oR={},xH;function UTe(){return xH||(xH=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const o=[],a=Math.floor(r),l=(d,f)=>{for(let m=0;m<d.length;m++){const v=d[m];Array.isArray(v)&&f<a?l(v,f+1):o.push(v)}};return l(n,0),o}e.flatten=t})(oR)),oR}var sR={},AH;function hY(){return AH||(AH=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lY(),n=SO(),r=tY(),o=rY();function a(l,d,f){return r.isObject(f)&&(typeof d=="number"&&n.isArrayLike(f)&&t.isIndex(d)&&d<f.length||typeof d=="string"&&d in f)?o.eq(f[d],l):!1}e.isIterateeCall=a})(sR)),sR}var SH;function WTe(){return SH||(SH=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=GTe(),n=UTe(),r=hY();function o(a,...l){const d=l.length;return d>1&&r.isIterateeCall(a,l[0],l[1])?l=[]:d>2&&r.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),t.orderBy(a,n.flatten(l),["asc"])}e.sortBy=o})(eR)),eR}var aR,_H;function $Te(){return _H||(_H=1,aR=WTe().sortBy),aR}var qTe=$Te();const EE=fa(qTe);var fY=e=>e.legend.settings,KTe=e=>e.legend.size,YTe=e=>e.legend.payload,QTe=Ie([YTe,fY],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?EE(r,n):r});function ZTe(){return ut(QTe)}var u1=1;function pY(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=M.useState({height:0,left:0,top:0,width:0}),r=M.useCallback(o=>{if(o!=null){var a=o.getBoundingClientRect(),l={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(l.height-t.height)>u1||Math.abs(l.left-t.left)>u1||Math.abs(l.top-t.top)>u1||Math.abs(l.width-t.width)>u1)&&n({height:l.height,left:l.left,top:l.top,width:l.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function bi(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var XTe=typeof Symbol=="function"&&Symbol.observable||"@@observable",EH=XTe,lR=()=>Math.random().toString(36).substring(7).split("").join("."),JTe={INIT:`@@redux/INIT${lR()}`,REPLACE:`@@redux/REPLACE${lR()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${lR()}`},QS=JTe;function EO(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function gY(e,t,n){if(typeof e!="function")throw new Error(bi(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(bi(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(bi(1));return n(gY)(e,t)}let r=e,o=t,a=new Map,l=a,d=0,f=!1;function m(){l===a&&(l=new Map,a.forEach((P,N)=>{l.set(N,P)}))}function v(){if(f)throw new Error(bi(3));return o}function C(P){if(typeof P!="function")throw new Error(bi(4));if(f)throw new Error(bi(5));let N=!0;m();const j=d++;return l.set(j,P),function(){if(N){if(f)throw new Error(bi(6));N=!1,m(),l.delete(j),a=null}}}function y(P){if(!EO(P))throw new Error(bi(7));if(typeof P.type>"u")throw new Error(bi(8));if(typeof P.type!="string")throw new Error(bi(17));if(f)throw new Error(bi(9));try{f=!0,o=r(o,P)}finally{f=!1}return(a=l).forEach(j=>{j()}),P}function S(P){if(typeof P!="function")throw new Error(bi(10));r=P,y({type:QS.REPLACE})}function E(){const P=C;return{subscribe(N){if(typeof N!="object"||N===null)throw new Error(bi(11));function j(){const V=N;V.next&&V.next(v())}return j(),{unsubscribe:P(j)}},[EH](){return this}}}return y({type:QS.INIT}),{dispatch:y,subscribe:C,getState:v,replaceReducer:S,[EH]:E}}function eRe(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:QS.INIT})>"u")throw new Error(bi(12));if(typeof n(void 0,{type:QS.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(bi(13))})}function mY(e){const t=Object.keys(e),n={};for(let a=0;a<t.length;a++){const l=t[a];typeof e[l]=="function"&&(n[l]=e[l])}const r=Object.keys(n);let o;try{eRe(n)}catch(a){o=a}return function(l={},d){if(o)throw o;let f=!1;const m={};for(let v=0;v<r.length;v++){const C=r[v],y=n[C],S=l[C],E=y(S,d);if(typeof E>"u")throw d&&d.type,new Error(bi(14));m[C]=E,f=f||E!==S}return f=f||r.length!==Object.keys(l).length,f?m:l}}function ZS(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function tRe(...e){return t=>(n,r)=>{const o=t(n,r);let a=()=>{throw new Error(bi(15))};const l={getState:o.getState,dispatch:(f,...m)=>a(f,...m)},d=e.map(f=>f(l));return a=ZS(...d)(o.dispatch),{...o,dispatch:a}}}function bY(e){return EO(e)&&"type"in e&&typeof e.type=="string"}var vY=Symbol.for("immer-nothing"),DH=Symbol.for("immer-draftable"),yo=Symbol.for("immer-state");function $a(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var ys=Object,Ob=ys.getPrototypeOf,XS="constructor",DE="prototype",lI="configurable",JS="enumerable",iS="writable",Xy="value",Gd=e=>!!e&&!!e[yo];function hc(e){return e?wY(e)||ME(e)||!!e[DH]||!!e[XS]?.[DH]||TE(e)||RE(e):!1}var nRe=ys[DE][XS].toString(),MH=new WeakMap;function wY(e){if(!e||!DO(e))return!1;const t=Ob(e);if(t===null||t===ys[DE])return!0;const n=ys.hasOwnProperty.call(t,XS)&&t[XS];if(n===Object)return!0;if(!ib(n))return!1;let r=MH.get(n);return r===void 0&&(r=Function.toString.call(n),MH.set(n,r)),r===nRe}function P0(e,t,n=!0){I0(e)===0?(n?Reflect.ownKeys(e):ys.keys(e)).forEach(o=>{t(o,e[o],e)}):e.forEach((r,o)=>t(o,r,e))}function I0(e){const t=e[yo];return t?t.type_:ME(e)?1:TE(e)?2:RE(e)?3:0}var TH=(e,t,n=I0(e))=>n===2?e.has(t):ys[DE].hasOwnProperty.call(e,t),cI=(e,t,n=I0(e))=>n===2?e.get(t):e[t],e_=(e,t,n,r=I0(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function rRe(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var ME=Array.isArray,TE=e=>e instanceof Map,RE=e=>e instanceof Set,DO=e=>typeof e=="object",ib=e=>typeof e=="function",cR=e=>typeof e=="boolean",pd=e=>e.copy_||e.base_,MO=e=>e.modified_?e.copy_:e.base_;function dI(e,t){if(TE(e))return new Map(e);if(RE(e))return new Set(e);if(ME(e))return Array[DE].slice.call(e);const n=wY(e);if(t===!0||t==="class_only"&&!n){const r=ys.getOwnPropertyDescriptors(e);delete r[yo];let o=Reflect.ownKeys(r);for(let a=0;a<o.length;a++){const l=o[a],d=r[l];d[iS]===!1&&(d[iS]=!0,d[lI]=!0),(d.get||d.set)&&(r[l]={[lI]:!0,[iS]:!0,[JS]:d[JS],[Xy]:e[l]})}return ys.create(Ob(e),r)}else{const r=Ob(e);if(r!==null&&n)return{...e};const o=ys.create(r);return ys.assign(o,e)}}function TO(e,t=!1){return PE(e)||Gd(e)||(I0(e)>1&&ys.defineProperties(e,{set:h1,add:h1,clear:h1,delete:h1}),ys.freeze(e),t&&P0(e,(n,r)=>{TO(r,!0)},!1)),e}function iRe(){$a(2)}var h1={[Xy]:iRe};function PE(e){return e===null||!DO(e)?!0:ys.isFrozen(e)}var t_="MapSet",uI="Patches",CY={};function Fb(e){const t=CY[e];return t||$a(0,e),t}var oRe=e=>!!CY[e],Jy,yY=()=>Jy,sRe=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:oRe(t_)?Fb(t_):void 0});function RH(e,t){t&&(e.patchPlugin_=Fb(uI),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function hI(e){fI(e),e.drafts_.forEach(aRe),e.drafts_=null}function fI(e){e===Jy&&(Jy=e.parent_)}var PH=e=>Jy=sRe(Jy,e);function aRe(e){const t=e[yo];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function IH(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[yo].modified_&&(hI(t),$a(4)),hc(e)&&(e=NH(t,e));const{patchPlugin_:o}=t;o&&o.generateReplacementPatches_(n[yo].base_,e,t)}else e=NH(t,n);return lRe(t,e,!0),hI(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==vY?e:void 0}function NH(e,t){if(PE(t))return t;const n=t[yo];if(!n)return RO(t,e.handledSet_,e);if(!IE(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(e);AY(n,e)}return n.copy_}function lRe(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&TO(t,n)}function kY(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var IE=(e,t)=>e.scope_===t,cRe=[];function xY(e,t,n,r){const o=pd(e),a=e.type_;if(r!==void 0&&cI(o,r,a)===t){e_(o,r,n,a);return}if(!e.draftLocations_){const d=e.draftLocations_=new Map;P0(o,(f,m)=>{if(Gd(m)){const v=d.get(m)||[];v.push(f),d.set(m,v)}})}const l=e.draftLocations_.get(t)??cRe;for(const d of l)e_(o,d,n,a)}function dRe(e,t,n){e.callbacks_.push(function(o){const a=t;if(!a||!IE(a,o))return;o.mapSetPlugin_?.fixSetContents(a);const l=MO(a);xY(e,a.draft_??a,l,n),AY(a,o)})}function AY(e,t){if(e.modified_&&!e.finalized_&&(e.type_===3||(e.assigned_?.size??0)>0)){const{patchPlugin_:r}=t;if(r){const o=r.getPath(e);o&&r.generatePatches_(e,o,t)}kY(e)}}function uRe(e,t,n){const{scope_:r}=e;if(Gd(n)){const o=n[yo];IE(o,r)&&o.callbacks_.push(function(){oS(e);const l=MO(o);xY(e,n,l,t)})}else hc(n)&&e.callbacks_.push(function(){const a=pd(e);cI(a,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&RO(cI(e.copy_,t,e.type_),r.handledSet_,r)})}function RO(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Gd(e)||t.has(e)||!hc(e)||PE(e)||(t.add(e),P0(e,(r,o)=>{if(Gd(o)){const a=o[yo];if(IE(a,n)){const l=MO(a);e_(e,r,l,e.type_),kY(a)}}else hc(o)&&RO(o,t,n)})),e}function hRe(e,t){const n=ME(e),r={type_:n?1:0,scope_:t?t.scope_:yY(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let o=r,a=PO;n&&(o=[r],a=e0);const{revoke:l,proxy:d}=Proxy.revocable(o,a);return r.draft_=d,r.revoke_=l,[d,r]}var PO={get(e,t){if(t===yo)return e;const n=pd(e);if(!TH(n,t,e.type_))return fRe(e,n,t);const r=n[t];if(e.finalized_||!hc(r))return r;if(r===dR(e.base_,t)){oS(e);const o=e.type_===1?+t:t,a=gI(e.scope_,r,e,o);return e.copy_[o]=a}return r},has(e,t){return t in pd(e)},ownKeys(e){return Reflect.ownKeys(pd(e))},set(e,t,n){const r=SY(pd(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const o=dR(pd(e),t),a=o?.[yo];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(rRe(n,o)&&(n!==void 0||TH(e.base_,t,e.type_)))return!0;oS(e),pI(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),uRe(e,t,n)),!0},deleteProperty(e,t){return oS(e),dR(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),pI(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=pd(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[iS]:!0,[lI]:e.type_!==1||t!=="length",[JS]:r[JS],[Xy]:n[t]}},defineProperty(){$a(11)},getPrototypeOf(e){return Ob(e.base_)},setPrototypeOf(){$a(12)}},e0={};P0(PO,(e,t)=>{e0[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}});e0.deleteProperty=function(e,t){return e0.set.call(this,e,t,void 0)};e0.set=function(e,t,n){return PO.set.call(this,e[0],t,n,e[0])};function dR(e,t){const n=e[yo];return(n?pd(n):e)[t]}function fRe(e,t,n){const r=SY(t,n);return r?Xy in r?r[Xy]:r.get?.call(e.draft_):void 0}function SY(e,t){if(!(t in e))return;let n=Ob(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Ob(n)}}function pI(e){e.modified_||(e.modified_=!0,e.parent_&&pI(e.parent_))}function oS(e){e.copy_||(e.assigned_=new Map,e.copy_=dI(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var pRe=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,o)=>{if(ib(n)&&!ib(r)){const l=r;r=n;const d=this;return function(m=l,...v){return d.produce(m,C=>r.call(this,C,...v))}}ib(r)||$a(6),o!==void 0&&!ib(o)&&$a(7);let a;if(hc(n)){const l=PH(this),d=gI(l,n,void 0);let f=!0;try{a=r(d),f=!1}finally{f?hI(l):fI(l)}return RH(l,o),IH(a,l)}else if(!n||!DO(n)){if(a=r(n),a===void 0&&(a=n),a===vY&&(a=void 0),this.autoFreeze_&&TO(a,!0),o){const l=[],d=[];Fb(uI).generateReplacementPatches_(n,a,{patches_:l,inversePatches_:d}),o(l,d)}return a}else $a(1,n)},this.produceWithPatches=(n,r)=>{if(ib(n))return(d,...f)=>this.produceWithPatches(d,m=>n(m,...f));let o,a;return[this.produce(n,r,(d,f)=>{o=d,a=f}),o,a]},cR(t?.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),cR(t?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),cR(t?.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){hc(t)||$a(8),Gd(t)&&(t=Za(t));const n=PH(this),r=gI(n,t,void 0);return r[yo].isManual_=!0,fI(n),r}finishDraft(t,n){const r=t&&t[yo];(!r||!r.isManual_)&&$a(9);const{scope_:o}=r;return RH(o,n),IH(void 0,o)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,n){let r;for(r=n.length-1;r>=0;r--){const a=n[r];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}r>-1&&(n=n.slice(r+1));const o=Fb(uI).applyPatches_;return Gd(t)?o(t,n):this.produce(t,a=>o(a,n))}};function gI(e,t,n,r){const[o,a]=TE(t)?Fb(t_).proxyMap_(t,n):RE(t)?Fb(t_).proxySet_(t,n):hRe(t,n);return(n?.scope_??yY()).drafts_.push(o),a.callbacks_=n?.callbacks_??[],a.key_=r,n&&r!==void 0?dRe(n,a,r):a.callbacks_.push(function(f){f.mapSetPlugin_?.fixSetContents(a);const{patchPlugin_:m}=f;a.modified_&&m&&m.generatePatches_(a,[],f)}),o}function Za(e){return Gd(e)||$a(10,e),_Y(e)}function _Y(e){if(!hc(e)||PE(e))return e;const t=e[yo];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=dI(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=dI(e,!0);return P0(n,(o,a)=>{e_(n,o,_Y(a))},r),t&&(t.finalized_=!1),n}var gRe=new pRe,EY=gRe.produce;function DY(e){return({dispatch:n,getState:r})=>o=>a=>typeof a=="function"?a(n,r,e):o(a)}var mRe=DY(),bRe=DY,vRe=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?ZS:ZS.apply(null,arguments)};function da(e,t){function n(...r){if(t){let o=t(...r);if(!o)throw new Error(xs(0));return{type:e,payload:o.payload,..."meta"in o&&{meta:o.meta},..."error"in o&&{error:o.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>bY(r)&&r.type===e,n}var MY=class by extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,by.prototype)}static get[Symbol.species](){return by}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new by(...t[0].concat(this)):new by(...t.concat(this))}};function OH(e){return hc(e)?EY(e,()=>{}):e}function f1(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function wRe(e){return typeof e=="boolean"}var CRe=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:o=!0,actionCreatorCheck:a=!0}=t??{};let l=new MY;return n&&(wRe(n)?l.push(mRe):l.push(bRe(n.extraArgument))),l},TY="RTK_autoBatch",tr=()=>e=>({payload:e,meta:{[TY]:!0}}),FH=e=>t=>{setTimeout(t,e)},RY=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let o=!0,a=!1,l=!1;const d=new Set,f=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:FH(10):e.type==="callback"?e.queueNotification:FH(e.timeout),m=()=>{l=!1,a&&(a=!1,d.forEach(v=>v()))};return Object.assign({},r,{subscribe(v){const C=()=>o&&v(),y=r.subscribe(C);return d.add(v),()=>{y(),d.delete(v)}},dispatch(v){try{return o=!v?.meta?.[TY],a=!o,a&&(l||(l=!0,f(m))),r.dispatch(v)}finally{o=!0}}})},yRe=e=>function(n){const{autoBatch:r=!0}=n??{};let o=new MY(e);return r&&o.push(RY(typeof r=="object"?r:void 0)),o};function kRe(e){const t=CRe(),{reducer:n=void 0,middleware:r,devTools:o=!0,preloadedState:a=void 0,enhancers:l=void 0}=e||{};let d;if(typeof n=="function")d=n;else if(EO(n))d=mY(n);else throw new Error(xs(1));let f;typeof r=="function"?f=r(t):f=t();let m=ZS;o&&(m=vRe({trace:!1,...typeof o=="object"&&o}));const v=tRe(...f),C=yRe(v);let y=typeof l=="function"?l(C):C();const S=m(...y);return gY(d,a,S)}function PY(e){const t={},n=[];let r;const o={addCase(a,l){const d=typeof a=="string"?a:a.type;if(!d)throw new Error(xs(28));if(d in t)throw new Error(xs(29));return t[d]=l,o},addAsyncThunk(a,l){return l.pending&&(t[a.pending.type]=l.pending),l.rejected&&(t[a.rejected.type]=l.rejected),l.fulfilled&&(t[a.fulfilled.type]=l.fulfilled),l.settled&&n.push({matcher:a.settled,reducer:l.settled}),o},addMatcher(a,l){return n.push({matcher:a,reducer:l}),o},addDefaultCase(a){return r=a,o}};return e(o),[t,n,r]}function xRe(e){return typeof e=="function"}function ARe(e,t){let[n,r,o]=PY(t),a;if(xRe(e))a=()=>OH(e());else{const d=OH(e);a=()=>d}function l(d=a(),f){let m=[n[f.type],...r.filter(({matcher:v})=>v(f)).map(({reducer:v})=>v)];return m.filter(v=>!!v).length===0&&(m=[o]),m.reduce((v,C)=>{if(C)if(Gd(v)){const S=C(v,f);return S===void 0?v:S}else{if(hc(v))return EY(v,y=>C(y,f));{const y=C(v,f);if(y===void 0){if(v===null)return v;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}}return v},d)}return l.getInitialState=a,l}var SRe="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",_Re=(e=21)=>{let t="",n=e;for(;n--;)t+=SRe[Math.random()*64|0];return t},ERe=Symbol.for("rtk-slice-createasyncthunk");function DRe(e,t){return`${e}/${t}`}function MRe({creators:e}={}){const t=e?.asyncThunk?.[ERe];return function(r){const{name:o,reducerPath:a=o}=r;if(!o)throw new Error(xs(11));const l=(typeof r.reducers=="function"?r.reducers(RRe()):r.reducers)||{},d=Object.keys(l),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},m={addCase(L,V){const U=typeof L=="string"?L:L.type;if(!U)throw new Error(xs(12));if(U in f.sliceCaseReducersByType)throw new Error(xs(13));return f.sliceCaseReducersByType[U]=V,m},addMatcher(L,V){return f.sliceMatchers.push({matcher:L,reducer:V}),m},exposeAction(L,V){return f.actionCreators[L]=V,m},exposeCaseReducer(L,V){return f.sliceCaseReducersByName[L]=V,m}};d.forEach(L=>{const V=l[L],U={reducerName:L,type:DRe(o,L),createNotation:typeof r.reducers=="function"};IRe(V)?ORe(U,V,m,t):PRe(U,V,m)});function v(){const[L={},V=[],U=void 0]=typeof r.extraReducers=="function"?PY(r.extraReducers):[r.extraReducers],$={...L,...f.sliceCaseReducersByType};return ARe(r.initialState,z=>{for(let K in $)z.addCase(K,$[K]);for(let K of f.sliceMatchers)z.addMatcher(K.matcher,K.reducer);for(let K of V)z.addMatcher(K.matcher,K.reducer);U&&z.addDefaultCase(U)})}const C=L=>L,y=new Map,S=new WeakMap;let E;function T(L,V){return E||(E=v()),E(L,V)}function P(){return E||(E=v()),E.getInitialState()}function N(L,V=!1){function U(z){let K=z[L];return typeof K>"u"&&V&&(K=f1(S,U,P)),K}function $(z=C){const K=f1(y,V,()=>new WeakMap);return f1(K,z,()=>{const te={};for(const[ae,X]of Object.entries(r.selectors??{}))te[ae]=TRe(X,z,()=>f1(S,z,P),V);return te})}return{reducerPath:L,getSelectors:$,get selectors(){return $(U)},selectSlice:U}}const j={name:o,reducer:T,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:P,...N(a),injectInto(L,{reducerPath:V,...U}={}){const $=V??a;return L.inject({reducerPath:$,reducer:T},U),{...j,...N($,!0)}}};return j}}function TRe(e,t,n,r){function o(a,...l){let d=t(a);return typeof d>"u"&&r&&(d=n()),e(d,...l)}return o.unwrapped=e,o}var Jo=MRe();function RRe(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function PRe({type:e,reducerName:t,createNotation:n},r,o){let a,l;if("reducer"in r){if(n&&!NRe(r))throw new Error(xs(17));a=r.reducer,l=r.prepare}else a=r;o.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,l?da(e,l):da(e))}function IRe(e){return e._reducerDefinitionType==="asyncThunk"}function NRe(e){return e._reducerDefinitionType==="reducerWithPrepare"}function ORe({type:e,reducerName:t},n,r,o){if(!o)throw new Error(xs(18));const{payloadCreator:a,fulfilled:l,pending:d,rejected:f,settled:m,options:v}=n,C=o(e,a,v);r.exposeAction(t,C),l&&r.addCase(C.fulfilled,l),d&&r.addCase(C.pending,d),f&&r.addCase(C.rejected,f),m&&r.addMatcher(C.settled,m),r.exposeCaseReducer(t,{fulfilled:l||p1,pending:d||p1,rejected:f||p1,settled:m||p1})}function p1(){}var FRe="task",IY="listener",NY="completed",IO="cancelled",LRe=`task-${IO}`,BRe=`task-${NY}`,mI=`${IY}-${IO}`,jRe=`${IY}-${NY}`,NE=class{constructor(e){this.code=e,this.message=`${FRe} ${IO} (reason: ${e})`}name="TaskAbortError";message},NO=(e,t)=>{if(typeof e!="function")throw new TypeError(xs(32))},n_=()=>{},OY=(e,t=n_)=>(e.catch(t),e),FY=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Fp=(e,t)=>{const n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Lp=e=>{if(e.aborted){const{reason:t}=e;throw new NE(t)}};function LY(e,t){let n=n_;return new Promise((r,o)=>{const a=()=>o(new NE(e.reason));if(e.aborted){a();return}n=FY(e,a),t.finally(()=>n()).then(r,o)}).finally(()=>{n=n_})}var zRe=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof NE?"cancelled":"rejected",error:n}}finally{t?.()}},r_=e=>t=>OY(LY(e,t).then(n=>(Lp(e),n))),BY=e=>{const t=r_(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:kb}=Object,LH={},OE="listenerMiddleware",HRe=(e,t)=>{const n=r=>FY(e,()=>Fp(r,e.reason));return(r,o)=>{NO(r);const a=new AbortController;n(a);const l=zRe(async()=>{Lp(e),Lp(a.signal);const d=await r({pause:r_(a.signal),delay:BY(a.signal),signal:a.signal});return Lp(a.signal),d},()=>Fp(a,BRe));return o?.autoJoin&&t.push(l.catch(n_)),{result:r_(e)(l),cancel(){Fp(a,LRe)}}}},VRe=(e,t)=>{const n=async(r,o)=>{Lp(t);let a=()=>{};const d=[new Promise((f,m)=>{let v=e({predicate:r,effect:(C,y)=>{y.unsubscribe(),f([C,y.getState(),y.getOriginalState()])}});a=()=>{v(),m()}})];o!=null&&d.push(new Promise(f=>setTimeout(f,o,null)));try{const f=await LY(t,Promise.race(d));return Lp(t),f}finally{a()}};return(r,o)=>OY(n(r,o))},jY=e=>{let{type:t,actionCreator:n,matcher:r,predicate:o,effect:a}=e;if(t)o=da(t).match;else if(n)t=n.type,o=n.match;else if(r)o=r;else if(!o)throw new Error(xs(21));return NO(a),{predicate:o,type:t,effect:a}},zY=kb(e=>{const{type:t,predicate:n,effect:r}=jY(e);return{id:_Re(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(xs(22))}}},{withTypes:()=>zY}),BH=(e,t)=>{const{type:n,effect:r,predicate:o}=jY(t);return Array.from(e.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===o)&&a.effect===r)},bI=e=>{e.pending.forEach(t=>{Fp(t,mI)})},GRe=(e,t)=>()=>{for(const n of t.keys())bI(n);e.clear()},jH=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},HY=kb(da(`${OE}/add`),{withTypes:()=>HY}),URe=da(`${OE}/removeAll`),VY=kb(da(`${OE}/remove`),{withTypes:()=>VY}),WRe=(...e)=>{console.error(`${OE}/error`,...e)},N0=(e={})=>{const t=new Map,n=new Map,r=S=>{const E=n.get(S)??0;n.set(S,E+1)},o=S=>{const E=n.get(S)??1;E===1?n.delete(S):n.set(S,E-1)},{extra:a,onError:l=WRe}=e;NO(l);const d=S=>(S.unsubscribe=()=>t.delete(S.id),t.set(S.id,S),E=>{S.unsubscribe(),E?.cancelActive&&bI(S)}),f=S=>{const E=BH(t,S)??zY(S);return d(E)};kb(f,{withTypes:()=>f});const m=S=>{const E=BH(t,S);return E&&(E.unsubscribe(),S.cancelActive&&bI(E)),!!E};kb(m,{withTypes:()=>m});const v=async(S,E,T,P)=>{const N=new AbortController,j=VRe(f,N.signal),L=[];try{S.pending.add(N),r(S),await Promise.resolve(S.effect(E,kb({},T,{getOriginalState:P,condition:(V,U)=>j(V,U).then(Boolean),take:j,delay:BY(N.signal),pause:r_(N.signal),extra:a,signal:N.signal,fork:HRe(N.signal,L),unsubscribe:S.unsubscribe,subscribe:()=>{t.set(S.id,S)},cancelActiveListeners:()=>{S.pending.forEach((V,U,$)=>{V!==N&&(Fp(V,mI),$.delete(V))})},cancel:()=>{Fp(N,mI),S.pending.delete(N)},throwIfCancelled:()=>{Lp(N.signal)}})))}catch(V){V instanceof NE||jH(l,V,{raisedBy:"effect"})}finally{await Promise.all(L),Fp(N,jRe),o(S),S.pending.delete(N)}},C=GRe(t,n);return{middleware:S=>E=>T=>{if(!bY(T))return E(T);if(HY.match(T))return f(T.payload);if(URe.match(T)){C();return}if(VY.match(T))return m(T.payload);let P=S.getState();const N=()=>{if(P===LH)throw new Error(xs(23));return P};let j;try{if(j=E(T),t.size>0){const L=S.getState(),V=Array.from(t.values());for(const U of V){let $=!1;try{$=U.predicate(T,L,P)}catch(z){$=!1,jH(l,z,{raisedBy:"predicate"})}$&&v(U,T,S,N)}}}finally{P=LH}return j},startListening:f,stopListening:m,clearListeners:C}};function xs(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var $Re={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},GY=Jo({name:"chartLayout",initialState:$Re,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,o,a;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(o=t.payload.bottom)!==null&&o!==void 0?o:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:qRe,setLayout:KRe,setChartSize:YRe,setScale:QRe}=GY.actions,ZRe=GY.reducer;function UY(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function zH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function cb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zH(Object(n),!0).forEach(function(r){XRe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zH(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function XRe(e,t,n){return(t=JRe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JRe(e){var t=ePe(e,"string");return typeof t=="symbol"?t:t+""}function ePe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ki(e,t,n){return ai(e)||ai(t)?n:uc(t)?Nb(e,t,n):typeof t=="function"?t(e):n}var tPe=(e,t,n)=>{if(t&&n){var{width:r,height:o}=n,{align:a,verticalAlign:l,layout:d}=t;if((d==="vertical"||d==="horizontal"&&l==="middle")&&a!=="center"&&at(e[a]))return cb(cb({},e),{},{[a]:e[a]+(r||0)});if((d==="horizontal"||d==="vertical"&&a==="center")&&l!=="middle"&&at(e[l]))return cb(cb({},e),{},{[l]:e[l]+(o||0)})}return e},ag=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",WY=(e,t,n,r)=>{if(r)return e.map(d=>d.coordinate);var o,a,l=e.map(d=>(d.coordinate===t&&(o=!0),d.coordinate===n&&(a=!0),d.coordinate));return o||l.push(t),a||l.push(n),l},$Y=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:o,range:a,scale:l,realScaleType:d,isCategorical:f,categoricalDomain:m,tickCount:v,ticks:C,niceTicks:y,axisType:S}=e;if(!l)return null;var E=d==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,T=o==="category"&&l.bandwidth?l.bandwidth()/E:0;if(T=S==="angleAxis"&&a&&a.length>=2?$o(a[0]-a[1])*2*T:T,C||y){var P=(C||y||[]).map((N,j)=>{var L=r?r.indexOf(N):N;return{coordinate:l(L)+T,value:N,offset:T,index:j}});return P.filter(N=>!tl(N.coordinate))}return f&&m?m.map((N,j)=>({coordinate:l(N)+T,value:N,index:j,offset:T})):l.ticks&&v!=null?l.ticks(v).map((N,j)=>({coordinate:l(N)+T,value:N,offset:T,index:j})):l.domain().map((N,j)=>({coordinate:l(N)+T,value:r?r[N]:N,index:j,offset:T}))},HH=1e-4,nPe=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),o=Math.min(r[0],r[1])-HH,a=Math.max(r[0],r[1])+HH,l=e(t[0]),d=e(t[n-1]);(l<o||l>a||d<o||d>a)&&e.domain([t[0],t[n-1]])}},rPe=(e,t)=>{if(!t||t.length!==2||!at(t[0])||!at(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),o=[e[0],e[1]];return(!at(e[0])||e[0]<n)&&(o[0]=n),(!at(e[1])||e[1]>r)&&(o[1]=r),o[0]>r&&(o[0]=r),o[1]<n&&(o[1]=n),o},iPe=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var o=0,a=0,l=0;l<t;++l){var d=tl(e[l][n][1])?e[l][n][0]:e[l][n][1];d>=0?(e[l][n][0]=o,e[l][n][1]=o+d,o=e[l][n][1]):(e[l][n][0]=a,e[l][n][1]=a+d,a=e[l][n][1])}},oPe=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var o=0,a=0;a<t;++a){var l=tl(e[a][n][1])?e[a][n][0]:e[a][n][1];l>=0?(e[a][n][0]=o,e[a][n][1]=o+l,o=e[a][n][1]):(e[a][n][0]=0,e[a][n][1]=0)}},sPe={sign:iPe,expand:AMe,none:Ib,silhouette:SMe,wiggle:_Me,positive:oPe},aPe=(e,t,n)=>{var r=sPe[n],o=xMe().keys(t).value((a,l)=>Number(Ki(a,l,0))).order(sI).offset(r);return o(e)};function lPe(e){return e==null?void 0:String(e)}var VH=e=>{var{axis:t,ticks:n,offset:r,bandSize:o,entry:a,index:l}=e;if(t.type==="category")return n[l]?n[l].coordinate+r:null;var d=Ki(a,t.dataKey,t.scale.domain()[l]);return ai(d)?null:t.scale(d)-o/2+r},cPe=e=>{var{numericAxis:t}=e,n=t.scale.domain();if(t.type==="number"){var r=Math.min(n[0],n[1]),o=Math.max(n[0],n[1]);return r<=0&&o>=0?0:o<0?o:r}return n[0]},dPe=e=>{var t=e.flat(2).filter(at);return[Math.min(...t),Math.max(...t)]},uPe=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],hPe=(e,t,n)=>{if(e!=null)return uPe(Object.keys(e).reduce((r,o)=>{var a=e[o],{stackedData:l}=a,d=l.reduce((f,m)=>{var v=UY(m,t,n),C=dPe(v);return[Math.min(f[0],C[0]),Math.max(f[1],C[1])]},[1/0,-1/0]);return[Math.min(d[0],r[0]),Math.max(d[1],r[1])]},[1/0,-1/0]))},GH=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,UH=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,i_=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var o=EE(t,v=>v.coordinate),a=1/0,l=1,d=o.length;l<d;l++){var f=o[l],m=o[l-1];a=Math.min((f.coordinate||0)-(m.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function WH(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:o,name:a}=e;return cb(cb({},t),{},{dataKey:n,payload:r,value:o,name:a})}function qY(e,t){if(e)return String(e);if(typeof t=="string")return t}var fPe=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},pPe=(e,t)=>t==="centric"?e.angle:e.radius,eu=e=>e.layout.width,tu=e=>e.layout.height,gPe=e=>e.layout.scale,KY=e=>e.layout.margin,FE=Ie(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),LE=Ie(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),mPe="data-recharts-item-index",bPe="data-recharts-item-data-key",O0=60;function $H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function g1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$H(Object(n),!0).forEach(function(r){vPe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$H(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vPe(e,t,n){return(t=wPe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wPe(e){var t=CPe(e,"string");return typeof t=="symbol"?t:t+""}function CPe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yPe=e=>e.brush.height;function kPe(e){var t=LE(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var o=typeof r.width=="number"?r.width:O0;return n+o}return n},0)}function xPe(e){var t=LE(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var o=typeof r.width=="number"?r.width:O0;return n+o}return n},0)}function APe(e){var t=FE(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function SPe(e){var t=FE(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var li=Ie([eu,tu,KY,yPe,kPe,xPe,APe,SPe,fY,KTe],(e,t,n,r,o,a,l,d,f,m)=>{var v={left:(n.left||0)+o,right:(n.right||0)+a},C={top:(n.top||0)+l,bottom:(n.bottom||0)+d},y=g1(g1({},C),v),S=y.bottom;y.bottom+=r,y=tPe(y,f,m);var E=e-y.left-y.right,T=t-y.top-y.bottom;return g1(g1({brushBottom:S},y),{},{width:Math.max(E,0),height:Math.max(T,0)})}),_Pe=Ie(li,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),OO=Ie(eu,tu,(e,t)=>({x:0,y:0,width:e,height:t})),EPe=M.createContext(null),es=()=>M.useContext(EPe)!=null,BE=e=>e.brush,jE=Ie([BE,li,KY],(e,t,n)=>({height:e.height,x:at(e.x)?e.x:t.left,y:at(e.y)?e.y:t.top+t.height+t.brushBottom-(n?.bottom||0),width:at(e.width)?e.width:t.width})),uR={},hR={},fR={},qH;function DPe(){return qH||(qH=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:o,edges:a}={}){let l,d=null;const f=a!=null&&a.includes("leading"),m=a==null||a.includes("trailing"),v=()=>{d!==null&&(n.apply(l,d),l=void 0,d=null)},C=()=>{m&&v(),T()};let y=null;const S=()=>{y!=null&&clearTimeout(y),y=setTimeout(()=>{y=null,C()},r)},E=()=>{y!==null&&(clearTimeout(y),y=null)},T=()=>{E(),l=void 0,d=null},P=()=>{v()},N=function(...j){if(o?.aborted)return;l=this,d=j;const L=y==null;S(),f&&L&&v()};return N.schedule=S,N.cancel=T,N.flush=P,o?.addEventListener("abort",T,{once:!0}),N}e.debounce=t})(fR)),fR}var KH;function MPe(){return KH||(KH=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=DPe();function n(r,o=0,a={}){typeof a!="object"&&(a={});const{leading:l=!1,trailing:d=!0,maxWait:f}=a,m=Array(2);l&&(m[0]="leading"),d&&(m[1]="trailing");let v,C=null;const y=t.debounce(function(...T){v=r.apply(this,T),C=null},o,{edges:m}),S=function(...T){return f!=null&&(C===null&&(C=Date.now()),Date.now()-C>=f)?(v=r.apply(this,T),C=Date.now(),y.cancel(),y.schedule(),v):(y.apply(this,T),v)},E=()=>(y.flush(),v);return S.cancel=y.cancel,S.flush=E,S}e.debounce=n})(hR)),hR}var YH;function TPe(){return YH||(YH=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=MPe();function n(r,o=0,a={}){const{leading:l=!0,trailing:d=!0}=a;return t.debounce(r,o,{leading:l,maxWait:o,trailing:d})}e.throttle=n})(uR)),uR}var pR,QH;function RPe(){return QH||(QH=1,pR=TPe().throttle),pR}var PPe=RPe();const IPe=fa(PPe);var o_=function(t,n){for(var r=arguments.length,o=new Array(r>2?r-2:0),a=2;a<r;a++)o[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=0;console.warn(n.replace(/%s/g,()=>o[l++]))}},YY=(e,t,n)=>{var{width:r="100%",height:o="100%",aspect:a,maxHeight:l}=n,d=Vd(r)?e:Number(r),f=Vd(o)?t:Number(o);return a&&a>0&&(d?f=d/a:f&&(d=f*a),l&&f!=null&&f>l&&(f=l)),{calculatedWidth:d,calculatedHeight:f}},NPe={width:0,height:0,overflow:"visible"},OPe={width:0,overflowX:"visible"},FPe={height:0,overflowY:"visible"},LPe={},BPe=e=>{var{width:t,height:n}=e,r=Vd(t),o=Vd(n);return r&&o?NPe:r?OPe:o?FPe:LPe};function jPe(e){var{width:t,height:n,aspect:r}=e,o=t,a=n;return o===void 0&&a===void 0?(o="100%",a="100%"):o===void 0?o=r&&r>0?void 0:"100%":a===void 0&&(a=r&&r>0?void 0:"100%"),{width:o,height:a}}function Rr(e){return Number.isFinite(e)}function fc(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function vI(){return vI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vI.apply(null,arguments)}function ZH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function XH(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZH(Object(n),!0).forEach(function(r){zPe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZH(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zPe(e,t,n){return(t=HPe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HPe(e){var t=VPe(e,"string");return typeof t=="symbol"?t:t+""}function VPe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var QY=M.createContext({width:-1,height:-1});function GPe(e){return fc(e.width)&&fc(e.height)}function ZY(e){var{children:t,width:n,height:r}=e,o=M.useMemo(()=>({width:n,height:r}),[n,r]);return GPe(o)?M.createElement(QY.Provider,{value:o},t):null}var FO=()=>M.useContext(QY),UPe=M.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:o,height:a,minWidth:l=0,minHeight:d,maxHeight:f,children:m,debounce:v=0,id:C,className:y,onResize:S,style:E={}}=e,T=M.useRef(null),P=M.useRef();P.current=S,M.useImperativeHandle(t,()=>T.current);var[N,j]=M.useState({containerWidth:r.width,containerHeight:r.height}),L=M.useCallback((K,te)=>{j(ae=>{var X=Math.round(K),Z=Math.round(te);return ae.containerWidth===X&&ae.containerHeight===Z?ae:{containerWidth:X,containerHeight:Z}})},[]);M.useEffect(()=>{if(T.current==null||typeof ResizeObserver>"u")return R0;var K=Z=>{var se,{width:Q,height:J}=Z[0].contentRect;L(Q,J),(se=P.current)===null||se===void 0||se.call(P,Q,J)};v>0&&(K=IPe(K,v,{trailing:!0,leading:!1}));var te=new ResizeObserver(K),{width:ae,height:X}=T.current.getBoundingClientRect();return L(ae,X),te.observe(T.current),()=>{te.disconnect()}},[L,v]);var{containerWidth:V,containerHeight:U}=N;o_(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:$,calculatedHeight:z}=YY(V,U,{width:o,height:a,aspect:n,maxHeight:f});return o_($!=null&&$>0||z!=null&&z>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,$,z,o,a,l,d,n),M.createElement("div",{id:C?"".concat(C):void 0,className:St("recharts-responsive-container",y),style:XH(XH({},E),{},{width:o,height:a,minWidth:l,minHeight:d,maxHeight:f}),ref:T},M.createElement("div",{style:BPe({width:o,height:a})},M.createElement(ZY,{width:$,height:z},m)))}),XY=M.forwardRef((e,t)=>{var n=FO();if(fc(n.width)&&fc(n.height))return e.children;var{width:r,height:o}=jPe({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:a,calculatedHeight:l}=YY(void 0,void 0,{width:r,height:o,aspect:e.aspect,maxHeight:e.maxHeight});return at(a)&&at(l)?M.createElement(ZY,{width:a,height:l},e.children):M.createElement(UPe,vI({},e,{width:r,height:o,ref:t}))});function JY(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var zE=()=>{var e,t=es(),n=ut(_Pe),r=ut(jE),o=(e=ut(BE))===null||e===void 0?void 0:e.padding;return!t||!r||!o?n:{width:r.width-o.left-o.right,height:r.height-o.top-o.bottom,x:o.left,y:o.top}},WPe={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},eQ=()=>{var e;return(e=ut(li))!==null&&e!==void 0?e:WPe},LO=()=>ut(eu),BO=()=>ut(tu),$Pe=()=>ut(e=>e.layout.margin),Pn=e=>e.layout.layoutType,HE=()=>ut(Pn),qPe=()=>{var e=HE();return e!==void 0},VE=e=>{var t=fr(),n=es(),{width:r,height:o}=e,a=FO(),l=r,d=o;return a&&(l=a.width>0?a.width:r,d=a.height>0?a.height:o),M.useEffect(()=>{!n&&fc(l)&&fc(d)&&t(YRe({width:l,height:d}))},[t,n,l,d]),null},tQ=Symbol.for("immer-nothing"),JH=Symbol.for("immer-draftable"),Ss=Symbol.for("immer-state");function qa(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var t0=Object.getPrototypeOf;function Lb(e){return!!e&&!!e[Ss]}function qp(e){return e?nQ(e)||Array.isArray(e)||!!e[JH]||!!e.constructor?.[JH]||F0(e)||UE(e):!1}var KPe=Object.prototype.constructor.toString(),e7=new WeakMap;function nQ(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=e7.get(n);return r===void 0&&(r=Function.toString.call(n),e7.set(n,r)),r===KPe}function s_(e,t,n=!0){GE(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(o=>{t(o,e[o],e)}):e.forEach((r,o)=>t(o,r,e))}function GE(e){const t=e[Ss];return t?t.type_:Array.isArray(e)?1:F0(e)?2:UE(e)?3:0}function wI(e,t){return GE(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function rQ(e,t,n){const r=GE(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function YPe(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function F0(e){return e instanceof Map}function UE(e){return e instanceof Set}function gp(e){return e.copy_||e.base_}function CI(e,t){if(F0(e))return new Map(e);if(UE(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=nQ(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[Ss];let o=Reflect.ownKeys(r);for(let a=0;a<o.length;a++){const l=o[a],d=r[l];d.writable===!1&&(d.writable=!0,d.configurable=!0),(d.get||d.set)&&(r[l]={configurable:!0,writable:!0,enumerable:d.enumerable,value:e[l]})}return Object.create(t0(e),r)}else{const r=t0(e);if(r!==null&&n)return{...e};const o=Object.create(r);return Object.assign(o,e)}}function jO(e,t=!1){return WE(e)||Lb(e)||!qp(e)||(GE(e)>1&&Object.defineProperties(e,{set:m1,add:m1,clear:m1,delete:m1}),Object.freeze(e),t&&Object.values(e).forEach(n=>jO(n,!0))),e}function QPe(){qa(2)}var m1={value:QPe};function WE(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var ZPe={};function Kp(e){const t=ZPe[e];return t||qa(0,e),t}var n0;function iQ(){return n0}function XPe(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function t7(e,t){t&&(Kp("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function yI(e){kI(e),e.drafts_.forEach(JPe),e.drafts_=null}function kI(e){e===n0&&(n0=e.parent_)}function n7(e){return n0=XPe(n0,e)}function JPe(e){const t=e[Ss];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function r7(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Ss].modified_&&(yI(t),qa(4)),qp(e)&&(e=a_(t,e),t.parent_||l_(t,e)),t.patches_&&Kp("Patches").generateReplacementPatches_(n[Ss].base_,e,t.patches_,t.inversePatches_)):e=a_(t,n,[]),yI(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==tQ?e:void 0}function a_(e,t,n){if(WE(t))return t;const r=e.immer_.shouldUseStrictIteration(),o=t[Ss];if(!o)return s_(t,(a,l)=>i7(e,o,t,a,l,n),r),t;if(o.scope_!==e)return t;if(!o.modified_)return l_(e,o.base_,!0),o.base_;if(!o.finalized_){o.finalized_=!0,o.scope_.unfinalizedDrafts_--;const a=o.copy_;let l=a,d=!1;o.type_===3&&(l=new Set(a),a.clear(),d=!0),s_(l,(f,m)=>i7(e,o,a,f,m,n,d),r),l_(e,a,!1),n&&e.patches_&&Kp("Patches").generatePatches_(o,n,e.patches_,e.inversePatches_)}return o.copy_}function i7(e,t,n,r,o,a,l){if(o==null||typeof o!="object"&&!l)return;const d=WE(o);if(!(d&&!l)){if(Lb(o)){const f=a&&t&&t.type_!==3&&!wI(t.assigned_,r)?a.concat(r):void 0,m=a_(e,o,f);if(rQ(n,r,m),Lb(m))e.canAutoFreeze_=!1;else return}else l&&n.add(o);if(qp(o)&&!d){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===o&&d)return;a_(e,o),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(F0(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&l_(e,o)}}}function l_(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&jO(t,n)}function eIe(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:iQ(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let o=r,a=zO;n&&(o=[r],a=r0);const{revoke:l,proxy:d}=Proxy.revocable(o,a);return r.draft_=d,r.revoke_=l,d}var zO={get(e,t){if(t===Ss)return e;const n=gp(e);if(!wI(n,t))return tIe(e,n,t);const r=n[t];return e.finalized_||!qp(r)?r:r===gR(e.base_,t)?(mR(e),e.copy_[t]=AI(r,e)):r},has(e,t){return t in gp(e)},ownKeys(e){return Reflect.ownKeys(gp(e))},set(e,t,n){const r=oQ(gp(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const o=gR(gp(e),t),a=o?.[Ss];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(YPe(n,o)&&(n!==void 0||wI(e.base_,t)))return!0;mR(e),xI(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return gR(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,mR(e),xI(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=gp(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){qa(11)},getPrototypeOf(e){return t0(e.base_)},setPrototypeOf(){qa(12)}},r0={};s_(zO,(e,t)=>{r0[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});r0.deleteProperty=function(e,t){return r0.set.call(this,e,t,void 0)};r0.set=function(e,t,n){return zO.set.call(this,e[0],t,n,e[0])};function gR(e,t){const n=e[Ss];return(n?gp(n):e)[t]}function tIe(e,t,n){const r=oQ(t,n);return r?"value"in r?r.value:r.get?.call(e.draft_):void 0}function oQ(e,t){if(!(t in e))return;let n=t0(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=t0(n)}}function xI(e){e.modified_||(e.modified_=!0,e.parent_&&xI(e.parent_))}function mR(e){e.copy_||(e.copy_=CI(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var nIe=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const a=n;n=t;const l=this;return function(f=a,...m){return l.produce(f,v=>n.call(this,v,...m))}}typeof n!="function"&&qa(6),r!==void 0&&typeof r!="function"&&qa(7);let o;if(qp(t)){const a=n7(this),l=AI(t,void 0);let d=!0;try{o=n(l),d=!1}finally{d?yI(a):kI(a)}return t7(a,r),r7(o,a)}else if(!t||typeof t!="object"){if(o=n(t),o===void 0&&(o=t),o===tQ&&(o=void 0),this.autoFreeze_&&jO(o,!0),r){const a=[],l=[];Kp("Patches").generateReplacementPatches_(t,o,a,l),r(a,l)}return o}else qa(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(l,...d)=>this.produceWithPatches(l,f=>t(f,...d));let r,o;return[this.produce(t,n,(l,d)=>{r=l,o=d}),r,o]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){qp(e)||qa(8),Lb(e)&&(e=rIe(e));const t=n7(this),n=AI(e,void 0);return n[Ss].isManual_=!0,kI(t),n}finishDraft(e,t){const n=e&&e[Ss];(!n||!n.isManual_)&&qa(9);const{scope_:r}=n;return t7(r,t),r7(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const o=t[n];if(o.path.length===0&&o.op==="replace"){e=o.value;break}}n>-1&&(t=t.slice(n+1));const r=Kp("Patches").applyPatches_;return Lb(e)?r(e,t):this.produce(e,o=>r(o,t))}};function AI(e,t){const n=F0(e)?Kp("MapSet").proxyMap_(e,t):UE(e)?Kp("MapSet").proxySet_(e,t):eIe(e,t);return(t?t.scope_:iQ()).drafts_.push(n),n}function rIe(e){return Lb(e)||qa(10,e),sQ(e)}function sQ(e){if(!qp(e)||WE(e))return e;const t=e[Ss];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=CI(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=CI(e,!0);return s_(n,(o,a)=>{rQ(n,o,sQ(a))},r),t&&(t.finalized_=!1),n}var iIe=new nIe;iIe.produce;var oIe={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},aQ=Jo({name:"legend",initialState:oIe,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:tr()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,o=Za(e).payload.indexOf(n);o>-1&&(e.payload[o]=r)},prepare:tr()},removeLegendPayload:{reducer(e,t){var n=Za(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:tr()}}}),{setLegendSize:o7,setLegendSettings:sIe,addLegendPayload:aIe,replaceLegendPayload:lIe,removeLegendPayload:cIe}=aQ.actions,dIe=aQ.reducer,uIe=["contextPayload"];function SI(){return SI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},SI.apply(null,arguments)}function s7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Bb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?s7(Object(n),!0).forEach(function(r){hIe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s7(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hIe(e,t,n){return(t=fIe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fIe(e){var t=pIe(e,"string");return typeof t=="symbol"?t:t+""}function pIe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gIe(e,t){if(e==null)return{};var n,r,o=mIe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function mIe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function bIe(e){return e.value}function vIe(e){var{contextPayload:t}=e,n=gIe(e,uIe),r=cY(t,e.payloadUniqBy,bIe),o=Bb(Bb({},n),{},{payload:r});return M.isValidElement(e.content)?M.cloneElement(e.content,o):typeof e.content=="function"?M.createElement(e.content,o):M.createElement(rTe,o)}function wIe(e,t,n,r,o,a){var{layout:l,align:d,verticalAlign:f}=t,m,v;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(d==="center"&&l==="vertical"?m={left:((r||0)-a.width)/2}:m=d==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(f==="middle"?v={top:((o||0)-a.height)/2}:v=f==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),Bb(Bb({},m),v)}function CIe(e){var t=fr();return M.useEffect(()=>{t(sIe(e))},[t,e]),null}function yIe(e){var t=fr();return M.useEffect(()=>(t(o7(e)),()=>{t(o7({width:0,height:0}))}),[t,e]),null}function kIe(e,t,n,r){return e==="vertical"&&at(t)?{height:t}:e==="horizontal"?{width:n||r}:null}var xIe={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function HO(e){var t=xo(e,xIe),n=ZTe(),r=q2e(),o=$Pe(),{width:a,height:l,wrapperStyle:d,portal:f}=t,[m,v]=pY([n]),C=LO(),y=BO();if(C==null||y==null)return null;var S=C-(o?.left||0)-(o?.right||0),E=kIe(t.layout,l,a,S),T=f?d:Bb(Bb({position:"absolute",width:E?.width||a||"auto",height:E?.height||l||"auto"},wIe(d,t,o,C,y,m)),d),P=f??r;if(P==null||n==null)return null;var N=M.createElement("div",{className:"recharts-legend-wrapper",style:T,ref:v},M.createElement(CIe,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!f&&M.createElement(yIe,{width:m.width,height:m.height}),M.createElement(vIe,SI({},t,E,{margin:o,chartWidth:C,chartHeight:y,contextPayload:n})));return tg.createPortal(N,P)}HO.displayName="Legend";function _I(){return _I=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_I.apply(null,arguments)}function a7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function bR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?a7(Object(n),!0).forEach(function(r){AIe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a7(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function AIe(e,t,n){return(t=SIe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SIe(e){var t=_Ie(e,"string");return typeof t=="symbol"?t:t+""}function _Ie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function EIe(e){return Array.isArray(e)&&uc(e[0])&&uc(e[1])?e.join(" ~ "):e}var DIe=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:o={},payload:a,formatter:l,itemSorter:d,wrapperClassName:f,labelClassName:m,label:v,labelFormatter:C,accessibilityLayer:y=!1}=e,S=()=>{if(a&&a.length){var U={padding:0,margin:0},$=(d?EE(a,d):a).map((z,K)=>{if(z.type==="none")return null;var te=z.formatter||l||EIe,{value:ae,name:X}=z,Z=ae,se=X;if(te){var Q=te(ae,X,z,K,a);if(Array.isArray(Q))[Z,se]=Q;else if(Q!=null)Z=Q;else return null}var J=bR({display:"block",paddingTop:4,paddingBottom:4,color:z.color||"#000"},r);return M.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(K),style:J},uc(se)?M.createElement("span",{className:"recharts-tooltip-item-name"},se):null,uc(se)?M.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,M.createElement("span",{className:"recharts-tooltip-item-value"},Z),M.createElement("span",{className:"recharts-tooltip-item-unit"},z.unit||""))});return M.createElement("ul",{className:"recharts-tooltip-item-list",style:U},$)}return null},E=bR({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),T=bR({margin:0},o),P=!ai(v),N=P?v:"",j=St("recharts-default-tooltip",f),L=St("recharts-tooltip-label",m);P&&C&&a!==void 0&&a!==null&&(N=C(v,a));var V=y?{role:"status","aria-live":"assertive"}:{};return M.createElement("div",_I({className:j,style:E},V),M.createElement("p",{className:L,style:T},M.isValidElement(N)?N:"".concat(N)),S())},ny="recharts-tooltip-wrapper",MIe={visibility:"hidden"};function TIe(e){var{coordinate:t,translateX:n,translateY:r}=e;return St(ny,{["".concat(ny,"-right")]:at(n)&&t&&at(t.x)&&n>=t.x,["".concat(ny,"-left")]:at(n)&&t&&at(t.x)&&n<t.x,["".concat(ny,"-bottom")]:at(r)&&t&&at(t.y)&&r>=t.y,["".concat(ny,"-top")]:at(r)&&t&&at(t.y)&&r<t.y})}function l7(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:o,position:a,reverseDirection:l,tooltipDimension:d,viewBox:f,viewBoxDimension:m}=e;if(a&&at(a[r]))return a[r];var v=n[r]-d-(o>0?o:0),C=n[r]+o;if(t[r])return l[r]?v:C;var y=f[r];if(y==null)return 0;if(l[r]){var S=v,E=y;return S<E?Math.max(C,y):Math.max(v,y)}if(m==null)return 0;var T=C+d,P=y+m;return T>P?Math.max(v,y):Math.max(C,y)}function RIe(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function PIe(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:o,reverseDirection:a,tooltipBox:l,useTranslate3d:d,viewBox:f}=e,m,v,C;return l.height>0&&l.width>0&&n?(v=l7({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:o,reverseDirection:a,tooltipDimension:l.width,viewBox:f,viewBoxDimension:f.width}),C=l7({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:o,reverseDirection:a,tooltipDimension:l.height,viewBox:f,viewBoxDimension:f.height}),m=RIe({translateX:v,translateY:C,useTranslate3d:d})):m=MIe,{cssProperties:m,cssClasses:TIe({translateX:v,translateY:C,coordinate:n})}}function c7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function b1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?c7(Object(n),!0).forEach(function(r){EI(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c7(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function EI(e,t,n){return(t=IIe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IIe(e){var t=NIe(e,"string");return typeof t=="symbol"?t:t+""}function NIe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class OIe extends M.PureComponent{constructor(){super(...arguments),EI(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),EI(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,o,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(o=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&o!==void 0?o:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:o,children:a,coordinate:l,hasPayload:d,isAnimationActive:f,offset:m,position:v,reverseDirection:C,useTranslate3d:y,viewBox:S,wrapperStyle:E,lastBoundingBox:T,innerRef:P,hasPortalFromProps:N}=this.props,{cssClasses:j,cssProperties:L}=PIe({allowEscapeViewBox:n,coordinate:l,offsetTopLeft:m,position:v,reverseDirection:C,tooltipBox:{height:T.height,width:T.width},useTranslate3d:y,viewBox:S}),V=N?{}:b1(b1({transition:f&&t?"transform ".concat(r,"ms ").concat(o):void 0},L),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&d?"visible":"hidden",position:"absolute",top:0,left:0}),U=b1(b1({},V),{},{visibility:!this.state.dismissed&&t&&d?"visible":"hidden"},E);return M.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:j,style:U,ref:P},a)}}var FIe=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),av={devToolsEnabled:!1,isSsr:FIe()},lQ=()=>{var e;return(e=ut(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function DI(){return DI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},DI.apply(null,arguments)}function d7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function u7(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?d7(Object(n),!0).forEach(function(r){LIe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d7(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function LIe(e,t,n){return(t=BIe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BIe(e){var t=jIe(e,"string");return typeof t=="symbol"?t:t+""}function jIe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var h7={curveBasisClosed:hMe,curveBasisOpen:fMe,curveBasis:uMe,curveBumpX:Z2e,curveBumpY:X2e,curveLinearClosed:pMe,curveLinear:AE,curveMonotoneX:gMe,curveMonotoneY:mMe,curveNatural:bMe,curveStep:vMe,curveStepAfter:CMe,curveStepBefore:wMe},c_=e=>Rr(e.x)&&Rr(e.y),f7=e=>e.base!=null&&c_(e.base)&&c_(e),ry=e=>e.x,iy=e=>e.y,zIe=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(T0(e));return(n==="curveMonotone"||n==="curveBump")&&t?h7["".concat(n).concat(t==="vertical"?"Y":"X")]:h7[n]||AE},HIe=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:o,connectNulls:a=!1}=e,l=zIe(t,o),d=a?n.filter(c_):n,f;if(Array.isArray(r)){var m=n.map((S,E)=>u7(u7({},S),{},{base:r[E]}));o==="vertical"?f=c1().y(iy).x1(ry).x0(S=>S.base.x):f=c1().x(ry).y1(iy).y0(S=>S.base.y);var v=f.defined(f7).curve(l),C=a?m.filter(f7):m;return v(C)}o==="vertical"&&at(r)?f=c1().y(iy).x1(ry).x0(r):at(r)?f=c1().x(ry).y1(iy).y0(r):f=jK().x(ry).y(iy);var y=f.defined(c_).curve(l);return y(d)},cQ=e=>{var{className:t,points:n,path:r,pathRef:o}=e;if((!n||!n.length)&&!r)return null;var a=n&&n.length?HIe(e):r;return M.createElement("path",DI({},zd(e),UMe(e),{className:St("recharts-curve",t),d:a===null?void 0:a,ref:o}))},VIe=["x","y","top","left","width","height","className"];function MI(){return MI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},MI.apply(null,arguments)}function p7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function GIe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?p7(Object(n),!0).forEach(function(r){UIe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p7(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function UIe(e,t,n){return(t=WIe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WIe(e){var t=$Ie(e,"string");return typeof t=="symbol"?t:t+""}function $Ie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qIe(e,t){if(e==null)return{};var n,r,o=KIe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function KIe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var YIe=(e,t,n,r,o,a)=>"M".concat(e,",").concat(o,"v").concat(r,"M").concat(a,",").concat(t,"h").concat(n),QIe=e=>{var{x:t=0,y:n=0,top:r=0,left:o=0,width:a=0,height:l=0,className:d}=e,f=qIe(e,VIe),m=GIe({x:t,y:n,top:r,left:o,width:a,height:l},f);return!at(t)||!at(n)||!at(a)||!at(l)||!at(r)||!at(o)?null:M.createElement("path",MI({},ca(m),{className:St("recharts-cross",d),d:YIe(t,n,a,l,r,o)}))};function ZIe(e,t,n,r){var o=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-o:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-o,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function g7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function m7(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?g7(Object(n),!0).forEach(function(r){XIe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g7(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function XIe(e,t,n){return(t=JIe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JIe(e){var t=eNe(e,"string");return typeof t=="symbol"?t:t+""}function eNe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tNe=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),dQ=(e,t,n)=>e.map(r=>"".concat(tNe(r)," ").concat(t,"ms ").concat(n)).join(","),nNe=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(o=>r.includes(o))),i0=(e,t)=>Object.keys(t).reduce((n,r)=>m7(m7({},n),{},{[r]:e(r,t[r])}),{});function b7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Ur(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?b7(Object(n),!0).forEach(function(r){rNe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b7(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rNe(e,t,n){return(t=iNe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iNe(e){var t=oNe(e,"string");return typeof t=="symbol"?t:t+""}function oNe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var d_=(e,t,n)=>e+(t-e)*n,TI=e=>{var{from:t,to:n}=e;return t!==n},uQ=(e,t,n)=>{var r=i0((o,a)=>{if(TI(a)){var[l,d]=e(a.from,a.to,a.velocity);return Ur(Ur({},a),{},{from:l,velocity:d})}return a},t);return n<1?i0((o,a)=>TI(a)?Ur(Ur({},a),{},{velocity:d_(a.velocity,r[o].velocity,n),from:d_(a.from,r[o].from,n)}):a,t):uQ(e,r,n-1)};function sNe(e,t,n,r,o,a){var l,d=r.reduce((y,S)=>Ur(Ur({},y),{},{[S]:{from:e[S],velocity:0,to:t[S]}}),{}),f=()=>i0((y,S)=>S.from,d),m=()=>!Object.values(d).filter(TI).length,v=null,C=y=>{l||(l=y);var S=y-l,E=S/n.dt;d=uQ(n,d,E),o(Ur(Ur(Ur({},e),t),f())),l=y,m()||(v=a.setTimeout(C))};return()=>(v=a.setTimeout(C),()=>{var y;(y=v)===null||y===void 0||y()})}function aNe(e,t,n,r,o,a,l){var d=null,f=o.reduce((C,y)=>Ur(Ur({},C),{},{[y]:[e[y],t[y]]}),{}),m,v=C=>{m||(m=C);var y=(C-m)/r,S=i0((T,P)=>d_(...P,n(y)),f);if(a(Ur(Ur(Ur({},e),t),S)),y<1)d=l.setTimeout(v);else{var E=i0((T,P)=>d_(...P,n(1)),f);a(Ur(Ur(Ur({},e),t),E))}};return()=>(d=l.setTimeout(v),()=>{var C;(C=d)===null||C===void 0||C()})}const lNe=(e,t,n,r,o,a)=>{var l=nNe(e,t);return n==null?()=>(o(Ur(Ur({},e),t)),()=>{}):n.isStepper===!0?sNe(e,t,n,l,o,a):aNe(e,t,n,r,l,o,a)};var u_=1e-4,hQ=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],fQ=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),v7=(e,t)=>n=>{var r=hQ(e,t);return fQ(r,n)},cNe=(e,t)=>n=>{var r=hQ(e,t),o=[...r.map((a,l)=>a*l).slice(1),0];return fQ(o,n)},dNe=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var o,a=n[0].split("(");if(a[0]==="cubic-bezier"&&((o=a[1])===null||o===void 0?void 0:o.split(")")[0].split(",").length)===4){var l=a[1].split(")")[0].split(",").map(d=>parseFloat(d));return[l[0],l[1],l[2],l[3]]}}}return n.length===4?n:[0,0,1,1]},uNe=(e,t,n,r)=>{var o=v7(e,n),a=v7(t,r),l=cNe(e,n),d=m=>m>1?1:m<0?0:m,f=m=>{for(var v=m>1?1:m,C=v,y=0;y<8;++y){var S=o(C)-v,E=l(C);if(Math.abs(S-v)<u_||E<u_)return a(C);C=d(C-S/E)}return a(C)};return f.isStepper=!1,f},w7=function(){return uNe(...dNe(...arguments))},hNe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:o=17}=t,a=(l,d,f)=>{var m=-(l-d)*n,v=f*r,C=f+(m-v)*o/1e3,y=f*o/1e3+l;return Math.abs(y-d)<u_&&Math.abs(C)<u_?[d,0]:[y,C]};return a.isStepper=!0,a.dt=o,a},fNe=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return w7(e);case"spring":return hNe();default:if(e.split("(")[0]==="cubic-bezier")return w7(e)}return typeof e=="function"?e:null};function pNe(e){var t,n=()=>null,r=!1,o=null,a=l=>{if(!r){if(Array.isArray(l)){if(!l.length)return;var d=l,[f,...m]=d;if(typeof f=="number"){o=e.setTimeout(a.bind(null,m),f);return}a(f),o=e.setTimeout(a.bind(null,m));return}typeof l=="string"&&(t=l,n(t)),typeof l=="object"&&(t=l,n(t)),typeof l=="function"&&l()}};return{stop:()=>{r=!0},start:l=>{r=!1,o&&(o(),o=null),a(l)},subscribe:l=>(n=l,()=>{n=()=>null}),getTimeoutController:()=>e}}class gNe{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),o=null,a=l=>{l-r>=n?t(l):typeof requestAnimationFrame=="function"&&(o=requestAnimationFrame(a))};return o=requestAnimationFrame(a),()=>{o!=null&&cancelAnimationFrame(o)}}}function mNe(){return pNe(new gNe)}var bNe=M.createContext(mNe);function vNe(e,t){var n=M.useContext(bNe);return M.useMemo(()=>t??n(e),[e,t,n])}var wNe={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},C7={t:0},vR={t:1};function VO(e){var t=xo(e,wNe),{isActive:n,canBegin:r,duration:o,easing:a,begin:l,onAnimationEnd:d,onAnimationStart:f,children:m}=t,v=n==="auto"?!av.isSsr:n,C=vNe(t.animationId,t.animationManager),[y,S]=M.useState(v?C7:vR),E=M.useRef(null);return M.useEffect(()=>{v||S(vR)},[v]),M.useEffect(()=>{if(!v||!r)return R0;var T=lNe(C7,vR,fNe(a),o,S,C.getTimeoutController()),P=()=>{E.current=T()};return C.start([f,l,P,o,d]),()=>{C.stop(),E.current&&E.current(),d()}},[v,r,o,a,l,f,d,C]),m(y.t)}function GO(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=M.useRef(Zy(t)),r=M.useRef(e);return r.current!==e&&(n.current=Zy(t),r.current=e),n.current}var CNe=["radius"],yNe=["radius"];function y7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function k7(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?y7(Object(n),!0).forEach(function(r){kNe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y7(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kNe(e,t,n){return(t=xNe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xNe(e){var t=ANe(e,"string");return typeof t=="symbol"?t:t+""}function ANe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function h_(){return h_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h_.apply(null,arguments)}function x7(e,t){if(e==null)return{};var n,r,o=SNe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function SNe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var A7=(e,t,n,r,o)=>{var a=Math.min(Math.abs(n)/2,Math.abs(r)/2),l=r>=0?1:-1,d=n>=0?1:-1,f=r>=0&&n>=0||r<0&&n<0?1:0,m;if(a>0&&o instanceof Array){for(var v=[0,0,0,0],C=0,y=4;C<y;C++)v[C]=o[C]>a?a:o[C];m="M".concat(e,",").concat(t+l*v[0]),v[0]>0&&(m+="A ".concat(v[0],",").concat(v[0],",0,0,").concat(f,",").concat(e+d*v[0],",").concat(t)),m+="L ".concat(e+n-d*v[1],",").concat(t),v[1]>0&&(m+="A ".concat(v[1],",").concat(v[1],",0,0,").concat(f,`,
        `).concat(e+n,",").concat(t+l*v[1])),m+="L ".concat(e+n,",").concat(t+r-l*v[2]),v[2]>0&&(m+="A ".concat(v[2],",").concat(v[2],",0,0,").concat(f,`,
        `).concat(e+n-d*v[2],",").concat(t+r)),m+="L ".concat(e+d*v[3],",").concat(t+r),v[3]>0&&(m+="A ".concat(v[3],",").concat(v[3],",0,0,").concat(f,`,
        `).concat(e,",").concat(t+r-l*v[3])),m+="Z"}else if(a>0&&o===+o&&o>0){var S=Math.min(a,o);m="M ".concat(e,",").concat(t+l*S,`
            A `).concat(S,",").concat(S,",0,0,").concat(f,",").concat(e+d*S,",").concat(t,`
            L `).concat(e+n-d*S,",").concat(t,`
            A `).concat(S,",").concat(S,",0,0,").concat(f,",").concat(e+n,",").concat(t+l*S,`
            L `).concat(e+n,",").concat(t+r-l*S,`
            A `).concat(S,",").concat(S,",0,0,").concat(f,",").concat(e+n-d*S,",").concat(t+r,`
            L `).concat(e+d*S,",").concat(t+r,`
            A `).concat(S,",").concat(S,",0,0,").concat(f,",").concat(e,",").concat(t+r-l*S," Z")}else m="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return m},S7={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},pQ=e=>{var t=xo(e,S7),n=M.useRef(null),[r,o]=M.useState(-1);M.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var ee=n.current.getTotalLength();ee&&o(ee)}catch{}},[]);var{x:a,y:l,width:d,height:f,radius:m,className:v}=t,{animationEasing:C,animationDuration:y,animationBegin:S,isAnimationActive:E,isUpdateAnimationActive:T}=t,P=M.useRef(d),N=M.useRef(f),j=M.useRef(a),L=M.useRef(l),V=M.useMemo(()=>({x:a,y:l,width:d,height:f,radius:m}),[a,l,d,f,m]),U=GO(V,"rectangle-");if(a!==+a||l!==+l||d!==+d||f!==+f||d===0||f===0)return null;var $=St("recharts-rectangle",v);if(!T){var z=ca(t),{radius:K}=z,te=x7(z,CNe);return M.createElement("path",h_({},te,{radius:typeof m=="number"?m:void 0,className:$,d:A7(a,l,d,f,m)}))}var ae=P.current,X=N.current,Z=j.current,se=L.current,Q="0px ".concat(r===-1?1:r,"px"),J="".concat(r,"px 0px"),re=dQ(["strokeDasharray"],y,typeof C=="string"?C:S7.animationEasing);return M.createElement(VO,{animationId:U,key:U,canBegin:r>0,duration:y,easing:C,isActive:T,begin:S},ee=>{var le=vi(ae,d,ee),ce=vi(X,f,ee),he=vi(Z,a,ee),ne=vi(se,l,ee);n.current&&(P.current=le,N.current=ce,j.current=he,L.current=ne);var fe;E?ee>0?fe={transition:re,strokeDasharray:J}:fe={strokeDasharray:Q}:fe={strokeDasharray:J};var ve=ca(t),{radius:me}=ve,Oe=x7(ve,yNe);return M.createElement("path",h_({},Oe,{radius:typeof m=="number"?m:void 0,className:$,d:A7(he,ne,le,ce,m),ref:n,style:k7(k7({},fe),t.style)}))})};function _7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function E7(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_7(Object(n),!0).forEach(function(r){_Ne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_7(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _Ne(e,t,n){return(t=ENe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ENe(e){var t=DNe(e,"string");return typeof t=="symbol"?t:t+""}function DNe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var f_=Math.PI/180,MNe=e=>e*180/Math.PI,yi=(e,t,n,r)=>({x:e+Math.cos(-f_*r)*n,y:t+Math.sin(-f_*r)*n}),TNe=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},RNe=(e,t)=>{var{x:n,y:r}=e,{x:o,y:a}=t;return Math.sqrt((n-o)**2+(r-a)**2)},PNe=(e,t)=>{var{x:n,y:r}=e,{cx:o,cy:a}=t,l=RNe({x:n,y:r},{x:o,y:a});if(l<=0)return{radius:l,angle:0};var d=(n-o)/l,f=Math.acos(d);return r>a&&(f=2*Math.PI-f),{radius:l,angle:MNe(f),angleInRadian:f}},INe=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),o=Math.floor(n/360),a=Math.min(r,o);return{startAngle:t-a*360,endAngle:n-a*360}},NNe=(e,t)=>{var{startAngle:n,endAngle:r}=t,o=Math.floor(n/360),a=Math.floor(r/360),l=Math.min(o,a);return e+l*360},ONe=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:o,angle:a}=PNe({x:n,y:r},t),{innerRadius:l,outerRadius:d}=t;if(o<l||o>d||o===0)return null;var{startAngle:f,endAngle:m}=INe(t),v=a,C;if(f<=m){for(;v>m;)v-=360;for(;v<f;)v+=360;C=v>=f&&v<=m}else{for(;v>f;)v-=360;for(;v<m;)v+=360;C=v>=m&&v<=f}return C?E7(E7({},t),{},{radius:o,angle:NNe(v,t)}):null};function gQ(e){var{cx:t,cy:n,radius:r,startAngle:o,endAngle:a}=e,l=yi(t,n,r,o),d=yi(t,n,r,a);return{points:[l,d],cx:t,cy:n,radius:r,startAngle:o,endAngle:a}}function RI(){return RI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},RI.apply(null,arguments)}var FNe=(e,t)=>{var n=$o(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},v1=e=>{var{cx:t,cy:n,radius:r,angle:o,sign:a,isExternal:l,cornerRadius:d,cornerIsExternal:f}=e,m=d*(l?1:-1)+r,v=Math.asin(d/m)/f_,C=f?o:o+a*v,y=yi(t,n,m,C),S=yi(t,n,r,C),E=f?o-a*v:o,T=yi(t,n,m*Math.cos(v*f_),E);return{center:y,circleTangency:S,lineTangency:T,theta:v}},mQ=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:o,startAngle:a,endAngle:l}=e,d=FNe(a,l),f=a+d,m=yi(t,n,o,a),v=yi(t,n,o,f),C="M ".concat(m.x,",").concat(m.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(a>f),`,
    `).concat(v.x,",").concat(v.y,`
  `);if(r>0){var y=yi(t,n,r,a),S=yi(t,n,r,f);C+="L ".concat(S.x,",").concat(S.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(a<=f),`,
            `).concat(y.x,",").concat(y.y," Z")}else C+="L ".concat(t,",").concat(n," Z");return C},LNe=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:o,cornerRadius:a,forceCornerRadius:l,cornerIsExternal:d,startAngle:f,endAngle:m}=e,v=$o(m-f),{circleTangency:C,lineTangency:y,theta:S}=v1({cx:t,cy:n,radius:o,angle:f,sign:v,cornerRadius:a,cornerIsExternal:d}),{circleTangency:E,lineTangency:T,theta:P}=v1({cx:t,cy:n,radius:o,angle:m,sign:-v,cornerRadius:a,cornerIsExternal:d}),N=d?Math.abs(f-m):Math.abs(f-m)-S-P;if(N<0)return l?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):mQ({cx:t,cy:n,innerRadius:r,outerRadius:o,startAngle:f,endAngle:m});var j="M ".concat(y.x,",").concat(y.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(v<0),",").concat(C.x,",").concat(C.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(N>180),",").concat(+(v<0),",").concat(E.x,",").concat(E.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(v<0),",").concat(T.x,",").concat(T.y,`
  `);if(r>0){var{circleTangency:L,lineTangency:V,theta:U}=v1({cx:t,cy:n,radius:r,angle:f,sign:v,isExternal:!0,cornerRadius:a,cornerIsExternal:d}),{circleTangency:$,lineTangency:z,theta:K}=v1({cx:t,cy:n,radius:r,angle:m,sign:-v,isExternal:!0,cornerRadius:a,cornerIsExternal:d}),te=d?Math.abs(f-m):Math.abs(f-m)-U-K;if(te<0&&a===0)return"".concat(j,"L").concat(t,",").concat(n,"Z");j+="L".concat(z.x,",").concat(z.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(v<0),",").concat($.x,",").concat($.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(te>180),",").concat(+(v>0),",").concat(L.x,",").concat(L.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(v<0),",").concat(V.x,",").concat(V.y,"Z")}else j+="L".concat(t,",").concat(n,"Z");return j},BNe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},bQ=e=>{var t=xo(e,BNe),{cx:n,cy:r,innerRadius:o,outerRadius:a,cornerRadius:l,forceCornerRadius:d,cornerIsExternal:f,startAngle:m,endAngle:v,className:C}=t;if(a<o||m===v)return null;var y=St("recharts-sector",C),S=a-o,E=nl(l,S,0,!0),T;return E>0&&Math.abs(m-v)<360?T=LNe({cx:n,cy:r,innerRadius:o,outerRadius:a,cornerRadius:Math.min(E,S/2),forceCornerRadius:d,cornerIsExternal:f,startAngle:m,endAngle:v}):T=mQ({cx:n,cy:r,innerRadius:o,outerRadius:a,startAngle:m,endAngle:v}),M.createElement("path",RI({},ca(t),{className:y,d:T}))};function jNe(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(JK(t)){if(e==="centric"){var{cx:r,cy:o,innerRadius:a,outerRadius:l,angle:d}=t,f=yi(r,o,a,d),m=yi(r,o,l,d);return[{x:f.x,y:f.y},{x:m.x,y:m.y}]}return gQ(t)}}var wR={},CR={},yR={},D7;function zNe(){return D7||(D7=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uY();function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(yR)),yR}var M7;function HNe(){return M7||(M7=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zNe();function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(CR)),CR}var T7;function VNe(){return T7||(T7=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hY(),n=HNe();function r(o,a,l){l&&typeof l!="number"&&t.isIterateeCall(o,a,l)&&(a=l=void 0),o=n.toFinite(o),a===void 0?(a=o,o=0):a=n.toFinite(a),l=l===void 0?o<a?1:-1:n.toFinite(l);const d=Math.max(Math.ceil((a-o)/(l||1)),0),f=new Array(d);for(let m=0;m<d;m++)f[m]=o,o+=l;return f}e.range=r})(wR)),wR}var kR,R7;function GNe(){return R7||(R7=1,kR=VNe().range),kR}var UNe=GNe();const vQ=fa(UNe);function Rh(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function WNe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function UO(e){let t,n,r;e.length!==2?(t=Rh,n=(d,f)=>Rh(e(d),f),r=(d,f)=>e(d)-f):(t=e===Rh||e===WNe?e:$Ne,n=e,r=e);function o(d,f,m=0,v=d.length){if(m<v){if(t(f,f)!==0)return v;do{const C=m+v>>>1;n(d[C],f)<0?m=C+1:v=C}while(m<v)}return m}function a(d,f,m=0,v=d.length){if(m<v){if(t(f,f)!==0)return v;do{const C=m+v>>>1;n(d[C],f)<=0?m=C+1:v=C}while(m<v)}return m}function l(d,f,m=0,v=d.length){const C=o(d,f,m,v-1);return C>m&&r(d[C-1],f)>-r(d[C],f)?C-1:C}return{left:o,center:l,right:a}}function $Ne(){return 0}function wQ(e){return e===null?NaN:+e}function*qNe(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const KNe=UO(Rh),L0=KNe.right;UO(wQ).center;class P7 extends Map{constructor(t,n=ZNe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,o]of t)this.set(r,o)}get(t){return super.get(I7(this,t))}has(t){return super.has(I7(this,t))}set(t,n){return super.set(YNe(this,t),n)}delete(t){return super.delete(QNe(this,t))}}function I7({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function YNe({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function QNe({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function ZNe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function XNe(e=Rh){if(e===Rh)return CQ;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function CQ(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const JNe=Math.sqrt(50),eOe=Math.sqrt(10),tOe=Math.sqrt(2);function p_(e,t,n){const r=(t-e)/Math.max(0,n),o=Math.floor(Math.log10(r)),a=r/Math.pow(10,o),l=a>=JNe?10:a>=eOe?5:a>=tOe?2:1;let d,f,m;return o<0?(m=Math.pow(10,-o)/l,d=Math.round(e*m),f=Math.round(t*m),d/m<e&&++d,f/m>t&&--f,m=-m):(m=Math.pow(10,o)*l,d=Math.round(e/m),f=Math.round(t/m),d*m<e&&++d,f*m>t&&--f),f<d&&.5<=n&&n<2?p_(e,t,n*2):[d,f,m]}function PI(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[o,a,l]=r?p_(t,e,n):p_(e,t,n);if(!(a>=o))return[];const d=a-o+1,f=new Array(d);if(r)if(l<0)for(let m=0;m<d;++m)f[m]=(a-m)/-l;else for(let m=0;m<d;++m)f[m]=(a-m)*l;else if(l<0)for(let m=0;m<d;++m)f[m]=(o+m)/-l;else for(let m=0;m<d;++m)f[m]=(o+m)*l;return f}function II(e,t,n){return t=+t,e=+e,n=+n,p_(e,t,n)[2]}function NI(e,t,n){t=+t,e=+e,n=+n;const r=t<e,o=r?II(t,e,n):II(e,t,n);return(r?-1:1)*(o<0?1/-o:o)}function N7(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function O7(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function yQ(e,t,n=0,r=1/0,o){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(o=o===void 0?CQ:XNe(o);r>n;){if(r-n>600){const f=r-n+1,m=t-n+1,v=Math.log(f),C=.5*Math.exp(2*v/3),y=.5*Math.sqrt(v*C*(f-C)/f)*(m-f/2<0?-1:1),S=Math.max(n,Math.floor(t-m*C/f+y)),E=Math.min(r,Math.floor(t+(f-m)*C/f+y));yQ(e,t,S,E,o)}const a=e[t];let l=n,d=r;for(oy(e,n,t),o(e[r],a)>0&&oy(e,n,r);l<d;){for(oy(e,l,d),++l,--d;o(e[l],a)<0;)++l;for(;o(e[d],a)>0;)--d}o(e[n],a)===0?oy(e,n,d):(++d,oy(e,d,r)),d<=t&&(n=d+1),t<=d&&(r=d-1)}return e}function oy(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function nOe(e,t,n){if(e=Float64Array.from(qNe(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return O7(e);if(t>=1)return N7(e);var r,o=(r-1)*t,a=Math.floor(o),l=N7(yQ(e,a).subarray(0,a+1)),d=O7(e.subarray(a+1));return l+(d-l)*(o-a)}}function rOe(e,t,n=wQ){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,o=(r-1)*t,a=Math.floor(o),l=+n(e[a],a,e),d=+n(e[a+1],a+1,e);return l+(d-l)*(o-a)}}function iOe(e,t,n){e=+e,t=+t,n=(o=arguments.length)<2?(t=e,e=0,1):o<3?1:+n;for(var r=-1,o=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(o);++r<o;)a[r]=e+r*n;return a}function ga(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function nu(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const OI=Symbol("implicit");function WO(){var e=new P7,t=[],n=[],r=OI;function o(a){let l=e.get(a);if(l===void 0){if(r!==OI)return r;e.set(a,l=t.push(a)-1)}return n[l%n.length]}return o.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new P7;for(const l of a)e.has(l)||e.set(l,t.push(l)-1);return o},o.range=function(a){return arguments.length?(n=Array.from(a),o):n.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.copy=function(){return WO(t,n).unknown(r)},ga.apply(o,arguments),o}function $O(){var e=WO().unknown(void 0),t=e.domain,n=e.range,r=0,o=1,a,l,d=!1,f=0,m=0,v=.5;delete e.unknown;function C(){var y=t().length,S=o<r,E=S?o:r,T=S?r:o;a=(T-E)/Math.max(1,y-f+m*2),d&&(a=Math.floor(a)),E+=(T-E-a*(y-f))*v,l=a*(1-f),d&&(E=Math.round(E),l=Math.round(l));var P=iOe(y).map(function(N){return E+a*N});return n(S?P.reverse():P)}return e.domain=function(y){return arguments.length?(t(y),C()):t()},e.range=function(y){return arguments.length?([r,o]=y,r=+r,o=+o,C()):[r,o]},e.rangeRound=function(y){return[r,o]=y,r=+r,o=+o,d=!0,C()},e.bandwidth=function(){return l},e.step=function(){return a},e.round=function(y){return arguments.length?(d=!!y,C()):d},e.padding=function(y){return arguments.length?(f=Math.min(1,m=+y),C()):f},e.paddingInner=function(y){return arguments.length?(f=Math.min(1,y),C()):f},e.paddingOuter=function(y){return arguments.length?(m=+y,C()):m},e.align=function(y){return arguments.length?(v=Math.max(0,Math.min(1,y)),C()):v},e.copy=function(){return $O(t(),[r,o]).round(d).paddingInner(f).paddingOuter(m).align(v)},ga.apply(C(),arguments)}function kQ(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return kQ(t())},e}function oOe(){return kQ($O.apply(null,arguments).paddingInner(1))}function qO(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function xQ(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function B0(){}var o0=.7,g_=1/o0,xb="\\s*([+-]?\\d+)\\s*",s0="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ac="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",sOe=/^#([0-9a-f]{3,8})$/,aOe=new RegExp(`^rgb\\(${xb},${xb},${xb}\\)$`),lOe=new RegExp(`^rgb\\(${ac},${ac},${ac}\\)$`),cOe=new RegExp(`^rgba\\(${xb},${xb},${xb},${s0}\\)$`),dOe=new RegExp(`^rgba\\(${ac},${ac},${ac},${s0}\\)$`),uOe=new RegExp(`^hsl\\(${s0},${ac},${ac}\\)$`),hOe=new RegExp(`^hsla\\(${s0},${ac},${ac},${s0}\\)$`),F7={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};qO(B0,a0,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:L7,formatHex:L7,formatHex8:fOe,formatHsl:pOe,formatRgb:B7,toString:B7});function L7(){return this.rgb().formatHex()}function fOe(){return this.rgb().formatHex8()}function pOe(){return AQ(this).formatHsl()}function B7(){return this.rgb().formatRgb()}function a0(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=sOe.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?j7(t):n===3?new qo(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?w1(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?w1(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=aOe.exec(e))?new qo(t[1],t[2],t[3],1):(t=lOe.exec(e))?new qo(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=cOe.exec(e))?w1(t[1],t[2],t[3],t[4]):(t=dOe.exec(e))?w1(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=uOe.exec(e))?V7(t[1],t[2]/100,t[3]/100,1):(t=hOe.exec(e))?V7(t[1],t[2]/100,t[3]/100,t[4]):F7.hasOwnProperty(e)?j7(F7[e]):e==="transparent"?new qo(NaN,NaN,NaN,0):null}function j7(e){return new qo(e>>16&255,e>>8&255,e&255,1)}function w1(e,t,n,r){return r<=0&&(e=t=n=NaN),new qo(e,t,n,r)}function gOe(e){return e instanceof B0||(e=a0(e)),e?(e=e.rgb(),new qo(e.r,e.g,e.b,e.opacity)):new qo}function FI(e,t,n,r){return arguments.length===1?gOe(e):new qo(e,t,n,r??1)}function qo(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}qO(qo,FI,xQ(B0,{brighter(e){return e=e==null?g_:Math.pow(g_,e),new qo(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?o0:Math.pow(o0,e),new qo(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new qo(Bp(this.r),Bp(this.g),Bp(this.b),m_(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:z7,formatHex:z7,formatHex8:mOe,formatRgb:H7,toString:H7}));function z7(){return`#${xp(this.r)}${xp(this.g)}${xp(this.b)}`}function mOe(){return`#${xp(this.r)}${xp(this.g)}${xp(this.b)}${xp((isNaN(this.opacity)?1:this.opacity)*255)}`}function H7(){const e=m_(this.opacity);return`${e===1?"rgb(":"rgba("}${Bp(this.r)}, ${Bp(this.g)}, ${Bp(this.b)}${e===1?")":`, ${e})`}`}function m_(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Bp(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function xp(e){return e=Bp(e),(e<16?"0":"")+e.toString(16)}function V7(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Ka(e,t,n,r)}function AQ(e){if(e instanceof Ka)return new Ka(e.h,e.s,e.l,e.opacity);if(e instanceof B0||(e=a0(e)),!e)return new Ka;if(e instanceof Ka)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),a=Math.max(t,n,r),l=NaN,d=a-o,f=(a+o)/2;return d?(t===a?l=(n-r)/d+(n<r)*6:n===a?l=(r-t)/d+2:l=(t-n)/d+4,d/=f<.5?a+o:2-a-o,l*=60):d=f>0&&f<1?0:l,new Ka(l,d,f,e.opacity)}function bOe(e,t,n,r){return arguments.length===1?AQ(e):new Ka(e,t,n,r??1)}function Ka(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}qO(Ka,bOe,xQ(B0,{brighter(e){return e=e==null?g_:Math.pow(g_,e),new Ka(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?o0:Math.pow(o0,e),new Ka(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new qo(xR(e>=240?e-240:e+120,o,r),xR(e,o,r),xR(e<120?e+240:e-120,o,r),this.opacity)},clamp(){return new Ka(G7(this.h),C1(this.s),C1(this.l),m_(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=m_(this.opacity);return`${e===1?"hsl(":"hsla("}${G7(this.h)}, ${C1(this.s)*100}%, ${C1(this.l)*100}%${e===1?")":`, ${e})`}`}}));function G7(e){return e=(e||0)%360,e<0?e+360:e}function C1(e){return Math.max(0,Math.min(1,e||0))}function xR(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const KO=e=>()=>e;function vOe(e,t){return function(n){return e+n*t}}function wOe(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function COe(e){return(e=+e)==1?SQ:function(t,n){return n-t?wOe(t,n,e):KO(isNaN(t)?n:t)}}function SQ(e,t){var n=t-e;return n?vOe(e,n):KO(isNaN(e)?t:e)}const U7=(function e(t){var n=COe(t);function r(o,a){var l=n((o=FI(o)).r,(a=FI(a)).r),d=n(o.g,a.g),f=n(o.b,a.b),m=SQ(o.opacity,a.opacity);return function(v){return o.r=l(v),o.g=d(v),o.b=f(v),o.opacity=m(v),o+""}}return r.gamma=e,r})(1);function yOe(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),o;return function(a){for(o=0;o<n;++o)r[o]=e[o]*(1-a)+t[o]*a;return r}}function kOe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function xOe(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,o=new Array(r),a=new Array(n),l;for(l=0;l<r;++l)o[l]=lv(e[l],t[l]);for(;l<n;++l)a[l]=t[l];return function(d){for(l=0;l<r;++l)a[l]=o[l](d);return a}}function AOe(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function b_(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function SOe(e,t){var n={},r={},o;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(o in t)o in e?n[o]=lv(e[o],t[o]):r[o]=t[o];return function(a){for(o in n)r[o]=n[o](a);return r}}var LI=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,AR=new RegExp(LI.source,"g");function _Oe(e){return function(){return e}}function EOe(e){return function(t){return e(t)+""}}function DOe(e,t){var n=LI.lastIndex=AR.lastIndex=0,r,o,a,l=-1,d=[],f=[];for(e=e+"",t=t+"";(r=LI.exec(e))&&(o=AR.exec(t));)(a=o.index)>n&&(a=t.slice(n,a),d[l]?d[l]+=a:d[++l]=a),(r=r[0])===(o=o[0])?d[l]?d[l]+=o:d[++l]=o:(d[++l]=null,f.push({i:l,x:b_(r,o)})),n=AR.lastIndex;return n<t.length&&(a=t.slice(n),d[l]?d[l]+=a:d[++l]=a),d.length<2?f[0]?EOe(f[0].x):_Oe(t):(t=f.length,function(m){for(var v=0,C;v<t;++v)d[(C=f[v]).i]=C.x(m);return d.join("")})}function lv(e,t){var n=typeof t,r;return t==null||n==="boolean"?KO(t):(n==="number"?b_:n==="string"?(r=a0(t))?(t=r,U7):DOe:t instanceof a0?U7:t instanceof Date?AOe:kOe(t)?yOe:Array.isArray(t)?xOe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?SOe:b_)(e,t)}function YO(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function MOe(e,t){t===void 0&&(t=e,e=lv);for(var n=0,r=t.length-1,o=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(o,o=t[++n]);return function(l){var d=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return a[d](l-d)}}function TOe(e){return function(){return e}}function v_(e){return+e}var W7=[0,1];function bo(e){return e}function BI(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:TOe(isNaN(t)?NaN:.5)}function ROe(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function POe(e,t,n){var r=e[0],o=e[1],a=t[0],l=t[1];return o<r?(r=BI(o,r),a=n(l,a)):(r=BI(r,o),a=n(a,l)),function(d){return a(r(d))}}function IOe(e,t,n){var r=Math.min(e.length,t.length)-1,o=new Array(r),a=new Array(r),l=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<r;)o[l]=BI(e[l],e[l+1]),a[l]=n(t[l],t[l+1]);return function(d){var f=L0(e,d,1,r)-1;return a[f](o[f](d))}}function j0(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function $E(){var e=W7,t=W7,n=lv,r,o,a,l=bo,d,f,m;function v(){var y=Math.min(e.length,t.length);return l!==bo&&(l=ROe(e[0],e[y-1])),d=y>2?IOe:POe,f=m=null,C}function C(y){return y==null||isNaN(y=+y)?a:(f||(f=d(e.map(r),t,n)))(r(l(y)))}return C.invert=function(y){return l(o((m||(m=d(t,e.map(r),b_)))(y)))},C.domain=function(y){return arguments.length?(e=Array.from(y,v_),v()):e.slice()},C.range=function(y){return arguments.length?(t=Array.from(y),v()):t.slice()},C.rangeRound=function(y){return t=Array.from(y),n=YO,v()},C.clamp=function(y){return arguments.length?(l=y?!0:bo,v()):l!==bo},C.interpolate=function(y){return arguments.length?(n=y,v()):n},C.unknown=function(y){return arguments.length?(a=y,C):a},function(y,S){return r=y,o=S,v()}}function QO(){return $E()(bo,bo)}function NOe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function w_(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function jb(e){return e=w_(Math.abs(e)),e?e[1]:NaN}function OOe(e,t){return function(n,r){for(var o=n.length,a=[],l=0,d=e[0],f=0;o>0&&d>0&&(f+d+1>r&&(d=Math.max(1,r-f)),a.push(n.substring(o-=d,o+d)),!((f+=d+1)>r));)d=e[l=(l+1)%e.length];return a.reverse().join(t)}}function FOe(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var LOe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function l0(e){if(!(t=LOe.exec(e)))throw new Error("invalid format: "+e);var t;return new ZO({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}l0.prototype=ZO.prototype;function ZO(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}ZO.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function BOe(e){e:for(var t=e.length,n=1,r=-1,o;n<t;++n)switch(e[n]){case".":r=o=n;break;case"0":r===0&&(r=n),o=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(o+1):e}var _Q;function jOe(e,t){var n=w_(e,t);if(!n)return e+"";var r=n[0],o=n[1],a=o-(_Q=Math.max(-8,Math.min(8,Math.floor(o/3)))*3)+1,l=r.length;return a===l?r:a>l?r+new Array(a-l+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+w_(e,Math.max(0,t+a-1))[0]}function $7(e,t){var n=w_(e,t);if(!n)return e+"";var r=n[0],o=n[1];return o<0?"0."+new Array(-o).join("0")+r:r.length>o+1?r.slice(0,o+1)+"."+r.slice(o+1):r+new Array(o-r.length+2).join("0")}const q7={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:NOe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>$7(e*100,t),r:$7,s:jOe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function K7(e){return e}var Y7=Array.prototype.map,Q7=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function zOe(e){var t=e.grouping===void 0||e.thousands===void 0?K7:OOe(Y7.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",o=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?K7:FOe(Y7.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",d=e.minus===void 0?"":e.minus+"",f=e.nan===void 0?"NaN":e.nan+"";function m(C){C=l0(C);var y=C.fill,S=C.align,E=C.sign,T=C.symbol,P=C.zero,N=C.width,j=C.comma,L=C.precision,V=C.trim,U=C.type;U==="n"?(j=!0,U="g"):q7[U]||(L===void 0&&(L=12),V=!0,U="g"),(P||y==="0"&&S==="=")&&(P=!0,y="0",S="=");var $=T==="$"?n:T==="#"&&/[boxX]/.test(U)?"0"+U.toLowerCase():"",z=T==="$"?r:/[%p]/.test(U)?l:"",K=q7[U],te=/[defgprs%]/.test(U);L=L===void 0?6:/[gprs]/.test(U)?Math.max(1,Math.min(21,L)):Math.max(0,Math.min(20,L));function ae(X){var Z=$,se=z,Q,J,re;if(U==="c")se=K(X)+se,X="";else{X=+X;var ee=X<0||1/X<0;if(X=isNaN(X)?f:K(Math.abs(X),L),V&&(X=BOe(X)),ee&&+X==0&&E!=="+"&&(ee=!1),Z=(ee?E==="("?E:d:E==="-"||E==="("?"":E)+Z,se=(U==="s"?Q7[8+_Q/3]:"")+se+(ee&&E==="("?")":""),te){for(Q=-1,J=X.length;++Q<J;)if(re=X.charCodeAt(Q),48>re||re>57){se=(re===46?o+X.slice(Q+1):X.slice(Q))+se,X=X.slice(0,Q);break}}}j&&!P&&(X=t(X,1/0));var le=Z.length+X.length+se.length,ce=le<N?new Array(N-le+1).join(y):"";switch(j&&P&&(X=t(ce+X,ce.length?N-se.length:1/0),ce=""),S){case"<":X=Z+X+se+ce;break;case"=":X=Z+ce+X+se;break;case"^":X=ce.slice(0,le=ce.length>>1)+Z+X+se+ce.slice(le);break;default:X=ce+Z+X+se;break}return a(X)}return ae.toString=function(){return C+""},ae}function v(C,y){var S=m((C=l0(C),C.type="f",C)),E=Math.max(-8,Math.min(8,Math.floor(jb(y)/3)))*3,T=Math.pow(10,-E),P=Q7[8+E/3];return function(N){return S(T*N)+P}}return{format:m,formatPrefix:v}}var y1,XO,EQ;HOe({thousands:",",grouping:[3],currency:["$",""]});function HOe(e){return y1=zOe(e),XO=y1.format,EQ=y1.formatPrefix,y1}function VOe(e){return Math.max(0,-jb(Math.abs(e)))}function GOe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(jb(t)/3)))*3-jb(Math.abs(e)))}function UOe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,jb(t)-jb(e))+1}function DQ(e,t,n,r){var o=NI(e,t,n),a;switch(r=l0(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=GOe(o,l))&&(r.precision=a),EQ(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=UOe(o,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=VOe(o))&&(r.precision=a-(r.type==="%")*2);break}}return XO(r)}function Kh(e){var t=e.domain;return e.ticks=function(n){var r=t();return PI(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var o=t();return DQ(o[0],o[o.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),o=0,a=r.length-1,l=r[o],d=r[a],f,m,v=10;for(d<l&&(m=l,l=d,d=m,m=o,o=a,a=m);v-- >0;){if(m=II(l,d,n),m===f)return r[o]=l,r[a]=d,t(r);if(m>0)l=Math.floor(l/m)*m,d=Math.ceil(d/m)*m;else if(m<0)l=Math.ceil(l*m)/m,d=Math.floor(d*m)/m;else break;f=m}return e},e}function MQ(){var e=QO();return e.copy=function(){return j0(e,MQ())},ga.apply(e,arguments),Kh(e)}function TQ(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,v_),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return TQ(e).unknown(t)},e=arguments.length?Array.from(e,v_):[0,1],Kh(n)}function RQ(e,t){e=e.slice();var n=0,r=e.length-1,o=e[n],a=e[r],l;return a<o&&(l=n,n=r,r=l,l=o,o=a,a=l),e[n]=t.floor(o),e[r]=t.ceil(a),e}function Z7(e){return Math.log(e)}function X7(e){return Math.exp(e)}function WOe(e){return-Math.log(-e)}function $Oe(e){return-Math.exp(-e)}function qOe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function KOe(e){return e===10?qOe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function YOe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function J7(e){return(t,n)=>-e(-t,n)}function JO(e){const t=e(Z7,X7),n=t.domain;let r=10,o,a;function l(){return o=YOe(r),a=KOe(r),n()[0]<0?(o=J7(o),a=J7(a),e(WOe,$Oe)):e(Z7,X7),t}return t.base=function(d){return arguments.length?(r=+d,l()):r},t.domain=function(d){return arguments.length?(n(d),l()):n()},t.ticks=d=>{const f=n();let m=f[0],v=f[f.length-1];const C=v<m;C&&([m,v]=[v,m]);let y=o(m),S=o(v),E,T;const P=d==null?10:+d;let N=[];if(!(r%1)&&S-y<P){if(y=Math.floor(y),S=Math.ceil(S),m>0){for(;y<=S;++y)for(E=1;E<r;++E)if(T=y<0?E/a(-y):E*a(y),!(T<m)){if(T>v)break;N.push(T)}}else for(;y<=S;++y)for(E=r-1;E>=1;--E)if(T=y>0?E/a(-y):E*a(y),!(T<m)){if(T>v)break;N.push(T)}N.length*2<P&&(N=PI(m,v,P))}else N=PI(y,S,Math.min(S-y,P)).map(a);return C?N.reverse():N},t.tickFormat=(d,f)=>{if(d==null&&(d=10),f==null&&(f=r===10?"s":","),typeof f!="function"&&(!(r%1)&&(f=l0(f)).precision==null&&(f.trim=!0),f=XO(f)),d===1/0)return f;const m=Math.max(1,r*d/t.ticks().length);return v=>{let C=v/a(Math.round(o(v)));return C*r<r-.5&&(C*=r),C<=m?f(v):""}},t.nice=()=>n(RQ(n(),{floor:d=>a(Math.floor(o(d))),ceil:d=>a(Math.ceil(o(d)))})),t}function PQ(){const e=JO($E()).domain([1,10]);return e.copy=()=>j0(e,PQ()).base(e.base()),ga.apply(e,arguments),e}function eV(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function tV(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function eF(e){var t=1,n=e(eV(t),tV(t));return n.constant=function(r){return arguments.length?e(eV(t=+r),tV(t)):t},Kh(n)}function IQ(){var e=eF($E());return e.copy=function(){return j0(e,IQ()).constant(e.constant())},ga.apply(e,arguments)}function nV(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function QOe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function ZOe(e){return e<0?-e*e:e*e}function tF(e){var t=e(bo,bo),n=1;function r(){return n===1?e(bo,bo):n===.5?e(QOe,ZOe):e(nV(n),nV(1/n))}return t.exponent=function(o){return arguments.length?(n=+o,r()):n},Kh(t)}function nF(){var e=tF($E());return e.copy=function(){return j0(e,nF()).exponent(e.exponent())},ga.apply(e,arguments),e}function XOe(){return nF.apply(null,arguments).exponent(.5)}function rV(e){return Math.sign(e)*e*e}function JOe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function NQ(){var e=QO(),t=[0,1],n=!1,r;function o(a){var l=JOe(e(a));return isNaN(l)?r:n?Math.round(l):l}return o.invert=function(a){return e.invert(rV(a))},o.domain=function(a){return arguments.length?(e.domain(a),o):e.domain()},o.range=function(a){return arguments.length?(e.range((t=Array.from(a,v_)).map(rV)),o):t.slice()},o.rangeRound=function(a){return o.range(a).round(!0)},o.round=function(a){return arguments.length?(n=!!a,o):n},o.clamp=function(a){return arguments.length?(e.clamp(a),o):e.clamp()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.copy=function(){return NQ(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},ga.apply(o,arguments),Kh(o)}function OQ(){var e=[],t=[],n=[],r;function o(){var l=0,d=Math.max(1,t.length);for(n=new Array(d-1);++l<d;)n[l-1]=rOe(e,l/d);return a}function a(l){return l==null||isNaN(l=+l)?r:t[L0(n,l)]}return a.invertExtent=function(l){var d=t.indexOf(l);return d<0?[NaN,NaN]:[d>0?n[d-1]:e[0],d<n.length?n[d]:e[e.length-1]]},a.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let d of l)d!=null&&!isNaN(d=+d)&&e.push(d);return e.sort(Rh),o()},a.range=function(l){return arguments.length?(t=Array.from(l),o()):t.slice()},a.unknown=function(l){return arguments.length?(r=l,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return OQ().domain(e).range(t).unknown(r)},ga.apply(a,arguments)}function FQ(){var e=0,t=1,n=1,r=[.5],o=[0,1],a;function l(f){return f!=null&&f<=f?o[L0(r,f,0,n)]:a}function d(){var f=-1;for(r=new Array(n);++f<n;)r[f]=((f+1)*t-(f-n)*e)/(n+1);return l}return l.domain=function(f){return arguments.length?([e,t]=f,e=+e,t=+t,d()):[e,t]},l.range=function(f){return arguments.length?(n=(o=Array.from(f)).length-1,d()):o.slice()},l.invertExtent=function(f){var m=o.indexOf(f);return m<0?[NaN,NaN]:m<1?[e,r[0]]:m>=n?[r[n-1],t]:[r[m-1],r[m]]},l.unknown=function(f){return arguments.length&&(a=f),l},l.thresholds=function(){return r.slice()},l.copy=function(){return FQ().domain([e,t]).range(o).unknown(a)},ga.apply(Kh(l),arguments)}function LQ(){var e=[.5],t=[0,1],n,r=1;function o(a){return a!=null&&a<=a?t[L0(e,a,0,r)]:n}return o.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),o):e.slice()},o.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),o):t.slice()},o.invertExtent=function(a){var l=t.indexOf(a);return[e[l-1],e[l]]},o.unknown=function(a){return arguments.length?(n=a,o):n},o.copy=function(){return LQ().domain(e).range(t).unknown(n)},ga.apply(o,arguments)}const SR=new Date,_R=new Date;function $r(e,t,n,r){function o(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return o.floor=a=>(e(a=new Date(+a)),a),o.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),o.round=a=>{const l=o(a),d=o.ceil(a);return a-l<d-a?l:d},o.offset=(a,l)=>(t(a=new Date(+a),l==null?1:Math.floor(l)),a),o.range=(a,l,d)=>{const f=[];if(a=o.ceil(a),d=d==null?1:Math.floor(d),!(a<l)||!(d>0))return f;let m;do f.push(m=new Date(+a)),t(a,d),e(a);while(m<a&&a<l);return f},o.filter=a=>$r(l=>{if(l>=l)for(;e(l),!a(l);)l.setTime(l-1)},(l,d)=>{if(l>=l)if(d<0)for(;++d<=0;)for(;t(l,-1),!a(l););else for(;--d>=0;)for(;t(l,1),!a(l););}),n&&(o.count=(a,l)=>(SR.setTime(+a),_R.setTime(+l),e(SR),e(_R),Math.floor(n(SR,_R))),o.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?o.filter(r?l=>r(l)%a===0:l=>o.count(0,l)%a===0):o)),o}const C_=$r(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);C_.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?$r(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):C_);C_.range;const wd=1e3,aa=wd*60,Cd=aa*60,Ud=Cd*24,rF=Ud*7,iV=Ud*30,ER=Ud*365,Ap=$r(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*wd)},(e,t)=>(t-e)/wd,e=>e.getUTCSeconds());Ap.range;const iF=$r(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*wd)},(e,t)=>{e.setTime(+e+t*aa)},(e,t)=>(t-e)/aa,e=>e.getMinutes());iF.range;const oF=$r(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*aa)},(e,t)=>(t-e)/aa,e=>e.getUTCMinutes());oF.range;const sF=$r(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*wd-e.getMinutes()*aa)},(e,t)=>{e.setTime(+e+t*Cd)},(e,t)=>(t-e)/Cd,e=>e.getHours());sF.range;const aF=$r(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Cd)},(e,t)=>(t-e)/Cd,e=>e.getUTCHours());aF.range;const z0=$r(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*aa)/Ud,e=>e.getDate()-1);z0.range;const qE=$r(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ud,e=>e.getUTCDate()-1);qE.range;const BQ=$r(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ud,e=>Math.floor(e/Ud));BQ.range;function lg(e){return $r(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*aa)/rF)}const KE=lg(0),y_=lg(1),eFe=lg(2),tFe=lg(3),zb=lg(4),nFe=lg(5),rFe=lg(6);KE.range;y_.range;eFe.range;tFe.range;zb.range;nFe.range;rFe.range;function cg(e){return $r(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/rF)}const YE=cg(0),k_=cg(1),iFe=cg(2),oFe=cg(3),Hb=cg(4),sFe=cg(5),aFe=cg(6);YE.range;k_.range;iFe.range;oFe.range;Hb.range;sFe.range;aFe.range;const lF=$r(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());lF.range;const cF=$r(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());cF.range;const Wd=$r(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Wd.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:$r(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Wd.range;const $d=$r(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());$d.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:$r(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});$d.range;function jQ(e,t,n,r,o,a){const l=[[Ap,1,wd],[Ap,5,5*wd],[Ap,15,15*wd],[Ap,30,30*wd],[a,1,aa],[a,5,5*aa],[a,15,15*aa],[a,30,30*aa],[o,1,Cd],[o,3,3*Cd],[o,6,6*Cd],[o,12,12*Cd],[r,1,Ud],[r,2,2*Ud],[n,1,rF],[t,1,iV],[t,3,3*iV],[e,1,ER]];function d(m,v,C){const y=v<m;y&&([m,v]=[v,m]);const S=C&&typeof C.range=="function"?C:f(m,v,C),E=S?S.range(m,+v+1):[];return y?E.reverse():E}function f(m,v,C){const y=Math.abs(v-m)/C,S=UO(([,,P])=>P).right(l,y);if(S===l.length)return e.every(NI(m/ER,v/ER,C));if(S===0)return C_.every(Math.max(NI(m,v,C),1));const[E,T]=l[y/l[S-1][2]<l[S][2]/y?S-1:S];return E.every(T)}return[d,f]}const[lFe,cFe]=jQ($d,cF,YE,BQ,aF,oF),[dFe,uFe]=jQ(Wd,lF,KE,z0,sF,iF);function DR(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function MR(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function sy(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function hFe(e){var t=e.dateTime,n=e.date,r=e.time,o=e.periods,a=e.days,l=e.shortDays,d=e.months,f=e.shortMonths,m=ay(o),v=ly(o),C=ay(a),y=ly(a),S=ay(l),E=ly(l),T=ay(d),P=ly(d),N=ay(f),j=ly(f),L={a:ee,A:le,b:ce,B:he,c:null,d:dV,e:dV,f:OFe,g:WFe,G:qFe,H:PFe,I:IFe,j:NFe,L:zQ,m:FFe,M:LFe,p:ne,q:fe,Q:fV,s:pV,S:BFe,u:jFe,U:zFe,V:HFe,w:VFe,W:GFe,x:null,X:null,y:UFe,Y:$Fe,Z:KFe,"%":hV},V={a:ve,A:me,b:Oe,B:_e,c:null,d:uV,e:uV,f:XFe,g:l4e,G:d4e,H:YFe,I:QFe,j:ZFe,L:VQ,m:JFe,M:e4e,p:Ue,q:pt,Q:fV,s:pV,S:t4e,u:n4e,U:r4e,V:i4e,w:o4e,W:s4e,x:null,X:null,y:a4e,Y:c4e,Z:u4e,"%":hV},U={a:ae,A:X,b:Z,B:se,c:Q,d:lV,e:lV,f:DFe,g:aV,G:sV,H:cV,I:cV,j:AFe,L:EFe,m:xFe,M:SFe,p:te,q:kFe,Q:TFe,s:RFe,S:_Fe,u:bFe,U:vFe,V:wFe,w:mFe,W:CFe,x:J,X:re,y:aV,Y:sV,Z:yFe,"%":MFe};L.x=$(n,L),L.X=$(r,L),L.c=$(t,L),V.x=$(n,V),V.X=$(r,V),V.c=$(t,V);function $(Ee,Te){return function(Ze){var De=[],et=-1,lt=0,yt=Ee.length,it,Nt,kn;for(Ze instanceof Date||(Ze=new Date(+Ze));++et<yt;)Ee.charCodeAt(et)===37&&(De.push(Ee.slice(lt,et)),(Nt=oV[it=Ee.charAt(++et)])!=null?it=Ee.charAt(++et):Nt=it==="e"?" ":"0",(kn=Te[it])&&(it=kn(Ze,Nt)),De.push(it),lt=et+1);return De.push(Ee.slice(lt,et)),De.join("")}}function z(Ee,Te){return function(Ze){var De=sy(1900,void 0,1),et=K(De,Ee,Ze+="",0),lt,yt;if(et!=Ze.length)return null;if("Q"in De)return new Date(De.Q);if("s"in De)return new Date(De.s*1e3+("L"in De?De.L:0));if(Te&&!("Z"in De)&&(De.Z=0),"p"in De&&(De.H=De.H%12+De.p*12),De.m===void 0&&(De.m="q"in De?De.q:0),"V"in De){if(De.V<1||De.V>53)return null;"w"in De||(De.w=1),"Z"in De?(lt=MR(sy(De.y,0,1)),yt=lt.getUTCDay(),lt=yt>4||yt===0?k_.ceil(lt):k_(lt),lt=qE.offset(lt,(De.V-1)*7),De.y=lt.getUTCFullYear(),De.m=lt.getUTCMonth(),De.d=lt.getUTCDate()+(De.w+6)%7):(lt=DR(sy(De.y,0,1)),yt=lt.getDay(),lt=yt>4||yt===0?y_.ceil(lt):y_(lt),lt=z0.offset(lt,(De.V-1)*7),De.y=lt.getFullYear(),De.m=lt.getMonth(),De.d=lt.getDate()+(De.w+6)%7)}else("W"in De||"U"in De)&&("w"in De||(De.w="u"in De?De.u%7:"W"in De?1:0),yt="Z"in De?MR(sy(De.y,0,1)).getUTCDay():DR(sy(De.y,0,1)).getDay(),De.m=0,De.d="W"in De?(De.w+6)%7+De.W*7-(yt+5)%7:De.w+De.U*7-(yt+6)%7);return"Z"in De?(De.H+=De.Z/100|0,De.M+=De.Z%100,MR(De)):DR(De)}}function K(Ee,Te,Ze,De){for(var et=0,lt=Te.length,yt=Ze.length,it,Nt;et<lt;){if(De>=yt)return-1;if(it=Te.charCodeAt(et++),it===37){if(it=Te.charAt(et++),Nt=U[it in oV?Te.charAt(et++):it],!Nt||(De=Nt(Ee,Ze,De))<0)return-1}else if(it!=Ze.charCodeAt(De++))return-1}return De}function te(Ee,Te,Ze){var De=m.exec(Te.slice(Ze));return De?(Ee.p=v.get(De[0].toLowerCase()),Ze+De[0].length):-1}function ae(Ee,Te,Ze){var De=S.exec(Te.slice(Ze));return De?(Ee.w=E.get(De[0].toLowerCase()),Ze+De[0].length):-1}function X(Ee,Te,Ze){var De=C.exec(Te.slice(Ze));return De?(Ee.w=y.get(De[0].toLowerCase()),Ze+De[0].length):-1}function Z(Ee,Te,Ze){var De=N.exec(Te.slice(Ze));return De?(Ee.m=j.get(De[0].toLowerCase()),Ze+De[0].length):-1}function se(Ee,Te,Ze){var De=T.exec(Te.slice(Ze));return De?(Ee.m=P.get(De[0].toLowerCase()),Ze+De[0].length):-1}function Q(Ee,Te,Ze){return K(Ee,t,Te,Ze)}function J(Ee,Te,Ze){return K(Ee,n,Te,Ze)}function re(Ee,Te,Ze){return K(Ee,r,Te,Ze)}function ee(Ee){return l[Ee.getDay()]}function le(Ee){return a[Ee.getDay()]}function ce(Ee){return f[Ee.getMonth()]}function he(Ee){return d[Ee.getMonth()]}function ne(Ee){return o[+(Ee.getHours()>=12)]}function fe(Ee){return 1+~~(Ee.getMonth()/3)}function ve(Ee){return l[Ee.getUTCDay()]}function me(Ee){return a[Ee.getUTCDay()]}function Oe(Ee){return f[Ee.getUTCMonth()]}function _e(Ee){return d[Ee.getUTCMonth()]}function Ue(Ee){return o[+(Ee.getUTCHours()>=12)]}function pt(Ee){return 1+~~(Ee.getUTCMonth()/3)}return{format:function(Ee){var Te=$(Ee+="",L);return Te.toString=function(){return Ee},Te},parse:function(Ee){var Te=z(Ee+="",!1);return Te.toString=function(){return Ee},Te},utcFormat:function(Ee){var Te=$(Ee+="",V);return Te.toString=function(){return Ee},Te},utcParse:function(Ee){var Te=z(Ee+="",!0);return Te.toString=function(){return Ee},Te}}}var oV={"-":"",_:" ",0:"0"},ci=/^\s*\d+/,fFe=/^%/,pFe=/[\\^$*+?|[\]().{}]/g;function an(e,t,n){var r=e<0?"-":"",o=(r?-e:e)+"",a=o.length;return r+(a<n?new Array(n-a+1).join(t)+o:o)}function gFe(e){return e.replace(pFe,"\\$&")}function ay(e){return new RegExp("^(?:"+e.map(gFe).join("|")+")","i")}function ly(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function mFe(e,t,n){var r=ci.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function bFe(e,t,n){var r=ci.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function vFe(e,t,n){var r=ci.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function wFe(e,t,n){var r=ci.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function CFe(e,t,n){var r=ci.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function sV(e,t,n){var r=ci.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function aV(e,t,n){var r=ci.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function yFe(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function kFe(e,t,n){var r=ci.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function xFe(e,t,n){var r=ci.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function lV(e,t,n){var r=ci.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function AFe(e,t,n){var r=ci.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function cV(e,t,n){var r=ci.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function SFe(e,t,n){var r=ci.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function _Fe(e,t,n){var r=ci.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function EFe(e,t,n){var r=ci.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function DFe(e,t,n){var r=ci.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function MFe(e,t,n){var r=fFe.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function TFe(e,t,n){var r=ci.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function RFe(e,t,n){var r=ci.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function dV(e,t){return an(e.getDate(),t,2)}function PFe(e,t){return an(e.getHours(),t,2)}function IFe(e,t){return an(e.getHours()%12||12,t,2)}function NFe(e,t){return an(1+z0.count(Wd(e),e),t,3)}function zQ(e,t){return an(e.getMilliseconds(),t,3)}function OFe(e,t){return zQ(e,t)+"000"}function FFe(e,t){return an(e.getMonth()+1,t,2)}function LFe(e,t){return an(e.getMinutes(),t,2)}function BFe(e,t){return an(e.getSeconds(),t,2)}function jFe(e){var t=e.getDay();return t===0?7:t}function zFe(e,t){return an(KE.count(Wd(e)-1,e),t,2)}function HQ(e){var t=e.getDay();return t>=4||t===0?zb(e):zb.ceil(e)}function HFe(e,t){return e=HQ(e),an(zb.count(Wd(e),e)+(Wd(e).getDay()===4),t,2)}function VFe(e){return e.getDay()}function GFe(e,t){return an(y_.count(Wd(e)-1,e),t,2)}function UFe(e,t){return an(e.getFullYear()%100,t,2)}function WFe(e,t){return e=HQ(e),an(e.getFullYear()%100,t,2)}function $Fe(e,t){return an(e.getFullYear()%1e4,t,4)}function qFe(e,t){var n=e.getDay();return e=n>=4||n===0?zb(e):zb.ceil(e),an(e.getFullYear()%1e4,t,4)}function KFe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+an(t/60|0,"0",2)+an(t%60,"0",2)}function uV(e,t){return an(e.getUTCDate(),t,2)}function YFe(e,t){return an(e.getUTCHours(),t,2)}function QFe(e,t){return an(e.getUTCHours()%12||12,t,2)}function ZFe(e,t){return an(1+qE.count($d(e),e),t,3)}function VQ(e,t){return an(e.getUTCMilliseconds(),t,3)}function XFe(e,t){return VQ(e,t)+"000"}function JFe(e,t){return an(e.getUTCMonth()+1,t,2)}function e4e(e,t){return an(e.getUTCMinutes(),t,2)}function t4e(e,t){return an(e.getUTCSeconds(),t,2)}function n4e(e){var t=e.getUTCDay();return t===0?7:t}function r4e(e,t){return an(YE.count($d(e)-1,e),t,2)}function GQ(e){var t=e.getUTCDay();return t>=4||t===0?Hb(e):Hb.ceil(e)}function i4e(e,t){return e=GQ(e),an(Hb.count($d(e),e)+($d(e).getUTCDay()===4),t,2)}function o4e(e){return e.getUTCDay()}function s4e(e,t){return an(k_.count($d(e)-1,e),t,2)}function a4e(e,t){return an(e.getUTCFullYear()%100,t,2)}function l4e(e,t){return e=GQ(e),an(e.getUTCFullYear()%100,t,2)}function c4e(e,t){return an(e.getUTCFullYear()%1e4,t,4)}function d4e(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Hb(e):Hb.ceil(e),an(e.getUTCFullYear()%1e4,t,4)}function u4e(){return"+0000"}function hV(){return"%"}function fV(e){return+e}function pV(e){return Math.floor(+e/1e3)}var Xm,UQ,WQ;h4e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function h4e(e){return Xm=hFe(e),UQ=Xm.format,Xm.parse,WQ=Xm.utcFormat,Xm.utcParse,Xm}function f4e(e){return new Date(e)}function p4e(e){return e instanceof Date?+e:+new Date(+e)}function dF(e,t,n,r,o,a,l,d,f,m){var v=QO(),C=v.invert,y=v.domain,S=m(".%L"),E=m(":%S"),T=m("%I:%M"),P=m("%I %p"),N=m("%a %d"),j=m("%b %d"),L=m("%B"),V=m("%Y");function U($){return(f($)<$?S:d($)<$?E:l($)<$?T:a($)<$?P:r($)<$?o($)<$?N:j:n($)<$?L:V)($)}return v.invert=function($){return new Date(C($))},v.domain=function($){return arguments.length?y(Array.from($,p4e)):y().map(f4e)},v.ticks=function($){var z=y();return e(z[0],z[z.length-1],$??10)},v.tickFormat=function($,z){return z==null?U:m(z)},v.nice=function($){var z=y();return(!$||typeof $.range!="function")&&($=t(z[0],z[z.length-1],$??10)),$?y(RQ(z,$)):v},v.copy=function(){return j0(v,dF(e,t,n,r,o,a,l,d,f,m))},v}function g4e(){return ga.apply(dF(dFe,uFe,Wd,lF,KE,z0,sF,iF,Ap,UQ).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function m4e(){return ga.apply(dF(lFe,cFe,$d,cF,YE,qE,aF,oF,Ap,WQ).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function QE(){var e=0,t=1,n,r,o,a,l=bo,d=!1,f;function m(C){return C==null||isNaN(C=+C)?f:l(o===0?.5:(C=(a(C)-n)*o,d?Math.max(0,Math.min(1,C)):C))}m.domain=function(C){return arguments.length?([e,t]=C,n=a(e=+e),r=a(t=+t),o=n===r?0:1/(r-n),m):[e,t]},m.clamp=function(C){return arguments.length?(d=!!C,m):d},m.interpolator=function(C){return arguments.length?(l=C,m):l};function v(C){return function(y){var S,E;return arguments.length?([S,E]=y,l=C(S,E),m):[l(0),l(1)]}}return m.range=v(lv),m.rangeRound=v(YO),m.unknown=function(C){return arguments.length?(f=C,m):f},function(C){return a=C,n=C(e),r=C(t),o=n===r?0:1/(r-n),m}}function Yh(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function $Q(){var e=Kh(QE()(bo));return e.copy=function(){return Yh(e,$Q())},nu.apply(e,arguments)}function qQ(){var e=JO(QE()).domain([1,10]);return e.copy=function(){return Yh(e,qQ()).base(e.base())},nu.apply(e,arguments)}function KQ(){var e=eF(QE());return e.copy=function(){return Yh(e,KQ()).constant(e.constant())},nu.apply(e,arguments)}function uF(){var e=tF(QE());return e.copy=function(){return Yh(e,uF()).exponent(e.exponent())},nu.apply(e,arguments)}function b4e(){return uF.apply(null,arguments).exponent(.5)}function YQ(){var e=[],t=bo;function n(r){if(r!=null&&!isNaN(r=+r))return t((L0(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let o of r)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(Rh),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,o)=>t(o/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(o,a)=>nOe(e,a/r))},n.copy=function(){return YQ(t).domain(e)},nu.apply(n,arguments)}function ZE(){var e=0,t=.5,n=1,r=1,o,a,l,d,f,m=bo,v,C=!1,y;function S(T){return isNaN(T=+T)?y:(T=.5+((T=+v(T))-a)*(r*T<r*a?d:f),m(C?Math.max(0,Math.min(1,T)):T))}S.domain=function(T){return arguments.length?([e,t,n]=T,o=v(e=+e),a=v(t=+t),l=v(n=+n),d=o===a?0:.5/(a-o),f=a===l?0:.5/(l-a),r=a<o?-1:1,S):[e,t,n]},S.clamp=function(T){return arguments.length?(C=!!T,S):C},S.interpolator=function(T){return arguments.length?(m=T,S):m};function E(T){return function(P){var N,j,L;return arguments.length?([N,j,L]=P,m=MOe(T,[N,j,L]),S):[m(0),m(.5),m(1)]}}return S.range=E(lv),S.rangeRound=E(YO),S.unknown=function(T){return arguments.length?(y=T,S):y},function(T){return v=T,o=T(e),a=T(t),l=T(n),d=o===a?0:.5/(a-o),f=a===l?0:.5/(l-a),r=a<o?-1:1,S}}function QQ(){var e=Kh(ZE()(bo));return e.copy=function(){return Yh(e,QQ())},nu.apply(e,arguments)}function ZQ(){var e=JO(ZE()).domain([.1,1,10]);return e.copy=function(){return Yh(e,ZQ()).base(e.base())},nu.apply(e,arguments)}function XQ(){var e=eF(ZE());return e.copy=function(){return Yh(e,XQ()).constant(e.constant())},nu.apply(e,arguments)}function hF(){var e=tF(ZE());return e.copy=function(){return Yh(e,hF()).exponent(e.exponent())},nu.apply(e,arguments)}function v4e(){return hF.apply(null,arguments).exponent(.5)}const vy=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:$O,scaleDiverging:QQ,scaleDivergingLog:ZQ,scaleDivergingPow:hF,scaleDivergingSqrt:v4e,scaleDivergingSymlog:XQ,scaleIdentity:TQ,scaleImplicit:OI,scaleLinear:MQ,scaleLog:PQ,scaleOrdinal:WO,scalePoint:oOe,scalePow:nF,scaleQuantile:OQ,scaleQuantize:FQ,scaleRadial:NQ,scaleSequential:$Q,scaleSequentialLog:qQ,scaleSequentialPow:uF,scaleSequentialQuantile:YQ,scaleSequentialSqrt:b4e,scaleSequentialSymlog:KQ,scaleSqrt:XOe,scaleSymlog:IQ,scaleThreshold:LQ,scaleTime:g4e,scaleUtc:m4e,tickFormat:DQ},Symbol.toStringTag,{value:"Module"}));var Qh=e=>e.chartData,w4e=Ie([Qh],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),fF=(e,t,n,r)=>r?w4e(e):Qh(e);function Bh(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(Rr(t)&&Rr(n))return!0}return!1}function gV(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function JQ(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,o,a;if(Rr(n))o=n;else if(typeof n=="function")return;if(Rr(r))a=r;else if(typeof r=="function")return;var l=[o,a];if(Bh(l))return l}}function C4e(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(Bh(r))return gV(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[o,a]=e,l,d;if(o==="auto")t!=null&&(l=Math.min(...t));else if(at(o))l=o;else if(typeof o=="function")try{t!=null&&(l=o(t?.[0]))}catch{}else if(typeof o=="string"&&GH.test(o)){var f=GH.exec(o);if(f==null||t==null)l=void 0;else{var m=+f[1];l=t[0]-m}}else l=t?.[0];if(a==="auto")t!=null&&(d=Math.max(...t));else if(at(a))d=a;else if(typeof a=="function")try{t!=null&&(d=a(t?.[1]))}catch{}else if(typeof a=="string"&&UH.test(a)){var v=UH.exec(a);if(v==null||t==null)d=void 0;else{var C=+v[1];d=t[1]+C}}else d=t?.[1];var y=[l,d];if(Bh(y))return t==null?y:gV(y,t,n)}}}var cv=1e9,y4e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},gF,nr=!0,ua="[DecimalError] ",jp=ua+"Invalid argument: ",pF=ua+"Exponent out of range: ",dv=Math.floor,mp=Math.pow,k4e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,bs,si=1e7,Kn=7,eZ=9007199254740991,x_=dv(eZ/Kn),nt={};nt.absoluteValue=nt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};nt.comparedTo=nt.cmp=function(e){var t,n,r,o,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(r=a.d.length,o=e.d.length,t=0,n=r<o?r:o;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===o?0:r>o^a.s<0?1:-1};nt.decimalPlaces=nt.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*Kn;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};nt.dividedBy=nt.div=function(e){return _d(this,new this.constructor(e))};nt.dividedToIntegerBy=nt.idiv=function(e){var t=this,n=t.constructor;return jn(_d(t,new n(e),0,1),n.precision)};nt.equals=nt.eq=function(e){return!this.cmp(e)};nt.exponent=function(){return Lr(this)};nt.greaterThan=nt.gt=function(e){return this.cmp(e)>0};nt.greaterThanOrEqualTo=nt.gte=function(e){return this.cmp(e)>=0};nt.isInteger=nt.isint=function(){return this.e>this.d.length-2};nt.isNegative=nt.isneg=function(){return this.s<0};nt.isPositive=nt.ispos=function(){return this.s>0};nt.isZero=function(){return this.s===0};nt.lessThan=nt.lt=function(e){return this.cmp(e)<0};nt.lessThanOrEqualTo=nt.lte=function(e){return this.cmp(e)<1};nt.logarithm=nt.log=function(e){var t,n=this,r=n.constructor,o=r.precision,a=o+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(bs))throw Error(ua+"NaN");if(n.s<1)throw Error(ua+(n.s?"NaN":"-Infinity"));return n.eq(bs)?new r(0):(nr=!1,t=_d(c0(n,a),c0(e,a),a),nr=!0,jn(t,o))};nt.minus=nt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?rZ(t,e):tZ(t,(e.s=-e.s,e))};nt.modulo=nt.mod=function(e){var t,n=this,r=n.constructor,o=r.precision;if(e=new r(e),!e.s)throw Error(ua+"NaN");return n.s?(nr=!1,t=_d(n,e,0,1).times(e),nr=!0,n.minus(t)):jn(new r(n),o)};nt.naturalExponential=nt.exp=function(){return nZ(this)};nt.naturalLogarithm=nt.ln=function(){return c0(this)};nt.negated=nt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};nt.plus=nt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?tZ(t,e):rZ(t,(e.s=-e.s,e))};nt.precision=nt.sd=function(e){var t,n,r,o=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(jp+e);if(t=Lr(o)+1,r=o.d.length-1,n=r*Kn+1,r=o.d[r],r){for(;r%10==0;r/=10)n--;for(r=o.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};nt.squareRoot=nt.sqrt=function(){var e,t,n,r,o,a,l,d=this,f=d.constructor;if(d.s<1){if(!d.s)return new f(0);throw Error(ua+"NaN")}for(e=Lr(d),nr=!1,o=Math.sqrt(+d),o==0||o==1/0?(t=nc(d.d),(t.length+e)%2==0&&(t+="0"),o=Math.sqrt(t),e=dv((e+1)/2)-(e<0||e%2),o==1/0?t="5e"+e:(t=o.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new f(t)):r=new f(o.toString()),n=f.precision,o=l=n+3;;)if(a=r,r=a.plus(_d(d,a,l+2)).times(.5),nc(a.d).slice(0,l)===(t=nc(r.d)).slice(0,l)){if(t=t.slice(l-3,l+1),o==l&&t=="4999"){if(jn(a,n+1,0),a.times(a).eq(d)){r=a;break}}else if(t!="9999")break;l+=4}return nr=!0,jn(r,n)};nt.times=nt.mul=function(e){var t,n,r,o,a,l,d,f,m,v=this,C=v.constructor,y=v.d,S=(e=new C(e)).d;if(!v.s||!e.s)return new C(0);for(e.s*=v.s,n=v.e+e.e,f=y.length,m=S.length,f<m&&(a=y,y=S,S=a,l=f,f=m,m=l),a=[],l=f+m,r=l;r--;)a.push(0);for(r=m;--r>=0;){for(t=0,o=f+r;o>r;)d=a[o]+S[r]*y[o-r-1]+t,a[o--]=d%si|0,t=d/si|0;a[o]=(a[o]+t)%si|0}for(;!a[--l];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,nr?jn(e,C.precision):e};nt.toDecimalPlaces=nt.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(pc(e,0,cv),t===void 0?t=r.rounding:pc(t,0,8),jn(n,e+Lr(n)+1,t))};nt.toExponential=function(e,t){var n,r=this,o=r.constructor;return e===void 0?n=Yp(r,!0):(pc(e,0,cv),t===void 0?t=o.rounding:pc(t,0,8),r=jn(new o(r),e+1,t),n=Yp(r,!0,e+1)),n};nt.toFixed=function(e,t){var n,r,o=this,a=o.constructor;return e===void 0?Yp(o):(pc(e,0,cv),t===void 0?t=a.rounding:pc(t,0,8),r=jn(new a(o),e+Lr(o)+1,t),n=Yp(r.abs(),!1,e+Lr(r)+1),o.isneg()&&!o.isZero()?"-"+n:n)};nt.toInteger=nt.toint=function(){var e=this,t=e.constructor;return jn(new t(e),Lr(e)+1,t.rounding)};nt.toNumber=function(){return+this};nt.toPower=nt.pow=function(e){var t,n,r,o,a,l,d=this,f=d.constructor,m=12,v=+(e=new f(e));if(!e.s)return new f(bs);if(d=new f(d),!d.s){if(e.s<1)throw Error(ua+"Infinity");return d}if(d.eq(bs))return d;if(r=f.precision,e.eq(bs))return jn(d,r);if(t=e.e,n=e.d.length-1,l=t>=n,a=d.s,l){if((n=v<0?-v:v)<=eZ){for(o=new f(bs),t=Math.ceil(r/Kn+4),nr=!1;n%2&&(o=o.times(d),bV(o.d,t)),n=dv(n/2),n!==0;)d=d.times(d),bV(d.d,t);return nr=!0,e.s<0?new f(bs).div(o):jn(o,r)}}else if(a<0)throw Error(ua+"NaN");return a=a<0&&e.d[Math.max(t,n)]&1?-1:1,d.s=1,nr=!1,o=e.times(c0(d,r+m)),nr=!0,o=nZ(o),o.s=a,o};nt.toPrecision=function(e,t){var n,r,o=this,a=o.constructor;return e===void 0?(n=Lr(o),r=Yp(o,n<=a.toExpNeg||n>=a.toExpPos)):(pc(e,1,cv),t===void 0?t=a.rounding:pc(t,0,8),o=jn(new a(o),e,t),n=Lr(o),r=Yp(o,e<=n||n<=a.toExpNeg,e)),r};nt.toSignificantDigits=nt.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(pc(e,1,cv),t===void 0?t=r.rounding:pc(t,0,8)),jn(new r(n),e,t)};nt.toString=nt.valueOf=nt.val=nt.toJSON=nt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Lr(e),n=e.constructor;return Yp(e,t<=n.toExpNeg||t>=n.toExpPos)};function tZ(e,t){var n,r,o,a,l,d,f,m,v=e.constructor,C=v.precision;if(!e.s||!t.s)return t.s||(t=new v(e)),nr?jn(t,C):t;if(f=e.d,m=t.d,l=e.e,o=t.e,f=f.slice(),a=l-o,a){for(a<0?(r=f,a=-a,d=m.length):(r=m,o=l,d=f.length),l=Math.ceil(C/Kn),d=l>d?l+1:d+1,a>d&&(a=d,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(d=f.length,a=m.length,d-a<0&&(a=d,r=m,m=f,f=r),n=0;a;)n=(f[--a]=f[a]+m[a]+n)/si|0,f[a]%=si;for(n&&(f.unshift(n),++o),d=f.length;f[--d]==0;)f.pop();return t.d=f,t.e=o,nr?jn(t,C):t}function pc(e,t,n){if(e!==~~e||e<t||e>n)throw Error(jp+e)}function nc(e){var t,n,r,o=e.length-1,a="",l=e[0];if(o>0){for(a+=l,t=1;t<o;t++)r=e[t]+"",n=Kn-r.length,n&&(a+=Sh(n)),a+=r;l=e[t],r=l+"",n=Kn-r.length,n&&(a+=Sh(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return a+l}var _d=(function(){function e(r,o){var a,l=0,d=r.length;for(r=r.slice();d--;)a=r[d]*o+l,r[d]=a%si|0,l=a/si|0;return l&&r.unshift(l),r}function t(r,o,a,l){var d,f;if(a!=l)f=a>l?1:-1;else for(d=f=0;d<a;d++)if(r[d]!=o[d]){f=r[d]>o[d]?1:-1;break}return f}function n(r,o,a){for(var l=0;a--;)r[a]-=l,l=r[a]<o[a]?1:0,r[a]=l*si+r[a]-o[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,o,a,l){var d,f,m,v,C,y,S,E,T,P,N,j,L,V,U,$,z,K,te=r.constructor,ae=r.s==o.s?1:-1,X=r.d,Z=o.d;if(!r.s)return new te(r);if(!o.s)throw Error(ua+"Division by zero");for(f=r.e-o.e,z=Z.length,U=X.length,S=new te(ae),E=S.d=[],m=0;Z[m]==(X[m]||0);)++m;if(Z[m]>(X[m]||0)&&--f,a==null?j=a=te.precision:l?j=a+(Lr(r)-Lr(o))+1:j=a,j<0)return new te(0);if(j=j/Kn+2|0,m=0,z==1)for(v=0,Z=Z[0],j++;(m<U||v)&&j--;m++)L=v*si+(X[m]||0),E[m]=L/Z|0,v=L%Z|0;else{for(v=si/(Z[0]+1)|0,v>1&&(Z=e(Z,v),X=e(X,v),z=Z.length,U=X.length),V=z,T=X.slice(0,z),P=T.length;P<z;)T[P++]=0;K=Z.slice(),K.unshift(0),$=Z[0],Z[1]>=si/2&&++$;do v=0,d=t(Z,T,z,P),d<0?(N=T[0],z!=P&&(N=N*si+(T[1]||0)),v=N/$|0,v>1?(v>=si&&(v=si-1),C=e(Z,v),y=C.length,P=T.length,d=t(C,T,y,P),d==1&&(v--,n(C,z<y?K:Z,y))):(v==0&&(d=v=1),C=Z.slice()),y=C.length,y<P&&C.unshift(0),n(T,C,P),d==-1&&(P=T.length,d=t(Z,T,z,P),d<1&&(v++,n(T,z<P?K:Z,P))),P=T.length):d===0&&(v++,T=[0]),E[m++]=v,d&&T[0]?T[P++]=X[V]||0:(T=[X[V]],P=1);while((V++<U||T[0]!==void 0)&&j--)}return E[0]||E.shift(),S.e=f,jn(S,l?a+Lr(S)+1:a)}})();function nZ(e,t){var n,r,o,a,l,d,f=0,m=0,v=e.constructor,C=v.precision;if(Lr(e)>16)throw Error(pF+Lr(e));if(!e.s)return new v(bs);for(nr=!1,d=C,l=new v(.03125);e.abs().gte(.1);)e=e.times(l),m+=5;for(r=Math.log(mp(2,m))/Math.LN10*2+5|0,d+=r,n=o=a=new v(bs),v.precision=d;;){if(o=jn(o.times(e),d),n=n.times(++f),l=a.plus(_d(o,n,d)),nc(l.d).slice(0,d)===nc(a.d).slice(0,d)){for(;m--;)a=jn(a.times(a),d);return v.precision=C,t==null?(nr=!0,jn(a,C)):a}a=l}}function Lr(e){for(var t=e.e*Kn,n=e.d[0];n>=10;n/=10)t++;return t}function TR(e,t,n){if(t>e.LN10.sd())throw nr=!0,n&&(e.precision=n),Error(ua+"LN10 precision limit exceeded");return jn(new e(e.LN10),t)}function Sh(e){for(var t="";e--;)t+="0";return t}function c0(e,t){var n,r,o,a,l,d,f,m,v,C=1,y=10,S=e,E=S.d,T=S.constructor,P=T.precision;if(S.s<1)throw Error(ua+(S.s?"NaN":"-Infinity"));if(S.eq(bs))return new T(0);if(t==null?(nr=!1,m=P):m=t,S.eq(10))return t==null&&(nr=!0),TR(T,m);if(m+=y,T.precision=m,n=nc(E),r=n.charAt(0),a=Lr(S),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)S=S.times(e),n=nc(S.d),r=n.charAt(0),C++;a=Lr(S),r>1?(S=new T("0."+n),a++):S=new T(r+"."+n.slice(1))}else return f=TR(T,m+2,P).times(a+""),S=c0(new T(r+"."+n.slice(1)),m-y).plus(f),T.precision=P,t==null?(nr=!0,jn(S,P)):S;for(d=l=S=_d(S.minus(bs),S.plus(bs),m),v=jn(S.times(S),m),o=3;;){if(l=jn(l.times(v),m),f=d.plus(_d(l,new T(o),m)),nc(f.d).slice(0,m)===nc(d.d).slice(0,m))return d=d.times(2),a!==0&&(d=d.plus(TR(T,m+2,P).times(a+""))),d=_d(d,new T(C),m),T.precision=P,t==null?(nr=!0,jn(d,P)):d;d=f,o+=2}}function mV(e,t){var n,r,o;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(o=t.length;t.charCodeAt(o-1)===48;)--o;if(t=t.slice(r,o),t){if(o-=r,n=n-r-1,e.e=dv(n/Kn),e.d=[],r=(n+1)%Kn,n<0&&(r+=Kn),r<o){for(r&&e.d.push(+t.slice(0,r)),o-=Kn;r<o;)e.d.push(+t.slice(r,r+=Kn));t=t.slice(r),r=Kn-t.length}else r-=o;for(;r--;)t+="0";if(e.d.push(+t),nr&&(e.e>x_||e.e<-x_))throw Error(pF+n)}else e.s=0,e.e=0,e.d=[0];return e}function jn(e,t,n){var r,o,a,l,d,f,m,v,C=e.d;for(l=1,a=C[0];a>=10;a/=10)l++;if(r=t-l,r<0)r+=Kn,o=t,m=C[v=0];else{if(v=Math.ceil((r+1)/Kn),a=C.length,v>=a)return e;for(m=a=C[v],l=1;a>=10;a/=10)l++;r%=Kn,o=r-Kn+l}if(n!==void 0&&(a=mp(10,l-o-1),d=m/a%10|0,f=t<0||C[v+1]!==void 0||m%a,f=n<4?(d||f)&&(n==0||n==(e.s<0?3:2)):d>5||d==5&&(n==4||f||n==6&&(r>0?o>0?m/mp(10,l-o):0:C[v-1])%10&1||n==(e.s<0?8:7))),t<1||!C[0])return f?(a=Lr(e),C.length=1,t=t-a-1,C[0]=mp(10,(Kn-t%Kn)%Kn),e.e=dv(-t/Kn)||0):(C.length=1,C[0]=e.e=e.s=0),e;if(r==0?(C.length=v,a=1,v--):(C.length=v+1,a=mp(10,Kn-r),C[v]=o>0?(m/mp(10,l-o)%mp(10,o)|0)*a:0),f)for(;;)if(v==0){(C[0]+=a)==si&&(C[0]=1,++e.e);break}else{if(C[v]+=a,C[v]!=si)break;C[v--]=0,a=1}for(r=C.length;C[--r]===0;)C.pop();if(nr&&(e.e>x_||e.e<-x_))throw Error(pF+Lr(e));return e}function rZ(e,t){var n,r,o,a,l,d,f,m,v,C,y=e.constructor,S=y.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new y(e),nr?jn(t,S):t;if(f=e.d,C=t.d,r=t.e,m=e.e,f=f.slice(),l=m-r,l){for(v=l<0,v?(n=f,l=-l,d=C.length):(n=C,r=m,d=f.length),o=Math.max(Math.ceil(S/Kn),d)+2,l>o&&(l=o,n.length=1),n.reverse(),o=l;o--;)n.push(0);n.reverse()}else{for(o=f.length,d=C.length,v=o<d,v&&(d=o),o=0;o<d;o++)if(f[o]!=C[o]){v=f[o]<C[o];break}l=0}for(v&&(n=f,f=C,C=n,t.s=-t.s),d=f.length,o=C.length-d;o>0;--o)f[d++]=0;for(o=C.length;o>l;){if(f[--o]<C[o]){for(a=o;a&&f[--a]===0;)f[a]=si-1;--f[a],f[o]+=si}f[o]-=C[o]}for(;f[--d]===0;)f.pop();for(;f[0]===0;f.shift())--r;return f[0]?(t.d=f,t.e=r,nr?jn(t,S):t):new y(0)}function Yp(e,t,n){var r,o=Lr(e),a=nc(e.d),l=a.length;return t?(n&&(r=n-l)>0?a=a.charAt(0)+"."+a.slice(1)+Sh(r):l>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(o<0?"e":"e+")+o):o<0?(a="0."+Sh(-o-1)+a,n&&(r=n-l)>0&&(a+=Sh(r))):o>=l?(a+=Sh(o+1-l),n&&(r=n-o-1)>0&&(a=a+"."+Sh(r))):((r=o+1)<l&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-l)>0&&(o+1===l&&(a+="."),a+=Sh(r))),e.s<0?"-"+a:a}function bV(e,t){if(e.length>t)return e.length=t,!0}function iZ(e){var t,n,r;function o(a){var l=this;if(!(l instanceof o))return new o(a);if(l.constructor=o,a instanceof o){l.s=a.s,l.e=a.e,l.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(jp+a);if(a>0)l.s=1;else if(a<0)a=-a,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(a===~~a&&a<1e7){l.e=0,l.d=[a];return}return mV(l,a.toString())}else if(typeof a!="string")throw Error(jp+a);if(a.charCodeAt(0)===45?(a=a.slice(1),l.s=-1):l.s=1,k4e.test(a))mV(l,a);else throw Error(jp+a)}if(o.prototype=nt,o.ROUND_UP=0,o.ROUND_DOWN=1,o.ROUND_CEIL=2,o.ROUND_FLOOR=3,o.ROUND_HALF_UP=4,o.ROUND_HALF_DOWN=5,o.ROUND_HALF_EVEN=6,o.ROUND_HALF_CEIL=7,o.ROUND_HALF_FLOOR=8,o.clone=iZ,o.config=o.set=x4e,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return o.config(e),o}function x4e(e){if(!e||typeof e!="object")throw Error(ua+"Object expected");var t,n,r,o=["precision",1,cv,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<o.length;t+=3)if((r=e[n=o[t]])!==void 0)if(dv(r)===r&&r>=o[t+1]&&r<=o[t+2])this[n]=r;else throw Error(jp+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(jp+n+": "+r);return this}var gF=iZ(y4e);bs=new gF(1);const Mn=gF;var A4e=e=>e,oZ={},sZ=e=>e===oZ,vV=e=>function t(){return arguments.length===0||arguments.length===1&&sZ(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},aZ=(e,t)=>e===1?t:vV(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];var a=r.filter(l=>l!==oZ).length;return a>=e?t(...r):aZ(e-a,vV(function(){for(var l=arguments.length,d=new Array(l),f=0;f<l;f++)d[f]=arguments[f];var m=r.map(v=>sZ(v)?d.shift():v);return t(...m,...d)}))}),S4e=e=>aZ(e.length,e),jI=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},_4e=S4e((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),E4e=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return A4e;var o=n.reverse(),a=o[0],l=o.slice(1);return function(){return l.reduce((d,f)=>f(d),a(...arguments))}},zI=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join("");function lZ(e){var t;return e===0?t=1:t=Math.floor(new Mn(e).abs().log(10).toNumber())+1,t}function cZ(e,t,n){for(var r=new Mn(e),o=0,a=[];r.lt(t)&&o<1e5;)a.push(r.toNumber()),r=r.add(n),o++;return a}var dZ=e=>{var[t,n]=e,[r,o]=[t,n];return t>n&&([r,o]=[n,t]),[r,o]},uZ=(e,t,n)=>{if(e.lte(0))return new Mn(0);var r=lZ(e.toNumber()),o=new Mn(10).pow(r),a=e.div(o),l=r!==1?.05:.1,d=new Mn(Math.ceil(a.div(l).toNumber())).add(n).mul(l),f=d.mul(o);return t?new Mn(f.toNumber()):new Mn(Math.ceil(f.toNumber()))},D4e=(e,t,n)=>{var r=new Mn(1),o=new Mn(e);if(!o.isint()&&n){var a=Math.abs(e);a<1?(r=new Mn(10).pow(lZ(e)-1),o=new Mn(Math.floor(o.div(r).toNumber())).mul(r)):a>1&&(o=new Mn(Math.floor(e)))}else e===0?o=new Mn(Math.floor((t-1)/2)):n||(o=new Mn(Math.floor(e)));var l=Math.floor((t-1)/2),d=E4e(_4e(f=>o.add(new Mn(f-l).mul(r)).toNumber()),jI);return d(0,t)},hZ=function(t,n,r,o){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new Mn(0),tickMin:new Mn(0),tickMax:new Mn(0)};var l=uZ(new Mn(n).sub(t).div(r-1),o,a),d;t<=0&&n>=0?d=new Mn(0):(d=new Mn(t).add(n).div(2),d=d.sub(new Mn(d).mod(l)));var f=Math.ceil(d.sub(t).div(l).toNumber()),m=Math.ceil(new Mn(n).sub(d).div(l).toNumber()),v=f+m+1;return v>r?hZ(t,n,r,o,a+1):(v<r&&(m=n>0?m+(r-v):m,f=n>0?f:f+(r-v)),{step:l,tickMin:d.sub(new Mn(f).mul(l)),tickMax:d.add(new Mn(m).mul(l))})},M4e=function(t){var[n,r]=t,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(o,2),[d,f]=dZ([n,r]);if(d===-1/0||f===1/0){var m=f===1/0?[d,...jI(0,o-1).map(()=>1/0)]:[...jI(0,o-1).map(()=>-1/0),f];return n>r?zI(m):m}if(d===f)return D4e(d,o,a);var{step:v,tickMin:C,tickMax:y}=hZ(d,f,l,a,0),S=cZ(C,y.add(new Mn(.1).mul(v)),v);return n>r?zI(S):S},T4e=function(t,n){var[r,o]=t,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[l,d]=dZ([r,o]);if(l===-1/0||d===1/0)return[r,o];if(l===d)return[l];var f=Math.max(n,2),m=uZ(new Mn(d).sub(l).div(f-1),a,0),v=[...cZ(new Mn(l),new Mn(d),m),d];return a===!1&&(v=v.map(C=>Math.round(C))),r>o?zI(v):v},fZ=e=>e.rootProps.maxBarSize,R4e=e=>e.rootProps.barGap,pZ=e=>e.rootProps.barCategoryGap,P4e=e=>e.rootProps.barSize,XE=e=>e.rootProps.stackOffset,gZ=e=>e.rootProps.reverseStackOrder,mF=e=>e.options.chartName,bF=e=>e.rootProps.syncId,mZ=e=>e.rootProps.syncMethod,vF=e=>e.options.eventEmitter,vo={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},gd={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},ms={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},JE=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},I4e={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:gd.angleAxisId,includeHidden:!1,name:void 0,reversed:gd.reversed,scale:gd.scale,tick:gd.tick,tickCount:void 0,ticks:void 0,type:gd.type,unit:void 0},N4e={allowDataOverflow:ms.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ms.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ms.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ms.scale,tick:ms.tick,tickCount:ms.tickCount,ticks:void 0,type:ms.type,unit:void 0},O4e={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:gd.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:gd.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:gd.scale,tick:gd.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},F4e={allowDataOverflow:ms.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ms.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ms.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ms.scale,tick:ms.tick,tickCount:ms.tickCount,ticks:void 0,type:"category",unit:void 0},wF=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?O4e:I4e,CF=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?F4e:N4e,eD=e=>e.polarOptions,yF=Ie([eu,tu,li],TNe),bZ=Ie([eD,yF],(e,t)=>{if(e!=null)return nl(e.innerRadius,t,0)}),vZ=Ie([eD,yF],(e,t)=>{if(e!=null)return nl(e.outerRadius,t,t*.8)}),L4e=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},wZ=Ie([eD],L4e);Ie([wF,wZ],JE);var CZ=Ie([yF,bZ,vZ],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});Ie([CF,CZ],JE);var yZ=Ie([Pn,eD,bZ,vZ,eu,tu],(e,t,n,r,o,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:l,cy:d,startAngle:f,endAngle:m}=t;return{cx:nl(l,o,o/2),cy:nl(d,a,a/2),innerRadius:n,outerRadius:r,startAngle:f,endAngle:m,clockWise:!1}}}),qr=(e,t)=>t,tD=(e,t,n)=>n;function kF(e){return e?.id}function kZ(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:o,dataKey:a}=n,l=new Map;return e.forEach(d=>{var f,m=(f=d.data)!==null&&f!==void 0?f:r;if(!(m==null||m.length===0)){var v=kF(d);m.forEach((C,y)=>{var S=a==null||o?y:String(Ki(C,a,null)),E=Ki(C,d.dataKey,0),T;l.has(S)?T=l.get(S):T={},Object.assign(T,{[v]:E}),l.set(S,T)})}}),Array.from(l.values())}function nD(e){return e.stackId!=null&&e.dataKey!=null}var rD=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function iD(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function B4e(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var Kr=e=>{var t=Pn(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},uv=e=>e.tooltip.settings.axisId;function wV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function A_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wV(Object(n),!0).forEach(function(r){j4e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wV(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function j4e(e,t,n){return(t=z4e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function z4e(e){var t=H4e(e,"string");return typeof t=="symbol"?t:t+""}function H4e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var HI=[0,"auto"],ii={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},xZ=(e,t)=>e.cartesianAxis.xAxis[t],ru=(e,t)=>{var n=xZ(e,t);return n??ii},oi={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:HI,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:O0},AZ=(e,t)=>e.cartesianAxis.yAxis[t],iu=(e,t)=>{var n=AZ(e,t);return n??oi},V4e={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},xF=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??V4e},Ao=(e,t,n)=>{switch(t){case"xAxis":return ru(e,n);case"yAxis":return iu(e,n);case"zAxis":return xF(e,n);case"angleAxis":return wF(e,n);case"radiusAxis":return CF(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},G4e=(e,t,n)=>{switch(t){case"xAxis":return ru(e,n);case"yAxis":return iu(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},H0=(e,t,n)=>{switch(t){case"xAxis":return ru(e,n);case"yAxis":return iu(e,n);case"angleAxis":return wF(e,n);case"radiusAxis":return CF(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},SZ=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function _Z(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var AF=e=>e.graphicalItems.cartesianItems,U4e=Ie([qr,tD],_Z),EZ=(e,t,n)=>e.filter(n).filter(r=>t?.includeHidden===!0?!0:!r.hide),V0=Ie([AF,Ao,U4e],EZ,{memoizeOptions:{resultEqualityCheck:iD}}),DZ=Ie([V0],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(nD)),MZ=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),W4e=Ie([V0],MZ),TZ=e=>e.map(t=>t.data).filter(Boolean).flat(1),$4e=Ie([V0],TZ,{memoizeOptions:{resultEqualityCheck:iD}}),RZ=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:o}=t;return e.length>0?e:n.slice(r,o+1)},SF=Ie([$4e,fF],RZ),PZ=(e,t,n)=>t?.dataKey!=null?e.map(r=>({value:Ki(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(o=>({value:Ki(o,r)}))):e.map(r=>({value:r})),oD=Ie([SF,Ao,V0],PZ);function IZ(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function sS(e){if(uc(e)||e instanceof Date){var t=Number(e);if(Rr(t))return t}}function CV(e){if(Array.isArray(e)){var t=[sS(e[0]),sS(e[1])];return Bh(t)?t:void 0}var n=sS(e);if(n!=null)return[n,n]}function qd(e){return e.map(sS).filter(IMe)}function q4e(e,t,n){return!n||typeof t!="number"||tl(t)?[]:n.length?qd(n.flatMap(r=>{var o=Ki(e,r.dataKey),a,l;if(Array.isArray(o)?[a,l]=o:a=l=o,!(!Rr(a)||!Rr(l)))return[t-a,t+l]})):[]}var Yr=e=>{var t=Kr(e),n=uv(e);return H0(e,t,n)},G0=Ie([Yr],e=>e?.dataKey),K4e=Ie([DZ,fF,Yr],kZ),NZ=(e,t,n,r)=>{var o={},a=t.reduce((l,d)=>(d.stackId==null||(l[d.stackId]==null&&(l[d.stackId]=[]),l[d.stackId].push(d)),l),o);return Object.fromEntries(Object.entries(a).map(l=>{var[d,f]=l,m=r?[...f].reverse():f,v=m.map(kF);return[d,{stackedData:aPe(e,v,n),graphicalItems:m}]}))},VI=Ie([K4e,DZ,XE,gZ],NZ),OZ=(e,t,n,r)=>{var{dataStartIndex:o,dataEndIndex:a}=t;if(r==null&&n!=="zAxis"){var l=hPe(e,o,a);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},Y4e=Ie([Ao],e=>e.allowDataOverflow),_F=e=>{var t;if(e==null||!("domain"in e))return HI;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var n=qd(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:HI},FZ=Ie([Ao],_F),LZ=Ie([FZ,Y4e],JQ),Q4e=Ie([VI,Qh,qr,LZ],OZ,{memoizeOptions:{resultEqualityCheck:rD}}),EF=e=>e.errorBars,Z4e=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>IZ(n,r)),S_=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var o=n.filter(Boolean);if(o.length!==0){var a=o.flat(),l=Math.min(...a),d=Math.max(...a);return[l,d]}},BZ=(e,t,n,r,o)=>{var a,l;if(n.length>0&&e.forEach(d=>{n.forEach(f=>{var m,v,C=(m=r[f.id])===null||m===void 0?void 0:m.filter(N=>IZ(o,N)),y=Ki(d,(v=t.dataKey)!==null&&v!==void 0?v:f.dataKey),S=q4e(d,y,C);if(S.length>=2){var E=Math.min(...S),T=Math.max(...S);(a==null||E<a)&&(a=E),(l==null||T>l)&&(l=T)}var P=CV(y);P!=null&&(a=a==null?P[0]:Math.min(a,P[0]),l=l==null?P[1]:Math.max(l,P[1]))})}),t?.dataKey!=null&&e.forEach(d=>{var f=CV(Ki(d,t.dataKey));f!=null&&(a=a==null?f[0]:Math.min(a,f[0]),l=l==null?f[1]:Math.max(l,f[1]))}),Rr(a)&&Rr(l))return[a,l]},X4e=Ie([SF,Ao,W4e,EF,qr],BZ,{memoizeOptions:{resultEqualityCheck:rD}});function J4e(e){var{value:t}=e;if(uc(t)||t instanceof Date)return t}var e3e=(e,t,n)=>{var r=e.map(J4e).filter(o=>o!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&ZK(r))?vQ(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},jZ=e=>e.referenceElements.dots,hv=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),t3e=Ie([jZ,qr,tD],hv),zZ=e=>e.referenceElements.areas,n3e=Ie([zZ,qr,tD],hv),HZ=e=>e.referenceElements.lines,r3e=Ie([HZ,qr,tD],hv),VZ=(e,t)=>{var n=qd(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},i3e=Ie(t3e,qr,VZ),GZ=(e,t)=>{var n=qd(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},o3e=Ie([n3e,qr],GZ);function s3e(e){var t;if(e.x!=null)return qd([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return n==null||n.length===0?[]:qd(n)}function a3e(e){var t;if(e.y!=null)return qd([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return n==null||n.length===0?[]:qd(n)}var UZ=(e,t)=>{var n=e.flatMap(r=>t==="xAxis"?s3e(r):a3e(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},l3e=Ie([r3e,qr],UZ),c3e=Ie(i3e,l3e,o3e,(e,t,n)=>S_(e,n,t)),WZ=(e,t,n,r,o,a,l,d)=>{if(n!=null)return n;var f=l==="vertical"&&d==="xAxis"||l==="horizontal"&&d==="yAxis",m=f?S_(r,a,o):S_(a,o);return C4e(t,m,e.allowDataOverflow)},d3e=Ie([Ao,FZ,LZ,Q4e,X4e,c3e,Pn,qr],WZ,{memoizeOptions:{resultEqualityCheck:rD}}),u3e=[0,1],$Z=(e,t,n,r,o,a,l)=>{if(!((e==null||n==null||n.length===0)&&l===void 0)){var{dataKey:d,type:f}=e,m=ag(t,a);if(m&&d==null){var v;return vQ(0,(v=n?.length)!==null&&v!==void 0?v:0)}return f==="category"?e3e(r,e,m):o==="expand"?u3e:l}},DF=Ie([Ao,Pn,SF,oD,XE,qr,d3e],$Z),qZ=(e,t,n,r,o)=>{if(e!=null){var{scale:a,type:l}=e;if(a==="auto")return t==="radial"&&o==="radiusAxis"?"band":t==="radial"&&o==="angleAxis"?"linear":l==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":l==="category"?"band":"linear";if(typeof a=="string"){var d="scale".concat(T0(a));return d in vy?d:"point"}}},U0=Ie([Ao,Pn,SZ,mF,qr],qZ);function h3e(e){if(e!=null){if(e in vy)return vy[e]();var t="scale".concat(T0(e));if(t in vy)return vy[t]()}}function MF(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var o=h3e(t);if(o!=null){var a=o.domain(n).range(r);return nPe(a),a}}}var KZ=(e,t,n)=>{var r=_F(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Bh(e))return M4e(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Bh(e))return T4e(e,t.tickCount,t.allowDecimals)}},TF=Ie([DF,H0,U0],KZ),YZ=(e,t,n,r)=>{if(r!=="angleAxis"&&e?.type==="number"&&Bh(t)&&Array.isArray(n)&&n.length>0){var o=t[0],a=n[0],l=t[1],d=n[n.length-1];return[Math.min(o,a),Math.max(l,d)]}return t},f3e=Ie([Ao,DF,TF,qr],YZ),p3e=Ie(oD,Ao,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(qd(e.map(d=>d.value))).sort((d,f)=>d-f);if(r.length<2)return 1/0;var o=r[r.length-1]-r[0];if(o===0)return 1/0;for(var a=0;a<r.length-1;a++){var l=r[a+1]-r[a];n=Math.min(n,l)}return n/o}}),QZ=Ie(p3e,Pn,pZ,li,(e,t,n,r)=>r,(e,t,n,r,o)=>{if(!Rr(e))return 0;var a=t==="vertical"?r.height:r.width;if(o==="gap")return e*a/2;if(o==="no-gap"){var l=nl(n,e*a),d=e*a/2;return d-l-(d-l)/a*l}return 0}),g3e=(e,t)=>{var n=ru(e,t);return n==null||typeof n.padding!="string"?0:QZ(e,"xAxis",t,n.padding)},m3e=(e,t)=>{var n=iu(e,t);return n==null||typeof n.padding!="string"?0:QZ(e,"yAxis",t,n.padding)},b3e=Ie(ru,g3e,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:o}=e;return typeof o=="string"?{left:t,right:t}:{left:((n=o.left)!==null&&n!==void 0?n:0)+t,right:((r=o.right)!==null&&r!==void 0?r:0)+t}}),v3e=Ie(iu,m3e,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:o}=e;return typeof o=="string"?{top:t,bottom:t}:{top:((n=o.top)!==null&&n!==void 0?n:0)+t,bottom:((r=o.bottom)!==null&&r!==void 0?r:0)+t}}),w3e=Ie([li,b3e,jE,BE,(e,t,n)=>n],(e,t,n,r,o)=>{var{padding:a}=r;return o?[a.left,n.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),C3e=Ie([li,Pn,v3e,jE,BE,(e,t,n)=>n],(e,t,n,r,o,a)=>{var{padding:l}=o;return a?[r.height-l.bottom,l.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),W0=(e,t,n,r)=>{var o;switch(t){case"xAxis":return w3e(e,n,r);case"yAxis":return C3e(e,n,r);case"zAxis":return(o=xF(e,n))===null||o===void 0?void 0:o.range;case"angleAxis":return wZ(e);case"radiusAxis":return CZ(e,n);default:return}},ZZ=Ie([Ao,W0],JE),fv=Ie([Ao,U0,f3e,ZZ],MF);Ie([V0,EF,qr],Z4e);function XZ(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var sD=(e,t)=>t,aD=(e,t,n)=>n,y3e=Ie(FE,sD,aD,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(XZ)),k3e=Ie(LE,sD,aD,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(XZ)),JZ=(e,t)=>({width:e.width,height:t.height}),x3e=(e,t)=>{var n=typeof t.width=="number"?t.width:O0;return{width:n,height:e.height}},eX=Ie(li,ru,JZ),A3e=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},S3e=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},_3e=Ie(tu,li,y3e,sD,aD,(e,t,n,r,o)=>{var a={},l;return n.forEach(d=>{var f=JZ(t,d);l==null&&(l=A3e(t,r,e));var m=r==="top"&&!o||r==="bottom"&&o;a[d.id]=l-Number(m)*f.height,l+=(m?-1:1)*f.height}),a}),E3e=Ie(eu,li,k3e,sD,aD,(e,t,n,r,o)=>{var a={},l;return n.forEach(d=>{var f=x3e(t,d);l==null&&(l=S3e(t,r,e));var m=r==="left"&&!o||r==="right"&&o;a[d.id]=l-Number(m)*f.width,l+=(m?-1:1)*f.width}),a}),D3e=(e,t)=>{var n=ru(e,t);if(n!=null)return _3e(e,n.orientation,n.mirror)},M3e=Ie([li,ru,D3e,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var o=n?.[r];return o==null?{x:e.left,y:0}:{x:e.left,y:o}}}),T3e=(e,t)=>{var n=iu(e,t);if(n!=null)return E3e(e,n.orientation,n.mirror)},R3e=Ie([li,iu,T3e,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var o=n?.[r];return o==null?{x:0,y:e.top}:{x:o,y:e.top}}}),tX=Ie(li,iu,(e,t)=>{var n=typeof t.width=="number"?t.width:O0;return{width:n,height:e.height}}),yV=(e,t,n)=>{switch(t){case"xAxis":return eX(e,n).width;case"yAxis":return tX(e,n).height;default:return}},nX=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:o,type:a,dataKey:l}=n,d=ag(e,r),f=t.map(m=>m.value);if(l&&d&&a==="category"&&o&&ZK(f))return f}},RF=Ie([Pn,oD,Ao,qr],nX),rX=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:o,scale:a}=n,l=ag(e,r);if(l&&(o==="number"||a!=="auto"))return t.map(d=>d.value)}},PF=Ie([Pn,oD,H0,qr],rX),kV=Ie([Pn,G4e,U0,fv,RF,PF,W0,TF,qr],(e,t,n,r,o,a,l,d,f)=>{if(t!=null){var m=ag(e,f);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:f,categoricalDomain:a,duplicateDomain:o,isCategorical:m,niceTicks:d,range:l,realScaleType:n,scale:r}}}),P3e=(e,t,n,r,o,a,l,d,f)=>{if(!(t==null||r==null)){var m=ag(e,f),{type:v,ticks:C,tickCount:y}=t,S=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,E=v==="category"&&r.bandwidth?r.bandwidth()/S:0;E=f==="angleAxis"&&a!=null&&a.length>=2?$o(a[0]-a[1])*2*E:E;var T=C||o;if(T){var P=T.map((N,j)=>{var L=l?l.indexOf(N):N;return{index:j,coordinate:r(L)+E,value:N,offset:E}});return P.filter(N=>Rr(N.coordinate))}return m&&d?d.map((N,j)=>({coordinate:r(N)+E,value:N,index:j,offset:E})).filter(N=>Rr(N.coordinate)):r.ticks?r.ticks(y).map(N=>({coordinate:r(N)+E,value:N,offset:E})):r.domain().map((N,j)=>({coordinate:r(N)+E,value:l?l[N]:N,index:j,offset:E}))}},iX=Ie([Pn,H0,U0,fv,TF,W0,RF,PF,qr],P3e),I3e=(e,t,n,r,o,a,l)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var d=ag(e,l),{tickCount:f}=t,m=0;return m=l==="angleAxis"&&r?.length>=2?$o(r[0]-r[1])*2*m:m,d&&a?a.map((v,C)=>({coordinate:n(v)+m,value:v,index:C,offset:m})):n.ticks?n.ticks(f).map(v=>({coordinate:n(v)+m,value:v,offset:m})):n.domain().map((v,C)=>({coordinate:n(v)+m,value:o?o[v]:v,index:C,offset:m}))}},Vb=Ie([Pn,H0,fv,W0,RF,PF,qr],I3e),Gb=Ie(Ao,fv,(e,t)=>{if(!(e==null||t==null))return A_(A_({},e),{},{scale:t})}),N3e=Ie([Ao,U0,DF,ZZ],MF);Ie((e,t,n)=>xF(e,n),N3e,(e,t)=>{if(!(e==null||t==null))return A_(A_({},e),{},{scale:t})});var O3e=Ie([Pn,FE,LE],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),oX=e=>e.options.defaultTooltipEventType,sX=e=>e.options.validateTooltipEventTypes;function aX(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function IF(e,t){var n=oX(e),r=sX(e);return aX(t,n,r)}function F3e(e){return ut(t=>IF(t,e))}var lX=(e,t)=>{var n,r=Number(t);if(!(tl(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},L3e=e=>e.tooltip.settings,Dh={active:!1,index:null,dataKey:void 0,coordinate:void 0},B3e={itemInteraction:{click:Dh,hover:Dh},axisInteraction:{click:Dh,hover:Dh},keyboardInteraction:Dh,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},cX=Jo({name:"tooltip",initialState:B3e,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:tr()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,o=Za(e).tooltipItemPayloads.indexOf(n);o>-1&&(e.tooltipItemPayloads[o]=r)},prepare:tr()},removeTooltipEntrySettings:{reducer(e,t){var n=Za(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:tr()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:j3e,replaceTooltipEntrySettings:z3e,removeTooltipEntrySettings:H3e,setTooltipSettingsState:V3e,setActiveMouseOverItemIndex:dX,mouseLeaveItem:G3e,mouseLeaveChart:uX,setActiveClickItemIndex:U3e,setMouseOverAxisIndex:hX,setMouseClickAxisIndex:W3e,setSyncInteraction:GI,setKeyboardInteraction:UI}=cX.actions,$3e=cX.reducer;function xV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function k1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xV(Object(n),!0).forEach(function(r){q3e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xV(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function q3e(e,t,n){return(t=K3e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function K3e(e){var t=Y3e(e,"string");return typeof t=="symbol"?t:t+""}function Y3e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Q3e(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function Z3e(e){return e.index!=null}var fX=(e,t,n,r)=>{if(t==null)return Dh;var o=Q3e(e,t,n);if(o==null)return Dh;if(o.active)return o;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(Z3e(o)){if(a)return k1(k1({},o),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return k1(k1({},Dh),{},{coordinate:o.coordinate})};function X3e(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function J3e(e,t){var n=X3e(e),r=t[0],o=t[1];if(n===void 0)return!1;var a=Math.min(r,o),l=Math.max(r,o);return n>=a&&n<=l}function eLe(e,t,n){if(n==null||t==null)return!0;var r=Ki(e,t);return r==null||!Bh(n)?!0:J3e(r,n)}var NF=(e,t,n,r)=>{var o=e?.index;if(o==null)return null;var a=Number(o);if(!Rr(a))return o;var l=0,d=1/0;t.length>0&&(d=t.length-1);var f=Math.max(l,Math.min(a,d)),m=t[f];return m==null||eLe(m,n,r)?String(f):null},pX=(e,t,n,r,o,a,l,d)=>{if(!(a==null||d==null)){var f=l[0],m=f==null?void 0:d(f.positions,a);if(m!=null)return m;var v=o?.[Number(a)];if(v)switch(n){case"horizontal":return{x:v.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:v.coordinate}}}},gX=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var o;return n==="hover"?o=e.itemInteraction.hover.dataKey:o=e.itemInteraction.click.dataKey,o==null&&r!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(a=>{var l;return((l=a.settings)===null||l===void 0?void 0:l.dataKey)===o})},$0=e=>e.options.tooltipPayloadSearcher,pv=e=>e.tooltip;function AV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function SV(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AV(Object(n),!0).forEach(function(r){tLe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AV(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tLe(e,t,n){return(t=nLe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nLe(e){var t=rLe(e,"string");return typeof t=="symbol"?t:t+""}function rLe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iLe(e,t){return e??t}var mX=(e,t,n,r,o,a,l)=>{if(!(t==null||a==null)){var{chartData:d,computedData:f,dataStartIndex:m,dataEndIndex:v}=n,C=[];return e.reduce((y,S)=>{var E,{dataDefinedOnItem:T,settings:P}=S,N=iLe(T,d),j=Array.isArray(N)?UY(N,m,v):N,L=(E=P?.dataKey)!==null&&E!==void 0?E:r,V=P?.nameKey,U;if(r&&Array.isArray(j)&&!Array.isArray(j[0])&&l==="axis"?U=PMe(j,r,o):U=a(j,t,f,V),Array.isArray(U))U.forEach(z=>{var K=SV(SV({},P),{},{name:z.name,unit:z.unit,color:void 0,fill:void 0});y.push(WH({tooltipEntrySettings:K,dataKey:z.dataKey,payload:z.payload,value:Ki(z.payload,z.dataKey),name:z.name}))});else{var $;y.push(WH({tooltipEntrySettings:P,dataKey:L,payload:U,value:Ki(U,L),name:($=Ki(U,V))!==null&&$!==void 0?$:P?.name}))}return y},C)}},OF=Ie([Yr,Pn,SZ,mF,Kr],qZ),oLe=Ie([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),sLe=Ie([Kr,uv],_Z),q0=Ie([oLe,Yr,sLe],EZ,{memoizeOptions:{resultEqualityCheck:iD}}),aLe=Ie([q0],e=>e.filter(nD)),lLe=Ie([q0],TZ,{memoizeOptions:{resultEqualityCheck:iD}}),gv=Ie([lLe,Qh],RZ),cLe=Ie([aLe,Qh,Yr],kZ),FF=Ie([gv,Yr,q0],PZ),bX=Ie([Yr],_F),dLe=Ie([Yr],e=>e.allowDataOverflow),vX=Ie([bX,dLe],JQ),uLe=Ie([q0],e=>e.filter(nD)),hLe=Ie([cLe,uLe,XE,gZ],NZ),fLe=Ie([hLe,Qh,Kr,vX],OZ),pLe=Ie([q0],MZ),gLe=Ie([gv,Yr,pLe,EF,Kr],BZ,{memoizeOptions:{resultEqualityCheck:rD}}),mLe=Ie([jZ,Kr,uv],hv),bLe=Ie([mLe,Kr],VZ),vLe=Ie([zZ,Kr,uv],hv),wLe=Ie([vLe,Kr],GZ),CLe=Ie([HZ,Kr,uv],hv),yLe=Ie([CLe,Kr],UZ),kLe=Ie([bLe,yLe,wLe],S_),xLe=Ie([Yr,bX,vX,fLe,gLe,kLe,Pn,Kr],WZ),K0=Ie([Yr,Pn,gv,FF,XE,Kr,xLe],$Z),ALe=Ie([K0,Yr,OF],KZ),SLe=Ie([Yr,K0,ALe,Kr],YZ),wX=e=>{var t=Kr(e),n=uv(e),r=!1;return W0(e,t,n,r)},CX=Ie([Yr,wX],JE),yX=Ie([Yr,OF,SLe,CX],MF),_Le=Ie([Pn,FF,Yr,Kr],nX),ELe=Ie([Pn,FF,Yr,Kr],rX),DLe=(e,t,n,r,o,a,l,d)=>{if(t){var{type:f}=t,m=ag(e,d);if(r){var v=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,C=f==="category"&&r.bandwidth?r.bandwidth()/v:0;return C=d==="angleAxis"&&o!=null&&o?.length>=2?$o(o[0]-o[1])*2*C:C,m&&l?l.map((y,S)=>({coordinate:r(y)+C,value:y,index:S,offset:C})):r.domain().map((y,S)=>({coordinate:r(y)+C,value:a?a[y]:y,index:S,offset:C}))}}},ou=Ie([Pn,Yr,OF,yX,wX,_Le,ELe,Kr],DLe),LF=Ie([oX,sX,L3e],(e,t,n)=>aX(n.shared,e,t)),kX=e=>e.tooltip.settings.trigger,BF=e=>e.tooltip.settings.defaultIndex,lD=Ie([pv,LF,kX,BF],fX),Ub=Ie([lD,gv,G0,K0],NF),xX=Ie([ou,Ub],lX),AX=Ie([lD],e=>{if(e)return e.dataKey}),SX=Ie([pv,LF,kX,BF],gX),MLe=Ie([eu,tu,Pn,li,ou,BF,SX,$0],pX),TLe=Ie([lD,MLe],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),RLe=Ie([lD],e=>e.active),PLe=Ie([SX,Ub,Qh,G0,xX,$0,LF],mX);Ie([PLe],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function _V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function EV(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_V(Object(n),!0).forEach(function(r){ILe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_V(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ILe(e,t,n){return(t=NLe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NLe(e){var t=OLe(e,"string");return typeof t=="symbol"?t:t+""}function OLe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var FLe=()=>ut(Yr),LLe=()=>{var e=FLe(),t=ut(ou),n=ut(yX);return i_(!e||!n?void 0:EV(EV({},e),{},{scale:n}),t)};function DV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Jm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DV(Object(n),!0).forEach(function(r){BLe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DV(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function BLe(e,t,n){return(t=jLe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jLe(e){var t=zLe(e,"string");return typeof t=="symbol"?t:t+""}function zLe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var HLe=(e,t,n,r)=>{var o=t.find(a=>a&&a.index===n);if(o){if(e==="horizontal")return{x:o.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:o.coordinate}}return{x:0,y:0}},VLe=(e,t,n,r)=>{var o=t.find(m=>m&&m.index===n);if(o){if(e==="centric"){var a=o.coordinate,{radius:l}=r;return Jm(Jm(Jm({},r),yi(r.cx,r.cy,l,a)),{},{angle:a,radius:l})}var d=o.coordinate,{angle:f}=r;return Jm(Jm(Jm({},r),yi(r.cx,r.cy,d,f)),{},{angle:f,radius:d})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function GLe(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var _X=(e,t,n,r,o)=>{var a,l=-1,d=(a=t?.length)!==null&&a!==void 0?a:0;if(d<=1||e==null)return 0;if(r==="angleAxis"&&o!=null&&Math.abs(Math.abs(o[1]-o[0])-360)<=1e-6)for(var f=0;f<d;f++){var m=f>0?n[f-1].coordinate:n[d-1].coordinate,v=n[f].coordinate,C=f>=d-1?n[0].coordinate:n[f+1].coordinate,y=void 0;if($o(v-m)!==$o(C-v)){var S=[];if($o(C-v)===$o(o[1]-o[0])){y=C;var E=v+o[1]-o[0];S[0]=Math.min(E,(E+m)/2),S[1]=Math.max(E,(E+m)/2)}else{y=m;var T=C+o[1]-o[0];S[0]=Math.min(v,(T+v)/2),S[1]=Math.max(v,(T+v)/2)}var P=[Math.min(v,(y+v)/2),Math.max(v,(y+v)/2)];if(e>P[0]&&e<=P[1]||e>=S[0]&&e<=S[1]){({index:l}=n[f]);break}}else{var N=Math.min(m,C),j=Math.max(m,C);if(e>(N+v)/2&&e<=(j+v)/2){({index:l}=n[f]);break}}}else if(t){for(var L=0;L<d;L++)if(L===0&&e<=(t[L].coordinate+t[L+1].coordinate)/2||L>0&&L<d-1&&e>(t[L].coordinate+t[L-1].coordinate)/2&&e<=(t[L].coordinate+t[L+1].coordinate)/2||L===d-1&&e>(t[L].coordinate+t[L-1].coordinate)/2){({index:l}=t[L]);break}}return l},ULe=()=>ut(mF),jF=(e,t)=>t,EX=(e,t,n)=>n,zF=(e,t,n,r)=>r,WLe=Ie(ou,e=>EE(e,t=>t.coordinate)),HF=Ie([pv,jF,EX,zF],fX),VF=Ie([HF,gv,G0,K0],NF),$Le=(e,t,n)=>{if(t!=null){var r=pv(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},DX=Ie([pv,jF,EX,zF],gX),__=Ie([eu,tu,Pn,li,ou,zF,DX,$0],pX),qLe=Ie([HF,__],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),MX=Ie([ou,VF],lX),KLe=Ie([DX,VF,Qh,G0,MX,$0,jF],mX),YLe=Ie([HF,VF],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),QLe=(e,t,n,r,o,a,l)=>{if(!(!e||!n||!r||!o)&&GLe(e,l)){var d=fPe(e,t),f=_X(d,a,o,n,r),m=HLe(t,o,f,e);return{activeIndex:String(f),activeCoordinate:m}}},ZLe=(e,t,n,r,o,a,l)=>{if(!(!e||!r||!o||!a||!n)){var d=ONe(e,n);if(d){var f=pPe(d,t),m=_X(f,l,a,r,o),v=VLe(t,a,m,d);return{activeIndex:String(m),activeCoordinate:v}}}},XLe=(e,t,n,r,o,a,l,d)=>{if(!(!e||!t||!r||!o||!a))return t==="horizontal"||t==="vertical"?QLe(e,t,r,o,a,l,d):ZLe(e,t,n,r,o,a,l)},JLe=Ie(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElementId:r.elementId}}),e5e=Ie(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(vo)),n=Array.from(new Set(t));return n.sort((r,o)=>r-o)},{memoizeOptions:{resultEqualityCheck:B4e}});function MV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function TV(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?MV(Object(n),!0).forEach(function(r){t5e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MV(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function t5e(e,t,n){return(t=n5e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function n5e(e){var t=r5e(e,"string");return typeof t=="symbol"?t:t+""}function r5e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var i5e={},o5e={zIndexMap:Object.values(vo).reduce((e,t)=>TV(TV({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),i5e)},s5e=new Set(Object.values(vo));function a5e(e){return s5e.has(e)}var TX=Jo({name:"zIndex",initialState:o5e,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:tr()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!a5e(n)&&delete e.zIndexMap[n])},prepare:tr()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:n,elementId:r,isPanorama:o}=t.payload;e.zIndexMap[n]?o?e.zIndexMap[n].panoramaElementId=r:e.zIndexMap[n].elementId=r:e.zIndexMap[n]={consumers:0,elementId:o?void 0:r,panoramaElementId:o?r:void 0}},prepare:tr()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElementId=void 0:e.zIndexMap[n].elementId=void 0)},prepare:tr()}}}),{registerZIndexPortal:l5e,unregisterZIndexPortal:c5e,registerZIndexPortalId:d5e,unregisterZIndexPortalId:u5e}=TX.actions,h5e=TX.reducer;function su(e){var{zIndex:t,children:n}=e,r=qPe(),o=r&&t!==void 0&&t!==0,a=es(),l=fr();M.useLayoutEffect(()=>o?(l(l5e({zIndex:t})),()=>{l(c5e({zIndex:t}))}):R0,[l,t,o]);var d=ut(m=>JLe(m,t,a));if(!o)return n;if(!d)return null;var f=document.getElementById(d);return f?tg.createPortal(n,f):null}function WI(){return WI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},WI.apply(null,arguments)}function RV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function x1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RV(Object(n),!0).forEach(function(r){f5e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RV(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function f5e(e,t,n){return(t=p5e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p5e(e){var t=g5e(e,"string");return typeof t=="symbol"?t:t+""}function g5e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function m5e(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return M.isValidElement(t)?M.cloneElement(t,r):M.createElement(n,r)}function b5e(e){var t,{coordinate:n,payload:r,index:o,offset:a,tooltipAxisBandSize:l,layout:d,cursor:f,tooltipEventType:m,chartName:v}=e,C=n,y=r,S=o;if(!f||!C||v!=="ScatterChart"&&m!=="axis")return null;var E,T,P;if(v==="ScatterChart")E=C,T=QIe,P=vo.cursorLine;else if(v==="BarChart")E=ZIe(d,C,a,l),T=pQ,P=vo.cursorRectangle;else if(d==="radial"&&JK(C)){var{cx:N,cy:j,radius:L,startAngle:V,endAngle:U}=gQ(C);E={cx:N,cy:j,startAngle:V,endAngle:U,innerRadius:L,outerRadius:L},T=bQ,P=vo.cursorLine}else E={points:jNe(d,C,a)},T=cQ,P=vo.cursorLine;var $=typeof f=="object"&&"className"in f?f.className:void 0,z=x1(x1(x1(x1({stroke:"#ccc",pointerEvents:"none"},a),E),mO(f)),{},{payload:y,payloadIndex:S,className:St("recharts-tooltip-cursor",$)});return M.createElement(su,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:P},M.createElement(m5e,{cursor:f,cursorComp:T,cursorProps:z}))}function v5e(e){var t=LLe(),n=eQ(),r=HE(),o=ULe();return t==null||n==null||r==null||o==null?null:M.createElement(b5e,WI({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:o}))}var RX=M.createContext(null),w5e=()=>M.useContext(RX),RR={exports:{}},PV;function C5e(){return PV||(PV=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function o(f,m,v){this.fn=f,this.context=m,this.once=v||!1}function a(f,m,v,C,y){if(typeof v!="function")throw new TypeError("The listener must be a function");var S=new o(v,C||f,y),E=n?n+m:m;return f._events[E]?f._events[E].fn?f._events[E]=[f._events[E],S]:f._events[E].push(S):(f._events[E]=S,f._eventsCount++),f}function l(f,m){--f._eventsCount===0?f._events=new r:delete f._events[m]}function d(){this._events=new r,this._eventsCount=0}d.prototype.eventNames=function(){var m=[],v,C;if(this._eventsCount===0)return m;for(C in v=this._events)t.call(v,C)&&m.push(n?C.slice(1):C);return Object.getOwnPropertySymbols?m.concat(Object.getOwnPropertySymbols(v)):m},d.prototype.listeners=function(m){var v=n?n+m:m,C=this._events[v];if(!C)return[];if(C.fn)return[C.fn];for(var y=0,S=C.length,E=new Array(S);y<S;y++)E[y]=C[y].fn;return E},d.prototype.listenerCount=function(m){var v=n?n+m:m,C=this._events[v];return C?C.fn?1:C.length:0},d.prototype.emit=function(m,v,C,y,S,E){var T=n?n+m:m;if(!this._events[T])return!1;var P=this._events[T],N=arguments.length,j,L;if(P.fn){switch(P.once&&this.removeListener(m,P.fn,void 0,!0),N){case 1:return P.fn.call(P.context),!0;case 2:return P.fn.call(P.context,v),!0;case 3:return P.fn.call(P.context,v,C),!0;case 4:return P.fn.call(P.context,v,C,y),!0;case 5:return P.fn.call(P.context,v,C,y,S),!0;case 6:return P.fn.call(P.context,v,C,y,S,E),!0}for(L=1,j=new Array(N-1);L<N;L++)j[L-1]=arguments[L];P.fn.apply(P.context,j)}else{var V=P.length,U;for(L=0;L<V;L++)switch(P[L].once&&this.removeListener(m,P[L].fn,void 0,!0),N){case 1:P[L].fn.call(P[L].context);break;case 2:P[L].fn.call(P[L].context,v);break;case 3:P[L].fn.call(P[L].context,v,C);break;case 4:P[L].fn.call(P[L].context,v,C,y);break;default:if(!j)for(U=1,j=new Array(N-1);U<N;U++)j[U-1]=arguments[U];P[L].fn.apply(P[L].context,j)}}return!0},d.prototype.on=function(m,v,C){return a(this,m,v,C,!1)},d.prototype.once=function(m,v,C){return a(this,m,v,C,!0)},d.prototype.removeListener=function(m,v,C,y){var S=n?n+m:m;if(!this._events[S])return this;if(!v)return l(this,S),this;var E=this._events[S];if(E.fn)E.fn===v&&(!y||E.once)&&(!C||E.context===C)&&l(this,S);else{for(var T=0,P=[],N=E.length;T<N;T++)(E[T].fn!==v||y&&!E[T].once||C&&E[T].context!==C)&&P.push(E[T]);P.length?this._events[S]=P.length===1?P[0]:P:l(this,S)}return this},d.prototype.removeAllListeners=function(m){var v;return m?(v=n?n+m:m,this._events[v]&&l(this,v)):(this._events=new r,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=n,d.EventEmitter=d,e.exports=d})(RR)),RR.exports}var y5e=C5e();const k5e=fa(y5e);var d0=new k5e,$I="recharts.syncEvent.tooltip",IV="recharts.syncEvent.brush";function x5e(e,t){if(t){var n=Number.parseInt(t,10);if(!tl(n))return e?.[n]}}var A5e={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},PX=Jo({name:"options",initialState:A5e,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),S5e=PX.reducer,{createEventEmitter:_5e}=PX.actions;function E5e(e){return e.tooltip.syncInteraction}var D5e={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},IX=Jo({name:"chartData",initialState:D5e,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:NV,setDataStartEndIndexes:M5e,setComputedData:cqe}=IX.actions,T5e=IX.reducer,R5e=["x","y"];function OV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function eb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OV(Object(n),!0).forEach(function(r){P5e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OV(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function P5e(e,t,n){return(t=I5e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I5e(e){var t=N5e(e,"string");return typeof t=="symbol"?t:t+""}function N5e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function O5e(e,t){if(e==null)return{};var n,r,o=F5e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function F5e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function L5e(){var e=ut(bF),t=ut(vF),n=fr(),r=ut(mZ),o=ut(ou),a=HE(),l=zE(),d=ut(f=>f.rootProps.className);M.useEffect(()=>{if(e==null)return R0;var f=(m,v,C)=>{if(t!==C&&e===m){if(r==="index"){var y;if(l&&v!==null&&v!==void 0&&(y=v.payload)!==null&&y!==void 0&&y.coordinate&&v.payload.sourceViewBox){var S=v.payload.coordinate,{x:E,y:T}=S,P=O5e(S,R5e),{x:N,y:j,width:L,height:V}=v.payload.sourceViewBox,U=eb(eb({},P),{},{x:l.x+(L?(E-N)/L:0)*l.width,y:l.y+(V?(T-j)/V:0)*l.height});n(eb(eb({},v),{},{payload:eb(eb({},v.payload),{},{coordinate:U})}))}else n(v);return}if(o!=null){var $;if(typeof r=="function"){var z={activeTooltipIndex:v.payload.index==null?void 0:Number(v.payload.index),isTooltipActive:v.payload.active,activeIndex:v.payload.index==null?void 0:Number(v.payload.index),activeLabel:v.payload.label,activeDataKey:v.payload.dataKey,activeCoordinate:v.payload.coordinate},K=r(o,z);$=o[K]}else r==="value"&&($=o.find(re=>String(re.value)===v.payload.label));var{coordinate:te}=v.payload;if($==null||v.payload.active===!1||te==null||l==null){n(GI({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:ae,y:X}=te,Z=Math.min(ae,l.x+l.width),se=Math.min(X,l.y+l.height),Q={x:a==="horizontal"?$.coordinate:Z,y:a==="horizontal"?se:$.coordinate},J=GI({active:v.payload.active,coordinate:Q,dataKey:v.payload.dataKey,index:String($.index),label:v.payload.label,sourceViewBox:v.payload.sourceViewBox});n(J)}}};return d0.on($I,f),()=>{d0.off($I,f)}},[d,n,t,e,r,o,a,l])}function B5e(){var e=ut(bF),t=ut(vF),n=fr();M.useEffect(()=>{if(e==null)return R0;var r=(o,a,l)=>{t!==l&&e===o&&n(M5e(a))};return d0.on(IV,r),()=>{d0.off(IV,r)}},[n,t,e])}function j5e(){var e=fr();M.useEffect(()=>{e(_5e())},[e]),L5e(),B5e()}function z5e(e,t,n,r,o,a){var l=ut(S=>$Le(S,e,t)),d=ut(vF),f=ut(bF),m=ut(mZ),v=ut(E5e),C=v?.active,y=zE();M.useEffect(()=>{if(!C&&f!=null&&d!=null){var S=GI({active:a,coordinate:n,dataKey:l,index:o,label:typeof r=="number"?String(r):r,sourceViewBox:y});d0.emit($I,f,S,d)}},[C,n,l,o,r,d,f,m,a,y])}function FV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function LV(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FV(Object(n),!0).forEach(function(r){H5e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FV(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function H5e(e,t,n){return(t=V5e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function V5e(e){var t=G5e(e,"string");return typeof t=="symbol"?t:t+""}function G5e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function U5e(e){return e.dataKey}function W5e(e,t){return M.isValidElement(e)?M.cloneElement(e,t):typeof e=="function"?M.createElement(e,t):M.createElement(DIe,t)}var BV=[],$5e={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!av.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function NX(e){var t,n,r=xo(e,$5e),{active:o,allowEscapeViewBox:a,animationDuration:l,animationEasing:d,content:f,filterNull:m,isAnimationActive:v,offset:C,payloadUniqBy:y,position:S,reverseDirection:E,useTranslate3d:T,wrapperStyle:P,cursor:N,shared:j,trigger:L,defaultIndex:V,portal:U,axisId:$}=r,z=fr(),K=typeof V=="number"?String(V):V;M.useEffect(()=>{z(V3e({shared:j,trigger:L,axisId:$,active:o,defaultIndex:K}))},[z,j,L,$,o,K]);var te=zE(),ae=lQ(),X=F3e(j),{activeIndex:Z,isActive:se}=(t=ut(Ue=>YLe(Ue,X,L,K)))!==null&&t!==void 0?t:{},Q=ut(Ue=>KLe(Ue,X,L,K)),J=ut(Ue=>MX(Ue,X,L,K)),re=ut(Ue=>qLe(Ue,X,L,K)),ee=Q,le=w5e(),ce=(n=o??se)!==null&&n!==void 0?n:!1,[he,ne]=pY([ee,ce]),fe=X==="axis"?J:void 0;z5e(X,L,re,fe,Z,ce);var ve=U??le;if(ve==null||te==null||X==null)return null;var me=ee??BV;ce||(me=BV),m&&me.length&&(me=cY(me.filter(Ue=>Ue.value!=null&&(Ue.hide!==!0||r.includeHidden)),y,U5e));var Oe=me.length>0,_e=M.createElement(OIe,{allowEscapeViewBox:a,animationDuration:l,animationEasing:d,isAnimationActive:v,active:ce,coordinate:re,hasPayload:Oe,offset:C,position:S,reverseDirection:E,useTranslate3d:T,viewBox:te,wrapperStyle:P,lastBoundingBox:he,innerRef:ne,hasPortalFromProps:!!U},W5e(f,LV(LV({},r),{},{payload:me,label:fe,active:ce,activeIndex:Z,coordinate:re,accessibilityLayer:ae})));return M.createElement(M.Fragment,null,tg.createPortal(_e,ve),ce&&M.createElement(v5e,{cursor:N,tooltipEventType:X,coordinate:re,payload:me,index:Z}))}var OX=e=>null;OX.displayName="Cell";function q5e(e,t,n){return(t=K5e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function K5e(e){var t=Y5e(e,"string");return typeof t=="symbol"?t:t+""}function Y5e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Q5e{constructor(t){q5e(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function jV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Z5e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jV(Object(n),!0).forEach(function(r){X5e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jV(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function X5e(e,t,n){return(t=J5e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function J5e(e){var t=eBe(e,"string");return typeof t=="symbol"?t:t+""}function eBe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tBe={cacheSize:2e3,enableCache:!0},FX=Z5e({},tBe),zV=new Q5e(FX.cacheSize),nBe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},HV="recharts_measurement_span";function rBe(e,t){var n=t.fontSize||"",r=t.fontFamily||"",o=t.fontWeight||"",a=t.fontStyle||"",l=t.letterSpacing||"",d=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(o,"|").concat(a,"|").concat(l,"|").concat(d)}var VV=(e,t)=>{try{var n=document.getElementById(HV);n||(n=document.createElement("span"),n.setAttribute("id",HV),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,nBe,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Ry=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||av.isSsr)return{width:0,height:0};if(!FX.enableCache)return VV(t,n);var r=rBe(t,n),o=zV.get(r);if(o)return o;var a=VV(t,n);return zV.set(r,a),a},GV=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,UV=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,iBe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,oBe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,LX={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},sBe=Object.keys(LX),db="NaN";function aBe(e,t){return e*LX[t]}class Uo{static parse(t){var n,[,r,o]=(n=oBe.exec(t))!==null&&n!==void 0?n:[];return new Uo(parseFloat(r),o??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,tl(t)&&(this.unit=""),n!==""&&!iBe.test(n)&&(this.num=NaN,this.unit=""),sBe.includes(n)&&(this.num=aBe(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new Uo(NaN,""):new Uo(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Uo(NaN,""):new Uo(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Uo(NaN,""):new Uo(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Uo(NaN,""):new Uo(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return tl(this.num)}}function BX(e){if(e.includes(db))return db;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,o,a]=(n=GV.exec(t))!==null&&n!==void 0?n:[],l=Uo.parse(r??""),d=Uo.parse(a??""),f=o==="*"?l.multiply(d):l.divide(d);if(f.isNaN())return db;t=t.replace(GV,f.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var m,[,v,C,y]=(m=UV.exec(t))!==null&&m!==void 0?m:[],S=Uo.parse(v??""),E=Uo.parse(y??""),T=C==="+"?S.add(E):S.subtract(E);if(T.isNaN())return db;t=t.replace(UV,T.toString())}return t}var WV=/\(([^()]*)\)/;function lBe(e){for(var t=e,n;(n=WV.exec(t))!=null;){var[,r]=n;t=t.replace(WV,BX(r))}return t}function cBe(e){var t=e.replace(/\s+/g,"");return t=lBe(t),t=BX(t),t}function dBe(e){try{return cBe(e)}catch{return db}}function PR(e){var t=dBe(e.slice(5,-1));return t===db?"":t}var uBe=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],hBe=["dx","dy","angle","className","breakAll"];function qI(){return qI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qI.apply(null,arguments)}function $V(e,t){if(e==null)return{};var n,r,o=fBe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function fBe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var jX=/[ \f\n\r\t\v\u2028\u2029]+/,zX=e=>{var{children:t,breakAll:n,style:r}=e;try{var o=[];ai(t)||(n?o=t.toString().split(""):o=t.toString().split(jX));var a=o.map(d=>({word:d,width:Ry(d,r).width})),l=n?0:Ry("",r).width;return{wordsWithComputedWidth:a,spaceWidth:l}}catch{return null}};function pBe(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var HX=(e,t,n,r)=>e.reduce((o,a)=>{var{word:l,width:d}=a,f=o[o.length-1];if(f&&d!=null&&(t==null||r||f.width+d+n<Number(t)))f.words.push(l),f.width+=d+n;else{var m={words:[l],width:d};o.push(m)}return o},[]),VX=e=>e.reduce((t,n)=>t.width>n.width?t:n),gBe="",qV=(e,t,n,r,o,a,l,d)=>{var f=e.slice(0,t),m=zX({breakAll:n,style:r,children:f+gBe});if(!m)return[!1,[]];var v=HX(m.wordsWithComputedWidth,a,l,d),C=v.length>o||VX(v).width>Number(a);return[C,v]},mBe=(e,t,n,r,o)=>{var{maxLines:a,children:l,style:d,breakAll:f}=e,m=at(a),v=String(l),C=HX(t,r,n,o);if(!m||o)return C;var y=C.length>a||VX(C).width>Number(r);if(!y)return C;for(var S=0,E=v.length-1,T=0,P;S<=E&&T<=v.length-1;){var N=Math.floor((S+E)/2),j=N-1,[L,V]=qV(v,j,f,d,a,r,n,o),[U]=qV(v,N,f,d,a,r,n,o);if(!L&&!U&&(S=N+1),L&&U&&(E=N-1),!L&&U){P=V;break}T++}return P||C},KV=e=>{var t=ai(e)?[]:e.toString().split(jX);return[{words:t,width:void 0}]},bBe=e=>{var{width:t,scaleToFit:n,children:r,style:o,breakAll:a,maxLines:l}=e;if((t||n)&&!av.isSsr){var d,f,m=zX({breakAll:a,children:r,style:o});if(m){var{wordsWithComputedWidth:v,spaceWidth:C}=m;d=v,f=C}else return KV(r);return mBe({breakAll:a,children:r,maxLines:l,style:o},d,f,t,!!n)}return KV(r)},GX="#808080",vBe={angle:0,breakAll:!1,capHeight:"0.71em",fill:GX,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},GF=M.forwardRef((e,t)=>{var n=xo(e,vBe),{x:r,y:o,lineHeight:a,capHeight:l,fill:d,scaleToFit:f,textAnchor:m,verticalAnchor:v}=n,C=$V(n,uBe),y=M.useMemo(()=>bBe({breakAll:C.breakAll,children:C.children,maxLines:C.maxLines,scaleToFit:f,style:C.style,width:C.width}),[C.breakAll,C.children,C.maxLines,f,C.style,C.width]),{dx:S,dy:E,angle:T,className:P,breakAll:N}=C,j=$V(C,hBe);if(!uc(r)||!uc(o)||y.length===0)return null;var L=Number(r)+(at(S)?S:0),V=Number(o)+(at(E)?E:0);if(!Rr(L)||!Rr(V))return null;var U;switch(v){case"start":U=PR("calc(".concat(l,")"));break;case"middle":U=PR("calc(".concat((y.length-1)/2," * -").concat(a," + (").concat(l," / 2))"));break;default:U=PR("calc(".concat(y.length-1," * -").concat(a,")"));break}var $=[];if(f){var z=y[0].width,{width:K}=C;$.push("scale(".concat(at(K)&&at(z)?K/z:1,")"))}return T&&$.push("rotate(".concat(T,", ").concat(L,", ").concat(V,")")),$.length&&(j.transform=$.join(" ")),M.createElement("text",qI({},ca(j),{ref:t,x:L,y:V,className:St("recharts-text",P),textAnchor:m,fill:d.includes("url")?GX:d}),y.map((te,ae)=>{var X=te.words.join(N?"":" ");return M.createElement("tspan",{x:L,dy:ae===0?U:a,key:"".concat(X,"-").concat(ae)},X)}))});GF.displayName="Text";var wBe=["labelRef"];function CBe(e,t){if(e==null)return{};var n,r,o=yBe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function yBe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function YV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function _r(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YV(Object(n),!0).forEach(function(r){kBe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YV(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kBe(e,t,n){return(t=xBe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xBe(e){var t=ABe(e,"string");return typeof t=="symbol"?t:t+""}function ABe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function md(){return md=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},md.apply(null,arguments)}var UX=M.createContext(null),SBe=e=>{var{x:t,y:n,upperWidth:r,lowerWidth:o,width:a,height:l,children:d}=e,f=M.useMemo(()=>({x:t,y:n,upperWidth:r,lowerWidth:o,width:a,height:l}),[t,n,r,o,a,l]);return M.createElement(UX.Provider,{value:f},d)},WX=()=>{var e=M.useContext(UX),t=zE();return e||JY(t)},_Be=M.createContext(null),EBe=()=>{var e=M.useContext(_Be),t=ut(yZ);return e||t},DBe=e=>{var{value:t,formatter:n}=e,r=ai(e.children)?t:e.children;return typeof n=="function"?n(r):r},UF=e=>e!=null&&typeof e=="function",MBe=(e,t)=>{var n=$o(t-e),r=Math.min(Math.abs(t-e),360);return n*r},TBe=(e,t,n,r,o)=>{var{offset:a,className:l}=e,{cx:d,cy:f,innerRadius:m,outerRadius:v,startAngle:C,endAngle:y,clockWise:S}=o,E=(m+v)/2,T=MBe(C,y),P=T>=0?1:-1,N,j;switch(t){case"insideStart":N=C+P*a,j=S;break;case"insideEnd":N=y-P*a,j=!S;break;case"end":N=y+P*a,j=S;break;default:throw new Error("Unsupported position ".concat(t))}j=T<=0?j:!j;var L=yi(d,f,E,N),V=yi(d,f,E,N+(j?1:-1)*359),U="M".concat(L.x,",").concat(L.y,`
    A`).concat(E,",").concat(E,",0,1,").concat(j?0:1,`,
    `).concat(V.x,",").concat(V.y),$=ai(e.id)?Zy("recharts-radial-line-"):e.id;return M.createElement("text",md({},r,{dominantBaseline:"central",className:St("recharts-radial-bar-label",l)}),M.createElement("defs",null,M.createElement("path",{id:$,d:U})),M.createElement("textPath",{xlinkHref:"#".concat($)},n))},RBe=(e,t,n)=>{var{cx:r,cy:o,innerRadius:a,outerRadius:l,startAngle:d,endAngle:f}=e,m=(d+f)/2;if(n==="outside"){var{x:v,y:C}=yi(r,o,l+t,m);return{x:v,y:C,textAnchor:v>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:o,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:o,textAnchor:"middle",verticalAnchor:"end"};var y=(a+l)/2,{x:S,y:E}=yi(r,o,y,m);return{x:S,y:E,textAnchor:"middle",verticalAnchor:"middle"}},KI=e=>"cx"in e&&at(e.cx),PBe=(e,t)=>{var{parentViewBox:n,offset:r,position:o}=e,a;n!=null&&!KI(n)&&(a=n);var{x:l,y:d,upperWidth:f,lowerWidth:m,height:v}=t,C=l,y=l+(f-m)/2,S=(C+y)/2,E=(f+m)/2,T=C+f/2,P=v>=0?1:-1,N=P*r,j=P>0?"end":"start",L=P>0?"start":"end",V=f>=0?1:-1,U=V*r,$=V>0?"end":"start",z=V>0?"start":"end";if(o==="top"){var K={x:C+f/2,y:d-N,textAnchor:"middle",verticalAnchor:j};return _r(_r({},K),a?{height:Math.max(d-a.y,0),width:f}:{})}if(o==="bottom"){var te={x:y+m/2,y:d+v+N,textAnchor:"middle",verticalAnchor:L};return _r(_r({},te),a?{height:Math.max(a.y+a.height-(d+v),0),width:m}:{})}if(o==="left"){var ae={x:S-U,y:d+v/2,textAnchor:$,verticalAnchor:"middle"};return _r(_r({},ae),a?{width:Math.max(ae.x-a.x,0),height:v}:{})}if(o==="right"){var X={x:S+E+U,y:d+v/2,textAnchor:z,verticalAnchor:"middle"};return _r(_r({},X),a?{width:Math.max(a.x+a.width-X.x,0),height:v}:{})}var Z=a?{width:E,height:v}:{};return o==="insideLeft"?_r({x:S+U,y:d+v/2,textAnchor:z,verticalAnchor:"middle"},Z):o==="insideRight"?_r({x:S+E-U,y:d+v/2,textAnchor:$,verticalAnchor:"middle"},Z):o==="insideTop"?_r({x:C+f/2,y:d+N,textAnchor:"middle",verticalAnchor:L},Z):o==="insideBottom"?_r({x:y+m/2,y:d+v-N,textAnchor:"middle",verticalAnchor:j},Z):o==="insideTopLeft"?_r({x:C+U,y:d+N,textAnchor:z,verticalAnchor:L},Z):o==="insideTopRight"?_r({x:C+f-U,y:d+N,textAnchor:$,verticalAnchor:L},Z):o==="insideBottomLeft"?_r({x:y+U,y:d+v-N,textAnchor:z,verticalAnchor:j},Z):o==="insideBottomRight"?_r({x:y+m-U,y:d+v-N,textAnchor:$,verticalAnchor:j},Z):o&&typeof o=="object"&&(at(o.x)||Vd(o.x))&&(at(o.y)||Vd(o.y))?_r({x:l+nl(o.x,E),y:d+nl(o.y,v),textAnchor:"end",verticalAnchor:"end"},Z):_r({x:T,y:d+v/2,textAnchor:"middle",verticalAnchor:"middle"},Z)},IBe={angle:0,offset:5,zIndex:vo.label,position:"middle",textBreakAll:!1};function _h(e){var t=xo(e,IBe),{viewBox:n,position:r,value:o,children:a,content:l,className:d="",textBreakAll:f,labelRef:m}=t,v=EBe(),C=WX(),y=r==="center"?C:v??C,S,E,T;if(n==null?S=y:KI(n)?S=n:S=JY(n),!S||ai(o)&&ai(a)&&!M.isValidElement(l)&&typeof l!="function")return null;var P=_r(_r({},t),{},{viewBox:S});if(M.isValidElement(l)){var{labelRef:N}=P,j=CBe(P,wBe);return M.cloneElement(l,j)}if(typeof l=="function"){if(E=M.createElement(l,P),M.isValidElement(E))return E}else E=DBe(t);var L=ca(t);if(KI(S)){if(r==="insideStart"||r==="insideEnd"||r==="end")return TBe(t,r,E,L,S);T=RBe(S,t.offset,t.position)}else T=PBe(t,S);return M.createElement(su,{zIndex:t.zIndex},M.createElement(GF,md({ref:m,className:St("recharts-label",d)},L,T,{textAnchor:pBe(L.textAnchor)?L.textAnchor:T.textAnchor,breakAll:f}),E))}_h.displayName="Label";var NBe=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?M.createElement(_h,md({key:"label-implicit"},r)):uc(e)?M.createElement(_h,md({key:"label-implicit",value:e},r)):M.isValidElement(e)?e.type===_h?M.cloneElement(e,_r({key:"label-implicit"},r)):M.createElement(_h,md({key:"label-implicit",content:e},r)):UF(e)?M.createElement(_h,md({key:"label-implicit",content:e},r)):e&&typeof e=="object"?M.createElement(_h,md({},e,{key:"label-implicit"},r)):null};function OBe(e){var{label:t,labelRef:n}=e,r=WX();return NBe(t,r,n)||null}var IR={},NR={},QV;function FBe(){return QV||(QV=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(NR)),NR}var OR={},ZV;function LBe(){return ZV||(ZV=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(OR)),OR}var XV;function BBe(){return XV||(XV=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=FBe(),n=LBe(),r=SO();function o(a){if(r.isArrayLike(a))return t.last(n.toArray(a))}e.last=o})(IR)),IR}var FR,JV;function jBe(){return JV||(JV=1,FR=BBe().last),FR}var zBe=jBe();const HBe=fa(zBe);var VBe=["valueAccessor"],GBe=["dataKey","clockWise","id","textBreakAll","zIndex"];function E_(){return E_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},E_.apply(null,arguments)}function e9(e,t){if(e==null)return{};var n,r,o=UBe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function UBe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var WBe=e=>Array.isArray(e.value)?HBe(e.value):e.value,$X=M.createContext(void 0),$Be=$X.Provider,qX=M.createContext(void 0);qX.Provider;function qBe(){return M.useContext($X)}function KBe(){return M.useContext(qX)}function aS(e){var{valueAccessor:t=WBe}=e,n=e9(e,VBe),{dataKey:r,clockWise:o,id:a,textBreakAll:l,zIndex:d}=n,f=e9(n,GBe),m=qBe(),v=KBe(),C=m||v;return!C||!C.length?null:M.createElement(su,{zIndex:d??vo.label},M.createElement(Hd,{className:"recharts-label-list"},C.map((y,S)=>{var E,T=ai(r)?t(y,S):Ki(y&&y.payload,r),P=ai(a)?{}:{id:"".concat(a,"-").concat(S)};return M.createElement(_h,E_({key:"label-".concat(S)},ca(y),f,P,{fill:(E=n.fill)!==null&&E!==void 0?E:y.fill,parentViewBox:y.parentViewBox,value:T,textBreakAll:l,viewBox:y.viewBox,index:S,zIndex:0}))})))}aS.displayName="LabelList";function YBe(e){var{label:t}=e;return t?t===!0?M.createElement(aS,{key:"labelList-implicit"}):M.isValidElement(t)||UF(t)?M.createElement(aS,{key:"labelList-implicit",content:t}):typeof t=="object"?M.createElement(aS,E_({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}var QBe={radiusAxis:{},angleAxis:{}},KX=Jo({name:"polarAxis",initialState:QBe,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:dqe,removeRadiusAxis:uqe,addAngleAxis:hqe,removeAngleAxis:fqe}=KX.actions,ZBe=KX.reducer,LR={exports:{}},In={};var t9;function XBe(){if(t9)return In;t9=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),v=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),y=Symbol.for("react.view_transition"),S=Symbol.for("react.client.reference");function E(T){if(typeof T=="object"&&T!==null){var P=T.$$typeof;switch(P){case e:switch(T=T.type,T){case n:case o:case r:case f:case m:case y:return T;default:switch(T=T&&T.$$typeof,T){case l:case d:case C:case v:return T;case a:return T;default:return P}}case t:return P}}}return In.ContextConsumer=a,In.ContextProvider=l,In.Element=e,In.ForwardRef=d,In.Fragment=n,In.Lazy=C,In.Memo=v,In.Portal=t,In.Profiler=o,In.StrictMode=r,In.Suspense=f,In.SuspenseList=m,In.isContextConsumer=function(T){return E(T)===a},In.isContextProvider=function(T){return E(T)===l},In.isElement=function(T){return typeof T=="object"&&T!==null&&T.$$typeof===e},In.isForwardRef=function(T){return E(T)===d},In.isFragment=function(T){return E(T)===n},In.isLazy=function(T){return E(T)===C},In.isMemo=function(T){return E(T)===v},In.isPortal=function(T){return E(T)===t},In.isProfiler=function(T){return E(T)===o},In.isStrictMode=function(T){return E(T)===r},In.isSuspense=function(T){return E(T)===f},In.isSuspenseList=function(T){return E(T)===m},In.isValidElementType=function(T){return typeof T=="string"||typeof T=="function"||T===n||T===o||T===r||T===f||T===m||typeof T=="object"&&T!==null&&(T.$$typeof===C||T.$$typeof===v||T.$$typeof===l||T.$$typeof===a||T.$$typeof===d||T.$$typeof===S||T.getModuleId!==void 0)},In.typeOf=E,In}var n9;function JBe(){return n9||(n9=1,LR.exports=XBe()),LR.exports}var eje=JBe(),r9=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",i9=null,BR=null,YX=e=>{if(e===i9&&Array.isArray(BR))return BR;var t=[];return M.Children.forEach(e,n=>{ai(n)||(eje.isFragment(n)?t=t.concat(YX(n.props.children)):t.push(n))}),BR=t,i9=e,t};function tje(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(o=>r9(o)):r=[r9(t)],YX(e).forEach(o=>{var a=Nb(o,"type.displayName")||Nb(o,"type.name");a&&r.indexOf(a)!==-1&&n.push(o)}),n}var jR={},o9;function nje(){return o9||(o9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const o=n[Symbol.toStringTag];return o==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${o}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t})(jR)),jR}var zR,s9;function rje(){return s9||(s9=1,zR=nje().isPlainObject),zR}var ije=rje();const oje=fa(ije);function a9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function l9(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?a9(Object(n),!0).forEach(function(r){sje(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a9(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sje(e,t,n){return(t=aje(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aje(e){var t=lje(e,"string");return typeof t=="symbol"?t:t+""}function lje(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function D_(){return D_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},D_.apply(null,arguments)}var c9=(e,t,n,r,o)=>{var a=n-r,l;return l="M ".concat(e,",").concat(t),l+="L ".concat(e+n,",").concat(t),l+="L ".concat(e+n-a/2,",").concat(t+o),l+="L ".concat(e+n-a/2-r,",").concat(t+o),l+="L ".concat(e,",").concat(t," Z"),l},cje={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},dje=e=>{var t=xo(e,cje),{x:n,y:r,upperWidth:o,lowerWidth:a,height:l,className:d}=t,{animationEasing:f,animationDuration:m,animationBegin:v,isUpdateAnimationActive:C}=t,y=M.useRef(null),[S,E]=M.useState(-1),T=M.useRef(o),P=M.useRef(a),N=M.useRef(l),j=M.useRef(n),L=M.useRef(r),V=GO(e,"trapezoid-");if(M.useEffect(()=>{if(y.current&&y.current.getTotalLength)try{var Q=y.current.getTotalLength();Q&&E(Q)}catch{}},[]),n!==+n||r!==+r||o!==+o||a!==+a||l!==+l||o===0&&a===0||l===0)return null;var U=St("recharts-trapezoid",d);if(!C)return M.createElement("g",null,M.createElement("path",D_({},ca(t),{className:U,d:c9(n,r,o,a,l)})));var $=T.current,z=P.current,K=N.current,te=j.current,ae=L.current,X="0px ".concat(S===-1?1:S,"px"),Z="".concat(S,"px 0px"),se=dQ(["strokeDasharray"],m,f);return M.createElement(VO,{animationId:V,key:V,canBegin:S>0,duration:m,easing:f,isActive:C,begin:v},Q=>{var J=vi($,o,Q),re=vi(z,a,Q),ee=vi(K,l,Q),le=vi(te,n,Q),ce=vi(ae,r,Q);y.current&&(T.current=J,P.current=re,N.current=ee,j.current=le,L.current=ce);var he=Q>0?{transition:se,strokeDasharray:Z}:{strokeDasharray:X};return M.createElement("path",D_({},ca(t),{className:U,d:c9(le,ce,J,re,ee),ref:y,style:l9(l9({},he),t.style)}))})},uje=["option","shapeType","propTransformer","activeClassName"];function hje(e,t){if(e==null)return{};var n,r,o=fje(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function fje(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function d9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function M_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?d9(Object(n),!0).forEach(function(r){pje(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d9(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pje(e,t,n){return(t=gje(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gje(e){var t=mje(e,"string");return typeof t=="symbol"?t:t+""}function mje(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bje(e,t){return M_(M_({},t),e)}function vje(e,t){return e==="symbols"}function u9(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return M.createElement(pQ,n);case"trapezoid":return M.createElement(dje,n);case"sector":return M.createElement(bQ,n);case"symbols":if(vje(t))return M.createElement(AO,n);break;case"curve":return M.createElement(cQ,n);default:return null}}function wje(e){return M.isValidElement(e)?e.props:e}function Cje(e){var{option:t,shapeType:n,propTransformer:r=bje,activeClassName:o="recharts-active-shape"}=e,a=hje(e,uje),l;if(M.isValidElement(t))l=M.cloneElement(t,M_(M_({},a),wje(t)));else if(typeof t=="function")l=t(a);else if(oje(t)&&typeof t!="boolean"){var d=r(t,a);l=M.createElement(u9,{shapeType:n,elementProps:d})}else{var f=a;l=M.createElement(u9,{shapeType:n,elementProps:f})}return a.isActive?M.createElement(Hd,{className:o},l):l}var QX=(e,t)=>{var n=fr();return(r,o)=>a=>{e?.(r,o,a),n(dX({activeIndex:String(o),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}},ZX=e=>{var t=fr();return(n,r)=>o=>{e?.(n,r,o),t(G3e())}},XX=(e,t)=>{var n=fr();return(r,o)=>a=>{e?.(r,o,a),n(U3e({activeIndex:String(o),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}};function yje(e){var{tooltipEntrySettings:t}=e,n=fr(),r=es(),o=M.useRef(null);return M.useLayoutEffect(()=>{r||(o.current===null?n(j3e(t)):o.current!==t&&n(z3e({prev:o.current,next:t})),o.current=t)},[t,n,r]),M.useLayoutEffect(()=>()=>{o.current&&(n(H3e(o.current)),o.current=null)},[n]),null}function kje(e){var{legendPayload:t}=e,n=fr(),r=es(),o=M.useRef(null);return M.useLayoutEffect(()=>{r||(o.current===null?n(aIe(t)):o.current!==t&&n(lIe({prev:o.current,next:t})),o.current=t)},[n,r,t]),M.useLayoutEffect(()=>()=>{o.current&&(n(cIe(o.current)),o.current=null)},[n]),null}var HR,xje=()=>{var[e]=M.useState(()=>Zy("uid-"));return e},Aje=(HR=aN.useId)!==null&&HR!==void 0?HR:xje;function JX(e,t){var n=Aje();return t||(e?"".concat(e,"-").concat(n):n)}var Sje=M.createContext(void 0),_je=e=>{var{id:t,type:n,children:r}=e,o=JX("recharts-".concat(n),t);return M.createElement(Sje.Provider,{value:o},r(o))},Eje={cartesianItems:[],polarItems:[]},eJ=Jo({name:"graphicalItems",initialState:Eje,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:tr()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,o=Za(e).cartesianItems.indexOf(n);o>-1&&(e.cartesianItems[o]=r)},prepare:tr()},removeCartesianGraphicalItem:{reducer(e,t){var n=Za(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:tr()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:tr()},removePolarGraphicalItem:{reducer(e,t){var n=Za(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:tr()}}}),{addCartesianGraphicalItem:Dje,replaceCartesianGraphicalItem:Mje,removeCartesianGraphicalItem:Tje,addPolarGraphicalItem:pqe,removePolarGraphicalItem:gqe}=eJ.actions,Rje=eJ.reducer,Pje=e=>{var t=fr(),n=M.useRef(null);return M.useLayoutEffect(()=>{n.current===null?t(Dje(e)):n.current!==e&&t(Mje({prev:n.current,next:e})),n.current=e},[t,e]),M.useLayoutEffect(()=>()=>{n.current&&(t(Tje(n.current)),n.current=null)},[t]),null},Ije=M.memo(Pje);function h9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function f9(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?h9(Object(n),!0).forEach(function(r){Nje(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h9(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Nje(e,t,n){return(t=Oje(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oje(e){var t=Fje(e,"string");return typeof t=="symbol"?t:t+""}function Fje(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Lje={xAxis:{},yAxis:{},zAxis:{}},tJ=Jo({name:"cartesianAxis",initialState:Lje,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:tr()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:tr()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:tr()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:tr()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:tr()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:tr()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:tr()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:tr()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:tr()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,o=e.yAxis[n];if(o){var a=o.widthHistory||[];if(a.length===3&&a[0]===a[2]&&r===a[1]&&r!==o.width&&Math.abs(r-a[0])<=1)return;var l=[...a,r].slice(-3);e.yAxis[n]=f9(f9({},e.yAxis[n]),{},{width:r,widthHistory:l})}}}}),{addXAxis:Bje,replaceXAxis:jje,removeXAxis:zje,addYAxis:Hje,replaceYAxis:Vje,removeYAxis:Gje,addZAxis:mqe,replaceZAxis:bqe,removeZAxis:vqe,updateYAxisWidth:Uje}=tJ.actions,Wje=tJ.reducer,$je=Ie([li],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),qje=Ie([$je,eu,tu],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),nJ=()=>ut(qje),Kje="Invariant failed";function Yje(e,t){throw new Error(Kje)}var Qje=["x","y"];function YI(){return YI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},YI.apply(null,arguments)}function p9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function cy(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?p9(Object(n),!0).forEach(function(r){Zje(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p9(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Zje(e,t,n){return(t=Xje(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xje(e){var t=Jje(e,"string");return typeof t=="symbol"?t:t+""}function Jje(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function e6e(e,t){if(e==null)return{};var n,r,o=t6e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function t6e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function n6e(e,t){var{x:n,y:r}=e,o=e6e(e,Qje),a="".concat(n),l=parseInt(a,10),d="".concat(r),f=parseInt(d,10),m="".concat(t.height||o.height),v=parseInt(m,10),C="".concat(t.width||o.width),y=parseInt(C,10);return cy(cy(cy(cy(cy({},t),o),l?{x:l}:{}),f?{y:f}:{}),{},{height:v,width:y,name:t.name,radius:t.radius})}function T_(e){return M.createElement(Cje,YI({shapeType:"rectangle",propTransformer:n6e,activeClassName:"recharts-active-bar"},e))}var r6e=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,o)=>{if(at(t))return t;var a=at(r)||ai(r);return a?t(r,o):(a||Yje(),n)}},i6e={},rJ=Jo({name:"errorBars",initialState:i6e,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:o}=t.payload;e[n]&&(e[n]=e[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?o:a))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(o=>o.dataKey!==r.dataKey||o.direction!==r.direction))}}}),{addErrorBar:wqe,replaceErrorBar:Cqe,removeErrorBar:yqe}=rJ.actions,o6e=rJ.reducer,s6e=["children"];function a6e(e,t){if(e==null)return{};var n,r,o=l6e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function l6e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var c6e={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},d6e=M.createContext(c6e);function u6e(e){var{children:t}=e,n=a6e(e,s6e);return M.createElement(d6e.Provider,{value:n},t)}function iJ(e,t){var n,r,o=ut(m=>ru(m,e)),a=ut(m=>iu(m,t)),l=(n=o?.allowDataOverflow)!==null&&n!==void 0?n:ii.allowDataOverflow,d=(r=a?.allowDataOverflow)!==null&&r!==void 0?r:oi.allowDataOverflow,f=l||d;return{needClip:f,needClipX:l,needClipY:d}}function h6e(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,o=nJ(),{needClipX:a,needClipY:l,needClip:d}=iJ(t,n);if(!d||!o)return null;var{x:f,y:m,width:v,height:C}=o;return M.createElement("clipPath",{id:"clipPath-".concat(r)},M.createElement("rect",{x:a?f:f-v/2,y:l?m:m-C/2,width:a?v:v*2,height:l?C:C*2}))}function f6e(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&Rr(e.zIndex)?e.zIndex:t}var VR={exports:{}},GR={};var g9;function p6e(){if(g9)return GR;g9=1;var e=Vh();function t(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,o=e.useRef,a=e.useEffect,l=e.useMemo,d=e.useDebugValue;return GR.useSyncExternalStoreWithSelector=function(f,m,v,C,y){var S=o(null);if(S.current===null){var E={hasValue:!1,value:null};S.current=E}else E=S.current;S=l(function(){function P(U){if(!N){if(N=!0,j=U,U=C(U),y!==void 0&&E.hasValue){var $=E.value;if(y($,U))return L=$}return L=U}if($=L,n(j,U))return $;var z=C(U);return y!==void 0&&y($,z)?(j=U,$):(j=U,L=z)}var N=!1,j,L,V=v===void 0?null:v;return[function(){return P(m())},V===null?void 0:function(){return P(V())}]},[m,v,C,y]);var T=r(f,S[0],S[1]);return a(function(){E.hasValue=!0,E.value=T},[T]),d(T),T},GR}var m9;function g6e(){return m9||(m9=1,VR.exports=p6e()),VR.exports}g6e();function m6e(e){e()}function b6e(){let e=null,t=null;return{clear(){e=null,t=null},notify(){m6e(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const o=t={callback:n,next:null,prev:t};return o.prev?o.prev.next=o:e=o,function(){!r||e===null||(r=!1,o.next?o.next.prev=o.prev:t=o.prev,o.prev?o.prev.next=o.next:e=o.next)}}}}var b9={notify(){},get:()=>[]};function v6e(e,t){let n,r=b9,o=0,a=!1;function l(T){v();const P=r.subscribe(T);let N=!1;return()=>{N||(N=!0,P(),C())}}function d(){r.notify()}function f(){E.onStateChange&&E.onStateChange()}function m(){return a}function v(){o++,n||(n=e.subscribe(f),r=b6e())}function C(){o--,n&&o===0&&(n(),n=void 0,r.clear(),r=b9)}function y(){a||(a=!0,v())}function S(){a&&(a=!1,C())}const E={addNestedSub:l,notifyNestedSubs:d,handleChangeWrapper:f,isSubscribed:m,trySubscribe:y,tryUnsubscribe:S,getListeners:()=>r};return E}var w6e=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",C6e=w6e(),y6e=()=>typeof navigator<"u"&&navigator.product==="ReactNative",k6e=y6e(),x6e=()=>C6e||k6e?M.useLayoutEffect:M.useEffect,A6e=x6e();function v9(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function S6e(e,t){if(v9(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(!Object.prototype.hasOwnProperty.call(t,n[o])||!v9(e[n[o]],t[n[o]]))return!1;return!0}var _6e=Symbol.for("react-redux-context"),E6e=typeof globalThis<"u"?globalThis:{};function D6e(){if(!M.createContext)return{};const e=E6e[_6e]??=new Map;let t=e.get(M.createContext);return t||(t=M.createContext(null),e.set(M.createContext,t)),t}var M6e=D6e();function T6e(e){const{children:t,context:n,serverState:r,store:o}=e,a=M.useMemo(()=>{const f=v6e(o);return{store:o,subscription:f,getServerState:r?()=>r:void 0}},[o,r]),l=M.useMemo(()=>o.getState(),[o]);A6e(()=>{const{subscription:f}=a;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),l!==o.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[a,l]);const d=n||M6e;return M.createElement(d.Provider,{value:a},t)}var R6e=T6e,P6e=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function I6e(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function WF(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(P6e.has(r)){if(e[r]==null&&t[r]==null)continue;if(!S6e(e[r],t[r]))return!1}else if(!I6e(e[r],t[r]))return!1;return!0}var N6e=["onMouseEnter","onMouseLeave","onClick"],O6e=["value","background","tooltipPosition"],F6e=["id"],L6e=["onMouseEnter","onClick","onMouseLeave"];function Kd(){return Kd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kd.apply(null,arguments)}function w9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function go(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?w9(Object(n),!0).forEach(function(r){B6e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w9(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function B6e(e,t,n){return(t=j6e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j6e(e){var t=z6e(e,"string");return typeof t=="symbol"?t:t+""}function z6e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function R_(e,t){if(e==null)return{};var n,r,o=H6e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function H6e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var V6e=e=>{var{dataKey:t,name:n,fill:r,legendType:o,hide:a}=e;return[{inactive:a,dataKey:t,type:o,color:r,value:qY(n,t),payload:e}]},G6e=M.memo(e=>{var{dataKey:t,stroke:n,strokeWidth:r,fill:o,name:a,hide:l,unit:d,tooltipType:f}=e,m={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:o,dataKey:t,nameKey:void 0,name:qY(a,t),hide:l,type:f,color:o,unit:d}};return M.createElement(yje,{tooltipEntrySettings:m})});function U6e(e){var t=ut(Ub),{data:n,dataKey:r,background:o,allOtherBarProps:a}=e,{onMouseEnter:l,onMouseLeave:d,onClick:f}=a,m=R_(a,N6e),v=QX(l,r),C=ZX(d),y=XX(f,r);if(!o||n==null)return null;var S=mO(o);return M.createElement(su,{zIndex:f6e(o,vo.barBackground)},n.map((E,T)=>{var{value:P,background:N,tooltipPosition:j}=E,L=R_(E,O6e);if(!N)return null;var V=v(E,T),U=C(E,T),$=y(E,T),z=go(go(go(go(go({option:o,isActive:String(T)===t},L),{},{fill:"#eee"},N),S),_E(m,E,T)),{},{onMouseEnter:V,onMouseLeave:U,onClick:$,dataKey:r,index:T,className:"recharts-bar-background-rectangle"});return M.createElement(T_,Kd({key:"background-bar-".concat(T)},z))}))}function W6e(e){var{showLabels:t,children:n,rects:r}=e,o=r?.map(a=>{var l={x:a.x,y:a.y,width:a.width,lowerWidth:a.width,upperWidth:a.width,height:a.height};return go(go({},l),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:l,fill:a.fill})});return M.createElement($Be,{value:t?o:void 0},n)}function $6e(e){var{shape:t,activeBar:n,baseProps:r,entry:o,index:a,dataKey:l}=e,d=ut(Ub),f=ut(AX),m=n&&String(a)===d&&(f==null||l===f),v=m?n:t;return m?M.createElement(su,{zIndex:vo.activeBar},M.createElement(T_,Kd({},r,{name:String(r.name)},o,{isActive:m,option:v,index:a,dataKey:l}))):M.createElement(T_,Kd({},r,{name:String(r.name)},o,{isActive:m,option:v,index:a,dataKey:l}))}function q6e(e){var{shape:t,baseProps:n,entry:r,index:o,dataKey:a}=e;return M.createElement(T_,Kd({},n,{name:String(n.name)},r,{isActive:!1,option:t,index:o,dataKey:a}))}function K6e(e){var t,{data:n,props:r}=e,o=(t=zd(r))!==null&&t!==void 0?t:{},{id:a}=o,l=R_(o,F6e),{shape:d,dataKey:f,activeBar:m}=r,{onMouseEnter:v,onClick:C,onMouseLeave:y}=r,S=R_(r,L6e),E=QX(v,f),T=ZX(y),P=XX(C,f);return n?M.createElement(M.Fragment,null,n.map((N,j)=>M.createElement(Hd,Kd({key:"rectangle-".concat(N?.x,"-").concat(N?.y,"-").concat(N?.value,"-").concat(j),className:"recharts-bar-rectangle"},_E(S,N,j),{onMouseEnter:E(N,j),onMouseLeave:T(N,j),onClick:P(N,j)}),m?M.createElement($6e,{shape:d,activeBar:m,baseProps:l,entry:N,index:j,dataKey:f}):M.createElement(q6e,{shape:d,baseProps:l,entry:N,index:j,dataKey:f})))):null}function Y6e(e){var{props:t,previousRectanglesRef:n}=e,{data:r,layout:o,isAnimationActive:a,animationBegin:l,animationDuration:d,animationEasing:f,onAnimationEnd:m,onAnimationStart:v}=t,C=n.current,y=GO(t,"recharts-bar-"),[S,E]=M.useState(!1),T=!S,P=M.useCallback(()=>{typeof m=="function"&&m(),E(!1)},[m]),N=M.useCallback(()=>{typeof v=="function"&&v(),E(!0)},[v]);return M.createElement(W6e,{showLabels:T,rects:r},M.createElement(VO,{animationId:y,begin:l,duration:d,isActive:a,easing:f,onAnimationEnd:P,onAnimationStart:N,key:y},j=>{var L=j===1?r:r?.map((V,U)=>{var $=C&&C[U];if($)return go(go({},V),{},{x:vi($.x,V.x,j),y:vi($.y,V.y,j),width:vi($.width,V.width,j),height:vi($.height,V.height,j)});if(o==="horizontal"){var z=vi(0,V.height,j),K=vi(V.stackedBarStart,V.y,j);return go(go({},V),{},{y:K,height:z})}var te=vi(0,V.width,j),ae=vi(V.stackedBarStart,V.x,j);return go(go({},V),{},{width:te,x:ae})});return j>0&&(n.current=L??null),L==null?null:M.createElement(Hd,null,M.createElement(K6e,{props:t,data:L}))}),M.createElement(YBe,{label:t.label}),t.children)}function Q6e(e){var t=M.useRef(null);return M.createElement(Y6e,{previousRectanglesRef:t,props:e})}var oJ=0,Z6e=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:Ki(e,t)}};class X6e extends M.PureComponent{render(){var{hide:t,data:n,dataKey:r,className:o,xAxisId:a,yAxisId:l,needClip:d,background:f,id:m}=this.props;if(t||n==null)return null;var v=St("recharts-bar",o),C=m;return M.createElement(Hd,{className:v,id:m},d&&M.createElement("defs",null,M.createElement(h6e,{clipPathId:C,xAxisId:a,yAxisId:l})),M.createElement(Hd,{className:"recharts-bar-rectangles",clipPath:d?"url(#clipPath-".concat(C,")"):void 0},M.createElement(U6e,{data:n,dataKey:r,background:f,allOtherBarProps:this.props}),M.createElement(Q6e,this.props)))}}var J6e={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:oJ,xAxisId:0,yAxisId:0,zIndex:vo.bar};function eze(e){var{xAxisId:t,yAxisId:n,hide:r,legendType:o,minPointSize:a,activeBar:l,animationBegin:d,animationDuration:f,animationEasing:m,isAnimationActive:v}=e,{needClip:C}=iJ(t,n),y=HE(),S=es(),E=tje(e.children,OX),T=ut(j=>Dze(j,t,n,S,e.id,E));if(y!=="vertical"&&y!=="horizontal")return null;var P,N=T?.[0];return N==null||N.height==null||N.width==null?P=0:P=y==="vertical"?N.height/2:N.width/2,M.createElement(u6e,{xAxisId:t,yAxisId:n,data:T,dataPointFormatter:Z6e,errorBarOffset:P},M.createElement(X6e,Kd({},e,{layout:y,needClip:C,data:T,xAxisId:t,yAxisId:n,hide:r,legendType:o,minPointSize:a,activeBar:l,animationBegin:d,animationDuration:f,animationEasing:m,isAnimationActive:v})))}function tze(e){var{layout:t,barSettings:{dataKey:n,minPointSize:r},pos:o,bandSize:a,xAxis:l,yAxis:d,xAxisTicks:f,yAxisTicks:m,stackedData:v,displayedData:C,offset:y,cells:S,parentViewBox:E,dataStartIndex:T}=e,P=t==="horizontal"?d:l,N=v?P.scale.domain():null,j=cPe({numericAxis:P}),L=P.scale(j);return C.map((V,U)=>{var $,z,K,te,ae,X;v?$=rPe(v[U+T],N):($=Ki(V,n),Array.isArray($)||($=[j,$]));var Z=r6e(r,oJ)($[1],U);if(t==="horizontal"){var se,[Q,J]=[d.scale($[0]),d.scale($[1])];z=VH({axis:l,ticks:f,bandSize:a,offset:o.offset,entry:V,index:U}),K=(se=J??Q)!==null&&se!==void 0?se:void 0,te=o.size;var re=Q-J;if(ae=tl(re)?0:re,X={x:z,y:y.top,width:te,height:y.height},Math.abs(Z)>0&&Math.abs(ae)<Math.abs(Z)){var ee=$o(ae||Z)*(Math.abs(Z)-Math.abs(ae));K-=ee,ae+=ee}}else{var[le,ce]=[l.scale($[0]),l.scale($[1])];if(z=le,K=VH({axis:d,ticks:m,bandSize:a,offset:o.offset,entry:V,index:U}),te=ce-le,ae=o.size,X={x:y.left,y:K,width:y.width,height:ae},Math.abs(Z)>0&&Math.abs(te)<Math.abs(Z)){var he=$o(te||Z)*(Math.abs(Z)-Math.abs(te));te+=he}}if(z==null||K==null||te==null||ae==null)return null;var ne=go(go({},V),{},{stackedBarStart:L,x:z,y:K,width:te,height:ae,value:v?$:$[1],payload:V,background:X,tooltipPosition:{x:z+te/2,y:K+ae/2},parentViewBox:E},S&&S[U]&&S[U].props);return ne}).filter(Boolean)}function nze(e){var t=xo(e,J6e),n=es();return M.createElement(_je,{id:t.id,type:"bar"},r=>M.createElement(M.Fragment,null,M.createElement(kje,{legendPayload:V6e(t)}),M.createElement(G6e,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),M.createElement(Ije,{type:"bar",id:r,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:lPe(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),M.createElement(su,{zIndex:t.zIndex},M.createElement(eze,Kd({},t,{id:r})))))}var $F=M.memo(nze,WF);$F.displayName="Bar";function C9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function A1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?C9(Object(n),!0).forEach(function(r){rze(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C9(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rze(e,t,n){return(t=ize(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ize(e){var t=oze(e,"string");return typeof t=="symbol"?t:t+""}function oze(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sze=(e,t)=>t,aze=(e,t,n)=>n,lze=(e,t,n,r)=>r,cze=(e,t,n,r,o)=>o,Y0=Ie([AF,cze],(e,t)=>e.filter(n=>n.type==="bar").find(n=>n.id===t)),dze=Ie([Y0],e=>e?.maxBarSize),uze=(e,t,n,r,o,a)=>a,y9=(e,t,n)=>{var r=n??e;if(!ai(r))return nl(r,t,0)},hze=Ie([Pn,AF,sze,aze,lze],(e,t,n,r,o)=>t.filter(a=>e==="horizontal"?a.xAxisId===n:a.yAxisId===r).filter(a=>a.isPanorama===o).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),fze=(e,t,n,r)=>{var o=Pn(e);return o==="horizontal"?VI(e,"yAxis",n,r):VI(e,"xAxis",t,r)},pze=(e,t,n)=>{var r=Pn(e);return r==="horizontal"?yV(e,"xAxis",t):yV(e,"yAxis",n)},gze=(e,t,n)=>{var r={},o=e.filter(nD),a=e.filter(m=>m.stackId==null),l=o.reduce((m,v)=>(m[v.stackId]||(m[v.stackId]=[]),m[v.stackId].push(v),m),r),d=Object.entries(l).map(m=>{var[v,C]=m,y=C.map(E=>E.dataKey),S=y9(t,n,C[0].barSize);return{stackId:v,dataKeys:y,barSize:S}}),f=a.map(m=>{var v=[m.dataKey].filter(y=>y!=null),C=y9(t,n,m.barSize);return{stackId:void 0,dataKeys:v,barSize:C}});return[...d,...f]},mze=Ie([hze,P4e,pze],gze),bze=(e,t,n,r,o)=>{var a,l,d=Y0(e,t,n,r,o);if(d!=null){var f=Pn(e),m=fZ(e),{maxBarSize:v}=d,C=ai(v)?m:v,y,S;return f==="horizontal"?(y=Gb(e,"xAxis",t,r),S=Vb(e,"xAxis",t,r)):(y=Gb(e,"yAxis",n,r),S=Vb(e,"yAxis",n,r)),(a=(l=i_(y,S,!0))!==null&&l!==void 0?l:C)!==null&&a!==void 0?a:0}},sJ=(e,t,n,r)=>{var o=Pn(e),a,l;return o==="horizontal"?(a=Gb(e,"xAxis",t,r),l=Vb(e,"xAxis",t,r)):(a=Gb(e,"yAxis",n,r),l=Vb(e,"yAxis",n,r)),i_(a,l)};function vze(e,t,n,r,o){var a=r.length;if(!(a<1)){var l=nl(e,n,0,!0),d,f=[];if(Rr(r[0].barSize)){var m=!1,v=n/a,C=r.reduce((N,j)=>N+(j.barSize||0),0);C+=(a-1)*l,C>=n&&(C-=(a-1)*l,l=0),C>=n&&v>0&&(m=!0,v*=.9,C=a*v);var y=(n-C)/2>>0,S={offset:y-l,size:0};d=r.reduce((N,j)=>{var L,V={stackId:j.stackId,dataKeys:j.dataKeys,position:{offset:S.offset+S.size+l,size:m?v:(L=j.barSize)!==null&&L!==void 0?L:0}},U=[...N,V];return S=U[U.length-1].position,U},f)}else{var E=nl(t,n,0,!0);n-2*E-(a-1)*l<=0&&(l=0);var T=(n-2*E-(a-1)*l)/a;T>1&&(T>>=0);var P=Rr(o)?Math.min(T,o):T;d=r.reduce((N,j,L)=>[...N,{stackId:j.stackId,dataKeys:j.dataKeys,position:{offset:E+(T+l)*L+(T-P)/2,size:P}}],f)}return d}}var wze=(e,t,n,r,o,a,l)=>{var d=ai(l)?t:l,f=vze(n,r,o!==a?o:a,e,d);return o!==a&&f!=null&&(f=f.map(m=>A1(A1({},m),{},{position:A1(A1({},m.position),{},{offset:m.position.offset-o/2})}))),f},Cze=Ie([mze,fZ,R4e,pZ,bze,sJ,dze],wze),yze=(e,t,n,r)=>Gb(e,"xAxis",t,r),kze=(e,t,n,r)=>Gb(e,"yAxis",n,r),xze=(e,t,n,r)=>Vb(e,"xAxis",t,r),Aze=(e,t,n,r)=>Vb(e,"yAxis",n,r),Sze=Ie([Cze,Y0],(e,t)=>{if(!(e==null||t==null)){var n=e.find(r=>r.stackId===t.stackId&&t.dataKey!=null&&r.dataKeys.includes(t.dataKey));if(n!=null)return n.position}}),_ze=(e,t)=>{var n=kF(t);if(!(!e||n==null||t==null)){var{stackId:r}=t;if(r!=null){var o=e[r];if(o){var{stackedData:a}=o;if(a)return a.find(l=>l.key===n)}}}},Eze=Ie([fze,Y0],_ze),Dze=Ie([li,OO,yze,kze,xze,Aze,Sze,Pn,fF,sJ,Eze,Y0,uze],(e,t,n,r,o,a,l,d,f,m,v,C,y)=>{var{chartData:S,dataStartIndex:E,dataEndIndex:T}=f;if(!(C==null||l==null||t==null||d!=="horizontal"&&d!=="vertical"||n==null||r==null||o==null||a==null||m==null)){var{data:P}=C,N;if(P!=null&&P.length>0?N=P:N=S?.slice(E,T+1),N!=null)return tze({layout:d,barSettings:C,pos:l,parentViewBox:t,bandSize:m,xAxis:n,yAxis:r,xAxisTicks:o,yAxisTicks:a,stackedData:v,displayedData:N,offset:e,cells:y,dataStartIndex:E})}}),Mze=e=>{var{chartData:t}=e,n=fr(),r=es();return M.useEffect(()=>r?()=>{}:(n(NV(t)),()=>{n(NV(void 0))}),[t,n,r]),null},k9={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},aJ=Jo({name:"brush",initialState:k9,reducers:{setBrushSettings(e,t){return t.payload==null?k9:t.payload}}}),{setBrushSettings:kqe}=aJ.actions,Tze=aJ.reducer;function Rze(e,t,n){return(t=Pze(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pze(e){var t=Ize(e,"string");return typeof t=="symbol"?t:t+""}function Ize(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class qF{static create(t){return new qF(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(t)+a}default:return this.scale(t)}if(n){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+l}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],o=n[n.length-1];return r<=o?t>=r&&t<=o:t>=o&&t<=r}}Rze(qF,"EPS",1e-4);function Nze(e){return(e%180+180)%180}var Oze=function(t){var{width:n,height:r}=t,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Nze(o),l=a*Math.PI/180,d=Math.atan(r/n),f=l>d&&l<Math.PI-d?r/Math.sin(l):n/Math.cos(l);return Math.abs(f)},Fze={dots:[],areas:[],lines:[]},lJ=Jo({name:"referenceElements",initialState:Fze,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=Za(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=Za(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=Za(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:xqe,removeDot:Aqe,addArea:Sqe,removeArea:_qe,addLine:Eqe,removeLine:Dqe}=lJ.actions,Lze=lJ.reducer,Bze=M.createContext(void 0),jze=e=>{var{children:t}=e,[n]=M.useState("".concat(Zy("recharts"),"-clip")),r=nJ();if(r==null)return null;var{x:o,y:a,width:l,height:d}=r;return M.createElement(Bze.Provider,{value:n},M.createElement("defs",null,M.createElement("clipPath",{id:n},M.createElement("rect",{x:o,y:a,height:d,width:l}))),t)};function cJ(e,t){if(t<1)return[];if(t===1)return e;for(var n=[],r=0;r<e.length;r+=t)n.push(e[r]);return n}function zze(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return Oze(r,n)}function Hze(e,t,n){var r=n==="width",{x:o,y:a,width:l,height:d}=e;return t===1?{start:r?o:a,end:r?o+l:a+d}:{start:r?o+l:a+d,end:r?o:a}}function P_(e,t,n,r,o){if(e*t<e*r||e*t>e*o)return!1;var a=n();return e*(t-e*a/2-r)>=0&&e*(t+e*a/2-o)<=0}function Vze(e,t){return cJ(e,t+1)}function Gze(e,t,n,r,o){for(var a=(r||[]).slice(),{start:l,end:d}=t,f=0,m=1,v=l,C=function(){var E=r?.[f];if(E===void 0)return{v:cJ(r,m)};var T=f,P,N=()=>(P===void 0&&(P=n(E,T)),P),j=E.coordinate,L=f===0||P_(e,j,N,v,d);L||(f=0,v=l,m+=1),L&&(v=j+e*(N()/2+o),f+=m)},y;m<=a.length;)if(y=C(),y)return y.v;return[]}function x9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Gi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?x9(Object(n),!0).forEach(function(r){Uze(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x9(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Uze(e,t,n){return(t=Wze(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wze(e){var t=$ze(e,"string");return typeof t=="symbol"?t:t+""}function $ze(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qze(e,t,n,r,o){for(var a=(r||[]).slice(),l=a.length,{start:d}=t,{end:f}=t,m=function(y){var S=a[y],E,T=()=>(E===void 0&&(E=n(S,y)),E);if(y===l-1){var P=e*(S.coordinate+e*T()/2-f);a[y]=S=Gi(Gi({},S),{},{tickCoord:P>0?S.coordinate-P*e:S.coordinate})}else a[y]=S=Gi(Gi({},S),{},{tickCoord:S.coordinate});if(S.tickCoord!=null){var N=P_(e,S.tickCoord,T,d,f);N&&(f=S.tickCoord-e*(T()/2+o),a[y]=Gi(Gi({},S),{},{isShow:!0}))}},v=l-1;v>=0;v--)m(v);return a}function Kze(e,t,n,r,o,a){var l=(r||[]).slice(),d=l.length,{start:f,end:m}=t;if(a){var v=r[d-1],C=n(v,d-1),y=e*(v.coordinate+e*C/2-m);if(l[d-1]=v=Gi(Gi({},v),{},{tickCoord:y>0?v.coordinate-y*e:v.coordinate}),v.tickCoord!=null){var S=P_(e,v.tickCoord,()=>C,f,m);S&&(m=v.tickCoord-e*(C/2+o),l[d-1]=Gi(Gi({},v),{},{isShow:!0}))}}for(var E=a?d-1:d,T=function(j){var L=l[j],V,U=()=>(V===void 0&&(V=n(L,j)),V);if(j===0){var $=e*(L.coordinate-e*U()/2-f);l[j]=L=Gi(Gi({},L),{},{tickCoord:$<0?L.coordinate-$*e:L.coordinate})}else l[j]=L=Gi(Gi({},L),{},{tickCoord:L.coordinate});if(L.tickCoord!=null){var z=P_(e,L.tickCoord,U,f,m);z&&(f=L.tickCoord+e*(U()/2+o),l[j]=Gi(Gi({},L),{},{isShow:!0}))}},P=0;P<E;P++)T(P);return l}function KF(e,t,n){var{tick:r,ticks:o,viewBox:a,minTickGap:l,orientation:d,interval:f,tickFormatter:m,unit:v,angle:C}=e;if(!o||!o.length||!r)return[];if(at(f)||av.isSsr){var y;return(y=Vze(o,at(f)?f:0))!==null&&y!==void 0?y:[]}var S=[],E=d==="top"||d==="bottom"?"width":"height",T=v&&E==="width"?Ry(v,{fontSize:t,letterSpacing:n}):{width:0,height:0},P=(L,V)=>{var U=typeof m=="function"?m(L.value,V):L.value;return E==="width"?zze(Ry(U,{fontSize:t,letterSpacing:n}),T,C):Ry(U,{fontSize:t,letterSpacing:n})[E]},N=o.length>=2?$o(o[1].coordinate-o[0].coordinate):1,j=Hze(a,N,E);return f==="equidistantPreserveStart"?Gze(N,j,P,o,l):(f==="preserveStart"||f==="preserveStartEnd"?S=Kze(N,j,P,o,l,f==="preserveStartEnd"):S=qze(N,j,P,o,l),S.filter(L=>L.isShow))}var Yze=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:o=0,tickMargin:a=0}=e,l=0;if(t){Array.from(t).forEach(v=>{if(v){var C=v.getBoundingClientRect();C.width>l&&(l=C.width)}});var d=n?n.getBoundingClientRect().width:0,f=o+a,m=l+f+d+(n?r:0);return Math.round(m)}return 0},Qze=["axisLine","width","height","className","hide","ticks","axisType"];function Zze(e,t){if(e==null)return{};var n,r,o=Xze(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Xze(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Qp(){return Qp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qp.apply(null,arguments)}function A9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Or(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?A9(Object(n),!0).forEach(function(r){Jze(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A9(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Jze(e,t,n){return(t=e8e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function e8e(e){var t=t8e(e,"string");return typeof t=="symbol"?t:t+""}function t8e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ed={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:vo.axis};function n8e(e){var{x:t,y:n,width:r,height:o,orientation:a,mirror:l,axisLine:d,otherSvgProps:f}=e;if(!d)return null;var m=Or(Or(Or({},f),zd(d)),{},{fill:"none"});if(a==="top"||a==="bottom"){var v=+(a==="top"&&!l||a==="bottom"&&l);m=Or(Or({},m),{},{x1:t,y1:n+v*o,x2:t+r,y2:n+v*o})}else{var C=+(a==="left"&&!l||a==="right"&&l);m=Or(Or({},m),{},{x1:t+C*r,y1:n,x2:t+C*r,y2:n+o})}return M.createElement("line",Qp({},m,{className:St("recharts-cartesian-axis-line",Nb(d,"className"))}))}function r8e(e,t,n,r,o,a,l,d,f){var m,v,C,y,S,E,T=d?-1:1,P=e.tickSize||l,N=at(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":m=v=e.coordinate,y=n+ +!d*o,C=y-T*P,E=C-T*f,S=N;break;case"left":C=y=e.coordinate,v=t+ +!d*r,m=v-T*P,S=m-T*f,E=N;break;case"right":C=y=e.coordinate,v=t+ +d*r,m=v+T*P,S=m+T*f,E=N;break;default:m=v=e.coordinate,y=n+ +d*o,C=y+T*P,E=C+T*f,S=N;break}return{line:{x1:m,y1:C,x2:v,y2:y},tick:{x:S,y:E}}}function i8e(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function o8e(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function s8e(e){var{option:t,tickProps:n,value:r}=e,o,a=St(n.className,"recharts-cartesian-axis-tick-value");if(M.isValidElement(t))o=M.cloneElement(t,Or(Or({},n),{},{className:a}));else if(typeof t=="function")o=t(Or(Or({},n),{},{className:a}));else{var l="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(l=St(l,t?.className)),o=M.createElement(GF,Qp({},n,{className:l}),r)}return o}var a8e=M.forwardRef((e,t)=>{var{ticks:n=[],tick:r,tickLine:o,stroke:a,tickFormatter:l,unit:d,padding:f,tickTextProps:m,orientation:v,mirror:C,x:y,y:S,width:E,height:T,tickSize:P,tickMargin:N,fontSize:j,letterSpacing:L,getTicksConfig:V,events:U,axisType:$}=e,z=KF(Or(Or({},V),{},{ticks:n}),j,L),K=i8e(v,C),te=o8e(v,C),ae=zd(V),X=mO(r),Z={};typeof o=="object"&&(Z=o);var se=Or(Or({},ae),{},{fill:"none"},Z),Q=z.map(ee=>Or({entry:ee},r8e(ee,y,S,E,T,v,P,C,N))),J=Q.map(ee=>{var{entry:le,line:ce}=ee;return M.createElement(Hd,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(le.value,"-").concat(le.coordinate,"-").concat(le.tickCoord)},o&&M.createElement("line",Qp({},se,ce,{className:St("recharts-cartesian-axis-tick-line",Nb(o,"className"))})))}),re=Q.map((ee,le)=>{var{entry:ce,tick:he}=ee,ne=Or(Or(Or(Or({textAnchor:K,verticalAnchor:te},ae),{},{stroke:"none",fill:a},X),he),{},{index:le,payload:ce,visibleTicksCount:z.length,tickFormatter:l,padding:f},m);return M.createElement(Hd,Qp({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(ce.value,"-").concat(ce.coordinate,"-").concat(ce.tickCoord)},_E(U,ce,le)),r&&M.createElement(s8e,{option:r,tickProps:ne,value:"".concat(typeof l=="function"?l(ce.value,le):ce.value).concat(d||"")}))});return M.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat($,"-ticks")},re.length>0&&M.createElement(su,{zIndex:vo.label},M.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat($,"-tick-labels"),ref:t},re)),J.length>0&&M.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat($,"-tick-lines")},J))}),l8e=M.forwardRef((e,t)=>{var{axisLine:n,width:r,height:o,className:a,hide:l,ticks:d,axisType:f}=e,m=Zze(e,Qze),[v,C]=M.useState(""),[y,S]=M.useState(""),E=M.useRef(null);M.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var P;return Yze({ticks:E.current,label:(P=e.labelRef)===null||P===void 0?void 0:P.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var T=M.useCallback(P=>{if(P){var N=P.getElementsByClassName("recharts-cartesian-axis-tick-value");E.current=N;var j=N[0];if(j){var L=window.getComputedStyle(j),V=L.fontSize,U=L.letterSpacing;(V!==v||U!==y)&&(C(V),S(U))}}},[v,y]);return l||r!=null&&r<=0||o!=null&&o<=0?null:M.createElement(su,{zIndex:e.zIndex},M.createElement(Hd,{className:St("recharts-cartesian-axis",a)},M.createElement(n8e,{x:e.x,y:e.y,width:r,height:o,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:zd(e)}),M.createElement(a8e,{ref:T,axisType:f,events:m,fontSize:v,getTicksConfig:e,height:e.height,letterSpacing:y,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:d,unit:e.unit,width:e.width,x:e.x,y:e.y}),M.createElement(SBe,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},M.createElement(OBe,{label:e.label,labelRef:e.labelRef}),e.children)))}),YF=M.forwardRef((e,t)=>{var n=xo(e,Ed);return M.createElement(l8e,Qp({},n,{ref:t}))});YF.displayName="CartesianAxis";var c8e=["x1","y1","x2","y2","key"],d8e=["offset"],u8e=["xAxisId","yAxisId"],h8e=["xAxisId","yAxisId"];function S9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Wi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?S9(Object(n),!0).forEach(function(r){f8e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S9(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function f8e(e,t,n){return(t=p8e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p8e(e){var t=g8e(e,"string");return typeof t=="symbol"?t:t+""}function g8e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sp(){return Sp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sp.apply(null,arguments)}function I_(e,t){if(e==null)return{};var n,r,o=m8e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function m8e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var b8e=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:o,width:a,height:l,ry:d}=e;return M.createElement("rect",{x:r,y:o,ry:d,width:a,height:l,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function dJ(e){var{option:t,lineItemProps:n}=e,r;if(M.isValidElement(t))r=M.cloneElement(t,n);else if(typeof t=="function")r=t(n);else{var o,{x1:a,y1:l,x2:d,y2:f,key:m}=n,v=I_(n,c8e),C=(o=zd(v))!==null&&o!==void 0?o:{},{offset:y}=C,S=I_(C,d8e);r=M.createElement("line",Sp({},S,{x1:a,y1:l,x2:d,y2:f,fill:"none",key:m}))}return r}function v8e(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:o}=e;if(!r||!o||!o.length)return null;var{xAxisId:a,yAxisId:l}=e,d=I_(e,u8e),f=o.map((m,v)=>{var C=Wi(Wi({},d),{},{x1:t,y1:m,x2:t+n,y2:m,key:"line-".concat(v),index:v});return M.createElement(dJ,{key:"line-".concat(v),option:r,lineItemProps:C})});return M.createElement("g",{className:"recharts-cartesian-grid-horizontal"},f)}function w8e(e){var{y:t,height:n,vertical:r=!0,verticalPoints:o}=e;if(!r||!o||!o.length)return null;var{xAxisId:a,yAxisId:l}=e,d=I_(e,h8e),f=o.map((m,v)=>{var C=Wi(Wi({},d),{},{x1:m,y1:t,x2:m,y2:t+n,key:"line-".concat(v),index:v});return M.createElement(dJ,{option:r,lineItemProps:C,key:"line-".concat(v)})});return M.createElement("g",{className:"recharts-cartesian-grid-vertical"},f)}function C8e(e){var{horizontalFill:t,fillOpacity:n,x:r,y:o,width:a,height:l,horizontalPoints:d,horizontal:f=!0}=e;if(!f||!t||!t.length||d==null)return null;var m=d.map(C=>Math.round(C+o-o)).sort((C,y)=>C-y);o!==m[0]&&m.unshift(0);var v=m.map((C,y)=>{var S=!m[y+1],E=S?o+l-C:m[y+1]-C;if(E<=0)return null;var T=y%t.length;return M.createElement("rect",{key:"react-".concat(y),y:C,x:r,height:E,width:a,stroke:"none",fill:t[T],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return M.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},v)}function y8e(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:o,y:a,width:l,height:d,verticalPoints:f}=e;if(!t||!n||!n.length)return null;var m=f.map(C=>Math.round(C+o-o)).sort((C,y)=>C-y);o!==m[0]&&m.unshift(0);var v=m.map((C,y)=>{var S=!m[y+1],E=S?o+l-C:m[y+1]-C;if(E<=0)return null;var T=y%n.length;return M.createElement("rect",{key:"react-".concat(y),x:C,y:a,width:E,height:d,stroke:"none",fill:n[T],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return M.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},v)}var k8e=(e,t)=>{var{xAxis:n,width:r,height:o,offset:a}=e;return WY(KF(Wi(Wi(Wi({},Ed),n),{},{ticks:$Y(n),viewBox:{x:0,y:0,width:r,height:o}})),a.left,a.left+a.width,t)},x8e=(e,t)=>{var{yAxis:n,width:r,height:o,offset:a}=e;return WY(KF(Wi(Wi(Wi({},Ed),n),{},{ticks:$Y(n),viewBox:{x:0,y:0,width:r,height:o}})),a.top,a.top+a.height,t)},A8e={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:vo.grid};function QF(e){var t=LO(),n=BO(),r=eQ(),o=Wi(Wi({},xo(e,A8e)),{},{x:at(e.x)?e.x:r.left,y:at(e.y)?e.y:r.top,width:at(e.width)?e.width:r.width,height:at(e.height)?e.height:r.height}),{xAxisId:a,yAxisId:l,x:d,y:f,width:m,height:v,syncWithTicks:C,horizontalValues:y,verticalValues:S}=o,E=es(),T=ut(te=>kV(te,"xAxis",a,E)),P=ut(te=>kV(te,"yAxis",l,E));if(!fc(m)||!fc(v)||!at(d)||!at(f))return null;var N=o.verticalCoordinatesGenerator||k8e,j=o.horizontalCoordinatesGenerator||x8e,{horizontalPoints:L,verticalPoints:V}=o;if((!L||!L.length)&&typeof j=="function"){var U=y&&y.length,$=j({yAxis:P?Wi(Wi({},P),{},{ticks:U?y:P.ticks}):void 0,width:t??m,height:n??v,offset:r},U?!0:C);o_(Array.isArray($),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof $,"]")),Array.isArray($)&&(L=$)}if((!V||!V.length)&&typeof N=="function"){var z=S&&S.length,K=N({xAxis:T?Wi(Wi({},T),{},{ticks:z?S:T.ticks}):void 0,width:t??m,height:n??v,offset:r},z?!0:C);o_(Array.isArray(K),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof K,"]")),Array.isArray(K)&&(V=K)}return M.createElement(su,{zIndex:o.zIndex},M.createElement("g",{className:"recharts-cartesian-grid"},M.createElement(b8e,{fill:o.fill,fillOpacity:o.fillOpacity,x:o.x,y:o.y,width:o.width,height:o.height,ry:o.ry}),M.createElement(C8e,Sp({},o,{horizontalPoints:L})),M.createElement(y8e,Sp({},o,{verticalPoints:V})),M.createElement(v8e,Sp({},o,{offset:r,horizontalPoints:L,xAxis:T,yAxis:P})),M.createElement(w8e,Sp({},o,{offset:r,verticalPoints:V,xAxis:T,yAxis:P}))))}QF.displayName="CartesianGrid";var S8e=["domain","range"],_8e=["domain","range"];function _9(e,t){if(e==null)return{};var n,r,o=E8e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function E8e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function E9(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function uJ(e,t){if(e===t)return!0;var{domain:n,range:r}=e,o=_9(e,S8e),{domain:a,range:l}=t,d=_9(t,_8e);return!E9(n,a)||!E9(r,l)?!1:WF(o,d)}var D8e=["dangerouslySetInnerHTML","ticks"],M8e=["id"];function QI(){return QI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},QI.apply(null,arguments)}function D9(e,t){if(e==null)return{};var n,r,o=T8e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function T8e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function R8e(e){var t=fr(),n=M.useRef(null);return M.useLayoutEffect(()=>{n.current===null?t(Bje(e)):n.current!==e&&t(jje({prev:n.current,next:e})),n.current=e},[e,t]),M.useLayoutEffect(()=>()=>{n.current&&(t(zje(n.current)),n.current=null)},[t]),null}var P8e=e=>{var{xAxisId:t,className:n}=e,r=ut(OO),o=es(),a="xAxis",l=ut(P=>fv(P,a,t,o)),d=ut(P=>iX(P,a,t,o)),f=ut(P=>eX(P,t)),m=ut(P=>M3e(P,t)),v=ut(P=>xZ(P,t));if(f==null||m==null||v==null)return null;var{dangerouslySetInnerHTML:C,ticks:y}=e,S=D9(e,D8e),{id:E}=v,T=D9(v,M8e);return M.createElement(YF,QI({},S,T,{scale:l,x:m.x,y:m.y,width:f.width,height:f.height,className:St("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:d,axisType:a}))},I8e={allowDataOverflow:ii.allowDataOverflow,allowDecimals:ii.allowDecimals,allowDuplicatedCategory:ii.allowDuplicatedCategory,angle:ii.angle,axisLine:Ed.axisLine,height:ii.height,hide:!1,includeHidden:ii.includeHidden,interval:ii.interval,minTickGap:ii.minTickGap,mirror:ii.mirror,orientation:ii.orientation,padding:ii.padding,reversed:ii.reversed,scale:ii.scale,tick:ii.tick,tickCount:ii.tickCount,tickLine:Ed.tickLine,tickSize:Ed.tickSize,type:ii.type,xAxisId:0},N8e=e=>{var t=xo(e,I8e);return M.createElement(M.Fragment,null,M.createElement(R8e,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),M.createElement(P8e,t))},ZF=M.memo(N8e,uJ);ZF.displayName="XAxis";var O8e=["dangerouslySetInnerHTML","ticks"],F8e=["id"];function ZI(){return ZI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ZI.apply(null,arguments)}function M9(e,t){if(e==null)return{};var n,r,o=L8e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function L8e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function B8e(e){var t=fr(),n=M.useRef(null);return M.useLayoutEffect(()=>{n.current===null?t(Hje(e)):n.current!==e&&t(Vje({prev:n.current,next:e})),n.current=e},[e,t]),M.useLayoutEffect(()=>()=>{n.current&&(t(Gje(n.current)),n.current=null)},[t]),null}var j8e=e=>{var{yAxisId:t,className:n,width:r,label:o}=e,a=M.useRef(null),l=M.useRef(null),d=ut(OO),f=es(),m=fr(),v="yAxis",C=ut(U=>fv(U,v,t,f)),y=ut(U=>tX(U,t)),S=ut(U=>R3e(U,t)),E=ut(U=>iX(U,v,t,f)),T=ut(U=>AZ(U,t));if(M.useLayoutEffect(()=>{if(!(r!=="auto"||!y||UF(o)||M.isValidElement(o)||T==null)){var U=a.current;if(U){var $=U.getCalculatedWidth();Math.round(y.width)!==Math.round($)&&m(Uje({id:t,width:$}))}}},[E,y,m,o,t,r,T]),y==null||S==null||T==null)return null;var{dangerouslySetInnerHTML:P,ticks:N}=e,j=M9(e,O8e),{id:L}=T,V=M9(T,F8e);return M.createElement(YF,ZI({},j,V,{ref:a,labelRef:l,scale:C,x:S.x,y:S.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:y.width,height:y.height,className:St("recharts-".concat(v," ").concat(v),n),viewBox:d,ticks:E,axisType:v}))},z8e={allowDataOverflow:oi.allowDataOverflow,allowDecimals:oi.allowDecimals,allowDuplicatedCategory:oi.allowDuplicatedCategory,angle:oi.angle,axisLine:Ed.axisLine,hide:!1,includeHidden:oi.includeHidden,interval:oi.interval,minTickGap:oi.minTickGap,mirror:oi.mirror,orientation:oi.orientation,padding:oi.padding,reversed:oi.reversed,scale:oi.scale,tick:oi.tick,tickCount:oi.tickCount,tickLine:Ed.tickLine,tickSize:Ed.tickSize,type:oi.type,width:oi.width,yAxisId:0},H8e=e=>{var t=xo(e,z8e);return M.createElement(M.Fragment,null,M.createElement(B8e,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),M.createElement(j8e,t))},XF=M.memo(H8e,uJ);XF.displayName="YAxis";var V8e=(e,t)=>t,JF=Ie([V8e,Pn,yZ,Kr,CX,ou,WLe,li],XLe),e4=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},hJ=da("mouseClick"),fJ=N0();fJ.startListening({actionCreator:hJ,effect:(e,t)=>{var n=e.payload,r=JF(t.getState(),e4(n));r?.activeIndex!=null&&t.dispatch(W3e({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var XI=da("mouseMove"),pJ=N0(),S1=null;pJ.startListening({actionCreator:XI,effect:(e,t)=>{var n=e.payload;S1!==null&&cancelAnimationFrame(S1);var r=e4(n);S1=requestAnimationFrame(()=>{var o=t.getState(),a=IF(o,o.tooltip.settings.shared);if(a==="axis"){var l=JF(o,r);l?.activeIndex!=null?t.dispatch(hX({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate})):t.dispatch(uX())}S1=null})}});var T9={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},gJ=Jo({name:"rootProps",initialState:T9,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:T9.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),G8e=gJ.reducer,{updateOptions:U8e}=gJ.actions,mJ=Jo({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:Mqe}=mJ.actions,W8e=mJ.reducer,bJ=da("keyDown"),vJ=da("focus"),t4=N0();t4.startListening({actionCreator:bJ,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:o}=n.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var l=NF(o,gv(n),G0(n),K0(n)),d=l==null?-1:Number(l);if(!(!Number.isFinite(d)||d<0)){var f=ou(n);if(a==="Enter"){var m=__(n,"axis","hover",String(o.index));t.dispatch(UI({active:!o.active,activeIndex:o.index,activeDataKey:o.dataKey,activeCoordinate:m}));return}var v=O3e(n),C=v==="left-to-right"?1:-1,y=a==="ArrowRight"?1:-1,S=d+y*C;if(!(f==null||S>=f.length||S<0)){var E=__(n,"axis","hover",String(S));t.dispatch(UI({active:!0,activeIndex:S.toString(),activeDataKey:void 0,activeCoordinate:E}))}}}}}});t4.startListening({actionCreator:vJ,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:o}=n.tooltip;if(!o.active&&o.index==null){var a="0",l=__(n,"axis","hover",String(a));t.dispatch(UI({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:l}))}}}});var Js=da("externalEvent"),wJ=N0(),UR=new Map;wJ.startListening({actionCreator:Js,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(n!=null){r.persist();var o=r.type,a=UR.get(o);a!==void 0&&cancelAnimationFrame(a);var l=requestAnimationFrame(()=>{try{var d=t.getState(),f={activeCoordinate:TLe(d),activeDataKey:AX(d),activeIndex:Ub(d),activeLabel:xX(d),activeTooltipIndex:Ub(d),isTooltipActive:RLe(d)};n(f,r)}finally{UR.delete(o)}});UR.set(o,l)}}});var $8e=Ie([pv],e=>e.tooltipItemPayloads),q8e=Ie([$8e,$0,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var o=e.find(d=>d.settings.dataKey===r);if(o!=null){var{positions:a}=o;if(a!=null){var l=t(a,n);return l}}}),CJ=da("touchMove"),yJ=N0();yJ.startListening({actionCreator:CJ,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),o=IF(r,r.tooltip.settings.shared);if(o==="axis"){var a=JF(r,e4({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));a?.activeIndex!=null&&t.dispatch(hX({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(o==="item"){var l,d=n.touches[0];if(document.elementFromPoint==null)return;var f=document.elementFromPoint(d.clientX,d.clientY);if(!f||!f.getAttribute)return;var m=f.getAttribute(mPe),v=(l=f.getAttribute(bPe))!==null&&l!==void 0?l:void 0,C=q8e(t.getState(),m,v);t.dispatch(dX({activeDataKey:v,activeIndex:m,activeCoordinate:C}))}}}});var K8e=mY({brush:Tze,cartesianAxis:Wje,chartData:T5e,errorBars:o6e,graphicalItems:Rje,layout:ZRe,legend:dIe,options:S5e,polarAxis:ZBe,polarOptions:W8e,referenceElements:Lze,rootProps:G8e,tooltip:$3e,zIndex:h5e}),Y8e=function(t){return kRe({reducer:K8e,preloadedState:t,middleware:n=>{var r;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((r="es6")!==null&&r!==void 0?r:"")}).concat([fJ.middleware,pJ.middleware,t4.middleware,wJ.middleware,yJ.middleware])},enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(RY({type:"raf"}))},devTools:av.devToolsEnabled})};function Q8e(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,o=es(),a=M.useRef(null);if(o)return n;a.current==null&&(a.current=Y8e(t));var l=_O;return M.createElement(R6e,{context:l,store:a.current},n)}function Z8e(e){var{layout:t,margin:n}=e,r=fr(),o=es();return M.useEffect(()=>{o||(r(KRe(t)),r(qRe(n)))},[r,o,t,n]),null}var X8e=M.memo(Z8e,WF);function J8e(e){var t=fr();return M.useEffect(()=>{t(U8e(e))},[t,e]),null}function R9(e){var{zIndex:t,isPanorama:n}=e,r=n?"recharts-zindex-panorama-":"recharts-zindex-",o=JX("".concat(r).concat(t)),a=fr();return M.useLayoutEffect(()=>(a(d5e({zIndex:t,elementId:o,isPanorama:n})),()=>{a(u5e({zIndex:t,isPanorama:n}))}),[a,t,o,n]),M.createElement("g",{id:o})}function P9(e){var{children:t,isPanorama:n}=e,r=ut(e5e);if(!r||r.length===0)return t;var o=r.filter(l=>l<0),a=r.filter(l=>l>0);return M.createElement(M.Fragment,null,o.map(l=>M.createElement(R9,{key:l,zIndex:l,isPanorama:n})),t,a.map(l=>M.createElement(R9,{key:l,zIndex:l,isPanorama:n})))}var eHe=["children"];function tHe(e,t){if(e==null)return{};var n,r,o=nHe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function nHe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function N_(){return N_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},N_.apply(null,arguments)}var rHe={width:"100%",height:"100%",display:"block"},iHe=M.forwardRef((e,t)=>{var n=LO(),r=BO(),o=lQ();if(!fc(n)||!fc(r))return null;var{children:a,otherAttributes:l,title:d,desc:f}=e,m,v;return l!=null&&(typeof l.tabIndex=="number"?m=l.tabIndex:m=o?0:void 0,typeof l.role=="string"?v=l.role:v=o?"application":void 0),M.createElement(bO,N_({},l,{title:d,desc:f,role:v,tabIndex:m,width:n,height:r,style:rHe,ref:t}),a)}),oHe=e=>{var{children:t}=e,n=ut(jE);if(!n)return null;var{width:r,height:o,y:a,x:l}=n;return M.createElement(bO,{width:r,height:o,x:l,y:a},t)},I9=M.forwardRef((e,t)=>{var{children:n}=e,r=tHe(e,eHe),o=es();return o?M.createElement(oHe,null,M.createElement(P9,{isPanorama:!0},n)):M.createElement(iHe,N_({ref:t},r),M.createElement(P9,{isPanorama:!1},n))});function sHe(){var e=fr(),[t,n]=M.useState(null),r=ut(gPe);return M.useEffect(()=>{if(t!=null){var o=t.getBoundingClientRect(),a=o.width/t.offsetWidth;Rr(a)&&a!==r&&e(QRe(a))}},[t,e,r]),n}function N9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function aHe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?N9(Object(n),!0).forEach(function(r){lHe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N9(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lHe(e,t,n){return(t=cHe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cHe(e){var t=dHe(e,"string");return typeof t=="symbol"?t:t+""}function dHe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zp(){return Zp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zp.apply(null,arguments)}var uHe=()=>(j5e(),null);function O_(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var hHe=M.forwardRef((e,t)=>{var n,r,o=M.useRef(null),[a,l]=M.useState({containerWidth:O_((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:O_((r=e.style)===null||r===void 0?void 0:r.height)}),d=M.useCallback((m,v)=>{l(C=>{var y=Math.round(m),S=Math.round(v);return C.containerWidth===y&&C.containerHeight===S?C:{containerWidth:y,containerHeight:S}})},[]),f=M.useCallback(m=>{if(typeof t=="function"&&t(m),m!=null&&typeof ResizeObserver<"u"){var{width:v,height:C}=m.getBoundingClientRect();d(v,C);var y=E=>{var{width:T,height:P}=E[0].contentRect;d(T,P)},S=new ResizeObserver(y);S.observe(m),o.current=S}},[t,d]);return M.useEffect(()=>()=>{var m=o.current;m?.disconnect()},[d]),M.createElement(M.Fragment,null,M.createElement(VE,{width:a.containerWidth,height:a.containerHeight}),M.createElement("div",Zp({ref:f},e)))}),fHe=M.forwardRef((e,t)=>{var{width:n,height:r}=e,[o,a]=M.useState({containerWidth:O_(n),containerHeight:O_(r)}),l=M.useCallback((f,m)=>{a(v=>{var C=Math.round(f),y=Math.round(m);return v.containerWidth===C&&v.containerHeight===y?v:{containerWidth:C,containerHeight:y}})},[]),d=M.useCallback(f=>{if(typeof t=="function"&&t(f),f!=null){var{width:m,height:v}=f.getBoundingClientRect();l(m,v)}},[t,l]);return M.createElement(M.Fragment,null,M.createElement(VE,{width:o.containerWidth,height:o.containerHeight}),M.createElement("div",Zp({ref:d},e)))}),pHe=M.forwardRef((e,t)=>{var{width:n,height:r}=e;return M.createElement(M.Fragment,null,M.createElement(VE,{width:n,height:r}),M.createElement("div",Zp({ref:t},e)))}),gHe=M.forwardRef((e,t)=>{var{width:n,height:r}=e;return Vd(n)||Vd(r)?M.createElement(fHe,Zp({},e,{ref:t})):M.createElement(pHe,Zp({},e,{ref:t}))});function mHe(e){return e===!0?hHe:gHe}var bHe=M.forwardRef((e,t)=>{var{children:n,className:r,height:o,onClick:a,onContextMenu:l,onDoubleClick:d,onMouseDown:f,onMouseEnter:m,onMouseLeave:v,onMouseMove:C,onMouseUp:y,onTouchEnd:S,onTouchMove:E,onTouchStart:T,style:P,width:N,responsive:j,dispatchTouchEvents:L=!0}=e,V=M.useRef(null),U=fr(),[$,z]=M.useState(null),[K,te]=M.useState(null),ae=sHe(),X=FO(),Z=X?.width>0?X.width:N,se=X?.height>0?X.height:o,Q=M.useCallback(Ee=>{ae(Ee),typeof t=="function"&&t(Ee),z(Ee),te(Ee),Ee!=null&&(V.current=Ee)},[ae,t,z,te]),J=M.useCallback(Ee=>{U(hJ(Ee)),U(Js({handler:a,reactEvent:Ee}))},[U,a]),re=M.useCallback(Ee=>{U(XI(Ee)),U(Js({handler:m,reactEvent:Ee}))},[U,m]),ee=M.useCallback(Ee=>{U(uX()),U(Js({handler:v,reactEvent:Ee}))},[U,v]),le=M.useCallback(Ee=>{U(XI(Ee)),U(Js({handler:C,reactEvent:Ee}))},[U,C]),ce=M.useCallback(()=>{U(vJ())},[U]),he=M.useCallback(Ee=>{U(bJ(Ee.key))},[U]),ne=M.useCallback(Ee=>{U(Js({handler:l,reactEvent:Ee}))},[U,l]),fe=M.useCallback(Ee=>{U(Js({handler:d,reactEvent:Ee}))},[U,d]),ve=M.useCallback(Ee=>{U(Js({handler:f,reactEvent:Ee}))},[U,f]),me=M.useCallback(Ee=>{U(Js({handler:y,reactEvent:Ee}))},[U,y]),Oe=M.useCallback(Ee=>{U(Js({handler:T,reactEvent:Ee}))},[U,T]),_e=M.useCallback(Ee=>{L&&U(CJ(Ee)),U(Js({handler:E,reactEvent:Ee}))},[U,L,E]),Ue=M.useCallback(Ee=>{U(Js({handler:S,reactEvent:Ee}))},[U,S]),pt=mHe(j);return M.createElement(RX.Provider,{value:$},M.createElement(IK.Provider,{value:K},M.createElement(pt,{width:Z??P?.width,height:se??P?.height,className:St("recharts-wrapper",r),style:aHe({position:"relative",cursor:"default",width:Z,height:se},P),onClick:J,onContextMenu:ne,onDoubleClick:fe,onFocus:ce,onKeyDown:he,onMouseDown:ve,onMouseEnter:re,onMouseLeave:ee,onMouseMove:le,onMouseUp:me,onTouchEnd:Ue,onTouchMove:_e,onTouchStart:Oe,ref:Q},M.createElement(uHe,null),n)))}),vHe=["width","height","responsive","children","className","style","compact","title","desc"];function wHe(e,t){if(e==null)return{};var n,r,o=CHe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function CHe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var yHe=M.forwardRef((e,t)=>{var{width:n,height:r,responsive:o,children:a,className:l,style:d,compact:f,title:m,desc:v}=e,C=wHe(e,vHe),y=zd(C);return f?M.createElement(M.Fragment,null,M.createElement(VE,{width:n,height:r}),M.createElement(I9,{otherAttributes:y,title:m,desc:v},a)):M.createElement(bHe,{className:l,style:d,width:n,height:r,responsive:o??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},M.createElement(I9,{otherAttributes:y,title:m,desc:v,ref:t},M.createElement(jze,null,a)))});function JI(){return JI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},JI.apply(null,arguments)}var kHe={top:5,right:5,bottom:5,left:5},xHe={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:kHe,reverseStackOrder:!1,syncMethod:"index",responsive:!1},AHe=M.forwardRef(function(t,n){var r,o=xo(t.categoricalChartProps,xHe),{chartName:a,defaultTooltipEventType:l,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,categoricalChartProps:m}=t,v={chartName:a,defaultTooltipEventType:l,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,eventEmitter:void 0};return M.createElement(Q8e,{preloadedState:{options:v},reduxStoreName:(r=m.id)!==null&&r!==void 0?r:a},M.createElement(Mze,{chartData:m.data}),M.createElement(X8e,{layout:o.layout,margin:o.margin}),M.createElement(J8e,{baseValue:o.baseValue,accessibilityLayer:o.accessibilityLayer,barCategoryGap:o.barCategoryGap,maxBarSize:o.maxBarSize,stackOffset:o.stackOffset,barGap:o.barGap,barSize:o.barSize,syncId:o.syncId,syncMethod:o.syncMethod,className:o.className,reverseStackOrder:o.reverseStackOrder}),M.createElement(yHe,JI({},o,{ref:n})))}),SHe=["axis","item"],kJ=M.forwardRef((e,t)=>M.createElement(AHe,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:SHe,tooltipPayloadSearcher:x5e,categoricalChartProps:e,ref:t}));const _He=()=>{const[e,t]=M.useState([]),[n,r]=M.useState([]),[o,a]=M.useState("all"),[l,d]=M.useState(!1),[f,m]=M.useState("today"),[v,C]=M.useState(null),y="https://crm.softwaresetu.com/api";M.useEffect(()=>{S()},[]),M.useEffect(()=>{E()},[o,f]);const S=async()=>{try{const L=await je.get(`${y}/analytics/employees`);L.data.success&&r(L.data.data)}catch(L){console.error("Error fetching employees:",L)}},E=async()=>{d(!0);try{const L={employee_id:o==="all"?null:o,date_range:f},V=await je.get(`${y}/analytics/hourly-calls`,{params:L});V.data.success&&(t(V.data.data),C(V.data.time_range))}catch(L){console.error("Error fetching chart data:",L)}finally{d(!1)}},T=()=>{E()},P=({active:L,payload:V,label:U})=>L&&V&&V.length?A.jsxs("div",{className:"bg-white p-3 border border-gray-300 rounded shadow-lg",children:[A.jsx("p",{className:"font-bold",children:`Time Range: ${V[0].payload.time_range}`}),A.jsxs("p",{className:"text-blue-600 flex items-center gap-2",children:[A.jsx(vS,{className:"w-4 h-4"}),`${V[0].value} Calls`]}),A.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Based on status updates"})]}):null,N=M.useMemo(()=>{if(e.length===0)return null;const L=e.reduce(($,z)=>$+z.call_count,0),V=e.reduce(($,z)=>z.call_count>$.call_count?z:$,{time_range:"",call_count:0}),U=e.length>0?Math.round(L/e.length):0;return{totalCalls:L,peakHour:V.time_range,peakHourCalls:V.call_count,avgPerHour:U}},[e]),j=L=>{if(!L)return"Loading...";const V=L.start_hour,U=L.end_hour,$=z=>{const[K,te]=z.split(":"),ae=parseInt(K),X=ae>=12?"PM":"AM";return`${ae%12||12}:${te} ${X}`};return`${$(V)} - ${$(U)}`};return A.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg",children:[A.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center mb-6 gap-4",children:[A.jsxs("div",{className:"flex items-center gap-3",children:[A.jsx(Ny,{className:"w-6 h-6 text-blue-600"}),A.jsxs("div",{children:[A.jsx("h2",{className:"text-xl font-semibold",children:"Call Activity Analytics"}),v&&A.jsxs("p",{className:"text-sm text-gray-600 flex items-center gap-1",children:[A.jsx(kU,{className:"w-3 h-3"}),"Showing calls from first status update at ",j(v)]})]})]}),A.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full lg:w-auto",children:[A.jsxs("select",{value:o,onChange:L=>a(L.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[A.jsx("option",{value:"all",children:"All Employees"}),n.map(L=>A.jsx("option",{value:L.id,children:L.name},L.id))]}),A.jsxs("select",{value:f,onChange:L=>m(L.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[A.jsx("option",{value:"today",children:"Today"}),A.jsx("option",{value:"week",children:"This Week"}),A.jsx("option",{value:"month",children:"This Month"})]}),A.jsxs("button",{onClick:T,disabled:l,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 transition-colors",children:[A.jsx(xU,{className:`w-4 h-4 ${l?"animate-spin":""}`}),l?"Refreshing...":"Refresh"]})]})]}),v&&A.jsx("div",{className:"mb-6 p-4 bg-blue-50 rounded-lg border border-blue-200",children:A.jsxs("div",{className:"flex items-center gap-3",children:[A.jsx(bS,{className:"w-5 h-5 text-blue-600"}),A.jsxs("div",{children:[A.jsx("p",{className:"font-medium text-blue-800",children:"Call Activity Time Range"}),A.jsxs("p",{className:"text-sm text-blue-600",children:["Showing ",e.length," hours of call activity"]})]})]})}),A.jsx("div",{className:"h-80 w-full",children:l?A.jsx("div",{className:"flex items-center justify-center h-full",children:A.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):e.length>0?A.jsx(XY,{width:"100%",height:"100%",children:A.jsxs(kJ,{data:e,children:[A.jsx(QF,{strokeDasharray:"3 3"}),A.jsx(ZF,{dataKey:"hour",label:{value:"Time Slots (HH:00 - HH:00) - IST",position:"insideBottom",offset:-5}}),A.jsx(XF,{label:{value:"Number of Calls",angle:-90,position:"insideLeft"}}),A.jsx(NX,{content:A.jsx(P,{})}),A.jsx(HO,{}),A.jsx($F,{dataKey:"call_count",name:"Calls (Status Updates)",fill:"#3b82f6",radius:[4,4,0,0]})]})}):A.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:"No call activity data available for selected filters"})}),N&&N.totalCalls>0&&A.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-4 gap-4",children:[A.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[A.jsx("p",{className:"text-sm text-blue-600",children:"Total Calls"}),A.jsx("p",{className:"text-2xl font-bold text-blue-800",children:N.totalCalls}),A.jsxs("p",{className:"text-xs text-blue-600 mt-1 flex items-center gap-1",children:[A.jsx(vS,{className:"w-3 h-3"}),"Status updates today"]})]}),A.jsxs("div",{className:"bg-green-50 p-3 rounded-lg",children:[A.jsx("p",{className:"text-sm text-green-600",children:"Peak Activity"}),A.jsx("p",{className:"text-lg font-bold text-green-800",children:N.peakHour}),A.jsxs("p",{className:"text-xs text-green-600 mt-1",children:[N.peakHourCalls," calls"]})]}),A.jsxs("div",{className:"bg-purple-50 p-3 rounded-lg",children:[A.jsx("p",{className:"text-sm text-purple-600",children:"Avg per Hour"}),A.jsx("p",{className:"text-2xl font-bold text-purple-800",children:N.avgPerHour})]}),A.jsxs("div",{className:"bg-orange-50 p-3 rounded-lg",children:[A.jsx("p",{className:"text-sm text-orange-600",children:"Time Coverage"}),A.jsx("p",{className:"text-lg font-bold text-orange-800",children:v?`${v.start_hour} to ${v.end_hour}`:"N/A"}),A.jsx("p",{className:"text-xs text-orange-600 mt-1",children:"Based on first update"})]})]})]})};Cc.registerModules([qh]);function EHe(){const[e,t]=M.useState(""),{user:n}=nE(),[r,o]=M.useState([]),[a,l]=M.useState(!1),[d,f]=M.useState(null),[m,v]=M.useState(!1),[C,y]=M.useState({Demo:0,FollowUp:0,NotPickedCall:0,Deal:0,Interested:0}),[S,E]=M.useState([]),[T,P]=M.useState(""),[N,j]=M.useState(!1),[L,V]=M.useState([]),[U,$]=M.useState(""),[z,K]=M.useState(null),[te,ae]=M.useState("Follow Up"),[X,Z]=M.useState(!1),se=yn(),Q="https://crm.softwaresetu.com/api",J=M.useMemo(()=>{const ve=[{headerName:"Name",field:"name",sortable:!0,filter:!0},{headerName:"Mobile",field:"mobile",sortable:!0,filter:!0},{headerName:"Status",field:"status",sortable:!0,filter:!0},{headerName:"Created At",field:"created_at",sortable:!0,filter:!0,valueFormatter:me=>me.value?new Date(me.value).toLocaleString():"-"},{headerName:"Updated At",field:"updated_at",sortable:!0,filter:!0,valueFormatter:me=>me.value?new Date(me.value).toLocaleString():"-"},{headerName:"Updated By",field:"updated_by",sortable:!0,filter:!0}];return te==="Demo"?ve.push({headerName:"Demo Date",field:"followup_datetime",sortable:!0,filter:!0,valueFormatter:me=>me.value?new Date(me.value).toLocaleString():"-"}):te==="Follow Up"&&ve.push({headerName:"FollowUp Date",field:"followup_datetime",sortable:!0,filter:!0,valueFormatter:me=>me.value?new Date(me.value).toLocaleString():"-"}),ve},[te]);M.useEffect(()=>{je.get(`${Q}/customers/get-lead-data`).then(ve=>{o(ve.data),E(ve.data.filter(me=>me.status==te))}).catch(ve=>{console.error("Error fetching lead history:",ve)}),je.get(`${Q}/customers/fetch-customer-status`).then(ve=>{const me={Demo:0,FollowUp:0,Deal:0,Interested:0};ve.data.data.forEach(Oe=>{Oe.status==="Demo"&&me.Demo++,Oe.status==="Follow Up"&&me.FollowUp++,Oe.status==="Deal"&&me.Deal++,Oe.status==="Interested"&&me.Interested++}),y(me)}).catch(ve=>{console.error("Error fetching customer status:",ve)})},[]);const re=ve=>{P(ve),E(ve==="All"?r:r.filter(me=>me.status===ve))};M.useEffect(()=>{re(te)},[te]);const ee=[{headerName:"ID",field:"id",width:80},{headerName:"Status",field:"name",flex:1}],le=()=>{d&&(ne(d),f(null),v(!1))},ce=async()=>{try{const ve=await je.get(`${Q}/status`);V(ve.data)}catch(ve){console.error("Error fetching statuses:",ve)}},he=async()=>{if(console.log(U,"newStatus..."),U!=="")try{l(!0),z?await je.put(`${Q}/status/${z.id}`,{name:U}):await je.post(`${Q}/status`,{name:U}),$(""),K(null),ce()}catch(ve){console.error("Error saving status:",ve)}finally{l(!1)}else Ge.warning("Please enter valid status name")},ne=async ve=>{try{l(!0),await je.delete(`${Q}/status/${ve}`),ce()}catch(me){console.error("Error deleting status:",me)}finally{l(!1)}},fe=()=>{j(!0),ce()};return A.jsxs(A.Fragment,{children:[A.jsx(Gh,{role:"admin",children:A.jsxs("div",{className:" bg-gray-50 rounded-md shadow-md p-6",children:[A.jsx("div",{className:"flex justify-end mb-6",children:A.jsxs("button",{onClick:()=>Z(!X),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[A.jsx(pP,{className:"w-5 h-5"}),X?"Hide Analytics":"Show Analytics"]})}),X&&A.jsx("div",{className:"mb-8",children:A.jsx(_He,{})}),A.jsxs("div",{className:"flex flex-wrap gap-6 justify-center",children:[A.jsxs("div",{className:"bg-white rounded-2xl shadow-lg w-48 h-20 p-4 flex items-center justify-center text-center hover:shadow-2xl transition-shadow duration-300 cursor-pointer",onClick:()=>{ae("Demo"),se("/admin-demo")},children:[A.jsx(Yi,{className:"w-8 h-8 text-blue-500 mr-3"}),A.jsxs("div",{className:"flex gap-4 items-start",children:[A.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Demo"}),A.jsx("p",{className:"text-xl font-bold text-gray-800",children:C.Demo})]})]}),A.jsxs("div",{className:"bg-white rounded-2xl shadow-lg w-48 h-20 p-4 flex items-center justify-center text-center hover:shadow-2xl transition-shadow duration-300 cursor-pointer",onClick:()=>{ae("Follow Up"),se("/admin-follow")},children:[A.jsx(Yn,{className:"w-8 h-8 text-green-500 mr-3"}),A.jsxs("div",{className:"flex gap-4 items-start",children:[A.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Followup"}),A.jsx("p",{className:"text-xl font-bold text-gray-800",children:C.FollowUp})]})]}),A.jsxs("div",{className:"bg-white rounded-2xl shadow-lg w-48 h-20 p-4 flex items-center justify-center text-center hover:shadow-2xl transition-shadow duration-300 cursor-pointer",onClick:()=>{ae("Interested"),se("/admin-interested")},children:[A.jsx(Bn,{className:"w-8 h-8 text-pink-500 mr-3"}),A.jsxs("div",{className:"flex gap-4 items-start",children:[A.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Interested"}),A.jsx("p",{className:"text-xl font-bold text-gray-800",children:C.Interested})]})]})]}),A.jsx("div",{className:"mt-5",children:A.jsxs("button",{className:"bg-blue-500 flex items-center p-2 rounded-md gap-2 hover:bg-blue-600",onClick:fe,children:[A.jsx(L2e,{className:"text-white text-xl"}),A.jsx("h1",{className:"text-md text-white",children:"Add Status"})]})}),A.jsxs("div",{className:"mt-10",children:[A.jsxs("div",{className:"flex justify-between items-center mb-4",children:[A.jsx("h2",{className:"text-xl font-bold mb-4",children:T?`${T} Leads`:"History"}),A.jsxs("div",{className:"flex gap-5",children:[A.jsx(Zi,{value:e,onChange:t}),T&&A.jsx("button",{className:"px-4 py-2 bg-gray-700 text-white rounded-lg",onClick:()=>ae("All"),children:"Show All"})]})]}),A.jsx("div",{className:"ag-theme-alpine",style:{height:500,width:"100%"},children:A.jsx(Nn,{rowData:S,columnDefs:J,pagination:!0,paginationPageSize:100,quickFilterText:e})})]})]})}),N&&A.jsx("div",{className:"fixed inset-0  backdrop-blur-sm  bg-opacity-50 flex items-center justify-center z-50",children:A.jsxs("div",{className:"bg-white p-6 rounded-xl w-[700px]",children:[A.jsxs("div",{className:"flex justify-between items-center mb-4",children:[A.jsx("h2",{className:"text-xl font-semibold",children:"STATUS"}),A.jsx("button",{onClick:()=>j(!1),className:"w-8 h-8 flex items-center justify-center rounded-full bg-gray-200 text-black text-lg font-bold hover:bg-gray-400 transition",children:"X"})]}),A.jsxs("div",{className:"flex gap-2 mb-4",children:[A.jsx("input",{type:"text",value:U,onChange:ve=>$(ve.target.value),placeholder:"Enter status name",className:"flex-1 border border-gray-300 p-2 rounded-md"}),A.jsx("button",{onClick:he,disabled:a,className:`px-4 py-2 flex items-center justify-center gap-2 rounded-md text-white ${a?"bg-blue-500 cursor-not-allowed":"bg-blue-500 hover:bg-blue-600"}`,children:a?A.jsxs(A.Fragment,{children:[A.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[A.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),A.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]}),z?"Updating...":"Adding..."]}):z?"Update":"Add"})]}),A.jsx("div",{className:"ag-theme-alpine",style:{height:750},children:A.jsx(Nn,{rowData:L,columnDefs:ee,pagination:!0})})]})}),m&&A.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black/50 z-50",children:A.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg w-80",children:[A.jsx("h2",{className:"text-lg font-semibold mb-4 text-center",children:"Are you sure you want to delete?"}),A.jsxs("div",{className:"flex justify-center gap-4",children:[A.jsx("button",{onClick:()=>v(!1),className:"px-4 py-2 bg-gray-300 rounded-md hover:bg-gray-400",children:"Cancel"}),A.jsx("button",{onClick:le,disabled:a,className:`px-4 py-2 flex items-center justify-center gap-2 rounded-md text-white ${a?"bg-blue-500 cursor-not-allowed":"bg-blue-500 hover:bg-blue-600"}`,children:a?A.jsxs(A.Fragment,{children:[A.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[A.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),A.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8z"})]}),"Deleting..."]}):"Delete"})]})]})})]})}const cD=je.create({baseURL:"http://localhost:5000/api"});cD.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e});Cc.registerModules([qh]);function DHe(){const[e,t]=M.useState(""),[n,r]=M.useState([]),[o,a]=M.useState(0),[l,d]=M.useState(""),[f,m]=M.useState(null),v=yn(),C=M.useRef(null),y="https://crm.softwaresetu.com/api",S=async()=>{try{const{data:P}=await je.get(`${y}/employee/get-active-pending`);r(Array.isArray(P.employees)?P.employees:[]),a(P.totalPendingLeads||0)}catch(P){d(P.response?.data?.message||"Failed to fetch"),r([]),a(0)}};M.useEffect(()=>{S()},[]);const E=M.useMemo(()=>[{headerName:"Name",field:"name",filter:"agTextColumnFilter",flex:1},{headerName:"Email",field:"email",filter:"agTextColumnFilter",flex:1},{headerName:"Mobile",field:"mobile",filter:"agTextColumnFilter",flex:1},{headerName:"Pending Leads",field:"pending_leads_count",filter:"agNumberColumnFilter",cellRenderer:P=>A.jsx("div",{className:`inline-flex items-center px-3 py-0.1 rounded-full text-sm font-medium ${P.value>0?"bg-red-100 text-red-800":"bg-green-100 text-green-800"}`,children:P.value}),minWidth:150,comparator:(P,N)=>P-N},{headerName:"Joined",field:"created_at",valueFormatter:P=>P.value?new Date(P.value).toLocaleDateString():"-",minWidth:150},{headerName:"Action",field:"id",cellRenderer:P=>A.jsxs("div",{className:"flex gap-2",children:[A.jsx("button",{onClick:()=>v(`/employees/${P.value}`),className:"rounded-lg flex items-center gap-1 text-gray-500 hover:text-gray-800",title:"View",children:A.jsx(v0,{size:16})}),A.jsx("button",{onClick:()=>v(`/employees/edit/${P.value}`),className:"rounded-lg flex items-center gap-1 text-gray-500 hover:text-gray-800",title:"Edit",children:A.jsx(ko,{size:16})})]}),minWidth:150}],[v]),T=M.useMemo(()=>({sortable:!0,filter:!0,resizable:!0}),[]);return A.jsx(Gh,{role:"admin",fallback:A.jsx("div",{className:"card p-6",children:"Only admins can view this."}),children:A.jsxs("div",{className:"space-y-6 bg-white p-6 rounded-xl shadow-md",children:[A.jsxs("div",{className:"flex justify-between items-center",children:[A.jsxs("div",{children:[A.jsx("h1",{className:"text-2xl font-semibold",children:"Employees"}),A.jsx("p",{className:"text-gray-600",children:"Manage your team members and their leads"})]}),A.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4 flex items-center gap-3",children:[A.jsx("div",{className:"bg-orange-100 p-2 rounded-full",children:A.jsx(fue,{size:24,className:"text-orange-600"})}),A.jsxs("div",{children:[A.jsx("p",{className:"text-sm text-orange-600 font-medium",children:"Total Pending Leads"}),A.jsx("p",{className:"text-2xl font-bold text-orange-700",children:o})]})]})]}),A.jsxs("div",{className:"flex justify-between items-center",children:[A.jsxs("div",{className:"flex gap-4",children:[A.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white font-semibold rounded-lg shadow hover:bg-blue-700 transition flex items-center gap-2",onClick:()=>v("/employees/status"),children:[A.jsx(Ny,{size:18}),"Status"]}),A.jsxs("button",{className:"px-4 py-2 bg-green-600 text-white font-semibold rounded-lg shadow hover:bg-green-700 transition flex items-center gap-2",onClick:()=>v("/employees/add-employee"),children:[A.jsx(Bn,{size:18}),"Add Employee"]})]}),A.jsx(Zi,{value:e,onChange:t})]}),A.jsx("div",{className:"ag-theme-alpine",style:{height:700,width:"100%"},children:A.jsx(Nn,{ref:C,rowData:n,columnDefs:E,defaultColDef:T,pagination:!0,paginationPageSize:100,animateRows:!0,quickFilterText:e,onRowClicked:P=>m(P.data.id),getRowStyle:P=>P.data.id===f?{backgroundColor:"#f0f9ff",borderLeft:"4px solid #3b82f6",transition:"background-color 0.3s ease"}:null})}),l&&A.jsx("div",{className:"text-red-500",children:l})]})})}function MHe(){const[e,t]=M.useState({name:"",email:"",mobile:"",password:"",salary:"",target:"",joiningDate:""}),[n,r]=M.useState(null),[o,a]=M.useState(null),[l,d]=M.useState(!1),[f,m]=M.useState(""),v=yn(),C="https://crm.softwaresetu.com/api",y=E=>{const T=E.target.files[0];T&&(r(T),a(URL.createObjectURL(T)))},S=async E=>{E.preventDefault(),d(!0),m("");try{const T=new FormData;T.append("name",e.name),T.append("email",e.email),T.append("mobile",e.mobile),T.append("password",e.password),T.append("salary",e.salary),T.append("target",e.target),T.append("joiningDate",e.joiningDate),n&&T.append("avatar",n),await cD.post(`${C}/employee/add`,T,{headers:{"Content-Type":"multipart/form-data"}}),Ge.success("Employee created successfully"),v("/employees")}catch(T){const P=T.response?.data?.message||"Failed to create employee";m(P),Ge.error(P)}finally{d(!1)}};return A.jsx(Gh,{role:"admin",fallback:A.jsx("div",{className:"max-w-md p-6 bg-white rounded-lg shadow-md text-center text-red-600",children:"Only admins can view this."}),children:A.jsxs("div",{className:"max-w-full mx-auto mt-12 bg-white shadow-lg rounded-xl p-8 space-y-6",children:[A.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Add Employee"}),f&&A.jsx("div",{className:"text-red-600 text-center",children:f}),A.jsxs("form",{onSubmit:S,className:"space-y-4",children:[A.jsx("div",{className:"mb-6",children:A.jsxs("label",{className:"block text-sm font-medium text-gray-700 cursor-pointer",children:[A.jsxs("div",{className:"flex items-center space-x-3",children:[o?A.jsx("img",{src:o,alt:"Avatar Preview",className:"w-16 h-16 rounded-full object-cover border"}):A.jsx("div",{className:"w-16 h-16 border-2 border-dashed border-blue-400 flex items-center justify-center rounded-md",children:A.jsx("span",{className:"text-xl",children:"+"})}),A.jsxs("div",{children:[A.jsx("p",{className:"text-sm font-medium",children:"Upload Avatar"}),A.jsx("p",{className:"text-xs text-gray-500",children:"Recommended: 400x400px"})]})]}),A.jsx("input",{type:"file",className:"hidden",onChange:y,disabled:l})]})}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[["name","email","mobile","password","salary","target"].map(E=>A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:E.charAt(0).toUpperCase()+E.slice(1)}),A.jsx("input",{type:E==="password"?"password":"text",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:`Enter ${E}`,value:e[E],onChange:T=>t({...e,[E]:T.target.value}),required:!0})]},E)),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Joining Date"}),A.jsx("input",{type:"date",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",value:e.joiningDate,onChange:E=>t({...e,joiningDate:E.target.value}),required:!0})]})]}),A.jsxs("div",{className:"flex justify-end space-x-4",children:[A.jsx("button",{type:"button",onClick:()=>v("/employees"),disabled:l,className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),A.jsx("button",{type:"submit",disabled:l,className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:l?"Creating...":"Add Employee"})]})]})]})})}function THe(e){return ln({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"m18 9-1.41-1.42L10 14.17l-2.59-2.58L6 13l4 4zm1-6h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-.14 0-.27.01-.4.04a2.008 2.008 0 0 0-1.44 1.19c-.1.23-.16.49-.16.77v14c0 .27.06.54.16.78s.25.45.43.64c.27.27.62.47 1.01.55.13.02.26.03.4.03h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7-.25c.41 0 .75.34.75.75s-.34.75-.75.75-.75-.34-.75-.75.34-.75.75-.75zM19 19H5V5h14v14z"},child:[]}]})(e)}var _1={exports:{}},yh={},WR={exports:{}},$R,O9;function RHe(){if(O9)return $R;O9=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return $R=e,$R}var qR,F9;function PHe(){if(F9)return qR;F9=1;var e=RHe();function t(){}function n(){}return n.resetWarningCache=t,qR=function(){function r(l,d,f,m,v,C){if(C!==e){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}r.isRequired=r;function o(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:o,element:r,elementType:r,instanceOf:o,node:r,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:n,resetWarningCache:t};return a.PropTypes=a,a},qR}var L9;function xJ(){return L9||(L9=1,WR.exports=PHe()()),WR.exports}var E1={exports:{}},Xs={},D1={exports:{}},B9;function AJ(){return B9||(B9=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=v;var n="none",r="contents",o=/^(input|select|textarea|button|object|iframe)$/;function a(C,y){return y.getPropertyValue("overflow")!=="visible"||C.scrollWidth<=0&&C.scrollHeight<=0}function l(C){var y=C.offsetWidth<=0&&C.offsetHeight<=0;if(y&&!C.innerHTML)return!0;try{var S=window.getComputedStyle(C),E=S.getPropertyValue("display");return y?E!==r&&a(C,S):E===n}catch{return console.warn("Failed to inspect element style"),!1}}function d(C){for(var y=C,S=C.getRootNode&&C.getRootNode();y&&y!==document.body;){if(S&&y===S&&(y=S.host.parentNode),l(y))return!1;y=y.parentNode}return!0}function f(C,y){var S=C.nodeName.toLowerCase(),E=o.test(S)&&!C.disabled||S==="a"&&C.href||y;return E&&d(C)}function m(C){var y=C.getAttribute("tabindex");y===null&&(y=void 0);var S=isNaN(y);return(S||y>=0)&&f(C,!S)}function v(C){var y=[].slice.call(C.querySelectorAll("*"),0).reduce(function(S,E){return S.concat(E.shadowRoot?v(E.shadowRoot):[E])},[]);return y.filter(m)}e.exports=t.default})(D1,D1.exports)),D1.exports}var j9;function IHe(){if(j9)return Xs;j9=1,Object.defineProperty(Xs,"__esModule",{value:!0}),Xs.resetState=l,Xs.log=d,Xs.handleBlur=f,Xs.handleFocus=m,Xs.markForFocusLater=v,Xs.returnFocus=C,Xs.popWithoutFocus=y,Xs.setupScopedFocus=S,Xs.teardownScopedFocus=E;var e=AJ(),t=n(e);function n(T){return T&&T.__esModule?T:{default:T}}var r=[],o=null,a=!1;function l(){r=[]}function d(){}function f(){a=!0}function m(){if(a){if(a=!1,!o)return;setTimeout(function(){if(!o.contains(document.activeElement)){var T=(0,t.default)(o)[0]||o;T.focus()}},0)}}function v(){r.push(document.activeElement)}function C(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,P=null;try{r.length!==0&&(P=r.pop(),P.focus({preventScroll:T}));return}catch{console.warn(["You tried to return focus to",P,"but it is not in the DOM anymore"].join(" "))}}function y(){r.length>0&&r.pop()}function S(T){o=T,window.addEventListener?(window.addEventListener("blur",f,!1),document.addEventListener("focus",m,!0)):(window.attachEvent("onBlur",f),document.attachEvent("onFocus",m))}function E(){o=null,window.addEventListener?(window.removeEventListener("blur",f),document.removeEventListener("focus",m)):(window.detachEvent("onBlur",f),document.detachEvent("onFocus",m))}return Xs}var M1={exports:{}},z9;function NHe(){return z9||(z9=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var n=AJ(),r=o(n);function o(d){return d&&d.__esModule?d:{default:d}}function a(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;return d.activeElement.shadowRoot?a(d.activeElement.shadowRoot):d.activeElement}function l(d,f){var m=(0,r.default)(d);if(!m.length){f.preventDefault();return}var v=void 0,C=f.shiftKey,y=m[0],S=m[m.length-1],E=a();if(d===E){if(!C)return;v=S}if(S===E&&!C&&(v=y),y===E&&C&&(v=S),v){f.preventDefault(),v.focus();return}var T=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent),P=T!=null&&T[1]!="Chrome"&&/\biPod\b|\biPad\b/g.exec(navigator.userAgent)==null;if(P){var N=m.indexOf(E);if(N>-1&&(N+=C?-1:1),v=m[N],typeof v>"u"){f.preventDefault(),v=C?S:y,v.focus();return}f.preventDefault(),v.focus()}}e.exports=t.default})(M1,M1.exports)),M1.exports}var Ua={},KR,H9;function OHe(){if(H9)return KR;H9=1;var e=function(){};return KR=e,KR}var Wl={},YR={exports:{}};var V9;function FHe(){return V9||(V9=1,(function(e){(function(){var t=!!(typeof window<"u"&&window.document&&window.document.createElement),n={canUseDOM:t,canUseWorkers:typeof Worker<"u",canUseEventListeners:t&&!!(window.addEventListener||window.attachEvent),canUseViewport:t&&!!window.screen};e.exports?e.exports=n:window.ExecutionEnvironment=n})()})(YR)),YR.exports}var G9;function n4(){if(G9)return Wl;G9=1,Object.defineProperty(Wl,"__esModule",{value:!0}),Wl.canUseDOM=Wl.SafeNodeList=Wl.SafeHTMLCollection=void 0;var e=FHe(),t=n(e);function n(a){return a&&a.__esModule?a:{default:a}}var r=t.default,o=r.canUseDOM?window.HTMLElement:{};return Wl.SafeHTMLCollection=r.canUseDOM?window.HTMLCollection:{},Wl.SafeNodeList=r.canUseDOM?window.NodeList:{},Wl.canUseDOM=r.canUseDOM,Wl.default=o,Wl}var U9;function SJ(){if(U9)return Ua;U9=1,Object.defineProperty(Ua,"__esModule",{value:!0}),Ua.resetState=a,Ua.log=l,Ua.assertNodeList=d,Ua.setElement=f,Ua.validateElement=m,Ua.hide=v,Ua.show=C,Ua.documentNotReadyOrSSRTesting=y;var e=OHe(),t=r(e),n=n4();function r(S){return S&&S.__esModule?S:{default:S}}var o=null;function a(){o&&(o.removeAttribute?o.removeAttribute("aria-hidden"):o.length!=null?o.forEach(function(S){return S.removeAttribute("aria-hidden")}):document.querySelectorAll(o).forEach(function(S){return S.removeAttribute("aria-hidden")})),o=null}function l(){}function d(S,E){if(!S||!S.length)throw new Error("react-modal: No elements were found for selector "+E+".")}function f(S){var E=S;if(typeof E=="string"&&n.canUseDOM){var T=document.querySelectorAll(E);d(T,E),E=T}return o=E||o,o}function m(S){var E=S||o;return E?Array.isArray(E)||E instanceof HTMLCollection||E instanceof NodeList?E:[E]:((0,t.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}function v(S){var E=!0,T=!1,P=void 0;try{for(var N=m(S)[Symbol.iterator](),j;!(E=(j=N.next()).done);E=!0){var L=j.value;L.setAttribute("aria-hidden","true")}}catch(V){T=!0,P=V}finally{try{!E&&N.return&&N.return()}finally{if(T)throw P}}}function C(S){var E=!0,T=!1,P=void 0;try{for(var N=m(S)[Symbol.iterator](),j;!(E=(j=N.next()).done);E=!0){var L=j.value;L.removeAttribute("aria-hidden")}}catch(V){T=!0,P=V}finally{try{!E&&N.return&&N.return()}finally{if(T)throw P}}}function y(){o=null}return Ua}var hp={},W9;function LHe(){if(W9)return hp;W9=1,Object.defineProperty(hp,"__esModule",{value:!0}),hp.resetState=r,hp.log=o;var e={},t={};function n(m,v){m.classList.remove(v)}function r(){var m=document.getElementsByTagName("html")[0];for(var v in e)n(m,e[v]);var C=document.body;for(var y in t)n(C,t[y]);e={},t={}}function o(){}var a=function(v,C){return v[C]||(v[C]=0),v[C]+=1,C},l=function(v,C){return v[C]&&(v[C]-=1),C},d=function(v,C,y){y.forEach(function(S){a(C,S),v.add(S)})},f=function(v,C,y){y.forEach(function(S){l(C,S),C[S]===0&&v.remove(S)})};return hp.add=function(v,C){return d(v.classList,v.nodeName.toLowerCase()=="html"?e:t,C.split(" "))},hp.remove=function(v,C){return f(v.classList,v.nodeName.toLowerCase()=="html"?e:t,C.split(" "))},hp}var tb={},$9;function _J(){if($9)return tb;$9=1,Object.defineProperty(tb,"__esModule",{value:!0}),tb.log=r,tb.resetState=o;function e(a,l){if(!(a instanceof l))throw new TypeError("Cannot call a class as a function")}var t=function a(){var l=this;e(this,a),this.register=function(d){l.openInstances.indexOf(d)===-1&&(l.openInstances.push(d),l.emit("register"))},this.deregister=function(d){var f=l.openInstances.indexOf(d);f!==-1&&(l.openInstances.splice(f,1),l.emit("deregister"))},this.subscribe=function(d){l.subscribers.push(d)},this.emit=function(d){l.subscribers.forEach(function(f){return f(d,l.openInstances.slice())})},this.openInstances=[],this.subscribers=[]},n=new t;function r(){console.log("portalOpenInstances ----------"),console.log(n.openInstances.length),n.openInstances.forEach(function(a){return console.log(a)}),console.log("end portalOpenInstances ----------")}function o(){n=new t}return tb.default=n,tb}var dy={},q9;function BHe(){if(q9)return dy;q9=1,Object.defineProperty(dy,"__esModule",{value:!0}),dy.resetState=l,dy.log=d;var e=_J(),t=n(e);function n(v){return v&&v.__esModule?v:{default:v}}var r=void 0,o=void 0,a=[];function l(){for(var v=[r,o],C=0;C<v.length;C++){var y=v[C];y&&y.parentNode&&y.parentNode.removeChild(y)}r=o=null,a=[]}function d(){console.log("bodyTrap ----------"),console.log(a.length);for(var v=[r,o],C=0;C<v.length;C++){var y=v[C],S=y||{};console.log(S.nodeName,S.className,S.id)}console.log("edn bodyTrap ----------")}function f(){a.length!==0&&a[a.length-1].focusContent()}function m(v,C){!r&&!o&&(r=document.createElement("div"),r.setAttribute("data-react-modal-body-trap",""),r.style.position="absolute",r.style.opacity="0",r.setAttribute("tabindex","0"),r.addEventListener("focus",f),o=r.cloneNode(),o.addEventListener("focus",f)),a=C,a.length>0?(document.body.firstChild!==r&&document.body.insertBefore(r,document.body.firstChild),document.body.lastChild!==o&&document.body.appendChild(o)):(r.parentElement&&r.parentElement.removeChild(r),o.parentElement&&o.parentElement.removeChild(o))}return t.default.subscribe(m),dy}var K9;function jHe(){return K9||(K9=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(Q){for(var J=1;J<arguments.length;J++){var re=arguments[J];for(var ee in re)Object.prototype.hasOwnProperty.call(re,ee)&&(Q[ee]=re[ee])}return Q},r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Q){return typeof Q}:function(Q){return Q&&typeof Symbol=="function"&&Q.constructor===Symbol&&Q!==Symbol.prototype?"symbol":typeof Q},o=(function(){function Q(J,re){for(var ee=0;ee<re.length;ee++){var le=re[ee];le.enumerable=le.enumerable||!1,le.configurable=!0,"value"in le&&(le.writable=!0),Object.defineProperty(J,le.key,le)}}return function(J,re,ee){return re&&Q(J.prototype,re),ee&&Q(J,ee),J}})(),a=Vh(),l=xJ(),d=U(l),f=IHe(),m=V(f),v=NHe(),C=U(v),y=SJ(),S=V(y),E=LHe(),T=V(E),P=n4(),N=U(P),j=_J(),L=U(j);BHe();function V(Q){if(Q&&Q.__esModule)return Q;var J={};if(Q!=null)for(var re in Q)Object.prototype.hasOwnProperty.call(Q,re)&&(J[re]=Q[re]);return J.default=Q,J}function U(Q){return Q&&Q.__esModule?Q:{default:Q}}function $(Q,J){if(!(Q instanceof J))throw new TypeError("Cannot call a class as a function")}function z(Q,J){if(!Q)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return J&&(typeof J=="object"||typeof J=="function")?J:Q}function K(Q,J){if(typeof J!="function"&&J!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof J);Q.prototype=Object.create(J&&J.prototype,{constructor:{value:Q,enumerable:!1,writable:!0,configurable:!0}}),J&&(Object.setPrototypeOf?Object.setPrototypeOf(Q,J):Q.__proto__=J)}var te={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},ae=function(J){return J.code==="Tab"||J.keyCode===9},X=function(J){return J.code==="Escape"||J.keyCode===27},Z=0,se=(function(Q){K(J,Q);function J(re){$(this,J);var ee=z(this,(J.__proto__||Object.getPrototypeOf(J)).call(this,re));return ee.setOverlayRef=function(le){ee.overlay=le,ee.props.overlayRef&&ee.props.overlayRef(le)},ee.setContentRef=function(le){ee.content=le,ee.props.contentRef&&ee.props.contentRef(le)},ee.afterClose=function(){var le=ee.props,ce=le.appElement,he=le.ariaHideApp,ne=le.htmlOpenClassName,fe=le.bodyOpenClassName,ve=le.parentSelector,me=ve&&ve().ownerDocument||document;fe&&T.remove(me.body,fe),ne&&T.remove(me.getElementsByTagName("html")[0],ne),he&&Z>0&&(Z-=1,Z===0&&S.show(ce)),ee.props.shouldFocusAfterRender&&(ee.props.shouldReturnFocusAfterClose?(m.returnFocus(ee.props.preventScroll),m.teardownScopedFocus()):m.popWithoutFocus()),ee.props.onAfterClose&&ee.props.onAfterClose(),L.default.deregister(ee)},ee.open=function(){ee.beforeOpen(),ee.state.afterOpen&&ee.state.beforeClose?(clearTimeout(ee.closeTimer),ee.setState({beforeClose:!1})):(ee.props.shouldFocusAfterRender&&(m.setupScopedFocus(ee.node),m.markForFocusLater()),ee.setState({isOpen:!0},function(){ee.openAnimationFrame=requestAnimationFrame(function(){ee.setState({afterOpen:!0}),ee.props.isOpen&&ee.props.onAfterOpen&&ee.props.onAfterOpen({overlayEl:ee.overlay,contentEl:ee.content})})}))},ee.close=function(){ee.props.closeTimeoutMS>0?ee.closeWithTimeout():ee.closeWithoutTimeout()},ee.focusContent=function(){return ee.content&&!ee.contentHasFocus()&&ee.content.focus({preventScroll:!0})},ee.closeWithTimeout=function(){var le=Date.now()+ee.props.closeTimeoutMS;ee.setState({beforeClose:!0,closesAt:le},function(){ee.closeTimer=setTimeout(ee.closeWithoutTimeout,ee.state.closesAt-Date.now())})},ee.closeWithoutTimeout=function(){ee.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},ee.afterClose)},ee.handleKeyDown=function(le){ae(le)&&(0,C.default)(ee.content,le),ee.props.shouldCloseOnEsc&&X(le)&&(le.stopPropagation(),ee.requestClose(le))},ee.handleOverlayOnClick=function(le){ee.shouldClose===null&&(ee.shouldClose=!0),ee.shouldClose&&ee.props.shouldCloseOnOverlayClick&&(ee.ownerHandlesClose()?ee.requestClose(le):ee.focusContent()),ee.shouldClose=null},ee.handleContentOnMouseUp=function(){ee.shouldClose=!1},ee.handleOverlayOnMouseDown=function(le){!ee.props.shouldCloseOnOverlayClick&&le.target==ee.overlay&&le.preventDefault()},ee.handleContentOnClick=function(){ee.shouldClose=!1},ee.handleContentOnMouseDown=function(){ee.shouldClose=!1},ee.requestClose=function(le){return ee.ownerHandlesClose()&&ee.props.onRequestClose(le)},ee.ownerHandlesClose=function(){return ee.props.onRequestClose},ee.shouldBeClosed=function(){return!ee.state.isOpen&&!ee.state.beforeClose},ee.contentHasFocus=function(){return document.activeElement===ee.content||ee.content.contains(document.activeElement)},ee.buildClassName=function(le,ce){var he=(typeof ce>"u"?"undefined":r(ce))==="object"?ce:{base:te[le],afterOpen:te[le]+"--after-open",beforeClose:te[le]+"--before-close"},ne=he.base;return ee.state.afterOpen&&(ne=ne+" "+he.afterOpen),ee.state.beforeClose&&(ne=ne+" "+he.beforeClose),typeof ce=="string"&&ce?ne+" "+ce:ne},ee.attributesFromObject=function(le,ce){return Object.keys(ce).reduce(function(he,ne){return he[le+"-"+ne]=ce[ne],he},{})},ee.state={afterOpen:!1,beforeClose:!1},ee.shouldClose=null,ee.moveFromContentToOverlay=null,ee}return o(J,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(ee,le){this.props.isOpen&&!ee.isOpen?this.open():!this.props.isOpen&&ee.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!le.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var ee=this.props,le=ee.appElement,ce=ee.ariaHideApp,he=ee.htmlOpenClassName,ne=ee.bodyOpenClassName,fe=ee.parentSelector,ve=fe&&fe().ownerDocument||document;ne&&T.add(ve.body,ne),he&&T.add(ve.getElementsByTagName("html")[0],he),ce&&(Z+=1,S.hide(le)),L.default.register(this)}},{key:"render",value:function(){var ee=this.props,le=ee.id,ce=ee.className,he=ee.overlayClassName,ne=ee.defaultStyles,fe=ee.children,ve=ce?{}:ne.content,me=he?{}:ne.overlay;if(this.shouldBeClosed())return null;var Oe={ref:this.setOverlayRef,className:this.buildClassName("overlay",he),style:n({},me,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},_e=n({id:le,ref:this.setContentRef,style:n({},ve,this.props.style.content),className:this.buildClassName("content",ce),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",n({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),Ue=this.props.contentElement(_e,fe);return this.props.overlayElement(Oe,Ue)}}]),J})(a.Component);se.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},se.propTypes={isOpen:d.default.bool.isRequired,defaultStyles:d.default.shape({content:d.default.object,overlay:d.default.object}),style:d.default.shape({content:d.default.object,overlay:d.default.object}),className:d.default.oneOfType([d.default.string,d.default.object]),overlayClassName:d.default.oneOfType([d.default.string,d.default.object]),parentSelector:d.default.func,bodyOpenClassName:d.default.string,htmlOpenClassName:d.default.string,ariaHideApp:d.default.bool,appElement:d.default.oneOfType([d.default.instanceOf(N.default),d.default.instanceOf(P.SafeHTMLCollection),d.default.instanceOf(P.SafeNodeList),d.default.arrayOf(d.default.instanceOf(N.default))]),onAfterOpen:d.default.func,onAfterClose:d.default.func,onRequestClose:d.default.func,closeTimeoutMS:d.default.number,shouldFocusAfterRender:d.default.bool,shouldCloseOnOverlayClick:d.default.bool,shouldReturnFocusAfterClose:d.default.bool,preventScroll:d.default.bool,role:d.default.string,contentLabel:d.default.string,aria:d.default.object,data:d.default.object,children:d.default.node,shouldCloseOnEsc:d.default.bool,overlayRef:d.default.func,contentRef:d.default.func,id:d.default.string,overlayElement:d.default.func,contentElement:d.default.func,testId:d.default.string},t.default=se,e.exports=t.default})(E1,E1.exports)),E1.exports}function EJ(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);e!=null&&this.setState(e)}function DJ(e){function t(n){var r=this.constructor.getDerivedStateFromProps(e,n);return r??null}this.setState(t.bind(this))}function MJ(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}EJ.__suppressDeprecationWarning=!0;DJ.__suppressDeprecationWarning=!0;MJ.__suppressDeprecationWarning=!0;function zHe(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if(typeof e.getDerivedStateFromProps!="function"&&typeof t.getSnapshotBeforeUpdate!="function")return e;var n=null,r=null,o=null;if(typeof t.componentWillMount=="function"?n="componentWillMount":typeof t.UNSAFE_componentWillMount=="function"&&(n="UNSAFE_componentWillMount"),typeof t.componentWillReceiveProps=="function"?r="componentWillReceiveProps":typeof t.UNSAFE_componentWillReceiveProps=="function"&&(r="UNSAFE_componentWillReceiveProps"),typeof t.componentWillUpdate=="function"?o="componentWillUpdate":typeof t.UNSAFE_componentWillUpdate=="function"&&(o="UNSAFE_componentWillUpdate"),n!==null||r!==null||o!==null){var a=e.displayName||e.name,l=typeof e.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+a+" uses "+l+" but also contains the following legacy lifecycles:"+(n!==null?`
  `+n:"")+(r!==null?`
  `+r:"")+(o!==null?`
  `+o:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof e.getDerivedStateFromProps=="function"&&(t.componentWillMount=EJ,t.componentWillReceiveProps=DJ),typeof t.getSnapshotBeforeUpdate=="function"){if(typeof t.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=MJ;var d=t.componentDidUpdate;t.componentDidUpdate=function(m,v,C){var y=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:C;d.call(this,m,v,y)}}return e}const HHe=Object.freeze(Object.defineProperty({__proto__:null,polyfill:zHe},Symbol.toStringTag,{value:"Module"})),VHe=ole(HHe);var Y9;function GHe(){if(Y9)return yh;Y9=1,Object.defineProperty(yh,"__esModule",{value:!0}),yh.bodyOpenClassName=yh.portalClassName=void 0;var e=Object.assign||function(X){for(var Z=1;Z<arguments.length;Z++){var se=arguments[Z];for(var Q in se)Object.prototype.hasOwnProperty.call(se,Q)&&(X[Q]=se[Q])}return X},t=(function(){function X(Z,se){for(var Q=0;Q<se.length;Q++){var J=se[Q];J.enumerable=J.enumerable||!1,J.configurable=!0,"value"in J&&(J.writable=!0),Object.defineProperty(Z,J.key,J)}}return function(Z,se,Q){return se&&X(Z.prototype,se),Q&&X(Z,Q),Z}})(),n=Vh(),r=P(n),o=lN(),a=P(o),l=xJ(),d=P(l),f=jHe(),m=P(f),v=SJ(),C=T(v),y=n4(),S=P(y),E=VHe;function T(X){if(X&&X.__esModule)return X;var Z={};if(X!=null)for(var se in X)Object.prototype.hasOwnProperty.call(X,se)&&(Z[se]=X[se]);return Z.default=X,Z}function P(X){return X&&X.__esModule?X:{default:X}}function N(X,Z){if(!(X instanceof Z))throw new TypeError("Cannot call a class as a function")}function j(X,Z){if(!X)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Z&&(typeof Z=="object"||typeof Z=="function")?Z:X}function L(X,Z){if(typeof Z!="function"&&Z!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Z);X.prototype=Object.create(Z&&Z.prototype,{constructor:{value:X,enumerable:!1,writable:!0,configurable:!0}}),Z&&(Object.setPrototypeOf?Object.setPrototypeOf(X,Z):X.__proto__=Z)}var V=yh.portalClassName="ReactModalPortal",U=yh.bodyOpenClassName="ReactModal__Body--open",$=y.canUseDOM&&a.default.createPortal!==void 0,z=function(Z){return document.createElement(Z)},K=function(){return $?a.default.createPortal:a.default.unstable_renderSubtreeIntoContainer};function te(X){return X()}var ae=(function(X){L(Z,X);function Z(){var se,Q,J,re;N(this,Z);for(var ee=arguments.length,le=Array(ee),ce=0;ce<ee;ce++)le[ce]=arguments[ce];return re=(Q=(J=j(this,(se=Z.__proto__||Object.getPrototypeOf(Z)).call.apply(se,[this].concat(le))),J),J.removePortal=function(){!$&&a.default.unmountComponentAtNode(J.node);var he=te(J.props.parentSelector);he&&he.contains(J.node)?he.removeChild(J.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},J.portalRef=function(he){J.portal=he},J.renderPortal=function(he){var ne=K(),fe=ne(J,r.default.createElement(m.default,e({defaultStyles:Z.defaultStyles},he)),J.node);J.portalRef(fe)},Q),j(J,re)}return t(Z,[{key:"componentDidMount",value:function(){if(y.canUseDOM){$||(this.node=z("div")),this.node.className=this.props.portalClassName;var Q=te(this.props.parentSelector);Q.appendChild(this.node),!$&&this.renderPortal(this.props)}}},{key:"getSnapshotBeforeUpdate",value:function(Q){var J=te(Q.parentSelector),re=te(this.props.parentSelector);return{prevParent:J,nextParent:re}}},{key:"componentDidUpdate",value:function(Q,J,re){if(y.canUseDOM){var ee=this.props,le=ee.isOpen,ce=ee.portalClassName;Q.portalClassName!==ce&&(this.node.className=ce);var he=re.prevParent,ne=re.nextParent;ne!==he&&(he.removeChild(this.node),ne.appendChild(this.node)),!(!Q.isOpen&&!le)&&!$&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(!(!y.canUseDOM||!this.node||!this.portal)){var Q=this.portal.state,J=Date.now(),re=Q.isOpen&&this.props.closeTimeoutMS&&(Q.closesAt||J+this.props.closeTimeoutMS);re?(Q.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,re-J)):this.removePortal()}}},{key:"render",value:function(){if(!y.canUseDOM||!$)return null;!this.node&&$&&(this.node=z("div"));var Q=K();return Q(r.default.createElement(m.default,e({ref:this.portalRef,defaultStyles:Z.defaultStyles},this.props)),this.node)}}],[{key:"setAppElement",value:function(Q){C.setElement(Q)}}]),Z})(n.Component);return ae.propTypes={isOpen:d.default.bool.isRequired,style:d.default.shape({content:d.default.object,overlay:d.default.object}),portalClassName:d.default.string,bodyOpenClassName:d.default.string,htmlOpenClassName:d.default.string,className:d.default.oneOfType([d.default.string,d.default.shape({base:d.default.string.isRequired,afterOpen:d.default.string.isRequired,beforeClose:d.default.string.isRequired})]),overlayClassName:d.default.oneOfType([d.default.string,d.default.shape({base:d.default.string.isRequired,afterOpen:d.default.string.isRequired,beforeClose:d.default.string.isRequired})]),appElement:d.default.oneOfType([d.default.instanceOf(S.default),d.default.instanceOf(y.SafeHTMLCollection),d.default.instanceOf(y.SafeNodeList),d.default.arrayOf(d.default.instanceOf(S.default))]),onAfterOpen:d.default.func,onRequestClose:d.default.func,closeTimeoutMS:d.default.number,ariaHideApp:d.default.bool,shouldFocusAfterRender:d.default.bool,shouldCloseOnOverlayClick:d.default.bool,shouldReturnFocusAfterClose:d.default.bool,preventScroll:d.default.bool,parentSelector:d.default.func,aria:d.default.object,data:d.default.object,role:d.default.string,contentLabel:d.default.string,shouldCloseOnEsc:d.default.bool,overlayRef:d.default.func,contentRef:d.default.func,id:d.default.string,overlayElement:d.default.func,contentElement:d.default.func},ae.defaultProps={isOpen:!1,portalClassName:V,bodyOpenClassName:U,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(Z,se){return r.default.createElement("div",Z,se)},contentElement:function(Z,se){return r.default.createElement("div",Z,se)}},ae.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}},(0,E.polyfill)(ae),yh.default=ae,yh}var Q9;function UHe(){return Q9||(Q9=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=GHe(),r=o(n);function o(a){return a&&a.__esModule?a:{default:a}}t.default=r.default,e.exports=t.default})(_1,_1.exports)),_1.exports}var WHe=UHe();const jh=fa(WHe),TJ=6048e5,$He=864e5,dD=6e4,uD=36e5,qHe=1e3,Z9=Symbol.for("constructDateFrom");function Rn(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&Z9 in e?e[Z9](t):e instanceof Date?new e.constructor(t):new Date(t)}function ot(e,t){return Rn(t||e,e)}function Xa(e,t,n){const r=ot(e,n?.in);return isNaN(t)?Rn(n?.in||e,NaN):(t&&r.setDate(r.getDate()+t),r)}function rl(e,t,n){const r=ot(e,n?.in);if(isNaN(t))return Rn(e,NaN);if(!t)return r;const o=r.getDate(),a=Rn(e,r.getTime());a.setMonth(r.getMonth()+t+1,0);const l=a.getDate();return o>=l?a:(r.setFullYear(a.getFullYear(),a.getMonth(),o),r)}function RJ(e,t,n){return Rn(e,+ot(e)+t)}function KHe(e,t,n){return RJ(e,t*uD)}let YHe={};function dg(){return YHe}function Yd(e,t){const n=dg(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,o=ot(e,t?.in),a=o.getDay(),l=(a<r?7:0)+a-r;return o.setDate(o.getDate()-l),o.setHours(0,0,0,0),o}function Wb(e,t){return Yd(e,{...t,weekStartsOn:1})}function PJ(e,t){const n=ot(e,t?.in),r=n.getFullYear(),o=Rn(n,0);o.setFullYear(r+1,0,4),o.setHours(0,0,0,0);const a=Wb(o),l=Rn(n,0);l.setFullYear(r,0,4),l.setHours(0,0,0,0);const d=Wb(l);return n.getTime()>=a.getTime()?r+1:n.getTime()>=d.getTime()?r:r-1}function F_(e){const t=ot(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function au(e,...t){const n=Rn.bind(null,t.find(r=>typeof r=="object"));return t.map(n)}function Xp(e,t){const n=ot(e,t?.in);return n.setHours(0,0,0,0),n}function $b(e,t,n){const[r,o]=au(n?.in,e,t),a=Xp(r),l=Xp(o),d=+a-F_(a),f=+l-F_(l);return Math.round((d-f)/$He)}function QHe(e,t){const n=PJ(e,t),r=Rn(e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Wb(r)}function eN(e,t,n){const r=ot(e,n?.in);return r.setTime(r.getTime()+t*dD),r}function r4(e,t,n){return rl(e,t*3,n)}function ZHe(e,t,n){return RJ(e,t*1e3)}function L_(e,t,n){return Xa(e,t*7,n)}function Dd(e,t,n){return rl(e,t*12,n)}function X9(e,t){let n,r=t?.in;return e.forEach(o=>{!r&&typeof o=="object"&&(r=Rn.bind(null,o));const a=ot(o,r);(!n||n<a||isNaN(+a))&&(n=a)}),Rn(r,n||NaN)}function J9(e,t){let n,r=t?.in;return e.forEach(o=>{!r&&typeof o=="object"&&(r=Rn.bind(null,o));const a=ot(o,r);(!n||n>a||isNaN(+a))&&(n=a)}),Rn(r,n||NaN)}function XHe(e,t,n){const[r,o]=au(n?.in,e,t);return+Xp(r)==+Xp(o)}function Md(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function B_(e){return!(!Md(e)&&typeof e!="number"||isNaN(+ot(e)))}function j_(e,t,n){const[r,o]=au(n?.in,e,t),a=r.getFullYear()-o.getFullYear(),l=r.getMonth()-o.getMonth();return a*12+l}function Mh(e,t){const n=ot(e,t?.in);return Math.trunc(n.getMonth()/3)+1}function z_(e,t,n){const[r,o]=au(n?.in,e,t),a=r.getFullYear()-o.getFullYear(),l=Mh(r)-Mh(o);return a*4+l}function H_(e,t,n){const[r,o]=au(n?.in,e,t);return r.getFullYear()-o.getFullYear()}function JHe(e,t,n){const[r,o]=au(n?.in,e,t),a=eG(r,o),l=Math.abs($b(r,o));r.setDate(r.getDate()-a*l);const d=+(eG(r,o)===-a),f=a*(l-d);return f===0?0:f}function eG(e,t){const n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function IJ(e,t){const n=ot(e,t?.in);return n.setHours(23,59,59,999),n}function NJ(e,t){const n=ot(e,t?.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function tN(e,t){const n=ot(e,t?.in),r=n.getMonth(),o=r-r%3;return n.setMonth(o,1),n.setHours(0,0,0,0),n}function OJ(e,t){const n=ot(e,t?.in);return n.setDate(1),n.setHours(0,0,0,0),n}function FJ(e,t){const n=ot(e,t?.in),r=n.getFullYear();return n.setFullYear(r+1,0,0),n.setHours(23,59,59,999),n}function hD(e,t){const n=ot(e,t?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function e7e(e,t){const n=dg(),r=n.weekStartsOn??n.locale?.options?.weekStartsOn??0,o=ot(e,t?.in),a=o.getDay(),l=(a<r?-7:0)+6-(a-r);return o.setDate(o.getDate()+l),o.setHours(23,59,59,999),o}const t7e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},n7e=(e,t,n)=>{let r;const o=t7e[e];return typeof o=="string"?r=o:t===1?r=o.one:r=o.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function QR(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const r7e={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},i7e={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},o7e={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},s7e={date:QR({formats:r7e,defaultWidth:"full"}),time:QR({formats:i7e,defaultWidth:"full"}),dateTime:QR({formats:o7e,defaultWidth:"full"})},a7e={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},l7e=(e,t,n,r)=>a7e[e];function uy(e){return(t,n)=>{const r=n?.context?String(n.context):"standalone";let o;if(r==="formatting"&&e.formattingValues){const l=e.defaultFormattingWidth||e.defaultWidth,d=n?.width?String(n.width):l;o=e.formattingValues[d]||e.formattingValues[l]}else{const l=e.defaultWidth,d=n?.width?String(n.width):e.defaultWidth;o=e.values[d]||e.values[l]}const a=e.argumentCallback?e.argumentCallback(t):t;return o[a]}}const c7e={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},d7e={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},u7e={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},h7e={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},f7e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},p7e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},g7e=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},m7e={ordinalNumber:g7e,era:uy({values:c7e,defaultWidth:"wide"}),quarter:uy({values:d7e,defaultWidth:"wide",argumentCallback:e=>e-1}),month:uy({values:u7e,defaultWidth:"wide"}),day:uy({values:h7e,defaultWidth:"wide"}),dayPeriod:uy({values:f7e,defaultWidth:"wide",formattingValues:p7e,defaultFormattingWidth:"wide"})};function hy(e){return(t,n={})=>{const r=n.width,o=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=t.match(o);if(!a)return null;const l=a[0],d=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],f=Array.isArray(d)?v7e(d,C=>C.test(l)):b7e(d,C=>C.test(l));let m;m=e.valueCallback?e.valueCallback(f):f,m=n.valueCallback?n.valueCallback(m):m;const v=t.slice(l.length);return{value:m,rest:v}}}function b7e(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function v7e(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function w7e(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const o=r[0],a=t.match(e.parsePattern);if(!a)return null;let l=e.valueCallback?e.valueCallback(a[0]):a[0];l=n.valueCallback?n.valueCallback(l):l;const d=t.slice(o.length);return{value:l,rest:d}}}const C7e=/^(\d+)(th|st|nd|rd)?/i,y7e=/\d+/i,k7e={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},x7e={any:[/^b/i,/^(a|c)/i]},A7e={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},S7e={any:[/1/i,/2/i,/3/i,/4/i]},_7e={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},E7e={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},D7e={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},M7e={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},T7e={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},R7e={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},P7e={ordinalNumber:w7e({matchPattern:C7e,parsePattern:y7e,valueCallback:e=>parseInt(e,10)}),era:hy({matchPatterns:k7e,defaultMatchWidth:"wide",parsePatterns:x7e,defaultParseWidth:"any"}),quarter:hy({matchPatterns:A7e,defaultMatchWidth:"wide",parsePatterns:S7e,defaultParseWidth:"any",valueCallback:e=>e+1}),month:hy({matchPatterns:_7e,defaultMatchWidth:"wide",parsePatterns:E7e,defaultParseWidth:"any"}),day:hy({matchPatterns:D7e,defaultMatchWidth:"wide",parsePatterns:M7e,defaultParseWidth:"any"}),dayPeriod:hy({matchPatterns:T7e,defaultMatchWidth:"any",parsePatterns:R7e,defaultParseWidth:"any"})},LJ={code:"en-US",formatDistance:n7e,formatLong:s7e,formatRelative:l7e,localize:m7e,match:P7e,options:{weekStartsOn:0,firstWeekContainsDate:1}};function I7e(e,t){const n=ot(e,t?.in);return $b(n,hD(n))+1}function i4(e,t){const n=ot(e,t?.in),r=+Wb(n)-+QHe(n);return Math.round(r/TJ)+1}function o4(e,t){const n=ot(e,t?.in),r=n.getFullYear(),o=dg(),a=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,l=Rn(t?.in||e,0);l.setFullYear(r+1,0,a),l.setHours(0,0,0,0);const d=Yd(l,t),f=Rn(t?.in||e,0);f.setFullYear(r,0,a),f.setHours(0,0,0,0);const m=Yd(f,t);return+n>=+d?r+1:+n>=+m?r:r-1}function N7e(e,t){const n=dg(),r=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,o=o4(e,t),a=Rn(t?.in||e,0);return a.setFullYear(o,0,r),a.setHours(0,0,0,0),Yd(a,t)}function BJ(e,t){const n=ot(e,t?.in),r=+Yd(n,t)-+N7e(n,t);return Math.round(r/TJ)+1}function Dn(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const kh={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return Dn(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):Dn(n+1,2)},d(e,t){return Dn(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return Dn(e.getHours()%12||12,t.length)},H(e,t){return Dn(e.getHours(),t.length)},m(e,t){return Dn(e.getMinutes(),t.length)},s(e,t){return Dn(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),o=Math.trunc(r*Math.pow(10,n-3));return Dn(o,t.length)}},nb={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},tG={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),o=r>0?r:1-r;return n.ordinalNumber(o,{unit:"year"})}return kh.y(e,t)},Y:function(e,t,n,r){const o=o4(e,r),a=o>0?o:1-o;if(t==="YY"){const l=a%100;return Dn(l,2)}return t==="Yo"?n.ordinalNumber(a,{unit:"year"}):Dn(a,t.length)},R:function(e,t){const n=PJ(e);return Dn(n,t.length)},u:function(e,t){const n=e.getFullYear();return Dn(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Dn(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Dn(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return kh.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return Dn(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const o=BJ(e,r);return t==="wo"?n.ordinalNumber(o,{unit:"week"}):Dn(o,t.length)},I:function(e,t,n){const r=i4(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):Dn(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):kh.d(e,t)},D:function(e,t,n){const r=I7e(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Dn(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const o=e.getDay(),a=(o-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return Dn(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});case"eeee":default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const o=e.getDay(),a=(o-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return Dn(a,t.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});case"cccc":default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),o=r===0?7:r;switch(t){case"i":return String(o);case"ii":return Dn(o,t.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const o=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let o;switch(r===12?o=nb.noon:r===0?o=nb.midnight:o=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let o;switch(r>=17?o=nb.evening:r>=12?o=nb.afternoon:r>=4?o=nb.morning:o=nb.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return kh.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):kh.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Dn(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):Dn(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):kh.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):kh.s(e,t)},S:function(e,t){return kh.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return rG(r);case"XXXX":case"XX":return bp(r);case"XXXXX":case"XXX":default:return bp(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return rG(r);case"xxxx":case"xx":return bp(r);case"xxxxx":case"xxx":default:return bp(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+nG(r,":");case"OOOO":default:return"GMT"+bp(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+nG(r,":");case"zzzz":default:return"GMT"+bp(r,":")}},t:function(e,t,n){const r=Math.trunc(+e/1e3);return Dn(r,t.length)},T:function(e,t,n){return Dn(+e,t.length)}};function nG(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),o=Math.trunc(r/60),a=r%60;return a===0?n+String(o):n+String(o)+t+Dn(a,2)}function rG(e,t){return e%60===0?(e>0?"-":"+")+Dn(Math.abs(e)/60,2):bp(e,t)}function bp(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),o=Dn(Math.trunc(r/60),2),a=Dn(r%60,2);return n+o+t+a}const iG=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},jJ=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},O7e=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],o=n[2];if(!o)return iG(e,t);let a;switch(r){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",iG(r,t)).replace("{{time}}",jJ(o,t))},nN={p:jJ,P:O7e},F7e=/^D+$/,L7e=/^Y+$/,B7e=["D","DD","YY","YYYY"];function j7e(e){return F7e.test(e)}function z7e(e){return L7e.test(e)}function H7e(e,t,n){const r=V7e(e,t,n);if(console.warn(r),B7e.includes(e))throw new RangeError(r)}function V7e(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const G7e=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,U7e=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,W7e=/^'([^]*?)'?$/,$7e=/''/g,q7e=/[a-zA-Z]/;function oG(e,t,n){const r=dg(),o=n?.locale??r.locale??LJ,a=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,l=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,d=ot(e,n?.in);if(!B_(d))throw new RangeError("Invalid time value");let f=t.match(U7e).map(v=>{const C=v[0];if(C==="p"||C==="P"){const y=nN[C];return y(v,o.formatLong)}return v}).join("").match(G7e).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const C=v[0];if(C==="'")return{isToken:!1,value:K7e(v)};if(tG[C])return{isToken:!0,value:v};if(C.match(q7e))throw new RangeError("Format string contains an unescaped latin alphabet character `"+C+"`");return{isToken:!1,value:v}});o.localize.preprocessor&&(f=o.localize.preprocessor(d,f));const m={firstWeekContainsDate:a,weekStartsOn:l,locale:o};return f.map(v=>{if(!v.isToken)return v.value;const C=v.value;(!n?.useAdditionalWeekYearTokens&&z7e(C)||!n?.useAdditionalDayOfYearTokens&&j7e(C))&&H7e(C,t,String(e));const y=tG[C[0]];return y(d,C,o.localize,m)}).join("")}function K7e(e){const t=e.match(W7e);return t?t[1].replace($7e,"'"):e}function sG(e,t){return ot(e,t?.in).getDate()}function Y7e(e,t){return ot(e,t?.in).getDay()}function Q7e(e,t){const n=ot(e,t?.in),r=n.getFullYear(),o=n.getMonth(),a=Rn(n,0);return a.setFullYear(r,o+1,0),a.setHours(0,0,0,0),a.getDate()}function Z7e(){return Object.assign({},dg())}function Td(e,t){return ot(e,t?.in).getHours()}function X7e(e,t){const n=ot(e,t?.in).getDay();return n===0?7:n}function Rd(e,t){return ot(e,t?.in).getMinutes()}function qi(e,t){return ot(e,t?.in).getMonth()}function Ph(e){return ot(e).getSeconds()}function rN(e){return+ot(e)}function zt(e,t){return ot(e,t?.in).getFullYear()}function zh(e,t){return+ot(e)>+ot(t)}function rc(e,t){return+ot(e)<+ot(t)}function J7e(e,t){return+ot(e)==+ot(t)}function eVe(e,t){const n=tVe(t)?new t(0):Rn(t,0);return n.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),n.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),n}function tVe(e){return typeof e=="function"&&e.prototype?.constructor===e}const nVe=10;class zJ{subPriority=0;validate(t,n){return!0}}class rVe extends zJ{constructor(t,n,r,o,a){super(),this.value=t,this.validateValue=n,this.setValue=r,this.priority=o,a&&(this.subPriority=a)}validate(t,n){return this.validateValue(t,this.value,n)}set(t,n,r){return this.setValue(t,n,this.value,r)}}class iVe extends zJ{priority=nVe;subPriority=-1;constructor(t,n){super(),this.context=t||(r=>Rn(n,r))}set(t,n){return n.timestampIsSet?t:Rn(t,eVe(t,this.context))}}class pn{run(t,n,r,o){const a=this.parse(t,n,r,o);return a?{setter:new rVe(a.value,this.validate,this.set,this.priority,this.subPriority),rest:a.rest}:null}validate(t,n,r){return!0}}class oVe extends pn{priority=140;parse(t,n,r){switch(n){case"G":case"GG":case"GGG":return r.era(t,{width:"abbreviated"})||r.era(t,{width:"narrow"});case"GGGGG":return r.era(t,{width:"narrow"});case"GGGG":default:return r.era(t,{width:"wide"})||r.era(t,{width:"abbreviated"})||r.era(t,{width:"narrow"})}}set(t,n,r){return n.era=r,t.setFullYear(r,0,1),t.setHours(0,0,0,0),t}incompatibleTokens=["R","u","t","T"]}const Mr={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Xl={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Tr(e,t){return e&&{value:t(e.value),rest:e.rest}}function ur(e,t){const n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function Jl(e,t){const n=t.match(e);if(!n)return null;if(n[0]==="Z")return{value:0,rest:t.slice(1)};const r=n[1]==="+"?1:-1,o=n[2]?parseInt(n[2],10):0,a=n[3]?parseInt(n[3],10):0,l=n[5]?parseInt(n[5],10):0;return{value:r*(o*uD+a*dD+l*qHe),rest:t.slice(n[0].length)}}function HJ(e){return ur(Mr.anyDigitsSigned,e)}function yr(e,t){switch(e){case 1:return ur(Mr.singleDigit,t);case 2:return ur(Mr.twoDigits,t);case 3:return ur(Mr.threeDigits,t);case 4:return ur(Mr.fourDigits,t);default:return ur(new RegExp("^\\d{1,"+e+"}"),t)}}function V_(e,t){switch(e){case 1:return ur(Mr.singleDigitSigned,t);case 2:return ur(Mr.twoDigitsSigned,t);case 3:return ur(Mr.threeDigitsSigned,t);case 4:return ur(Mr.fourDigitsSigned,t);default:return ur(new RegExp("^-?\\d{1,"+e+"}"),t)}}function s4(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function VJ(e,t){const n=t>0,r=n?t:1-t;let o;if(r<=50)o=e||100;else{const a=r+50,l=Math.trunc(a/100)*100,d=e>=a%100;o=e+l-(d?100:0)}return n?o:1-o}function GJ(e){return e%400===0||e%4===0&&e%100!==0}class sVe extends pn{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(t,n,r){const o=a=>({year:a,isTwoDigitYear:n==="yy"});switch(n){case"y":return Tr(yr(4,t),o);case"yo":return Tr(r.ordinalNumber(t,{unit:"year"}),o);default:return Tr(yr(n.length,t),o)}}validate(t,n){return n.isTwoDigitYear||n.year>0}set(t,n,r){const o=t.getFullYear();if(r.isTwoDigitYear){const l=VJ(r.year,o);return t.setFullYear(l,0,1),t.setHours(0,0,0,0),t}const a=!("era"in n)||n.era===1?r.year:1-r.year;return t.setFullYear(a,0,1),t.setHours(0,0,0,0),t}}class aVe extends pn{priority=130;parse(t,n,r){const o=a=>({year:a,isTwoDigitYear:n==="YY"});switch(n){case"Y":return Tr(yr(4,t),o);case"Yo":return Tr(r.ordinalNumber(t,{unit:"year"}),o);default:return Tr(yr(n.length,t),o)}}validate(t,n){return n.isTwoDigitYear||n.year>0}set(t,n,r,o){const a=o4(t,o);if(r.isTwoDigitYear){const d=VJ(r.year,a);return t.setFullYear(d,0,o.firstWeekContainsDate),t.setHours(0,0,0,0),Yd(t,o)}const l=!("era"in n)||n.era===1?r.year:1-r.year;return t.setFullYear(l,0,o.firstWeekContainsDate),t.setHours(0,0,0,0),Yd(t,o)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]}class lVe extends pn{priority=130;parse(t,n){return V_(n==="R"?4:n.length,t)}set(t,n,r){const o=Rn(t,0);return o.setFullYear(r,0,4),o.setHours(0,0,0,0),Wb(o)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]}class cVe extends pn{priority=130;parse(t,n){return V_(n==="u"?4:n.length,t)}set(t,n,r){return t.setFullYear(r,0,1),t.setHours(0,0,0,0),t}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]}class dVe extends pn{priority=120;parse(t,n,r){switch(n){case"Q":case"QQ":return yr(n.length,t);case"Qo":return r.ordinalNumber(t,{unit:"quarter"});case"QQQ":return r.quarter(t,{width:"abbreviated",context:"formatting"})||r.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return r.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(t,{width:"wide",context:"formatting"})||r.quarter(t,{width:"abbreviated",context:"formatting"})||r.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=1&&n<=4}set(t,n,r){return t.setMonth((r-1)*3,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]}class uVe extends pn{priority=120;parse(t,n,r){switch(n){case"q":case"qq":return yr(n.length,t);case"qo":return r.ordinalNumber(t,{unit:"quarter"});case"qqq":return r.quarter(t,{width:"abbreviated",context:"standalone"})||r.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return r.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(t,{width:"wide",context:"standalone"})||r.quarter(t,{width:"abbreviated",context:"standalone"})||r.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=1&&n<=4}set(t,n,r){return t.setMonth((r-1)*3,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]}class hVe extends pn{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(t,n,r){const o=a=>a-1;switch(n){case"M":return Tr(ur(Mr.month,t),o);case"MM":return Tr(yr(2,t),o);case"Mo":return Tr(r.ordinalNumber(t,{unit:"month"}),o);case"MMM":return r.month(t,{width:"abbreviated",context:"formatting"})||r.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return r.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(t,{width:"wide",context:"formatting"})||r.month(t,{width:"abbreviated",context:"formatting"})||r.month(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=11}set(t,n,r){return t.setMonth(r,1),t.setHours(0,0,0,0),t}}class fVe extends pn{priority=110;parse(t,n,r){const o=a=>a-1;switch(n){case"L":return Tr(ur(Mr.month,t),o);case"LL":return Tr(yr(2,t),o);case"Lo":return Tr(r.ordinalNumber(t,{unit:"month"}),o);case"LLL":return r.month(t,{width:"abbreviated",context:"standalone"})||r.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return r.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(t,{width:"wide",context:"standalone"})||r.month(t,{width:"abbreviated",context:"standalone"})||r.month(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=0&&n<=11}set(t,n,r){return t.setMonth(r,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]}function pVe(e,t,n){const r=ot(e,n?.in),o=BJ(r,n)-t;return r.setDate(r.getDate()-o*7),ot(r,n?.in)}class gVe extends pn{priority=100;parse(t,n,r){switch(n){case"w":return ur(Mr.week,t);case"wo":return r.ordinalNumber(t,{unit:"week"});default:return yr(n.length,t)}}validate(t,n){return n>=1&&n<=53}set(t,n,r,o){return Yd(pVe(t,r,o),o)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]}function mVe(e,t,n){const r=ot(e,n?.in),o=i4(r,n)-t;return r.setDate(r.getDate()-o*7),r}class bVe extends pn{priority=100;parse(t,n,r){switch(n){case"I":return ur(Mr.week,t);case"Io":return r.ordinalNumber(t,{unit:"week"});default:return yr(n.length,t)}}validate(t,n){return n>=1&&n<=53}set(t,n,r){return Wb(mVe(t,r))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]}const vVe=[31,28,31,30,31,30,31,31,30,31,30,31],wVe=[31,29,31,30,31,30,31,31,30,31,30,31];class CVe extends pn{priority=90;subPriority=1;parse(t,n,r){switch(n){case"d":return ur(Mr.date,t);case"do":return r.ordinalNumber(t,{unit:"date"});default:return yr(n.length,t)}}validate(t,n){const r=t.getFullYear(),o=GJ(r),a=t.getMonth();return o?n>=1&&n<=wVe[a]:n>=1&&n<=vVe[a]}set(t,n,r){return t.setDate(r),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]}class yVe extends pn{priority=90;subpriority=1;parse(t,n,r){switch(n){case"D":case"DD":return ur(Mr.dayOfYear,t);case"Do":return r.ordinalNumber(t,{unit:"date"});default:return yr(n.length,t)}}validate(t,n){const r=t.getFullYear();return GJ(r)?n>=1&&n<=366:n>=1&&n<=365}set(t,n,r){return t.setMonth(0,r),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]}function a4(e,t,n){const r=dg(),o=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,a=ot(e,n?.in),l=a.getDay(),f=(t%7+7)%7,m=7-o,v=t<0||t>6?t-(l+m)%7:(f+m)%7-(l+m)%7;return Xa(a,v,n)}class kVe extends pn{priority=90;parse(t,n,r){switch(n){case"E":case"EE":case"EEE":return r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return r.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"});case"EEEE":default:return r.day(t,{width:"wide",context:"formatting"})||r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=6}set(t,n,r,o){return t=a4(t,r,o),t.setHours(0,0,0,0),t}incompatibleTokens=["D","i","e","c","t","T"]}class xVe extends pn{priority=90;parse(t,n,r,o){const a=l=>{const d=Math.floor((l-1)/7)*7;return(l+o.weekStartsOn+6)%7+d};switch(n){case"e":case"ee":return Tr(yr(n.length,t),a);case"eo":return Tr(r.ordinalNumber(t,{unit:"day"}),a);case"eee":return r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"});case"eeeee":return r.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"});case"eeee":default:return r.day(t,{width:"wide",context:"formatting"})||r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=6}set(t,n,r,o){return t=a4(t,r,o),t.setHours(0,0,0,0),t}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]}class AVe extends pn{priority=90;parse(t,n,r,o){const a=l=>{const d=Math.floor((l-1)/7)*7;return(l+o.weekStartsOn+6)%7+d};switch(n){case"c":case"cc":return Tr(yr(n.length,t),a);case"co":return Tr(r.ordinalNumber(t,{unit:"day"}),a);case"ccc":return r.day(t,{width:"abbreviated",context:"standalone"})||r.day(t,{width:"short",context:"standalone"})||r.day(t,{width:"narrow",context:"standalone"});case"ccccc":return r.day(t,{width:"narrow",context:"standalone"});case"cccccc":return r.day(t,{width:"short",context:"standalone"})||r.day(t,{width:"narrow",context:"standalone"});case"cccc":default:return r.day(t,{width:"wide",context:"standalone"})||r.day(t,{width:"abbreviated",context:"standalone"})||r.day(t,{width:"short",context:"standalone"})||r.day(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=0&&n<=6}set(t,n,r,o){return t=a4(t,r,o),t.setHours(0,0,0,0),t}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]}function SVe(e,t,n){const r=ot(e,n?.in),o=X7e(r,n),a=t-o;return Xa(r,a,n)}class _Ve extends pn{priority=90;parse(t,n,r){const o=a=>a===0?7:a;switch(n){case"i":case"ii":return yr(n.length,t);case"io":return r.ordinalNumber(t,{unit:"day"});case"iii":return Tr(r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"}),o);case"iiiii":return Tr(r.day(t,{width:"narrow",context:"formatting"}),o);case"iiiiii":return Tr(r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"}),o);case"iiii":default:return Tr(r.day(t,{width:"wide",context:"formatting"})||r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"}),o)}}validate(t,n){return n>=1&&n<=7}set(t,n,r){return t=SVe(t,r),t.setHours(0,0,0,0),t}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]}class EVe extends pn{priority=80;parse(t,n,r){switch(n){case"a":case"aa":case"aaa":return r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return r.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(t,{width:"wide",context:"formatting"})||r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,r){return t.setHours(s4(r),0,0,0),t}incompatibleTokens=["b","B","H","k","t","T"]}class DVe extends pn{priority=80;parse(t,n,r){switch(n){case"b":case"bb":case"bbb":return r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return r.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(t,{width:"wide",context:"formatting"})||r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,r){return t.setHours(s4(r),0,0,0),t}incompatibleTokens=["a","B","H","k","t","T"]}class MVe extends pn{priority=80;parse(t,n,r){switch(n){case"B":case"BB":case"BBB":return r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return r.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(t,{width:"wide",context:"formatting"})||r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,r){return t.setHours(s4(r),0,0,0),t}incompatibleTokens=["a","b","t","T"]}class TVe extends pn{priority=70;parse(t,n,r){switch(n){case"h":return ur(Mr.hour12h,t);case"ho":return r.ordinalNumber(t,{unit:"hour"});default:return yr(n.length,t)}}validate(t,n){return n>=1&&n<=12}set(t,n,r){const o=t.getHours()>=12;return o&&r<12?t.setHours(r+12,0,0,0):!o&&r===12?t.setHours(0,0,0,0):t.setHours(r,0,0,0),t}incompatibleTokens=["H","K","k","t","T"]}class RVe extends pn{priority=70;parse(t,n,r){switch(n){case"H":return ur(Mr.hour23h,t);case"Ho":return r.ordinalNumber(t,{unit:"hour"});default:return yr(n.length,t)}}validate(t,n){return n>=0&&n<=23}set(t,n,r){return t.setHours(r,0,0,0),t}incompatibleTokens=["a","b","h","K","k","t","T"]}class PVe extends pn{priority=70;parse(t,n,r){switch(n){case"K":return ur(Mr.hour11h,t);case"Ko":return r.ordinalNumber(t,{unit:"hour"});default:return yr(n.length,t)}}validate(t,n){return n>=0&&n<=11}set(t,n,r){return t.getHours()>=12&&r<12?t.setHours(r+12,0,0,0):t.setHours(r,0,0,0),t}incompatibleTokens=["h","H","k","t","T"]}class IVe extends pn{priority=70;parse(t,n,r){switch(n){case"k":return ur(Mr.hour24h,t);case"ko":return r.ordinalNumber(t,{unit:"hour"});default:return yr(n.length,t)}}validate(t,n){return n>=1&&n<=24}set(t,n,r){const o=r<=24?r%24:r;return t.setHours(o,0,0,0),t}incompatibleTokens=["a","b","h","H","K","t","T"]}class NVe extends pn{priority=60;parse(t,n,r){switch(n){case"m":return ur(Mr.minute,t);case"mo":return r.ordinalNumber(t,{unit:"minute"});default:return yr(n.length,t)}}validate(t,n){return n>=0&&n<=59}set(t,n,r){return t.setMinutes(r,0,0),t}incompatibleTokens=["t","T"]}class OVe extends pn{priority=50;parse(t,n,r){switch(n){case"s":return ur(Mr.second,t);case"so":return r.ordinalNumber(t,{unit:"second"});default:return yr(n.length,t)}}validate(t,n){return n>=0&&n<=59}set(t,n,r){return t.setSeconds(r,0),t}incompatibleTokens=["t","T"]}class FVe extends pn{priority=30;parse(t,n){const r=o=>Math.trunc(o*Math.pow(10,-n.length+3));return Tr(yr(n.length,t),r)}set(t,n,r){return t.setMilliseconds(r),t}incompatibleTokens=["t","T"]}class LVe extends pn{priority=10;parse(t,n){switch(n){case"X":return Jl(Xl.basicOptionalMinutes,t);case"XX":return Jl(Xl.basic,t);case"XXXX":return Jl(Xl.basicOptionalSeconds,t);case"XXXXX":return Jl(Xl.extendedOptionalSeconds,t);case"XXX":default:return Jl(Xl.extended,t)}}set(t,n,r){return n.timestampIsSet?t:Rn(t,t.getTime()-F_(t)-r)}incompatibleTokens=["t","T","x"]}class BVe extends pn{priority=10;parse(t,n){switch(n){case"x":return Jl(Xl.basicOptionalMinutes,t);case"xx":return Jl(Xl.basic,t);case"xxxx":return Jl(Xl.basicOptionalSeconds,t);case"xxxxx":return Jl(Xl.extendedOptionalSeconds,t);case"xxx":default:return Jl(Xl.extended,t)}}set(t,n,r){return n.timestampIsSet?t:Rn(t,t.getTime()-F_(t)-r)}incompatibleTokens=["t","T","X"]}class jVe extends pn{priority=40;parse(t){return HJ(t)}set(t,n,r){return[Rn(t,r*1e3),{timestampIsSet:!0}]}incompatibleTokens="*"}class zVe extends pn{priority=20;parse(t){return HJ(t)}set(t,n,r){return[Rn(t,r),{timestampIsSet:!0}]}incompatibleTokens="*"}const HVe={G:new oVe,y:new sVe,Y:new aVe,R:new lVe,u:new cVe,Q:new dVe,q:new uVe,M:new hVe,L:new fVe,w:new gVe,I:new bVe,d:new CVe,D:new yVe,E:new kVe,e:new xVe,c:new AVe,i:new _Ve,a:new EVe,b:new DVe,B:new MVe,h:new TVe,H:new RVe,K:new PVe,k:new IVe,m:new NVe,s:new OVe,S:new FVe,X:new LVe,x:new BVe,t:new jVe,T:new zVe},VVe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,GVe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,UVe=/^'([^]*?)'?$/,WVe=/''/g,$Ve=/\S/,qVe=/[a-zA-Z]/;function KVe(e,t,n,r){const o=()=>Rn(r?.in||n,NaN),a=Z7e(),l=r?.locale??a.locale??LJ,d=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,f=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??a.weekStartsOn??a.locale?.options?.weekStartsOn??0;if(!t)return e?o():ot(n,r?.in);const m={firstWeekContainsDate:d,weekStartsOn:f,locale:l},v=[new iVe(r?.in,n)],C=t.match(GVe).map(P=>{const N=P[0];if(N in nN){const j=nN[N];return j(P,l.formatLong)}return P}).join("").match(VVe),y=[];for(let P of C){const N=P[0],j=HVe[N];if(j){const{incompatibleTokens:L}=j;if(Array.isArray(L)){const U=y.find($=>L.includes($.token)||$.token===N);if(U)throw new RangeError(`The format string mustn't contain \`${U.fullToken}\` and \`${P}\` at the same time`)}else if(j.incompatibleTokens==="*"&&y.length>0)throw new RangeError(`The format string mustn't contain \`${P}\` and any other token at the same time`);y.push({token:N,fullToken:P});const V=j.run(e,P,l.match,m);if(!V)return o();v.push(V.setter),e=V.rest}else{if(N.match(qVe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+N+"`");if(P==="''"?P="'":N==="'"&&(P=YVe(P)),e.indexOf(P)===0)e=e.slice(P.length);else return o()}}if(e.length>0&&$Ve.test(e))return o();const S=v.map(P=>P.priority).sort((P,N)=>N-P).filter((P,N,j)=>j.indexOf(P)===N).map(P=>v.filter(N=>N.priority===P).sort((N,j)=>j.subPriority-N.subPriority)).map(P=>P[0]);let E=ot(n,r?.in);if(isNaN(+E))return o();const T={};for(const P of S){if(!P.validate(E,m))return o();const N=P.set(E,T,m);Array.isArray(N)?(E=N[0],Object.assign(T,N[1])):E=N}return E}function YVe(e){return e.match(UVe)[1].replace(WVe,"'")}function QVe(e,t,n){const[r,o]=au(n?.in,e,t);return r.getFullYear()===o.getFullYear()&&r.getMonth()===o.getMonth()}function ZVe(e,t,n){const[r,o]=au(n?.in,e,t);return+tN(r)==+tN(o)}function XVe(e,t,n){const[r,o]=au(n?.in,e,t);return r.getFullYear()===o.getFullYear()}function u0(e,t,n){const r=+ot(e,n?.in),[o,a]=[+ot(t.start,n?.in),+ot(t.end,n?.in)].sort((l,d)=>l-d);return r>=o&&r<=a}function JVe(e,t,n){return Xa(e,-1,n)}function e9e(e,t){const n=()=>Rn(t?.in,NaN),o=i9e(e);let a;if(o.date){const m=o9e(o.date,2);a=s9e(m.restDateString,m.year)}if(!a||isNaN(+a))return n();const l=+a;let d=0,f;if(o.time&&(d=a9e(o.time),isNaN(d)))return n();if(o.timezone){if(f=l9e(o.timezone),isNaN(f))return n()}else{const m=new Date(l+d),v=ot(0,t?.in);return v.setFullYear(m.getUTCFullYear(),m.getUTCMonth(),m.getUTCDate()),v.setHours(m.getUTCHours(),m.getUTCMinutes(),m.getUTCSeconds(),m.getUTCMilliseconds()),v}return ot(l+d+f,t?.in)}const T1={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},t9e=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,n9e=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,r9e=/^([+-])(\d{2})(?::?(\d{2}))?$/;function i9e(e){const t={},n=e.split(T1.dateTimeDelimiter);let r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],T1.timeZoneDelimiter.test(t.date)&&(t.date=e.split(T1.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){const o=T1.timezone.exec(r);o?(t.time=r.replace(o[1],""),t.timezone=o[1]):t.time=r}return t}function o9e(e,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};const o=r[1]?parseInt(r[1]):null,a=r[2]?parseInt(r[2]):null;return{year:a===null?o:a*100,restDateString:e.slice((r[1]||r[2]).length)}}function s9e(e,t){if(t===null)return new Date(NaN);const n=e.match(t9e);if(!n)return new Date(NaN);const r=!!n[4],o=fy(n[1]),a=fy(n[2])-1,l=fy(n[3]),d=fy(n[4]),f=fy(n[5])-1;if(r)return f9e(t,d,f)?c9e(t,d,f):new Date(NaN);{const m=new Date(0);return!u9e(t,a,l)||!h9e(t,o)?new Date(NaN):(m.setUTCFullYear(t,a,Math.max(o,l)),m)}}function fy(e){return e?parseInt(e):1}function a9e(e){const t=e.match(n9e);if(!t)return NaN;const n=ZR(t[1]),r=ZR(t[2]),o=ZR(t[3]);return p9e(n,r,o)?n*uD+r*dD+o*1e3:NaN}function ZR(e){return e&&parseFloat(e.replace(",","."))||0}function l9e(e){if(e==="Z")return 0;const t=e.match(r9e);if(!t)return 0;const n=t[1]==="+"?-1:1,r=parseInt(t[2]),o=t[3]&&parseInt(t[3])||0;return g9e(r,o)?n*(r*uD+o*dD):NaN}function c9e(e,t,n){const r=new Date(0);r.setUTCFullYear(e,0,4);const o=r.getUTCDay()||7,a=(t-1)*7+n+1-o;return r.setUTCDate(r.getUTCDate()+a),r}const d9e=[31,null,31,30,31,30,31,31,30,31,30,31];function UJ(e){return e%400===0||e%4===0&&e%100!==0}function u9e(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(d9e[t]||(UJ(e)?29:28))}function h9e(e,t){return t>=1&&t<=(UJ(e)?366:365)}function f9e(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function p9e(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function g9e(e,t){return t>=0&&t<=59}function gs(e,t,n){const r=ot(e,n?.in),o=r.getFullYear(),a=r.getDate(),l=Rn(e,0);l.setFullYear(o,t,15),l.setHours(0,0,0,0);const d=Q7e(l);return r.setMonth(t,Math.min(a,d)),r}function lS(e,t,n){const r=ot(e,n?.in);return r.setHours(t),r}function cS(e,t,n){const r=ot(e,n?.in);return r.setMinutes(t),r}function ob(e,t,n){const r=ot(e,n?.in),o=Math.trunc(r.getMonth()/3)+1,a=t-o;return gs(r,r.getMonth()+a*3)}function dS(e,t,n){const r=ot(e,n?.in);return r.setSeconds(t),r}function Kl(e,t,n){const r=ot(e,n?.in);return isNaN(+r)?Rn(e,NaN):(r.setFullYear(t),r)}function zp(e,t,n){return rl(e,-t,n)}function WJ(e,t,n){return r4(e,-1,n)}function aG(e,t,n){return L_(e,-1,n)}function qb(e,t,n){return Dd(e,-t,n)}function fD(){return typeof window<"u"}function mv(e){return $J(e)?(e.nodeName||"").toLowerCase():"#document"}function As(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function yc(e){var t;return(t=($J(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function $J(e){return fD()?e instanceof Node||e instanceof As(e).Node:!1}function wo(e){return fD()?e instanceof Element||e instanceof As(e).Element:!1}function gc(e){return fD()?e instanceof HTMLElement||e instanceof As(e).HTMLElement:!1}function lG(e){return!fD()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof As(e).ShadowRoot}const m9e=new Set(["inline","contents"]);function Q0(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=ha(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!m9e.has(o)}const b9e=new Set(["table","td","th"]);function v9e(e){return b9e.has(mv(e))}const w9e=[":popover-open",":modal"];function pD(e){return w9e.some(t=>{try{return e.matches(t)}catch{return!1}})}const C9e=["transform","translate","scale","rotate","perspective"],y9e=["transform","translate","scale","rotate","perspective","filter"],k9e=["paint","layout","strict","content"];function l4(e){const t=c4(),n=wo(e)?ha(e):e;return C9e.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||y9e.some(r=>(n.willChange||"").includes(r))||k9e.some(r=>(n.contain||"").includes(r))}function x9e(e){let t=Hh(e);for(;gc(t)&&!Kb(t);){if(l4(t))return t;if(pD(t))return null;t=Hh(t)}return null}function c4(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const A9e=new Set(["html","body","#document"]);function Kb(e){return A9e.has(mv(e))}function ha(e){return As(e).getComputedStyle(e)}function gD(e){return wo(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Hh(e){if(mv(e)==="html")return e;const t=e.assignedSlot||e.parentNode||lG(e)&&e.host||yc(e);return lG(t)?t.host:t}function qJ(e){const t=Hh(e);return Kb(t)?e.ownerDocument?e.ownerDocument.body:e.body:gc(t)&&Q0(t)?t:qJ(t)}function h0(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=qJ(e),a=o===((r=e.ownerDocument)==null?void 0:r.body),l=As(o);if(a){const d=iN(l);return t.concat(l,l.visualViewport||[],Q0(o)?o:[],d&&n?h0(d):[])}return t.concat(o,h0(o,[],n))}function iN(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}const Yb=Math.min,Hp=Math.max,G_=Math.round,R1=Math.floor,lc=e=>({x:e,y:e}),S9e={left:"right",right:"left",bottom:"top",top:"bottom"},_9e={start:"end",end:"start"};function E9e(e,t,n){return Hp(e,Yb(t,n))}function mD(e,t){return typeof e=="function"?e(t):e}function Qb(e){return e.split("-")[0]}function Z0(e){return e.split("-")[1]}function D9e(e){return e==="x"?"y":"x"}function d4(e){return e==="y"?"height":"width"}const M9e=new Set(["top","bottom"]);function _p(e){return M9e.has(Qb(e))?"y":"x"}function u4(e){return D9e(_p(e))}function T9e(e,t,n){n===void 0&&(n=!1);const r=Z0(e),o=u4(e),a=d4(o);let l=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(l=U_(l)),[l,U_(l)]}function R9e(e){const t=U_(e);return[oN(e),t,oN(t)]}function oN(e){return e.replace(/start|end/g,t=>_9e[t])}const cG=["left","right"],dG=["right","left"],P9e=["top","bottom"],I9e=["bottom","top"];function N9e(e,t,n){switch(e){case"top":case"bottom":return n?t?dG:cG:t?cG:dG;case"left":case"right":return t?P9e:I9e;default:return[]}}function O9e(e,t,n,r){const o=Z0(e);let a=N9e(Qb(e),n==="start",r);return o&&(a=a.map(l=>l+"-"+o),t&&(a=a.concat(a.map(oN)))),a}function U_(e){return e.replace(/left|right|bottom|top/g,t=>S9e[t])}function F9e(e){return{top:0,right:0,bottom:0,left:0,...e}}function KJ(e){return typeof e!="number"?F9e(e):{top:e,right:e,bottom:e,left:e}}function W_(e){const{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}var L9e=typeof document<"u",B9e=function(){},$_=L9e?M.useLayoutEffect:B9e;const j9e={...aN},z9e=j9e.useInsertionEffect,H9e=z9e||(e=>e());function V9e(e){const t=M.useRef(()=>{});return H9e(()=>{t.current=e}),M.useCallback(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.current==null?void 0:t.current(...r)},[])}function uG(e,t,n){let{reference:r,floating:o}=e;const a=_p(t),l=u4(t),d=d4(l),f=Qb(t),m=a==="y",v=r.x+r.width/2-o.width/2,C=r.y+r.height/2-o.height/2,y=r[d]/2-o[d]/2;let S;switch(f){case"top":S={x:v,y:r.y-o.height};break;case"bottom":S={x:v,y:r.y+r.height};break;case"right":S={x:r.x+r.width,y:C};break;case"left":S={x:r.x-o.width,y:C};break;default:S={x:r.x,y:r.y}}switch(Z0(t)){case"start":S[l]-=y*(n&&m?-1:1);break;case"end":S[l]+=y*(n&&m?-1:1);break}return S}const G9e=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:a=[],platform:l}=n,d=a.filter(Boolean),f=await(l.isRTL==null?void 0:l.isRTL(t));let m=await l.getElementRects({reference:e,floating:t,strategy:o}),{x:v,y:C}=uG(m,r,f),y=r,S={},E=0;for(let T=0;T<d.length;T++){const{name:P,fn:N}=d[T],{x:j,y:L,data:V,reset:U}=await N({x:v,y:C,initialPlacement:r,placement:y,strategy:o,middlewareData:S,rects:m,platform:l,elements:{reference:e,floating:t}});v=j??v,C=L??C,S={...S,[P]:{...S[P],...V}},U&&E<=50&&(E++,typeof U=="object"&&(U.placement&&(y=U.placement),U.rects&&(m=U.rects===!0?await l.getElementRects({reference:e,floating:t,strategy:o}):U.rects),{x:v,y:C}=uG(m,y,f)),T=-1)}return{x:v,y:C,placement:y,strategy:o,middlewareData:S}};async function U9e(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:a,rects:l,elements:d,strategy:f}=e,{boundary:m="clippingAncestors",rootBoundary:v="viewport",elementContext:C="floating",altBoundary:y=!1,padding:S=0}=mD(t,e),E=KJ(S),P=d[y?C==="floating"?"reference":"floating":C],N=W_(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(P)))==null||n?P:P.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(d.floating)),boundary:m,rootBoundary:v,strategy:f})),j=C==="floating"?{x:r,y:o,width:l.floating.width,height:l.floating.height}:l.reference,L=await(a.getOffsetParent==null?void 0:a.getOffsetParent(d.floating)),V=await(a.isElement==null?void 0:a.isElement(L))?await(a.getScale==null?void 0:a.getScale(L))||{x:1,y:1}:{x:1,y:1},U=W_(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:j,offsetParent:L,strategy:f}):j);return{top:(N.top-U.top+E.top)/V.y,bottom:(U.bottom-N.bottom+E.bottom)/V.y,left:(N.left-U.left+E.left)/V.x,right:(U.right-N.right+E.right)/V.x}}const W9e=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:a,platform:l,elements:d,middlewareData:f}=t,{element:m,padding:v=0}=mD(e,t)||{};if(m==null)return{};const C=KJ(v),y={x:n,y:r},S=u4(o),E=d4(S),T=await l.getDimensions(m),P=S==="y",N=P?"top":"left",j=P?"bottom":"right",L=P?"clientHeight":"clientWidth",V=a.reference[E]+a.reference[S]-y[S]-a.floating[E],U=y[S]-a.reference[S],$=await(l.getOffsetParent==null?void 0:l.getOffsetParent(m));let z=$?$[L]:0;(!z||!await(l.isElement==null?void 0:l.isElement($)))&&(z=d.floating[L]||a.floating[E]);const K=V/2-U/2,te=z/2-T[E]/2-1,ae=Yb(C[N],te),X=Yb(C[j],te),Z=ae,se=z-T[E]-X,Q=z/2-T[E]/2+K,J=E9e(Z,Q,se),re=!f.arrow&&Z0(o)!=null&&Q!==J&&a.reference[E]/2-(Q<Z?ae:X)-T[E]/2<0,ee=re?Q<Z?Q-Z:Q-se:0;return{[S]:y[S]+ee,data:{[S]:J,centerOffset:Q-J-ee,...re&&{alignmentOffset:ee}},reset:re}}}),$9e=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:a,rects:l,initialPlacement:d,platform:f,elements:m}=t,{mainAxis:v=!0,crossAxis:C=!0,fallbackPlacements:y,fallbackStrategy:S="bestFit",fallbackAxisSideDirection:E="none",flipAlignment:T=!0,...P}=mD(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const N=Qb(o),j=_p(d),L=Qb(d)===d,V=await(f.isRTL==null?void 0:f.isRTL(m.floating)),U=y||(L||!T?[U_(d)]:R9e(d)),$=E!=="none";!y&&$&&U.push(...O9e(d,T,E,V));const z=[d,...U],K=await U9e(t,P),te=[];let ae=((r=a.flip)==null?void 0:r.overflows)||[];if(v&&te.push(K[N]),C){const Q=T9e(o,l,V);te.push(K[Q[0]],K[Q[1]])}if(ae=[...ae,{placement:o,overflows:te}],!te.every(Q=>Q<=0)){var X,Z;const Q=(((X=a.flip)==null?void 0:X.index)||0)+1,J=z[Q];if(J&&(!(C==="alignment"?j!==_p(J):!1)||ae.every(le=>_p(le.placement)===j?le.overflows[0]>0:!0)))return{data:{index:Q,overflows:ae},reset:{placement:J}};let re=(Z=ae.filter(ee=>ee.overflows[0]<=0).sort((ee,le)=>ee.overflows[1]-le.overflows[1])[0])==null?void 0:Z.placement;if(!re)switch(S){case"bestFit":{var se;const ee=(se=ae.filter(le=>{if($){const ce=_p(le.placement);return ce===j||ce==="y"}return!0}).map(le=>[le.placement,le.overflows.filter(ce=>ce>0).reduce((ce,he)=>ce+he,0)]).sort((le,ce)=>le[1]-ce[1])[0])==null?void 0:se[0];ee&&(re=ee);break}case"initialPlacement":re=d;break}if(o!==re)return{reset:{placement:re}}}return{}}}},q9e=new Set(["left","top"]);async function K9e(e,t){const{placement:n,platform:r,elements:o}=e,a=await(r.isRTL==null?void 0:r.isRTL(o.floating)),l=Qb(n),d=Z0(n),f=_p(n)==="y",m=q9e.has(l)?-1:1,v=a&&f?-1:1,C=mD(t,e);let{mainAxis:y,crossAxis:S,alignmentAxis:E}=typeof C=="number"?{mainAxis:C,crossAxis:0,alignmentAxis:null}:{mainAxis:C.mainAxis||0,crossAxis:C.crossAxis||0,alignmentAxis:C.alignmentAxis};return d&&typeof E=="number"&&(S=d==="end"?E*-1:E),f?{x:S*v,y:y*m}:{x:y*m,y:S*v}}const Y9e=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:a,placement:l,middlewareData:d}=t,f=await K9e(t,e);return l===((n=d.offset)==null?void 0:n.placement)&&(r=d.arrow)!=null&&r.alignmentOffset?{}:{x:o+f.x,y:a+f.y,data:{...f,placement:l}}}}};function YJ(e){const t=ha(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=gc(e),a=o?e.offsetWidth:n,l=o?e.offsetHeight:r,d=G_(n)!==a||G_(r)!==l;return d&&(n=a,r=l),{width:n,height:r,$:d}}function h4(e){return wo(e)?e:e.contextElement}function Ab(e){const t=h4(e);if(!gc(t))return lc(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:a}=YJ(t);let l=(a?G_(n.width):n.width)/r,d=(a?G_(n.height):n.height)/o;return(!l||!Number.isFinite(l))&&(l=1),(!d||!Number.isFinite(d))&&(d=1),{x:l,y:d}}const Q9e=lc(0);function QJ(e){const t=As(e);return!c4()||!t.visualViewport?Q9e:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Z9e(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==As(e)?!1:t}function Jp(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),a=h4(e);let l=lc(1);t&&(r?wo(r)&&(l=Ab(r)):l=Ab(e));const d=Z9e(a,n,r)?QJ(a):lc(0);let f=(o.left+d.x)/l.x,m=(o.top+d.y)/l.y,v=o.width/l.x,C=o.height/l.y;if(a){const y=As(a),S=r&&wo(r)?As(r):r;let E=y,T=iN(E);for(;T&&r&&S!==E;){const P=Ab(T),N=T.getBoundingClientRect(),j=ha(T),L=N.left+(T.clientLeft+parseFloat(j.paddingLeft))*P.x,V=N.top+(T.clientTop+parseFloat(j.paddingTop))*P.y;f*=P.x,m*=P.y,v*=P.x,C*=P.y,f+=L,m+=V,E=As(T),T=iN(E)}}return W_({width:v,height:C,x:f,y:m})}function bD(e,t){const n=gD(e).scrollLeft;return t?t.left+n:Jp(yc(e)).left+n}function ZJ(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-bD(e,n),o=n.top+t.scrollTop;return{x:r,y:o}}function X9e(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const a=o==="fixed",l=yc(r),d=t?pD(t.floating):!1;if(r===l||d&&a)return n;let f={scrollLeft:0,scrollTop:0},m=lc(1);const v=lc(0),C=gc(r);if((C||!C&&!a)&&((mv(r)!=="body"||Q0(l))&&(f=gD(r)),gc(r))){const S=Jp(r);m=Ab(r),v.x=S.x+r.clientLeft,v.y=S.y+r.clientTop}const y=l&&!C&&!a?ZJ(l,f):lc(0);return{width:n.width*m.x,height:n.height*m.y,x:n.x*m.x-f.scrollLeft*m.x+v.x+y.x,y:n.y*m.y-f.scrollTop*m.y+v.y+y.y}}function J9e(e){return Array.from(e.getClientRects())}function eGe(e){const t=yc(e),n=gD(e),r=e.ownerDocument.body,o=Hp(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=Hp(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let l=-n.scrollLeft+bD(e);const d=-n.scrollTop;return ha(r).direction==="rtl"&&(l+=Hp(t.clientWidth,r.clientWidth)-o),{width:o,height:a,x:l,y:d}}const hG=25;function tGe(e,t){const n=As(e),r=yc(e),o=n.visualViewport;let a=r.clientWidth,l=r.clientHeight,d=0,f=0;if(o){a=o.width,l=o.height;const v=c4();(!v||v&&t==="fixed")&&(d=o.offsetLeft,f=o.offsetTop)}const m=bD(r);if(m<=0){const v=r.ownerDocument,C=v.body,y=getComputedStyle(C),S=v.compatMode==="CSS1Compat"&&parseFloat(y.marginLeft)+parseFloat(y.marginRight)||0,E=Math.abs(r.clientWidth-C.clientWidth-S);E<=hG&&(a-=E)}else m<=hG&&(a+=m);return{width:a,height:l,x:d,y:f}}const nGe=new Set(["absolute","fixed"]);function rGe(e,t){const n=Jp(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,a=gc(e)?Ab(e):lc(1),l=e.clientWidth*a.x,d=e.clientHeight*a.y,f=o*a.x,m=r*a.y;return{width:l,height:d,x:f,y:m}}function fG(e,t,n){let r;if(t==="viewport")r=tGe(e,n);else if(t==="document")r=eGe(yc(e));else if(wo(t))r=rGe(t,n);else{const o=QJ(e);r={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return W_(r)}function XJ(e,t){const n=Hh(e);return n===t||!wo(n)||Kb(n)?!1:ha(n).position==="fixed"||XJ(n,t)}function iGe(e,t){const n=t.get(e);if(n)return n;let r=h0(e,[],!1).filter(d=>wo(d)&&mv(d)!=="body"),o=null;const a=ha(e).position==="fixed";let l=a?Hh(e):e;for(;wo(l)&&!Kb(l);){const d=ha(l),f=l4(l);!f&&d.position==="fixed"&&(o=null),(a?!f&&!o:!f&&d.position==="static"&&!!o&&nGe.has(o.position)||Q0(l)&&!f&&XJ(e,l))?r=r.filter(v=>v!==l):o=d,l=Hh(l)}return t.set(e,r),r}function oGe(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const l=[...n==="clippingAncestors"?pD(t)?[]:iGe(t,this._c):[].concat(n),r],d=l[0],f=l.reduce((m,v)=>{const C=fG(t,v,o);return m.top=Hp(C.top,m.top),m.right=Yb(C.right,m.right),m.bottom=Yb(C.bottom,m.bottom),m.left=Hp(C.left,m.left),m},fG(t,d,o));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function sGe(e){const{width:t,height:n}=YJ(e);return{width:t,height:n}}function aGe(e,t,n){const r=gc(t),o=yc(t),a=n==="fixed",l=Jp(e,!0,a,t);let d={scrollLeft:0,scrollTop:0};const f=lc(0);function m(){f.x=bD(o)}if(r||!r&&!a)if((mv(t)!=="body"||Q0(o))&&(d=gD(t)),r){const S=Jp(t,!0,a,t);f.x=S.x+t.clientLeft,f.y=S.y+t.clientTop}else o&&m();a&&!r&&o&&m();const v=o&&!r&&!a?ZJ(o,d):lc(0),C=l.left+d.scrollLeft-f.x-v.x,y=l.top+d.scrollTop-f.y-v.y;return{x:C,y,width:l.width,height:l.height}}function XR(e){return ha(e).position==="static"}function pG(e,t){if(!gc(e)||ha(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return yc(e)===n&&(n=n.ownerDocument.body),n}function JJ(e,t){const n=As(e);if(pD(e))return n;if(!gc(e)){let o=Hh(e);for(;o&&!Kb(o);){if(wo(o)&&!XR(o))return o;o=Hh(o)}return n}let r=pG(e,t);for(;r&&v9e(r)&&XR(r);)r=pG(r,t);return r&&Kb(r)&&XR(r)&&!l4(r)?n:r||x9e(e)||n}const lGe=async function(e){const t=this.getOffsetParent||JJ,n=this.getDimensions,r=await n(e.floating);return{reference:aGe(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function cGe(e){return ha(e).direction==="rtl"}const dGe={convertOffsetParentRelativeRectToViewportRelativeRect:X9e,getDocumentElement:yc,getClippingRect:oGe,getOffsetParent:JJ,getElementRects:lGe,getClientRects:J9e,getDimensions:sGe,getScale:Ab,isElement:wo,isRTL:cGe};function eee(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function uGe(e,t){let n=null,r;const o=yc(e);function a(){var d;clearTimeout(r),(d=n)==null||d.disconnect(),n=null}function l(d,f){d===void 0&&(d=!1),f===void 0&&(f=1),a();const m=e.getBoundingClientRect(),{left:v,top:C,width:y,height:S}=m;if(d||t(),!y||!S)return;const E=R1(C),T=R1(o.clientWidth-(v+y)),P=R1(o.clientHeight-(C+S)),N=R1(v),L={rootMargin:-E+"px "+-T+"px "+-P+"px "+-N+"px",threshold:Hp(0,Yb(1,f))||1};let V=!0;function U($){const z=$[0].intersectionRatio;if(z!==f){if(!V)return l();z?l(!1,z):r=setTimeout(()=>{l(!1,1e-7)},1e3)}z===1&&!eee(m,e.getBoundingClientRect())&&l(),V=!1}try{n=new IntersectionObserver(U,{...L,root:o.ownerDocument})}catch{n=new IntersectionObserver(U,L)}n.observe(e)}return l(!0),a}function hGe(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:a=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:f=!1}=r,m=h4(e),v=o||a?[...m?h0(m):[],...h0(t)]:[];v.forEach(N=>{o&&N.addEventListener("scroll",n,{passive:!0}),a&&N.addEventListener("resize",n)});const C=m&&d?uGe(m,n):null;let y=-1,S=null;l&&(S=new ResizeObserver(N=>{let[j]=N;j&&j.target===m&&S&&(S.unobserve(t),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var L;(L=S)==null||L.observe(t)})),n()}),m&&!f&&S.observe(m),S.observe(t));let E,T=f?Jp(e):null;f&&P();function P(){const N=Jp(e);T&&!eee(T,N)&&n(),T=N,E=requestAnimationFrame(P)}return n(),()=>{var N;v.forEach(j=>{o&&j.removeEventListener("scroll",n),a&&j.removeEventListener("resize",n)}),C?.(),(N=S)==null||N.disconnect(),S=null,f&&cancelAnimationFrame(E)}}const fGe=Y9e,pGe=$9e,gG=W9e,gGe=(e,t,n)=>{const r=new Map,o={platform:dGe,...n},a={...o.platform,_c:r};return G9e(e,t,{...o,platform:a})};var mGe=typeof document<"u",bGe=function(){},uS=mGe?M.useLayoutEffect:bGe;function q_(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!q_(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const a=o[r];if(!(a==="_owner"&&e.$$typeof)&&!q_(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function tee(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function mG(e,t){const n=tee(e);return Math.round(t*n)/n}function JR(e){const t=M.useRef(e);return uS(()=>{t.current=e}),t}function vGe(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:a,floating:l}={},transform:d=!0,whileElementsMounted:f,open:m}=e,[v,C]=M.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[y,S]=M.useState(r);q_(y,r)||S(r);const[E,T]=M.useState(null),[P,N]=M.useState(null),j=M.useCallback(le=>{le!==$.current&&($.current=le,T(le))},[]),L=M.useCallback(le=>{le!==z.current&&(z.current=le,N(le))},[]),V=a||E,U=l||P,$=M.useRef(null),z=M.useRef(null),K=M.useRef(v),te=f!=null,ae=JR(f),X=JR(o),Z=JR(m),se=M.useCallback(()=>{if(!$.current||!z.current)return;const le={placement:t,strategy:n,middleware:y};X.current&&(le.platform=X.current),gGe($.current,z.current,le).then(ce=>{const he={...ce,isPositioned:Z.current!==!1};Q.current&&!q_(K.current,he)&&(K.current=he,tg.flushSync(()=>{C(he)}))})},[y,t,n,X,Z]);uS(()=>{m===!1&&K.current.isPositioned&&(K.current.isPositioned=!1,C(le=>({...le,isPositioned:!1})))},[m]);const Q=M.useRef(!1);uS(()=>(Q.current=!0,()=>{Q.current=!1}),[]),uS(()=>{if(V&&($.current=V),U&&(z.current=U),V&&U){if(ae.current)return ae.current(V,U,se);se()}},[V,U,se,ae,te]);const J=M.useMemo(()=>({reference:$,floating:z,setReference:j,setFloating:L}),[j,L]),re=M.useMemo(()=>({reference:V,floating:U}),[V,U]),ee=M.useMemo(()=>{const le={position:n,left:0,top:0};if(!re.floating)return le;const ce=mG(re.floating,v.x),he=mG(re.floating,v.y);return d?{...le,transform:"translate("+ce+"px, "+he+"px)",...tee(re.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ce,top:he}},[n,d,re.floating,v.x,v.y]);return M.useMemo(()=>({...v,update:se,refs:J,elements:re,floatingStyles:ee}),[v,se,J,re,ee])}const wGe=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:o}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?gG({element:r.current,padding:o}).fn(n):{}:r?gG({element:r,padding:o}).fn(n):{}}}},CGe=(e,t)=>({...fGe(e),options:[e,t]}),yGe=(e,t)=>({...pGe(e),options:[e,t]}),kGe=(e,t)=>({...wGe(e),options:[e,t]}),xGe={...aN};let bG=!1,AGe=0;const vG=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+AGe++;function SGe(){const[e,t]=M.useState(()=>bG?vG():void 0);return $_(()=>{e==null&&t(vG())},[]),M.useEffect(()=>{bG=!0},[]),e}const _Ge=xGe.useId,nee=_Ge||SGe,EGe=M.forwardRef(function(t,n){const{context:{placement:r,elements:{floating:o},middlewareData:{arrow:a,shift:l}},width:d=14,height:f=7,tipRadius:m=0,strokeWidth:v=0,staticOffset:C,stroke:y,d:S,style:{transform:E,...T}={},...P}=t,N=nee(),[j,L]=M.useState(!1);if($_(()=>{if(!o)return;ha(o).direction==="rtl"&&L(!0)},[o]),!o)return null;const[V,U]=r.split("-"),$=V==="top"||V==="bottom";let z=C;($&&l!=null&&l.x||!$&&l!=null&&l.y)&&(z=null);const K=v*2,te=K/2,ae=d/2*(m/-8+1),X=f/2*m/4,Z=!!S,se=z&&U==="end"?"bottom":"top";let Q=z&&U==="end"?"right":"left";z&&j&&(Q=U==="end"?"left":"right");const J=a?.x!=null?z||a.x:"",re=a?.y!=null?z||a.y:"",ee=S||"M0,0"+(" H"+d)+(" L"+(d-ae)+","+(f-X))+(" Q"+d/2+","+f+" "+ae+","+(f-X))+" Z",le={top:Z?"rotate(180deg)":"",left:Z?"rotate(90deg)":"rotate(-90deg)",bottom:Z?"":"rotate(180deg)",right:Z?"rotate(-90deg)":"rotate(90deg)"}[V];return A.jsxs("svg",{...P,"aria-hidden":!0,ref:n,width:Z?d:d+K,height:d,viewBox:"0 0 "+d+" "+(f>d?f:d),style:{position:"absolute",pointerEvents:"none",[Q]:J,[se]:re,[V]:$||Z?"100%":"calc(100% - "+K/2+"px)",transform:[le,E].filter(ce=>!!ce).join(" "),...T},children:[K>0&&A.jsx("path",{clipPath:"url(#"+N+")",fill:"none",stroke:y,strokeWidth:K+(S?0:1),d:ee}),A.jsx("path",{stroke:K&&!S?P.fill:"none",d:ee}),A.jsx("clipPath",{id:N,children:A.jsx("rect",{x:-te,y:te*(Z?-1:1),width:d+K,height:d})})]})});function DGe(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(o=>o(n))},on(t,n){e.has(t)||e.set(t,new Set),e.get(t).add(n)},off(t,n){var r;(r=e.get(t))==null||r.delete(n)}}}const MGe=M.createContext(null),TGe=M.createContext(null),RGe=()=>{var e;return((e=M.useContext(MGe))==null?void 0:e.id)||null},PGe=()=>M.useContext(TGe);function IGe(e){const{open:t=!1,onOpenChange:n,elements:r}=e,o=nee(),a=M.useRef({}),[l]=M.useState(()=>DGe()),d=RGe()!=null,[f,m]=M.useState(r.reference),v=V9e((S,E,T)=>{a.current.openEvent=S?E:void 0,l.emit("openchange",{open:S,event:E,reason:T,nested:d}),n?.(S,E,T)}),C=M.useMemo(()=>({setPositionReference:m}),[]),y=M.useMemo(()=>({reference:f||r.reference||null,floating:r.floating||null,domReference:r.reference}),[f,r.reference,r.floating]);return M.useMemo(()=>({dataRef:a,open:t,onOpenChange:v,elements:y,events:l,floatingId:o,refs:C}),[t,v,y,l,o,C])}function NGe(e){e===void 0&&(e={});const{nodeId:t}=e,n=IGe({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,o=r.elements,[a,l]=M.useState(null),[d,f]=M.useState(null),v=o?.domReference||a,C=M.useRef(null),y=PGe();$_(()=>{v&&(C.current=v)},[v]);const S=vGe({...e,elements:{...o,...d&&{reference:d}}}),E=M.useCallback(L=>{const V=wo(L)?{getBoundingClientRect:()=>L.getBoundingClientRect(),getClientRects:()=>L.getClientRects(),contextElement:L}:L;f(V),S.refs.setReference(V)},[S.refs]),T=M.useCallback(L=>{(wo(L)||L===null)&&(C.current=L,l(L)),(wo(S.refs.reference.current)||S.refs.reference.current===null||L!==null&&!wo(L))&&S.refs.setReference(L)},[S.refs]),P=M.useMemo(()=>({...S.refs,setReference:T,setPositionReference:E,domReference:C}),[S.refs,T,E]),N=M.useMemo(()=>({...S.elements,domReference:v}),[S.elements,v]),j=M.useMemo(()=>({...S,...r,refs:P,elements:N,nodeId:t}),[S,P,N,t,r]);return $_(()=>{r.dataRef.current.floatingContext=j;const L=y?.nodesRef.current.find(V=>V.id===t);L&&(L.context=j)}),M.useMemo(()=>({...S,context:j,refs:P,elements:N}),[S,P,N,j])}var sN=function(t,n){return sN=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])},sN(t,n)};function Ai(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");sN(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var qt=function(){return qt=Object.assign||function(n){for(var r,o=1,a=arguments.length;o<a;o++){r=arguments[o];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(n[l]=r[l])}return n},qt.apply(this,arguments)};function ic(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,a;r<o;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}var OGe=function(e){var t=e.showTimeSelectOnly,n=t===void 0?!1:t,r=e.showTime,o=r===void 0?!1:r,a=e.className,l=e.children,d=e.inline,f=n?"Choose Time":"Choose Date".concat(o?" and Time":"");return ue.createElement("div",{className:a,"aria-label":f,role:d?void 0:"dialog","aria-modal":d?void 0:"true"},l)},FGe=function(e,t){var n=M.useRef(null),r=M.useRef(e);M.useEffect(function(){r.current=e},[e]);var o=M.useCallback(function(a){var l,d=a.composed&&a.composedPath&&a.composedPath().find(function(f){return f instanceof Node})||a.target;n.current&&!n.current.contains(d)&&(t&&d instanceof HTMLElement&&d.classList.contains(t)||(l=r.current)===null||l===void 0||l.call(r,a))},[t]);return M.useEffect(function(){return document.addEventListener("mousedown",o),function(){document.removeEventListener("mousedown",o)}},[o]),n},vD=function(e){var t=e.children,n=e.onClickOutside,r=e.className,o=e.containerRef,a=e.style,l=e.ignoreClass,d=FGe(n,l);return ue.createElement("div",{className:r,style:a,ref:function(f){d.current=f,o&&(o.current=f)}},t)},tt;(function(e){e.ArrowUp="ArrowUp",e.ArrowDown="ArrowDown",e.ArrowLeft="ArrowLeft",e.ArrowRight="ArrowRight",e.PageUp="PageUp",e.PageDown="PageDown",e.Home="Home",e.End="End",e.Enter="Enter",e.Space=" ",e.Tab="Tab",e.Escape="Escape",e.Backspace="Backspace",e.X="x"})(tt||(tt={}));function ree(){var e=typeof window<"u"?window:globalThis;return e}var X0=12;function wn(e){if(e==null)return new Date;var t=typeof e=="string"?e9e(e):ot(e);return ec(t)?t:new Date}function eP(e,t,n,r,o){o===void 0&&(o=wn());for(var a=Zb(n)||Zb(f4()),l=Array.isArray(t)?t:[t],d=0,f=l;d<f.length;d++){var m=f[d],v=KVe(e,m,o,{locale:a});if(ec(v)&&(!r||e===rr(v,m,n)))return v}return null}function ec(e,t){return B_(e)&&!rc(e,new Date("1/1/1800"))}function rr(e,t,n){if(n==="en")return oG(e,t,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var r=n?Zb(n):void 0;return n&&!r&&console.warn('A locale object was not found for the provided string ["'.concat(n,'"].')),r=r||Zb(f4()),oG(e,t,{locale:r,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function ps(e,t){var n=t.dateFormat,r=t.locale,o=Array.isArray(n)&&n.length>0?n[0]:n;return e&&rr(e,o,r)||""}var iee=" - ";function LGe(e,t,n){if(!e&&!t)return"";var r=e?ps(e,n):"",o=t?ps(t,n):"",a=n.rangeSeparator||iee;return"".concat(r).concat(a).concat(o)}function BGe(e,t){if(!e?.length)return"";var n=e[0]?ps(e[0],t):"";if(e.length===1)return n;if(e.length===2&&e[1]){var r=ps(e[1],t);return"".concat(n,", ").concat(r)}var o=e.length-1;return"".concat(n," (+").concat(o,")")}function tP(e,t){var n=t.hour,r=n===void 0?0:n,o=t.minute,a=o===void 0?0:o,l=t.second,d=l===void 0?0:l;return lS(cS(dS(e,d),a),r)}function jGe(e){return i4(e)}function zGe(e,t){return rr(e,"ddd",t)}function hS(e){return Xp(e)}function Ih(e,t,n){var r=Zb(t||f4());return Yd(e,{locale:r,weekStartsOn:n})}function Pd(e){return OJ(e)}function wy(e){return hD(e)}function wG(e){return tN(e)}function CG(){return Xp(wn())}function yG(e){return IJ(e)}function HGe(e){return e7e(e)}function VGe(e){return NJ(e)}function Yl(e,t){return e&&t?XVe(e,t):!e&&!t}function po(e,t){return e&&t?QVe(e,t):!e&&!t}function K_(e,t){return e&&t?ZVe(e,t):!e&&!t}function $t(e,t){return e&&t?XHe(e,t):!e&&!t}function Ep(e,t){return e&&t?J7e(e,t):!e&&!t}function vp(e,t,n){var r,o=Xp(t),a=IJ(n);try{r=u0(e,{start:o,end:a})}catch{r=!1}return r}function f4(){var e=ree();return e.__localeId__}function Zb(e){if(typeof e=="string"){var t=ree();return t.__localeData__?t.__localeData__[e]:void 0}else return e}function GGe(e,t,n){return t(rr(e,"EEEE",n))}function UGe(e,t){return rr(e,"EEEEEE",t)}function WGe(e,t){return rr(e,"EEE",t)}function p4(e,t){return rr(gs(wn(),e),"LLLL",t)}function oee(e,t){return rr(gs(wn(),e),"LLL",t)}function $Ge(e,t){return rr(ob(wn(),e),"QQQ",t)}function ra(e,t){var n=t===void 0?{}:t,r=n.minDate,o=n.maxDate,a=n.excludeDates,l=n.excludeDateIntervals,d=n.includeDates,f=n.includeDateIntervals,m=n.filterDate,v=n.disabled;return v?!0:J0(e,{minDate:r,maxDate:o})||a&&a.some(function(C){return C instanceof Date?$t(e,C):$t(e,C.date)})||l&&l.some(function(C){var y=C.start,S=C.end;return u0(e,{start:y,end:S})})||d&&!d.some(function(C){return $t(e,C)})||f&&!f.some(function(C){var y=C.start,S=C.end;return u0(e,{start:y,end:S})})||m&&!m(wn(e))||!1}function g4(e,t){var n=t===void 0?{}:t,r=n.excludeDates,o=n.excludeDateIntervals;return o&&o.length>0?o.some(function(a){var l=a.start,d=a.end;return u0(e,{start:l,end:d})}):r&&r.some(function(a){var l;return a instanceof Date?$t(e,a):$t(e,(l=a.date)!==null&&l!==void 0?l:new Date)})||!1}function see(e,t){var n=t===void 0?{}:t,r=n.minDate,o=n.maxDate,a=n.excludeDates,l=n.includeDates,d=n.filterDate;return J0(e,{minDate:r?OJ(r):void 0,maxDate:o?NJ(o):void 0})||a?.some(function(f){return po(e,f instanceof Date?f:f.date)})||l&&!l.some(function(f){return po(e,f)})||d&&!d(wn(e))||!1}function P1(e,t,n,r){var o=zt(e),a=qi(e),l=zt(t),d=qi(t),f=zt(r);return o===l&&o===f?a<=n&&n<=d:o<l?f===o&&a<=n||f===l&&d>=n||f<l&&f>o:!1}function qGe(e,t){var n=t===void 0?{}:t,r=n.minDate,o=n.maxDate,a=n.excludeDates,l=n.includeDates;return J0(e,{minDate:r,maxDate:o})||a&&a.some(function(d){return po(d instanceof Date?d:d.date,e)})||l&&!l.some(function(d){return po(d,e)})||!1}function I1(e,t){var n=t===void 0?{}:t,r=n.minDate,o=n.maxDate,a=n.excludeDates,l=n.includeDates,d=n.filterDate,f=n.disabled;return f?!0:J0(e,{minDate:r,maxDate:o})||a?.some(function(m){return K_(e,m instanceof Date?m:m.date)})||l&&!l.some(function(m){return K_(e,m)})||d&&!d(wn(e))||!1}function N1(e,t,n){if(!t||!n||!B_(t)||!B_(n))return!1;var r=zt(t),o=zt(n);return r<=e&&o>=e}function fS(e,t){var n=t===void 0?{}:t,r=n.minDate,o=n.maxDate,a=n.excludeDates,l=n.includeDates,d=n.filterDate,f=n.disabled;if(f)return!0;var m=new Date(e,0,1);return J0(m,{minDate:r?hD(r):void 0,maxDate:o?FJ(o):void 0})||a?.some(function(v){return Yl(m,v instanceof Date?v:v.date)})||l&&!l.some(function(v){return Yl(m,v)})||d&&!d(wn(m))||!1}function O1(e,t,n,r){var o=zt(e),a=Mh(e),l=zt(t),d=Mh(t),f=zt(r);return o===l&&o===f?a<=n&&n<=d:o<l?f===o&&a<=n||f===l&&d>=n||f<l&&f>o:!1}function J0(e,t){var n,r=t===void 0?{}:t,o=r.minDate,a=r.maxDate;return(n=o&&$b(e,o)<0||a&&$b(e,a)>0)!==null&&n!==void 0?n:!1}function kG(e,t){return t.some(function(n){return Td(n)===Td(e)&&Rd(n)===Rd(e)&&Ph(n)===Ph(e)})}function xG(e,t){var n=t===void 0?{}:t,r=n.excludeTimes,o=n.includeTimes,a=n.filterTime;return r&&kG(e,r)||o&&!kG(e,o)||a&&!a(e)||!1}function AG(e,t){var n=t.minTime,r=t.maxTime;if(!n||!r)throw new Error("Both minTime and maxTime props required");var o=wn();o=lS(o,Td(e)),o=cS(o,Rd(e)),o=dS(o,Ph(e));var a=wn();a=lS(a,Td(n)),a=cS(a,Rd(n)),a=dS(a,Ph(n));var l=wn();l=lS(l,Td(r)),l=cS(l,Rd(r)),l=dS(l,Ph(r));var d;try{d=!u0(o,{start:a,end:l})}catch{d=!1}return d}function SG(e,t){var n=t===void 0?{}:t,r=n.minDate,o=n.includeDates,a=zp(e,1);return r&&j_(r,a)>0||o&&o.every(function(l){return j_(l,a)>0})||!1}function _G(e,t){var n=t===void 0?{}:t,r=n.maxDate,o=n.includeDates,a=rl(e,1);return r&&j_(a,r)>0||o&&o.every(function(l){return j_(a,l)>0})||!1}function KGe(e,t){var n=t===void 0?{}:t,r=n.minDate,o=n.includeDates,a=hD(e),l=WJ(a);return r&&z_(r,l)>0||o&&o.every(function(d){return z_(d,l)>0})||!1}function YGe(e,t){var n=t===void 0?{}:t,r=n.maxDate,o=n.includeDates,a=FJ(e),l=r4(a,1);return r&&z_(l,r)>0||o&&o.every(function(d){return z_(l,d)>0})||!1}function EG(e,t){var n=t===void 0?{}:t,r=n.minDate,o=n.includeDates,a=qb(e,1);return r&&H_(r,a)>0||o&&o.every(function(l){return H_(l,a)>0})||!1}function QGe(e,t){var n=t===void 0?{}:t,r=n.minDate,o=n.yearItemNumber,a=o===void 0?X0:o,l=wy(qb(e,a)),d=yd(l,a).endPeriod,f=r&&zt(r);return f&&f>d||!1}function DG(e,t){var n=t===void 0?{}:t,r=n.maxDate,o=n.includeDates,a=Dd(e,1);return r&&H_(a,r)>0||o&&o.every(function(l){return H_(a,l)>0})||!1}function ZGe(e,t){var n=t===void 0?{}:t,r=n.maxDate,o=n.yearItemNumber,a=o===void 0?X0:o,l=Dd(e,a),d=yd(l,a).startPeriod,f=r&&zt(r);return f&&f<d||!1}function aee(e){var t=e.minDate,n=e.includeDates;if(n&&t){var r=n.filter(function(o){return $b(o,t)>=0});return J9(r)}else return n?J9(n):t}function lee(e){var t=e.maxDate,n=e.includeDates;if(n&&t){var r=n.filter(function(o){return $b(o,t)<=0});return X9(r)}else return n?X9(n):t}function MG(e,t){var n;e===void 0&&(e=[]),t===void 0&&(t="react-datepicker__day--highlighted");for(var r=new Map,o=0,a=e.length;o<a;o++){var l=e[o];if(Md(l)){var d=rr(l,"MM.dd.yyyy"),f=r.get(d)||[];f.includes(t)||(f.push(t),r.set(d,f))}else if(typeof l=="object"){var m=Object.keys(l),v=(n=m[0])!==null&&n!==void 0?n:"",C=l[v];if(typeof v=="string"&&Array.isArray(C))for(var y=0,S=C.length;y<S;y++){var E=C[y];if(E){var d=rr(E,"MM.dd.yyyy"),f=r.get(d)||[];f.includes(v)||(f.push(v),r.set(d,f))}}}}return r}function XGe(e,t){return e.length!==t.length?!1:e.every(function(n,r){return n===t[r]})}function JGe(e,t){e===void 0&&(e=[]),t===void 0&&(t="react-datepicker__day--holidays");var n=new Map;return e.forEach(function(r){var o=r.date,a=r.holidayName;if(Md(o)){var l=rr(o,"MM.dd.yyyy"),d=n.get(l)||{className:"",holidayNames:[]};if(!("className"in d&&d.className===t&&XGe(d.holidayNames,[a]))){d.className=t;var f=d.holidayNames;d.holidayNames=f?ic(ic([],f,!0),[a],!1):[a],n.set(l,d)}}}),n}function eUe(e,t,n,r,o){for(var a=o.length,l=[],d=0;d<a;d++){var f=e,m=o[d];m&&(f=KHe(f,Td(m)),f=eN(f,Rd(m)),f=ZHe(f,Ph(m)));var v=eN(e,(n+1)*r);zh(f,t)&&rc(f,v)&&m!=null&&l.push(m)}return l}function TG(e){return e<10?"0".concat(e):"".concat(e)}function yd(e,t){t===void 0&&(t=X0);var n=Math.ceil(zt(e)/t)*t,r=n-(t-1);return{startPeriod:r,endPeriod:n}}function tUe(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),n=new Date(e.getFullYear(),e.getMonth(),e.getDate(),24);return Math.round((+n-+t)/36e5)}function RG(e){var t=e.getSeconds(),n=e.getMilliseconds();return ot(e.getTime()-t*1e3-n)}function nUe(e,t){return RG(e).getTime()===RG(t).getTime()}function PG(e){if(!Md(e))throw new Error("Invalid date");var t=new Date(e);return t.setHours(0,0,0,0),t}function nP(e,t){if(!Md(e)||!Md(t))throw new Error("Invalid date received");var n=PG(e),r=PG(t);return rc(n,r)}function cee(e){return e.key===tt.Space}var rUe=(function(e){Ai(t,e);function t(n){var r=e.call(this,n)||this;return r.inputRef=ue.createRef(),r.onTimeChange=function(o){var a,l;r.setState({time:o});var d=r.props.date,f=d instanceof Date&&!isNaN(+d),m=f?d:new Date;if(o?.includes(":")){var v=o.split(":"),C=v[0],y=v[1];m.setHours(Number(C)),m.setMinutes(Number(y))}(l=(a=r.props).onChange)===null||l===void 0||l.call(a,m)},r.renderTimeInput=function(){var o=r.state.time,a=r.props,l=a.date,d=a.timeString,f=a.customTimeInput;return f?M.cloneElement(f,{date:l,value:o,onChange:r.onTimeChange}):ue.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:r.inputRef,onClick:function(){var m;(m=r.inputRef.current)===null||m===void 0||m.focus()},required:!0,value:o,onChange:function(m){r.onTimeChange(m.target.value||d)}})},r.state={time:r.props.timeString},r}return t.getDerivedStateFromProps=function(n,r){return n.timeString!==r.time?{time:n.timeString}:null},t.prototype.render=function(){return ue.createElement("div",{className:"react-datepicker__input-time-container"},ue.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),ue.createElement("div",{className:"react-datepicker-time__input-container"},ue.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},t})(M.Component),iUe=(function(e){Ai(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.dayEl=M.createRef(),n.handleClick=function(r){!n.isDisabled()&&n.props.onClick&&n.props.onClick(r)},n.handleMouseEnter=function(r){!n.isDisabled()&&n.props.onMouseEnter&&n.props.onMouseEnter(r)},n.handleOnKeyDown=function(r){var o,a,l=r.key;l===tt.Space&&(r.preventDefault(),r.key=tt.Enter),(a=(o=n.props).handleOnKeyDown)===null||a===void 0||a.call(o,r)},n.isSameDay=function(r){return $t(n.props.day,r)},n.isKeyboardSelected=function(){var r;if(n.props.disabledKeyboardNavigation)return!1;var o=n.props.selectsMultiple?(r=n.props.selectedDates)===null||r===void 0?void 0:r.some(function(l){return n.isSameDayOrWeek(l)}):n.isSameDayOrWeek(n.props.selected),a=n.props.preSelection&&n.isDisabled(n.props.preSelection);return!o&&n.isSameDayOrWeek(n.props.preSelection)&&!a},n.isDisabled=function(r){return r===void 0&&(r=n.props.day),ra(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate,disabled:n.props.disabled})},n.isExcluded=function(){return g4(n.props.day,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.isStartOfWeek=function(){return $t(n.props.day,Ih(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameWeek=function(r){return n.props.showWeekPicker&&$t(r,Ih(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameDayOrWeek=function(r){return n.isSameDay(r)||n.isSameWeek(r)},n.getHighLightedClass=function(){var r=n.props,o=r.day,a=r.highlightDates;if(!a)return!1;var l=rr(o,"MM.dd.yyyy");return a.get(l)},n.getHolidaysClass=function(){var r,o=n.props,a=o.day,l=o.holidays;if(!l)return[void 0];var d=rr(a,"MM.dd.yyyy");return l.has(d)?[(r=l.get(d))===null||r===void 0?void 0:r.className]:[void 0]},n.isInRange=function(){var r=n.props,o=r.day,a=r.startDate,l=r.endDate;return!a||!l?!1:vp(o,a,l)},n.isInSelectingRange=function(){var r,o=n.props,a=o.day,l=o.selectsStart,d=o.selectsEnd,f=o.selectsRange,m=o.selectsDisabledDaysInRange,v=o.startDate,C=o.swapRange,y=o.endDate,S=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;if(!(l||d||f)||!S||!m&&n.isDisabled())return!1;if(l&&y&&(rc(S,y)||Ep(S,y)))return vp(a,S,y);if(d&&v&&(zh(S,v)||Ep(S,v)))return vp(a,v,S);if(f&&v&&!y){if(Ep(S,v)||zh(S,v))return vp(a,v,S);if(C&&rc(S,v))return vp(a,S,v)}return!1},n.isSelectingRangeStart=function(){var r;if(!n.isInSelectingRange())return!1;var o=n.props,a=o.day,l=o.startDate,d=o.selectsStart,f=o.swapRange,m=o.selectsRange,v=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return d?$t(a,v):m&&f&&l&&v?$t(a,rc(v,l)?v:l):$t(a,l)},n.isSelectingRangeEnd=function(){var r;if(!n.isInSelectingRange())return!1;var o=n.props,a=o.day,l=o.endDate,d=o.selectsEnd,f=o.selectsRange,m=o.swapRange,v=o.startDate,C=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return d?$t(a,C):f&&m&&v&&C?$t(a,rc(C,v)?v:C):f?$t(a,C):$t(a,l)},n.isRangeStart=function(){var r=n.props,o=r.day,a=r.startDate,l=r.endDate;return!a||!l?!1:$t(a,o)},n.isRangeEnd=function(){var r=n.props,o=r.day,a=r.startDate,l=r.endDate;return!a||!l?!1:$t(l,o)},n.isWeekend=function(){var r=Y7e(n.props.day);return r===0||r===6},n.isAfterMonth=function(){return n.props.month!==void 0&&(n.props.month+1)%12===qi(n.props.day)},n.isBeforeMonth=function(){return n.props.month!==void 0&&(qi(n.props.day)+1)%12===n.props.month},n.isCurrentDay=function(){return n.isSameDay(wn())},n.isSelected=function(){var r;return n.props.selectsMultiple?(r=n.props.selectedDates)===null||r===void 0?void 0:r.some(function(o){return n.isSameDayOrWeek(o)}):n.isSameDayOrWeek(n.props.selected)},n.getClassNames=function(r){var o=n.props.dayClassName?n.props.dayClassName(r):void 0;return St("react-datepicker__day",o,"react-datepicker__day--"+zGe(n.props.day),{"react-datepicker__day--disabled":n.isDisabled(),"react-datepicker__day--excluded":n.isExcluded(),"react-datepicker__day--selected":n.isSelected(),"react-datepicker__day--keyboard-selected":n.isKeyboardSelected(),"react-datepicker__day--range-start":n.isRangeStart(),"react-datepicker__day--range-end":n.isRangeEnd(),"react-datepicker__day--in-range":n.isInRange(),"react-datepicker__day--in-selecting-range":n.isInSelectingRange(),"react-datepicker__day--selecting-range-start":n.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":n.isSelectingRangeEnd(),"react-datepicker__day--today":n.isCurrentDay(),"react-datepicker__day--weekend":n.isWeekend(),"react-datepicker__day--outside-month":n.isAfterMonth()||n.isBeforeMonth()},n.getHighLightedClass(),n.getHolidaysClass())},n.getAriaLabel=function(){var r=n.props,o=r.day,a=r.ariaLabelPrefixWhenEnabled,l=a===void 0?"Choose":a,d=r.ariaLabelPrefixWhenDisabled,f=d===void 0?"Not available":d,m=n.isDisabled()||n.isExcluded()?f:l;return"".concat(m," ").concat(rr(o,"PPPP",n.props.locale))},n.getTitle=function(){var r=n.props,o=r.day,a=r.holidays,l=a===void 0?new Map:a,d=r.excludeDates,f=rr(o,"MM.dd.yyyy"),m=[];return l.has(f)&&m.push.apply(m,l.get(f).holidayNames),n.isExcluded()&&m.push(d?.filter(function(v){return v instanceof Date?$t(v,o):$t(v?.date,o)}).map(function(v){if(!(v instanceof Date))return v?.message})),m.join(", ")},n.getTabIndex=function(){var r=n.props.selected,o=n.props.preSelection,a=!(n.props.showWeekPicker&&(n.props.showWeekNumber||!n.isStartOfWeek()))&&(n.isKeyboardSelected()||n.isSameDay(r)&&$t(o,r))?0:-1;return a},n.handleFocusDay=function(){var r;n.shouldFocusDay()&&((r=n.dayEl.current)===null||r===void 0||r.focus({preventScroll:!0}))},n.renderDayContents=function(){return n.props.monthShowsDuplicateDaysEnd&&n.isAfterMonth()||n.props.monthShowsDuplicateDaysStart&&n.isBeforeMonth()?null:n.props.renderDayContents?n.props.renderDayContents(sG(n.props.day),n.props.day):sG(n.props.day)},n.render=function(){return ue.createElement("div",{ref:n.dayEl,className:n.getClassNames(n.props.day),onKeyDown:n.handleOnKeyDown,onClick:n.handleClick,onMouseEnter:n.props.usePointerEvent?void 0:n.handleMouseEnter,onPointerEnter:n.props.usePointerEvent?n.handleMouseEnter:void 0,tabIndex:n.getTabIndex(),"aria-label":n.getAriaLabel(),role:"gridcell",title:n.getTitle(),"aria-disabled":n.isDisabled(),"aria-current":n.isCurrentDay()?"date":void 0,"aria-selected":n.isSelected()||n.isInRange()},n.renderDayContents(),n.getTitle()!==""&&ue.createElement("span",{className:"overlay"},n.getTitle()))},n}return t.prototype.componentDidMount=function(){this.handleFocusDay()},t.prototype.componentDidUpdate=function(){this.handleFocusDay()},t.prototype.shouldFocusDay=function(){var n=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(n=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(n=!1),this.isDayActiveElement()&&(n=!0),this.isDuplicateDay()&&(n=!1)),n},t.prototype.isDayActiveElement=function(){var n,r,o;return((r=(n=this.props.containerRef)===null||n===void 0?void 0:n.current)===null||r===void 0?void 0:r.contains(document.activeElement))&&((o=document.activeElement)===null||o===void 0?void 0:o.classList.contains("react-datepicker__day"))},t.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},t})(M.Component),oUe=(function(e){Ai(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.weekNumberEl=M.createRef(),n.handleClick=function(r){n.props.onClick&&n.props.onClick(r)},n.handleOnKeyDown=function(r){var o,a,l=r.key;l===tt.Space&&(r.preventDefault(),r.key=tt.Enter),(a=(o=n.props).handleOnKeyDown)===null||a===void 0||a.call(o,r)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!$t(n.props.date,n.props.selected)&&$t(n.props.date,n.props.preSelection)},n.getTabIndex=function(){return n.props.showWeekPicker&&n.props.showWeekNumber&&(n.isKeyboardSelected()||$t(n.props.date,n.props.selected)&&$t(n.props.preSelection,n.props.selected))?0:-1},n.handleFocusWeekNumber=function(r){var o=!1;n.getTabIndex()===0&&!r?.isInputFocused&&$t(n.props.date,n.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(o=!0),n.props.inline&&!n.props.shouldFocusDayInline&&(o=!1),n.props.containerRef&&n.props.containerRef.current&&n.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(o=!0)),o&&n.weekNumberEl.current&&n.weekNumberEl.current.focus({preventScroll:!0})},n}return Object.defineProperty(t,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},t.prototype.componentDidUpdate=function(n){this.handleFocusWeekNumber(n)},t.prototype.render=function(){var n=this.props,r=n.weekNumber,o=n.isWeekDisabled,a=n.ariaLabelPrefix,l=a===void 0?t.defaultProps.ariaLabelPrefix:a,d=n.onClick,f={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!d&&!o,"react-datepicker__week-number--selected":!!d&&$t(this.props.date,this.props.selected)};return ue.createElement("div",{ref:this.weekNumberEl,className:St(f),"aria-label":"".concat(l," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex(),role:"gridcell"},r)},t})(M.Component),sUe=(function(e){Ai(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.isDisabled=function(r){return ra(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.handleDayClick=function(r,o){n.props.onDayClick&&n.props.onDayClick(r,o)},n.handleDayMouseEnter=function(r){n.props.onDayMouseEnter&&n.props.onDayMouseEnter(r)},n.handleWeekClick=function(r,o,a){for(var l,d,f,m=new Date(r),v=0;v<7;v++){var C=new Date(r);C.setDate(C.getDate()+v);var y=!n.isDisabled(C);if(y){m=C;break}}typeof n.props.onWeekSelect=="function"&&n.props.onWeekSelect(m,o,a),n.props.showWeekPicker&&n.handleDayClick(m,a),((l=n.props.shouldCloseOnSelect)!==null&&l!==void 0?l:t.defaultProps.shouldCloseOnSelect)&&((f=(d=n.props).setOpen)===null||f===void 0||f.call(d,!1))},n.formatWeekNumber=function(r){return n.props.formatWeekNumber?n.props.formatWeekNumber(r):jGe(r)},n.isWeekDisabled=function(){for(var r=n.startOfWeek(),o=Xa(r,6),a=new Date(r);a<=o;){if(!n.isDisabled(a))return!1;a=Xa(a,1)}return!0},n.renderDays=function(){var r=n.startOfWeek(),o=[],a=n.formatWeekNumber(r);if(n.props.showWeekNumber){var l=n.props.onWeekSelect||n.props.showWeekPicker?n.handleWeekClick.bind(n,r,a):void 0;o.push(ue.createElement(oUe,qt({key:"W"},t.defaultProps,n.props,{weekNumber:a,isWeekDisabled:n.isWeekDisabled(),date:r,onClick:l})))}return o.concat([0,1,2,3,4,5,6].map(function(d){var f=Xa(r,d);return ue.createElement(iUe,qt({},t.defaultProps,n.props,{ariaLabelPrefixWhenEnabled:n.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:n.props.disabledDayAriaLabelPrefix,key:f.valueOf(),day:f,onClick:n.handleDayClick.bind(n,f),onMouseEnter:n.handleDayMouseEnter.bind(n,f)}))}))},n.startOfWeek=function(){return Ih(n.props.day,n.props.locale,n.props.calendarStartDay)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!$t(n.startOfWeek(),n.props.selected)&&$t(n.startOfWeek(),n.props.preSelection)},n}return Object.defineProperty(t,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),t.prototype.render=function(){var n={"react-datepicker__week":!0,"react-datepicker__week--selected":$t(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()},r=this.props.weekClassName?this.props.weekClassName(this.startOfWeek()):void 0;return ue.createElement("div",{className:St(n,r),role:"row"},this.renderDays())},t})(M.Component),py,aUe=6,Sb={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},rP=(py={},py[Sb.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},py[Sb.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},py[Sb.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},py),F1=1;function IG(e,t){return e?Sb.FOUR_COLUMNS:t?Sb.TWO_COLUMNS:Sb.THREE_COLUMNS}var lUe=(function(e){Ai(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.MONTH_REFS=ic([],Array(12),!0).map(function(){return M.createRef()}),n.QUARTER_REFS=ic([],Array(4),!0).map(function(){return M.createRef()}),n.isDisabled=function(r){return ra(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate,disabled:n.props.disabled})},n.isExcluded=function(r){return g4(r,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.handleDayClick=function(r,o){var a,l;(l=(a=n.props).onDayClick)===null||l===void 0||l.call(a,r,o,n.props.orderInDisplay)},n.handleDayMouseEnter=function(r){var o,a;(a=(o=n.props).onDayMouseEnter)===null||a===void 0||a.call(o,r)},n.handleMouseLeave=function(){var r,o;(o=(r=n.props).onMouseLeave)===null||o===void 0||o.call(r)},n.isRangeStartMonth=function(r){var o=n.props,a=o.day,l=o.startDate,d=o.endDate;return!l||!d?!1:po(gs(a,r),l)},n.isRangeStartQuarter=function(r){var o=n.props,a=o.day,l=o.startDate,d=o.endDate;return!l||!d?!1:K_(ob(a,r),l)},n.isRangeEndMonth=function(r){var o=n.props,a=o.day,l=o.startDate,d=o.endDate;return!l||!d?!1:po(gs(a,r),d)},n.isRangeEndQuarter=function(r){var o=n.props,a=o.day,l=o.startDate,d=o.endDate;return!l||!d?!1:K_(ob(a,r),d)},n.isInSelectingRangeMonth=function(r){var o,a=n.props,l=a.day,d=a.selectsStart,f=a.selectsEnd,m=a.selectsRange,v=a.startDate,C=a.endDate,y=(o=n.props.selectingDate)!==null&&o!==void 0?o:n.props.preSelection;return!(d||f||m)||!y?!1:d&&C?P1(y,C,r,l):f&&v||m&&v&&!C?P1(v,y,r,l):!1},n.isSelectingMonthRangeStart=function(r){var o;if(!n.isInSelectingRangeMonth(r))return!1;var a=n.props,l=a.day,d=a.startDate,f=a.selectsStart,m=gs(l,r),v=(o=n.props.selectingDate)!==null&&o!==void 0?o:n.props.preSelection;return f?po(m,v):po(m,d)},n.isSelectingMonthRangeEnd=function(r){var o;if(!n.isInSelectingRangeMonth(r))return!1;var a=n.props,l=a.day,d=a.endDate,f=a.selectsEnd,m=a.selectsRange,v=gs(l,r),C=(o=n.props.selectingDate)!==null&&o!==void 0?o:n.props.preSelection;return f||m?po(v,C):po(v,d)},n.isInSelectingRangeQuarter=function(r){var o,a=n.props,l=a.day,d=a.selectsStart,f=a.selectsEnd,m=a.selectsRange,v=a.startDate,C=a.endDate,y=(o=n.props.selectingDate)!==null&&o!==void 0?o:n.props.preSelection;return!(d||f||m)||!y?!1:d&&C?O1(y,C,r,l):f&&v||m&&v&&!C?O1(v,y,r,l):!1},n.isWeekInMonth=function(r){var o=n.props.day,a=Xa(r,6);return po(r,o)||po(a,o)},n.isCurrentMonth=function(r,o){return zt(r)===zt(wn())&&o===qi(wn())},n.isCurrentQuarter=function(r,o){return zt(r)===zt(wn())&&o===Mh(wn())},n.isSelectedMonth=function(r,o,a){return qi(a)===o&&zt(r)===zt(a)},n.isSelectMonthInList=function(r,o,a){return a.some(function(l){return n.isSelectedMonth(r,o,l)})},n.isSelectedQuarter=function(r,o,a){return Mh(a)===o&&zt(r)===zt(a)},n.isSelectQuarterInList=function(r,o,a){return a.some(function(l){return n.isSelectedQuarter(r,o,l)})},n.isMonthSelected=function(){var r=n.props,o=r.day,a=r.selected,l=r.selectedDates,d=r.selectsMultiple,f=qi(o);return d?l?.some(function(m){return n.isSelectedMonth(o,f,m)}):!!a&&n.isSelectedMonth(o,f,a)},n.isQuarterSelected=function(){var r=n.props,o=r.day,a=r.selected,l=r.selectedDates,d=r.selectsMultiple,f=Mh(o);return d?l?.some(function(m){return n.isSelectedQuarter(o,f,m)}):!!a&&n.isSelectedQuarter(o,f,a)},n.renderWeeks=function(){if(!ec(n.props.day))return[];for(var r=[],o=n.props.fixedHeight,a=0,l=!1,d=Ih(Pd(n.props.day),n.props.locale,n.props.calendarStartDay),f=function(E){return n.props.showWeekPicker?Ih(E,n.props.locale,n.props.calendarStartDay):n.props.preSelection},m=function(E){return n.props.showWeekPicker?Ih(E,n.props.locale,n.props.calendarStartDay):n.props.selected},v=n.props.selected?m(n.props.selected):void 0,C=n.props.preSelection?f(n.props.preSelection):void 0;r.push(ue.createElement(sUe,qt({},n.props,{ariaLabelPrefix:n.props.weekAriaLabelPrefix,key:a,day:d,month:qi(n.props.day),onDayClick:n.handleDayClick,onDayMouseEnter:n.handleDayMouseEnter,selected:v,preSelection:C,showWeekNumber:n.props.showWeekNumbers}))),!l;){a++,d=L_(d,1);var y=o&&a>=aUe,S=!o&&!n.isWeekInMonth(d);if(y||S)if(n.props.peekNextMonth)l=!0;else break}return r},n.onMonthClick=function(r,o){var a=n.isMonthDisabledForLabelDate(o),l=a.isDisabled,d=a.labelDate;l||n.handleDayClick(Pd(d),r)},n.onMonthMouseEnter=function(r){var o=n.isMonthDisabledForLabelDate(r),a=o.isDisabled,l=o.labelDate;a||n.handleDayMouseEnter(Pd(l))},n.handleMonthNavigation=function(r,o){var a,l,d,f;(l=(a=n.props).setPreSelection)===null||l===void 0||l.call(a,o),(f=(d=n.MONTH_REFS[r])===null||d===void 0?void 0:d.current)===null||f===void 0||f.focus()},n.handleKeyboardNavigation=function(r,o,a){var l,d=n.props,f=d.selected,m=d.preSelection,v=d.setPreSelection,C=d.minDate,y=d.maxDate,S=d.showFourColumnMonthYearPicker,E=d.showTwoColumnMonthYearPicker;if(m){var T=IG(S,E),P=n.getVerticalOffset(T),N=(l=rP[T])===null||l===void 0?void 0:l.grid,j=function(z,K,te){var ae,X,Z=K,se=te;switch(z){case tt.ArrowRight:Z=rl(K,F1),se=te===11?0:te+F1;break;case tt.ArrowLeft:Z=zp(K,F1),se=te===0?11:te-F1;break;case tt.ArrowUp:Z=zp(K,P),se=!((ae=N?.[0])===null||ae===void 0)&&ae.includes(te)?te+12-P:te-P;break;case tt.ArrowDown:Z=rl(K,P),se=!((X=N?.[N.length-1])===null||X===void 0)&&X.includes(te)?te-12+P:te+P;break}return{newCalculatedDate:Z,newCalculatedMonth:se}},L=function(z,K,te){for(var ae=40,X=z,Z=!1,se=0,Q=j(X,K,te),J=Q.newCalculatedDate,re=Q.newCalculatedMonth;!Z;){if(se>=ae){J=K,re=te;break}if(C&&J<C){X=tt.ArrowRight;var ee=j(X,J,re);J=ee.newCalculatedDate,re=ee.newCalculatedMonth}if(y&&J>y){X=tt.ArrowLeft;var ee=j(X,J,re);J=ee.newCalculatedDate,re=ee.newCalculatedMonth}if(qGe(J,n.props)){var ee=j(X,J,re);J=ee.newCalculatedDate,re=ee.newCalculatedMonth}else Z=!0;se++}return{newCalculatedDate:J,newCalculatedMonth:re}};if(o===tt.Enter){n.isMonthDisabled(a)||(n.onMonthClick(r,a),v?.(f));return}var V=L(o,m,a),U=V.newCalculatedDate,$=V.newCalculatedMonth;switch(o){case tt.ArrowRight:case tt.ArrowLeft:case tt.ArrowUp:case tt.ArrowDown:n.handleMonthNavigation($,U);break}}},n.getVerticalOffset=function(r){var o,a;return(a=(o=rP[r])===null||o===void 0?void 0:o.verticalNavigationOffset)!==null&&a!==void 0?a:0},n.onMonthKeyDown=function(r,o){var a=n.props,l=a.disabledKeyboardNavigation,d=a.handleOnMonthKeyDown,f=r.key;f!==tt.Tab&&r.preventDefault(),l||n.handleKeyboardNavigation(r,f,o),d&&d(r)},n.onQuarterClick=function(r,o){var a=ob(n.props.day,o);I1(a,n.props)||n.handleDayClick(wG(a),r)},n.onQuarterMouseEnter=function(r){var o=ob(n.props.day,r);I1(o,n.props)||n.handleDayMouseEnter(wG(o))},n.handleQuarterNavigation=function(r,o){var a,l,d,f;n.isDisabled(o)||n.isExcluded(o)||((l=(a=n.props).setPreSelection)===null||l===void 0||l.call(a,o),(f=(d=n.QUARTER_REFS[r-1])===null||d===void 0?void 0:d.current)===null||f===void 0||f.focus())},n.onQuarterKeyDown=function(r,o){var a,l,d=r.key;if(!n.props.disabledKeyboardNavigation)switch(d){case tt.Enter:n.onQuarterClick(r,o),(l=(a=n.props).setPreSelection)===null||l===void 0||l.call(a,n.props.selected);break;case tt.ArrowRight:if(!n.props.preSelection)break;n.handleQuarterNavigation(o===4?1:o+1,r4(n.props.preSelection,1));break;case tt.ArrowLeft:if(!n.props.preSelection)break;n.handleQuarterNavigation(o===1?4:o-1,WJ(n.props.preSelection));break}},n.isMonthDisabledForLabelDate=function(r){var o,a=n.props,l=a.day,d=a.disabled,f=a.minDate,m=a.maxDate,v=a.excludeDates,C=a.includeDates,y=gs(l,r);return d?{isDisabled:!0,labelDate:gs(l,r)}:{isDisabled:(o=(f||m||v||C)&&see(y,n.props))!==null&&o!==void 0?o:!1,labelDate:y}},n.isMonthDisabled=function(r){var o=n.isMonthDisabledForLabelDate(r).isDisabled;return o},n.getMonthClassNames=function(r){var o=n.props,a=o.day,l=o.startDate,d=o.endDate,f=o.preSelection,m=o.monthClassName,v=m?m(gs(a,r)):void 0,C=n.getSelection();return St("react-datepicker__month-text","react-datepicker__month-".concat(r),v,{"react-datepicker__month-text--disabled":n.isMonthDisabled(r),"react-datepicker__month-text--selected":C?n.isSelectMonthInList(a,r,C):void 0,"react-datepicker__month-text--keyboard-selected":!n.props.disabledKeyboardNavigation&&f&&n.isSelectedMonth(a,r,f)&&!n.isMonthSelected()&&!n.isMonthDisabled(r),"react-datepicker__month-text--in-selecting-range":n.isInSelectingRangeMonth(r),"react-datepicker__month-text--in-range":l&&d?P1(l,d,r,a):void 0,"react-datepicker__month-text--range-start":n.isRangeStartMonth(r),"react-datepicker__month-text--range-end":n.isRangeEndMonth(r),"react-datepicker__month-text--selecting-range-start":n.isSelectingMonthRangeStart(r),"react-datepicker__month-text--selecting-range-end":n.isSelectingMonthRangeEnd(r),"react-datepicker__month-text--today":n.isCurrentMonth(a,r)})},n.getTabIndex=function(r){if(n.props.preSelection==null)return"-1";var o=qi(n.props.preSelection),a=n.isMonthDisabledForLabelDate(o).isDisabled,l=r===o&&!(a||n.props.disabledKeyboardNavigation)?"0":"-1";return l},n.getQuarterTabIndex=function(r){if(n.props.preSelection==null)return"-1";var o=Mh(n.props.preSelection),a=I1(n.props.day,n.props),l=r===o&&!(a||n.props.disabledKeyboardNavigation)?"0":"-1";return l},n.getAriaLabel=function(r){var o=n.props,a=o.chooseDayAriaLabelPrefix,l=a===void 0?"Choose":a,d=o.disabledDayAriaLabelPrefix,f=d===void 0?"Not available":d,m=o.day,v=o.locale,C=gs(m,r),y=n.isDisabled(C)||n.isExcluded(C)?f:l;return"".concat(y," ").concat(rr(C,"MMMM yyyy",v))},n.getQuarterClassNames=function(r){var o=n.props,a=o.day,l=o.startDate,d=o.endDate,f=o.minDate,m=o.maxDate,v=o.excludeDates,C=o.includeDates,y=o.filterDate,S=o.preSelection,E=o.disabledKeyboardNavigation,T=o.disabled,P=(f||m||v||C||y||T)&&I1(ob(a,r),n.props),N=n.getSelection();return St("react-datepicker__quarter-text","react-datepicker__quarter-".concat(r),{"react-datepicker__quarter-text--disabled":P,"react-datepicker__quarter-text--selected":N?n.isSelectQuarterInList(a,r,N):void 0,"react-datepicker__quarter-text--keyboard-selected":!E&&S&&n.isSelectedQuarter(a,r,S)&&!n.isQuarterSelected()&&!P,"react-datepicker__quarter-text--in-selecting-range":n.isInSelectingRangeQuarter(r),"react-datepicker__quarter-text--in-range":l&&d?O1(l,d,r,a):void 0,"react-datepicker__quarter-text--range-start":n.isRangeStartQuarter(r),"react-datepicker__quarter-text--range-end":n.isRangeEndQuarter(r),"react-datepicker__quarter-text--today":n.isCurrentQuarter(a,r)})},n.getMonthContent=function(r){var o=n.props,a=o.showFullMonthYearPicker,l=o.renderMonthContent,d=o.locale,f=o.day,m=oee(r,d),v=p4(r,d);return l?l(r,m,v,f):a?v:m},n.getQuarterContent=function(r){var o,a=n.props,l=a.renderQuarterContent,d=a.locale,f=$Ge(r,d);return(o=l?.(r,f))!==null&&o!==void 0?o:f},n.renderMonths=function(){var r,o=n.props,a=o.showTwoColumnMonthYearPicker,l=o.showFourColumnMonthYearPicker,d=o.day,f=o.selected,m=(r=rP[IG(l,a)])===null||r===void 0?void 0:r.grid;return m?.map(function(v,C){return ue.createElement("div",{className:"react-datepicker__month-wrapper",key:C},v.map(function(y,S){return ue.createElement("div",{ref:n.MONTH_REFS[y],key:S,onClick:function(E){n.onMonthClick(E,y)},onKeyDown:function(E){cee(E)&&(E.preventDefault(),E.key=tt.Enter),n.onMonthKeyDown(E,y)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onMonthMouseEnter(y)},onPointerEnter:n.props.usePointerEvent?function(){return n.onMonthMouseEnter(y)}:void 0,tabIndex:Number(n.getTabIndex(y)),className:n.getMonthClassNames(y),"aria-disabled":n.isMonthDisabled(y),role:"option","aria-label":n.getAriaLabel(y),"aria-current":n.isCurrentMonth(d,y)?"date":void 0,"aria-selected":f?n.isSelectedMonth(d,y,f):void 0},n.getMonthContent(y))}))})},n.renderQuarters=function(){var r=n.props,o=r.day,a=r.selected,l=[1,2,3,4];return ue.createElement("div",{className:"react-datepicker__quarter-wrapper"},l.map(function(d,f){return ue.createElement("div",{key:f,ref:n.QUARTER_REFS[f],role:"option",onClick:function(m){n.onQuarterClick(m,d)},onKeyDown:function(m){n.onQuarterKeyDown(m,d)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onQuarterMouseEnter(d)},onPointerEnter:n.props.usePointerEvent?function(){return n.onQuarterMouseEnter(d)}:void 0,className:n.getQuarterClassNames(d),"aria-selected":a?n.isSelectedQuarter(o,d,a):void 0,tabIndex:Number(n.getQuarterTabIndex(d)),"aria-current":n.isCurrentQuarter(o,d)?"date":void 0},n.getQuarterContent(d))}))},n.getClassNames=function(){var r=n.props,o=r.selectingDate,a=r.selectsStart,l=r.selectsEnd,d=r.showMonthYearPicker,f=r.showQuarterYearPicker,m=r.showWeekPicker;return St("react-datepicker__month",{"react-datepicker__month--selecting-range":o&&(a||l)},{"react-datepicker__monthPicker":d},{"react-datepicker__quarterPicker":f},{"react-datepicker__weekPicker":m})},n}return t.prototype.getSelection=function(){var n=this.props,r=n.selected,o=n.selectedDates,a=n.selectsMultiple;if(a)return o;if(r)return[r]},t.prototype.render=function(){var n=this.props,r=n.showMonthYearPicker,o=n.showQuarterYearPicker,a=n.day,l=n.ariaLabelPrefix,d=l===void 0?"Month ":l,f=d?d.trim()+" ":"",m=ec(a)?"".concat(f).concat(rr(a,"MMMM, yyyy",this.props.locale)):"",v=r||o;return v?ue.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":m,role:"listbox"},r?this.renderMonths():this.renderQuarters()):ue.createElement("div",{role:"table"},this.props.dayNamesHeader&&ue.createElement("div",{role:"rowgroup"},this.props.dayNamesHeader),ue.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":m,role:"rowgroup"},this.renderWeeks()))},t})(M.Component),cUe=(function(e){Ai(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.monthOptionButtonsRef={},n.isSelectedMonth=function(r){return n.props.month===r},n.handleOptionKeyDown=function(r,o){var a;switch(o.key){case"Enter":o.preventDefault(),n.onChange(r);break;case"Escape":o.preventDefault(),n.props.onCancel();break;case"ArrowUp":case"ArrowDown":{o.preventDefault();var l=(r+(o.key==="ArrowUp"?-1:1)+n.props.monthNames.length)%n.props.monthNames.length;(a=n.monthOptionButtonsRef[l])===null||a===void 0||a.focus();break}}},n.renderOptions=function(){return n.monthOptionButtonsRef={},n.props.monthNames.map(function(r,o){return ue.createElement("div",{ref:function(a){n.monthOptionButtonsRef[o]=a,n.isSelectedMonth(o)&&a?.focus()},role:"button",tabIndex:0,className:n.isSelectedMonth(o)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:r,onClick:n.onChange.bind(n,o),onKeyDown:n.handleOptionKeyDown.bind(n,o),"aria-selected":n.isSelectedMonth(o)?"true":void 0},n.isSelectedMonth(o)?ue.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",r)})},n.onChange=function(r){return n.props.onChange(r)},n.handleClickOutside=function(){return n.props.onCancel()},n}return t.prototype.render=function(){return ue.createElement(vD,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},t})(M.Component),dUe=(function(e){Ai(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(r){return r.map(function(o,a){return ue.createElement("option",{key:o,value:a},o)})},n.renderSelectMode=function(r){return ue.createElement("select",{value:n.props.month,className:"react-datepicker__month-select",onChange:function(o){return n.onChange(parseInt(o.target.value))}},n.renderSelectOptions(r))},n.renderReadView=function(r,o){return ue.createElement("button",{key:"read",type:"button",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:n.toggleDropdown},ue.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),ue.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},o[n.props.month]))},n.renderDropdown=function(r){return ue.createElement(cUe,qt({key:"dropdown"},n.props,{monthNames:r,onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(r){var o=n.state.dropdownVisible,a=[n.renderReadView(!o,r)];return o&&a.unshift(n.renderDropdown(r)),a},n.onChange=function(r){n.toggleDropdown(),r!==n.props.month&&n.props.onChange(r)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return t.prototype.render=function(){var n=this,r=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(a){return oee(a,n.props.locale)}:function(a){return p4(a,n.props.locale)}),o;switch(this.props.dropdownMode){case"scroll":o=this.renderScrollMode(r);break;case"select":o=this.renderSelectMode(r);break}return ue.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},o)},t})(M.Component);function uUe(e,t){for(var n=[],r=Pd(e),o=Pd(t);!zh(r,o);)n.push(wn(r)),r=rl(r,1);return n}var hUe=(function(e){Ai(t,e);function t(n){var r=e.call(this,n)||this;return r.renderOptions=function(){return r.state.monthYearsList.map(function(o){var a=rN(o),l=Yl(r.props.date,o)&&po(r.props.date,o);return ue.createElement("div",{className:l?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:a,onClick:r.onChange.bind(r,a),"aria-selected":l?"true":void 0},l?ue.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",rr(o,r.props.dateFormat,r.props.locale))})},r.onChange=function(o){return r.props.onChange(o)},r.handleClickOutside=function(){r.props.onCancel()},r.state={monthYearsList:uUe(r.props.minDate,r.props.maxDate)},r}return t.prototype.render=function(){var n=St({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return ue.createElement(vD,{className:n,onClickOutside:this.handleClickOutside},this.renderOptions())},t})(M.Component),fUe=(function(e){Ai(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var r=Pd(n.props.minDate),o=Pd(n.props.maxDate),a=[];!zh(r,o);){var l=rN(r);a.push(ue.createElement("option",{key:l,value:l},rr(r,n.props.dateFormat,n.props.locale))),r=rl(r,1)}return a},n.onSelectChange=function(r){n.onChange(parseInt(r.target.value))},n.renderSelectMode=function(){return ue.createElement("select",{value:rN(Pd(n.props.date)),className:"react-datepicker__month-year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(r){var o=rr(n.props.date,n.props.dateFormat,n.props.locale);return ue.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:n.toggleDropdown},ue.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),ue.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},o))},n.renderDropdown=function(){return ue.createElement(hUe,qt({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var r=n.state.dropdownVisible,o=[n.renderReadView(!r)];return r&&o.unshift(n.renderDropdown()),o},n.onChange=function(r){n.toggleDropdown();var o=wn(r);Yl(n.props.date,o)&&po(n.props.date,o)||n.props.onChange(o)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return t.prototype.render=function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return ue.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},n)},t})(M.Component),pUe=(function(e){Ai(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={height:null},n.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var r,o,a;n.list&&(n.list.scrollTop=(a=n.centerLi&&t.calcCenterPosition(n.props.monthRef?n.props.monthRef.clientHeight-((o=(r=n.header)===null||r===void 0?void 0:r.clientHeight)!==null&&o!==void 0?o:0):n.list.clientHeight,n.centerLi))!==null&&a!==void 0?a:0)})},n.handleClick=function(r){var o,a;(n.props.minTime||n.props.maxTime)&&AG(r,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&xG(r,n.props)||(a=(o=n.props).onChange)===null||a===void 0||a.call(o,r)},n.isSelectedTime=function(r){return n.props.selected&&nUe(n.props.selected,r)},n.isDisabledTime=function(r){return(n.props.minTime||n.props.maxTime)&&AG(r,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&xG(r,n.props)},n.liClasses=function(r){var o,a=["react-datepicker__time-list-item",n.props.timeClassName?n.props.timeClassName(r):void 0];return n.isSelectedTime(r)&&a.push("react-datepicker__time-list-item--selected"),n.isDisabledTime(r)&&a.push("react-datepicker__time-list-item--disabled"),n.props.injectTimes&&(Td(r)*3600+Rd(r)*60+Ph(r))%(((o=n.props.intervals)!==null&&o!==void 0?o:t.defaultProps.intervals)*60)!==0&&a.push("react-datepicker__time-list-item--injected"),a.join(" ")},n.handleOnKeyDown=function(r,o){var a,l;r.key===tt.Space&&(r.preventDefault(),r.key=tt.Enter),(r.key===tt.ArrowUp||r.key===tt.ArrowLeft)&&r.target instanceof HTMLElement&&r.target.previousSibling&&(r.preventDefault(),r.target.previousSibling instanceof HTMLElement&&r.target.previousSibling.focus()),(r.key===tt.ArrowDown||r.key===tt.ArrowRight)&&r.target instanceof HTMLElement&&r.target.nextSibling&&(r.preventDefault(),r.target.nextSibling instanceof HTMLElement&&r.target.nextSibling.focus()),r.key===tt.Enter&&n.handleClick(o),(l=(a=n.props).handleOnKeyDown)===null||l===void 0||l.call(a,r)},n.renderTimes=function(){for(var r,o=[],a=typeof n.props.format=="string"?n.props.format:"p",l=(r=n.props.intervals)!==null&&r!==void 0?r:t.defaultProps.intervals,d=n.props.selected||n.props.openToDate||wn(),f=hS(d),m=n.props.injectTimes&&n.props.injectTimes.sort(function(P,N){return P.getTime()-N.getTime()}),v=60*tUe(d),C=v/l,y=0;y<C;y++){var S=eN(f,y*l);if(o.push(S),m){var E=eUe(f,S,y,l,m);o=o.concat(E)}}var T=o.reduce(function(P,N){return N.getTime()<=d.getTime()?N:P},o[0]);return o.map(function(P){return ue.createElement("li",{key:P.valueOf(),onClick:n.handleClick.bind(n,P),className:n.liClasses(P),ref:function(N){P===T&&(n.centerLi=N)},onKeyDown:function(N){n.handleOnKeyDown(N,P)},tabIndex:P===T?0:-1,role:"option","aria-selected":n.isSelectedTime(P)?"true":void 0,"aria-disabled":n.isDisabledTime(P)?"true":void 0},rr(P,a,n.props.locale))})},n.renderTimeCaption=function(){return n.props.showTimeCaption===!1?ue.createElement(ue.Fragment,null):ue.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(n.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(r){n.header=r}},ue.createElement("div",{className:"react-datepicker-time__header"},n.props.timeCaption))},n}return Object.defineProperty(t,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},t.prototype.componentWillUnmount=function(){var n;(n=this.resizeObserver)===null||n===void 0||n.disconnect()},t.prototype.observeDatePickerHeightChanges=function(){var n=this,r=this.props.monthRef;this.updateContainerHeight(),r&&(this.resizeObserver=new ResizeObserver(function(){n.updateContainerHeight()}),this.resizeObserver.observe(r))},t.prototype.updateContainerHeight=function(){this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},t.prototype.render=function(){var n=this,r,o=this.state.height;return ue.createElement("div",{className:"react-datepicker__time-container ".concat(((r=this.props.todayButton)!==null&&r!==void 0?r:t.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),ue.createElement("div",{className:"react-datepicker__time"},ue.createElement("div",{className:"react-datepicker__time-box"},ue.createElement("ul",{className:"react-datepicker__time-list",ref:function(a){n.list=a},style:o?{height:o}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},t.calcCenterPosition=function(n,r){return r.offsetTop-(n/2-r.clientHeight/2)},t})(M.Component),NG=3,gUe=(function(e){Ai(t,e);function t(n){var r=e.call(this,n)||this;return r.YEAR_REFS=ic([],Array(r.props.yearItemNumber),!0).map(function(){return M.createRef()}),r.isDisabled=function(o){return ra(o,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(o){return g4(o,{excludeDates:r.props.excludeDates})},r.selectingDate=function(){var o;return(o=r.props.selectingDate)!==null&&o!==void 0?o:r.props.preSelection},r.updateFocusOnPaginate=function(o){var a=function(){var l,d;(d=(l=r.YEAR_REFS[o])===null||l===void 0?void 0:l.current)===null||d===void 0||d.focus()};window.requestAnimationFrame(a)},r.handleYearClick=function(o,a){r.props.onDayClick&&r.props.onDayClick(o,a)},r.handleYearNavigation=function(o,a){var l,d,f,m,v=r.props,C=v.date,y=v.yearItemNumber;if(!(C===void 0||y===void 0)){var S=yd(C,y).startPeriod;r.isDisabled(a)||r.isExcluded(a)||((d=(l=r.props).setPreSelection)===null||d===void 0||d.call(l,a),o-S<0?r.updateFocusOnPaginate(y-(S-o)):o-S>=y?r.updateFocusOnPaginate(Math.abs(y-(o-S))):(m=(f=r.YEAR_REFS[o-S])===null||f===void 0?void 0:f.current)===null||m===void 0||m.focus())}},r.isSameDay=function(o,a){return $t(o,a)},r.isCurrentYear=function(o){return o===zt(wn())},r.isRangeStart=function(o){return r.props.startDate&&r.props.endDate&&Yl(Kl(wn(),o),r.props.startDate)},r.isRangeEnd=function(o){return r.props.startDate&&r.props.endDate&&Yl(Kl(wn(),o),r.props.endDate)},r.isInRange=function(o){return N1(o,r.props.startDate,r.props.endDate)},r.isInSelectingRange=function(o){var a=r.props,l=a.selectsStart,d=a.selectsEnd,f=a.selectsRange,m=a.startDate,v=a.endDate;return!(l||d||f)||!r.selectingDate()?!1:l&&v?N1(o,r.selectingDate(),v):d&&m||f&&m&&!v?N1(o,m,r.selectingDate()):!1},r.isSelectingRangeStart=function(o){var a;if(!r.isInSelectingRange(o))return!1;var l=r.props,d=l.startDate,f=l.selectsStart,m=Kl(wn(),o);return f?Yl(m,(a=r.selectingDate())!==null&&a!==void 0?a:null):Yl(m,d??null)},r.isSelectingRangeEnd=function(o){var a;if(!r.isInSelectingRange(o))return!1;var l=r.props,d=l.endDate,f=l.selectsEnd,m=l.selectsRange,v=Kl(wn(),o);return f||m?Yl(v,(a=r.selectingDate())!==null&&a!==void 0?a:null):Yl(v,d??null)},r.isKeyboardSelected=function(o){if(!(r.props.disabledKeyboardNavigation||r.props.date===void 0||r.props.preSelection==null)){var a=r.props,l=a.minDate,d=a.maxDate,f=a.excludeDates,m=a.includeDates,v=a.filterDate,C=a.selected,y=wy(Kl(r.props.date,o)),S=(l||d||f||m||v)&&fS(o,r.props),E=!!C&&$t(y,wy(C)),T=$t(y,wy(r.props.preSelection));return!r.props.inline&&!E&&T&&!S}},r.isSelectedYear=function(o){var a=r.props,l=a.selectsMultiple,d=a.selected,f=a.selectedDates;return l?f?.some(function(m){return o===zt(m)}):!!d&&o===zt(d)},r.onYearClick=function(o,a){var l=r.props.date;l!==void 0&&r.handleYearClick(wy(Kl(l,a)),o)},r.onYearKeyDown=function(o,a){var l,d,f=o.key,m=r.props,v=m.date,C=m.yearItemNumber,y=m.handleOnKeyDown;if(f!==tt.Tab&&o.preventDefault(),!r.props.disabledKeyboardNavigation)switch(f){case tt.Enter:if(r.props.selected==null)break;r.onYearClick(o,a),(d=(l=r.props).setPreSelection)===null||d===void 0||d.call(l,r.props.selected);break;case tt.ArrowRight:if(r.props.preSelection==null)break;r.handleYearNavigation(a+1,Dd(r.props.preSelection,1));break;case tt.ArrowLeft:if(r.props.preSelection==null)break;r.handleYearNavigation(a-1,qb(r.props.preSelection,1));break;case tt.ArrowUp:{if(v===void 0||C===void 0||r.props.preSelection==null)break;var S=yd(v,C).startPeriod,E=NG,T=a-E;if(T<S){var P=C%E;a>=S&&a<S+P?E=P:E+=P,T=a-E}r.handleYearNavigation(T,qb(r.props.preSelection,E));break}case tt.ArrowDown:{if(v===void 0||C===void 0||r.props.preSelection==null)break;var N=yd(v,C).endPeriod,E=NG,T=a+E;if(T>N){var P=C%E;a<=N&&a>N-P?E=P:E+=P,T=a+E}r.handleYearNavigation(T,Dd(r.props.preSelection,E));break}}y&&y(o)},r.getYearClassNames=function(o){var a=r.props,l=a.date,d=a.disabled,f=a.minDate,m=a.maxDate,v=a.excludeDates,C=a.includeDates,y=a.filterDate,S=a.yearClassName;return St("react-datepicker__year-text","react-datepicker__year-".concat(o),l?S?.(Kl(l,o)):void 0,{"react-datepicker__year-text--selected":r.isSelectedYear(o),"react-datepicker__year-text--disabled":(f||m||v||C||y||d)&&fS(o,r.props),"react-datepicker__year-text--keyboard-selected":r.isKeyboardSelected(o),"react-datepicker__year-text--range-start":r.isRangeStart(o),"react-datepicker__year-text--range-end":r.isRangeEnd(o),"react-datepicker__year-text--in-range":r.isInRange(o),"react-datepicker__year-text--in-selecting-range":r.isInSelectingRange(o),"react-datepicker__year-text--selecting-range-start":r.isSelectingRangeStart(o),"react-datepicker__year-text--selecting-range-end":r.isSelectingRangeEnd(o),"react-datepicker__year-text--today":r.isCurrentYear(o)})},r.getYearTabIndex=function(o){if(r.props.disabledKeyboardNavigation||r.props.preSelection==null)return"-1";var a=zt(r.props.preSelection),l=fS(o,r.props);return o===a&&!l?"0":"-1"},r.getYearContent=function(o){return r.props.renderYearContent?r.props.renderYearContent(o):o},r}return t.prototype.render=function(){var n=this,r=[],o=this.props,a=o.date,l=o.yearItemNumber,d=o.onYearMouseEnter,f=o.onYearMouseLeave;if(a===void 0)return null;for(var m=yd(a,l),v=m.startPeriod,C=m.endPeriod,y=function(T){r.push(ue.createElement("div",{ref:S.YEAR_REFS[T-v],onClick:function(P){n.onYearClick(P,T)},onKeyDown:function(P){cee(P)&&(P.preventDefault(),P.key=tt.Enter),n.onYearKeyDown(P,T)},tabIndex:Number(S.getYearTabIndex(T)),className:S.getYearClassNames(T),onMouseEnter:S.props.usePointerEvent?void 0:function(P){return d(P,T)},onPointerEnter:S.props.usePointerEvent?function(P){return d(P,T)}:void 0,onMouseLeave:S.props.usePointerEvent?void 0:function(P){return f(P,T)},onPointerLeave:S.props.usePointerEvent?function(P){return f(P,T)}:void 0,key:T,"aria-current":S.isCurrentYear(T)?"date":void 0},S.getYearContent(T)))},S=this,E=v;E<=C;E++)y(E);return ue.createElement("div",{className:"react-datepicker__year"},ue.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},r))},t})(M.Component);function mUe(e,t,n,r){for(var o=[],a=0;a<2*t+1;a++){var l=e+t-a,d=!0;n&&(d=zt(n)<=l),r&&d&&(d=zt(r)>=l),d&&o.push(l)}return o}var bUe=(function(e){Ai(t,e);function t(n){var r=e.call(this,n)||this;r.yearOptionButtonsRef={},r.handleOptionKeyDown=function(d,f){var m;switch(f.key){case"Enter":f.preventDefault(),r.onChange(d);break;case"Escape":f.preventDefault(),r.props.onCancel();break;case"ArrowUp":case"ArrowDown":{f.preventDefault();var v=d+(f.key==="ArrowUp"?1:-1);r.yearOptionButtonsRef[v]&&((m=r.yearOptionButtonsRef[v])===null||m===void 0||m.focus());break}}},r.renderOptions=function(){r.yearOptionButtonsRef={};var d=r.props.year,f=r.state.yearsList.map(function(C){return ue.createElement("div",{ref:function(y){r.yearOptionButtonsRef[C]=y,C===d&&y?.focus()},role:"button",tabIndex:0,className:d===C?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:C,onClick:r.onChange.bind(r,C),onKeyDown:r.handleOptionKeyDown.bind(r,C),"aria-selected":d===C?"true":void 0},d===C?ue.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",C)}),m=r.props.minDate?zt(r.props.minDate):null,v=r.props.maxDate?zt(r.props.maxDate):null;return(!v||!r.state.yearsList.find(function(C){return C===v}))&&f.unshift(ue.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:r.incrementYears},ue.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!m||!r.state.yearsList.find(function(C){return C===m}))&&f.push(ue.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:r.decrementYears},ue.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),f},r.onChange=function(d){r.props.onChange(d)},r.handleClickOutside=function(){r.props.onCancel()},r.shiftYears=function(d){var f=r.state.yearsList.map(function(m){return m+d});r.setState({yearsList:f})},r.incrementYears=function(){return r.shiftYears(1)},r.decrementYears=function(){return r.shiftYears(-1)};var o=n.yearDropdownItemNumber,a=n.scrollableYearDropdown,l=o||(a?10:5);return r.state={yearsList:mUe(r.props.year,l,r.props.minDate,r.props.maxDate)},r.dropdownRef=M.createRef(),r}return t.prototype.componentDidMount=function(){var n=this.dropdownRef.current;if(n){var r=n.children?Array.from(n.children):null,o=r?r.find(function(a){return a.ariaSelected}):null;n.scrollTop=o&&o instanceof HTMLElement?o.offsetTop+(o.clientHeight-n.clientHeight)/2:(n.scrollHeight-n.clientHeight)/2}},t.prototype.render=function(){var n=St({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return ue.createElement(vD,{className:n,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},t})(M.Component),vUe=(function(e){Ai(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var r=n.props.minDate?zt(n.props.minDate):1900,o=n.props.maxDate?zt(n.props.maxDate):2100,a=[],l=r;l<=o;l++)a.push(ue.createElement("option",{key:l,value:l},l));return a},n.onSelectChange=function(r){n.onChange(parseInt(r.target.value))},n.renderSelectMode=function(){return ue.createElement("select",{value:n.props.year,className:"react-datepicker__year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(r){return ue.createElement("button",{key:"read",type:"button",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:n.toggleDropdown},ue.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),ue.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},n.props.year))},n.renderDropdown=function(){return ue.createElement(bUe,qt({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var r=n.state.dropdownVisible,o=[n.renderReadView(!r)];return r&&o.unshift(n.renderDropdown()),o},n.onChange=function(r){n.toggleDropdown(),r!==n.props.year&&n.props.onChange(r)},n.toggleDropdown=function(r){n.setState({dropdownVisible:!n.state.dropdownVisible},function(){n.props.adjustDateOnChange&&n.handleYearChange(n.props.date,r)})},n.handleYearChange=function(r,o){var a;(a=n.onSelect)===null||a===void 0||a.call(n,r,o),n.setOpen()},n.onSelect=function(r,o){var a,l;(l=(a=n.props).onSelect)===null||l===void 0||l.call(a,r,o)},n.setOpen=function(){var r,o;(o=(r=n.props).setOpen)===null||o===void 0||o.call(r,!0)},n}return t.prototype.render=function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return ue.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},n)},t})(M.Component),wUe=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],dee="react-datepicker-ignore-onclickoutside",CUe=function(e){var t=(e.className||"").split(/\s+/);return wUe.some(function(n){return t.indexOf(n)>=0})},yUe=(function(e){Ai(t,e);function t(n){var r=e.call(this,n)||this;return r.monthContainer=void 0,r.handleClickOutside=function(o){r.props.onClickOutside(o)},r.setClickOutsideRef=function(){return r.containerRef.current},r.handleDropdownFocus=function(o){var a,l;CUe(o.target)&&((l=(a=r.props).onDropdownFocus)===null||l===void 0||l.call(a,o))},r.getDateInView=function(){var o=r.props,a=o.preSelection,l=o.selected,d=o.openToDate,f=aee(r.props),m=lee(r.props),v=wn(),C=d||l||a;return C||(f&&rc(v,f)?f:m&&zh(v,m)?m:v)},r.increaseMonth=function(){r.setState(function(o){var a=o.date;return{date:rl(a,1)}},function(){return r.handleMonthChange(r.state.date)})},r.decreaseMonth=function(){r.setState(function(o){var a=o.date;return{date:zp(a,1)}},function(){return r.handleMonthChange(r.state.date)})},r.handleDayClick=function(o,a,l){r.props.onSelect(o,a,l),r.props.setPreSelection&&r.props.setPreSelection(o)},r.handleDayMouseEnter=function(o){r.setState({selectingDate:o}),r.props.onDayMouseEnter&&r.props.onDayMouseEnter(o)},r.handleMonthMouseLeave=function(){r.setState({selectingDate:void 0}),r.props.onMonthMouseLeave&&r.props.onMonthMouseLeave()},r.handleYearMouseEnter=function(o,a){r.setState({selectingDate:Kl(wn(),a)}),r.props.onYearMouseEnter&&r.props.onYearMouseEnter(o,a)},r.handleYearMouseLeave=function(o,a){r.props.onYearMouseLeave&&r.props.onYearMouseLeave(o,a)},r.handleYearChange=function(o){var a,l,d,f;(l=(a=r.props).onYearChange)===null||l===void 0||l.call(a,o),r.setState({isRenderAriaLiveMessage:!0}),r.props.adjustDateOnChange&&(r.props.onSelect(o),(f=(d=r.props).setOpen)===null||f===void 0||f.call(d,!0)),r.props.setPreSelection&&r.props.setPreSelection(o)},r.getEnabledPreSelectionDateForMonth=function(o){if(!ra(o,r.props))return o;for(var a=Pd(o),l=VGe(o),d=JHe(l,a),f=null,m=0;m<=d;m++){var v=Xa(a,m);if(!ra(v,r.props)){f=v;break}}return f},r.handleMonthChange=function(o){var a,l,d,f=(a=r.getEnabledPreSelectionDateForMonth(o))!==null&&a!==void 0?a:o;r.handleCustomMonthChange(f),r.props.adjustDateOnChange&&(r.props.onSelect(f),(d=(l=r.props).setOpen)===null||d===void 0||d.call(l,!0)),r.props.setPreSelection&&r.props.setPreSelection(f)},r.handleCustomMonthChange=function(o){var a,l;(l=(a=r.props).onMonthChange)===null||l===void 0||l.call(a,o),r.setState({isRenderAriaLiveMessage:!0})},r.handleMonthYearChange=function(o){r.handleYearChange(o),r.handleMonthChange(o)},r.changeYear=function(o){r.setState(function(a){var l=a.date;return{date:Kl(l,Number(o))}},function(){return r.handleYearChange(r.state.date)})},r.changeMonth=function(o){r.setState(function(a){var l=a.date;return{date:gs(l,Number(o))}},function(){return r.handleMonthChange(r.state.date)})},r.changeMonthYear=function(o){r.setState(function(a){var l=a.date;return{date:Kl(gs(l,qi(o)),zt(o))}},function(){return r.handleMonthYearChange(r.state.date)})},r.header=function(o){if(o===void 0&&(o=r.state.date),!ec(o))return[];var a=r.props.disabled,l=Ih(o,r.props.locale,r.props.calendarStartDay),d=[];return r.props.showWeekNumbers&&d.push(ue.createElement("div",{key:"W",className:"react-datepicker__day-name ".concat(a?"react-datepicker__day-name--disabled":""),role:"columnheader"},ue.createElement("span",{className:"react-datepicker__sr-only"},"Week number"),ue.createElement("span",{"aria-hidden":"true"},r.props.weekLabel||"#"))),d.concat([0,1,2,3,4,5,6].map(function(f){var m=Xa(l,f),v=r.formatWeekday(m,r.props.locale),C=r.props.weekDayClassName?r.props.weekDayClassName(m):void 0;return ue.createElement("div",{key:f,role:"columnheader",className:St("react-datepicker__day-name",C,a?"react-datepicker__day-name--disabled":"")},ue.createElement("span",{className:"react-datepicker__sr-only"},rr(m,"EEEE",r.props.locale)),ue.createElement("span",{"aria-hidden":"true"},v))}))},r.formatWeekday=function(o,a){return r.props.formatWeekDay?GGe(o,r.props.formatWeekDay,a):r.props.useWeekdaysShort?WGe(o,a):UGe(o,a)},r.decreaseYear=function(){r.setState(function(o){var a,l=o.date;return{date:qb(l,r.props.showYearPicker?(a=r.props.yearItemNumber)!==null&&a!==void 0?a:t.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.clearSelectingDate=function(){r.setState({selectingDate:void 0})},r.renderPreviousButton=function(){var o,a,l;if(!r.props.renderCustomHeader){var d=(o=r.props.monthsShown)!==null&&o!==void 0?o:t.defaultProps.monthsShown,f=r.props.showPreviousMonths?d-1:0,m=(a=r.props.monthSelectedIn)!==null&&a!==void 0?a:f,v=zp(r.state.date,m),C;switch(!0){case r.props.disabled:C=!0;break;case r.props.showMonthYearPicker:C=EG(r.state.date,r.props);break;case r.props.showYearPicker:C=QGe(r.state.date,r.props);break;case r.props.showQuarterYearPicker:C=KGe(r.state.date,r.props);break;default:C=SG(v,r.props);break}if(!(!((l=r.props.forceShowMonthNavigation)!==null&&l!==void 0?l:t.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&C||r.props.showTimeSelectOnly)){var y=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],S=["react-datepicker__navigation","react-datepicker__navigation--previous"],E=r.decreaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(E=r.decreaseYear),C&&r.props.showDisabledMonthNavigation&&(S.push("react-datepicker__navigation--previous--disabled"),E=void 0);var T=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,P=r.props,N=P.previousMonthButtonLabel,j=N===void 0?t.defaultProps.previousMonthButtonLabel:N,L=P.previousYearButtonLabel,V=L===void 0?t.defaultProps.previousYearButtonLabel:L,U=r.props,$=U.previousMonthAriaLabel,z=$===void 0?typeof j=="string"?j:"Previous Month":$,K=U.previousYearAriaLabel,te=K===void 0?typeof V=="string"?V:"Previous Year":K;return ue.createElement("button",{type:"button",className:S.join(" "),onClick:E,onKeyDown:r.props.handleOnKeyDown,"aria-label":T?te:z},ue.createElement("span",{className:y.join(" ")},T?V:j))}}},r.increaseYear=function(){r.setState(function(o){var a,l=o.date;return{date:Dd(l,r.props.showYearPicker?(a=r.props.yearItemNumber)!==null&&a!==void 0?a:t.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.renderNextButton=function(){var o;if(!r.props.renderCustomHeader){var a;switch(!0){case r.props.disabled:a=!0;break;case r.props.showMonthYearPicker:a=DG(r.state.date,r.props);break;case r.props.showYearPicker:a=ZGe(r.state.date,r.props);break;case r.props.showQuarterYearPicker:a=YGe(r.state.date,r.props);break;default:a=_G(r.state.date,r.props);break}if(!(!((o=r.props.forceShowMonthNavigation)!==null&&o!==void 0?o:t.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&a||r.props.showTimeSelectOnly)){var l=["react-datepicker__navigation","react-datepicker__navigation--next"],d=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];r.props.showTimeSelect&&l.push("react-datepicker__navigation--next--with-time"),r.props.todayButton&&l.push("react-datepicker__navigation--next--with-today-button");var f=r.increaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(f=r.increaseYear),a&&r.props.showDisabledMonthNavigation&&(l.push("react-datepicker__navigation--next--disabled"),f=void 0);var m=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,v=r.props,C=v.nextMonthButtonLabel,y=C===void 0?t.defaultProps.nextMonthButtonLabel:C,S=v.nextYearButtonLabel,E=S===void 0?t.defaultProps.nextYearButtonLabel:S,T=r.props,P=T.nextMonthAriaLabel,N=P===void 0?typeof y=="string"?y:"Next Month":P,j=T.nextYearAriaLabel,L=j===void 0?typeof E=="string"?E:"Next Year":j;return ue.createElement("button",{type:"button",className:l.join(" "),onClick:f,onKeyDown:r.props.handleOnKeyDown,"aria-label":m?L:N},ue.createElement("span",{className:d.join(" ")},m?E:y))}}},r.renderCurrentMonth=function(o){o===void 0&&(o=r.state.date);var a=["react-datepicker__current-month"];return r.props.showYearDropdown&&a.push("react-datepicker__current-month--hasYearDropdown"),r.props.showMonthDropdown&&a.push("react-datepicker__current-month--hasMonthDropdown"),r.props.showMonthYearDropdown&&a.push("react-datepicker__current-month--hasMonthYearDropdown"),ue.createElement("h2",{className:a.join(" ")},ec(o)?rr(o,r.props.dateFormat,r.props.locale):"")},r.renderYearDropdown=function(o){if(o===void 0&&(o=!1),!(!r.props.showYearDropdown||o))return ue.createElement(vUe,qt({},t.defaultProps,r.props,{date:r.state.date,onChange:r.changeYear,year:zt(r.state.date)}))},r.renderMonthDropdown=function(o){if(o===void 0&&(o=!1),!(!r.props.showMonthDropdown||o))return ue.createElement(dUe,qt({},t.defaultProps,r.props,{month:qi(r.state.date),onChange:r.changeMonth}))},r.renderMonthYearDropdown=function(o){if(o===void 0&&(o=!1),!(!r.props.showMonthYearDropdown||o))return ue.createElement(fUe,qt({},t.defaultProps,r.props,{date:r.state.date,onChange:r.changeMonthYear}))},r.handleTodayButtonClick=function(o){r.props.onSelect(CG(),o),r.props.setPreSelection&&r.props.setPreSelection(CG())},r.renderTodayButton=function(){if(!(!r.props.todayButton||r.props.showTimeSelectOnly))return ue.createElement("div",{className:"react-datepicker__today-button",onClick:r.handleTodayButtonClick},r.props.todayButton)},r.renderDayNamesHeader=function(o){return ue.createElement("div",{className:"react-datepicker__day-names",role:"row"},r.header(o))},r.renderDefaultHeader=function(o){var a=o.monthDate,l=o.i;return ue.createElement("div",{className:"react-datepicker__header ".concat(r.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},r.renderCurrentMonth(a),ue.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(r.props.dropdownMode),onFocus:r.handleDropdownFocus},r.renderMonthDropdown(l!==0),r.renderMonthYearDropdown(l!==0),r.renderYearDropdown(l!==0)))},r.renderCustomHeader=function(o){var a,l,d=o.monthDate,f=o.i;if(r.props.showTimeSelect&&!r.state.monthContainer||r.props.showTimeSelectOnly)return null;var m=r.props,v=m.showYearPicker,C=m.yearItemNumber,y;if(v){var S=yd(d,C),E=S.startPeriod,T=S.endPeriod;y={startYear:E,endYear:T}}var P=SG(r.state.date,r.props),N=_G(r.state.date,r.props),j=EG(r.state.date,r.props),L=DG(r.state.date,r.props);return ue.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:r.props.onDropdownFocus},(l=(a=r.props).renderCustomHeader)===null||l===void 0?void 0:l.call(a,qt(qt(qt({},r.state),v&&{visibleYearsRange:y}),{customHeaderCount:f,monthDate:d,changeMonth:r.changeMonth,changeYear:r.changeYear,decreaseMonth:r.decreaseMonth,increaseMonth:r.increaseMonth,decreaseYear:r.decreaseYear,increaseYear:r.increaseYear,prevMonthButtonDisabled:P,nextMonthButtonDisabled:N,prevYearButtonDisabled:j,nextYearButtonDisabled:L})))},r.renderYearHeader=function(o){var a=o.monthDate,l=r.props,d=l.showYearPicker,f=l.yearItemNumber,m=f===void 0?t.defaultProps.yearItemNumber:f,v=yd(a,m),C=v.startPeriod,y=v.endPeriod;return ue.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},d?"".concat(C," - ").concat(y):zt(a))},r.renderHeader=function(o){var a=o.monthDate,l=o.i,d=l===void 0?0:l,f={monthDate:a,i:d};switch(!0){case r.props.renderCustomHeader!==void 0:return r.renderCustomHeader(f);case(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker):return r.renderYearHeader(f);default:return r.renderDefaultHeader(f)}},r.renderMonths=function(){var o,a;if(!(r.props.showTimeSelectOnly||r.props.showYearPicker)){for(var l=[],d=(o=r.props.monthsShown)!==null&&o!==void 0?o:t.defaultProps.monthsShown,f=r.props.showPreviousMonths?d-1:0,m=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Dd(r.state.date,f):zp(r.state.date,f),v=(a=r.props.monthSelectedIn)!==null&&a!==void 0?a:f,C=0;C<d;++C){var y=C-v+f,S=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Dd(m,y):rl(m,y),E="month-".concat(C),T=C<d-1,P=C>0;l.push(ue.createElement("div",{key:E,ref:function(N){r.monthContainer=N??void 0},className:"react-datepicker__month-container"},r.renderHeader({monthDate:S,i:C}),ue.createElement(lUe,qt({},t.defaultProps,r.props,{containerRef:r.containerRef,ariaLabelPrefix:r.props.monthAriaLabelPrefix,day:S,onDayClick:r.handleDayClick,handleOnKeyDown:r.props.handleOnDayKeyDown,handleOnMonthKeyDown:r.props.handleOnKeyDown,onDayMouseEnter:r.handleDayMouseEnter,onMouseLeave:r.handleMonthMouseLeave,orderInDisplay:C,selectingDate:r.state.selectingDate,monthShowsDuplicateDaysEnd:T,monthShowsDuplicateDaysStart:P,dayNamesHeader:r.renderDayNamesHeader(S)}))))}return l}},r.renderYears=function(){if(!r.props.showTimeSelectOnly&&r.props.showYearPicker)return ue.createElement("div",{className:"react-datepicker__year--container"},r.renderHeader({monthDate:r.state.date}),ue.createElement(gUe,qt({},t.defaultProps,r.props,{selectingDate:r.state.selectingDate,date:r.state.date,onDayClick:r.handleDayClick,clearSelectingDate:r.clearSelectingDate,onYearMouseEnter:r.handleYearMouseEnter,onYearMouseLeave:r.handleYearMouseLeave})))},r.renderTimeSection=function(){if(r.props.showTimeSelect&&(r.state.monthContainer||r.props.showTimeSelectOnly))return ue.createElement(pUe,qt({},t.defaultProps,r.props,{onChange:r.props.onTimeChange,format:r.props.timeFormat,intervals:r.props.timeIntervals,monthRef:r.state.monthContainer}))},r.renderInputTimeSection=function(){var o=r.props.selected?new Date(r.props.selected):void 0,a=o&&ec(o)&&!!r.props.selected,l=a?"".concat(TG(o.getHours()),":").concat(TG(o.getMinutes())):"";if(r.props.showTimeInput)return ue.createElement(rUe,qt({},t.defaultProps,r.props,{date:o,timeString:l,onChange:r.props.onTimeChange}))},r.renderAriaLiveRegion=function(){var o;if(!ec(r.state.date))return ue.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"});var a=yd(r.state.date,(o=r.props.yearItemNumber)!==null&&o!==void 0?o:t.defaultProps.yearItemNumber),l=a.startPeriod,d=a.endPeriod,f;return r.props.showYearPicker?f="".concat(l," - ").concat(d):r.props.showMonthYearPicker||r.props.showQuarterYearPicker?f=zt(r.state.date):f="".concat(p4(qi(r.state.date),r.props.locale)," ").concat(zt(r.state.date)),ue.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},r.state.isRenderAriaLiveMessage&&f)},r.renderChildren=function(){if(r.props.children)return ue.createElement("div",{className:"react-datepicker__children-container"},r.props.children)},r.containerRef=M.createRef(),r.state={date:r.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},r}return Object.defineProperty(t,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,outsideClickIgnoreClass:dee,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:X0}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){var n=this;this.props.showTimeSelect&&(this.assignMonthContainer=(function(){n.setState({monthContainer:n.monthContainer})})())},t.prototype.componentDidUpdate=function(n){var r=this;if(this.props.preSelection&&ec(this.props.preSelection)&&(!$t(this.props.preSelection,n.preSelection)||this.props.monthSelectedIn!==n.monthSelectedIn)){var o=!po(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return o&&r.handleCustomMonthChange(r.state.date)})}else this.props.openToDate&&!$t(this.props.openToDate,n.openToDate)&&this.setState({date:this.props.openToDate})},t.prototype.render=function(){var n=this.props.container||OGe;return ue.createElement(vD,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},ue.createElement("div",{style:{display:"contents"},ref:this.containerRef},ue.createElement(n,{className:St("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly,inline:this.props.inline},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},t})(M.Component),kUe=function(e){var t=e.icon,n=e.className,r=n===void 0?"":n,o=e.onClick,a="react-datepicker__calendar-icon";if(typeof t=="string")return ue.createElement("i",{className:"".concat(a," ").concat(t," ").concat(r),"aria-hidden":"true",onClick:o});if(ue.isValidElement(t)){var l=t;return ue.cloneElement(l,{className:"".concat(l.props.className||""," ").concat(a," ").concat(r),onClick:function(d){typeof l.props.onClick=="function"&&l.props.onClick(d),typeof o=="function"&&o(d)}})}return ue.createElement("svg",{className:"".concat(a," ").concat(r),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:o},ue.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},uee=(function(e){Ai(t,e);function t(n){var r=e.call(this,n)||this;return r.portalRoot=null,r.el=document.createElement("div"),r}return t.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},t.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},t.prototype.render=function(){return dU.createPortal(this.props.children,this.el)},t})(M.Component),xUe="[tabindex], a, button, input, select, textarea",AUe=function(e){return(e instanceof HTMLAnchorElement||!e.disabled)&&e.tabIndex!==-1},hee=(function(e){Ai(t,e);function t(n){var r=e.call(this,n)||this;return r.getTabChildren=function(){var o;return Array.prototype.slice.call((o=r.tabLoopRef.current)===null||o===void 0?void 0:o.querySelectorAll(xUe),1,-1).filter(AUe)},r.handleFocusStart=function(){var o=r.getTabChildren();o&&o.length>1&&o[o.length-1].focus()},r.handleFocusEnd=function(){var o=r.getTabChildren();o&&o.length>1&&o[0].focus()},r.tabLoopRef=M.createRef(),r}return t.prototype.render=function(){var n;return((n=this.props.enableTabLoop)!==null&&n!==void 0?n:t.defaultProps.enableTabLoop)?ue.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},ue.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,ue.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},t.defaultProps={enableTabLoop:!0},t})(M.Component);function SUe(e){function t(n){var r,o=typeof n.hidePopper=="boolean"?n.hidePopper:!0,a=M.useRef(null),l=NGe(qt({open:!o,whileElementsMounted:hGe,placement:n.popperPlacement,middleware:ic([yGe({padding:15}),CGe(10),kGe({element:a})],(r=n.popperModifiers)!==null&&r!==void 0?r:[],!0)},n.popperProps)),d=qt(qt({},n),{hidePopper:o,popperProps:qt(qt({},l),{arrowRef:a})});return ue.createElement(e,qt({},d))}return t.displayName="withFloating(".concat(e.displayName||e.name||"Component",")"),t}var _Ue=function(e){var t=e.className,n=e.wrapperClassName,r=e.hidePopper,o=r===void 0?!0:r,a=e.popperComponent,l=e.targetComponent,d=e.enableTabLoop,f=e.popperOnKeyDown,m=e.portalId,v=e.portalHost,C=e.popperProps,y=e.showArrow,S=void 0;if(!o){var E=St("react-datepicker-popper",t);S=ue.createElement(hee,{enableTabLoop:d},ue.createElement("div",{ref:C.refs.setFloating,style:C.floatingStyles,className:E,"data-placement":C.placement,onKeyDown:f},a,y&&ue.createElement(EGe,{ref:C.arrowRef,context:C.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}e.popperContainer&&(S=M.createElement(e.popperContainer,{},S)),m&&!o&&(S=ue.createElement(uee,{portalId:m,portalHost:v},S));var T=St("react-datepicker-wrapper",n);return ue.createElement(ue.Fragment,null,ue.createElement("div",{ref:C.refs.setReference,className:T},l),S)},EUe=SUe(_Ue);function DUe(e,t){return e&&t?qi(e)!==qi(t)||zt(e)!==zt(t):e!==t}var iP="Date input not valid.",il=(function(e){Ai(t,e);function t(n){var r=e.call(this,n)||this;return r.calendar=null,r.input=null,r.getPreSelection=function(){return r.props.openToDate?r.props.openToDate:r.props.selectsEnd&&r.props.startDate?r.props.startDate:r.props.selectsStart&&r.props.endDate?r.props.endDate:wn()},r.modifyHolidays=function(){var o;return(o=r.props.holidays)===null||o===void 0?void 0:o.reduce(function(a,l){var d=new Date(l.date);return ec(d)?ic(ic([],a,!0),[qt(qt({},l),{date:d})],!1):a},[])},r.calcInitialState=function(){var o,a=r.getPreSelection(),l=aee(r.props),d=lee(r.props),f=l&&rc(a,hS(l))?l:d&&zh(a,yG(d))?d:a;return{open:r.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(o=r.props.selectsRange?r.props.startDate:r.props.selected)!==null&&o!==void 0?o:f,highlightDates:MG(r.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},r.getInputValue=function(){var o,a=r.props,l=a.locale,d=a.startDate,f=a.endDate,m=a.rangeSeparator,v=a.selected,C=a.selectedDates,y=a.selectsMultiple,S=a.selectsRange,E=a.value,T=(o=r.props.dateFormat)!==null&&o!==void 0?o:t.defaultProps.dateFormat,P=r.state.inputValue;return typeof E=="string"?E:typeof P=="string"?P:S?LGe(d,f,{dateFormat:T,locale:l,rangeSeparator:m}):y?BGe(C??[],{dateFormat:T,locale:l}):ps(v,{dateFormat:T,locale:l})},r.resetHiddenStatus=function(){r.setState(qt(qt({},r.state),{wasHidden:!1}))},r.setHiddenStatus=function(){r.setState(qt(qt({},r.state),{wasHidden:!0}))},r.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&r.setHiddenStatus()},r.clearPreventFocusTimeout=function(){r.preventFocusTimeout&&clearTimeout(r.preventFocusTimeout)},r.setFocus=function(){var o,a;(a=(o=r.input)===null||o===void 0?void 0:o.focus)===null||a===void 0||a.call(o,{preventScroll:!0})},r.setBlur=function(){var o,a;(a=(o=r.input)===null||o===void 0?void 0:o.blur)===null||a===void 0||a.call(o),r.cancelFocusInput()},r.deferBlur=function(){requestAnimationFrame(function(){r.setBlur()})},r.setOpen=function(o,a){a===void 0&&(a=!1),r.setState({open:o,preSelection:o&&r.state.open?r.state.preSelection:r.calcInitialState().preSelection,lastPreSelectChange:oP},function(){o||r.setState(function(l){return{focused:a?l.focused:!1}},function(){!a&&r.deferBlur(),r.setState({inputValue:null})})})},r.inputOk=function(){return Md(r.state.preSelection)},r.isCalendarOpen=function(){return r.props.open===void 0?r.state.open&&!r.props.disabled&&!r.props.readOnly:r.props.open},r.handleFocus=function(o){var a,l,d=r.state.wasHidden,f=d?r.state.open:!0;d&&r.resetHiddenStatus(),r.state.preventFocus||((l=(a=r.props).onFocus)===null||l===void 0||l.call(a,o),f&&!r.props.preventOpenOnFocus&&!r.props.readOnly&&r.setOpen(!0)),r.setState({focused:!0})},r.sendFocusBackToInput=function(){r.preventFocusTimeout&&r.clearPreventFocusTimeout(),r.setState({preventFocus:!0},function(){r.preventFocusTimeout=setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})})},r.cancelFocusInput=function(){clearTimeout(r.inputFocusTimeout),r.inputFocusTimeout=void 0},r.deferFocusInput=function(){r.cancelFocusInput(),r.inputFocusTimeout=setTimeout(function(){return r.setFocus()},1)},r.handleDropdownFocus=function(){r.cancelFocusInput()},r.resetInputValue=function(){r.setState(qt(qt({},r.state),{inputValue:null}))},r.handleBlur=function(o){var a,l;(!r.state.open||r.props.withPortal||r.props.showTimeInput)&&((l=(a=r.props).onBlur)===null||l===void 0||l.call(a,o)),r.resetInputValue(),r.state.open&&r.props.open===!1&&r.setOpen(!1),r.setState({focused:!1})},r.handleCalendarClickOutside=function(o){var a,l;r.props.inline||r.setOpen(!1),(l=(a=r.props).onClickOutside)===null||l===void 0||l.call(a,o),r.props.withPortal&&o.preventDefault()},r.handleChange=function(){for(var o,a,l,d,f,m=[],v=0;v<arguments.length;v++)m[v]=arguments[v];var C=m[0];if(!(r.props.onChangeRaw&&(r.props.onChangeRaw.apply(r,m),!C||typeof C.isDefaultPrevented!="function"||C.isDefaultPrevented()))){r.setState({inputValue:C?.target instanceof HTMLInputElement?C.target.value:null,lastPreSelectChange:MUe});var y=r.props,S=y.selectsRange,E=y.startDate,T=y.endDate,P=(o=r.props.dateFormat)!==null&&o!==void 0?o:t.defaultProps.dateFormat,N=(a=r.props.strictParsing)!==null&&a!==void 0?a:t.defaultProps.strictParsing,j=C?.target instanceof HTMLInputElement?C.target.value:"";if(S){var L=r.props.rangeSeparator,V=L.trim(),U=j.split(P.includes(V)?L:V,2).map(function(se){return se.trim()}),$=U[0],z=U[1],K=eP($??"",P,r.props.locale,N),te=K?eP(z??"",P,r.props.locale,N):null,ae=E?.getTime()!==K?.getTime(),X=T?.getTime()!==te?.getTime();if(!ae&&!X||K&&ra(K,r.props)||te&&ra(te,r.props))return;(d=(l=r.props).onChange)===null||d===void 0||d.call(l,[K,te],C)}else{var Z=eP(j,P,r.props.locale,N,(f=r.props.selected)!==null&&f!==void 0?f:void 0);(Z||!j)&&r.setSelected(Z,C,!0)}}},r.handleSelect=function(o,a,l){var d;if(!r.props.readOnly){var f=r.props,m=f.selectsRange,v=f.startDate,C=f.endDate,y=f.locale,S=f.swapRange,E=(d=r.props.dateFormat)!==null&&d!==void 0?d:t.defaultProps.dateFormat,T=!m||v&&!C&&(S||!nP(o,v));if(r.props.shouldCloseOnSelect&&!r.props.showTimeSelect&&T&&r.sendFocusBackToInput(),r.props.onChangeRaw){var P=ps(o,{dateFormat:E,locale:y});r.props.onChangeRaw(a,{date:o,formattedDate:P})}r.setSelected(o,a,!1,l),r.props.showDateSelect&&r.setState({isRenderAriaLiveMessage:!0}),!r.props.shouldCloseOnSelect||r.props.showTimeSelect?r.setPreSelection(o):T&&r.setOpen(!1)}},r.setSelected=function(o,a,l,d){var f,m,v=o;if(r.props.showYearPicker){if(v!==null&&fS(zt(v),r.props))return}else if(r.props.showMonthYearPicker){if(v!==null&&see(v,r.props))return}else if(v!==null&&ra(v,r.props))return;var C=r.props,y=C.onChange,S=C.selectsRange,E=C.startDate,T=C.endDate,P=C.selectsMultiple,N=C.selectedDates,j=C.minTime,L=C.swapRange;if(!Ep(r.props.selected,v)||r.props.allowSameDay||S||P)if(v!==null&&(r.props.selected&&(!l||!r.props.showTimeSelect&&!r.props.showTimeSelectOnly&&!r.props.showTimeInput)&&(v=tP(v,{hour:Td(r.props.selected),minute:Rd(r.props.selected),second:Ph(r.props.selected)})),!l&&(r.props.showTimeSelect||r.props.showTimeSelectOnly)&&j&&(v=tP(v,{hour:j.getHours(),minute:j.getMinutes(),second:j.getSeconds()})),r.props.inline||r.setState({preSelection:v}),r.props.focusSelectedMonth||r.setState({monthSelectedIn:d})),S){var V=!E&&!T,U=E&&!T,$=!E&&!!T,z=E&&T;V?y?.([v,null],a):U?v===null?y?.([null,null],a):nP(v,E)?y?.(L?[v,E]:[v,null],a):y?.([E,v],a):$&&(v&&nP(v,T)?y?.([v,T],a):y?.([v,null],a)),z&&y?.([v,null],a)}else if(P){if(v!==null)if(!N?.length)y?.([v],a);else{var K=N.some(function(ae){return $t(ae,v)});if(K){var te=N.filter(function(ae){return!$t(ae,v)});y?.(te,a)}else y?.(ic(ic([],N,!0),[v],!1),a)}}else y?.(v,a);l||((m=(f=r.props).onSelect)===null||m===void 0||m.call(f,v,a),r.setState({inputValue:null}))},r.setPreSelection=function(o){if(!r.props.readOnly){var a=Md(r.props.minDate),l=Md(r.props.maxDate),d=!0;if(o){var f=hS(o);if(a&&l)d=vp(o,r.props.minDate,r.props.maxDate);else if(a){var m=hS(r.props.minDate);d=zh(o,m)||Ep(f,m)}else if(l){var v=yG(r.props.maxDate);d=rc(o,v)||Ep(f,v)}}d&&r.setState({preSelection:o})}},r.toggleCalendar=function(){r.setOpen(!r.state.open)},r.handleTimeChange=function(o){var a,l;if(!(r.props.selectsRange||r.props.selectsMultiple)){var d=r.props.selected?r.props.selected:r.getPreSelection(),f=r.props.selected?o:tP(d,{hour:Td(o),minute:Rd(o)});r.setState({preSelection:f}),(l=(a=r.props).onChange)===null||l===void 0||l.call(a,f),r.props.shouldCloseOnSelect&&!r.props.showTimeInput&&(r.sendFocusBackToInput(),r.setOpen(!1)),r.props.showTimeInput&&r.setOpen(!0),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),r.setState({inputValue:null})}},r.onInputClick=function(){var o,a;!r.props.disabled&&!r.props.readOnly&&r.setOpen(!0),(a=(o=r.props).onInputClick)===null||a===void 0||a.call(o)},r.onInputKeyDown=function(o){var a,l,d,f,m,v;(l=(a=r.props).onKeyDown)===null||l===void 0||l.call(a,o);var C=o.key;if(!r.state.open&&!r.props.inline&&!r.props.preventOpenOnFocus){(C===tt.ArrowDown||C===tt.ArrowUp||C===tt.Enter)&&((d=r.onInputClick)===null||d===void 0||d.call(r));return}if(r.state.open){if(C===tt.ArrowDown||C===tt.ArrowUp){o.preventDefault();var y=r.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":r.props.showWeekPicker&&r.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':r.props.showFullMonthYearPicker||r.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',S=((f=r.calendar)===null||f===void 0?void 0:f.containerRef.current)instanceof Element&&r.calendar.containerRef.current.querySelector(y);S instanceof HTMLElement&&S.focus({preventScroll:!0});return}var E=wn(r.state.preSelection);C===tt.Enter?(o.preventDefault(),o.target.blur(),r.inputOk()&&r.state.lastPreSelectChange===oP?(r.handleSelect(E,o),!r.props.shouldCloseOnSelect&&r.setPreSelection(E)):r.setOpen(!1)):C===tt.Escape?(o.preventDefault(),o.target.blur(),r.sendFocusBackToInput(),r.setOpen(!1)):C===tt.Tab&&r.setOpen(!1),r.inputOk()||(v=(m=r.props).onInputError)===null||v===void 0||v.call(m,{code:1,msg:iP})}},r.onPortalKeyDown=function(o){var a=o.key;a===tt.Escape&&(o.preventDefault(),r.setState({preventFocus:!0},function(){r.setOpen(!1),setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})}))},r.onDayKeyDown=function(o){var a,l,d,f,m,v,C=r.props,y=C.minDate,S=C.maxDate,E=C.disabledKeyboardNavigation,T=C.showWeekPicker,P=C.shouldCloseOnSelect,N=C.locale,j=C.calendarStartDay,L=C.adjustDateOnChange,V=C.inline;if((l=(a=r.props).onKeyDown)===null||l===void 0||l.call(a,o),!E){var U=o.key,$=o.shiftKey,z=wn(r.state.preSelection),K=function(J,re){var ee=re;switch(J){case tt.ArrowRight:ee=T?L_(re,1):Xa(re,1);break;case tt.ArrowLeft:ee=T?aG(re):JVe(re);break;case tt.ArrowUp:ee=aG(re);break;case tt.ArrowDown:ee=L_(re,1);break;case tt.PageUp:ee=$?qb(re,1):zp(re,1);break;case tt.PageDown:ee=$?Dd(re,1):rl(re,1);break;case tt.Home:ee=Ih(re,N,j);break;case tt.End:ee=HGe(re);break}return ee},te=function(J,re){for(var ee=40,le=J,ce=!1,he=0,ne=K(J,re);!ce;){if(he>=ee){ne=re;break}y&&ne<y&&(le=tt.ArrowRight,ne=ra(y,r.props)?K(le,ne):y),S&&ne>S&&(le=tt.ArrowLeft,ne=ra(S,r.props)?K(le,ne):S),ra(ne,r.props)?((le===tt.PageUp||le===tt.Home)&&(le=tt.ArrowRight),(le===tt.PageDown||le===tt.End)&&(le=tt.ArrowLeft),ne=K(le,ne)):ce=!0,he++}return ne};if(U===tt.Enter){o.preventDefault(),r.handleSelect(z,o),!P&&r.setPreSelection(z);return}else if(U===tt.Escape){o.preventDefault(),r.setOpen(!1),r.inputOk()||(f=(d=r.props).onInputError)===null||f===void 0||f.call(d,{code:1,msg:iP});return}var ae=null;switch(U){case tt.ArrowLeft:case tt.ArrowRight:case tt.ArrowUp:case tt.ArrowDown:case tt.PageUp:case tt.PageDown:case tt.Home:case tt.End:ae=te(U,z);break}if(!ae){(v=(m=r.props).onInputError)===null||v===void 0||v.call(m,{code:1,msg:iP});return}if(o.preventDefault(),r.setState({lastPreSelectChange:oP}),L&&r.setSelected(ae),r.setPreSelection(ae),V){var X=qi(z),Z=qi(ae),se=zt(z),Q=zt(ae);X!==Z||se!==Q?r.setState({shouldFocusDayInline:!0}):r.setState({shouldFocusDayInline:!1})}}},r.onPopperKeyDown=function(o){var a=o.key;a===tt.Escape&&(o.preventDefault(),r.sendFocusBackToInput(),r.setOpen(!1))},r.onClearClick=function(o){o&&o.preventDefault&&o.preventDefault(),r.sendFocusBackToInput();var a=r.props,l=a.selectsRange,d=a.onChange;d?.(l?[null,null]:null,o),r.setState({inputValue:null})},r.clear=function(){r.onClearClick()},r.onScroll=function(o){typeof r.props.closeOnScroll=="boolean"&&r.props.closeOnScroll?(o.target===document||o.target===document.documentElement||o.target===document.body)&&r.setOpen(!1):typeof r.props.closeOnScroll=="function"&&r.props.closeOnScroll(o)&&r.setOpen(!1)},r.renderCalendar=function(){var o,a;return!r.props.inline&&!r.isCalendarOpen()?null:ue.createElement(yUe,qt({showMonthYearDropdown:void 0,ref:function(l){r.calendar=l}},r.props,r.state,{setOpen:r.setOpen,dateFormat:(o=r.props.dateFormatCalendar)!==null&&o!==void 0?o:t.defaultProps.dateFormatCalendar,onSelect:r.handleSelect,onClickOutside:r.handleCalendarClickOutside,holidays:JGe(r.modifyHolidays()),outsideClickIgnoreClass:r.props.outsideClickIgnoreClass,onDropdownFocus:r.handleDropdownFocus,onTimeChange:r.handleTimeChange,className:r.props.calendarClassName,container:r.props.calendarContainer,handleOnKeyDown:r.props.onKeyDown,handleOnDayKeyDown:r.onDayKeyDown,setPreSelection:r.setPreSelection,dropdownMode:(a=r.props.dropdownMode)!==null&&a!==void 0?a:t.defaultProps.dropdownMode}),r.props.children)},r.renderAriaLiveRegion=function(){var o,a=r.props.locale,l=(o=r.props.dateFormat)!==null&&o!==void 0?o:t.defaultProps.dateFormat,d=r.props.showTimeInput||r.props.showTimeSelect,f=d?"PPPPp":"PPPP",m;return r.props.selectsRange?m="Selected start date: ".concat(ps(r.props.startDate,{dateFormat:f,locale:a}),". ").concat(r.props.endDate?"End date: "+ps(r.props.endDate,{dateFormat:f,locale:a}):""):r.props.showTimeSelectOnly?m="Selected time: ".concat(ps(r.props.selected,{dateFormat:l,locale:a})):r.props.showYearPicker?m="Selected year: ".concat(ps(r.props.selected,{dateFormat:"yyyy",locale:a})):r.props.showMonthYearPicker?m="Selected month: ".concat(ps(r.props.selected,{dateFormat:"MMMM yyyy",locale:a})):r.props.showQuarterYearPicker?m="Selected quarter: ".concat(ps(r.props.selected,{dateFormat:"yyyy, QQQ",locale:a})):m="Selected date: ".concat(ps(r.props.selected,{dateFormat:f,locale:a})),ue.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},m)},r.renderDateInput=function(){var o,a,l=St(r.props.className,(o={},o[r.props.outsideClickIgnoreClass||t.defaultProps.outsideClickIgnoreClass]=r.state.open,o)),d=r.props.customInput||ue.createElement("input",{type:"text"}),f=r.props.customInputRef||"ref";return M.cloneElement(d,(a={},a[f]=function(m){r.input=m},a.value=r.getInputValue(),a.onBlur=r.handleBlur,a.onChange=r.handleChange,a.onClick=r.onInputClick,a.onFocus=r.handleFocus,a.onKeyDown=r.onInputKeyDown,a.id=r.props.id,a.name=r.props.name,a.form=r.props.form,a.autoFocus=r.props.autoFocus,a.placeholder=r.props.placeholderText,a.disabled=r.props.disabled,a.autoComplete=r.props.autoComplete,a.className=St(d.props.className,l),a.title=r.props.title,a.readOnly=r.props.readOnly,a.required=r.props.required,a.tabIndex=r.props.tabIndex,a["aria-describedby"]=r.props.ariaDescribedBy,a["aria-invalid"]=r.props.ariaInvalid,a["aria-labelledby"]=r.props.ariaLabelledBy,a["aria-required"]=r.props.ariaRequired,a))},r.renderClearButton=function(){var o=r.props,a=o.isClearable,l=o.disabled,d=o.selected,f=o.startDate,m=o.endDate,v=o.clearButtonTitle,C=o.clearButtonClassName,y=C===void 0?"":C,S=o.ariaLabelClose,E=S===void 0?"Close":S,T=o.selectedDates,P=o.readOnly;return a&&!P&&(d!=null||f!=null||m!=null||T?.length)?ue.createElement("button",{type:"button",className:St("react-datepicker__close-icon",y,{"react-datepicker__close-icon--disabled":l}),disabled:l,"aria-label":E,onClick:r.onClearClick,title:v,tabIndex:-1}):null},r.state=r.calcInitialState(),r.preventFocusTimeout=void 0,r}return Object.defineProperty(t,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,outsideClickIgnoreClass:dee,readOnly:!1,rangeSeparator:iee,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:X0,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.componentDidUpdate=function(n,r){var o,a,l,d;n.inline&&DUe(n.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&n.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),n.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:MG(this.props.highlightDates)}),!r.focused&&!Ep(n.selected,this.props.selected)&&this.setState({inputValue:null}),r.open!==this.state.open&&(r.open===!1&&this.state.open===!0&&((a=(o=this.props).onCalendarOpen)===null||a===void 0||a.call(o)),r.open===!0&&this.state.open===!1&&((d=(l=this.props).onCalendarClose)===null||d===void 0||d.call(l)))},t.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.renderInputContainer=function(){var n=this.props,r=n.showIcon,o=n.icon,a=n.calendarIconClassname,l=n.calendarIconClassName,d=n.toggleCalendarOnIconClick,f=this.state.open;return a&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),ue.createElement("div",{className:"react-datepicker__input-container".concat(r?" react-datepicker__view-calendar-icon":"")},r&&ue.createElement(kUe,qt({icon:o,className:St(l,!l&&a,f&&"react-datepicker-ignore-onclickoutside")},d?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},t.prototype.render=function(){var n=this.renderCalendar();if(this.props.inline)return n;if(this.props.withPortal){var r=this.state.open?ue.createElement(hee,{enableTabLoop:this.props.enableTabLoop},ue.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},n)):null;return this.state.open&&this.props.portalId&&(r=ue.createElement(uee,qt({portalId:this.props.portalId},this.props),r)),ue.createElement("div",null,this.renderInputContainer(),r)}return ue.createElement(EUe,qt({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:n,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},t})(M.Component),MUe="input",oP="navigate";jh.setAppElement("#root");const TUe=M.forwardRef(({value:e,onClick:t},n)=>A.jsx("div",{onClick:t,ref:n,className:"border border-gray-300 rounded px-4 py-2 cursor-pointer bg-white w-100",children:A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsx("span",{className:e?"text-black":"text-gray-400",children:e||"Select date & time"}),A.jsx(Yn,{className:"w-5 h-5 text-gray-500 ml-2"})]})}));function ts({statusModalData:e,setStatusModalData:t,statusData:n,statusFullData:r,commentMap:o,setCommentMap:a,dateTimeMap:l,setDateTimeMap:d,setIsChange:f}){const m="https://crm.softwaresetu.com/api",[v,C]=M.useState(!1);console.log(e,"statusModalData..");const y=async()=>{if(!e)return;const{customer_id:S,newStatus:E,batch_id:T}=e;console.log(T,"batch_id..."),console.log(S,"customer_id...");const P=JSON.parse(localStorage.getItem("user")),j=r.find(L=>L.name.trim().toLowerCase()===E?.trim().toLowerCase())?.id??null;try{C(!0);const L={customer_id:S,status:E,updated_by_id:P.id,updated_by_name:P.name,statusid:j,comment:o[S]||"",batch_id:T};(E==="Demo"||E==="Follow Up")&&(L.followup_datetime=l[S]||""),await je.put(`${m}/customers/status/${S}`,L),Ge.success("Status updated successfully"),f(V=>!V)}catch(L){console.error("Error updating status:",L),Ge.error("Failed to update status"),C(!1)}finally{t(null),C(!1)}};return A.jsxs(jh,{isOpen:!!e,onRequestClose:()=>t(null),className:"bg-white p-6 rounded shadow-lg max-w-md w-full relative z-50",overlayClassName:"fixed inset-0 bg-black/40 backdrop-blur-sm flex items-center justify-center z-50",children:[A.jsx("h2",{className:"text-xl font-bold mb-4",children:"Update Status"}),A.jsxs("select",{value:e?.newStatus||"",onChange:S=>{const E=S.target.value,T=e.customer_id;t(P=>({...P,newStatus:E})),(E==="Demo"||E==="Follow Up")&&d(P=>({...P,[T]:null}))},className:"border p-2 w-full mb-4 rounded",children:[A.jsx("option",{value:"",children:"Select Status"}),n.map((S,E)=>A.jsx("option",{value:S,children:S},E))]}),(e?.newStatus==="Demo"||e?.newStatus==="Follow Up")&&A.jsx("div",{className:"mb-4",children:A.jsx(il,{selected:l[e?.customer_id]?new Date(l[e?.customer_id]):null,onChange:S=>d(E=>({...E,[e.customer_id]:S})),showTimeSelect:!0,showTimeSelectSeconds:!0,timeIntervals:30,minDate:new Date,dateFormat:"dd/MM/yyyy hh:mm:ss aa",timeFormat:"hh:mm aa",customInput:A.jsx(TUe,{})})}),A.jsx("textarea",{placeholder:"Enter comment",value:o[e?.customer_id]||"",onChange:S=>a(E=>({...E,[e.customer_id]:S.target.value})),maxLength:1e3,className:"border p-2 w-full mb-4 rounded resize-y h-28"}),A.jsxs("div",{className:"flex justify-end gap-2",children:[A.jsx("button",{onClick:()=>t(null),className:"px-4 py-2 bg-gray-400 text-white rounded",children:"Cancel"}),A.jsx("button",{className:`px-4 py-2 text-white rounded-md flex items-center justify-center gap-2
        ${v?"bg-gray-400 cursor-not-allowed":"bg-blue-500 hover:bg-blue-600"}`,onClick:y,disabled:v,children:v?A.jsxs(A.Fragment,{children:[A.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[A.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),A.jsx("path",{className:"opacity-75",fill:"currentColor",d:`M4 12a8 8 0 018-8V0C5.373 \r
              0 0 5.373 0 12h4z`})]}),"Saving..."]}):"Save"})]})]})}function ns({selectedSource:e,setSelectedSource:t}){const[n,r]=M.useState([]),o="https://crm.softwaresetu.com/api",a=async()=>{try{const l=localStorage.getItem("token"),{data:d}=await je.get(`${o}/employee/get-source-data`,{headers:{Authorization:`Bearer ${l}`}});r(d)}catch(l){console.error("Error fetching sources:",l)}};return M.useEffect(()=>{a()},[]),A.jsxs("div",{className:"relative inline-block",children:[A.jsxs("select",{value:e,onChange:l=>t(l.target.value),className:"appearance-none border border-gray-300 px-4 py-2 pr-10 rounded w-full",children:[A.jsx("option",{value:"0",children:"All Source"}),n.map(l=>A.jsx("option",{value:l.batch_id,children:l.source_name},l.batch_id))]}),A.jsx(rE,{size:18,className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-600"})]})}function RUe({selectedStatus:e,setSelectedStatus:t,statusData:n}){return console.log(n,"statusData..."),A.jsxs("div",{className:"relative inline-block",children:[A.jsxs("select",{value:e,onChange:r=>t(r.target.value),className:"appearance-none border border-gray-300 px-4 py-2 pr-10 rounded w-full",children:[A.jsx("option",{value:"0",children:"All Status"}),n.map((r,o)=>A.jsx("option",{value:r,children:r},o))]}),A.jsx(rE,{size:18,className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-600"})]})}jh.setAppElement("#root");function rs({noteModalData:e,setNoteModalData:t}){const[n,r]=M.useState(""),[o,a]=M.useState([]),[l,d]=M.useState(1),[f]=M.useState(20),m="https://crm.softwaresetu.com/api",v=JSON.parse(localStorage.getItem("user"));console.log(v?.id,"userss..."),console.log(v?.name,"userss...");const C=()=>{t(null),r(""),a([]),d(1)},y=async()=>{if(e?.customer_id)try{const V=((await je.get(`${m}/activity/get-customer-notes/${e.customer_id}`)).data?.notes||[]).map((U,$)=>({note:U.text,created_at:U.created_at,id:$}));a(V)}catch(j){console.error("Error fetching notes:",j),a([])}},S=async()=>{if(!(!e?.customer_id||!n.trim()))try{await je.post(`${m}/activity/customer-notes/${e.customer_id}`,{note:n,updatedby_name:v?.name,updatedby_id:v?.id}),Ge.success("Note saved successfully"),r(""),y()}catch(j){console.error("Error saving note:",j),Ge.error("Failed to save note")}};M.useEffect(()=>{e&&y()},[e]);const E=l*f,T=E-f,P=Array.isArray(o)?o.slice(T,E):[],N=Array.isArray(o)?Math.ceil(o.length/f):0;return A.jsxs(jh,{isOpen:!!e,onRequestClose:C,className:"bg-white rounded-md shadow-lg p-6 max-w-5xl w-full h-[80vh] mx-auto outline-none flex flex-col",overlayClassName:"fixed inset-0 backdrop-blur-sm bg-black/40 flex items-center justify-center z-[999]",children:[A.jsxs("div",{className:"h-1/2 flex flex-col",children:[A.jsx("h3",{className:"text-md font-semibold mb-2",children:"Previous Notes"}),A.jsx("div",{className:"flex-1 overflow-x-auto overflow-y-auto border",children:A.jsxs("table",{className:"w-full text-sm border-collapse",children:[A.jsx("thead",{className:"bg-gray-100 sticky top-0",children:A.jsxs("tr",{children:[A.jsx("th",{className:"border px-3 py-2 text-left w-40",children:"Date"}),A.jsx("th",{className:"border px-3 py-2 text-left",children:"Note"})]})}),A.jsx("tbody",{children:P.length>0?P.map(j=>A.jsxs("tr",{className:"hover:bg-gray-50",children:[A.jsx("td",{className:"border px-3 py-2 w-40",children:new Date(j.created_at).toLocaleString()}),A.jsx("td",{className:"border px-3 py-2",children:j.note})]},j.id)):A.jsx("tr",{children:A.jsx("td",{colSpan:2,className:"text-center py-4 text-gray-500",children:"No notes found"})})})]})}),N>1&&A.jsxs("div",{className:"flex justify-center gap-2 mt-2",children:[A.jsx("button",{disabled:l===1,onClick:()=>d(j=>j-1),className:"px-3 py-1 border rounded disabled:opacity-50",children:"Prev"}),Array.from({length:N},(j,L)=>A.jsx("button",{onClick:()=>d(L+1),className:`px-3 py-1 border rounded ${l===L+1?"bg-blue-500 text-white":"bg-white"}`,children:L+1},L)),A.jsx("button",{disabled:l===N,onClick:()=>d(j=>j+1),className:"px-3 py-1 border rounded disabled:opacity-50",children:"Next"})]})]}),A.jsxs("div",{className:"h-1/2 flex flex-col mt-4",children:[A.jsxs("h2",{className:"text-lg font-bold mb-2",children:["Notes for ",e?.customer_name||"Customer"]}),A.jsx("textarea",{value:n,onChange:j=>r(j.target.value),placeholder:"Write your note here...",className:"flex-1 border rounded-md p-2 mb-4 resize-none"}),A.jsxs("div",{className:"flex justify-end gap-4",children:[A.jsx("button",{onClick:C,className:"px-4 py-2 bg-gray-300 rounded hover:bg-gray-400",children:"Cancel"}),A.jsx("button",{onClick:S,className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Save"})]})]})]})}function is({customerId:e,onClose:t}){const[n,r]=M.useState([]),[o,a]=M.useState(!1),l="https://crm.softwaresetu.com/api";return M.useEffect(()=>{e&&(a(!0),je.get(`${l}/customers/history/${e}`).then(d=>{r(d.data.data),a(!1)}).catch(()=>{Ge.error("Failed to load history"),a(!1)}))},[e]),e?A.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black/50 backdrop-blur-sm z-50",children:A.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg w-11/12 md:w-3/4 max-h-[80vh] overflow-y-auto relative",children:[A.jsx("h2",{className:"text-xl font-bold mb-4",children:"Comments History"}),A.jsx("button",{onClick:t,className:"absolute top-4 right-6 text-gray-600 hover:text-black",children:""}),o?A.jsx("p",{children:"Loading..."}):n.length>0?A.jsx("div",{className:"overflow-x-auto",children:A.jsxs("table",{className:"w-full border border-gray-200",children:[A.jsx("thead",{children:A.jsxs("tr",{className:"bg-gray-200",children:[A.jsx("th",{className:"p-2 border text-left",children:"Date"}),A.jsx("th",{className:"p-2 border text-left",children:"Created By"}),A.jsx("th",{className:"p-2 border text-left",children:"Comment"})]})}),A.jsx("tbody",{children:n.map((d,f)=>A.jsxs("tr",{className:"border",children:[A.jsx("td",{className:"p-2 border align-top whitespace-nowrap",children:new Date(d.created_at||d.createdAt).toLocaleString()}),A.jsx("td",{className:"p-2 border align-top break-words whitespace-pre-wrap",children:d.updated_by}),A.jsx("td",{className:"p-2 border align-top break-words whitespace-pre-wrap",children:d.comment})]},f))})]})}):A.jsx("p",{children:"No history found"})]})}):null}Cc.registerModules([qh]);function PUe(){const[e,t]=M.useState(null),[n,r]=M.useState(""),[o,a]=M.useState([]),[l,d]=M.useState([]),[f,m]=M.useState([]),[v,C]=M.useState(!1),y=M.useRef(null),S=yn(),[E,T]=M.useState(""),[P,N]=M.useState(!1),[j,L]=M.useState([]),[V,U]=M.useState(1e3),[$,z]=M.useState(!1),[K,te]=M.useState(!1),[ae,X]=M.useState(null),[Z,se]=M.useState(""),[Q,J]=M.useState([]),[re,ee]=M.useState([]),[le,ce]=M.useState([]),[he,ne]=M.useState([]),[fe,ve]=M.useState(null),[me,Oe]=M.useState({}),[_e,Ue]=M.useState(null),[pt,Ee]=M.useState({}),Te="https://crm.softwaresetu.com/api",[Ze,De]=M.useState(null),[et,lt]=M.useState({}),[yt,it]=M.useState(""),[Nt,kn]=M.useState(null),[Zn,mt]=M.useState(!1),[bt,Kt]=M.useState(null),[di,Gt]=M.useState(""),[ir,Br]=M.useState(null),[So,cn]=M.useState("0");M.useEffect(()=>{const We=ft=>{y.current?.eGridDiv.contains(ft.target)||kn(null)};return document.addEventListener("click",We),()=>document.removeEventListener("click",We)},[]),M.forwardRef(({value:We,onClick:ft},$n)=>A.jsxs("div",{onClick:ft,ref:$n,className:"flex justify-between items-center border border-gray-300 rounded px-3 py-2 w-90 cursor-pointer bg-white",children:[A.jsx("span",{className:We?"text-black":"text-gray-400",children:We||"Select date & time"}),A.jsx(Yn,{className:"w-5 h-5 text-gray-500 mr-2"})]}));const Pr=async()=>{try{const We=await je.get(`${Te}/customers/get-data`);a(Array.isArray(We.data)?We.data:[]),d(Array.isArray(We.data)?We.data:[]),m(Array.isArray(We.data)?We.data:[])}catch(We){console.error("Error fetching customers:",We),a([])}},Es=async()=>{try{const We=localStorage.getItem("token"),{data:ft}=await je.get(`${Te}/employee/single`,{headers:{Authorization:`Bearer ${We}`}});J(ft)}catch(We){console.error("Error fetching employees:",We)}};M.useEffect(()=>{Pr(),Es()},[]),M.useEffect(()=>{if(console.log(l,"copyData.."),E==="all"||E==="")a(l);else if(E==="Assigned"){const We=l.filter(ft=>ft.assigned_to!==null);a(We)}else if(E==="Not Assigned"){const We=l.filter(ft=>ft.assigned_to===null);a(We)}},[E]);const vv=M.useMemo(()=>[{headerName:"Name",field:"name",minWidth:300,cellRenderer:We=>A.jsxs("div",{className:"flex items-center  gap-2",children:[A.jsx("button",{className:"p-1 rounded hover:bg-gray-100 flex",onClick:ft=>{ft.stopPropagation(),S(`/customer/${We.data.id}`)},title:"View Details",children:A.jsx(v0,{size:18,className:"text-gray-600 hover:text-blue-600"})}),A.jsx("div",{className:"border-l border-gray-300 h-6"}),A.jsx("button",{className:"p-1 rounded hover:bg-gray-100 flex ",onClick:ft=>{ft.stopPropagation(),De({customer_id:We.data.id,currentStatus:We.value,newStatus:We.value,batch_id:We.data.batch_id})},title:"Edit Status",children:A.jsx(ko,{size:14,className:"text-gray-600"})}),A.jsx("span",{className:"ml-4",children:We.value})]})},{headerName:"Mobile",field:"mobile",cellRenderer:We=>A.jsx("div",{className:"flex items-center gap-2 cursor-pointer hover:bg-gray-100 p-1 rounded",onClick:ft=>{ft.stopPropagation(),De({customer_id:We.data.id,currentStatus:We.value,newStatus:We.value,batch_id:We.data.batch_id})},title:"Edit Status",children:A.jsx("span",{children:We.value})})},{headerName:"Status",field:"status"},{headerName:"Comment",field:"comment",minWidth:700,autoHeight:!0,cellRenderer:We=>{const ft=We.data.updated_at?new Date(We.data.updated_at).toLocaleString():"-";return A.jsxs("div",{className:"flex items-center justify-between gap-2",children:[A.jsxs("div",{className:"flex gap-4 max-w-[600px]",children:[A.jsx("span",{className:"text-sm text-gray-500",children:ft}),A.jsx("span",{className:"truncate text-gray-800",children:We.data.comment})]}),A.jsx("button",{className:"p-1 text-gray-600 rounded hover:bg-gray-300",onClick:()=>Br(We.data.id),title:"View Comments",children:A.jsx(Xo,{size:18})})]})}},{headerName:"Last Note",field:"customer_notes",minWidth:300,valueGetter:We=>{const ft=We.data.customer_notes;if(!ft||ft.length===0)return null;const $n=ft[0];return!$n.note||$n.note.length===0?null:[...$n.note].sort((lu,ma)=>new Date(ma.created_at)-new Date(lu.created_at))[0]?.text||null},cellRenderer:We=>A.jsx("span",{className:"italic font-semibold text-gray-800",children:We.value||" - "})},{headerName:"Notes",field:"status",width:90,maxWidth:90,cellRenderer:We=>A.jsxs("div",{className:"flex gap-6 ",children:[A.jsx("span",{className:" border-gray-400 h-6"}),A.jsx("button",{className:"p-1 rounded hover:bg-gray-100 flex",onClick:ft=>{ft.stopPropagation(),t({customer_id:We.data.id})},title:"Add Note",children:A.jsx(Qd,{size:14,className:"text-gray-600"})})]})},{headerName:"Assigned Status",field:"assigned_to_name",valueFormatter:We=>We.value?"Assigned":"Not Assigned",filter:!0},{headerName:"Assigned To",field:"assigned_to_name",cellRenderer:We=>A.jsxs("div",{className:"cursor-pointer flex items-center gap-2 group",onClick:()=>{Kt(We.data),mt(!0)},children:[A.jsx("span",{children:We.value||"Not Assigned"}),A.jsx(lue,{className:"w-4 h-4 text-gray-600 opacity-0 group-hover:opacity-100 transition-opacity"})]})},{headerName:"Created At",field:"created_at",sort:"desc",minWidth:300,valueFormatter:We=>We.value?new Date(We.value).toLocaleString():"-"}],[S,De,Br,t,Kt,mt]),ug=M.useMemo(()=>({sortable:!0,filter:!0,resizable:!0,flex:1,minWidth:140}),[]),kc=M.useCallback(We=>{We.api.sizeColumnsToFit()},[]),Qr=M.useCallback(We=>{We.api.sizeColumnsToFit()},[]);M.useEffect(()=>{(async()=>{try{const ft=await je.get(`${Te}/status`),$n=ft.data.map(pr=>pr.name);ce($n),ne(ft.data)}catch(ft){console.error("Error fetching statuses:",ft),Ge.error("Failed to load statuses ")}})()},[$]);const jr=async()=>{if(re.length===0){Ge.warning("Please select at least one employee!");return}if(!Z||isNaN(Z)||Number(Z)<=0){Ge.warning("Please enter a valid limit!");return}if(!ae){Ge.warning("Please select a batch!");return}const We=l?.filter(pr=>pr.assigned_to===null&&pr.batch_id===Number(ae));if(!We||We.length===0){Ge.warning(`This batch (${ae}) has no unassigned customers!`);return}const ft=Number(Z);if(ft>We.length){Ge.warning(`You have only ${We.length} unassigned contacts in this batch`);return}const $n=re.map(pr=>({employeeId:pr.id,limit:ft}));try{N(!0);const pr=localStorage.getItem("token");await je.post(`${Te}/employee/assign`,{batchId:Number(ae),distribution:$n},{headers:{Authorization:`Bearer ${pr}`}}),Ge.success("Assigned successfully to employees!"),te(!1),se(""),ee([]),X("")}catch(pr){Ge.error(pr.response?.data?.message||"Error assigning batch!"),console.error("Error assigning batch:",pr)}finally{setTimeout(()=>N(!1),2e3)}},xn=async(We,ft)=>{try{N(!0);const $n=localStorage.getItem("token");(await je.post(`${Te}/employee/assign-single`,{employeeId:ft,customerId:We.id,batchId:We.batch_id},{headers:{Authorization:`Bearer ${$n}`}})).status===200&&(Ge.success("Customer assigned successfully "),await Pr(),mt(!1),Gt(""),Kt(null))}catch($n){console.error("Error assigning customer:",$n),Ge.error("Failed to assign customer ")}finally{N(!1)}};M.useEffect(()=>{if(console.log(So,"selectedSource.."),So!="0"){let ft=(yt==0?l:l.filter($n=>$n.status==yt)).filter($n=>$n.batch_id==So);a(ft)}else{let We=yt==0?l:l.filter(ft=>ft.status==yt);a(We)}},[So]);const Si=async()=>{try{const We=localStorage.getItem("token"),{data:ft}=await je.get(`${Te}/employee/get-assign-source-data`,{headers:{Authorization:`Bearer ${We}`}});L(ft)}catch(We){console.error("Error fetching sources:",We)}};return M.useEffect(()=>{Si()},[]),A.jsxs(Gh,{role:"admin",children:[A.jsxs("div",{className:"p-6 bg-white rounded-xl shadow-md",children:[A.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3 mb-4",children:[A.jsx("h2",{className:"text-2xl font-bold",children:"Customer Data"}),A.jsxs("div",{className:"flex gap-3",children:[A.jsx(ns,{selectedSource:So,setSelectedSource:cn}),A.jsx(RUe,{selectedStatus:yt,setSelectedStatus:it,statusData:le}),A.jsx(Zi,{value:n,onChange:r}),A.jsx("button",{onClick:()=>T("Assigned"),className:"w-[130px] px-3 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 text-sm",children:"Assigned"}),A.jsx("button",{onClick:()=>T("Not Assigned"),className:"w-[130px] px-3 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 text-sm",children:"Not Assigned"}),A.jsx("button",{onClick:()=>T("all"),className:"w-[130px] px-3 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 text-sm",children:"Clear Fillter"}),A.jsxs("button",{className:"w-[130px] px-3 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 text-sm flex items-center justify-center gap-1",onClick:()=>{o.length>0?(X(o[0]),te(!0)):Ge.warning("No batches available to assign!")},children:[A.jsx(THe,{}),"Assign"]})]})]}),A.jsxs("div",{className:"ag-theme-alpine",style:{height:718,width:"100%"},children:[A.jsx(Nn,{theme:M0e,ref:y,rowData:yt==0?o:o.filter(We=>We.status==yt),columnDefs:vv,defaultColDef:ug,pagination:!0,paginationPageSize:V,paginationPageSizeSelector:[25,50,100,500,1e3],animateRows:!0,onGridReady:kc,onFirstDataRendered:Qr,quickFilterText:n,onRowClicked:We=>kn(We.data.id),getRowStyle:We=>We.data.id===Nt?{backgroundColor:"#c4c4c4",borderLeft:"4px solid #22c55e",transition:"background-color 0.3s ease"}:null}),A.jsx(ts,{statusModalData:Ze,setStatusModalData:De,statusData:le,statusFullData:he,commentMap:et,setCommentMap:lt,dateTimeMap:me,setDateTimeMap:Oe,setIsChange:z}),A.jsx(rs,{noteModalData:e,setNoteModalData:t}),ir&&A.jsx(is,{customerId:ir,onClose:()=>Br(null)})]}),K&&ae&&A.jsx("div",{className:"fixed inset-0 flex items-center justify-center backdrop-blur-sm bg-opacity-40 z-50",children:A.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg w-[600px]",children:[A.jsxs("div",{className:"flex gap-4",children:[A.jsx("input",{type:"number",placeholder:"Enter Limit",value:Z,onChange:We=>se(We.target.value),className:"mb-4 w-full px-4 py-2 border border-gray-400"}),A.jsxs("select",{value:ae,onChange:We=>X(We.target.value),className:"mb-4 w-full px-4 py-2 border border-gray-400",children:[A.jsx("option",{value:"",children:"Select Batch"}),j.map(We=>A.jsx("option",{value:We.batch_id,children:We.source_name},We.batch_id))]})]}),A.jsx("div",{className:"ag-theme-quartz",style:{height:250,width:"100%"},children:A.jsx(Nn,{rowData:Q,columnDefs:[{headerName:"ID",field:"id",flex:.5,checkboxSelection:!0,headerCheckboxSelection:!0,headerCheckboxSelectionFilteredOnly:!0},{headerName:"Name",field:"name",flex:1},{headerName:"Email",field:"email",flex:1}],rowSelection:"multiple",onSelectionChanged:We=>{const ft=We.api.getSelectedRows();ee(ft)},defaultColDef:ug,pagination:!0,paginationPageSize:20})}),A.jsxs("div",{className:"flex justify-end space-x-3 mt-4",children:[A.jsx("button",{className:"px-4 py-2 bg-gray-400 text-white rounded-lg hover:bg-gray-500",onClick:()=>te(!1),children:"Cancel"}),A.jsx("button",{className:`px-4 py-2 text-white rounded-md flex items-center justify-center gap-2
        ${P?"bg-gray-400 cursor-not-allowed":"bg-blue-500 hover:bg-blue-600"}`,onClick:jr,disabled:P,children:P?A.jsxs(A.Fragment,{children:[A.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[A.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),A.jsx("path",{className:"opacity-75",fill:"currentColor",d:`M4 12a8 8 0 018-8V0C5.373 \r
              0 0 5.373 0 12h4z`})]}),"Assigning..."]}):"Assign"})]})]})})]}),Zn&&bt&&A.jsx("div",{className:"fixed inset-0 flex items-center justify-center backdrop-blur-sm bg-opacity-40 z-50",children:A.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg w-[400px]",children:[A.jsxs("h3",{className:"text-lg font-bold mb-4",children:["Customer ",A.jsxs("sapn",{className:"text-blue-600",children:["( ",bt.name," )"]})," Assign To :-"]}),A.jsxs("select",{value:di,onChange:We=>Gt(We.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md mb-4",children:[A.jsx("option",{value:"",children:"Select Employee"}),Q.map(We=>A.jsxs("option",{value:We.id,children:[We.name," (",We.email,")"]},We.id))]}),A.jsxs("div",{className:"flex justify-end gap-3",children:[A.jsx("button",{className:"px-4 py-2 bg-gray-400 text-white rounded-md hover:bg-gray-500",onClick:()=>mt(!1),children:"Cancel"}),A.jsx("button",{className:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600",onClick:()=>{if(!di){Ge.warning("Please select an employee!");return}if(bt.assigned_to!==null){Ge.warning("Allready assigned!");return}xn(bt,di),mt(!1),Gt("")},children:"Submit"})]})]})})]})}Cc.registerModules([qh]);jh.setAppElement("#root");function IUe(){const[e,t]=M.useState(""),[n,r]=M.useState([]),[o,a]=M.useState(null),[l,d]=M.useState(""),[f,m]=M.useState(""),v=yn(),C="https://crm.softwaresetu.com/api",[y,S]=M.useState(!1),[E,T]=M.useState(!1),[P,N]=M.useState(!1),[j,L]=M.useState(!1),[V,U]=M.useState(null),[$,z]=M.useState(!1),[K,te]=M.useState(null),[ae,X]=M.useState(!1),[Z,se]=M.useState({name:"",email:"",mobile:"",address:""}),[Q,J]=M.useState([]),re=async()=>{try{N(!0),await je.delete(`${C}/customers/batch/${V}`),Ge.success("Batch deleted successfully "),ee()}catch(me){console.error("Delete failed:",me),Ge.error("Failed to delete batch ")}finally{z(!1),U(null),N(!1)}},ee=async()=>{try{const{data:me}=await je.get(`${C}/customers/get-batches`);r(me)}catch(me){Ge.error("Error fetching batches!"),console.error("Error fetching batches:",me)}},le=async()=>{if(!o){Ge.warning("Please select a file first!");return}if(!l.trim()){Ge.warning("Please enter a Source Name!");return}const me=new FormData;me.append("file",o),me.append("source_name",l),me.append("description",f);try{S(!0),await je.post(`${C}/customers/upload`,me,{headers:{"Content-Type":"multipart/form-data"}}),a(null),d(""),ee(),Ge.success("File uploaded successfully!")}catch(Oe){Ge.error(`Upload failed: ${Oe.response?.data?.message||Oe.message}`),console.error("Upload failed:",Oe)}finally{setTimeout(()=>S(!1),2e3)}},ce=()=>{const me=document.createElement("a");me.href="/example.xlsx",me.download="example.xlsx",document.body.appendChild(me),me.click(),document.body.removeChild(me)},he=me=>{me.preventDefault();const{name:Oe,email:_e,mobile:Ue,address:pt}=Z;if(!Oe||!_e||!Ue||!pt){Ge.warning("Please fill all fields!");return}J([...Q,Z]),se({name:"",email:"",mobile:"",address:""})},ne=async()=>{if(T(!0),!l.trim()){Ge.warning("Please Enter A Source Name First!");return}if(Q.length===0){Ge.warning("No records added!");return}try{const me=`name,email,mobile,address
`,Oe=Q.map(Ee=>`${Ee.name},${Ee.email},${Ee.mobile},${Ee.address}`).join(`
`),_e=me+Oe,Ue=new Blob([_e],{type:"text/csv"}),pt=new FormData;pt.append("file",Ue,"manual_upload.csv"),pt.append("source_name",l),await je.post(`${C}/customers/upload`,pt,{headers:{"Content-Type":"multipart/form-data"}}),Ge.success("Manual batch uploaded successfully!"),T(!1),J([]),X(!1),d(""),ee()}catch(me){Ge.error("Failed to submit records!"),console.error("Manual Batch Error:",me)}};M.useEffect(()=>{ee()},[]);const fe=M.useMemo(()=>({sortable:!0,filter:!0,resizable:!0}),[]),ve=M.useMemo(()=>[{headerName:"No",valueGetter:"node.rowIndex + 1",width:80},{headerName:"Name",field:"name",sortable:!0,filter:!0},{headerName:"Email",field:"email",sortable:!0,filter:!0},{headerName:"Mobile",field:"mobile",sortable:!0,filter:!0},{headerName:"Address",field:"address",sortable:!0,filter:!0}],[]);return A.jsxs(A.Fragment,{children:[A.jsxs("div",{className:"p-6 space-y-8 bg-gray-50 rounded-lg shadow-md",children:[A.jsx("div",{className:"flex items-center gap-2",children:A.jsx("img",{src:"/excel.png",alt:"Excel",className:"h-20 w-auto object-contain"})}),A.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-md space-y-4",children:[A.jsx("button",{onClick:()=>{if(!l.trim()){Ge.warning("Please enter a Source Name first!");return}X(!0)},className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition",children:"Add Manually"}),A.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-2 items-center",children:[A.jsx("input",{type:"text",placeholder:"Enter Source Name",value:l,onChange:me=>d(me.target.value),className:"px-4 py-2 border border-gray-400 w-full focus:ring focus:ring-blue-200"}),A.jsx("input",{type:"text",placeholder:"Enter Description",value:f,onChange:me=>m(me.target.value),className:"px-4 py-2 border border-gray-400 w-full focus:ring focus:ring-blue-200"}),A.jsx("input",{type:"file",accept:".xlsx, .xls, .csv",onChange:me=>a(me.target.files[0]),className:"px-4 py-2 border border-gray-400 w-full"}),A.jsxs("div",{className:"flex gap-4 md:col-span-2 flex-wrap",children:[A.jsxs("button",{onClick:le,disabled:y,className:"relative inline-flex items-center justify-center px-20 py-3 overflow-hidden font-medium transition duration-300 ease-out bg-blue-600 text-white rounded-lg shadow-md",children:[A.jsx("span",{className:`absolute inset-0 flex items-center justify-center w-full h-full text-white duration-500 transform
           ${y?"translate-x-0 bg-blue-500":"-translate-x-full"}
         `,children:y?A.jsx("svg",{className:"w-6 h-6 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v4m0 8v4m8-8h4M4 12H0m16.24-4.24l2.83-2.83M4.93 19.07l-2.83 2.83M16.24 19.07l2.83 2.83M4.93 4.93L2.1 2.1"})}):""}),A.jsx("span",{className:`absolute flex items-center justify-center w-full h-full text-white transition-all duration-500 transform
           ${y?"translate-x-full text-white":"translate-x-0"}
       `,children:y?"Uploading...":j?"Uploaded":"Upload Excel"}),A.jsx("span",{className:"relative invisible",children:y?"Uploading...":j?"Uploaded":"Upload Excel"})]}),A.jsx("button",{onClick:ce,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition",children:"Download Example File"})]})]})]}),A.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md",children:[A.jsxs("div",{className:"flex justify-between p-4",children:[A.jsx("h2",{className:"text-xl font-semibold mb-3 uppercase",children:"Uploaded Excel List"}),A.jsx(Zi,{value:e,onChange:t})]}),A.jsx("div",{className:"ag-theme-alpine",style:{height:600,width:"100%"},children:A.jsx(Nn,{rowData:n,columnDefs:[{headerName:"Batch ID",field:"batch_id",flex:.5},{headerName:"Source",field:"source_name",flex:1},{headerName:"Description",field:"description",flex:1},{headerName:"Pending Leads",field:"pending_count",flex:.8,cellRenderer:me=>{const Oe=me.value||0;return A.jsx("div",{className:`inline-flex items-center px-3 py-0.1 rounded-full text-sm font-semibold ${Oe>0?"bg-red-100 text-red-800 border border-red-300":"bg-green-100 text-green-800 border border-green-300"}`,children:Oe>0?A.jsx(A.Fragment,{children:Oe}):A.jsx(A.Fragment,{children:"0"})})},comparator:(me,Oe)=>me-Oe},{headerName:"View",field:"action",flex:.3,cellRenderer:me=>A.jsx("div",{style:{display:"flex",gap:"12px",alignItems:"center"},children:A.jsx("div",{className:"flex items-center gap-2",children:A.jsx(v0,{size:18,className:"cursor-pointer text-gray-600",onClick:()=>v(`/excel/batch/${me.data.batch_id}`)})})})},{headerName:"Date",field:"created_at",valueFormatter:me=>me.value?new Date(me.value).toLocaleString():"-"}],defaultColDef:fe,pagination:!0,paginationPageSize:100,quickFilterText:e,onRowClicked:me=>te(me.data.batch_id),getRowStyle:me=>me.data.batch_id===K?{backgroundColor:"#c4c4c4",borderLeft:"4px solid #22c55e",transition:"background-color 0.3s ease"}:null})})]}),A.jsxs(jh,{isOpen:ae,onRequestClose:()=>X(!1),className:"bg-white rounded-xl shadow-lg p-6 w-full max-w-2xl mx-auto mt-20 outline-none relative top-1",overlayClassName:"fixed inset-0  bg-opacity-50 backdrop-blur-sm flex justify-center items-start z-50",children:[A.jsx("h2",{className:"text-xl font-bold mb-4",children:"Add Records Manually"}),A.jsxs("form",{onSubmit:he,className:"space-y-3",children:[A.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[A.jsx("input",{type:"text",placeholder:"Name",value:Z.name,onChange:me=>se({...Z,name:me.target.value}),className:"w-full border p-2 rounded"}),A.jsx("input",{type:"email",placeholder:"Email",value:Z.email,onChange:me=>se({...Z,email:me.target.value}),className:"w-full border p-2 rounded"}),A.jsx("input",{type:"text",placeholder:"Mobile",value:Z.mobile,onChange:me=>se({...Z,mobile:me.target.value}),className:"w-full border p-2 rounded"}),A.jsx("input",{type:"text",placeholder:"Address",value:Z.address,onChange:me=>se({...Z,address:me.target.value}),className:"w-full border p-2 rounded"})]}),A.jsxs("div",{className:"flex justify-between pt-3",children:[A.jsx("button",{type:"submit",className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:"Add Record"}),Q.length>0&&A.jsxs("button",{onClick:ne,disabled:E,className:"relative inline-flex items-center justify-center px-20 py-3 overflow-hidden font-medium transition duration-300 ease-out bg-blue-600 text-white rounded-lg shadow-md",children:[A.jsx("span",{className:`absolute inset-0 flex items-center justify-center w-full h-full text-white duration-500 transform
           ${E?"translate-x-0 bg-blue-500":"-translate-x-full"}
         `,children:E?A.jsx("svg",{className:"w-6 h-6 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v4m0 8v4m8-8h4M4 12H0m16.24-4.24l2.83-2.83M4.93 19.07l-2.83 2.83M16.24 19.07l2.83 2.83M4.93 4.93L2.1 2.1"})}):""}),A.jsx("span",{className:`absolute flex items-center justify-center w-full h-full text-white transition-all duration-500 transform
           ${E?"translate-x-full text-white":"translate-x-0"}
       `,children:E?"Uploading...":j?"Uploaded":"Upload Manually"}),A.jsx("span",{className:"relative invisible",children:E?"Uploading...":j?"Uploaded":"Upload Manually"})]})]})]}),Q.length>0&&A.jsxs("div",{className:"mt-6",children:[A.jsx("h3",{className:"font-semibold mb-2",children:"Added Records"}),A.jsx("div",{className:"ag-theme-alpine",style:{height:300,width:"100%"},children:A.jsx(Nn,{rowData:Q,columnDefs:ve,pagination:!0,paginationPageSize:5,defaultColDef:{resizable:!0,sortable:!0,filter:!0}})})]})]})]}),A.jsxs(jh,{isOpen:$,onRequestClose:()=>z(!1),className:"bg-white p-6 rounded-lg shadow-lg max-w-md mx-auto mt-40",overlayClassName:"fixed inset-0 backdrop-blur-sm bg-opacity-40 flex items-center justify-center z-50",children:[A.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Confirm Delete"}),A.jsxs("p",{className:"mb-6",children:[A.jsx("span",{className:"text-red-500",children:"Are you sure you want to delete all customers in this batch? "})," ",A.jsx("br",{}),"Deleting this batch will also remove all the linked data associated with these customers from every connected module. This action cannot be undone."]}),A.jsxs("div",{className:"flex justify-end gap-4",children:[A.jsx("button",{onClick:()=>z(!1),className:"px-4 py-2 rounded bg-gray-300 hover:bg-gray-400",children:"Cancel"}),A.jsx("button",{className:`px-4 py-2 text-white rounded-md flex items-center justify-center gap-2
        ${P?"bg-gray-400 cursor-not-allowed":"bg-blue-500 hover:bg-blue-600"}`,onClick:re,disabled:P,children:P?A.jsxs(A.Fragment,{children:[A.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[A.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),A.jsx("path",{className:"opacity-75",fill:"currentColor",d:`M4 12a8 8 0 018-8V0C5.373 \r
              0 0 5.373 0 12h4z`})]}),"Deleting..."]}):"Delete"})]})]})]})}Cc.registerModules([qh]);function NUe(){const{batchId:e}=Z_(),t=yn(),[n,r]=M.useState([]),o=M.useRef(null),a="https://crm.softwaresetu.com/api",l=M.useMemo(()=>[{headerName:"ID",field:"id",flex:.5},{headerName:"Name",field:"name",flex:1},{headerName:"Email",field:"email",flex:1},{headerName:"Mobile",field:"mobile",flex:1},{headerName:"Address",field:"address",flex:1},{headerName:"Status",field:"status",flex:1}],[]),d=M.useMemo(()=>({sortable:!0,filter:!0,resizable:!0}),[]),f=async()=>{try{const{data:m}=await je.get(`${a}/customers/wise/${e}`);r(m)}catch(m){console.error("Error fetching customers:",m)}};return M.useEffect(()=>{f()},[e]),A.jsxs("div",{className:"p-6 bg-gray-50 min-h-screen space-y-4",children:[A.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg",onClick:()=>t(-1),children:"Back"}),A.jsxs("h1",{className:"text-3xl font-bold",children:["Customers in Batch ",e]}),A.jsx("div",{className:"ag-theme-quartz w-full",style:{height:500},children:A.jsx(Nn,{ref:o,rowData:n,columnDefs:l,defaultColDef:d,pagination:!0,paginationPageSize:20,animateRows:!0})})]})}Cc.registerModules([qh]);function OUe(){const[e,t]=M.useState([]),[n,r]=M.useState([]),[o,a]=M.useState(null),[l,d]=M.useState({}),[f,m]=M.useState(null),[v,C]=M.useState({}),[y,S]=M.useState([]),[E,T]=M.useState([]),[P,N]=M.useState(""),[j,L]=M.useState(""),V="https://crm.softwaresetu.com/api",[U,$]=M.useState(!1),[z,K]=M.useState(null),[te,ae]=M.useState({}),[X,Z]=M.useState(null),[se,Q]=M.useState(null),[J,re]=M.useState("0");M.useEffect(()=>{const he=async()=>{try{const fe=await je.get(`${V}/status`),ve=fe.data.map(me=>me.name);S(ve),T(fe.data)}catch(fe){console.error("Error fetching statuses:",fe),Ge.error("Failed to load statuses ")}};(async()=>{try{const fe=JSON.parse(localStorage.getItem("user"));if(!fe?.id)return;const ve=`${V}/customers/assigned?assigned_to=${fe.id}`,{data:me}=await je.get(ve);t(me),r(me)}catch(fe){console.error("Error fetching customers:",fe),Ge.error("Failed to load customers ")}})(),he()},[U]);const ee={defaultColDef:{flex:1,resizable:!0,sortable:!0,filter:!0}},le=M.useMemo(()=>[{headerName:"Name",field:"name"},{headerName:"Mobile",field:"mobile"},{headerName:"Status",field:"status"},{headerName:"Comment",field:"comment",minWidth:700,autoHeight:!0,cellRenderer:he=>A.jsxs("div",{className:"flex items-center justify-between gap-2",children:[A.jsx("span",{className:"truncate max-w-[600px]",children:he.data.comment}),A.jsx("button",{className:"p-1 text-gray-600 rounded hover:bg-gray-300",onClick:()=>Q(he.data.customer_id),title:"View Comments",children:A.jsx(Xo,{size:18})})]})},{headerName:"Status Change",field:"status",width:150,maxWidth:150,cellRenderer:he=>A.jsxs("div",{className:"flex gap-8 items-center justify-center",children:[A.jsx("button",{className:"p-1 rounded hover:bg-gray-100 flex",onClick:()=>K({customer_id:he.data.customer_id,currentStatus:he.value,newStatus:he.value,batch_id:he.data.batch_id}),children:A.jsx(ko,{size:14,className:"text-gray-600"})}),A.jsx("span",{class:"border-l border-gray-400 h-6 inline-block"}),A.jsx("button",{className:"p-1 rounded hover:bg-gray-100 flex",onClick:()=>{console.log("Customer ID:",he.data.customer_id),Z({customer_id:he.data.customer_id})},children:A.jsx(Qd,{size:14,className:"text-gray-600"})})]})},{headerName:"Follow Up Date/Time",field:"followup_datetime"}],[]);console.log(z,"statusModalData..");const ce=M.useMemo(()=>{let he=e.filter(ne=>ne.status!=="Deal");return P&&(he=he.filter(ne=>ne.status===P)),he},[e,P]);return M.useEffect(()=>{if(J!="0"){let he=n.filter(ne=>ne.batch_id==J);t(he)}else t(n)},[J]),A.jsxs("div",{className:"p-6 bg-gray-50 rounded-lg shadow-md",children:[A.jsxs("div",{className:"flex justify-between mb-4",children:[A.jsx("h1",{className:"text-lg font-semibold",children:"Customer"}),A.jsxs("div",{className:"flex gap-4",children:[A.jsx(ns,{selectedSource:J,setSelectedSource:re}),A.jsxs("div",{className:"relative w-64",children:[A.jsxs("select",{value:P,onChange:he=>N(he.target.value),className:"border px-4 py-2 rounded w-full appearance-none pr-10",children:[A.jsx("option",{value:"",children:"All Status"}),y.map((he,ne)=>A.jsx("option",{value:he,children:he},ne))]}),A.jsx(rE,{size:20,className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-600"})]}),A.jsx("input",{type:"text",placeholder:"Search...",value:j,onChange:he=>L(he.target.value),className:"border px-4 py-2 rounded w-64"})]})]}),A.jsxs("div",{className:"ag-theme-alpine",style:{height:710},children:[A.jsx(Nn,{rowData:ce,columnDefs:le,pagination:!0,paginationPageSize:100,singleClickEdit:!0,gridOptions:ee,quickFilterText:j}),A.jsx(ts,{statusModalData:z,setStatusModalData:K,statusData:y,statusFullData:E,commentMap:te,setCommentMap:ae,dateTimeMap:l,setDateTimeMap:d,setIsChange:$}),A.jsx(rs,{noteModalData:X,setNoteModalData:Z}),se&&A.jsx(is,{customerId:se,onClose:()=>Q(null)}),A.jsx(pN,{position:"top-right",autoClose:2e3})]})]})}function FUe(){const{id:e}=Z_();yn();const[t,n]=M.useState([]),[r,o]=M.useState(""),[a,l]=M.useState(0),d="https://crm.softwaresetu.com/api";if(M.useEffect(()=>{(async()=>{try{const{data:v}=await cD.get(`${d}/employee/customer-details/${e}`);console.log(v),n(v);const C=v.filter(y=>y.status?.toLowerCase()==="pending");l(C.length)}catch(v){o(v.response?.data?.message||"Failed to load employee")}})()},[e]),r)return A.jsx("div",{className:"p-6 text-red-500",children:r});const f=[{headerName:"id",field:"id",sortable:!0,filter:!0},{headerName:"Name",field:"name",sortable:!0,filter:!0},{headerName:"Email",field:"email",sortable:!0,filter:!0},{headerName:"Mobile",field:"mobile",sortable:!0,filter:!0},{headerName:"Address",field:"address",sortable:!0,filter:!0},{headerName:"Status",field:"status",sortable:!0,filter:!0,cellStyle:m=>m.value?.toLowerCase()==="pending"?{backgroundColor:"#fef3c7",color:"#92400e"}:null},{headerName:"Joined",field:"created_at",sortable:!0,filter:!0,valueFormatter:({value:m})=>m?new Date(m).toLocaleDateString():"-"}];return A.jsxs("div",{className:"p-6 bg-gray-50 shadow-md rounded-lg",children:[A.jsx("h1",{className:"text-2xl font-semibold mb-5",children:"Employee Details"}),A.jsxs("div",{className:"mb-6 p-4 bg-white rounded-lg shadow-sm border border-gray-200",children:[A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{className:"flex items-center gap-4",children:[A.jsx("div",{className:"bg-orange-100 p-3 rounded-full",children:A.jsx("span",{className:"text-orange-600 font-bold text-lg",children:""})}),A.jsxs("div",{children:[A.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Pending Employees"}),A.jsx("p",{className:"text-sm text-gray-600",children:"Employees awaiting approval or action"})]})]}),A.jsxs("div",{className:"text-right",children:[A.jsx("div",{className:"text-3xl font-bold text-blue-600",children:a}),A.jsxs("div",{className:"text-sm text-gray-500",children:["out of ",t.length," total"]})]})]}),t.length>0&&A.jsxs("div",{className:"mt-4",children:[A.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:A.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${a/t.length*100}%`}})}),A.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[A.jsxs("span",{children:[a," pending"]}),A.jsxs("span",{children:[t.length-a," completed"]})]})]})]}),A.jsx("div",{className:"ag-theme-quartz w-full",children:A.jsx(Nn,{rowData:t,columnDefs:f,pagination:!0,domLayout:"autoHeight",paginationPageSize:20})})]})}function LUe(){const{id:e}=Z_(),[t,n]=M.useState([]),[r,o]=M.useState(!0),[a,l]=M.useState(""),[d,f]=M.useState(""),[m,v]=M.useState(""),C="https://crm.softwaresetu.com/api",y=yn();if(M.useEffect(()=>{(async()=>{try{const P=(await je.get(`${C}/customers/lead/${e}`)).data.lead_history||[];if(n(P),P.length>0){const N=P.find(j=>j.type==="lead");console.log(N,"firstLead"),N&&(l(N.name||""),f(N.email||""),v(N.mobile||""))}}catch(T){console.error("Error fetching lead history:",T)}finally{o(!1)}})()},[e]),r)return A.jsx("p",{className:"p-4",children:"Loading..."});const S=E=>E?new Date(E).toLocaleString("en-IN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0,timeZone:"Asia/Kolkata"}):"-";return A.jsxs("div",{className:"p-6 bg-gradient-to-br from-gray-50 to-gray-100 rounded-xl shadow-lg",children:[A.jsxs("div",{className:"flex justify-between items-center mb-8",children:[A.jsxs("h2",{className:"text-3xl font-extrabold text-gray-900 tracking-tight",children:["Lead History for"," ",A.jsx("span",{className:"text-black-600",children:`${a} (${m})`||`Customer ${e}`})]}),A.jsx("div",{onClick:()=>y("/customer"),className:"px-5 py-2 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-lg font-medium shadow hover:shadow-lg transition-all duration-200 hover:scale-[1.02] cursor-pointer",children:"Back"})]}),t.length===0?A.jsx("p",{className:"text-gray-600",children:"No history found for this customer."}):A.jsxs("div",{className:"relative",children:[A.jsx("div",{className:"absolute left-1/2 top-0 bottom-0 w-1 bg-blue-200 transform -translate-x-1/2"}),A.jsx("div",{className:"space-y-12",children:t.map((E,T)=>A.jsxs("div",{className:`relative flex items-center w-full ${T%2===0?"justify-start":"justify-end"}`,children:[A.jsx("span",{className:"absolute left-1/2 transform -translate-x-1/2 w-5 h-5 bg-blue-500 rounded-full border-4 border-white shadow"}),A.jsx("div",{className:`bg-white rounded-2xl border border-gray-100 shadow-sm p-6 transition-all duration-300 hover:shadow-lg hover:-translate-y-1 hover:scale-[1.02] 
  w-full sm:w-[420px] ${T%2===0?"mr-auto text-left":"ml-auto text-left"}`,children:E.type==="lead"?A.jsxs(A.Fragment,{children:[A.jsxs("div",{className:"flex justify-between items-center mb-4",children:[A.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:E.status}),A.jsxs("div",{className:"flex items-center text-xs sm:text-sm text-gray-500",children:[A.jsx(bS,{className:"w-4 h-4 mr-1"}),S(E.created_at)]})]}),A.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-y-3 gap-x-6 text-sm text-gray-700",children:[E.updated_by&&A.jsxs("p",{className:"flex items-center col-span-2",children:[A.jsx(Bn,{className:"w-4 h-4 mr-2 text-blue-500"}),A.jsx("span",{children:"Updated By :"}),"",E.updated_by]}),E.comment&&A.jsxs("p",{className:"flex items-center col-span-2",children:[A.jsx(Oue,{className:"w-4 h-4 mr-2 text-blue-500"}),A.jsx("span",{className:"font-medium",children:"Comment :"}),"",E.comment]}),E.status==="Demo"&&A.jsxs("p",{className:"flex items-center col-span-2",children:[A.jsx(Yn,{className:"w-4 h-4 mr-2 text-blue-500"}),A.jsx("span",{className:"font-medium",children:"Demo Date :"}),"",S(E.followup_datetime)]}),E.status==="Follow Up"&&A.jsxs("p",{className:"flex items-center col-span-2",children:[A.jsx(Yn,{className:"w-4 h-4 mr-2 text-blue-500"}),A.jsx("span",{className:"font-medium",children:"Follow Up Date :"}),"",S(E.followup_datetime)]})]})]}):A.jsxs(A.Fragment,{children:[A.jsxs("div",{className:"flex justify-between  items-center mb-3",children:[A.jsxs("h3",{className:"text-md font-semibold text-gray-800 flex items-center gap-2",children:[A.jsx(Uue,{className:"w-4 h-4 text-yellow-500"}),"Customer Note"]}),A.jsxs("div",{className:"flex items-center text-xs text-gray-500",children:[A.jsx(bS,{className:"w-4 h-4 mr-1"}),S(E.created_at)]})]}),A.jsxs("p",{className:"text-sm text-gray-700 leading-relaxed ",children:["Created By : ",E.updatedby_name]}),A.jsxs("p",{className:"text-sm text-gray-700 leading-relaxed ",children:["Note : ",E.note]})]})})]},E.id||E.note_id||T))})]})]})}function BUe(){const{id:e}=Z_(),[t,n]=M.useState({name:"",email:"",mobile:"",salary:"",target:"",joiningDate:"",password:""}),[r,o]=M.useState(null),[a,l]=M.useState(null),[d,f]=M.useState(!1),[m,v]=M.useState(""),C=yn(),y="https://crm.softwaresetu.com/api";M.useEffect(()=>{(async()=>{try{const{data:P}=await je.get(`${y}/employee/${e}`);n({name:P.name||"",email:P.email||"",mobile:P.mobile||"",salary:P.salary||"",target:P.target||"",joiningDate:P.joining_date?P.joining_date.split("T")[0]:"",password:P.password||""}),P.avatar&&l(`http://localhost:5000/${P.avatar}`),v(P.password||"")}catch(P){console.error(P),alert("Failed to load employee")}})()},[e]);const S=T=>{const P=T.target.files[0];P&&(o(P),l(URL.createObjectURL(P)))},E=async T=>{T.preventDefault(),f(!0);try{const P=new FormData;Object.keys(t).forEach(N=>{t[N]&&(N!=="password"||t[N]!==m)&&P.append(N,t[N])}),r&&P.append("avatar",r),await cD.put(`/employee/edit/${e}`,P,{headers:{"Content-Type":"multipart/form-data"}}),Ge.success("Employee updated successfully!"),C("/employees")}catch(P){console.error("Update Error:",P.response?.data||P),alert(P.response?.data?.message||"Failed to update employee")}finally{f(!1)}};return A.jsx(Gh,{role:"admin",fallback:A.jsx("div",{className:"max-w-md p-6 bg-white rounded-lg shadow-md text-center text-red-600",children:"Only admins can view this."}),children:A.jsxs("div",{className:"max-w-full mx-auto bg-white shadow-lg rounded-xl p-8 space-y-6",children:[A.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Edit Employee"}),A.jsxs("form",{onSubmit:E,className:"space-y-4",children:[A.jsx("div",{className:"mb-6",children:A.jsxs("label",{className:"block text-sm font-medium text-gray-700 cursor-pointer",children:[A.jsxs("div",{className:"flex items-center space-x-3",children:[a?A.jsx("img",{src:a,alt:"Avatar Preview",className:"w-16 h-16 rounded-full object-cover border"}):A.jsx("div",{className:"w-16 h-16 border-2 border-dashed border-blue-400 flex items-center justify-center rounded-md",children:A.jsx("span",{className:"text-xl",children:"+"})}),A.jsxs("div",{children:[A.jsx("p",{className:"text-sm font-medium",children:"Upload Avatar"}),A.jsx("p",{className:"text-xs text-gray-500",children:"Recommended: 400x400px"})]})]}),A.jsx("input",{type:"file",className:"hidden",onChange:S,disabled:d})]})}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[["name","email","mobile","salary","target"].map(T=>A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:T.charAt(0).toUpperCase()+T.slice(1)}),A.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:`Enter ${T}`,value:t[T],onChange:P=>n({...t,[T]:P.target.value})})]},T)),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Joining Date"}),A.jsx("input",{type:"date",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",value:t.joiningDate,onChange:T=>n({...t,joiningDate:T.target.value})})]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),A.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter password",value:t.password,onChange:T=>n({...t,password:T.target.value})})]}),A.jsxs("div",{className:"flex justify-end space-x-4",children:[A.jsx("button",{type:"button",onClick:()=>C("/employees"),disabled:d,className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),A.jsx("button",{type:"submit",disabled:d,className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:d?"Updating...":"Update Employee"})]})]})]})})}function jUe(){const[e,t]=M.useState(null),[n,r]=M.useState(null),[o,a]=M.useState(null),[l,d]=M.useState([]),f=JSON.parse(localStorage.getItem("user")),m=yn(),[v,C]=M.useState({Demo:0,FollowUp:0,NotPickedCall:0,Deal:0,Interested:0});M.useEffect(()=>{je.get(`${y}/customers/fetch-customer-status/${f?.id}`).then(N=>{const j={Demo:0,FollowUp:0,Deal:0,Interested:0};N.data.data.forEach(L=>{L.status==="Demo"&&j.Demo++,L.status==="Follow Up"&&j.FollowUp++,L.status==="Deal"&&j.Deal++,L.status==="Interested"&&j.Interested++}),C(j),console.log(j,"stats...")}).catch(N=>{console.error("Error fetching customer status:",N)})},[]);const y="https://crm.softwaresetu.com/api",S=JSON.parse(localStorage.getItem("user")),E=async()=>{try{const{data:N}=await je.get(`${y}/employee/target?employeeId=${S.id}`),j=Array.isArray(N)?N[0]?.target:N?.target;t(j)}catch(N){console.error("Error fetching employee target:",N)}},T=async()=>{try{const{data:N}=await je.get(`${y}/employee/status?employeeId=${S.id}`);r(N)}catch(N){console.error("Error fetching employee status:",N)}};M.useEffect(()=>{S?.id&&(E(),T())},[S?.id]);const P=[{headerName:"Name",field:"name",flex:1},{headerName:"Mobile",field:"mobile",flex:1},{headerName:"Address",field:"address",flex:1},{headerName:"Status",field:"status",flex:1},{headerName:"Date",field:"followup_datetime",flex:1,valueFormatter:N=>N.value?new Date(N.value).toLocaleDateString():""}];return A.jsxs("div",{className:"min-h-screen bg-gray-100 p-6",children:[A.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:"Dashboard"}),S&&A.jsxs("p",{className:"mb-8 text-gray-600 text-lg",children:["Welcome, ",A.jsx("span",{className:"font-semibold",children:S.name}),"!"]}),A.jsx("div",{className:"flex justify-center",children:A.jsxs("div",{className:"flex flex-wrap gap-6 justify-center",children:[A.jsxs("div",{className:"bg-white rounded-2xl shadow-lg h-20 p-4 flex items-center justify-center text-center hover:shadow-2xl transition-shadow duration-300 cursor-pointer",children:[A.jsx($ue,{className:"w-8 h-8 text-blue-500 mr-3"}),A.jsxs("div",{className:"flex gap-4 items-start",children:[A.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Target"}),A.jsx("p",{className:"text-xl font-bold text-gray-800",children:e!==null?e:"Loading..."})]})]}),A.jsxs("div",{className:"bg-white rounded-2xl shadow-lg w-48 h-20 p-4 flex items-center justify-center text-center hover:shadow-2xl transition-shadow duration-300 cursor-pointer",onClick:()=>{m("/demo")},children:[A.jsx(Yi,{className:"w-8 h-8 text-blue-500 mr-3"}),A.jsxs("div",{className:"flex gap-4 items-start",children:[A.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Demo"}),A.jsx("p",{className:"text-xl font-bold text-gray-800",children:v.Demo})]})]}),A.jsxs("div",{className:"bg-white rounded-2xl shadow-lg w-48 h-20 p-4 flex items-center justify-center text-center hover:shadow-2xl transition-shadow duration-300 cursor-pointer",onClick:()=>{m("/follow-up")},children:[A.jsx(Yn,{className:"w-8 h-8 text-green-500 mr-3"}),A.jsxs("div",{className:"flex gap-4 items-start",children:[A.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Followup"}),A.jsx("p",{className:"text-xl font-bold text-gray-800",children:v.FollowUp})]})]}),A.jsxs("div",{className:"bg-white rounded-2xl shadow-lg w-48 h-20 p-4 flex items-center justify-center text-center hover:shadow-2xl transition-shadow duration-300 cursor-pointer",onClick:()=>{m("/user-interested")},children:[A.jsx(Bn,{className:"w-8 h-8 text-pink-500 mr-3"}),A.jsxs("div",{className:"flex gap-4 items-start",children:[A.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Interested"}),A.jsx("p",{className:"text-xl font-bold text-gray-800",children:v.Interested})]})]})]})}),o&&A.jsxs("div",{className:"mt-10 bg-white shadow-lg rounded-xl p-6",children:[A.jsxs("h2",{className:"text-xl font-semibold text-gray-700 mb-4 capitalize",children:[o," Records"]}),A.jsx("div",{className:"ag-theme-alpine",style:{width:"100%",height:400},children:A.jsx(Nn,{rowData:l,columnDefs:P,pagination:!0,paginationPageSize:10})})]})]})}function zUe(){const e=localStorage.getItem("user"),t=e?JSON.parse(e):null;return t?t.role==="employee"?A.jsx(jUe,{}):t.role==="admin"?A.jsx(EHe,{}):A.jsxs("div",{className:"p-6 text-center text-gray-500",children:["Unauthorized role: ",t.role]}):A.jsx("div",{className:"p-6 text-center text-red-500",children:"User not found. Please login."})}function HUe(){const[e,t]=M.useState({}),[n,r]=M.useState({}),[o,a]=M.useState({Demo:0,FollowUp:0,Deal:0,Interested:0}),[l,d]=M.useState([]),[f,m]=M.useState([]),[v,C]=M.useState(null),[y,S]=M.useState(null),[E,T]=M.useState(null),[P,N]=M.useState({}),[j,L]=M.useState({}),[V,U]=M.useState(!1),[$,z]=M.useState(""),[K,te]=M.useState("0"),ae="https://crm.softwaresetu.com/api",X=yn(),Z=JSON.parse(localStorage.getItem("user")||"null");return M.useEffect(()=>{je.get(`${ae}/customers/fetch-customer-status/${Z?.id}`).then(se=>{const Q={Demo:0,FollowUp:0,Deal:0,Interested:0};se.data.data.forEach(J=>{J.status==="Demo"&&Q.Demo++,J.status==="Follow Up"&&Q.FollowUp++,J.status==="Deal"&&Q.Deal++,J.status==="Interested"&&Q.Interested++}),a(Q)}).catch(()=>Ge.error("Failed to load stats"))},[]),M.useEffect(()=>{(async()=>{try{const Q=localStorage.getItem("token"),J=Z?.id;if(!J)return;const{data:re}=await je.get(`${ae}/employee/status/data`,{headers:{Authorization:`Bearer ${Q}`},params:{employeeId:J,status:"Follow Up"}}),ee=re.data.filter(ne=>ne.status_id==4||ne.status_id==1),le={};ee.forEach(ne=>{let fe=ne.mobile;fe&&fe.length===12&&fe.startsWith("91")&&(fe=fe.substring(2)),(!le[fe]||new Date(ne.updated_at)>new Date(le[fe].updated_at))&&(le[fe]=ne)});const ce=Object.values(le),he={};ce.forEach(ne=>{const fe=ne.followup_datetime?new Date(ne.followup_datetime).toLocaleDateString("en-IN",{day:"2-digit",month:"long",year:"numeric"}):"No Date";he[fe]||(he[fe]=[]),he[fe].push(ne)}),t(he),r(he)}catch(Q){console.error("Error fetching follow-up data:",Q),Ge.error("Failed to load customer data")}})()},[V]),M.useEffect(()=>{(async()=>{try{const Q=await je.get(`${ae}/status`),J=Q.data.map(re=>re.name);d(J),m(Q.data)}catch{Ge.error("Failed to load statuses")}})()},[]),M.useEffect(()=>{if(K!=="0"){const se={};Object.keys(n).forEach(Q=>{const J=n[Q].filter(re=>re.batch_id==K);J.length>0&&(se[Q]=J)}),t(se)}else t(n)},[K,n]),A.jsxs("div",{className:"p-6 bg-gray-50",children:[A.jsxs("div",{className:"flex flex-wrap gap-6 justify-center mb-6",children:[A.jsxs("div",{className:"bg-white rounded-2xl shadow-lg w-48 h-20 p-4 flex items-center justify-center text-center hover:shadow-2xl cursor-pointer",onClick:()=>X("/demo"),children:[A.jsx(Yi,{className:"w-8 h-8 text-blue-500 mr-3"}),A.jsxs("div",{children:[A.jsx("p",{className:"text-gray-400 text-sm",children:"Demo"}),A.jsx("p",{className:"text-xl font-bold",children:o.Demo})]})]}),A.jsxs("div",{className:"bg-white rounded-2xl shadow-lg w-48 h-20 p-4 flex items-center justify-center text-center hover:shadow-2xl cursor-pointer",onClick:()=>X("/follow-up"),children:[A.jsx(Yn,{className:"w-8 h-8 text-green-500 mr-3"}),A.jsxs("div",{children:[A.jsx("p",{className:"text-gray-400 text-sm",children:"Followup"}),A.jsx("p",{className:"text-xl font-bold",children:o.FollowUp})]})]}),A.jsxs("div",{className:"bg-white rounded-2xl shadow-lg w-48 h-20 p-4 flex items-center justify-center text-center hover:shadow-2xl cursor-pointer",onClick:()=>X("/user-interested"),children:[A.jsx(Bn,{className:"w-8 h-8 text-pink-500 mr-3"}),A.jsxs("div",{children:[A.jsx("p",{className:"text-gray-400 text-sm",children:"Interested"}),A.jsx("p",{className:"text-xl font-bold",children:o.Interested})]})]})]}),A.jsxs("div",{className:"mb-6 flex gap-4 justify-end",children:[A.jsx(ns,{selectedSource:K,setSelectedSource:te}),A.jsx("input",{type:"text",placeholder:"Search leads...",value:$,onChange:se=>z(se.target.value),className:"border rounded-lg px-3 py-2 w-64 shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})]}),Object.keys(e).sort((se,Q)=>{const J=se==="No Date"?new Date(0):new Date(se);return(Q==="No Date"?new Date(0):new Date(Q))-J}).map(se=>{const Q=e[se].filter(J=>Object.values(J).some(re=>String(re||"").toLowerCase().includes($.toLowerCase()))).sort((J,re)=>{const ee=J.followup_datetime?new Date(J.followup_datetime):new Date(0),le=re.followup_datetime?new Date(re.followup_datetime):new Date(0);return ee-le});return Q.length===0?null:A.jsxs("div",{className:"mb-8 bg-gray-200 shadow rounded",children:[A.jsxs("div",{className:"bg-blue-500 text-white text-center py-2 font-semibold",children:[se,"  FOLLOW UP / DEMO"]}),A.jsxs("table",{className:"w-full text-sm border-collapse table-fixed",children:[A.jsx("thead",{className:"bg-gray-50",children:A.jsxs("tr",{className:"border-b",children:[A.jsx("th",{className:"border px-3 py-2 text-left",children:"Name"}),A.jsx("th",{className:"border px-3 py-2 text-left",children:"Mobile"}),A.jsx("th",{className:"border px-3 py-2 text-left",children:"Time"}),A.jsx("th",{className:"border px-3 py-2 text-left w-80",children:"Comment"}),A.jsx("th",{className:"border px-3 py-2 text-left",children:"Assigned To"}),A.jsx("th",{className:"border px-3 py-2 text-left",children:"Status"})]})}),A.jsx("tbody",{children:Q.map((J,re)=>A.jsxs("tr",{className:"border-b bg-white",children:[A.jsxs("td",{className:"border px-3 py-2 w-32 ",children:[J.name,J.status?.toLowerCase()==="demo"&&A.jsx("span",{className:"bg-red-500 text-white text-[10px] px-2 py-1 rounded ml-2",children:"DEMO"})]}),A.jsx("td",{className:"border px-3 py-2",children:J.mobile}),A.jsx("td",{className:"border px-3 py-2",children:J.followup_datetime?new Date(J.followup_datetime).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit",hour12:!0}):""}),A.jsx("td",{className:"border px-3 py-2",children:A.jsxs("div",{className:"flex justify-between items-center gap-3",children:[A.jsx("span",{children:J.comment}),A.jsx("div",{className:"flex gap-2",children:A.jsx("button",{className:"hover:bg-gray-200 rounded p-2",onClick:()=>T(J.customer_id),title:"View History",children:A.jsx(Xo,{className:"w-5 h-5 text-gray-600"})})})]})}),A.jsx("td",{className:"border px-3 py-2",children:J.employee_name||"Unassigned"}),A.jsx("td",{className:"border px-3 py-2",children:A.jsxs("div",{className:"flex justify-between items-center",children:[A.jsx("span",{children:J.status}),A.jsx("button",{className:"hover:bg-gray-200 rounded p-2",onClick:()=>C({customer_id:J.customer_id,currentStatus:J.value,newStatus:J.value,batch_id:J.batch_id}),title:"Change Status",children:A.jsx(ko,{className:"w-5 h-5 text-gray-600"})})]})})]},re))})]})]},se)}),A.jsx(ts,{statusModalData:v,setStatusModalData:C,statusData:l,statusFullData:f,commentMap:P,setCommentMap:N,dateTimeMap:j,setDateTimeMap:L,setIsChange:U}),A.jsx(rs,{noteModalData:y,setNoteModalData:S}),E&&A.jsx(is,{customerId:E,onClose:()=>T(null)})]})}function VUe(){const[e,t]=M.useState({}),[n,r]=M.useState({}),[o,a]=M.useState({Demo:0,FollowUp:0,Deal:0,Interested:0}),[l,d]=M.useState([]),[f,m]=M.useState([]),[v,C]=M.useState(null),[y,S]=M.useState(null),[E,T]=M.useState(null),[P,N]=M.useState({}),[j,L]=M.useState({}),[V,U]=M.useState(!1),[$,z]=M.useState(""),[K,te]=M.useState("0"),ae="https://crm.softwaresetu.com/api",X=yn(),Z=JSON.parse(localStorage.getItem("user")||"null");return M.useEffect(()=>{je.get(`${ae}/customers/fetch-customer-status/${Z?.id}`).then(se=>{const Q={Demo:0,FollowUp:0,Deal:0,Interested:0};se.data.data.forEach(J=>{J.status==="Demo"&&Q.Demo++,J.status==="Follow Up"&&Q.FollowUp++,J.status==="Deal"&&Q.Deal++,J.status==="Interested"&&Q.Interested++}),a(Q)}).catch(()=>Ge.error("Failed to load stats"))},[]),M.useEffect(()=>{(async()=>{try{const Q=localStorage.getItem("token"),J=Z?.id;if(!J)return;const{data:re}=await je.get(`${ae}/employee/status/data`,{headers:{Authorization:`Bearer ${Q}`},params:{employeeId:J,status:"Demo"}}),le=re.data.filter(he=>he.status_id==1)||[],ce={};le.forEach(he=>{const ne=he.followup_datetime?new Date(he.followup_datetime).toLocaleDateString("en-IN",{day:"2-digit",month:"long",year:"numeric"}):"No Date";ce[ne]||(ce[ne]=[]),ce[ne].push(he)}),t(ce),r(ce)}catch(Q){console.error("Error fetching demo data:",Q),Ge.error("Failed to load customer data")}})()},[V]),M.useEffect(()=>{(async()=>{try{const Q=await je.get(`${ae}/status`),J=Q.data.map(re=>re.name);d(J),m(Q.data)}catch{Ge.error("Failed to load statuses")}})()},[]),M.useEffect(()=>{if(K!=="0"){const se={};Object.keys(n).forEach(Q=>{const J=n[Q].filter(re=>re.batch_id==K);J.length>0&&(se[Q]=J)}),t(se)}else t(n)},[K,n]),A.jsxs("div",{className:"p-6 bg-gray-50",children:[A.jsxs("div",{className:"flex flex-wrap gap-6 justify-center mb-6",children:[A.jsxs("div",{className:"bg-white rounded-2xl shadow-lg w-48 h-20 p-4 flex items-center justify-center text-center hover:shadow-2xl cursor-pointer",onClick:()=>X("/demo"),children:[A.jsx(Yi,{className:"w-8 h-8 text-blue-500 mr-3"}),A.jsxs("div",{children:[A.jsx("p",{className:"text-gray-400 text-sm",children:"Demo"}),A.jsx("p",{className:"text-xl font-bold",children:o.Demo})]})]}),A.jsxs("div",{className:"bg-white rounded-2xl shadow-lg w-48 h-20 p-4 flex items-center justify-center text-center hover:shadow-2xl cursor-pointer",onClick:()=>X("/follow-up"),children:[A.jsx(Yn,{className:"w-8 h-8 text-green-500 mr-3"}),A.jsxs("div",{children:[A.jsx("p",{className:"text-gray-400 text-sm",children:"Followup"}),A.jsx("p",{className:"text-xl font-bold",children:o.FollowUp})]})]}),A.jsxs("div",{className:"bg-white rounded-2xl shadow-lg w-48 h-20 p-4 flex items-center justify-center text-center hover:shadow-2xl cursor-pointer",onClick:()=>X("/user-interested"),children:[A.jsx(Bn,{className:"w-8 h-8 text-pink-500 mr-3"}),A.jsxs("div",{children:[A.jsx("p",{className:"text-gray-400 text-sm",children:"Interested"}),A.jsx("p",{className:"text-xl font-bold",children:o.Interested})]})]})]}),A.jsxs("div",{className:"mb-6 flex gap-4 justify-end",children:[A.jsx(ns,{selectedSource:K,setSelectedSource:te}),A.jsx("input",{type:"text",placeholder:"Search leads...",value:$,onChange:se=>z(se.target.value),className:"border rounded-lg px-3 py-2 w-64 shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})]}),Object.keys(e).sort((se,Q)=>{const J=se==="No Date"?new Date(0):new Date(se);return(Q==="No Date"?new Date(0):new Date(Q))-J}).map(se=>{const Q=e[se].filter(J=>Object.values(J).some(re=>String(re||"").toLowerCase().includes($.toLowerCase()))).sort((J,re)=>{const ee=J.followup_datetime?new Date(J.followup_datetime):new Date(0),le=re.followup_datetime?new Date(re.followup_datetime):new Date(0);return ee-le});return Q.length===0?null:A.jsxs("div",{className:"mb-8 bg-gray-200 shadow rounded",children:[A.jsxs("div",{className:"bg-blue-500 text-white text-center py-2 font-semibold",children:[se,"  DEMO"]}),A.jsxs("table",{className:"w-full text-sm border-collapse table-fixed",children:[A.jsx("thead",{className:"bg-gray-50",children:A.jsxs("tr",{className:"border-b",children:[A.jsx("th",{className:"border px-3 py-2 text-left w-18",children:"Name"}),A.jsx("th",{className:"border px-3 py-2 text-left w-15",children:"Mobile"}),A.jsx("th",{className:"border px-3 py-2 text-left w-12",children:"Time"}),A.jsx("th",{className:"border px-3 py-2 text-left w-80",children:"Comment"}),A.jsx("th",{className:"border px-3 py-2 text-left w-18",children:"Assigned To"}),A.jsx("th",{className:"border px-3 py-2 text-left w-18",children:"Status"})]})}),A.jsx("tbody",{children:Q.map((J,re)=>A.jsxs("tr",{className:"border-b bg-white",children:[A.jsx("td",{className:"border px-3 py-2 w-30",children:J.name}),A.jsx("td",{className:"border px-3 py-2 w-28",children:J.mobile}),A.jsx("td",{className:"border px-3 py-2 w-28",children:J.followup_datetime?new Date(J.followup_datetime).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit",hour12:!0}):""}),A.jsx("td",{className:"border px-3 py-2 w-80",children:A.jsxs("div",{className:"flex justify-between items-center gap-3",children:[A.jsx("span",{children:J.comment}),A.jsxs("div",{className:"flex gap-2",children:[A.jsx("button",{className:"hover:bg-gray-200  rounded p-2",onClick:()=>S({customer_id:J.customer_id}),title:"Add Note",children:A.jsx(gN,{className:"w-5 h-5 text-gray-600"})}),A.jsx("button",{className:"hover:bg-gray-200  rounded p-2",onClick:()=>T(J.customer_id),title:"View History",children:A.jsx(Xo,{className:"w-5 h-5 text-gray-600"})})]})]})}),A.jsx("td",{className:"border px-3 py-2 w-40",children:J.employee_name||"Unassigned"}),A.jsx("td",{className:"border px-3 py-2 w-36",children:A.jsxs("div",{className:"flex justify-between items-center",children:[A.jsx("span",{children:J.status}),A.jsx("button",{className:"hover:bg-gray-200  rounded p-2",onClick:()=>{console.log(J,"item..."),C({customer_id:J.customer_id,currentStatus:J.value,newStatus:J.value,batch_id:J.batch_id})},title:"Change Status",children:A.jsx(ko,{className:"w-5 h-5 text-gray-600"})})]})})]},re))})]})]},se)}),A.jsx(ts,{statusModalData:v,setStatusModalData:C,statusData:l,statusFullData:f,commentMap:P,setCommentMap:N,dateTimeMap:j,setDateTimeMap:L,setIsChange:U}),A.jsx(rs,{noteModalData:y,setNoteModalData:S}),E&&A.jsx(is,{customerId:E,onClose:()=>T(null)})]})}function GUe(){const[e,t]=M.useState(""),[n,r]=M.useState(null),[o,a]=M.useState({clientId:"",name:"",amount:"",bank:"",mobile:"",address:"",comment:"",receivedDate:""});console.log("Form State:",o);const[l,d]=M.useState([]),[f,m]=M.useState([]),[v,C]=M.useState(""),[y,S]=M.useState(!1),[E,T]=M.useState(!1),[P,N]=M.useState(""),[j,L]=M.useState(!0),V=yn(),U="https://crm.softwaresetu.com/api",[$,z]=M.useState([]),[K]=M.useState([{headerName:"NAME",field:"name",flex:1},{headerName:"AMOUNT",field:"amount",flex:1},{headerName:"BANK",field:"bank",flex:1},{headerName:"MOBILE",field:"mobile",flex:1},{headerName:"COMMENT",field:"comment",flex:1},{headerName:"RECEIVED DATE",field:"receivedDate",flex:1}]);M.useEffect(()=>{(async()=>{try{const J=await je.get(`${U}/customers/get-users`);d(J.data)}catch(J){console.error("Failed to fetch clients",J),N("Failed to load clients")}})()},[]),M.useEffect(()=>{(async()=>{try{const J=await je.get(`${U}/customers/get/0`);m(J.data)}catch(J){console.error("Failed to fetch bank details",J),m([])}})()},[]);const te=async()=>{try{const J=(await je.get(`${U}/customers/earning-data`)).data.flatMap(re=>re.earnings_list.map((ee,le)=>({id:`${re.client_id}-${le+1}`,client_id:re.client_id,...ee})));z(J)}catch(Q){console.error("Failed to fetch earnings",Q),z([])}};M.useEffect(()=>{te()},[]);const ae=Q=>Q?.toString().toLowerCase().replace(/\s+/g," ").trim()||"",X=l.filter(Q=>{const J=ae(v);return ae(Q.name).includes(J)||ae(Q.mobile).includes(J)||ae(Q.email).includes(J)}),Z=(Q,J)=>{const re=l.find(ee=>ee.id===parseInt(Q));a({...o,clientId:Q,name:J,mobile:re?.mobile||"",address:re?.address||"",bank:""}),C(J),S(!1)},se=async Q=>{Q.preventDefault(),T(!0),N("");try{const J={clientId:o.clientId,name:o.name,amount:o.amount,bank:o.bank,mobile:o.mobile,address:o.address,comment:o.comment,receivedDate:o.receivedDate};await je.post(`${U}/customers/add`,J),Ge.success("Earning added successfully "),V("/earning-form")}catch(J){Ge.error(J.response?.data?.message||" Failed to add earning")}finally{T(!1),te()}};return A.jsx(A.Fragment,{children:A.jsx(Gh,{role:"admin",fallback:A.jsx("div",{className:"max-w-md p-6 bg-white rounded-lg shadow-md text-center text-red-600",children:"Only admins can view this."}),children:A.jsxs("div",{className:"max-w-full mx-auto bg-white shadow-lg rounded-xl p-8 space-y-6",children:[A.jsxs("div",{className:"flex justify-between",children:[A.jsx("h1",{className:"text-3xl font-semibold text-gray-800",children:j?"Earnings List":"Earning Form"}),A.jsxs("div",{className:"flex gap-4",children:[A.jsx("button",{className:"bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600",onClick:()=>L(!j),children:j?"Add Earning":"Back"}),A.jsx("button",{className:"bg-blue-500 text-white px-2 py-2 rounded-md hover:bg-blue-600",onClick:()=>{V("/earning-form/add-bank")},children:"Banks List"}),A.jsx(Zi,{value:e,onChange:t})]})]}),j&&A.jsx("div",{className:"ag-theme-alpine",style:{height:690,width:"100%"},children:A.jsx(Nn,{rowData:$,columnDefs:K,pagination:!0,paginationPageSize:100,defaultColDef:{sortable:!0,filter:!0,resizable:!0},animateRows:!0,quickFilterText:e,onRowClicked:Q=>r(Q.data.id),getRowStyle:Q=>Q.data.id===n?{backgroundColor:"#c4c4c4",borderLeft:"4px solid #22c55e",transition:"background-color 0.3s ease"}:null})}),!j&&A.jsxs(A.Fragment,{children:[P&&A.jsx("div",{className:"text-red-600 text-center",children:P}),A.jsxs("form",{onSubmit:se,className:"space-y-4",children:[A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Client"}),A.jsxs("div",{className:"relative",children:[A.jsx("input",{type:"text",className:"appearance-none border border-gray-300 rounded-lg w-full px-3 py-2 pr-10 focus:outline-none",placeholder:"-- Select Client --",value:v,onChange:Q=>{C(Q.target.value),S(!0)},onClick:()=>S(!y),required:!0}),A.jsx(I6,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 cursor-pointer",onClick:()=>S(!y)}),y&&A.jsx("ul",{className:"absolute z-10 bg-white border border-gray-300 rounded-lg mt-1 w-full max-h-40 overflow-y-auto shadow-md",children:X.length>0?X.map(Q=>A.jsx("li",{className:"px-3 py-2 hover:bg-gray-100 cursor-pointer",onClick:()=>Z(Q.id,Q.name),children:`${Q.name}_______${Q.mobile}_______${Q.email}`},Q.id)):A.jsx("li",{className:"px-3 py-2 text-gray-400",children:"No clients found"})})]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Enter Amount"}),A.jsx("input",{type:"number",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none",placeholder:"Enter Amount",value:o.amount,onChange:Q=>a({...o,amount:Q.target.value}),required:!0})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Bank Account Name"}),A.jsxs("div",{className:"relative",children:[A.jsxs("select",{className:"appearance-none w-full border border-gray-300 rounded-lg px-3 py-2 pr-10 focus:outline-none",value:o.bank,onChange:Q=>a({...o,bank:Q.target.value}),required:!0,disabled:f.length===0,children:[A.jsx("option",{value:"",children:"-- Select Bank --"}),f.map((Q,J)=>A.jsxs("option",{value:Q.bankName,children:[Q.bankName," (",Q.accountNumber,")"]},J))]}),A.jsx(I6,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none"})]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Comment"}),A.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none",placeholder:"Enter Comment",value:o.comment,onChange:Q=>a({...o,comment:Q.target.value})})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Received Date"}),A.jsx("input",{type:"date",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none",value:o.receivedDate,onChange:Q=>a({...o,receivedDate:Q.target.value}),required:!0})]})]}),A.jsxs("div",{className:"flex justify-end space-x-4",children:[A.jsx("button",{type:"button",onClick:()=>L(!0),disabled:E,className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),A.jsx("button",{type:"submit",disabled:E,className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:E?"Saving...":"Add Earning"})]})]})]})]})})})}Cc.registerModules([qh]);jh.setAppElement("#root");function UUe(){const[e,t]=M.useState(!1),[n,r]=M.useState({clientId:"",accountholdername:"",mobile:"",address:"",bankName:"",accountNumber:"",ifsc:""}),[o,a]=M.useState([]),[l,d]=M.useState([]),[f,m]=M.useState(!0),[v,C]=M.useState(!1),[y,S]=M.useState(""),E=yn(),T="https://crm.softwaresetu.com/api",P=[{headerName:"IFSC Code",field:"ifsc",sortable:!0,filter:!0},{headerName:"Mobile Number",field:"mobile",sortable:!0,filter:!0},{headerName:"Date Added",field:"addedAt",sortable:!0,filter:!0,valueGetter:L=>new Date(L.data.addedAt).toLocaleString()},{headerName:"Address",field:"address",sortable:!0,filter:!0},{headerName:"Bank Name",field:"bankName",sortable:!0,filter:!0},{headerName:"Account Number",field:"accountNumber",sortable:!0,filter:!0}];M.useEffect(()=>{(async()=>{try{const V=await je.get(`${T}/customers/get-users`);a(V.data)}catch(V){console.error("Failed to fetch clients",V),S("Failed to load clients")}})()},[T]),console.log(l,"banks...");const N=async L=>{L.preventDefault(),C(!0),S("");try{const V={clientId:"0",accountholdername:n.accountholdername,mobile:n.mobile,address:n.address,bankName:n.bankName,accountNumber:n.accountNumber,ifsc:n.ifsc};await je.post(`${T}/customers/add-bank`,V),Ge.success("Bank details added successfully"),E("/earning-form")}catch(V){S(V.response?.data?.message||"Failed to add bank details")}finally{C(!1)}};M.useEffect(()=>{(async()=>{try{const V=await je.get(`${T}/customers/get/0`);d(V.data)}catch(V){console.error("Failed to fetch bank details",V),d([])}})()},[]);const j=()=>{t(!0),setTimeout(()=>t(!1),300),m(!0)};return A.jsx(Gh,{role:"admin",fallback:A.jsx("div",{className:"max-w-md p-6 bg-white rounded-lg shadow-md text-center text-red-600",children:"Only admins can view this."}),children:f?A.jsx(A.Fragment,{children:A.jsxs("div",{className:"p-6 bg-gray-50 rounded-lg shadow-md",children:[A.jsxs("div",{className:"flex justify-between items-center mb-5",children:[A.jsx("h1",{className:"text-lg font-semibold",children:"BANK LIST"}),A.jsxs("div",{className:"flex gap-4",children:[A.jsx("button",{className:"bg-blue-500 text-white px-2 py-2 rounded-md hover:bg-blue-600",onClick:()=>{E("/earning-form")},children:"Earning Form"}),A.jsx("button",{className:"bg-blue-500 text-white px-2 py-2 rounded-md hover:bg-blue-600",onClick:()=>{m(!1)},children:"Add Bank"})]})]}),A.jsx("div",{className:"ag-theme-quartz",style:{height:500},children:A.jsx(Nn,{rowData:l,columnDefs:P,pagination:!0,paginationPageSize:20,singleClickEdit:!0})})]})}):A.jsx(A.Fragment,{children:A.jsxs("div",{className:"max-w-full mx-auto bg-white shadow-lg rounded-xl p-8 space-y-6",children:[A.jsxs("div",{className:"flex justify-between",children:[A.jsx("h1",{className:"text-3xl font-semibold text-gray-800",children:"Add Bank Form"}),A.jsx(zde,{onClick:()=>j(),className:"text-gray-600 text-xl"})]}),y&&A.jsx("div",{className:"text-red-600 text-center",children:y}),A.jsxs("form",{onSubmit:N,className:"space-y-4",children:[A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"A/C Holder Name"}),A.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter A/C Holder Name",value:n.accountholdername,onChange:L=>r({...n,accountholdername:L.target.value}),required:!0})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mobile"}),A.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter Mobile",value:n.mobile,onChange:L=>r({...n,mobile:L.target.value}),required:!0})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),A.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter Address",value:n.address,onChange:L=>r({...n,address:L.target.value}),required:!0})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bank Name"}),A.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none",placeholder:"Bank Name",value:n.bankName,onChange:L=>r({...n,bankName:L.target.value}),required:!0})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bank Account Number"}),A.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none",placeholder:"Enter Bank Account Number",value:n.accountNumber,onChange:L=>r({...n,accountNumber:L.target.value}),required:!0})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"IFSC Code"}),A.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none",placeholder:"Enter IFSC Code",value:n.ifsc,onChange:L=>r({...n,ifsc:L.target.value}),required:!0})]})]}),A.jsxs("div",{className:"flex justify-end space-x-4",children:[A.jsx("button",{type:"button",onClick:()=>m(!0),disabled:v,className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),A.jsx("button",{type:"submit",disabled:v,className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:v?"Adding...":"Add"})]})]})]})})})}const OG=M.forwardRef(({value:e,onClick:t},n)=>{const r=e||new Date().toLocaleDateString("en-GB");return A.jsxs("div",{onClick:t,ref:n,className:"flex items-center justify-between border rounded px-2 py-2 w-44 cursor-pointer bg-white",children:[A.jsx("span",{className:"text-sm",children:r}),A.jsx(Yn,{className:"w-4 h-4 text-gray-500"})]})});function WUe(){const[e,t]=M.useState(""),[n,r]=M.useState([]),[o,a]=M.useState([]),[l,d]=M.useState(new Date),[f,m]=M.useState(new Date),[v,C]=M.useState(null),y="https://crm.softwaresetu.com/api",S=T=>{if(!T)return null;const P=T.getFullYear(),N=String(T.getMonth()+1).padStart(2,"0"),j=String(T.getDate()).padStart(2,"0");return`${P}-${N}-${j}`},E=async()=>{try{let T=`${y}/customers/get-status-employee`;const P=S(l),N=S(f);P&&N&&(T+=`?start=${P}&end=${N}`);const L=(await je.get(T)).data.data||[],V=L.map((U,$)=>({...U,rowId:$}));if(r(V),L.length>0){const U=Object.keys(L[0]),$=["assigned_to"],z=U.map(K=>$.includes(K)?{headerName:K.replace(/_/g," ").toUpperCase(),field:K,hide:!0}:K==="month"?{headerName:"MONTH",field:K,flex:1,valueFormatter:te=>new Date(te.value).toLocaleString("default",{month:"long",year:"numeric"})}:{headerName:K.replace(/_/g," ").toUpperCase(),field:K,flex:1,minWidth:160});a(z)}}catch(T){console.error("Error fetching customer status:",T)}};return M.useEffect(()=>{E()},[l,f]),A.jsxs("div",{className:"p-6 bg-gray-50 shadow-md rounded-lg relative",children:[A.jsx("h2",{className:"text-xl font-bold mb-4",children:"Customer Status"}),A.jsxs("div",{className:"flex justify-between items-end gap-4 mb-4",children:[A.jsxs("div",{className:"flex items-end gap-4 mb-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium",children:"From Date"}),A.jsx(il,{selected:l,onChange:T=>d(T),customInput:A.jsx(OG,{}),dateFormat:"dd-MM-yyyy",popperPlacement:"bottom-start"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium",children:"To Date"}),A.jsx(il,{selected:f,onChange:T=>m(T),customInput:A.jsx(OG,{}),dateFormat:"dd-MM-yyyy",popperPlacement:"bottom-start"})]}),A.jsx("button",{onClick:()=>{d(new Date),m(new Date)},className:"bg-gray-200 px-4 py-2 rounded hover:bg-gray-300",children:"Reset"})]}),A.jsx("div",{className:"flex items-end gap-4 mb-4",children:A.jsx(Zi,{value:e,onChange:t})})]}),A.jsx("div",{className:"ag-theme-alpine",style:{height:636},children:A.jsx(Nn,{rowData:n,columnDefs:o,pagination:!0,paginationPageSize:100,defaultColDef:{sortable:!0,filter:!0,resizable:!0,minWidth:180,flex:1},suppressHorizontalScroll:!1,quickFilterText:e,onRowClicked:T=>C(T.data.rowId),getRowStyle:T=>T.data.rowId===v?{backgroundColor:"#c4c4c4",borderLeft:"4px solid #22c55e",transition:"background-color 0.3s ease"}:null})})]})}var $Ue=class{constructor(){this.ieCompatibility=!1}init(){this.ieCompatibility=this.md5("hello")!="5d41402abc4b2a76b9719d911017c592"}md5cycle(e,t){let n=e[0],r=e[1],o=e[2],a=e[3];n=this.ff(n,r,o,a,t[0],7,-680876936),a=this.ff(a,n,r,o,t[1],12,-389564586),o=this.ff(o,a,n,r,t[2],17,606105819),r=this.ff(r,o,a,n,t[3],22,-1044525330),n=this.ff(n,r,o,a,t[4],7,-176418897),a=this.ff(a,n,r,o,t[5],12,1200080426),o=this.ff(o,a,n,r,t[6],17,-1473231341),r=this.ff(r,o,a,n,t[7],22,-45705983),n=this.ff(n,r,o,a,t[8],7,1770035416),a=this.ff(a,n,r,o,t[9],12,-1958414417),o=this.ff(o,a,n,r,t[10],17,-42063),r=this.ff(r,o,a,n,t[11],22,-1990404162),n=this.ff(n,r,o,a,t[12],7,1804603682),a=this.ff(a,n,r,o,t[13],12,-40341101),o=this.ff(o,a,n,r,t[14],17,-1502002290),r=this.ff(r,o,a,n,t[15],22,1236535329),n=this.gg(n,r,o,a,t[1],5,-165796510),a=this.gg(a,n,r,o,t[6],9,-1069501632),o=this.gg(o,a,n,r,t[11],14,643717713),r=this.gg(r,o,a,n,t[0],20,-373897302),n=this.gg(n,r,o,a,t[5],5,-701558691),a=this.gg(a,n,r,o,t[10],9,38016083),o=this.gg(o,a,n,r,t[15],14,-660478335),r=this.gg(r,o,a,n,t[4],20,-405537848),n=this.gg(n,r,o,a,t[9],5,568446438),a=this.gg(a,n,r,o,t[14],9,-1019803690),o=this.gg(o,a,n,r,t[3],14,-187363961),r=this.gg(r,o,a,n,t[8],20,1163531501),n=this.gg(n,r,o,a,t[13],5,-1444681467),a=this.gg(a,n,r,o,t[2],9,-51403784),o=this.gg(o,a,n,r,t[7],14,1735328473),r=this.gg(r,o,a,n,t[12],20,-1926607734),n=this.hh(n,r,o,a,t[5],4,-378558),a=this.hh(a,n,r,o,t[8],11,-2022574463),o=this.hh(o,a,n,r,t[11],16,1839030562),r=this.hh(r,o,a,n,t[14],23,-35309556),n=this.hh(n,r,o,a,t[1],4,-1530992060),a=this.hh(a,n,r,o,t[4],11,1272893353),o=this.hh(o,a,n,r,t[7],16,-155497632),r=this.hh(r,o,a,n,t[10],23,-1094730640),n=this.hh(n,r,o,a,t[13],4,681279174),a=this.hh(a,n,r,o,t[0],11,-358537222),o=this.hh(o,a,n,r,t[3],16,-722521979),r=this.hh(r,o,a,n,t[6],23,76029189),n=this.hh(n,r,o,a,t[9],4,-640364487),a=this.hh(a,n,r,o,t[12],11,-421815835),o=this.hh(o,a,n,r,t[15],16,530742520),r=this.hh(r,o,a,n,t[2],23,-995338651),n=this.ii(n,r,o,a,t[0],6,-198630844),a=this.ii(a,n,r,o,t[7],10,1126891415),o=this.ii(o,a,n,r,t[14],15,-1416354905),r=this.ii(r,o,a,n,t[5],21,-57434055),n=this.ii(n,r,o,a,t[12],6,1700485571),a=this.ii(a,n,r,o,t[3],10,-1894986606),o=this.ii(o,a,n,r,t[10],15,-1051523),r=this.ii(r,o,a,n,t[1],21,-2054922799),n=this.ii(n,r,o,a,t[8],6,1873313359),a=this.ii(a,n,r,o,t[15],10,-30611744),o=this.ii(o,a,n,r,t[6],15,-1560198380),r=this.ii(r,o,a,n,t[13],21,1309151649),n=this.ii(n,r,o,a,t[4],6,-145523070),a=this.ii(a,n,r,o,t[11],10,-1120210379),o=this.ii(o,a,n,r,t[2],15,718787259),r=this.ii(r,o,a,n,t[9],21,-343485551),e[0]=this.add32(n,e[0]),e[1]=this.add32(r,e[1]),e[2]=this.add32(o,e[2]),e[3]=this.add32(a,e[3])}cmn(e,t,n,r,o,a){return t=this.add32(this.add32(t,e),this.add32(r,a)),this.add32(t<<o|t>>>32-o,n)}ff(e,t,n,r,o,a,l){return this.cmn(t&n|~t&r,e,t,o,a,l)}gg(e,t,n,r,o,a,l){return this.cmn(t&r|n&~r,e,t,o,a,l)}hh(e,t,n,r,o,a,l){return this.cmn(t^n^r,e,t,o,a,l)}ii(e,t,n,r,o,a,l){return this.cmn(n^(t|~r),e,t,o,a,l)}md51(e){const t=e.length,n=[1732584193,-271733879,-1732584194,271733878];let r;for(r=64;r<=e.length;r+=64)this.md5cycle(n,this.md5blk(e.substring(r-64,r)));e=e.substring(r-64);const o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(r=0;r<e.length;r++)o[r>>2]|=e.charCodeAt(r)<<(r%4<<3);if(o[r>>2]|=128<<(r%4<<3),r>55)for(this.md5cycle(n,o),r=0;r<16;r++)o[r]=0;return o[14]=t*8,this.md5cycle(n,o),n}md5blk(e){const t=[];for(let n=0;n<64;n+=4)t[n>>2]=e.charCodeAt(n)+(e.charCodeAt(n+1)<<8)+(e.charCodeAt(n+2)<<16)+(e.charCodeAt(n+3)<<24);return t}rhex(e){const t="0123456789abcdef".split("");let n="",r=0;for(;r<4;r++)n+=t[e>>r*8+4&15]+t[e>>r*8&15];return n}hex(e){for(let t=0;t<e.length;t++)e[t]=this.rhex(e[t]);return e.join("")}md5(e){return this.hex(this.md51(e))}add32(e,t){return this.ieCompatibility?this.add32Compat(e,t):this.add32Std(e,t)}add32Std(e,t){return e+t&4294967295}add32Compat(e,t){const n=(e&65535)+(t&65535);return(e>>16)+(t>>16)+(n>>16)<<16|n&65535}},L1={"01":"GRID","02":"CHARTS","0102":"BOTH"},FG="https://www.ag-grid.com/licensing/",fee=class Go{constructor(t){this.watermarkMessage=void 0,this.totalMessageLength=124,this.document=t,this.md5=new $Ue,this.md5.init()}validateLicense(){const t=this.getLicenseDetails(Go.licenseKey),n=`AG Grid ${t.currentLicenseType==="BOTH"?"and AG Charts ":""}Enterprise`,r=t.suppliedLicenseType===void 0?"":`AG ${t.suppliedLicenseType==="BOTH"?"Grid and AG Charts":t.suppliedLicenseType==="GRID"?"Grid":"Charts"} Enterprise`;if(t.missing)(!this.isWebsiteUrl()||this.isForceWatermark())&&this.outputMissingLicenseKey(n);else if(t.expired){const o=Go.getGridReleaseDate(),a=Go.formatDate(o);this.outputExpiredKey(t.expiry,a,n,r)}else t.valid?t.isTrial&&t.trialExpired&&this.outputExpiredTrialKey(t.expiry,n,r):this.outputInvalidLicenseKey(!!t.incorrectLicenseType,n,r)}static extractExpiry(t){const n=t.substring(t.lastIndexOf("_")+1,t.length);return new Date(parseInt(Go.decode(n),10))}static extractLicenseComponents(t){let n=t.replace(/[\u200B-\u200D\uFEFF]/g,"");if(n=n.replace(/\r?\n|\r/g,""),t.length<=32)return{md5:null,license:t,version:null,isTrial:null};const r=n.length-32,o=n.substring(r),a=n.substring(0,r),[l,d,f]=Go.extractBracketedInformation(n);return{md5:o,license:a,version:l,isTrial:d,type:f}}getLicenseDetails(t){const n=Go.chartsLicenseManager?"BOTH":"GRID";if(!t?.length)return{licenseKey:t,valid:!1,missing:!0,currentLicenseType:n};const r=Go.getGridReleaseDate(),{md5:o,license:a,version:l,isTrial:d,type:f}=Go.extractLicenseComponents(t);let m=o===this.md5.md5(a)&&!t.includes("For_Trialing_ag-Grid_Only"),v,C,y=null,S=!1,E;function T(){v=y<new Date,C=void 0}if(m&&(y=Go.extractExpiry(a),m=!isNaN(y.getTime()),m))switch(C=r>y,l){case"legacy":case"2":{d&&T();break}case"3":f?.length?(E=f,f!==L1["01"]&&f!==L1["0102"]||n==="BOTH"&&E!=="BOTH"?(m=!1,S=!0):d&&T()):m=!1}return m?{licenseKey:t,valid:m,expiry:Go.formatDate(y),expired:C,version:l,isTrial:d,trialExpired:v,incorrectLicenseType:S,currentLicenseType:n,suppliedLicenseType:E}:{licenseKey:t,valid:m,incorrectLicenseType:S,currentLicenseType:n,suppliedLicenseType:E}}isDisplayWatermark(){return this.isForceWatermark()||!this.isLocalhost()&&!this.isWebsiteUrl()&&!!this.watermarkMessage?.length}getWatermarkMessage(){return this.watermarkMessage||""}getHostname(){const n=(this.document.defaultView||window).location,{hostname:r=""}=n;return r}isForceWatermark(){const n=(this.document.defaultView||window).location,{pathname:r}=n;return r?r.includes("forceWatermark"):!1}isWebsiteUrl(){return this.getHostname().match(/^((?:[\w-]+\.)?ag-grid\.com)$/)!==null}isLocalhost(){return this.getHostname().match(/^(?:127\.0\.0\.1|localhost)$/)!==null}static formatDate(t){const n=["January","February","March","April","May","June","July","August","September","October","November","December"],r=t.getDate(),o=t.getMonth(),a=t.getFullYear();return r+" "+n[o]+" "+a}static getGridReleaseDate(){return new Date(parseInt(Go.decode(Go.RELEASE_INFORMATION),10))}static decode(t){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let r="",o,a,l,d,f,m,v,C=0;const y=t.replace(/[^A-Za-z0-9+/=]/g,"");for(;C<y.length;)d=n.indexOf(y.charAt(C++)),f=n.indexOf(y.charAt(C++)),m=n.indexOf(y.charAt(C++)),v=n.indexOf(y.charAt(C++)),o=d<<2|f>>4,a=(f&15)<<4|m>>2,l=(m&3)<<6|v,r=r+String.fromCharCode(o),m!=64&&(r=r+String.fromCharCode(a)),v!=64&&(r=r+String.fromCharCode(l));return r=Go.utf8_decode(r),r}static utf8_decode(t){t=t.replace(/rn/g,"n");let n="";for(let r=0;r<t.length;r++){const o=t.charCodeAt(r);o<128?n+=String.fromCharCode(o):o>127&&o<2048?(n+=String.fromCharCode(o>>6|192),n+=String.fromCharCode(o&63|128)):(n+=String.fromCharCode(o>>12|224),n+=String.fromCharCode(o>>6&63|128),n+=String.fromCharCode(o&63|128))}return n}static setChartsLicenseManager(t){this.chartsLicenseManager=t,this.chartsLicenseManager?.setLicenseKey(this.licenseKey,!0)}static setLicenseKey(t){Ye(this.licenseKey)&&this.licenseKey!==t&&Tpe(291,void 0,"AG Grid: License Key being set multiple times with different values. This can result in an incorrect license key being used."),this.licenseKey=t,this.chartsLicenseManager?.setLicenseKey(t,!0)}static extractBracketedInformation(t){if(!t.includes("["))return["legacy",!1,void 0];const n=t.match(/\[(.*?)\]/g).map(d=>d.replace("[","").replace("]",""));if(!n||n.length===0)return["legacy",!1,void 0];const r=n.filter(d=>d==="TRIAL").length===1,o=n.filter(d=>d.indexOf("v")===0)[0],a=o?o.replace("v",""):"legacy",l=L1[n.filter(d=>L1[d])[0]];return[a,r,l]}centerPadAndOutput(t){const n=this.totalMessageLength-t.length;console.error(t.padStart(n/2+t.length,"*").padEnd(this.totalMessageLength,"*"))}padAndOutput(t,n="*",r=""){console.error(t.padEnd(this.totalMessageLength-r.length,n)+r)}outputInvalidLicenseKey(t,n,r){t?(this.centerPadAndOutput(""),this.centerPadAndOutput(` ${n} License `),this.centerPadAndOutput(" Incompatible License Key "),this.padAndOutput(`* Your license key is for ${r} only and does not cover you for ${n}.`," ","*"),this.padAndOutput(`* To troubleshoot your license key visit ${FG}.`," ","*"),this.centerPadAndOutput(""),this.centerPadAndOutput("")):(this.centerPadAndOutput(""),this.centerPadAndOutput(` ${n} License `),this.centerPadAndOutput(" Invalid License Key "),this.padAndOutput("* Your license key is not valid."," ","*"),this.padAndOutput(`* To troubleshoot your license key visit ${FG}.`," ","*"),this.centerPadAndOutput(""),this.centerPadAndOutput("")),this.watermarkMessage="Invalid License"}outputExpiredTrialKey(t,n,r){this.centerPadAndOutput(""),this.centerPadAndOutput(` ${n} License `),this.centerPadAndOutput(" Trial Period Expired. "),this.padAndOutput(`* Your trial only license for ${r} expired on ${t}.`," ","*"),this.padAndOutput("* Please email info@ag-grid.com to purchase a license."," ","*"),this.centerPadAndOutput(""),this.centerPadAndOutput(""),this.watermarkMessage="Trial Period Expired"}outputMissingLicenseKey(t){this.centerPadAndOutput(""),this.centerPadAndOutput(` ${t} License `),this.centerPadAndOutput(" License Key Not Found "),this.padAndOutput(`* All ${t} features are unlocked for trial.`," ","*"),this.padAndOutput("* If you want to hide the watermark please email info@ag-grid.com for a trial license key."," ","*"),this.centerPadAndOutput(""),this.centerPadAndOutput(""),this.watermarkMessage="For Trial Use Only"}outputExpiredKey(t,n,r,o){this.centerPadAndOutput(""),this.centerPadAndOutput(` ${r} License `),this.centerPadAndOutput(" Incompatible Software Version "),this.padAndOutput(`* Your license key works with versions${o==""?"":` of ${o}`} released before ${t}.`," ","*"),this.padAndOutput(`* The version you are trying to use was released on ${n}.`," ","*"),this.padAndOutput("* Please contact info@ag-grid.com to renew your license key."," ","*"),this.centerPadAndOutput(""),this.centerPadAndOutput(""),this.watermarkMessage="License Expired"}};fee.RELEASE_INFORMATION="MTc2MTIyODQxNDc2OA==";var B1=fee,qUe='.ag-watermark{bottom:20px;color:#9b9b9b;opacity:.7;position:absolute;transition:opacity 1s ease-out 3s;&:before{background-image:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMDkiIGhlaWdodD0iMzYiIGZpbGw9Im5vbmUiIHZpZXdCb3g9IjAgMCAyMDkgMzYiPjxwYXRoIGZpbGw9IiM5YjliOWIiIGQ9Ik0xOTIuOTkzIDIzLjY1OHYtNy45NDZoLTEzLjU0MWwtNy45NDcgNy45NDZ6TTIwOC4yNSAzLjk1aC0xNi45NzRsLTguMDEgNy45NDdoMjQuOTg0ek0xNjMuNjIyIDMxLjYwNWw0LjA2OS00LjA2OWgxMy43MzJ2Ny45NDdoLTE3LjgwMXoiLz48cGF0aCBmaWxsPSIjOWI5YjliIiBkPSJNMTY2LjYxIDE5Ljc4aDguNzczbDguMDEtNy45NDZIMTY2LjYxek0xNTcuMDExIDMxLjYwNWg2LjYxMWw3Ljg4My03Ljk0N2gtMTQuNDk0ek0xOTEuMjc2IDMuOTVsLTQuMDY4IDQuMDdIMTYxLjI3Vi4wNzJoMzAuMDA2ek0yMC44NCAzMC4yMDZIOC4zNzhsLTIuMTYyIDUuMzRILjc1TDEyLjI1NyA4LjU5Mmg0Ljc2OEwyOC41MyAzNS41NDZoLTUuNTN6bS0xLjcxNy00LjI2TDE0LjYwOSAxNC45NWwtNC41MTQgMTAuOTk4ek0xMDQuNDM3IDE4LjUwOWMxLjU4OS0yLjM1MiA1LjU5NC0yLjYwNyA3LjI0Ny0yLjYwN3Y0LjU3OGMtMi4wMzQgMC00LjA2OS4wNjMtNS4yNzcuOTUzLTEuMjA3Ljg5LTEuODQzIDIuMDk4LTEuODQzIDMuNTZ2MTAuNTUzaC00Ljk1OVYxNS45MDJoNC43Njh6TTExOS4zNzYgMTUuOTAyaC00Ljk1OHYxOS42NDRoNC45NTh6TTExOS4zNzYgNy4xM2gtNC45NTh2NS44NDhoNC45NTh6TTE0My45NzkgNy4xM3YyOC40MTZoLTQuNzY4bC0uMTI3LTIuOTg4YTguMyA4LjMgMCAwIDEtMi42NyAyLjQ4Yy0xLjA4MS41NzItMi40MTYuODktMy45NDIuODktMS4zMzUgMC0yLjYwNi0uMjU1LTMuNjg3LS43LTEuMTQ0LS41MDgtMi4xNjItMS4xNDQtMi45ODgtMi4wMzRhOS42IDkuNiAwIDAgMS0xLjk3MS0zLjE3OWMtLjUwOC0xLjIwNy0uNjk5LTIuNjA2LS42OTktNC4xMzJzLjI1NC0yLjkyNC42OTktNC4xOTZjLjUwOS0xLjI3MSAxLjE0NS0yLjM1MiAxLjk3MS0zLjI0MnMxLjg0NC0xLjU4OSAyLjk4OC0yLjA5OCAyLjM1Mi0uNzYzIDMuNjg3LS43NjNjMS41MjYgMCAyLjc5Ny4yNTUgMy44NzguODI3czEuOTcxIDEuMzM1IDIuNjcgMi40MTZWNy4xOTNoNC45NTl6bS0xMC40MjYgMjQuNTM4YzEuNjUzIDAgMi45MjQtLjU3MiAzLjk0MS0xLjY1M3MxLjUyNi0yLjU0MyAxLjUyNi00LjMyMy0uNTA5LTMuMTc4LTEuNTI2LTQuMzIyYy0xLjAxNy0xLjA4MS0yLjI4OC0xLjY1My0zLjk0MS0xLjY1My0xLjU5IDAtMi45MjUuNTcyLTMuODc4IDEuNjUzLTEuMDE3IDEuMDgtMS41MjYgMi41NDMtMS41MjYgNC4zMjIgMCAxLjc4LjUwOSAzLjE4IDEuNTI2IDQuMjYgMS4wMTcgMS4xNDQgMi4yODggMS43MTYgMy44NzggMS43MTZNNTcuMjAyIDIwLjM1M0g0NC45MzN2NC4yNTloNi45OTNjLS4xOSAyLjE2MS0xLjAxNyAzLjgxNC0yLjQxNiA1LjE1LTEuMzk4IDEuMjctMy4xNzggMS45MDYtNS40NjcgMS45MDYtMS4yNzEgMC0yLjQ4LS4yNTQtMy40OTYtLjY5OWE3IDcgMCAwIDEtMi43MzQtMS45N2MtLjc2My0uODI3LTEuMzM1LTEuODQ0LTEuNzgtMy4wNTJzLS42MzYtMi40OC0uNjM2LTMuOTQyLjE5LTIuNzMzLjYzNi0zLjk0MWMuMzgxLTEuMjA4IDEuMDE3LTIuMTYyIDEuNzgtMy4wNTIuNzYzLS44MjYgMS42NTMtMS40NjIgMi43MzMtMS45N2E5LjEgOS4xIDAgMCAxIDMuNTYtLjdxNC4wMDUgMCA2LjEwMyAxLjkwN2wzLjMwNi0zLjMwNWMtMi40OC0xLjkwNy01LjY1OC0yLjkyNS05LjQwOS0yLjkyNS0yLjA5NyAwLTQuMDA0LjMxOC01LjcyMSAxLjAxOC0xLjcxNi42OTktMy4xNzkgMS41ODktNC4zODYgMi43OTdBMTIuMSAxMi4xIDAgMCAwIDMxLjIgMTYuMjJjLS42MzUgMS43MTctLjk1MyAzLjYyNC0uOTUzIDUuNjU4cy4zMTggMy45NDIgMS4wMTcgNS42NThjLjcgMS43MTcgMS41OSAzLjE3OSAyLjc5NyA0LjM4N2ExMi4xIDEyLjEgMCAwIDAgNC4zODcgMi43OTdjMS43MTYuNyAzLjYyMyAxLjAxNyA1LjY1NyAxLjAxNyAyLjAzNSAwIDMuODc4LS4zMTggNS41MzEtMS4wMTcgMS42NTMtLjcgMy4wNTItMS41OSA0LjE5Ni0yLjc5N3ExLjcxNi0xLjgxMiAyLjY3LTQuMzg3Yy42MzYtMS43MTYuOTU0LTMuNjIzLjk1NC01LjY1OHYtLjgyNmMtLjE5MS0uMTI3LS4yNTUtLjQ0NS0uMjU1LS43TTk1Ljk4MiAyMC4zNTNoLTEyLjI3djQuMjU5aDYuOTkzYy0uMTkgMi4xNjEtMS4wMTcgMy44MTQtMi40MTYgNS4xNS0xLjM5OCAxLjI3LTMuMTc4IDEuOTA2LTUuNDY3IDEuOTA2LTEuMjcxIDAtMi40OC0uMjU0LTMuNDk2LS42OTlhNyA3IDAgMCAxLTIuNzM0LTEuOTdjLS43NjMtLjgyNy0xLjMzNS0xLjg0NC0xLjc4LTMuMDUycy0uNjM2LTIuNDgtLjYzNi0zLjk0Mi4xOS0yLjczMy42MzYtMy45NDFjLjM4MS0xLjIwOCAxLjAxNy0yLjE2MiAxLjc4LTMuMDUyLjc2My0uODI2IDEuNjUzLTEuNDYyIDIuNzM0LTEuOTdhOS4xIDkuMSAwIDAgMSAzLjU2LS43cTQuMDA1IDAgNi4xMDMgMS45MDdsMy4zMDUtMy4zMDVjLTIuNDc5LTEuOTA3LTUuNjU4LTIuOTI1LTkuNDA4LTIuOTI1LTIuMDk4IDAtNC4wMDUuMzE4LTUuNzIyIDEuMDE4LTEuNzE2LjY5OS0zLjE3OCAxLjU4OS00LjM4NiAyLjc5N2ExMi4xIDEyLjEgMCAwIDAtMi43OTcgNC4zODZjLS42MzYgMS43MTctLjk1NCAzLjYyNC0uOTU0IDUuNjU4cy4zMTggMy45NDIgMS4wMTcgNS42NThjLjcgMS43MTcgMS41OSAzLjE3OSAyLjc5NyA0LjM4N2ExMi4xIDEyLjEgMCAwIDAgNC4zODcgMi43OTdjMS43MTYuNyAzLjYyMyAxLjAxNyA1LjY1OCAxLjAxNyAyLjAzNCAwIDMuODc4LS4zMTggNS41My0xLjAxNyAxLjY1My0uNyAzLjA1Mi0xLjU5IDQuMTk2LTIuNzk3cTEuNzE4LTEuODEyIDIuNjctNC4zODdjLjYzNi0xLjcxNi45NTQtMy42MjMuOTU0LTUuNjU4di0uODI2Yy0uMTktLjEyNy0uMjU1LS40NDUtLjI1NS0uNyIvPjwvc3ZnPg==");background-repeat:no-repeat;background-size:170px 40px;content:"";display:block;height:40px;width:170px}}:where(.ag-ltr) .ag-watermark{right:25px}:where(.ag-rtl) .ag-watermark{left:25px}.ag-watermark-text{font-family:Impact,sans-serif;font-size:19px;font-weight:700;opacity:.5}:where(.ag-ltr) .ag-watermark-text{padding-left:.7rem}:where(.ag-rtl) .ag-watermark-text{padding-right:.7rem}',KUe={tag:"div",cls:"ag-watermark",children:[{tag:"div",ref:"eLicenseTextRef",cls:"ag-watermark-text"}]},YUe=class extends nn{constructor(){super(KUe),this.eLicenseTextRef=qe,this.registerCSS(qUe)}wireBeans(e){this.licenseManager=e.licenseManager}postConstruct(){const e=this.shouldDisplayWatermark();this.setDisplayed(e),e&&(this.eLicenseTextRef.textContent=this.licenseManager.getWatermarkMessage(),window.setTimeout(()=>this.addCss("ag-opacity-zero"),0),window.setTimeout(()=>this.setDisplayed(!1),5e3))}shouldDisplayWatermark(){return this.licenseManager.isDisplayWatermark()}},QUe={selector:"AG-WATERMARK",component:YUe},ZUe=class extends Pe{constructor(){super(...arguments),this.beanName="licenseManager"}postConstruct(){this.validateLicense()}validateLicense(){this.licenseManager=new B1(Wr(this.beans)),this.licenseManager.validateLicense()}static getLicenseDetails(e){return new B1(null).getLicenseDetails(e)}getWatermarkSelector(){return QUe}isDisplayWatermark(){return this.licenseManager.isDisplayWatermark()}getWatermarkMessage(){return this.licenseManager.getWatermarkMessage()}static setLicenseKey(e){B1.setLicenseKey(e)}static setChartsLicenseManager(e){B1.setChartsLicenseManager(e)}},bv="34.3.1",m4={moduleName:"EnterpriseCore",version:bv,beans:[ZUe],icons:{accordionOpen:"tree-open",accordionClosed:"tree-closed",accordionIndeterminate:"tree-indeterminate",close:"cross",cancel:"cancel",maximize:"maximize",minimize:"minimize",columnDrag:"grip"},dependsOn:[]};function sP(e,t){if(e.sibling)return;const n=k$(e,t);n.footer=!0,n.setRowTop(null),n.setRowIndex(null),n.oldRowTop=null,n.id="rowGroupFooter_"+e.id,n.sibling=e,e.sibling=n}function XUe(e){e.sibling&&(e.sibling.setRowTop(null),e.sibling.setRowIndex(null),e.sibling=void 0)}Object.fromEntries(RP.map(e=>[e,e.toLowerCase()]));var JUe=class extends Pe{addExpandedCss(e,t){t.isExpandable()&&(e.push("ag-row-group"),e.push(t.expanded?"ag-row-group-expanded":"ag-row-group-contracted"))}getRowExpandedListeners(e){const{rowNode:t}=e,n=this.updateExpandedCss.bind(this,e,t);return{expandedChanged:n,hasChildrenChanged:n}}setExpanded(e,t,n,r){if(e.expanded===t)return;e.expanded=t,e.dispatchRowEvent("expandedChanged");const o={...y$(e,this.gos,"rowGroupOpened"),expanded:t,event:n||null};this.dispatchExpandedEvent(o,r)}isExpandable(e){return e.footer?!1:this.beans.colModel.isPivotMode()?e.hasChildren()&&!e.leafGroup:e.hasChildren()||e.master}updateExpandedCss(e,t){const n=t.isExpandable(),r=t.expanded==!0;e.forEachGui(void 0,o=>{const a=o.rowComp;a.toggleCss("ag-row-group",n),a.toggleCss("ag-row-group-expanded",n&&r),a.toggleCss("ag-row-group-contracted",n&&!r),Ly(o.element,n&&r)})}dispatchStateUpdatedEvent(){this.eventSvc.dispatchEvent({type:"rowExpansionStateChanged"})}},eWe=class extends JUe{constructor(){super(...arguments),this.beanName="expansionSvc",this.events=null,this.dispatchExpandedDebounced=null}destroy(){super.destroy(),this.events=null,this.dispatchExpandedDebounced=null}setExpansionState(e){const t=new Set(e.expandedRowGroupIds);this.beans.rowModel.forEachNode(n=>{const r=n.id;r&&(n.expanded=t.has(r))}),this.onGroupExpandedOrCollapsed()}getExpansionState(){const e=[],t=[];return this.beans.rowModel.forEachNode(n=>{const r=n.id;r&&(n.expanded?e.push(r):t.push(r))}),{expandedRowGroupIds:e,collapsedRowGroupIds:t}}expandAll(e){const{gos:t,rowModel:n,colModel:r,eventSvc:o}=this.beans,a=t.get("treeData"),l=r.isPivotActive(),d=m=>{if(m)for(const v of m){const C=()=>{v.expanded=e,d(v.childrenAfterGroup)};if(v.master){C();continue}if(a){Ye(v.childrenAfterGroup)&&C();continue}if(l){!v.leafGroup&&C();continue}v.group&&C()}},f=n.rootNode;f&&d(f.childrenAfterGroup),this.onGroupExpandedOrCollapsed(),o.dispatchEvent({type:"expandOrCollapseAll",source:e?"expandAll":"collapseAll"})}onGroupExpandedOrCollapsed(){this.dispatchStateUpdatedEvent(),this.beans.rowModel.refreshModel({step:"map"})}setDetailsExpansionState(e){const t=this.getExpansionState(),n=t.collapsedRowGroupIds.length===0;if(t.expandedRowGroupIds.length===0!==n)return n?e.expandAll():e.collapseAll()}dispatchExpandedEvent(e,t){if((this.events??(this.events=[])).push(e),t){this.dispatchExpandedEvents();return}let n=this.dispatchExpandedDebounced;if(!n){if(!this.isAlive())return;n=this.debounce(()=>this.dispatchExpandedEvents()),this.dispatchExpandedDebounced=n}n()}dispatchExpandedEvents(){const{eventSvc:e,rowRenderer:t}=this.beans,n=this.events,r=n?.length;if(!r)return;this.events=null;const o=new Array(r);for(let a=0;a<r;++a)o[a]=n[a].node,e.dispatchEvent(n[a]);this.dispatchStateUpdatedEvent(),t.refreshCells({rowNodes:o})}debounce(e){const t=this.beans.animationFrameSvc;if(!t)return()=>window.setTimeout(e,0);let n=!1;return()=>{if(!t.active){window.setTimeout(e,0);return}n||(n=!0,t.addDestroyTask(()=>{n=!1,e()}))}}};function tWe(e){let t=e.get("groupHideParentOfSingleChild");return t||(t=e.get("groupRemoveSingleChildren"),!t&&e.get("groupRemoveLowestSingleChildren")&&(t="leafGroupsOnly")),{groupHideParentOfSingleChild:t,isGroupMultiAutoColumn:Ope(e),hideOpenParents:e.get("groupHideOpenParents"),grandTotalRow:PN(e),groupTotalRow:Npe(e)}}function nWe(e,t,n){return e.groupHideParentOfSingleChild===!0&&n&&t.childrenAfterGroup.length===1}function rWe(e,t,n){return e.groupHideParentOfSingleChild==="leafGroupsOnly"&&n&&t.leafGroup&&t.childrenAfterGroup.length===1}function iWe(e,t,n,r,o,a){const l=r&&!n,d=r&&t.leafGroup,f=e.hideOpenParents&&t.expanded&&!t.master&&!d;return!l&&!f&&!o&&!a}var oWe=class extends Pe{constructor(){super(...arguments),this.beanName="flattenStage",this.step="map",this.refreshProps=["groupHideParentOfSingleChild","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","groupTotalRow","masterDetail"]}execute(e){const t=e.rowNode,n=[],r=this.beans.colModel.isPivotMode(),o=r&&t.leafGroup&&t.aggData,a=o?[t]:t.childrenAfterSort,l=tWe(this.gos);this.recursivelyAddToRowsToDisplay(l,a,n,r,0);const d=n.length>0,f=l.grandTotalRow;if(!o&&d&&f)if(sP(t,this.beans),f==="pinnedBottom"||f==="pinnedTop")this.beans.pinnedRowModel?.setGrandTotalPinned(f==="pinnedBottom"?"bottom":"top");else{const v=f==="top";this.addRowNodeToRowsToDisplay(l,t.sibling,n,0,v)}return n}recursivelyAddToRowsToDisplay(e,t,n,r,o){if(!t?.length)return;const a=this.beans.masterDetailSvc;for(let l=0;l<t.length;l++){const d=t[l],f=d.hasChildren(),m=nWe(e,d,f),v=rWe(e,d,f);if(iWe(e,d,f,r,m,v)&&this.addRowNodeToRowsToDisplay(e,d,n,o),!(r&&d.leafGroup))if(f){const y=m||v;if(d.expanded||y){const S=e.groupTotalRow({node:d});S||XUe(d);const E=y?o:o+1;S==="top"&&(sP(d,this.beans),this.addRowNodeToRowsToDisplay(e,d.sibling,n,E));const T=a?.getDetail(d);T&&this.addRowNodeToRowsToDisplay(e,T,n,o),this.recursivelyAddToRowsToDisplay(e,d.childrenAfterSort,n,r,E),S==="bottom"&&(sP(d,this.beans),this.addRowNodeToRowsToDisplay(e,d.sibling,n,E))}}else{const y=a?.getDetail(d);y&&this.addRowNodeToRowsToDisplay(e,y,n,o)}}}addRowNodeToRowsToDisplay(e,t,n,r,o){o?n.unshift(t):n.push(t),t.setUiLevel(e.isGroupMultiAutoColumn?0:r)}},sWe=class extends Pe{constructor(){super(...arguments),this.beanName="groupStage",this.step="group",this.refreshProps=["groupAllowUnbalanced","groupDefaultExpanded","groupDisplayType","groupHideOpenParents","initialGroupOrderComparator","treeData","treeDataChildrenField","treeDataParentIdField"],this.treeData=!1,this.hasTreeData=!1,this.needReset=!1,this.nested=!1,this.strategy=void 0}postConstruct(){const e=this.gos;e.isModuleRegistered("TreeData")&&(this.hasTreeData=!0,this.treeData=!!e.get("treeData"))}destroy(){this.strategy=this.destroyBean(this.strategy),super.destroy()}getNode(e){return this.strategy?.getNode(e)}getNestedDataGetter(){return this.getStrategy()?.nestedDataGetter}onPropChange(e){const t=this.gos,n=this.strategy?.nestedDataGetter;if(e.has("treeData")){const r=!!t.get("treeData")&&this.hasTreeData;this.treeData!==r&&(this.treeData=r,this.needReset=!0,this.strategy=this.destroyBean(this.strategy))}return this.strategy?.onPropChange?.(e),this.getNestedDataGetter()!==n}extractData(){const e=this.beans.rowModel.rootNode,t=this.nested?e?.childrenAfterGroup:e?._leafs;if(!t)return this.gos.get("rowData")??[];const n=t.length,r=new Array(n);let o=0;for(let a=0;a<n;++a){const l=t[a].data;l!=null&&(r[o++]=l)}return r.length=o,r}execute(e){const t=this.getStrategy(),n=!!t?.nestedDataGetter,r=this.needReset;return this.nested=n,r&&(this.needReset=!1,lWe(e.rowNode,!n)),t?t.execute(e)||r:void 0}loadLeafs(e){return e.footer?aWe(e):Y_(e)}getStrategy(){let e=this.strategy;return e!==void 0&&this.isAlive()||(e=this.beans.registry.createDynamicBean(this.treeData?"treeGroupStrategy":"groupStrategy",!1)??null,this.strategy=e&&this.createBean(e)),e}},aWe=e=>{const t=e.sibling;if(!t)return null;const n=t._leafs;return n!==void 0?n:Y_(t)},Y_=e=>{const t=e.childrenAfterGroup,n=t?.length;if(e._leafs=null,!n)return null;let r;const o=n===1?t[0]:null;if(o?.group&&o.sourceRowIndex<0)r=o._leafs,r===void 0&&(r=Y_(o));else if(e.leafGroup)r=t;else{r=[];for(let a=0;a<n;++a){const l=t[a];if(l.sourceRowIndex>=0&&r.push(l),!l.group)continue;let d=l._leafs;if(d===void 0&&(d=Y_(l)),d)for(let f=0,m=d.length;f<m;++f)r.push(d[f])}}return e._leafs=r,r},lWe=(e,t)=>{const n=e._leafs,r=e.sibling;e.treeNodeFlags=0,e.childrenAfterGroup=n,e.childrenMapped=null,e.groupData=null,r&&(r.childrenAfterGroup=e.childrenAfterGroup,r.childrenAfterAggFilter=e.childrenAfterAggFilter,r.childrenAfterFilter=e.childrenAfterFilter,r.childrenAfterSort=e.childrenAfterSort,r.childrenMapped=null);for(let o=0,a=n.length??0;o<a;++o){const l=n[o],d=l.sibling;l._leafs=void 0,LG(l),d&&LG(d),l.parent=e,t&&(l.treeParent=null),l.group=!1,l.updateHasChildren()}e.updateHasChildren()},LG=e=>{e.key=null,e.treeNodeFlags=0,e.allChildrenCount=null,e.childrenAfterGroup=null,e.childrenAfterAggFilter=null,e.childrenAfterFilter=null,e.childrenAfterSort=null,e.childrenMapped=null,e.level=0,e.groupData&&(e.groupData=null)};function BG(e,t,n){let r=e;const o=r.level-t.level;if(o<=0||!n.get("groupHideOpenParents"))return!1;for(let l=0;l<o;l++){if(!(r.parent?.getFirstChild()===r))return!1;r=r.parent}return r===t}var cWe=(e,t,n,r=t.group)=>{const o=e.gos,a=r&&o.get("isGroupOpenByDefault");if(!a){const d=o.get("groupDefaultExpanded");return d===-1||n<d}const l={api:e.gridApi,context:e.gridOptions.context,rowNode:t,field:t.field,key:t.key,level:n,rowGroupColumn:t.rowGroupColumn};return a(l)==!0},pee=class extends Pe{constructor(){super(...arguments),this.indentClass=null}init(e,t,n,r,o,a,l){this.params=l,this.eGui=t,this.eCheckbox=n,this.eExpanded=r,this.eContracted=o,this.comp=e,this.compClass=a;const{node:d,column:f}=l;if(this.node=d,this.displayedNode=d,!this.isEmbeddedRowMismatch()){if(d.footer){this.initFooterCell();return}if(!f){this.initFullWidthCell();return}this.displayedNode=this.beans.showRowGroupColValueSvc?.getDisplayedNode(d,f)??this.node,this.setupExpand(),this.setupCheckbox(),this.addGroupValue(),this.setupIndent()}}initFooterCell(){const{node:e}=this.params;this.addGroupValue(),this.setupIndent(),e.level===-1||this.comp.toggleCss("ag-row-group-leaf-indent",!0)}initFullWidthCell(){const e=()=>{const{rowDragSvc:t}=this.beans;if(!this.params.rowDrag||!t)return;const n=t.createRowDragComp(()=>this.params.value,this.params.node);this.createManagedBean(n),this.eGui.insertAdjacentElement("afterbegin",n.getGui())};this.setupExpand(),e(),this.setupCheckbox(),this.addGroupValue(),this.setupIndent()}getCellAriaRole(){const e=this.params.colDef?.cellAriaRole,t=this.params.column?.getColDef().cellAriaRole;return e||t||"gridcell"}isEmbeddedRowMismatch(){if(!this.params.fullWidth||!this.gos.get("embedFullWidthRows"))return!1;const{visibleCols:e}=this.beans,t=this.params.pinned==="left",n=this.params.pinned==="right",r=!t&&!n;return this.gos.get("enableRtl")?e.isPinningLeft()?!n:!r:e.isPinningLeft()?!t:!r}addGroupValue(){const{params:{value:e,valueFormatted:t}}=this,n=this.getInnerCompDetails();this.comp.setInnerRenderer(n,t??e??null)}setupExpand(){const{colModel:e}=this.beans,{eGridCell:t,column:n,suppressDoubleClickExpand:r}=this.params,o=(m,v)=>{const C=Cs(m,this.beans,null);C&&(v.appendChild(C),this.addDestroyFunc(()=>C.remove()))};o("groupExpanded",this.eExpanded),o("groupContracted",this.eContracted);const a=this.comp,l=()=>{if(!this.isExpandable())return;const v=this.displayedNode.expanded;a.setExpandedDisplayed(v),a.setContractedDisplayed(!v),Ly(t,!!this.displayedNode.expanded)},d=()=>{const m=this.isExpandable();a.toggleCss("ag-cell-expandable",m),a.toggleCss("ag-row-group",m);const v=!m&&e.isPivotMode();a.toggleCss("ag-pivot-leaf-group",v);const C=!e.isPivotMode()&&(!this.displayedNode.footer||this.displayedNode.level!==-1);a.toggleCss("ag-row-group-leaf-indent",!m&&C);const y=this.getChildCount(),S=y>0?`(${y})`:"";a.setChildCount(S),m?l():(a.setExpandedDisplayed(!1),a.setContractedDisplayed(!1),Vfe(t))};(()=>{!(n?.isCellEditable(this.displayedNode)&&this.gos.get("enableGroupEdit"))&&!r&&this.addManagedListeners(t,{dblclick:this.onCellDblClicked.bind(this)}),this.addManagedListeners(this.eExpanded,{click:this.onExpandClicked.bind(this)}),this.addManagedListeners(this.eContracted,{click:this.onExpandClicked.bind(this)}),this.addManagedListeners(t,{keydown:this.onKeyDown.bind(this)}),this.addManagedListeners(this.displayedNode,{allChildrenCountChanged:d,masterChanged:d,groupChanged:d,hasChildrenChanged:d,expandedChanged:l})})(),d()}getInnerCompDetails(){const{userCompFactory:e,findSvc:t}=this.beans,n=this.params;if(n.fullWidth){const f=this.gos.get("groupRowRendererParams"),m=ZA(e,f,n);return m||(t?.isMatch(n.node,null)?ZA(e,{...f,innerRenderer:"agFindCellRenderer"},n):void 0)}const r=f=>f&&f.componentClass==this.compClass,o=ZA(e,n,n);if(o&&!r(o))return o;const{displayedNode:{rowGroupColumn:a}}=this,l=a?.colDef,d=a&&n.column?.isRowGroupDisplayed(a.getId());if(l&&d){const f=PS(e,l,n);if(f)if(r(f)){if(l?.cellRendererParams?.innerRenderer)return ZA(e,l.cellRendererParams,n)}else return f}if(t?.isMatch(n.node,n.column))return PS(e,{...l??n.colDef,cellRenderer:"agFindCellRenderer"},n)}getChildCount(){const{column:e,suppressCount:t}=this.params;if(t)return 0;const{allChildrenCount:n,rowGroupColumn:r}=this.displayedNode;return!((n??0)>0&&(!r||!e||e?.isRowGroupDisplayed(r.getId())))||this.gos.get("showOpenedGroup")&&this.displayedNode!==this.node&&!BG(this.node,this.displayedNode,this.gos)?0:n??0}isExpandable(){const{node:e,column:t,colDef:n}=this.params;if(!this.displayedNode.isExpandable()||e.rowPinned)return!1;if(!t)return!0;if(e.hasChildren()&&n){const{showRowGroup:a}=n;if(!a)return!1;if(a===!0)return!0}return e===this.displayedNode?e.rowGroupColumn&&t?.isRowGroupDisplayed(e.rowGroupColumn.getId())?!0:e.master?n?.showRowGroup===!0||n?.showRowGroup==null:!1:BG(this.node,this.displayedNode,this.gos)}setupIndent(){const{suppressPadding:e,node:t,colDef:n}=this.params;if(e)return;const r=()=>{let o=t.uiLevel;n&&n.showRowGroup!==!0&&(o=0);const a="ag-row-group-indent-"+o;a!==this.indentClass&&(this.indentClass&&this.comp.toggleCss(this.indentClass,!1),this.indentClass=a,this.comp.toggleCss(a,!0),this.eGui.style.setProperty("--ag-indentation-level",String(o)))};this.addManagedListeners(t,{uiLevelChanged:r.bind(this)}),r()}setupCheckbox(){const{node:e}=this.params;!e.footer&&!e.rowPinned&&!e.detail&&(this.addManagedPropertyListener("rowSelection",({currentValue:n,previousValue:r})=>{const o=typeof n=="object"?n:void 0,a=typeof r=="object"?r:void 0;o?.checkboxLocation!==a?.checkboxLocation&&(this.destroyCheckbox(),this.addCheckbox())}),this.addCheckbox())}addCheckbox(){const{selectionSvc:e}=this.beans;if(!e||!Th(this.gos))return;const{node:t,column:n}=this.params,r=this.gos.get("rowSelection"),o=Vy(r);if(o==="selectionColumn")return;if(o==="autoGroupColumn"){const m=n?.getColDef().showRowGroup!=null,v=!n&&t.group;if(!(m||v))return}const a=typeof r=="object"?Pp(r):this.params.checkbox;if(!(typeof a=="function"||a===!0))return;if(typeof n?.getColDef().showRowGroup=="string"&&!this.isExpandable()){this.comp.setCheckboxSpacing(!0);return}const f=e.createCheckboxSelectionComponent();this.cbComp=f,this.createBean(f),f.init({rowNode:t,column:n,overrides:{isVisible:a,callbackParams:this.params,removeHidden:!0}}),this.eCheckbox.appendChild(f.getGui()),this.comp.setCheckboxVisible(!0)}destroyCheckbox(){this.comp.setCheckboxSpacing(!1),this.comp.setCheckboxVisible(!1),this.cbComp?.getGui().remove(),this.cbComp=this.destroyBean(this.cbComp)}onExpandClicked(e){Qa(e)||(Lh(e),this.onExpandOrContract(e))}onKeyDown(e){!(e.key===xe.ENTER)||this.params.suppressEnterExpand||this.params.column?.isCellEditable(this.params.node)||this.onExpandOrContract(e)}onCellDblClicked(e){if(Qa(e))return;CP(this.eExpanded,e)||CP(this.eContracted,e)||this.onExpandOrContract(e)}onExpandOrContract(e){if(!this.isExpandable())return;const t=this.displayedNode,n=!t.expanded;!n&&t.sticky&&this.beans.ctrlsSvc.getScrollFeature().setVerticalScrollPosition(t.rowTop-t.stickyRowTop),t.setExpanded(n,e)}destroy(){super.destroy(),this.destroyCheckbox()}},dWe={tag:"span",cls:"ag-cell-wrapper",children:[{tag:"span",ref:"eExpanded",cls:"ag-group-expanded ag-hidden"},{tag:"span",ref:"eContracted",cls:"ag-group-contracted ag-hidden"},{tag:"span",ref:"eCheckbox",cls:"ag-group-checkbox ag-invisible"},{tag:"span",ref:"eValue",cls:"ag-group-value"},{tag:"span",ref:"eChildCount",cls:"ag-group-child-count"}]},jG=class extends nn{constructor(){super(dWe),this.eExpanded=qe,this.eContracted=qe,this.eCheckbox=qe,this.eValue=qe,this.eChildCount=qe}init(e){const t={setInnerRenderer:(a,l)=>this.setRenderDetails(a,l),setChildCount:a=>this.eChildCount.textContent=a,toggleCss:(a,l)=>this.toggleCss(a,l),setContractedDisplayed:a=>Ln(this.eContracted,a),setExpandedDisplayed:a=>Ln(this.eExpanded,a),setCheckboxVisible:a=>this.eCheckbox.classList.toggle("ag-invisible",!a),setCheckboxSpacing:a=>this.eCheckbox.classList.toggle("ag-group-checkbox-spacing",a)},n=this.createManagedBean(new pee),r=!e.colDef,o=this.getGui();n.init(t,o,this.eCheckbox,this.eExpanded,this.eContracted,this.constructor,e),r&&Od(o,n.getCellAriaRole())}setRenderDetails(e,t){e?e.newAgStackInstance().then(n=>{if(!n)return;const r=()=>this.destroyBean(n);this.isAlive()?(this.eValue.appendChild(n.getGui()),this.addDestroyFunc(r)):r()}):this.eValue.innerText=t}destroy(){this.destroyBean(this.innerCellRenderer),super.destroy()}refresh(){return!1}},uWe=".ag-group-checkbox-spacing{width:var(--ag-icon-size)}:where(.ag-ltr) .ag-group-checkbox-spacing{margin-right:var(--ag-cell-widget-spacing)}:where(.ag-rtl) .ag-group-checkbox-spacing{margin-left:var(--ag-cell-widget-spacing)}",hWe=class extends Pe{constructor(e,t){super(),this.createRowCon=e,this.destroyRowCtrls=t,this.stickyTopRowCtrls=[],this.stickyBottomRowCtrls=[],this.extraTopHeight=0,this.extraBottomHeight=0}postConstruct(){this.isClientSide=Wn(this.gos),this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl}),this.resetStickyContainers()}setOffsetTop(e){this.extraTopHeight!==e&&(this.extraTopHeight=e,this.eventSvc.dispatchEvent({type:"stickyTopOffsetChanged",offset:e}))}setOffsetBottom(e){this.extraBottomHeight!==e&&(this.extraBottomHeight=e)}resetOffsets(){this.setOffsetBottom(0),this.setOffsetTop(0)}getLastPixelOfGroup(e){return this.isClientSide?pWe(e):fWe(e)}getFirstPixelOfGroup(e){return e.footer?e.sibling.rowTop+e.sibling.rowHeight-1:e.hasChildren()?e.rowTop-1:0}updateStickyRows(e){const t=e==="top";let n=0;if(!this.canRowsBeSticky())return this.refreshNodesAndContainerHeight(e,new Set,n);const{rowModel:r,rowRenderer:o,pinnedRowModel:a}=this.beans,l=t?o.firstVisibleVPixel-this.extraTopHeight:o.lastVisibleVPixel-this.extraTopHeight,d=new Set,f=y=>{if(d.add(y),t){const S=this.getLastPixelOfGroup(y),E=l+n+y.rowHeight;S<E?y.stickyRowTop=n+(S-E):y.stickyRowTop=n}else{const S=this.getFirstPixelOfGroup(y),E=l-(n+y.rowHeight);S>E?y.stickyRowTop=n-(S-E):y.stickyRowTop=n}n=0,d.forEach(S=>{const E=S.stickyRowTop+S.rowHeight;n<E&&(n=E)})},m=this.areFooterRowsStickySuppressed(),v=this.gos.get("suppressGroupRowsSticky"),C=y=>{if(!y.displayed)return!1;if(y.footer){if(m===!0||m==="grand"&&y.level===-1||m==="group"&&y.level>-1)return!1;const S=y.sibling.rowIndex?y.sibling.rowIndex+1===y.rowIndex:!1;return e==="bottom"&&S||y.level===-1&&a?.getGrandTotalPinned()?!1:!d.has(y)}return y.isExpandable()?v===!0||e==="bottom"?!1:!d.has(y)&&y.expanded:!1};for(let y=0;y<100;y++){let S=l+n;t||(S=l-n);const E=r.getRowIndexAtPixel(S),T=r.getRow(E);if(T==null)break;const N=this.getStickyAncestors(T).find(L=>(t?L.rowIndex<E:L.rowIndex>E)&&C(L));if(N){f(N);continue}if((t?T.rowTop<S:T.rowTop+T.rowHeight>S)&&C(T)){f(T);continue}break}return t||d.forEach(y=>{y.stickyRowTop=n-(y.stickyRowTop+y.rowHeight)}),this.refreshNodesAndContainerHeight(e,d,n)}areFooterRowsStickySuppressed(){const e=this.gos.get("suppressStickyTotalRow");if(e===!0)return!0;const t=e==="group",n=e==="grand";return t&&n?!0:n?"grand":t?"group":!1}canRowsBeSticky(){const e=uE(this.gos),t=this.areFooterRowsStickySuppressed(),n=this.gos.get("suppressGroupRowsSticky");return e&&(!t||!n)}getStickyAncestors(e){const t=[];let n=e.footer?e.sibling:e.parent;for(;n;)n.sibling&&t.push(n.sibling),t.push(n),n=n.parent;return t.reverse()}checkStickyRows(){const e=this.updateStickyRows("top"),t=this.updateStickyRows("bottom");return e||t}destroyStickyCtrls(){this.resetStickyContainers()}resetStickyContainers(){this.refreshNodesAndContainerHeight("top",new Set,0),this.refreshNodesAndContainerHeight("bottom",new Set,0)}refreshStickyNode(e){const t=new Set;if(this.stickyTopRowCtrls.some(n=>n.rowNode===e)){for(let n=0;n<this.stickyTopRowCtrls.length;n++){const r=this.stickyTopRowCtrls[n].rowNode;r!==e&&t.add(r)}this.refreshNodesAndContainerHeight("top",t,this.topContainerHeight)&&this.checkStickyRows();return}for(let n=0;n<this.stickyBottomRowCtrls.length;n++){const r=this.stickyBottomRowCtrls[n].rowNode;r!==e&&t.add(r)}this.refreshNodesAndContainerHeight("bottom",t,this.bottomContainerHeight)&&this.checkStickyRows()}refreshNodesAndContainerHeight(e,t,n){const r=e==="top",o=r?this.stickyTopRowCtrls:this.stickyBottomRowCtrls,a={},l=[];for(let S=0;S<o.length;S++){const E=o[S].rowNode;if(!t.has(E)){a[E.id]=o[S],E.sticky=!1;continue}l.push(o[S])}const d=new Set;for(let S=0;S<l.length;S++)d.add(l[S].rowNode);const f=[];t.forEach(S=>{d.has(S)||(S.sticky=!0,f.push(this.createRowCon(S,!1,!1)))});let m=!!f.length||l.length!==o.length;r?this.topContainerHeight!==n&&(this.topContainerHeight=n,this.gridBodyCtrl.setStickyTopHeight(n),m=!0):this.bottomContainerHeight!==n&&(this.bottomContainerHeight=n,this.gridBodyCtrl.setStickyBottomHeight(n),m=!0),this.destroyRowCtrls(a,!1);const v=[...l,...f];v.sort((S,E)=>E.rowNode.rowIndex-S.rowNode.rowIndex),r||v.reverse();for(const S of v)S.setRowTop(S.rowNode.stickyRowTop);const C=this.beans.pageBounds;let y=0;if(r){for(const S of t)S.rowIndex<C.getFirstRow()&&(y+=S.rowHeight);y>this.topContainerHeight&&(y=this.topContainerHeight),this.setOffsetTop(y)}else{for(const S of t)S.rowIndex>C.getLastRow()&&(y+=S.rowHeight);y>this.bottomContainerHeight&&(y=this.bottomContainerHeight),this.setOffsetBottom(y)}return m?(r?this.stickyTopRowCtrls=v:this.stickyBottomRowCtrls=v,!0):!1}ensureRowHeightsValid(){let e=!1;const t=n=>{const r=n.rowNode;if(r.rowHeightEstimated){const o=Fd(this.beans,r);r.setRowHeight(o.height),e=!0}};return this.stickyTopRowCtrls.forEach(t),this.stickyBottomRowCtrls.forEach(t),e}};function fWe(e){if(e.isExpandable()||e.footer){if(e.master&&e.detailNode)return e.detailNode.rowTop+e.detailNode.rowHeight;if(!e.sibling||Math.abs(e.sibling.rowIndex-e.rowIndex)===1){let n=e.childStore?.getStoreBounds();return e.footer&&(n=e.sibling.childStore?.getStoreBounds()),(n?.heightPx??0)+(n?.topPx??0)}return e.footer?e.rowTop+e.rowHeight:e.sibling.rowTop+e.sibling.rowHeight}return Number.MAX_SAFE_INTEGER}function pWe(e){if(e.isExpandable()||e.footer){if(e.footer&&e.rowIndex===0)return Number.MAX_SAFE_INTEGER;if(!e.sibling||Math.abs(e.sibling.rowIndex-e.rowIndex)===1){let r=e.footer?e.sibling:e;for(;r.isExpandable()&&r.expanded;)if(r.master&&r.detailNode)r=r.detailNode;else if(r.childrenAfterSort){if(r.childrenAfterSort.length===0)break;r=Tn(r.childrenAfterSort)}return r.rowTop+r.rowHeight}return e.footer?e.rowTop+e.rowHeight:e.sibling.rowTop+e.sibling.rowHeight}return Number.MAX_SAFE_INTEGER}var gWe=class extends Pe{constructor(){super(...arguments),this.beanName="stickyRowSvc"}createStickyRowFeature(e,t,n){const r=this.gos;if(uE(r)&&Wn(r)||cc(r))return e.createManagedBean(new hWe(t,n))}},mWe={moduleName:"GroupCellRenderer",version:bv,userComponents:{agGroupRowRenderer:jG,agGroupCellRenderer:jG},dynamicBeans:{groupCellRendererCtrl:pee},icons:{groupContracted:"tree-closed",groupExpanded:"tree-open"},css:[uWe],dependsOn:[m4]},bWe={moduleName:"ClientSideRowModelHierarchy",version:bv,rowModels:["clientSide"],beans:[sWe,oWe,eWe],dependsOn:[m4]},vWe={moduleName:"StickyRow",version:bv,beans:[gWe]},gee=class extends Pe{constructor(){super(...arguments),this.loadRowDataVersion=0}wireBeans(e){this.environment=e.environment}init(e,t){this.params=t,this.comp=e,t.pinned==null&&(this.setAutoHeightClasses(),this.setupRefreshStrategy(),this.createDetailGrid(),this.loadRowData(),this.addManagedEventListeners({fullWidthRowFocused:this.onFullWidthRowFocused.bind(this)}))}onFullWidthRowFocused(e){const t=this.params,n={rowIndex:t.node.rowIndex,rowPinned:t.node.rowPinned},r={rowIndex:e.rowIndex,rowPinned:e.rowPinned};oq(n,r)&&Fh(this.comp.getGui(),e.fromBelow)}setAutoHeightClasses(){const e=this.gos.get("detailRowAutoHeight"),t=e?"ag-details-row-auto-height":"ag-details-row-fixed-height",n=e?"ag-details-grid-auto-height":"ag-details-grid-fixed-height",r=this.comp;r.toggleCss(t,!0),r.toggleDetailGridCss(n,!0)}setupRefreshStrategy(){const e=this.params.refreshStrategy;if(e=="everything"||e=="nothing"||e=="rows"){this.refreshStrategy=e;return}e!=null&&ze(170,{providedStrategy:e}),this.refreshStrategy="rows"}createDetailGrid(){const{params:e,gos:t}=this;if(zn(e.detailGridOptions)){ze(171);return}const n=t.get("theme"),r=e.detailGridOptions.theme;r&&r!==n&&ze(267);const o={themeStyleContainer:this.environment.eStyleContainer,...e.detailGridOptions,theme:n};t.get("detailRowAutoHeight")&&(o.domLayout="autoHeight"),this.comp.setDetailGrid(o)}registerDetailWithMaster(e){const{params:t,beans:{selectionSvc:n,findSvc:r,expansionSvc:o}}=this,a=t.node.id,l=t.api,d={id:a,api:e},f=t.node;if(l.isDestroyed())return;l.addDetailGridInfo(a,d),f.detailGridInfo=d;const m=f.parent;r?.registerDetailGrid(f,e);function v(){m&&n?.refreshMasterNodeState(m)}function C({source:S}){if(S==="expandAll")return e.expandAll();if(S==="collapseAll")return e.collapseAll()}function y({node:S,source:E}){S!==m||E==="masterDetail"||e.isDestroyed()||n?.setDetailSelectionState(m,t.detailGridOptions,e)}e.addEventListener("firstDataRendered",()=>{if(e.isDestroyed()||l.isDestroyed())return;n?.setDetailSelectionState(m,t.detailGridOptions,e),e.addEventListener("selectionChanged",v),l.addEventListener("rowSelected",y),e.isModuleRegistered("CsrmSsrmSharedApiModule")&&(l.addEventListener("expandOrCollapseAll",C),o?.setDetailsExpansionState(e))}),this.addManagedListeners(m,{masterChanged:S=>{S.node.master||this.onDestroy(d)}}),this.addDestroyFunc(()=>this.onDestroy(d))}onDestroy(e){const{params:t}=this,n=t.node,r=t.api;n.detailGridInfo===e&&(r.isDestroyed()||r.removeDetailGridInfo(n.id),n.detailGridInfo=null)}loadRowData(){this.loadRowDataVersion++;const e=this.loadRowDataVersion,t=this.params;if(t.detailGridOptions?.rowModelType==="serverSide"){t.node.detailGridInfo?.api?.refreshServerSide({purge:!0});return}const n=t.getDetailRowData;if(!n){ze(172);return}const r=a=>{this.loadRowDataVersion===e&&this.comp.setRowData(a)},o={node:t.node,data:t.node.data,successCallback:r,context:ht(this.gos,{}).context};n(o)}refresh(){switch(this.refreshStrategy){case"nothing":return!0;case"everything":return!1}return this.loadRowData(),!0}},wWe=class{constructor(e){this.parentWrapper=e}wrap(e,t,n,r){return this.parentWrapper.wrap(e,t,n,r)}},CWe={tag:"div",cls:"ag-details-row"},yWe={tag:"div",cls:"ag-details-row",role:"gridcell",children:[{tag:"div",ref:"eDetailGrid",cls:"ag-details-grid",role:"presentation"}]},kWe=class extends nn{constructor(){super(...arguments),this.eDetailGrid=qe}wireBeans(e){this.context=e.context}init(e){this.params=e,this.selectAndSetTemplate();const t={toggleCss:(n,r)=>this.toggleCss(n,r),toggleDetailGridCss:(n,r)=>this.eDetailGrid.classList.toggle(n,r),setDetailGrid:n=>this.setDetailGrid(n),setRowData:n=>this.setRowData(n),getGui:()=>this.eDetailGrid};this.ctrl=this.createManagedBean(new gee),this.ctrl.init(t,e)}refresh(){return this.ctrl?.refresh()??!1}selectAndSetTemplate(){const e=this.params;if(e.pinned){this.setTemplate(CWe);return}const t=()=>{this.setTemplate(yWe)};if(zn(e.template))t();else if(typeof e.template=="string")this.setTemplate(e.template,[]);else if(typeof e.template=="function"){const n=e.template,r=n(e);this.setTemplate(r,[])}else ze(168),t();this.eDetailGrid==null&&ze(169)}setDetailGrid(e){if(!this.eDetailGrid)return;const t=this.context.getBean("frameworkCompWrapper"),n=new wWe(t),{frameworkOverrides:r}=this.beans,o=Zxe(this.eDetailGrid,e,{frameworkOverrides:r,providedBeanInstances:{frameworkCompWrapper:n},modules:_W(this.params.api.getGridId(),e.rowModelType??"clientSide")});this.detailApi=o,this.ctrl?.registerDetailWithMaster(o),this.addDestroyFunc(()=>{o.destroy()})}setRowData(e){this.detailApi?.setGridOption("rowData",e)}};function wD(e,t){const n=e.masterDetailSvc?.store;return n?t(n):void 0}function xWe(e,t,n){wD(e,r=>{r[t]=n})}function AWe(e,t){wD(e,n=>{delete n[t]})}function SWe(e,t){return wD(e,n=>n[t])}function _We(e,t){wD(e,n=>{let r=0;Object.values(n).forEach(o=>{o&&t(o,r++)})})}var EWe=".ag-details-row{width:100%}.ag-details-row-fixed-height{height:100%}.ag-details-grid{width:100%}.ag-details-grid-fixed-height{height:100%}",DWe=class extends Pe{constructor(){super(...arguments),this.beanName="masterDetailSvc",this.store={}}isEnabled(){return!!this.gos.get("masterDetail")}postConstruct(){const e=this.gos;Wn(e)&&(this.enabled=this.isEnabled()),cc(e)&&this.addEventListeners()}addEventListeners(){const e=r=>{this.setMaster(r.node,!1,!0)};let t;const n=()=>{if(t){for(const r of t)r();t=void 0}this.isEnabled()&&(t=this.addManagedListeners(this.beans.eventSvc,{rowNodeDataChanged:e}))};n(),this.gos.addPropertyEventListener("masterDetail",n)}refreshModel(e){if(e.changedProps){const t=this.isEnabled();if(this.enabled!==t){this.setMasters(null);return}}e.rowDataUpdated&&this.setMasters(e.changedRowNodes)}setMaster(e,t,n){const r=e.master,o=this.isEnabled();let a=o;const l=this.gos,d=l.get("isRowMaster"),f=l.get("treeData");if(o)if(t||n){if(d){const v=e.data;a=!!v&&!!d(v)}}else a=r;const m=this.beans;if(!f)if(a&&t){const v=m.rowGroupColsSvc?.columns.length??0;e.expanded=cWe(m,e,v,!1)}else!a&&r&&(e.expanded=!1);a!==r&&(e.master=a,e.dispatchRowEvent("masterChanged"))}setMasters(e){if(this.enabled=this.isEnabled(),e){for(const t of e.updates)this.setMaster(t,!1,!0);for(const t of e.adds)this.setMaster(t,!0,!1)}else{const t=Jd(this.beans)?.rootNode?._leafs;if(t)for(let n=0,r=t.length;n<r;++n)this.setMaster(t[n],!0,!1)}}getDetail(e){if(!e.master||!e.expanded)return null;let t=e.detailNode;return t||(t=new Bd(this.beans),t.detail=!0,t.selectable=!1,t.parent=e,Ye(e.id)&&(t.id="detail_"+e.id),t.data=e.data,t.level=e.level+1,e.detailNode=t,t)}setupDetailRowAutoHeight(e,t){const{gos:n,beans:r}=this;if(!n.get("detailRowAutoHeight"))return;const o=()=>{const l=t.clientHeight;if(l!=null&&l>0){const d=()=>{const{rowModel:f}=this.beans,{rowNode:m}=e;m.setRowHeight(l),(Wn(n)||cc(n))&&f.onRowHeightChanged()};window.setTimeout(d,0)}},a=al(r,t,o);e.addDestroyFunc(a),o()}destroy(){this.store={},super.destroy()}},MWe={moduleName:"SharedMasterDetail",version:bv,beans:[DWe],userComponents:{agDetailCellRenderer:kWe},dynamicBeans:{detailCellRendererCtrl:gee},apiFunctions:{addDetailGridInfo:xWe,removeDetailGridInfo:AWe,getDetailGridInfo:SWe,forEachDetailGridInfo:_We},dependsOn:[m4,mWe,vWe],css:[EWe]},mee={moduleName:"MasterDetail",version:bv,dependsOn:[MWe,bWe,CK]},TWe=["number","category","grouped-category","log","time"];TWe.reduce((e,t)=>({...e,[t]:{title:{_enabledFromTheme:!0}}}),{});function bee(e){return e.map((t,n,r)=>t.map((o,a)=>r.slice(0,n+1).reduce((l,d)=>l+d[a],0)))}function vee(e){const t=e.map((n,r)=>e.reduce((o,a)=>Math.max(o,a[r]),0));return e.map(n=>n.map((r,o)=>r/t[o]*19))}var wee=[[1,3,5],[2,6,4],[5,3,1]],RWe=bee(wee);vee(RWe);var PWe=wee,IWe=bee(PWe);vee(IWe);Cc.registerModules([mee]);const zG=M.forwardRef(({value:e,onClick:t,placeholder:n},r)=>A.jsxs("div",{onClick:t,ref:r,className:"flex items-center justify-between border rounded px-2 py-2 w-40 cursor-pointer bg-white",children:[A.jsx("span",{className:"text-sm",children:e||n}),A.jsx(Yn,{className:"w-4 h-4 text-gray-500"})]}));function NWe(){const[e,t]=M.useState([]),[n,r]=M.useState([]),[o,a]=M.useState(new Date),[l,d]=M.useState(new Date),[f,m]=M.useState(null),v=M.useRef(null),C=[{headerName:"DEMO DATE",field:"demo_date",sortable:!0,filter:!0,valueFormatter:E=>{if(!E.value)return"";const T=new Date(E.value),P=String(T.getDate()).padStart(2,"0"),N=String(T.getMonth()+1).padStart(2,"0"),j=T.getFullYear();return`${P}-${N}-${j}`}},{headerName:"TOTAL DEMOS",field:"total_demos",sortable:!0,filter:!0}],y=[{headerName:"NAME",field:"name"},{headerName:"MOBILE",field:"mobile"},{headerName:"EMPLOYEE",field:"employee_name"},{headerName:"STATUS",field:"status"},{headerName:"FOLLOWUP DATE/TIME",field:"followup_datetime",valueFormatter:E=>E.value?new Date(E.value).toLocaleString():""}];M.useEffect(()=>{(async()=>{try{const P=(await je.get("https://crm.softwaresetu.com/api/customers/daily-demos")).data.map((L,V)=>({...L,rowId:V}));t(P);const N=new Date().toISOString().split("T")[0],j=P.filter(L=>L.demo_date===N);r(j)}catch(T){console.error("Error fetching daily demos:",T)}})()},[]),M.useEffect(()=>{if(!o&&!l){const E=new Date().toISOString().split("T")[0],T=e.filter(P=>P.demo_date===E);r(T)}else{const E=e.filter(T=>{const P=new Date(T.demo_date),N=o?new Date(o.setHours(0,0,0,0)):null,j=l?new Date(l.setHours(23,59,59,999)):null;return N&&j?P>=N&&P<=j:N?P>=N:j?P<=j:!0});r(E)}},[o,l,e]);const S=M.useMemo(()=>({detailGridOptions:{columnDefs:y,defaultColDef:{flex:1,resizable:!0},pagination:!0,paginationPageSize:5},getDetailRowData:E=>{E.successCallback(E.data.demo_data||[])}}),[]);return A.jsxs("div",{className:"p-6 bg-gray-50 shadow-md rounded-lg",children:[A.jsx("h2",{className:"text-xl font-bold mb-4",children:"Daily Demo Status"}),A.jsxs("div",{className:"flex items-end gap-4 mb-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium",children:"From Date"}),A.jsx(il,{selected:o,onChange:E=>a(E),customInput:A.jsx(zG,{placeholder:"Select date"}),dateFormat:"dd-MM-yyyy",popperPlacement:"bottom-start"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium",children:"To Date"}),A.jsx(il,{selected:l,onChange:E=>d(E),customInput:A.jsx(zG,{placeholder:"Select date"}),dateFormat:"dd-MM-yyyy",popperPlacement:"bottom-start"})]}),A.jsx("button",{onClick:()=>{a(new Date),d(new Date)},className:"bg-gray-200 px-4 py-2 rounded hover:bg-gray-300",children:"Reset"})]}),A.jsx("div",{className:"ag-theme-alpine",style:{height:650,width:"100%"},children:A.jsx(Nn,{ref:v,rowData:n,columnDefs:C,masterDetail:!0,detailCellRendererParams:S,pagination:!0,paginationPageSize:100,onRowClicked:E=>{E.node.setExpanded(!E.node.expanded),m(E.data.rowId)},getRowStyle:E=>E.data.rowId===f?{backgroundColor:"#c4c4c4",borderLeft:"4px solid #22c55e",transition:"background-color 0.3s ease"}:null})})]})}function OWe(){const[e,t]=M.useState(""),[n,r]=M.useState([]),[o,a]=M.useState([]),[l,d]=M.useState(!0),f="https://crm.softwaresetu.com/api",[m,v]=M.useState(null),C=JSON.parse(localStorage.getItem("user"));return console.log(C,"user..."),M.useEffect(()=>{(async()=>{try{d(!0);let E=(await je.get(`${f}/customers/get-status-employee-current`)).data.data||[];if(E=E.map((T,P)=>({...T,rowId:P})),C.role==="employee"){const T=E.filter(P=>P.assigned_to===C.id);r(T)}else r(E);if(E.length>0){const T=["assigned_to","Pending","date"],P=["employee","date","total_today","total_pending","total_lead","Follow_Up"],N=Object.keys(E[0]).filter(L=>!T.includes(L)).map(L=>L==="date"?{headerName:"DATE",field:L,flex:1,valueFormatter:V=>V.value?new Date(V.value).toLocaleString():"-"}:L==="employee"?{headerName:"EMPLOYEE",field:L,width:900,minWidth:600,valueFormatter:V=>V.value?String(V.value).toUpperCase():""}:L==="total_lead"?{headerName:"TOTAL LEAD",field:L,valueFormatter:V=>V.value?String(V.value).toUpperCase():""}:L==="total_today"?{headerName:"WORKING TODAY",field:L,valueFormatter:V=>V.value?String(V.value).toUpperCase():""}:L==="total_pending"?{headerName:"TOTAL PENDING",field:L,valueFormatter:V=>V.value?String(V.value).toUpperCase():""}:{headerName:L.replace(/_/g," ").toUpperCase(),field:L,flex:1}),j=[...P.map(L=>N.find(V=>V.field===L)).filter(Boolean),...N.filter(L=>!P.includes(L.field))];a(j)}else a([])}catch(S){console.error("Error fetching customer status:",S)}finally{d(!1)}})()},[]),A.jsxs("div",{className:"p-6 bg-gray-50 shadow-md rounded-lg",children:[A.jsxs("div",{className:"flex justify-between p-4",children:[A.jsxs("h2",{className:"text-xl font-bold mb-4",children:["Daily Activity Report (",new Date().toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}),")"]}),A.jsx(Zi,{value:e,onChange:t})]}),l?A.jsx("p",{className:"text-gray-600",children:"Loading data..."}):n.length===0?A.jsx("p",{className:" font-medium",children:"No data available "}):A.jsx("div",{className:"ag-theme-alpine",style:{height:725},children:A.jsx(Nn,{rowData:n,columnDefs:o,pagination:!0,paginationPageSize:100,defaultColDef:{sortable:!0,filter:!0,resizable:!0,minWidth:180,flex:1},suppressHorizontalScroll:!1,quickFilterText:e,onRowClicked:y=>v(y.data.rowId),getRowStyle:y=>y.data.rowId===m?{backgroundColor:"#c4c4c4",borderLeft:"4px solid #22c55e",transition:"background-color 0.3s ease"}:null})})]})}function FWe(){const[e,t]=M.useState(""),[n,r]=M.useState([]),[o,a]=M.useState([]),[l,d]=M.useState(!0),f="https://crm.softwaresetu.com/api",[m,v]=M.useState(null),C=JSON.parse(localStorage.getItem("user"));return console.log(C,"user..."),M.useEffect(()=>{(async()=>{try{d(!0);let E=(await je.get(`${f}/customers/get-status-employee-current-last-pending`)).data.data||[];if(E=E.map((T,P)=>({...T,rowId:P})),C.role==="employee"){const T=E.filter(P=>P.assigned_to===C.id);r(T)}else r(E);if(E.length>0){const T=["rowId","assigned_to","Pending","date","Call_Back_Later","Deal","Pending","language_issue","Using_another_services","Not_reachable_","Not_interested_","Dodds","Call_Diconnected","Call_Back_Later","No_contact_no","Duplicate_Lead","Paid_Customer","Demo_Done","total_pending","total_lead"],P=["employee","date","total_today","total_pending","total_lead","Follow_Up"],N=Object.keys(E[0]).filter(L=>!T.includes(L)).map(L=>L==="date"?{headerName:"DATE",field:L,flex:1,valueFormatter:V=>V.value?new Date(V.value).toLocaleString():"-"}:L==="employee"?{headerName:"EMPLOYEE",field:L,width:300,minWidth:200,maxWidth:400,resizable:!0,valueFormatter:V=>{if(!V.value)return"";const U=String(V.value),$=U.split(" - ");if($.length>=3){const z=$[0],K=$[2];return`${z} (${K})`.toUpperCase()}return U.toUpperCase()},cellStyle:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},tooltipField:"employee"}:L==="total_lead"?{headerName:"TOTAL LEAD",field:L,valueFormatter:V=>V.value?String(V.value).toUpperCase():""}:L==="total_today"?{headerName:"WORKING TODAY",field:L,valueFormatter:V=>V.value?String(V.value).toUpperCase():""}:L==="total_pending"?{headerName:"TOTAL PENDING",field:L,valueFormatter:V=>V.value?String(V.value).toUpperCase():""}:{headerName:L.replace(/_/g," ").toUpperCase(),field:L,flex:1}),j=[...P.map(L=>N.find(V=>V.field===L)).filter(Boolean),...N.filter(L=>!P.includes(L.field))];a(j)}else a([])}catch(S){console.error("Error fetching customer status:",S)}finally{d(!1)}})()},[]),A.jsxs("div",{className:"p-6 bg-gray-50 shadow-md rounded-lg",children:[A.jsxs("div",{className:"flex justify-between p-4",children:[A.jsxs("h2",{className:"text-xl font-bold mb-4",children:["Daily Activity Report (",new Date().toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}),")"]}),A.jsx(Zi,{value:e,onChange:t})]}),l?A.jsx("p",{className:"text-gray-600",children:"Loading data..."}):n.length===0?A.jsx("p",{className:" font-medium",children:"No data available "}):A.jsx("div",{className:"ag-theme-alpine",style:{height:725},children:A.jsx(Nn,{rowData:n,columnDefs:o,pagination:!0,paginationPageSize:100,defaultColDef:{sortable:!0,filter:!0,resizable:!0,minWidth:180,flex:1},suppressHorizontalScroll:!1,quickFilterText:e,onRowClicked:y=>v(y.data.rowId),getRowStyle:y=>y.data.rowId===m?{backgroundColor:"#c4c4c4",borderLeft:"4px solid #22c55e",transition:"background-color 0.3s ease"}:null})})]})}Cc.registerModules([qh]);function LWe(){const[e,t]=M.useState(""),{user:n}=nE(),[r,o]=M.useState([]),[a,l]=M.useState([]),[d,f]=M.useState([]),[m,v]=M.useState(null),[C,y]=M.useState({}),[S,E]=M.useState(null),[T,P]=M.useState({}),[N,j]=M.useState([]),[L,V]=M.useState(!1),[U,$]=M.useState(null),[z,K]=M.useState(null),[te,ae]=M.useState({}),[X,Z]=M.useState(null),[se,Q]=M.useState("0"),[J,re]=M.useState(null),ee=yn(),le="https://crm.softwaresetu.com/api",ce=M.useRef(),he={defaultColDef:{flex:1,resizable:!0,sortable:!0,filter:!0},singleClickEdit:!0},[ne,fe]=M.useState({Demo:0,FollowUp:0,NotPickedCall:0,Deal:0,Interested:0});M.useEffect(()=>{je.get(`${le}/customers/fetch-customer-status`).then(_e=>{const Ue={Demo:0,FollowUp:0,Deal:0,Interested:0};_e.data.data.forEach(pt=>{pt.status==="Demo"&&Ue.Demo++,pt.status==="Follow Up"&&Ue.FollowUp++,pt.status==="Deal"&&Ue.Deal++,pt.status==="Interested"&&Ue.Interested++}),fe(Ue)}).catch(_e=>{console.error("Error fetching customer status:",_e)})},[]);const ve=M.useMemo(()=>[{headerName:"NAME",field:"name",sortable:!0,filter:!0},{headerName:"MOBILE",field:"mobile",sortable:!0,filter:!0},{headerName:"Comment",field:"comment",minWidth:700,autoHeight:!0,cellRenderer:_e=>A.jsxs("div",{className:"flex items-center justify-between gap-2",children:[A.jsx("span",{className:"truncate max-w-[600px]",children:_e.data.comment}),A.jsx("button",{className:"p-1 text-gray-600 rounded hover:bg-gray-300",onClick:()=>$(_e.data.customer_id),title:"View Comments",children:A.jsx(Xo,{size:18})})]})},{headerName:"STATUS",field:"status",editable:!0,cellEditor:"agSelectCellEditor",cellEditorParams:{values:d,popupPosition:"under"}},{headerName:"Status Change",field:"status",width:150,maxWidth:150,cellRenderer:_e=>A.jsxs("div",{className:"flex gap-8 items-center justify-center",children:[A.jsx("button",{className:"p-1 rounded hover:bg-gray-100 flex",onClick:()=>K({customer_id:_e.data.customer_id,currentStatus:_e.value,newStatus:_e.value,batch_id:_e.data.batch_id}),children:A.jsx(ko,{size:14,className:"text-gray-600"})}),A.jsx("span",{class:"border-l border-gray-400 h-6 inline-block"}),A.jsx("button",{className:"p-1 rounded hover:bg-gray-100 flex",onClick:()=>{console.log("Customer ID:",_e.data.customer_id),Z({customer_id:_e.data.customer_id})},children:A.jsx(Qd,{size:14,className:"text-gray-600"})})]})},{headerName:"CREATED AT",field:"created_at",sortable:!0,filter:!0,valueFormatter:_e=>_e.value?new Date(_e.value).toLocaleString("en-IN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0}):""},{headerName:"UPDATED AT",field:"updated_at",sortable:!0,filter:!0,valueFormatter:_e=>_e.value?new Date(_e.value).toLocaleString("en-IN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0}):""}],[d]);M.useEffect(()=>{(async()=>{try{const Ue=await je.get(`${le}/customers/get-lead-data`);o(Ue.data.filter(pt=>pt.status==="Deal")),l(Ue.data.filter(pt=>pt.status==="Deal"))}catch(Ue){console.error("Error fetching lead history:",Ue),Ge.error("Failed to load leads")}})()},[L]);const me=async()=>{try{const _e=await je.get(`${le}/status`),Ue=_e.data.map(pt=>pt.name);f(Ue),j(_e.data)}catch(_e){console.error("Error fetching statuses:",_e),Ge.error("Failed to load statuses")}};M.useEffect(()=>{me()},[L]);const Oe=async _e=>{const Ue=_e.newValue?.trim(),Ee=N.find(Te=>Te.name.trim().toLowerCase()===Ue?.toLowerCase())?.id??null;if(_e.colDef.field==="status"&&Ee){const{id:Te,customer_id:Ze}=_e.data,De=JSON.parse(localStorage.getItem("user"));if(!De?.id||!De?.name)return;if(Ue==="Demo"||Ue==="Follow Up"){v({customer_id:Ze,status:Ue});return}if(Ue==="Using Another Services"||Ue==="Language Issue"){E({customer_id:Ze,status:Ue});return}try{await je.put(`${le}/customers/status/${Ze}`,{customer_id:Ze,status:Ue,updated_by_id:De.id,updated_by_name:De.name,statusid:Ee}),V(!L),Ge.success("Status updated successfully")}catch(et){console.error("Error updating status:",et),Ge.error("Failed to update status")}}};return M.forwardRef(({value:_e,onClick:Ue},pt)=>A.jsxs("div",{onClick:Ue,ref:pt,className:"flex justify-between items-center border border-gray-300 rounded px-3 py-2 w-90 cursor-pointer bg-white",children:[A.jsx("span",{className:_e?"text-black":"text-gray-400",children:_e||"Select date & time"}),A.jsx(Yn,{className:"w-5 h-5 text-gray-500 mr-2"})]})),M.useEffect(()=>{if(se!="0"){let _e=a.filter(Ue=>Ue.batch_id==se);o(_e)}else o(a)},[se]),A.jsx(Gh,{role:"admin",children:A.jsxs("div",{className:"bg-gray-50 rounded-md shadow-md p-6",children:[A.jsxs("div",{className:"flex flex-wrap gap-6 justify-center",children:[A.jsxs("div",{className:"bg-white rounded-2xl shadow-lg w-48 h-20 p-4 flex items-center justify-center text-center hover:shadow-2xl transition-shadow duration-300 cursor-pointer",onClick:()=>{ee("/admin-demo")},children:[A.jsx(Yi,{className:"w-8 h-8 text-blue-500 mr-3"}),A.jsxs("div",{className:"flex gap-4 items-start",children:[A.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Demo"}),A.jsx("p",{className:"text-xl font-bold text-gray-800",children:ne.Demo})]})]}),A.jsxs("div",{className:"bg-white rounded-2xl shadow-lg w-48 h-20 p-4 flex items-center justify-center text-center hover:shadow-2xl transition-shadow duration-300 cursor-pointer",onClick:()=>{ee("/admin-follow")},children:[A.jsx(Yn,{className:"w-8 h-8 text-green-500 mr-3"}),A.jsxs("div",{className:"flex gap-4 items-start",children:[A.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Followup"}),A.jsx("p",{className:"text-xl font-bold text-gray-800",children:ne.FollowUp})]})]}),A.jsxs("div",{className:"bg-white rounded-2xl shadow-lg w-48 h-20 p-4 flex items-center justify-center text-center hover:shadow-2xl transition-shadow duration-300 cursor-pointer",onClick:()=>{ee("/admin-interested")},children:[A.jsx(Bn,{className:"w-8 h-8 text-pink-500 mr-3"}),A.jsxs("div",{className:"flex gap-4 items-start",children:[A.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Interested"}),A.jsx("p",{className:"text-xl font-bold text-gray-800",children:ne.Interested})]})]})]}),A.jsxs("div",{className:"flex justify-between p-4",children:[A.jsx("h2",{className:"text-xl font-bold mb-4",children:"Deal"}),A.jsxs("div",{className:"flex gap-4",children:[A.jsx(ns,{selectedSource:se,setSelectedSource:Q}),A.jsx(Zi,{value:e,onChange:t})]})]}),A.jsxs("div",{className:"mt-4",children:[A.jsx("div",{className:"ag-theme-alpine",style:{height:596},children:A.jsx(Nn,{ref:ce,rowData:r,columnDefs:ve,pagination:!0,paginationPageSize:100,onCellValueChanged:Oe,gridOptions:he,quickFilterText:e,onRowClicked:_e=>re(_e.data.id),getRowStyle:_e=>_e.data.id===J?{backgroundColor:"#c4c4c4",borderLeft:"4px solid #22c55e",transition:"background-color 0.3s ease"}:null})}),A.jsx(ts,{statusModalData:z,setStatusModalData:K,statusData:d,statusFullData:N,commentMap:te,setCommentMap:ae,dateTimeMap:C,setDateTimeMap:y,setIsChange:V}),A.jsx(rs,{noteModalData:X,setNoteModalData:Z}),U&&A.jsx(is,{customerId:U,onClose:()=>$(null)})]})]})})}function BWe(){const[e,t]=M.useState({}),[n,r]=M.useState({});console.log();const[o,a]=M.useState({Demo:0,FollowUp:0,Deal:0,Interested:0}),[l,d]=M.useState([]),[f,m]=M.useState([]),[v,C]=M.useState(null),[y,S]=M.useState(null),[E,T]=M.useState(null),[P,N]=M.useState({}),[j,L]=M.useState({}),[V,U]=M.useState(!1),[$,z]=M.useState(""),[K,te]=M.useState("0"),ae="https://crm.softwaresetu.com/api",X=yn();return M.useEffect(()=>{je.get(`${ae}/customers/fetch-customer-status`).then(Z=>{const se={Demo:0,FollowUp:0,Deal:0,Interested:0};Z.data.data.forEach(Q=>{Q.status==="Demo"&&se.Demo++,Q.status==="Follow Up"&&se.FollowUp++,Q.status==="Deal"&&se.Deal++,Q.status==="Interested"&&se.Interested++}),a(se)}).catch(()=>Ge.error("Failed to load stats"))},[]),M.useEffect(()=>{(async()=>{try{const Q=(await je.get(`${ae}/customers/get-lead-data`)).data.filter(re=>re.status?.toLowerCase()==="demo"),J={};Q.forEach(re=>{const ee=re.followup_datetime?new Date(re.followup_datetime).toLocaleDateString("en-IN",{day:"2-digit",month:"long",year:"numeric"}):"No Date";J[ee]||(J[ee]=[]),J[ee].push(re)}),t(J),r(J)}catch(se){console.error("Error fetching lead history:",se),Ge.error("Failed to load customer data")}})()},[V]),M.useEffect(()=>{(async()=>{try{const se=await je.get(`${ae}/status`),Q=se.data.map(J=>J.name);d(Q),m(se.data)}catch{Ge.error("Failed to load statuses")}})()},[]),M.useEffect(()=>{if(K!=="0"){const Z={};Object.keys(n).forEach(se=>{const Q=n[se].filter(J=>J.batch_id==K);Q.length>0&&(Z[se]=Q)}),t(Z)}else t(n)},[K,n]),A.jsxs("div",{className:"p-6 bg-gray-50",children:[A.jsxs("div",{className:"flex flex-wrap gap-6 justify-center mb-6",children:[A.jsxs("div",{className:"bg-white rounded-2xl shadow-lg w-48 h-20 p-4 flex items-center justify-center text-center hover:shadow-2xl transition-shadow duration-300 cursor-pointer",onClick:()=>X("/admin-demo"),children:[A.jsx(Yi,{className:"w-8 h-8 text-blue-500 mr-3"}),A.jsxs("div",{className:"flex gap-4 items-start",children:[A.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Demo"}),A.jsx("p",{className:"text-xl font-bold text-gray-800",children:o.Demo})]})]}),A.jsxs("div",{className:"bg-white rounded-2xl shadow-lg w-48 h-20 p-4 flex items-center justify-center text-center hover:shadow-2xl transition-shadow duration-300 cursor-pointer",onClick:()=>X("/admin-follow"),children:[A.jsx(Yn,{className:"w-8 h-8 text-green-500 mr-3"}),A.jsxs("div",{className:"flex gap-4 items-start",children:[A.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Followup"}),A.jsx("p",{className:"text-xl font-bold text-gray-800",children:o.FollowUp})]})]}),A.jsxs("div",{className:"bg-white rounded-2xl shadow-lg w-48 h-20 p-4 flex items-center justify-center text-center hover:shadow-2xl transition-shadow duration-300 cursor-pointer",onClick:()=>X("/admin-interested"),children:[A.jsx(Bn,{className:"w-8 h-8 text-pink-500 mr-3"}),A.jsxs("div",{className:"flex gap-4 items-start",children:[A.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Interested"}),A.jsx("p",{className:"text-xl font-bold text-gray-800",children:o.Interested})]})]})]}),A.jsxs("div",{className:"mb-6 gap-4 flex justify-end",children:[A.jsx(ns,{selectedSource:K,setSelectedSource:te}),A.jsx("input",{type:"text",placeholder:"Search leads...",value:$,onChange:Z=>z(Z.target.value),className:"border rounded-lg px-3 py-2 w-64 shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})]}),Object.keys(e).sort((Z,se)=>Z==="No Date"?1:se==="No Date"?-1:new Date(se)-new Date(Z)).map(Z=>{const se=e[Z].filter(Q=>Object.values(Q).some(J=>String(J||"").toLowerCase().includes($.toLowerCase()))).sort((Q,J)=>{const re=Q.followup_datetime?new Date(Q.followup_datetime):new Date(0),ee=J.followup_datetime?new Date(J.followup_datetime):new Date(0);return re-ee});return se.length===0?null:A.jsxs("div",{className:"mb-8 bg-gray-200 shadow rounded",children:[A.jsxs("div",{className:"bg-blue-500 text-white text-center py-2 font-semibold",children:[Z,"  DEMO"]}),A.jsxs("table",{className:"w-full text-sm border-collapse table-fixed",children:[A.jsx("thead",{className:"bg-gray-50",children:A.jsxs("tr",{className:"border-b",children:[A.jsx("th",{className:"border px-3 py-2 text-left w-20",children:"Name"}),A.jsx("th",{className:"border px-3 py-2 text-left w-15",children:"Mobile"}),A.jsx("th",{className:"border px-3 py-2 text-left w-12",children:"Time"}),A.jsx("th",{className:"border px-3 py-2 text-left w-80",children:"Comment / Note"}),A.jsx("th",{className:"border px-3 py-2 text-left w-15",children:"Updated By"}),A.jsx("th",{className:"border px-3 py-2 text-left w-15",children:"Assigned To"}),A.jsx("th",{className:"border px-3 py-2 text-left w-15",children:"Status"})]})}),A.jsx("tbody",{children:se.map((Q,J)=>A.jsxs("tr",{className:"border-b bg-white",children:[A.jsx("td",{className:"border px-3 py-2 w-40 break-words whitespace-normal",children:Q.name}),A.jsx("td",{className:"border px-3 py-2 w-32 break-words whitespace-normal",children:Q.mobile}),A.jsx("td",{className:"border px-3 py-2 w-28",children:Q.followup_datetime?new Date(Q.followup_datetime).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit",hour12:!0}):""}),A.jsx("td",{className:"border px-3 py-2 w-64 break-words whitespace-normal",children:A.jsxs("div",{className:"flex justify-between items-center gap-3",children:[A.jsx("span",{className:"break-words whitespace-normal",children:Q.comment}),A.jsxs("div",{className:"flex gap-2 shrink-0",children:[A.jsx("button",{className:"hover:bg-gray-200  rounded p-2",onClick:()=>S({customer_id:Q.customer_id}),title:"Add Note",children:A.jsx(gN,{className:"w-5 h-5 text-gray-600"})}),A.jsx("button",{className:"hover:bg-gray-200  rounded p-2",onClick:()=>T(Q.customer_id),title:"View History",children:A.jsx(Xo,{className:"w-5 h-5 text-gray-600"})})]})]})}),A.jsx("td",{className:"border px-3 py-2 w-40 break-words whitespace-normal",children:Q.updated_by||"Unassigned"}),A.jsx("td",{className:"border px-3 py-2 w-40 break-words whitespace-normal",children:Q.employee_name||"Unassigned"}),A.jsx("td",{className:"border px-3 py-2 w-36 break-words whitespace-normal",children:A.jsxs("div",{className:"flex justify-between items-center",children:[A.jsx("span",{children:Q.status}),A.jsx("button",{className:"hover:bg-gray-200  rounded p-2",onClick:()=>{C({customer_id:Q.customer_id,currentStatus:Q.value,newStatus:Q.value,batch_id:Q.batch_id})},title:"Change Status",children:A.jsx(ko,{className:"w-5 h-5 text-gray-600"})})]})})]},J))})]})]},Z)}),A.jsx(ts,{statusModalData:v,setStatusModalData:C,statusData:l,statusFullData:f,commentMap:P,setCommentMap:N,dateTimeMap:j,setDateTimeMap:L,setIsChange:U}),A.jsx(rs,{noteModalData:y,setNoteModalData:S}),E&&A.jsx(is,{customerId:E,onClose:()=>T(null)})]})}function jWe(){const[e,t]=M.useState({}),[n,r]=M.useState({}),[o,a]=M.useState({Demo:0,FollowUp:0,Deal:0,Interested:0}),[l,d]=M.useState([]),[f,m]=M.useState([]),[v,C]=M.useState(null),[y,S]=M.useState(null),[E,T]=M.useState(null),[P,N]=M.useState({}),[j,L]=M.useState({}),[V,U]=M.useState(!1),[$,z]=M.useState(""),[K,te]=M.useState("0"),ae="https://crm.softwaresetu.com/api",X=yn();return M.useEffect(()=>{je.get(`${ae}/customers/fetch-customer-status`).then(Z=>{const se={Demo:0,FollowUp:0,Deal:0,Interested:0};Z.data.data.forEach(Q=>{Q.status==="Demo"&&se.Demo++,Q.status==="Follow Up"&&se.FollowUp++,Q.status==="Deal"&&se.Deal++,Q.status==="Interested"&&se.Interested++}),a(se)}).catch(()=>Ge.error("Failed to load stats"))},[]),M.useEffect(()=>{(async()=>{try{const Q=(await je.get(`${ae}/customers/get-lead-data`)).data.filter(re=>re.status?.toLowerCase()==="demo done"),J={};Q.forEach(re=>{const ee=re.updated_at?new Date(re.updated_at).toLocaleDateString("en-IN",{day:"2-digit",month:"long",year:"numeric"}):"No Date";J[ee]||(J[ee]=[]),J[ee].push(re)}),t(J),r(J)}catch(se){console.error("Error fetching demo data:",se),Ge.error("Failed to load customer data")}})()},[V]),M.useEffect(()=>{je.get(`${ae}/status`).then(Z=>{const se=Z.data.map(Q=>Q.name);d(se),m(Z.data)}).catch(()=>Ge.error("Failed to load statuses"))},[]),M.useEffect(()=>{if(K!=="0"){const Z={};Object.keys(n).forEach(se=>{const Q=n[se].filter(J=>J.batch_id==K);Q.length>0&&(Z[se]=Q)}),t(Z)}else t(n)},[K,n]),A.jsxs("div",{className:"p-6 bg-gray-50",children:[A.jsxs("div",{className:"flex flex-wrap gap-6 justify-center mb-6",children:[A.jsxs("div",{className:"bg-white rounded-2xl shadow-lg w-48 h-20 p-4 flex items-center justify-center hover:shadow-2xl cursor-pointer",onClick:()=>X("/admin-demo"),children:[A.jsx(Yi,{className:"w-8 h-8 text-blue-500 mr-3"}),A.jsxs("div",{children:[A.jsx("p",{className:"text-gray-400 text-sm",children:"Demo"}),A.jsx("p",{className:"text-xl font-bold",children:o.Demo})]})]}),A.jsxs("div",{className:"bg-white rounded-2xl shadow-lg w-48 h-20 p-4 flex items-center justify-center hover:shadow-2xl cursor-pointer",onClick:()=>X("/admin-follow"),children:[A.jsx(Yn,{className:"w-8 h-8 text-green-500 mr-3"}),A.jsxs("div",{children:[A.jsx("p",{className:"text-gray-400 text-sm",children:"Followup"}),A.jsx("p",{className:"text-xl font-bold",children:o.FollowUp})]})]}),A.jsxs("div",{className:"bg-white rounded-2xl shadow-lg w-48 h-20 p-4 flex items-center justify-center hover:shadow-2xl cursor-pointer",onClick:()=>X("/admin-interested"),children:[A.jsx(Bn,{className:"w-8 h-8 text-pink-500 mr-3"}),A.jsxs("div",{children:[A.jsx("p",{className:"text-gray-400 text-sm",children:"Interested"}),A.jsx("p",{className:"text-xl font-bold",children:o.Interested})]})]})]}),A.jsxs("div",{className:"mb-6 flex justify-end gap-4",children:[A.jsx(ns,{selectedSource:K,setSelectedSource:te}),A.jsx("input",{type:"text",placeholder:"Search leads...",value:$,onChange:Z=>z(Z.target.value),className:"border rounded-lg px-3 py-2 w-64 shadow-sm focus:ring-2 focus:ring-blue-400"})]}),Object.keys(e).sort((Z,se)=>Z==="No Date"?1:se==="No Date"?-1:new Date(se)-new Date(Z)).map(Z=>{const se=e[Z].filter(Q=>Object.values(Q).some(J=>String(J||"").toLowerCase().includes($.toLowerCase()))).sort((Q,J)=>{const re=Q.updated_at?new Date(Q.updated_at):0,ee=J.updated_at?new Date(J.updated_at):0;return re-ee});return se.length===0?null:A.jsxs("div",{className:"mb-8 bg-gray-200 shadow rounded",children:[A.jsxs("div",{className:"bg-blue-500 text-white text-center py-2 font-semibold",children:[Z,"  DEMO DONE"]}),A.jsxs("table",{className:"w-full text-sm border-collapse table-fixed",children:[A.jsx("thead",{className:"bg-gray-50",children:A.jsxs("tr",{className:"border-b",children:[A.jsx("th",{className:"border px-3 py-2",children:"Name"}),A.jsx("th",{className:"border px-3 py-2",children:"Mobile"}),A.jsx("th",{className:"border px-3 py-2",children:"Time"}),A.jsx("th",{className:"border px-3 py-2",children:"Comment / Note"}),A.jsx("th",{className:"border px-3 py-2",children:"Updated By"}),A.jsx("th",{className:"border px-3 py-2",children:"Assigned To"}),A.jsx("th",{className:"border px-3 py-2",children:"Status"})]})}),A.jsx("tbody",{children:se.map((Q,J)=>A.jsxs("tr",{className:"border-b bg-white",children:[A.jsx("td",{className:"border px-3 py-2",children:Q.name}),A.jsx("td",{className:"border px-3 py-2",children:Q.mobile}),A.jsx("td",{className:"border px-3 py-2",children:Q.updated_at?new Date(Q.updated_at).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit",hour12:!0}):""}),A.jsx("td",{className:"border px-3 py-2",children:A.jsxs("div",{className:"flex justify-between items-center",children:[A.jsx("span",{children:Q.comment}),A.jsxs("div",{className:"flex gap-2",children:[A.jsx("button",{className:"hover:bg-gray-200 p-2 rounded",onClick:()=>S({customer_id:Q.customer_id}),children:A.jsx(gN,{className:"w-5 h-5 text-gray-600"})}),A.jsx("button",{className:"hover:bg-gray-200 p-2 rounded",onClick:()=>T(Q.customer_id),children:A.jsx(Xo,{className:"w-5 h-5 text-gray-600"})})]})]})}),A.jsx("td",{className:"border px-3 py-2",children:Q.updated_by||"Unassigned"}),A.jsx("td",{className:"border px-3 py-2",children:Q.employee_name||"Unassigned"}),A.jsx("td",{className:"border px-3 py-2",children:A.jsxs("div",{className:"flex justify-between",children:[A.jsx("span",{children:Q.status}),A.jsx("button",{className:"hover:bg-gray-200 p-2 rounded",onClick:()=>C({customer_id:Q.customer_id,currentStatus:Q.value,newStatus:Q.value,batch_id:Q.batch_id}),children:A.jsx(ko,{className:"w-5 h-5 text-gray-600"})})]})})]},J))})]})]},Z)}),A.jsx(ts,{statusModalData:v,setStatusModalData:C,statusData:l,statusFullData:f,commentMap:P,setCommentMap:N,dateTimeMap:j,setDateTimeMap:L,setIsChange:U}),A.jsx(rs,{noteModalData:y,setNoteModalData:S}),E&&A.jsx(is,{customerId:E,onClose:()=>T(null)})]})}function zWe(){const[e,t]=M.useState({}),[n,r]=M.useState({}),[o,a]=M.useState({Demo:0,FollowUp:0,Deal:0,Interested:0}),[l,d]=M.useState([]),[f,m]=M.useState([]),[v,C]=M.useState(null),[y,S]=M.useState(null),[E,T]=M.useState(null),[P,N]=M.useState({}),[j,L]=M.useState({}),[V,U]=M.useState(!1),[$,z]=M.useState(""),[K,te]=M.useState("0"),ae="https://crm.softwaresetu.com/api",X=yn();return M.useEffect(()=>{je.get(`${ae}/customers/fetch-customer-status`).then(Z=>{const se={Demo:0,FollowUp:0,Deal:0,Interested:0};Z.data.data.forEach(Q=>{Q.status==="Demo"&&se.Demo++,Q.status==="Follow Up"&&se.FollowUp++,Q.status==="Deal"&&se.Deal++,Q.status==="Interested"&&se.Interested++}),a(se)}).catch(()=>Ge.error("Failed to load stats"))},[]),M.useEffect(()=>{(async()=>{try{const Q=(await je.get(`${ae}/customers/get-lead-data`)).data.filter(le=>le.status?.toLowerCase()==="follow up"||le.status?.toLowerCase()==="demo"),J={};Q.forEach(le=>{let ce=le.mobile;ce.length===12&&ce.startsWith("91")&&(ce=ce.substring(2)),(!J[ce]||new Date(le.updated_at)>new Date(J[ce].updated_at))&&(J[ce]=le)});const re=Object.values(J),ee={};re.forEach(le=>{const ce=le.followup_datetime?new Date(le.followup_datetime).toLocaleDateString("en-IN",{day:"2-digit",month:"long",year:"numeric"}):"No Date";ee[ce]||(ee[ce]=[]),ee[ce].push(le)}),t(ee),r(ee)}catch(se){console.error("Error fetching lead data:",se),Ge.error("Failed to load customer data")}})()},[V]),M.useEffect(()=>{(async()=>{try{const se=await je.get(`${ae}/status`),Q=se.data.map(J=>J.name);d(Q),m(se.data)}catch{Ge.error("Failed to load statuses")}})()},[]),M.useEffect(()=>{if(K!=="0"){const Z={};Object.keys(n).forEach(se=>{const Q=n[se].filter(J=>J.batch_id==K);Q.length>0&&(Z[se]=Q)}),t(Z)}else t(n)},[K,n]),A.jsxs("div",{className:"p-6 bg-gray-50",children:[A.jsxs("div",{className:"flex flex-wrap gap-6 justify-center mb-6",children:[A.jsxs("div",{className:"bg-white rounded-2xl shadow-lg w-48 h-20 p-4 flex items-center justify-center text-center hover:shadow-2xl transition-shadow duration-300 cursor-pointer",onClick:()=>X("/admin-demo"),children:[A.jsx(Yi,{className:"w-8 h-8 text-blue-500 mr-3"}),A.jsxs("div",{className:"flex gap-4 items-start",children:[A.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Demo"}),A.jsx("p",{className:"text-xl font-bold text-gray-800",children:o.Demo})]})]}),A.jsxs("div",{className:"bg-white rounded-2xl shadow-lg w-48 h-20 p-4 flex items-center justify-center text-center hover:shadow-2xl transition-shadow duration-300 cursor-pointer",onClick:()=>X("/admin-follow"),children:[A.jsx(Yn,{className:"w-8 h-8 text-green-500 mr-3"}),A.jsxs("div",{className:"flex gap-4 items-start",children:[A.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Followup"}),A.jsx("p",{className:"text-xl font-bold text-gray-800",children:o.FollowUp})]})]}),A.jsxs("div",{className:"bg-white rounded-2xl shadow-lg w-48 h-20 p-4 flex items-center justify-center text-center hover:shadow-2xl transition-shadow duration-300 cursor-pointer",onClick:()=>X("/admin-interested"),children:[A.jsx(Bn,{className:"w-8 h-8 text-pink-500 mr-3"}),A.jsxs("div",{className:"flex gap-4 items-start",children:[A.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Interested"}),A.jsx("p",{className:"text-xl font-bold text-gray-800",children:o.Interested})]})]})]}),A.jsxs("div",{className:"mb-6 gap-4 flex justify-end",children:[A.jsx(ns,{selectedSource:K,setSelectedSource:te}),A.jsx("input",{type:"text",placeholder:"Search leads...",value:$,onChange:Z=>z(Z.target.value),className:"border rounded-lg px-3 py-2 w-64 shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})]}),Object.keys(e).sort((Z,se)=>Z==="No Date"?1:se==="No Date"?-1:new Date(se)-new Date(Z)).map(Z=>{const se=e[Z].filter(Q=>Object.values(Q).some(J=>String(J||"").toLowerCase().includes($.toLowerCase()))).sort((Q,J)=>{const re=Q.followup_datetime?new Date(Q.followup_datetime):new Date(0),ee=J.followup_datetime?new Date(J.followup_datetime):new Date(0);return re-ee});return se.length===0?null:A.jsxs("div",{className:"mb-8 bg-gray-200 shadow rounded",children:[A.jsxs("div",{className:"bg-blue-500 text-white text-center py-2 font-semibold",children:[Z,"  FOLLOW UP / DEMO"]}),A.jsxs("table",{className:"w-full text-sm border-collapse table-fixed",children:[A.jsx("thead",{className:"bg-gray-50",children:A.jsxs("tr",{className:"border-b",children:[A.jsx("th",{className:"border px-3 py-2 text-left w-20",children:"Name"}),A.jsx("th",{className:"border px-3 py-2 text-left w-15",children:"Mobile"}),A.jsx("th",{className:"border px-3 py-2 text-left w-12",children:"Time"}),A.jsx("th",{className:"border px-3 py-2 text-left w-80",children:"Comment / Note"}),A.jsx("th",{className:"border px-3 py-2 text-left w-15",children:"Updated By"}),A.jsx("th",{className:"border px-3 py-2 text-left w-15",children:"Assigned To"}),A.jsx("th",{className:"border px-3 py-2 text-left w-15",children:"Status"})]})}),A.jsx("tbody",{children:se.map((Q,J)=>A.jsxs("tr",{className:"border-b bg-white",children:[A.jsxs("td",{className:"border px-3 py-2 w-32 ",children:[Q.name,Q.status?.toLowerCase()==="demo"&&A.jsx("span",{className:"bg-red-500 text-white text-[10px] px-2 py-1 rounded ml-2",children:"DEMO"})]}),A.jsx("td",{className:"border px-3 py-2 w-32",children:Q.mobile}),A.jsx("td",{className:"border px-3 py-2 w-28",children:Q.followup_datetime?new Date(Q.followup_datetime).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit",hour12:!0}):""}),A.jsx("td",{className:"border px-3 py-2 w-64 break-words whitespace-normal",children:A.jsxs("div",{className:"flex justify-between items-center gap-3",children:[A.jsx("span",{children:Q.comment}),A.jsx("div",{className:"flex gap-2",children:A.jsx("button",{className:"hover:bg-gray-200 rounded p-2",onClick:()=>T(Q.customer_id),title:"View History",children:A.jsx(Xo,{className:"w-5 h-5 text-gray-600"})})})]})}),A.jsx("td",{className:"border px-3 py-2 w-40",children:Q.updated_by||"Unassigned"}),A.jsx("td",{className:"border px-3 py-2 w-40",children:Q.employee_name||"Unassigned"}),A.jsx("td",{className:"border px-3 py-2 w-36",children:A.jsxs("div",{className:"flex justify-between items-center",children:[A.jsx("span",{children:Q.status}),A.jsx("button",{className:"hover:bg-gray-200 rounded p-2",onClick:()=>C({customer_id:Q.customer_id,currentStatus:Q.value,newStatus:Q.value,batch_id:Q.batch_id}),title:"Change Status",children:A.jsx(ko,{className:"w-5 h-5 text-gray-600"})})]})})]},J))})]})]},Z)}),A.jsx(ts,{statusModalData:v,setStatusModalData:C,statusData:l,statusFullData:f,commentMap:P,setCommentMap:N,dateTimeMap:j,setDateTimeMap:L,setIsChange:U}),A.jsx(rs,{noteModalData:y,setNoteModalData:S}),E&&A.jsx(is,{customerId:E,onClose:()=>T(null)})]})}function HWe(){const[e,t]=M.useState([]),[n,r]=M.useState([]),[o,a]=M.useState([]),[l,d]=M.useState([]),[f,m]=M.useState(null),[v,C]=M.useState({}),[y,S]=M.useState({}),[E,T]=M.useState(!1),[P,N]=M.useState(""),[j,L]=M.useState(null),[V,U]=M.useState(null),[$,z]=M.useState(null),[K,te]=M.useState("0"),ae=yn(),[X,Z]=M.useState({Demo:0,FollowUp:0,NotPickedCall:0,Deal:0,Interested:0});M.useEffect(()=>{je.get(`${Q}/customers/fetch-customer-status`).then(ce=>{const he={Demo:0,FollowUp:0,Deal:0,Interested:0};ce.data.data.forEach(ne=>{ne.status==="Demo"&&he.Demo++,ne.status==="Follow Up"&&he.FollowUp++,ne.status==="Deal"&&he.Deal++,ne.status==="Interested"&&he.Interested++}),Z(he)}).catch(ce=>{console.error("Error fetching customer status:",ce)})},[]);const se=M.useRef(),Q="https://crm.softwaresetu.com/api",J=async()=>{try{const he=(await je.get(`${Q}/customers/get-lead-data`)).data.filter(ne=>ne.status_id==16);console.log(he,"filteredData.."),t(he),r(he)}catch(ce){console.error("Error fetching lead history:",ce),Ge.error("Failed to load customer data")}},re=async()=>{try{const ce=await je.get(`${Q}/status`),he=ce.data.map(ne=>ne.name);a(he),d(ce.data)}catch(ce){console.error("Error fetching statuses:",ce),Ge.error("Failed to load statuses")}};M.useEffect(()=>{J(),re()},[E]);const ee=M.useMemo(()=>[{headerName:"Name",field:"name"},{headerName:"Mobile",field:"mobile"},{headerName:"Comment",field:"comment",minWidth:700,autoHeight:!0,cellRenderer:ce=>A.jsxs("div",{className:"flex items-center justify-between gap-2",children:[A.jsx("span",{className:"truncate max-w-[600px]",children:ce.data.comment}),A.jsx("button",{className:"p-1 text-gray-600 rounded hover:bg-gray-300",onClick:()=>U(ce.data.customer_id),title:"View Comments",children:A.jsx(Xo,{size:18})})]})},{headerName:"Status",field:"status"},{headerName:"Updated By",field:"updated_by"},{headerName:"Status Change",field:"status",width:150,maxWidth:150,cellRenderer:ce=>A.jsxs("div",{className:"flex gap-8 items-center justify-center",children:[A.jsx("button",{className:"p-1 rounded hover:bg-gray-100 flex",onClick:()=>m({customer_id:ce.data.customer_id,currentStatus:ce.value,newStatus:ce.value,batch_id:ce.data.batch_id}),children:A.jsx(ko,{size:14,className:"text-gray-600"})}),A.jsx("span",{class:"border-l border-gray-400 h-6 inline-block"}),A.jsx("button",{className:"p-1 rounded hover:bg-gray-100 flex",onClick:()=>{console.log("Customer ID:",ce.data.customer_id),L({customer_id:ce.data.customer_id})},children:A.jsx(Qd,{size:14,className:"text-gray-600"})})]})},{headerName:"Created At",field:"created_at",sortable:!0,filter:!0,valueFormatter:ce=>ce.value?new Date(ce.value).toLocaleString("en-IN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0}):""},{headerName:"Updated At",field:"updated_at",sortable:!0,filter:!0,valueFormatter:ce=>ce.value?new Date(ce.value).toLocaleString("en-IN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0}):""}],[o]),le=M.useMemo(()=>({resizable:!0,sortable:!0,filter:!0}),[]);return M.useEffect(()=>{if(K!="0"){let ce=n.filter(he=>he.batch_id==K);t(ce)}else t(n)},[K]),A.jsxs("div",{className:"p-6 bg-gray-50 rounded-lg shadow-md",children:[A.jsxs("div",{className:"flex flex-wrap gap-6 justify-center",children:[A.jsxs("div",{className:"bg-white rounded-2xl shadow-lg w-48 h-20 p-4 flex items-center justify-center text-center hover:shadow-2xl transition-shadow duration-300 cursor-pointer",onClick:()=>{ae("/admin-demo")},children:[A.jsx(Yi,{className:"w-8 h-8 text-blue-500 mr-3"}),A.jsxs("div",{className:"flex gap-4 items-start",children:[A.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Demo"}),A.jsx("p",{className:"text-xl font-bold text-gray-800",children:X.Demo})]})]}),A.jsxs("div",{className:"bg-white rounded-2xl shadow-lg w-48 h-20 p-4 flex items-center justify-center text-center hover:shadow-2xl transition-shadow duration-300 cursor-pointer",onClick:()=>{ae("/admin-follow")},children:[A.jsx(Yn,{className:"w-8 h-8 text-green-500 mr-3"}),A.jsxs("div",{className:"flex gap-4 items-start",children:[A.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Followup"}),A.jsx("p",{className:"text-xl font-bold text-gray-800",children:X.FollowUp})]})]}),A.jsxs("div",{className:"bg-white rounded-2xl shadow-lg w-48 h-20 p-4 flex items-center justify-center text-center hover:shadow-2xl transition-shadow duration-300 cursor-pointer",onClick:()=>{ae("/admin-interested")},children:[A.jsx(Bn,{className:"w-8 h-8 text-pink-500 mr-3"}),A.jsxs("div",{className:"flex gap-4 items-start",children:[A.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Interested"}),A.jsx("p",{className:"text-xl font-bold text-gray-800",children:X.Interested})]})]})]}),A.jsxs("div",{className:"flex justify-between p-4",children:[A.jsx("h2",{className:"text-xl font-bold mb-4",children:"Interested"}),A.jsxs("div",{className:"flex gap-4",children:[A.jsx(ns,{selectedSource:K,setSelectedSource:te}),A.jsx(Zi,{value:P,onChange:N})]})]}),A.jsx("div",{className:"ag-theme-alpine",style:{height:615},children:A.jsx(Nn,{ref:se,rowData:e,columnDefs:ee,defaultColDef:le,pagination:!0,paginationPageSize:100,paginationAutoPageSize:!0,animateRows:!0,singleClickEdit:!0,rowSelection:"multiple",quickFilterText:P,onRowClicked:ce=>z(ce.data.id),getRowStyle:ce=>ce.data.id===$?{backgroundColor:"#c4c4c4",borderLeft:"4px solid #22c55e",transition:"background-color 0.3s ease"}:null})}),A.jsx(ts,{statusModalData:f,setStatusModalData:m,statusData:o,statusFullData:l,commentMap:y,setCommentMap:S,dateTimeMap:v,setDateTimeMap:C,setIsChange:T}),A.jsx(rs,{noteModalData:j,setNoteModalData:L}),V&&A.jsx(is,{customerId:V,onClose:()=>U(null)})]})}function VWe(){const[e,t]=M.useState(""),[n,r]=M.useState([]),[o,a]=M.useState([]),[l,d]=M.useState([]),[f,m]=M.useState(null),[v,C]=M.useState({}),[y,S]=M.useState(null),[E,T]=M.useState({}),[P,N]=M.useState([]),[j,L]=M.useState(!1),V=M.useRef(),U="https://crm.softwaresetu.com/api",[$,z]=M.useState(null),[K,te]=M.useState({}),[ae,X]=M.useState(null),[Z,se]=M.useState(null),[Q,J]=M.useState("0"),re=JSON.parse(localStorage.getItem("user")),ee=yn(),[le,ce]=M.useState({Demo:0,FollowUp:0,NotPickedCall:0,Deal:0,Interested:0});M.useEffect(()=>{je.get(`${U}/customers/fetch-customer-status/${re?.id}`).then(Oe=>{const _e={Demo:0,FollowUp:0,Deal:0,Interested:0};Oe.data.data.forEach(Ue=>{Ue.status==="Demo"&&_e.Demo++,Ue.status==="Follow Up"&&_e.FollowUp++,Ue.status==="Deal"&&_e.Deal++,Ue.status==="Interested"&&_e.Interested++}),ce(_e),console.log(_e,"stats...")}).catch(Oe=>{console.error("Error fetching customer status:",Oe)})},[]);const he=async()=>{try{const Oe=localStorage.getItem("token"),Ue=JSON.parse(localStorage.getItem("user"))?.id;if(!Ue)return;const{data:pt}=await je.get(`${U}/employee/status/data`,{headers:{Authorization:`Bearer ${Oe}`},params:{employeeId:Ue,status:"Interested"}}),Ee=pt.data.filter(Te=>Te.status_id==16);r(Ee||[]),a(Ee||[])}catch(Oe){console.error("Error fetching follow_up data:",Oe),r([])}},ne=async()=>{try{const Oe=await je.get(`${U}/status`),_e=Oe.data.map(Ue=>Ue.name);d(_e),N(Oe.data)}catch(Oe){console.error("Error fetching statuses:",Oe),Ge.error("Failed to load statuses ")}};M.useEffect(()=>{he(),ne()},[j]);const fe={defaultColDef:{flex:1,resizable:!0,sortable:!0,filter:!0},singleClickEdit:!0},ve=M.useMemo(()=>[{headerName:"Name",field:"name",flex:1},{headerName:"Mobile",field:"mobile",flex:1},{headerName:"Status",field:"status"},{headerName:"Comment",field:"comment",minWidth:700,autoHeight:!0,cellRenderer:Oe=>A.jsxs("div",{className:"flex items-center justify-between gap-2",children:[A.jsx("span",{className:"truncate max-w-[600px]",children:Oe.data.comment}),A.jsx("button",{className:"p-1 text-gray-600 rounded hover:bg-gray-300",onClick:()=>se(Oe.data.customer_id),title:"View Comments",children:A.jsx(Xo,{size:18})})]})},{headerName:"Status Change",field:"status",width:150,maxWidth:150,cellRenderer:Oe=>A.jsxs("div",{className:"flex gap-8 items-center justify-center",children:[A.jsx("button",{className:"p-1 rounded hover:bg-gray-100 flex",onClick:()=>z({customer_id:Oe.data.customer_id,currentStatus:Oe.value,newStatus:Oe.value,batch_id:Oe.data.batch_id}),children:A.jsx(ko,{size:14,className:"text-gray-600"})}),A.jsx("span",{class:"border-l border-gray-400 h-6 inline-block"}),A.jsx("button",{className:"p-1 rounded hover:bg-gray-100 flex",onClick:()=>{console.log("Customer ID:",Oe.data.customer_id),X({customer_id:Oe.data.customer_id})},children:A.jsx(Qd,{size:14,className:"text-gray-600"})})]})},{headerName:"Updated At",field:"updated_at",flex:1,filter:"agDateColumnFilter",valueFormatter:Oe=>Oe.value?new Date(Oe.value).toLocaleString("en-IN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0}):""}],[l]),me=M.useMemo(()=>({resizable:!0,sortable:!0,filter:!0}),[]);return M.useEffect(()=>{if(Q!="0"){let Oe=o.filter(_e=>_e.batch_id==Q);r(Oe)}else r(o)},[Q]),A.jsxs("div",{className:"p-6 bg-gray-50 rounded-lg shadow-md",children:[A.jsxs("div",{className:"flex flex-wrap gap-6 justify-center",children:[A.jsxs("div",{className:"bg-white rounded-2xl shadow-lg w-48 h-20 p-4 flex items-center justify-center text-center hover:shadow-2xl transition-shadow duration-300 cursor-pointer",onClick:()=>{ee("/demo")},children:[A.jsx(Yi,{className:"w-8 h-8 text-blue-500 mr-3"}),A.jsxs("div",{className:"flex gap-4 items-start",children:[A.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Demo"}),A.jsx("p",{className:"text-xl font-bold text-gray-800",children:le.Demo})]})]}),A.jsxs("div",{className:"bg-white rounded-2xl shadow-lg w-48 h-20 p-4 flex items-center justify-center text-center hover:shadow-2xl transition-shadow duration-300 cursor-pointer",onClick:()=>{ee("/follow-up")},children:[A.jsx(Yn,{className:"w-8 h-8 text-green-500 mr-3"}),A.jsxs("div",{className:"flex gap-4 items-start",children:[A.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Followup"}),A.jsx("p",{className:"text-xl font-bold text-gray-800",children:le.FollowUp})]})]}),A.jsxs("div",{className:"bg-white rounded-2xl shadow-lg w-48 h-20 p-4 flex items-center justify-center text-center hover:shadow-2xl transition-shadow duration-300 cursor-pointer",onClick:()=>{ee("/user-interested")},children:[A.jsx(Bn,{className:"w-8 h-8 text-pink-500 mr-3"}),A.jsxs("div",{className:"flex gap-4 items-start",children:[A.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Interested"}),A.jsx("p",{className:"text-xl font-bold text-gray-800",children:le.Interested})]})]})]}),A.jsxs("div",{className:"flex justify-between p-4",children:[A.jsx("h2",{className:"text-xl font-bold mb-4",children:"Interested"}),A.jsxs("div",{className:"flex gap-4",children:[A.jsx(ns,{selectedSource:Q,setSelectedSource:J}),A.jsx(Zi,{value:e,onChange:t})]})]}),A.jsxs("div",{className:"ag-theme-alpine",style:{height:723},children:[A.jsx(Nn,{ref:V,rowData:n,columnDefs:ve,defaultColDef:me,pagination:!0,paginationPageSize:100,paginationAutoPageSize:!0,animateRows:!0,singleClickEdit:!0,gridOptions:fe,rowSelection:"multiple",quickFilterText:e}),A.jsx(ts,{statusModalData:$,setStatusModalData:z,statusData:l,statusFullData:P,commentMap:K,setCommentMap:te,dateTimeMap:v,setDateTimeMap:C,setIsChange:L}),A.jsx(rs,{noteModalData:ae,setNoteModalData:X}),Z&&A.jsx(is,{customerId:Z,onClose:()=>se(null)})]})]})}function GWe(){const[e,t]=M.useState([]),[n,r]=M.useState([]),[o,a]=M.useState([]),l="https://crm.softwaresetu.com/api";JSON.parse(localStorage.getItem("user"))?.id;const[f,m]=M.useState(""),[v,C]=M.useState([]),[y,S]=M.useState("All"),[E,T]=M.useState(new Date),[P,N]=M.useState(new Date),[j,L]=M.useState([]),[V,U]=M.useState(!1),[$,z]=M.useState([]),[K,te]=M.useState(null),[ae,X]=M.useState({}),[Z,se]=M.useState({}),[Q,J]=M.useState(null),[re,ee]=M.useState(null),[le,ce]=M.useState("0"),[he,ne]=M.useState(null),fe=yn(),[ve,me]=M.useState({Demo:0,FollowUp:0,NotPickedCall:0,Deal:0,Interested:0});M.useEffect(()=>{je.get(`${l}/customers/fetch-customer-status`).then(Te=>{const Ze={Demo:0,FollowUp:0,Deal:0,Interested:0};Te.data.data.forEach(De=>{De.status==="Demo"&&Ze.Demo++,De.status==="Follow Up"&&Ze.FollowUp++,De.status==="Deal"&&Ze.Deal++,De.status==="Interested"&&Ze.Interested++}),me(Ze)}).catch(Te=>{console.error("Error fetching customer status:",Te)})},[]);const Oe=async()=>{try{const Te=await je.get(`${l}/status`),Ze=Te.data.map(De=>De.name);z(Ze),L(Te.data)}catch(Te){console.error("Error fetching statuses:",Te)}};M.useEffect(()=>{Oe()},[V]);const _e=Te=>{const Ze=Te.data.history||[],[De,et]=M.useState(""),lt=[{headerName:"Name",field:"name",minWidth:120,sortable:!0,filter:!0},{headerName:"Mobile",field:"mobile",minWidth:120,sortable:!0,filter:!0},{headerName:"Status",field:"status",minWidth:120,sortable:!0,filter:!0},{headerName:"Comment",field:"comment",minWidth:200,sortable:!0,filter:!0},{headerName:"Updated By",field:"updated_by",minWidth:120,sortable:!0,filter:!0},{headerName:"Updated At",field:"updated_at",minWidth:180,sortable:!0,filter:!0,valueFormatter:yt=>yt.value?new Date(yt.value).toLocaleString("en-IN"):""}];return A.jsx("div",{style:{padding:"10px",background:"#f9fafb"},children:A.jsx("div",{className:"ag-theme-alpine collapse-grid",style:{height:250,width:"100%"},children:A.jsx(Nn,{rowData:Ze,columnDefs:lt,pagination:!0,paginationPageSize:5,quickFilterText:De,defaultColDef:{sortable:!0,filter:!0,resizable:!0,flex:1}})})})},Ue=M.useMemo(()=>[{headerName:"Name",field:"name",sortable:!0,filter:!0,cellStyle:{color:"black",fontWeight:500},cellRenderer:Te=>{const De=!!Te.node.expanded?rE:uue;return A.jsxs("span",{className:"flex items-center gap-2 cursor-pointer",onClick:et=>{et.stopPropagation(),Te.node.setExpanded(!Te.node.expanded),Te.api.refreshCells({rowNodes:[Te.node],columns:[Te.colDef.field],force:!0})},children:[A.jsx(De,{size:14,className:"text-gray-600"}),A.jsx("span",{children:Te.value})]})}},{headerName:"Mobile",field:"mobile",sortable:!0,filter:!0},{headerName:"Comment",field:"comment",minWidth:700,autoHeight:!0,cellRenderer:Te=>A.jsxs("div",{className:"flex items-center justify-between gap-2",children:[A.jsx("span",{className:"truncate max-w-[600px]",children:Te.data.comment}),A.jsx("button",{className:"p-1 text-gray-600 rounded hover:bg-gray-300",onClick:()=>ee(Te.data.customer_id),title:"View Comments",children:A.jsx(Xo,{size:18})})]})},{headerName:"Status",field:"status",sortable:!0,filter:!0},{headerName:"Status Change",field:"status",width:140,cellRenderer:Te=>A.jsxs("div",{className:"flex gap-4 items-center justify-center",children:[A.jsx("button",{className:"p-1 rounded hover:bg-gray-100 flex",onClick:()=>te({customer_id:Te.data.customer_id,currentStatus:Te.value,newStatus:Te.value,batch_id:Te.data.batch_id}),children:A.jsx(ko,{size:14,className:"text-gray-600"})}),A.jsx("span",{className:"border-l border-gray-400 h-6 inline-block"}),A.jsx("button",{className:"p-1 rounded hover:bg-gray-100 flex",onClick:()=>J({customer_id:Te.data.customer_id}),children:A.jsx(Qd,{size:14,className:"text-gray-600"})})]})},{headerName:"Updated By",field:"updated_by",sortable:!0,filter:!0},{headerName:"Updated At",field:"updated_at",sortable:!0,filter:!0,sort:"desc",minWidth:100,valueFormatter:Te=>Te.value?new Date(Te.value).toLocaleString("en-IN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0}):""}],[]);M.useEffect(()=>{(async()=>{try{const Ze=await je.get(`${l}/activity/history`),De={};Ze.data.forEach(yt=>{(!De[yt.customer_id]||new Date(yt.updated_at)>new Date(De[yt.customer_id].updated_at))&&(De[yt.customer_id]=yt)});const et=Object.values(De);et.forEach(yt=>{yt.history=Ze.data.filter(it=>it.customer_id===yt.customer_id)}),t(Ze.data),r(et),a(et);const lt=[...new Set(Ze.data.map(yt=>yt.updated_by))];C(lt)}catch(Ze){console.error("Error fetching history:",Ze)}})()},[l]);const pt=()=>{let Te=[...e];y!=="All"&&(Te=Te.filter(Ze=>Ze.updated_by===y)),Te=Te.filter(Ze=>{const De=new Date(Ze.updated_at),et=new Date(E);et.setHours(0,0,0,0);const lt=new Date(P);return lt.setHours(23,59,59,999),De>=et&&De<=lt}),a(Te)},Ee=M.forwardRef(({value:Te,onClick:Ze,placeholder:De},et)=>A.jsxs("div",{onClick:Ze,ref:et,className:"flex items-center justify-between border rounded px-2 py-2 w-40 cursor-pointer bg-white",children:[A.jsx("span",{className:"text-sm",children:Te||De}),A.jsx(Yn,{className:"w-4 h-4 text-gray-500"})]}));return M.useEffect(()=>{if(le!="0"){let Te=n.filter(Ze=>Ze.batch_id==le);a(Te)}else a(n)},[le]),A.jsxs("div",{className:"p-6 bg-gray-50 rounded-lg shadow-md",children:[A.jsxs("div",{className:"flex flex-wrap gap-6 justify-center",children:[A.jsxs("div",{className:"bg-white rounded-2xl shadow-lg w-48 h-20 p-4 flex items-center justify-center text-center hover:shadow-2xl transition-shadow duration-300 cursor-pointer",onClick:()=>{fe("/admin-demo")},children:[A.jsx(Yi,{className:"w-8 h-8 text-blue-500 mr-3"}),A.jsxs("div",{className:"flex gap-4 items-start",children:[A.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Demo"}),A.jsx("p",{className:"text-xl font-bold text-gray-800",children:ve.Demo})]})]}),A.jsxs("div",{className:"bg-white rounded-2xl shadow-lg w-48 h-20 p-4 flex items-center justify-center text-center hover:shadow-2xl transition-shadow duration-300 cursor-pointer",onClick:()=>{fe("/admin-follow")},children:[A.jsx(Yn,{className:"w-8 h-8 text-green-500 mr-3"}),A.jsxs("div",{className:"flex gap-4 items-start",children:[A.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Followup"}),A.jsx("p",{className:"text-xl font-bold text-gray-800",children:ve.FollowUp})]})]}),A.jsxs("div",{className:"bg-white rounded-2xl shadow-lg w-48 h-20 p-4 flex items-center justify-center text-center hover:shadow-2xl transition-shadow duration-300 cursor-pointer",onClick:()=>{fe("/admin-interested")},children:[A.jsx(Bn,{className:"w-8 h-8 text-pink-500 mr-3"}),A.jsxs("div",{className:"flex gap-4 items-start",children:[A.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Interested"}),A.jsx("p",{className:"text-xl font-bold text-gray-800",children:ve.Interested})]})]})]}),A.jsxs("div",{className:"flex justify-between items-center py-6",children:[A.jsx("h2",{className:"text-xl font-bold",children:"User Activity"}),A.jsxs("div",{className:"flex gap-4 items-center",children:[A.jsx(ns,{selectedSource:le,setSelectedSource:ce}),A.jsxs("select",{value:y,onChange:Te=>S(Te.target.value),className:"h-10 w-40 border border-gray-300 rounded-md px-3 text-gray-700",children:[A.jsx("option",{value:"All",children:"All Users"}),v.map((Te,Ze)=>A.jsx("option",{value:Te,children:Te},Ze))]}),A.jsxs("div",{className:"flex  item-center gap-4",children:[A.jsx("label",{className:"text-sm  mt-2 font-medium",children:"From"}),A.jsx(il,{selected:E,onChange:Te=>T(Te),customInput:A.jsx(Ee,{placeholder:"Select date"}),dateFormat:"dd-MM-yyyy",popperPlacement:"bottom-start"})]}),A.jsxs("div",{className:"flex item-center gap-4",children:[A.jsx("label",{className:"text-sm mt-2 font-medium",children:"To"}),A.jsx(il,{selected:P,onChange:Te=>N(Te),customInput:A.jsx(Ee,{placeholder:"Select date"}),dateFormat:"dd-MM-yyyy",popperPlacement:"bottom-start"})]}),A.jsx("button",{onClick:pt,className:"h-10 px-6 bg-blue-500 text-white rounded-md hover:bg-blue-600 flex items-center justify-center",children:"Submit"}),A.jsx(Zi,{value:f,onChange:m,className:"h-10 w-48 border border-gray-300 rounded-md px-3"})]})]}),A.jsxs("div",{className:"ag-theme-alpine",style:{height:610},children:[A.jsx(Nn,{rowData:o,columnDefs:Ue,pagination:!0,paginationPageSize:100,quickFilterText:f,masterDetail:!0,detailCellRenderer:_e,detailRowAutoHeight:!0,onRowClicked:Te=>ne(Te.data.id),getRowStyle:Te=>Te.data.id===he?{backgroundColor:"#c4c4c4",borderLeft:"4px solid #22c55e",transition:"background-color 0.3s ease"}:null}),A.jsx(ts,{statusModalData:K,setStatusModalData:te,statusData:$,statusFullData:j,commentMap:Z,setCommentMap:se,dateTimeMap:ae,setDateTimeMap:X,setIsChange:U}),A.jsx(rs,{noteModalData:Q,setNoteModalData:J}),re&&A.jsx(is,{customerId:re,onClose:()=>ee(null)})]})]})}function UWe(){const[e,t]=M.useState([]),[n,r]=M.useState([]),[o,a]=M.useState([]),l="https://crm.softwaresetu.com/api",[d,f]=M.useState(""),v=JSON.parse(localStorage.getItem("user"))?.id,[C,y]=M.useState([]),[S,E]=M.useState(!1),[T,P]=M.useState([]),[N,j]=M.useState(null),[L,V]=M.useState({}),[U,$]=M.useState({}),[z,K]=M.useState(null),[te,ae]=M.useState(null),[X,Z]=M.useState("0"),se=yn(),[Q,J]=M.useState({Demo:0,FollowUp:0,Deal:0,Interested:0});M.useEffect(()=>{je.get(`${l}/customers/fetch-customer-status/${v}`).then(ce=>{const he={Demo:0,FollowUp:0,Deal:0,Interested:0};ce.data.data.forEach(ne=>{ne.status==="Demo"&&he.Demo++,ne.status==="Follow Up"&&he.FollowUp++,ne.status==="Deal"&&he.Deal++,ne.status==="Interested"&&he.Interested++}),J(he)}).catch(ce=>console.error(ce))},[]);const re=async()=>{try{const ce=await je.get(`${l}/status`);P(ce.data.map(he=>he.name)),y(ce.data)}catch(ce){console.error(ce)}};M.useEffect(()=>{re()},[S]);const ee=M.useMemo(()=>[{headerName:"Name",field:"name",sortable:!0,filter:!0,minWidth:300,cellRenderer:"agGroupCellRenderer"},{headerName:"Mobile",field:"mobile",sortable:!0,filter:!0},{headerName:"Comment",field:"comment",minWidth:700,autoHeight:!0,cellRenderer:ce=>A.jsxs("div",{className:"flex items-center justify-between gap-2",children:[A.jsx("span",{className:"truncate max-w-[600px]",children:ce.data.comment}),A.jsx("button",{className:"p-1 text-gray-600 rounded hover:bg-gray-300",onClick:()=>ae(ce.data.customer_id),title:"View Comments",children:A.jsx(Xo,{size:18})})]})},{headerName:"Status",field:"status",sortable:!0,filter:!0},{headerName:"Status Change",field:"status",width:180,maxWidth:180,cellRenderer:ce=>A.jsxs("div",{className:"flex gap-8 items-center justify-center",children:[A.jsx("button",{className:"p-1 rounded hover:bg-gray-100 flex",onClick:()=>j({customer_id:ce.data.customer_id,currentStatus:ce.value,newStatus:ce.value,batch_id:ce.data.batch_id}),children:A.jsx(ko,{size:14,className:"text-gray-600"})}),A.jsx("span",{className:"border-l border-gray-400 h-6 inline-block"}),A.jsx("button",{className:"p-1 rounded hover:bg-gray-100 flex",onClick:()=>K({customer_id:ce.data.customer_id}),children:A.jsx(Qd,{size:14,className:"text-gray-600"})})]})},{headerName:"Updated At",field:"updated_at",sortable:!0,filter:!0,sort:"desc",valueFormatter:ce=>ce.value?new Date(ce.value).toLocaleString("en-IN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0}):""}],[]),le={detailGridOptions:{columnDefs:[{headerName:"Name",field:"name",sortable:!0,filter:!0},{headerName:"Mobile",field:"mobile",sortable:!0,filter:!0},{headerName:"Comment",field:"comment",flex:1},{headerName:"Status",field:"status",flex:1},{headerName:"Updated At",field:"updated_at",valueFormatter:ce=>new Date(ce.value).toLocaleString("en-IN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0})}],defaultColDef:{flex:1}},getDetailRowData:ce=>{ce.successCallback(ce.data.history||[])}};return M.useEffect(()=>{v&&(async()=>{try{const ne=(await je.get(`${l}/activity/${v}`)).data,fe={};ne.forEach(me=>{fe[me.customer_id]||(fe[me.customer_id]=[]),fe[me.customer_id].push(me)});const ve=Object.values(fe).map(me=>{const Oe=me.sort((_e,Ue)=>new Date(Ue.updated_at)-new Date(_e.updated_at));return{...Oe[0],history:Oe.slice(1)}});t(ve),r(ve),a(ve)}catch(he){console.error(he)}})()},[v,l]),M.useEffect(()=>{if(X!="0"){let ce=n.filter(he=>he.batch_id==X);a(ce)}else a(n)},[X]),A.jsxs("div",{className:"p-6 bg-gray-50 rounded-lg shadow-md",children:[A.jsxs("div",{className:"flex flex-wrap gap-6 justify-center mb-6",children:[A.jsxs("div",{className:"bg-white rounded-2xl shadow-lg w-48 h-20 p-4 flex items-center justify-center text-center hover:shadow-2xl transition-shadow duration-300 cursor-pointer",onClick:()=>se("/demo"),children:[A.jsx(Yi,{className:"w-8 h-8 text-blue-500 mr-3"}),A.jsxs("div",{className:"flex gap-4 items-start",children:[A.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Demo"}),A.jsx("p",{className:"text-xl font-bold text-gray-800",children:Q.Demo})]})]}),A.jsxs("div",{className:"bg-white rounded-2xl shadow-lg w-48 h-20 p-4 flex items-center justify-center text-center hover:shadow-2xl transition-shadow duration-300 cursor-pointer",onClick:()=>se("/follow-up"),children:[A.jsx(Yn,{className:"w-8 h-8 text-green-500 mr-3"}),A.jsxs("div",{className:"flex gap-4 items-start",children:[A.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Followup"}),A.jsx("p",{className:"text-xl font-bold text-gray-800",children:Q.FollowUp})]})]}),A.jsxs("div",{className:"bg-white rounded-2xl shadow-lg w-48 h-20 p-4 flex items-center justify-center text-center hover:shadow-2xl transition-shadow duration-300 cursor-pointer",onClick:()=>se("/user-interested"),children:[A.jsx(Bn,{className:"w-8 h-8 text-pink-500 mr-3"}),A.jsxs("div",{className:"flex gap-4 items-start",children:[A.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Interested"}),A.jsx("p",{className:"text-xl font-bold text-gray-800",children:Q.Interested})]})]})]}),A.jsxs("div",{className:"flex gap-4 mb-4 justify-between py-4",children:[A.jsx("h2",{className:"text-xl font-bold",children:"Activity"}),A.jsxs("div",{className:"flex gap-4",children:[A.jsx(ns,{selectedSource:X,setSelectedSource:Z}),A.jsx(Zi,{value:d,onChange:f})]})]}),A.jsxs("div",{className:"ag-theme-alpine",style:{height:570},children:[A.jsx(Nn,{rowData:o,columnDefs:ee,pagination:!0,paginationPageSize:100,quickFilterText:d,masterDetail:!0,detailCellRendererParams:le}),A.jsx(ts,{statusModalData:N,setStatusModalData:j,statusData:T,statusFullData:C,commentMap:U,setCommentMap:$,dateTimeMap:L,setDateTimeMap:V,setIsChange:E}),A.jsx(rs,{noteModalData:z,setNoteModalData:K}),te&&A.jsx(is,{customerId:te,onClose:()=>ae(null)})]})]})}function WWe(){const[e,t]=M.useState([]),[n,r]=M.useState([]),[o,a]=M.useState([]),[l,d]=M.useState([]),[f,m]=M.useState(null),[v,C]=M.useState({}),[y,S]=M.useState({}),[E,T]=M.useState(!1),[P,N]=M.useState(""),[j,L]=M.useState(null),[V,U]=M.useState(null),[$,z]=M.useState("0"),[K,te]=M.useState(null),ae=yn(),[X,Z]=M.useState({Demo:0,FollowUp:0,NotPickedCall:0,Deal:0,Interested:0});M.useEffect(()=>{je.get(`${Q}/customers/fetch-customer-status`).then(ce=>{const he={Demo:0,FollowUp:0,Deal:0,Interested:0};ce.data.data.forEach(ne=>{ne.status==="Demo"&&he.Demo++,ne.status==="Follow Up"&&he.FollowUp++,ne.status==="Deal"&&he.Deal++,ne.status==="Interested"&&he.Interested++}),Z(he)}).catch(ce=>{console.error("Error fetching customer status:",ce)})},[]);const se=M.useRef(),Q="https://crm.softwaresetu.com/api",J=async()=>{try{const ce=await je.get(`${Q}/customers/get-lead-data`),he=ce.data.filter(ne=>ne.status_id==1||ne.status_id==4||ne.status_id==16);console.log(ce,"filteredData.."),t(he),r(he)}catch(ce){console.error("Error fetching lead history:",ce),Ge.error("Failed to load customer data")}},re=async()=>{try{const ce=await je.get(`${Q}/status`),he=ce.data.map(ne=>ne.name);a(he),d(ce.data)}catch(ce){console.error("Error fetching statuses:",ce),Ge.error("Failed to load statuses")}};M.useEffect(()=>{J(),re()},[E]);const ee=M.useMemo(()=>[{headerName:"Name",field:"name"},{headerName:"Mobile",field:"mobile"},{headerName:"Comment",field:"comment",minWidth:700,autoHeight:!0,cellRenderer:ce=>A.jsxs("div",{className:"flex items-center justify-between gap-2",children:[A.jsx("span",{className:"truncate max-w-[600px]",children:ce.data.comment}),A.jsx("button",{className:"p-1 text-gray-600 rounded hover:bg-gray-300",onClick:()=>U(ce.data.customer_id),title:"View Comments",children:A.jsx(Xo,{size:18})})]})},{headerName:"Status",field:"status"},{headerName:"Assigned To",field:"employee_name"},{headerName:"Updated By",field:"updated_by"},{headerName:"Status Change",field:"status",width:150,maxWidth:150,cellRenderer:ce=>A.jsxs("div",{className:"flex gap-8 items-center justify-center",children:[A.jsx("button",{className:"p-1 rounded hover:bg-gray-100 flex",onClick:()=>m({customer_id:ce.data.customer_id,currentStatus:ce.value,newStatus:ce.value,batch_id:ce.data.batch_id}),children:A.jsx(ko,{size:14,className:"text-gray-600"})}),A.jsx("span",{class:"border-l border-gray-400 h-6 inline-block"}),A.jsx("button",{className:"p-1 rounded hover:bg-gray-100 flex",onClick:()=>{console.log("Customer ID:",ce.data.customer_id),L({customer_id:ce.data.customer_id})},children:A.jsx(Qd,{size:14,className:"text-gray-600"})})]})},{headerName:"Created At",field:"created_at",sortable:!0,filter:!0,valueFormatter:ce=>ce.value?new Date(ce.value).toLocaleString("en-IN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0}):""},{headerName:"Updated At",field:"updated_at",sortable:!0,filter:!0,valueFormatter:ce=>ce.value?new Date(ce.value).toLocaleString("en-IN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0}):""}],[o]),le=M.useMemo(()=>({resizable:!0,sortable:!0,filter:!0}),[]);return M.useEffect(()=>{if($!="0"){let ce=n.filter(he=>he.batch_id==$);t(ce)}else t(n)},[$]),console.log(e.length,"lenght..."),A.jsxs("div",{className:"p-6 bg-gray-50 rounded-lg shadow-md",children:[A.jsxs("div",{className:"flex flex-wrap gap-6 justify-center",children:[A.jsxs("div",{className:"bg-white rounded-2xl shadow-lg w-48 h-20 p-4 flex items-center justify-center text-center hover:shadow-2xl transition-shadow duration-300 cursor-pointer",onClick:()=>{ae("/admin-demo")},children:[A.jsx(Yi,{className:"w-8 h-8 text-blue-500 mr-3"}),A.jsxs("div",{className:"flex gap-4 items-start",children:[A.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Demo"}),A.jsx("p",{className:"text-xl font-bold text-gray-800",children:X.Demo})]})]}),A.jsxs("div",{className:"bg-white rounded-2xl shadow-lg w-48 h-20 p-4 flex items-center justify-center text-center hover:shadow-2xl transition-shadow duration-300 cursor-pointer",onClick:()=>{ae("/admin-follow")},children:[A.jsx(Yn,{className:"w-8 h-8 text-green-500 mr-3"}),A.jsxs("div",{className:"flex gap-4 items-start",children:[A.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Followup"}),A.jsx("p",{className:"text-xl font-bold text-gray-800",children:X.FollowUp})]})]}),A.jsxs("div",{className:"bg-white rounded-2xl shadow-lg w-48 h-20 p-4 flex items-center justify-center text-center hover:shadow-2xl transition-shadow duration-300 cursor-pointer",onClick:()=>{ae("/admin-interested")},children:[A.jsx(Bn,{className:"w-8 h-8 text-pink-500 mr-3"}),A.jsxs("div",{className:"flex gap-4 items-start",children:[A.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Interested"}),A.jsx("p",{className:"text-xl font-bold text-gray-800",children:X.Interested})]})]})]}),A.jsxs("div",{className:"flex justify-between p-4",children:[A.jsx("h2",{className:"text-xl font-bold mb-4",children:"DFI"}),A.jsxs("div",{className:"flex gap-4",children:[A.jsx(ns,{selectedSource:$,setSelectedSource:z}),A.jsx(Zi,{value:P,onChange:N})]})]}),A.jsx("div",{className:"ag-theme-alpine",style:{height:615},children:A.jsx(Nn,{ref:se,rowData:e,columnDefs:ee,defaultColDef:le,animateRows:!0,singleClickEdit:!0,rowSelection:"multiple",quickFilterText:P,onRowClicked:ce=>te(ce.data.id),getRowStyle:ce=>ce.data.id===K?{backgroundColor:"#c4c4c4",borderLeft:"4px solid #22c55e",transition:"background-color 0.3s ease"}:null})}),A.jsx(ts,{statusModalData:f,setStatusModalData:m,statusData:o,statusFullData:l,commentMap:y,setCommentMap:S,dateTimeMap:v,setDateTimeMap:C,setIsChange:T}),A.jsx(rs,{noteModalData:j,setNoteModalData:L}),V&&A.jsx(is,{customerId:V,onClose:()=>U(null)})]})}function $We(){const[e,t]=M.useState(""),[n,r]=M.useState([]),[o,a]=M.useState([]),[l,d]=M.useState([]),[f,m]=M.useState({}),[v,C]=M.useState([]),[y,S]=M.useState(!1),[E,T]=M.useState(null),[P,N]=M.useState({}),[j,L]=M.useState(null),[V,U]=M.useState(null),[$,z]=M.useState("0"),K=M.useRef(),te="https://crm.softwaresetu.com/api",ae=JSON.parse(localStorage.getItem("user")),X=yn(),[Z,se]=M.useState({Demo:0,FollowUp:0,Deal:0,Interested:0});M.useEffect(()=>{je.get(`${te}/customers/fetch-customer-status/${ae?.id}`).then(ce=>{const he={Demo:0,FollowUp:0,Deal:0,Interested:0};ce.data.data.forEach(ne=>{ne.status==="Demo"&&he.Demo++,ne.status==="Follow Up"&&he.FollowUp++,ne.status==="Deal"&&he.Deal++,ne.status==="Interested"&&he.Interested++}),se(he)}).catch(ce=>{console.error("Error fetching customer status:",ce)})},[]);const Q=async()=>{try{const ce=localStorage.getItem("token"),ne=JSON.parse(localStorage.getItem("user"))?.id;if(!ne)return;const{data:fe}=await je.get(`${te}/employee/status/data`,{headers:{Authorization:`Bearer ${ce}`},params:{employeeId:ne}}),ve=fe.data.filter(me=>me.status_id==1||me.status_id==4||me.status_id==16);r(ve||[]),a(ve||[])}catch(ce){console.error("Error fetching customer data:",ce),r([])}},J=async()=>{try{const ce=await je.get(`${te}/status`),he=ce.data.map(ne=>ne.name);d(he),C(ce.data)}catch(ce){console.error("Error fetching statuses:",ce),Ge.error("Failed to load statuses ")}};M.useEffect(()=>{Q(),J()},[y]);const re={defaultColDef:{flex:1,resizable:!0,sortable:!0,filter:!0},singleClickEdit:!0},ee=M.useMemo(()=>[{headerName:"Name",field:"name",flex:1},{headerName:"Mobile",field:"mobile",flex:1},{headerName:"Status",field:"status"},{headerName:"Comment",field:"comment",minWidth:700,autoHeight:!0,cellRenderer:ce=>A.jsxs("div",{className:"flex items-center justify-between gap-2",children:[A.jsx("span",{className:"truncate max-w-[600px]",children:ce.data.comment}),A.jsx("button",{className:"p-1 text-gray-600 rounded hover:bg-gray-300",onClick:()=>U(ce.data.customer_id),title:"View Comments",children:A.jsx(Xo,{size:18})})]})},{headerName:"Status Change",field:"status",width:150,maxWidth:150,cellRenderer:ce=>A.jsxs("div",{className:"flex gap-8 items-center justify-center",children:[A.jsx("button",{className:"p-1 rounded hover:bg-gray-100 flex",onClick:()=>T({customer_id:ce.data.customer_id,currentStatus:ce.value,newStatus:ce.value,batch_id:ce.data.batch_id}),children:A.jsx(ko,{size:14,className:"text-gray-600"})}),A.jsx("span",{className:"border-l border-gray-400 h-6 inline-block"}),A.jsx("button",{className:"p-1 rounded hover:bg-gray-100 flex",onClick:()=>{L({customer_id:ce.data.customer_id})},children:A.jsx(Qd,{size:14,className:"text-gray-600"})})]})},{headerName:"Follow Up / Demo Date",field:"followup_datetime",flex:1,filter:"agDateColumnFilter",valueFormatter:ce=>ce.value?new Date(ce.value).toLocaleString("en-IN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0}):""}],[l]),le=M.useMemo(()=>({resizable:!0,sortable:!0,filter:!0}),[]);return M.useEffect(()=>{if($!="0"){let ce=o.filter(he=>he.batch_id==$);r(ce)}else r(o)},[$]),A.jsxs("div",{className:"p-6 bg-gray-50 rounded-lg shadow-md",children:[A.jsxs("div",{className:"flex flex-wrap gap-6 justify-center",children:[A.jsxs("div",{className:"bg-white rounded-2xl shadow-lg w-48 h-20 p-4 flex items-center justify-center text-center hover:shadow-2xl transition-shadow duration-300 cursor-pointer",onClick:()=>{X("/demo")},children:[A.jsx(Yi,{className:"w-8 h-8 text-blue-500 mr-3"}),A.jsxs("div",{className:"flex gap-4 items-start",children:[A.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Demo"}),A.jsx("p",{className:"text-xl font-bold text-gray-800",children:Z.Demo})]})]}),A.jsxs("div",{className:"bg-white rounded-2xl shadow-lg w-48 h-20 p-4 flex items-center justify-center text-center hover:shadow-2xl transition-shadow duration-300 cursor-pointer",onClick:()=>{X("/follow-up")},children:[A.jsx(Yn,{className:"w-8 h-8 text-green-500 mr-3"}),A.jsxs("div",{className:"flex gap-4 items-start",children:[A.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Followup"}),A.jsx("p",{className:"text-xl font-bold text-gray-800",children:Z.FollowUp})]})]}),A.jsxs("div",{className:"bg-white rounded-2xl shadow-lg w-48 h-20 p-4 flex items-center justify-center text-center hover:shadow-2xl transition-shadow duration-300 cursor-pointer",onClick:()=>{X("/user-interested")},children:[A.jsx(Bn,{className:"w-8 h-8 text-pink-500 mr-3"}),A.jsxs("div",{className:"flex gap-4 items-start",children:[A.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Interested"}),A.jsx("p",{className:"text-xl font-bold text-gray-800",children:Z.Interested})]})]})]}),A.jsxs("div",{className:"flex justify-between p-4",children:[A.jsx("h2",{className:"text-xl font-bold mb-4",children:"All Customers DFI"}),A.jsxs("div",{className:"flex gap-4",children:[A.jsx(ns,{selectedSource:$,setSelectedSource:z}),A.jsx(Zi,{value:e,onChange:t})]})]}),A.jsxs("div",{className:"ag-theme-alpine",style:{height:723},children:[A.jsx(Nn,{ref:K,rowData:n,columnDefs:ee,defaultColDef:le,pagination:!0,paginationPageSize:100,paginationAutoPageSize:!0,animateRows:!0,singleClickEdit:!0,gridOptions:re,rowSelection:"multiple",quickFilterText:e}),A.jsx(ts,{statusModalData:E,setStatusModalData:T,statusData:l,statusFullData:v,commentMap:P,setCommentMap:N,dateTimeMap:f,setDateTimeMap:m,setIsChange:S}),A.jsx(rs,{noteModalData:j,setNoteModalData:L}),V&&A.jsx(is,{customerId:V,onClose:()=>U(null)})]})]})}const HG=M.forwardRef(({value:e,onClick:t},n)=>{const r=e||new Date().toLocaleDateString("en-GB");return A.jsxs("div",{onClick:t,ref:n,className:"flex items-center justify-between border rounded px-2 py-2 w-44 cursor-pointer bg-white",children:[A.jsx("span",{className:"text-sm",children:r}),A.jsx(Yn,{className:"w-4 h-4 text-gray-500"})]})});function qWe(){const[e,t]=M.useState(""),[n,r]=M.useState([]),[o,a]=M.useState([]),[l,d]=M.useState(new Date),[f,m]=M.useState(new Date),[v,C]=M.useState(null),[y,S]=M.useState("employee"),E="https://crm.softwaresetu.com/api",T=N=>{if(!N)return null;const j=N.getFullYear(),L=String(N.getMonth()+1).padStart(2,"0"),V=String(N.getDate()).padStart(2,"0");return`${j}-${L}-${V}`},P=async()=>{try{let N="";if(y==="employee"){const U=T(l),$=T(f);N=`${E}/customers/get-status-employee?start=${U}&end=${$}`}else{const U=T(new Date);N=`${E}/customers/source-status-daily?date=${U}`}let L=(await je.get(N)).data?.data||[];Array.isArray(L)||(console.warn("Unexpected API response:",L),L=[]);const V=L.map((U,$)=>({...U,rowId:$}));if(r(V),V.length>0){const $=Object.keys(V[0]).filter(z=>z!=="rowId").map(z=>({headerName:z.replace(/_/g," ").toUpperCase(),field:z,flex:1,minWidth:110,cellStyle:{textAlign:"center"}}));a($)}else a([])}catch(N){console.error("Error fetching customer status:",N)}};return M.useEffect(()=>{P()},[l,f,y]),A.jsxs("div",{className:"p-6 bg-gray-50 shadow-md rounded-lg relative",children:[A.jsxs("div",{className:"flex justify-between items-center mb-4",children:[A.jsx("h2",{className:"text-xl font-bold",children:y==="employee"?"Customer Status (Employee Wise)":"Customer Status (Source Wise - Daily)"}),A.jsxs("div",{className:"flex gap-2",children:[A.jsx("button",{className:`px-4 py-2 rounded ${y==="employee"?"bg-blue-600 text-white":"bg-gray-200 hover:bg-gray-300"}`,onClick:()=>S("employee"),children:"Employee Wise"}),A.jsx("button",{className:`px-4 py-2 rounded ${y==="source"?"bg-blue-600 text-white":"bg-gray-200 hover:bg-gray-300"}`,onClick:()=>S("source"),children:"Source Wise"})]})]}),A.jsxs("div",{className:"flex justify-between items-end gap-4 mb-4",children:[y==="employee"&&A.jsxs("div",{className:"flex items-end gap-4 mb-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium",children:"From Date"}),A.jsx(il,{selected:l,onChange:N=>d(N),customInput:A.jsx(HG,{}),dateFormat:"dd-MM-yyyy",popperPlacement:"bottom-start"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium",children:"To Date"}),A.jsx(il,{selected:f,onChange:N=>m(N),customInput:A.jsx(HG,{}),dateFormat:"dd-MM-yyyy",popperPlacement:"bottom-start"})]}),A.jsx("button",{onClick:()=>{d(new Date),m(new Date)},className:"bg-gray-200 px-4 py-2 rounded hover:bg-gray-300",children:"Reset"})]}),A.jsx("div",{className:"flex items-end gap-4 mb-4",children:A.jsx(Zi,{value:e,onChange:t})})]}),A.jsx("div",{className:"ag-theme-alpine",style:{height:625},children:A.jsx(Nn,{rowData:n,columnDefs:o,pagination:!0,paginationPageSize:100,defaultColDef:{sortable:!0,filter:!0,resizable:!0,minWidth:180,flex:1},suppressHorizontalScroll:!1,quickFilterText:e,onRowClicked:N=>C(N.data.rowId),getRowStyle:N=>N.data.rowId===v?{backgroundColor:"#c4c4c4",borderLeft:"4px solid #22c55e",transition:"background-color 0.3s ease"}:null})})]})}Cc.registerModules([mee]);const VG=M.forwardRef(({value:e,onClick:t,placeholder:n},r)=>A.jsxs("div",{onClick:t,ref:r,className:"flex items-center justify-between border rounded px-2 py-2 w-40 cursor-pointer bg-white",children:[A.jsx("span",{className:"text-sm",children:e||n}),A.jsx(Yn,{className:"w-4 h-4 text-gray-500"})]}));function KWe(){const[e,t]=M.useState([]),[n,r]=M.useState([]),o=new Date,a=new Date(o.getFullYear(),o.getMonth(),1),l=new Date(o.getFullYear(),o.getMonth()+1,0),[d,f]=M.useState(a),[m,v]=M.useState(l),[C,y]=M.useState(null),[S,E]=M.useState([{user_id:"6",employee_name:"Goutam Dhangar"},{user_id:"7",employee_name:"Sneha Tiwari"}]),[T,P]=M.useState("all"),[N,j]=M.useState(!1);console.log(T,"selectedUser..");const L=M.useRef(null),V=[{headerName:"DATE",field:"demo_date",sortable:!0,filter:!0,valueFormatter:K=>{if(!K.value)return"";const te=new Date(K.value),ae=String(te.getDate()).padStart(2,"0"),X=String(te.getMonth()+1).padStart(2,"0"),Z=te.getFullYear();return`${ae}-${X}-${Z}`}},{headerName:"TOTAL DEMOS",field:"total_demos",sortable:!0,filter:!0,cellStyle:{backgroundColor:"#f0f9ff"},valueFormatter:K=>K.value||"0"},{headerName:"TOTAL FOLLOW UPS",field:"total_followups",sortable:!0,filter:!0,cellStyle:{backgroundColor:"#f0fdf4"},valueFormatter:K=>K.value||"0"},{headerName:"TOTAL WORKED",field:"total_worked",sortable:!0,filter:!0,cellStyle:{backgroundColor:"#fef2f2"},valueFormatter:K=>K.value||"0"}],U=[{headerName:"NAME",field:"name"},{headerName:"MOBILE",field:"mobile"},{headerName:"EMPLOYEE",field:"employee_name"},{headerName:"STATUS",field:"status"},{headerName:"FOLLOWUP DATE/TIME",field:"followup_datetime",valueFormatter:K=>K.value?new Date(K.value).toLocaleString():""}];M.useEffect(()=>{(async()=>{try{const te=await je.get("https://crm.softwaresetu.com/api/employee/get");E(te.data)}catch(te){console.error("Error fetching users:",te)}})()},[]),M.useEffect(()=>{(async()=>{j(!0);try{const te={};T!=="all"&&(te.userId=T);const ae=await je.get("https://crm.softwaresetu.com/api/customers/daily-demos-user",{params:te});console.log("API Response:",ae.data);const X=ae.data.map((Z,se)=>({...Z,rowId:se,total_demos:parseInt(Z.total_demos)||0,total_followups:parseInt(Z.total_followups)||0,total_all:parseInt(Z.total_all)||0,total_worked:parseInt(Z.total_worked)||0}));t(X),r(X)}catch(te){console.error("Error fetching daily demos:",te)}finally{j(!1)}})()},[T]),M.useEffect(()=>{if(e.length!==0)if(!d&&!m)r(e);else{const K=e.filter(te=>{if(!te.demo_date)return!1;const ae=new Date(te.demo_date),X=d?new Date(d):null,Z=m?new Date(m):null;return X&&X.setHours(0,0,0,0),Z&&Z.setHours(23,59,59,999),X&&Z?ae>=X&&ae<=Z:X?ae>=X:Z?ae<=Z:!0});r(K)}},[d,m,e]);const $=M.useMemo(()=>({detailGridOptions:{columnDefs:U,defaultColDef:{flex:1,resizable:!0},pagination:!0,paginationPageSize:5},getDetailRowData:K=>{K.successCallback(K.data.demo_data||[])}}),[]),z=()=>{const K=new Date,te=new Date(K.getFullYear(),K.getMonth(),1),ae=new Date(K.getFullYear(),K.getMonth()+1,0);f(te),v(ae),P("all")};return A.jsxs("div",{className:"p-6 bg-gray-50 shadow-md rounded-lg",children:[A.jsx("h2",{className:"text-xl font-bold mb-4",children:"User Wise Demo & Follow Up Status"}),A.jsxs("div",{className:"flex items-end gap-4 mb-4 flex-wrap",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium mb-1",children:"Select User"}),A.jsxs("div",{className:"relative",children:[A.jsxs("select",{value:T,onChange:K=>P(K.target.value),className:"border rounded px-3 py-2 w-48 appearance-none bg-white cursor-pointer",children:[A.jsx("option",{value:"all",children:"All Users"}),S.map(K=>A.jsx("option",{value:K.id,children:K.name},K.id))]}),A.jsx(Bn,{className:"absolute right-3 top-2.5 w-4 h-4 text-gray-500 pointer-events-none"})]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium",children:"From Date"}),A.jsx(il,{selected:d,onChange:K=>f(K),customInput:A.jsx(VG,{placeholder:"Select date"}),dateFormat:"dd-MM-yyyy",popperPlacement:"bottom-start"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium",children:"To Date"}),A.jsx(il,{selected:m,onChange:K=>v(K),customInput:A.jsx(VG,{placeholder:"Select date"}),dateFormat:"dd-MM-yyyy",popperPlacement:"bottom-start"})]}),A.jsx("button",{onClick:z,className:"bg-gray-200 px-4 py-2 rounded hover:bg-gray-300 transition-colors",children:"Reset"})]}),n.length>0&&A.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-4",children:[A.jsxs("div",{className:"bg-blue-50 p-3 rounded border",children:[A.jsx("div",{className:"text-sm text-blue-600",children:"Total Demos"}),A.jsx("div",{className:"text-xl font-bold",children:n.reduce((K,te)=>K+(parseInt(te.total_demos)||0),0)})]}),A.jsxs("div",{className:"bg-green-50 p-3 rounded border",children:[A.jsx("div",{className:"text-sm text-green-600",children:"Total Follow Ups"}),A.jsx("div",{className:"text-xl font-bold",children:n.reduce((K,te)=>K+(parseInt(te.total_followups)||0),0)})]}),A.jsxs("div",{className:"bg-yellow-50 p-3 rounded border",children:[A.jsx("div",{className:"text-sm text-yellow-600",children:"Total All"}),A.jsx("div",{className:"text-xl font-bold",children:n.reduce((K,te)=>K+(parseInt(te.total_all)||0),0)})]}),A.jsxs("div",{className:"bg-red-50 p-3 rounded border",children:[A.jsx("div",{className:"text-sm text-red-600",children:"Total Worked"}),A.jsx("div",{className:"text-xl font-bold",children:n.reduce((K,te)=>K+(parseInt(te.total_worked)||0),0)})]})]}),N&&A.jsxs("div",{className:"text-center py-4",children:[A.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),A.jsx("p",{className:"mt-2 text-gray-600",children:"Loading data..."})]}),A.jsx("div",{className:"ag-theme-alpine",style:{height:650,width:"100%"},children:A.jsx(Nn,{ref:L,rowData:n,columnDefs:V,masterDetail:!0,detailCellRendererParams:$,pagination:!0,paginationPageSize:100,getRowStyle:K=>K.data.rowId===C?{backgroundColor:"#c4c4c4",borderLeft:"4px solid #22c55e",transition:"background-color 0.3s ease"}:null})})]})}const YWe=()=>{const[e,t]=M.useState([]),[n,r]=M.useState([]),[o,a]=M.useState("all"),[l,d]=M.useState(!1),[f,m]=M.useState("today"),[v,C]=M.useState(null),{user:y}=nE(),S=yn(),E="https://crm.softwaresetu.com/api",[T,P]=M.useState(null);M.useEffect(()=>{const K=localStorage.getItem("user");if(K)try{const te=JSON.parse(K);P(te),te.role!=="admin"&&a(te.id.toString())}catch(te){console.error("Error parsing user data:",te)}},[]),M.useEffect(()=>{(async()=>{if(T?.role==="admin")try{const te=await je.get(`${E}/analytics/employees`);te.data.success&&r(te.data.data)}catch(te){console.error("Error fetching employees:",te)}})()},[T,E]),M.useEffect(()=>{N()},[f,o,T]);const N=async()=>{if(T){d(!0);try{const K={date_range:f};T.role==="admin"?o!=="all"&&(K.employee_id=o):K.employee_id=T.id;const te=await je.get(`${E}/analytics/hourly-calls`,{params:K});te.data.success&&(t(te.data.data),C(te.data.time_range))}catch(K){console.error("Error fetching performance data:",K)}finally{d(!1)}}},j=()=>{N()},L=({active:K,payload:te,label:ae})=>K&&te&&te.length?A.jsxs("div",{className:"bg-white p-3 border border-gray-300 rounded shadow-lg",children:[A.jsx("p",{className:"font-bold",children:`Time Range: ${te[0].payload.time_range}`}),A.jsxs("p",{className:"text-blue-600 flex items-center gap-2",children:[A.jsx(vS,{className:"w-4 h-4"}),`${te[0].value} Calls`]}),A.jsx("p",{className:"text-xs text-gray-500 mt-1",children:T?.role==="admin"?"Based on status updates":"Based on your status updates"})]}):null,V=M.useMemo(()=>{if(e.length===0)return null;const K=e.reduce((X,Z)=>X+Z.call_count,0),te=e.reduce((X,Z)=>Z.call_count>X.call_count?Z:X,{time_range:"",call_count:0}),ae=e.length>0?Math.round(K/e.length):0;return{totalCalls:K,peakHour:te.time_range,peakHourCalls:te.call_count,avgPerHour:ae}},[e]),U=K=>{if(!K)return"Loading...";const te=K.start_hour,ae=K.end_hour,X=Z=>{const[se,Q]=Z.split(":"),J=parseInt(se),re=J>=12?"PM":"AM";return`${J%12||12}:${Q} ${re}`};return`${X(te)} - ${X(ae)}`},$=()=>{m("today"),T?.role==="admin"&&a("all")};if(!T)return A.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:A.jsx("div",{className:"max-w-7xl mx-auto",children:A.jsxs("div",{className:"text-center py-8",children:[A.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),A.jsx("p",{className:"mt-2 text-gray-600",children:"Loading user data..."})]})})});const z=T.role==="admin";return A.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:A.jsxs("div",{className:"max-w-7xl mx-auto",children:[A.jsxs("div",{className:"flex items-center justify-between mb-6",children:[A.jsxs("div",{className:"flex items-center gap-4",children:[A.jsxs("button",{onClick:()=>S(-1),className:"flex items-center gap-2 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition",children:[A.jsx(Jde,{className:"w-4 h-4"}),"Back"]}),A.jsxs("div",{className:"flex items-center gap-3",children:[A.jsx(Bn,{className:"w-8 h-8 text-blue-600"}),A.jsxs("div",{children:[A.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:z?"Performance Analytics":"My Performance"}),A.jsx("p",{className:"text-gray-600",children:z?"Call activity and performance metrics":"Your call activity and performance metrics"})]})]})]}),A.jsxs("div",{className:"flex items-center gap-4",children:[z?A.jsxs("div",{className:"flex items-center gap-1 bg-blue-100 px-3 py-1 rounded-full",children:[A.jsx(AU,{className:"w-4 h-4 text-blue-600"}),A.jsx("span",{className:"text-sm font-medium text-blue-700",children:"Admin Mode"})]}):A.jsxs("div",{className:"flex items-center gap-1 bg-green-100 px-3 py-1 rounded-full",children:[A.jsx(Bn,{className:"w-4 h-4 text-green-600"}),A.jsx("span",{className:"text-sm font-medium text-green-700",children:"My Performance"})]}),A.jsxs("button",{onClick:j,disabled:l,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 transition",children:[A.jsx(xU,{className:`w-4 h-4 ${l?"animate-spin":""}`}),l?"Refreshing...":"Refresh"]})]})]}),A.jsx("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{className:"flex items-center gap-4",children:[A.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center",children:A.jsx(Bn,{className:"w-8 h-8 text-blue-600"})}),A.jsxs("div",{children:[A.jsx("h2",{className:"text-xl font-bold text-gray-800",children:T?.name}),A.jsx("p",{className:"text-gray-600",children:T?.email}),A.jsx("p",{className:"text-sm text-gray-500",children:z?"Administrator":`Employee ID: ${T?.id}`})]})]}),A.jsxs("div",{className:"flex items-center gap-4",children:[z&&A.jsxs("div",{children:[A.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Select Employee"}),A.jsxs("div",{className:"relative",children:[A.jsxs("select",{value:o,onChange:K=>a(K.target.value),className:"border rounded px-3 py-2 w-48 appearance-none bg-white cursor-pointer",children:[A.jsx("option",{value:"all",children:"All Employees"}),n.map(K=>A.jsx("option",{value:K.id,children:K.name},K.id))]}),A.jsx(Bn,{className:"absolute right-3 top-2.5 w-4 h-4 text-gray-500 pointer-events-none"})]})]}),A.jsxs("div",{children:[A.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Performance Period"}),A.jsxs("select",{value:f,onChange:K=>m(K.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[A.jsx("option",{value:"today",children:"Today"}),A.jsx("option",{value:"week",children:"This Week"}),A.jsx("option",{value:"month",children:"This Month"})]})]}),A.jsx("button",{onClick:$,className:"bg-gray-200 px-4 py-2 rounded hover:bg-gray-300 transition-colors mt-6",children:"Reset"})]})]})}),A.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg",children:[A.jsx("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center mb-6 gap-4",children:A.jsxs("div",{className:"flex items-center gap-3",children:[A.jsx(Ny,{className:"w-6 h-6 text-blue-600"}),A.jsxs("div",{children:[A.jsx("h2",{className:"text-xl font-semibold",children:z?"Call Activity Analytics":"Your Call Activity"}),v&&A.jsxs("p",{className:"text-sm text-gray-600 flex items-center gap-1",children:[A.jsx(kU,{className:"w-3 h-3"}),z?"Showing calls from":"Showing your calls from"," ",U(v)]})]})]})}),v&&A.jsx("div",{className:"mb-6 p-4 bg-blue-50 rounded-lg border border-blue-200",children:A.jsxs("div",{className:"flex items-center gap-3",children:[A.jsx(bS,{className:"w-5 h-5 text-blue-600"}),A.jsxs("div",{children:[A.jsx("p",{className:"font-medium text-blue-800",children:z?"Activity Time Range":"Your Activity Time Range"}),A.jsxs("p",{className:"text-sm text-blue-600",children:[z?o==="all"?"Showing all employees data":`Showing data for ${n.find(K=>K.id==o)?.name||"selected employee"}`:"Showing your call activity",A.jsx("span",{className:"mx-2",children:""}),"Showing ",e.length," hours of call activity"]})]})]})}),A.jsx("div",{className:"h-80 w-full",children:l?A.jsx("div",{className:"flex items-center justify-center h-full",children:A.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):e.length>0?A.jsx(XY,{width:"100%",height:"100%",children:A.jsxs(kJ,{data:e,children:[A.jsx(QF,{strokeDasharray:"3 3"}),A.jsx(ZF,{dataKey:"hour",label:{value:"Time Slots (HH:00 - HH:00) - IST",position:"insideBottom",offset:-5}}),A.jsx(XF,{label:{value:"Number of Calls",angle:-90,position:"insideLeft"}}),A.jsx(NX,{content:A.jsx(L,{})}),A.jsx(HO,{}),A.jsx($F,{dataKey:"call_count",name:z?"Calls":"Your Calls",fill:"#3b82f6",radius:[4,4,0,0]})]})}):A.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:z?"No call activity data available":"No call activity data available for your account"})}),V&&V.totalCalls>0&&A.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-4 gap-4",children:[A.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[A.jsx("p",{className:"text-sm text-blue-600",children:z?"Total Calls":"Your Total Calls"}),A.jsx("p",{className:"text-2xl font-bold text-blue-800",children:V.totalCalls}),A.jsxs("p",{className:"text-xs text-blue-600 mt-1 flex items-center gap-1",children:[A.jsx(vS,{className:"w-3 h-3"}),"Status updates"]})]}),A.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[A.jsx("p",{className:"text-sm text-green-600",children:z?"Peak Activity":"Your Peak Activity"}),A.jsx("p",{className:"text-lg font-bold text-green-800",children:V.peakHour}),A.jsxs("p",{className:"text-xs text-green-600 mt-1",children:[V.peakHourCalls," calls"]})]}),A.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[A.jsx("p",{className:"text-sm text-purple-600",children:z?"Avg per Hour":"Your Avg per Hour"}),A.jsx("p",{className:"text-2xl font-bold text-purple-800",children:V.avgPerHour})]}),A.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg",children:[A.jsx("p",{className:"text-sm text-orange-600",children:z?"Time Coverage":"Your Time Coverage"}),A.jsx("p",{className:"text-lg font-bold text-orange-800",children:v?`${v.start_hour} to ${v.end_hour}`:"N/A"}),A.jsxs("p",{className:"text-xs text-orange-600 mt-1",children:["Based on ",z?"first update":"your first update"]})]})]})]}),V&&V.totalCalls>0&&A.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-6",children:[A.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg",children:[A.jsx("h3",{className:"text-lg font-semibold mb-4",children:z?"Performance Insights":"Your Performance Insights"}),A.jsxs("div",{className:"space-y-3",children:[A.jsxs("div",{className:"flex justify-between items-center",children:[A.jsx("span",{className:"text-gray-600",children:"Productivity Hours"}),A.jsxs("span",{className:"font-bold",children:[e.filter(K=>K.call_count>0).length," hrs"]})]}),A.jsxs("div",{className:"flex justify-between items-center",children:[A.jsx("span",{className:"text-gray-600",children:"Best Performing Hour"}),A.jsx("span",{className:"font-bold text-green-600",children:V.peakHour})]}),A.jsxs("div",{className:"flex justify-between items-center",children:[A.jsx("span",{className:"text-gray-600",children:"Calls per Active Hour"}),A.jsx("span",{className:"font-bold",children:Math.round(V.totalCalls/e.filter(K=>K.call_count>0).length)})]})]})]}),A.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg",children:[A.jsx("h3",{className:"text-lg font-semibold mb-4",children:z?"Summary":"Your Summary"}),A.jsxs("div",{className:"space-y-3",children:[A.jsxs("div",{className:"flex justify-between items-center",children:[A.jsx("span",{className:"text-gray-600",children:"Active Time Period"}),A.jsxs("span",{className:"font-bold",children:[e.length," hrs"]})]}),A.jsxs("div",{className:"flex justify-between items-center",children:[A.jsx("span",{className:"text-gray-600",children:"Average Calls per Hour"}),A.jsx("span",{className:"font-bold",children:V.avgPerHour})]}),A.jsxs("div",{className:"flex justify-between items-center",children:[A.jsx("span",{className:"text-gray-600",children:"Total Activity"}),A.jsxs("span",{className:"font-bold text-blue-600",children:[V.totalCalls," calls"]})]})]})]})]})]})})};function QWe(){const[e,t]=M.useState([]),[n,r]=M.useState([]),[o,a]=M.useState("all"),[l,d]=M.useState(new Date().getFullYear()),[f,m]=M.useState(!1),[v,C]=M.useState(!1),[y,S]=M.useState(null),[E,T]=M.useState(null),P=M.useMemo(()=>{const z=new Date().getFullYear();return Array.from({length:6},(K,te)=>z-te)},[]),N=M.useMemo(()=>[{headerName:"MONTH",field:"month",sortable:!0,filter:!0,width:200,cellStyle:{fontWeight:"bold",backgroundColor:"#f8fafc"}},{headerName:"TOTAL DEALS",field:"total_deals",sortable:!0,filter:!0,width:180,cellStyle:{backgroundColor:"#dcfce7",fontWeight:"bold"},valueFormatter:z=>z.value||"0",cellRenderer:z=>{const K=z.value||0,te=K>0;return A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsx("span",{children:K}),te&&A.jsxs("button",{onClick:()=>j(z.data),className:"flex items-center gap-1 text-blue-600 hover:text-blue-800 text-sm ml-2 px-2 py-0.2 rounded border border-blue-200 hover:bg-blue-50 transition-colors",children:[A.jsx(v0,{className:"w-3 h-3"}),"View Leads"]})]})}}],[]);M.useEffect(()=>{const z=localStorage.getItem("user");if(z)try{const K=JSON.parse(z);T(K),K.role!=="admin"&&a(K.id.toString())}catch(K){console.error("Error parsing user data:",K)}},[]),M.useEffect(()=>{(async()=>{if(E?.role==="admin")try{const K=await je.get("https://crm.softwaresetu.com/api/employee/get");r(K.data)}catch(K){console.error("Error fetching users:",K)}})()},[E]),M.useEffect(()=>{(async()=>{if(E){m(!0);try{const K={year:l};E.role==="admin"?o!=="all"&&(K.userId=o):K.userId=E.id;const te=await je.get("https://crm.softwaresetu.com/api/customers/monthly-deals",{params:K});t(te.data)}catch(K){console.error("Error fetching deal data:",K)}finally{m(!1)}}})()},[o,l,E]);const j=z=>{S(z),C(!0)},L=()=>{C(!1),S(null)},V=M.useMemo(()=>e.reduce((z,K)=>z+(parseInt(K.total_deals)||0),0),[e]),U=()=>{d(new Date().getFullYear()),E?.role==="admin"&&a("all")};if(!E)return A.jsx("div",{className:"p-6 bg-gray-50 shadow-md rounded-lg",children:A.jsxs("div",{className:"text-center py-8",children:[A.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),A.jsx("p",{className:"mt-2 text-gray-600",children:"Loading user data..."})]})});const $=E.role==="admin";return A.jsxs("div",{className:"p-6 bg-gray-50 shadow-md rounded-lg",children:[A.jsxs("div",{className:"flex justify-between items-center mb-4",children:[A.jsx("h2",{className:"text-xl font-bold",children:"Monthly Deal Status Report"}),A.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[$?A.jsxs("div",{className:"flex items-center gap-1 bg-blue-100 px-3 py-1 rounded-full",children:[A.jsx(AU,{className:"w-4 h-4 text-blue-600"}),A.jsx("span",{children:"Admin Mode"})]}):A.jsxs("div",{className:"flex items-center gap-1 bg-green-100 px-3 py-1 rounded-full",children:[A.jsx(Bn,{className:"w-4 h-4 text-green-600"}),A.jsx("span",{children:"User Mode"})]}),A.jsx("span",{children:""}),A.jsx("span",{children:E.name})]})]}),A.jsxs("div",{className:"flex items-end gap-4 mb-6 flex-wrap",children:[$&&A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium mb-1",children:"Select User"}),A.jsxs("div",{className:"relative",children:[A.jsxs("select",{value:o,onChange:z=>a(z.target.value),className:"border rounded px-3 py-2 w-48 appearance-none bg-white cursor-pointer",children:[A.jsx("option",{value:"all",children:"All Users"}),n.map(z=>A.jsx("option",{value:z.id,children:z.name},z.id))]}),A.jsx(Bn,{className:"absolute right-3 top-2.5 w-4 h-4 text-gray-500 pointer-events-none"})]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium mb-1",children:"Select Year"}),A.jsxs("div",{className:"relative",children:[A.jsx("select",{value:l,onChange:z=>d(parseInt(z.target.value)),className:"border rounded px-3 py-2 w-32 appearance-none bg-white cursor-pointer",children:P.map(z=>A.jsx("option",{value:z,children:z},z))}),A.jsx(Yn,{className:"absolute right-3 top-2.5 w-4 h-4 text-gray-500 pointer-events-none"})]})]}),A.jsx("button",{onClick:U,className:"bg-gray-200 px-4 py-2 rounded hover:bg-gray-300 transition-colors",children:"Reset"})]}),!$&&A.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border mb-6",children:A.jsxs("div",{className:"flex items-center gap-3",children:[A.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:A.jsx(Bn,{className:"w-5 h-5 text-green-600"})}),A.jsxs("div",{children:[A.jsx("h3",{className:"font-semibold text-gray-800",children:E.name}),A.jsxs("p",{className:"text-sm text-gray-600",children:["Viewing your deal performance for ",l]})]})]})}),V>0&&A.jsx("div",{className:"mb-6",children:A.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200 inline-block",children:[A.jsxs("div",{className:"text-sm text-green-600 font-medium",children:[$?"Total Deals":"Your Total Deals"," (",l,")"]}),A.jsx("div",{className:"text-2xl font-bold text-green-800",children:V}),A.jsx("div",{className:"text-xs text-green-600 mt-1",children:$?o==="all"?"All Users":`User: ${n.find(z=>z.id==o)?.name}`:"Your Performance"})]})}),f&&A.jsxs("div",{className:"text-center py-8",children:[A.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),A.jsx("p",{className:"mt-2 text-gray-600",children:"Loading deal data..."})]}),!f&&A.jsx("div",{className:"ag-theme-alpine",style:{height:600,width:"100%"},children:A.jsx(Nn,{rowData:e,columnDefs:N,pagination:!0,paginationPageSize:12,defaultColDef:{resizable:!0,sortable:!0,filter:!0}})}),!f&&e.length===0&&A.jsx("div",{className:"text-center py-8 text-gray-500",children:$?"No deal data found for the selected criteria":"No deal data found for your account"}),v&&y&&A.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:A.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-6xl max-h-[90vh] overflow-hidden",children:[A.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[A.jsxs("div",{children:[A.jsxs("h3",{className:"text-xl font-bold text-gray-800",children:["Leads for ",y.month," ",y.year]}),A.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Total ",y.total_deals," deals found"]})]}),A.jsx("button",{onClick:L,className:"text-gray-400 hover:text-gray-600 transition-colors",children:A.jsx(_U,{className:"w-6 h-6"})})]}),A.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)]",children:y.leads&&y.leads.length>0?A.jsx("div",{className:"space-y-4",children:y.leads.map((z,K)=>A.jsx("div",{className:"border rounded-lg p-4 bg-gray-50 hover:bg-white transition-colors",children:A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Customer Name"}),z.name?A.jsx(A.Fragment,{children:A.jsx("p",{className:"font-semibold",children:z.name})}):A.jsx(A.Fragment,{children:A.jsx("p",{className:"font-semibold",children:"N/A"})})]}),A.jsxs("div",{children:[A.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Email"}),z.email?A.jsx(A.Fragment,{children:A.jsx("p",{className:"text-blue-600",children:z.email})}):A.jsx(A.Fragment,{children:A.jsx("p",{className:"text-blue-600",children:"N/A"})})]}),A.jsxs("div",{children:[A.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Phone"}),A.jsx("p",{children:z.mobile||"N/A"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Assigned To"}),A.jsx("p",{children:z.assigned_user_name||"N/A"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Status"}),A.jsx("span",{className:"inline-block px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800",children:z.status})]}),A.jsxs("div",{children:[A.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Last Updated"}),A.jsx("p",{className:"text-sm",children:new Date(z.updated_at).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})})]}),A.jsxs("div",{children:[A.jsx("label",{className:"text-sm font-medium text-gray-600",children:"First Update"}),A.jsx("p",{className:"text-sm",children:new Date(z.created_at).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})})]})]})},z.id))}):A.jsxs("div",{className:"text-center py-8 text-gray-500",children:["No leads found for ",y.month," ",y.year]})}),A.jsx("div",{className:"flex justify-end p-6 border-t bg-gray-50",children:A.jsx("button",{onClick:L,className:"px-4 py-2 bg-gray-300 text-gray-700 rounded hover:bg-gray-400 transition-colors",children:"Close"})})]})})]})}const GG="https://crm.softwaresetu.com/api",ZWe=()=>{const[e,t]=M.useState([]),[n,r]=M.useState(!0),[o,a]=M.useState(""),[l,d]=M.useState(1),f=10,m=async()=>{try{r(!0);const{data:E}=await je.get(`${GG}/employee/get-active`);t(Array.isArray(E)?E:[])}catch(E){console.error("Failed to fetch employees:",E),t([])}finally{r(!1)}};M.useEffect(()=>{m()},[]);const v=async(E,T)=>{try{t(P=>P.map(N=>N.id===E?{...N,status:!T}:N)),await je.put(`${GG}/employee/status/${E}`,{status:!T})}catch(P){console.error("Error updating status:",P),t(N=>N.map(j=>j.id===E?{...j,status:T}:j))}},C=M.useMemo(()=>e.filter(E=>E.name?.toLowerCase().includes(o.toLowerCase())),[e,o]),y=Math.ceil(C.length/f),S=M.useMemo(()=>{const E=(l-1)*f;return C.slice(E,E+f)},[C,l]);return n?A.jsx("div",{className:"flex justify-center items-center h-64",children:A.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):A.jsxs("div",{className:"max-w-full mx-auto p-6 bg-gray-50 rounded-xl",children:[A.jsxs("div",{className:"mb-8 flex justify-between",children:[A.jsxs("div",{children:[A.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Employee Management"}),A.jsx("p",{className:"text-gray-600",children:"Manage employee status and information"})]}),A.jsx("div",{className:"mb-6",children:A.jsxs("div",{className:"relative w-96",children:[A.jsx("input",{type:"text",placeholder:"Search employees by name...",value:o,onChange:E=>{a(E.target.value),d(1)},className:"w-full p-3 pl-10 border border-gray-300 rounded-full focus:outline-none"}),A.jsx("div",{className:"absolute left-3 top-3 text-gray-400",children:A.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})})]}),A.jsx("div",{className:"bg-white border border-gray-200 overflow-hidden",children:A.jsxs("table",{className:"min-w-full",children:[A.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:A.jsxs("tr",{children:[A.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-700 uppercase tracking-wider",children:"Employee Name"}),A.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-700 uppercase tracking-wider",children:"Status"})]})}),A.jsx("tbody",{className:"divide-y divide-gray-200",children:S.map(E=>A.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[A.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:A.jsx("div",{className:"text-sm font-medium text-gray-900",children:E.name})}),A.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:A.jsxs("div",{className:"flex items-center",children:[A.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[A.jsx("input",{type:"checkbox",className:"sr-only peer",checked:E.status,onChange:()=>v(E.id,E.status)}),A.jsx("div",{className:`w-12 h-6 rounded-full peer transition-colors ${E.status?"bg-green-500":"bg-gray-300"}`}),A.jsx("div",{className:`absolute left-1 top-1 bg-white rounded-full w-4 h-4 transition-transform ${E.status?"translate-x-6":"translate-x-0"}`})]}),A.jsx("span",{className:`ml-3 text-sm font-medium ${E.status?"text-green-600":"text-gray-500"}`})]})})]},E.id))})]})}),A.jsx("div",{className:"flex flex-col sm:flex-row justify-end items-center mt-6 gap-4",children:A.jsxs("div",{className:"flex items-center space-x-2",children:[A.jsx("button",{onClick:()=>d(E=>Math.max(E-1,1)),disabled:l===1,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),A.jsxs("div",{className:"text-sm text-gray-600",children:["Showing"," ",A.jsx("span",{className:"font-semibold",children:(l-1)*f+1})," ","to"," ",A.jsx("span",{className:"font-semibold",children:Math.min(l*f,C.length)})]}),A.jsx("button",{onClick:()=>d(E=>Math.min(E+1,y)),disabled:l===y,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]})})]})},XWe="https://crm.softwaresetu.com/api",JWe=({onClose:e,templates:t,onSuccess:n})=>{const r=new Date().toISOString().split("T")[0],[o,a]=M.useState({currentDate:r,name:"",position:"",joiningDate:"",salary:"",templateId:""}),[l,d]=M.useState(!1),f=C=>{a({...o,[C.target.name]:C.target.value})},m=async()=>{if(!o.templateId||!o.name||!o.position||!o.joiningDate||!o.salary){Ge.error("Please fill all required fields",{position:"top-center",autoClose:3e3});return}d(!0);try{const C=await je.post(`${XWe}/offerletters/generate`,o);Ge.success("Offer Letter Generated Successfully!",{position:"top-center",autoClose:3e3}),console.log("Generated Letter Response:",C.data),n&&typeof n=="function"&&n(),a({currentDate:r,name:"",position:"",joiningDate:"",salary:"",templateId:""}),setTimeout(()=>{e()},500)}catch(C){console.error("Error generating offer letter:",C);let y="Error generating offer letter";C.response?.data?.message?y=C.response.data.message:C.message&&(y=C.message),Ge.error(y,{position:"top-center",autoClose:4e3})}finally{d(!1)}},v=()=>o.templateId&&o.name&&o.position&&o.joiningDate&&o.salary;return A.jsx(A.Fragment,{children:A.jsx("div",{className:"fixed inset-0 backdrop-blur-sm bg-opacity-30 flex justify-center items-center p-4 z-50",children:A.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md max-h-[90vh] overflow-hidden flex flex-col transform transition-all",children:[A.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-6 rounded-t-2xl relative",children:[A.jsx("button",{onClick:e,disabled:l,className:"absolute right-4 top-4 text-white hover:bg-white hover:bg-opacity-20 rounded-full p-1 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:A.jsx(_U,{size:20})}),A.jsx("h2",{className:"text-2xl font-bold text-white text-center pr-8",children:"Generate Offer Letter"}),A.jsx("p",{className:"text-blue-100 text-center mt-1",children:"Fill in the employee details"})]}),A.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:[A.jsxs("div",{children:[A.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Select Template ",A.jsx("span",{className:"text-red-500",children:"*"})]}),A.jsxs("select",{name:"templateId",value:o.templateId,onChange:f,disabled:l,className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 disabled:opacity-60 disabled:cursor-not-allowed",children:[A.jsx("option",{value:"",children:"Choose a template..."}),t.map(C=>A.jsx("option",{value:C.id,children:C.name},C.id))]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Issue Date"}),A.jsx("input",{name:"currentDate",type:"date",readOnly:!0,className:"w-full border border-gray-300 rounded-xl px-4 py-3 bg-gray-50 text-gray-500 cursor-not-allowed",value:o.currentDate}),A.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Today's date (auto-filled)"})]}),A.jsxs("div",{children:[A.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Employee Name ",A.jsx("span",{className:"text-red-500",children:"*"})]}),A.jsx("input",{name:"name",placeholder:"Enter full name",disabled:l,className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 disabled:opacity-60 disabled:cursor-not-allowed",value:o.name,onChange:f})]}),A.jsxs("div",{children:[A.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Position ",A.jsx("span",{className:"text-red-500",children:"*"})]}),A.jsx("input",{name:"position",placeholder:"Enter job position",disabled:l,className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 disabled:opacity-60 disabled:cursor-not-allowed",value:o.position,onChange:f})]}),A.jsxs("div",{children:[A.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Joining Date ",A.jsx("span",{className:"text-red-500",children:"*"})]}),A.jsx("input",{name:"joiningDate",type:"date",disabled:l,className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 disabled:opacity-60 disabled:cursor-not-allowed",value:o.joiningDate,onChange:f,min:r})]}),A.jsxs("div",{children:[A.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Salary ",A.jsx("span",{className:"text-red-500",children:"*"})]}),A.jsx("input",{name:"salary",type:"number",placeholder:"Enter salary amount",disabled:l,className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 disabled:opacity-60 disabled:cursor-not-allowed",value:o.salary,onChange:f})]})]}),A.jsxs("div",{className:"p-6 border-t border-gray-200 space-y-3 bg-white",children:[A.jsx("button",{onClick:m,disabled:!v()||l,className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white font-semibold py-3 rounded-xl hover:from-blue-700 hover:to-purple-700 transform hover:scale-[1.02] transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none flex items-center justify-center gap-2",children:l?A.jsxs(A.Fragment,{children:[A.jsx(Due,{className:"animate-spin",size:20}),"Generating..."]}):"Generate Offer Letter"}),A.jsx("button",{onClick:e,disabled:l,className:"w-full border border-gray-300 text-gray-700 font-semibold py-3 rounded-xl hover:bg-gray-50 transform hover:scale-[1.02] transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:"Cancel"})]})]})})})},e$e=()=>{const e=yn(),[t,n]=M.useState(!1),[r,o]=M.useState([]),[a,l]=M.useState([]),[d,f]=M.useState(!0),[m,v]=M.useState(null),[C,y]=M.useState(null),S="https://crm.softwaresetu.com/api";M.useEffect(()=>{E()},[]);const E=async()=>{f(!0);try{const[$,z]=await Promise.all([je.get(`${S}/templates`),je.get(`${S}/offerletters`)]);o($.data),l(z.data),console.log("Data fetched successfully:",{templates:$.data.length,offerLetters:z.data.length})}catch($){console.error("Error fetching data:",$),Ge.error("Error loading data")}finally{f(!1)}},T=()=>n(!0),P=async($,z)=>{y(z);try{const K=await je.post(`${S}/offerletters/generate-pdf`,{htmlContent:$},{responseType:"blob",headers:{"Content-Type":"application/json"}}),te=new Blob([K.data],{type:"application/pdf"}),ae=window.URL.createObjectURL(te),X=document.createElement("a");X.href=ae;const Z=a.find(J=>J.id===z),Q=`${(Z?.employee_name||Z?.name||"offer-letter").replace(/\s+/g,"-")}-offer-letter.pdf`;X.download=Q,document.body.appendChild(X),X.click(),window.URL.revokeObjectURL(ae),document.body.removeChild(X),Ge.success("PDF downloaded successfully")}catch(K){console.error("PDF Generation Error:",K),Ge.error("Error generating PDF")}finally{y(null)}},N=async $=>{if(window.confirm("Are you sure you want to delete this offer letter?")){v($);try{await je.delete(`${S}/offerletters/${$}`),l(a.filter(z=>z.id!==$)),Ge.success("Offer letter deleted")}catch(z){console.error("Error deleting offer letter:",z),Ge.error("Error deleting offer letter")}finally{v(null)}}},j=$=>$?`${Number($).toLocaleString("en-IN")}`:"-",L=$=>{if(!$)return"-";try{const z=new Date($);return isNaN(z.getTime())?$:z.toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"})}catch{return $}},V=()=>{n(!1)},U=async()=>{console.log("Offer letter generated successfully, fetching updated data..."),setTimeout(async()=>{await E(),Ge.success("Offer Letter Generated Successfully! List updated.")},300)};return A.jsxs("div",{className:"min-h-screen p-6 sm:p-6",children:[A.jsxs("div",{className:"max-w-7xl mx-auto",children:[A.jsxs("div",{className:"mb-8",children:[A.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[A.jsx(Vde,{className:"h-8 w-8 text-blue-600"}),A.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"HR Dashboard"})]}),A.jsx("p",{className:"text-gray-600 ml-11",children:"Manage offer letters and templates efficiently"})]}),A.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[A.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-200 hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1",children:[A.jsxs("div",{className:"flex items-center mb-4",children:[A.jsx("div",{className:"p-3 bg-blue-100 rounded-xl mr-4",children:A.jsx(Lde,{className:"h-7 w-7 text-blue-600"})}),A.jsxs("div",{children:[A.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Generate Offer Letter"}),A.jsx("p",{className:"text-gray-600 text-sm",children:"Create new offer letters for candidates"})]})]}),A.jsxs("button",{onClick:T,className:"w-full bg-gradient-to-r from-blue-600 to-blue-700 text-white px-6 py-3 rounded-xl hover:from-blue-700 hover:to-blue-800 transition-all duration-200 font-medium flex items-center justify-center gap-2 shadow-md hover:shadow-lg",children:[A.jsx(SM,{className:"h-4 w-4"}),"Generate Offer Letter"]})]}),A.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-200 hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1",children:[A.jsxs("div",{className:"flex items-center mb-4",children:[A.jsx("div",{className:"p-3 bg-green-100 rounded-xl mr-4",children:A.jsx(jde,{className:"h-7 w-7 text-green-600"})}),A.jsxs("div",{children:[A.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Manage Templates"}),A.jsx("p",{className:"text-gray-600 text-sm",children:"Create and manage offer letter templates"})]})]}),A.jsxs("button",{onClick:()=>e("/template"),className:"w-full bg-gradient-to-r from-green-600 to-green-700 text-white px-6 py-3 rounded-xl hover:from-green-700 hover:to-green-800 transition-all duration-200 font-medium flex items-center justify-center gap-2 shadow-md hover:shadow-lg",children:[A.jsx(SM,{className:"h-4 w-4"}),"Go to Templates"]})]})]}),A.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-4 sm:p-6 border border-gray-200",children:[A.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-6 gap-4",children:[A.jsxs("div",{children:[A.jsxs("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 flex items-center gap-2",children:[A.jsx(AM,{className:"h-6 w-6 text-blue-600"}),"Generated Offer Letters"]}),A.jsx("p",{className:"text-gray-600 mt-1",children:"View and manage all generated offer letters"})]}),A.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 bg-gray-50 px-3 py-2 rounded-lg",children:[A.jsx(AM,{className:"h-4 w-4"}),A.jsxs("span",{className:"font-medium",children:[a.length," offer letters"]})]})]}),d?A.jsxs("div",{className:"flex justify-center items-center py-12",children:[A.jsx(_M,{className:"h-8 w-8 text-blue-600 animate-spin"}),A.jsx("span",{className:"ml-3 text-gray-600",children:"Loading offer letters..."})]}):a.length===0?A.jsxs("div",{className:"text-center py-12",children:[A.jsx(AM,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),A.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No offer letters yet"}),A.jsx("p",{className:"text-gray-500 mb-6",children:"Get started by generating your first offer letter."}),A.jsxs("button",{onClick:T,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition duration-200 flex items-center gap-2 mx-auto",children:[A.jsx(SM,{className:"h-4 w-4"}),"Generate Offer Letter"]})]}):A.jsx("div",{className:"overflow-hidden rounded-xl border border-gray-200",children:A.jsx("div",{className:"overflow-x-auto",children:A.jsxs("table",{className:"w-full min-w-[600px]",children:[A.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:A.jsxs("tr",{children:[A.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx(Wde,{className:"h-4 w-4"}),"Employee"]})}),A.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Position"}),A.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx(Ode,{className:"h-4 w-4"}),"Joining Date"]})}),A.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx(Hde,{className:"h-4 w-4"}),"Salary"]})}),A.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Actions"})]})}),A.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a.map($=>A.jsxs("tr",{className:"hover:bg-gray-50",children:[A.jsx("td",{className:"px-4 sm:px-6 py-4 whitespace-nowrap",children:A.jsxs("div",{className:"flex items-center gap-3",children:[A.jsx("div",{className:"h-10 w-10 bg-blue-100 rounded-full flex items-center justify-center",children:A.jsx(Bde,{className:"h-5 w-5 text-blue-600"})}),A.jsxs("div",{children:[A.jsx("div",{className:"text-sm font-medium text-gray-900",children:$.employee_name||$.name||"N/A"}),A.jsxs("div",{className:"text-xs text-gray-500",children:["ID: ",$.id]})]})]})}),A.jsx("td",{className:"px-4 sm:px-6 py-4",children:A.jsx("div",{className:"text-sm text-gray-900",children:$.position||"N/A"})}),A.jsx("td",{className:"px-4 sm:px-6 py-4",children:A.jsx("div",{className:"text-sm bg-blue-50 px-2 py-1 rounded-md inline-block",children:L($.joining_date||$.joiningDate)})}),A.jsx("td",{className:"px-4 sm:px-6 py-4",children:A.jsx("div",{className:"text-sm font-semibold text-green-600 bg-green-50 px-2 py-1 rounded-md inline-block",children:j($.salary)})}),A.jsx("td",{className:"px-4 sm:px-6 py-4",children:A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsxs("button",{onClick:()=>P($.final_html||$.html,$.id),disabled:C===$.id||!$.final_html&&!$.html,className:"inline-flex items-center px-3 py-2 border border-blue-300 text-sm font-medium rounded-lg text-blue-700 bg-blue-50 hover:bg-blue-100 disabled:opacity-50 disabled:cursor-not-allowed",title:!$.final_html&&!$.html?"No PDF available":"Download PDF",children:[C===$.id?A.jsx(_M,{className:"h-3 w-3 mr-1 animate-spin"}):A.jsx(Fde,{className:"h-3 w-3 mr-1"}),"Download PDF"]}),A.jsxs("button",{onClick:()=>N($.id),disabled:m===$.id,className:"inline-flex items-center px-3 py-2 border border-red-300 text-sm font-medium rounded-lg text-red-700 bg-red-50 hover:bg-red-100 disabled:opacity-50",children:[m===$.id?A.jsx(_M,{className:"h-3 w-3 mr-1 animate-spin"}):A.jsx(Gde,{className:"h-3 w-3 mr-1"}),"Delete"]})]})})]},$.id))})]})})})]})]}),t&&A.jsx(JWe,{templates:r,onClose:V,onSuccess:U})]})};function t$e(){const e={resolve:null,promise:null};return e.promise=new Promise(t=>{e.resolve=t}),e}function n$e(e){let t=null;return(...n)=>(t||(t={current:e(...n)}),t.current)}const Vi=new Array(256).fill("").map((e,t)=>("0"+t.toString(16)).slice(-2));function r$e(){const[e,t,n,r]=crypto.getRandomValues(new Uint32Array(4));return"e"+Vi[e>>0&255]+Vi[e>>8&255]+Vi[e>>16&255]+Vi[e>>24&255]+Vi[t>>0&255]+Vi[t>>8&255]+Vi[t>>16&255]+Vi[t>>24&255]+Vi[n>>0&255]+Vi[n>>8&255]+Vi[n>>16&255]+Vi[n>>24&255]+Vi[r>>0&255]+Vi[r>>8&255]+Vi[r>>16&255]+Vi[r>>24&255]}function i$e(e,t){const n=e.extraPlugins||[];return{...e,extraPlugins:[...n,...t.filter(r=>!n.includes(r))]}}function Cee(e){return!!e&&/^\d+\.\d+\.\d+/.test(e)}function yee(e){return e?["nightly","alpha","internal","nightly-","staging"].some(t=>e.includes(t)):!1}function o$e(e){return Cee(e)||yee(e)}function s$e(e){if(!Cee(e))throw new Error(`Invalid semantic version: ${e||"<blank>"}.`);const[t,n,r]=e.split(".");return{major:Number.parseInt(t,10),minor:Number.parseInt(n,10),patch:Number.parseInt(r,10)}}function a$e(e){if(yee(e))return 3;const{major:t}=s$e(e);switch(!0){case t>=44:return 3;case t>=38:return 2;default:return 1}}function l$e(){const{CKEDITOR_VERSION:e,CKEDITOR:t}=window;return o$e(e)?{source:t?"cdn":"npm",version:e}:null}function c$e(){const e=l$e();return e?a$e(e.version):null}function kee(e,t){switch(t||=c$e()||void 0,t){case 1:case 2:return e===void 0;case 3:return e==="GPL";default:return!1}}function d$e(e,t){return function(r){kee(r.config.get("licenseKey"))||r.on("collectUsageData",(o,{setUsageData:a})=>{a(`integration.${e}`,t)})}}var u$e=Object.defineProperty,h$e=(e,t,n)=>t in e?u$e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Wo=(e,t,n)=>h$e(e,typeof t!="symbol"?t+"":t,n);const xee=class Aee{constructor(t,n){Wo(this,"_lifecycle"),Wo(this,"_element"),Wo(this,"_releaseLock",null),Wo(this,"_value",null),Wo(this,"_afterMountCallbacks",[]),Wo(this,"_state",{destroyedBeforeInitialization:!1,mountingInProgress:null}),Wo(this,"release",n$e(()=>{const{_releaseLock:r,_state:o,_element:a,_lifecycle:l}=this;o.mountingInProgress?o.mountingInProgress.then(()=>l.unmount({element:a,mountResult:this.value})).catch(d=>{console.error("CKEditor unmounting error:",d)}).then(r.resolve).then(()=>{this._value=null}):(o.destroyedBeforeInitialization=!0,r.resolve())})),this._element=t,this._lifecycle=n,this._lock()}get value(){return this._value}discard(){this._value=null,this._releaseLock=null,this._afterMountCallbacks=[],this._state={destroyedBeforeInitialization:!1,mountingInProgress:null}}unsafeSetValue(t){this._value=t,this._afterMountCallbacks.forEach(n=>{this._lifecycle.isValueValid&&!this._lifecycle.isValueValid(t)||n(t)}),this._afterMountCallbacks=[]}runAfterMount(t){const{_value:n,_afterMountCallbacks:r}=this;if(n){if(this._lifecycle.isValueValid&&!this._lifecycle.isValueValid(n))return;t(n)}else r.push(t)}_lock(){const{_semaphores:t}=Aee,{_state:n,_element:r,_lifecycle:o}=this,a=t.get(r)||Promise.resolve(null),l=t$e();this._releaseLock=l;const d=a.then(()=>n.destroyedBeforeInitialization?Promise.resolve(void 0):(n.mountingInProgress=o.mount().then(f=>(f&&this.unsafeSetValue(f),f)),n.mountingInProgress)).then(async f=>{f&&o.afterMount&&await o.afterMount({element:r,mountResult:f})}).then(()=>l.promise).catch(f=>{console.error("CKEditor mounting error:",f)}).then(()=>{t.get(r)===d&&t.delete(r)});t.set(r,d)}};Wo(xee,"_semaphores",new Map);let f$e=xee;const p$e="$__CKEditorReactContextMetadata";function g$e(e,t){return{...t,[p$e]:e}}const m$e=ue.createContext(null),b$e=e=>!!e&&typeof e=="object"&&"status"in e&&["initializing","initialized","error"].includes(e.status),See=e=>t=>b$e(t)&&t.status===e,UG=See("initializing"),v$e=e=>See("initialized")(e)&&e.watchdog.state==="ready";const w$e=d$e("react",{version:"11.0.0",frameworkVersion:ue.version});function C$e(e){return kee(e.licenseKey)?e:i$e(e,[w$e])}const aP="Lock from React integration (@ckeditor/ckeditor5-react)";class _ee extends ue.Component{constructor(t){super(t),Wo(this,"domContainer",ue.createRef()),Wo(this,"editorSemaphore",null),this._checkVersion()}_checkVersion(){const{CKEDITOR_VERSION:t}=window;if(!t)return console.warn('Cannot find the "CKEDITOR_VERSION" in the "window" scope.');const[n]=t.split(".").map(Number);n>=42||t.startsWith("0.0.0")||console.warn("The <CKEditor> component requires using CKEditor 5 in version 42+ or nightly build.")}get _semaphoreValue(){const{editorSemaphore:t}=this;return t?t.value:null}get watchdog(){const{_semaphoreValue:t}=this;return t?t.watchdog:null}get editor(){const{_semaphoreValue:t}=this;return t?t.instance:null}shouldComponentUpdate(t){const{props:n,editorSemaphore:r}=this;return t.id!==n.id||t.disableWatchdog!==n.disableWatchdog?!0:(r&&(r.runAfterMount(({instance:o})=>{this._shouldUpdateEditorData(n,t,o)&&o.data.set(t.data)}),"disabled"in t&&r.runAfterMount(({instance:o})=>{t.disabled?o.enableReadOnlyMode(aP):o.disableReadOnlyMode(aP)})),!1)}componentDidMount(){UG(this.context)||this._initLifeCycleSemaphore()}componentDidUpdate(){UG(this.context)||this._initLifeCycleSemaphore()}componentWillUnmount(){this._unlockLifeCycleSemaphore()}_unlockLifeCycleSemaphore(){this.editorSemaphore&&(this.editorSemaphore.release(),this.editorSemaphore=null)}_initLifeCycleSemaphore(){this._unlockLifeCycleSemaphore(),this.editorSemaphore=new f$e(this.domContainer.current,{isValueValid:t=>t&&!!t.instance,mount:async()=>{var t,n;try{return await this._initializeEditor()}catch(r){throw(n=(t=this.props).onError)==null||n.call(t,r,{phase:"initialization",willEditorRestart:!1}),r}},afterMount:({mountResult:t})=>{const{onReady:n}=this.props;n&&this.domContainer.current!==null&&n(t.instance)},unmount:async({element:t,mountResult:n})=>{const{onAfterDestroy:r}=this.props;try{await this._destroyEditor(n),t.innerHTML=""}finally{r&&r(n.instance)}}})}render(){return ue.createElement("div",{ref:this.domContainer})}async _initializeEditor(){if(this.props.disableWatchdog)return{instance:await this._createEditor(this.domContainer.current,this._getConfig()),watchdog:null};const t=v$e(this.context)?new y$e(this.context.watchdog):new this.props.editor.EditorWatchdog(this.props.editor,this.props.watchdogConfig),n={current:0};return t.setCreator(async(r,o)=>{var a;const{editorSemaphore:l}=this,{onAfterDestroy:d}=this.props;n.current>0&&d&&((a=l?.value)!=null&&a.instance)&&d(l.value.instance);const f=await this._createEditor(r,o);return l&&n.current>0&&(l.unsafeSetValue({instance:f,watchdog:t}),setTimeout(()=>{this.props.onReady&&this.props.onReady(t.editor)})),n.current++,f}),t.on("error",(r,{error:o,causesRestart:a})=>{(this.props.onError||console.error)(o,{phase:"runtime",willEditorRestart:a})}),await t.create(this.domContainer.current,this._getConfig()),{watchdog:t,instance:t.editor}}_createEditor(t,n){const{contextItemMetadata:r}=this.props;return r&&(n=g$e(r,n)),this.props.editor.create(t,C$e(n)).then(o=>{if("disabled"in this.props){this.props.disabled&&o.enableReadOnlyMode(aP)}const a=o.model.document,l=o.editing.view.document;return a.on("change:data",d=>{this.props.onChange&&this.props.onChange(d,o)}),l.on("focus",d=>{this.props.onFocus&&this.props.onFocus(d,o)}),l.on("blur",d=>{this.props.onBlur&&this.props.onBlur(d,o)}),o})}async _destroyEditor(t){const{watchdog:n,instance:r}=t;return new Promise((o,a)=>{setTimeout(async()=>{try{if(n)return await n.destroy(),o();if(r)return await r.destroy(),o();o()}catch(l){console.error(l),a(l)}})})}_shouldUpdateEditorData(t,n,r){return!(t.data===n.data||r.data.get()===n.data)}_getConfig(){const t=this.props.config||{};return this.props.data&&t.initialData&&console.warn("Editor data should be provided either using `config.initialData` or `content` property. The config value takes precedence over `content` property and will be used when both are specified."),{...t,initialData:t.initialData||this.props.data||""}}}Wo(_ee,"contextType",m$e);class y$e{constructor(t){Wo(this,"_contextWatchdog"),Wo(this,"_id"),Wo(this,"_creator"),this._contextWatchdog=t,this._id=r$e()}setCreator(t){this._creator=t}create(t,n){return this._contextWatchdog.add({sourceElementOrData:t,config:n,creator:this._creator,id:this._id,type:"editor"})}on(t,n){this._contextWatchdog.on("itemError",(r,{itemId:o,error:a})=>{o===this._id&&n(null,{error:a,causesRestart:void 0})})}destroy(){return this._contextWatchdog.state==="ready"?this._contextWatchdog.remove(this._id):Promise.resolve()}get editor(){return this._contextWatchdog.getItem(this._id)}}function Eee(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}const k$e=M.memo(M.forwardRef(({id:e,semaphore:t,rootName:n},r)=>{const o=M.useRef(null);return M.useEffect(()=>{let a,l;return t.runAfterMount(({instance:d})=>{if(!o.current)return;l=d;const{ui:f,model:m}=l,v=m.document.getRoot(n);v&&l.ui.getEditableElement(n)&&l.detachEditable(v),a=f.view.createEditable(n,o.current),f.addEditable(a),d.editing.view.forceRender()}),()=>{if(l&&l.state!=="destroyed"&&o.current){const d=l.model.document.getRoot(n);d&&l.detachEditable(d)}}},[t.revision]),ue.createElement("div",{key:t.revision,id:e,ref:Eee(r,o)})}));k$e.displayName="EditorEditable";const x$e=M.forwardRef(({editor:e},t)=>{const n=M.useRef(null);return M.useEffect(()=>{const r=n.current;if(!e||!r)return;const o=e.ui.view.toolbar.element;return r.appendChild(o),()=>{r.contains(o)&&r.removeChild(o)}},[e&&e.id]),ue.createElement("div",{ref:Eee(n,t)})});x$e.displayName="EditorToolbarWrapper";var Cy={exports:{}};Cy.exports;var WG;function A$e(){return WG||(WG=1,(function(e,t){(function(n){const r=n.en=n.en||{};r.dictionary=Object.assign(r.dictionary||{},{"(may require <kbd>Fn</kbd>)":"(may require <kbd>Fn</kbd>)","%0 of %1":"%0 of %1",Accept:"Accept",Accessibility:"Accessibility","Accessibility help":"Accessibility help","Align cell text to the bottom":"Align cell text to the bottom","Align cell text to the center":"Align cell text to the center","Align cell text to the left":"Align cell text to the left","Align cell text to the middle":"Align cell text to the middle","Align cell text to the right":"Align cell text to the right","Align cell text to the top":"Align cell text to the top","Align table to the left":"Align table to the left","Align table to the right":"Align table to the right",Alignment:"Alignment",Aquamarine:"Aquamarine",Background:"Background","Below, you can find a list of keyboard shortcuts that can be used in the editor.":"Below, you can find a list of keyboard shortcuts that can be used in the editor.",Black:"Black","Block quote":"Block quote",Blue:"Blue",Bold:"Bold","Bold text":"Bold text",Border:"Border","Break text":"Break text","Bulleted List":"Bulleted List","Bulleted list styles toolbar":"Bulleted list styles toolbar",Cancel:"Cancel","Cannot access default workspace.":"Cannot access default workspace.","Cannot determine a category for the uploaded file.":"Cannot determine a category for the uploaded file.","Cannot upload file:":"Cannot upload file:","Caption for image: %0":"Caption for image: %0","Caption for the image":"Caption for the image","Cell properties":"Cell properties","Center table":"Center table","Centered image":"Centered image","Change image text alternative":"Change image text alternative","Choose heading":"Choose heading",Circle:"Circle",Clear:"Clear","Click to edit block":"Click to edit block",Close:"Close","Close contextual balloons, dropdowns, and dialogs":"Close contextual balloons, dropdowns, and dialogs",Code:"Code",Color:"Color","Color picker":"Color picker",Column:"Column","Content editing keystrokes":"Content editing keystrokes","Copy selected content":"Copy selected content","Could not insert image at the current position.":"Could not insert image at the current position.","Could not obtain resized image URL.":"Could not obtain resized image URL.","Create link":"Create link",Custom:"Custom","Custom image size":"Custom image size",Dashed:"Dashed",Decimal:"Decimal","Decimal with leading zero":"Decimal with leading zero","Decrease indent":"Decrease indent","Decrease list item indent":"Decrease list item indent","Delete column":"Delete column","Delete row":"Delete row","Dim grey":"Dim grey",Dimensions:"Dimensions",Disc:"Disc",Dotted:"Dotted",Double:"Double",Downloadable:"Downloadable","Drag to move":"Drag to move","Dropdown toolbar":"Dropdown toolbar","Edit block":"Edit block","Edit image":"Edit image","Edit link":"Edit link","Editor block content toolbar":"Editor block content toolbar","Editor contextual toolbar":"Editor contextual toolbar","Editor dialog":"Editor dialog","Editor editing area: %0":"Editor editing area: %0","Editor menu bar":"Editor menu bar","Editor toolbar":"Editor toolbar","Enter image caption":"Enter image caption","Enter table caption":"Enter table caption","Entering a to-do list":"Entering a to-do list","Error during image upload":"Error during image upload","Execute the currently focused button. Executing buttons that interact with the editor content moves the focus back to the content.":"Execute the currently focused button. Executing buttons that interact with the editor content moves the focus back to the content.","Failed to determine category of edited image.":"Failed to determine category of edited image.","Full size image":"Full size image",Green:"Green",Grey:"Grey",Groove:"Groove","Header column":"Header column","Header row":"Header row",Heading:"Heading","Heading 1":"Heading 1","Heading 2":"Heading 2","Heading 3":"Heading 3","Heading 4":"Heading 4","Heading 5":"Heading 5","Heading 6":"Heading 6",Height:"Height","Help Contents. To close this dialog press ESC.":"Help Contents. To close this dialog press ESC.",HEX:"HEX","Horizontal text alignment toolbar":"Horizontal text alignment toolbar","Image from computer":"Image from computer","Image resize list":"Image resize list","Image toolbar":"Image toolbar","Image upload complete":"Image upload complete","image widget":"image widget","In line":"In line","Increase indent":"Increase indent","Increase list item indent":"Increase list item indent",Insert:"Insert","Insert a hard break (a new paragraph)":"Insert a hard break (a new paragraph)","Insert a new paragraph directly after a widget":"Insert a new paragraph directly after a widget","Insert a new paragraph directly before a widget":"Insert a new paragraph directly before a widget","Insert a new table row (when in the last cell of a table)":"Insert a new table row (when in the last cell of a table)","Insert a soft break (a <code>&lt;br&gt;</code> element)":"Insert a soft break (a <code>&lt;br&gt;</code> element)","Insert column left":"Insert column left","Insert column right":"Insert column right","Insert image":"Insert image","Insert image via URL":"Insert image via URL","Insert image with file manager":"Insert image with file manager","Insert media":"Insert media","Insert paragraph after block":"Insert paragraph after block","Insert paragraph before block":"Insert paragraph before block","Insert row above":"Insert row above","Insert row below":"Insert row below","Insert table":"Insert table","Insert with file manager":"Insert with file manager","Inserting image failed":"Inserting image failed",Inset:"Inset","Invalid start index value.":"Invalid start index value.",Italic:"Italic","Italic text":"Italic text","Justify cell text":"Justify cell text","Keystrokes that can be used in a list":"Keystrokes that can be used in a list","Keystrokes that can be used in a table cell":"Keystrokes that can be used in a table cell","Keystrokes that can be used when a widget is selected (for example: image, table, etc.)":"Keystrokes that can be used when a widget is selected (for example: image, table, etc.)","Leaving a to-do list":"Leaving a to-do list","Left aligned image":"Left aligned image","Light blue":"Light blue","Light green":"Light green","Light grey":"Light grey",Link:"Link","Link image":"Link image","Link URL":"Link URL","Link URL must not be empty.":"Link URL must not be empty.","List properties":"List properties","Lower-latin":"Lower-latin","Lowerroman":"Lowerroman","Media toolbar":"Media toolbar","Media URL":"Media URL","media widget":"media widget",MENU_BAR_MENU_EDIT:"Edit",MENU_BAR_MENU_FILE:"File",MENU_BAR_MENU_FONT:"Font",MENU_BAR_MENU_FORMAT:"Format",MENU_BAR_MENU_HELP:"Help",MENU_BAR_MENU_INSERT:"Insert",MENU_BAR_MENU_TEXT:"Text",MENU_BAR_MENU_TOOLS:"Tools",MENU_BAR_MENU_VIEW:"View","Merge cell down":"Merge cell down","Merge cell left":"Merge cell left","Merge cell right":"Merge cell right","Merge cell up":"Merge cell up","Merge cells":"Merge cells","Move focus between form fields (inputs, buttons, etc.)":"Move focus between form fields (inputs, buttons, etc.)","Move focus in and out of an active dialog window":"Move focus in and out of an active dialog window","Move focus to the menu bar, navigate between menu bars":"Move focus to the menu bar, navigate between menu bars","Move focus to the toolbar, navigate between toolbars":"Move focus to the toolbar, navigate between toolbars","Move out of a link":"Move out of a link","Move out of an inline code style":"Move out of an inline code style","Move the caret to allow typing directly after a widget":"Move the caret to allow typing directly after a widget","Move the caret to allow typing directly before a widget":"Move the caret to allow typing directly before a widget","Move the selection to the next cell":"Move the selection to the next cell","Move the selection to the previous cell":"Move the selection to the previous cell","Navigate through the table":"Navigate through the table","Navigate through the toolbar or menu bar":"Navigate through the toolbar or menu bar",Next:"Next","No results found":"No results found","No searchable items":"No searchable items",None:"None","Numbered List":"Numbered List","Numbered list styles toolbar":"Numbered list styles toolbar","Open file manager":"Open file manager","Open in a new tab":"Open in a new tab","Open link in new tab":"Open link in new tab","Open media in new tab":"Open media in new tab","Open the accessibility help dialog":"Open the accessibility help dialog",Orange:"Orange",Original:"Original",Outset:"Outset",Padding:"Padding",Paragraph:"Paragraph","Paste content":"Paste content","Paste content as plain text":"Paste content as plain text","Paste the media URL in the input.":"Paste the media URL in the input.",'Please enter a valid color (e.g. "ff0000").':'Please enter a valid color (e.g. "ff0000").',"Press %0 for help.":"Press %0 for help.","Press Enter to type after or press Shift + Enter to type before the widget":"Press Enter to type after or press Shift + Enter to type before the widget",Previous:"Previous","Processing the edited image.":"Processing the edited image.",Purple:"Purple",Red:"Red",Redo:"Redo","Remove color":"Remove color","Replace from computer":"Replace from computer","Replace image":"Replace image","Replace image from computer":"Replace image from computer","Replace image with file manager":"Replace image with file manager","Replace with file manager":"Replace with file manager","Resize image":"Resize image","Resize image (in %0)":"Resize image (in %0)","Resize image to %0":"Resize image to %0","Resize image to the original size":"Resize image to the original size","Restore default":"Restore default","Reversed order":"Reversed order","Revert autoformatting action":"Revert autoformatting action","Rich Text Editor":"Rich Text Editor",Ridge:"Ridge","Right aligned image":"Right aligned image",Row:"Row",Save:"Save","Select all":"Select all","Select column":"Select column","Select row":"Select row","Selecting resized image failed":"Selecting resized image failed","Server failed to process the image.":"Server failed to process the image.","Show more items":"Show more items","Side image":"Side image",Solid:"Solid","Split cell horizontally":"Split cell horizontally","Split cell vertically":"Split cell vertically",Square:"Square","Start at":"Start at","Start index must be greater than 0.":"Start index must be greater than 0.",Strikethrough:"Strikethrough","Strikethrough text":"Strikethrough text",Style:"Style",Subscript:"Subscript",Superscript:"Superscript",Table:"Table","Table alignment toolbar":"Table alignment toolbar","Table cell text alignment":"Table cell text alignment","Table properties":"Table properties","Table toolbar":"Table toolbar","Text alternative":"Text alternative",'The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".':'The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".',"The URL must not be empty.":"The URL must not be empty.",'The value is invalid. Try "10px" or "2em" or simply "2".':'The value is invalid. Try "10px" or "2em" or simply "2".',"The value must not be empty.":"The value must not be empty.","The value should be a plain number.":"The value should be a plain number.","These keyboard shortcuts allow for quick access to content editing features.":"These keyboard shortcuts allow for quick access to content editing features.","This link has no URL":"This link has no URL","This media URL is not supported.":"This media URL is not supported.","Tip: Paste the URL into the content to embed faster.":"Tip: Paste the URL into the content to embed faster.","To-do List":"To-do List","Toggle caption off":"Toggle caption off","Toggle caption on":"Toggle caption on","Toggle the circle list style":"Toggle the circle list style","Toggle the decimal list style":"Toggle the decimal list style","Toggle the decimal with leading zero list style":"Toggle the decimal with leading zero list style","Toggle the disc list style":"Toggle the disc list style","Toggle the lowerlatin list style":"Toggle the lowerlatin list style","Toggle the lowerroman list style":"Toggle the lowerroman list style","Toggle the square list style":"Toggle the square list style","Toggle the upperlatin list style":"Toggle the upperlatin list style","Toggle the upperroman list style":"Toggle the upperroman list style",Turquoise:"Turquoise","Type or paste your content here.":"Type or paste your content here.","Type your title":"Type your title",Underline:"Underline","Underline text":"Underline text",Undo:"Undo",Unlink:"Unlink",Update:"Update","Update image URL":"Update image URL","Upload failed":"Upload failed","Upload from computer":"Upload from computer","Upload image from computer":"Upload image from computer","Upload in progress":"Upload in progress","Uploading image":"Uploading image","Upper-latin":"Upper-latin","Upper-roman":"Upper-roman","Use the following keystrokes for more efficient navigation in the CKEditor 5 user interface.":"Use the following keystrokes for more efficient navigation in the CKEditor 5 user interface.","User interface and content navigation keystrokes":"User interface and content navigation keystrokes","Vertical text alignment toolbar":"Vertical text alignment toolbar",White:"White","Widget toolbar":"Widget toolbar",Width:"Width","Wrap text":"Wrap text",Yellow:"Yellow"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(function(n,r){e.exports=r()})(self,(()=>(()=>{var n={9246:(l,d,f)=>{const m=f(6931),v={};for(const y of Object.keys(m))v[m[y]]=y;const C={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};l.exports=C;for(const y of Object.keys(C)){if(!("channels"in C[y]))throw new Error("missing channels property: "+y);if(!("labels"in C[y]))throw new Error("missing channel labels property: "+y);if(C[y].labels.length!==C[y].channels)throw new Error("channel and label counts mismatch: "+y);const{channels:S,labels:E}=C[y];delete C[y].channels,delete C[y].labels,Object.defineProperty(C[y],"channels",{value:S}),Object.defineProperty(C[y],"labels",{value:E})}C.rgb.hsl=function(y){const S=y[0]/255,E=y[1]/255,T=y[2]/255,P=Math.min(S,E,T),N=Math.max(S,E,T),j=N-P;let L,V;N===P?L=0:S===N?L=(E-T)/j:E===N?L=2+(T-S)/j:T===N&&(L=4+(S-E)/j),L=Math.min(60*L,360),L<0&&(L+=360);const U=(P+N)/2;return V=N===P?0:U<=.5?j/(N+P):j/(2-N-P),[L,100*V,100*U]},C.rgb.hsv=function(y){let S,E,T,P,N;const j=y[0]/255,L=y[1]/255,V=y[2]/255,U=Math.max(j,L,V),$=U-Math.min(j,L,V),z=function(K){return(U-K)/6/$+.5};return $===0?(P=0,N=0):(N=$/U,S=z(j),E=z(L),T=z(V),j===U?P=T-E:L===U?P=.3333333333333333+S-T:V===U&&(P=.6666666666666666+E-S),P<0?P+=1:P>1&&(P-=1)),[360*P,100*N,100*U]},C.rgb.hwb=function(y){const S=y[0],E=y[1];let T=y[2];const P=C.rgb.hsl(y)[0],N=1/255*Math.min(S,Math.min(E,T));return T=1-.00392156862745098*Math.max(S,Math.max(E,T)),[P,100*N,100*T]},C.rgb.cmyk=function(y){const S=y[0]/255,E=y[1]/255,T=y[2]/255,P=Math.min(1-S,1-E,1-T);return[100*((1-S-P)/(1-P)||0),100*((1-E-P)/(1-P)||0),100*((1-T-P)/(1-P)||0),100*P]},C.rgb.keyword=function(y){const S=v[y];if(S)return S;let E,T=1/0;for(const j of Object.keys(m)){const L=m[j],V=(N=L,((P=y)[0]-N[0])**2+(P[1]-N[1])**2+(P[2]-N[2])**2);V<T&&(T=V,E=j)}var P,N;return E},C.keyword.rgb=function(y){return m[y]},C.rgb.xyz=function(y){let S=y[0]/255,E=y[1]/255,T=y[2]/255;return S=S>.04045?((S+.055)/1.055)**2.4:S/12.92,E=E>.04045?((E+.055)/1.055)**2.4:E/12.92,T=T>.04045?((T+.055)/1.055)**2.4:T/12.92,[100*(.4124*S+.3576*E+.1805*T),100*(.2126*S+.7152*E+.0722*T),100*(.0193*S+.1192*E+.9505*T)]},C.rgb.lab=function(y){const S=C.rgb.xyz(y);let E=S[0],T=S[1],P=S[2];return E/=95.047,T/=100,P/=108.883,E=E>.008856?E**.3333333333333333:7.787*E+.13793103448275862,T=T>.008856?T**.3333333333333333:7.787*T+.13793103448275862,P=P>.008856?P**.3333333333333333:7.787*P+.13793103448275862,[116*T-16,500*(E-T),200*(T-P)]},C.hsl.rgb=function(y){const S=y[0]/360,E=y[1]/100,T=y[2]/100;let P,N,j;if(E===0)return j=255*T,[j,j,j];P=T<.5?T*(1+E):T+E-T*E;const L=2*T-P,V=[0,0,0];for(let U=0;U<3;U++)N=S+.3333333333333333*-(U-1),N<0&&N++,N>1&&N--,j=6*N<1?L+6*(P-L)*N:2*N<1?P:3*N<2?L+(P-L)*(.6666666666666666-N)*6:L,V[U]=255*j;return V},C.hsl.hsv=function(y){const S=y[0];let E=y[1]/100,T=y[2]/100,P=E;const N=Math.max(T,.01);return T*=2,E*=T<=1?T:2-T,P*=N<=1?N:2-N,[S,100*(T===0?2*P/(N+P):2*E/(T+E)),100*((T+E)/2)]},C.hsv.rgb=function(y){const S=y[0]/60,E=y[1]/100;let T=y[2]/100;const P=Math.floor(S)%6,N=S-Math.floor(S),j=255*T*(1-E),L=255*T*(1-E*N),V=255*T*(1-E*(1-N));switch(T*=255,P){case 0:return[T,V,j];case 1:return[L,T,j];case 2:return[j,T,V];case 3:return[j,L,T];case 4:return[V,j,T];case 5:return[T,j,L]}},C.hsv.hsl=function(y){const S=y[0],E=y[1]/100,T=y[2]/100,P=Math.max(T,.01);let N,j;j=(2-E)*T;const L=(2-E)*P;return N=E*P,N/=L<=1?L:2-L,N=N||0,j/=2,[S,100*N,100*j]},C.hwb.rgb=function(y){const S=y[0]/360;let E=y[1]/100,T=y[2]/100;const P=E+T;let N;P>1&&(E/=P,T/=P);const j=Math.floor(6*S),L=1-T;N=6*S-j,1&j&&(N=1-N);const V=E+N*(L-E);let U,$,z;switch(j){default:case 6:case 0:U=L,$=V,z=E;break;case 1:U=V,$=L,z=E;break;case 2:U=E,$=L,z=V;break;case 3:U=E,$=V,z=L;break;case 4:U=V,$=E,z=L;break;case 5:U=L,$=E,z=V}return[255*U,255*$,255*z]},C.cmyk.rgb=function(y){const S=y[0]/100,E=y[1]/100,T=y[2]/100,P=y[3]/100;return[255*(1-Math.min(1,S*(1-P)+P)),255*(1-Math.min(1,E*(1-P)+P)),255*(1-Math.min(1,T*(1-P)+P))]},C.xyz.rgb=function(y){const S=y[0]/100,E=y[1]/100,T=y[2]/100;let P,N,j;return P=3.2406*S+-1.5372*E+-.4986*T,N=-.9689*S+1.8758*E+.0415*T,j=.0557*S+-.204*E+1.057*T,P=P>.0031308?1.055*P**.4166666666666667-.055:12.92*P,N=N>.0031308?1.055*N**.4166666666666667-.055:12.92*N,j=j>.0031308?1.055*j**.4166666666666667-.055:12.92*j,P=Math.min(Math.max(0,P),1),N=Math.min(Math.max(0,N),1),j=Math.min(Math.max(0,j),1),[255*P,255*N,255*j]},C.xyz.lab=function(y){let S=y[0],E=y[1],T=y[2];return S/=95.047,E/=100,T/=108.883,S=S>.008856?S**.3333333333333333:7.787*S+.13793103448275862,E=E>.008856?E**.3333333333333333:7.787*E+.13793103448275862,T=T>.008856?T**.3333333333333333:7.787*T+.13793103448275862,[116*E-16,500*(S-E),200*(E-T)]},C.lab.xyz=function(y){let S,E,T;E=(y[0]+16)/116,S=y[1]/500+E,T=E-y[2]/200;const P=E**3,N=S**3,j=T**3;return E=P>.008856?P:(E-.13793103448275862)/7.787,S=N>.008856?N:(S-.13793103448275862)/7.787,T=j>.008856?j:(T-.13793103448275862)/7.787,S*=95.047,E*=100,T*=108.883,[S,E,T]},C.lab.lch=function(y){const S=y[0],E=y[1],T=y[2];let P;return P=360*Math.atan2(T,E)/2/Math.PI,P<0&&(P+=360),[S,Math.sqrt(E*E+T*T),P]},C.lch.lab=function(y){const S=y[0],E=y[1],T=y[2]/360*2*Math.PI;return[S,E*Math.cos(T),E*Math.sin(T)]},C.rgb.ansi16=function(y,S=null){const[E,T,P]=y;let N=S===null?C.rgb.hsv(y)[2]:S;if(N=Math.round(N/50),N===0)return 30;let j=30+(Math.round(P/255)<<2|Math.round(T/255)<<1|Math.round(E/255));return N===2&&(j+=60),j},C.hsv.ansi16=function(y){return C.rgb.ansi16(C.hsv.rgb(y),y[2])},C.rgb.ansi256=function(y){const S=y[0],E=y[1],T=y[2];return S===E&&E===T?S<8?16:S>248?231:Math.round((S-8)/247*24)+232:16+36*Math.round(S/255*5)+6*Math.round(E/255*5)+Math.round(T/255*5)},C.ansi16.rgb=function(y){let S=y%10;if(S===0||S===7)return y>50&&(S+=3.5),S=S/10.5*255,[S,S,S];const E=.5*(1+~~(y>50));return[(1&S)*E*255,(S>>1&1)*E*255,(S>>2&1)*E*255]},C.ansi256.rgb=function(y){if(y>=232){const E=10*(y-232)+8;return[E,E,E]}let S;return y-=16,[Math.floor(y/36)/5*255,Math.floor((S=y%36)/6)/5*255,S%6/5*255]},C.rgb.hex=function(y){const S=(((255&Math.round(y[0]))<<16)+((255&Math.round(y[1]))<<8)+(255&Math.round(y[2]))).toString(16).toUpperCase();return"000000".substring(S.length)+S},C.hex.rgb=function(y){const S=y.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!S)return[0,0,0];let E=S[0];S[0].length===3&&(E=E.split("").map((P=>P+P)).join(""));const T=parseInt(E,16);return[T>>16&255,T>>8&255,255&T]},C.rgb.hcg=function(y){const S=y[0]/255,E=y[1]/255,T=y[2]/255,P=Math.max(Math.max(S,E),T),N=Math.min(Math.min(S,E),T),j=P-N;let L,V;return L=j<1?N/(1-j):0,V=j<=0?0:P===S?(E-T)/j%6:P===E?2+(T-S)/j:4+(S-E)/j,V/=6,V%=1,[360*V,100*j,100*L]},C.hsl.hcg=function(y){const S=y[1]/100,E=y[2]/100,T=E<.5?2*S*E:2*S*(1-E);let P=0;return T<1&&(P=(E-.5*T)/(1-T)),[y[0],100*T,100*P]},C.hsv.hcg=function(y){const S=y[1]/100,E=y[2]/100,T=S*E;let P=0;return T<1&&(P=(E-T)/(1-T)),[y[0],100*T,100*P]},C.hcg.rgb=function(y){const S=y[0]/360,E=y[1]/100,T=y[2]/100;if(E===0)return[255*T,255*T,255*T];const P=[0,0,0],N=S%1*6,j=N%1,L=1-j;let V=0;switch(Math.floor(N)){case 0:P[0]=1,P[1]=j,P[2]=0;break;case 1:P[0]=L,P[1]=1,P[2]=0;break;case 2:P[0]=0,P[1]=1,P[2]=j;break;case 3:P[0]=0,P[1]=L,P[2]=1;break;case 4:P[0]=j,P[1]=0,P[2]=1;break;default:P[0]=1,P[1]=0,P[2]=L}return V=(1-E)*T,[255*(E*P[0]+V),255*(E*P[1]+V),255*(E*P[2]+V)]},C.hcg.hsv=function(y){const S=y[1]/100,E=S+y[2]/100*(1-S);let T=0;return E>0&&(T=S/E),[y[0],100*T,100*E]},C.hcg.hsl=function(y){const S=y[1]/100,E=y[2]/100*(1-S)+.5*S;let T=0;return E>0&&E<.5?T=S/(2*E):E>=.5&&E<1&&(T=S/(2*(1-E))),[y[0],100*T,100*E]},C.hcg.hwb=function(y){const S=y[1]/100,E=S+y[2]/100*(1-S);return[y[0],100*(E-S),100*(1-E)]},C.hwb.hcg=function(y){const S=y[1]/100,E=1-y[2]/100,T=E-S;let P=0;return T<1&&(P=(E-T)/(1-T)),[y[0],100*T,100*P]},C.apple.rgb=function(y){return[y[0]/65535*255,y[1]/65535*255,y[2]/65535*255]},C.rgb.apple=function(y){return[y[0]/255*65535,y[1]/255*65535,y[2]/255*65535]},C.gray.rgb=function(y){return[y[0]/100*255,y[0]/100*255,y[0]/100*255]},C.gray.hsl=function(y){return[0,0,y[0]]},C.gray.hsv=C.gray.hsl,C.gray.hwb=function(y){return[0,100,y[0]]},C.gray.cmyk=function(y){return[0,0,0,y[0]]},C.gray.lab=function(y){return[y[0],0,0]},C.gray.hex=function(y){const S=255&Math.round(y[0]/100*255),E=((S<<16)+(S<<8)+S).toString(16).toUpperCase();return"000000".substring(E.length)+E},C.rgb.gray=function(y){return[(y[0]+y[1]+y[2])/3/255*100]}},9047:(l,d,f)=>{const m=f(9246),v=f(802),C={};Object.keys(m).forEach((y=>{C[y]={},Object.defineProperty(C[y],"channels",{value:m[y].channels}),Object.defineProperty(C[y],"labels",{value:m[y].labels});const S=v(y);Object.keys(S).forEach((E=>{const T=S[E];C[y][E]=(function(P){const N=function(...j){const L=j[0];if(L==null)return L;L.length>1&&(j=L);const V=P(j);if(typeof V=="object")for(let U=V.length,$=0;$<U;$++)V[$]=Math.round(V[$]);return V};return"conversion"in P&&(N.conversion=P.conversion),N})(T),C[y][E].raw=(function(P){const N=function(...j){const L=j[0];return L==null?L:(L.length>1&&(j=L),P(j))};return"conversion"in P&&(N.conversion=P.conversion),N})(T)}))})),l.exports=C},802:(l,d,f)=>{const m=f(9246);function v(S){const E=(function(){const P={},N=Object.keys(m);for(let j=N.length,L=0;L<j;L++)P[N[L]]={distance:-1,parent:null};return P})(),T=[S];for(E[S].distance=0;T.length;){const P=T.pop(),N=Object.keys(m[P]);for(let j=N.length,L=0;L<j;L++){const V=N[L],U=E[V];U.distance===-1&&(U.distance=E[P].distance+1,U.parent=P,T.unshift(V))}}return E}function C(S,E){return function(T){return E(S(T))}}function y(S,E){const T=[E[S].parent,S];let P=m[E[S].parent][S],N=E[S].parent;for(;E[N].parent;)T.unshift(E[N].parent),P=C(m[E[N].parent][N],P),N=E[N].parent;return P.conversion=T,P}l.exports=function(S){const E=v(S),T={},P=Object.keys(E);for(let N=P.length,j=0;j<N;j++){const L=P[j];E[L].parent!==null&&(T[L]=y(L,E))}return T}},6931:l=>{l.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},4199:(l,d,f)=>{f.d(d,{A:()=>S});var m=f(9372),v=f.n(m),C=f(935),y=f.n(C)()(v());y.push([l.id,".ck-content code{background-color:hsla(0,0%,78%,.3);border-radius:2px;padding:.15em}.ck.ck-editor__editable .ck-code_selected{background-color:hsla(0,0%,78%,.5)}","",{version:3,sources:["webpack://./../ckeditor5-basic-styles/theme/code.css"],names:[],mappings:"AAKA,iBACC,kCAAuC,CAEvC,iBAAkB,CADlB,aAED,CAEA,0CACC,kCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content code {
	background-color: hsla(0, 0%, 78%, 0.3);
	padding: .15em;
	border-radius: 2px;
}

.ck.ck-editor__editable .ck-code_selected  {
	background-color: hsla(0, 0%, 78%, 0.5);
}
`],sourceRoot:""}]);const S=y},8708:(l,d,f)=>{f.d(d,{A:()=>S});var m=f(9372),v=f.n(m),C=f(935),y=f.n(C)()(v());y.push([l.id,".ck-content blockquote{border-left:5px solid #ccc;font-style:italic;margin-left:0;margin-right:0;overflow:hidden;padding-left:1.5em;padding-right:1.5em}.ck-content[dir=rtl] blockquote{border-left:0;border-right:5px solid #ccc}","",{version:3,sources:["webpack://./../ckeditor5-block-quote/theme/blockquote.css"],names:[],mappings:"AAKA,uBAWC,0BAAsC,CADtC,iBAAkB,CAFlB,aAAc,CACd,cAAe,CAPf,eAAgB,CAIhB,kBAAmB,CADnB,mBAOD,CAEA,gCACC,aAAc,CACd,2BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content blockquote {
	/* See #12 */
	overflow: hidden;

	/* https://github.com/ckeditor/ckeditor5-block-quote/issues/15 */
	padding-right: 1.5em;
	padding-left: 1.5em;

	margin-left: 0;
	margin-right: 0;
	font-style: italic;
	border-left: solid 5px hsl(0, 0%, 80%);
}

.ck-content[dir="rtl"] blockquote {
	border-left: 0;
	border-right: solid 5px hsl(0, 0%, 80%);
}
`],sourceRoot:""}]);const S=y},1866:(l,d,f)=>{f.d(d,{A:()=>S});var m=f(9372),v=f.n(m),C=f(935),y=f.n(C)()(v());y.push([l.id,':root{--ck-image-processing-highlight-color:#f9fafa;--ck-image-processing-background-color:#e3e5e8}.ck.ck-editor__editable .image.image-processing{position:relative}.ck.ck-editor__editable .image.image-processing:before{animation:ck-image-processing-animation 2s linear infinite;background:linear-gradient(90deg,var(--ck-image-processing-background-color),var(--ck-image-processing-highlight-color),var(--ck-image-processing-background-color));background-size:200% 100%;content:"";height:100%;left:0;position:absolute;top:0;width:100%;z-index:1}.ck.ck-editor__editable .image.image-processing img{height:100%}@keyframes ck-image-processing-animation{0%{background-position:200% 0}to{background-position:-200% 0}}',"",{version:3,sources:["webpack://./../ckeditor5-ckbox/theme/ckboximageedit.css"],names:[],mappings:"AAKA,MAEC,6CAAyD,CACzD,8CACD,CAIE,gDACC,iBA2BD,CAzBC,uDAmBC,0DAA2D,CAR3D,oKAKC,CACD,yBAA0B,CAhB1B,UAAW,CAOX,WAAY,CAHZ,MAAO,CAFP,iBAAkB,CAClB,KAAM,CAKN,UAAW,CAHX,SAcD,CAEA,oDACC,WACD,CAKH,yCACC,GACC,0BACD,CACA,GACC,2BACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* Based on default CKBox theme colors */
	--ck-image-processing-highlight-color: hsl(220, 10%, 98%);
	--ck-image-processing-background-color: hsl(220, 10%, 90%);
}

.ck.ck-editor__editable {
	& .image {
		&.image-processing {
			position: relative;

			&:before {
				content: '';

				position: absolute;
				top: 0;
				left: 0;
				z-index: 1;

				height: 100%;
				width: 100%;

				background: linear-gradient(
					90deg,
					var(--ck-image-processing-background-color),
					var(--ck-image-processing-highlight-color),
					var(--ck-image-processing-background-color)
				);
				background-size: 200% 100%;

				animation: ck-image-processing-animation 2s linear infinite;
			}

			& img {
				height: 100%;
			}
		}
	}
}

@keyframes ck-image-processing-animation {
	0% {
		background-position: 200% 0;
	}
	100% {
		background-position: -200% 0;
	}
}
`],sourceRoot:""}]);const S=y},7793:(l,d,f)=>{f.d(d,{A:()=>S});var m=f(9372),v=f.n(m),C=f(935),y=f.n(C)()(v());y.push([l.id,'.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position{display:inline;pointer-events:none;position:relative}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{position:absolute;width:0}.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__selection-handle,.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__type-around{display:none}.ck.ck-clipboard-drop-target-line{pointer-events:none;position:absolute}:root{--ck-clipboard-drop-target-dot-width:12px;--ck-clipboard-drop-target-dot-height:8px;--ck-clipboard-drop-target-color:var(--ck-color-focus-border)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);bottom:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);margin-left:-1px;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span:after{border-color:var(--ck-clipboard-drop-target-color) transparent transparent transparent;border-style:solid;border-width:calc(var(--ck-clipboard-drop-target-dot-height)) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5);content:"";display:block;height:0;left:50%;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);transform:translateX(-50%);width:0}.ck.ck-editor__editable .ck-widget.ck-clipboard-drop-target-range{outline:var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color)!important}.ck.ck-editor__editable .ck-widget:-webkit-drag{zoom:.6;outline:none!important}.ck.ck-clipboard-drop-target-line{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);height:0;margin-top:-1px}.ck.ck-clipboard-drop-target-line:before{border-style:solid;content:"";height:0;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-width)*-.5);width:0}[dir=ltr] .ck.ck-clipboard-drop-target-line:before{border-color:transparent transparent transparent var(--ck-clipboard-drop-target-color);border-width:calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5) var(--ck-clipboard-drop-target-dot-height);left:-1px}[dir=rtl] .ck.ck-clipboard-drop-target-line:before{border-color:transparent var(--ck-clipboard-drop-target-color) transparent transparent;border-width:calc(var(--ck-clipboard-drop-target-dot-width)*.5) var(--ck-clipboard-drop-target-dot-height) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0;right:-1px}',"",{version:3,sources:["webpack://./../ckeditor5-clipboard/theme/clipboard.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-clipboard/clipboard.css"],names:[],mappings:"AASC,8DACC,cAAe,CAEf,mBAAoB,CADpB,iBAOD,CAJC,mEACC,iBAAkB,CAClB,OACD,CAWA,qJACC,YACD,CAIF,kCAEC,mBAAoB,CADpB,iBAED,CC9BA,MACC,yCAA0C,CAC1C,yCAA0C,CAC1C,6DACD,CAOE,mEAIC,gDAAiD,CADjD,sDAAuD,CAFvD,2DAA8D,CAI9D,gBAAiB,CAHjB,wDAqBD,CAfC,yEAWC,sFAAuF,CAEvF,kBAAmB,CADnB,qKAA0K,CAX1K,UAAW,CAIX,aAAc,CAFd,QAAS,CAIT,QAAS,CADT,iBAAkB,CAElB,wDAA2D,CAE3D,0BAA2B,CAR3B,OAYD,CAOF,kEACC,gGACD,CAKA,gDACC,OAAS,CACT,sBACD,CAGD,kCAGC,gDAAiD,CADjD,sDAAuD,CADvD,QAAS,CAGT,eAwBD,CAtBC,yCAMC,kBAAmB,CALnB,UAAW,CAIX,QAAS,CAHT,iBAAkB,CAClB,uDAA0D,CAC1D,OAiBD,CArBA,mDAYE,sFAAuF,CADvF,+JAAoK,CAFpK,SAYF,CArBA,mDAmBE,sFAAuF,CADvF,+JAAmK,CAFnK,UAKF",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	/*
	 * Vertical drop target (in text).
	 */
	& .ck.ck-clipboard-drop-target-position {
		display: inline;
		position: relative;
		pointer-events: none;

		& span {
			position: absolute;
			width: 0;
		}
	}

	/*
	 * Styles of the widget being dragged (its preview).
	 */
	& .ck-widget:-webkit-drag {
		& > .ck-widget__selection-handle {
			display: none;
		}

		& > .ck-widget__type-around {
			display: none;
		}
	}
}

.ck.ck-clipboard-drop-target-line {
	position: absolute;
	pointer-events: none;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-clipboard-drop-target-dot-width: 12px;
	--ck-clipboard-drop-target-dot-height: 8px;
	--ck-clipboard-drop-target-color: var(--ck-color-focus-border);
}

.ck.ck-editor__editable {
	/*
	 * Vertical drop target (in text).
	 */
	& .ck.ck-clipboard-drop-target-position {
		& span {
			bottom: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));
			top: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));
			border: 1px solid var(--ck-clipboard-drop-target-color);
			background: var(--ck-clipboard-drop-target-color);
			margin-left: -1px;

			/* The triangle above the marker */
			&::after {
				content: '';
				width: 0;
				height: 0;

				display: block;
				position: absolute;
				left: 50%;
				top: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));

				transform: translateX(-50%);
				border-color: var(--ck-clipboard-drop-target-color) transparent transparent transparent;
				border-width: calc(var(--ck-clipboard-drop-target-dot-height)) calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0 calc(.5 * var(--ck-clipboard-drop-target-dot-width));
				border-style: solid;
			}
		}
	}

	/*
	 * Styles of the widget that it a drop target.
	 */
	& .ck-widget.ck-clipboard-drop-target-range {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color) !important;
	}

	/*
	 * Styles of the widget being dragged (its preview).
	 */
	& .ck-widget:-webkit-drag {
		zoom: 0.6;
		outline: none !important;
	}
}

.ck.ck-clipboard-drop-target-line {
	height: 0;
	border: 1px solid var(--ck-clipboard-drop-target-color);
	background: var(--ck-clipboard-drop-target-color);
	margin-top: -1px;

	&::before {
		content: '';
		position: absolute;
		top: calc(-.5 * var(--ck-clipboard-drop-target-dot-width));
		width: 0;
		height: 0;
		border-style: solid;

		@mixin ck-dir ltr {
			left: -1px;

			border-width: calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0 calc(.5 * var(--ck-clipboard-drop-target-dot-width)) var(--ck-clipboard-drop-target-dot-height);
			border-color: transparent transparent transparent var(--ck-clipboard-drop-target-color);
		}

		@mixin ck-dir rtl {
			right: -1px;

			border-width:calc(.5 * var(--ck-clipboard-drop-target-dot-width)) var(--ck-clipboard-drop-target-dot-height) calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0;
			border-color: transparent var(--ck-clipboard-drop-target-color) transparent transparent;
		}
	}
}
`],sourceRoot:""}]);const S=y},7388:(l,d,f)=>{f.d(d,{A:()=>S});var m=f(9372),v=f.n(m),C=f(935),y=f.n(C)()(v());y.push([l.id,".ck.ck-editor{position:relative}.ck.ck-editor .ck-editor__top .ck-sticky-panel .ck-toolbar{z-index:var(--ck-z-panel)}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content{border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content{border:solid var(--ck-color-base-border);border-width:1px 1px 0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content.ck-sticky-panel__content_sticky{border-bottom-width:1px}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content .ck-menu-bar,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content .ck-toolbar{border:0}.ck.ck-editor__main>.ck-editor__editable{background:var(--ck-color-base-background);border-radius:0}.ck-rounded-corners .ck.ck-editor__main>.ck-editor__editable,.ck.ck-editor__main>.ck-editor__editable.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}.ck.ck-editor__main>.ck-editor__editable:not(.ck-focused){border-color:var(--ck-color-base-border)}","",{version:3,sources:["webpack://./../ckeditor5-editor-classic/theme/classiceditor.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-editor-classic/classiceditor.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,cAIC,iBAMD,CAJC,2DAEC,yBACD,CCLC,8DCED,eDeC,CAjBA,mKCMA,qCAAsC,CDJpC,2BAA4B,CAC5B,4BAcF,CAjBA,8DAOC,wCAAsB,CAAtB,sBAUD,CARC,8FACC,uBACD,CAEA,qJAEC,QACD,CAMH,yCAEC,0CAA2C,CCtB3C,eDgCD,CAZA,yHChBE,qCAAsC,CDqBtC,wBAAyB,CACzB,yBAMF,CAHC,0DACC,wCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor {
	/* All the elements within \`.ck-editor\` are positioned relatively to it.
	 If any element needs to be positioned with respect to the <body>, etc.,
	 it must land outside of the \`.ck-editor\` in DOM. */
	position: relative;

	& .ck-editor__top .ck-sticky-panel .ck-toolbar {
		/* https://github.com/ckeditor/ckeditor5-editor-classic/issues/62 */
		z-index: var(--ck-z-panel);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_rounded.css";

.ck.ck-editor__top {
	& .ck-sticky-panel {
		& .ck-sticky-panel__content {
			@mixin ck-rounded-corners {
				border-bottom-left-radius: 0;
				border-bottom-right-radius: 0;
			}

			border: 1px solid var(--ck-color-base-border);
			border-bottom-width: 0;

			&.ck-sticky-panel__content_sticky {
				border-bottom-width: 1px;
			}

			& .ck-menu-bar,
			& .ck-toolbar {
				border: 0;
			}
		}
	}
}

/* Note: Use ck-editor__main to make sure these styles don't apply to other editor types */
.ck.ck-editor__main > .ck-editor__editable {
	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/113 */
	background: var(--ck-color-base-background);

	@mixin ck-rounded-corners {
		border-top-left-radius: 0;
		border-top-right-radius: 0;
	}

	&:not(.ck-focused) {
		border-color: var(--ck-color-base-border);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const S=y},4098:(l,d,f)=>{f.d(d,{A:()=>S});var m=f(9372),v=f.n(m),C=f(935),y=f.n(C)()(v());y.push([l.id,".ck .ck-placeholder,.ck.ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{content:attr(data-placeholder);left:0;pointer-events:none;position:absolute;right:0}.ck.ck-read-only .ck-placeholder:before{display:none}.ck.ck-reset_all .ck-placeholder{position:relative}@media (forced-colors:active){.ck .ck-placeholder,.ck.ck-placeholder{forced-color-adjust:preserve-parent-color}}.ck .ck-placeholder:before,.ck.ck-placeholder:before{cursor:text}@media (forced-colors:none){.ck .ck-placeholder:before,.ck.ck-placeholder:before{color:var(--ck-color-engine-placeholder-text)}}@media (forced-colors:active){.ck .ck-placeholder:before,.ck.ck-placeholder:before{font-style:italic;margin-left:1px}}","",{version:3,sources:["webpack://./../ckeditor5-engine/theme/placeholder.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-engine/placeholder.css"],names:[],mappings:"AAMA,uCAEC,iBAWD,CATC,qDAIC,8BAA+B,CAF/B,MAAO,CAKP,mBAAoB,CANpB,iBAAkB,CAElB,OAKD,CAKA,wCACC,YACD,CAQD,iCACC,iBACD,CC7BC,8BACC,uCCOA,yCDLA,CACD,CCOA,qDACC,WAmBD,CDvBA,4BACC,qDCMC,6CDJD,CACD,CAZA,8BACC,qDCsBC,iBAAkB,CAMlB,eD1BD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* See ckeditor/ckeditor5#936. */
.ck.ck-placeholder,
.ck .ck-placeholder {
	position: relative;

	&::before {
		position: absolute;
		left: 0;
		right: 0;
		content: attr(data-placeholder);

		/* See ckeditor/ckeditor5#469. */
		pointer-events: none;
	}
}

/* See ckeditor/ckeditor5#1987. */
.ck.ck-read-only .ck-placeholder {
	&::before {
		display: none;
	}
}

/*
 * Rules for the \`ck-placeholder\` are loaded before the rules for \`ck-reset_all\` in the base CKEditor 5 DLL build.
 * This fix overwrites the incorrectly set \`position: static\` from \`ck-reset_all\`.
 * See https://github.com/ckeditor/ckeditor5/issues/11418.
 */
.ck.ck-reset_all .ck-placeholder {
	position: relative;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-forced-colors {
	@media (forced-colors: active) {
		& {
			@mixin-content;
		}
	}
}

@define-mixin ck-media-default-colors {
	@media (forced-colors: none) {
		& {
			@mixin-content;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";

/* See ckeditor/ckeditor5#936. */
.ck.ck-placeholder, .ck .ck-placeholder {
	@mixin ck-media-forced-colors {
		/*
		 * This is needed for Edge on Windows to use the right color for the placeholder content (::before).
		 * See https://github.com/ckeditor/ckeditor5/issues/14907.
		 */
		forced-color-adjust: preserve-parent-color;
	}

	&::before {
		cursor: text;

		@mixin ck-media-default-colors {
			color: var(--ck-color-engine-placeholder-text);
		}

		@mixin ck-media-forced-colors {
			/*
			 * In the high contrast mode there is no telling between regular and placeholder text. Using
			 * italic text to address that issue. See https://github.com/ckeditor/ckeditor5/issues/14907.
			 */
			font-style: italic;

			/*
			 * Without this margin, the caret will not show up and blink when the user puts the selection
			 * in the placeholder (Edge on Windows). See https://github.com/ckeditor/ckeditor5/issues/14907.
			 */
			margin-left: 1px;
		}
	}
}
`],sourceRoot:""}]);const S=y},8264:(l,d,f)=>{f.d(d,{A:()=>S});var m=f(9372),v=f.n(m),C=f(935),y=f.n(C)()(v());y.push([l.id,".ck.ck-editor__editable span[data-ck-unsafe-element]{display:none}","",{version:3,sources:["webpack://./../ckeditor5-engine/theme/renderer.css"],names:[],mappings:"AAMA,qDACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Elements marked by the Renderer as hidden should be invisible in the editor. */
.ck.ck-editor__editable span[data-ck-unsafe-element] {
	display: none;
}
`],sourceRoot:""}]);const S=y},6269:(l,d,f)=>{f.d(d,{A:()=>S});var m=f(9372),v=f.n(m),C=f(935),y=f.n(C)()(v());y.push([l.id,".ck.ck-heading_heading1{font-size:20px}.ck.ck-heading_heading2{font-size:17px}.ck.ck-heading_heading3{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__panel .ck-list__item{min-width:18em}","",{version:3,sources:["webpack://./../ckeditor5-heading/theme/heading.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-heading/heading.css"],names:[],mappings:"AAKA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,+BACC,eACD,CCZC,2EACC,SACD,CAEA,uEACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-heading_heading1 {
	font-size: 20px;
}

.ck.ck-heading_heading2 {
	font-size: 17px;
}

.ck.ck-heading_heading3 {
	font-size: 14px;
}

.ck[class*="ck-heading_heading"] {
	font-weight: bold;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Resize dropdown's button label. */
.ck.ck-dropdown.ck-heading-dropdown {
	& .ck-dropdown__button .ck-button__label {
		width: 8em;
	}

	& .ck-dropdown__panel .ck-list__item {
		min-width: 18em;
	}
}
`],sourceRoot:""}]);const S=y},265:(l,d,f)=>{f.d(d,{A:()=>S});var m=f(9372),v=f.n(m),C=f(935),y=f.n(C)()(v());y.push([l.id,".ck-content .image{clear:both;display:table;margin:.9em auto;min-width:50px;text-align:center}.ck-content .image img{display:block;height:auto;margin:0 auto;max-width:100%;min-width:100%}.ck-content .image-inline{align-items:flex-start;display:inline-flex;max-width:100%}.ck-content .image-inline picture{display:flex}.ck-content .image-inline img,.ck-content .image-inline picture{flex-grow:1;flex-shrink:1;max-width:100%}.ck.ck-editor__editable .image>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}.ck.ck-editor__editable .image{z-index:1}.ck.ck-editor__editable .image.ck-widget_selected{z-index:2}.ck.ck-editor__editable .image-inline{z-index:1}.ck.ck-editor__editable .image-inline.ck-widget_selected{z-index:2}.ck.ck-editor__editable .image-inline.ck-widget_selected ::selection{display:none}.ck.ck-editor__editable .image-inline img{height:auto}.ck.ck-editor__editable td .image-inline img,.ck.ck-editor__editable th .image-inline img{max-width:none}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/image.css"],names:[],mappings:"AAMC,mBAEC,UAAW,CADX,aAAc,CAOd,gBAAkB,CAGlB,cAAe,CARf,iBA2BD,CAjBC,uBAEC,aAAc,CAad,WAAY,CAVZ,aAAc,CAGd,cAAe,CAGf,cAKD,CAGD,0BAYC,sBAAuB,CANvB,mBAAoB,CAGpB,cAoBD,CAdC,kCACC,YACD,CAGA,gEAGC,WAAY,CACZ,aAAc,CAGd,cACD,CAUD,gEASC,eAAgB,CARhB,oBAAqB,CACrB,qBAAsB,CAQtB,sBAAuB,CAFvB,kBAGD,CAKA,+BACC,SASD,CAHC,kDACC,SACD,CAMD,sCACC,SAkBD,CAZC,yDACC,SAUD,CAHC,qEACC,YACD,CAMF,0CACC,WACD,CAMC,0FACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content {
	& .image {
		display: table;
		clear: both;
		text-align: center;

		/* Make sure there is some space between the content and the image. Center image by default. */
		/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	 	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
		margin: 0.9em auto;

		/* Make sure the caption will be displayed properly (See: https://github.com/ckeditor/ckeditor5/issues/1870). */
		min-width: 50px;

		& img {
			/* Prevent unnecessary margins caused by line-height (see #44). */
			display: block;

			/* Center the image if its width is smaller than the content's width. */
			margin: 0 auto;

			/* Make sure the image never exceeds the size of the parent container (ckeditor/ckeditor5-ui#67). */
			max-width: 100%;

			/* Make sure the image is never smaller than the parent container (See: https://github.com/ckeditor/ckeditor5/issues/9300). */
			min-width: 100%;

			/* Keep proportions of the block image if the height is set and the image is wider than the editor width.
			See https://github.com/ckeditor/ckeditor5/issues/14542. */
			height: auto;
		}
	}

	& .image-inline {
		/*
		 * Normally, the .image-inline would have "display: inline-block" and "img { width: 100% }" (to follow the wrapper while resizing).
		 * Unfortunately, together with "srcset", it gets automatically stretched up to the width of the editing root.
		 * This strange behavior does not happen with inline-flex.
		 */
		display: inline-flex;

		/* While being resized, don't allow the image to exceed the width of the editing root. */
		max-width: 100%;

		/* This is required by Safari to resize images in a sensible way. Without this, the browser breaks the ratio. */
		align-items: flex-start;

		/* When the picture is present it must act as a flex container to let the img resize properly */
		& picture {
			display: flex;
		}

		/* When the picture is present, it must act like a resizable img. */
		& picture,
		& img {
			/* This is necessary for the img to span the entire .image-inline wrapper and to resize properly. */
			flex-grow: 1;
			flex-shrink: 1;

			/* Prevents overflowing the editing root boundaries when an inline image is very wide. */
			max-width: 100%;
		}
	}
}

.ck.ck-editor__editable {
	/*
	 * Inhertit the content styles padding of the <figcaption> in case the integration overrides \`text-align: center\`
	 * of \`.image\` (e.g. to the left/right). This ensures the placeholder stays at the padding just like the native
	 * caret does, and not at the edge of <figcaption>.
	 */
	& .image > figcaption.ck-placeholder::before {
		padding-left: inherit;
		padding-right: inherit;

		/*
		 * Make sure the image caption placeholder doesn't overflow the placeholder area.
		 * See https://github.com/ckeditor/ckeditor5/issues/9162.
		 */
		white-space: nowrap;
		overflow: hidden;
		text-overflow: ellipsis;
	}

	/*
	 * See https://github.com/ckeditor/ckeditor5/issues/15115.
	 */
	& .image {
		z-index: 1;

		/*
		 * Make sure the selected image always stays on top of its siblings.
		 * See https://github.com/ckeditor/ckeditor5/issues/9108.
		 */
		&.ck-widget_selected {
			z-index: 2;
		}
	}

	/*
	 * See https://github.com/ckeditor/ckeditor5/issues/15115.
	 */
	& .image-inline {
		z-index: 1;

		/*
		 * Make sure the selected inline image always stays on top of its siblings.
		 * See https://github.com/ckeditor/ckeditor5/issues/9108.
		 */
		&.ck-widget_selected {
			z-index: 2;

			/*
			 * Make sure the native browser selection style is not displayed.
			 * Inline image widgets have their own styles for the selected state and
			 * leaving this up to the browser is asking for a visual collision.
			 */
			& ::selection {
				display: none;
			}
		}
	}

	/* Keep proportions of the inline image if the height is set and the image is wider than the editor width.
	See https://github.com/ckeditor/ckeditor5/issues/14542. */
	& .image-inline img {
		height: auto;
	}

	/* The inline image nested in the table should have its original size if not resized.
	See https://github.com/ckeditor/ckeditor5/issues/9117. */
	& td,
	& th {
		& .image-inline img {
			max-width: none;
		}
	}
}
`],sourceRoot:""}]);const S=y},5247:(l,d,f)=>{f.d(d,{A:()=>S});var m=f(9372),v=f.n(m),C=f(935),y=f.n(C)()(v());y.push([l.id,":root{--ck-color-image-caption-background:#f7f7f7;--ck-color-image-caption-text:#333;--ck-color-image-caption-highlighted-background:#fd0}.ck-content .image>figcaption{background-color:var(--ck-color-image-caption-background);caption-side:bottom;color:var(--ck-color-image-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;word-break:break-word}@media (forced-colors:active){.ck-content .image>figcaption{background-color:unset;color:unset}}@media (forced-colors:none){.ck.ck-editor__editable .image>figcaption.image__caption_highlighted{animation:ck-image-caption-highlight .6s ease-out}}@media (prefers-reduced-motion:reduce){.ck.ck-editor__editable .image>figcaption.image__caption_highlighted{animation:none}}@keyframes ck-image-caption-highlight{0%{background-color:var(--ck-color-image-caption-highlighted-background)}to{background-color:var(--ck-color-image-caption-background)}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagecaption.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css"],names:[],mappings:"AAOA,MACC,2CAAoD,CACpD,kCAA8C,CAC9C,oDACD,CAGA,8BAKC,yDAA0D,CAH1D,mBAAoB,CAEpB,wCAAyC,CAHzC,qBAAsB,CAMtB,eAAgB,CAChB,mBAAoB,CAFpB,YAAa,CAHb,qBAYD,CAJC,8BAXD,8BAYE,sBAAuB,CACvB,WAEF,CADC,CCdA,4BACC,qEDmBA,iDCjBA,CACD,CDmBA,uCALD,qEAME,cAEF,CADC,CAGD,sCACC,GACC,qEACD,CAEA,GACC,yDACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";

:root {
	--ck-color-image-caption-background: hsl(0, 0%, 97%);
	--ck-color-image-caption-text: hsl(0, 0%, 20%);
	--ck-color-image-caption-highlighted-background: hsl(52deg 100% 50%);
}

/* Content styles */
.ck-content .image > figcaption {
	display: table-caption;
	caption-side: bottom;
	word-break: break-word;
	color: var(--ck-color-image-caption-text);
	background-color: var(--ck-color-image-caption-background);
	padding: .6em;
	font-size: .75em;
	outline-offset: -1px;

	/* Improve placeholder rendering in high-constrast mode (https://github.com/ckeditor/ckeditor5/issues/14907). */
	@media (forced-colors: active) {
		background-color: unset;
		color: unset;
	}
}

/* Editing styles */
.ck.ck-editor__editable .image > figcaption.image__caption_highlighted {
	@mixin ck-media-default-colors {
		animation: ck-image-caption-highlight .6s ease-out;
	}

	@media (prefers-reduced-motion: reduce) {
		animation: none;
	}
}

@keyframes ck-image-caption-highlight {
	0% {
		background-color: var(--ck-color-image-caption-highlighted-background);
	}

	100% {
		background-color: var(--ck-color-image-caption-background);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-forced-colors {
	@media (forced-colors: active) {
		& {
			@mixin-content;
		}
	}
}

@define-mixin ck-media-default-colors {
	@media (forced-colors: none) {
		& {
			@mixin-content;
		}
	}
}
`],sourceRoot:""}]);const S=y},4642:(l,d,f)=>{f.d(d,{A:()=>S});var m=f(9372),v=f.n(m),C=f(935),y=f.n(C)()(v());y.push([l.id,".ck.ck-image-custom-resize-form{align-items:flex-start;display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-image-custom-resize-form .ck-labeled-field-view{display:inline-block}.ck.ck-image-custom-resize-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-image-custom-resize-form{flex-wrap:wrap}.ck.ck-image-custom-resize-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-image-custom-resize-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagecustomresizeform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,gCAIC,sBAAuB,CAHvB,YAAa,CACb,kBAAmB,CACnB,gBAsBD,CAnBC,uDACC,oBACD,CAEA,0CACC,YACD,CCbA,oCDCD,gCAeE,cAUF,CARE,uDACC,eACD,CAEA,2CACC,cACD,CCtBD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-image-custom-resize-form {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	align-items: flex-start;

	& .ck-labeled-field-view {
		display: inline-block;
	}

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const S=y},3350:(l,d,f)=>{f.d(d,{A:()=>S});var m=f(9372),v=f.n(m),C=f(935),y=f.n(C)()(v());y.push([l.id,".ck.ck-image-insert-url .ck-image-insert-url__action-row{display:grid;grid-template-columns:repeat(2,1fr)}:root{--ck-image-insert-insert-by-url-width:250px}.ck.ck-image-insert-url{--ck-input-width:100%}.ck.ck-image-insert-url .ck-image-insert-url__action-row{grid-column-gap:var(--ck-spacing-large);margin-top:var(--ck-spacing-large)}.ck.ck-image-insert-url .ck-image-insert-url__action-row .ck-button-cancel,.ck.ck-image-insert-url .ck-image-insert-url__action-row .ck-button-save{justify-content:center;min-width:auto}.ck.ck-image-insert-url .ck-image-insert-url__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}.ck.ck-image-insert-form>.ck.ck-button{display:block;padding:var(--ck-list-button-padding);width:100%}[dir=ltr] .ck.ck-image-insert-form>.ck.ck-button{text-align:left}[dir=rtl] .ck.ck-image-insert-form>.ck.ck-button{text-align:right}.ck.ck-image-insert-form>.ck.ck-collapsible:not(:first-child){border-top:1px solid var(--ck-color-base-border)}.ck.ck-image-insert-form>.ck.ck-collapsible:not(:last-child){border-bottom:1px solid var(--ck-color-base-border)}.ck.ck-image-insert-form>.ck.ck-collapsible,.ck.ck-image-insert-form>.ck.ck-image-insert-url{min-width:var(--ck-image-insert-insert-by-url-width)}.ck.ck-image-insert-form>.ck.ck-image-insert-url{padding:var(--ck-spacing-large)}.ck.ck-image-insert-form:focus{outline:none}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageinsert.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageinsert.css"],names:[],mappings:"AAMC,yDACC,YAAa,CACb,mCACD,CCFD,MACC,2CACD,CAEA,wBACC,qBAgBD,CAdC,yDACC,uCAAwC,CACxC,kCAWD,CATC,oJAEC,sBAAuB,CACvB,cACD,CAEA,sFACC,0BACD,CAKD,uCACC,aAAc,CAEd,qCAAsC,CADtC,UAUD,CAZA,iDAME,eAMF,CAZA,iDAUE,gBAEF,CAGC,8DACC,gDACD,CAEA,6DACC,mDACD,CAMD,6FAJC,oDAOD,CAHA,iDAEC,+BACD,CAEA,+BACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-image-insert-url {
	& .ck-image-insert-url__action-row {
		display: grid;
		grid-template-columns: repeat(2, 1fr);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-image-insert-insert-by-url-width: 250px;
}

.ck.ck-image-insert-url {
	--ck-input-width: 100%;

	& .ck-image-insert-url__action-row {
		grid-column-gap: var(--ck-spacing-large);
		margin-top: var(--ck-spacing-large);

		& .ck-button-save,
		& .ck-button-cancel {
			justify-content: center;
			min-width: auto;
		}

		& .ck-button .ck-button__label {
			color: var(--ck-color-text);
		}
	}
}

.ck.ck-image-insert-form {
	& > .ck.ck-button {
		display: block;
		width: 100%;
		padding: var(--ck-list-button-padding);

		@mixin ck-dir ltr {
			text-align: left;
		}

		@mixin ck-dir rtl {
			text-align: right;
		}
	}

	& > .ck.ck-collapsible {
		&:not(:first-child) {
			border-top: 1px solid var(--ck-color-base-border);
		}

		&:not(:last-child) {
			border-bottom: 1px solid var(--ck-color-base-border);
		}

		min-width: var(--ck-image-insert-insert-by-url-width);
	}

	/* This is the case when there are no other integrations configured than insert by URL */
	& > .ck.ck-image-insert-url {
		min-width: var(--ck-image-insert-insert-by-url-width);
		padding: var(--ck-spacing-large);
	}

	&:focus {
		outline: none;
	}
}
`],sourceRoot:""}]);const S=y},7378:(l,d,f)=>{f.d(d,{A:()=>S});var m=f(9372),v=f.n(m),C=f(935),y=f.n(C)()(v());y.push([l.id,".ck.ck-editor__editable img.image_placeholder{background-size:100% 100%}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageplaceholder.css"],names:[],mappings:"AAMC,8CACC,yBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	& img.image_placeholder {
		background-size: 100% 100%;
	}
}
`],sourceRoot:""}]);const S=y},3469:(l,d,f)=>{f.d(d,{A:()=>S});var m=f(9372),v=f.n(m),C=f(935),y=f.n(C)()(v());y.push([l.id,".ck-content img.image_resized{height:auto}.ck-content .image.image_resized{box-sizing:border-box;display:block;max-width:100%}.ck-content .image.image_resized img{width:100%}.ck-content .image.image_resized>figcaption{display:block}.ck.ck-editor__editable td .image-inline.image_resized img,.ck.ck-editor__editable th .image-inline.image_resized img{max-width:100%}[dir=ltr] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-left:var(--ck-spacing-standard)}.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label{width:4em}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageresize.css"],names:[],mappings:"AAMA,8BACC,WACD,CAEA,iCAQC,qBAAsB,CADtB,aAAc,CANd,cAkBD,CATC,qCAEC,UACD,CAEA,4CAEC,aACD,CAQC,sHACC,cACD,CAIF,oFACC,uCACD,CAEA,oFACC,sCACD,CAEA,oEACC,SACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Preserve aspect ratio of the resized image after introducing image height attribute. */
.ck-content img.image_resized {
	height: auto;
}

.ck-content .image.image_resized {
	max-width: 100%;
	/*
	The \`<figure>\` element for resized images must not use \`display:table\` as browsers do not support \`max-width\` for it well.
	See https://stackoverflow.com/questions/4019604/chrome-safari-ignoring-max-width-in-table/14420691#14420691 for more.
	Fortunately, since we control the width, there is no risk that the image will look bad.
	*/
	display: block;
	box-sizing: border-box;

	& img {
		/* For resized images it is the \`<figure>\` element that determines the image width. */
		width: 100%;
	}

	& > figcaption {
		/* The \`<figure>\` element uses \`display:block\`, so \`<figcaption>\` also has to. */
		display: block;
	}
}

.ck.ck-editor__editable {
	/* The resized inline image nested in the table should respect its parent size.
	See https://github.com/ckeditor/ckeditor5/issues/9117. */
	& td,
	& th {
		& .image-inline.image_resized img {
			max-width: 100%;
		}
	}
}

[dir="ltr"] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon {
	margin-right: var(--ck-spacing-standard);
}

[dir="rtl"] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon {
	margin-left: var(--ck-spacing-standard);
}

.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label {
	width: 4em;
}
`],sourceRoot:""}]);const S=y},6386:(l,d,f)=>{f.d(d,{A:()=>S});var m=f(9372),v=f.n(m),C=f(935),y=f.n(C)()(v());y.push([l.id,":root{--ck-image-style-spacing:1.5em;--ck-inline-image-style-spacing:calc(var(--ck-image-style-spacing)/2)}.ck-content .image-style-block-align-left,.ck-content .image-style-block-align-right{max-width:calc(100% - var(--ck-image-style-spacing))}.ck-content .image-style-align-left,.ck-content .image-style-align-right{clear:none}.ck-content .image-style-side{float:right;margin-left:var(--ck-image-style-spacing);max-width:50%}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content .image-style-block-align-right{margin-left:auto;margin-right:0}.ck-content .image-style-block-align-left{margin-left:0;margin-right:auto}.ck-content p+.image-style-align-left,.ck-content p+.image-style-align-right,.ck-content p+.image-style-side{margin-top:0}.ck-content .image-inline.image-style-align-left,.ck-content .image-inline.image-style-align-right{margin-bottom:var(--ck-inline-image-style-spacing);margin-top:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-left{margin-right:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-right{margin-left:var(--ck-inline-image-style-spacing)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-background)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after{display:none}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-hover-background)}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagestyle.css"],names:[],mappings:"AAKA,MACC,8BAA+B,CAC/B,qEACD,CAMC,qFAEC,oDACD,CAIA,yEAEC,UACD,CAEA,8BACC,WAAY,CACZ,yCAA0C,CAC1C,aACD,CAEA,oCACC,UAAW,CACX,0CACD,CAEA,sCACC,gBAAiB,CACjB,iBACD,CAEA,qCACC,WAAY,CACZ,yCACD,CAEA,2CAEC,gBAAiB,CADjB,cAED,CAEA,0CACC,aAAc,CACd,iBACD,CAGA,6GAGC,YACD,CAGC,mGAGC,kDAAmD,CADnD,+CAED,CAEA,iDACC,iDACD,CAEA,kDACC,gDACD,CAUC,0lBAGC,qDAKD,CAHC,8nBACC,YACD,CAKD,oVAGC,2DACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-image-style-spacing: 1.5em;
	--ck-inline-image-style-spacing: calc(var(--ck-image-style-spacing) / 2);
}

.ck-content {
	/* Provides a minimal side margin for the left and right aligned images, so that the user has a visual feedback
	confirming successful application of the style if image width exceeds the editor's size.
	See https://github.com/ckeditor/ckeditor5/issues/9342 */
	& .image-style-block-align-left,
	& .image-style-block-align-right {
		max-width: calc(100% - var(--ck-image-style-spacing));
	}

	/* Allows displaying multiple floating images in the same line.
	See https://github.com/ckeditor/ckeditor5/issues/9183#issuecomment-804988132 */
	& .image-style-align-left,
	& .image-style-align-right {
		clear: none;
	}

	& .image-style-side {
		float: right;
		margin-left: var(--ck-image-style-spacing);
		max-width: 50%;
	}

	& .image-style-align-left {
		float: left;
		margin-right: var(--ck-image-style-spacing);
	}

	& .image-style-align-center {
		margin-left: auto;
		margin-right: auto;
	}

	& .image-style-align-right {
		float: right;
		margin-left: var(--ck-image-style-spacing);
	}

	& .image-style-block-align-right {
		margin-right: 0;
		margin-left: auto;
	}

	& .image-style-block-align-left {
		margin-left: 0;
		margin-right: auto;
	}

	/* Simulates margin collapsing with the preceding paragraph, which does not work for the floating elements. */
	& p + .image-style-align-left,
	& p + .image-style-align-right,
	& p + .image-style-side {
		margin-top: 0;
	}

	& .image-inline {
		&.image-style-align-left,
		&.image-style-align-right {
			margin-top: var(--ck-inline-image-style-spacing);
			margin-bottom: var(--ck-inline-image-style-spacing);
		}

		&.image-style-align-left {
			margin-right: var(--ck-inline-image-style-spacing);
		}

		&.image-style-align-right {
			margin-left: var(--ck-inline-image-style-spacing);
		}
	}
}

.ck.ck-splitbutton {
	/* The button should display as a regular drop-down if the action button
	is forced to fire the same action as the arrow button. */
	&.ck-splitbutton_flatten {
		&:hover,
		&.ck-splitbutton_open {
			& > .ck-splitbutton__action:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {
				background-color: var(--ck-color-button-on-background);

				&::after {
					display: none;
				}
			}
		}

		&.ck-splitbutton_open:hover {
			& > .ck-splitbutton__action:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {
				background-color: var(--ck-color-button-on-hover-background);
			}
		}
	}
}
`],sourceRoot:""}]);const S=y},7693:(l,d,f)=>{f.d(d,{A:()=>S});var m=f(9372),v=f.n(m),C=f(935),y=f.n(C)()(v());y.push([l.id,'.ck-image-upload-complete-icon{border-radius:50%;display:block;position:absolute;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);z-index:1}.ck-image-upload-complete-icon:after{content:"";position:absolute}:root{--ck-color-image-upload-icon:#fff;--ck-color-image-upload-icon-background:#008a00;--ck-image-upload-icon-size:20;--ck-image-upload-icon-width:2px;--ck-image-upload-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck-image-upload-complete-icon{animation-delay:0ms,3s;animation-duration:.5s,.5s;animation-fill-mode:forwards,forwards;animation-name:ck-upload-complete-icon-show,ck-upload-complete-icon-hide;background:var(--ck-color-image-upload-icon-background);font-size:calc(1px*var(--ck-image-upload-icon-size));height:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size));opacity:0;overflow:hidden;width:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size))}.ck-image-upload-complete-icon:after{animation-delay:.5s;animation-duration:.5s;animation-fill-mode:forwards;animation-name:ck-upload-complete-icon-check;border-right:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);border-top:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);box-sizing:border-box;height:0;left:25%;opacity:0;top:50%;transform:scaleX(-1) rotate(135deg);transform-origin:left top;width:0}@media (prefers-reduced-motion:reduce){.ck-image-upload-complete-icon{animation-duration:0ms}.ck-image-upload-complete-icon:after{animation:none;height:.45em;opacity:1;width:.3em}}@keyframes ck-upload-complete-icon-show{0%{opacity:0}to{opacity:1}}@keyframes ck-upload-complete-icon-hide{0%{opacity:1}to{opacity:0}}@keyframes ck-upload-complete-icon-check{0%{height:0;opacity:1;width:0}33%{height:0;width:.3em}to{height:.45em;opacity:1;width:.3em}}',"",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadicon.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadicon.css"],names:[],mappings:"AAKA,+BAUC,iBAAkB,CATlB,aAAc,CACd,iBAAkB,CAOlB,sCAAwC,CADxC,oCAAsC,CAGtC,SAMD,CAJC,qCACC,UAAW,CACX,iBACD,CChBD,MACC,iCAA8C,CAC9C,+CAA4D,CAG5D,8BAA+B,CAC/B,gCAAiC,CACjC,4DACD,CAEA,+BAWC,sBAA4B,CAN5B,0BAAgC,CADhC,qCAAuC,CADvC,wEAA0E,CAD1E,uDAAwD,CAMxD,oDAAuD,CAWvD,oFAAuF,CAlBvF,SAAU,CAgBV,eAAgB,CAChB,mFAqCD,CAjCC,qCAgBC,mBAAsB,CADtB,sBAAyB,CAEzB,4BAA6B,CAH7B,4CAA6C,CAF7C,sFAAuF,CADvF,oFAAqF,CASrF,qBAAsB,CAdtB,QAAS,CAJT,QAAS,CAGT,SAAU,CADV,OAAQ,CAKR,mCAAoC,CACpC,yBAA0B,CAH1B,OAcD,CAEA,uCA7CD,+BA8CE,sBASF,CAPE,qCACC,cAAe,CAGf,YAAc,CAFd,SAAU,CACV,UAED,CACD,CAGD,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,yCACC,GAGC,QAAS,CAFT,SAAU,CACV,OAED,CACA,IAEC,QAAS,CADT,UAED,CACA,GAGC,YAAc,CAFd,SAAU,CACV,UAED,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-image-upload-complete-icon {
	display: block;
	position: absolute;

	/*
	 * Smaller images should have the icon closer to the border.
	 * Match the icon position with the linked image indicator brought by the link image feature.
	 */
	top: min(var(--ck-spacing-medium), 6%);
	right: min(var(--ck-spacing-medium), 6%);
	border-radius: 50%;
	z-index: 1;

	&::after {
		content: "";
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-image-upload-icon: hsl(0, 0%, 100%);
	--ck-color-image-upload-icon-background: hsl(120, 100%, 27%);

	/* Match the icon size with the linked image indicator brought by the link image feature. */
	--ck-image-upload-icon-size: 20;
	--ck-image-upload-icon-width: 2px;
	--ck-image-upload-icon-is-visible: clamp(0px, 100% - 50px, 1px);
}

.ck-image-upload-complete-icon {
	opacity: 0;
	background: var(--ck-color-image-upload-icon-background);
	animation-name: ck-upload-complete-icon-show, ck-upload-complete-icon-hide;
	animation-fill-mode: forwards, forwards;
	animation-duration: 500ms, 500ms;

	/* To make animation scalable. */
	font-size: calc(1px * var(--ck-image-upload-icon-size));

	/* Hide completed upload icon after 3 seconds. */
	animation-delay: 0ms, 3000ms;

	/*
	 * Use CSS math to simulate container queries.
	 * https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things
	 */
	overflow: hidden;
	width: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));
	height: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));

	/* This is check icon element made from border-width mixed with animations. */
	&::after {
		/* Because of border transformation we need to "hard code" left position. */
		left: 25%;

		top: 50%;
		opacity: 0;
		height: 0;
		width: 0;

		transform: scaleX(-1) rotate(135deg);
		transform-origin: left top;
		border-top: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);
		border-right: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);

		animation-name: ck-upload-complete-icon-check;
		animation-duration: 500ms;
		animation-delay: 500ms;
		animation-fill-mode: forwards;

		/* #1095. While reset is not providing proper box-sizing for pseudoelements, we need to handle it. */
		box-sizing: border-box;
	}

	@media (prefers-reduced-motion: reduce) {
		animation-duration: 0ms;

		&::after {
			animation: none;
			opacity: 1;
			width: 0.3em;
			height: 0.45em;
		}
	}
}

@keyframes ck-upload-complete-icon-show {
	from {
		opacity: 0;
	}

	to {
		opacity: 1;
	}
}

@keyframes ck-upload-complete-icon-hide {
	from {
		opacity: 1;
	}

	to {
		opacity: 0;
	}
}

@keyframes ck-upload-complete-icon-check {
	0% {
		opacity: 1;
		width: 0;
		height: 0;
	}
	33% {
		width: 0.3em;
		height: 0;
	}
	100% {
		opacity: 1;
		width: 0.3em;
		height: 0.45em;
	}
}
`],sourceRoot:""}]);const S=y},1559:(l,d,f)=>{f.d(d,{A:()=>S});var m=f(9372),v=f.n(m),C=f(935),y=f.n(C)()(v());y.push([l.id,'.ck .ck-upload-placeholder-loader{align-items:center;display:flex;justify-content:center;left:0;position:absolute;top:0}.ck .ck-upload-placeholder-loader:before{content:"";position:relative}:root{--ck-color-upload-placeholder-loader:#b3b3b3;--ck-upload-placeholder-loader-size:32px;--ck-upload-placeholder-image-aspect-ratio:2.8}.ck .ck-image-upload-placeholder{margin:0;width:100%}.ck .ck-image-upload-placeholder.image-inline{width:calc(var(--ck-upload-placeholder-loader-size)*2*var(--ck-upload-placeholder-image-aspect-ratio))}.ck .ck-image-upload-placeholder img{aspect-ratio:var(--ck-upload-placeholder-image-aspect-ratio)}.ck .ck-upload-placeholder-loader{height:100%;width:100%}.ck .ck-upload-placeholder-loader:before{animation:ck-upload-placeholder-loader 1s linear infinite;border-radius:50%;border-right:2px solid transparent;border-top:3px solid var(--ck-color-upload-placeholder-loader);height:var(--ck-upload-placeholder-loader-size);width:var(--ck-upload-placeholder-loader-size)}@keyframes ck-upload-placeholder-loader{to{transform:rotate(1turn)}}',"",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadloader.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadloader.css"],names:[],mappings:"AAKA,kCAGC,kBAAmB,CADnB,YAAa,CAEb,sBAAuB,CAEvB,MAAO,CALP,iBAAkB,CAIlB,KAOD,CAJC,yCACC,UAAW,CACX,iBACD,CCXD,MACC,4CAAqD,CACrD,wCAAyC,CACzC,8CACD,CAEA,iCAGC,QAAS,CADT,UAgBD,CAbC,8CACC,sGACD,CAEA,qCAOC,4DACD,CAGD,kCAEC,WAAY,CADZ,UAWD,CARC,yCAMC,yDAA0D,CAH1D,iBAAkB,CAElB,kCAAmC,CADnC,8DAA+D,CAF/D,+CAAgD,CADhD,8CAMD,CAGD,wCACC,GACC,uBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-upload-placeholder-loader {
	position: absolute;
	display: flex;
	align-items: center;
	justify-content: center;
	top: 0;
	left: 0;

	&::before {
		content: '';
		position: relative;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-upload-placeholder-loader: hsl(0, 0%, 70%);
	--ck-upload-placeholder-loader-size: 32px;
	--ck-upload-placeholder-image-aspect-ratio: 2.8;
}

.ck .ck-image-upload-placeholder {
	/* We need to control the full width of the SVG gray background. */
	width: 100%;
	margin: 0;

	&.image-inline {
		width: calc( 2 * var(--ck-upload-placeholder-loader-size) * var(--ck-upload-placeholder-image-aspect-ratio) );
	}

	& img {
		/*
		 * This is an arbitrary aspect for a 1x1 px GIF to display to the user. Not too tall, not too short.
		 * There's nothing special about this number except that it should make the image placeholder look like
		 * a real image during this short period after the upload started and before the image was read from the
		 * file system (and a rich preview was loaded).
		 */
		aspect-ratio: var(--ck-upload-placeholder-image-aspect-ratio);
	}
}

.ck .ck-upload-placeholder-loader {
	width: 100%;
	height: 100%;

	&::before {
		width: var(--ck-upload-placeholder-loader-size);
		height: var(--ck-upload-placeholder-loader-size);
		border-radius: 50%;
		border-top: 3px solid var(--ck-color-upload-placeholder-loader);
		border-right: 2px solid transparent;
		animation: ck-upload-placeholder-loader 1s linear infinite;
	}
}

@keyframes ck-upload-placeholder-loader {
	to {
		transform: rotate( 360deg );
	}
}
`],sourceRoot:""}]);const S=y},2267:(l,d,f)=>{f.d(d,{A:()=>S});var m=f(9372),v=f.n(m),C=f(935),y=f.n(C)()(v());y.push([l.id,".ck.ck-editor__editable .image,.ck.ck-editor__editable .image-inline{position:relative}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{left:0;position:absolute;top:0}.ck.ck-editor__editable .image-inline.ck-appear,.ck.ck-editor__editable .image.ck-appear{animation:fadeIn .7s}@media (prefers-reduced-motion:reduce){.ck.ck-editor__editable .image-inline.ck-appear,.ck.ck-editor__editable .image.ck-appear{animation:none;opacity:1}}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{background:var(--ck-color-upload-bar-background);height:2px;transition:width .1s;width:0}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadprogress.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadprogress.css"],names:[],mappings:"AAMC,qEAEC,iBACD,CAGA,uGAIC,MAAO,CAFP,iBAAkB,CAClB,KAED,CCRC,yFACC,oBAMD,CAJC,uCAHD,yFAKE,cAAe,CADf,SAGF,CADC,CAKF,uGAIC,gDAAiD,CAFjD,UAAW,CAGX,oBAAuB,CAFvB,OAGD,CAGD,kBACC,GAAO,SAAY,CACnB,GAAO,SAAY,CACpB",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	& .image,
	& .image-inline {
		position: relative;
	}

	/* Upload progress bar. */
	& .image .ck-progress-bar,
	& .image-inline .ck-progress-bar {
		position: absolute;
		top: 0;
		left: 0;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	& .image,
	& .image-inline {
		/* Showing animation. */
		&.ck-appear {
			animation: fadeIn 700ms;

			@media (prefers-reduced-motion: reduce) {
				opacity: 1;
				animation: none;
			}
		}
	}

	/* Upload progress bar. */
	& .image .ck-progress-bar,
	& .image-inline .ck-progress-bar {
		height: 2px;
		width: 0;
		background: var(--ck-color-upload-bar-background);
		transition: width 100ms;
	}
}

@keyframes fadeIn {
	from { opacity: 0; }
	to   { opacity: 1; }
}
`],sourceRoot:""}]);const S=y},4062:(l,d,f)=>{f.d(d,{A:()=>S});var m=f(9372),v=f.n(m),C=f(935),y=f.n(C)()(v());y.push([l.id,".ck.ck-text-alternative-form{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-text-alternative-form .ck-labeled-field-view{display:inline-block}.ck.ck-text-alternative-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-text-alternative-form{flex-wrap:wrap}.ck.ck-text-alternative-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-text-alternative-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/textalternativeform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,6BACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,oDACC,oBACD,CAEA,uCACC,YACD,CCZA,oCDCD,6BAcE,cAUF,CARE,oDACC,eACD,CAEA,wCACC,cACD,CCrBD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-text-alternative-form {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-labeled-field-view {
		display: inline-block;
	}

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const S=y},7719:(l,d,f)=>{f.d(d,{A:()=>S});var m=f(9372),v=f.n(m),C=f(935),y=f.n(C)()(v());y.push([l.id,".ck .ck-link_selected{background:var(--ck-color-link-selected-background)}.ck .ck-link_selected span.image-inline{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background)}.ck .ck-fake-link-selection{background:var(--ck-color-link-fake-selection)}.ck .ck-fake-link-selection_collapsed{border-right:1px solid var(--ck-color-base-text);height:100%;margin-right:-1px;outline:1px solid hsla(0,0%,100%,.5)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/link.css"],names:[],mappings:"AAMA,sBACC,mDAMD,CAHC,wCACC,yFACD,CAOD,4BACC,8CACD,CAGA,sCAEC,gDAAiD,CADjD,WAAY,CAEZ,iBAAkB,CAClB,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Class added to span element surrounding currently selected link. */
.ck .ck-link_selected {
	background: var(--ck-color-link-selected-background);

	/* Give linked inline images some outline to let the user know they are also part of the link. */
	& span.image-inline {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background);
	}
}

/*
 * Classes used by the "fake visual selection" displayed in the content when an input
 * in the link UI has focus (the browser does not render the native selection in this state).
 */
.ck .ck-fake-link-selection {
	background: var(--ck-color-link-fake-selection);
}

/* A collapsed fake visual selection. */
.ck .ck-fake-link-selection_collapsed {
	height: 100%;
	border-right: 1px solid var(--ck-color-base-text);
	margin-right: -1px;
	outline: solid 1px hsla(0, 0%, 100%, .5);
}
`],sourceRoot:""}]);const S=y},8762:(l,d,f)=>{f.d(d,{A:()=>S});var m=f(9372),v=f.n(m),C=f(935),y=f.n(C)()(v());y.push([l.id,".ck.ck-link-actions{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}@media screen and (max-width:600px){.ck.ck-link-actions{flex-wrap:wrap}.ck.ck-link-actions .ck-link-actions__preview{flex-basis:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){flex-basis:50%}}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{color:var(--ck-color-link-default);cursor:pointer;max-width:var(--ck-input-width);min-width:3em;padding:0 var(--ck-spacing-medium);text-align:center;text-overflow:ellipsis}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}[dir=ltr] .ck.ck-link-actions .ck-button:not(:first-child),[dir=rtl] .ck.ck-link-actions .ck-button:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-actions .ck-button.ck-link-actions__preview{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{max-width:100%;min-width:0}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview),[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}}","",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkactions.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkactions.css"],names:[],mappings:"AAOA,oBACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,8CACC,oBAKD,CAHC,gEACC,eACD,CCXD,oCDCD,oBAcE,cAUF,CARE,8CACC,eACD,CAEA,8DACC,cACD,CCrBD,CCIA,wDACC,cAAe,CACf,eAmCD,CAjCC,0EAEC,kCAAmC,CAEnC,cAAe,CAIf,+BAAgC,CAChC,aAAc,CARd,kCAAmC,CASnC,iBAAkB,CAPlB,sBAYD,CAHC,gFACC,yBACD,CAGD,mPAIC,eACD,CAEA,+DACC,eACD,CAGC,gFACC,yBACD,CAWD,qHACC,sCACD,CDtDD,oCC0DC,wDACC,8DAMD,CAJC,0EAEC,cAAe,CADf,WAED,CAGD,gJAME,aAEF,CDzED",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-actions {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-link-actions__preview {
		display: inline-block;

		& .ck-button__label {
			overflow: hidden;
		}
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-link-actions__preview {
			flex-basis: 100%;
		}

		& .ck-button:not(.ck-link-actions__preview) {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../mixins/_focus.css";
@import "../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-actions {
	& .ck-button.ck-link-actions__preview {
		padding-left: 0;
		padding-right: 0;

		& .ck-button__label {
			padding: 0 var(--ck-spacing-medium);
			color: var(--ck-color-link-default);
			text-overflow: ellipsis;
			cursor: pointer;

			/* Match the box model of the link editor form's input so the balloon
			does not change width when moving between actions and the form. */
			max-width: var(--ck-input-width);
			min-width: 3em;
			text-align: center;

			&:hover {
				text-decoration: underline;
			}
		}

		&,
		&:hover,
		&:focus,
		&:active {
			background: none;
		}

		&:active {
			box-shadow: none;
		}

		&:focus {
			& .ck-button__label {
				text-decoration: underline;
			}
		}
	}

	@mixin ck-dir ltr {
		& .ck-button:not(:first-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& .ck-button:not(:last-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-media-phone {
		& .ck-button.ck-link-actions__preview {
			margin: var(--ck-spacing-standard) var(--ck-spacing-standard) 0;

			& .ck-button__label {
				min-width: 0;
				max-width: 100%;
			}
		}

		& .ck-button:not(.ck-link-actions__preview) {
			@mixin ck-dir ltr {
				margin-left: 0;
			}

			@mixin ck-dir rtl {
				margin-left: 0;
			}
		}
	}
}
`],sourceRoot:""}]);const S=y},3817:(l,d,f)=>{f.d(d,{A:()=>S});var m=f(9372),v=f.n(m),C=f(935),y=f.n(C)()(v());y.push([l.id,".ck.ck-link-form{align-items:flex-start;display:flex}.ck.ck-link-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-link-form{flex-wrap:wrap}.ck.ck-link-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-link-form .ck-button{flex-basis:50%}}.ck.ck-link-form_layout-vertical{display:block}.ck.ck-link-form_layout-vertical .ck-button.ck-button-cancel,.ck.ck-link-form_layout-vertical .ck-button.ck-button-save{margin-top:var(--ck-spacing-medium)}.ck.ck-link-form_layout-vertical{min-width:var(--ck-input-width);padding:0}.ck.ck-link-form_layout-vertical .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-link-form_layout-vertical>.ck-button{border-radius:0;margin:0;padding:var(--ck-spacing-standard);width:50%}.ck.ck-link-form_layout-vertical>.ck-button:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-link-form_layout-vertical>.ck-button,[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}.ck.ck-link-form_layout-vertical .ck.ck-list{margin:var(--ck-spacing-standard) var(--ck-spacing-large)}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton{padding:0;width:100%}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton:hover{background:none}","",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkform.css"],names:[],mappings:"AAOA,iBAEC,sBAAuB,CADvB,YAkBD,CAfC,2BACC,YACD,CCPA,oCDCD,iBASE,cAUF,CARE,wCACC,eACD,CAEA,4BACC,cACD,CChBD,CDwBD,iCACC,aAYD,CALE,wHAEC,mCACD,CEhCF,iCAEC,+BAAgC,CADhC,SAgDD,CA7CC,wDACC,8EAMD,CAJC,uEACC,WAAY,CACZ,UACD,CAGD,4CAIC,eAAgB,CAFhB,QAAS,CADT,kCAAmC,CAEnC,SAkBD,CAfC,wDACC,gDACD,CARD,4GAeE,aAMF,CAJE,mEACC,kDACD,CAKF,6CACC,yDAUD,CARC,wEACC,SAAU,CACV,UAKD,CAHC,8EACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-form {
	display: flex;
	align-items: flex-start;

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}

/*
 * Style link form differently when manual decorators are available.
 * See: https://github.com/ckeditor/ckeditor5-link/issues/186.
 */
.ck.ck-link-form_layout-vertical {
	display: block;

	/*
	 * Whether the form is in the responsive mode or not, if there are decorator buttons
	 * keep the top margin of action buttons medium.
	 */
	& .ck-button {
		&.ck-button-save,
		&.ck-button-cancel {
			margin-top: var(--ck-spacing-medium);
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

/*
 * Style link form differently when manual decorators are available.
 * See: https://github.com/ckeditor/ckeditor5-link/issues/186.
 */
.ck.ck-link-form_layout-vertical {
	padding: 0;
	min-width: var(--ck-input-width);

	& .ck-labeled-field-view {
		margin: var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small);

		& .ck-input-text {
			min-width: 0;
			width: 100%;
		}
	}

	& > .ck-button {
		padding: var(--ck-spacing-standard);
		margin: 0;
		width: 50%;
		border-radius: 0;

		&:not(:focus) {
			border-top: 1px solid var(--ck-color-base-border);
		}

		@mixin ck-dir ltr {
			margin-left: 0;
		}

		@mixin ck-dir rtl {
			margin-left: 0;

			&:last-of-type {
				border-right: 1px solid var(--ck-color-base-border);
			}
		}
	}

	/* Using additional \`.ck\` class for stronger CSS specificity than \`.ck.ck-link-form > :not(:first-child)\`. */
	& .ck.ck-list {
		margin: var(--ck-spacing-standard) var(--ck-spacing-large);

		& .ck-button.ck-switchbutton {
			padding: 0;
			width: 100%;

			&:hover {
				background: none;
			}
		}
	}
}
`],sourceRoot:""}]);const S=y},4808:(l,d,f)=>{f.d(d,{A:()=>S});var m=f(9372),v=f.n(m),C=f(935),y=f.n(C)()(v());y.push([l.id,'.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{display:block;position:absolute}:root{--ck-link-image-indicator-icon-size:20;--ck-link-image-indicator-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{background-color:rgba(0,0,0,.4);background-image:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAyMCI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTExLjA3NyAxNSAuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzUuNzUgMCAwIDEtLjIxNy4yMDYgNS4yNTEgNS4yNTEgMCAwIDEtOC41MDMtNS45NTUuNy43IDAgMCAxIC4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NHptNS40OTQtNS4zMzVhLjc1Ljc1IDAgMCAxLS4xMi4yNzRsLTEuMTQ3IDEuNjM5YS43NS43NSAwIDEgMS0xLjIyOC0uODZsLjg2LTEuMjNhMy43NSAzLjc1IDAgMCAwLTYuMTQ0LTQuMzAxbC0uODYgMS4yMjlhLjc1Ljc1IDAgMCAxLTEuMjI5LS44NmwxLjE0OC0xLjY0YS43NS43NSAwIDAgMSAuMjE3LS4yMDYgNS4yNTEgNS4yNTEgMCAwIDEgOC41MDMgNS45NTVtLTQuNTYzLTIuNTMyYS43NS43NSAwIDAgMSAuMTg0IDEuMDQ1bC0zLjE1NSA0LjUwNWEuNzUuNzUgMCAxIDEtMS4yMjktLjg2bDMuMTU1LTQuNTA2YS43NS43NSAwIDAgMSAxLjA0NS0uMTg0Ii8+PC9zdmc+");background-position:50%;background-repeat:no-repeat;background-size:14px;border-radius:100%;content:"";height:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size));overflow:hidden;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);width:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size))}',"",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkimage.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkimage.css"],names:[],mappings:"AASE,+FACC,aAAc,CACd,iBACD,CCPF,MAEC,sCAAuC,CACvC,oEACD,CAME,+FAUC,+BAAqC,CACrC,k2BAA+3B,CAG/3B,uBAA2B,CAD3B,2BAA4B,CAD5B,oBAAqB,CAGrB,kBAAmB,CAdnB,UAAW,CAsBX,oGAAuG,CAFvG,eAAgB,CAbhB,sCAAwC,CADxC,oCAAsC,CAetC,mGAED",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	/* Linked image indicator */
	& figure.image > a,
	& a span.image-inline {
		&::after {
			display: block;
			position: absolute;
		}
	}
}

`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* Match the icon size with the upload indicator brought by the image upload feature. */
	--ck-link-image-indicator-icon-size: 20;
	--ck-link-image-indicator-icon-is-visible: clamp(0px, 100% - 50px, 1px);
}

.ck.ck-editor__editable {
	/* Linked image indicator */
	& figure.image > a,
	& a span.image-inline {
		&::after {
			content: "";

			/*
			 * Smaller images should have the icon closer to the border.
			 * Match the icon position with the upload indicator brought by the image upload feature.
			 */
			top: min(var(--ck-spacing-medium), 6%);
			right: min(var(--ck-spacing-medium), 6%);

			background-color: hsla(0, 0%, 0%, .4);
			background-image: url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTExLjA3NyAxNSAuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzQ4Ljc0OCAwIDAgMS0uMjE3LjIwNiA1LjI1MSA1LjI1MSAwIDAgMS04LjUwMy01Ljk1NS43NDEuNzQxIDAgMCAxIC4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NGwuMDA2LjAwNHptNS40OTQtNS4zMzVhLjc0OC43NDggMCAwIDEtLjEyLjI3NGwtMS4xNDcgMS42MzlhLjc1Ljc1IDAgMSAxLTEuMjI4LS44NmwuODYtMS4yM2EzLjc1IDMuNzUgMCAwIDAtNi4xNDQtNC4zMDFsLS44NiAxLjIyOWEuNzUuNzUgMCAwIDEtMS4yMjktLjg2bDEuMTQ4LTEuNjRhLjc0OC43NDggMCAwIDEgLjIxNy0uMjA2IDUuMjUxIDUuMjUxIDAgMCAxIDguNTAzIDUuOTU1em0tNC41NjMtMi41MzJhLjc1Ljc1IDAgMCAxIC4xODQgMS4wNDVsLTMuMTU1IDQuNTA1YS43NS43NSAwIDEgMS0xLjIyOS0uODZsMy4xNTUtNC41MDZhLjc1Ljc1IDAgMCAxIDEuMDQ1LS4xODR6Ii8+PC9zdmc+");
			background-size: 14px;
			background-repeat: no-repeat;
			background-position: center;
			border-radius: 100%;

			/*
			* Use CSS math to simulate container queries.
			* https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things
			*/
			overflow: hidden;
			width: calc(var(--ck-link-image-indicator-icon-is-visible) * var(--ck-link-image-indicator-icon-size));
			height: calc(var(--ck-link-image-indicator-icon-is-visible) * var(--ck-link-image-indicator-icon-size));
		}
	}
}

`],sourceRoot:""}]);const S=y},1232:(l,d,f)=>{f.d(d,{A:()=>S});var m=f(9372),v=f.n(m),C=f(935),y=f.n(C)()(v());y.push([l.id,".ck-editor__editable .ck-list-bogus-paragraph{display:block}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/documentlist.css"],names:[],mappings:"AAKA,8CACC,aACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-editor__editable .ck-list-bogus-paragraph {
	display: block;
}
`],sourceRoot:""}]);const S=y},6903:(l,d,f)=>{f.d(d,{A:()=>S});var m=f(9372),v=f.n(m),C=f(935),y=f.n(C)()(v());y.push([l.id,".ck-content ol{list-style-type:decimal}.ck-content ol ol{list-style-type:lower-latin}.ck-content ol ol ol{list-style-type:lower-roman}.ck-content ol ol ol ol{list-style-type:upper-latin}.ck-content ol ol ol ol ol{list-style-type:upper-roman}.ck-content ul{list-style-type:disc}.ck-content ul ul{list-style-type:circle}.ck-content ul ul ul,.ck-content ul ul ul ul{list-style-type:square}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/list.css"],names:[],mappings:"AAKA,eACC,uBAiBD,CAfC,kBACC,2BAaD,CAXC,qBACC,2BASD,CAPC,wBACC,2BAKD,CAHC,2BACC,2BACD,CAMJ,eACC,oBAaD,CAXC,kBACC,sBASD,CAJE,6CACC,sBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content ol {
	list-style-type: decimal;

	& ol {
		list-style-type: lower-latin;

		& ol {
			list-style-type: lower-roman;

			& ol {
				list-style-type: upper-latin;

				& ol {
					list-style-type: upper-roman;
				}
			}
		}
	}
}

.ck-content ul {
	list-style-type: disc;

	& ul {
		list-style-type: circle;

		& ul {
			list-style-type: square;

			& ul {
				list-style-type: square;
			}
		}
	}
}
`],sourceRoot:""}]);const S=y},9968:(l,d,f)=>{f.d(d,{A:()=>S});var m=f(9372),v=f.n(m),C=f(935),y=f.n(C)()(v());y.push([l.id,".ck.ck-list-properties.ck-list-properties_without-styles{padding:var(--ck-spacing-large)}.ck.ck-list-properties.ck-list-properties_without-styles>*{min-width:14em}.ck.ck-list-properties.ck-list-properties_without-styles>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-list-styles-list{grid-template-columns:repeat(4,auto)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible{border-top:1px solid var(--ck-color-base-border)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*{width:100%}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties .ck.ck-numbered-list-properties__start-index .ck-input{min-width:auto;width:100%}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order{background:transparent;margin-bottom:calc(var(--ck-spacing-tiny)*-1);padding-left:0;padding-right:0}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:active,.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:hover{background:none;border-color:transparent;box-shadow:none}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-list/listproperties.css"],names:[],mappings:"AAOC,yDACC,+BASD,CAPC,2DACC,cAKD,CAHC,6DACC,qCACD,CASD,wFACC,oCACD,CAGA,mFACC,gDAWD,CARE,+GACC,UAKD,CAHC,iHACC,qCACD,CAMJ,8EACC,cAAe,CACf,UACD,CAEA,uEACC,sBAAuB,CAGvB,6CAAgD,CAFhD,cAAe,CACf,eAQD,CALC,2JAGC,eAAgB,CADhB,wBAAyB,CADzB,eAGD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-list-properties {
	/* When there are no list styles and there is no collapsible. */
	&.ck-list-properties_without-styles {
		padding: var(--ck-spacing-large);

		& > * {
			min-width: 14em;

			& + * {
				margin-top: var(--ck-spacing-standard);
			}
		}
	}

	/*
	 * When the numbered list property fields (start at, reversed) should be displayed,
	 * more horizontal space is needed. Reconfigure the style grid to create that space.
	 */
	&.ck-list-properties_with-numbered-properties {
		& > .ck-list-styles-list {
			grid-template-columns: repeat( 4, auto );
		}

		/* When list styles are rendered and property fields are in a collapsible. */
		& > .ck-collapsible {
			border-top: 1px solid var(--ck-color-base-border);

			& > .ck-collapsible__children {
				& > * {
					width: 100%;

					& + * {
						margin-top: var(--ck-spacing-standard);
					}
				}
			}
		}
	}

	& .ck.ck-numbered-list-properties__start-index .ck-input {
		min-width: auto;
		width: 100%;
	}

	& .ck.ck-numbered-list-properties__reversed-order {
		background: transparent;
		padding-left: 0;
		padding-right: 0;
		margin-bottom: calc(-1 * var(--ck-spacing-tiny));

		&:active, &:hover {
			box-shadow: none;
			border-color: transparent;
			background: none;
		}
	}
}
`],sourceRoot:""}]);const S=y},7141:(l,d,f)=>{f.d(d,{A:()=>S});var m=f(9372),v=f.n(m),C=f(935),y=f.n(C)()(v());y.push([l.id,".ck.ck-list-styles-list{display:grid}:root{--ck-list-style-button-size:44px}.ck.ck-list-styles-list{column-gap:var(--ck-spacing-medium);grid-template-columns:repeat(3,auto);padding:var(--ck-spacing-large);row-gap:var(--ck-spacing-medium)}.ck.ck-list-styles-list .ck-button{box-sizing:content-box;margin:0;padding:0}.ck.ck-list-styles-list .ck-button,.ck.ck-list-styles-list .ck-button .ck-icon{height:var(--ck-list-style-button-size);width:var(--ck-list-style-button-size)}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/liststyles.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-list/liststyles.css"],names:[],mappings:"AAKA,wBACC,YACD,CCFA,MACC,gCACD,CAEA,wBAGC,mCAAoC,CAFpC,oCAAwC,CAGxC,+BAAgC,CAFhC,gCA4BD,CAxBC,mCAiBC,sBAAuB,CAPvB,QAAS,CANT,SAmBD,CAJC,+EAhBA,uCAAwC,CADxC,sCAoBA",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-list-styles-list {
	display: grid;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-list-style-button-size: 44px;
}

.ck.ck-list-styles-list {
	grid-template-columns: repeat( 3, auto );
	row-gap: var(--ck-spacing-medium);
	column-gap: var(--ck-spacing-medium);
	padding: var(--ck-spacing-large);

	& .ck-button {
		/* Make the button look like a thumbnail (the icon "takes it all"). */
		width: var(--ck-list-style-button-size);
		height: var(--ck-list-style-button-size);
		padding: 0;

		/*
		 * Buttons are aligned by the grid so disable default button margins to not collide with the
		 * gaps in the grid.
		 */
		margin: 0;

		/*
		 * Make sure the button border (which is displayed on focus, BTW) does not steal pixels
		 * from the button dimensions and, as a result, decrease the size of the icon
		 * (which becomes blurry as it scales down).
		 */
		box-sizing: content-box;

		& .ck-icon {
			width: var(--ck-list-style-button-size);
			height: var(--ck-list-style-button-size);
		}
	}
}
`],sourceRoot:""}]);const S=y},8991:(l,d,f)=>{f.d(d,{A:()=>S});var m=f(9372),v=f.n(m),C=f(935),y=f.n(C)()(v());y.push([l.id,':root{--ck-todo-list-checkmark-size:16px}.ck-content .todo-list{list-style:none}.ck-content .todo-list li{margin-bottom:5px;position:relative}.ck-content .todo-list li .todo-list{margin-top:5px}.ck-content .todo-list .todo-list__label>input{-webkit-appearance:none;border:0;display:inline-block;height:var(--ck-todo-list-checkmark-size);left:-25px;margin-left:0;margin-right:-15px;position:relative;right:0;vertical-align:middle;width:var(--ck-todo-list-checkmark-size)}.ck-content[dir=rtl] .todo-list .todo-list__label>input{left:0;margin-left:-15px;margin-right:0;right:-25px}.ck-content .todo-list .todo-list__label>input:before{border:1px solid #333;border-radius:2px;box-sizing:border-box;content:"";display:block;height:100%;position:absolute;transition:box-shadow .25s ease-in-out;width:100%}@media (prefers-reduced-motion:reduce){.ck-content .todo-list .todo-list__label>input:before{transition:none}}.ck-content .todo-list .todo-list__label>input:after{border-color:transparent;border-style:solid;border-width:0 calc(var(--ck-todo-list-checkmark-size)/8) calc(var(--ck-todo-list-checkmark-size)/8) 0;box-sizing:content-box;content:"";display:block;height:calc(var(--ck-todo-list-checkmark-size)/2.6);left:calc(var(--ck-todo-list-checkmark-size)/3);pointer-events:none;position:absolute;top:calc(var(--ck-todo-list-checkmark-size)/5.3);transform:rotate(45deg);width:calc(var(--ck-todo-list-checkmark-size)/5.3)}.ck-content .todo-list .todo-list__label>input[checked]:before{background:#26ab33;border-color:#26ab33}.ck-content .todo-list .todo-list__label>input[checked]:after{border-color:#fff}.ck-content .todo-list .todo-list__label .todo-list__label__description{vertical-align:middle}.ck-content .todo-list .todo-list__label.todo-list__label_without-description input[type=checkbox]{position:absolute}.ck-editor__editable.ck-content .todo-list .todo-list__label>input,.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input{cursor:pointer}.ck-editor__editable.ck-content .todo-list .todo-list__label>input:hover:before,.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:hover:before{box-shadow:0 0 0 5px rgba(0,0,0,.1)}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input{-webkit-appearance:none;border:0;display:inline-block;height:var(--ck-todo-list-checkmark-size);left:-25px;margin-left:0;margin-right:-15px;position:relative;right:0;vertical-align:middle;width:var(--ck-todo-list-checkmark-size)}.ck-editor__editable.ck-content[dir=rtl] .todo-list .todo-list__label>span[contenteditable=false]>input{left:0;margin-left:-15px;margin-right:0;right:-25px}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:before{border:1px solid #333;border-radius:2px;box-sizing:border-box;content:"";display:block;height:100%;position:absolute;transition:box-shadow .25s ease-in-out;width:100%}@media (prefers-reduced-motion:reduce){.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:before{transition:none}}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:after{border-color:transparent;border-style:solid;border-width:0 calc(var(--ck-todo-list-checkmark-size)/8) calc(var(--ck-todo-list-checkmark-size)/8) 0;box-sizing:content-box;content:"";display:block;height:calc(var(--ck-todo-list-checkmark-size)/2.6);left:calc(var(--ck-todo-list-checkmark-size)/3);pointer-events:none;position:absolute;top:calc(var(--ck-todo-list-checkmark-size)/5.3);transform:rotate(45deg);width:calc(var(--ck-todo-list-checkmark-size)/5.3)}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input[checked]:before{background:#26ab33;border-color:#26ab33}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input[checked]:after{border-color:#fff}.ck-editor__editable.ck-content .todo-list .todo-list__label.todo-list__label_without-description input[type=checkbox]{position:absolute}',"",{version:3,sources:["webpack://./../ckeditor5-list/theme/todolist.css"],names:[],mappings:"AAKA,MACC,kCACD,CA4EA,uBACC,eAwBD,CAtBC,0BAEC,iBAAkB,CADlB,iBAMD,CAHC,qCACC,cACD,CAIA,+CAtFD,uBAAwB,CAQxB,QAAS,CAPT,oBAAqB,CAGrB,yCAA0C,CAO1C,UAAW,CAGX,aAAc,CAFd,kBAAmB,CAVnB,iBAAkB,CAWlB,OAAQ,CARR,qBAAsB,CAFtB,wCAqFC,CAFA,wDApEA,MAAO,CAGP,iBAAkB,CAFlB,cAAe,CACf,WAoEA,CAhED,sDAOC,qBAAiC,CACjC,iBAAkB,CALlB,qBAAsB,CACtB,UAAW,CAHX,aAAc,CAKd,WAAY,CAJZ,iBAAkB,CAOlB,sCAAwC,CAJxC,UASD,CAHC,uCAXD,sDAYE,eAEF,CADC,CAGD,qDAaC,wBAAyB,CADzB,kBAAmB,CAEnB,sGAA+G,CAX/G,sBAAuB,CAEvB,UAAW,CAJX,aAAc,CAUd,mDAAwD,CAHxD,+CAAoD,CAJpD,mBAAoB,CAFpB,iBAAkB,CAOlB,gDAAqD,CAMrD,uBAAwB,CALxB,kDAMD,CAGC,+DACC,kBAA8B,CAC9B,oBACD,CAEA,8DACC,iBACD,CAwBA,wEACC,qBACD,CAEA,mGACC,iBACD,CAYD,kKAEC,cAKD,CAHC,4LACC,mCACD,CAMD,+FAxHA,uBAAwB,CAQxB,QAAS,CAPT,oBAAqB,CAGrB,yCAA0C,CAO1C,UAAW,CAGX,aAAc,CAFd,kBAAmB,CAVnB,iBAAkB,CAWlB,OAAQ,CARR,qBAAsB,CAFtB,wCAuHA,CAFA,wGAtGC,MAAO,CAGP,iBAAkB,CAFlB,cAAe,CACf,WAsGD,CAlGA,sGAOC,qBAAiC,CACjC,iBAAkB,CALlB,qBAAsB,CACtB,UAAW,CAHX,aAAc,CAKd,WAAY,CAJZ,iBAAkB,CAOlB,sCAAwC,CAJxC,UASD,CAHC,uCAXD,sGAYE,eAEF,CADC,CAGD,qGAaC,wBAAyB,CADzB,kBAAmB,CAEnB,sGAA+G,CAX/G,sBAAuB,CAEvB,UAAW,CAJX,aAAc,CAUd,mDAAwD,CAHxD,+CAAoD,CAJpD,mBAAoB,CAFpB,iBAAkB,CAOlB,gDAAqD,CAMrD,uBAAwB,CALxB,kDAMD,CAGC,+GACC,kBAA8B,CAC9B,oBACD,CAEA,8GACC,iBACD,CA2DA,uHACC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-todo-list-checkmark-size: 16px;
}

@define-mixin todo-list-checkbox {
	-webkit-appearance: none;
	display: inline-block;
	position: relative;
	width: var(--ck-todo-list-checkmark-size);
	height: var(--ck-todo-list-checkmark-size);
	vertical-align: middle;

	/* Needed on iOS */
	border: 0;

	/* LTR styles */
	left: -25px;
	margin-right: -15px;
	right: 0;
	margin-left: 0;

	/* RTL styles */
	@nest [dir=rtl]& {
		left: 0;
		margin-right: 0;
		right: -25px;
		margin-left: -15px;
	}

	&::before {
		display: block;
		position: absolute;
		box-sizing: border-box;
		content: '';
		width: 100%;
		height: 100%;
		border: 1px solid hsl(0, 0%, 20%);
		border-radius: 2px;
		transition: 250ms ease-in-out box-shadow;

		@media (prefers-reduced-motion: reduce) {
			transition: none;
		}
	}

	&::after {
		display: block;
		position: absolute;
		box-sizing: content-box;
		pointer-events: none;
		content: '';

		/* Calculate tick position, size and border-width proportional to the checkmark size. */
		left: calc( var(--ck-todo-list-checkmark-size) / 3 );
		top: calc( var(--ck-todo-list-checkmark-size) / 5.3 );
		width: calc( var(--ck-todo-list-checkmark-size) / 5.3 );
		height: calc( var(--ck-todo-list-checkmark-size) / 2.6 );
		border-style: solid;
		border-color: transparent;
		border-width: 0 calc( var(--ck-todo-list-checkmark-size) / 8 ) calc( var(--ck-todo-list-checkmark-size) / 8 ) 0;
		transform: rotate(45deg);
	}

	&[checked] {
		&::before {
			background: hsl(126, 64%, 41%);
			border-color: hsl(126, 64%, 41%);
		}

		&::after {
			border-color: hsl(0, 0%, 100%);
		}
	}
}

/*
 * To-do list content styles.
 */
.ck-content .todo-list {
	list-style: none;

	& li {
		position: relative;
		margin-bottom: 5px;

		& .todo-list {
			margin-top: 5px;
		}
	}

	& .todo-list__label {
		& > input {
			@mixin todo-list-checkbox;
		}

		& .todo-list__label__description {
			vertical-align: middle;
		}

		&.todo-list__label_without-description input[type=checkbox] {
			position: absolute;
		}
	}
}

/*
 * To-do list editing view styles.
 */
.ck-editor__editable.ck-content .todo-list .todo-list__label {
	/*
	 * To-do list should be interactive only during the editing
	 * (https://github.com/ckeditor/ckeditor5/issues/2090).
	 */
	& > input,
	& > span[contenteditable=false] > input {
		cursor: pointer;

		&:hover::before {
			box-shadow: 0 0 0 5px hsla(0, 0%, 0%, 0.1);
		}
	}

	/*
	 * Document Lists - editing view has an additional span around checkbox.
	 */
	& > span[contenteditable=false] > input {
		@mixin todo-list-checkbox;
	}

	&.todo-list__label_without-description {
		& input[type=checkbox] {
			position: absolute;
		}
	}
}
`],sourceRoot:""}]);const S=y},70:(l,d,f)=>{f.d(d,{A:()=>S});var m=f(9372),v=f.n(m),C=f(935),y=f.n(C)()(v());y.push([l.id,".ck-content .media{clear:both;display:block;margin:.9em 0;min-width:15em}","",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaembed.css"],names:[],mappings:"AAKA,mBAGC,UAAW,CASX,aAAc,CAJd,aAAe,CAQf,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content .media {
	/* Don't allow floated content overlap the media.
	https://github.com/ckeditor/ckeditor5-media-embed/issues/53 */
	clear: both;

	/* Make sure there is some space between the content and the media. */
	/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
	margin: 0.9em 0;

	/* Make sure media is not overriden with Bootstrap default \`flex\` value.
	See: https://github.com/ckeditor/ckeditor5/issues/1373. */
	display: block;

	/* Give the media some minimal width in the content to prevent them
	from being "squashed" in tight spaces, e.g. in table cells (#44) */
	min-width: 15em;
}
`],sourceRoot:""}]);const S=y},7048:(l,d,f)=>{f.d(d,{A:()=>S});var m=f(9372),v=f.n(m),C=f(935),y=f.n(C)()(v());y.push([l.id,'.ck-media__wrapper .ck-media__placeholder{align-items:center;display:flex;flex-direction:column}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url{max-width:100%;position:relative}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-media__placeholder__url__text{display:block;overflow:hidden}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck-media__placeholder__icon *{display:none}.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper>:not(.ck-media__placeholder),.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder{pointer-events:none}:root{--ck-media-embed-placeholder-icon-size:3em;--ck-color-media-embed-placeholder-url-text:#757575;--ck-color-media-embed-placeholder-url-text-hover:var(--ck-color-base-text)}.ck-media__wrapper{margin:0 auto}.ck-media__wrapper .ck-media__placeholder{background:var(--ck-color-base-foreground);padding:calc(var(--ck-spacing-standard)*3)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon{background-position:50%;background-size:cover;height:var(--ck-media-embed-placeholder-icon-size);margin-bottom:var(--ck-spacing-large);min-width:var(--ck-media-embed-placeholder-icon-size)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon .ck-icon{height:100%;width:100%}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text{color:var(--ck-color-media-embed-placeholder-url-text);font-style:italic;text-align:center;text-overflow:ellipsis;white-space:nowrap}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:var(--ck-color-media-embed-placeholder-url-text-hover);cursor:pointer;text-decoration:underline}.ck-media__wrapper[data-oembed-url*="open.spotify.com"]{max-height:380px;max-width:300px}.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSlzY2FsZSguOTgwMTIpIj48cmVjdCB3aWR0aD0iNjAuMDk5IiBoZWlnaHQ9IjYwLjA5OSIgeD0iMTc2LjAzMSIgeT0iMjMxLjM5OSIgZmlsbD0iIzM0YTY2OCIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiIHJ4PSI1LjIzOCIgcnk9IjUuMjM4Ii8+PHBhdGggZmlsbD0iIzVjODhjNSIgZD0ibTIwNi40NzcgMjYwLjktMjguOTg3IDI4Ljk4N2E1LjIyIDUuMjIgMCAwIDAgMy43OCAxLjYxaDQ5LjYyMWMxLjY5NCAwIDMuMTktLjc5OCA0LjE0Ni0yLjAzN3oiLz48cGF0aCBmaWxsPSIjZGQ0YjNlIiBkPSJNMjI2Ljc0MiAyMjIuOTg4Yy05LjI2NiAwLTE2Ljc3NyA3LjE3LTE2Ljc3NyAxNi4wMTQuMDA3IDIuNzYyLjY2MyA1LjQ3NCAyLjA5MyA3Ljg3NS40My43MDMuODMgMS40MDggMS4xOSAyLjEwN3EuNS43NTMuOTUgMS41MDguNTE1LjcxNS45ODggMS40NGMxLjMxIDEuNzY5IDIuNSAzLjUwMiAzLjYzNyA1LjE2OC43OTMgMS4yNzUgMS42ODMgMi42NCAyLjQ2NiAzLjk5IDIuMzYzIDQuMDk0IDQuMDA3IDguMDkyIDQuNiAxMy45MTR2LjAxMmMuMTgyLjQxMi41MTYuNjY2Ljg3OS42NjcuNDAzLS4wMDEuNzY4LS4zMTQuOTMtLjc5OS42MDMtNS43NTYgMi4yMzgtOS43MjkgNC41ODUtMTMuNzk0Ljc4Mi0xLjM1IDEuNjczLTIuNzE1IDIuNDY1LTMuOTkgMS4xMzctMS42NjYgMi4zMjgtMy40IDMuNjM4LTUuMTY5cS40NzMtLjcyMy45ODgtMS40MzkuNDUtLjc1NS45NS0xLjUwOGMuMzU5LS43Ljc2LTEuNDA0IDEuMTktMi4xMDcgMS40MjYtMi40MDIgMi01LjExNCAyLjAwNC03Ljg3NSAwLTguODQ0LTcuNTExLTE2LjAxNC0xNi43NzYtMTYuMDE0IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxlbGxpcHNlIGN4PSIyMjYuNzQyIiBjeT0iMjM5LjAwMiIgZmlsbD0iIzgwMmQyNyIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiIHJ4PSI1LjgyOCIgcnk9IjUuNTY0Ii8+PHBhdGggZmlsbD0iI2ZmZiIgZD0iTTE5MC4zMDEgMjM3LjI4M2MtNC42NyAwLTguNDU3IDMuODUzLTguNDU3IDguNjA2czMuNzg2IDguNjA3IDguNDU3IDguNjA3YzMuMDQzIDAgNC44MDYtLjk1OCA2LjMzNy0yLjUxNiAxLjUzLTEuNTU3IDIuMDg3LTMuOTEzIDIuMDg3LTYuMjlxLS4wMDEtLjU0My0uMDY0LTEuMDc5aC04LjI1N3YzLjA0M2g0Ljg1Yy0uMTk3Ljc1OS0uNTMxIDEuNDUtMS4wNTggMS45ODYtLjk0Mi45NTgtMi4wMjggMS41NDgtMy45MDEgMS41NDgtMi44NzYgMC01LjIwOC0yLjM3Mi01LjIwOC01LjI5OSAwLTIuOTI2IDIuMzMyLTUuMjk5IDUuMjA4LTUuMjk5IDEuMzk5IDAgMi42MTguNDA3IDMuNTg0IDEuMjkzbDIuMzgxLTIuMzhxLS4wMDEtLjAwMy0uMDA0LS4wMDVjLTEuNTg4LTEuNTI0LTMuNjItMi4yMTUtNS45NTUtMi4yMTVtNC40MyA1LjY2LjAwMy4wMDZ2LS4wMDN6IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGZpbGw9IiNjM2MzYzMiIGQ9Im0yMTUuMTg0IDI1MS45MjktNy45OCA3Ljk3OSAyOC40NzcgMjguNDc1YTUuMiA1LjIgMCAwIDAgLjQ0OS0yLjEyM3YtMzEuMTY1Yy0uNDY5LjY3NS0uOTM0IDEuMzQ5LTEuMzgyIDIuMDA1LS43OTIgMS4yNzUtMS42ODIgMi42NC0yLjQ2NSAzLjk5LTIuMzQ3IDQuMDY1LTMuOTgyIDguMDM4LTQuNTg1IDEzLjc5NC0uMTYyLjQ4NS0uNTI3Ljc5OC0uOTMuNzk5LS4zNjMtLjAwMS0uNjk3LS4yNTUtLjg3OS0uNjY3di0uMDEyYy0uNTkzLTUuODIyLTIuMjM3LTkuODItNC42LTEzLjkxNC0uNzgzLTEuMzUtMS42NzMtMi43MTUtMi40NjYtMy45OS0xLjEzNy0xLjY2Ni0yLjMyNy0zLjQtMy42MzctNS4xNjl6Ii8+PHBhdGggZmlsbD0iI2ZkZGM0ZiIgZD0ibTIxMi45ODMgMjQ4LjQ5NS0zNi45NTIgMzYuOTUzdi44MTJhNS4yMjcgNS4yMjcgMCAwIDAgNS4yMzggNS4yMzhoMS4wMTVsMzUuNjY2LTM1LjY2NmExMzYgMTM2IDAgMCAwLTIuNzY0LTMuOSAzOCAzOCAwIDAgMC0uOTg5LTEuNDQgMzUgMzUgMCAwIDAtLjk1LTEuNTA4Yy0uMDgzLS4xNjItLjE3Ni0uMzI2LS4yNjQtLjQ4OSIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBmaWxsPSIjZmZmIiBkPSJtMjExLjk5OCAyNjEuMDgzLTYuMTUyIDYuMTUxIDI0LjI2NCAyNC4yNjRoLjc4MWE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOS01LjIzOHYtMS4wNDV6IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjwvZz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder{background:#4268b3}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDI0IiBoZWlnaHQ9IjEwMjQiPjxwYXRoIGZpbGw9IiNGRkZGRkUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTk2Ny40ODQgMEg1Ni41MTdDMjUuMzA0IDAgMCAyNS4zMDQgMCA1Ni41MTd2OTEwLjk2NkMwIDk5OC42OTQgMjUuMjk3IDEwMjQgNTYuNTIyIDEwMjRINTQ3VjYyOEg0MTRWNDczaDEzM1YzNTkuMDI5YzAtMTMyLjI2MiA4MC43NzMtMjA0LjI4MiAxOTguNzU2LTIwNC4yODIgNTYuNTEzIDAgMTA1LjA4NiA0LjIwOCAxMTkuMjQ0IDYuMDg5VjI5OWwtODEuNjE2LjAzN2MtNjMuOTkzIDAtNzYuMzg0IDMwLjQ5Mi03Ni4zODQgNzUuMjM2VjQ3M2gxNTMuNDg3bC0xOS45ODYgMTU1SDcwN3YzOTZoMjYwLjQ4NGMzMS4yMTMgMCA1Ni41MTYtMjUuMzAzIDU2LjUxNi01Ni41MTZWNTYuNTE1QzEwMjQgMjUuMzAzIDk5OC42OTcgMCA5NjcuNDg0IDAiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#cdf}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder{background:linear-gradient(-135deg,#1400c7,#b800b1,#f50000)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iNTA0IiBoZWlnaHQ9IjUwNCI+PGRlZnM+PHBhdGggaWQ9ImEiIGQ9Ik0wIC4xNTloNTAzLjg0MVY1MDMuOTRIMHoiLz48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48bWFzayBpZD0iYiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYSIvPjwvbWFzaz48cGF0aCBmaWxsPSIjRkZGIiBkPSJNMjUxLjkyMS4xNTljLTY4LjQxOCAwLTc2Ljk5Ny4yOS0xMDMuODY3IDEuNTE2LTI2LjgxNCAxLjIyMy00NS4xMjcgNS40ODItNjEuMTUxIDExLjcxLTE2LjU2NiA2LjQzNy0zMC42MTUgMTUuMDUxLTQ0LjYyMSAyOS4wNTYtMTQuMDA1IDE0LjAwNi0yMi42MTkgMjguMDU1LTI5LjA1NiA0NC42MjEtNi4yMjggMTYuMDI0LTEwLjQ4NyAzNC4zMzctMTEuNzEgNjEuMTUxQy4yOSAxNzUuMDgzIDAgMTgzLjY2MiAwIDI1Mi4wOGMwIDY4LjQxNy4yOSA3Ni45OTYgMS41MTYgMTAzLjg2NiAxLjIyMyAyNi44MTQgNS40ODIgNDUuMTI3IDExLjcxIDYxLjE1MSA2LjQzNyAxNi41NjYgMTUuMDUxIDMwLjYxNSAyOS4wNTYgNDQuNjIxIDE0LjAwNiAxNC4wMDUgMjguMDU1IDIyLjYxOSA0NC42MjEgMjkuMDU3IDE2LjAyNCA2LjIyNyAzNC4zMzcgMTAuNDg2IDYxLjE1MSAxMS43MDkgMjYuODcgMS4yMjYgMzUuNDQ5IDEuNTE2IDEwMy44NjcgMS41MTYgNjguNDE3IDAgNzYuOTk2LS4yOSAxMDMuODY2LTEuNTE2IDI2LjgxNC0xLjIyMyA0NS4xMjctNS40ODIgNjEuMTUxLTExLjcwOSAxNi41NjYtNi40MzggMzAuNjE1LTE1LjA1MiA0NC42MjEtMjkuMDU3IDE0LjAwNS0xNC4wMDYgMjIuNjE5LTI4LjA1NSAyOS4wNTctNDQuNjIxIDYuMjI3LTE2LjAyNCAxMC40ODYtMzQuMzM3IDExLjcwOS02MS4xNTEgMS4yMjYtMjYuODcgMS41MTYtMzUuNDQ5IDEuNTE2LTEwMy44NjYgMC02OC40MTgtLjI5LTc2Ljk5Ny0xLjUxNi0xMDMuODY3LTEuMjIzLTI2LjgxNC01LjQ4Mi00NS4xMjctMTEuNzA5LTYxLjE1MS02LjQzOC0xNi41NjYtMTUuMDUyLTMwLjYxNS0yOS4wNTctNDQuNjIxLTE0LjAwNi0xNC4wMDUtMjguMDU1LTIyLjYxOS00NC42MjEtMjkuMDU2LTE2LjAyNC02LjIyOC0zNC4zMzctMTAuNDg3LTYxLjE1MS0xMS43MUMzMjguOTE3LjQ0OSAzMjAuMzM4LjE1OSAyNTEuOTIxLjE1OW0wIDQ1LjM5MWM2Ny4yNjUgMCA3NS4yMzMuMjU3IDEwMS43OTcgMS40NjkgMjQuNTYyIDEuMTIgMzcuOTAxIDUuMjI0IDQ2Ljc3OCA4LjY3NCAxMS43NTkgNC41NyAyMC4xNTEgMTAuMDI5IDI4Ljk2NiAxOC44NDVzMTQuMjc1IDE3LjIwNyAxOC44NDUgMjguOTY2YzMuNDUgOC44NzcgNy41NTQgMjIuMjE2IDguNjc0IDQ2Ljc3OCAxLjIxMiAyNi41NjQgMS40NjkgMzQuNTMyIDEuNDY5IDEwMS43OTggMCA2Ny4yNjUtLjI1NyA3NS4yMzMtMS40NjkgMTAxLjc5Ny0xLjEyIDI0LjU2Mi01LjIyNCAzNy45MDEtOC42NzQgNDYuNzc4LTQuNTcgMTEuNzU5LTEwLjAyOSAyMC4xNTEtMTguODQ1IDI4Ljk2NnMtMTcuMjA3IDE0LjI3NS0yOC45NjYgMTguODQ1Yy04Ljg3NyAzLjQ1LTIyLjIxNiA3LjU1NC00Ni43NzggOC42NzQtMjYuNTYgMS4yMTItMzQuNTI3IDEuNDY5LTEwMS43OTcgMS40NjktNjcuMjcxIDAtNzUuMjM3LS4yNTctMTAxLjc5OC0xLjQ2OS0yNC41NjItMS4xMi0zNy45MDEtNS4yMjQtNDYuNzc4LTguNjc0LTExLjc1OS00LjU3LTIwLjE1MS0xMC4wMjktMjguOTY2LTE4Ljg0NXMtMTQuMjc1LTE3LjIwNy0xOC44NDUtMjguOTY2Yy0zLjQ1LTguODc3LTcuNTU0LTIyLjIxNi04LjY3NC00Ni43NzgtMS4yMTItMjYuNTY0LTEuNDY5LTM0LjUzMi0xLjQ2OS0xMDEuNzk3IDAtNjcuMjY2LjI1Ny03NS4yMzQgMS40NjktMTAxLjc5OCAxLjEyLTI0LjU2MiA1LjIyNC0zNy45MDEgOC42NzQtNDYuNzc4IDQuNTctMTEuNzU5IDEwLjAyOS0yMC4xNTEgMTguODQ1LTI4Ljk2NnMxNy4yMDctMTQuMjc1IDI4Ljk2Ni0xOC44NDVjOC44NzctMy40NSAyMi4yMTYtNy41NTQgNDYuNzc4LTguNjc0IDI2LjU2NC0xLjIxMiAzNC41MzItMS40NjkgMTAxLjc5OC0xLjQ2OSIgbWFzaz0idXJsKCNiKSIvPjxwYXRoIGZpbGw9IiNGRkYiIGQ9Ik0yNTEuOTIxIDMzNi4wNTNjLTQ2LjM3OCAwLTgzLjk3NC0zNy41OTYtODMuOTc0LTgzLjk3M3MzNy41OTYtODMuOTc0IDgzLjk3NC04My45NzRjNDYuMzc3IDAgODMuOTczIDM3LjU5NiA4My45NzMgODMuOTc0IDAgNDYuMzc3LTM3LjU5NiA4My45NzMtODMuOTczIDgzLjk3M20wLTIxMy4zMzhjLTcxLjQ0NyAwLTEyOS4zNjUgNTcuOTE4LTEyOS4zNjUgMTI5LjM2NSAwIDcxLjQ0NiA1Ny45MTggMTI5LjM2NCAxMjkuMzY1IDEyOS4zNjQgNzEuNDQ2IDAgMTI5LjM2NC01Ny45MTggMTI5LjM2NC0xMjkuMzY0IDAtNzEuNDQ3LTU3LjkxOC0xMjkuMzY1LTEyOS4zNjQtMTI5LjM2NU00MTYuNjI3IDExNy42MDRjMCAxNi42OTYtMTMuNTM1IDMwLjIzLTMwLjIzMSAzMC4yMy0xNi42OTUgMC0zMC4yMy0xMy41MzQtMzAuMjMtMzAuMjNzMTMuNTM1LTMwLjIzMSAzMC4yMy0zMC4yMzFjMTYuNjk2IDAgMzAuMjMxIDEzLjUzNSAzMC4yMzEgMzAuMjMxIi8+PC9nPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#ffe0fe}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder{background:linear-gradient(90deg,#71c6f4,#0d70a5)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbDpzcGFjZT0icHJlc2VydmUiIHZpZXdCb3g9IjAgMCA0MDAgNDAwIj48cGF0aCBkPSJNNDAwIDIwMGMwIDExMC41LTg5LjUgMjAwLTIwMCAyMDBTMCAzMTAuNSAwIDIwMCA4OS41IDAgMjAwIDBzMjAwIDg5LjUgMjAwIDIwME0xNjMuNCAzMDUuNWM4OC43IDAgMTM3LjItNzMuNSAxMzcuMi0xMzcuMiAwLTIuMSAwLTQuMi0uMS02LjIgOS40LTYuOCAxNy42LTE1LjMgMjQuMS0yNS04LjYgMy44LTE3LjkgNi40LTI3LjcgNy42IDEwLTYgMTcuNi0xNS40IDIxLjItMjYuNy05LjMgNS41LTE5LjYgOS41LTMwLjYgMTEuNy04LjgtOS40LTIxLjMtMTUuMi0zNS4yLTE1LjItMjYuNiAwLTQ4LjIgMjEuNi00OC4yIDQ4LjIgMCAzLjguNCA3LjUgMS4zIDExLTQwLjEtMi03NS42LTIxLjItOTkuNC01MC40LTQuMSA3LjEtNi41IDE1LjQtNi41IDI0LjIgMCAxNi43IDguNSAzMS41IDIxLjUgNDAuMS03LjktLjItMTUuMy0yLjQtMjEuOC02di42YzAgMjMuNCAxNi42IDQyLjggMzguNyA0Ny4zLTQgMS4xLTguMyAxLjctMTIuNyAxLjctMy4xIDAtNi4xLS4zLTkuMS0uOSA2LjEgMTkuMiAyMy45IDMzLjEgNDUgMzMuNS0xNi41IDEyLjktMzcuMyAyMC42LTU5LjkgMjAuNi0zLjkgMC03LjctLjItMTEuNS0uNyAyMS4xIDEzLjggNDYuNSAyMS44IDczLjcgMjEuOCIgc3R5bGU9ImZpbGw6I2ZmZiIvPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text{color:#b8e6ff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}',"",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaembedediting.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-media-embed/mediaembedediting.css"],names:[],mappings:"AAMC,0CAGC,kBAAmB,CAFnB,YAAa,CACb,qBAcD,CAXC,sEAEC,cAAe,CAEf,iBAMD,CAJC,wGAEC,aAAc,CADd,eAED,CAWD,6kBACC,YACD,CAYF,2LACC,mBACD,CC1CA,MACC,0CAA2C,CAE3C,mDAA4D,CAC5D,2EACD,CAEA,mBACC,aA+FD,CA7FC,0CAEC,0CAA2C,CAD3C,0CA6BD,CA1BC,uEAIC,uBAA2B,CAC3B,qBAAsB,CAHtB,kDAAmD,CACnD,qCAAsC,CAFtC,qDAUD,CAJC,gFAEC,WAAY,CADZ,UAED,CAGD,4EACC,sDAAuD,CAGvD,iBAAkB,CADlB,iBAAkB,CAElB,sBAAuB,CAHvB,kBAUD,CALC,kFACC,4DAA6D,CAC7D,cAAe,CACf,yBACD,CAIF,wDAEC,gBAAiB,CADjB,eAED,CAEA,4UAIC,goGACD,CAEA,2EACC,kBAaD,CAXC,wGACC,orBACD,CAEA,6GACC,UAKD,CAHC,mHACC,UACD,CAIF,4EACC,2DAcD,CAZC,yGACC,o+GACD,CAGA,8GACC,aAKD,CAHC,oHACC,UACD,CAIF,6EAEC,iDAaD,CAXC,0GACC,g/BACD,CAEA,+GACC,aAKD,CAHC,qHACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-media__wrapper {
	& .ck-media__placeholder {
		display: flex;
		flex-direction: column;
		align-items: center;

		& .ck-media__placeholder__url {
			/* Otherwise the URL will overflow when the content is very narrow. */
			max-width: 100%;

			position: relative;

			& .ck-media__placeholder__url__text {
				overflow: hidden;
				display: block;
			}
		}
	}

	&[data-oembed-url*="twitter.com"],
	&[data-oembed-url*="google.com/maps"],
	&[data-oembed-url*="goo.gl/maps"],
	&[data-oembed-url*="maps.google.com"],
	&[data-oembed-url*="maps.app.goo.gl"],
	&[data-oembed-url*="facebook.com"],
	&[data-oembed-url*="instagram.com"] {
		& .ck-media__placeholder__icon * {
			display: none;
		}
	}
}

/* Disable all mouse interaction as long as the editor is not readonly.
   https://github.com/ckeditor/ckeditor5-media-embed/issues/58 */
.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper > *:not(.ck-media__placeholder) {
	pointer-events: none;
}

/* Disable all mouse interaction when the widget is not selected (e.g. to avoid opening links by accident).
   https://github.com/ckeditor/ckeditor5-media-embed/issues/18 */
.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder {
	pointer-events: none;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-media-embed-placeholder-icon-size: 3em;

	--ck-color-media-embed-placeholder-url-text: hsl(0, 0%, 46%);
	--ck-color-media-embed-placeholder-url-text-hover: var(--ck-color-base-text);
}

.ck-media__wrapper {
	margin: 0 auto;

	& .ck-media__placeholder {
		padding: calc( 3 * var(--ck-spacing-standard) );
		background: var(--ck-color-base-foreground);

		& .ck-media__placeholder__icon {
			min-width: var(--ck-media-embed-placeholder-icon-size);
			height: var(--ck-media-embed-placeholder-icon-size);
			margin-bottom: var(--ck-spacing-large);
			background-position: center;
			background-size: cover;

			& .ck-icon {
				width: 100%;
				height: 100%;
			}
		}

		& .ck-media__placeholder__url__text {
			color: var(--ck-color-media-embed-placeholder-url-text);
			white-space: nowrap;
			text-align: center;
			font-style: italic;
			text-overflow: ellipsis;

			&:hover {
				color: var(--ck-color-media-embed-placeholder-url-text-hover);
				cursor: pointer;
				text-decoration: underline;
			}
		}
	}

	&[data-oembed-url*="open.spotify.com"] {
		max-width: 300px;
		max-height: 380px;
	}

	&[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,
	&[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,
	&[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon,
	&[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon {
		background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0yMDYuNDc3IDI2MC45bC0yOC45ODcgMjguOTg3YTUuMjE4IDUuMjE4IDAgMCAwIDMuNzggMS42MWg0OS42MjFjMS42OTQgMCAzLjE5LS43OTggNC4xNDYtMi4wMzd6IiBmaWxsPSIjNWM4OGM1Ii8+PHBhdGggZD0iTTIyNi43NDIgMjIyLjk4OGMtOS4yNjYgMC0xNi43NzcgNy4xNy0xNi43NzcgMTYuMDE0LjAwNyAyLjc2Mi42NjMgNS40NzQgMi4wOTMgNy44NzUuNDMuNzAzLjgzIDEuNDA4IDEuMTkgMi4xMDcuMzMzLjUwMi42NSAxLjAwNS45NSAxLjUwOC4zNDMuNDc3LjY3My45NTcuOTg4IDEuNDQgMS4zMSAxLjc2OSAyLjUgMy41MDIgMy42MzcgNS4xNjguNzkzIDEuMjc1IDEuNjgzIDIuNjQgMi40NjYgMy45OSAyLjM2MyA0LjA5NCA0LjAwNyA4LjA5MiA0LjYgMTMuOTE0di4wMTJjLjE4Mi40MTIuNTE2LjY2Ni44NzkuNjY3LjQwMy0uMDAxLjc2OC0uMzE0LjkzLS43OTkuNjAzLTUuNzU2IDIuMjM4LTkuNzI5IDQuNTg1LTEzLjc5NC43ODItMS4zNSAxLjY3My0yLjcxNSAyLjQ2NS0zLjk5IDEuMTM3LTEuNjY2IDIuMzI4LTMuNCAzLjYzOC01LjE2OS4zMTUtLjQ4Mi42NDUtLjk2Mi45ODgtMS40MzkuMy0uNTAzLjYxNy0xLjAwNi45NS0xLjUwOC4zNTktLjcuNzYtMS40MDQgMS4xOS0yLjEwNyAxLjQyNi0yLjQwMiAyLTUuMTE0IDIuMDA0LTcuODc1IDAtOC44NDQtNy41MTEtMTYuMDE0LTE2Ljc3Ni0xNi4wMTR6IiBmaWxsPSIjZGQ0YjNlIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxlbGxpcHNlIHJ5PSI1LjU2NCIgcng9IjUuODI4IiBjeT0iMjM5LjAwMiIgY3g9IjIyNi43NDIiIGZpbGw9IiM4MDJkMjciIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTE5MC4zMDEgMjM3LjI4M2MtNC42NyAwLTguNDU3IDMuODUzLTguNDU3IDguNjA2czMuNzg2IDguNjA3IDguNDU3IDguNjA3YzMuMDQzIDAgNC44MDYtLjk1OCA2LjMzNy0yLjUxNiAxLjUzLTEuNTU3IDIuMDg3LTMuOTEzIDIuMDg3LTYuMjkgMC0uMzYyLS4wMjMtLjcyMi0uMDY0LTEuMDc5aC04LjI1N3YzLjA0M2g0Ljg1Yy0uMTk3Ljc1OS0uNTMxIDEuNDUtMS4wNTggMS45ODYtLjk0Mi45NTgtMi4wMjggMS41NDgtMy45MDEgMS41NDgtMi44NzYgMC01LjIwOC0yLjM3Mi01LjIwOC01LjI5OSAwLTIuOTI2IDIuMzMyLTUuMjk5IDUuMjA4LTUuMjk5IDEuMzk5IDAgMi42MTguNDA3IDMuNTg0IDEuMjkzbDIuMzgxLTIuMzhjMC0uMDAyLS4wMDMtLjAwNC0uMDA0LS4wMDUtMS41ODgtMS41MjQtMy42Mi0yLjIxNS01Ljk1NS0yLjIxNXptNC40MyA1LjY2bC4wMDMuMDA2di0uMDAzeiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjE1LjE4NCAyNTEuOTI5bC03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVjLjI4Ny0uNjQ5LjQ0OS0xLjM2Ni40NDktMi4xMjN2LTMxLjE2NWMtLjQ2OS42NzUtLjkzNCAxLjM0OS0xLjM4MiAyLjAwNS0uNzkyIDEuMjc1LTEuNjgyIDIuNjQtMi40NjUgMy45OS0yLjM0NyA0LjA2NS0zLjk4MiA4LjAzOC00LjU4NSAxMy43OTQtLjE2Mi40ODUtLjUyNy43OTgtLjkzLjc5OS0uMzYzLS4wMDEtLjY5Ny0uMjU1LS44NzktLjY2N3YtLjAxMmMtLjU5My01LjgyMi0yLjIzNy05LjgyLTQuNi0xMy45MTQtLjc4My0xLjM1LTEuNjczLTIuNzE1LTIuNDY2LTMuOTktMS4xMzctMS42NjYtMi4zMjctMy40LTMuNjM3LTUuMTY5bC0uMDAyLS4wMDN6IiBmaWxsPSIjYzNjM2MzIi8+PHBhdGggZD0iTTIxMi45ODMgMjQ4LjQ5NWwtMzYuOTUyIDM2Ljk1M3YuODEyYTUuMjI3IDUuMjI3IDAgMCAwIDUuMjM4IDUuMjM4aDEuMDE1bDM1LjY2Ni0zNS42NjZhMTM2LjI3NSAxMzYuMjc1IDAgMCAwLTIuNzY0LTMuOSAzNy41NzUgMzcuNTc1IDAgMCAwLS45ODktMS40NGMtLjI5OS0uNTAzLS42MTYtMS4wMDYtLjk1LTEuNTA4LS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjExLjk5OCAyNjEuMDgzbC02LjE1MiA2LjE1MSAyNC4yNjQgMjQuMjY0aC43ODFhNS4yMjcgNS4yMjcgMCAwIDAgNS4yMzktNS4yMzh2LTEuMDQ1eiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48L2c+PC9zdmc+);
	}

	&[data-oembed-url*="facebook.com"] .ck-media__placeholder {
		background: hsl(220, 46%, 48%);

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSIxMDI0cHgiIGhlaWdodD0iMTAyNHB4IiB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPiAgICAgICAgPHRpdGxlPkZpbGwgMTwvdGl0bGU+ICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPiAgICA8ZGVmcz48L2RlZnM+ICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPiAgICAgICAgPGcgaWQ9ImZMb2dvX1doaXRlIiBmaWxsPSIjRkZGRkZFIj4gICAgICAgICAgICA8cGF0aCBkPSJNOTY3LjQ4NCwwIEw1Ni41MTcsMCBDMjUuMzA0LDAgMCwyNS4zMDQgMCw1Ni41MTcgTDAsOTY3LjQ4MyBDMCw5OTguNjk0IDI1LjI5NywxMDI0IDU2LjUyMiwxMDI0IEw1NDcsMTAyNCBMNTQ3LDYyOCBMNDE0LDYyOCBMNDE0LDQ3MyBMNTQ3LDQ3MyBMNTQ3LDM1OS4wMjkgQzU0NywyMjYuNzY3IDYyNy43NzMsMTU0Ljc0NyA3NDUuNzU2LDE1NC43NDcgQzgwMi4yNjksMTU0Ljc0NyA4NTAuODQyLDE1OC45NTUgODY1LDE2MC44MzYgTDg2NSwyOTkgTDc4My4zODQsMjk5LjAzNyBDNzE5LjM5MSwyOTkuMDM3IDcwNywzMjkuNTI5IDcwNywzNzQuMjczIEw3MDcsNDczIEw4NjAuNDg3LDQ3MyBMODQwLjUwMSw2MjggTDcwNyw2MjggTDcwNywxMDI0IEw5NjcuNDg0LDEwMjQgQzk5OC42OTcsMTAyNCAxMDI0LDk5OC42OTcgMTAyNCw5NjcuNDg0IEwxMDI0LDU2LjUxNSBDMTAyNCwyNS4zMDMgOTk4LjY5NywwIDk2Ny40ODQsMCIgaWQ9IkZpbGwtMSI+PC9wYXRoPiAgICAgICAgPC9nPiAgICA8L2c+PC9zdmc+);
		}

		& .ck-media__placeholder__url__text {
			color: hsl(220, 100%, 90%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}

	&[data-oembed-url*="instagram.com"] .ck-media__placeholder {
		background: linear-gradient(-135deg,hsl(246, 100%, 39%),hsl(302, 100%, 36%),hsl(0, 100%, 48%));

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSI1MDRweCIgaGVpZ2h0PSI1MDRweCIgdmlld0JveD0iMCAwIDUwNCA1MDQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+ICAgICAgICA8dGl0bGU+Z2x5cGgtbG9nb19NYXkyMDE2PC90aXRsZT4gICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+ICAgIDxkZWZzPiAgICAgICAgPHBvbHlnb24gaWQ9InBhdGgtMSIgcG9pbnRzPSIwIDAuMTU5IDUwMy44NDEgMC4xNTkgNTAzLjg0MSA1MDMuOTQgMCA1MDMuOTQiPjwvcG9seWdvbj4gICAgPC9kZWZzPiAgICA8ZyBpZD0iZ2x5cGgtbG9nb19NYXkyMDE2IiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4gICAgICAgIDxnIGlkPSJHcm91cC0zIj4gICAgICAgICAgICA8bWFzayBpZD0ibWFzay0yIiBmaWxsPSJ3aGl0ZSI+ICAgICAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj0iI3BhdGgtMSI+PC91c2U+ICAgICAgICAgICAgPC9tYXNrPiAgICAgICAgICAgIDxnIGlkPSJDbGlwLTIiPjwvZz4gICAgICAgICAgICA8cGF0aCBkPSJNMjUxLjkyMSwwLjE1OSBDMTgzLjUwMywwLjE1OSAxNzQuOTI0LDAuNDQ5IDE0OC4wNTQsMS42NzUgQzEyMS4yNCwyLjg5OCAxMDIuOTI3LDcuMTU3IDg2LjkwMywxMy4zODUgQzcwLjMzNywxOS44MjIgNTYuMjg4LDI4LjQzNiA0Mi4yODIsNDIuNDQxIEMyOC4yNzcsNTYuNDQ3IDE5LjY2Myw3MC40OTYgMTMuMjI2LDg3LjA2MiBDNi45OTgsMTAzLjA4NiAyLjczOSwxMjEuMzk5IDEuNTE2LDE0OC4yMTMgQzAuMjksMTc1LjA4MyAwLDE4My42NjIgMCwyNTIuMDggQzAsMzIwLjQ5NyAwLjI5LDMyOS4wNzYgMS41MTYsMzU1Ljk0NiBDMi43MzksMzgyLjc2IDYuOTk4LDQwMS4wNzMgMTMuMjI2LDQxNy4wOTcgQzE5LjY2Myw0MzMuNjYzIDI4LjI3Nyw0NDcuNzEyIDQyLjI4Miw0NjEuNzE4IEM1Ni4yODgsNDc1LjcyMyA3MC4zMzcsNDg0LjMzNyA4Ni45MDMsNDkwLjc3NSBDMTAyLjkyNyw0OTcuMDAyIDEyMS4yNCw1MDEuMjYxIDE0OC4wNTQsNTAyLjQ4NCBDMTc0LjkyNCw1MDMuNzEgMTgzLjUwMyw1MDQgMjUxLjkyMSw1MDQgQzMyMC4zMzgsNTA0IDMyOC45MTcsNTAzLjcxIDM1NS43ODcsNTAyLjQ4NCBDMzgyLjYwMSw1MDEuMjYxIDQwMC45MTQsNDk3LjAwMiA0MTYuOTM4LDQ5MC43NzUgQzQzMy41MDQsNDg0LjMzNyA0NDcuNTUzLDQ3NS43MjMgNDYxLjU1OSw0NjEuNzE4IEM0NzUuNTY0LDQ0Ny43MTIgNDg0LjE3OCw0MzMuNjYzIDQ5MC42MTYsNDE3LjA5NyBDNDk2Ljg0Myw0MDEuMDczIDUwMS4xMDIsMzgyLjc2IDUwMi4zMjUsMzU1Ljk0NiBDNTAzLjU1MSwzMjkuMDc2IDUwMy44NDEsMzIwLjQ5NyA1MDMuODQxLDI1Mi4wOCBDNTAzLjg0MSwxODMuNjYyIDUwMy41NTEsMTc1LjA4MyA1MDIuMzI1LDE0OC4yMTMgQzUwMS4xMDIsMTIxLjM5OSA0OTYuODQzLDEwMy4wODYgNDkwLjYxNiw4Ny4wNjIgQzQ4NC4xNzgsNzAuNDk2IDQ3NS41NjQsNTYuNDQ3IDQ2MS41NTksNDIuNDQxIEM0NDcuNTUzLDI4LjQzNiA0MzMuNTA0LDE5LjgyMiA0MTYuOTM4LDEzLjM4NSBDNDAwLjkxNCw3LjE1NyAzODIuNjAxLDIuODk4IDM1NS43ODcsMS42NzUgQzMyOC45MTcsMC40NDkgMzIwLjMzOCwwLjE1OSAyNTEuOTIxLDAuMTU5IFogTTI1MS45MjEsNDUuNTUgQzMxOS4xODYsNDUuNTUgMzI3LjE1NCw0NS44MDcgMzUzLjcxOCw0Ny4wMTkgQzM3OC4yOCw0OC4xMzkgMzkxLjYxOSw1Mi4yNDMgNDAwLjQ5Niw1NS42OTMgQzQxMi4yNTUsNjAuMjYzIDQyMC42NDcsNjUuNzIyIDQyOS40NjIsNzQuNTM4IEM0MzguMjc4LDgzLjM1MyA0NDMuNzM3LDkxLjc0NSA0NDguMzA3LDEwMy41MDQgQzQ1MS43NTcsMTEyLjM4MSA0NTUuODYxLDEyNS43MiA0NTYuOTgxLDE1MC4yODIgQzQ1OC4xOTMsMTc2Ljg0NiA0NTguNDUsMTg0LjgxNCA0NTguNDUsMjUyLjA4IEM0NTguNDUsMzE5LjM0NSA0NTguMTkzLDMyNy4zMTMgNDU2Ljk4MSwzNTMuODc3IEM0NTUuODYxLDM3OC40MzkgNDUxLjc1NywzOTEuNzc4IDQ0OC4zMDcsNDAwLjY1NSBDNDQzLjczNyw0MTIuNDE0IDQzOC4yNzgsNDIwLjgwNiA0MjkuNDYyLDQyOS42MjEgQzQyMC42NDcsNDM4LjQzNyA0MTIuMjU1LDQ0My44OTYgNDAwLjQ5Niw0NDguNDY2IEMzOTEuNjE5LDQ1MS45MTYgMzc4LjI4LDQ1Ni4wMiAzNTMuNzE4LDQ1Ny4xNCBDMzI3LjE1OCw0NTguMzUyIDMxOS4xOTEsNDU4LjYwOSAyNTEuOTIxLDQ1OC42MDkgQzE4NC42NSw0NTguNjA5IDE3Ni42ODQsNDU4LjM1MiAxNTAuMTIzLDQ1Ny4xNCBDMTI1LjU2MSw0NTYuMDIgMTEyLjIyMiw0NTEuOTE2IDEwMy4zNDUsNDQ4LjQ2NiBDOTEuNTg2LDQ0My44OTYgODMuMTk0LDQzOC40MzcgNzQuMzc5LDQyOS42MjEgQzY1LjU2NCw0MjAuODA2IDYwLjEwNCw0MTIuNDE0IDU1LjUzNCw0MDAuNjU1IEM1Mi4wODQsMzkxLjc3OCA0Ny45OCwzNzguNDM5IDQ2Ljg2LDM1My44NzcgQzQ1LjY0OCwzMjcuMzEzIDQ1LjM5MSwzMTkuMzQ1IDQ1LjM5MSwyNTIuMDggQzQ1LjM5MSwxODQuODE0IDQ1LjY0OCwxNzYuODQ2IDQ2Ljg2LDE1MC4yODIgQzQ3Ljk4LDEyNS43MiA1Mi4wODQsMTEyLjM4MSA1NS41MzQsMTAzLjUwNCBDNjAuMTA0LDkxLjc0NSA2NS41NjMsODMuMzUzIDc0LjM3OSw3NC41MzggQzgzLjE5NCw2NS43MjIgOTEuNTg2LDYwLjI2MyAxMDMuMzQ1LDU1LjY5MyBDMTEyLjIyMiw1Mi4yNDMgMTI1LjU2MSw0OC4xMzkgMTUwLjEyMyw0Ny4wMTkgQzE3Ni42ODcsNDUuODA3IDE4NC42NTUsNDUuNTUgMjUxLjkyMSw0NS41NSBaIiBpZD0iRmlsbC0xIiBmaWxsPSIjRkZGRkZGIiBtYXNrPSJ1cmwoI21hc2stMikiPjwvcGF0aD4gICAgICAgIDwvZz4gICAgICAgIDxwYXRoIGQ9Ik0yNTEuOTIxLDMzNi4wNTMgQzIwNS41NDMsMzM2LjA1MyAxNjcuOTQ3LDI5OC40NTcgMTY3Ljk0NywyNTIuMDggQzE2Ny45NDcsMjA1LjcwMiAyMDUuNTQzLDE2OC4xMDYgMjUxLjkyMSwxNjguMTA2IEMyOTguMjk4LDE2OC4xMDYgMzM1Ljg5NCwyMDUuNzAyIDMzNS44OTQsMjUyLjA4IEMzMzUuODk0LDI5OC40NTcgMjk4LjI5OCwzMzYuMDUzIDI1MS45MjEsMzM2LjA1MyBaIE0yNTEuOTIxLDEyMi43MTUgQzE4MC40NzQsMTIyLjcxNSAxMjIuNTU2LDE4MC42MzMgMTIyLjU1NiwyNTIuMDggQzEyMi41NTYsMzIzLjUyNiAxODAuNDc0LDM4MS40NDQgMjUxLjkyMSwzODEuNDQ0IEMzMjMuMzY3LDM4MS40NDQgMzgxLjI4NSwzMjMuNTI2IDM4MS4yODUsMjUyLjA4IEMzODEuMjg1LDE4MC42MzMgMzIzLjM2NywxMjIuNzE1IDI1MS45MjEsMTIyLjcxNSBaIiBpZD0iRmlsbC00IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgICAgICA8cGF0aCBkPSJNNDE2LjYyNywxMTcuNjA0IEM0MTYuNjI3LDEzNC4zIDQwMy4wOTIsMTQ3LjgzNCAzODYuMzk2LDE0Ny44MzQgQzM2OS43MDEsMTQ3LjgzNCAzNTYuMTY2LDEzNC4zIDM1Ni4xNjYsMTE3LjYwNCBDMzU2LjE2NiwxMDAuOTA4IDM2OS43MDEsODcuMzczIDM4Ni4zOTYsODcuMzczIEM0MDMuMDkyLDg3LjM3MyA0MTYuNjI3LDEwMC45MDggNDE2LjYyNywxMTcuNjA0IiBpZD0iRmlsbC01IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgIDwvZz48L3N2Zz4=);
		}

		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-media__placeholder__url__text {
			color: hsl(302, 100%, 94%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}

	&[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder {
		/* Use gradient to contrast with focused widget (ckeditor/ckeditor5-media-embed#22). */
		background: linear-gradient( to right, hsl(201, 85%, 70%), hsl(201, 85%, 35%) );

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IldoaXRlIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQwMCA0MDAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDQwMCA0MDA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj48c3R5bGUgdHlwZT0idGV4dC9jc3MiPi5zdDB7ZmlsbDojRkZGRkZGO308L3N0eWxlPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik00MDAsMjAwYzAsMTEwLjUtODkuNSwyMDAtMjAwLDIwMFMwLDMxMC41LDAsMjAwUzg5LjUsMCwyMDAsMFM0MDAsODkuNSw0MDAsMjAweiBNMTYzLjQsMzA1LjVjODguNywwLDEzNy4yLTczLjUsMTM3LjItMTM3LjJjMC0yLjEsMC00LjItMC4xLTYuMmM5LjQtNi44LDE3LjYtMTUuMywyNC4xLTI1Yy04LjYsMy44LTE3LjksNi40LTI3LjcsNy42YzEwLTYsMTcuNi0xNS40LDIxLjItMjYuN2MtOS4zLDUuNS0xOS42LDkuNS0zMC42LDExLjdjLTguOC05LjQtMjEuMy0xNS4yLTM1LjItMTUuMmMtMjYuNiwwLTQ4LjIsMjEuNi00OC4yLDQ4LjJjMCwzLjgsMC40LDcuNSwxLjMsMTFjLTQwLjEtMi03NS42LTIxLjItOTkuNC01MC40Yy00LjEsNy4xLTYuNSwxNS40LTYuNSwyNC4yYzAsMTYuNyw4LjUsMzEuNSwyMS41LDQwLjFjLTcuOS0wLjItMTUuMy0yLjQtMjEuOC02YzAsMC4yLDAsMC40LDAsMC42YzAsMjMuNCwxNi42LDQyLjgsMzguNyw0Ny4zYy00LDEuMS04LjMsMS43LTEyLjcsMS43Yy0zLjEsMC02LjEtMC4zLTkuMS0wLjljNi4xLDE5LjIsMjMuOSwzMy4xLDQ1LDMzLjVjLTE2LjUsMTIuOS0zNy4zLDIwLjYtNTkuOSwyMC42Yy0zLjksMC03LjctMC4yLTExLjUtMC43QzExMC44LDI5Ny41LDEzNi4yLDMwNS41LDE2My40LDMwNS41Ii8+PC9zdmc+);
		}

		& .ck-media__placeholder__url__text {
			color: hsl(201, 100%, 86%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}
}
`],sourceRoot:""}]);const S=y},5651:(l,d,f)=>{f.d(d,{A:()=>S});var m=f(9372),v=f.n(m),C=f(935),y=f.n(C)()(v());y.push([l.id,".ck.ck-media-form{align-items:flex-start;display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-media-form .ck-labeled-field-view{display:inline-block}.ck.ck-media-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-media-form{flex-wrap:wrap}.ck.ck-media-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-media-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,kBAEC,sBAAuB,CADvB,YAAa,CAEb,kBAAmB,CACnB,gBAqBD,CAnBC,yCACC,oBACD,CAEA,4BACC,YACD,CCbA,oCDCD,kBAeE,cAUF,CARE,yCACC,eACD,CAEA,6BACC,cACD,CCtBD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-media-form {
	display: flex;
	align-items: flex-start;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-labeled-field-view {
		display: inline-block;
	}

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const S=y},5506:(l,d,f)=>{f.d(d,{A:()=>S});var m=f(9372),v=f.n(m),C=f(935),y=f.n(C)()(v());y.push([l.id,".ck.ck-input-color{display:flex;flex-direction:row-reverse;width:100%}.ck.ck-input-color>input.ck.ck-input-text{flex-grow:1;min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown{min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown>.ck-input-color__button .ck-dropdown__arrow{display:none}.ck.ck-input-color .ck.ck-input-color__button{display:flex}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview{overflow:hidden;position:relative}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{display:block;position:absolute}[dir=ltr] .ck.ck-input-color>.ck.ck-input-text{border-bottom-right-radius:0;border-top-right-radius:0}[dir=rtl] .ck.ck-input-color>.ck.ck-input-text{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-input-color>.ck.ck-input-text:focus{z-index:0}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{padding:0}[dir=ltr] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{border-bottom-left-radius:0;border-top-left-radius:0}[dir=ltr] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button:not(:focus){border-left:1px solid transparent}[dir=rtl] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{border-bottom-right-radius:0;border-top-right-radius:0}[dir=rtl] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button:not(:focus){border-right:1px solid transparent}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button.ck-disabled{background:var(--ck-color-input-disabled-background)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview{border-radius:0}.ck-rounded-corners .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview,.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview{border:1px solid var(--ck-color-input-border);height:20px;width:20px}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{background:red;border-radius:2px;height:150%;left:50%;top:-30%;transform:rotate(45deg);transform-origin:50%;width:8%}.ck.ck-input-color .ck.ck-input-color__remove-color{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard);width:100%}.ck.ck-input-color .ck.ck-input-color__remove-color:not(:focus){border-bottom:1px solid var(--ck-color-input-border)}[dir=ltr] .ck.ck-input-color .ck.ck-input-color__remove-color{border-top-right-radius:0}[dir=rtl] .ck.ck-input-color .ck.ck-input-color__remove-color{border-top-left-radius:0}.ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-left:var(--ck-spacing-standard);margin-right:0}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/colorinput.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/colorinput.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,mBAEC,YAAa,CACb,0BAA2B,CAF3B,UAgCD,CA5BC,0CAEC,WAAY,CADZ,cAED,CAEA,sCACC,cAMD,CAHC,kFACC,YACD,CAGD,8CAEC,YAWD,CATC,kFAEC,eAAgB,CADhB,iBAOD,CAJC,0IAEC,aAAc,CADd,iBAED,CC1BF,+CAGE,4BAA6B,CAD7B,yBAcF,CAhBA,+CAQE,2BAA4B,CAD5B,wBASF,CAHC,2CACC,SACD,CAIA,wEACC,SA0CD,CA3CA,kFAKE,2BAA4B,CAD5B,wBAuCF,CApCE,8FACC,iCACD,CATF,kFAcE,4BAA6B,CAD7B,yBA8BF,CA3BE,8FACC,kCACD,CAGD,oFACC,oDACD,CAEA,4GC1CF,eD2DE,CAjBA,+PCtCD,qCDuDC,CAjBA,4GAKC,6CAA8C,CAD9C,WAAY,CADZ,UAcD,CAVC,oKAKC,cAA6B,CAC7B,iBAAkB,CAHlB,WAAY,CADZ,QAAS,CADT,QAAS,CAMT,uBAAwB,CACxB,oBAAqB,CAJrB,QAKD,CAKH,oDAIC,2BAA4B,CAC5B,4BAA6B,CAH7B,qEAAwE,CADxE,UA0BD,CApBC,gEACC,oDACD,CATD,8DAYE,yBAeF,CA3BA,8DAgBE,wBAWF,CARC,gEACC,uCAMD,CAPA,0EAKE,sCAAuC,CADvC,cAGF",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-input-color {
	width: 100%;
	display: flex;
	flex-direction: row-reverse;

	& > input.ck.ck-input-text {
		min-width: auto;
		flex-grow: 1;
	}

	& > div.ck.ck-dropdown {
		min-width: auto;

		/* This dropdown has no arrow but a color preview instead. */
		& > .ck-input-color__button .ck-dropdown__arrow {
			display: none;
		}
	}

	& .ck.ck-input-color__button {
		/* Resolving issue with misaligned buttons on Safari (see #10589) */
		display: flex;

		& .ck.ck-input-color__button__preview {
			position: relative;
			overflow: hidden;

			& > .ck.ck-input-color__button__preview__no-color-indicator {
				position: absolute;
				display: block;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../mixins/_rounded.css";

.ck.ck-input-color {
	& > .ck.ck-input-text {
		@mixin ck-dir ltr {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}

		@mixin ck-dir rtl {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}

		/* Make sure the focused input is always on top of the dropdown button so its
		   outline and border are never cropped (also when the input is read-only). */
		&:focus {
			z-index: 0;
		}
	}

	& > .ck.ck-dropdown {
		& > .ck.ck-button.ck-input-color__button {
			padding: 0;

			@mixin ck-dir ltr {
				border-top-left-radius: 0;
				border-bottom-left-radius: 0;

				&:not(:focus) {
					border-left: 1px solid transparent;
				}
			}

			@mixin ck-dir rtl {
				border-top-right-radius: 0;
				border-bottom-right-radius: 0;

				&:not(:focus) {
					border-right: 1px solid transparent;
				}
			}

			&.ck-disabled {
				background: var(--ck-color-input-disabled-background);
			}

			& > .ck.ck-input-color__button__preview {
				@mixin ck-rounded-corners;

				width: 20px;
				height: 20px;
				border: 1px solid var(--ck-color-input-border);

				& > .ck.ck-input-color__button__preview__no-color-indicator {
					top: -30%;
					left: 50%;
					height: 150%;
					width: 8%;
					background: hsl(0, 100%, 50%);
					border-radius: 2px;
					transform: rotate(45deg);
					transform-origin: 50%;
				}
			}
		}
	}

	& .ck.ck-input-color__remove-color {
		width: 100%;
		padding: calc(var(--ck-spacing-standard) / 2) var(--ck-spacing-standard);

		border-bottom-left-radius: 0;
		border-bottom-right-radius: 0;

		&:not(:focus) {
			border-bottom: 1px solid var(--ck-color-input-border);
		}

		@mixin ck-dir ltr {
			border-top-right-radius: 0;
		}

		@mixin ck-dir rtl {
			border-top-left-radius: 0;
		}

		& .ck.ck-icon {
			margin-right: var(--ck-spacing-standard);

			@mixin ck-dir rtl {
				margin-right: 0;
				margin-left: var(--ck-spacing-standard);
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const S=y},4043:(l,d,f)=>{f.d(d,{A:()=>S});var m=f(9372),v=f.n(m),C=f(935),y=f.n(C)()(v());y.push([l.id,".ck.ck-form{padding:0 0 var(--ck-spacing-large)}.ck.ck-form:focus{outline:none}.ck.ck-form .ck.ck-input-text{min-width:100%;width:0}.ck.ck-form .ck.ck-dropdown{min-width:100%}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button:not(:focus){border:1px solid var(--ck-color-base-border)}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button .ck-button__label{width:100%}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/form.css"],names:[],mappings:"AAKA,YACC,mCAyBD,CAvBC,kBAEC,YACD,CAEA,8BACC,cAAe,CACf,OACD,CAEA,4BACC,cAWD,CARE,6DACC,4CACD,CAEA,mEACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form {
	padding: 0 0 var(--ck-spacing-large);

	&:focus {
		/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */
		outline: none;
	}

	& .ck.ck-input-text {
		min-width: 100%;
		width: 0;
	}

	& .ck.ck-dropdown {
		min-width: 100%;

		& .ck-dropdown__button {
			&:not(:focus) {
				border: 1px solid var(--ck-color-base-border);
			}

			& .ck-button__label {
				width: 100%;
			}
		}
	}
}
`],sourceRoot:""}]);const S=y},2655:(l,d,f)=>{f.d(d,{A:()=>S});var m=f(9372),v=f.n(m),C=f(935),y=f.n(C)()(v());y.push([l.id,".ck.ck-form__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__row>:not(.ck-label){flex-grow:1}.ck.ck-form__row.ck-table-form__action-row .ck-button-cancel,.ck.ck-form__row.ck-table-form__action-row .ck-button-save{justify-content:center}.ck.ck-form__row{padding:var(--ck-spacing-standard) var(--ck-spacing-large) 0}[dir=ltr] .ck.ck-form__row>:not(.ck-label)+*{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-form__row>:not(.ck-label)+*{margin-right:var(--ck-spacing-large)}.ck.ck-form__row>.ck-label{min-width:100%;width:100%}.ck.ck-form__row.ck-table-form__action-row{margin-top:var(--ck-spacing-large)}.ck.ck-form__row.ck-table-form__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/formrow.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/formrow.css"],names:[],mappings:"AAKA,iBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAaD,CAVC,iCACC,WACD,CAGC,wHAEC,sBACD,CCbF,iBACC,4DA2BD,CAvBE,6CAEE,mCAMF,CARA,6CAME,oCAEF,CAGD,2BAEC,cAAe,CADf,UAED,CAEA,2CACC,kCAKD,CAHC,wEACC,0BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form__row {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	justify-content: space-between;

	/* Ignore labels that work as fieldset legends */
	& > *:not(.ck-label) {
		flex-grow: 1;
	}

	&.ck-table-form__action-row {
		& .ck-button-save,
		& .ck-button-cancel {
			justify-content: center;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-form__row {
	padding: var(--ck-spacing-standard) var(--ck-spacing-large) 0;

	/* Ignore labels that work as fieldset legends */
	& > *:not(.ck-label) {
		& + * {
			@mixin ck-dir ltr {
				margin-left: var(--ck-spacing-large);
			}

			@mixin ck-dir rtl {
				margin-right: var(--ck-spacing-large);
			}
		}
	}

	& > .ck-label {
		width: 100%;
		min-width: 100%;
	}

	&.ck-table-form__action-row {
		margin-top: var(--ck-spacing-large);

		& .ck-button .ck-button__label {
			color: var(--ck-color-text);
		}
	}
}
`],sourceRoot:""}]);const S=y},5032:(l,d,f)=>{f.d(d,{A:()=>S});var m=f(9372),v=f.n(m),C=f(935),y=f.n(C)()(v());y.push([l.id,".ck .ck-insert-table-dropdown__grid{display:flex;flex-direction:row;flex-wrap:wrap}:root{--ck-insert-table-dropdown-padding:10px;--ck-insert-table-dropdown-box-height:11px;--ck-insert-table-dropdown-box-width:12px;--ck-insert-table-dropdown-box-margin:1px}.ck .ck-insert-table-dropdown__grid{padding:var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;width:calc(var(--ck-insert-table-dropdown-box-width)*10 + var(--ck-insert-table-dropdown-box-margin)*20 + var(--ck-insert-table-dropdown-padding)*2)}.ck .ck-insert-table-dropdown__label,.ck[dir=rtl] .ck-insert-table-dropdown__label{text-align:center}.ck .ck-insert-table-dropdown-grid-box{border:1px solid var(--ck-color-base-border);border-radius:1px;margin:var(--ck-insert-table-dropdown-box-margin);min-height:var(--ck-insert-table-dropdown-box-height);min-width:var(--ck-insert-table-dropdown-box-width);outline:none;transition:none}@media (prefers-reduced-motion:reduce){.ck .ck-insert-table-dropdown-grid-box{transition:none}}.ck .ck-insert-table-dropdown-grid-box:focus{box-shadow:none}.ck .ck-insert-table-dropdown-grid-box.ck-on{background:var(--ck-color-focus-outer-shadow);border-color:var(--ck-color-focus-border)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/inserttable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/inserttable.css"],names:[],mappings:"AAKA,oCACC,YAAa,CACb,kBAAmB,CACnB,cACD,CCJA,MACC,uCAAwC,CACxC,0CAA2C,CAC3C,yCAA0C,CAC1C,yCACD,CAEA,oCAGC,yFAA0F,CAD1F,oJAED,CAEA,mFAEC,iBACD,CAEA,uCAIC,4CAA6C,CAC7C,iBAAkB,CAFlB,iDAAkD,CADlD,qDAAsD,CADtD,mDAAoD,CAKpD,YAAa,CACb,eAcD,CAZC,uCATD,uCAUE,eAWF,CAVC,CAEA,6CACC,eACD,CAEA,6CAEC,6CAA8C,CAD9C,yCAED",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-insert-table-dropdown__grid {
	display: flex;
	flex-direction: row;
	flex-wrap: wrap;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-insert-table-dropdown-padding: 10px;
	--ck-insert-table-dropdown-box-height: 11px;
	--ck-insert-table-dropdown-box-width: 12px;
	--ck-insert-table-dropdown-box-margin: 1px;
}

.ck .ck-insert-table-dropdown__grid {
	/* The width of a container should match 10 items in a row so there will be a 10x10 grid. */
	width: calc(var(--ck-insert-table-dropdown-box-width) * 10 + var(--ck-insert-table-dropdown-box-margin) * 20 + var(--ck-insert-table-dropdown-padding) * 2);
	padding: var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;
}

.ck .ck-insert-table-dropdown__label,
.ck[dir=rtl] .ck-insert-table-dropdown__label {
	text-align: center;
}

.ck .ck-insert-table-dropdown-grid-box {
	min-width: var(--ck-insert-table-dropdown-box-width);
	min-height: var(--ck-insert-table-dropdown-box-height);
	margin: var(--ck-insert-table-dropdown-box-margin);
	border: 1px solid var(--ck-color-base-border);
	border-radius: 1px;
	outline: none;
	transition: none;

	@media (prefers-reduced-motion: reduce) {
		transition: none;
	}

	&:focus {
		box-shadow: none;
	}

	&.ck-on {
		border-color: var(--ck-color-focus-border);
		background: var(--ck-color-focus-outer-shadow);
	}
}

`],sourceRoot:""}]);const S=y},2329:(l,d,f)=>{f.d(d,{A:()=>S});var m=f(9372),v=f.n(m),C=f(935),y=f.n(C)()(v());y.push([l.id,".ck-content .table{display:table;margin:.9em auto}.ck-content .table table{border:1px double #b3b3b3;border-collapse:collapse;border-spacing:0;height:100%;width:100%}.ck-content .table table td,.ck-content .table table th{border:1px solid #bfbfbf;min-width:2em;padding:.4em}.ck-content .table table th{background:rgba(0,0,0,.05);font-weight:700}.ck-content[dir=rtl] .table th{text-align:right}.ck-content[dir=ltr] .table th{text-align:left}.ck-editor__editable .ck-table-bogus-paragraph{display:inline-block;width:100%}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/table.css"],names:[],mappings:"AAKA,mBAKC,aAAc,CADd,gBAiCD,CA9BC,yBAYC,yBAAkC,CAVlC,wBAAyB,CACzB,gBAAiB,CAKjB,WAAY,CADZ,UAsBD,CAfC,wDAQC,wBAAiC,CANjC,aAAc,CACd,YAMD,CAEA,4BAEC,0BAA+B,CAD/B,eAED,CAMF,+BACC,gBACD,CAEA,+BACC,eACD,CAEA,+CAKC,oBAAqB,CAMrB,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content .table {
	/* Give the table widget some air and center it horizontally */
	/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
	margin: 0.9em auto;
	display: table;

	& table {
		/* The table cells should have slight borders */
		border-collapse: collapse;
		border-spacing: 0;

		/* Table width and height are set on the parent <figure>. Make sure the table inside stretches
		to the full dimensions of the container (https://github.com/ckeditor/ckeditor5/issues/6186). */
		width: 100%;
		height: 100%;

		/* The outer border of the table should be slightly darker than the inner lines.
		Also see https://github.com/ckeditor/ckeditor5-table/issues/50. */
		border: 1px double hsl(0, 0%, 70%);

		& td,
		& th {
			min-width: 2em;
			padding: .4em;

			/* The border is inherited from .ck-editor__nested-editable styles, so theoretically it's not necessary here.
			However, the border is a content style, so it should use .ck-content (so it works outside the editor).
			Hence, the duplication. See https://github.com/ckeditor/ckeditor5/issues/6314 */
			border: 1px solid hsl(0, 0%, 75%);
		}

		& th {
			font-weight: bold;
			background: hsla(0, 0%, 0%, 5%);
		}
	}
}

/* Text alignment of the table header should match the editor settings and override the native browser styling,
when content is available outside the editor. See https://github.com/ckeditor/ckeditor5/issues/6638 */
.ck-content[dir="rtl"] .table th {
	text-align: right;
}

.ck-content[dir="ltr"] .table th {
	text-align: left;
}

.ck-editor__editable .ck-table-bogus-paragraph {
	/*
	 * Use display:inline-block to force Chrome/Safari to limit text mutations to this element.
	 * See https://github.com/ckeditor/ckeditor5/issues/6062.
	 */
	display: inline-block;

	/*
	 * Inline HTML elements nested in the span should always be dimensioned in relation to the whole cell width.
	 * See https://github.com/ckeditor/ckeditor5/issues/9117.
	 */
	width: 100%;
}
`],sourceRoot:""}]);const S=y},4143:(l,d,f)=>{f.d(d,{A:()=>S});var m=f(9372),v=f.n(m),C=f(935),y=f.n(C)()(v());y.push([l.id,":root{--ck-color-selector-caption-background:#f7f7f7;--ck-color-selector-caption-text:#333;--ck-color-selector-caption-highlighted-background:#fd0}.ck-content .table>figcaption{background-color:var(--ck-color-selector-caption-background);caption-side:top;color:var(--ck-color-selector-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;text-align:center;word-break:break-word}@media (forced-colors:active){.ck-content .table>figcaption{background-color:unset;color:unset}}@media (forced-colors:none){.ck.ck-editor__editable .table>figcaption.table__caption_highlighted{animation:ck-table-caption-highlight .6s ease-out}}.ck.ck-editor__editable .table>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}@keyframes ck-table-caption-highlight{0%{background-color:var(--ck-color-selector-caption-highlighted-background)}to{background-color:var(--ck-color-selector-caption-background)}}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tablecaption.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css"],names:[],mappings:"AAOA,MACC,8CAAuD,CACvD,qCAAiD,CACjD,uDACD,CAGA,8BAMC,4DAA6D,CAJ7D,gBAAiB,CAGjB,2CAA4C,CAJ5C,qBAAsB,CAOtB,eAAgB,CAChB,mBAAoB,CAFpB,YAAa,CAHb,iBAAkB,CADlB,qBAaD,CCxBC,8BACC,8BDoBA,sBAAuB,CACvB,WCnBA,CACD,CAIA,4BDqBC,qEACC,iDACD,CCnBD,CDsBA,gEASC,eAAgB,CARhB,oBAAqB,CACrB,qBAAsB,CAQtB,sBAAuB,CAFvB,kBAGD,CAGD,sCACC,GACC,wEACD,CAEA,GACC,4DACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";

:root {
	--ck-color-selector-caption-background: hsl(0, 0%, 97%);
	--ck-color-selector-caption-text: hsl(0, 0%, 20%);
	--ck-color-selector-caption-highlighted-background: hsl(52deg 100% 50%);
}

/* Content styles */
.ck-content .table > figcaption {
	display: table-caption;
	caption-side: top;
	word-break: break-word;
	text-align: center;
	color: var(--ck-color-selector-caption-text);
	background-color: var(--ck-color-selector-caption-background);
	padding: .6em;
	font-size: .75em;
	outline-offset: -1px;

	/* Improve placeholder rendering in high-constrast mode (https://github.com/ckeditor/ckeditor5/issues/14907). */
	@mixin ck-media-forced-colors {
		background-color: unset;
		color: unset;
	}
}

/* Editing styles */
.ck.ck-editor__editable .table > figcaption {
	@mixin ck-media-default-colors {
		&.table__caption_highlighted {
			animation: ck-table-caption-highlight .6s ease-out;
		}
	}

	&.ck-placeholder::before {
		padding-left: inherit;
		padding-right: inherit;

		/*
		 * Make sure the table caption placeholder doesn't overflow the placeholder area.
		 * See https://github.com/ckeditor/ckeditor5/issues/9162.
		 */
		white-space: nowrap;
		overflow: hidden;
		text-overflow: ellipsis;
	}
}

@keyframes ck-table-caption-highlight {
	0% {
		background-color: var(--ck-color-selector-caption-highlighted-background);
	}

	100% {
		background-color: var(--ck-color-selector-caption-background);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-forced-colors {
	@media (forced-colors: active) {
		& {
			@mixin-content;
		}
	}
}

@define-mixin ck-media-default-colors {
	@media (forced-colors: none) {
		& {
			@mixin-content;
		}
	}
}
`],sourceRoot:""}]);const S=y},8986:(l,d,f)=>{f.d(d,{A:()=>S});var m=f(9372),v=f.n(m),C=f(935),y=f.n(C)()(v());y.push([l.id,".ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row{flex-wrap:wrap}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar:first-of-type{flex-grow:0.57}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar:last-of-type{flex-grow:0.43}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar .ck-button{flex-grow:1}.ck.ck-table-cell-properties-form{width:320px}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__padding-row{align-self:flex-end;padding:0;width:25%}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tablecellproperties.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tablecellproperties.css"],names:[],mappings:"AAOE,6FACC,cAiBD,CAdE,0HAEC,cACD,CAEA,yHAEC,cACD,CAEA,uHACC,WACD,CClBJ,kCACC,WAkBD,CAfE,2FACC,mBAAoB,CACpB,SAAU,CACV,SACD,CAGC,4GACC,eAAgB,CAGhB,qCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-cell-properties-form {
	& .ck-form__row {
		&.ck-table-cell-properties-form__alignment-row {
			flex-wrap: wrap;

			& .ck.ck-toolbar {
				&:first-of-type {
					/* 4 buttons out of 7 (h-alignment + v-alignment) = 0.57 */
					flex-grow: 0.57;
				}

				&:last-of-type {
					/* 3 buttons out of 7 (h-alignment + v-alignment) = 0.43 */
					flex-grow: 0.43;
				}

				& .ck-button {
					flex-grow: 1;
				}
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-cell-properties-form {
	width: 320px;

	& .ck-form__row {
		&.ck-table-cell-properties-form__padding-row {
			align-self: flex-end;
			padding: 0;
			width: 25%;
		}

		&.ck-table-cell-properties-form__alignment-row {
			& .ck.ck-toolbar {
				background: none;

				/* Compensate for missing input label that would push the margin (toolbar has no inputs). */
				margin-top: var(--ck-spacing-standard);
			}
		}
	}
}
`],sourceRoot:""}]);const S=y},8795:(l,d,f)=>{f.d(d,{A:()=>S});var m=f(9372),v=f.n(m),C=f(935),y=f.n(C)()(v());y.push([l.id,":root{--ck-color-selector-column-resizer-hover:var(--ck-color-base-active);--ck-table-column-resizer-width:7px;--ck-table-column-resizer-position-offset:calc(var(--ck-table-column-resizer-width)*-0.5 - 0.5px)}.ck-content .table .ck-table-resized{table-layout:fixed}.ck-content .table table{overflow:hidden}.ck-content .table td,.ck-content .table th{overflow-wrap:break-word;position:relative}.ck.ck-editor__editable .table .ck-table-column-resizer{bottom:0;cursor:col-resize;position:absolute;right:var(--ck-table-column-resizer-position-offset);top:0;user-select:none;width:var(--ck-table-column-resizer-width);z-index:var(--ck-z-default)}.ck.ck-editor__editable .table[draggable] .ck-table-column-resizer,.ck.ck-editor__editable.ck-column-resize_disabled .table .ck-table-column-resizer{display:none}.ck.ck-editor__editable .table .ck-table-column-resizer:hover,.ck.ck-editor__editable .table .ck-table-column-resizer__active{background-color:var(--ck-color-selector-column-resizer-hover);bottom:-999999px;opacity:.25;top:-999999px}.ck.ck-editor__editable[dir=rtl] .table .ck-table-column-resizer{left:var(--ck-table-column-resizer-position-offset);right:unset}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tablecolumnresize.css"],names:[],mappings:"AAKA,MACC,oEAAqE,CACrE,mCAAoC,CAIpC,iGACD,CAEA,qCACC,kBACD,CAEA,yBACC,eACD,CAEA,4CAIC,wBAAyB,CACzB,iBACD,CAEA,wDAGC,QAAS,CAGT,iBAAkB,CALlB,iBAAkB,CAGlB,oDAAqD,CAFrD,KAAM,CAKN,gBAAiB,CAFjB,0CAA2C,CAG3C,2BACD,CAQA,qJACC,YACD,CAEA,8HAEC,8DAA+D,CAO/D,gBAAiB,CANjB,WAAa,CAKb,aAED,CAEA,iEACC,mDAAoD,CACpD,WACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-selector-column-resizer-hover: var(--ck-color-base-active);
	--ck-table-column-resizer-width: 7px;

	/* The offset used for absolute positioning of the resizer element, so that it is placed exactly above the cell border.
	   The value is: minus half the width of the resizer decreased additionaly by the half the width of the border (0.5px). */
	--ck-table-column-resizer-position-offset: calc(var(--ck-table-column-resizer-width) * -0.5 - 0.5px);
}

.ck-content .table .ck-table-resized {
	table-layout: fixed;
}

.ck-content .table table {
	overflow: hidden;
}

.ck-content .table td,
.ck-content .table th {
	/* To prevent text overflowing beyond its cell when columns are resized by resize handler
	(https://github.com/ckeditor/ckeditor5/pull/14379#issuecomment-1589460978). */
	overflow-wrap: break-word;
	position: relative;
}

.ck.ck-editor__editable .table .ck-table-column-resizer {
	position: absolute;
	top: 0;
	bottom: 0;
	right: var(--ck-table-column-resizer-position-offset);
	width: var(--ck-table-column-resizer-width);
	cursor: col-resize;
	user-select: none;
	z-index: var(--ck-z-default);
}

.ck.ck-editor__editable.ck-column-resize_disabled .table .ck-table-column-resizer {
	display: none;
}

/* The resizer elements, which are extended to an extremely high height, break the drag & drop feature in Chrome. To make it work again,
   all resizers must be hidden while the table is dragged. */
.ck.ck-editor__editable .table[draggable] .ck-table-column-resizer {
	display: none;
}

.ck.ck-editor__editable .table .ck-table-column-resizer:hover,
.ck.ck-editor__editable .table .ck-table-column-resizer__active {
	background-color: var(--ck-color-selector-column-resizer-hover);
	opacity: 0.25;
	/* The resizer element resides in each cell so to occupy the entire height of the table, which is unknown from a CSS point of view,
	   it is extended to an extremely high height. Even for screens with a very high pixel density, the resizer will fulfill its role as
	   it should, i.e. for a screen of 476 ppi the total height of the resizer will take over 350 sheets of A4 format, which is totally
	   unrealistic height for a single table. */
	top: -999999px;
	bottom: -999999px;
}

.ck.ck-editor__editable[dir=rtl] .table .ck-table-column-resizer {
	left: var(--ck-table-column-resizer-position-offset);
	right: unset;
}
`],sourceRoot:""}]);const S=y},8137:(l,d,f)=>{f.d(d,{A:()=>S});var m=f(9372),v=f.n(m),C=f(935),y=f.n(C)()(v());y.push([l.id,":root{--ck-color-selector-focused-cell-background:rgba(158,201,250,.3)}.ck-widget.table td.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table td.ck-editor__nested-editable:focus,.ck-widget.table th.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table th.ck-editor__nested-editable:focus{background:var(--ck-color-selector-focused-cell-background);border-style:none;outline:1px solid var(--ck-color-focus-border);outline-offset:-1px}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableediting.css"],names:[],mappings:"AAKA,MACC,gEACD,CAKE,8QAGC,2DAA4D,CAK5D,iBAAkB,CAClB,8CAA+C,CAC/C,mBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-selector-focused-cell-background: hsla(212, 90%, 80%, .3);
}

.ck-widget.table {
	& td,
	& th {
		&.ck-editor__nested-editable.ck-editor__nested-editable_focused,
		&.ck-editor__nested-editable:focus {
			/* A very slight background to highlight the focused cell */
			background: var(--ck-color-selector-focused-cell-background);

			/* Fixes the problem where surrounding cells cover the focused cell's border.
			It does not fix the problem in all places but the UX is improved.
			See https://github.com/ckeditor/ckeditor5-table/issues/29. */
			border-style: none;
			outline: 1px solid var(--ck-color-focus-border);
			outline-offset: -1px; /* progressive enhancement - no IE support */
		}
	}
}
`],sourceRoot:""}]);const S=y},1623:(l,d,f)=>{f.d(d,{A:()=>S});var m=f(9372),v=f.n(m),C=f(935),y=f.n(C)()(v());y.push([l.id,'.ck.ck-table-form .ck-form__row.ck-table-form__background-row,.ck.ck-table-form .ck-form__row.ck-table-form__border-row{flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{align-items:center;flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view{align-items:center;display:flex;flex-direction:column-reverse}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view .ck.ck-dropdown,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{flex-grow:0}.ck.ck-table-form .ck.ck-labeled-field-view{position:relative}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{bottom:calc(var(--ck-table-properties-error-arrow-size)*-1);left:50%;position:absolute;transform:translate(-50%,100%);z-index:1}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{content:"";left:50%;position:absolute;top:calc(var(--ck-table-properties-error-arrow-size)*-1);transform:translateX(-50%)}:root{--ck-table-properties-error-arrow-size:6px;--ck-table-properties-min-error-width:150px}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-labeled-field-view>.ck-label{font-size:var(--ck-font-size-tiny);text-align:center}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-style,.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-width{max-width:80px;min-width:80px;width:80px}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{padding:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__height,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__width{margin:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{align-self:flex-end;display:inline-block;height:var(--ck-ui-component-min-height);line-height:var(--ck-ui-component-min-height);margin:0 var(--ck-spacing-small)}.ck.ck-table-form .ck.ck-labeled-field-view{padding-top:var(--ck-spacing-standard)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{border-radius:0}.ck-rounded-corners .ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status,.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{background:var(--ck-color-base-error);color:var(--ck-color-base-background);min-width:var(--ck-table-properties-min-error-width);padding:var(--ck-spacing-small) var(--ck-spacing-medium);text-align:center}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{border-color:transparent transparent var(--ck-color-base-error) transparent;border-style:solid;border-width:0 var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{animation:ck-table-form-labeled-view-status-appear .15s ease both}@media (prefers-reduced-motion:reduce){.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{animation:none}}.ck.ck-table-form .ck.ck-labeled-field-view .ck-input.ck-error:not(:focus)+.ck.ck-labeled-field-view__status{display:none}@keyframes ck-table-form-labeled-view-status-appear{0%{opacity:0}to{opacity:1}}',"",{version:3,sources:["webpack://./../ckeditor5-table/theme/tableform.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableform.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAWE,wHACC,cACD,CAEA,8DAEC,kBAAmB,CADnB,cAgBD,CAbC,qFAGC,kBAAmB,CAFnB,YAAa,CACb,6BAMD,CAEA,sMACC,WACD,CAIF,4CAEC,iBAoBD,CAlBC,8EAGC,2DAAgE,CADhE,QAAS,CADT,iBAAkB,CAGlB,8BAA+B,CAG/B,SAUD,CAPC,oFACC,UAAW,CAGX,QAAS,CAFT,iBAAkB,CAClB,wDAA6D,CAE7D,0BACD,CChDH,MACC,0CAA2C,CAC3C,2CACD,CAMI,2FACC,kCAAmC,CACnC,iBACD,CAGD,8KAIC,cAAe,CADf,cAAe,CADf,UAGD,CAGD,8DACC,SAcD,CAZC,yMAEC,QACD,CAEA,iGACC,mBAAoB,CACpB,oBAAqB,CACrB,wCAAyC,CACzC,6CAA8C,CAC9C,gCACD,CAIF,4CACC,sCA6BD,CA3BC,8ECxCD,eD6DC,CArBA,mMCpCA,qCDyDA,CArBA,8EAGC,qCAAsC,CACtC,qCAAsC,CAEtC,oDAAqD,CADrD,wDAAyD,CAEzD,iBAcD,CAXC,oFACC,2EAA4E,CAE5E,kBAAmB,CADnB,kJAED,CAdD,8EAgBC,iEAKD,CAHC,uCAlBD,8EAmBE,cAEF,CADC,CAID,6GACC,YACD,CAIF,oDACC,GACC,SACD,CAEA,GACC,SACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-form {
	& .ck-form__row {
		&.ck-table-form__border-row {
			flex-wrap: wrap;
		}

		&.ck-table-form__background-row {
			flex-wrap: wrap;
		}

		&.ck-table-form__dimensions-row {
			flex-wrap: wrap;
			align-items: center;

			& .ck-labeled-field-view {
				display: flex;
				flex-direction: column-reverse;
				align-items: center;

				& .ck.ck-dropdown {
					flex-grow: 0;
				}
			}

			& .ck-table-form__dimension-operator {
				flex-grow: 0;
			}
		}
	}

	& .ck.ck-labeled-field-view {
		/* Allow absolute positioning of the status (error) balloons. */
		position: relative;

		& .ck.ck-labeled-field-view__status {
			position: absolute;
			left: 50%;
			bottom: calc( -1 * var(--ck-table-properties-error-arrow-size) );
			transform: translate(-50%,100%);

			/* Make sure the balloon status stays on top of other form elements. */
			z-index: 1;

			/* The arrow pointing towards the field. */
			&::after {
				content: "";
				position: absolute;
				top: calc( -1 * var(--ck-table-properties-error-arrow-size) );
				left: 50%;
				transform: translateX( -50% );
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_rounded.css";

:root {
	--ck-table-properties-error-arrow-size: 6px;
	--ck-table-properties-min-error-width: 150px;
}

.ck.ck-table-form {
	& .ck-form__row {
		&.ck-table-form__border-row {
			& .ck-labeled-field-view {
				& > .ck-label {
					font-size: var(--ck-font-size-tiny);
					text-align: center;
				}
			}

			& .ck-table-form__border-style,
			& .ck-table-form__border-width {
				width: 80px;
				min-width: 80px;
				max-width: 80px;
			}
		}

		&.ck-table-form__dimensions-row {
			padding: 0;

			& .ck-table-form__dimensions-row__width,
			& .ck-table-form__dimensions-row__height {
				margin: 0
			}

			& .ck-table-form__dimension-operator {
				align-self: flex-end;
				display: inline-block;
				height: var(--ck-ui-component-min-height);
				line-height: var(--ck-ui-component-min-height);
				margin: 0 var(--ck-spacing-small);
			}
		}
	}

	& .ck.ck-labeled-field-view {
		padding-top: var(--ck-spacing-standard);

		& .ck.ck-labeled-field-view__status {
			@mixin ck-rounded-corners;

			background: var(--ck-color-base-error);
			color: var(--ck-color-base-background);
			padding: var(--ck-spacing-small) var(--ck-spacing-medium);
			min-width: var(--ck-table-properties-min-error-width);
			text-align: center;

			/* The arrow pointing towards the field. */
			&::after {
				border-color: transparent transparent var(--ck-color-base-error) transparent;
				border-width: 0 var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size);
				border-style: solid;
			}

			animation: ck-table-form-labeled-view-status-appear .15s ease both;

			@media (prefers-reduced-motion: reduce) {
				animation: none;
			}
		}

		/* Hide the error balloon when the field is blurred. Makes the experience much more clear. */
		& .ck-input.ck-error:not(:focus) + .ck.ck-labeled-field-view__status {
			display: none;
		}
	}
}

@keyframes ck-table-form-labeled-view-status-appear {
	0% {
		opacity: 0;
	}

	100% {
		opacity: 1;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const S=y},5562:(l,d,f)=>{f.d(d,{A:()=>S});var m=f(9372),v=f.n(m),C=f(935),y=f.n(C)()(v());y.push([l.id,".ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-content:baseline;flex-basis:0;flex-wrap:wrap}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items{flex-wrap:nowrap}.ck.ck-table-properties-form{width:320px}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-self:flex-end;padding:0}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items>*{width:40px}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tableproperties.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableproperties.css"],names:[],mappings:"AAOE,mFAGC,sBAAuB,CADvB,YAAa,CADb,cAOD,CAHC,qHACC,gBACD,CCTH,6BACC,WAmBD,CAhBE,mFACC,mBAAoB,CACpB,SAYD,CAVC,kGACC,eAAgB,CAGhB,qCAKD,CAHC,uHACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-properties-form {
	& .ck-form__row {
		&.ck-table-properties-form__alignment-row {
			flex-wrap: wrap;
			flex-basis: 0;
			align-content: baseline;

			& .ck.ck-toolbar .ck-toolbar__items {
				flex-wrap: nowrap;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-properties-form {
	width: 320px;

	& .ck-form__row {
		&.ck-table-properties-form__alignment-row {
			align-self: flex-end;
			padding: 0;

			& .ck.ck-toolbar {
				background: none;

				/* Compensate for missing input label that would push the margin (toolbar has no inputs). */
				margin-top: var(--ck-spacing-standard);

				& .ck-toolbar__items > * {
					width: 40px;
				}
			}
		}
	}
}
`],sourceRoot:""}]);const S=y},8423:(l,d,f)=>{f.d(d,{A:()=>S});var m=f(9372),v=f.n(m),C=f(935),y=f.n(C)()(v());y.push([l.id,':root{--ck-table-selected-cell-background:rgba(158,207,250,.3)}.ck.ck-editor__editable .table table td.ck-editor__editable_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected{box-shadow:unset;caret-color:transparent;outline:unset;position:relative}.ck.ck-editor__editable .table table td.ck-editor__editable_selected:after,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:after{background-color:var(--ck-table-selected-cell-background);bottom:0;content:"";left:0;pointer-events:none;position:absolute;right:0;top:0}.ck.ck-editor__editable .table table td.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table td.ck-editor__editable_selected:focus,.ck.ck-editor__editable .table table th.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:focus{background-color:transparent}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget{outline:unset}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle{display:none}',"",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableselection.css"],names:[],mappings:"AAKA,MACC,wDACD,CAGC,0IAKC,gBAAiB,CAFjB,uBAAwB,CACxB,aAAc,CAFd,iBAiCD,CA3BC,sJAGC,yDAA0D,CAK1D,QAAS,CAPT,UAAW,CAKX,MAAO,CAJP,mBAAoB,CAEpB,iBAAkB,CAGlB,OAAQ,CAFR,KAID,CAEA,wTAEC,4BACD,CAMA,gKACC,aAKD,CAHC,0NACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-table-selected-cell-background: hsla(208, 90%, 80%, .3);
}

.ck.ck-editor__editable .table table {
	& td.ck-editor__editable_selected,
	& th.ck-editor__editable_selected {
		position: relative;
		caret-color: transparent;
		outline: unset;
		box-shadow: unset;

		/* https://github.com/ckeditor/ckeditor5/issues/6446 */
		&:after {
			content: '';
			pointer-events: none;
			background-color: var(--ck-table-selected-cell-background);
			position: absolute;
			top: 0;
			left: 0;
			right: 0;
			bottom: 0;
		}

		& ::selection,
		&:focus {
			background-color: transparent;
		}

		/*
		 * To reduce the amount of noise, all widgets in the table selection have no outline and no selection handle.
		 * See https://github.com/ckeditor/ckeditor5/issues/9491.
		 */
		& .ck-widget {
			outline: unset;

			& > .ck-widget__selection-handle {
				display: none;
			}
		}
	}
}
`],sourceRoot:""}]);const S=y},1801:(l,d,f)=>{f.d(d,{A:()=>S});var m=f(9372),v=f.n(m),C=f(935),y=f.n(C)()(v());y.push([l.id,".ck.ck-aria-live-announcer{left:-10000px;position:absolute;top:-10000px}.ck.ck-aria-live-region-list{list-style-type:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/arialiveannouncer/arialiveannouncer.css"],names:[],mappings:"AAKA,2BAEC,aAAc,CADd,iBAAkB,CAElB,YACD,CAEA,6BACC,oBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-aria-live-announcer {
	position: absolute;
	left: -10000px;
	top: -10000px;
}

.ck.ck-aria-live-region-list {
	list-style-type: none;
}
`],sourceRoot:""}]);const S=y},5727:(l,d,f)=>{f.d(d,{A:()=>S});var m=f(9372),v=f.n(m),C=f(935),y=f.n(C)()(v());y.push([l.id,".ck.ck-autocomplete{position:relative}.ck.ck-autocomplete>.ck-search__results{position:absolute;z-index:var(--ck-z-panel)}.ck.ck-autocomplete>.ck-search__results.ck-search__results_n{bottom:100%}.ck.ck-autocomplete>.ck-search__results.ck-search__results_s{bottom:auto;top:100%}.ck.ck-autocomplete>.ck-search__results{border-radius:0}.ck-rounded-corners .ck.ck-autocomplete>.ck-search__results,.ck.ck-autocomplete>.ck-search__results.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-autocomplete>.ck-search__results{background:var(--ck-color-base-background);border:1px solid var(--ck-color-dropdown-panel-border);box-shadow:var(--ck-drop-shadow),0 0;max-height:200px;min-width:auto;overflow-y:auto}.ck.ck-autocomplete>.ck-search__results.ck-search__results_n{border-bottom-left-radius:0;border-bottom-right-radius:0;margin-bottom:-1px}.ck.ck-autocomplete>.ck-search__results.ck-search__results_s{border-top-left-radius:0;border-top-right-radius:0;margin-top:-1px}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/autocomplete/autocomplete.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/autocomplete/autocomplete.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,oBACC,iBAeD,CAbC,wCACC,iBAAkB,CAClB,yBAUD,CARC,6DACC,WACD,CAEA,6DAEC,WAAY,CADZ,QAED,CCVD,wCCEA,eDuBA,CAzBA,uHCMC,qCDmBD,CAzBA,wCAMC,0CAA2C,CAC3C,sDAAuD,CEPxD,oCAA8B,CFI7B,gBAAiB,CAIjB,cAAe,CAHf,eAoBD,CAfC,6DACC,2BAA4B,CAC5B,4BAA6B,CAG7B,kBACD,CAEA,6DACC,wBAAyB,CACzB,yBAA0B,CAG1B,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-autocomplete {
	position: relative;

	& > .ck-search__results {
		position: absolute;
		z-index: var(--ck-z-panel);

		&.ck-search__results_n {
			bottom: 100%;
		}

		&.ck-search__results_s {
			top: 100%;
			bottom: auto;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css";
@import "@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css";

.ck.ck-autocomplete {
	& > .ck-search__results {
		@mixin ck-rounded-corners;
		@mixin ck-drop-shadow;

		max-height: 200px;
		overflow-y: auto;
		background: var(--ck-color-base-background);
		border: 1px solid var(--ck-color-dropdown-panel-border);
		min-width: auto;

		&.ck-search__results_n {
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;

			/* Prevent duplicated borders between the input and the results pane. */
			margin-bottom: -1px;
		}

		&.ck-search__results_s {
			border-top-left-radius: 0;
			border-top-right-radius: 0;

			/* Prevent duplicated borders between the input and the results pane. */
			margin-top: -1px;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const S=y},9715:(l,d,f)=>{f.d(d,{A:()=>S});var m=f(9372),v=f.n(m),C=f(935),y=f.n(C)()(v());y.push([l.id,".ck.ck-button,a.ck.ck-button{align-items:center;display:inline-flex;position:relative;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}[dir=ltr] .ck.ck-button,[dir=ltr] a.ck.ck-button{justify-content:left}[dir=rtl] .ck.ck-button,[dir=rtl] a.ck.ck-button{justify-content:right}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{display:none}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:not(.ck-button_with-text),a.ck.ck-button:not(.ck-button_with-text){justify-content:center}.ck.ck-button,a.ck.ck-button{background:var(--ck-color-button-default-background)}.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-hover-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck.ck-button,a.ck.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-button,a.ck.ck-button{-webkit-appearance:none;border:1px solid transparent;cursor:default;font-size:inherit;line-height:1;min-height:var(--ck-ui-component-min-height);min-width:var(--ck-ui-component-min-height);padding:var(--ck-spacing-tiny);text-align:center;transition:box-shadow .2s ease-in-out,border .2s ease-in-out;vertical-align:middle;white-space:nowrap}@media (prefers-reduced-motion:reduce){.ck.ck-button,a.ck.ck-button{transition:none}}.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:active,a.ck.ck-button:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{color:inherit;cursor:inherit;font-size:inherit;font-weight:inherit;vertical-align:middle}[dir=ltr] .ck.ck-button .ck-button__label,[dir=ltr] a.ck.ck-button .ck-button__label{text-align:left}[dir=rtl] .ck.ck-button .ck-button__label,[dir=rtl] a.ck.ck-button .ck-button__label{text-align:right}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{color:inherit}[dir=ltr] .ck.ck-button .ck-button__keystroke,[dir=ltr] a.ck.ck-button .ck-button__keystroke{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-button .ck-button__keystroke,[dir=rtl] a.ck.ck-button .ck-button__keystroke{margin-right:var(--ck-spacing-large)}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{opacity:.5}.ck.ck-button.ck-disabled:active,.ck.ck-button.ck-disabled:focus,a.ck.ck-button.ck-disabled:active,a.ck.ck-button.ck-disabled:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-button.ck-disabled .ck-button__icon,.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__keystroke,a.ck.ck-button.ck-disabled .ck-button__keystroke{opacity:.3}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}[dir=ltr] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=ltr] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:calc(var(--ck-spacing-small)*-1);margin-right:var(--ck-spacing-small)}[dir=rtl] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=rtl] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:var(--ck-spacing-small);margin-right:calc(var(--ck-spacing-small)*-1)}.ck.ck-button.ck-button_with-keystroke .ck-button__label,a.ck.ck-button.ck-button_with-keystroke .ck-button__label{flex-grow:1}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background)}.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-hover-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{color:var(--ck-color-button-on-color)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background)}.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-hover-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-action,a.ck.ck-button-action{color:var(--ck-color-button-action-text)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/button/button.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/button.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/mixins/_button.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AAQA,6BAMC,kBAAmB,CADnB,mBAAoB,CADpB,iBAAkB,CCHlB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBD0BD,CA9BA,iDASE,oBAqBF,CA9BA,iDAaE,qBAiBF,CAdC,iEACC,YACD,CAGC,yGACC,oBACD,CAID,iFACC,sBACD,CEzBD,6BCAC,oDD+ID,CC5IE,6EACC,0DACD,CAEA,+EACC,2DACD,CAID,qDACC,6DACD,CDfD,6BEDC,eFgJD,CA/IA,wIEGE,qCF4IF,CA/IA,6BA6BC,uBAAwB,CANxB,4BAA6B,CAjB7B,cAAe,CAcf,iBAAkB,CAHlB,aAAc,CAJd,4CAA6C,CAD7C,2CAA4C,CAJ5C,8BAA+B,CAC/B,iBAAkB,CAiBlB,4DAA8D,CAnB9D,qBAAsB,CAFtB,kBA0ID,CAhHC,uCA/BD,6BAgCE,eA+GF,CA9GC,CAEA,oFGpCA,2BAA2B,CCF3B,2CAA8B,CDC9B,YHyCA,CAIC,kJAEC,aACD,CAGD,iEAIC,aAAc,CACd,cAAe,CAHf,iBAAkB,CAClB,mBAAoB,CAMpB,qBASD,CAlBA,qFAYE,eAMF,CAlBA,qFAgBE,gBAEF,CAEA,yEACC,aAWD,CAZA,6FAIE,mCAQF,CAZA,6FAQE,oCAIF,CAZA,yEAWC,UACD,CAIC,oIIxFD,oDJ4FC,CAOA,gLKnGD,kCLqGC,CAEA,iGACC,UACD,CAGD,qEACC,yDAcD,CAXC,2HAEE,4CAA+C,CAC/C,oCAOF,CAVA,2HAQE,mCAAoC,CADpC,6CAGF,CAKA,mHACC,WACD,CAID,yCClIA,+CDsIA,CCnIC,yFACC,qDACD,CAEA,2FACC,sDACD,CAID,iEACC,wDACD,CDmHA,yCAGC,qCACD,CAEA,2DACC,iCACD,CAEA,+DACC,mCACD,CAID,2CClJC,mDDuJD,CCpJE,2FACC,yDACD,CAEA,6FACC,0DACD,CAID,mEACC,4DACD,CDmID,2CAIC,wCACD,CAEA,uCAEC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";
@import "../../mixins/_dir.css";

.ck.ck-button,
a.ck.ck-button {
	@mixin ck-unselectable;

	position: relative;
	display: inline-flex;
	align-items: center;

	@mixin ck-dir ltr {
		justify-content: left;
	}

	@mixin ck-dir rtl {
		justify-content: right;
	}

	& .ck-button__label {
		display: none;
	}

	&.ck-button_with-text {
		& .ck-button__label {
			display: inline-block;
		}
	}

	/* Center the icon horizontally in a button without text. */
	&:not(.ck-button_with-text)  {
		justify-content: center;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_rounded.css";
@import "../../mixins/_button.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-button,
a.ck.ck-button {
	@mixin ck-button-colors --ck-color-button-default;
	@mixin ck-rounded-corners;

	white-space: nowrap;
	cursor: default;
	vertical-align: middle;
	padding: var(--ck-spacing-tiny);
	text-align: center;

	/* A very important piece of styling. Go to variable declaration to learn more. */
	min-width: var(--ck-ui-component-min-height);
	min-height: var(--ck-ui-component-min-height);

	/* Normalize the height of the line. Removing this will break consistent height
	among text and text-less buttons (with icons). */
	line-height: 1;

	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	/* Avoid flickering when the foucs border shows up. */
	border: 1px solid transparent;

	/* Apply some smooth transition to the box-shadow and border. */
	transition: box-shadow .2s ease-in-out, border .2s ease-in-out;

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/189 */
	-webkit-appearance: none;

	@media (prefers-reduced-motion: reduce) {
		transition: none;
	}

	&:active,
	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	/* Allow icon coloring using the text "color" property. */
	& .ck-button__icon {
		& use,
		& use * {
			color: inherit;
		}
	}

	& .ck-button__label {
		/* Enable font size inheritance, which allows fluid UI scaling. */
		font-size: inherit;
		font-weight: inherit;
		color: inherit;
		cursor: inherit;

		/* Must be consistent with .ck-icon's vertical align. Otherwise, buttons with and
		without labels (but with icons) have different sizes in Chrome */
		vertical-align: middle;

		@mixin ck-dir ltr {
			text-align: left;
		}

		@mixin ck-dir rtl {
			text-align: right;
		}
	}

	& .ck-button__keystroke {
		color: inherit;

		@mixin ck-dir ltr {
			margin-left: var(--ck-spacing-large);
		}

		@mixin ck-dir rtl {
			margin-right: var(--ck-spacing-large);
		}

		opacity: .5;
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */
	&.ck-disabled {
		&:active,
		&:focus {
			/* The disabled button should have a slightly less visible shadow when focused. */
			@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);
		}

		& .ck-button__icon {
			@mixin ck-disabled;
		}

		/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */
		& .ck-button__label {
			@mixin ck-disabled;
		}

		& .ck-button__keystroke {
			opacity: .3;
		}
	}

	&.ck-button_with-text {
		padding: var(--ck-spacing-tiny) var(--ck-spacing-standard);

		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-button__icon {
			@mixin ck-dir ltr {
				margin-left: calc(-1 * var(--ck-spacing-small));
				margin-right: var(--ck-spacing-small);
			}

			@mixin ck-dir rtl {
				margin-right: calc(-1 * var(--ck-spacing-small));
				margin-left: var(--ck-spacing-small);
			}
		}
	}

	&.ck-button_with-keystroke {
		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-button__label {
			flex-grow: 1;
		}
	}

	/* A style of the button which is currently on, e.g. its feature is active. */
	&.ck-on {
		@mixin ck-button-colors --ck-color-button-on;

		color: var(--ck-color-button-on-color);
	}

	&.ck-button-save {
		color: var(--ck-color-button-save);
	}

	&.ck-button-cancel {
		color: var(--ck-color-button-cancel);
	}
}

/* A style of the button which handles the primary action. */
.ck.ck-button-action,
a.ck.ck-button-action {
	@mixin ck-button-colors --ck-color-button-action;

	color: var(--ck-color-button-action-text);
}

.ck.ck-button-bold,
a.ck.ck-button-bold {
	font-weight: bold;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements a button of given background color.
 *
 * @param {String} $background - Background color of the button.
 * @param {String} $border - Border color of the button.
 */
@define-mixin ck-button-colors $prefix {
	background: var($(prefix)-background);

	&:not(.ck-disabled) {
		&:hover {
			background: var($(prefix)-hover-background);
		}

		&:active {
			background: var($(prefix)-active-background);
		}
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */
	&.ck-disabled {
		background: var($(prefix)-disabled-background);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const S=y},4391:(l,d,f)=>{f.d(d,{A:()=>S});var m=f(9372),v=f.n(m),C=f(935),y=f.n(C)()(v());y.push([l.id,".ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{display:block}:root{--ck-switch-button-toggle-width:2.6153846154em;--ck-switch-button-toggle-inner-size:calc(1.07692em + 1px);--ck-switch-button-translation:calc(var(--ck-switch-button-toggle-width) - var(--ck-switch-button-toggle-inner-size) - 2px);--ck-switch-button-inner-hover-shadow:0 0 0 5px var(--ck-color-switch-button-inner-shadow)}.ck.ck-button.ck-switchbutton,.ck.ck-button.ck-switchbutton.ck-on:active,.ck.ck-button.ck-switchbutton.ck-on:focus,.ck.ck-button.ck-switchbutton.ck-on:hover,.ck.ck-button.ck-switchbutton:active,.ck.ck-button.ck-switchbutton:focus,.ck.ck-button.ck-switchbutton:hover{background:transparent;color:inherit}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__label{margin-right:calc(var(--ck-spacing-large)*2)}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__label{margin-left:calc(var(--ck-spacing-large)*2)}.ck.ck-button.ck-switchbutton .ck-button__toggle{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle.ck-rounded-corners{border-radius:var(--ck-border-radius)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-left:auto}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-right:auto}.ck.ck-button.ck-switchbutton .ck-button__toggle{background:var(--ck-color-switch-button-off-background);border:1px solid transparent;transition:background .4s ease,box-shadow .2s ease-in-out,outline .2s ease-in-out;width:var(--ck-switch-button-toggle-width)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:calc(var(--ck-border-radius)*.5)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{background:var(--ck-color-switch-button-inner-background);height:var(--ck-switch-button-toggle-inner-size);transition:all .3s ease;width:var(--ck-switch-button-toggle-inner-size)}@media (prefers-reduced-motion:reduce){.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{transition:none}}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover{background:var(--ck-color-switch-button-off-hover-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover .ck-button__toggle__inner{box-shadow:var(--ck-switch-button-inner-hover-shadow)}.ck.ck-button.ck-switchbutton.ck-disabled .ck-button__toggle{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-switchbutton:focus{border-color:transparent;box-shadow:none;outline:none}.ck.ck-button.ck-switchbutton:focus .ck-button__toggle{box-shadow:0 0 0 1px var(--ck-color-base-background),0 0 0 5px var(--ck-color-focus-outer-shadow);outline:var(--ck-focus-ring);outline-offset:1px}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle{background:var(--ck-color-switch-button-on-background)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle:hover{background:var(--ck-color-switch-button-on-hover-background)}[dir=ltr] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(var( --ck-switch-button-translation ))}[dir=rtl] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(calc(var( --ck-switch-button-translation )*-1))}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/button/switchbutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/switchbutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AASE,4HACC,aACD,CCCF,MAEC,8CAA+C,CAE/C,0DAAgE,CAChE,2HAIC,CACD,0FACD,CAOC,0QAEC,sBAAuB,CADvB,aAED,CAEA,0DAGE,4CAOF,CAVA,0DAQE,2CAEF,CAEA,iDCpCA,eDgFA,CA5CA,yIChCC,qCD4ED,CA5CA,2DAKE,gBAuCF,CA5CA,2DAUE,iBAkCF,CA5CA,iDAkBC,uDAAwD,CAFxD,4BAA6B,CAD7B,iFAAsF,CAEtF,0CA2BD,CAxBC,2ECxDD,eDuEC,CAfA,6LCpDA,qCAAsC,CDsDpC,8CAaF,CAfA,2EAOC,yDAA0D,CAD1D,gDAAiD,CAIjD,uBAA0B,CAL1B,+CAUD,CAHC,uCAZD,2EAaE,eAEF,CADC,CAGD,uDACC,6DAKD,CAHC,iFACC,qDACD,CAIF,6DEpFA,kCFsFA,CAGA,oCACC,wBAAyB,CAEzB,eAAgB,CADhB,YAQD,CALC,uDACC,iGAAmG,CAEnG,4BAA6B,CAD7B,kBAED,CAKA,uDACC,sDAkBD,CAhBC,6DACC,4DACD,CAEA,2FAKE,2DAMF,CAXA,2FASE,oEAEF",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-button.ck-switchbutton {
	& .ck-button__toggle {
		display: block;

		& .ck-button__toggle__inner {
			display: block;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

/* Note: To avoid rendering issues (aliasing) but to preserve the responsive nature
of the component, floatingpoint numbers have been used which, for the default font size
(see: --ck-font-size-base), will generate simple integers. */
:root {
	/* 34px at 13px font-size */
	--ck-switch-button-toggle-width: 2.6153846154em;
	/* 14px at 13px font-size */
	--ck-switch-button-toggle-inner-size: calc(1.0769230769em + 1px);
	--ck-switch-button-translation: calc(
		var(--ck-switch-button-toggle-width) -
		var(--ck-switch-button-toggle-inner-size) -
		2px /* Border */
	);
	--ck-switch-button-inner-hover-shadow: 0 0 0 5px var(--ck-color-switch-button-inner-shadow);
}

.ck.ck-button.ck-switchbutton {
	/* Unlike a regular button, the switch button text color and background should never change.
	 * Changing toggle switch (background, outline) is enough to carry the information about the
	 * state of the entire component (https://github.com/ckeditor/ckeditor5/issues/12519)
	 */
	&, &:hover, &:focus, &:active, &.ck-on:hover, &.ck-on:focus, &.ck-on:active {
		color: inherit;
		background: transparent;
	}

	& .ck-button__label {
		@mixin ck-dir ltr {
			/* Separate the label from the switch */
			margin-right: calc(2 * var(--ck-spacing-large));
		}

		@mixin ck-dir rtl {
			/* Separate the label from the switch */
			margin-left: calc(2 * var(--ck-spacing-large));
		}
	}

	& .ck-button__toggle {
		@mixin ck-rounded-corners;

		@mixin ck-dir ltr {
			/* Make sure the toggle is always to the right as far as possible. */
			margin-left: auto;
		}

		@mixin ck-dir rtl {
			/* Make sure the toggle is always to the left as far as possible. */
			margin-right: auto;
		}

		/* Apply some smooth transition to the box-shadow and border. */
		/* Gently animate the background color of the toggle switch */
		transition: background 400ms ease, box-shadow .2s ease-in-out, outline .2s ease-in-out;
		border: 1px solid transparent;
		width: var(--ck-switch-button-toggle-width);
		background: var(--ck-color-switch-button-off-background);

		& .ck-button__toggle__inner {
			@mixin ck-rounded-corners {
				border-radius: calc(.5 * var(--ck-border-radius));
			}

			width: var(--ck-switch-button-toggle-inner-size);
			height: var(--ck-switch-button-toggle-inner-size);
			background: var(--ck-color-switch-button-inner-background);

			/* Gently animate the inner part of the toggle switch */
			transition: all 300ms ease;

			@media (prefers-reduced-motion: reduce) {
				transition: none;
			}
		}

		&:hover {
			background: var(--ck-color-switch-button-off-hover-background);

			& .ck-button__toggle__inner {
				box-shadow: var(--ck-switch-button-inner-hover-shadow);
			}
		}
	}

	&.ck-disabled .ck-button__toggle {
		@mixin ck-disabled;
	}

	/* Overriding default .ck-button:focus styles + an outline around the toogle */
	&:focus {
		border-color: transparent;
		outline: none;
		box-shadow: none;

		& .ck-button__toggle {
			box-shadow: 0 0 0 1px var(--ck-color-base-background), 0 0 0 5px var(--ck-color-focus-outer-shadow);
			outline-offset: 1px;
			outline: var(--ck-focus-ring);
		}
	}

	/* stylelint-disable-next-line no-descending-specificity */
	&.ck-on {
		& .ck-button__toggle {
			background: var(--ck-color-switch-button-on-background);

			&:hover {
				background: var(--ck-color-switch-button-on-hover-background);
			}

			& .ck-button__toggle__inner {
				/*
				* Move the toggle switch to the right. It will be animated.
				*/
				@mixin ck-dir ltr {
					transform: translateX( var( --ck-switch-button-translation ) );
				}

				@mixin ck-dir rtl {
					transform: translateX( calc( -1 * var( --ck-switch-button-translation ) ) );
				}
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const S=y},25:(l,d,f)=>{f.d(d,{A:()=>S});var m=f(9372),v=f.n(m),C=f(935),y=f.n(C)()(v());y.push([l.id,".ck.ck-collapsible.ck-collapsible_collapsed>.ck-collapsible__children{display:none}:root{--ck-collapsible-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-collapsible>.ck.ck-button{border-radius:0;color:inherit;font-weight:700;padding:var(--ck-list-button-padding);width:100%}.ck.ck-collapsible>.ck.ck-button:focus{background:transparent}.ck.ck-collapsible>.ck.ck-button:active,.ck.ck-collapsible>.ck.ck-button:hover:not(:focus),.ck.ck-collapsible>.ck.ck-button:not(:focus){background:transparent;border-color:transparent;box-shadow:none}.ck.ck-collapsible>.ck.ck-button>.ck-icon{margin-right:var(--ck-spacing-medium);width:var(--ck-collapsible-arrow-size)}.ck.ck-collapsible>.ck-collapsible__children{padding:var(--ck-spacing-medium) var(--ck-spacing-large) var(--ck-spacing-large)}.ck.ck-collapsible.ck-collapsible_collapsed>.ck.ck-button .ck-icon{transform:rotate(-90deg)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/collapsible/collapsible.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/collapsible/collapsible.css"],names:[],mappings:"AAMC,sEACC,YACD,CCHD,MACC,yDACD,CAGC,iCAIC,eAAgB,CAChB,aAAc,CAHd,eAAiB,CACjB,qCAAsC,CAFtC,UAoBD,CAdC,uCACC,sBACD,CAEA,wIACC,sBAAuB,CACvB,wBAAyB,CACzB,eACD,CAEA,0CACC,qCAAsC,CACtC,sCACD,CAGD,6CACC,gFACD,CAGC,mEACC,wBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-collapsible.ck-collapsible_collapsed {
	& > .ck-collapsible__children {
		display: none;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-collapsible-arrow-size: calc(0.5 * var(--ck-icon-size));
}

.ck.ck-collapsible {
	& > .ck.ck-button {
		width: 100%;
		font-weight: bold;
		padding: var(--ck-list-button-padding);
		border-radius: 0;
		color: inherit;

		&:focus {
			background: transparent;
		}

		&:active, &:not(:focus), &:hover:not(:focus) {
			background: transparent;
			border-color: transparent;
			box-shadow: none;
		}

		& > .ck-icon {
			margin-right: var(--ck-spacing-medium);
			width: var(--ck-collapsible-arrow-size);
		}
	}

	& > .ck-collapsible__children {
		padding: var(--ck-spacing-medium) var(--ck-spacing-large) var(--ck-spacing-large);
	}

	&.ck-collapsible_collapsed {
		& > .ck.ck-button .ck-icon {
			transform: rotate(-90deg);
		}
	}
}
`],sourceRoot:""}]);const S=y},7317:(l,d,f)=>{f.d(d,{A:()=>S});var m=f(9372),v=f.n(m),C=f(935),y=f.n(C)()(v());y.push([l.id,".ck.ck-color-grid{display:grid}:root{--ck-color-grid-tile-size:24px;--ck-color-color-grid-check-icon:#166fd4}.ck.ck-color-grid{grid-gap:5px;padding:8px}.ck.ck-color-grid__tile{transition:box-shadow .2s ease}@media (forced-colors:none){.ck.ck-color-grid__tile{border:0;height:var(--ck-color-grid-tile-size);min-height:var(--ck-color-grid-tile-size);min-width:var(--ck-color-grid-tile-size);padding:0;width:var(--ck-color-grid-tile-size)}.ck.ck-color-grid__tile.ck-on,.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){border:0}.ck.ck-color-grid__tile.ck-color-selector__color-tile_bordered{box-shadow:0 0 0 1px var(--ck-color-base-border)}.ck.ck-color-grid__tile.ck-on{box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-base-text)}.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-focus-border)}}@media (forced-colors:active){.ck.ck-color-grid__tile{height:unset;min-height:unset;min-width:unset;padding:0 var(--ck-spacing-small);width:unset}.ck.ck-color-grid__tile .ck-button__label{display:inline-block}}@media (prefers-reduced-motion:reduce){.ck.ck-color-grid__tile{transition:none}}.ck.ck-color-grid__tile.ck-disabled{cursor:unset;transition:unset}.ck.ck-color-grid__tile .ck.ck-icon{color:var(--ck-color-color-grid-check-icon);display:none}.ck.ck-color-grid__tile.ck-on .ck.ck-icon{display:block}.ck.ck-color-grid__label{padding:0 var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorgrid/colorgrid.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/colorgrid/colorgrid.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css"],names:[],mappings:"AAKA,kBACC,YACD,CCCA,MACC,8BAA+B,CAK/B,wCACD,CAEA,kBACC,YAAa,CACb,WACD,CAEA,wBACC,8BAkED,CC3EC,4BACC,wBDgBA,QAAS,CAJT,qCAAsC,CAEtC,yCAA0C,CAD1C,wCAAyC,CAEzC,SAAU,CAJV,oCCTA,CDgBA,8HAIC,QACD,CAEA,+DACC,gDACD,CAEA,8BACC,8FACD,CAEA,gGAEC,iGACD,CCjCD,CAZA,8BACC,wBDqDA,YAAa,CAEb,gBAAiB,CADjB,eAAgB,CAEhB,iCAAkC,CAJlC,WClDA,CDwDA,0CACC,oBACD,CCzDD,CD4DA,uCAhDD,wBAiDE,eAkBF,CAjBC,CAEA,oCACC,YAAa,CACb,gBACD,CAEA,oCAEC,2CAA4C,CAD5C,YAED,CAGC,0CACC,aACD,CAIF,yBACC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-color-grid {
	display: grid;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";

:root {
	--ck-color-grid-tile-size: 24px;

	/* Not using global colors here because these may change but some colors in a pallette
	 * require special treatment. For instance, this ensures no matter what the UI text color is,
	 * the check icon will look good on the black color tile. */
	--ck-color-color-grid-check-icon: hsl(212, 81%, 46%);
}

.ck.ck-color-grid {
	grid-gap: 5px;
	padding: 8px;
}

.ck.ck-color-grid__tile {
	transition: .2s ease box-shadow;

	@mixin ck-media-default-colors {
		width: var(--ck-color-grid-tile-size);
		height: var(--ck-color-grid-tile-size);
		min-width: var(--ck-color-grid-tile-size);
		min-height: var(--ck-color-grid-tile-size);
		padding: 0;
		border: 0;

		&.ck-on,
		&:focus:not( .ck-disabled ),
		&:hover:not( .ck-disabled ) {
			/* Disable the default .ck-button's border ring. */
			border: 0;
		}

		&.ck-color-selector__color-tile_bordered {
			box-shadow: 0 0 0 1px var(--ck-color-base-border);
		}

		&.ck-on {
			box-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-base-text);
		}

		&:focus:not( .ck-disabled ),
		&:hover:not( .ck-disabled ) {
			box-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-focus-border);
		}
	}

	/*
	 * In high contrast mode, the colors are replaced with text labels.
	 * See https://github.com/ckeditor/ckeditor5/issues/14907.
	 */
	@mixin ck-media-forced-colors {
		width: unset;
		height: unset;
		min-width: unset;
		min-height: unset;
		padding: 0 var(--ck-spacing-small);

		& .ck-button__label {
			display: inline-block;
		}
	}

	@media (prefers-reduced-motion: reduce) {
		transition: none;
	}

	&.ck-disabled {
		cursor: unset;
		transition: unset;
	}

	& .ck.ck-icon {
		display: none;
		color: var(--ck-color-color-grid-check-icon);
	}

	&.ck-on {
		& .ck.ck-icon {
			display: block;
		}
	}
}

.ck.ck-color-grid__label {
	padding: 0 var(--ck-spacing-standard);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-forced-colors {
	@media (forced-colors: active) {
		& {
			@mixin-content;
		}
	}
}

@define-mixin ck-media-default-colors {
	@media (forced-colors: none) {
		& {
			@mixin-content;
		}
	}
}
`],sourceRoot:""}]);const S=y},1905:(l,d,f)=>{f.d(d,{A:()=>S});var m=f(9372),v=f.n(m),C=f(935),y=f.n(C)()(v());y.push([l.id,".color-picker-hex-input{width:max-content}.color-picker-hex-input .ck.ck-input{min-width:unset}.ck.ck-color-picker__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between;margin:var(--ck-spacing-large) 0 0;width:unset}.ck.ck-color-picker__row .ck.ck-labeled-field-view{padding-top:unset}.ck.ck-color-picker__row .ck.ck-input-text{width:unset}.ck.ck-color-picker__row .ck-color-picker__hash-view{padding-right:var(--ck-spacing-medium);padding-top:var(--ck-spacing-tiny)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorpicker/colorpicker.css"],names:[],mappings:"AAKA,wBACC,iBAKD,CAHC,qCACC,eACD,CAGD,yBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAA8B,CAC9B,kCAAmC,CACnC,WAcD,CAZC,mDACC,iBACD,CAEA,2CACC,WACD,CAEA,qDAEC,sCAAuC,CADvC,kCAED",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.color-picker-hex-input {
	width: max-content;

	& .ck.ck-input {
		min-width: unset;
	}
}

.ck.ck-color-picker__row {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	justify-content: space-between;
	margin: var(--ck-spacing-large) 0 0;
	width: unset;

	& .ck.ck-labeled-field-view {
		padding-top: unset;
	}

	& .ck.ck-input-text {
		width: unset;
	}

	& .ck-color-picker__hash-view {
		padding-top: var(--ck-spacing-tiny);
		padding-right: var(--ck-spacing-medium);
	}
}
`],sourceRoot:""}]);const S=y},6309:(l,d,f)=>{f.d(d,{A:()=>S});var m=f(9372),v=f.n(m),C=f(935),y=f.n(C)()(v());y.push([l.id,".ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{align-items:center;display:flex}[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{justify-content:flex-start}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar{display:flex;flex-direction:row;justify-content:space-around}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar .ck-button-cancel,.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar .ck-button-save{flex:1}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{width:100%}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard)}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker .ck.ck-icon{margin-left:var(--ck-spacing-standard)}.ck.ck-color-selector .ck-color-grids-fragment label.ck.ck-color-grid__label{font-weight:unset}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker{padding:8px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker{height:100px;min-width:180px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(saturation){border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(hue){border-radius:0 0 var(--ck-border-radius) var(--ck-border-radius)}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(hue-pointer),.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(saturation-pointer){height:15px;width:15px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar{padding:0 8px 8px}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorselector/colorselector.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/colorselector/colorselector.css"],names:[],mappings:"AAUE,oLAGC,kBAAmB,CADnB,YAMD,CARA,wMAME,0BAEF,CAKA,iFACC,YAAa,CACb,kBAAmB,CACnB,4BAMD,CAJC,oMAEC,MACD,CCrBD,oLAEC,UACD,CAEA,0FAEC,2BAA4B,CAC5B,4BAA6B,CAF7B,qEAiBD,CAbC,sGACC,gDACD,CAEA,gHAEE,uCAMF,CARA,gHAME,sCAEF,CAGD,6EACC,iBACD,CAKA,oEACC,WAoBD,CAlBC,sFACC,YAAa,CACb,eAeD,CAbC,wGACC,iEACD,CAEA,iGACC,iEACD,CAEA,yNAGC,WAAY,CADZ,UAED,CAIF,iFACC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-color-selector {
	/* View fragment with color grids. */
	& .ck-color-grids-fragment {
		& .ck-button.ck-color-selector__remove-color,
		& .ck-button.ck-color-selector__color-picker {
			display: flex;
			align-items: center;

			@mixin ck-dir rtl {
				justify-content: flex-start;
			}
		}
	}

	/* View fragment with a color picker. */
	& .ck-color-picker-fragment {
		& .ck.ck-color-selector_action-bar {
			display: flex;
			flex-direction: row;
			justify-content: space-around;

			& .ck-button-save,
			& .ck-button-cancel {
				flex: 1
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-color-selector {
	/* View fragment with color grids. */
	& .ck-color-grids-fragment {
		& .ck-button.ck-color-selector__remove-color,
		& .ck-button.ck-color-selector__color-picker {
			width: 100%;
		}

		& .ck-button.ck-color-selector__color-picker {
			padding: calc(var(--ck-spacing-standard) / 2) var(--ck-spacing-standard);
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;

			&:not(:focus) {
				border-top: 1px solid var(--ck-color-base-border);
			}

			& .ck.ck-icon {
				@mixin ck-dir ltr {
					margin-right: var(--ck-spacing-standard);
				}

				@mixin ck-dir rtl {
					margin-left: var(--ck-spacing-standard);
				}
			}
		}

		& label.ck.ck-color-grid__label {
			font-weight: unset;
		}
	}

	/* View fragment with a color picker. */
	& .ck-color-picker-fragment {
		& .ck.ck-color-picker {
			padding: 8px;

			& .hex-color-picker {
				height: 100px;
				min-width: 180px;

				&::part(saturation) {
					border-radius: var(--ck-border-radius) var(--ck-border-radius) 0 0;
				}

				&::part(hue) {
					border-radius: 0 0 var(--ck-border-radius) var(--ck-border-radius);
				}

				&::part(saturation-pointer),
				&::part(hue-pointer) {
					width: 15px;
					height: 15px;
				}
			}
		}

		& .ck.ck-color-selector_action-bar {
			padding: 0 8px 8px;
		}
	}
}
`],sourceRoot:""}]);const S=y},9819:(l,d,f)=>{f.d(d,{A:()=>S});var m=f(9372),v=f.n(m),C=f(935),y=f.n(C)()(v());y.push([l.id,".ck.ck-dialog-overlay{bottom:0;left:0;overscroll-behavior:none;position:fixed;right:0;top:0;user-select:none}.ck.ck-dialog-overlay.ck-dialog-overlay__transparent{animation:none;background:none;pointer-events:none}.ck.ck-dialog{overscroll-behavior:none;position:absolute;width:fit-content}.ck.ck-dialog .ck.ck-form__header{flex-shrink:0}.ck.ck-dialog .ck.ck-form__header .ck-form__header__label{cursor:grab}.ck.ck-dialog-overlay.ck-dialog-overlay__transparent .ck.ck-dialog{pointer-events:all}:root{--ck-dialog-overlay-background-color:rgba(0,0,0,.5);--ck-dialog-drop-shadow:0px 0px 6px 2px rgba(0,0,0,.15);--ck-dialog-max-width:100vw;--ck-dialog-max-height:90vh;--ck-color-dialog-background:var(--ck-color-base-background);--ck-color-dialog-form-header-border:var(--ck-color-base-border)}.ck.ck-dialog-overlay{animation:ck-dialog-fade-in .3s;background:var(--ck-dialog-overlay-background-color);z-index:var(--ck-z-dialog)}.ck.ck-dialog{border-radius:0}.ck-rounded-corners .ck.ck-dialog,.ck.ck-dialog.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dialog{box-shadow:var(--ck-drop-shadow),0 0;--ck-drop-shadow:var(--ck-dialog-drop-shadow);background:var(--ck-color-dialog-background);border:1px solid var(--ck-color-base-border);max-height:var(--ck-dialog-max-height);max-width:var(--ck-dialog-max-width)}.ck.ck-dialog .ck.ck-form__header{border-bottom:1px solid var(--ck-color-dialog-form-header-border)}@keyframes ck-dialog-fade-in{0%{background:transparent}to{background:var(--ck-dialog-overlay-background-color)}}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dialog/dialog.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dialog/dialog.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,sBAKC,QAAS,CACT,MAAO,CAJP,wBAAyB,CAEzB,cAAe,CAGf,OAAQ,CACR,KAAM,CAPN,gBAcD,CALC,qDAEC,cAAe,CACf,eAAgB,CAFhB,mBAGD,CAGD,cACC,wBAAyB,CAEzB,iBAAkB,CADlB,iBAcD,CAXC,kCACC,aAKD,CAHC,0DACC,WACD,CAVF,mEAcE,kBAEF,CC7BA,MACC,mDAA2D,CAC3D,uDAA8D,CAC9D,2BAA4B,CAC5B,2BAA4B,CAC5B,4DAA6D,CAC7D,gEACD,CAEA,sBACC,+BAAgC,CAChC,oDAAqD,CACrD,0BACD,CAEA,cCbC,eD2BD,CAdA,mECTE,qCDuBF,CAdA,cEfC,oCAA8B,CFmB9B,6CAA8C,CAE9C,4CAA6C,CAG7C,4CAA6C,CAF7C,sCAAuC,CACvC,oCAMD,CAHC,kCACC,iEACD,CAGD,6BACC,GACC,sBACD,CAEA,GACC,oDACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-dialog-overlay {
	user-select: none;
	overscroll-behavior: none;

	position: fixed;
	bottom: 0;
	left: 0;
	right: 0;
	top: 0;

	&.ck-dialog-overlay__transparent {
		pointer-events: none;
		animation: none;
		background: none;
	}
}

.ck.ck-dialog {
	overscroll-behavior: none;
	width: fit-content;
	position: absolute;

	& .ck.ck-form__header  {
		flex-shrink: 0;

		& .ck-form__header__label {
			cursor: grab;
		}
	}

	@nest .ck.ck-dialog-overlay.ck-dialog-overlay__transparent & {
		pointer-events: all;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

:root {
	--ck-dialog-overlay-background-color: hsla( 0, 0%, 0%, .5 );
	--ck-dialog-drop-shadow: 0px 0px 6px 2px hsl(0deg 0% 0% / 15%);
	--ck-dialog-max-width: 100vw;
	--ck-dialog-max-height: 90vh;
	--ck-color-dialog-background: var(--ck-color-base-background);
	--ck-color-dialog-form-header-border: var(--ck-color-base-border);
}

.ck.ck-dialog-overlay {
	animation: ck-dialog-fade-in .3s;
	background: var(--ck-dialog-overlay-background-color);
	z-index: var(--ck-z-dialog);
}

.ck.ck-dialog {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	--ck-drop-shadow: var(--ck-dialog-drop-shadow);

	background: var(--ck-color-dialog-background);
	max-height: var(--ck-dialog-max-height);
	max-width: var(--ck-dialog-max-width);
	border: 1px solid var(--ck-color-base-border);

	& .ck.ck-form__header {
		border-bottom: 1px solid var(--ck-color-dialog-form-header-border);
	}
}

@keyframes ck-dialog-fade-in {
	0% {
		background: hsla( 0, 0%, 0%, 0 );
	}

	100% {
		background: var(--ck-dialog-overlay-background-color);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const S=y},9822:(l,d,f)=>{f.d(d,{A:()=>S});var m=f(9372),v=f.n(m),C=f(935),y=f.n(C)()(v());y.push([l.id,".ck.ck-dialog .ck.ck-dialog__actions{display:flex;justify-content:flex-end;padding:var(--ck-spacing-large)}.ck.ck-dialog .ck.ck-dialog__actions>*+*{margin-left:var(--ck-spacing-large)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dialog/dialogactions.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dialog/dialogactions.css"],names:[],mappings:"AAMC,qCACC,YAAa,CACb,wBAAyB,CCDzB,+BDED,CCAC,yCACC,mCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-dialog {
	& .ck.ck-dialog__actions {
		display: flex;
		justify-content: flex-end;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-dialog {
	& .ck.ck-dialog__actions {
		padding: var(--ck-spacing-large);

		& > * + * {
			margin-left: var(--ck-spacing-large);
		}
	}
}
`],sourceRoot:""}]);const S=y},8149:(l,d,f)=>{f.d(d,{A:()=>S});var m=f(9372),v=f.n(m),C=f(935),y=f.n(C)()(v());y.push([l.id,":root{--ck-dropdown-max-width:75vw}.ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-dropdown__panel{display:none;max-width:var(--ck-dropdown-max-width);position:absolute;z-index:var(--ck-z-panel)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw{bottom:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{bottom:auto;top:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se{left:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{right:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s{left:50%;transform:translateX(-50%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw{left:75%;transform:translateX(-75%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme{left:25%;transform:translateX(-25%)}.ck.ck-toolbar .ck-dropdown__panel{z-index:calc(var(--ck-z-panel) + 1)}:root{--ck-dropdown-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-dropdown .ck-dropdown__arrow{margin-left:var(--ck-spacing-standard);right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-dropdown .ck-dropdown__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{overflow:hidden;text-overflow:ellipsis;width:7em}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-dropdown__button_label-width_auto .ck-button__label{width:auto}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active{box-shadow:none}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active:focus,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active:focus{box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-dropdown__panel{border-radius:0}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dropdown__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;box-shadow:var(--ck-drop-shadow),0 0;min-width:100%}.ck.ck-dropdown__panel.ck-dropdown__panel_se{border-top-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_sw{border-top-right-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_ne{border-bottom-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_nw{border-bottom-right-radius:0}.ck.ck-dropdown__panel:focus{outline:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/dropdown.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/dropdown.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,MACC,4BACD,CAEA,gBACC,oBAAqB,CACrB,iBA2ED,CAzEC,oCACC,mBAAoB,CACpB,2BACD,CAGA,+CACC,UACD,CAEA,oCACC,YAAa,CAEb,sCAAuC,CAEvC,iBAAkB,CAHlB,yBA4DD,CAvDC,+DACC,oBACD,CAEA,mSAKC,WACD,CAEA,mSAUC,WAAY,CADZ,QAED,CAEA,oHAEC,MACD,CAEA,oHAEC,OACD,CAEA,kHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAQF,mCACC,mCACD,CCpFA,MACC,sDACD,CAEA,gBAEC,iBA2ED,CAzEC,oCACC,mCACD,CAGC,8CAIC,sCAAuC,CAHvC,gCAID,CAIA,8CACC,+BAAgC,CAGhC,oCACD,CAGD,gDC/BA,kCDiCA,CAIE,mFAEC,oCACD,CAIA,mFAEC,qCACD,CAID,iEAEC,eAAgB,CAChB,sBAAuB,CAFvB,SAGD,CAGA,6EC1DD,kCD4DC,CAGA,qDACC,2BAA4B,CAC5B,4BACD,CAEA,sGACC,UACD,CAGA,yHAEC,eAKD,CAHC,qIE7EF,2CF+EE,CAKH,uBGlFC,eHkHD,CAhCA,qFG9EE,qCH8GF,CAhCA,uBAIC,oDAAqD,CACrD,sDAAuD,CACvD,QAAS,CE1FT,oCAA8B,CF6F9B,cAuBD,CAnBC,6CACC,wBACD,CAEA,6CACC,yBACD,CAEA,6CACC,2BACD,CAEA,6CACC,4BACD,CAEA,6BACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-dropdown-max-width: 75vw;
}

.ck.ck-dropdown {
	display: inline-block;
	position: relative;

	& .ck-dropdown__arrow {
		pointer-events: none;
		z-index: var(--ck-z-default);
	}

	/* Dropdown button should span horizontally, e.g. in vertical toolbars */
	& .ck-button.ck-dropdown__button {
		width: 100%;
	}

	& .ck-dropdown__panel {
		display: none;
		z-index: var(--ck-z-panel);
		max-width: var(--ck-dropdown-max-width);

		position: absolute;

		&.ck-dropdown__panel-visible {
			display: inline-block;
		}

		&.ck-dropdown__panel_ne,
		&.ck-dropdown__panel_nw,
		&.ck-dropdown__panel_n,
		&.ck-dropdown__panel_nmw,
		&.ck-dropdown__panel_nme {
			bottom: 100%;
		}

		&.ck-dropdown__panel_se,
		&.ck-dropdown__panel_sw,
		&.ck-dropdown__panel_smw,
		&.ck-dropdown__panel_sme,
		&.ck-dropdown__panel_s {
			/*
			 * Using transform: translate3d( 0, 100%, 0 ) causes blurry dropdown on Chrome 67-78+ on non-retina displays.
			 * See https://github.com/ckeditor/ckeditor5/issues/1053.
			 */
			top: 100%;
			bottom: auto;
		}

		&.ck-dropdown__panel_ne,
		&.ck-dropdown__panel_se {
			left: 0px;
		}

		&.ck-dropdown__panel_nw,
		&.ck-dropdown__panel_sw {
			right: 0px;
		}

		&.ck-dropdown__panel_s,
		&.ck-dropdown__panel_n {
			/* Positioning panels relative to the center of the button */
			left: 50%;
			transform: translateX(-50%);
		}

		&.ck-dropdown__panel_nmw,
		&.ck-dropdown__panel_smw {
			/* Positioning panels relative to the middle-west of the button */
			left: 75%;
			transform: translateX(-75%);
		}

		&.ck-dropdown__panel_nme,
		&.ck-dropdown__panel_sme {
			/* Positioning panels relative to the middle-east of the button */
			left: 25%;
			transform: translateX(-25%);
		}
	}
}

/*
 * Toolbar dropdown panels should be always above the UI (eg. other dropdown panels) from the editor's content.
 * See https://github.com/ckeditor/ckeditor5/issues/7874
 */
.ck.ck-toolbar .ck-dropdown__panel {
	z-index: calc( var(--ck-z-panel) + 1 );
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-dropdown-arrow-size: calc(0.5 * var(--ck-icon-size));
}

.ck.ck-dropdown {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	& .ck-dropdown__arrow {
		width: var(--ck-dropdown-arrow-size);
	}

	@mixin ck-dir ltr {
		& .ck-dropdown__arrow {
			right: var(--ck-spacing-standard);

			/* A space to accommodate the triangle. */
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& .ck-dropdown__arrow {
			left: var(--ck-spacing-standard);

			/* A space to accommodate the triangle. */
			margin-right: var(--ck-spacing-small);
		}
	}

	&.ck-disabled .ck-dropdown__arrow {
		@mixin ck-disabled;
	}

	& .ck-button.ck-dropdown__button {
		@mixin ck-dir ltr {
			&:not(.ck-button_with-text) {
				/* Make sure dropdowns with just an icon have the right inner spacing */
				padding-left: var(--ck-spacing-small);
			}
		}

		@mixin ck-dir rtl {
			&:not(.ck-button_with-text) {
				/* Make sure dropdowns with just an icon have the right inner spacing */
				padding-right: var(--ck-spacing-small);
			}
		}

		/* #23 */
		& .ck-button__label {
			width: 7em;
			overflow: hidden;
			text-overflow: ellipsis;
		}

		/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */
		&.ck-disabled .ck-button__label {
			@mixin ck-disabled;
		}

		/* https://github.com/ckeditor/ckeditor5/issues/816 */
		&.ck-on {
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;
		}

		&.ck-dropdown__button_label-width_auto .ck-button__label {
			width: auto;
		}

		/* https://github.com/ckeditor/ckeditor5/issues/8699 */
		&.ck-off:active,
		&.ck-on:active {
			box-shadow: none;

			&:focus {
				@mixin ck-box-shadow var(--ck-focus-outer-shadow);
			}
		}
	}
}

.ck.ck-dropdown__panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	background: var(--ck-color-dropdown-panel-background);
	border: 1px solid var(--ck-color-dropdown-panel-border);
	bottom: 0;

	/* Make sure the panel is at least as wide as the drop-down's button. */
	min-width: 100%;

	/* Disabled corner border radius to be consistent with the .dropdown__button
	https://github.com/ckeditor/ckeditor5/issues/816 */
	&.ck-dropdown__panel_se {
		border-top-left-radius: 0;
	}

	&.ck-dropdown__panel_sw {
		border-top-right-radius: 0;
	}

	&.ck-dropdown__panel_ne {
		border-bottom-left-radius: 0;
	}

	&.ck-dropdown__panel_nw {
		border-bottom-right-radius: 0;
	}

	&:focus {
		outline: none;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const S=y},3629:(l,d,f)=>{f.d(d,{A:()=>S});var m=f(9372),v=f.n(m),C=f(935),y=f.n(C)()(v());y.push([l.id,".ck.ck-dropdown>.ck-dropdown__panel>.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown>.ck-dropdown__panel>.ck-list,.ck.ck-dropdown>.ck-dropdown__panel>.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:first-child>.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:first-child>.ck-button,.ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:first-child>.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:0}.ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:last-child>.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:last-child>.ck-button,.ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:last-child>.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/listdropdown.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,6CCIC,eDqBD,CAzBA,iICQE,qCAAsC,CDJtC,wBAqBF,CAfE,mFCND,eDYC,CANA,6MCFA,qCAAsC,CDKpC,2BAA4B,CAC5B,4BAA6B,CAF7B,wBAIF,CAEA,kFCdD,eDmBC,CALA,2MCVA,qCAAsC,CDYpC,wBAAyB,CACzB,yBAEF",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

.ck.ck-dropdown > .ck-dropdown__panel > .ck-list {
	/* Disabled radius of top-left border to be consistent with .dropdown__button
	https://github.com/ckeditor/ckeditor5/issues/816 */
	@mixin ck-rounded-corners {
		border-top-left-radius: 0;
	}

	/* Make sure the button belonging to the first/last child of the list goes well with the
	border radius of the entire panel. */
	& .ck-list__item {
		&:first-child > .ck-button {
			@mixin ck-rounded-corners {
				border-top-left-radius: 0;
				border-bottom-left-radius: 0;
				border-bottom-right-radius: 0;
			}
		}

		&:last-child > .ck-button {
			@mixin ck-rounded-corners {
				border-top-left-radius: 0;
				border-top-right-radius: 0;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const S=y},1792:(l,d,f)=>{f.d(d,{A:()=>S});var m=f(9372),v=f.n(m),C=f(935),y=f.n(C)()(v());y.push([l.id,'.ck.ck-splitbutton{font-size:inherit}.ck.ck-splitbutton .ck-splitbutton__action:focus{z-index:calc(var(--ck-z-default) + 1)}:root{--ck-color-split-button-hover-background:#ebebeb;--ck-color-split-button-hover-border:#b3b3b3}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-right-radius:unset;border-top-right-radius:unset}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-left-radius:unset;border-top-left-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow{min-width:unset}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-left-radius:unset;border-top-left-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-right-radius:unset;border-top-right-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow svg{width:var(--ck-dropdown-arrow-size)}.ck.ck-splitbutton>.ck-splitbutton__arrow:not(:focus){border-bottom-width:0;border-top-width:0}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover),.ck.ck-splitbutton:hover>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover){background:var(--ck-color-split-button-hover-background)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{background-color:var(--ck-color-split-button-hover-border);content:"";height:100%;position:absolute;width:1px}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:focus:after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:focus:after{--ck-color-split-button-hover-border:var(--ck-color-focus-border)}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{left:-1px}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{right:-1px}.ck.ck-splitbutton.ck-splitbutton_open{border-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__action{border-bottom-left-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__arrow{border-bottom-right-radius:0}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/splitbutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/splitbutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,mBAEC,iBAKD,CAHC,iDACC,qCACD,CCJD,MACC,gDAAyD,CACzD,4CACD,CAMC,oIAKE,gCAAiC,CADjC,6BASF,CAbA,oIAWE,+BAAgC,CADhC,4BAGF,CAEA,0CAGC,eAiBD,CApBA,oDAQE,+BAAgC,CADhC,4BAaF,CApBA,oDAcE,gCAAiC,CADjC,6BAOF,CAHC,8CACC,mCACD,CAKD,sDAEC,qBAAwB,CADxB,kBAED,CAQC,0KACC,wDACD,CAIA,8JAKC,0DAA2D,CAJ3D,UAAW,CAGX,WAAY,CAFZ,iBAAkB,CAClB,SAGD,CAGA,sIACC,iEACD,CAGC,kLACC,SACD,CAIA,kLACC,UACD,CAMF,uCCzFA,eDmGA,CAVA,qHCrFC,qCD+FD,CARE,qKACC,2BACD,CAEA,mKACC,4BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-splitbutton {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	& .ck-splitbutton__action:focus {
		z-index: calc(var(--ck-z-default) + 1);
	}
}

`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

:root {
	--ck-color-split-button-hover-background: hsl(0, 0%, 92%);
	--ck-color-split-button-hover-border: hsl(0, 0%, 70%);
}

.ck.ck-splitbutton {
	/*
	 * Note: ck-rounded and ck-dir mixins don't go together (because they both use @nest).
	 */
	&:hover > .ck-splitbutton__action,
	&.ck-splitbutton_open > .ck-splitbutton__action {
		@nest [dir="ltr"] & {
			/* Don't round the action button on the right side */
			border-top-right-radius: unset;
			border-bottom-right-radius: unset;
		}

		@nest [dir="rtl"] & {
			/* Don't round the action button on the left side */
			border-top-left-radius: unset;
			border-bottom-left-radius: unset;
		}
	}

	& > .ck-splitbutton__arrow {
		/* It's a text-less button and since the icon is positioned absolutely in such situation,
		it must get some arbitrary min-width. */
		min-width: unset;

		@nest [dir="ltr"] & {
			/* Don't round the arrow button on the left side */
			border-top-left-radius: unset;
			border-bottom-left-radius: unset;
		}

		@nest [dir="rtl"] & {
			/* Don't round the arrow button on the right side */
			border-top-right-radius: unset;
			border-bottom-right-radius: unset;
		}

		& svg {
			width: var(--ck-dropdown-arrow-size);
		}
	}

	/* Make sure the divider stretches 100% height of the button
	https://github.com/ckeditor/ckeditor5/issues/10936 */
	& > .ck-splitbutton__arrow:not(:focus) {
		border-top-width: 0px;
		border-bottom-width: 0px;
	}

	/* When the split button is "open" (the arrow is on) or being hovered, it should get some styling
	as a whole. The background of both buttons should stand out and there should be a visual
	separation between both buttons. */
	&.ck-splitbutton_open,
	&:hover {
		/* When the split button hovered as a whole, not as individual buttons. */
		& > .ck-button:not(.ck-on):not(.ck-disabled):not(:hover) {
			background: var(--ck-color-split-button-hover-background);
		}

		/* Splitbutton separator needs to be set with the ::after pseudoselector
		to display properly the borders on focus */
		& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
			content: '';
			position: absolute;
			width: 1px;
			height: 100%;
			background-color: var(--ck-color-split-button-hover-border);
		}

		/* Make sure the divider between the buttons looks fine when the button is focused */
		& > .ck-splitbutton__arrow:focus::after {
			--ck-color-split-button-hover-border: var(--ck-color-focus-border);
		}

		@nest [dir="ltr"] & {
			& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
				left: -1px;
			}
		}

		@nest [dir="rtl"] & {
			& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
				right: -1px;
			}
		}
	}

	/* Don't round the bottom left and right corners of the buttons when "open"
	https://github.com/ckeditor/ckeditor5/issues/816 */
	&.ck-splitbutton_open {
		@mixin ck-rounded-corners {
			& > .ck-splitbutton__action {
				border-bottom-left-radius: 0;
			}

			& > .ck-splitbutton__arrow {
				border-bottom-right-radius: 0;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const S=y},1666:(l,d,f)=>{f.d(d,{A:()=>S});var m=f(9372),v=f.n(m),C=f(935),y=f.n(C)()(v());y.push([l.id,":root{--ck-toolbar-dropdown-max-width:60vw}.ck.ck-toolbar-dropdown>.ck-dropdown__panel{max-width:var(--ck-toolbar-dropdown-max-width);width:max-content}.ck.ck-toolbar-dropdown>.ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/toolbardropdown.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/toolbardropdown.css"],names:[],mappings:"AAKA,MACC,oCACD,CAEA,4CAGC,8CAA+C,CAD/C,iBAQD,CAJE,6DACC,qCACD,CCZF,oCACC,QACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-toolbar-dropdown-max-width: 60vw;
}

.ck.ck-toolbar-dropdown > .ck-dropdown__panel {
	/* https://github.com/ckeditor/ckeditor5/issues/5586 */
	width: max-content;
	max-width: var(--ck-toolbar-dropdown-max-width);

	& .ck-button {
		&:focus {
			z-index: calc(var(--ck-z-default) + 1);
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-toolbar-dropdown .ck-toolbar {
	border: 0;
}
`],sourceRoot:""}]);const S=y},8527:(l,d,f)=>{f.d(d,{A:()=>S});var m=f(9372),v=f.n(m),C=f(935),y=f.n(C)()(v());y.push([l.id,":root{--ck-accessibility-help-dialog-max-width:600px;--ck-accessibility-help-dialog-max-height:400px;--ck-accessibility-help-dialog-border-color:#ccced1;--ck-accessibility-help-dialog-code-background-color:#ededed;--ck-accessibility-help-dialog-kbd-shadow-color:#9c9c9c}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content{border:1px solid transparent;max-height:var(--ck-accessibility-help-dialog-max-height);max-width:var(--ck-accessibility-help-dialog-max-width);overflow:auto;padding:var(--ck-spacing-large);user-select:text}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content{*{white-space:normal}}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content .ck-label{display:none}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h3{font-size:1.2em;font-weight:700}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h4{font-size:1em;font-weight:700}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h3,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h4,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content p,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content table{margin:1em 0}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl{border-bottom:none;border-top:1px solid var(--ck-accessibility-help-dialog-border-color);display:grid;grid-template-columns:2fr 1fr}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dd,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dt{border-bottom:1px solid var(--ck-accessibility-help-dialog-border-color);padding:.4em 0}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dt{grid-column-start:1}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dd{grid-column-start:2;text-align:right}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content code,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content kbd{background:var(--ck-accessibility-help-dialog-code-background-color);border-radius:2px;display:inline-block;font-size:.9em;line-height:1;padding:.4em;text-align:center;vertical-align:middle}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content code{font-family:monospace}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content kbd{box-shadow:0 1px 1px var(--ck-accessibility-help-dialog-kbd-shadow-color);margin:0 1px;min-width:1.8em}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content kbd+kbd{margin-left:2px}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/editorui/accessibilityhelp.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAQA,MACC,8CAA+C,CAC/C,+CAAgD,CAChD,mDAA8D,CAC9D,4DAAyE,CACzE,uDACD,CAEA,wEAOC,4BAA6B,CAJ7B,yDAA0D,CAD1D,uDAAwD,CAExD,aAAc,CAHd,+BAAgC,CAIhC,gBAgFD,CA5EC,8ECdA,2BAA2B,CCF3B,2CAA8B,CDC9B,YDkBA,CAZD,wEAcC,EACC,kBACD,CAqED,CAlEC,kFACC,YACD,CAEA,2EAEC,eAAgB,CADhB,eAED,CAEA,2EAEC,aAAc,CADd,eAED,CAEA,8SAIC,YACD,CAEA,2EAIC,kBAAmB,CADnB,qEAAsE,CAFtE,YAAa,CACb,6BAiBD,CAbC,4JACC,wEAAyE,CACzE,cACD,CAEA,8EACC,mBACD,CAEA,8EACC,mBAAoB,CACpB,gBACD,CAGD,yJAEC,oEAAqE,CAIrE,iBAAkB,CALlB,oBAAqB,CAOrB,cAAe,CAHf,aAAc,CAFd,YAAa,CAIb,iBAAkB,CAHlB,qBAKD,CAEA,6EACC,qBACD,CAEA,4EAEC,yEAA4E,CAC5E,YAAa,CAFb,eAOD,CAHC,gFACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-accessibility-help-dialog-max-width: 600px;
	--ck-accessibility-help-dialog-max-height: 400px;
	--ck-accessibility-help-dialog-border-color: hsl(220, 6%, 81%);
	--ck-accessibility-help-dialog-code-background-color: hsl(0deg 0% 92.94%);
	--ck-accessibility-help-dialog-kbd-shadow-color: hsl(0deg 0% 61%);
}

.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content {
	padding: var(--ck-spacing-large);
	max-width: var(--ck-accessibility-help-dialog-max-width);
	max-height: var(--ck-accessibility-help-dialog-max-height);
	overflow: auto;
	user-select: text;

	border: 1px solid transparent;

	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	* {
		white-space: normal;
	}

	/* Hide the main label of the content container. */
	& .ck-label {
		display: none;
	}

	& h3 {
		font-weight: bold;
		font-size: 1.2em;
	}

	& h4 {
		font-weight: bold;
		font-size: 1em;
	}

	& p,
	& h3,
	& h4,
	& table {
		margin: 1em 0;
	}

	& dl {
		display: grid;
		grid-template-columns: 2fr 1fr;
		border-top: 1px solid var(--ck-accessibility-help-dialog-border-color);
		border-bottom: none;

		& dt, & dd {
			border-bottom: 1px solid var(--ck-accessibility-help-dialog-border-color);
			padding: .4em 0;
		}

		& dt {
			grid-column-start: 1;
		}

		& dd {
			grid-column-start: 2;
			text-align: right;
		}
	}

	& kbd, & code {
		display: inline-block;
		background: var(--ck-accessibility-help-dialog-code-background-color);
		padding: .4em;
		vertical-align: middle;
		line-height: 1;
		border-radius: 2px;
		text-align: center;
		font-size: .9em;
	}

	& code {
		font-family: monospace;
	}

	& kbd {
		min-width: 1.8em;
		box-shadow: 0px 1px 1px var(--ck-accessibility-help-dialog-kbd-shadow-color);
		margin: 0 1px;

		& + kbd {
			margin-left: 2px;
		}
	}
}

`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const S=y},1185:(l,d,f)=>{f.d(d,{A:()=>S});var m=f(9372),v=f.n(m),C=f(935),y=f.n(C)()(v());y.push([l.id,":root{--ck-color-editable-blur-selection:#d9d9d9}.ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable.ck-rounded-corners:not(.ck-editor__nested-editable){border-radius:var(--ck-border-radius)}.ck.ck-editor__editable.ck-focused:not(.ck-editor__nested-editable){border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck.ck-editor__editable_inline{border:1px solid transparent;overflow:auto;padding:0 var(--ck-spacing-standard)}.ck.ck-editor__editable_inline[dir=ltr]{text-align:left}.ck.ck-editor__editable_inline[dir=rtl]{text-align:right}.ck.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-editor__editable_inline.ck-blurred ::selection{background:var(--ck-color-editable-blur-selection)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-panel-background)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-panel-background)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/editorui/editorui.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAWA,MACC,0CACD,CAEA,yDCJC,eDWD,CAPA,yJCAE,qCDOF,CAJC,oEEPA,2BAA2B,CCF3B,qCAA8B,CDC9B,YFWA,CAGD,+BAGC,4BAA6B,CAF7B,aAAc,CACd,oCA6BD,CA1BC,wCACC,eACD,CAEA,wCACC,gBACD,CAGA,4CACC,kCACD,CAGA,2CAKC,qCACD,CAGA,sDACC,kDACD,CAKA,gEACC,oDACD,CAIA,gEACC,iDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_shadow.css";
@import "../../../mixins/_focus.css";
@import "../../mixins/_button.css";

:root {
	--ck-color-editable-blur-selection: hsl(0, 0%, 85%);
}

.ck.ck-editor__editable:not(.ck-editor__nested-editable) {
	@mixin ck-rounded-corners;

	&.ck-focused {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-inner-shadow);
	}
}

.ck.ck-editor__editable_inline {
	overflow: auto;
	padding: 0 var(--ck-spacing-standard);
	border: 1px solid transparent;

	&[dir="ltr"] {
		text-align: left;
	}

	&[dir="rtl"] {
		text-align: right;
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/116 */
	& > *:first-child {
		margin-top: var(--ck-spacing-large);
	}

	/* https://github.com/ckeditor/ckeditor5/issues/847 */
	& > *:last-child {
		/*
		 * This value should match with the default margins of the block elements (like .media or .image)
		 * to avoid a content jumping when the fake selection container shows up (See https://github.com/ckeditor/ckeditor5/issues/9825).
		 */
		margin-bottom: var(--ck-spacing-large);
	}

	/* https://github.com/ckeditor/ckeditor5/issues/6517 */
	&.ck-blurred ::selection {
		background: var(--ck-color-editable-blur-selection);
	}
}

/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/111 */
.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_n"] {
	&::after {
		border-bottom-color: var(--ck-color-panel-background);
	}
}

.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_s"] {
	&::after {
		border-top-color: var(--ck-color-panel-background);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const S=y},7913:(l,d,f)=>{f.d(d,{A:()=>S});var m=f(9372),v=f.n(m),C=f(935),y=f.n(C)()(v());y.push([l.id,".ck.ck-form__header{align-items:center;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__header h2.ck-form__header__label{flex-grow:1}:root{--ck-form-header-height:44px}.ck.ck-form__header{border-bottom:1px solid var(--ck-color-base-border);height:var(--ck-form-header-height);line-height:var(--ck-form-header-height);padding:var(--ck-spacing-small) var(--ck-spacing-large)}[dir=ltr] .ck.ck-form__header>.ck-icon{margin-right:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-form__header>.ck-icon{margin-left:var(--ck-spacing-medium)}.ck.ck-form__header .ck-form__header__label{--ck-font-size-base:15px;font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/formheader/formheader.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/formheader/formheader.css"],names:[],mappings:"AAKA,oBAIC,kBAAmB,CAHnB,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CAEjB,6BAKD,CAHC,8CACC,WACD,CCPD,MACC,4BACD,CAEA,oBAIC,mDAAoD,CAFpD,mCAAoC,CACpC,wCAAyC,CAFzC,uDAmBD,CAdC,uCAEE,qCAMF,CARA,uCAME,oCAEF,CAEA,4CACC,wBAAyB,CACzB,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form__header {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	align-items: center;
	justify-content: space-between;

	& h2.ck-form__header__label {
		flex-grow: 1;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-form-header-height: 44px;
}

.ck.ck-form__header {
	padding: var(--ck-spacing-small) var(--ck-spacing-large);
	height: var(--ck-form-header-height);
	line-height: var(--ck-form-header-height);
	border-bottom: 1px solid var(--ck-color-base-border);

	& > .ck-icon {
		@mixin ck-dir ltr {
			margin-right: var(--ck-spacing-medium);
		}

		@mixin ck-dir rtl {
			margin-left: var(--ck-spacing-medium);
		}
	}

	& .ck-form__header__label {
		--ck-font-size-base: 15px;
		font-weight: bold;
	}
}
`],sourceRoot:""}]);const S=y},9529:(l,d,f)=>{f.d(d,{A:()=>S});var m=f(9372),v=f.n(m),C=f(935),y=f.n(C)()(v());y.push([l.id,".ck.ck-highlighted-text mark{background:var(--ck-color-highlight-background);font-size:inherit;font-weight:inherit;line-height:inherit;vertical-align:initial}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/highlightedtext/highlightedtext.css"],names:[],mappings:"AAKA,6BACC,+CAAgD,CAIhD,iBAAkB,CAFlB,mBAAoB,CACpB,mBAAoB,CAFpB,sBAID",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-highlighted-text mark {
	background: var(--ck-color-highlight-background);
	vertical-align: initial;
	font-weight: inherit;
	line-height: inherit;
	font-size: inherit;
}
`],sourceRoot:""}]);const S=y},7621:(l,d,f)=>{f.d(d,{A:()=>S});var m=f(9372),v=f.n(m),C=f(935),y=f.n(C)()(v());y.push([l.id,".ck.ck-icon{vertical-align:middle}:root{--ck-icon-size:calc(var(--ck-line-height-base)*var(--ck-font-size-normal))}.ck.ck-icon{font-size:.8333350694em;height:var(--ck-icon-size);width:var(--ck-icon-size);will-change:transform}.ck.ck-icon,.ck.ck-icon *{cursor:inherit}.ck.ck-icon.ck-icon_inherit-color,.ck.ck-icon.ck-icon_inherit-color *{color:inherit}.ck.ck-icon.ck-icon_inherit-color :not([fill]){fill:currentColor}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/icon/icon.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/icon/icon.css"],names:[],mappings:"AAKA,YACC,qBACD,CCFA,MACC,0EACD,CAEA,YAKC,uBAAwB,CAHxB,0BAA2B,CAD3B,yBAA0B,CAU1B,qBAoBD,CAlBC,0BALA,cAQA,CAMC,sEACC,aAMD,CAJC,+CAEC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-icon {
	vertical-align: middle;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-icon-size: calc(var(--ck-line-height-base) * var(--ck-font-size-normal));
}

.ck.ck-icon {
	width: var(--ck-icon-size);
	height: var(--ck-icon-size);

	/* Multiplied by the height of the line in "px" should give SVG "viewport" dimensions */
	font-size: .8333350694em;

	/* Inherit cursor style (#5). */
	cursor: inherit;

	/* This will prevent blurry icons on Firefox. See #340. */
	will-change: transform;

	& * {
		/* Inherit cursor style (#5). */
		cursor: inherit;
	}

	/* Allows dynamic coloring of an icon by inheriting its color from the parent. */
	&.ck-icon_inherit-color {
		color: inherit;

		& * {
			color: inherit;

			&:not([fill]) {
				/* Needed by FF. */
				fill: currentColor;
			}
		}
	}
}
`],sourceRoot:""}]);const S=y},253:(l,d,f)=>{f.d(d,{A:()=>S});var m=f(9372),v=f.n(m),C=f(935),y=f.n(C)()(v());y.push([l.id,":root{--ck-input-width:18em;--ck-input-text-width:var(--ck-input-width)}.ck.ck-input{border-radius:0}.ck-rounded-corners .ck.ck-input,.ck.ck-input.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input{background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);min-height:var(--ck-ui-component-min-height);min-width:var(--ck-input-width);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);transition:box-shadow .1s ease-in-out,border .1s ease-in-out}@media (prefers-reduced-motion:reduce){.ck.ck-input{transition:none}}.ck.ck-input:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-input[readonly]{background:var(--ck-color-input-disabled-background);border:1px solid var(--ck-color-input-disabled-border);color:var(--ck-color-input-disabled-text)}.ck.ck-input[readonly]:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-input.ck-error{animation:ck-input-shake .3s ease both;border-color:var(--ck-color-input-error-border)}@media (prefers-reduced-motion:reduce){.ck.ck-input.ck-error{animation:none}}.ck.ck-input.ck-error:focus{box-shadow:var(--ck-focus-error-outer-shadow),0 0}@keyframes ck-input-shake{20%{transform:translateX(-2px)}40%{transform:translateX(2px)}60%{transform:translateX(-1px)}80%{transform:translateX(1px)}}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/input/input.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AASA,MACC,qBAAsB,CAGtB,2CACD,CAEA,aCLC,eDmDD,CA9CA,iECDE,qCD+CF,CA9CA,aAGC,2CAA4C,CAC5C,6CAA8C,CAK9C,4CAA6C,CAH7C,+BAAgC,CADhC,6DAA8D,CAO9D,4DAkCD,CAhCC,uCAdD,aAeE,eA+BF,CA9BC,CAEA,mBEvBA,2BAA2B,CCF3B,2CAA8B,CDC9B,YF2BA,CAEA,uBAEC,oDAAqD,CADrD,sDAAuD,CAEvD,yCAMD,CAJC,6BGnCD,oDHsCC,CAGD,sBAEC,sCAAuC,CADvC,+CAUD,CAPC,uCAJD,sBAKE,cAMF,CALC,CAEA,4BGjDD,iDHmDC,CAIF,0BACC,IACC,0BACD,CAEA,IACC,yBACD,CAEA,IACC,0BACD,CAEA,IACC,yBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-input-width: 18em;

	/* Backward compatibility. */
	--ck-input-text-width: var(--ck-input-width);
}

.ck.ck-input {
	@mixin ck-rounded-corners;

	background: var(--ck-color-input-background);
	border: 1px solid var(--ck-color-input-border);
	padding: var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);
	min-width: var(--ck-input-width);

	/* This is important to stay of the same height as surrounding buttons */
	min-height: var(--ck-ui-component-min-height);

	/* Apply some smooth transition to the box-shadow and border. */
	transition: box-shadow .1s ease-in-out, border .1s ease-in-out;

	@media (prefers-reduced-motion: reduce) {
		transition: none;
	}

	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	&[readonly] {
		border: 1px solid var(--ck-color-input-disabled-border);
		background: var(--ck-color-input-disabled-background);
		color: var(--ck-color-input-disabled-text);

		&:focus {
			/* The read-only input should have a slightly less visible shadow when focused. */
			@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);
		}
	}

	&.ck-error {
		border-color: var(--ck-color-input-error-border);
		animation: ck-input-shake .3s ease both;

		@media (prefers-reduced-motion: reduce) {
			animation: none;
		}

		&:focus {
			@mixin ck-box-shadow var(--ck-focus-error-outer-shadow);
		}
	}
}

@keyframes ck-input-shake {
	20% {
		transform: translateX(-2px);
	}

	40% {
		transform: translateX(2px);
	}

	60% {
		transform: translateX(-1px);
	}

	80% {
		transform: translateX(1px);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const S=y},7801:(l,d,f)=>{f.d(d,{A:()=>S});var m=f(9372),v=f.n(m),C=f(935),y=f.n(C)()(v());y.push([l.id,".ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-label{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/label/label.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/label/label.css"],names:[],mappings:"AAKA,aACC,aACD,CAEA,mBACC,YACD,CCNA,aACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-label {
	display: block;
}

.ck.ck-voice-label {
	display: none;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-label {
	font-weight: bold;
}
`],sourceRoot:""}]);const S=y},4962:(l,d,f)=>{f.d(d,{A:()=>S});var m=f(9372),v=f.n(m),C=f(935),y=f.n(C)()(v());y.push([l.id,".ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{display:flex;position:relative}.ck.ck-labeled-field-view .ck.ck-label{display:block;position:absolute}:root{--ck-labeled-field-view-transition:.1s cubic-bezier(0,0,0.24,0.95);--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-spacing-medium);--ck-labeled-field-label-default-position-x:var(--ck-spacing-medium);--ck-labeled-field-label-default-position-y:calc(var(--ck-font-size-base)*0.6);--ck-color-labeled-field-label-background:var(--ck-color-base-background)}.ck.ck-labeled-field-view{border-radius:0}.ck-rounded-corners .ck.ck-labeled-field-view,.ck.ck-labeled-field-view.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{width:100%}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{top:0}[dir=ltr] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{left:0;transform:translate(var(--ck-spacing-medium),-6px) scale(.75);transform-origin:0 0}[dir=rtl] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{right:0;transform:translate(calc(var(--ck-spacing-medium)*-1),-6px) scale(.75);transform-origin:100% 0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:var(--ck-color-labeled-field-label-background);font-weight:400;line-height:normal;max-width:100%;overflow:hidden;padding:0 calc(var(--ck-font-size-tiny)*.5);pointer-events:none;text-overflow:ellipsis;transition:transform var(--ck-labeled-field-view-transition),padding var(--ck-labeled-field-view-transition),background var(--ck-labeled-field-view-transition)}@media (prefers-reduced-motion:reduce){.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transition:none}}.ck.ck-labeled-field-view.ck-error .ck-input:not([readonly])+.ck.ck-label,.ck.ck-labeled-field-view.ck-error>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view .ck-labeled-field-view__status{font-size:var(--ck-font-size-small);margin-top:var(--ck-spacing-small);white-space:normal}.ck.ck-labeled-field-view .ck-labeled-field-view__status.ck-labeled-field-view__status_error{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view.ck-disabled>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-input-disabled-text)}[dir=ltr] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=ltr] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(var(--ck-labeled-field-label-default-position-x),var(--ck-labeled-field-label-default-position-y)) scale(1)}[dir=rtl] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=rtl] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(calc(var(--ck-labeled-field-label-default-position-x)*-1),var(--ck-labeled-field-label-default-position-y)) scale(1)}.ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:transparent;max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width));padding:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck.ck-button{background:transparent}.ck.ck-labeled-field-view.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck-button>.ck-button__label{opacity:0}.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown+.ck-label{max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard))}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/labeledfield/labeledfieldview.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/labeledfield/labeledfieldview.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAMC,mEACC,YAAa,CACb,iBACD,CAEA,uCACC,aAAc,CACd,iBACD,CCND,MACC,kEAAsE,CACtE,gFAAiF,CACjF,oEAAqE,CACrE,8EAAiF,CACjF,yEACD,CAEA,0BCLC,eDmHD,CA9GA,2FCDE,qCD+GF,CA3GC,mEACC,UAwCD,CAtCC,gFACC,KAoCD,CArCA,0FAIE,MAAS,CAGT,6DAA+D,CAF/D,oBAgCF,CArCA,0FAWE,OAAU,CAEV,sEAA0E,CAD1E,uBAyBF,CArCA,gFAkBC,yDAA0D,CAG1D,eAAmB,CADnB,kBAAoB,CAOpB,cAAe,CAFf,eAAgB,CANhB,2CAA8C,CAH9C,mBAAoB,CAQpB,sBAAuB,CAKvB,+JAQD,CAHC,uCAlCD,gFAmCE,eAEF,CADC,CASD,mKACC,gCACD,CAGD,yDACC,mCAAoC,CACpC,kCAAmC,CAInC,kBAKD,CAHC,6FACC,gCACD,CAID,4OAEC,yCACD,CAIA,2XAGE,+HAYF,CAfA,2XAOE,wIAQF,CAfA,uWAaC,sBAAuB,CAFvB,iEAAkE,CAGlE,SACD,CAKA,8FACC,sBACD,CAGA,yIACC,SACD,CAGA,kMACC,8HACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-labeled-field-view {
	& > .ck.ck-labeled-field-view__input-wrapper {
		display: flex;
		position: relative;
	}

	& .ck.ck-label {
		display: block;
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../../../mixins/_rounded.css";

:root {
	--ck-labeled-field-view-transition: .1s cubic-bezier(0, 0, 0.24, 0.95);
	--ck-labeled-field-empty-unfocused-max-width: 100% - 2 * var(--ck-spacing-medium);
	--ck-labeled-field-label-default-position-x: var(--ck-spacing-medium);
	--ck-labeled-field-label-default-position-y: calc(0.6 * var(--ck-font-size-base));
	--ck-color-labeled-field-label-background: var(--ck-color-base-background);
}

.ck.ck-labeled-field-view {
	@mixin ck-rounded-corners;

	& > .ck.ck-labeled-field-view__input-wrapper {
		width: 100%;

		& > .ck.ck-label {
			top: 0px;

			@mixin ck-dir ltr {
				left: 0px;
				transform-origin: 0 0;
				/* By default, display the label scaled down above the field. */
				transform: translate(var(--ck-spacing-medium), -6px) scale(.75);
			}

			@mixin ck-dir rtl {
				right: 0px;
				transform-origin: 100% 0;
				transform: translate(calc(-1 * var(--ck-spacing-medium)), -6px) scale(.75);
			}

			pointer-events: none;

			background: var(--ck-color-labeled-field-label-background);
			padding: 0 calc(.5 * var(--ck-font-size-tiny));
			line-height: initial;
			font-weight: normal;

			/* Prevent overflow when the label is longer than the input */
			text-overflow: ellipsis;
			overflow: hidden;

			max-width: 100%;

			transition:
				transform var(--ck-labeled-field-view-transition),
				padding var(--ck-labeled-field-view-transition),
				background var(--ck-labeled-field-view-transition);

			@media (prefers-reduced-motion: reduce) {
				transition: none;
			}
		}
	}

	&.ck-error {
		& > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
			color: var(--ck-color-base-error);
		}

		& .ck-input:not([readonly]) + .ck.ck-label {
			color: var(--ck-color-base-error);
		}
	}

	& .ck-labeled-field-view__status {
		font-size: var(--ck-font-size-small);
		margin-top: var(--ck-spacing-small);

		/* Let the info wrap to the next line to avoid stretching the layout horizontally.
		The status could be very long. */
		white-space: normal;

		&.ck-labeled-field-view__status_error {
			color: var(--ck-color-base-error);
		}
	}

	/* Disabled fields and fields that have no focus should fade out. */
	&.ck-disabled > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
		color: var(--ck-color-input-disabled-text);
	}

	/* Fields that are disabled or not focused and without a placeholder should have full-sized labels. */
	/* stylelint-disable-next-line no-descending-specificity */
	&.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
		@mixin ck-dir ltr {
			transform: translate(var(--ck-labeled-field-label-default-position-x), var(--ck-labeled-field-label-default-position-y)) scale(1);
		}

		@mixin ck-dir rtl {
			transform: translate(calc(-1 * var(--ck-labeled-field-label-default-position-x)), var(--ck-labeled-field-label-default-position-y)) scale(1);
		}

		/* Compensate for the default translate position. */
		max-width: calc(var(--ck-labeled-field-empty-unfocused-max-width));

		background: transparent;
		padding: 0;
	}

	/*------ DropdownView integration ----------------------------------------------------------------------------------- */

	/* Make sure dropdown' background color in any of dropdown's state does not collide with labeled field. */
	& > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck.ck-button {
		background: transparent;
	}

	/* When the dropdown is "empty", the labeled field label replaces its label. */
	&.ck-labeled-field-view_empty > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck-button > .ck-button__label {
		opacity: 0;
	}

	/* Make sure the label of the empty, unfocused input does not cover the dropdown arrow. */
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown + .ck-label {
		max-width: calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard));
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const S=y},5199:(l,d,f)=>{f.d(d,{A:()=>S});var m=f(9372),v=f.n(m),C=f(935),y=f.n(C)()(v());y.push([l.id,".ck.ck-list{display:flex;flex-direction:column;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-list .ck-list__item,.ck.ck-list .ck-list__separator{display:block}.ck.ck-list .ck-list__item>:focus{position:relative;z-index:var(--ck-z-default)}:root{--ck-list-button-padding:calc(var(--ck-line-height-base)*0.11*var(--ck-font-size-base)) calc(var(--ck-line-height-base)*0.4*var(--ck-font-size-base))}.ck.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list{background:var(--ck-color-list-background);list-style-type:none}.ck.ck-list__item{cursor:default;min-width:12em}.ck.ck-list__item>.ck-button{border-radius:0;min-height:unset;width:100%}[dir=ltr] .ck.ck-list__item>.ck-button{text-align:left}[dir=rtl] .ck.ck-list__item>.ck-button{text-align:right}.ck.ck-list__item>.ck-button{padding:var(--ck-list-button-padding)}.ck.ck-list__item>.ck-button:active{box-shadow:none}.ck.ck-list__item>.ck-button.ck-on{background:var(--ck-color-list-button-on-background);color:var(--ck-color-list-button-on-text)}.ck.ck-list__item>.ck-button.ck-on:active{box-shadow:none}.ck.ck-list__item>.ck-button.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-on-background-focus)}.ck.ck-list__item>.ck-button.ck-on:focus:not(.ck-switchbutton):not(.ck-disabled){border-color:var(--ck-color-base-background)}.ck.ck-list__item>.ck-button:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-list__item>.ck-switchbutton.ck-on{background:var(--ck-color-list-background);color:inherit}.ck.ck-list__item>.ck-switchbutton.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background);color:inherit}.ck-list .ck-list__group{padding-top:var(--ck-spacing-medium);:not(.ck-hidden)~&{border-top:1px solid var(--ck-color-base-border)}}.ck-list .ck-list__group>.ck-label{font-size:11px;font-weight:700;padding:var(--ck-spacing-medium) var(--ck-spacing-medium) 0 var(--ck-spacing-medium)}.ck.ck-list__separator{background:var(--ck-color-base-border);height:1px;width:100%}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/list/list.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/list/list.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,YAGC,YAAa,CACb,qBAAsB,CCFtB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBDaD,CAZC,2DAEC,aACD,CAKA,kCACC,iBAAkB,CAClB,2BACD,CEdD,MACC,qJAGD,CAEA,YCLC,eDUD,CALA,+DCDE,qCDMF,CALA,YAIC,0CAA2C,CAD3C,oBAED,CAEA,kBACC,cAAe,CACf,cA2DD,CAzDC,6BAGC,eAAgB,CAFhB,gBAAiB,CACjB,UAwCD,CA1CA,uCAME,eAoCF,CA1CA,uCAUE,gBAgCF,CA1CA,6BAgBC,qCA0BD,CAxBC,oCACC,eACD,CAEA,mCACC,oDAAqD,CACrD,yCAaD,CAXC,0CACC,eACD,CAEA,2DACC,0DACD,CAEA,iFACC,4CACD,CAGD,qDACC,uDACD,CAMA,yCACC,0CAA2C,CAC3C,aAMD,CAJC,iEACC,uDAAwD,CACxD,aACD,CAKH,yBACC,oCAAqC,CAGrC,mBACC,gDACD,CAOD,CALC,mCACC,cAAe,CACf,eAAiB,CACjB,oFACD,CAGD,uBAGC,sCAAuC,CAFvC,UAAW,CACX,UAED",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-list {
	@mixin ck-unselectable;

	display: flex;
	flex-direction: column;

	& .ck-list__item,
	& .ck-list__separator {
		display: block;
	}

	/* Make sure that whatever child of the list item gets focus, it remains on the
	top. Thanks to that, styles like box-shadow, outline, etc. are not masked by
	adjacent list items. */
	& .ck-list__item > *:focus {
		position: relative;
		z-index: var(--ck-z-default);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_disabled.css";
@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-list-button-padding:
		calc(.11 * var(--ck-line-height-base) * var(--ck-font-size-base))
		calc(.4 * var(--ck-line-height-base) * var(--ck-font-size-base));
}

.ck.ck-list {
	@mixin ck-rounded-corners;

	list-style-type: none;
	background: var(--ck-color-list-background);
}

.ck.ck-list__item {
	cursor: default;
	min-width: 12em;

	& > .ck-button {
		min-height: unset;
		width: 100%;
		border-radius: 0;

		@mixin ck-dir ltr {
			text-align: left;
		}

		@mixin ck-dir rtl {
			text-align: right;
		}

		/* List items should have the same height. Use absolute units to make sure it is so
		   because e.g. different heading styles may have different height
		   https://github.com/ckeditor/ckeditor5-heading/issues/63 */
		padding: var(--ck-list-button-padding);

		&:active {
			box-shadow: none;
		}

		&.ck-on {
			background: var(--ck-color-list-button-on-background);
			color: var(--ck-color-list-button-on-text);

			&:active {
				box-shadow: none;
			}

			&:hover:not(.ck-disabled) {
				background: var(--ck-color-list-button-on-background-focus);
			}

			&:focus:not(.ck-switchbutton):not(.ck-disabled) {
				border-color: var(--ck-color-base-background);
			}
		}

		&:hover:not(.ck-disabled) {
			background: var(--ck-color-list-button-hover-background);
		}
	}

	/* It's unnecessary to change the background/text of a switch toggle; it has different ways
	of conveying its state (like the switcher) */
	& > .ck-switchbutton {
		&.ck-on {
			background: var(--ck-color-list-background);
			color: inherit;

			&:hover:not(.ck-disabled) {
				background: var(--ck-color-list-button-hover-background);
				color: inherit;
			}
		}
	}
}

.ck-list .ck-list__group {
	padding-top: var(--ck-spacing-medium);

	/* The group should have a border when it's not the first item. */
	*:not(.ck-hidden) ~ & {
		border-top: 1px solid var(--ck-color-base-border);
	}

	& > .ck-label {
		font-size: 11px;
		font-weight: bold;
		padding: var(--ck-spacing-medium) var(--ck-spacing-medium) 0 var(--ck-spacing-medium);
	}
}

.ck.ck-list__separator {
	height: 1px;
	width: 100%;
	background: var(--ck-color-base-border);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const S=y},497:(l,d,f)=>{f.d(d,{A:()=>S});var m=f(9372),v=f.n(m),C=f(935),y=f.n(C)()(v());y.push([l.id,".ck.ck-menu-bar{background:var(--ck-color-base-background);border:1px solid var(--ck-color-toolbar-border);display:flex;flex-wrap:wrap;gap:var(--ck-spacing-small);justify-content:flex-start;padding:var(--ck-spacing-small);width:100%}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubar.css"],names:[],mappings:"AAKA,gBAIC,0CAA2C,CAG3C,+CAAgD,CANhD,YAAa,CACb,cAAe,CAIf,2BAA4B,CAH5B,0BAA2B,CAE3B,+BAAgC,CAGhC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-menu-bar {
	display: flex;
	flex-wrap: wrap;
	justify-content: flex-start;
	background: var(--ck-color-base-background);
	padding: var(--ck-spacing-small);
	gap: var(--ck-spacing-small);
	border: 1px solid var(--ck-color-toolbar-border);
	width: 100%;
}
`],sourceRoot:""}]);const S=y},4:(l,d,f)=>{f.d(d,{A:()=>S});var m=f(9372),v=f.n(m),C=f(935),y=f.n(C)()(v());y.push([l.id,".ck.ck-menu-bar__menu{display:block;font-size:inherit;position:relative}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level{max-width:100%}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/menubar/menubarmenu.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenu.css"],names:[],mappings:"AAKA,sBACC,aAAc,CCCd,iBAAkB,CDAlB,iBACD,CCCC,kDACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-menu-bar__menu {
	display: block;
	position: relative;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-menu-bar__menu {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	&.ck-menu-bar__menu_top-level {
		max-width: 100%;
	}
}
`],sourceRoot:""}]);const S=y},3344:(l,d,f)=>{f.d(d,{A:()=>S});var m=f(9372),v=f.n(m),C=f(935),y=f.n(C)()(v());y.push([l.id,".ck.ck-menu-bar__menu>.ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-menu-bar__menu>.ck-menu-bar__menu__button{padding:var(--ck-list-button-padding);width:100%}.ck.ck-menu-bar__menu>.ck-menu-bar__menu__button>.ck-button__label{flex-grow:1;overflow:hidden;text-overflow:ellipsis}.ck.ck-menu-bar__menu>.ck-menu-bar__menu__button.ck-disabled>.ck-button__label{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-menu-bar__menu>.ck-menu-bar__menu__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-menu-bar__menu>.ck-menu-bar__menu__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__button{min-height:unset;padding:var(--ck-spacing-small) var(--ck-spacing-medium)}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__button .ck-button__label{line-height:unset;width:unset}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__button .ck-icon{display:none}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button{border-radius:0}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button:focus{border-color:transparent;box-shadow:none}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button:focus:not(.ck-on){background:var(--ck-color-button-default-hover-background)}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button:not(:has(.ck-button__icon))>.ck-button__label{margin-left:calc(var(--ck-icon-size) - var(--ck-spacing-small))}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{transform:rotate(-90deg)}[dir=rtl] .ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{transform:rotate(90deg)}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button.ck-disabled>.ck-menu-bar__menu__button__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{margin-left:var(--ck-spacing-standard);right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/menubar/menubarmenubutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenubutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AAMC,mFACC,mBAAoB,CACpB,2BACD,CCIA,iDACC,qCAAsC,CACtC,UAuBD,CArBC,mEACC,WAAY,CACZ,eAAgB,CAChB,sBACD,CAEA,+ECdD,kCDgBC,CAGC,qFACC,oCACD,CAIA,qFACC,qCACD,CAOF,6EAEC,gBAAiB,CADjB,wDAgBD,CAbC,+FAEC,iBAAkB,CADlB,WAED,CAEA,mFACC,2BAA4B,CAC5B,4BACD,CAEA,sFACC,YACD,CAMD,mFACC,eAiDD,CA/CC,yFACC,wBAAyB,CACzB,eAKD,CAHC,qGACC,0DACD,CAID,iIACC,+DACD,CAEA,qHACC,mCASD,CAVA,+HAIE,wBAMF,CAVA,+HAQE,uBAEF,CAEA,iICrFD,kCDuFC,CAGC,+HAIC,sCAAuC,CAHvC,gCAID,CAIA,+HACC,+BAAgC,CAGhC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-menu-bar__menu  {
	& > .ck-menu-bar__menu__button > .ck-menu-bar__menu__button__arrow {
		pointer-events: none;
		z-index: var(--ck-z-default);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_disabled.css";
@import "../../mixins/_button.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-menu-bar__menu {
	/*
	 * All menu buttons.
	 */
	& > .ck-menu-bar__menu__button {
		padding: var(--ck-list-button-padding);
		width: 100%;

		& > .ck-button__label {
			flex-grow: 1;
			overflow: hidden;
			text-overflow: ellipsis;
		}

		&.ck-disabled > .ck-button__label {
			@mixin ck-disabled;
		}

		@mixin ck-dir ltr {
			&:not(.ck-button_with-text) {
				padding-left: var(--ck-spacing-small);
			}
		}

		@mixin ck-dir rtl {
			&:not(.ck-button_with-text) {
				padding-right: var(--ck-spacing-small);
			}
		}
	}

	/*
	 * Top-level menu buttons only.
	 */
	&.ck-menu-bar__menu_top-level > .ck-menu-bar__menu__button {
		padding: var(--ck-spacing-small) var(--ck-spacing-medium);
		min-height: unset;

		& .ck-button__label {
			width: unset;
			line-height: unset;
		}

		&.ck-on {
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;
		}

		& .ck-icon {
			display: none;
		}
	}

	/*
	 * Sub-menu buttons.
	 */
	&:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button {
		border-radius: 0;

		&:focus {
			border-color: transparent;
			box-shadow: none;

			&:not(.ck-on) {
				background: var(--ck-color-button-default-hover-background);
			}
		}

		/* Spacing in buttons that miss the icon. */
		&:not(:has(.ck-button__icon)) > .ck-button__label {
			margin-left: calc(var(--ck-icon-size) - var(--ck-spacing-small));
		}

		& > .ck-menu-bar__menu__button__arrow {
			width: var(--ck-dropdown-arrow-size);

			@mixin ck-dir ltr {
				transform: rotate(-90deg);
			}

			@mixin ck-dir rtl {
				transform: rotate(90deg);
			}
		}

		&.ck-disabled > .ck-menu-bar__menu__button__arrow {
			@mixin ck-disabled;
		}

		@mixin ck-dir ltr {
			& > .ck-menu-bar__menu__button__arrow {
				right: var(--ck-spacing-standard);

				/* A space to accommodate the triangle. */
				margin-left: var(--ck-spacing-standard);
			}
		}

		@mixin ck-dir rtl {
			& > .ck-menu-bar__menu__button__arrow {
				left: var(--ck-spacing-standard);

				/* A space to accommodate the triangle. */
				margin-right: var(--ck-spacing-small);
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const S=y},9481:(l,d,f)=>{f.d(d,{A:()=>S});var m=f(9372),v=f.n(m),C=f(935),y=f.n(C)()(v());y.push([l.id,":root{--ck-menu-bar-menu-item-min-width:18em}.ck.ck-menu-bar__menu .ck.ck-menu-bar__menu__item{min-width:var(--ck-menu-bar-menu-item-min-width)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenulistitem.css"],names:[],mappings:"AAKA,MACC,sCACD,CAEA,kDACC,gDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-menu-bar-menu-item-min-width: 18em;
}

.ck.ck-menu-bar__menu .ck.ck-menu-bar__menu__item {
	min-width: var(--ck-menu-bar-menu-item-min-width);
}
`],sourceRoot:""}]);const S=y},977:(l,d,f)=>{f.d(d,{A:()=>S});var m=f(9372),v=f.n(m),C=f(935),y=f.n(C)()(v());y.push([l.id,".ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button{border-radius:0}.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button>.ck-spinner-container,.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button>.ck-spinner-container .ck-spinner{--ck-toolbar-spinner-size:20px}.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button>.ck-spinner-container{margin-left:calc(var(--ck-spacing-small)*-1);margin-right:var(--ck-spacing-small)}.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button:focus{border-color:transparent;box-shadow:none}.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button:focus:not(.ck-on){background:var(--ck-color-button-default-hover-background)}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__panel>ul>.ck-menu-bar__menu__item>.ck-menu-bar__menu__item__button:not(:has(.ck-button__icon))>.ck-button__label{margin-left:calc(var(--ck-icon-size) - var(--ck-spacing-small))}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenulistitembutton.css"],names:[],mappings:"AASC,iEACC,eA0BD,CAxBC,0LAGC,8BACD,CAEA,uFAEC,4CAA+C,CAC/C,oCACD,CAMA,uEACC,wBAAyB,CACzB,eAKD,CAHC,mFACC,0DACD,CASD,uLACC,+DACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-menu-bar__menu {
	/*
	 * List item buttons.
	 */
	& .ck-button.ck-menu-bar__menu__item__button {
		border-radius: 0;

		& > .ck-spinner-container,
		& > .ck-spinner-container .ck-spinner {
			/* These styles correspond to .ck-icon so that the spinner seamlessly replaces the icon. */
			--ck-toolbar-spinner-size: 20px;
		}

		& > .ck-spinner-container {
			/* These margins are the same as for .ck-icon. */
			margin-left: calc(-1 * var(--ck-spacing-small));
			margin-right: var(--ck-spacing-small);
		}

		/*
		 * Hovered items automatically get focused. Default focus styles look odd
		 * while moving across a huge list of items so let's get rid of them
		 */
		&:focus {
			border-color: transparent;
			box-shadow: none;

			&:not(.ck-on) {
				background: var(--ck-color-button-default-hover-background);
			}
		}
	}

	/*
	 * First-level sub-menu item buttons.
	 */
	&.ck-menu-bar__menu_top-level > .ck-menu-bar__menu__panel > ul > .ck-menu-bar__menu__item > .ck-menu-bar__menu__item__button {
		/* Spacing in buttons that miss the icon. */
		&:not(:has(.ck-button__icon)) > .ck-button__label {
			margin-left: calc(var(--ck-icon-size) - var(--ck-spacing-small));
		}
	}
}


`],sourceRoot:""}]);const S=y},9108:(l,d,f)=>{f.d(d,{A:()=>S});var m=f(9372),v=f.n(m),C=f(935),y=f.n(C)()(v());y.push([l.id,":root{--ck-menu-bar-menu-max-width:75vw;--ck-menu-bar-nested-menu-horizontal-offset:5px}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel{max-width:var(--ck-menu-bar-menu-max-width);position:absolute;z-index:var(--ck-z-panel)}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ne,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_nw{bottom:100%}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_se,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_sw{bottom:auto;top:100%}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ne,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_se{left:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_nw,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_sw{right:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_en,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_es{left:calc(100% - var(--ck-menu-bar-nested-menu-horizontal-offset))}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_es{top:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_en{bottom:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_wn,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ws{right:calc(100% - var(--ck-menu-bar-nested-menu-horizontal-offset))}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ws{top:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_wn{bottom:0}:root{--ck-menu-bar-menu-panel-max-width:75vw}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel{border-radius:0}.ck-rounded-corners .ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;box-shadow:var(--ck-drop-shadow),0 0;height:fit-content;max-width:var(--ck-menu-bar-menu-panel-max-width)}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_es,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_se{border-top-left-radius:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_sw,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ws{border-top-right-radius:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_en,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ne{border-bottom-left-radius:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_nw,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_wn{border-bottom-right-radius:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel:focus{outline:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/menubar/menubarmenupanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenupanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MACC,iCAAkC,CAClC,+CACD,CAEA,mDAEC,2CAA4C,CAC5C,iBAAkB,CAFlB,yBAkDD,CA9CC,gLAEC,WACD,CAEA,gLAGC,WAAY,CADZ,QAED,CAEA,gLAEC,MACD,CAEA,gLAEC,OACD,CAEA,gLAEC,kEACD,CAEA,wFACC,KACD,CAEA,wFACC,QACD,CAEA,gLAEC,mEACD,CAEA,wFACC,KACD,CAEA,wFACC,QACD,CCpDD,MACC,uCACD,CAEA,mDCDC,eDmCD,CAlCA,6ICGE,qCD+BF,CAlCA,mDAIC,oDAAqD,CACrD,sDAAuD,CACvD,QAAS,CETT,oCAA8B,CFU9B,kBAAmB,CACnB,iDA0BD,CAvBC,gLAEC,wBACD,CAEA,gLAEC,yBACD,CAEA,gLAEC,2BACD,CAEA,gLAEC,4BACD,CAEA,yDACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-menu-bar-menu-max-width: 75vw;
	--ck-menu-bar-nested-menu-horizontal-offset: 5px;
}

.ck.ck-menu-bar__menu > .ck.ck-menu-bar__menu__panel {
	z-index: var(--ck-z-panel);
	max-width: var(--ck-menu-bar-menu-max-width);
	position: absolute;

	&.ck-menu-bar__menu__panel_position_ne,
	&.ck-menu-bar__menu__panel_position_nw {
		bottom: 100%;
	}

	&.ck-menu-bar__menu__panel_position_se,
	&.ck-menu-bar__menu__panel_position_sw {
		top: 100%;
		bottom: auto;
	}

	&.ck-menu-bar__menu__panel_position_ne,
	&.ck-menu-bar__menu__panel_position_se {
		left: 0px;
	}

	&.ck-menu-bar__menu__panel_position_nw,
	&.ck-menu-bar__menu__panel_position_sw {
		right: 0px;
	}

	&.ck-menu-bar__menu__panel_position_es,
	&.ck-menu-bar__menu__panel_position_en {
		left: calc( 100% - var(--ck-menu-bar-nested-menu-horizontal-offset) );
	}

	&.ck-menu-bar__menu__panel_position_es {
		top: 0px;
	}

	&.ck-menu-bar__menu__panel_position_en {
		bottom: 0px;
	}

	&.ck-menu-bar__menu__panel_position_ws,
	&.ck-menu-bar__menu__panel_position_wn {
		right: calc( 100% - var(--ck-menu-bar-nested-menu-horizontal-offset) );
	}

	&.ck-menu-bar__menu__panel_position_ws {
		top: 0px;
	}

	&.ck-menu-bar__menu__panel_position_wn {
		bottom: 0px;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-menu-bar-menu-panel-max-width: 75vw;
}

.ck.ck-menu-bar__menu > .ck.ck-menu-bar__menu__panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	background: var(--ck-color-dropdown-panel-background);
	border: 1px solid var(--ck-color-dropdown-panel-border);
	bottom: 0;
	height: fit-content;
	max-width: var(--ck-menu-bar-menu-panel-max-width);

	/* Corner border radius consistent with the button. */
	&.ck-menu-bar__menu__panel_position_es,
	&.ck-menu-bar__menu__panel_position_se {
		border-top-left-radius: 0;
	}

	&.ck-menu-bar__menu__panel_position_ws,
	&.ck-menu-bar__menu__panel_position_sw {
		border-top-right-radius: 0;
	}

	&.ck-menu-bar__menu__panel_position_en,
	&.ck-menu-bar__menu__panel_position_ne {
		border-bottom-left-radius: 0;
	}

	&.ck-menu-bar__menu__panel_position_wn,
	&.ck-menu-bar__menu__panel_position_nw {
		border-bottom-right-radius: 0;
	}

	&:focus {
		outline: none;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const S=y},3710:(l,d,f)=>{f.d(d,{A:()=>S});var m=f(9372),v=f.n(m),C=f(935),y=f.n(C)()(v());y.push([l.id,':root{--ck-balloon-panel-arrow-z-index:calc(var(--ck-z-default) - 3)}.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-panel)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}:root{--ck-balloon-border-width:1px;--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px;--ck-balloon-arrow-drop-shadow:0 2px 2px var(--ck-color-shadow-drop)}.ck.ck-balloon-panel{border-radius:0}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{background:var(--ck-color-panel-background);border:var(--ck-balloon-border-width) solid var(--ck-color-panel-border);box-shadow:var(--ck-drop-shadow),0 0;min-height:15px}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{border-style:solid;height:0;width:0}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-width:0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_n]:before{border-color:transparent transparent var(--ck-color-panel-border) transparent;margin-top:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_n]:after{border-color:transparent transparent var(--ck-color-panel-background) transparent;margin-top:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-width:var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_s]:before{border-color:var(--ck-color-panel-border) transparent transparent;filter:drop-shadow(var(--ck-balloon-arrow-drop-shadow));margin-bottom:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_s]:after{border-color:var(--ck-color-panel-background) transparent transparent transparent;margin-bottom:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_e]:after,.ck.ck-balloon-panel[class*=arrow_e]:before{border-width:var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height)}.ck.ck-balloon-panel[class*=arrow_e]:before{border-color:transparent transparent transparent var(--ck-color-panel-border);margin-right:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_e]:after{border-color:transparent transparent transparent var(--ck-color-panel-background);margin-right:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_w]:after,.ck.ck-balloon-panel[class*=arrow_w]:before{border-width:var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0}.ck.ck-balloon-panel[class*=arrow_w]:before{border-color:transparent var(--ck-color-panel-border) transparent transparent;margin-left:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_w]:after{border-color:transparent var(--ck-color-panel-background) transparent transparent;margin-left:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);right:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:before{margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%;top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:before{left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:before{margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);right:calc(var(--ck-balloon-arrow-height)*-1);top:50%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:before{left:calc(var(--ck-balloon-arrow-height)*-1);margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);top:50%}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/balloonpanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonpanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MAEC,8DACD,CAEA,qBACC,YAAa,CACb,iBAAkB,CAElB,yBAyCD,CAtCE,+GAEC,UAAW,CACX,iBACD,CAEA,wDACC,6CACD,CAEA,uDACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAGD,8CACC,aACD,CC9CD,MACC,6BAA8B,CAC9B,6BAA8B,CAC9B,8BAA+B,CAC/B,iCAAkC,CAClC,oEACD,CAEA,qBCLC,eDmMD,CA9LA,iFCDE,qCD+LF,CA9LA,qBAMC,2CAA4C,CAC5C,wEAAyE,CEdzE,oCAA8B,CFW9B,eA0LD,CApLE,+GAIC,kBAAmB,CADnB,QAAS,CADT,OAGD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,kDACD,CAEA,2CACC,iFAAkF,CAClF,gFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,iEAAkE,CAClE,uDAAwD,CACxD,qDACD,CAEA,2CACC,iFAAkF,CAClF,mFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,oDACD,CAEA,2CACC,iFAAkF,CAClF,kFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,mDACD,CAEA,2CACC,iFAAkF,CAClF,iFACD,CAIA,yGAEC,QAAS,CACT,uDAA0D,CAC1D,2CACD,CAIA,2GAEC,+CAAkD,CAClD,2CACD,CAIA,2GAEC,gDAAmD,CACnD,2CACD,CAIA,yGAIC,8CAAiD,CAFjD,QAAS,CACT,uDAED,CAIA,2GAGC,8CAAiD,CADjD,+CAED,CAIA,2GAGC,8CAAiD,CADjD,gDAED,CAIA,6GAIC,8CAAiD,CADjD,uDAA0D,CAD1D,SAGD,CAIA,6GAIC,8CAAiD,CAFjD,QAAS,CACT,sDAED,CAIA,6GAGC,uDAA0D,CAD1D,SAAU,CAEV,2CACD,CAIA,6GAEC,QAAS,CACT,sDAAyD,CACzD,2CACD,CAIA,yGAGC,sDAAyD,CADzD,6CAAgD,CAEhD,OACD,CAIA,yGAEC,4CAA+C,CAC/C,sDAAyD,CACzD,OACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* Make sure the balloon arrow does not float over its children. */
	--ck-balloon-panel-arrow-z-index: calc(var(--ck-z-default) - 3);
}

.ck.ck-balloon-panel {
	display: none;
	position: absolute;

	z-index: var(--ck-z-panel);

	&.ck-balloon-panel_with-arrow {
		&::before,
		&::after {
			content: "";
			position: absolute;
		}

		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&[class*="arrow_n"] {
		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&[class*="arrow_s"] {
		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&.ck-balloon-panel_visible {
		display: block;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-balloon-border-width: 1px;
	--ck-balloon-arrow-offset: 2px;
	--ck-balloon-arrow-height: 10px;
	--ck-balloon-arrow-half-width: 8px;
	--ck-balloon-arrow-drop-shadow: 0 2px 2px var(--ck-color-shadow-drop);
}

.ck.ck-balloon-panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	min-height: 15px;

	background: var(--ck-color-panel-background);
	border: var(--ck-balloon-border-width) solid var(--ck-color-panel-border);

	&.ck-balloon-panel_with-arrow {
		&::before,
		&::after {
			width: 0;
			height: 0;
			border-style: solid;
		}
	}

	&[class*="arrow_n"] {
		&::before,
		&::after {
			border-width: 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width);
		}

		&::before {
			border-color: transparent transparent var(--ck-color-panel-border) transparent;
			margin-top: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent transparent var(--ck-color-panel-background) transparent;
			margin-top: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_s"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width);
		}

		&::before {
			border-color: var(--ck-color-panel-border) transparent transparent;
			filter: drop-shadow(var(--ck-balloon-arrow-drop-shadow));
			margin-bottom: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: var(--ck-color-panel-background) transparent transparent transparent;
			margin-bottom: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_e"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height);
		}

		&::before {
			border-color: transparent transparent transparent var(--ck-color-panel-border);
			margin-right: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent transparent transparent var(--ck-color-panel-background);
			margin-right: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_w"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0;
		}

		&::before {
			border-color: transparent var(--ck-color-panel-border) transparent transparent;
			margin-left: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent var(--ck-color-panel-background) transparent transparent;
			margin-left: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&.ck-balloon-panel_arrow_n {
		&::before,
		&::after {
			left: 50%;
			margin-left: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nw {
		&::before,
		&::after {
			left: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_ne {
		&::before,
		&::after {
			right: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_s {
		&::before,
		&::after {
			left: 50%;
			margin-left: calc(-1 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_sw {
		&::before,
		&::after {
			left: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_se {
		&::before,
		&::after {
			right: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_sme {
		&::before,
		&::after {
			right: 25%;
			margin-right: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_smw {
		&::before,
		&::after {
			left: 25%;
			margin-left: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nme {
		&::before,
		&::after {
			right: 25%;
			margin-right: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nmw {
		&::before,
		&::after {
			left: 25%;
			margin-left: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_e {
		&::before,
		&::after {
			right: calc(-1 * var(--ck-balloon-arrow-height));
			margin-top: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: 50%;
		}
	}

	&.ck-balloon-panel_arrow_w {
		&::before,
		&::after {
			left: calc(-1 * var(--ck-balloon-arrow-height));
			margin-top: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const S=y},991:(l,d,f)=>{f.d(d,{A:()=>S});var m=f(9372),v=f.n(m),C=f(935),y=f.n(C)()(v());y.push([l.id,".ck .ck-balloon-rotator__navigation{align-items:center;display:flex;justify-content:center}.ck .ck-balloon-rotator__content .ck-toolbar{justify-content:center}.ck .ck-balloon-rotator__navigation{background:var(--ck-color-toolbar-background);border-bottom:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation>*{margin-bottom:var(--ck-spacing-small);margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation .ck-balloon-rotator__counter{margin-left:var(--ck-spacing-small);margin-right:var(--ck-spacing-standard)}.ck .ck-balloon-rotator__content .ck.ck-annotation-wrapper{box-shadow:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/balloonrotator.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonrotator.css"],names:[],mappings:"AAKA,oCAEC,kBAAmB,CADnB,YAAa,CAEb,sBACD,CAKA,6CACC,sBACD,CCXA,oCACC,6CAA8C,CAC9C,sDAAuD,CACvD,iCAgBD,CAbC,sCAGC,qCAAsC,CAFtC,oCAAqC,CACrC,kCAED,CAGA,iEAIC,mCAAoC,CAHpC,uCAID,CAMA,2DACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-balloon-rotator__navigation {
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Buttons inside a toolbar should be centered when rotator bar is wider.
 * See: https://github.com/ckeditor/ckeditor5-ui/issues/495
 */
.ck .ck-balloon-rotator__content .ck-toolbar {
	justify-content: center;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-balloon-rotator__navigation {
	background: var(--ck-color-toolbar-background);
	border-bottom: 1px solid var(--ck-color-toolbar-border);
	padding: 0 var(--ck-spacing-small);

	/* Let's keep similar appearance to \`ck-toolbar\`. */
	& > * {
		margin-right: var(--ck-spacing-small);
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	/* Gives counter more breath than buttons. */
	& .ck-balloon-rotator__counter {
		margin-right: var(--ck-spacing-standard);

		/* We need to use smaller margin because of previous button's right margin. */
		margin-left: var(--ck-spacing-small);
	}
}

.ck .ck-balloon-rotator__content {

	/* Disable default annotation shadow inside rotator with fake panels. */
	& .ck.ck-annotation-wrapper {
		box-shadow: none;
	}
}
`],sourceRoot:""}]);const S=y},5380:(l,d,f)=>{f.d(d,{A:()=>S});var m=f(9372),v=f.n(m),C=f(935),y=f.n(C)()(v());y.push([l.id,".ck .ck-fake-panel{position:absolute;z-index:calc(var(--ck-z-panel) - 1)}.ck .ck-fake-panel div{position:absolute}.ck .ck-fake-panel div:first-child{z-index:2}.ck .ck-fake-panel div:nth-child(2){z-index:1}:root{--ck-balloon-fake-panel-offset-horizontal:6px;--ck-balloon-fake-panel-offset-vertical:6px}.ck .ck-fake-panel div{background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border);border-radius:var(--ck-border-radius);box-shadow:var(--ck-drop-shadow),0 0;height:100%;min-height:15px;width:100%}.ck .ck-fake-panel div:first-child{margin-left:var(--ck-balloon-fake-panel-offset-horizontal);margin-top:var(--ck-balloon-fake-panel-offset-vertical)}.ck .ck-fake-panel div:nth-child(2){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*2);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*2)}.ck .ck-fake-panel div:nth-child(3){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*3);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*3)}.ck .ck-balloon-panel_arrow_s+.ck-fake-panel,.ck .ck-balloon-panel_arrow_se+.ck-fake-panel,.ck .ck-balloon-panel_arrow_sw+.ck-fake-panel{--ck-balloon-fake-panel-offset-vertical:-6px}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/fakepanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/fakepanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,mBACC,iBAAkB,CAGlB,mCACD,CAEA,uBACC,iBACD,CAEA,mCACC,SACD,CAEA,oCACC,SACD,CCfA,MACC,6CAA8C,CAC9C,2CACD,CAGA,uBAKC,2CAA4C,CAC5C,6CAA8C,CAC9C,qCAAsC,CCXtC,oCAA8B,CDc9B,WAAY,CAPZ,eAAgB,CAMhB,UAED,CAEA,mCACC,0DAA2D,CAC3D,uDACD,CAEA,oCACC,kEAAqE,CACrE,+DACD,CACA,oCACC,kEAAqE,CACrE,+DACD,CAGA,yIAGC,4CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-fake-panel {
	position: absolute;

	/* Fake panels should be placed under main balloon content. */
	z-index: calc(var(--ck-z-panel) - 1);
}

.ck .ck-fake-panel div {
	position: absolute;
}

.ck .ck-fake-panel div:nth-child( 1 ) {
	z-index: 2;
}

.ck .ck-fake-panel div:nth-child( 2 ) {
	z-index: 1;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_shadow.css";

:root {
	--ck-balloon-fake-panel-offset-horizontal: 6px;
	--ck-balloon-fake-panel-offset-vertical: 6px;
}

/* Let's use \`.ck-balloon-panel\` appearance. See: balloonpanel.css. */
.ck .ck-fake-panel div {
	@mixin ck-drop-shadow;

	min-height: 15px;

	background: var(--ck-color-panel-background);
	border: 1px solid var(--ck-color-panel-border);
	border-radius: var(--ck-border-radius);

	width: 100%;
	height: 100%;
}

.ck .ck-fake-panel div:nth-child( 1 ) {
	margin-left: var(--ck-balloon-fake-panel-offset-horizontal);
	margin-top: var(--ck-balloon-fake-panel-offset-vertical);
}

.ck .ck-fake-panel div:nth-child( 2 ) {
	margin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 2);
	margin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 2);
}
.ck .ck-fake-panel div:nth-child( 3 ) {
	margin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 3);
	margin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 3);
}

/* If balloon is positioned above element, we need to move fake panel to the top. */
.ck .ck-balloon-panel_arrow_s + .ck-fake-panel,
.ck .ck-balloon-panel_arrow_se + .ck-fake-panel,
.ck .ck-balloon-panel_arrow_sw + .ck-fake-panel {
	--ck-balloon-fake-panel-offset-vertical: -6px;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const S=y},8298:(l,d,f)=>{f.d(d,{A:()=>S});var m=f(9372),v=f.n(m),C=f(935),y=f.n(C)()(v());y.push([l.id,".ck.ck-sticky-panel .ck-sticky-panel__content_sticky{position:fixed;top:0;z-index:var(--ck-z-panel)}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky_bottom-limit{position:absolute;top:auto}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{border-top-left-radius:0;border-top-right-radius:0;border-width:0 1px 1px;box-shadow:var(--ck-drop-shadow),0 0}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/stickypanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/stickypanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAMC,qDAEC,cAAe,CACf,KAAM,CAFN,yBAGD,CAEA,kEAEC,iBAAkB,CADlB,QAED,CCPA,qDAIC,wBAAyB,CACzB,yBAA0B,CAF1B,sBAAuB,CCFxB,oCDKA",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-sticky-panel {
	& .ck-sticky-panel__content_sticky {
		z-index: var(--ck-z-panel); /* #315 */
		position: fixed;
		top: 0;
	}

	& .ck-sticky-panel__content_sticky_bottom-limit {
		top: auto;
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_shadow.css";

.ck.ck-sticky-panel {
	& .ck-sticky-panel__content_sticky {
		@mixin ck-drop-shadow;

		border-width: 0 1px 1px;
		border-top-left-radius: 0;
		border-top-right-radius: 0;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const S=y},2722:(l,d,f)=>{f.d(d,{A:()=>S});var m=f(9372),v=f.n(m),C=f(935),y=f.n(C)()(v());y.push([l.id,'.ck-vertical-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck-vertical-form .ck-button:focus:after{display:none}@media screen and (max-width:600px){.ck.ck-responsive-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck.ck-responsive-form .ck-button:focus:after{display:none}}.ck-vertical-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form{padding:var(--ck-spacing-large)}.ck.ck-responsive-form:focus{outline:none}[dir=ltr] .ck.ck-responsive-form>:not(:first-child),[dir=rtl] .ck.ck-responsive-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-responsive-form{padding:0;width:calc(var(--ck-input-width)*.8)}.ck.ck-responsive-form .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck.ck-responsive-form .ck-labeled-field-view .ck-input-number,.ck.ck-responsive-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-responsive-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-responsive-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){border-radius:0;margin-top:var(--ck-spacing-large);padding:var(--ck-spacing-standard)}.ck.ck-responsive-form>.ck-button:last-child:not(:focus),.ck.ck-responsive-form>.ck-button:nth-last-child(2):not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-responsive-form>.ck-button:last-child,[dir=ltr] .ck.ck-responsive-form>.ck-button:nth-last-child(2),[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2){margin-left:0}[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child:last-of-type,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2):last-of-type{border-right:1px solid var(--ck-color-base-border)}}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/responsive-form/responsiveform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/responsive-form/responsiveform.css"],names:[],mappings:"AAQC,mCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,yCACC,YACD,CCdA,oCDoBE,wCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,8CACC,YACD,CC9BF,CCAD,qDACC,kDACD,CAEA,uBACC,+BAoED,CAlEC,6BAEC,YACD,CASC,uGACC,sCACD,CDvBD,oCCMD,uBAqBE,SAAU,CACV,oCA+CF,CA7CE,8CACC,wDAYD,CAVC,4HAEC,WAAY,CACZ,UACD,CAGA,4EACC,kBACD,CAKA,0DACC,kDACD,CAGD,iGAIC,eAAgB,CADhB,kCAAmC,CADnC,kCAmBD,CAfC,yHACC,gDACD,CARD,0OAeE,aAMF,CAJE,+IACC,kDACD,CDrEH",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck-vertical-form .ck-button {
	&::after {
		content: "";
		width: 0;
		position: absolute;
		right: -1px;
		top: -1px;
		bottom: -1px;
		z-index: 1;
	}

	&:focus::after {
		display: none;
	}
}

.ck.ck-responsive-form {
	@mixin ck-media-phone {
		& .ck-button {
			&::after {
				content: "";
				width: 0;
				position: absolute;
				right: -1px;
				top: -1px;
				bottom: -1px;
				z-index: 1;
			}

			&:focus::after {
				display: none;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck-vertical-form > .ck-button:nth-last-child(2)::after {
	border-right: 1px solid var(--ck-color-base-border);
}

.ck.ck-responsive-form {
	padding: var(--ck-spacing-large);

	&:focus {
		/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */
		outline: none;
	}

	@mixin ck-dir ltr {
		& > :not(:first-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& > :not(:last-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-media-phone {
		padding: 0;
		width: calc(.8 * var(--ck-input-width));

		& .ck-labeled-field-view {
			margin: var(--ck-spacing-large) var(--ck-spacing-large) 0;

			& .ck-input-text,
			& .ck-input-number {
				min-width: 0;
				width: 100%;
			}

			/* Let the long error messages wrap in the narrow form. */
			& .ck-labeled-field-view__error {
				white-space: normal;
			}
		}

		/* Styles for two last buttons in the form (save&cancel, edit&unlink, etc.). */
		& > .ck-button:nth-last-child(2) {
			&::after {
				border-right: 1px solid var(--ck-color-base-border);
			}
		}

		& > .ck-button:nth-last-child(1),
		& > .ck-button:nth-last-child(2) {
			padding: var(--ck-spacing-standard);
			margin-top: var(--ck-spacing-large);
			border-radius: 0;

			&:not(:focus) {
				border-top: 1px solid var(--ck-color-base-border);
			}

			@mixin ck-dir ltr {
				margin-left: 0;
			}

			@mixin ck-dir rtl {
				margin-left: 0;

				&:last-of-type {
					border-right: 1px solid var(--ck-color-base-border);
				}
			}
		}
	}
}
`],sourceRoot:""}]);const S=y},8107:(l,d,f)=>{f.d(d,{A:()=>S});var m=f(9372),v=f.n(m),C=f(935),y=f.n(C)()(v());y.push([l.id,".ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{position:absolute;top:50%;transform:translateY(-50%)}[dir=ltr] .ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{left:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{right:var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view .ck-search__reset{position:absolute;top:50%;transform:translateY(-50%)}.ck.ck-search>.ck-search__results>.ck-search__info>span:first-child{display:block}.ck.ck-search>.ck-search__results>.ck-search__info:not(.ck-hidden)~*{display:none}:root{--ck-search-field-view-horizontal-spacing:calc(var(--ck-icon-size) + var(--ck-spacing-medium))}.ck.ck-search>.ck-labeled-field-view .ck-input{width:100%}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon{--ck-labeled-field-label-default-position-x:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon>.ck-labeled-field-view__input-wrapper>.ck-icon{opacity:.5;pointer-events:none}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input{width:100%}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input,[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input:not(.ck-input-text_empty){padding-left:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset{--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset.ck-labeled-field-view_empty{--ck-labeled-field-empty-unfocused-max-width:100% - var(--ck-search-field-view-horizontal-spacing) - var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{background:none;min-height:auto;min-width:auto;opacity:.5;padding:0}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{right:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{left:var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset:hover{opacity:1}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input{width:100%}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input:not(.ck-input-text_empty),[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input{padding-right:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-search__results{min-width:100%}.ck.ck-search>.ck-search__results>.ck-search__info{padding:var(--ck-spacing-medium) var(--ck-spacing-large);width:100%}.ck.ck-search>.ck-search__results>.ck-search__info *{white-space:normal}.ck.ck-search>.ck-search__results>.ck-search__info>span:first-child{font-weight:700}.ck.ck-search>.ck-search__results>.ck-search__info>span:last-child{margin-top:var(--ck-spacing-medium)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/search/search.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/search/search.css"],names:[],mappings:"AASE,oFACC,iBAAkB,CAClB,OAAQ,CACR,0BASD,CAZA,8FAME,6BAMF,CAZA,8FAUE,8BAEF,CAEA,uDACC,iBAAkB,CAClB,OAAQ,CACR,0BACD,CAKC,oEACC,aACD,CAGA,qEACC,YACD,CChCH,MACC,8FACD,CAIE,+CACC,UACD,CAEA,gEACC,0FAoBD,CAlBC,+GACC,UAAW,CACX,mBACD,CAEA,0EACC,UAWD,CAJE,kMACC,2DACD,CAKH,iEACC,sGAwCD,CAtCC,6FACC,6HACD,CAEA,mFAIC,eAAgB,CAFhB,eAAgB,CADhB,cAAe,CAIf,UAAW,CACX,SAaD,CAnBA,6FASE,8BAUF,CAnBA,6FAaE,6BAMF,CAHC,yFACC,SACD,CAGD,2EACC,UAWD,CAZA,oMAUE,4DAEF,CAIF,kCACC,cAkBD,CAhBC,mDAEC,wDAAyD,CADzD,UAcD,CAXC,qDACC,kBACD,CAEA,oEACC,eACD,CAEA,mEACC,mCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-search {
	& > .ck-labeled-field-view {
		& > .ck-labeled-field-view__input-wrapper > .ck-icon {
			position: absolute;
			top: 50%;
			transform: translateY(-50%);

			@mixin ck-dir ltr {
				left: var(--ck-spacing-medium);
			}

			@mixin ck-dir rtl {
				right: var(--ck-spacing-medium);
			}
		}

		& .ck-search__reset {
			position: absolute;
			top: 50%;
			transform: translateY(-50%);
		}
	}

	& > .ck-search__results {
		& > .ck-search__info {
			& > span:first-child {
				display: block;
			}

			/* Hide the filtered view when nothing was found */
			&:not(.ck-hidden) ~ * {
				display: none;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-search-field-view-horizontal-spacing: calc(var(--ck-icon-size) + var(--ck-spacing-medium));
}

.ck.ck-search {
	& > .ck-labeled-field-view {
		& .ck-input {
			width: 100%;
		}

		&.ck-search__query_with-icon {
			--ck-labeled-field-label-default-position-x: var(--ck-search-field-view-horizontal-spacing);

			& > .ck-labeled-field-view__input-wrapper > .ck-icon {
				opacity: .5;
				pointer-events: none;
			}

			& .ck-input {
				width: 100%;

				@mixin ck-dir ltr {
					padding-left: var(--ck-search-field-view-horizontal-spacing);
				}

				@mixin ck-dir rtl {
					&:not(.ck-input-text_empty) {
						padding-left: var(--ck-search-field-view-horizontal-spacing);
					}
				}
			}
		}

		&.ck-search__query_with-reset {
			--ck-labeled-field-empty-unfocused-max-width: 100% - 2 * var(--ck-search-field-view-horizontal-spacing);

			&.ck-labeled-field-view_empty {
				--ck-labeled-field-empty-unfocused-max-width: 100% - var(--ck-search-field-view-horizontal-spacing) - var(--ck-spacing-medium);
			}

			& .ck-search__reset {
				min-width: auto;
				min-height: auto;

				background: none;
				opacity: .5;
				padding: 0;

				@mixin ck-dir ltr {
					right: var(--ck-spacing-medium);
				}

				@mixin ck-dir rtl {
					left: var(--ck-spacing-medium);
				}

				&:hover {
					opacity: 1;
				}
			}

			& .ck-input {
				width: 100%;

				@mixin ck-dir ltr {
					&:not(.ck-input-text_empty) {
						padding-right: var(--ck-search-field-view-horizontal-spacing);
					}
				}

				@mixin ck-dir rtl {
					padding-right: var(--ck-search-field-view-horizontal-spacing);
				}
			}
		}
	}

	& > .ck-search__results {
		min-width: 100%;

		& > .ck-search__info {
			width: 100%;
			padding: var(--ck-spacing-medium) var(--ck-spacing-large);

			& * {
				white-space: normal;
			}

			& > span:first-child {
				font-weight: bold;
			}

			& > span:last-child {
				margin-top: var(--ck-spacing-medium);
			}
		}
	}
}

`],sourceRoot:""}]);const S=y},109:(l,d,f)=>{f.d(d,{A:()=>S});var m=f(9372),v=f.n(m),C=f(935),y=f.n(C)()(v());y.push([l.id,".ck.ck-spinner-container{display:block;position:relative}.ck.ck-spinner{left:0;margin:0 auto;position:absolute;right:0;top:50%;transform:translateY(-50%);z-index:1}:root{--ck-toolbar-spinner-size:18px}.ck.ck-spinner-container{animation:rotate 1.5s linear infinite;height:var(--ck-toolbar-spinner-size);width:var(--ck-toolbar-spinner-size)}@media (prefers-reduced-motion:reduce){.ck.ck-spinner-container{animation-duration:3s}}.ck.ck-spinner{border:2px solid var(--ck-color-text);border-radius:50%;border-top:2px solid transparent;height:var(--ck-toolbar-spinner-size);width:var(--ck-toolbar-spinner-size)}@keyframes rotate{to{transform:rotate(1turn)}}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/spinner/spinner.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/spinner/spinner.css"],names:[],mappings:"AASA,yBACC,aAAc,CACd,iBACD,CAEA,eAGC,MAAO,CAEP,aAAc,CAJd,iBAAkB,CAGlB,OAAQ,CAFR,OAAQ,CAIR,0BAA2B,CAC3B,SACD,CCjBA,MACC,8BACD,CAEA,yBAGC,qCAAsC,CADtC,qCAAsC,CADtC,oCAOD,CAHC,uCALD,yBAME,qBAEF,CADC,CAGD,eAKC,qCAA6B,CAF7B,iBAAkB,CAElB,gCAA6B,CAH7B,qCAAsC,CADtC,oCAKD,CAEA,kBACC,GACC,uBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-toolbar-spinner-size: 18px;
}

.ck.ck-spinner-container {
	display: block;
	position: relative;
}

.ck.ck-spinner {
	position: absolute;
	top: 50%;
	left: 0;
	right: 0;
	margin: 0 auto;
	transform: translateY(-50%);
	z-index: 1;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-toolbar-spinner-size: 18px;
}

.ck.ck-spinner-container {
	width: var(--ck-toolbar-spinner-size);
	height: var(--ck-toolbar-spinner-size);
	animation: 1.5s infinite rotate linear;

	@media (prefers-reduced-motion: reduce) {
		animation-duration: 3s;
	}
}

.ck.ck-spinner {
	width: var(--ck-toolbar-spinner-size);
	height: var(--ck-toolbar-spinner-size);
	border-radius: 50%;
	border: 2px solid var(--ck-color-text);
	border-top-color: transparent;
}

@keyframes rotate {
	to {
		transform: rotate(360deg)
	}
}
`],sourceRoot:""}]);const S=y},1671:(l,d,f)=>{f.d(d,{A:()=>S});var m=f(9372),v=f.n(m),C=f(935),y=f.n(C)()(v());y.push([l.id,".ck-textarea{overflow-x:hidden}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/textarea/textarea.css"],names:[],mappings:"AASA,aACC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/*
 * This fixes a problem in Firefox when the initial height of the complement does not match the number of rows.
 * This bug is especially visible when rows=1.
 */
.ck-textarea {
	overflow-x: hidden
}
`],sourceRoot:""}]);const S=y},2710:(l,d,f)=>{f.d(d,{A:()=>S});var m=f(9372),v=f.n(m),C=f(935),y=f.n(C)()(v());y.push([l.id,".ck.ck-block-toolbar-button{position:absolute;z-index:var(--ck-z-default)}:root{--ck-color-block-toolbar-button:var(--ck-color-text);--ck-block-toolbar-button-size:var(--ck-font-size-normal)}.ck.ck-block-toolbar-button{color:var(--ck-color-block-toolbar-button);font-size:var(--ck-block-toolbar-size)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/toolbar/blocktoolbar.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/blocktoolbar.css"],names:[],mappings:"AAKA,4BACC,iBAAkB,CAClB,2BACD,CCHA,MACC,oDAAqD,CACrD,yDACD,CAEA,4BACC,0CAA2C,CAC3C,sCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-block-toolbar-button {
	position: absolute;
	z-index: var(--ck-z-default);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-block-toolbar-button: var(--ck-color-text);
	--ck-block-toolbar-button-size: var(--ck-font-size-normal);
}

.ck.ck-block-toolbar-button {
	color: var(--ck-color-block-toolbar-button);
	font-size: var(--ck-block-toolbar-size);
}
`],sourceRoot:""}]);const S=y},9677:(l,d,f)=>{f.d(d,{A:()=>S});var m=f(9372),v=f.n(m),C=f(935),y=f.n(C)()(v());y.push([l.id,".ck.ck-toolbar{align-items:center;display:flex;flex-flow:row nowrap;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-toolbar>.ck-toolbar__items{align-items:center;display:flex;flex-flow:row wrap;flex-grow:1}.ck.ck-toolbar .ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar .ck.ck-toolbar__separator:first-child,.ck.ck-toolbar .ck.ck-toolbar__separator:last-child{display:none}.ck.ck-toolbar .ck-toolbar__line-break{flex-basis:100%}.ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck-dropdown__button .ck-dropdown__arrow{display:none}.ck.ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar{background:var(--ck-color-toolbar-background);border:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck.ck-toolbar .ck.ck-toolbar__separator{align-self:stretch;background:var(--ck-color-toolbar-border);margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);min-width:1px;width:1px}.ck.ck-toolbar .ck-toolbar__line-break{height:0}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break){margin-right:var(--ck-spacing-small)}.ck.ck-toolbar>.ck-toolbar__items:empty+.ck.ck-toolbar__separator{display:none}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break),.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items>.ck{border-radius:0;margin:0;width:100%}.ck.ck-toolbar.ck-toolbar_compact{padding:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>*{margin:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>:not(:first-child):not(:last-child){border-radius:0}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck.ck-button.ck-dropdown__button{padding-left:var(--ck-spacing-tiny)}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-dropdown__panel{min-width:auto}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-button>.ck-button__label{max-width:7em;width:auto}.ck.ck-toolbar:focus{outline:none}.ck-toolbar-container .ck.ck-toolbar{border:0}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck{margin-right:0}.ck.ck-toolbar[dir=rtl]:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-left:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:first-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=rtl]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__separator,[dir=rtl] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-right:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:first-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=ltr]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=ltr]>.ck.ck-toolbar__separator,[dir=ltr] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=ltr] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-right:var(--ck-spacing-small)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/toolbar/toolbar.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/toolbar.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,eAKC,kBAAmB,CAFnB,YAAa,CACb,oBAAqB,CCFrB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBD6CD,CA3CC,kCAGC,kBAAmB,CAFnB,YAAa,CACb,kBAAmB,CAEnB,WAED,CAEA,yCACC,oBAWD,CAJC,yGAEC,YACD,CAGD,uCACC,eACD,CAEA,sDACC,gBACD,CAEA,sDACC,qBACD,CAEA,sDACC,gBACD,CAGC,yFACC,YACD,CE/CF,eCGC,eDwGD,CA3GA,qECOE,qCDoGF,CA3GA,eAGC,6CAA8C,CAE9C,+CAAgD,CADhD,iCAuGD,CApGC,yCACC,kBAAmB,CAGnB,yCAA0C,CAO1C,qCAAsC,CADtC,kCAAmC,CAPnC,aAAc,CADd,SAUD,CAEA,uCACC,QACD,CAGC,gEAEC,oCACD,CAIA,kEACC,YACD,CAGD,gHAIC,qCAAsC,CADtC,kCAED,CAEA,mCAEC,SAaD,CAVC,0DAQC,eAAgB,CAHhB,QAAS,CAHT,UAOD,CAGD,kCAEC,SAWD,CATC,uDAEC,QAMD,CAHC,yFACC,eACD,CASD,kFACC,mCACD,CAMA,wEACC,cACD,CAEA,iFACC,aAAc,CACd,UACD,CAGD,qBACC,YACD,CAtGD,qCAyGE,QAEF,CAYC,+FACC,cACD,CAEA,iJAEC,mCACD,CAEA,qHACC,aACD,CAIC,6JAEC,2BAA4B,CAD5B,wBAED,CAGA,2JAEC,4BAA6B,CAD7B,yBAED,CASD,8RACC,mCACD,CAWA,qHACC,cACD,CAIC,6JAEC,4BAA6B,CAD7B,yBAED,CAGA,2JAEC,2BAA4B,CAD5B,wBAED,CASD,8RACC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-toolbar {
	@mixin ck-unselectable;

	display: flex;
	flex-flow: row nowrap;
	align-items: center;

	& > .ck-toolbar__items {
		display: flex;
		flex-flow: row wrap;
		align-items: center;
		flex-grow: 1;

	}

	& .ck.ck-toolbar__separator {
		display: inline-block;

		/*
		 * A leading or trailing separator makes no sense (separates from nothing on one side).
		 * For instance, it can happen when toolbar items (also separators) are getting grouped one by one and
		 * moved to another toolbar in the dropdown.
		 */
		&:first-child,
		&:last-child {
			display: none;
		}
	}

	& .ck-toolbar__line-break {
		flex-basis: 100%;
	}

	&.ck-toolbar_grouping > .ck-toolbar__items {
		flex-wrap: nowrap;
	}

	&.ck-toolbar_vertical > .ck-toolbar__items {
		flex-direction: column;
	}

	&.ck-toolbar_floating > .ck-toolbar__items {
		flex-wrap: nowrap;
	}

	& > .ck.ck-toolbar__grouped-dropdown {
		& > .ck-dropdown__button .ck-dropdown__arrow {
			display: none;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-toolbar {
	@mixin ck-rounded-corners;

	background: var(--ck-color-toolbar-background);
	padding: 0 var(--ck-spacing-small);
	border: 1px solid var(--ck-color-toolbar-border);

	& .ck.ck-toolbar__separator {
		align-self: stretch;
		width: 1px;
		min-width: 1px;
		background: var(--ck-color-toolbar-border);

		/*
		 * These margins make the separators look better in balloon toolbars (when aligned with the "tip").
		 * See https://github.com/ckeditor/ckeditor5/issues/7493.
		 */
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	& .ck-toolbar__line-break {
		height: 0;
	}

	& > .ck-toolbar__items {
		& > *:not(.ck-toolbar__line-break) {
			/* (#11) Separate toolbar items. */
			margin-right: var(--ck-spacing-small);
		}

		/* Don't display a separator after an empty items container, for instance,
		when all items were grouped */
		&:empty + .ck.ck-toolbar__separator {
			display: none;
		}
	}

	& > .ck-toolbar__items > *:not(.ck-toolbar__line-break),
	& > .ck.ck-toolbar__grouped-dropdown {
		/* Make sure items wrapped to the next line have v-spacing */
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	&.ck-toolbar_vertical {
		/* Items in a vertical toolbar span the entire width. */
		padding: 0;

		/* Specificity matters here. See https://github.com/ckeditor/ckeditor5-theme-lark/issues/168. */
		& > .ck-toolbar__items > .ck {
			/* Items in a vertical toolbar should span the horizontal space. */
			width: 100%;

			/* Items in a vertical toolbar should have no margin. */
			margin: 0;

			/* Items in a vertical toolbar span the entire width so rounded corners are pointless. */
			border-radius: 0;
		}
	}

	&.ck-toolbar_compact {
		/* No spacing around items. */
		padding: 0;

		& > .ck-toolbar__items > * {
			/* Compact toolbar items have no spacing between them. */
			margin: 0;

			/* "Middle" children should have no rounded corners. */
			&:not(:first-child):not(:last-child) {
				border-radius: 0;
			}
		}
	}

	& > .ck.ck-toolbar__grouped-dropdown {
		/*
		 * Dropdown button has asymmetric padding to fit the arrow.
		 * This button has no arrow so let's revert that padding back to normal.
		 */
		& > .ck.ck-button.ck-dropdown__button {
			padding-left: var(--ck-spacing-tiny);
		}
	}

	/* A drop-down containing the nested toolbar with configured items. */
	& .ck-toolbar__nested-toolbar-dropdown {
		/* Prevent empty space in the panel when the dropdown label is visible and long but the toolbar has few items. */
		& > .ck-dropdown__panel {
			min-width: auto;
		}

		& > .ck-button > .ck-button__label {
			max-width: 7em;
			width: auto;
		}
	}

	&:focus {
		outline: none;
	}

	@nest .ck-toolbar-container & {
		border: 0;
	}
}

/* stylelint-disable */

/*
 * Styles for RTL toolbars.
 *
 * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"
 * because its parent is not controlled by the editor framework.
 */
[dir="rtl"] .ck.ck-toolbar,
.ck.ck-toolbar[dir="rtl"] {
	& > .ck-toolbar__items > .ck {
		margin-right: 0;
	}

	&:not(.ck-toolbar_compact) > .ck-toolbar__items > .ck {
		/* (#11) Separate toolbar items. */
		margin-left: var(--ck-spacing-small);
	}

	& > .ck-toolbar__items > .ck:last-child {
		margin-left: 0;
	}

	&.ck-toolbar_compact > .ck-toolbar__items > .ck {
		/* No rounded corners on the right side of the first child. */
		&:first-child {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}

		/* No rounded corners on the left side of the last child. */
		&:last-child {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}
	}

	/* Separate the the separator form the grouping dropdown when some items are grouped. */
	& > .ck.ck-toolbar__separator {
		margin-left: var(--ck-spacing-small);
	}

	/* Some spacing between the items and the separator before the grouped items dropdown. */
	&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {
		margin-left: var(--ck-spacing-small);
	}
}

/*
 * Styles for LTR toolbars.
 *
 * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"
 * because its parent is not controlled by the editor framework.
 */
[dir="ltr"] .ck.ck-toolbar,
.ck.ck-toolbar[dir="ltr"] {
	& > .ck-toolbar__items > .ck:last-child {
		margin-right: 0;
	}

	&.ck-toolbar_compact > .ck-toolbar__items > .ck {
		/* No rounded corners on the right side of the first child. */
		&:first-child {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}

		/* No rounded corners on the left side of the last child. */
		&:last-child {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}
	}

	/* Separate the the separator form the grouping dropdown when some items are grouped. */
	& > .ck.ck-toolbar__separator {
		margin-right: var(--ck-spacing-small);
	}

	/* Some spacing between the items and the separator before the grouped items dropdown. */
	&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {
		margin-right: var(--ck-spacing-small);
	}
}

/* stylelint-enable */
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const S=y},9205:(l,d,f)=>{f.d(d,{A:()=>S});var m=f(9372),v=f.n(m),C=f(935),y=f.n(C)()(v());y.push([l.id,".ck.ck-balloon-panel.ck-tooltip{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;z-index:calc(var(--ck-z-dialog) + 100);--ck-balloon-border-width:0px;--ck-balloon-arrow-offset:0px;--ck-balloon-arrow-half-width:4px;--ck-balloon-arrow-height:4px;--ck-tooltip-text-padding:4px;--ck-color-panel-background:var(--ck-color-tooltip-background);padding:0 var(--ck-spacing-medium)}.ck.ck-balloon-panel.ck-tooltip .ck-tooltip__text{color:var(--ck-color-tooltip-text);font-size:.9em;line-height:1.5}.ck.ck-balloon-panel.ck-tooltip.ck-tooltip_multi-line .ck-tooltip__text{display:inline-block;max-width:200px;padding:var(--ck-tooltip-text-padding) 0;white-space:break-spaces}.ck.ck-balloon-panel.ck-tooltip{box-shadow:none}.ck.ck-balloon-panel.ck-tooltip:before{display:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/tooltip/tooltip.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/tooltip/tooltip.css"],names:[],mappings:"AAOA,gCCEC,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBAAgB,CDFhB,sCAAyC,CEFzC,6BAA8B,CAC9B,6BAA8B,CAC9B,iCAAkC,CAClC,6BAA8B,CAC9B,6BAA8B,CAC9B,8DAA+D,CAE/D,kCFJD,CEMC,kDAGC,kCAAmC,CAFnC,cAAe,CACf,eAED,CAEA,wEAEC,oBAAqB,CAErB,eAAgB,CADhB,wCAAyC,CAFzC,wBAID,CArBD,gCAwBC,eAMD,CAHC,uCACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-balloon-panel.ck-tooltip {
	@mixin ck-unselectable;

	z-index: calc( var(--ck-z-dialog) + 100 );
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

.ck.ck-balloon-panel.ck-tooltip {
	--ck-balloon-border-width: 0px;
	--ck-balloon-arrow-offset: 0px;
	--ck-balloon-arrow-half-width: 4px;
	--ck-balloon-arrow-height: 4px;
	--ck-tooltip-text-padding: 4px;
	--ck-color-panel-background: var(--ck-color-tooltip-background);

	padding: 0 var(--ck-spacing-medium);

	& .ck-tooltip__text {
		font-size: .9em;
		line-height: 1.5;
		color: var(--ck-color-tooltip-text);
	}

	&.ck-tooltip_multi-line .ck-tooltip__text {
		white-space: break-spaces;
		display: inline-block;
		padding: var(--ck-tooltip-text-padding) 0;
		max-width: 200px;
	}

	/* Reset balloon panel styles */
	box-shadow: none;

	/* Hide the default shadow of the .ck-balloon-panel tip */
	&::before {
		display: none;
	}
}
`],sourceRoot:""}]);const S=y},7676:(l,d,f)=>{f.d(d,{A:()=>S});var m=f(9372),v=f.n(m),C=f(935),y=f.n(C)()(v());y.push([l.id,".ck-hidden{display:none!important}:root{--ck-z-default:1;--ck-z-panel:calc(var(--ck-z-default) + 999);--ck-z-dialog:9999}.ck-transitions-disabled,.ck-transitions-disabled *{transition:none!important}:root{--ck-powered-by-line-height:10px;--ck-powered-by-padding-vertical:2px;--ck-powered-by-padding-horizontal:4px;--ck-powered-by-text-color:#4f4f4f;--ck-powered-by-border-radius:var(--ck-border-radius);--ck-powered-by-background:#fff;--ck-powered-by-border-color:var(--ck-color-focus-border)}.ck.ck-balloon-panel.ck-powered-by-balloon{--ck-border-radius:var(--ck-powered-by-border-radius);background:var(--ck-powered-by-background);box-shadow:none;min-height:unset;z-index:calc(var(--ck-z-panel) - 1)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by{line-height:var(--ck-powered-by-line-height)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by a{align-items:center;cursor:pointer;display:flex;filter:grayscale(80%);line-height:var(--ck-powered-by-line-height);opacity:.66;padding:var(--ck-powered-by-padding-vertical) var(--ck-powered-by-padding-horizontal)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-powered-by__label{color:var(--ck-powered-by-text-color);cursor:pointer;font-size:7.5px;font-weight:700;letter-spacing:-.2px;line-height:normal;margin-right:4px;padding-left:2px;text-transform:uppercase}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-icon{cursor:pointer;display:block}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by:hover a{filter:grayscale(0);opacity:1}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_inside]{border-color:transparent}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_border]{border:var(--ck-focus-ring);border-color:var(--ck-powered-by-border-color)}:root{--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#ccced1;--ck-color-base-action:#53a336;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#2977ff;--ck-color-base-active-focus:#0d65ff;--ck-color-base-error:#db3700;--ck-color-focus-border-coordinates:218,81.8%,56.9%;--ck-color-focus-border:hsl(var(--ck-color-focus-border-coordinates));--ck-color-focus-outer-shadow:#cae1fc;--ck-color-focus-disabled-shadow:rgba(119,186,248,.3);--ck-color-focus-error-shadow:rgba(255,64,31,.3);--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:rgba(0,0,0,.15);--ck-color-shadow-drop-active:rgba(0,0,0,.2);--ck-color-shadow-inner:rgba(0,0,0,.1);--ck-color-button-default-background:transparent;--ck-color-button-default-hover-background:#f0f0f0;--ck-color-button-default-active-background:#f0f0f0;--ck-color-button-default-disabled-background:transparent;--ck-color-button-on-background:#f0f7ff;--ck-color-button-on-hover-background:#dbecff;--ck-color-button-on-active-background:#dbecff;--ck-color-button-on-disabled-background:#f0f2f4;--ck-color-button-on-color:#2977ff;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-hover-background:#4d9d30;--ck-color-button-action-active-background:#4d9d30;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-button-save:#008a00;--ck-color-button-cancel:#db3700;--ck-color-switch-button-off-background:#939393;--ck-color-switch-button-off-hover-background:#7d7d7d;--ck-color-switch-button-on-background:var(--ck-color-button-action-background);--ck-color-switch-button-on-hover-background:#4d9d30;--ck-color-switch-button-inner-background:var(--ck-color-base-background);--ck-color-switch-button-inner-shadow:rgba(0,0,0,.1);--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-dialog-background:var(--ck-custom-background);--ck-color-dialog-form-header-border:var(--ck-custom-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:var(--ck-color-base-border);--ck-color-input-error-border:var(--ck-color-base-error);--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:var(--ck-color-base-border);--ck-color-input-disabled-text:#757575;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-button-hover-background:var(--ck-color-button-default-hover-background);--ck-color-list-button-on-background:var(--ck-color-button-on-color);--ck-color-list-button-on-background-focus:var(--ck-color-button-on-color);--ck-color-list-button-on-text:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-background);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#707070;--ck-color-upload-bar-background:#6cb5f9;--ck-color-link-default:#0000f0;--ck-color-link-selected-background:rgba(31,176,255,.1);--ck-color-link-fake-selection:rgba(31,176,255,.3);--ck-color-highlight-background:#ff0;--ck-color-light-red:#fcc;--ck-disabled-opacity:.5;--ck-focus-outer-shadow-geometry:0 0 0 3px;--ck-focus-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);--ck-focus-disabled-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);--ck-focus-error-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border);--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em;--ck-ui-component-min-height:2.3em}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{background:transparent;border:0;box-sizing:border-box;height:auto;margin:0;padding:0;position:static;text-decoration:none;transition:none;vertical-align:middle;width:auto;word-wrap:break-word}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset_all{border-collapse:collapse;color:var(--ck-color-text);cursor:auto;float:none;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);text-align:left;white-space:nowrap}.ck-reset_all .ck-rtl :not(.ck-reset_all-excluded *){text-align:right}.ck-reset_all iframe:not(.ck-reset_all-excluded *){vertical-align:inherit}.ck-reset_all textarea:not(.ck-reset_all-excluded *){white-space:pre-wrap}.ck-reset_all input[type=password]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text]:not(.ck-reset_all-excluded *),.ck-reset_all textarea:not(.ck-reset_all-excluded *){cursor:text}.ck-reset_all input[type=password][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all textarea[disabled]:not(.ck-reset_all-excluded *){cursor:default}.ck-reset_all fieldset:not(.ck-reset_all-excluded *){border:2px groove #dfdee3;padding:10px}.ck-reset_all button:not(.ck-reset_all-excluded *)::-moz-focus-inner{border:0;padding:0}.ck[dir=rtl],.ck[dir=rtl] .ck{text-align:right}:root{--ck-border-radius:2px;--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-drop-shadow-active:0 3px 6px 1px var(--ck-color-shadow-drop-active);--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit)*1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit)*0.8);--ck-spacing-small:calc(var(--ck-spacing-unit)*0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit)*0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit)*0.16)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/globals/_hidden.css","webpack://./../ckeditor5-ui/theme/globals/_zindex.css","webpack://./../ckeditor5-ui/theme/globals/_transition.css","webpack://./../ckeditor5-ui/theme/globals/_poweredby.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_colors.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_disabled.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_focus.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_fonts.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_reset.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_spacing.css"],names:[],mappings:"AAQA,WAGC,sBACD,CCPA,MACC,gBAAiB,CACjB,4CAA+C,CAC/C,kBACD,CCDA,oDAEC,yBACD,CCNA,MACC,gCAAiC,CACjC,oCAAqC,CACrC,sCAAuC,CACvC,kCAA2C,CAC3C,qDAAsD,CACtD,+BAA4C,CAC5C,yDACD,CAEA,2CACC,qDAAsD,CAGtD,0CAA2C,CAD3C,eAAgB,CAEhB,gBAAiB,CACjB,mCAiDD,CA/CC,6DACC,4CAoCD,CAlCC,+DAGC,kBAAmB,CAFnB,cAAe,CACf,YAAa,CAGb,qBAAsB,CACtB,4CAA6C,CAF7C,WAAY,CAGZ,qFACD,CAEA,mFASC,qCAAsC,CAFtC,cAAe,CANf,eAAgB,CAIhB,eAAiB,CAHjB,oBAAqB,CAMrB,kBAAmB,CAFnB,gBAAiB,CAHjB,gBAAiB,CACjB,wBAOD,CAEA,sEAEC,cAAe,CADf,aAED,CAGC,qEACC,mBAAqB,CACrB,SACD,CAIF,mEACC,wBACD,CAEA,mEACC,2BAA4B,CAC5B,8CACD,CChED,MACC,kCAAmD,CACnD,+BAAoD,CACpD,8BAAkD,CAClD,8BAAuD,CACvD,6BAAmD,CACnD,yBAA+C,CAC/C,8BAAsD,CACtD,oCAA4D,CAC5D,6BAAkD,CAIlD,mDAA4D,CAC5D,qEAA+E,CAC/E,qCAA4D,CAC5D,qDAA8D,CAC9D,gDAAyD,CACzD,yCAAqD,CACrD,sCAAsD,CACtD,4CAA0D,CAC1D,sCAAsD,CAItD,gDAAuD,CACvD,kDAAiE,CACjE,mDAAkE,CAClE,yDAA8D,CAE9D,uCAA6D,CAC7D,6CAAoE,CACpE,8CAAoE,CACpE,gDAAiE,CACjE,kCAAyD,CAGzD,+DAAsE,CACtE,iDAAsE,CACtE,kDAAsE,CACtE,oDAAoE,CACpE,6DAAsE,CAEtE,8BAAoD,CACpD,gCAAqD,CAErD,+CAA8D,CAC9D,qDAAiE,CACjE,+EAAqF,CACrF,oDAAuE,CACvE,yEAA8E,CAC9E,oDAAgE,CAIhE,oEAA2E,CAC3E,4DAAoE,CAIpE,wDAAiE,CACjE,4DAAmE,CAInE,2DAAoE,CACpE,mDAA6D,CAC7D,wDAAgE,CAChE,+CAA0D,CAC1D,4CAA2D,CAC3D,4DAAoE,CACpE,sCAAsD,CAItD,0DAAmE,CACnE,uFAA6F,CAC7F,oEAA2E,CAC3E,0EAA+E,CAC/E,8DAAsE,CAItE,2DAAoE,CACpE,mDAA6D,CAI7D,6DAAsE,CACtE,qDAA+D,CAI/D,uDAAgE,CAChE,uDAAiE,CAIjE,0CAAyD,CAIzD,wCAA2D,CAI3D,+BAAoD,CACpD,uDAAmE,CACnE,kDAAgE,CAIhE,oCAAyD,CAIzD,yBAAgD,CChHhD,wBAAyB,CCAzB,0CAA2C,CAK3C,gGAAiG,CAKjG,4GAA6G,CAK7G,sGAAuG,CAKvG,sDAAuD,CCvBvD,wBAAyB,CACzB,6BAA8B,CAC9B,wDAA6D,CAE7D,yBAA0B,CAC1B,2BAA4B,CAC5B,yBAA0B,CAC1B,wBAAyB,CACzB,0BAA2B,CCJ3B,kCJgHD,CI1GA,2EAYC,sBAAuB,CADvB,QAAS,CART,qBAAsB,CAEtB,WAAY,CAIZ,QAAS,CACT,SAAU,CAJV,eAAgB,CAOhB,oBAAqB,CAErB,eAAgB,CADhB,qBAAsB,CAVtB,UAAW,CAcX,oBACD,CAKA,8DAGC,wBAAyB,CAEzB,0BAA2B,CAG3B,WAAY,CACZ,UAAW,CALX,iGAAkG,CAElG,eAAgB,CAChB,kBAGD,CAGC,qDACC,gBACD,CAEA,mDAEC,sBACD,CAEA,qDACC,oBACD,CAEA,mLAGC,WACD,CAEA,iNAGC,cACD,CAEA,qDAEC,yBAAoC,CADpC,YAED,CAEA,qEAGC,QAAQ,CADR,SAED,CAMD,8BAEC,gBACD,CCxFA,MACC,sBAAuB,CCAvB,gEAAiE,CAKjE,0DAA2D,CAK3D,wEAAyE,CCbzE,uBAA8B,CAC9B,mDAA2D,CAC3D,4CAAkD,CAClD,oDAA4D,CAC5D,mDAA2D,CAC3D,kDAA2D,CAC3D,yDFFD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which hides an element in DOM.
 */
.ck-hidden {
	/* Override selector specificity. Otherwise, all elements with some display
	style defined will override this one, which is not a desired result. */
	display: none !important;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-z-default: 1;
	--ck-z-panel: calc( var(--ck-z-default) + 999 );
	--ck-z-dialog: 9999;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class that disables all transitions of the element and its children.
 */
.ck-transitions-disabled,
.ck-transitions-disabled * {
	transition: none !important;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-powered-by-line-height: 10px;
	--ck-powered-by-padding-vertical: 2px;
	--ck-powered-by-padding-horizontal: 4px;
	--ck-powered-by-text-color: hsl(0, 0%, 31%);
	--ck-powered-by-border-radius: var(--ck-border-radius);
	--ck-powered-by-background: hsl(0, 0%, 100%);
	--ck-powered-by-border-color: var(--ck-color-focus-border);
}

.ck.ck-balloon-panel.ck-powered-by-balloon {
	--ck-border-radius: var(--ck-powered-by-border-radius);

	box-shadow: none;
	background: var(--ck-powered-by-background);
	min-height: unset;
	z-index: calc( var(--ck-z-panel) - 1 );

	& .ck.ck-powered-by {
		line-height: var(--ck-powered-by-line-height);

		& a {
			cursor: pointer;
			display: flex;
			align-items: center;
			opacity: .66;
			filter: grayscale(80%);
			line-height: var(--ck-powered-by-line-height);
			padding: var(--ck-powered-by-padding-vertical) var(--ck-powered-by-padding-horizontal);
		}

		& .ck-powered-by__label {
			font-size: 7.5px;
			letter-spacing: -.2px;
			padding-left: 2px;
			text-transform: uppercase;
			font-weight: bold;
			margin-right: 4px;
			cursor: pointer;
			line-height: normal;
			color: var(--ck-powered-by-text-color);

		}

		& .ck-icon {
			display: block;
			cursor: pointer;
		}

		&:hover {
			& a {
				filter: grayscale(0%);
				opacity: 1;
			}
		}
	}

	&[class*="position_inside"] {
		border-color: transparent;
	}

	&[class*="position_border"] {
		border: var(--ck-focus-ring);
		border-color: var(--ck-powered-by-border-color);
	}
}

`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-base-foreground: 								hsl(0, 0%, 98%);
	--ck-color-base-background: 								hsl(0, 0%, 100%);
	--ck-color-base-border: 									hsl(220, 6%, 81%);
	--ck-color-base-action: 									hsl(104, 50.2%, 42.5%);
	--ck-color-base-focus: 										hsl(209, 92%, 70%);
	--ck-color-base-text: 										hsl(0, 0%, 20%);
	--ck-color-base-active: 									hsl(218.1, 100%, 58%);
	--ck-color-base-active-focus:								hsl(218.2, 100%, 52.5%);
	--ck-color-base-error:										hsl(15, 100%, 43%);

	/* -- Generic colors ------------------------------------------------------------------------ */

	--ck-color-focus-border-coordinates: 						218, 81.8%, 56.9%;
	--ck-color-focus-border: 									hsl(var(--ck-color-focus-border-coordinates));
	--ck-color-focus-outer-shadow:								hsl(212.4, 89.3%, 89%);
	--ck-color-focus-disabled-shadow:							hsla(209, 90%, 72%,.3);
	--ck-color-focus-error-shadow:								hsla(9,100%,56%,.3);
	--ck-color-text: 											var(--ck-color-base-text);
	--ck-color-shadow-drop: 									hsla(0, 0%, 0%, 0.15);
	--ck-color-shadow-drop-active:								hsla(0, 0%, 0%, 0.2);
	--ck-color-shadow-inner: 									hsla(0, 0%, 0%, 0.1);

	/* -- Buttons ------------------------------------------------------------------------------- */

	--ck-color-button-default-background: 						transparent;
	--ck-color-button-default-hover-background: 				hsl(0, 0%, 94.1%);
	--ck-color-button-default-active-background: 				hsl(0, 0%, 94.1%);
	--ck-color-button-default-disabled-background: 				transparent;

	--ck-color-button-on-background: 							hsl(212, 100%, 97.1%);
	--ck-color-button-on-hover-background: 						hsl(211.7, 100%, 92.9%);
	--ck-color-button-on-active-background: 					hsl(211.7, 100%, 92.9%);
	--ck-color-button-on-disabled-background: 					hsl(211, 15%, 95%);
	--ck-color-button-on-color:									hsl(218.1, 100%, 58%);


	--ck-color-button-action-background: 						var(--ck-color-base-action);
	--ck-color-button-action-hover-background: 					hsl(104, 53.2%, 40.2%);
	--ck-color-button-action-active-background: 				hsl(104, 53.2%, 40.2%);
	--ck-color-button-action-disabled-background: 				hsl(104, 44%, 58%);
	--ck-color-button-action-text: 								var(--ck-color-base-background);

	--ck-color-button-save: 									hsl(120, 100%, 27%);
	--ck-color-button-cancel: 									hsl(15, 100%, 43%);

	--ck-color-switch-button-off-background:					hsl(0, 0%, 57.6%);
	--ck-color-switch-button-off-hover-background:				hsl(0, 0%, 49%);
	--ck-color-switch-button-on-background:						var(--ck-color-button-action-background);
	--ck-color-switch-button-on-hover-background:				hsl(104, 53.2%, 40.2%);
	--ck-color-switch-button-inner-background:					var(--ck-color-base-background);
	--ck-color-switch-button-inner-shadow:						hsla(0, 0%, 0%, 0.1);

	/* -- Dropdown ------------------------------------------------------------------------------ */

	--ck-color-dropdown-panel-background: 						var(--ck-color-base-background);
	--ck-color-dropdown-panel-border: 							var(--ck-color-base-border);

	/* -- Dialog -------------------------------------------------------------------------------- */

	--ck-color-dialog-background: 								var(--ck-custom-background);
	--ck-color-dialog-form-header-border: 						var(--ck-custom-border);

	/* -- Input --------------------------------------------------------------------------------- */

	--ck-color-input-background: 								var(--ck-color-base-background);
	--ck-color-input-border: 									var(--ck-color-base-border);
	--ck-color-input-error-border:								var(--ck-color-base-error);
	--ck-color-input-text: 										var(--ck-color-base-text);
	--ck-color-input-disabled-background: 						hsl(0, 0%, 95%);
	--ck-color-input-disabled-border: 							var(--ck-color-base-border);
	--ck-color-input-disabled-text: 							hsl(0, 0%, 46%);

	/* -- List ---------------------------------------------------------------------------------- */

	--ck-color-list-background: 								var(--ck-color-base-background);
	--ck-color-list-button-hover-background: 					var(--ck-color-button-default-hover-background);
	--ck-color-list-button-on-background: 						var(--ck-color-button-on-color);
	--ck-color-list-button-on-background-focus: 				var(--ck-color-button-on-color);
	--ck-color-list-button-on-text:								var(--ck-color-base-background);

	/* -- Panel --------------------------------------------------------------------------------- */

	--ck-color-panel-background: 								var(--ck-color-base-background);
	--ck-color-panel-border: 									var(--ck-color-base-border);

	/* -- Toolbar ------------------------------------------------------------------------------- */

	--ck-color-toolbar-background: 								var(--ck-color-base-background);
	--ck-color-toolbar-border: 									var(--ck-color-base-border);

	/* -- Tooltip ------------------------------------------------------------------------------- */

	--ck-color-tooltip-background: 								var(--ck-color-base-text);
	--ck-color-tooltip-text: 									var(--ck-color-base-background);

	/* -- Engine -------------------------------------------------------------------------------- */

	--ck-color-engine-placeholder-text: 						hsl(0, 0%, 44%);

	/* -- Upload -------------------------------------------------------------------------------- */

	--ck-color-upload-bar-background:		 					hsl(209, 92%, 70%);

	/* -- Link -------------------------------------------------------------------------------- */

	--ck-color-link-default:									hsl(240, 100%, 47%);
	--ck-color-link-selected-background:						hsla(201, 100%, 56%, 0.1);
	--ck-color-link-fake-selection:								hsla(201, 100%, 56%, 0.3);

	/* -- Search result highlight ---------------------------------------------------------------- */

	--ck-color-highlight-background:							hsl(60, 100%, 50%);

	/* -- Generic colors ------------------------------------------------------------------------- */

	--ck-color-light-red:										hsl(0, 100%, 90%);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * An opacity value of disabled UI item.
	 */
	--ck-disabled-opacity: .5;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * The geometry of the of focused element's outer shadow.
	 */
	--ck-focus-outer-shadow-geometry: 0 0 0 3px;

	/**
	 * A visual style of focused element's outer shadow.
	 */
	--ck-focus-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);

	/**
	 * A visual style of focused element's outer shadow (when disabled).
	 */
	--ck-focus-disabled-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);

	/**
	 * A visual style of focused element's outer shadow (when has errors).
	 */
	--ck-focus-error-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);

	/**
	 * A visual style of focused element's border or outline.
	 */
	--ck-focus-ring: 1px solid var(--ck-color-focus-border);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-font-size-base: 13px;
	--ck-line-height-base: 1.84615;
	--ck-font-face: Helvetica, Arial, Tahoma, Verdana, Sans-Serif;

	--ck-font-size-tiny: 0.7em;
	--ck-font-size-small: 0.75em;
	--ck-font-size-normal: 1em;
	--ck-font-size-big: 1.4em;
	--ck-font-size-large: 1.8em;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* This is super-important. This is **manually** adjusted so a button without an icon
	is never smaller than a button with icon, additionally making sure that text-less buttons
	are perfect squares. The value is also shared by other components which should stay "in-line"
	with buttons. */
	--ck-ui-component-min-height: 2.3em;
}

/**
 * Resets an element, ignoring its children.
 */
.ck.ck-reset,
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	box-sizing: border-box;
	width: auto;
	height: auto;
	position: static;

	/* Do not include inheritable rules here. */
	margin: 0;
	padding: 0;
	border: 0;
	background: transparent;
	text-decoration: none;
	vertical-align: middle;
	transition: none;

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/105 */
	word-wrap: break-word;
}

/**
 * Resets an element AND its children.
 */
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	/* These are rule inherited by all children elements. */
	border-collapse: collapse;
	font: normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);
	color: var(--ck-color-text);
	text-align: left;
	white-space: nowrap;
	cursor: auto;
	float: none;
}

.ck-reset_all {
	& .ck-rtl *:not(.ck-reset_all-excluded *) {
		text-align: right;
	}

	& iframe:not(.ck-reset_all-excluded *) {
		/* For IE */
		vertical-align: inherit;
	}

	& textarea:not(.ck-reset_all-excluded *) {
		white-space: pre-wrap;
	}

	& textarea:not(.ck-reset_all-excluded *),
	& input[type="text"]:not(.ck-reset_all-excluded *),
	& input[type="password"]:not(.ck-reset_all-excluded *) {
		cursor: text;
	}

	& textarea[disabled]:not(.ck-reset_all-excluded *),
	& input[type="text"][disabled]:not(.ck-reset_all-excluded *),
	& input[type="password"][disabled]:not(.ck-reset_all-excluded *) {
		cursor: default;
	}

	& fieldset:not(.ck-reset_all-excluded *) {
		padding: 10px;
		border: 2px groove hsl(255, 7%, 88%);
	}

	& button:not(.ck-reset_all-excluded *)::-moz-focus-inner {
		/* See http://stackoverflow.com/questions/5517744/remove-extra-button-spacing-padding-in-firefox */
		padding: 0;
		border: 0
	}
}

/**
 * Default UI rules for RTL languages.
 */
.ck[dir="rtl"],
.ck[dir="rtl"] .ck {
	text-align: right;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Default border-radius value.
 */
:root{
	--ck-border-radius: 2px;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * A visual style of element's inner shadow (i.e. input).
	 */
	--ck-inner-shadow: 2px 2px 3px var(--ck-color-shadow-inner) inset;

	/**
	 * A visual style of element's drop shadow (i.e. panel).
	 */
	--ck-drop-shadow: 0 1px 2px 1px var(--ck-color-shadow-drop);

	/**
	 * A visual style of element's active shadow (i.e. comment or suggestion).
	 */
	--ck-drop-shadow-active: 0 3px 6px 1px var(--ck-color-shadow-drop-active);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-spacing-unit: 						0.6em;
	--ck-spacing-large: 					calc(var(--ck-spacing-unit) * 1.5);
	--ck-spacing-standard: 					var(--ck-spacing-unit);
	--ck-spacing-medium: 					calc(var(--ck-spacing-unit) * 0.8);
	--ck-spacing-small: 					calc(var(--ck-spacing-unit) * 0.5);
	--ck-spacing-tiny: 						calc(var(--ck-spacing-unit) * 0.3);
	--ck-spacing-extra-tiny: 				calc(var(--ck-spacing-unit) * 0.16);
}
`],sourceRoot:""}]);const S=y},695:(l,d,f)=>{f.d(d,{A:()=>S});var m=f(9372),v=f.n(m),C=f(935),y=f.n(C)()(v());y.push([l.id,":root{--ck-color-resizer:var(--ck-color-focus-border);--ck-color-resizer-tooltip-background:#262626;--ck-color-resizer-tooltip-text:#f2f2f2;--ck-resizer-border-radius:var(--ck-border-radius);--ck-resizer-tooltip-offset:10px;--ck-resizer-tooltip-height:calc(var(--ck-spacing-small)*2 + 10px)}.ck .ck-widget,.ck .ck-widget.ck-widget_with-selection-handle{position:relative}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{position:absolute}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{display:block}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{visibility:visible}.ck .ck-size-view{background:var(--ck-color-resizer-tooltip-background);border:1px solid var(--ck-color-resizer-tooltip-text);border-radius:var(--ck-resizer-border-radius);color:var(--ck-color-resizer-tooltip-text);display:block;font-size:var(--ck-font-size-tiny);height:var(--ck-resizer-tooltip-height);line-height:var(--ck-resizer-tooltip-height);padding:0 var(--ck-spacing-small)}.ck .ck-size-view.ck-orientation-above-center,.ck .ck-size-view.ck-orientation-bottom-left,.ck .ck-size-view.ck-orientation-bottom-right,.ck .ck-size-view.ck-orientation-top-left,.ck .ck-size-view.ck-orientation-top-right{position:absolute}.ck .ck-size-view.ck-orientation-top-left{left:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-top-right{right:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-right{bottom:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-left{bottom:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-above-center{left:50%;top:calc(var(--ck-resizer-tooltip-height)*-1);transform:translate(-50%)}:root{--ck-widget-outline-thickness:3px;--ck-widget-handler-icon-size:16px;--ck-widget-handler-animation-duration:200ms;--ck-widget-handler-animation-curve:ease;--ck-color-widget-blurred-border:#dedede;--ck-color-widget-hover-border:#ffc83d;--ck-color-widget-editable-focus-background:var(--ck-color-base-background);--ck-color-widget-drag-handler-icon-color:var(--ck-color-base-background)}.ck .ck-widget{outline-color:transparent;outline-style:solid;outline-width:var(--ck-widget-outline-thickness);transition:outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}@media (prefers-reduced-motion:reduce){.ck .ck-widget{transition:none}}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck .ck-widget:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-editor__nested-editable{border:1px solid transparent}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}@media (forced-colors:none){.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{background-color:var(--ck-color-widget-editable-focus-background)}}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{background-color:transparent;border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0;box-sizing:border-box;left:calc(0px - var(--ck-widget-outline-thickness));opacity:0;padding:4px;top:0;transform:translateY(-100%);transition:background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}@media (prefers-reduced-motion:reduce){.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{transition:none}}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{color:var(--ck-color-widget-drag-handler-icon-color);height:var(--ck-widget-handler-icon-size);width:var(--ck-widget-handler-icon-size)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:0;transition:opacity .3s var(--ck-widget-handler-animation-curve)}@media (prefers-reduced-motion:reduce){.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{transition:none}}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{background-color:var(--ck-color-widget-hover-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{background-color:var(--ck-color-focus-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:1}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{left:auto;right:calc(0px - var(--ck-widget-outline-thickness))}.ck.ck-editor__editable.ck-read-only .ck-widget{transition:none}.ck.ck-editor__editable.ck-read-only .ck-widget:not(.ck-widget_selected){--ck-widget-outline-thickness:0px}.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover{outline-color:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle:hover,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable blockquote>.ck-widget.ck-widget_with-selection-handle:first-child,.ck.ck-editor__editable>.ck-widget.ck-widget_with-selection-handle:first-child{margin-top:calc(1em + var(--ck-widget-handler-icon-size))}","",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widget.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widget.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css"],names:[],mappings:"AAKA,MACC,+CAAgD,CAChD,6CAAsD,CACtD,uCAAgD,CAEhD,kDAAmD,CACnD,gCAAiC,CACjC,kEACD,CAOA,8DAEC,iBAqBD,CAnBC,4EACC,iBAOD,CALC,qFAGC,aACD,CASD,iLACC,kBACD,CAGD,kBACC,qDAAsD,CAEtD,qDAAsD,CACtD,6CAA8C,CAF9C,0CAA2C,CAI3C,aAAc,CADd,kCAAmC,CAGnC,uCAAwC,CACxC,4CAA6C,CAF7C,iCAsCD,CAlCC,8NAKC,iBACD,CAEA,0CAEC,qCAAsC,CADtC,oCAED,CAEA,2CAEC,sCAAuC,CADvC,oCAED,CAEA,8CACC,uCAAwC,CACxC,sCACD,CAEA,6CACC,uCAAwC,CACxC,qCACD,CAGA,8CAEC,QAAS,CADT,6CAAgD,CAEhD,yBACD,CChFD,MACC,iCAAkC,CAClC,kCAAmC,CACnC,4CAA6C,CAC7C,wCAAyC,CAEzC,wCAAiD,CACjD,sCAAkD,CAClD,2EAA4E,CAC5E,yEACD,CAEA,eAGC,yBAA0B,CAD1B,mBAAoB,CADpB,gDAAiD,CAGjD,6GAcD,CAZC,uCAND,eAOE,eAWF,CAVC,CAEA,0EAEC,6EACD,CAEA,qBACC,iDACD,CAGD,gCACC,4BAYD,CARC,yGCnCA,2BAA2B,CCF3B,qCAA8B,CDC9B,YD2CA,CGvCA,4BACC,yGHoCC,iEGlCD,CACD,CHuCA,4EAKC,4BAA6B,CAa7B,iEAAkE,CAhBlE,qBAAsB,CAoBtB,mDAAoD,CAhBpD,SAAU,CALV,WAAY,CAsBZ,KAAM,CAFN,2BAA4B,CAT5B,6SAwCD,CA3BC,uCAzBD,4EA0BE,eA0BF,CAzBC,CAEA,qFAIC,oDAAqD,CADrD,yCAA0C,CAD1C,wCAeD,CAVC,kHACC,SAAU,CAGV,+DAKD,CAHC,uCAND,kHAOE,eAEF,CADC,CAKF,wHACC,SACD,CAID,kFAEC,oDAAqD,CADrD,SAED,CAKC,oMAEC,6CAA8C,CAD9C,SAOD,CAHC,gRACC,SACD,CAOH,qFACC,SAAU,CACV,oDACD,CAGA,gDAEC,eAkBD,CAhBC,yEAOC,iCACD,CAGC,gOAEC,gDACD,CAOD,wIAEC,mDAQD,CALE,ghBAEC,gDACD,CAKH,yKAOC,yDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-resizer: var(--ck-color-focus-border);
	--ck-color-resizer-tooltip-background: hsl(0, 0%, 15%);
	--ck-color-resizer-tooltip-text: hsl(0, 0%, 95%);

	--ck-resizer-border-radius: var(--ck-border-radius);
	--ck-resizer-tooltip-offset: 10px;
	--ck-resizer-tooltip-height: calc(var(--ck-spacing-small) * 2 + 10px);
}

.ck .ck-widget {
	/* This is neccessary for type around UI to be positioned properly. */
	position: relative;
}

.ck .ck-widget.ck-widget_with-selection-handle {
	/* Make the widget wrapper a relative positioning container for the drag handle. */
	position: relative;

	& .ck-widget__selection-handle {
		position: absolute;

		& .ck-icon {
			/* Make sure the icon in not a subject to font-size or line-height to avoid
			unnecessary spacing around it. */
			display: block;
		}
	}

	/* Show the selection handle on mouse hover over the widget, but not for nested widgets. */
	&:hover > .ck-widget__selection-handle {
		visibility: visible;
	}

	/* Show the selection handle when the widget is selected, but not for nested widgets. */
	&.ck-widget_selected > .ck-widget__selection-handle {
		visibility: visible;
	}
}

.ck .ck-size-view {
	background: var(--ck-color-resizer-tooltip-background);
	color: var(--ck-color-resizer-tooltip-text);
	border: 1px solid var(--ck-color-resizer-tooltip-text);
	border-radius: var(--ck-resizer-border-radius);
	font-size: var(--ck-font-size-tiny);
	display: block;
	padding: 0 var(--ck-spacing-small);
	height: var(--ck-resizer-tooltip-height);
	line-height: var(--ck-resizer-tooltip-height);

	&.ck-orientation-top-left,
	&.ck-orientation-top-right,
	&.ck-orientation-bottom-right,
	&.ck-orientation-bottom-left,
	&.ck-orientation-above-center {
		position: absolute;
	}

	&.ck-orientation-top-left {
		top: var(--ck-resizer-tooltip-offset);
		left: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-top-right {
		top: var(--ck-resizer-tooltip-offset);
		right: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-bottom-right {
		bottom: var(--ck-resizer-tooltip-offset);
		right: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-bottom-left {
		bottom: var(--ck-resizer-tooltip-offset);
		left: var(--ck-resizer-tooltip-offset);
	}

	/* Class applied if the widget is too small to contain the size label */
	&.ck-orientation-above-center {
		top: calc(var(--ck-resizer-tooltip-height) * -1);
		left: 50%;
		transform: translate(-50%);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_focus.css";
@import "../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";

:root {
	--ck-widget-outline-thickness: 3px;
	--ck-widget-handler-icon-size: 16px;
	--ck-widget-handler-animation-duration: 200ms;
	--ck-widget-handler-animation-curve: ease;

	--ck-color-widget-blurred-border: hsl(0, 0%, 87%);
	--ck-color-widget-hover-border: hsl(43, 100%, 62%);
	--ck-color-widget-editable-focus-background: var(--ck-color-base-background);
	--ck-color-widget-drag-handler-icon-color: var(--ck-color-base-background);
}

.ck .ck-widget {
	outline-width: var(--ck-widget-outline-thickness);
	outline-style: solid;
	outline-color: transparent;
	transition: outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

	@media (prefers-reduced-motion: reduce) {
		transition: none;
	}

	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border);
	}

	&:hover {
		outline-color: var(--ck-color-widget-hover-border);
	}
}

.ck .ck-editor__nested-editable {
	border: 1px solid transparent;

	/* The :focus style is applied before .ck-editor__nested-editable_focused class is rendered in the view.
	These styles show a different border for a blink of an eye, so \`:focus\` need to have same styles applied. */
	&.ck-editor__nested-editable_focused,
	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-inner-shadow);
		@mixin ck-media-default-colors {
			background-color: var(--ck-color-widget-editable-focus-background);
		}
	}
}

.ck .ck-widget.ck-widget_with-selection-handle {
	& .ck-widget__selection-handle {
		padding: 4px;
		box-sizing: border-box;

		/* Background and opacity will be animated as the handler shows up or the widget gets selected. */
		background-color: transparent;
		opacity: 0;

		/* Transition:
		   * background-color for the .ck-widget_selected state change,
		   * visibility for hiding the handler,
		   * opacity for the proper look of the icon when the handler disappears. */
		transition:
			background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),
			visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),
			opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

		/* Make only top corners round. */
		border-radius: var(--ck-border-radius) var(--ck-border-radius) 0 0;

		/* Place the drag handler outside the widget wrapper. */
		transform: translateY(-100%);
		left: calc(0px - var(--ck-widget-outline-thickness));
		top: 0;

		@media (prefers-reduced-motion: reduce) {
			transition: none;
		}

		& .ck-icon {
			/* Make sure the dimensions of the icon are independent of the fon-size of the content. */
			width: var(--ck-widget-handler-icon-size);
			height: var(--ck-widget-handler-icon-size);
			color: var(--ck-color-widget-drag-handler-icon-color);

			/* The "selected" part of the icon is invisible by default */
			& .ck-icon__selected-indicator {
				opacity: 0;

				/* Note: The animation is longer on purpose. Simply feels better. */
				transition: opacity 300ms var(--ck-widget-handler-animation-curve);

				@media (prefers-reduced-motion: reduce) {
					transition: none;
				}
			}
		}

		/* Advertise using the look of the icon that once clicked the handler, the widget will be selected. */
		&:hover .ck-icon .ck-icon__selected-indicator {
			opacity: 1;
		}
	}

	/* Show the selection handler on mouse hover over the widget, but not for nested widgets. */
	&:hover > .ck-widget__selection-handle {
		opacity: 1;
		background-color: var(--ck-color-widget-hover-border);
	}

	/* Show the selection handler when the widget is selected, but not for nested widgets. */
	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		& > .ck-widget__selection-handle {
			opacity: 1;
			background-color: var(--ck-color-focus-border);

			/* When the widget is selected, notify the user using the proper look of the icon. */
			& .ck-icon .ck-icon__selected-indicator {
				opacity: 1;
			}
		}
	}
}

/* In a RTL environment, align the selection handler to the right side of the widget */
/* stylelint-disable-next-line no-descending-specificity */
.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle {
	left: auto;
	right: calc(0px - var(--ck-widget-outline-thickness));
}

/* https://github.com/ckeditor/ckeditor5/issues/6415 */
.ck.ck-editor__editable.ck-read-only .ck-widget {
	/* Prevent the :hover outline from showing up because of the used outline-color transition. */
	transition: none;

	&:not(.ck-widget_selected) {
		/* Disable visual effects of hover/active widget when CKEditor is in readOnly mode.
		 * See: https://github.com/ckeditor/ckeditor5/issues/1261
		 *
		 * Leave the unit because this custom property is used in calc() by other features.
		 * See: https://github.com/ckeditor/ckeditor5/issues/6775
		 */
		--ck-widget-outline-thickness: 0px;
	}

	&.ck-widget_with-selection-handle {
		& .ck-widget__selection-handle,
		& .ck-widget__selection-handle:hover {
			background: var(--ck-color-widget-blurred-border);
		}
	}
}

/* Style the widget when it's selected but the editable it belongs to lost focus. */
/* stylelint-disable-next-line no-descending-specificity */
.ck.ck-editor__editable.ck-blurred .ck-widget {
	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		outline-color: var(--ck-color-widget-blurred-border);

		&.ck-widget_with-selection-handle {
			& > .ck-widget__selection-handle,
			& > .ck-widget__selection-handle:hover {
				background: var(--ck-color-widget-blurred-border);
			}
		}
	}
}

.ck.ck-editor__editable > .ck-widget.ck-widget_with-selection-handle:first-child,
.ck.ck-editor__editable blockquote > .ck-widget.ck-widget_with-selection-handle:first-child {
	/* Do not crop selection handler if a widget is a first-child in the blockquote or in the root editable.
	In fact, anything with overflow: hidden.
	https://github.com/ckeditor/ckeditor5-block-quote/issues/28
	https://github.com/ckeditor/ckeditor5-widget/issues/44
	https://github.com/ckeditor/ckeditor5-widget/issues/66 */
	margin-top: calc(1em + var(--ck-widget-handler-icon-size));
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-forced-colors {
	@media (forced-colors: active) {
		& {
			@mixin-content;
		}
	}
}

@define-mixin ck-media-default-colors {
	@media (forced-colors: none) {
		& {
			@mixin-content;
		}
	}
}
`],sourceRoot:""}]);const S=y},4095:(l,d,f)=>{f.d(d,{A:()=>S});var m=f(9372),v=f.n(m),C=f(935),y=f.n(C)()(v());y.push([l.id,".ck .ck-widget_with-resizer{position:relative}.ck .ck-widget__resizer{display:none;left:0;pointer-events:none;position:absolute;top:0}.ck-focused .ck-widget_with-resizer.ck-widget_selected>.ck-widget__resizer{display:block}.ck .ck-widget__resizer__handle{pointer-events:all;position:absolute}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{cursor:nwse-resize}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{cursor:nesw-resize}:root{--ck-resizer-size:10px;--ck-resizer-offset:calc(var(--ck-resizer-size)/-2 - 2px);--ck-resizer-border-width:1px}.ck .ck-widget__resizer{outline:1px solid var(--ck-color-resizer)}.ck .ck-widget__resizer__handle{background:var(--ck-color-focus-border);border:var(--ck-resizer-border-width) solid #fff;border-radius:var(--ck-resizer-border-radius);height:var(--ck-resizer-size);width:var(--ck-resizer-size)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{left:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{right:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right{bottom:var(--ck-resizer-offset);right:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left{bottom:var(--ck-resizer-offset);left:var(--ck-resizer-offset)}","",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widgetresize.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widgetresize.css"],names:[],mappings:"AAKA,4BAEC,iBACD,CAEA,wBACC,YAAa,CAMb,MAAO,CAFP,mBAAoB,CAHpB,iBAAkB,CAMlB,KACD,CAGC,2EACC,aACD,CAGD,gCAIC,kBAAmB,CAHnB,iBAcD,CATC,4IAEC,kBACD,CAEA,4IAEC,kBACD,CCpCD,MACC,sBAAuB,CAGvB,yDAAiE,CACjE,6BACD,CAEA,wBACC,yCACD,CAEA,gCAGC,uCAAwC,CACxC,gDAA6D,CAC7D,6CAA8C,CAH9C,6BAA8B,CAD9B,4BAyBD,CAnBC,oEAEC,6BAA8B,CAD9B,4BAED,CAEA,qEAEC,8BAA+B,CAD/B,4BAED,CAEA,wEACC,+BAAgC,CAChC,8BACD,CAEA,uEACC,+BAAgC,CAChC,6BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-widget_with-resizer {
	/* Make the widget wrapper a relative positioning container for the drag handle. */
	position: relative;
}

.ck .ck-widget__resizer {
	display: none;
	position: absolute;

	/* The wrapper itself should not interfere with the pointer device, only the handles should. */
	pointer-events: none;

	left: 0;
	top: 0;
}

.ck-focused .ck-widget_with-resizer.ck-widget_selected {
	& > .ck-widget__resizer {
		display: block;
	}
}

.ck .ck-widget__resizer__handle {
	position: absolute;

	/* Resizers are the only UI elements that should interfere with a pointer device. */
	pointer-events: all;

	&.ck-widget__resizer__handle-top-left,
	&.ck-widget__resizer__handle-bottom-right {
		cursor: nwse-resize;
	}

	&.ck-widget__resizer__handle-top-right,
	&.ck-widget__resizer__handle-bottom-left {
		cursor: nesw-resize;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-resizer-size: 10px;

	/* Set the resizer with a 50% offset. */
	--ck-resizer-offset: calc( ( var(--ck-resizer-size) / -2 ) - 2px);
	--ck-resizer-border-width: 1px;
}

.ck .ck-widget__resizer {
	outline: 1px solid var(--ck-color-resizer);
}

.ck .ck-widget__resizer__handle {
	width: var(--ck-resizer-size);
	height: var(--ck-resizer-size);
	background: var(--ck-color-focus-border);
	border: var(--ck-resizer-border-width) solid hsl(0, 0%, 100%);
	border-radius: var(--ck-resizer-border-radius);

	&.ck-widget__resizer__handle-top-left {
		top: var(--ck-resizer-offset);
		left: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-top-right {
		top: var(--ck-resizer-offset);
		right: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-bottom-right {
		bottom: var(--ck-resizer-offset);
		right: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-bottom-left {
		bottom: var(--ck-resizer-offset);
		left: var(--ck-resizer-offset);
	}
}
`],sourceRoot:""}]);const S=y},8508:(l,d,f)=>{f.d(d,{A:()=>S});var m=f(9372),v=f.n(m),C=f(935),y=f.n(C)()(v());y.push([l.id,'.ck .ck-widget .ck-widget__type-around__button{display:block;overflow:hidden;position:absolute;z-index:var(--ck-z-default)}.ck .ck-widget .ck-widget__type-around__button svg{left:50%;position:absolute;top:50%;z-index:calc(var(--ck-z-default) + 2)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_before{left:min(10%,30px);top:calc(var(--ck-widget-outline-thickness)*-.5);transform:translateY(-50%)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_after{bottom:calc(var(--ck-widget-outline-thickness)*-.5);right:min(10%,30px);transform:translateY(50%)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{content:"";display:block;left:1px;position:absolute;top:1px;z-index:calc(var(--ck-z-default) + 1)}.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:none;left:0;position:absolute;right:0}.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__fake-caret{left:calc(var(--ck-widget-outline-thickness)*-1);right:calc(var(--ck-widget-outline-thickness)*-1)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:block;top:calc(var(--ck-widget-outline-thickness)*-1 - 1px)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__fake-caret{bottom:calc(var(--ck-widget-outline-thickness)*-1 - 1px);display:block}.ck.ck-editor__editable.ck-read-only .ck-widget__type-around,.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around,.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around{display:none}:root{--ck-widget-type-around-button-size:20px;--ck-color-widget-type-around-button-active:var(--ck-color-focus-border);--ck-color-widget-type-around-button-hover:var(--ck-color-widget-hover-border);--ck-color-widget-type-around-button-blurred-editable:var(--ck-color-widget-blurred-border);--ck-color-widget-type-around-button-radar-start-alpha:0;--ck-color-widget-type-around-button-radar-end-alpha:.3;--ck-color-widget-type-around-button-icon:var(--ck-color-base-background)}.ck .ck-widget .ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button);border-radius:100px;height:var(--ck-widget-type-around-button-size);opacity:0;pointer-events:none;transition:opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);width:var(--ck-widget-type-around-button-size)}@media (prefers-reduced-motion:reduce){.ck .ck-widget .ck-widget__type-around__button{transition:none}}.ck .ck-widget .ck-widget__type-around__button svg{height:8px;margin-top:1px;transform:translate(-50%,-50%);transition:transform .5s ease;width:10px}@media (prefers-reduced-motion:reduce){.ck .ck-widget .ck-widget__type-around__button svg{transition:none}}.ck .ck-widget .ck-widget__type-around__button svg *{stroke-dasharray:10;stroke-dashoffset:0;fill:none;stroke:var(--ck-color-widget-type-around-button-icon);stroke-width:1.5px;stroke-linecap:round;stroke-linejoin:round}.ck .ck-widget .ck-widget__type-around__button svg line{stroke-dasharray:7}.ck .ck-widget .ck-widget__type-around__button:hover{animation:ck-widget-type-around-button-sonar 1s ease infinite}.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:ck-widget-type-around-arrow-dash 2s linear}.ck .ck-widget .ck-widget__type-around__button:hover svg line{animation:ck-widget-type-around-arrow-tip-dash 2s linear}@media (prefers-reduced-motion:reduce){.ck .ck-widget .ck-widget__type-around__button:hover,.ck .ck-widget .ck-widget__type-around__button:hover svg line,.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:none}}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:1;pointer-events:auto}.ck .ck-widget:not(.ck-widget_selected)>.ck-widget__type-around>.ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button-hover)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover{background:var(--ck-color-widget-type-around-button-active)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{background:linear-gradient(135deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.3));border-radius:100px;height:calc(var(--ck-widget-type-around-button-size) - 2px);width:calc(var(--ck-widget-type-around-button-size) - 2px)}.ck .ck-widget.ck-widget_with-selection-handle>.ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:20px}.ck .ck-widget .ck-widget__type-around__fake-caret{animation:ck-widget-type-around-fake-caret-pulse 1s linear infinite normal forwards;background:var(--ck-color-base-text);height:1px;outline:1px solid hsla(0,0%,100%,.5);pointer-events:none}.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_after,.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_before{outline-color:transparent}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected:hover,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{opacity:0}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:0;margin-right:20px}.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover){background:var(--ck-color-widget-type-around-button-blurred-editable)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover) svg *{stroke:#999}@keyframes ck-widget-type-around-arrow-dash{0%{stroke-dashoffset:10}20%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-arrow-tip-dash{0%,20%{stroke-dashoffset:7}40%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-button-sonar{0%{box-shadow:0 0 0 0 hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}50%{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-end-alpha))}to{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}}@keyframes ck-widget-type-around-fake-caret-pulse{0%{opacity:1}49%{opacity:1}50%{opacity:0}99%{opacity:0}to{opacity:1}}',"",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widgettypearound.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widgettypearound.css"],names:[],mappings:"AASC,+CACC,aAAc,CAEd,eAAgB,CADhB,iBAAkB,CAElB,2BAwBD,CAtBC,mDAGC,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAEA,qFAGC,kBAAoB,CADpB,gDAAoD,CAGpD,0BACD,CAEA,oFAEC,mDAAuD,CACvD,mBAAqB,CAErB,yBACD,CAUA,mLACC,UAAW,CACX,aAAc,CAGd,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAMD,2EACC,YAAa,CAEb,MAAO,CADP,iBAAkB,CAElB,OACD,CAOA,iFACC,gDAAqD,CACrD,iDACD,CAKA,wHAEC,aAAc,CADd,qDAED,CAKA,uHACC,wDAA6D,CAC7D,aACD,CAoBD,mOACC,YACD,CC3GA,MACC,wCAAyC,CACzC,wEAAyE,CACzE,8EAA+E,CAC/E,2FAA4F,CAC5F,wDAAyD,CACzD,uDAAwD,CACxD,yEACD,CAgBC,+CAGC,oDAAqD,CACrD,mBAAoB,CAFpB,+CAAgD,CAVjD,SAAU,CACV,mBAAoB,CAYnB,uMAAyM,CAJzM,8CAwED,CAhEC,uCATD,+CAUE,eA+DF,CA9DC,CAEA,mDAEC,UAAW,CAGX,cAAe,CAFf,8BAA+B,CAC/B,6BAA8B,CAH9B,UAwBD,CAlBC,uCAPD,mDAQE,eAiBF,CAhBC,CAEA,qDACC,mBAAoB,CACpB,mBAAoB,CAEpB,SAAU,CACV,qDAAsD,CACtD,kBAAmB,CACnB,oBAAqB,CACrB,qBACD,CAEA,wDACC,kBACD,CAGD,qDAIC,6DA4BD,CAtBE,kEACC,oDACD,CAEA,8DACC,wDACD,CAGD,uCAQE,qLACC,cACD,CAEF,CASD,uKA7FD,SAAU,CACV,mBA8FC,CAOD,gGACC,0DACD,CAOA,uKAEC,2DAQD,CANC,mLAIC,uEAAkF,CADlF,mBAAoB,CADpB,2DAA4D,CAD5D,0DAID,CAOD,8GACC,gBACD,CAKA,mDAGC,mFAAoF,CAOpF,oCAAqC,CARrC,UAAW,CAOX,oCAAwC,CARxC,mBAUD,CAOC,6JAEC,yBACD,CAUA,yKACC,iDACD,CAMA,uOAxKD,SAAU,CACV,mBAyKC,CAoBA,6yBACC,SACD,CASF,uHACC,aAAc,CACd,iBACD,CAYG,iRAxNF,SAAU,CACV,mBAyNE,CAQH,kIACC,qEAKD,CAHC,wIACC,WACD,CAGD,4CACC,GACC,oBACD,CACA,OACC,mBACD,CACD,CAEA,gDACC,OACC,mBACD,CACA,OACC,mBACD,CACD,CAEA,8CACC,GACC,6HACD,CACA,IACC,6HACD,CACA,GACC,+HACD,CACD,CAEA,kDACC,GACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,GACC,SACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-widget {
	/*
	 * Styles of the type around buttons
	 */
	& .ck-widget__type-around__button {
		display: block;
		position: absolute;
		overflow: hidden;
		z-index: var(--ck-z-default);

		& svg {
			position: absolute;
			top: 50%;
			left: 50%;
			z-index: calc(var(--ck-z-default) + 2);
		}

		&.ck-widget__type-around__button_before {
			/* Place it in the middle of the outline */
			top: calc(-0.5 * var(--ck-widget-outline-thickness));
			left: min(10%, 30px);

			transform: translateY(-50%);
		}

		&.ck-widget__type-around__button_after {
			/* Place it in the middle of the outline */
			bottom: calc(-0.5 * var(--ck-widget-outline-thickness));
			right: min(10%, 30px);

			transform: translateY(50%);
		}
	}

	/*
	 * Styles for the buttons when:
	 * - the widget is selected,
	 * - or the button is being hovered (regardless of the widget state).
	 */
	&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,
	& > .ck-widget__type-around > .ck-widget__type-around__button:hover {
		&::after {
			content: "";
			display: block;
			position: absolute;
			top: 1px;
			left: 1px;
			z-index: calc(var(--ck-z-default) + 1);
		}
	}

	/*
	 * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.
	 */
	& > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		display: none;
		position: absolute;
		left: 0;
		right: 0;
	}

	/*
	 * When the widget is hovered the "fake caret" would normally be narrower than the
	 * extra outline displayed around the widget. Let's extend the "fake caret" to match
	 * the full width of the widget.
	 */
	&:hover > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		left: calc( -1 * var(--ck-widget-outline-thickness) );
		right: calc( -1 * var(--ck-widget-outline-thickness) );
	}

	/*
	 * Styles for the horizontal "fake caret" when it should be displayed before the widget (backward keyboard navigation).
	 */
	&.ck-widget_type-around_show-fake-caret_before > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		top: calc( -1 * var(--ck-widget-outline-thickness) - 1px );
		display: block;
	}

	/*
	 * Styles for the horizontal "fake caret" when it should be displayed after the widget (forward keyboard navigation).
	 */
	&.ck-widget_type-around_show-fake-caret_after > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		bottom: calc( -1 * var(--ck-widget-outline-thickness) - 1px );
		display: block;
	}
}

/*
 * Integration with the read-only mode of the editor.
 */
.ck.ck-editor__editable.ck-read-only .ck-widget__type-around {
	display: none;
}

/*
 * Integration with the restricted editing mode (feature) of the editor.
 */
.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around {
	display: none;
}

/*
 * Integration with the #isEnabled property of the WidgetTypeAround plugin.
 */
.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around {
	display: none;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-widget-type-around-button-size: 20px;
	--ck-color-widget-type-around-button-active: var(--ck-color-focus-border);
	--ck-color-widget-type-around-button-hover: var(--ck-color-widget-hover-border);
	--ck-color-widget-type-around-button-blurred-editable: var(--ck-color-widget-blurred-border);
	--ck-color-widget-type-around-button-radar-start-alpha: 0;
	--ck-color-widget-type-around-button-radar-end-alpha: .3;
	--ck-color-widget-type-around-button-icon: var(--ck-color-base-background);
}

@define-mixin ck-widget-type-around-button-visible {
	opacity: 1;
	pointer-events: auto;
}

@define-mixin ck-widget-type-around-button-hidden {
	opacity: 0;
	pointer-events: none;
}

.ck .ck-widget {
	/*
	 * Styles of the type around buttons
	 */
	& .ck-widget__type-around__button {
		width: var(--ck-widget-type-around-button-size);
		height: var(--ck-widget-type-around-button-size);
		background: var(--ck-color-widget-type-around-button);
		border-radius: 100px;
		transition: opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve), background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

		@mixin ck-widget-type-around-button-hidden;

		@media (prefers-reduced-motion: reduce) {
			transition: none;
		}

		& svg {
			width: 10px;
			height: 8px;
			transform: translate(-50%,-50%);
			transition: transform .5s ease;
			margin-top: 1px;

			@media (prefers-reduced-motion: reduce) {
				transition: none;
			}

			& * {
				stroke-dasharray: 10;
				stroke-dashoffset: 0;

				fill: none;
				stroke: var(--ck-color-widget-type-around-button-icon);
				stroke-width: 1.5px;
				stroke-linecap: round;
				stroke-linejoin: round;
			}

			& line {
				stroke-dasharray: 7;
			}
		}

		&:hover {
			/*
			 * Display the "sonar" around the button when hovered.
			 */
			animation: ck-widget-type-around-button-sonar 1s ease infinite;

			/*
			 * Animate active button's icon.
			 */
			& svg {
				& polyline {
					animation: ck-widget-type-around-arrow-dash 2s linear;
				}

				& line {
					animation: ck-widget-type-around-arrow-tip-dash 2s linear;
				}
			}

			@media (prefers-reduced-motion: reduce) {
				animation: none;

				& svg {
					& polyline {
						animation: none;
					}

					& line {
						animation: none;
					}
				}
			}
		}
	}

	/*
	 * Show type around buttons when the widget gets selected or being hovered.
	 */
	&.ck-widget_selected,
	&:hover {
		& > .ck-widget__type-around > .ck-widget__type-around__button {
			@mixin ck-widget-type-around-button-visible;
		}
	}

	/*
	 * Styles for the buttons when the widget is NOT selected (but the buttons are visible
	 * and still can be hovered).
	 */
	&:not(.ck-widget_selected) > .ck-widget__type-around > .ck-widget__type-around__button {
		background: var(--ck-color-widget-type-around-button-hover);
	}

	/*
	 * Styles for the buttons when:
	 * - the widget is selected,
	 * - or the button is being hovered (regardless of the widget state).
	 */
	&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,
	& > .ck-widget__type-around > .ck-widget__type-around__button:hover {
		background: var(--ck-color-widget-type-around-button-active);

		&::after {
			width: calc(var(--ck-widget-type-around-button-size) - 2px);
			height: calc(var(--ck-widget-type-around-button-size) - 2px);
			border-radius: 100px;
			background: linear-gradient(135deg, hsla(0,0%,100%,0) 0%, hsla(0,0%,100%,.3) 100%);
		}
	}

	/*
	 * Styles for the "before" button when the widget has a selection handle. Because some space
	 * is consumed by the handle, the button must be moved slightly to the right to let it breathe.
	 */
	&.ck-widget_with-selection-handle > .ck-widget__type-around > .ck-widget__type-around__button_before {
		margin-left: 20px;
	}

	/*
	 * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.
	 */
	& .ck-widget__type-around__fake-caret {
		pointer-events: none;
		height: 1px;
		animation: ck-widget-type-around-fake-caret-pulse linear 1s infinite normal forwards;

		/*
		 * The semi-transparent-outline+background combo improves the contrast
		 * when the background underneath the fake caret is dark.
		 */
		outline: solid 1px hsla(0, 0%, 100%, .5);
		background: var(--ck-color-base-text);
	}

	/*
	 * Styles of the widget when the "fake caret" is blinking (e.g. upon keyboard navigation).
	 * Despite the widget being physically selected in the model, its outline should disappear.
	 */
	&.ck-widget_selected {
		&.ck-widget_type-around_show-fake-caret_before,
		&.ck-widget_type-around_show-fake-caret_after {
			outline-color: transparent;
		}
	}

	&.ck-widget_type-around_show-fake-caret_before,
	&.ck-widget_type-around_show-fake-caret_after {
		/*
		 * When the "fake caret" is visible we simulate that the widget is not selected
		 * (despite being physically selected), so the outline color should be for the
		 * unselected widget.
		 */
		&.ck-widget_selected:hover {
			outline-color: var(--ck-color-widget-hover-border);
		}

		/*
		 * Styles of the type around buttons when the "fake caret" is blinking (e.g. upon keyboard navigation).
		 * In this state, the type around buttons would collide with the fake carets so they should disappear.
		 */
		& > .ck-widget__type-around > .ck-widget__type-around__button {
			@mixin ck-widget-type-around-button-hidden;
		}

		/*
		 * Fake horizontal caret integration with the selection handle. When the caret is visible, simply
		 * hide the handle because it intersects with the caret (and does not make much sense anyway).
		 */
		&.ck-widget_with-selection-handle {
			&.ck-widget_selected,
			&.ck-widget_selected:hover {
				& > .ck-widget__selection-handle {
					opacity: 0
				}
			}
		}

		/*
		 * Fake horizontal caret integration with the resize UI. When the caret is visible, simply
		 * hide the resize UI because it creates too much noise. It can be visible when the user
		 * hovers the widget, though.
		 */
		&.ck-widget_selected.ck-widget_with-resizer > .ck-widget__resizer {
			opacity: 0
		}
	}
}

/*
 * Styles for the "before" button when the widget has a selection handle in an RTL environment.
 * The selection handler is aligned to the right side of the widget so there is no need to create
 * additional space for it next to the "before" button.
 */
.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around > .ck-widget__type-around__button_before {
	margin-left: 0;
	margin-right: 20px;
}

/*
 * Hide type around buttons when the widget is selected as a child of a selected
 * nested editable (e.g. mulit-cell table selection).
 *
 * See https://github.com/ckeditor/ckeditor5/issues/7263.
 */
.ck-editor__nested-editable.ck-editor__editable_selected {
	& .ck-widget {
		&.ck-widget_selected,
		&:hover {
			& > .ck-widget__type-around > .ck-widget__type-around__button {
				@mixin ck-widget-type-around-button-hidden;
			}
		}
	}
}

/*
 * Styles for the buttons when the widget is selected but the user clicked outside of the editor (blurred the editor).
 */
.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button:not(:hover) {
	background: var(--ck-color-widget-type-around-button-blurred-editable);

	& svg * {
		stroke: hsl(0,0%,60%);
	}
}

@keyframes ck-widget-type-around-arrow-dash {
	0% {
		stroke-dashoffset: 10;
	}
	20%, 100% {
		stroke-dashoffset: 0;
	}
}

@keyframes ck-widget-type-around-arrow-tip-dash {
	0%, 20% {
		stroke-dashoffset: 7;
	}
	40%, 100% {
		stroke-dashoffset: 0;
	}
}

@keyframes ck-widget-type-around-button-sonar {
	0% {
		box-shadow: 0 0 0 0 hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));
	}
	50% {
		box-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-end-alpha));
	}
	100% {
		box-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));
	}
}

@keyframes ck-widget-type-around-fake-caret-pulse {
	0% {
		opacity: 1;
	}
	49% {
		opacity: 1;
	}
	50% {
		opacity: 0;
	}
	99% {
		opacity: 0;
	}
	100% {
		opacity: 1;
	}
}
`],sourceRoot:""}]);const S=y},935:l=>{l.exports=function(d){var f=[];return f.toString=function(){return this.map((function(m){var v=d(m);return m[2]?"@media ".concat(m[2]," {").concat(v,"}"):v})).join("")},f.i=function(m,v,C){typeof m=="string"&&(m=[[null,m,""]]);var y={};if(C)for(var S=0;S<this.length;S++){var E=this[S][0];E!=null&&(y[E]=!0)}for(var T=0;T<m.length;T++){var P=[].concat(m[T]);C&&y[P[0]]||(v&&(P[2]?P[2]="".concat(v," and ").concat(P[2]):P[2]=v),f.push(P))}},f}},9372:l=>{function d(m,v){return(function(C){if(Array.isArray(C))return C})(m)||(function(C,y){var S=C&&(typeof Symbol<"u"&&C[Symbol.iterator]||C["@@iterator"]);if(S!=null){var E,T,P=[],N=!0,j=!1;try{for(S=S.call(C);!(N=(E=S.next()).done)&&(P.push(E.value),!y||P.length!==y);N=!0);}catch(L){j=!0,T=L}finally{try{N||S.return==null||S.return()}finally{if(j)throw T}}return P}})(m,v)||(function(C,y){if(C){if(typeof C=="string")return f(C,y);var S=Object.prototype.toString.call(C).slice(8,-1);if(S==="Object"&&C.constructor&&(S=C.constructor.name),S==="Map"||S==="Set")return Array.from(C);if(S==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(S))return f(C,y)}})(m,v)||(function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function f(m,v){(v==null||v>m.length)&&(v=m.length);for(var C=0,y=new Array(v);C<v;C++)y[C]=m[C];return y}l.exports=function(m){var v=d(m,4),C=v[1],y=v[3];if(!y)return C;if(typeof btoa=="function"){var S=btoa(unescape(encodeURIComponent(JSON.stringify(y)))),E="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(S),T="/*# ".concat(E," */"),P=y.sources.map((function(N){return"/*# sourceURL=".concat(y.sourceRoot||"").concat(N," */")}));return[C].concat(P).concat([T]).join(`
`)}return[C].join(`
`)}},2591:(l,d,f)=>{var m,v=function(){return m===void 0&&(m=!!(window&&document&&document.all&&!window.atob)),m},C=(function(){var z={};return function(K){if(z[K]===void 0){var te=document.querySelector(K);if(window.HTMLIFrameElement&&te instanceof window.HTMLIFrameElement)try{te=te.contentDocument.head}catch{te=null}z[K]=te}return z[K]}})(),y=[];function S(z){for(var K=-1,te=0;te<y.length;te++)if(y[te].identifier===z){K=te;break}return K}function E(z,K){for(var te={},ae=[],X=0;X<z.length;X++){var Z=z[X],se=K.base?Z[0]+K.base:Z[0],Q=te[se]||0,J="".concat(se," ").concat(Q);te[se]=Q+1;var re=S(J),ee={css:Z[1],media:Z[2],sourceMap:Z[3]};re!==-1?(y[re].references++,y[re].updater(ee)):y.push({identifier:J,updater:$(ee,K),references:1}),ae.push(J)}return ae}function T(z){var K=document.createElement("style"),te=z.attributes||{};if(te.nonce===void 0){var ae=f.nc;ae&&(te.nonce=ae)}if(Object.keys(te).forEach((function(Z){K.setAttribute(Z,te[Z])})),typeof z.insert=="function")z.insert(K);else{var X=C(z.insert||"head");if(!X)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");X.appendChild(K)}return K}var P,N=(P=[],function(z,K){return P[z]=K,P.filter(Boolean).join(`
`)});function j(z,K,te,ae){var X=te?"":ae.media?"@media ".concat(ae.media," {").concat(ae.css,"}"):ae.css;if(z.styleSheet)z.styleSheet.cssText=N(K,X);else{var Z=document.createTextNode(X),se=z.childNodes;se[K]&&z.removeChild(se[K]),se.length?z.insertBefore(Z,se[K]):z.appendChild(Z)}}function L(z,K,te){var ae=te.css,X=te.media,Z=te.sourceMap;if(X?z.setAttribute("media",X):z.removeAttribute("media"),Z&&typeof btoa<"u"&&(ae+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(Z))))," */")),z.styleSheet)z.styleSheet.cssText=ae;else{for(;z.firstChild;)z.removeChild(z.firstChild);z.appendChild(document.createTextNode(ae))}}var V=null,U=0;function $(z,K){var te,ae,X;if(K.singleton){var Z=U++;te=V||(V=T(K)),ae=j.bind(null,te,Z,!1),X=j.bind(null,te,Z,!0)}else te=T(K),ae=L.bind(null,te,K),X=function(){(function(se){if(se.parentNode===null)return!1;se.parentNode.removeChild(se)})(te)};return ae(z),function(se){if(se){if(se.css===z.css&&se.media===z.media&&se.sourceMap===z.sourceMap)return;ae(z=se)}else X()}}l.exports=function(z,K){(K=K||{}).singleton||typeof K.singleton=="boolean"||(K.singleton=v());var te=E(z=z||[],K);return function(ae){if(ae=ae||[],Object.prototype.toString.call(ae)==="[object Array]"){for(var X=0;X<te.length;X++){var Z=S(te[X]);y[Z].references--}for(var se=E(ae,K),Q=0;Q<te.length;Q++){var J=S(te[Q]);y[J].references===0&&(y[J].updater(),y.splice(J,1))}te=se}}}}},r={};function o(l){var d=r[l];if(d!==void 0)return d.exports;var f=r[l]={id:l,exports:{}};return n[l](f,f.exports,o),f.exports}o.n=l=>{var d=l&&l.__esModule?()=>l.default:()=>l;return o.d(d,{a:d}),d},o.d=(l,d)=>{for(var f in d)o.o(d,f)&&!o.o(l,f)&&Object.defineProperty(l,f,{enumerable:!0,get:d[f]})},o.o=(l,d)=>Object.prototype.hasOwnProperty.call(l,d),o.nc=void 0;var a={};return(()=>{let l;o.d(a,{default:()=>gM});try{l={window,document}}catch{l={window:{},document:{}}}const d=l,f=(function(){try{return navigator.userAgent.toLowerCase()}catch{return""}})();var m;const v={isMac:C(f),isWindows:(m=f,m.indexOf("windows")>-1),isGecko:(function(u){return!!u.match(/gecko\/\d+/)})(f),isSafari:(function(u){return u.indexOf(" applewebkit/")>-1&&u.indexOf("chrome")===-1})(f),isiOS:(function(u){return!!u.match(/iphone|ipad/i)||C(u)&&navigator.maxTouchPoints>0})(f),isAndroid:(function(u){return u.indexOf("android")>-1})(f),isBlink:(function(u){return u.indexOf("chrome/")>-1&&u.indexOf("edge/")<0})(f),features:{isRegExpUnicodePropertySupported:(function(){let u=!1;try{u="".search(new RegExp("[\\p{L}]","u"))===0}catch{}return u})()}};function C(u){return u.indexOf("macintosh")>-1}function y(u,i,s,c){s=s||function(_,R){return _===R};const h=Array.isArray(u)?u:Array.prototype.slice.call(u),g=Array.isArray(i)?i:Array.prototype.slice.call(i),w=(function(_,R,I){const F=S(_,R,I);if(F===-1)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};const H=E(_,F),G=E(R,F),W=S(H,G,I),Y=_.length-W,ie=R.length-W;return{firstIndex:F,lastIndexOld:Y,lastIndexNew:ie}})(h,g,s);return c?(function(_,R){const{firstIndex:I,lastIndexOld:F,lastIndexNew:H}=_;if(I===-1)return Array(R).fill("equal");let G=[];return I>0&&(G=G.concat(Array(I).fill("equal"))),H-I>0&&(G=G.concat(Array(H-I).fill("insert"))),F-I>0&&(G=G.concat(Array(F-I).fill("delete"))),H<R&&(G=G.concat(Array(R-H).fill("equal"))),G})(w,g.length):(function(_,R){const I=[],{firstIndex:F,lastIndexOld:H,lastIndexNew:G}=R;return G-F>0&&I.push({index:F,type:"insert",values:_.slice(F,G)}),H-F>0&&I.push({index:F+(G-F),type:"delete",howMany:H-F}),I})(g,w)}function S(u,i,s){for(let c=0;c<Math.max(u.length,i.length);c++)if(u[c]===void 0||i[c]===void 0||!s(u[c],i[c]))return c;return-1}function E(u,i){return u.slice(i).reverse()}function T(u,i,s){s=s||function(Y,ie){return Y===ie};const c=u.length,h=i.length;if(c>200||h>200||c+h>300)return T.fastDiff(u,i,s,!0);let g,w;if(h<c){const Y=u;u=i,i=Y,g="delete",w="insert"}else g="insert",w="delete";const k=u.length,_=i.length,R=_-k,I={},F={};function H(Y){const ie=(F[Y-1]!==void 0?F[Y-1]:-1)+1,de=F[Y+1]!==void 0?F[Y+1]:-1,ge=ie>de?-1:1;I[Y+ge]&&(I[Y]=I[Y+ge].slice(0)),I[Y]||(I[Y]=[]),I[Y].push(ie>de?g:w);let Ce=Math.max(ie,de),Fe=Ce-Y;for(;Fe<k&&Ce<_&&s(u[Fe],i[Ce]);)Fe++,Ce++,I[Y].push("equal");return Ce}let G,W=0;do{for(G=-W;G<R;G++)F[G]=H(G);for(G=R+W;G>R;G--)F[G]=H(G);F[R]=H(R),W++}while(F[R]!==_);return I[R].slice(1)}T.fastDiff=y;const P=function(){return function u(){u.called=!0}};class N{constructor(i,s){this.source=i,this.name=s,this.path=[],this.stop=P(),this.off=P()}}const j=new Array(256).fill("").map(((u,i)=>("0"+i.toString(16)).slice(-2)));function L(){const u=4294967296*Math.random()>>>0,i=4294967296*Math.random()>>>0,s=4294967296*Math.random()>>>0,c=4294967296*Math.random()>>>0;return"e"+j[255&u]+j[u>>8&255]+j[u>>16&255]+j[u>>24&255]+j[255&i]+j[i>>8&255]+j[i>>16&255]+j[i>>24&255]+j[255&s]+j[s>>8&255]+j[s>>16&255]+j[s>>24&255]+j[255&c]+j[c>>8&255]+j[c>>16&255]+j[c>>24&255]}const V={get(u="normal"){return typeof u!="number"?this[u]||this.normal:u},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};function U(u,i){const s=V.get(i.priority);for(let c=0;c<u.length;c++)if(V.get(u[c].priority)<s)return void u.splice(c,0,i);u.push(i)}const $="https://ckeditor.com/docs/ckeditor5/latest/support/error-codes.html";class z extends Error{constructor(i,s,c){super((function(h,g){const w=new WeakSet,k=(I,F)=>{if(typeof F=="object"&&F!==null){if(w.has(F))return`[object ${F.constructor.name}]`;w.add(F)}return F},_=g?` ${JSON.stringify(g,k)}`:"",R=ae(h);return h+_+R})(i,c)),this.name="CKEditorError",this.context=s,this.data=c}is(i){return i==="CKEditorError"}static rethrowUnexpectedError(i,s){if(i.is&&i.is("CKEditorError"))throw i;const c=new z(i.message,s);throw c.stack=i.stack,c}}function K(u,i){console.warn(...X(u,i))}function te(u,i){console.error(...X(u,i))}function ae(u){return`
Read more: ${$}#error-${u}`}function X(u,i){const s=ae(u);return i?[u,i,s]:[u,s]}const Z="41.4.2",se=new Date(2024,4,17);if(globalThis.CKEDITOR_VERSION)throw new z("ckeditor-duplicated-modules",null);globalThis.CKEDITOR_VERSION=Z;const Q=Symbol("listeningTo"),J=Symbol("emitterId"),re=Symbol("delegations"),ee=le(Object);function le(u){return u?class extends u{on(i,s,c){this.listenTo(this,i,s,c)}once(i,s,c){let h=!1;this.listenTo(this,i,((g,...w)=>{h||(h=!0,g.off(),s.call(this,g,...w))}),c)}off(i,s){this.stopListening(this,i,s)}listenTo(i,s,c,h={}){let g,w;this[Q]||(this[Q]={});const k=this[Q];he(i)||ce(i);const _=he(i);(g=k[_])||(g=k[_]={emitter:i,callbacks:{}}),(w=g.callbacks[s])||(w=g.callbacks[s]=[]),w.push(c),(function(R,I,F,H,G){I._addEventListener?I._addEventListener(F,H,G):R._addEventListener.call(I,F,H,G)})(this,i,s,c,h)}stopListening(i,s,c){const h=this[Q];let g=i&&he(i);const w=h&&g?h[g]:void 0,k=w&&s?w.callbacks[s]:void 0;if(!(!h||i&&!w||s&&!k))if(c)Oe(this,i,s,c),k.indexOf(c)!==-1&&(k.length===1?delete w.callbacks[s]:Oe(this,i,s,c));else if(k){for(;c=k.pop();)Oe(this,i,s,c);delete w.callbacks[s]}else if(w){for(s in w.callbacks)this.stopListening(i,s);delete h[g]}else{for(g in h)this.stopListening(h[g].emitter);delete this[Q]}}fire(i,...s){try{const c=i instanceof N?i:new N(this,i),h=c.name;let g=ve(this,h);if(c.path.push(this),g){const k=[c,...s];g=Array.from(g);for(let _=0;_<g.length&&(g[_].callback.apply(this,k),c.off.called&&(delete c.off.called,this._removeEventListener(h,g[_].callback)),!c.stop.called);_++);}const w=this[re];if(w){const k=w.get(h),_=w.get("*");k&&me(k,c,s),_&&me(_,c,s)}return c.return}catch(c){z.rethrowUnexpectedError(c,this)}}delegate(...i){return{to:(s,c)=>{this[re]||(this[re]=new Map),i.forEach((h=>{const g=this[re].get(h);g?g.set(s,c):this[re].set(h,new Map([[s,c]]))}))}}}stopDelegating(i,s){if(this[re])if(i)if(s){const c=this[re].get(i);c&&c.delete(s)}else this[re].delete(i);else this[re].clear()}_addEventListener(i,s,c){(function(w,k){const _=ne(w);if(_[k])return;let R=k,I=null;const F=[];for(;R!==""&&!_[R];)_[R]={callbacks:[],childEvents:[]},F.push(_[R]),I&&_[R].childEvents.push(I),I=R,R=R.substr(0,R.lastIndexOf(":"));if(R!==""){for(const H of F)H.callbacks=_[R].callbacks.slice();_[R].childEvents.push(I)}})(this,i);const h=fe(this,i),g={callback:s,priority:V.get(c.priority)};for(const w of h)U(w,g)}_removeEventListener(i,s){const c=fe(this,i);for(const h of c)for(let g=0;g<h.length;g++)h[g].callback==s&&(h.splice(g,1),g--)}}:ee}function ce(u,i){u[J]||(u[J]=i||L())}function he(u){return u[J]}function ne(u){return u._events||Object.defineProperty(u,"_events",{value:{}}),u._events}function fe(u,i){const s=ne(u)[i];if(!s)return[];let c=[s.callbacks];for(let h=0;h<s.childEvents.length;h++){const g=fe(u,s.childEvents[h]);c=c.concat(g)}return c}function ve(u,i){let s;return u._events&&(s=u._events[i])&&s.callbacks.length?s.callbacks:i.indexOf(":")>-1?ve(u,i.substr(0,i.lastIndexOf(":"))):null}function me(u,i,s){for(let[c,h]of u){h?typeof h=="function"&&(h=h(i.name)):h=i.name;const g=new N(i.source,h);g.path=[...i.path],c.fire(g,...s)}}function Oe(u,i,s,c){i._removeEventListener?i._removeEventListener(s,c):u._removeEventListener.call(i,s,c)}["on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach((u=>{le[u]=ee.prototype[u]}));const _e=function(u){var i=typeof u;return u!=null&&(i=="object"||i=="function")},Ue=Symbol("observableProperties"),pt=Symbol("boundObservables"),Ee=Symbol("boundProperties"),Te=Symbol("decoratedMethods"),Ze=Symbol("decoratedOriginal"),De=et(le());function et(u){return u?class extends u{set(i,s){if(_e(i))return void Object.keys(i).forEach((h=>{this.set(h,i[h])}),this);lt(this);const c=this[Ue];if(i in this&&!c.has(i))throw new z("observable-set-cannot-override",this);Object.defineProperty(this,i,{enumerable:!0,configurable:!0,get:()=>c.get(i),set(h){const g=c.get(i);let w=this.fire(`set:${i}`,i,h,g);w===void 0&&(w=h),g===w&&c.has(i)||(c.set(i,w),this.fire(`change:${i}`,i,w,g))}}),this[i]=s}bind(...i){if(!i.length||!Nt(i))throw new z("observable-bind-wrong-properties",this);if(new Set(i).size!==i.length)throw new z("observable-bind-duplicate-properties",this);lt(this);const s=this[Ee];i.forEach((h=>{if(s.has(h))throw new z("observable-bind-rebind",this)}));const c=new Map;return i.forEach((h=>{const g={property:h,to:[]};s.set(h,g),c.set(h,g)})),{to:yt,toMany:it,_observable:this,_bindProperties:i,_to:[],_bindings:c}}unbind(...i){if(!this[Ue])return;const s=this[Ee],c=this[pt];if(i.length){if(!Nt(i))throw new z("observable-unbind-wrong-properties",this);i.forEach((h=>{const g=s.get(h);g&&(g.to.forEach((([w,k])=>{const _=c.get(w),R=_[k];R.delete(g),R.size||delete _[k],Object.keys(_).length||(c.delete(w),this.stopListening(w,"change"))})),s.delete(h))}))}else c.forEach(((h,g)=>{this.stopListening(g,"change")})),c.clear(),s.clear()}decorate(i){lt(this);const s=this[i];if(!s)throw new z("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:i});this.on(i,((c,h)=>{c.return=s.apply(this,h)})),this[i]=function(...c){return this.fire(i,c)},this[i][Ze]=s,this[Te]||(this[Te]=[]),this[Te].push(i)}stopListening(i,s,c){if(!i&&this[Te]){for(const h of this[Te])this[h]=this[h][Ze];delete this[Te]}super.stopListening(i,s,c)}}:De}function lt(u){u[Ue]||(Object.defineProperty(u,Ue,{value:new Map}),Object.defineProperty(u,pt,{value:new Map}),Object.defineProperty(u,Ee,{value:new Map}))}function yt(...u){const i=(function(...g){if(!g.length)throw new z("observable-bind-to-parse-error",null);const w={to:[]};let k;return typeof g[g.length-1]=="function"&&(w.callback=g.pop()),g.forEach((_=>{if(typeof _=="string")k.properties.push(_);else{if(typeof _!="object")throw new z("observable-bind-to-parse-error",null);k={observable:_,properties:[]},w.to.push(k)}})),w})(...u),s=Array.from(this._bindings.keys()),c=s.length;if(!i.callback&&i.to.length>1)throw new z("observable-bind-to-no-callback",this);if(c>1&&i.callback)throw new z("observable-bind-to-extra-callback",this);var h;i.to.forEach((g=>{if(g.properties.length&&g.properties.length!==c)throw new z("observable-bind-to-properties-length",this);g.properties.length||(g.properties=this._bindProperties)})),this._to=i.to,i.callback&&(this._bindings.get(s[0]).callback=i.callback),h=this._observable,this._to.forEach((g=>{const w=h[pt];let k;w.get(g.observable)||h.listenTo(g.observable,"change",((_,R)=>{k=w.get(g.observable)[R],k&&k.forEach((I=>{kn(h,I.property)}))}))})),(function(g){let w;g._bindings.forEach(((k,_)=>{g._to.forEach((R=>{w=R.properties[k.callback?0:g._bindProperties.indexOf(_)],k.to.push([R.observable,w]),(function(I,F,H,G){const W=I[pt],Y=W.get(H),ie=Y||{};ie[G]||(ie[G]=new Set),ie[G].add(F),Y||W.set(H,ie)})(g._observable,k,R.observable,w)}))}))})(this),this._bindProperties.forEach((g=>{kn(this._observable,g)}))}function it(u,i,s){if(this._bindings.size>1)throw new z("observable-bind-to-many-not-one-binding",this);this.to(...(function(c,h){const g=c.map((w=>[w,h]));return Array.prototype.concat.apply([],g)})(u,i),s)}function Nt(u){return u.every((i=>typeof i=="string"))}function kn(u,i){const s=u[Ee].get(i);let c;s.callback?c=s.callback.apply(u,s.to.map((h=>h[0][h[1]]))):(c=s.to[0],c=c[0][c[1]]),Object.prototype.hasOwnProperty.call(u,i)?u[i]=c:u.set(i,c)}["set","bind","unbind","decorate","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach((u=>{et[u]=De.prototype[u]}));class Zn{constructor(){this._replacedElements=[]}replace(i,s){this._replacedElements.push({element:i,newElement:s}),i.style.display="none",s&&i.parentNode.insertBefore(s,i.nextSibling)}restore(){this._replacedElements.forEach((({element:i,newElement:s})=>{i.style.display="",s&&s.remove()})),this._replacedElements=[]}}function mt(u){let i=0;for(const s of u)i++;return i}function bt(u,i){const s=Math.min(u.length,i.length);for(let c=0;c<s;c++)if(u[c]!=i[c])return c;return u.length==i.length?"same":u.length<i.length?"prefix":"extension"}function Kt(u){return!(!u||!u[Symbol.iterator])}const di=typeof KA=="object"&&KA&&KA.Object===Object&&KA;var Gt=typeof self=="object"&&self&&self.Object===Object&&self;const ir=di||Gt||Function("return this")(),Br=ir.Symbol;var So=Object.prototype,cn=So.hasOwnProperty,Pr=So.toString,Es=Br?Br.toStringTag:void 0;const vv=function(u){var i=cn.call(u,Es),s=u[Es];try{u[Es]=void 0;var c=!0}catch{}var h=Pr.call(u);return c&&(i?u[Es]=s:delete u[Es]),h};var ug=Object.prototype.toString;const kc=function(u){return ug.call(u)};var Qr=Br?Br.toStringTag:void 0;const jr=function(u){return u==null?u===void 0?"[object Undefined]":"[object Null]":Qr&&Qr in Object(u)?vv(u):kc(u)},xn=Array.isArray,Si=function(u){return u!=null&&typeof u=="object"},We=function(u){return typeof u=="string"||!xn(u)&&Si(u)&&jr(u)=="[object String]"};function ft(u,i,s={},c=[]){const h=s&&s.xmlns,g=h?u.createElementNS(h,i):u.createElement(i);for(const w in s)g.setAttribute(w,s[w]);!We(c)&&Kt(c)||(c=[c]);for(let w of c)We(w)&&(w=u.createTextNode(w)),g.appendChild(w);return g}const $n=function(u,i){return function(s){return u(i(s))}},pr=$n(Object.getPrototypeOf,Object);var lu=Function.prototype,ma=Object.prototype,Zh=lu.toString,Xh=ma.hasOwnProperty,CD=Zh.call(Object);const _i=function(u){if(!Si(u)||jr(u)!="[object Object]")return!1;var i=pr(u);if(i===null)return!0;var s=Xh.call(i,"constructor")&&i.constructor;return typeof s=="function"&&s instanceof s&&Zh.call(s)==CD},wv=function(){this.__data__=[],this.size=0},ba=function(u,i){return u===i||u!=u&&i!=i},hg=function(u,i){for(var s=u.length;s--;)if(ba(u[s][0],i))return s;return-1};var ek=Array.prototype.splice;const tk=function(u){var i=this.__data__,s=hg(i,u);return!(s<0)&&(s==i.length-1?i.pop():ek.call(i,s,1),--this.size,!0)},nk=function(u){var i=this.__data__,s=hg(i,u);return s<0?void 0:i[s][1]},Cv=function(u){return hg(this.__data__,u)>-1},yv=function(u,i){var s=this.__data__,c=hg(s,u);return c<0?(++this.size,s.push([u,i])):s[c][1]=i,this};function xc(u){var i=-1,s=u==null?0:u.length;for(this.clear();++i<s;){var c=u[i];this.set(c[0],c[1])}}xc.prototype.clear=wv,xc.prototype.delete=tk,xc.prototype.get=nk,xc.prototype.has=Cv,xc.prototype.set=yv;const Jh=xc,cl=function(){this.__data__=new Jh,this.size=0},zr=function(u){var i=this.__data__,s=i.delete(u);return this.size=i.size,s},Ei=function(u){return this.__data__.get(u)},cu=function(u){return this.__data__.has(u)},va=function(u){if(!_e(u))return!1;var i=jr(u);return i=="[object Function]"||i=="[object GeneratorFunction]"||i=="[object AsyncFunction]"||i=="[object Proxy]"},kv=ir["__core-js_shared__"];var rk=(function(){var u=/[^.]+$/.exec(kv&&kv.keys&&kv.keys.IE_PROTO||"");return u?"Symbol(src)_1."+u:""})();const ik=function(u){return!!rk&&rk in u};var ef=Function.prototype.toString;const wa=function(u){if(u!=null){try{return ef.call(u)}catch{}try{return u+""}catch{}}return""};var du=/^\[object .+?Constructor\]$/,uu=Function.prototype,tf=Object.prototype,hu=uu.toString,Ir=tf.hasOwnProperty,ok=RegExp("^"+hu.call(Ir).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const sk=function(u){return!(!_e(u)||ik(u))&&(va(u)?ok:du).test(wa(u))},Ac=function(u,i){return u?.[i]},_o=function(u,i){var s=Ac(u,i);return sk(s)?s:void 0},nf=_o(ir,"Map"),fu=_o(Object,"create"),ak=function(){this.__data__=fu?fu(null):{},this.size=0},yD=function(u){var i=this.has(u)&&delete this.__data__[u];return this.size-=i?1:0,i};var fg=Object.prototype.hasOwnProperty;const pg=function(u){var i=this.__data__;if(fu){var s=i[u];return s==="__lodash_hash_undefined__"?void 0:s}return fg.call(i,u)?i[u]:void 0};var Ca=Object.prototype.hasOwnProperty;const Eo=function(u){var i=this.__data__;return fu?i[u]!==void 0:Ca.call(i,u)},lk=function(u,i){var s=this.__data__;return this.size+=this.has(u)?0:1,s[u]=fu&&i===void 0?"__lodash_hash_undefined__":i,this};function pu(u){var i=-1,s=u==null?0:u.length;for(this.clear();++i<s;){var c=u[i];this.set(c[0],c[1])}}pu.prototype.clear=ak,pu.prototype.delete=yD,pu.prototype.get=pg,pu.prototype.has=Eo,pu.prototype.set=lk;const gg=pu,ck=function(){this.size=0,this.__data__={hash:new gg,map:new(nf||Jh),string:new gg}},mg=function(u){var i=typeof u;return i=="string"||i=="number"||i=="symbol"||i=="boolean"?u!=="__proto__":u===null},bg=function(u,i){var s=u.__data__;return mg(i)?s[typeof i=="string"?"string":"hash"]:s.map},Do=function(u){var i=bg(this,u).delete(u);return this.size-=i?1:0,i},xv=function(u){return bg(this,u).get(u)},dk=function(u){return bg(this,u).has(u)},Av=function(u,i){var s=bg(this,u),c=s.size;return s.set(u,i),this.size+=s.size==c?0:1,this};function os(u){var i=-1,s=u==null?0:u.length;for(this.clear();++i<s;){var c=u[i];this.set(c[0],c[1])}}os.prototype.clear=ck,os.prototype.delete=Do,os.prototype.get=xv,os.prototype.has=dk,os.prototype.set=Av;const rf=os,uk=function(u,i){var s=this.__data__;if(s instanceof Jh){var c=s.__data__;if(!nf||c.length<199)return c.push([u,i]),this.size=++s.size,this;s=this.__data__=new rf(c)}return s.set(u,i),this.size=s.size,this};function ss(u){var i=this.__data__=new Jh(u);this.size=i.size}ss.prototype.clear=cl,ss.prototype.delete=zr,ss.prototype.get=Ei,ss.prototype.has=cu,ss.prototype.set=uk;const gu=ss,hk=function(u,i){for(var s=-1,c=u==null?0:u.length;++s<c&&i(u[s],s,u)!==!1;);return u},of=(function(){try{var u=_o(Object,"defineProperty");return u({},"",{}),u}catch{}})(),mu=function(u,i,s){i=="__proto__"&&of?of(u,i,{configurable:!0,enumerable:!0,value:s,writable:!0}):u[i]=s};var kD=Object.prototype.hasOwnProperty;const Sv=function(u,i,s){var c=u[i];kD.call(u,i)&&ba(c,s)&&(s!==void 0||i in u)||mu(u,i,s)},ya=function(u,i,s,c){var h=!s;s||(s={});for(var g=-1,w=i.length;++g<w;){var k=i[g],_=void 0;_===void 0&&(_=u[k]),h?mu(s,k,_):Sv(s,k,_)}return s},ka=function(u,i){for(var s=-1,c=Array(u);++s<u;)c[s]=i(s);return c},vg=function(u){return Si(u)&&jr(u)=="[object Arguments]"};var wg=Object.prototype,bu=wg.hasOwnProperty,vu=wg.propertyIsEnumerable;const sf=vg((function(){return arguments})())?vg:function(u){return Si(u)&&bu.call(u,"callee")&&!vu.call(u,"callee")},_v=function(){return!1};var Ev=t&&!t.nodeType&&t,wu=Ev&&!0&&e&&!e.nodeType&&e,Ds=wu&&wu.exports===Ev?ir.Buffer:void 0;const Sc=(Ds?Ds.isBuffer:void 0)||_v;var af=/^(?:0|[1-9]\d*)$/;const as=function(u,i){var s=typeof u;return!!(i=i??9007199254740991)&&(s=="number"||s!="symbol"&&af.test(u))&&u>-1&&u%1==0&&u<i},lf=function(u){return typeof u=="number"&&u>-1&&u%1==0&&u<=9007199254740991};var gn={};gn["[object Float32Array]"]=gn["[object Float64Array]"]=gn["[object Int8Array]"]=gn["[object Int16Array]"]=gn["[object Int32Array]"]=gn["[object Uint8Array]"]=gn["[object Uint8ClampedArray]"]=gn["[object Uint16Array]"]=gn["[object Uint32Array]"]=!0,gn["[object Arguments]"]=gn["[object Array]"]=gn["[object ArrayBuffer]"]=gn["[object Boolean]"]=gn["[object DataView]"]=gn["[object Date]"]=gn["[object Error]"]=gn["[object Function]"]=gn["[object Map]"]=gn["[object Number]"]=gn["[object Object]"]=gn["[object RegExp]"]=gn["[object Set]"]=gn["[object String]"]=gn["[object WeakMap]"]=!1;const fk=function(u){return Si(u)&&lf(u.length)&&!!gn[jr(u)]},Cu=function(u){return function(i){return u(i)}};var cf=t&&!t.nodeType&&t,yu=cf&&!0&&e&&!e.nodeType&&e,Zr=yu&&yu.exports===cf&&di.process;const Mo=(function(){try{var u=yu&&yu.require&&yu.require("util").types;return u||Zr&&Zr.binding&&Zr.binding("util")}catch{}})();var df=Mo&&Mo.isTypedArray;const _c=df?Cu(df):fk;var xD=Object.prototype.hasOwnProperty;const Cg=function(u,i){var s=xn(u),c=!s&&sf(u),h=!s&&!c&&Sc(u),g=!s&&!c&&!h&&_c(u),w=s||c||h||g,k=w?ka(u.length,String):[],_=k.length;for(var R in u)!i&&!xD.call(u,R)||w&&(R=="length"||h&&(R=="offset"||R=="parent")||g&&(R=="buffer"||R=="byteLength"||R=="byteOffset")||as(R,_))||k.push(R);return k};var Dv=Object.prototype;const Ec=function(u){var i=u&&u.constructor;return u===(typeof i=="function"&&i.prototype||Dv)},yg=$n(Object.keys,Object);var pk=Object.prototype.hasOwnProperty;const AD=function(u){if(!Ec(u))return yg(u);var i=[];for(var s in Object(u))pk.call(u,s)&&s!="constructor"&&i.push(s);return i},kg=function(u){return u!=null&&lf(u.length)&&!va(u)},uf=function(u){return kg(u)?Cg(u):AD(u)},Mv=function(u,i){return u&&ya(i,uf(i),u)},SD=function(u){var i=[];if(u!=null)for(var s in Object(u))i.push(s);return i};var _D=Object.prototype.hasOwnProperty;const ED=function(u){if(!_e(u))return SD(u);var i=Ec(u),s=[];for(var c in u)(c!="constructor"||!i&&_D.call(u,c))&&s.push(c);return s},ku=function(u){return kg(u)?Cg(u,!0):ED(u)},DD=function(u,i){return u&&ya(i,ku(i),u)};var Tv=t&&!t.nodeType&&t,gk=Tv&&!0&&e&&!e.nodeType&&e,mk=gk&&gk.exports===Tv?ir.Buffer:void 0,bk=mk?mk.allocUnsafe:void 0;const vk=function(u,i){if(i)return u.slice();var s=u.length,c=bk?bk(s):new u.constructor(s);return u.copy(c),c},xg=function(u,i){var s=-1,c=u.length;for(i||(i=Array(c));++s<c;)i[s]=u[s];return i},MD=function(u,i){for(var s=-1,c=u==null?0:u.length,h=0,g=[];++s<c;){var w=u[s];i(w,s,u)&&(g[h++]=w)}return g},wk=function(){return[]};var TD=Object.prototype.propertyIsEnumerable,Rv=Object.getOwnPropertySymbols;const Pv=Rv?function(u){return u==null?[]:(u=Object(u),MD(Rv(u),(function(i){return TD.call(u,i)})))}:wk,RD=function(u,i){return ya(u,Pv(u),i)},Ck=function(u,i){for(var s=-1,c=i.length,h=u.length;++s<c;)u[h+s]=i[s];return u},yk=Object.getOwnPropertySymbols?function(u){for(var i=[];u;)Ck(i,Pv(u)),u=pr(u);return i}:wk,PD=function(u,i){return ya(u,yk(u),i)},kk=function(u,i,s){var c=i(u);return xn(u)?c:Ck(c,s(u))},Iv=function(u){return kk(u,uf,Pv)},ID=function(u){return kk(u,ku,yk)},Nv=_o(ir,"DataView"),hf=_o(ir,"Promise"),Dc=_o(ir,"Set"),Ov=_o(ir,"WeakMap");var Fv="[object Map]",Lv="[object Promise]",Bv="[object Set]",jv="[object WeakMap]",zv="[object DataView]",xu=wa(Nv),ND=wa(nf),OD=wa(hf),FD=wa(Dc),xk=wa(Ov),dl=jr;(Nv&&dl(new Nv(new ArrayBuffer(1)))!=zv||nf&&dl(new nf)!=Fv||hf&&dl(hf.resolve())!=Lv||Dc&&dl(new Dc)!=Bv||Ov&&dl(new Ov)!=jv)&&(dl=function(u){var i=jr(u),s=i=="[object Object]"?u.constructor:void 0,c=s?wa(s):"";if(c)switch(c){case xu:return zv;case ND:return Fv;case OD:return Lv;case FD:return Bv;case xk:return jv}return i});const xa=dl;var ff=Object.prototype.hasOwnProperty;const LD=function(u){var i=u.length,s=new u.constructor(i);return i&&typeof u[0]=="string"&&ff.call(u,"index")&&(s.index=u.index,s.input=u.input),s},Mc=ir.Uint8Array,Ag=function(u){var i=new u.constructor(u.byteLength);return new Mc(i).set(new Mc(u)),i},Ak=function(u,i){var s=i?Ag(u.buffer):u.buffer;return new u.constructor(s,u.byteOffset,u.byteLength)};var Hv=/\w*$/;const Vv=function(u){var i=new u.constructor(u.source,Hv.exec(u));return i.lastIndex=u.lastIndex,i};var Gv=Br?Br.prototype:void 0,Uv=Gv?Gv.valueOf:void 0;const Sk=function(u){return Uv?Object(Uv.call(u)):{}},_k=function(u,i){var s=i?Ag(u.buffer):u.buffer;return new u.constructor(s,u.byteOffset,u.length)},BD=function(u,i,s){var c=u.constructor;switch(i){case"[object ArrayBuffer]":return Ag(u);case"[object Boolean]":case"[object Date]":return new c(+u);case"[object DataView]":return Ak(u,s);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return _k(u,s);case"[object Map]":case"[object Set]":return new c;case"[object Number]":case"[object String]":return new c(u);case"[object RegExp]":return Vv(u);case"[object Symbol]":return Sk(u)}};var Ek=Object.create;const jD=(function(){function u(){}return function(i){if(!_e(i))return{};if(Ek)return Ek(i);u.prototype=i;var s=new u;return u.prototype=void 0,s}})(),Dk=function(u){return typeof u.constructor!="function"||Ec(u)?{}:jD(pr(u))},Xi=function(u){return Si(u)&&xa(u)=="[object Map]"};var Au=Mo&&Mo.isMap;const Mk=Au?Cu(Au):Xi,Tk=function(u){return Si(u)&&xa(u)=="[object Set]"};var Wv=Mo&&Mo.isSet;const Rk=Wv?Cu(Wv):Tk;var Sg="[object Arguments]",Pk="[object Function]",Tc="[object Object]",mn={};mn[Sg]=mn["[object Array]"]=mn["[object ArrayBuffer]"]=mn["[object DataView]"]=mn["[object Boolean]"]=mn["[object Date]"]=mn["[object Float32Array]"]=mn["[object Float64Array]"]=mn["[object Int8Array]"]=mn["[object Int16Array]"]=mn["[object Int32Array]"]=mn["[object Map]"]=mn["[object Number]"]=mn[Tc]=mn["[object RegExp]"]=mn["[object Set]"]=mn["[object String]"]=mn["[object Symbol]"]=mn["[object Uint8Array]"]=mn["[object Uint8ClampedArray]"]=mn["[object Uint16Array]"]=mn["[object Uint32Array]"]=!0,mn["[object Error]"]=mn[Pk]=mn["[object WeakMap]"]=!1;const Rc=function u(i,s,c,h,g,w){var k,_=1&s,R=2&s,I=4&s;if(c&&(k=g?c(i,h,g,w):c(i)),k!==void 0)return k;if(!_e(i))return i;var F=xn(i);if(F){if(k=LD(i),!_)return xg(i,k)}else{var H=xa(i),G=H==Pk||H=="[object GeneratorFunction]";if(Sc(i))return vk(i,_);if(H==Tc||H==Sg||G&&!g){if(k=R||G?{}:Dk(i),!_)return R?PD(i,DD(k,i)):RD(i,Mv(k,i))}else{if(!mn[H])return g?i:{};k=BD(i,H,_)}}w||(w=new gu);var W=w.get(i);if(W)return W;w.set(i,k),Rk(i)?i.forEach((function(ie){k.add(u(ie,s,c,ie,i,w))})):Mk(i)&&i.forEach((function(ie,de){k.set(de,u(ie,s,c,de,i,w))}));var Y=F?void 0:(I?R?ID:Iv:R?ku:uf)(i);return hk(Y||i,(function(ie,de){Y&&(ie=i[de=ie]),Sv(k,de,u(ie,s,c,de,i,w))})),k},pf=function(u,i){return Rc(u,5,i=typeof i=="function"?i:void 0)},ul=function(u){return Si(u)&&u.nodeType===1&&!_i(u)};class hl{constructor(i,s){this._config={},s&&this.define(Pc(s)),i&&this._setObjectToTarget(this._config,i)}set(i,s){this._setToTarget(this._config,i,s)}define(i,s){this._setToTarget(this._config,i,s,!0)}get(i){return this._getFromSource(this._config,i)}*names(){for(const i of Object.keys(this._config))yield i}_setToTarget(i,s,c,h=!1){if(_i(s))return void this._setObjectToTarget(i,s,h);const g=s.split(".");s=g.pop();for(const w of g)_i(i[w])||(i[w]={}),i=i[w];if(_i(c))return _i(i[s])||(i[s]={}),i=i[s],void this._setObjectToTarget(i,c,h);h&&i[s]!==void 0||(i[s]=c)}_getFromSource(i,s){const c=s.split(".");s=c.pop();for(const h of c){if(!_i(i[h])){i=null;break}i=i[h]}return i?Pc(i[s]):void 0}_setObjectToTarget(i,s,c){Object.keys(s).forEach((h=>{this._setToTarget(i,h,s[h],c)}))}}function Pc(u){return pf(u,$v)}function $v(u){return ul(u)||typeof u=="function"?u:void 0}function Aa(u){if(u){if(u.defaultView)return u instanceof u.defaultView.Document;if(u.ownerDocument&&u.ownerDocument.defaultView)return u instanceof u.ownerDocument.defaultView.Node}return!1}function Ms(u){const i=Object.prototype.toString.apply(u);return i=="[object Window]"||i=="[object global]"}const qv=Ji(le());function Ji(u){return u?class extends u{listenTo(i,s,c,h={}){if(Aa(i)||Ms(i)){const g={capture:!!h.useCapture,passive:!!h.usePassive},w=this._getProxyEmitter(i,g)||new Ik(i,g);this.listenTo(w,s,c,h)}else super.listenTo(i,s,c,h)}stopListening(i,s,c){if(Aa(i)||Ms(i)){const h=this._getAllProxyEmitters(i);for(const g of h)this.stopListening(g,s,c)}else super.stopListening(i,s,c)}_getProxyEmitter(i,s){return(function(c,h){const g=c[Q];return g&&g[h]?g[h].emitter:null})(this,Nk(i,s))}_getAllProxyEmitters(i){return[{capture:!1,passive:!1},{capture:!1,passive:!0},{capture:!0,passive:!1},{capture:!0,passive:!0}].map((s=>this._getProxyEmitter(i,s))).filter((s=>!!s))}}:qv}["_getProxyEmitter","_getAllProxyEmitters","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach((u=>{Ji[u]=qv.prototype[u]}));class Ik extends le(){constructor(i,s){super(),ce(this,Nk(i,s)),this._domNode=i,this._options=s}attach(i){if(this._domListeners&&this._domListeners[i])return;const s=this._createDomListener(i);this._domNode.addEventListener(i,s,this._options),this._domListeners||(this._domListeners={}),this._domListeners[i]=s}detach(i){let s;!this._domListeners[i]||(s=this._events[i])&&s.callbacks.length||this._domListeners[i].removeListener()}_addEventListener(i,s,c){this.attach(i),le().prototype._addEventListener.call(this,i,s,c)}_removeEventListener(i,s){le().prototype._removeEventListener.call(this,i,s),this.detach(i)}_createDomListener(i){const s=c=>{this.fire(i,c)};return s.removeListener=()=>{this._domNode.removeEventListener(i,s,this._options),delete this._domListeners[i]},s}}function Nk(u,i){let s=(function(c){return c["data-ck-expando"]||(c["data-ck-expando"]=L())})(u);for(const c of Object.keys(i).sort())i[c]&&(s+="-"+c);return s}function Ok(u){const i=u.ownerDocument.defaultView.getComputedStyle(u);return{top:parseInt(i.borderTopWidth,10),right:parseInt(i.borderRightWidth,10),bottom:parseInt(i.borderBottomWidth,10),left:parseInt(i.borderLeftWidth,10)}}function or(u){return Object.prototype.toString.call(u)=="[object Text]"}function gf(u){return Object.prototype.toString.apply(u)=="[object Range]"}function Kv(u){return u&&u.parentNode?u.offsetParent===d.document.body?null:u.offsetParent:null}const _g=["top","right","bottom","left","width","height"];class _t{constructor(i){const s=gf(i);if(Object.defineProperty(this,"_source",{value:i._source||i,writable:!0,enumerable:!1}),fl(i)||s)if(s){const c=_t.getDomRangeRects(i);Ic(this,_t.getBoundingRect(c))}else Ic(this,i.getBoundingClientRect());else if(Ms(i)){const{innerWidth:c,innerHeight:h}=i;Ic(this,{top:0,right:c,bottom:h,left:0,width:c,height:h})}else Ic(this,i)}clone(){return new _t(this)}moveTo(i,s){return this.top=s,this.right=i+this.width,this.bottom=s+this.height,this.left=i,this}moveBy(i,s){return this.top+=s,this.right+=i,this.left+=i,this.bottom+=s,this}getIntersection(i){const s={top:Math.max(this.top,i.top),right:Math.min(this.right,i.right),bottom:Math.min(this.bottom,i.bottom),left:Math.max(this.left,i.left),width:0,height:0};if(s.width=s.right-s.left,s.height=s.bottom-s.top,s.width<0||s.height<0)return null;{const c=new _t(s);return c._source=this._source,c}}getIntersectionArea(i){const s=this.getIntersection(i);return s?s.getArea():0}getArea(){return this.width*this.height}getVisible(){const i=this._source;let s=this.clone();if(eo(i))return s;let c,h=i,g=i.parentNode||i.commonAncestorContainer;for(;g&&!eo(g);){const k=((w=g)instanceof HTMLElement?w.ownerDocument.defaultView.getComputedStyle(w).overflow:"visible")==="visible";h instanceof HTMLElement&&Eg(h)==="absolute"&&(c=h);const _=Eg(g);if(k||c&&(_==="relative"&&k||_!=="relative")){h=g,g=g.parentNode;continue}const R=new _t(g),I=s.getIntersection(R);if(!I)return null;I.getArea()<s.getArea()&&(s=I),h=g,g=g.parentNode}var w;return s}isEqual(i){for(const s of _g)if(this[s]!==i[s])return!1;return!0}contains(i){const s=this.getIntersection(i);return!(!s||!s.isEqual(i))}toAbsoluteRect(){const{scrollX:i,scrollY:s}=d.window,c=this.clone().moveBy(i,s);if(fl(c._source)){const h=Kv(c._source);h&&(function(g,w){const k=new _t(w),_=Ok(w);let R=0,I=0;R-=k.left,I-=k.top,R+=w.scrollLeft,I+=w.scrollTop,R-=_.left,I-=_.top,g.moveBy(R,I)})(c,h)}return c}excludeScrollbarsAndBorders(){const i=this._source;let s,c,h;if(Ms(i))s=i.innerWidth-i.document.documentElement.clientWidth,c=i.innerHeight-i.document.documentElement.clientHeight,h=i.getComputedStyle(i.document.documentElement).direction;else{const g=Ok(i);s=i.offsetWidth-i.clientWidth-g.left-g.right,c=i.offsetHeight-i.clientHeight-g.top-g.bottom,h=i.ownerDocument.defaultView.getComputedStyle(i).direction,this.left+=g.left,this.top+=g.top,this.right-=g.right,this.bottom-=g.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=s,h==="ltr"?this.right-=s:this.left+=s,this.height-=c,this.bottom-=c,this}static getDomRangeRects(i){const s=[],c=Array.from(i.getClientRects());if(c.length)for(const h of c)s.push(new _t(h));else{let h=i.startContainer;or(h)&&(h=h.parentNode);const g=new _t(h.getBoundingClientRect());g.right=g.left,g.width=0,s.push(g)}return s}static getBoundingRect(i){const s={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY,width:0,height:0};let c=0;for(const h of i)c++,s.left=Math.min(s.left,h.left),s.top=Math.min(s.top,h.top),s.right=Math.max(s.right,h.right),s.bottom=Math.max(s.bottom,h.bottom);return c==0?null:(s.width=s.right-s.left,s.height=s.bottom-s.top,new _t(s))}}function Ic(u,i){for(const s of _g)u[s]=i[s]}function eo(u){return!!fl(u)&&u===u.ownerDocument.body}function fl(u){return u!==null&&typeof u=="object"&&u.nodeType===1&&typeof u.getBoundingClientRect=="function"}function Eg(u){return u instanceof HTMLElement?u.ownerDocument.defaultView.getComputedStyle(u).position:"static"}const Hn=class{constructor(u,i){Hn._observerInstance||Hn._createObserver(),this._element=u,this._callback=i,Hn._addElementCallback(u,i),Hn._observerInstance.observe(u)}get element(){return this._element}destroy(){Hn._deleteElementCallback(this._element,this._callback)}static _addElementCallback(u,i){Hn._elementCallbacks||(Hn._elementCallbacks=new Map);let s=Hn._elementCallbacks.get(u);s||(s=new Set,Hn._elementCallbacks.set(u,s)),s.add(i)}static _deleteElementCallback(u,i){const s=Hn._getElementCallbacks(u);s&&(s.delete(i),s.size||(Hn._elementCallbacks.delete(u),Hn._observerInstance.unobserve(u))),Hn._elementCallbacks&&!Hn._elementCallbacks.size&&(Hn._observerInstance=null,Hn._elementCallbacks=null)}static _getElementCallbacks(u){return Hn._elementCallbacks?Hn._elementCallbacks.get(u):null}static _createObserver(){Hn._observerInstance=new d.window.ResizeObserver((u=>{for(const i of u){const s=Hn._getElementCallbacks(i.target);if(s)for(const c of s)c(i)}}))}};let pl=Hn;function Dg(u,i){u instanceof HTMLTextAreaElement&&(u.value=i),u.innerHTML=i}function To(u){return i=>i+u}function Su(u){let i=0;for(;u.previousSibling;)u=u.previousSibling,i++;return i}function mf(u,i,s){u.insertBefore(s,u.childNodes[i]||null)}function Ts(u){return u&&u.nodeType===Node.COMMENT_NODE}function Nc(u){return!!(u&&u.getClientRects&&u.getClientRects().length)}pl._observerInstance=null,pl._elementCallbacks=null;var Di=Math.pow;function _u({element:u,target:i,positions:s,limiter:c,fitInViewport:h,viewportOffsetConfig:g}){va(i)&&(i=i()),va(c)&&(c=c());const w=Kv(u),k=(function(H){H=Object.assign({top:0,bottom:0,left:0,right:0},H);const G=new _t(d.window);return G.top+=H.top,G.height-=H.top,G.bottom-=H.bottom,G.height-=H.bottom,G})(g),_=new _t(u),R=Rs(i,k);let I;if(!R||!k.getIntersection(R))return null;const F={targetRect:R,elementRect:_,positionedElementAncestor:w,viewportRect:k};if(c||h){if(c){const H=Rs(c,k);H&&(F.limiterRect=H)}I=(function(H,G){const{elementRect:W}=G,Y=W.getArea(),ie=H.map((Ce=>new Yv(Ce,G))).filter((Ce=>!!Ce.name));let de=0,ge=null;for(const Ce of ie){const{limiterIntersectionArea:Fe,viewportIntersectionArea:Xe}=Ce;if(Fe===Y)return Ce;const Ct=Di(Xe,2)+Di(Fe,2);Ct>de&&(de=Ct,ge=Ce)}return ge})(s,F)}else I=new Yv(s[0],F);return I}function Rs(u,i){const s=new _t(u).getVisible();return s?s.getIntersection(i):null}class Yv{constructor(i,s){const c=i(s.targetRect,s.elementRect,s.viewportRect,s.limiterRect);if(!c)return;const{left:h,top:g,name:w,config:k}=c;this.name=w,this.config=k,this._positioningFunctionCoordinates={left:h,top:g},this._options=s}get left(){return this._absoluteRect.left}get top(){return this._absoluteRect.top}get limiterIntersectionArea(){const i=this._options.limiterRect;return i?i.getIntersectionArea(this._rect):0}get viewportIntersectionArea(){return this._options.viewportRect.getIntersectionArea(this._rect)}get _rect(){return this._cachedRect||(this._cachedRect=this._options.elementRect.clone().moveTo(this._positioningFunctionCoordinates.left,this._positioningFunctionCoordinates.top)),this._cachedRect}get _absoluteRect(){return this._cachedAbsoluteRect||(this._cachedAbsoluteRect=this._rect.toAbsoluteRect()),this._cachedAbsoluteRect}}function bf(u){const i=u.parentNode;i&&i.removeChild(u)}function Oc({window:u,rect:i,alignToTop:s,forceScroll:c,viewportOffset:h}){const g=i.clone().moveBy(0,h.bottom),w=i.clone().moveBy(0,-h.top),k=new _t(u).excludeScrollbarsAndBorders(),_=s&&c,R=[w,g].every((W=>k.contains(W)));let{scrollX:I,scrollY:F}=u;const H=I,G=F;_?F-=k.top-i.top+h.top:R||(Mg(w,k)?F-=k.top-i.top+h.top:Zv(g,k)&&(F+=s?i.top-k.top-h.top:i.bottom-k.bottom+h.bottom)),R||(Xv(i,k)?I-=k.left-i.left+h.left:to(i,k)&&(I+=i.right-k.right+h.right)),I==H&&F===G||u.scrollTo(I,F)}function Qv({parent:u,getRect:i,alignToTop:s,forceScroll:c,ancestorOffset:h=0,limiterElement:g}){const w=gl(u),k=s&&c;let _,R,I;const F=g||w.document.body;for(;u!=F;)R=i(),_=new _t(u).excludeScrollbarsAndBorders(),I=_.contains(R),k?u.scrollTop-=_.top-R.top+h:I||(Mg(R,_)?u.scrollTop-=_.top-R.top+h:Zv(R,_)&&(u.scrollTop+=s?R.top-_.top-h:R.bottom-_.bottom+h)),I||(Xv(R,_)?u.scrollLeft-=_.left-R.left+h:to(R,_)&&(u.scrollLeft+=R.right-_.right+h)),u=u.parentNode}function Zv(u,i){return u.bottom>i.bottom}function Mg(u,i){return u.top<i.top}function Xv(u,i){return u.left<i.left}function to(u,i){return u.right>i.right}function gl(u){return gf(u)?u.startContainer.ownerDocument.defaultView:u.ownerDocument.defaultView}function Eu(u){if(gf(u)){let i=u.commonAncestorContainer;return or(i)&&(i=i.parentNode),i}return u.parentNode}function vf(u,i){const s=gl(u),c=new _t(u);if(s===i)return c;{let h=s;for(;h!=i;){const g=h.frameElement,w=new _t(g).excludeScrollbarsAndBorders();c.moveBy(w.left,w.top),h=h.parent}}return c}const wf={ctrl:"",cmd:"",alt:"",shift:""},Ro={ctrl:"Ctrl+",alt:"Alt+",shift:"Shift+"},no={37:"",38:"",39:"",40:"",9:"",33:"Page Up",34:"Page Down"},Mt=(function(){const u={pageup:33,pagedown:34,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,shift:2228224,alt:4456448,cmd:8912896};for(let i=65;i<=90;i++)u[String.fromCharCode(i).toLowerCase()]=i;for(let i=48;i<=57;i++)u[i-48]=i;for(let i=112;i<=123;i++)u["f"+(i-111)]=i;return Object.assign(u,{"'":222,",":108,"-":109,".":110,"/":111,";":186,"=":187,"[":219,"\\":220,"]":221,"`":223}),u})(),Ps=Object.fromEntries(Object.entries(Mt).map((([u,i])=>{let s;return s=i in no?no[i]:u.charAt(0).toUpperCase()+u.slice(1),[i,s]})));function ui(u){let i;if(typeof u=="string"){if(i=Mt[u.toLowerCase()],!i)throw new z("keyboard-unknown-key",null,{key:u})}else i=u.keyCode+(u.altKey?Mt.alt:0)+(u.ctrlKey?Mt.ctrl:0)+(u.shiftKey?Mt.shift:0)+(u.metaKey?Mt.cmd:0);return i}function ro(u){return typeof u=="string"&&(u=(function(i){return i.split("+").map((s=>s.trim()))})(u)),u.map((i=>typeof i=="string"?(function(s){if(s.endsWith("!"))return ui(s.slice(0,-1));const c=ui(s);return(v.isMac||v.isiOS)&&c==Mt.ctrl?Mt.cmd:c})(i):i)).reduce(((i,s)=>s+i),0)}function Cf(u){let i=ro(u);return Object.entries(v.isMac||v.isiOS?wf:Ro).reduce(((s,[c,h])=>(i&Mt[c]&&(i&=~Mt[c],s+=h),s)),"")+(i?Ps[i]:"")}function yf(u,i){const s=i==="ltr";switch(u){case Mt.arrowleft:return s?"left":"right";case Mt.arrowright:return s?"right":"left";case Mt.arrowup:return"up";case Mt.arrowdown:return"down"}}function dn(u){return Array.isArray(u)?u:[u]}const Tg=function(u,i,s){(s!==void 0&&!ba(u[i],s)||s===void 0&&!(i in u))&&mu(u,i,s)},Nr=(function(u){return function(i,s,c){for(var h=-1,g=Object(i),w=c(i),k=w.length;k--;){var _=w[++h];if(s(g[_],_,g)===!1)break}return i}})(),On=function(u){return Si(u)&&kg(u)},Ht=function(u,i){if((i!=="constructor"||typeof u[i]!="function")&&i!="__proto__")return u[i]},ml=function(u){return ya(u,ku(u))},Po=function(u,i,s,c,h,g,w){var k=Ht(u,s),_=Ht(i,s),R=w.get(_);if(R)Tg(u,s,R);else{var I=void 0,F=I===void 0;if(F){var H=xn(_),G=!H&&Sc(_),W=!H&&!G&&_c(_);I=_,H||G||W?xn(k)?I=k:On(k)?I=xg(k):G?(F=!1,I=vk(_,!0)):W?(F=!1,I=_k(_,!0)):I=[]:_i(_)||sf(_)?(I=k,sf(k)?I=ml(k):_e(k)&&!va(k)||(I=Dk(_))):F=!1}F&&(w.set(_,I),h(I,_,c,g,w),w.delete(_)),Tg(u,s,I)}},Jv=function u(i,s,c,h,g){i!==s&&Nr(s,(function(w,k){if(g||(g=new gu),_e(w))Po(i,s,k,c,u,h,g);else{var _=void 0;_===void 0&&(_=w),Tg(i,k,_)}}),ku)},hi=function(u){return u},Fk=function(u,i,s){switch(s.length){case 0:return u.call(i);case 1:return u.call(i,s[0]);case 2:return u.call(i,s[0],s[1]);case 3:return u.call(i,s[0],s[1],s[2])}return u.apply(i,s)};var ew=Math.max;const Du=function(u,i,s){return i=ew(i===void 0?u.length-1:i,0),function(){for(var c=arguments,h=-1,g=ew(c.length-i,0),w=Array(g);++h<g;)w[h]=c[i+h];h=-1;for(var k=Array(i+1);++h<i;)k[h]=c[h];return k[i]=s(w),Fk(u,this,k)}},Fc=function(u){return function(){return u}},tw=of?function(u,i){return of(u,"toString",{configurable:!0,enumerable:!1,value:Fc(i),writable:!0})}:hi;var kf=Date.now;const Lc=function(u){var i=0,s=0;return function(){var c=kf(),h=16-(c-s);if(s=c,h>0){if(++i>=800)return arguments[0]}else i=0;return u.apply(void 0,arguments)}}(tw),Sa=function(u,i){return Lc(Du(u,i,hi),u+"")},bl=function(u,i,s){if(!_e(s))return!1;var c=typeof i;return!!(c=="number"?kg(s)&&as(i,s.length):c=="string"&&i in s)&&ba(s[i],u)},Is=function(u){return Sa((function(i,s){var c=-1,h=s.length,g=h>1?s[h-1]:void 0,w=h>2?s[2]:void 0;for(g=u.length>3&&typeof g=="function"?(h--,g):void 0,w&&bl(s[0],s[1],w)&&(g=h<3?void 0:g,h=1),i=Object(i);++c<h;){var k=s[c];k&&u(i,k,c,g)}return i}))},xf=Is((function(u,i,s){Jv(u,i,s)}));function nw(u,i,s=1,c){if(typeof s!="number")throw new z("translation-service-quantity-not-a-number",null,{quantity:s});const h=c||d.window.CKEDITOR_TRANSLATIONS,g=(function(I){return Object.keys(I).length})(h);g===1&&(u=Object.keys(h)[0]);const w=i.id||i.string;if(g===0||!(function(I,F,H){return!!H[I]&&!!H[I].dictionary[F]})(u,w,h))return s!==1?i.plural:i.string;const k=h[u].dictionary,_=h[u].getPluralForm||(I=>I===1?0:1),R=k[w];return typeof R=="string"?R:R[Number(_(s))]}d.window.CKEDITOR_TRANSLATIONS||(d.window.CKEDITOR_TRANSLATIONS={});const Mu=["ar","ara","dv","div","fa","per","fas","he","heb","ku","kur","ug","uig"];function Af(u){return Mu.includes(u)?"rtl":"ltr"}class Bc{constructor({uiLanguage:i="en",contentLanguage:s,translations:c}={}){this.uiLanguage=i,this.contentLanguage=s||this.uiLanguage,this.uiLanguageDirection=Af(this.uiLanguage),this.contentLanguageDirection=Af(this.contentLanguage),this.translations=(function(h){return Array.isArray(h)?h.reduce(((g,w)=>xf(g,w))):h})(c),this.t=(h,g)=>this._t(h,g)}get language(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}_t(i,s=[]){s=dn(s),typeof i=="string"&&(i={string:i});const c=i.plural?s[0]:1;return(function(h,g){return h.replace(/%(\d+)/g,((w,k)=>k<g.length?g[k]:w))})(nw(this.uiLanguage,i,c,this.translations),s)}}class An extends le(){constructor(i={},s={}){super();const c=Kt(i);if(c||(s=i),this._items=[],this._itemMap=new Map,this._idProperty=s.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],c)for(const h of i)this._items.push(h),this._itemMap.set(this._getItemIdBeforeAdding(h),h)}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(i,s){return this.addMany([i],s)}addMany(i,s){if(s===void 0)s=this._items.length;else if(s>this._items.length||s<0)throw new z("collection-add-item-invalid-index",this);let c=0;for(const h of i){const g=this._getItemIdBeforeAdding(h),w=s+c;this._items.splice(w,0,h),this._itemMap.set(g,h),this.fire("add",h,w),c++}return this.fire("change",{added:i,removed:[],index:s}),this}get(i){let s;if(typeof i=="string")s=this._itemMap.get(i);else{if(typeof i!="number")throw new z("collection-get-invalid-arg",this);s=this._items[i]}return s||null}has(i){if(typeof i=="string")return this._itemMap.has(i);{const s=i[this._idProperty];return s&&this._itemMap.has(s)}}getIndex(i){let s;return s=typeof i=="string"?this._itemMap.get(i):i,s?this._items.indexOf(s):-1}remove(i){const[s,c]=this._remove(i);return this.fire("change",{added:[],removed:[s],index:c}),s}map(i,s){return this._items.map(i,s)}forEach(i,s){this._items.forEach(i,s)}find(i,s){return this._items.find(i,s)}filter(i,s){return this._items.filter(i,s)}clear(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);const i=Array.from(this._items);for(;this.length;)this._remove(0);this.fire("change",{added:[],removed:i,index:0})}bindTo(i){if(this._bindToCollection)throw new z("collection-bind-to-rebind",this);return this._bindToCollection=i,{as:s=>{this._setUpBindToBinding((c=>new s(c)))},using:s=>{typeof s=="function"?this._setUpBindToBinding(s):this._setUpBindToBinding((c=>c[s]))}}}_setUpBindToBinding(i){const s=this._bindToCollection,c=(h,g,w)=>{const k=s._bindToCollection==this,_=s._bindToInternalToExternalMap.get(g);if(k&&_)this._bindToExternalToInternalMap.set(g,_),this._bindToInternalToExternalMap.set(_,g);else{const R=i(g);if(!R)return void this._skippedIndexesFromExternal.push(w);let I=w;for(const F of this._skippedIndexesFromExternal)w>F&&I--;for(const F of s._skippedIndexesFromExternal)I>=F&&I++;this._bindToExternalToInternalMap.set(g,R),this._bindToInternalToExternalMap.set(R,g),this.add(R,I);for(let F=0;F<s._skippedIndexesFromExternal.length;F++)I<=s._skippedIndexesFromExternal[F]&&s._skippedIndexesFromExternal[F]++}};for(const h of s)c(0,h,s.getIndex(h));this.listenTo(s,"add",c),this.listenTo(s,"remove",((h,g,w)=>{const k=this._bindToExternalToInternalMap.get(g);k&&this.remove(k),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce(((_,R)=>(w<R&&_.push(R-1),w>R&&_.push(R),_)),[])}))}_getItemIdBeforeAdding(i){const s=this._idProperty;let c;if(s in i){if(c=i[s],typeof c!="string")throw new z("collection-add-invalid-id",this);if(this.get(c))throw new z("collection-add-item-already-exists",this)}else i[s]=c=L();return c}_remove(i){let s,c,h,g=!1;const w=this._idProperty;if(typeof i=="string"?(c=i,h=this._itemMap.get(c),g=!h,h&&(s=this._items.indexOf(h))):typeof i=="number"?(s=i,h=this._items[s],g=!h,h&&(c=h[w])):(h=i,c=h[w],s=this._items.indexOf(h),g=s==-1||!this._itemMap.get(c)),g)throw new z("collection-remove-404",this);this._items.splice(s,1),this._itemMap.delete(c);const k=this._bindToInternalToExternalMap.get(h);return this._bindToInternalToExternalMap.delete(h),this._bindToExternalToInternalMap.delete(k),this.fire("remove",h,s),[h,s]}[Symbol.iterator](){return this._items[Symbol.iterator]()}}function sr(u){const i=u.next();return i.done?null:i.value}class kr extends Ji(et()){constructor(){super(),this._elements=new Set,this._nextEventLoopTimeout=null,this.set("isFocused",!1),this.set("focusedElement",null)}add(i){if(this._elements.has(i))throw new z("focustracker-add-element-already-exist",this);this.listenTo(i,"focus",(()=>this._focus(i)),{useCapture:!0}),this.listenTo(i,"blur",(()=>this._blur()),{useCapture:!0}),this._elements.add(i)}remove(i){i===this.focusedElement&&this._blur(),this._elements.has(i)&&(this.stopListening(i),this._elements.delete(i))}destroy(){this.stopListening()}_focus(i){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=i,this.isFocused=!0}_blur(){clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout((()=>{this.focusedElement=null,this.isFocused=!1}),0)}}class fi{constructor(){this._listener=new(Ji())}listenTo(i){this._listener.listenTo(i,"keydown",((s,c)=>{this._listener.fire("_keydown:"+ui(c),c)}))}set(i,s,c={}){const h=ro(i),g=c.priority;this._listener.listenTo(this._listener,"_keydown:"+h,((w,k)=>{s(k,(()=>{k.preventDefault(),k.stopPropagation(),w.stop()})),w.return=!0}),{priority:g})}press(i){return!!this._listener.fire("_keydown:"+ui(i),i)}stopListening(i){this._listener.stopListening(i)}destroy(){this.stopListening()}}function Ns(u){return Kt(u)?new Map(u):(function(i){const s=new Map;for(const c in i)s.set(c,i[c]);return s})(u)}function rw(u,i){let s;function c(...h){c.cancel(),s=setTimeout((()=>u(...h)),i)}return c.cancel=()=>{clearTimeout(s)},c}function Xn(u,i){return!!(s=u.charAt(i-1))&&s.length==1&&/[\ud800-\udbff]/.test(s)&&(function(c){return!!c&&c.length==1&&/[\udc00-\udfff]/.test(c)})(u.charAt(i));var s}function Sf(u,i){return!!(s=u.charAt(i))&&s.length==1&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(s);var s}const _f=(function(){const u=[new RegExp("\\p{Emoji}[\\u{E0020}-\\u{E007E}]+\\u{E007F}","u"),new RegExp("\\p{Emoji}\\u{FE0F}?\\u{20E3}","u"),new RegExp("\\p{Emoji}\\u{FE0F}","u"),new RegExp("(?=\\p{General_Category=Other_Symbol})\\p{Emoji}\\p{Emoji_Modifier}*","u")],i=new RegExp("\\p{Regional_Indicator}{2}","u").source,s="(?:"+u.map((c=>c.source)).join("|")+")";return new RegExp(`${i}|${s}(?:${s})*`,"ug")})();function Tu(u,i){const s=String(u).matchAll(_f);return Array.from(s).some((c=>c.index<i&&i<c.index+c[0].length))}class Mi extends An{constructor(i=[]){super(i,{idProperty:"viewUid"}),this.on("add",((s,c,h)=>{this._renderViewIntoCollectionParent(c,h)})),this.on("remove",((s,c)=>{c.element&&this._parentElement&&c.element.remove()})),this._parentElement=null}destroy(){this.map((i=>i.destroy()))}setParent(i){this._parentElement=i;for(const s of this)this._renderViewIntoCollectionParent(s)}delegate(...i){if(!i.length||!i.every((s=>typeof s=="string")))throw new z("ui-viewcollection-delegate-wrong-events",this);return{to:s=>{for(const c of this)for(const h of i)c.delegate(h).to(s);this.on("add",((c,h)=>{for(const g of i)h.delegate(g).to(s)})),this.on("remove",((c,h)=>{for(const g of i)h.stopDelegating(g,s)}))}}}_renderViewIntoCollectionParent(i,s){i.isRendered||i.render(),i.element&&this._parentElement&&this._parentElement.insertBefore(i.element,this._parentElement.children[s])}remove(i){return super.remove(i)}}class Xr extends le(){constructor(i){super(),Object.assign(this,zc(aw(i))),this._isRendered=!1,this._revertData=null}render(){const i=this._renderNode({intoFragment:!0});return this._isRendered=!0,i}apply(i){return this._revertData={children:[],bindings:[],attributes:{}},this._renderNode({node:i,intoFragment:!1,isApplying:!0,revertData:this._revertData}),i}revert(i){if(!this._revertData)throw new z("ui-template-revert-not-applied",[this,i]);this._revertTemplateFromNode(i,this._revertData)}*getViews(){yield*(function*i(s){if(s.children)for(const c of s.children)Fs(c)?yield c:_a(c)&&(yield*i(c))})(this)}static bind(i,s){return{to:(c,h)=>new zD({eventNameOrFunction:c,attribute:c,observable:i,emitter:s,callback:h}),if:(c,h,g)=>new iw({observable:i,emitter:s,attribute:c,valueIfTrue:h,callback:g})}}static extend(i,s){if(i._isRendered)throw new z("template-extend-render",[this,i]);lw(i,zc(aw(s)))}_renderNode(i){let s;if(s=i.node?this.tag&&this.text:this.tag?this.text:!this.text,s)throw new z("ui-template-wrong-syntax",this);return this.text?this._renderText(i):this._renderElement(i)}_renderElement(i){let s=i.node;return s||(s=i.node=document.createElementNS(this.ns||"http://www.w3.org/1999/xhtml",this.tag)),this._renderAttributes(i),this._renderElementChildren(i),this._setUpListeners(i),s}_renderText(i){let s=i.node;return s?i.revertData.text=s.textContent:s=i.node=document.createTextNode(""),Rg(this.text)?this._bindToObservable({schema:this.text,updater:jc(s),data:i}):s.textContent=this.text.join(""),s}_renderAttributes(i){if(!this.attributes)return;const s=i.node,c=i.revertData;for(const h in this.attributes){const g=s.getAttribute(h),w=this.attributes[h];c&&(c.attributes[h]=g);const k=cw(w)?w[0].ns:null;if(Rg(w)){const _=cw(w)?w[0].value:w;c&&Vc(h)&&_.unshift(g),this._bindToObservable({schema:_,updater:sw(s,h,k),data:i})}else if(h=="style"&&typeof w[0]!="string")this._renderStyleAttribute(w[0],i);else{c&&g&&Vc(h)&&w.unshift(g);const _=w.map((R=>R&&R.value||R)).reduce(((R,I)=>R.concat(I)),[]).reduce(Ef,"");Hc(_)||s.setAttributeNS(k,h,_)}}}_renderStyleAttribute(i,s){const c=s.node;for(const h in i){const g=i[h];Rg(g)?this._bindToObservable({schema:[g],updater:Pg(c,h),data:s}):c.style[h]=g}}_renderElementChildren(i){const s=i.node,c=i.intoFragment?document.createDocumentFragment():s,h=i.isApplying;let g=0;for(const w of this.children)if(Ng(w)){if(!h){w.setParent(s);for(const k of w)c.appendChild(k.element)}}else if(Fs(w))h||(w.isRendered||w.render(),c.appendChild(w.element));else if(Aa(w))c.appendChild(w);else if(h){const k={children:[],bindings:[],attributes:{}};i.revertData.children.push(k),w._renderNode({intoFragment:!1,node:c.childNodes[g++],isApplying:!0,revertData:k})}else c.appendChild(w.render());i.intoFragment&&s.appendChild(c)}_setUpListeners(i){if(this.eventListeners)for(const s in this.eventListeners){const c=this.eventListeners[s].map((h=>{const[g,w]=s.split("@");return h.activateDomEventListener(g,w,i)}));i.revertData&&i.revertData.bindings.push(c)}}_bindToObservable({schema:i,updater:s,data:c}){const h=c.revertData;ow(i,s,c);const g=i.filter((w=>!Hc(w))).filter((w=>w.observable)).map((w=>w.activateAttributeListener(i,s,c)));h&&h.bindings.push(g)}_revertTemplateFromNode(i,s){for(const h of s.bindings)for(const g of h)g();if(s.text)return void(i.textContent=s.text);const c=i;for(const h in s.attributes){const g=s.attributes[h];g===null?c.removeAttribute(h):c.setAttribute(h,g)}for(let h=0;h<s.children.length;++h)this._revertTemplateFromNode(c.childNodes[h],s.children[h])}}class Os{constructor(i){this.attribute=i.attribute,this.observable=i.observable,this.emitter=i.emitter,this.callback=i.callback}getValue(i){const s=this.observable[this.attribute];return this.callback?this.callback(s,i):s}activateAttributeListener(i,s,c){const h=()=>ow(i,s,c);return this.emitter.listenTo(this.observable,`change:${this.attribute}`,h),()=>{this.emitter.stopListening(this.observable,`change:${this.attribute}`,h)}}}class zD extends Os{constructor(i){super(i),this.eventNameOrFunction=i.eventNameOrFunction}activateDomEventListener(i,s,c){const h=(g,w)=>{s&&!w.target.matches(s)||(typeof this.eventNameOrFunction=="function"?this.eventNameOrFunction(w):this.observable.fire(this.eventNameOrFunction,w))};return this.emitter.listenTo(c.node,i,h),()=>{this.emitter.stopListening(c.node,i,h)}}}class iw extends Os{constructor(i){super(i),this.valueIfTrue=i.valueIfTrue}getValue(i){return!Hc(super.getValue(i))&&(this.valueIfTrue||!0)}}function Rg(u){return!!u&&(u.value&&(u=u.value),Array.isArray(u)?u.some(Rg):u instanceof Os)}function ow(u,i,{node:s}){const c=(function(g,w){return g.map((k=>k instanceof Os?k.getValue(w):k))})(u,s);let h;h=u.length==1&&u[0]instanceof iw?c[0]:c.reduce(Ef,""),Hc(h)?i.remove():i.set(h)}function jc(u){return{set(i){u.textContent=i},remove(){u.textContent=""}}}function sw(u,i,s){return{set(c){u.setAttributeNS(s,i,c)},remove(){u.removeAttributeNS(s,i)}}}function Pg(u,i){return{set(s){u.style[i]=s},remove(){u.style[i]=null}}}function aw(u){return pf(u,(i=>{if(i&&(i instanceof Os||_a(i)||Fs(i)||Ng(i)))return i}))}function zc(u){if(typeof u=="string"?u=(function(i){return{text:[i]}})(u):u.text&&(function(i){i.text=dn(i.text)})(u),u.on&&(u.eventListeners=(function(i){for(const s in i)Ig(i,s);return i})(u.on),delete u.on),!u.text){u.attributes&&(function(s){for(const c in s)s[c].value&&(s[c].value=dn(s[c].value)),Ig(s,c)})(u.attributes);const i=[];if(u.children)if(Ng(u.children))i.push(u.children);else for(const s of u.children)_a(s)||Fs(s)||Aa(s)?i.push(s):i.push(new Xr(s));u.children=i}return u}function Ig(u,i){u[i]=dn(u[i])}function Ef(u,i){return Hc(i)?u:Hc(u)?i:`${u} ${i}`}function Df(u,i){for(const s in i)u[s]?u[s].push(...i[s]):u[s]=i[s]}function lw(u,i){if(i.attributes&&(u.attributes||(u.attributes={}),Df(u.attributes,i.attributes)),i.eventListeners&&(u.eventListeners||(u.eventListeners={}),Df(u.eventListeners,i.eventListeners)),i.text&&u.text.push(...i.text),i.children&&i.children.length){if(u.children.length!=i.children.length)throw new z("ui-template-extend-children-mismatch",u);let s=0;for(const c of i.children)lw(u.children[s++],c)}}function Hc(u){return!u&&u!==0}function Fs(u){return u instanceof st}function _a(u){return u instanceof Xr}function Ng(u){return u instanceof Mi}function cw(u){return _e(u[0])&&u[0].ns}function Vc(u){return u=="class"||u=="style"}var Mf=o(2591),$e=o.n(Mf),Ru=o(7676),Og={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$e()(Ru.A,Og),Ru.A.locals;class st extends Ji(et()){constructor(i){super(),this.element=null,this.isRendered=!1,this.locale=i,this.t=i&&i.t,this._viewCollections=new An,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",((s,c)=>{c.locale=i,c.t=i&&i.t})),this.decorate("render")}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=Xr.bind(this,this)}createCollection(i){const s=new Mi(i);return this._viewCollections.add(s),s}registerChild(i){Kt(i)||(i=[i]);for(const s of i)this._unboundChildren.add(s)}deregisterChild(i){Kt(i)||(i=[i]);for(const s of i)this._unboundChildren.remove(s)}setTemplate(i){this.template=new Xr(i)}extendTemplate(i){Xr.extend(this.template,i)}render(){if(this.isRendered)throw new z("ui-view-render-already-rendered",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map((i=>i.destroy())),this.template&&this.template._revertData&&this.template.revert(this.element)}}function Ls({emitter:u,activator:i,callback:s,contextElements:c}){u.listenTo(document,"mousedown",((h,g)=>{if(!i())return;const w=typeof g.composedPath=="function"?g.composedPath():[],k=typeof c=="function"?c():c;for(const _ of k)if(_.contains(g.target)||w.includes(_))return;s()}))}function Fg(u){return class extends u{disableCssTransitions(){this._isCssTransitionsDisabled=!0}enableCssTransitions(){this._isCssTransitionsDisabled=!1}constructor(...i){super(...i),this.set("_isCssTransitionsDisabled",!1),this.initializeCssTransitionDisablerMixin()}initializeCssTransitionDisablerMixin(){this.extendTemplate({attributes:{class:[this.bindTemplate.if("_isCssTransitionsDisabled","ck-transitions-disabled")]}})}}}function ls({view:u}){u.listenTo(u.element,"submit",((i,s)=>{s.preventDefault(),u.fire("submit")}),{useCapture:!0})}function dw({keystrokeHandler:u,focusTracker:i,gridItems:s,numberOfColumns:c,uiLanguageDirection:h}){const g=()=>c;function w(R){return I=>{const F=s.find((W=>W.element===i.focusedElement)),H=s.getIndex(F),G=R(H,s);s.get(G).focus(),I.stopPropagation(),I.preventDefault()}}function k(R,I){return R===I-1?0:R+1}function _(R,I){return R===0?I-1:R-1}u.set("arrowright",w(((R,I)=>h==="rtl"?_(R,I.length):k(R,I.length)))),u.set("arrowleft",w(((R,I)=>h==="rtl"?k(R,I.length):_(R,I.length)))),u.set("arrowup",w(((R,I)=>{let F=R-g();return F<0&&(F=R+g()*Math.floor(I.length/g()),F>I.length-1&&(F-=g())),F}))),u.set("arrowdown",w(((R,I)=>{let F=R+g();return F>I.length-1&&(F=R%g()),F})))}class Ve extends et(){constructor(i){super(),this._disableStack=new Set,this.editor=i,this.set("isEnabled",!0)}forceDisabled(i){this._disableStack.add(i),this._disableStack.size==1&&(this.on("set:isEnabled",Ea,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(i){this._disableStack.delete(i),this._disableStack.size==0&&(this.off("set:isEnabled",Ea),this.isEnabled=!0)}destroy(){this.stopListening()}static get isContextPlugin(){return!1}}function Ea(u){u.return=!1,u.stop()}class Et extends et(){constructor(i){super(),this.editor=i,this.set("value",void 0),this.set("isEnabled",!1),this._affectsData=!0,this._isEnabledBasedOnSelection=!0,this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",(()=>{this.refresh()})),this.listenTo(i,"change:isReadOnly",(()=>{this.refresh()})),this.on("set:isEnabled",(s=>{if(!this.affectsData)return;const c=i.model.document.selection,h=c.getFirstPosition().root.rootName!="$graveyard"&&i.model.canEditAt(c);(i.isReadOnly||this._isEnabledBasedOnSelection&&!h)&&(s.return=!1,s.stop())}),{priority:"highest"}),this.on("execute",(s=>{this.isEnabled||s.stop()}),{priority:"high"})}get affectsData(){return this._affectsData}set affectsData(i){this._affectsData=i}refresh(){this.isEnabled=!0}forceDisabled(i){this._disableStack.add(i),this._disableStack.size==1&&(this.on("set:isEnabled",Pu,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(i){this._disableStack.delete(i),this._disableStack.size==0&&(this.off("set:isEnabled",Pu),this.refresh())}execute(...i){}destroy(){this.stopListening()}}function Pu(u){u.return=!1,u.stop()}class Lg extends Et{constructor(){super(...arguments),this._childCommandsDefinitions=[]}refresh(){}execute(...i){const s=this._getFirstEnabledCommand();return!!s&&s.execute(i)}registerChildCommand(i,s={}){U(this._childCommandsDefinitions,{command:i,priority:s.priority||"normal"}),i.on("change:isEnabled",(()=>this._checkEnabled())),this._checkEnabled()}_checkEnabled(){this.isEnabled=!!this._getFirstEnabledCommand()}_getFirstEnabledCommand(){const i=this._childCommandsDefinitions.find((({command:s})=>s.isEnabled));return i&&i.command}}class Bg extends le(){constructor(i,s=[],c=[]){super(),this._plugins=new Map,this._context=i,this._availablePlugins=new Map;for(const h of s)h.pluginName&&this._availablePlugins.set(h.pluginName,h);this._contextPlugins=new Map;for(const[h,g]of c)this._contextPlugins.set(h,g),this._contextPlugins.set(g,h),h.pluginName&&this._availablePlugins.set(h.pluginName,h)}*[Symbol.iterator](){for(const i of this._plugins)typeof i[0]=="function"&&(yield i)}get(i){const s=this._plugins.get(i);if(!s){let c=i;throw typeof i=="function"&&(c=i.pluginName||i.name),new z("plugincollection-plugin-not-loaded",this._context,{plugin:c})}return s}has(i){return this._plugins.has(i)}init(i,s=[],c=[]){const h=this,g=this._context;(function W(Y,ie=new Set){Y.forEach((de=>{_(de)&&(ie.has(de)||(ie.add(de),de.pluginName&&!h._availablePlugins.has(de.pluginName)&&h._availablePlugins.set(de.pluginName,de),de.requires&&W(de.requires,ie)))}))})(i),H(i);const w=[...(function W(Y,ie=new Set){return Y.map((de=>_(de)?de:h._availablePlugins.get(de))).reduce(((de,ge)=>ie.has(ge)?de:(ie.add(ge),ge.requires&&(H(ge.requires,ge),W(ge.requires,ie).forEach((Ce=>de.add(Ce)))),de.add(ge))),new Set)})(i.filter((W=>!I(W,s))))];(function(W,Y){for(const ie of Y){if(typeof ie!="function")throw new z("plugincollection-replace-plugin-invalid-type",null,{pluginItem:ie});const de=ie.pluginName;if(!de)throw new z("plugincollection-replace-plugin-missing-name",null,{pluginItem:ie});if(ie.requires&&ie.requires.length)throw new z("plugincollection-plugin-for-replacing-cannot-have-dependencies",null,{pluginName:de});const ge=h._availablePlugins.get(de);if(!ge)throw new z("plugincollection-plugin-for-replacing-not-exist",null,{pluginName:de});const Ce=W.indexOf(ge);if(Ce===-1){if(h._contextPlugins.has(ge))return;throw new z("plugincollection-plugin-for-replacing-not-loaded",null,{pluginName:de})}if(ge.requires&&ge.requires.length)throw new z("plugincollection-replaced-plugin-cannot-have-dependencies",null,{pluginName:de});W.splice(Ce,1,ie),h._availablePlugins.set(de,ie)}})(w,c);const k=w.map((W=>{let Y=h._contextPlugins.get(W);return Y=Y||new W(g),h._add(W,Y),Y}));return G(k,"init").then((()=>G(k,"afterInit"))).then((()=>k));function _(W){return typeof W=="function"}function R(W){return _(W)&&!!W.isContextPlugin}function I(W,Y){return Y.some((ie=>ie===W||F(W)===ie||F(ie)===W))}function F(W){return _(W)?W.pluginName||W.name:W}function H(W,Y=null){W.map((ie=>_(ie)?ie:h._availablePlugins.get(ie)||ie)).forEach((ie=>{(function(de,ge){if(!_(de))throw ge?new z("plugincollection-soft-required",g,{missingPlugin:de,requiredBy:F(ge)}):new z("plugincollection-plugin-not-found",g,{plugin:de})})(ie,Y),(function(de,ge){if(R(ge)&&!R(de))throw new z("plugincollection-context-required",g,{plugin:F(de),requiredBy:F(ge)})})(ie,Y),(function(de,ge){if(ge&&I(de,s))throw new z("plugincollection-required",g,{plugin:F(de),requiredBy:F(ge)})})(ie,Y)}))}function G(W,Y){return W.reduce(((ie,de)=>de[Y]?h._contextPlugins.has(de)?ie:ie.then(de[Y].bind(de)):ie),Promise.resolve())}}destroy(){const i=[];for(const[,s]of this)typeof s.destroy!="function"||this._contextPlugins.has(s)||i.push(s.destroy());return Promise.all(i)}_add(i,s){this._plugins.set(i,s);const c=i.pluginName;if(c){if(this._plugins.has(c))throw new z("plugincollection-plugin-name-conflict",null,{pluginName:c,plugin1:this._plugins.get(c).constructor,plugin2:i});this._plugins.set(c,s)}}}var Iu=Object.getOwnPropertySymbols,Tf=Object.prototype.hasOwnProperty,Bk=Object.prototype.propertyIsEnumerable;class uw{constructor(i){this._contextOwner=null;const s=i||{},{translations:c}=s,h=((k,_)=>{var R={};for(var I in k)Tf.call(k,I)&&_.indexOf(I)<0&&(R[I]=k[I]);if(k!=null&&Iu)for(var I of Iu(k))_.indexOf(I)<0&&Bk.call(k,I)&&(R[I]=k[I]);return R})(s,["translations"]);this.config=new hl(h,this.constructor.defaultConfig);const g=this.constructor.builtinPlugins;this.config.define("plugins",g),this.plugins=new Bg(this,g);const w=this.config.get("language")||{};this.locale=new Bc({uiLanguage:typeof w=="string"?w:w.ui,contentLanguage:this.config.get("language.content"),translations:c}),this.t=this.locale.t,this.editors=new An}initPlugins(){const i=this.config.get("plugins")||[],s=this.config.get("substitutePlugins")||[];for(const c of i.concat(s)){if(typeof c!="function")throw new z("context-initplugins-constructor-only",null,{Plugin:c});if(c.isContextPlugin!==!0)throw new z("context-initplugins-invalid-plugin",null,{Plugin:c})}return this.plugins.init(i,[],s)}destroy(){return Promise.all(Array.from(this.editors,(i=>i.destroy()))).then((()=>this.plugins.destroy()))}_addEditor(i,s){if(this._contextOwner)throw new z("context-addeditor-private-context");this.editors.add(i),s&&(this._contextOwner=i)}_removeEditor(i){return this.editors.has(i)&&this.editors.remove(i),this._contextOwner===i?this.destroy():Promise.resolve()}_getEditorConfig(){const i={};for(const s of this.config.names())["plugins","removePlugins","extraPlugins"].includes(s)||(i[s]=this.config.get(s));return i}static create(i){return new Promise((s=>{const c=new this(i);s(c.initPlugins().then((()=>c)))}))}}class Da extends et(){constructor(i){super(),this.context=i}destroy(){this.stopListening()}static get isContextPlugin(){return!0}}class jg extends fi{constructor(i){super(),this.editor=i}set(i,s,c={}){if(typeof s=="string"){const h=s;s=(g,w)=>{this.editor.execute(h),w()}}super.set(i,s,c)}}var hw=o(4098),fw={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$e()(hw.A,fw),hw.A.locals;const Nu=new WeakMap;let Ti=!1;function io({view:u,element:i,text:s,isDirectHost:c=!0,keepOnFocus:h=!1}){const g=u.document;function w(k){Nu.get(g).set(i,{text:k,isDirectHost:c,keepOnFocus:h,hostElement:c?i:null}),u.change((_=>Bs(g,_)))}Nu.has(g)||(Nu.set(g,new Map),g.registerPostFixer((k=>Bs(g,k))),g.on("change:isComposing",(()=>{u.change((k=>Bs(g,k)))}),{priority:"high"})),i.is("editableElement")&&i.on("change:placeholder",((k,_,R)=>{w(R)})),i.placeholder?w(i.placeholder):s&&w(s),s&&(function(){Ti||K("enableplaceholder-deprecated-text-option"),Ti=!0})()}function vl(u,i){return!i.hasClass("ck-placeholder")&&(u.addClass("ck-placeholder",i),!0)}function pw(u,i){return!!i.hasClass("ck-placeholder")&&(u.removeClass("ck-placeholder",i),!0)}function jk(u,i){if(!u.isAttached()||Array.from(u.getChildren()).some((h=>!h.is("uiElement"))))return!1;const s=u.document,c=s.selection.anchor;return(!s.isComposing||!c||c.parent!==u)&&(!!i||!s.isFocused||!!c&&c.parent!==u)}function Bs(u,i){const s=Nu.get(u),c=[];let h=!1;for(const[g,w]of s)w.isDirectHost&&(c.push(g),Ri(i,g,w)&&(h=!0));for(const[g,w]of s){if(w.isDirectHost)continue;const k=ar(g);k&&(c.includes(k)||(w.hostElement=k,Ri(i,g,w)&&(h=!0)))}return h}function Ri(u,i,s){const{text:c,isDirectHost:h,hostElement:g}=s;let w=!1;return g.getAttribute("data-placeholder")!==c&&(u.setAttribute("data-placeholder",c,g),w=!0),(h||i.childCount==1)&&jk(g,s.keepOnFocus)?vl(u,g)&&(w=!0):pw(u,g)&&(w=!0),w}function ar(u){if(u.childCount){const i=u.getChild(0);if(i.is("element")&&!i.is("uiElement")&&!i.is("attributeElement"))return i}return null}class js{is(){throw new Error("is() method is abstract")}}const zs=function(u){return Rc(u,4)};class kt extends le(js){constructor(i){super(),this.document=i,this.parent=null}get index(){let i;if(!this.parent)return null;if((i=this.parent.getChildIndex(this))==-1)throw new z("view-node-not-found-in-parent",this);return i}get nextSibling(){const i=this.index;return i!==null&&this.parent.getChild(i+1)||null}get previousSibling(){const i=this.index;return i!==null&&this.parent.getChild(i-1)||null}get root(){let i=this;for(;i.parent;)i=i.parent;return i}isAttached(){return this.root.is("rootElement")}getPath(){const i=[];let s=this;for(;s.parent;)i.unshift(s.index),s=s.parent;return i}getAncestors(i={}){const s=[];let c=i.includeSelf?this:this.parent;for(;c;)s[i.parentFirst?"push":"unshift"](c),c=c.parent;return s}getCommonAncestor(i,s={}){const c=this.getAncestors(s),h=i.getAncestors(s);let g=0;for(;c[g]==h[g]&&c[g];)g++;return g===0?null:c[g-1]}isBefore(i){if(this==i||this.root!==i.root)return!1;const s=this.getPath(),c=i.getPath(),h=bt(s,c);switch(h){case"prefix":return!0;case"extension":return!1;default:return s[h]<c[h]}}isAfter(i){return this!=i&&this.root===i.root&&!this.isBefore(i)}_remove(){this.parent._removeChildren(this.index)}_fireChange(i,s){this.fire(`change:${i}`,s),this.parent&&this.parent._fireChange(i,s)}toJSON(){const i=zs(this);return delete i.parent,i}}kt.prototype.is=function(u){return u==="node"||u==="view:node"};class ct extends kt{constructor(i,s){super(i),this._textData=s}get data(){return this._textData}get _data(){return this.data}set _data(i){this._fireChange("text",this),this._textData=i}isSimilar(i){return i instanceof ct&&(this===i||this.data===i.data)}_clone(){return new ct(this.document,this.data)}}ct.prototype.is=function(u){return u==="$text"||u==="view:$text"||u==="text"||u==="view:text"||u==="node"||u==="view:node"};class un extends js{constructor(i,s,c){if(super(),this.textNode=i,s<0||s>i.data.length)throw new z("view-textproxy-wrong-offsetintext",this);if(c<0||s+c>i.data.length)throw new z("view-textproxy-wrong-length",this);this.data=i.data.substring(s,s+c),this.offsetInText=s}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}getAncestors(i={}){const s=[];let c=i.includeSelf?this.textNode:this.parent;for(;c!==null;)s[i.parentFirst?"push":"unshift"](c),c=c.parent;return s}}un.prototype.is=function(u){return u==="$textProxy"||u==="view:$textProxy"||u==="textProxy"||u==="view:textProxy"};class oo{constructor(...i){this._patterns=[],this.add(...i)}add(...i){for(let s of i)(typeof s=="string"||s instanceof RegExp)&&(s={name:s}),this._patterns.push(s)}match(...i){for(const s of i)for(const c of this._patterns){const h=Gc(s,c);if(h)return{element:s,pattern:c,match:h}}return null}matchAll(...i){const s=[];for(const c of i)for(const h of this._patterns){const g=Gc(c,h);g&&s.push({element:c,pattern:h,match:g})}return s.length>0?s:null}getElementName(){if(this._patterns.length!==1)return null;const i=this._patterns[0],s=i.name;return typeof i=="function"||!s||s instanceof RegExp?null:s}}function Gc(u,i){if(typeof i=="function")return i(u);const s={};return i.name&&(s.name=(function(c,h){return c instanceof RegExp?!!h.match(c):c===h})(i.name,u.name),!s.name)||i.attributes&&(s.attributes=(function(c,h){const g=new Set(h.getAttributeKeys());return _i(c)?(c.style!==void 0&&K("matcher-pattern-deprecated-attributes-style-key",c),c.class!==void 0&&K("matcher-pattern-deprecated-attributes-class-key",c)):(g.delete("style"),g.delete("class")),Ma(c,g,(w=>h.getAttribute(w)))})(i.attributes,u),!s.attributes)||i.classes&&(s.classes=(function(c,h){return Ma(c,h.getClassNames(),(()=>{}))})(i.classes,u),!s.classes)||i.styles&&(s.styles=(function(c,h){return Ma(c,h.getStyleNames(!0),(g=>h.getStyle(g)))})(i.styles,u),!s.styles)?null:s}function Ma(u,i,s){const c=(function(w){return Array.isArray(w)?w.map((k=>_i(k)?(k.key!==void 0&&k.value!==void 0||K("matcher-pattern-missing-key-or-value",k),[k.key,k.value]):[k,!0])):_i(w)?Object.entries(w):[[w,!0]]})(u),h=Array.from(i),g=[];if(c.forEach((([w,k])=>{h.forEach((_=>{(function(R,I){return R===!0||R===I||R instanceof RegExp&&I.match(R)})(w,_)&&(function(R,I,F){if(R===!0)return!0;const H=F(I);return R===H||R instanceof RegExp&&!!String(H).match(R)})(k,_,s)&&g.push(_)}))})),c.length&&!(g.length<c.length))return g}const Uc=function(u){return typeof u=="symbol"||Si(u)&&jr(u)=="[object Symbol]"};var Rf=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ou=/^\w*$/;const gw=function(u,i){if(xn(u))return!1;var s=typeof u;return!(s!="number"&&s!="symbol"&&s!="boolean"&&u!=null&&!Uc(u))||Ou.test(u)||!Rf.test(u)||i!=null&&u in Object(i)};function Vn(u,i){if(typeof u!="function"||i!=null&&typeof i!="function")throw new TypeError("Expected a function");var s=function(){var c=arguments,h=i?i.apply(this,c):c[0],g=s.cache;if(g.has(h))return g.get(h);var w=u.apply(this,c);return s.cache=g.set(h,w)||g,w};return s.cache=new(Vn.Cache||rf),s}Vn.Cache=rf;const mw=Vn,bw=function(u){var i=mw(u,(function(c){return s.size===500&&s.clear(),c})),s=i.cache;return i};var zk=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Hk=/\\(\\)?/g,HD=bw((function(u){var i=[];return u.charCodeAt(0)===46&&i.push(""),u.replace(zk,(function(s,c,h,g){i.push(h?g.replace(Hk,"$1"):c||s)})),i}));const vw=HD,ww=function(u,i){for(var s=-1,c=u==null?0:u.length,h=Array(c);++s<c;)h[s]=i(u[s],s,u);return h};var zg=Br?Br.prototype:void 0,Jr=zg?zg.toString:void 0;const lr=function u(i){if(typeof i=="string")return i;if(xn(i))return ww(i,u)+"";if(Uc(i))return Jr?Jr.call(i):"";var s=i+"";return s=="0"&&1/i==-1/0?"-0":s},Fu=function(u){return u==null?"":lr(u)},wl=function(u,i){return xn(u)?u:gw(u,i)?[u]:vw(Fu(u))},Hg=function(u){var i=u==null?0:u.length;return i?u[i-1]:void 0},Cl=function(u){if(typeof u=="string"||Uc(u))return u;var i=u+"";return i=="0"&&1/u==-1/0?"-0":i},cs=function(u,i){for(var s=0,c=(i=wl(i,u)).length;u!=null&&s<c;)u=u[Cl(i[s++])];return s&&s==c?u:void 0},Pf=function(u,i,s){var c=-1,h=u.length;i<0&&(i=-i>h?0:h+i),(s=s>h?h:s)<0&&(s+=h),h=i>s?0:s-i>>>0,i>>>=0;for(var g=Array(h);++c<h;)g[c]=u[c+i];return g},Cw=function(u,i){return i.length<2?u:cs(u,Pf(i,0,-1))},yw=function(u,i){return i=wl(i,u),(u=Cw(u,i))==null||delete u[Cl(Hg(i))]},Vk=function(u,i){return u==null||yw(u,i)},Lu=function(u,i,s){var c=u==null?void 0:cs(u,i);return c===void 0?s:c},Gk=function(u,i,s,c){if(!_e(u))return u;for(var h=-1,g=(i=wl(i,u)).length,w=g-1,k=u;k!=null&&++h<g;){var _=Cl(i[h]),R=s;if(_==="__proto__"||_==="constructor"||_==="prototype")return u;if(h!=w){var I=k[_];(R=void 0)==void 0&&(R=_e(I)?I:as(i[h+1])?[]:{})}Sv(k,_,R),k=k[_]}return u},Uk=function(u,i,s){return u==null?u:Gk(u,i,s)};class Vg{constructor(i){this._styles={},this._styleProcessor=i}get isEmpty(){return!Object.entries(this._styles).length}get size(){return this.isEmpty?0:this.getStyleNames().length}setTo(i){this.clear();const s=(function(c){let h=null,g=0,w=0,k=null;const _=new Map;if(c==="")return _;c.charAt(c.length-1)!=";"&&(c+=";");for(let R=0;R<c.length;R++){const I=c.charAt(R);if(h===null)switch(I){case":":k||(k=c.substr(g,R-g),w=R+1);break;case'"':case"'":h=I;break;case";":{const F=c.substr(w,R-w);k&&_.set(k.trim(),F.trim()),k=null,g=R+1;break}}else I===h&&(h=null)}return _})(i);for(const[c,h]of s)this._styleProcessor.toNormalizedForm(c,h,this._styles)}has(i){if(this.isEmpty)return!1;const s=this._styleProcessor.getReducedForm(i,this._styles).find((([c])=>c===i));return Array.isArray(s)}set(i,s){if(_e(i))for(const[c,h]of Object.entries(i))this._styleProcessor.toNormalizedForm(c,h,this._styles);else this._styleProcessor.toNormalizedForm(i,s,this._styles)}remove(i){const s=If(i);Vk(this._styles,s),delete this._styles[i],this._cleanEmptyObjectsOnPath(s)}getNormalized(i){return this._styleProcessor.getNormalized(i,this._styles)}toString(){return this.isEmpty?"":this.getStylesEntries().map((i=>i.join(":"))).sort().join(";")+";"}getAsString(i){if(this.isEmpty)return;if(this._styles[i]&&!_e(this._styles[i]))return this._styles[i];const s=this._styleProcessor.getReducedForm(i,this._styles).find((([c])=>c===i));return Array.isArray(s)?s[1]:void 0}getStyleNames(i=!1){return this.isEmpty?[]:i?this._styleProcessor.getStyleNames(this._styles):this.getStylesEntries().map((([s])=>s))}clear(){this._styles={}}getStylesEntries(){const i=[],s=Object.keys(this._styles);for(const c of s)i.push(...this._styleProcessor.getReducedForm(c,this._styles));return i}_cleanEmptyObjectsOnPath(i){const s=i.split(".");if(!(s.length>1))return;const c=s.splice(0,s.length-1).join("."),h=Lu(this._styles,c);h&&!Object.keys(h).length&&this.remove(c)}}class Wk{constructor(){this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}toNormalizedForm(i,s,c){if(_e(s))Gg(c,If(i),s);else if(this._normalizers.has(i)){const h=this._normalizers.get(i),{path:g,value:w}=h(s);Gg(c,g,w)}else Gg(c,i,s)}getNormalized(i,s){if(!i)return xf({},s);if(s[i]!==void 0)return s[i];if(this._extractors.has(i)){const c=this._extractors.get(i);if(typeof c=="string")return Lu(s,c);const h=c(i,s);if(h)return h}return Lu(s,If(i))}getReducedForm(i,s){const c=this.getNormalized(i,s);return c===void 0?[]:this._reducers.has(i)?this._reducers.get(i)(c):[[i,c]]}getStyleNames(i){const s=Array.from(this._consumables.keys()).filter((h=>{const g=this.getNormalized(h,i);return g&&typeof g=="object"?Object.keys(g).length:g})),c=new Set([...s,...Object.keys(i)]);return Array.from(c)}getRelatedStyles(i){return this._consumables.get(i)||[]}setNormalizer(i,s){this._normalizers.set(i,s)}setExtractor(i,s){this._extractors.set(i,s)}setReducer(i,s){this._reducers.set(i,s)}setStyleRelation(i,s){this._mapStyleNames(i,s);for(const c of s)this._mapStyleNames(c,[i])}_mapStyleNames(i,s){this._consumables.has(i)||this._consumables.set(i,[]),this._consumables.get(i).push(...s)}}function If(u){return u.replace("-",".")}function Gg(u,i,s){let c=s;_e(s)&&(c=xf({},Lu(u,i),s)),Uk(u,i,c)}class so extends kt{constructor(i,s,c,h){if(super(i),this._unsafeAttributesToRender=[],this._customProperties=new Map,this.name=s,this._attrs=(function(g){const w=Ns(g);for(const[k,_]of w)_===null?w.delete(k):typeof _!="string"&&w.set(k,String(_));return w})(c),this._children=[],h&&this._insertChild(0,h),this._classes=new Set,this._attrs.has("class")){const g=this._attrs.get("class");kw(this._classes,g),this._attrs.delete("class")}this._styles=new Vg(this.document.stylesProcessor),this._attrs.has("style")&&(this._styles.setTo(this._attrs.get("style")),this._attrs.delete("style"))}get childCount(){return this._children.length}get isEmpty(){return this._children.length===0}getChild(i){return this._children[i]}getChildIndex(i){return this._children.indexOf(i)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){this._classes.size>0&&(yield"class"),this._styles.isEmpty||(yield"style"),yield*this._attrs.keys()}*getAttributes(){yield*this._attrs.entries(),this._classes.size>0&&(yield["class",this.getAttribute("class")]),this._styles.isEmpty||(yield["style",this.getAttribute("style")])}getAttribute(i){if(i=="class")return this._classes.size>0?[...this._classes].join(" "):void 0;if(i=="style"){const s=this._styles.toString();return s==""?void 0:s}return this._attrs.get(i)}hasAttribute(i){return i=="class"?this._classes.size>0:i=="style"?!this._styles.isEmpty:this._attrs.has(i)}isSimilar(i){if(!(i instanceof so))return!1;if(this===i)return!0;if(this.name!=i.name||this._attrs.size!==i._attrs.size||this._classes.size!==i._classes.size||this._styles.size!==i._styles.size)return!1;for(const[s,c]of this._attrs)if(!i._attrs.has(s)||i._attrs.get(s)!==c)return!1;for(const s of this._classes)if(!i._classes.has(s))return!1;for(const s of this._styles.getStyleNames())if(!i._styles.has(s)||i._styles.getAsString(s)!==this._styles.getAsString(s))return!1;return!0}hasClass(...i){for(const s of i)if(!this._classes.has(s))return!1;return!0}getClassNames(){return this._classes.keys()}getStyle(i){return this._styles.getAsString(i)}getNormalizedStyle(i){return this._styles.getNormalized(i)}getStyleNames(i){return this._styles.getStyleNames(i)}hasStyle(...i){for(const s of i)if(!this._styles.has(s))return!1;return!0}findAncestor(...i){const s=new oo(...i);let c=this.parent;for(;c&&!c.is("documentFragment");){if(s.match(c))return c;c=c.parent}return null}getCustomProperty(i){return this._customProperties.get(i)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){const i=Array.from(this._classes).sort().join(","),s=this._styles.toString(),c=Array.from(this._attrs).map((h=>`${h[0]}="${h[1]}"`)).sort().join(" ");return this.name+(i==""?"":` class="${i}"`)+(s?` style="${s}"`:"")+(c==""?"":` ${c}`)}shouldRenderUnsafeAttribute(i){return this._unsafeAttributesToRender.includes(i)}_clone(i=!1){const s=[];if(i)for(const h of this.getChildren())s.push(h._clone(i));const c=new this.constructor(this.document,this.name,this._attrs,s);return c._classes=new Set(this._classes),c._styles.set(this._styles.getNormalized()),c._customProperties=new Map(this._customProperties),c.getFillerOffset=this.getFillerOffset,c._unsafeAttributesToRender=this._unsafeAttributesToRender,c}_appendChild(i){return this._insertChild(this.childCount,i)}_insertChild(i,s){this._fireChange("children",this);let c=0;const h=(function(g,w){return typeof w=="string"?[new ct(g,w)]:(Kt(w)||(w=[w]),Array.from(w).map((k=>typeof k=="string"?new ct(g,k):k instanceof un?new ct(g,k.data):k)))})(this.document,s);for(const g of h)g.parent!==null&&g._remove(),g.parent=this,g.document=this.document,this._children.splice(i,0,g),i++,c++;return c}_removeChildren(i,s=1){this._fireChange("children",this);for(let c=i;c<i+s;c++)this._children[c].parent=null;return this._children.splice(i,s)}_setAttribute(i,s){const c=String(s);this._fireChange("attributes",this),i=="class"?kw(this._classes,c):i=="style"?this._styles.setTo(c):this._attrs.set(i,c)}_removeAttribute(i){return this._fireChange("attributes",this),i=="class"?this._classes.size>0&&(this._classes.clear(),!0):i=="style"?!this._styles.isEmpty&&(this._styles.clear(),!0):this._attrs.delete(i)}_addClass(i){this._fireChange("attributes",this);for(const s of dn(i))this._classes.add(s)}_removeClass(i){this._fireChange("attributes",this);for(const s of dn(i))this._classes.delete(s)}_setStyle(i,s){this._fireChange("attributes",this),typeof i!="string"?this._styles.set(i):this._styles.set(i,s)}_removeStyle(i){this._fireChange("attributes",this);for(const s of dn(i))this._styles.remove(s)}_setCustomProperty(i,s){this._customProperties.set(i,s)}_removeCustomProperty(i){return this._customProperties.delete(i)}}function kw(u,i){const s=i.split(/\s+/);u.clear(),s.forEach((c=>u.add(c)))}so.prototype.is=function(u,i){return i?i===this.name&&(u==="element"||u==="view:element"):u==="element"||u==="view:element"||u==="node"||u==="view:node"};class Bu extends so{constructor(i,s,c,h){super(i,s,c,h),this.getFillerOffset=$k}}function $k(){const u=[...this.getChildren()],i=u[this.childCount-1];if(i&&i.is("element","br"))return this.childCount;for(const s of u)if(!s.is("uiElement"))return null;return this.childCount}Bu.prototype.is=function(u,i){return i?i===this.name&&(u==="containerElement"||u==="view:containerElement"||u==="element"||u==="view:element"):u==="containerElement"||u==="view:containerElement"||u==="element"||u==="view:element"||u==="node"||u==="view:node"};class ju extends et(Bu){constructor(i,s,c,h){super(i,s,c,h),this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("placeholder",void 0),this.bind("isReadOnly").to(i),this.bind("isFocused").to(i,"isFocused",(g=>g&&i.selection.editableElement==this)),this.listenTo(i.selection,"change",(()=>{this.isFocused=i.isFocused&&i.selection.editableElement==this}))}destroy(){this.stopListening()}}ju.prototype.is=function(u,i){return i?i===this.name&&(u==="editableElement"||u==="view:editableElement"||u==="containerElement"||u==="view:containerElement"||u==="element"||u==="view:element"):u==="editableElement"||u==="view:editableElement"||u==="containerElement"||u==="view:containerElement"||u==="element"||u==="view:element"||u==="node"||u==="view:node"};const xw=Symbol("rootName");class Aw extends ju{constructor(i,s){super(i,s),this.rootName="main"}get rootName(){return this.getCustomProperty(xw)}set rootName(i){this._setCustomProperty(xw,i)}set _name(i){this.name=i}}Aw.prototype.is=function(u,i){return i?i===this.name&&(u==="rootElement"||u==="view:rootElement"||u==="editableElement"||u==="view:editableElement"||u==="containerElement"||u==="view:containerElement"||u==="element"||u==="view:element"):u==="rootElement"||u==="view:rootElement"||u==="editableElement"||u==="view:editableElement"||u==="containerElement"||u==="view:containerElement"||u==="element"||u==="view:element"||u==="node"||u==="view:node"};class yl{constructor(i={}){if(!i.boundaries&&!i.startPosition)throw new z("view-tree-walker-no-start-position",null);if(i.direction&&i.direction!="forward"&&i.direction!="backward")throw new z("view-tree-walker-unknown-direction",i.startPosition,{direction:i.direction});this.boundaries=i.boundaries||null,i.startPosition?this._position=Ke._createAt(i.startPosition):this._position=Ke._createAt(i.boundaries[i.direction=="backward"?"end":"start"]),this.direction=i.direction||"forward",this.singleCharacters=!!i.singleCharacters,this.shallow=!!i.shallow,this.ignoreElementEnd=!!i.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}get position(){return this._position}skip(i){let s,c;do c=this.position,s=this.next();while(!s.done&&i(s.value));s.done||(this._position=c)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){let i=this.position.clone();const s=this.position,c=i.parent;if(c.parent===null&&i.offset===c.childCount)return{done:!0,value:void 0};if(c===this._boundaryEndParent&&i.offset==this.boundaries.end.offset)return{done:!0,value:void 0};let h;if(c instanceof ct){if(i.isAtEnd)return this._position=Ke._createAfter(c),this._next();h=c.data[i.offset]}else h=c.getChild(i.offset);if(h instanceof so){if(this.shallow){if(this.boundaries&&this.boundaries.end.isBefore(i))return{done:!0,value:void 0};i.offset++}else i=new Ke(h,0);return this._position=i,this._formatReturnValue("elementStart",h,s,i,1)}if(h instanceof ct){if(this.singleCharacters)return i=new Ke(h,0),this._position=i,this._next();let g,w=h.data.length;return h==this._boundaryEndParent?(w=this.boundaries.end.offset,g=new un(h,0,w),i=Ke._createAfter(g)):(g=new un(h,0,h.data.length),i.offset++),this._position=i,this._formatReturnValue("text",g,s,i,w)}if(typeof h=="string"){let g;this.singleCharacters?g=1:g=(c===this._boundaryEndParent?this.boundaries.end.offset:c.data.length)-i.offset;const w=new un(c,i.offset,g);return i.offset+=g,this._position=i,this._formatReturnValue("text",w,s,i,g)}return i=Ke._createAfter(c),this._position=i,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",c,s,i)}_previous(){let i=this.position.clone();const s=this.position,c=i.parent;if(c.parent===null&&i.offset===0)return{done:!0,value:void 0};if(c==this._boundaryStartParent&&i.offset==this.boundaries.start.offset)return{done:!0,value:void 0};let h;if(c instanceof ct){if(i.isAtStart)return this._position=Ke._createBefore(c),this._previous();h=c.data[i.offset-1]}else h=c.getChild(i.offset-1);if(h instanceof so)return this.shallow?(i.offset--,this._position=i,this._formatReturnValue("elementStart",h,s,i,1)):(i=new Ke(h,h.childCount),this._position=i,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",h,s,i));if(h instanceof ct){if(this.singleCharacters)return i=new Ke(h,h.data.length),this._position=i,this._previous();let g,w=h.data.length;if(h==this._boundaryStartParent){const k=this.boundaries.start.offset;g=new un(h,k,h.data.length-k),w=g.data.length,i=Ke._createBefore(g)}else g=new un(h,0,h.data.length),i.offset--;return this._position=i,this._formatReturnValue("text",g,s,i,w)}if(typeof h=="string"){let g;if(this.singleCharacters)g=1;else{const k=c===this._boundaryStartParent?this.boundaries.start.offset:0;g=i.offset-k}i.offset-=g;const w=new un(c,i.offset,g);return this._position=i,this._formatReturnValue("text",w,s,i,g)}return i=Ke._createBefore(c),this._position=i,this._formatReturnValue("elementStart",c,s,i,1)}_formatReturnValue(i,s,c,h,g){return s instanceof un&&(s.offsetInText+s.data.length==s.textNode.data.length&&(this.direction!="forward"||this.boundaries&&this.boundaries.end.isEqual(this.position)?c=Ke._createAfter(s.textNode):(h=Ke._createAfter(s.textNode),this._position=h)),s.offsetInText===0&&(this.direction!="backward"||this.boundaries&&this.boundaries.start.isEqual(this.position)?c=Ke._createBefore(s.textNode):(h=Ke._createBefore(s.textNode),this._position=h))),{done:!1,value:{type:i,item:s,previousPosition:c,nextPosition:h,length:g}}}}class Ke extends js{constructor(i,s){super(),this.parent=i,this.offset=s}get nodeAfter(){return this.parent.is("$text")?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is("$text")?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return this.offset===0}get isAtEnd(){const i=this.parent.is("$text")?this.parent.data.length:this.parent.childCount;return this.offset===i}get root(){return this.parent.root}get editableElement(){let i=this.parent;for(;!(i instanceof ju);){if(!i.parent)return null;i=i.parent}return i}getShiftedBy(i){const s=Ke._createAt(this),c=s.offset+i;return s.offset=c<0?0:c,s}getLastMatchingPosition(i,s={}){s.startPosition=this;const c=new yl(s);return c.skip(i),c.position}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(i){const s=this.getAncestors(),c=i.getAncestors();let h=0;for(;s[h]==c[h]&&s[h];)h++;return h===0?null:s[h-1]}isEqual(i){return this.parent==i.parent&&this.offset==i.offset}isBefore(i){return this.compareWith(i)=="before"}isAfter(i){return this.compareWith(i)=="after"}compareWith(i){if(this.root!==i.root)return"different";if(this.isEqual(i))return"same";const s=this.parent.is("node")?this.parent.getPath():[],c=i.parent.is("node")?i.parent.getPath():[];s.push(this.offset),c.push(i.offset);const h=bt(s,c);switch(h){case"prefix":return"before";case"extension":return"after";default:return s[h]<c[h]?"before":"after"}}getWalker(i={}){return i.startPosition=this,new yl(i)}clone(){return new Ke(this.parent,this.offset)}static _createAt(i,s){if(i instanceof Ke)return new this(i.parent,i.offset);{const c=i;if(s=="end")s=c.is("$text")?c.data.length:c.childCount;else{if(s=="before")return this._createBefore(c);if(s=="after")return this._createAfter(c);if(s!==0&&!s)throw new z("view-createpositionat-offset-required",c)}return new Ke(c,s)}}static _createAfter(i){if(i.is("$textProxy"))return new Ke(i.textNode,i.offsetInText+i.data.length);if(!i.parent)throw new z("view-position-after-root",i,{root:i});return new Ke(i.parent,i.index+1)}static _createBefore(i){if(i.is("$textProxy"))return new Ke(i.textNode,i.offsetInText);if(!i.parent)throw new z("view-position-before-root",i,{root:i});return new Ke(i.parent,i.index)}}Ke.prototype.is=function(u){return u==="position"||u==="view:position"};class vt extends js{constructor(i,s=null){super(),this.start=i.clone(),this.end=s?s.clone():i.clone()}*[Symbol.iterator](){yield*new yl({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let i=this.start.getLastMatchingPosition(Ug,{direction:"backward"}),s=this.end.getLastMatchingPosition(Ug);return i.parent.is("$text")&&i.isAtStart&&(i=Ke._createBefore(i.parent)),s.parent.is("$text")&&s.isAtEnd&&(s=Ke._createAfter(s.parent)),new vt(i,s)}getTrimmed(){let i=this.start.getLastMatchingPosition(Ug);if(i.isAfter(this.end)||i.isEqual(this.end))return new vt(i,i);let s=this.end.getLastMatchingPosition(Ug,{direction:"backward"});const c=i.nodeAfter,h=s.nodeBefore;return c&&c.is("$text")&&(i=new Ke(c,0)),h&&h.is("$text")&&(s=new Ke(h,h.data.length)),new vt(i,s)}isEqual(i){return this==i||this.start.isEqual(i.start)&&this.end.isEqual(i.end)}containsPosition(i){return i.isAfter(this.start)&&i.isBefore(this.end)}containsRange(i,s=!1){i.isCollapsed&&(s=!1);const c=this.containsPosition(i.start)||s&&this.start.isEqual(i.start),h=this.containsPosition(i.end)||s&&this.end.isEqual(i.end);return c&&h}getDifference(i){const s=[];return this.isIntersecting(i)?(this.containsPosition(i.start)&&s.push(new vt(this.start,i.start)),this.containsPosition(i.end)&&s.push(new vt(i.end,this.end))):s.push(this.clone()),s}getIntersection(i){if(this.isIntersecting(i)){let s=this.start,c=this.end;return this.containsPosition(i.start)&&(s=i.start),this.containsPosition(i.end)&&(c=i.end),new vt(s,c)}return null}getWalker(i={}){return i.boundaries=this,new yl(i)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;let i=this.start.nodeAfter,s=this.end.nodeBefore;return this.start.parent.is("$text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(i=this.start.parent.nextSibling),this.end.parent.is("$text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(s=this.end.parent.previousSibling),i&&i.is("element")&&i===s?i:null}clone(){return new vt(this.start,this.end)}*getItems(i={}){i.boundaries=this,i.ignoreElementEnd=!0;const s=new yl(i);for(const c of s)yield c.item}*getPositions(i={}){i.boundaries=this;const s=new yl(i);yield s.position;for(const c of s)yield c.nextPosition}isIntersecting(i){return this.start.isBefore(i.end)&&this.end.isAfter(i.start)}static _createFromParentsAndOffsets(i,s,c,h){return new this(new Ke(i,s),new Ke(c,h))}static _createFromPositionAndShift(i,s){const c=i,h=i.getShiftedBy(s);return s>0?new this(c,h):new this(h,c)}static _createIn(i){return this._createFromParentsAndOffsets(i,0,i,i.childCount)}static _createOn(i){const s=i.is("$textProxy")?i.offsetSize:1;return this._createFromPositionAndShift(Ke._createBefore(i),s)}}function Ug(u){return!(!u.item.is("attributeElement")&&!u.item.is("uiElement"))}vt.prototype.is=function(u){return u==="range"||u==="view:range"};class Io extends le(js){constructor(...i){super(),this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",i.length&&this.setTo(...i)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const i=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?i.end:i.start).clone()}get focus(){if(!this._ranges.length)return null;const i=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?i.start:i.end).clone()}get isCollapsed(){return this.rangeCount===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(const i of this._ranges)yield i.clone()}getFirstRange(){let i=null;for(const s of this._ranges)i&&!s.start.isBefore(i.start)||(i=s);return i?i.clone():null}getLastRange(){let i=null;for(const s of this._ranges)i&&!s.end.isAfter(i.end)||(i=s);return i?i.clone():null}getFirstPosition(){const i=this.getFirstRange();return i?i.start.clone():null}getLastPosition(){const i=this.getLastRange();return i?i.end.clone():null}isEqual(i){if(this.isFake!=i.isFake||this.isFake&&this.fakeSelectionLabel!=i.fakeSelectionLabel||this.rangeCount!=i.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(i.anchor)||!this.focus.isEqual(i.focus))return!1;for(const s of this._ranges){let c=!1;for(const h of i._ranges)if(s.isEqual(h)){c=!0;break}if(!c)return!1}return!0}isSimilar(i){if(this.isBackward!=i.isBackward)return!1;const s=mt(this.getRanges());if(s!=mt(i.getRanges()))return!1;if(s==0)return!0;for(let c of this.getRanges()){c=c.getTrimmed();let h=!1;for(let g of i.getRanges())if(g=g.getTrimmed(),c.start.isEqual(g.start)&&c.end.isEqual(g.end)){h=!0;break}if(!h)return!1}return!0}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}setTo(...i){let[s,c,h]=i;if(typeof c=="object"&&(h=c,c=void 0),s===null)this._setRanges([]),this._setFakeOptions(h);else if(s instanceof Io||s instanceof kl)this._setRanges(s.getRanges(),s.isBackward),this._setFakeOptions({fake:s.isFake,label:s.fakeSelectionLabel});else if(s instanceof vt)this._setRanges([s],h&&h.backward),this._setFakeOptions(h);else if(s instanceof Ke)this._setRanges([new vt(s)]),this._setFakeOptions(h);else if(s instanceof kt){const g=!!h&&!!h.backward;let w;if(c===void 0)throw new z("view-selection-setto-required-second-parameter",this);w=c=="in"?vt._createIn(s):c=="on"?vt._createOn(s):new vt(Ke._createAt(s,c)),this._setRanges([w],g),this._setFakeOptions(h)}else{if(!Kt(s))throw new z("view-selection-setto-not-selectable",this);this._setRanges(s,h&&h.backward),this._setFakeOptions(h)}this.fire("change")}setFocus(i,s){if(this.anchor===null)throw new z("view-selection-setfocus-no-ranges",this);const c=Ke._createAt(i,s);if(c.compareWith(this.focus)=="same")return;const h=this.anchor;this._ranges.pop(),c.compareWith(h)=="before"?this._addRange(new vt(c,h),!0):this._addRange(new vt(h,c)),this.fire("change")}_setRanges(i,s=!1){i=Array.from(i),this._ranges=[];for(const c of i)this._addRange(c);this._lastRangeBackward=!!s}_setFakeOptions(i={}){this._isFake=!!i.fake,this._fakeSelectionLabel=i.fake&&i.label||""}_addRange(i,s=!1){if(!(i instanceof vt))throw new z("view-selection-add-range-not-range",this);this._pushRange(i),this._lastRangeBackward=!!s}_pushRange(i){for(const s of this._ranges)if(i.isIntersecting(s))throw new z("view-selection-range-intersects",this,{addedRange:i,intersectingRange:s});this._ranges.push(new vt(i.start,i.end))}}Io.prototype.is=function(u){return u==="selection"||u==="view:selection"};class kl extends le(js){constructor(...i){super(),this._selection=new Io,this._selection.delegate("change").to(this),i.length&&this._selection.setTo(...i)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(i){return this._selection.isEqual(i)}isSimilar(i){return this._selection.isSimilar(i)}_setTo(...i){this._selection.setTo(...i)}_setFocus(i,s){this._selection.setFocus(i,s)}}kl.prototype.is=function(u){return u==="selection"||u=="documentSelection"||u=="view:selection"||u=="view:documentSelection"};class Wc extends N{constructor(i,s,c){super(i,s),this.startRange=c,this._eventPhase="none",this._currentTarget=null}get eventPhase(){return this._eventPhase}get currentTarget(){return this._currentTarget}}const zu=Symbol("bubbling contexts");function Hu(u){return class extends u{fire(i,...s){try{const c=i instanceof N?i:new N(this,i),h=Wg(this);if(!h.size)return;if(Vu(c,"capturing",this),xl(h,"$capture",c,...s))return c.return;const g=c.startRange||this.selection.getFirstRange(),w=g?g.getContainedElement():null,k=!!w&&!!qk(h,w);let _=w||(function(R){if(!R)return null;const I=R.start.parent,F=R.end.parent,H=I.getPath(),G=F.getPath();return H.length>G.length?I:F})(g);if(Vu(c,"atTarget",_),!k){if(xl(h,"$text",c,...s))return c.return;Vu(c,"bubbling",_)}for(;_;){if(_.is("rootElement")){if(xl(h,"$root",c,...s))return c.return}else if(_.is("element")&&xl(h,_.name,c,...s))return c.return;if(xl(h,_,c,...s))return c.return;_=_.parent,Vu(c,"bubbling",_)}return Vu(c,"bubbling",this),xl(h,"$document",c,...s),c.return}catch(c){z.rethrowUnexpectedError(c,this)}}_addEventListener(i,s,c){const h=dn(c.context||"$document"),g=Wg(this);for(const w of h){let k=g.get(w);k||(k=new(le()),g.set(w,k)),this.listenTo(k,i,s,c)}}_removeEventListener(i,s){const c=Wg(this);for(const h of c.values())this.stopListening(h,i,s)}}}{const u=Hu(Object);["fire","_addEventListener","_removeEventListener"].forEach((i=>{Hu[i]=u.prototype[i]}))}function Vu(u,i,s){u instanceof Wc&&(u._eventPhase=i,u._currentTarget=s)}function xl(u,i,s,...c){const h=typeof i=="string"?u.get(i):qk(u,i);return!!h&&(h.fire(s,...c),s.stop.called)}function qk(u,i){for(const[s,c]of u)if(typeof s=="function"&&s(i))return c;return null}function Wg(u){return u[zu]||(u[zu]=new Map),u[zu]}class Nf extends Hu(et()){constructor(i){super(),this._postFixers=new Set,this.selection=new kl,this.roots=new An({idProperty:"rootName"}),this.stylesProcessor=i,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isSelecting",!1),this.set("isComposing",!1)}getRoot(i="main"){return this.roots.get(i)}registerPostFixer(i){this._postFixers.add(i)}destroy(){this.roots.forEach((i=>i.destroy())),this.stopListening()}_callPostFixers(i){let s=!1;do for(const c of this._postFixers)if(s=c(i),s)break;while(s)}}class Al extends so{constructor(i,s,c,h){super(i,s,c,h),this._priority=10,this._id=null,this._clonesGroup=null,this.getFillerOffset=Kk}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(this.id===null)throw new z("attribute-element-get-elements-with-same-id-no-id",this);return new Set(this._clonesGroup)}isSimilar(i){return this.id!==null||i.id!==null?this.id===i.id:super.isSimilar(i)&&this.priority==i.priority}_clone(i=!1){const s=super._clone(i);return s._priority=this._priority,s._id=this._id,s}}function Kk(){if($g(this))return null;let u=this.parent;for(;u&&u.is("attributeElement");){if($g(u)>1)return null;u=u.parent}return!u||$g(u)>1?null:this.childCount}function $g(u){return Array.from(u.getChildren()).filter((i=>!i.is("uiElement"))).length}Al.DEFAULT_PRIORITY=10,Al.prototype.is=function(u,i){return i?i===this.name&&(u==="attributeElement"||u==="view:attributeElement"||u==="element"||u==="view:element"):u==="attributeElement"||u==="view:attributeElement"||u==="element"||u==="view:element"||u==="node"||u==="view:node"};class Of extends so{constructor(i,s,c,h){super(i,s,c,h),this.getFillerOffset=Yk}_insertChild(i,s){if(s&&(s instanceof kt||Array.from(s).length>0))throw new z("view-emptyelement-cannot-add",[this,s]);return 0}}function Yk(){return null}Of.prototype.is=function(u,i){return i?i===this.name&&(u==="emptyElement"||u==="view:emptyElement"||u==="element"||u==="view:element"):u==="emptyElement"||u==="view:emptyElement"||u==="element"||u==="view:element"||u==="node"||u==="view:node"};class Ff extends so{constructor(i,s,c,h){super(i,s,c,h),this.getFillerOffset=Qk}_insertChild(i,s){if(s&&(s instanceof kt||Array.from(s).length>0))throw new z("view-uielement-cannot-add",[this,s]);return 0}render(i,s){return this.toDomElement(i)}toDomElement(i){const s=i.createElement(this.name);for(const c of this.getAttributeKeys())s.setAttribute(c,this.getAttribute(c));return s}}function Sw(u){u.document.on("arrowKey",((i,s)=>(function(c,h,g){if(h.keyCode==Mt.arrowright){const w=h.domTarget.ownerDocument.defaultView.getSelection(),k=w.rangeCount==1&&w.getRangeAt(0).collapsed;if(k||h.shiftKey){const _=w.focusNode,R=w.focusOffset,I=g.domPositionToView(_,R);if(I===null)return;let F=!1;const H=I.getLastMatchingPosition((G=>(G.item.is("uiElement")&&(F=!0),!(!G.item.is("uiElement")&&!G.item.is("attributeElement")))));if(F){const G=g.viewPositionToDom(H);k?w.collapse(G.parent,G.offset):w.extend(G.parent,G.offset)}}}})(0,s,u.domConverter)),{priority:"low"})}function Qk(){return null}Ff.prototype.is=function(u,i){return i?i===this.name&&(u==="uiElement"||u==="view:uiElement"||u==="element"||u==="view:element"):u==="uiElement"||u==="view:uiElement"||u==="element"||u==="view:element"||u==="node"||u==="view:node"};class qg extends so{constructor(i,s,c,h){super(i,s,c,h),this.getFillerOffset=VD}_insertChild(i,s){if(s&&(s instanceof kt||Array.from(s).length>0))throw new z("view-rawelement-cannot-add",[this,s]);return 0}render(i,s){}}function VD(){return null}qg.prototype.is=function(u,i){return i?i===this.name&&(u==="rawElement"||u==="view:rawElement"||u==="element"||u==="view:element"):u==="rawElement"||u==="view:rawElement"||u===this.name||u==="view:"+this.name||u==="element"||u==="view:element"||u==="node"||u==="view:node"};class Ta extends le(js){constructor(i,s){super(),this._children=[],this._customProperties=new Map,this.document=i,s&&this._insertChild(0,s)}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return this.childCount===0}get root(){return this}get parent(){return null}get name(){}get getFillerOffset(){}getCustomProperty(i){return this._customProperties.get(i)}*getCustomProperties(){yield*this._customProperties.entries()}_appendChild(i){return this._insertChild(this.childCount,i)}getChild(i){return this._children[i]}getChildIndex(i){return this._children.indexOf(i)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(i,s){this._fireChange("children",this);let c=0;const h=(function(g,w){return typeof w=="string"?[new ct(g,w)]:(Kt(w)||(w=[w]),Array.from(w).map((k=>typeof k=="string"?new ct(g,k):k instanceof un?new ct(g,k.data):k)))})(this.document,s);for(const g of h)g.parent!==null&&g._remove(),g.parent=this,this._children.splice(i,0,g),i++,c++;return c}_removeChildren(i,s=1){this._fireChange("children",this);for(let c=i;c<i+s;c++)this._children[c].parent=null;return this._children.splice(i,s)}_fireChange(i,s){this.fire("change:"+i,s)}_setCustomProperty(i,s){this._customProperties.set(i,s)}_removeCustomProperty(i){return this._customProperties.delete(i)}}Ta.prototype.is=function(u){return u==="documentFragment"||u==="view:documentFragment"};class _w{constructor(i){this._cloneGroups=new Map,this._slotFactory=null,this.document=i}setSelection(...i){this.document.selection._setTo(...i)}setSelectionFocus(i,s){this.document.selection._setFocus(i,s)}createDocumentFragment(i){return new Ta(this.document,i)}createText(i){return new ct(this.document,i)}createAttributeElement(i,s,c={}){const h=new Al(this.document,i,s);return typeof c.priority=="number"&&(h._priority=c.priority),c.id&&(h._id=c.id),c.renderUnsafeAttributes&&h._unsafeAttributesToRender.push(...c.renderUnsafeAttributes),h}createContainerElement(i,s,c={},h={}){let g=null;_i(c)?h=c:g=c;const w=new Bu(this.document,i,s,g);return h.renderUnsafeAttributes&&w._unsafeAttributesToRender.push(...h.renderUnsafeAttributes),w}createEditableElement(i,s,c={}){const h=new ju(this.document,i,s);return c.renderUnsafeAttributes&&h._unsafeAttributesToRender.push(...c.renderUnsafeAttributes),h}createEmptyElement(i,s,c={}){const h=new Of(this.document,i,s);return c.renderUnsafeAttributes&&h._unsafeAttributesToRender.push(...c.renderUnsafeAttributes),h}createUIElement(i,s,c){const h=new Ff(this.document,i,s);return c&&(h.render=c),h}createRawElement(i,s,c,h={}){const g=new qg(this.document,i,s);return c&&(g.render=c),h.renderUnsafeAttributes&&g._unsafeAttributesToRender.push(...h.renderUnsafeAttributes),g}setAttribute(i,s,c){c._setAttribute(i,s)}removeAttribute(i,s){s._removeAttribute(i)}addClass(i,s){s._addClass(i)}removeClass(i,s){s._removeClass(i)}setStyle(i,s,c){_i(i)&&c===void 0?s._setStyle(i):c._setStyle(i,s)}removeStyle(i,s){s._removeStyle(i)}setCustomProperty(i,s,c){c._setCustomProperty(i,s)}removeCustomProperty(i,s){return s._removeCustomProperty(i)}breakAttributes(i){return i instanceof Ke?this._breakAttributes(i):this._breakAttributesRange(i)}breakContainer(i){const s=i.parent;if(!s.is("containerElement"))throw new z("view-writer-break-non-container-element",this.document);if(!s.parent)throw new z("view-writer-break-root",this.document);if(i.isAtStart)return Ke._createBefore(s);if(!i.isAtEnd){const c=s._clone(!1);this.insert(Ke._createAfter(s),c);const h=new vt(i,Ke._createAt(s,"end")),g=new Ke(c,0);this.move(h,g)}return Ke._createAfter(s)}mergeAttributes(i){const s=i.offset,c=i.parent;if(c.is("$text"))return i;if(c.is("attributeElement")&&c.childCount===0){const w=c.parent,k=c.index;return c._remove(),this._removeFromClonedElementsGroup(c),this.mergeAttributes(new Ke(w,k))}const h=c.getChild(s-1),g=c.getChild(s);if(!h||!g)return i;if(h.is("$text")&&g.is("$text"))return Zk(h,g);if(h.is("attributeElement")&&g.is("attributeElement")&&h.isSimilar(g)){const w=h.childCount;return h._appendChild(g.getChildren()),g._remove(),this._removeFromClonedElementsGroup(g),this.mergeAttributes(new Ke(h,w))}return i}mergeContainers(i){const s=i.nodeBefore,c=i.nodeAfter;if(!(s&&c&&s.is("containerElement")&&c.is("containerElement")))throw new z("view-writer-merge-containers-invalid-position",this.document);const h=s.getChild(s.childCount-1),g=h instanceof ct?Ke._createAt(h,"end"):Ke._createAt(s,"end");return this.move(vt._createIn(c),Ke._createAt(s,"end")),this.remove(vt._createOn(c)),g}insert(i,s){Mw(s=Kt(s)?[...s]:[s],this.document);const c=s.reduce(((w,k)=>{const _=w[w.length-1],R=!k.is("uiElement");return _&&_.breakAttributes==R?_.nodes.push(k):w.push({breakAttributes:R,nodes:[k]}),w}),[]);let h=null,g=i;for(const{nodes:w,breakAttributes:k}of c){const _=this._insertNodes(g,w,k);h||(h=_.start),g=_.end}return h?new vt(h,g):new vt(i)}remove(i){const s=i instanceof vt?i:vt._createOn(i);if(qc(s,this.document),s.isCollapsed)return new Ta(this.document);const{start:c,end:h}=this._breakAttributesRange(s,!0),g=c.parent,w=h.offset-c.offset,k=g._removeChildren(c.offset,w);for(const R of k)this._removeFromClonedElementsGroup(R);const _=this.mergeAttributes(c);return s.start=_,s.end=_.clone(),new Ta(this.document,k)}clear(i,s){qc(i,this.document);const c=i.getWalker({direction:"backward",ignoreElementEnd:!0});for(const h of c){const g=h.item;let w;if(g.is("element")&&s.isSimilar(g))w=vt._createOn(g);else if(!h.nextPosition.isAfter(i.start)&&g.is("$textProxy")){const k=g.getAncestors().find((_=>_.is("element")&&s.isSimilar(_)));k&&(w=vt._createIn(k))}w&&(w.end.isAfter(i.end)&&(w.end=i.end),w.start.isBefore(i.start)&&(w.start=i.start),this.remove(w))}}move(i,s){let c;if(s.isAfter(i.end)){const h=(s=this._breakAttributes(s,!0)).parent,g=h.childCount;i=this._breakAttributesRange(i,!0),c=this.remove(i),s.offset+=h.childCount-g}else c=this.remove(i);return this.insert(s,c)}wrap(i,s){if(!(s instanceof Al))throw new z("view-writer-wrap-invalid-attribute",this.document);if(qc(i,this.document),i.isCollapsed){let h=i.start;h.parent.is("element")&&(c=h.parent,!Array.from(c.getChildren()).some((w=>!w.is("uiElement"))))&&(h=h.getLastMatchingPosition((w=>w.item.is("uiElement")))),h=this._wrapPosition(h,s);const g=this.document.selection;return g.isCollapsed&&g.getFirstPosition().isEqual(i.start)&&this.setSelection(h),new vt(h)}return this._wrapRange(i,s);var c}unwrap(i,s){if(!(s instanceof Al))throw new z("view-writer-unwrap-invalid-attribute",this.document);if(qc(i,this.document),i.isCollapsed)return i;const{start:c,end:h}=this._breakAttributesRange(i,!0),g=c.parent,w=this._unwrapChildren(g,c.offset,h.offset,s),k=this.mergeAttributes(w.start);k.isEqual(w.start)||w.end.offset--;const _=this.mergeAttributes(w.end);return new vt(k,_)}rename(i,s){const c=new Bu(this.document,i,s.getAttributes());return this.insert(Ke._createAfter(s),c),this.move(vt._createIn(s),Ke._createAt(c,0)),this.remove(vt._createOn(s)),c}clearClonedElementsGroup(i){this._cloneGroups.delete(i)}createPositionAt(i,s){return Ke._createAt(i,s)}createPositionAfter(i){return Ke._createAfter(i)}createPositionBefore(i){return Ke._createBefore(i)}createRange(i,s){return new vt(i,s)}createRangeOn(i){return vt._createOn(i)}createRangeIn(i){return vt._createIn(i)}createSelection(...i){return new Io(...i)}createSlot(i="children"){if(!this._slotFactory)throw new z("view-writer-invalid-create-slot-context",this.document);return this._slotFactory(this,i)}_registerSlotFactory(i){this._slotFactory=i}_clearSlotFactory(){this._slotFactory=null}_insertNodes(i,s,c){let h,g;if(h=c?Kg(i):i.parent.is("$text")?i.parent.parent:i.parent,!h)throw new z("view-writer-invalid-position-container",this.document);g=c?this._breakAttributes(i,!0):i.parent.is("$text")?Yg(i):i;const w=h._insertChild(g.offset,s);for(const I of s)this._addToClonedElementsGroup(I);const k=g.getShiftedBy(w),_=this.mergeAttributes(g);_.isEqual(g)||k.offset--;const R=this.mergeAttributes(k);return new vt(_,R)}_wrapChildren(i,s,c,h){let g=s;const w=[];for(;g<c;){const _=i.getChild(g),R=_.is("$text"),I=_.is("attributeElement");if(I&&this._wrapAttributeElement(h,_))w.push(new Ke(i,g));else if(R||!I||Ew(h,_)){const F=h._clone();_._remove(),F._appendChild(_),i._insertChild(g,F),this._addToClonedElementsGroup(F),w.push(new Ke(i,g))}else this._wrapChildren(_,0,_.childCount,h);g++}let k=0;for(const _ of w)_.offset-=k,_.offset!=s&&(this.mergeAttributes(_).isEqual(_)||(k++,c--));return vt._createFromParentsAndOffsets(i,s,i,c)}_unwrapChildren(i,s,c,h){let g=s;const w=[];for(;g<c;){const _=i.getChild(g);if(_.is("attributeElement"))if(_.isSimilar(h)){const R=_.getChildren(),I=_.childCount;_._remove(),i._insertChild(g,R),this._removeFromClonedElementsGroup(_),w.push(new Ke(i,g),new Ke(i,g+I)),g+=I,c+=I-1}else this._unwrapAttributeElement(h,_)?(w.push(new Ke(i,g),new Ke(i,g+1)),g++):(this._unwrapChildren(_,0,_.childCount,h),g++);else g++}let k=0;for(const _ of w)_.offset-=k,!(_.offset==s||_.offset==c)&&(this.mergeAttributes(_).isEqual(_)||(k++,c--));return vt._createFromParentsAndOffsets(i,s,i,c)}_wrapRange(i,s){const{start:c,end:h}=this._breakAttributesRange(i,!0),g=c.parent,w=this._wrapChildren(g,c.offset,h.offset,s),k=this.mergeAttributes(w.start);k.isEqual(w.start)||w.end.offset--;const _=this.mergeAttributes(w.end);return new vt(k,_)}_wrapPosition(i,s){if(s.isSimilar(i.parent))return Dw(i.clone());i.parent.is("$text")&&(i=Yg(i));const c=this.createAttributeElement("_wrapPosition-fake-element");c._priority=Number.POSITIVE_INFINITY,c.isSimilar=()=>!1,i.parent._insertChild(i.offset,c);const h=new vt(i,i.getShiftedBy(1));this.wrap(h,s);const g=new Ke(c.parent,c.index);c._remove();const w=g.nodeBefore,k=g.nodeAfter;return w instanceof ct&&k instanceof ct?Zk(w,k):Dw(g)}_wrapAttributeElement(i,s){if(!Lf(i,s)||i.name!==s.name||i.priority!==s.priority)return!1;for(const c of i.getAttributeKeys())if(c!=="class"&&c!=="style"&&s.hasAttribute(c)&&s.getAttribute(c)!==i.getAttribute(c))return!1;for(const c of i.getStyleNames())if(s.hasStyle(c)&&s.getStyle(c)!==i.getStyle(c))return!1;for(const c of i.getAttributeKeys())c!=="class"&&c!=="style"&&(s.hasAttribute(c)||this.setAttribute(c,i.getAttribute(c),s));for(const c of i.getStyleNames())s.hasStyle(c)||this.setStyle(c,i.getStyle(c),s);for(const c of i.getClassNames())s.hasClass(c)||this.addClass(c,s);return!0}_unwrapAttributeElement(i,s){if(!Lf(i,s)||i.name!==s.name||i.priority!==s.priority)return!1;for(const c of i.getAttributeKeys())if(c!=="class"&&c!=="style"&&(!s.hasAttribute(c)||s.getAttribute(c)!==i.getAttribute(c)))return!1;if(!s.hasClass(...i.getClassNames()))return!1;for(const c of i.getStyleNames())if(!s.hasStyle(c)||s.getStyle(c)!==i.getStyle(c))return!1;for(const c of i.getAttributeKeys())c!=="class"&&c!=="style"&&this.removeAttribute(c,s);return this.removeClass(Array.from(i.getClassNames()),s),this.removeStyle(Array.from(i.getStyleNames()),s),!0}_breakAttributesRange(i,s=!1){const c=i.start,h=i.end;if(qc(i,this.document),i.isCollapsed){const _=this._breakAttributes(i.start,s);return new vt(_,_)}const g=this._breakAttributes(h,s),w=g.parent.childCount,k=this._breakAttributes(c,s);return g.offset+=g.parent.childCount-w,new vt(k,g)}_breakAttributes(i,s=!1){const c=i.offset,h=i.parent;if(i.parent.is("emptyElement"))throw new z("view-writer-cannot-break-empty-element",this.document);if(i.parent.is("uiElement"))throw new z("view-writer-cannot-break-ui-element",this.document);if(i.parent.is("rawElement"))throw new z("view-writer-cannot-break-raw-element",this.document);if(!s&&h.is("$text")&&$c(h.parent)||$c(h))return i.clone();if(h.is("$text"))return this._breakAttributes(Yg(i),s);if(c==h.childCount){const g=new Ke(h.parent,h.index+1);return this._breakAttributes(g,s)}if(c===0){const g=new Ke(h.parent,h.index);return this._breakAttributes(g,s)}{const g=h.index+1,w=h._clone();h.parent._insertChild(g,w),this._addToClonedElementsGroup(w);const k=h.childCount-c,_=h._removeChildren(c,k);w._appendChild(_);const R=new Ke(h.parent,g);return this._breakAttributes(R,s)}}_addToClonedElementsGroup(i){if(!i.root.is("rootElement"))return;if(i.is("element"))for(const h of i.getChildren())this._addToClonedElementsGroup(h);const s=i.id;if(!s)return;let c=this._cloneGroups.get(s);c||(c=new Set,this._cloneGroups.set(s,c)),c.add(i),i._clonesGroup=c}_removeFromClonedElementsGroup(i){if(i.is("element"))for(const h of i.getChildren())this._removeFromClonedElementsGroup(h);const s=i.id;if(!s)return;const c=this._cloneGroups.get(s);c&&c.delete(i)}}function Kg(u){let i=u.parent;for(;!$c(i);){if(!i)return;i=i.parent}return i}function Ew(u,i){return u.priority<i.priority||!(u.priority>i.priority)&&u.getIdentity()<i.getIdentity()}function Dw(u){const i=u.nodeBefore;if(i&&i.is("$text"))return new Ke(i,i.data.length);const s=u.nodeAfter;return s&&s.is("$text")?new Ke(s,0):u}function Yg(u){if(u.offset==u.parent.data.length)return new Ke(u.parent.parent,u.parent.index+1);if(u.offset===0)return new Ke(u.parent.parent,u.parent.index);const i=u.parent.data.slice(u.offset);return u.parent._data=u.parent.data.slice(0,u.offset),u.parent.parent._insertChild(u.parent.index+1,new ct(u.root.document,i)),new Ke(u.parent.parent,u.parent.index+1)}function Zk(u,i){const s=u.data.length;return u._data+=i.data,i._remove(),new Ke(u,s)}const GD=[ct,Al,Bu,Of,qg,Ff];function Mw(u,i){for(const s of u){if(!GD.some((c=>s instanceof c)))throw new z("view-writer-insert-invalid-node-type",i);s.is("$text")||Mw(s.getChildren(),i)}}function $c(u){return u&&(u.is("containerElement")||u.is("documentFragment"))}function qc(u,i){const s=Kg(u.start),c=Kg(u.end);if(!s||!c||s!==c)throw new z("view-writer-invalid-range-container",i)}function Lf(u,i){return u.id===null&&i.id===null}const Tw=u=>u.createTextNode(""),Rw=u=>{const i=u.createElement("span");return i.dataset.ckeFiller="true",i.innerText="",i},Gu=u=>{const i=u.createElement("br");return i.dataset.ckeFiller="true",i},No=7,Kc="".repeat(No);function Pi(u){return typeof u=="string"?u.substr(0,No)===Kc:or(u)&&u.data.substr(0,No)===Kc}function Sl(u){return u.data.length==No&&Pi(u)}function Qg(u){const i=typeof u=="string"?u:u.data;return Pi(u)?i.slice(No):i}function Xk(u,i){if(i.keyCode==Mt.arrowleft){const s=i.domTarget.ownerDocument.defaultView.getSelection();if(s.rangeCount==1&&s.getRangeAt(0).collapsed){const c=s.getRangeAt(0).startContainer,h=s.getRangeAt(0).startOffset;Pi(c)&&h<=No&&s.collapse(c,0)}}}var Pw=o(8264),Yc={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$e()(Pw.A,Yc),Pw.A.locals;class Jk extends et(){constructor(i,s){super(),this.domDocuments=new Set,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this._inlineFiller=null,this._fakeSelectionContainer=null,this.domConverter=i,this.selection=s,this.set("isFocused",!1),this.set("isSelecting",!1),v.isBlink&&!v.isAndroid&&this.on("change:isSelecting",(()=>{this.isSelecting||this.render()})),this.set("isComposing",!1),this.on("change:isComposing",(()=>{this.isComposing||this.render()}))}markToSync(i,s){if(i==="text")this.domConverter.mapViewToDom(s.parent)&&this.markedTexts.add(s);else{if(!this.domConverter.mapViewToDom(s))return;if(i==="attributes")this.markedAttributes.add(s);else{if(i!=="children")throw new z("view-renderer-unknown-type",this);this.markedChildren.add(s)}}}render(){if(this.isComposing&&!v.isAndroid)return;let i=null;const s=!(v.isBlink&&!v.isAndroid)||!this.isSelecting;for(const c of this.markedChildren)this._updateChildrenMappings(c);s?(this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?i=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(i=this.selection.getFirstPosition(),this.markedChildren.add(i.parent))):this._inlineFiller&&this._inlineFiller.parentNode&&(i=this.domConverter.domPositionToView(this._inlineFiller),i&&i.parent.is("$text")&&(i=Ke._createBefore(i.parent)));for(const c of this.markedAttributes)this._updateAttrs(c);for(const c of this.markedChildren)this._updateChildren(c,{inlineFillerPosition:i});for(const c of this.markedTexts)!this.markedChildren.has(c.parent)&&this.domConverter.mapViewToDom(c.parent)&&this._updateText(c,{inlineFillerPosition:i});if(s)if(i){const c=this.domConverter.viewPositionToDom(i),h=c.parent.ownerDocument;Pi(c.parent)?this._inlineFiller=c.parent:this._inlineFiller=Iw(h,c.parent,c.offset)}else this._inlineFiller=null;this._updateFocus(),this._updateSelection(),this.domConverter._clearTemporaryCustomProperties(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}_updateChildrenMappings(i){const s=this.domConverter.mapViewToDom(i);if(!s)return;const c=Array.from(s.childNodes),h=Array.from(this.domConverter.viewChildrenToDom(i,{withChildren:!1})),g=this._diffNodeLists(c,h),w=this._findUpdateActions(g,c,h,ex);if(w.indexOf("update")!==-1){const k={equal:0,insert:0,delete:0};for(const _ of w)if(_==="update"){const R=k.equal+k.insert,I=k.equal+k.delete,F=i.getChild(R);!F||F.is("uiElement")||F.is("rawElement")||this._updateElementMappings(F,c[I]),bf(h[R]),k.equal++}else k[_]++}}_updateElementMappings(i,s){this.domConverter.unbindDomElement(s),this.domConverter.bindElements(s,i),this.markedChildren.add(i),this.markedAttributes.add(i)}_getInlineFillerPosition(){const i=this.selection.getFirstPosition();return i.parent.is("$text")?Ke._createBefore(i.parent):i}_isSelectionInInlineFiller(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const i=this.selection.getFirstPosition(),s=this.domConverter.viewPositionToDom(i);return!!(s&&or(s.parent)&&Pi(s.parent))}_removeInlineFiller(){const i=this._inlineFiller;if(!Pi(i))throw new z("view-renderer-filler-was-lost",this);Sl(i)?i.remove():i.data=i.data.substr(No),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const i=this.selection.getFirstPosition(),s=i.parent,c=i.offset;if(!this.domConverter.mapViewToDom(s.root)||!s.is("element")||!(function(w){if(w.getAttribute("contenteditable")=="false")return!1;const k=w.findAncestor((_=>_.hasAttribute("contenteditable")));return!k||k.getAttribute("contenteditable")=="true"})(s))return!1;const h=i.nodeBefore,g=i.nodeAfter;return!(h instanceof ct||g instanceof ct)&&!!(c!==s.getFillerOffset()||h&&h.is("element","br"))&&(!v.isAndroid||!h&&!g)}_updateText(i,s){const c=this.domConverter.findCorrespondingDomText(i);let h=this.domConverter.viewToDom(i).data;const g=s.inlineFillerPosition;g&&g.parent==i.parent&&g.offset==i.index&&(h=Kc+h),Xg(c,h)}_updateAttrs(i){const s=this.domConverter.mapViewToDom(i);if(!s)return;const c=Array.from(s.attributes).map((g=>g.name)),h=i.getAttributeKeys();for(const g of h)this.domConverter.setDomElementAttribute(s,g,i.getAttribute(g),i);for(const g of c)i.hasAttribute(g)||this.domConverter.removeDomElementAttribute(s,g)}_updateChildren(i,s){const c=this.domConverter.mapViewToDom(i);if(!c)return;if(v.isAndroid){let F=null;for(const H of Array.from(c.childNodes)){if(F&&or(F)&&or(H)){c.normalize();break}F=H}}const h=s.inlineFillerPosition,g=c.childNodes,w=Array.from(this.domConverter.viewChildrenToDom(i,{bind:!0}));h&&h.parent===i&&Iw(c.ownerDocument,w,h.offset);const k=this._diffNodeLists(g,w),_=this._findUpdateActions(k,g,w,Zg);let R=0;const I=new Set;for(const F of _)F==="delete"?(I.add(g[R]),bf(g[R])):F!=="equal"&&F!=="update"||R++;R=0;for(const F of _)F==="insert"?(mf(c,R,w[R]),R++):F==="update"?(Xg(g[R],w[R].data),R++):F==="equal"&&(this._markDescendantTextToSync(this.domConverter.domToView(w[R])),R++);for(const F of I)F.parentNode||this.domConverter.unbindDomElement(F)}_diffNodeLists(i,s){return i=(function(c,h){const g=Array.from(c);return g.length==0||!h||g[g.length-1]==h&&g.pop(),g})(i,this._fakeSelectionContainer),T(i,s,tx.bind(null,this.domConverter))}_findUpdateActions(i,s,c,h){if(i.indexOf("insert")===-1||i.indexOf("delete")===-1)return i;let g=[],w=[],k=[];const _={equal:0,insert:0,delete:0};for(const R of i)R==="insert"?k.push(c[_.equal+_.insert]):R==="delete"?w.push(s[_.equal+_.delete]):(g=g.concat(T(w,k,h).map((I=>I==="equal"?"update":I))),g.push("equal"),w=[],k=[]),_[R]++;return g.concat(T(w,k,h).map((R=>R==="equal"?"update":R)))}_markDescendantTextToSync(i){if(i){if(i.is("$text"))this.markedTexts.add(i);else if(i.is("element"))for(const s of i.getChildren())this._markDescendantTextToSync(s)}}_updateSelection(){if(v.isBlink&&!v.isAndroid&&this.isSelecting&&!this.markedChildren.size)return;if(this.selection.rangeCount===0)return this._removeDomSelection(),void this._removeFakeSelection();const i=this.domConverter.mapViewToDom(this.selection.editableElement);this.isFocused&&i&&(this.selection.isFake?this._updateFakeSelection(i):this._fakeSelectionContainer&&this._fakeSelectionContainer.isConnected?(this._removeFakeSelection(),this._updateDomSelection(i)):this.isComposing&&v.isAndroid||this._updateDomSelection(i))}_updateFakeSelection(i){const s=i.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=(function(w){const k=w.createElement("div");return k.className="ck-fake-selection-container",Object.assign(k.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),k.textContent="",k})(s));const c=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(c,this.selection),!this._fakeSelectionNeedsUpdate(i))return;c.parentElement&&c.parentElement==i||i.appendChild(c),c.textContent=this.selection.fakeSelectionLabel||"";const h=s.getSelection(),g=s.createRange();h.removeAllRanges(),g.selectNodeContents(c),h.addRange(g)}_updateDomSelection(i){const s=i.ownerDocument.defaultView.getSelection();if(!this._domSelectionNeedsUpdate(s))return;const c=this.domConverter.viewPositionToDom(this.selection.anchor),h=this.domConverter.viewPositionToDom(this.selection.focus);s.setBaseAndExtent(c.parent,c.offset,h.parent,h.offset),v.isGecko&&(function(g,w){let k=g.parent,_=g.offset;if(or(k)&&Sl(k)&&(_=Su(k)+1,k=k.parentNode),k.nodeType!=Node.ELEMENT_NODE||_!=k.childNodes.length-1)return;const R=k.childNodes[_];R&&R.tagName=="BR"&&w.addRange(w.getRangeAt(0))})(h,s)}_domSelectionNeedsUpdate(i){if(!this.domConverter.isDomSelectionCorrect(i))return!0;const s=i&&this.domConverter.domSelectionToView(i);return(!s||!this.selection.isEqual(s))&&!(!this.selection.isCollapsed&&this.selection.isSimilar(s))}_fakeSelectionNeedsUpdate(i){const s=this._fakeSelectionContainer,c=i.ownerDocument.getSelection();return!s||s.parentElement!==i||c.anchorNode!==s&&!s.contains(c.anchorNode)||s.textContent!==this.selection.fakeSelectionLabel}_removeDomSelection(){for(const i of this.domDocuments){const s=i.getSelection();if(s.rangeCount){const c=i.activeElement,h=this.domConverter.mapDomToView(c);c&&h&&s.removeAllRanges()}}}_removeFakeSelection(){const i=this._fakeSelectionContainer;i&&i.remove()}_updateFocus(){if(this.isFocused){const i=this.selection.editableElement;i&&this.domConverter.focus(i)}}}function Iw(u,i,s){const c=i instanceof Array?i:i.childNodes,h=c[s];if(or(h))return h.data=Kc+h.data,h;{const g=u.createTextNode(Kc);return Array.isArray(i)?c.splice(s,0,g):mf(i,s,g),g}}function ex(u,i){return Aa(u)&&Aa(i)&&!or(u)&&!or(i)&&!Ts(u)&&!Ts(i)&&u.tagName.toLowerCase()===i.tagName.toLowerCase()}function Zg(u,i){return Aa(u)&&Aa(i)&&or(u)&&or(i)}function tx(u,i,s){return i===s||(or(i)&&or(s)?i.data===s.data:!(!u.isBlockFiller(i)||!u.isBlockFiller(s)))}function Xg(u,i){const s=u.data;if(s==i)return;const c=y(s,i);for(const h of c)h.type==="insert"?u.insertData(h.index,h.values.join("")):u.deleteData(h.index,h.howMany)}const nx=Gu(d.document),rx=Tw(d.document),UD=Rw(d.document),Uu="data-ck-unsafe-attribute-",cr="data-ck-unsafe-element";class gr{constructor(i,{blockFillerMode:s,renderingMode:c="editing"}={}){this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap,this._rawContentElementMatcher=new oo,this._inlineObjectElementMatcher=new oo,this._elementsWithTemporaryCustomProperties=new Set,this.document=i,this.renderingMode=c,this.blockFillerMode=s||(c==="editing"?"br":"nbsp"),this.preElements=["pre"],this.blockElements=["address","article","aside","blockquote","caption","center","dd","details","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","legend","li","main","menu","nav","ol","p","pre","section","summary","table","tbody","td","tfoot","th","thead","tr","ul"],this.inlineObjectElements=["object","iframe","input","button","textarea","select","option","video","embed","audio","img","canvas"],this.unsafeElements=["script","style"],this._domDocument=this.renderingMode==="editing"?d.document:d.document.implementation.createHTMLDocument("")}bindFakeSelection(i,s){this._fakeSelectionMapping.set(i,new Io(s))}fakeSelectionToView(i){return this._fakeSelectionMapping.get(i)}bindElements(i,s){this._domToViewMapping.set(i,s),this._viewToDomMapping.set(s,i)}unbindDomElement(i){const s=this._domToViewMapping.get(i);if(s){this._domToViewMapping.delete(i),this._viewToDomMapping.delete(s);for(const c of Array.from(i.children))this.unbindDomElement(c)}}bindDocumentFragments(i,s){this._domToViewMapping.set(i,s),this._viewToDomMapping.set(s,i)}shouldRenderAttribute(i,s,c){return this.renderingMode==="data"||!(i=i.toLowerCase()).startsWith("on")&&(i!=="srcdoc"||!s.match(/\bon\S+\s*=|javascript:|<\s*\/*script/i))&&(c==="img"&&(i==="src"||i==="srcset")||c==="source"&&i==="srcset"||!s.match(/^\s*(javascript:|data:(image\/svg|text\/x?html))/i))}setContentOf(i,s){if(this.renderingMode==="data")return void(i.innerHTML=s);const c=new DOMParser().parseFromString(s,"text/html"),h=c.createDocumentFragment(),g=c.body.childNodes;for(;g.length>0;)h.appendChild(g[0]);const w=c.createTreeWalker(h,NodeFilter.SHOW_ELEMENT),k=[];let _;for(;_=w.nextNode();)k.push(_);for(const R of k){for(const F of R.getAttributeNames())this.setDomElementAttribute(R,F,R.getAttribute(F));const I=R.tagName.toLowerCase();this._shouldRenameElement(I)&&(Fw(I),R.replaceWith(this._createReplacementDomElement(I,R)))}for(;i.firstChild;)i.firstChild.remove();i.append(h)}viewToDom(i,s={}){if(i.is("$text")){const c=this._processDataFromViewText(i);return this._domDocument.createTextNode(c)}{const c=i;if(this.mapViewToDom(c)){if(!c.getCustomProperty("editingPipeline:doNotReuseOnce"))return this.mapViewToDom(c);this._elementsWithTemporaryCustomProperties.add(c)}let h;if(c.is("documentFragment"))h=this._domDocument.createDocumentFragment(),s.bind&&this.bindDocumentFragments(h,c);else{if(c.is("uiElement"))return h=c.name==="$comment"?this._domDocument.createComment(c.getCustomProperty("$rawContent")):c.render(this._domDocument,this),s.bind&&this.bindElements(h,c),h;this._shouldRenameElement(c.name)?(Fw(c.name),h=this._createReplacementDomElement(c.name)):h=c.hasAttribute("xmlns")?this._domDocument.createElementNS(c.getAttribute("xmlns"),c.name):this._domDocument.createElement(c.name),c.is("rawElement")&&c.render(h,this),s.bind&&this.bindElements(h,c);for(const g of c.getAttributeKeys())this.setDomElementAttribute(h,g,c.getAttribute(g),c)}if(s.withChildren!==!1)for(const g of this.viewChildrenToDom(c,s))h instanceof HTMLTemplateElement?h.content.appendChild(g):h.appendChild(g);return h}}setDomElementAttribute(i,s,c,h){const g=this.shouldRenderAttribute(s,c,i.tagName.toLowerCase())||h&&h.shouldRenderUnsafeAttribute(s);g||K("domconverter-unsafe-attribute-detected",{domElement:i,key:s,value:c}),(function(w){try{d.document.createAttribute(w)}catch{return!1}return!0})(s)?(i.hasAttribute(s)&&!g?i.removeAttribute(s):i.hasAttribute(Uu+s)&&g&&i.removeAttribute(Uu+s),i.setAttribute(g?s:Uu+s,c)):K("domconverter-invalid-attribute-detected",{domElement:i,key:s,value:c})}removeDomElementAttribute(i,s){s!=cr&&(i.removeAttribute(s),i.removeAttribute(Uu+s))}*viewChildrenToDom(i,s={}){const c=i.getFillerOffset&&i.getFillerOffset();let h=0;for(const g of i.getChildren()){c===h&&(yield this._getBlockFiller());const w=g.is("element")&&!!g.getCustomProperty("dataPipeline:transparentRendering")&&!sr(g.getAttributes());w&&this.renderingMode=="data"?yield*this.viewChildrenToDom(g,s):(w&&K("domconverter-transparent-rendering-unsupported-in-editing-pipeline",{viewElement:g}),yield this.viewToDom(g,s)),h++}c===h&&(yield this._getBlockFiller())}viewRangeToDom(i){const s=this.viewPositionToDom(i.start),c=this.viewPositionToDom(i.end),h=this._domDocument.createRange();return h.setStart(s.parent,s.offset),h.setEnd(c.parent,c.offset),h}viewPositionToDom(i){const s=i.parent;if(s.is("$text")){const c=this.findCorrespondingDomText(s);if(!c)return null;let h=i.offset;return Pi(c)&&(h+=No),{parent:c,offset:h}}{let c,h,g;if(i.offset===0){if(c=this.mapViewToDom(s),!c)return null;g=c.childNodes[0]}else{const w=i.nodeBefore;if(h=w.is("$text")?this.findCorrespondingDomText(w):this.mapViewToDom(w),!h)return null;c=h.parentNode,g=h.nextSibling}return or(g)&&Pi(g)?{parent:g,offset:No}:{parent:c,offset:h?Su(h)+1:0}}}domToView(i,s={}){const c=[],h=this._domToView(i,s,c),g=h.next().value;return g?(h.next(),this._processDomInlineNodes(null,c,s),g.is("$text")&&g.data.length==0?null:g):null}*domChildrenToView(i,s={},c=[]){let h=[];h=i instanceof HTMLTemplateElement?[...i.content.childNodes]:[...i.childNodes];for(let g=0;g<h.length;g++){const w=h[g],k=this._domToView(w,s,c),_=k.next().value;_!==null&&(this._isBlockViewElement(_)&&this._processDomInlineNodes(i,c,s),yield _,k.next())}this._processDomInlineNodes(i,c,s)}domSelectionToView(i){if((function(h){if(!v.isGecko||!h.rangeCount)return!1;const g=h.getRangeAt(0).startContainer;try{Object.prototype.toString.call(g)}catch{return!0}return!1})(i))return new Io([]);if(i.rangeCount===1){let h=i.getRangeAt(0).startContainer;or(h)&&(h=h.parentNode);const g=this.fakeSelectionToView(h);if(g)return g}const s=this.isDomSelectionBackward(i),c=[];for(let h=0;h<i.rangeCount;h++){const g=i.getRangeAt(h),w=this.domRangeToView(g);w&&c.push(w)}return new Io(c,{backward:s})}domRangeToView(i){const s=this.domPositionToView(i.startContainer,i.startOffset),c=this.domPositionToView(i.endContainer,i.endOffset);return s&&c?new vt(s,c):null}domPositionToView(i,s=0){if(this.isBlockFiller(i))return this.domPositionToView(i.parentNode,Su(i));const c=this.mapDomToView(i);if(c&&(c.is("uiElement")||c.is("rawElement")))return Ke._createBefore(c);if(or(i)){if(Sl(i))return this.domPositionToView(i.parentNode,Su(i));const h=this.findCorrespondingViewText(i);let g=s;return h?(Pi(i)&&(g-=No,g=g<0?0:g),new Ke(h,g)):null}if(s===0){const h=this.mapDomToView(i);if(h)return new Ke(h,0)}else{const h=i.childNodes[s-1];if(or(h)&&Sl(h)||h&&this.isBlockFiller(h))return this.domPositionToView(h.parentNode,Su(h));const g=or(h)?this.findCorrespondingViewText(h):this.mapDomToView(h);if(g&&g.parent)return new Ke(g.parent,g.index+1)}return null}mapDomToView(i){return this.getHostViewElement(i)||this._domToViewMapping.get(i)}findCorrespondingViewText(i){if(Sl(i))return null;const s=this.getHostViewElement(i);if(s)return s;const c=i.previousSibling;if(c){if(!this.isElement(c))return null;const h=this.mapDomToView(c);if(h){const g=h.nextSibling;return g instanceof ct?g:null}}else{const h=this.mapDomToView(i.parentNode);if(h){const g=h.getChild(0);return g instanceof ct?g:null}}return null}mapViewToDom(i){return this._viewToDomMapping.get(i)}findCorrespondingDomText(i){const s=i.previousSibling;return s&&this.mapViewToDom(s)?this.mapViewToDom(s).nextSibling:!s&&i.parent&&this.mapViewToDom(i.parent)?this.mapViewToDom(i.parent).childNodes[0]:null}focus(i){const s=this.mapViewToDom(i);if(s&&s.ownerDocument.activeElement!==s){const{scrollX:c,scrollY:h}=d.window,g=[];Nw(s,(w=>{const{scrollLeft:k,scrollTop:_}=w;g.push([k,_])})),s.focus(),Nw(s,(w=>{const[k,_]=g.shift();w.scrollLeft=k,w.scrollTop=_})),d.window.scrollTo(c,h)}}_clearDomSelection(){const i=this.mapViewToDom(this.document.selection.editableElement);if(!i)return;const s=i.ownerDocument.defaultView.getSelection(),c=this.domSelectionToView(s);c&&c.rangeCount>0&&s.removeAllRanges()}isElement(i){return i&&i.nodeType==Node.ELEMENT_NODE}isDocumentFragment(i){return i&&i.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isBlockFiller(i){return this.blockFillerMode=="br"?i.isEqualNode(nx):!(i.tagName!=="BR"||!Ow(i,this.blockElements)||i.parentNode.childNodes.length!==1)||i.isEqualNode(UD)||(function(s,c){return s.isEqualNode(rx)&&Ow(s,c)&&s.parentNode.childNodes.length===1})(i,this.blockElements)}isDomSelectionBackward(i){if(i.isCollapsed)return!1;const s=this._domDocument.createRange();try{s.setStart(i.anchorNode,i.anchorOffset),s.setEnd(i.focusNode,i.focusOffset)}catch{return!1}const c=s.collapsed;return s.detach(),c}getHostViewElement(i){const s=(function(c){const h=[];let g=c;for(;g&&g.nodeType!=Node.DOCUMENT_NODE;)h.unshift(g),g=g.parentNode;return h})(i);for(s.pop();s.length;){const c=s.pop(),h=this._domToViewMapping.get(c);if(h&&(h.is("uiElement")||h.is("rawElement")))return h}return null}isDomSelectionCorrect(i){return this._isDomSelectionPositionCorrect(i.anchorNode,i.anchorOffset)&&this._isDomSelectionPositionCorrect(i.focusNode,i.focusOffset)}registerRawContentMatcher(i){this._rawContentElementMatcher.add(i)}registerInlineObjectMatcher(i){this._inlineObjectElementMatcher.add(i)}_clearTemporaryCustomProperties(){for(const i of this._elementsWithTemporaryCustomProperties)i._removeCustomProperty("editingPipeline:doNotReuseOnce");this._elementsWithTemporaryCustomProperties.clear()}_getBlockFiller(){switch(this.blockFillerMode){case"nbsp":return Tw(this._domDocument);case"markedNbsp":return Rw(this._domDocument);case"br":return Gu(this._domDocument)}}_isDomSelectionPositionCorrect(i,s){if(or(i)&&Pi(i)&&s<No||this.isElement(i)&&Pi(i.childNodes[s]))return!1;const c=this.mapDomToView(i);return!c||!c.is("uiElement")&&!c.is("rawElement")}*_domToView(i,s,c){if(this.isBlockFiller(i))return null;const h=this.getHostViewElement(i);if(h)return h;if(Ts(i)&&s.skipComments)return null;if(or(i)){if(Sl(i))return null;{const g=i.data;if(g==="")return null;const w=new ct(this.document,g);return c.push(w),w}}{let g=this.mapDomToView(i);if(g)return this._isInlineObjectElement(g)&&c.push(g),g;if(this.isDocumentFragment(i))g=new Ta(this.document),s.bind&&this.bindDocumentFragments(i,g);else{g=this._createViewElement(i,s),s.bind&&this.bindElements(i,g);const k=i.attributes;if(k)for(let _=k.length,R=0;R<_;R++)g._setAttribute(k[R].name,k[R].value);if(this._isViewElementWithRawContent(g,s))return g._setCustomProperty("$rawContent",i.innerHTML),this._isBlockViewElement(g)||c.push(g),g;if(Ts(i))return g._setCustomProperty("$rawContent",i.data),g}yield g;const w=[];if(s.withChildren!==!1)for(const k of this.domChildrenToView(i,s,w))g._appendChild(k);if(this._isInlineObjectElement(g))c.push(g);else for(const k of w)c.push(k)}}_processDomInlineNodes(i,s,c){if(!s.length||i&&!this.isDocumentFragment(i)&&!this._isBlockDomElement(i))return;let h=!1;for(let g=0;g<s.length;g++){const w=s[g];if(!w.is("$text")){h=!1;continue}let k,_=!1;if(ix(w,this.preElements))k=Qg(w.data);else{k=w.data.replace(/[ \n\t\r]{1,}/g," "),_=/[^\S\u00A0]/.test(k.charAt(k.length-1));const R=g>0?s[g-1]:null,I=g+1<s.length?s[g+1]:null,F=!R||R.is("element")&&R.name=="br"||h,H=!I&&!Pi(w.data);c.withChildren!==!1&&(F&&(k=k.replace(/^ /,"")),H&&(k=k.replace(/ $/,""))),k=Qg(k),k=k.replace(/ \u00A0/g,"  ");const G=I&&I.is("element")&&I.name!="br",W=I&&I.is("$text")&&I.data.charAt(0)==" ";(/[ \u00A0]\u00A0$/.test(k)||!I||G||W)&&(k=k.replace(/\u00A0$/," ")),(F||R&&R.is("element")&&R.name!="br")&&(k=k.replace(/^\u00A0/," "))}k.length==0&&w.parent?(w._remove(),s.splice(g,1),g--):(w._data=k,h=_)}s.length=0}_processDataFromViewText(i){let s=i.data;if(i.getAncestors().some((c=>this.preElements.includes(c.name))))return s;if(s.charAt(0)==" "){const c=this._getTouchingInlineViewNode(i,!1);!(c&&c.is("$textProxy")&&this._nodeEndsWithSpace(c))&&c||(s=""+s.substr(1))}if(s.charAt(s.length-1)==" "){const c=this._getTouchingInlineViewNode(i,!0),h=c&&c.is("$textProxy")&&c.data.charAt(0)==" ";s.charAt(s.length-2)!=" "&&c&&!h||(s=s.substr(0,s.length-1)+"")}return s.replace(/ {2}/g," ")}_nodeEndsWithSpace(i){if(i.getAncestors().some((c=>this.preElements.includes(c.name))))return!1;const s=this._processDataFromViewText(i);return s.charAt(s.length-1)==" "}_getTouchingInlineViewNode(i,s){const c=new yl({startPosition:s?Ke._createAfter(i):Ke._createBefore(i),direction:s?"forward":"backward"});for(const h of c){if(h.item.is("element","br"))return null;if(this._isInlineObjectElement(h.item))return h.item;if(h.item.is("containerElement"))return null;if(h.item.is("$textProxy"))return h.item}return null}_isBlockDomElement(i){return this.isElement(i)&&this.blockElements.includes(i.tagName.toLowerCase())}_isBlockViewElement(i){return i.is("element")&&this.blockElements.includes(i.name)}_isInlineObjectElement(i){return!!i.is("element")&&(i.name=="br"||this.inlineObjectElements.includes(i.name)||!!this._inlineObjectElementMatcher.match(i))}_createViewElement(i,s){if(Ts(i))return new Ff(this.document,"$comment");const c=s.keepOriginalCase?i.tagName:i.tagName.toLowerCase();return new so(this.document,c)}_isViewElementWithRawContent(i,s){return s.withChildren!==!1&&i.is("element")&&!!this._rawContentElementMatcher.match(i)}_shouldRenameElement(i){const s=i.toLowerCase();return this.renderingMode==="editing"&&this.unsafeElements.includes(s)}_createReplacementDomElement(i,s){const c=this._domDocument.createElement("span");if(c.setAttribute(cr,i),s){for(;s.firstChild;)c.appendChild(s.firstChild);for(const h of s.getAttributeNames())c.setAttribute(h,s.getAttribute(h))}return c}}function ix(u,i){return u.getAncestors().some((s=>s.is("element")&&i.includes(s.name)))}function Nw(u,i){let s=u;for(;s;)i(s),s=s.parentElement}function Ow(u,i){const s=u.parentNode;return!!s&&!!s.tagName&&i.includes(s.tagName.toLowerCase())}function Fw(u){u==="script"&&K("domconverter-unsafe-script-element-detected"),u==="style"&&K("domconverter-unsafe-style-element-detected")}class Ii extends Ji(){constructor(i){super(),this._isEnabled=!1,this.view=i,this.document=i.document}get isEnabled(){return this._isEnabled}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}destroy(){this.disable(),this.stopListening()}checkShouldIgnoreEventFromTarget(i){return i&&i.nodeType===3&&(i=i.parentNode),!(!i||i.nodeType!==1)&&i.matches("[data-cke-ignore-events], [data-cke-ignore-events] *")}}const Lw=Is((function(u,i){ya(i,ku(i),u)}));class Ra{constructor(i,s,c){this.view=i,this.document=i.document,this.domEvent=s,this.domTarget=s.target,Lw(this,c)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}class Pa extends Ii{constructor(){super(...arguments),this.useCapture=!1}observe(i){(typeof this.domEventType=="string"?[this.domEventType]:this.domEventType).forEach((s=>{this.listenTo(i,s,((c,h)=>{this.isEnabled&&!this.checkShouldIgnoreEventFromTarget(h.target)&&this.onDomEvent(h)}),{useCapture:this.useCapture})}))}stopObserving(i){this.stopListening(i)}fire(i,s,c){this.isEnabled&&this.document.fire(i,new Ra(this.view,s,c))}}class WD extends Pa{constructor(){super(...arguments),this.domEventType=["keydown","keyup"]}onDomEvent(i){const s={keyCode:i.keyCode,altKey:i.altKey,ctrlKey:i.ctrlKey,shiftKey:i.shiftKey,metaKey:i.metaKey,get keystroke(){return ui(this)}};this.fire(i.type,i,s)}}const Wu=function(){return ir.Date.now()};var Bw=/\s/;const ox=function(u){for(var i=u.length;i--&&Bw.test(u.charAt(i)););return i};var sx=/^\s+/;const ax=function(u){return u&&u.slice(0,ox(u)+1).replace(sx,"")};var jw=/^[-+]0x[0-9a-f]+$/i,zw=/^0b[01]+$/i,Hw=/^0o[0-7]+$/i,lx=parseInt;const Jg=function(u){if(typeof u=="number")return u;if(Uc(u))return NaN;if(_e(u)){var i=typeof u.valueOf=="function"?u.valueOf():u;u=_e(i)?i+"":i}if(typeof u!="string")return u===0?u:+u;u=ax(u);var s=zw.test(u);return s||Hw.test(u)?lx(u.slice(2),s?2:8):jw.test(u)?NaN:+u};var em=Math.max,Vw=Math.min;const Qc=function(u,i,s){var c,h,g,w,k,_,R=0,I=!1,F=!1,H=!0;if(typeof u!="function")throw new TypeError("Expected a function");function G(ge){var Ce=c,Fe=h;return c=h=void 0,R=ge,w=u.apply(Fe,Ce)}function W(ge){var Ce=ge-_;return _===void 0||Ce>=i||Ce<0||F&&ge-R>=g}function Y(){var ge=Wu();if(W(ge))return ie(ge);k=setTimeout(Y,(function(Ce){var Fe=i-(Ce-_);return F?Vw(Fe,g-(Ce-R)):Fe})(ge))}function ie(ge){return k=void 0,H&&c?G(ge):(c=h=void 0,w)}function de(){var ge=Wu(),Ce=W(ge);if(c=arguments,h=this,_=ge,Ce){if(k===void 0)return(function(Fe){return R=Fe,k=setTimeout(Y,i),I?G(Fe):w})(_);if(F)return clearTimeout(k),k=setTimeout(Y,i),G(_)}return k===void 0&&(k=setTimeout(Y,i)),w}return i=Jg(i)||0,_e(s)&&(I=!!s.leading,g=(F="maxWait"in s)?em(Jg(s.maxWait)||0,i):g,H="trailing"in s?!!s.trailing:H),de.cancel=function(){k!==void 0&&clearTimeout(k),R=0,c=_=h=k=void 0},de.flush=function(){return k===void 0?w:ie(Wu())},de};class Gw extends Ii{constructor(i){super(i),this._fireSelectionChangeDoneDebounced=Qc((s=>{this.document.fire("selectionChangeDone",s)}),200)}observe(){const i=this.document;i.on("arrowKey",((s,c)=>{i.selection.isFake&&this.isEnabled&&c.preventDefault()}),{context:"$capture"}),i.on("arrowKey",((s,c)=>{i.selection.isFake&&this.isEnabled&&this._handleSelectionMove(c.keyCode)}),{priority:"lowest"})}stopObserving(){}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(i){const s=this.document.selection,c=new Io(s.getRanges(),{backward:s.isBackward,fake:!1});i!=Mt.arrowleft&&i!=Mt.arrowup||c.setTo(c.getFirstPosition()),i!=Mt.arrowright&&i!=Mt.arrowdown||c.setTo(c.getLastPosition());const h={oldSelection:s,newSelection:c,domSelection:null};this.document.fire("selectionChange",h),this._fireSelectionChangeDoneDebounced(h)}}const cx=function(u){return this.__data__.set(u,"__lodash_hash_undefined__"),this},Ia=function(u){return this.__data__.has(u)};function $u(u){var i=-1,s=u==null?0:u.length;for(this.__data__=new rf;++i<s;)this.add(u[i])}$u.prototype.add=$u.prototype.push=cx,$u.prototype.has=Ia;const $D=$u,dx=function(u,i){for(var s=-1,c=u==null?0:u.length;++s<c;)if(i(u[s],s,u))return!0;return!1},Na=function(u,i){return u.has(i)},tm=function(u,i,s,c,h,g){var w=1&s,k=u.length,_=i.length;if(k!=_&&!(w&&_>k))return!1;var R=g.get(u),I=g.get(i);if(R&&I)return R==i&&I==u;var F=-1,H=!0,G=2&s?new $D:void 0;for(g.set(u,i),g.set(i,u);++F<k;){var W=u[F],Y=i[F];if(c)var ie=w?c(Y,W,F,i,u,g):c(W,Y,F,u,i,g);if(ie!==void 0){if(ie)continue;H=!1;break}if(G){if(!dx(i,(function(de,ge){if(!Na(G,ge)&&(W===de||h(W,de,s,c,g)))return G.push(ge)}))){H=!1;break}}else if(W!==Y&&!h(W,Y,s,c,g)){H=!1;break}}return g.delete(u),g.delete(i),H},ux=function(u){var i=-1,s=Array(u.size);return u.forEach((function(c,h){s[++i]=[h,c]})),s},nm=function(u){var i=-1,s=Array(u.size);return u.forEach((function(c){s[++i]=c})),s};var qu=Br?Br.prototype:void 0,Sn=qu?qu.valueOf:void 0;const qD=function(u,i,s,c,h,g,w){switch(s){case"[object DataView]":if(u.byteLength!=i.byteLength||u.byteOffset!=i.byteOffset)return!1;u=u.buffer,i=i.buffer;case"[object ArrayBuffer]":return!(u.byteLength!=i.byteLength||!g(new Mc(u),new Mc(i)));case"[object Boolean]":case"[object Date]":case"[object Number]":return ba(+u,+i);case"[object Error]":return u.name==i.name&&u.message==i.message;case"[object RegExp]":case"[object String]":return u==i+"";case"[object Map]":var k=ux;case"[object Set]":var _=1&c;if(k||(k=nm),u.size!=i.size&&!_)return!1;var R=w.get(u);if(R)return R==i;c|=2,w.set(u,i);var I=tm(k(u),k(i),c,h,g,w);return w.delete(u),I;case"[object Symbol]":if(Sn)return Sn.call(u)==Sn.call(i)}return!1};var KD=Object.prototype.hasOwnProperty;const hx=function(u,i,s,c,h,g){var w=1&s,k=Iv(u),_=k.length;if(_!=Iv(i).length&&!w)return!1;for(var R=_;R--;){var I=k[R];if(!(w?I in i:KD.call(i,I)))return!1}var F=g.get(u),H=g.get(i);if(F&&H)return F==i&&H==u;var G=!0;g.set(u,i),g.set(i,u);for(var W=w;++R<_;){var Y=u[I=k[R]],ie=i[I];if(c)var de=w?c(ie,Y,I,i,u,g):c(Y,ie,I,u,i,g);if(!(de===void 0?Y===ie||h(Y,ie,s,c,g):de)){G=!1;break}W||(W=I=="constructor")}if(G&&!W){var ge=u.constructor,Ce=i.constructor;ge==Ce||!("constructor"in u)||!("constructor"in i)||typeof ge=="function"&&ge instanceof ge&&typeof Ce=="function"&&Ce instanceof Ce||(G=!1)}return g.delete(u),g.delete(i),G};var Ku="[object Arguments]",Oa="[object Array]",Bf="[object Object]",Uw=Object.prototype.hasOwnProperty;const jf=function(u,i,s,c,h,g){var w=xn(u),k=xn(i),_=w?Oa:xa(u),R=k?Oa:xa(i),I=(_=_==Ku?Bf:_)==Bf,F=(R=R==Ku?Bf:R)==Bf,H=_==R;if(H&&Sc(u)){if(!Sc(i))return!1;w=!0,I=!1}if(H&&!I)return g||(g=new gu),w||_c(u)?tm(u,i,s,c,h,g):qD(u,i,_,s,c,h,g);if(!(1&s)){var G=I&&Uw.call(u,"__wrapped__"),W=F&&Uw.call(i,"__wrapped__");if(G||W){var Y=G?u.value():u,ie=W?i.value():i;return g||(g=new gu),h(Y,ie,s,c,g)}}return!!H&&(g||(g=new gu),hx(u,i,s,c,h,g))},ao=function u(i,s,c,h,g){return i===s||(i==null||s==null||!Si(i)&&!Si(s)?i!=i&&s!=s:jf(i,s,c,h,u,g))},fx=function(u,i,s){var c=(s=typeof s=="function"?s:void 0)?s(u,i):void 0;return c===void 0?ao(u,i,void 0,s):!!c};class rm extends Ii{constructor(i){super(i),this._config={childList:!0,characterData:!0,subtree:!0},this.domConverter=i.domConverter,this.renderer=i._renderer,this._domElements=new Set,this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(i){this._domElements.add(i),this.isEnabled&&this._mutationObserver.observe(i,this._config)}stopObserving(i){if(this._domElements.delete(i),this.isEnabled){this._mutationObserver.disconnect();for(const s of this._domElements)this._mutationObserver.observe(s,this._config)}}enable(){super.enable();for(const i of this._domElements)this._mutationObserver.observe(i,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(i){if(i.length===0)return;const s=this.domConverter,c=new Set,h=new Set;for(const w of i){const k=s.mapDomToView(w.target);k&&(k.is("uiElement")||k.is("rawElement")||w.type!=="childList"||this._isBogusBrMutation(w)||h.add(k))}for(const w of i){const k=s.mapDomToView(w.target);if((!k||!k.is("uiElement")&&!k.is("rawElement"))&&w.type==="characterData"){const _=s.findCorrespondingViewText(w.target);_&&!h.has(_.parent)?c.add(_):!_&&Pi(w.target)&&h.add(s.mapDomToView(w.target.parentNode))}}let g=!1;for(const w of c)g=!0,this.renderer.markToSync("text",w);for(const w of h){const k=s.mapViewToDom(w),_=Array.from(w.getChildren()),R=Array.from(s.domChildrenToView(k,{withChildren:!1}));fx(_,R,px)||(g=!0,this.renderer.markToSync("children",w))}g&&this.view.forceRender()}_isBogusBrMutation(i){let s=null;return i.nextSibling===null&&i.removedNodes.length===0&&i.addedNodes.length==1&&(s=this.domConverter.domToView(i.addedNodes[0],{withChildren:!1})),s&&s.is("element","br")}}function px(u,i){if(!Array.isArray(u))return u===i||!(!u.is("$text")||!i.is("$text"))&&u.data===i.data}class Yu extends Pa{constructor(i){super(i),this._isFocusChanging=!1,this.domEventType=["focus","blur"],this.useCapture=!0;const s=this.document;s.on("focus",(()=>{this._isFocusChanging=!0,this._renderTimeoutId=setTimeout((()=>{this.flush(),i.change((()=>{}))}),50)})),s.on("blur",((c,h)=>{const g=s.selection.editableElement;g!==null&&g!==h.target||(s.isFocused=!1,this._isFocusChanging=!1,i.change((()=>{})))}))}flush(){this._isFocusChanging&&(this._isFocusChanging=!1,this.document.isFocused=!0)}onDomEvent(i){this.fire(i.type,i)}destroy(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),super.destroy()}}class Ww extends Ii{constructor(i){super(i),this.mutationObserver=i.getObserver(rm),this.focusObserver=i.getObserver(Yu),this.selection=this.document.selection,this.domConverter=i.domConverter,this._documents=new WeakSet,this._fireSelectionChangeDoneDebounced=Qc((s=>{this.document.fire("selectionChangeDone",s)}),200),this._clearInfiniteLoopInterval=setInterval((()=>this._clearInfiniteLoop()),1e3),this._documentIsSelectingInactivityTimeoutDebounced=Qc((()=>this.document.isSelecting=!1),5e3),this._loopbackCounter=0}observe(i){const s=i.ownerDocument,c=()=>{this.document.isSelecting&&(this._handleSelectionChange(null,s),this.document.isSelecting=!1,this._documentIsSelectingInactivityTimeoutDebounced.cancel())};this.listenTo(i,"selectstart",(()=>{this.document.isSelecting=!0,this._documentIsSelectingInactivityTimeoutDebounced()}),{priority:"highest"}),this.listenTo(i,"keydown",c,{priority:"highest",useCapture:!0}),this.listenTo(i,"keyup",c,{priority:"highest",useCapture:!0}),this._documents.has(s)||(this.listenTo(s,"mouseup",c,{priority:"highest",useCapture:!0}),this.listenTo(s,"selectionchange",((h,g)=>{this.document.isComposing&&!v.isAndroid||(this._handleSelectionChange(g,s),this._documentIsSelectingInactivityTimeoutDebounced())})),this._documents.add(s))}stopObserving(i){this.stopListening(i)}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel(),this._documentIsSelectingInactivityTimeoutDebounced.cancel()}_reportInfiniteLoop(){}_handleSelectionChange(i,s){if(!this.isEnabled)return;const c=s.defaultView.getSelection();if(this.checkShouldIgnoreEventFromTarget(c.anchorNode))return;this.mutationObserver.flush();const h=this.domConverter.domSelectionToView(c);if(h.rangeCount!=0){if(this.view.hasDomSelection=!0,this.focusObserver.flush(),!this.selection.isEqual(h)||!this.domConverter.isDomSelectionCorrect(c))if(++this._loopbackCounter>60)this._reportInfiniteLoop();else if(this.selection.isSimilar(h))this.view.forceRender();else{const g={oldSelection:this.selection,newSelection:h,domSelection:c};this.document.fire("selectionChange",g),this._fireSelectionChangeDoneDebounced(g)}}else this.view.hasDomSelection=!1}_clearInfiniteLoop(){this._loopbackCounter=0}}class im extends Pa{constructor(i){super(i),this.domEventType=["compositionstart","compositionupdate","compositionend"];const s=this.document;s.on("compositionstart",(()=>{s.isComposing=!0}),{priority:"low"}),s.on("compositionend",(()=>{s.isComposing=!1}),{priority:"low"})}onDomEvent(i){this.fire(i.type,i,{data:i.data})}}class $w{constructor(i,s={}){this._files=s.cacheFiles?Hs(i):null,this._native=i}get files(){return this._files||(this._files=Hs(this._native)),this._files}get types(){return this._native.types}getData(i){return this._native.getData(i)}setData(i,s){this._native.setData(i,s)}set effectAllowed(i){this._native.effectAllowed=i}get effectAllowed(){return this._native.effectAllowed}set dropEffect(i){this._native.dropEffect=i}get dropEffect(){return this._native.dropEffect}setDragImage(i,s,c){this._native.setDragImage(i,s,c)}get isCanceled(){return this._native.dropEffect=="none"||!!this._native.mozUserCancelled}}function Hs(u){const i=Array.from(u.files||[]),s=Array.from(u.items||[]);return i.length?i:s.filter((c=>c.kind==="file")).map((c=>c.getAsFile()))}class mr extends Pa{constructor(){super(...arguments),this.domEventType="beforeinput"}onDomEvent(i){const s=i.getTargetRanges(),c=this.view,h=c.document;let g=null,w=null,k=[];if(i.dataTransfer&&(g=new $w(i.dataTransfer)),i.data!==null?w=i.data:g&&(w=g.getData("text/plain")),h.selection.isFake)k=Array.from(h.selection.getRanges());else if(s.length)k=s.map((_=>{const R=c.domConverter.domPositionToView(_.startContainer,_.startOffset),I=c.domConverter.domPositionToView(_.endContainer,_.endOffset);return R?c.createRange(R,I):I?c.createRange(I):void 0})).filter((_=>!!_));else if(v.isAndroid){const _=i.target.ownerDocument.defaultView.getSelection();k=Array.from(c.domConverter.domSelectionToView(_).getRanges())}if(v.isAndroid&&i.inputType=="insertCompositionText"&&w&&w.endsWith(`
`))this.fire(i.type,i,{inputType:"insertParagraph",targetRanges:[c.createRange(k[0].end)]});else if(i.inputType=="insertText"&&w&&w.includes(`
`)){const _=w.split(/\n{1,2}/g);let R=k;for(let I=0;I<_.length;I++){const F=_[I];F!=""&&(this.fire(i.type,i,{data:F,dataTransfer:g,targetRanges:R,inputType:i.inputType,isComposing:i.isComposing}),R=[h.selection.getFirstRange()]),I+1<_.length&&(this.fire(i.type,i,{inputType:"insertParagraph",targetRanges:R}),R=[h.selection.getFirstRange()])}}else this.fire(i.type,i,{data:w,dataTransfer:g,targetRanges:k,inputType:i.inputType,isComposing:i.isComposing})}}class qw extends Ii{constructor(i){super(i),this.document.on("keydown",((s,c)=>{if(this.isEnabled&&((h=c.keyCode)==Mt.arrowright||h==Mt.arrowleft||h==Mt.arrowup||h==Mt.arrowdown)){const g=new Wc(this.document,"arrowKey",this.document.selection.getFirstRange());this.document.fire(g,c),g.stop.called&&s.stop()}var h}))}observe(){}stopObserving(){}}class gx extends Ii{constructor(i){super(i);const s=this.document;s.on("keydown",((c,h)=>{if(!this.isEnabled||h.keyCode!=Mt.tab||h.ctrlKey)return;const g=new Wc(s,"tab",s.selection.getFirstRange());s.fire(g,h),g.stop.called&&c.stop()}))}observe(){}stopObserving(){}}const bn=function(u){return Rc(u,5)};class YD extends et(){constructor(i){super(),this.domRoots=new Map,this._initialDomRootAttributes=new WeakMap,this._observers=new Map,this._ongoingChange=!1,this._postFixersInProgress=!1,this._renderingDisabled=!1,this._hasChangedSinceTheLastRendering=!1,this.document=new Nf(i),this.domConverter=new gr(this.document),this.set("isRenderingInProgress",!1),this.set("hasDomSelection",!1),this._renderer=new Jk(this.domConverter,this.document.selection),this._renderer.bind("isFocused","isSelecting","isComposing").to(this.document,"isFocused","isSelecting","isComposing"),this._writer=new _w(this.document),this.addObserver(rm),this.addObserver(Yu),this.addObserver(Ww),this.addObserver(WD),this.addObserver(Gw),this.addObserver(im),this.addObserver(qw),this.addObserver(mr),this.addObserver(gx),this.document.on("arrowKey",Xk,{priority:"low"}),Sw(this),this.on("render",(()=>{this._render(),this.document.fire("layoutChanged"),this._hasChangedSinceTheLastRendering=!1})),this.listenTo(this.document.selection,"change",(()=>{this._hasChangedSinceTheLastRendering=!0})),this.listenTo(this.document,"change:isFocused",(()=>{this._hasChangedSinceTheLastRendering=!0})),v.isiOS&&this.listenTo(this.document,"blur",((s,c)=>{this.domConverter.mapDomToView(c.domEvent.relatedTarget)||this.domConverter._clearDomSelection()}))}attachDomRoot(i,s="main"){const c=this.document.getRoot(s);c._name=i.tagName.toLowerCase();const h={};for(const{name:w,value:k}of Array.from(i.attributes))h[w]=k,w==="class"?this._writer.addClass(k.split(" "),c):this._writer.setAttribute(w,k,c);this._initialDomRootAttributes.set(i,h);const g=()=>{this._writer.setAttribute("contenteditable",(!c.isReadOnly).toString(),c),c.isReadOnly?this._writer.addClass("ck-read-only",c):this._writer.removeClass("ck-read-only",c)};g(),this.domRoots.set(s,i),this.domConverter.bindElements(i,c),this._renderer.markToSync("children",c),this._renderer.markToSync("attributes",c),this._renderer.domDocuments.add(i.ownerDocument),c.on("change:children",((w,k)=>this._renderer.markToSync("children",k))),c.on("change:attributes",((w,k)=>this._renderer.markToSync("attributes",k))),c.on("change:text",((w,k)=>this._renderer.markToSync("text",k))),c.on("change:isReadOnly",(()=>this.change(g))),c.on("change",(()=>{this._hasChangedSinceTheLastRendering=!0}));for(const w of this._observers.values())w.observe(i,s)}detachDomRoot(i){const s=this.domRoots.get(i);Array.from(s.attributes).forEach((({name:h})=>s.removeAttribute(h)));const c=this._initialDomRootAttributes.get(s);for(const h in c)s.setAttribute(h,c[h]);this.domRoots.delete(i),this.domConverter.unbindDomElement(s);for(const h of this._observers.values())h.stopObserving(s)}getDomRoot(i="main"){return this.domRoots.get(i)}addObserver(i){let s=this._observers.get(i);if(s)return s;s=new i(this),this._observers.set(i,s);for(const[c,h]of this.domRoots)s.observe(h,c);return s.enable(),s}getObserver(i){return this._observers.get(i)}disableObservers(){for(const i of this._observers.values())i.disable()}enableObservers(){for(const i of this._observers.values())i.enable()}scrollToTheSelection({alignToTop:i,forceScroll:s,viewportOffset:c=20,ancestorOffset:h=20}={}){const g=this.document.selection.getFirstRange();if(!g)return;const w=bn({alignToTop:i,forceScroll:s,viewportOffset:c,ancestorOffset:h});typeof c=="number"&&(c={top:c,bottom:c,left:c,right:c});const k={target:this.domConverter.viewRangeToDom(g),viewportOffset:c,ancestorOffset:h,alignToTop:i,forceScroll:s};this.fire("scrollToTheSelection",k,w),(function({target:_,viewportOffset:R=0,ancestorOffset:I=0,alignToTop:F,forceScroll:H}){const G=gl(_);let W=G,Y=null;for(R=(function(ie){return typeof ie=="number"?{top:ie,bottom:ie,left:ie,right:ie}:ie})(R);W;){let ie;ie=Eu(W==G?_:Y),Qv({parent:ie,getRect:()=>vf(_,W),alignToTop:F,ancestorOffset:I,forceScroll:H});const de=vf(_,W);if(Oc({window:W,rect:de,viewportOffset:R,alignToTop:F,forceScroll:H}),W.parent!=W){if(Y=W.frameElement,W=W.parent,!Y)return}else W=null}})(k)}focus(){if(!this.document.isFocused){const i=this.document.selection.editableElement;i&&(this.domConverter.focus(i),this.forceRender())}}change(i){if(this.isRenderingInProgress||this._postFixersInProgress)throw new z("cannot-change-view-tree",this);try{if(this._ongoingChange)return i(this._writer);this._ongoingChange=!0;const s=i(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),s}catch(s){z.rethrowUnexpectedError(s,this)}}forceRender(){this._hasChangedSinceTheLastRendering=!0,this.getObserver(Yu).flush(),this.change((()=>{}))}destroy(){for(const i of this._observers.values())i.destroy();this.document.destroy(),this.stopListening()}createPositionAt(i,s){return Ke._createAt(i,s)}createPositionAfter(i){return Ke._createAfter(i)}createPositionBefore(i){return Ke._createBefore(i)}createRange(i,s){return new vt(i,s)}createRangeOn(i){return vt._createOn(i)}createRangeIn(i){return vt._createIn(i)}createSelection(...i){return new Io(...i)}_disableRendering(i){this._renderingDisabled=i,i==0&&this.change((()=>{}))}_render(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}}class Fa{is(){throw new Error("is() method is abstract")}}class _l extends Fa{constructor(i){super(),this.parent=null,this._attrs=Ns(i)}get document(){return null}get index(){let i;if(!this.parent)return null;if((i=this.parent.getChildIndex(this))===null)throw new z("model-node-not-found-in-parent",this);return i}get startOffset(){let i;if(!this.parent)return null;if((i=this.parent.getChildStartOffset(this))===null)throw new z("model-node-not-found-in-parent",this);return i}get offsetSize(){return 1}get endOffset(){return this.parent?this.startOffset+this.offsetSize:null}get nextSibling(){const i=this.index;return i!==null&&this.parent.getChild(i+1)||null}get previousSibling(){const i=this.index;return i!==null&&this.parent.getChild(i-1)||null}get root(){let i=this;for(;i.parent;)i=i.parent;return i}isAttached(){return this.parent!==null&&this.root.isAttached()}getPath(){const i=[];let s=this;for(;s.parent;)i.unshift(s.startOffset),s=s.parent;return i}getAncestors(i={}){const s=[];let c=i.includeSelf?this:this.parent;for(;c;)s[i.parentFirst?"push":"unshift"](c),c=c.parent;return s}getCommonAncestor(i,s={}){const c=this.getAncestors(s),h=i.getAncestors(s);let g=0;for(;c[g]==h[g]&&c[g];)g++;return g===0?null:c[g-1]}isBefore(i){if(this==i||this.root!==i.root)return!1;const s=this.getPath(),c=i.getPath(),h=bt(s,c);switch(h){case"prefix":return!0;case"extension":return!1;default:return s[h]<c[h]}}isAfter(i){return this!=i&&this.root===i.root&&!this.isBefore(i)}hasAttribute(i){return this._attrs.has(i)}getAttribute(i){return this._attrs.get(i)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const i={};return this._attrs.size&&(i.attributes=Array.from(this._attrs).reduce(((s,c)=>(s[c[0]]=c[1],s)),{})),i}_clone(i){return new this.constructor(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(i,s){this._attrs.set(i,s)}_setAttributesTo(i){this._attrs=Ns(i)}_removeAttribute(i){return this._attrs.delete(i)}_clearAttributes(){this._attrs.clear()}}_l.prototype.is=function(u){return u==="node"||u==="model:node"};class vn{constructor(i){this._nodes=[],i&&this._insertNodes(0,i)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._nodes.reduce(((i,s)=>i+s.offsetSize),0)}getNode(i){return this._nodes[i]||null}getNodeIndex(i){const s=this._nodes.indexOf(i);return s==-1?null:s}getNodeStartOffset(i){const s=this.getNodeIndex(i);return s===null?null:this._nodes.slice(0,s).reduce(((c,h)=>c+h.offsetSize),0)}indexToOffset(i){if(i==this._nodes.length)return this.maxOffset;const s=this._nodes[i];if(!s)throw new z("model-nodelist-index-out-of-bounds",this);return this.getNodeStartOffset(s)}offsetToIndex(i){let s=0;for(const c of this._nodes){if(i>=s&&i<s+c.offsetSize)return this.getNodeIndex(c);s+=c.offsetSize}if(s!=i)throw new z("model-nodelist-offset-out-of-bounds",this,{offset:i,nodeList:this});return this.length}_insertNodes(i,s){for(const c of s)if(!(c instanceof _l))throw new z("model-nodelist-insertnodes-not-node",this);this._nodes=(function(c,h,g,w){if(Math.max(h.length,c.length)>1e4)return c.slice(0,g).concat(h).concat(c.slice(g+w,c.length));{const k=Array.from(c);return k.splice(g,w,...h),k}})(this._nodes,Array.from(s),i,0)}_removeNodes(i,s=1){return this._nodes.splice(i,s)}toJSON(){return this._nodes.map((i=>i.toJSON()))}}class It extends _l{constructor(i,s){super(s),this._data=i||""}get offsetSize(){return this.data.length}get data(){return this._data}toJSON(){const i=super.toJSON();return i.data=this.data,i}_clone(){return new It(this.data,this.getAttributes())}static fromJSON(i){return new It(i.data,i.attributes)}}It.prototype.is=function(u){return u==="$text"||u==="model:$text"||u==="text"||u==="model:text"||u==="node"||u==="model:node"};class xr extends Fa{constructor(i,s,c){if(super(),this.textNode=i,s<0||s>i.offsetSize)throw new z("model-textproxy-wrong-offsetintext",this);if(c<0||s+c>i.offsetSize)throw new z("model-textproxy-wrong-length",this);this.data=i.data.substring(s,s+c),this.offsetInText=s}get startOffset(){return this.textNode.startOffset!==null?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return this.startOffset!==null?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}getPath(){const i=this.textNode.getPath();return i.length>0&&(i[i.length-1]+=this.offsetInText),i}getAncestors(i={}){const s=[];let c=i.includeSelf?this:this.parent;for(;c;)s[i.parentFirst?"push":"unshift"](c),c=c.parent;return s}hasAttribute(i){return this.textNode.hasAttribute(i)}getAttribute(i){return this.textNode.getAttribute(i)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}xr.prototype.is=function(u){return u==="$textProxy"||u==="model:$textProxy"||u==="textProxy"||u==="model:textProxy"};class on extends _l{constructor(i,s,c){super(s),this._children=new vn,this.name=i,c&&this._insertChild(0,c)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}getChild(i){return this._children.getNode(i)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(i){return this._children.getNodeIndex(i)}getChildStartOffset(i){return this._children.getNodeStartOffset(i)}offsetToIndex(i){return this._children.offsetToIndex(i)}getNodeByPath(i){let s=this;for(const c of i)s=s.getChild(s.offsetToIndex(c));return s}findAncestor(i,s={}){let c=s.includeSelf?this:this.parent;for(;c;){if(c.name===i)return c;c=c.parent}return null}toJSON(){const i=super.toJSON();if(i.name=this.name,this._children.length>0){i.children=[];for(const s of this._children)i.children.push(s.toJSON())}return i}_clone(i=!1){const s=i?Array.from(this._children).map((c=>c._clone(!0))):void 0;return new on(this.name,this.getAttributes(),s)}_appendChild(i){this._insertChild(this.childCount,i)}_insertChild(i,s){const c=(function(h){return typeof h=="string"?[new It(h)]:(Kt(h)||(h=[h]),Array.from(h).map((g=>typeof g=="string"?new It(g):g instanceof xr?new It(g.data,g.getAttributes()):g)))})(s);for(const h of c)h.parent!==null&&h._remove(),h.parent=this;this._children._insertNodes(i,c)}_removeChildren(i,s=1){const c=this._children._removeNodes(i,s);for(const h of c)h.parent=null;return c}static fromJSON(i){let s;if(i.children){s=[];for(const c of i.children)c.name?s.push(on.fromJSON(c)):s.push(It.fromJSON(c))}return new on(i.name,i.attributes,s)}}on.prototype.is=function(u,i){return i?i===this.name&&(u==="element"||u==="model:element"):u==="element"||u==="model:element"||u==="node"||u==="model:node"};class Vs{constructor(i){if(!i||!i.boundaries&&!i.startPosition)throw new z("model-tree-walker-no-start-position",null);const s=i.direction||"forward";if(s!="forward"&&s!="backward")throw new z("model-tree-walker-unknown-direction",i,{direction:s});this.direction=s,this.boundaries=i.boundaries||null,i.startPosition?this._position=i.startPosition.clone():this._position=He._createAt(this.boundaries[this.direction=="backward"?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!i.singleCharacters,this.shallow=!!i.shallow,this.ignoreElementEnd=!!i.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}get position(){return this._position}skip(i){let s,c,h,g;do h=this.position,g=this._visitedParent,{done:s,value:c}=this.next();while(!s&&i(c));s||(this._position=h,this._visitedParent=g)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){const i=this.position,s=this.position.clone(),c=this._visitedParent;if(c.parent===null&&s.offset===c.maxOffset)return{done:!0,value:void 0};if(c===this._boundaryEndParent&&s.offset==this.boundaries.end.offset)return{done:!0,value:void 0};const h=Dl(s,c),g=h||pi(s,c,h);if(g instanceof on){if(this.shallow){if(this.boundaries&&this.boundaries.end.isBefore(s))return{done:!0,value:void 0};s.offset++}else s.path.push(0),this._visitedParent=g;return this._position=s,El("elementStart",g,i,s,1)}if(g instanceof It){let w;if(this.singleCharacters)w=1;else{let R=g.endOffset;this._boundaryEndParent==c&&this.boundaries.end.offset<R&&(R=this.boundaries.end.offset),w=R-s.offset}const k=s.offset-g.startOffset,_=new xr(g,k,w);return s.offset+=w,this._position=s,El("text",_,i,s,w)}return s.path.pop(),s.offset++,this._position=s,this._visitedParent=c.parent,this.ignoreElementEnd?this._next():El("elementEnd",c,i,s)}_previous(){const i=this.position,s=this.position.clone(),c=this._visitedParent;if(c.parent===null&&s.offset===0)return{done:!0,value:void 0};if(c==this._boundaryStartParent&&s.offset==this.boundaries.start.offset)return{done:!0,value:void 0};const h=s.parent,g=Dl(s,h),w=g||Oo(s,h,g);if(w instanceof on)return s.offset--,this.shallow?(this._position=s,El("elementStart",w,i,s,1)):(s.path.push(w.maxOffset),this._position=s,this._visitedParent=w,this.ignoreElementEnd?this._previous():El("elementEnd",w,i,s));if(w instanceof It){let k;if(this.singleCharacters)k=1;else{let I=w.startOffset;this._boundaryStartParent==c&&this.boundaries.start.offset>I&&(I=this.boundaries.start.offset),k=s.offset-I}const _=s.offset-w.startOffset,R=new xr(w,_-k,k);return s.offset-=k,this._position=s,El("text",R,i,s,k)}return s.path.pop(),this._position=s,this._visitedParent=c.parent,El("elementStart",c,i,s,1)}}function El(u,i,s,c,h){return{done:!1,value:{type:u,item:i,previousPosition:s,nextPosition:c,length:h}}}class He extends Fa{constructor(i,s,c="toNone"){if(super(),!i.is("element")&&!i.is("documentFragment"))throw new z("model-position-root-invalid",i);if(!(s instanceof Array)||s.length===0)throw new z("model-position-path-incorrect-format",i,{path:s});i.is("rootElement")?s=s.slice():(s=[...i.getPath(),...s],i=i.root),this.root=i,this.path=s,this.stickiness=c}get offset(){return this.path[this.path.length-1]}set offset(i){this.path[this.path.length-1]=i}get parent(){let i=this.root;for(let s=0;s<this.path.length-1;s++)if(i=i.getChild(i.offsetToIndex(this.path[s])),!i)throw new z("model-position-path-incorrect",this,{position:this});if(i.is("$text"))throw new z("model-position-path-incorrect",this,{position:this});return i}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){return Dl(this,this.parent)}get nodeAfter(){const i=this.parent;return pi(this,i,Dl(this,i))}get nodeBefore(){const i=this.parent;return Oo(this,i,Dl(this,i))}get isAtStart(){return this.offset===0}get isAtEnd(){return this.offset==this.parent.maxOffset}compareWith(i){if(this.root!=i.root)return"different";const s=bt(this.path,i.path);switch(s){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[s]<i.path[s]?"before":"after"}}getLastMatchingPosition(i,s={}){s.startPosition=this;const c=new Vs(s);return c.skip(i),c.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){const i=this.parent;return i.is("documentFragment")?[i]:i.getAncestors({includeSelf:!0})}findAncestor(i){const s=this.parent;return s.is("element")?s.findAncestor(i,{includeSelf:!0}):null}getCommonPath(i){if(this.root!=i.root)return[];const s=bt(this.path,i.path),c=typeof s=="string"?Math.min(this.path.length,i.path.length):s;return this.path.slice(0,c)}getCommonAncestor(i){const s=this.getAncestors(),c=i.getAncestors();let h=0;for(;s[h]==c[h]&&s[h];)h++;return h===0?null:s[h-1]}getShiftedBy(i){const s=this.clone(),c=s.offset+i;return s.offset=c<0?0:c,s}isAfter(i){return this.compareWith(i)=="after"}isBefore(i){return this.compareWith(i)=="before"}isEqual(i){return this.compareWith(i)=="same"}isTouching(i){if(this.root!==i.root)return!1;const s=Math.min(this.path.length,i.path.length);for(let c=0;c<s;c++){const h=this.path[c]-i.path[c];if(h<-1||h>1)return!1;if(h===1)return Kw(i,this,c);if(h===-1)return Kw(this,i,c)}return this.path.length===i.path.length||(this.path.length>i.path.length?ei(this.path,s):ei(i.path,s))}hasSameParentAs(i){return this.root!==i.root?!1:bt(this.getParentPath(),i.getParentPath())=="same"}getTransformedByOperation(i){let s;switch(i.type){case"insert":s=this._getTransformedByInsertOperation(i);break;case"move":case"remove":case"reinsert":s=this._getTransformedByMoveOperation(i);break;case"split":s=this._getTransformedBySplitOperation(i);break;case"merge":s=this._getTransformedByMergeOperation(i);break;default:s=He._createAt(this)}return s}_getTransformedByInsertOperation(i){return this._getTransformedByInsertion(i.position,i.howMany)}_getTransformedByMoveOperation(i){return this._getTransformedByMove(i.sourcePosition,i.targetPosition,i.howMany)}_getTransformedBySplitOperation(i){const s=i.movedRange;return s.containsPosition(this)||s.start.isEqual(this)&&this.stickiness=="toNext"?this._getCombined(i.splitPosition,i.moveTargetPosition):i.graveyardPosition?this._getTransformedByMove(i.graveyardPosition,i.insertionPosition,1):this._getTransformedByInsertion(i.insertionPosition,1)}_getTransformedByMergeOperation(i){const s=i.movedRange;let c;return s.containsPosition(this)||s.start.isEqual(this)?(c=this._getCombined(i.sourcePosition,i.targetPosition),i.sourcePosition.isBefore(i.targetPosition)&&(c=c._getTransformedByDeletion(i.deletionPosition,1))):c=this.isEqual(i.deletionPosition)?He._createAt(i.deletionPosition):this._getTransformedByMove(i.deletionPosition,i.graveyardPosition,1),c}_getTransformedByDeletion(i,s){const c=He._createAt(this);if(this.root!=i.root)return c;if(bt(i.getParentPath(),this.getParentPath())=="same"){if(i.offset<this.offset){if(i.offset+s>this.offset)return null;c.offset-=s}}else if(bt(i.getParentPath(),this.getParentPath())=="prefix"){const h=i.path.length-1;if(i.offset<=this.path[h]){if(i.offset+s>this.path[h])return null;c.path[h]-=s}}return c}_getTransformedByInsertion(i,s){const c=He._createAt(this);if(this.root!=i.root)return c;if(bt(i.getParentPath(),this.getParentPath())=="same")(i.offset<this.offset||i.offset==this.offset&&this.stickiness!="toPrevious")&&(c.offset+=s);else if(bt(i.getParentPath(),this.getParentPath())=="prefix"){const h=i.path.length-1;i.offset<=this.path[h]&&(c.path[h]+=s)}return c}_getTransformedByMove(i,s,c){if(s=s._getTransformedByDeletion(i,c),i.isEqual(s))return He._createAt(this);const h=this._getTransformedByDeletion(i,c);return h===null||i.isEqual(this)&&this.stickiness=="toNext"||i.getShiftedBy(c).isEqual(this)&&this.stickiness=="toPrevious"?this._getCombined(i,s):h._getTransformedByInsertion(s,c)}_getCombined(i,s){const c=i.path.length-1,h=He._createAt(s);return h.stickiness=this.stickiness,h.offset=h.offset+this.path[c]-i.offset,h.path=[...h.path,...this.path.slice(c+1)],h}toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}clone(){return new this.constructor(this.root,this.path,this.stickiness)}static _createAt(i,s,c="toNone"){if(i instanceof He)return new He(i.root,i.path,i.stickiness);{const h=i;if(s=="end")s=h.maxOffset;else{if(s=="before")return this._createBefore(h,c);if(s=="after")return this._createAfter(h,c);if(s!==0&&!s)throw new z("model-createpositionat-offset-required",[this,i])}if(!h.is("element")&&!h.is("documentFragment"))throw new z("model-position-parent-incorrect",[this,i]);const g=h.getPath();return g.push(s),new this(h.root,g,c)}}static _createAfter(i,s){if(!i.parent)throw new z("model-position-after-root",[this,i],{root:i});return this._createAt(i.parent,i.endOffset,s)}static _createBefore(i,s){if(!i.parent)throw new z("model-position-before-root",i,{root:i});return this._createAt(i.parent,i.startOffset,s)}static fromJSON(i,s){if(i.root==="$graveyard"){const c=new He(s.graveyard,i.path);return c.stickiness=i.stickiness,c}if(!s.getRoot(i.root))throw new z("model-position-fromjson-no-root",s,{rootName:i.root});return new He(s.getRoot(i.root),i.path,i.stickiness)}}function Dl(u,i){const s=i.getChild(i.offsetToIndex(u.offset));return s&&s.is("$text")&&s.startOffset<u.offset?s:null}function pi(u,i,s){return s!==null?null:i.getChild(i.offsetToIndex(u.offset))}function Oo(u,i,s){return s!==null?null:i.getChild(i.offsetToIndex(u.offset)-1)}function Kw(u,i,s){return s+1!==u.path.length&&!!ei(i.path,s+1)&&!!(function(c,h){let g=c.parent,w=c.path.length-1,k=0;for(;w>=h;){if(c.path[w]+k!==g.maxOffset)return!1;k=1,w--,g=g.parent}return!0})(u,s+1)}function ei(u,i){for(;i<u.length;){if(u[i]!==0)return!1;i++}return!0}He.prototype.is=function(u){return u==="position"||u==="model:position"};class Se extends Fa{constructor(i,s){super(),this.start=He._createAt(i),this.end=s?He._createAt(s):He._createAt(i),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}*[Symbol.iterator](){yield*new Vs({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return bt(this.start.getParentPath(),this.end.getParentPath())=="same"}get root(){return this.start.root}containsPosition(i){return i.isAfter(this.start)&&i.isBefore(this.end)}containsRange(i,s=!1){i.isCollapsed&&(s=!1);const c=this.containsPosition(i.start)||s&&this.start.isEqual(i.start),h=this.containsPosition(i.end)||s&&this.end.isEqual(i.end);return c&&h}containsItem(i){const s=He._createBefore(i);return this.containsPosition(s)||this.start.isEqual(s)}isEqual(i){return this.start.isEqual(i.start)&&this.end.isEqual(i.end)}isIntersecting(i){return this.start.isBefore(i.end)&&this.end.isAfter(i.start)}getDifference(i){const s=[];return this.isIntersecting(i)?(this.containsPosition(i.start)&&s.push(new Se(this.start,i.start)),this.containsPosition(i.end)&&s.push(new Se(i.end,this.end))):s.push(new Se(this.start,this.end)),s}getIntersection(i){if(this.isIntersecting(i)){let s=this.start,c=this.end;return this.containsPosition(i.start)&&(s=i.start),this.containsPosition(i.end)&&(c=i.end),new Se(s,c)}return null}getJoined(i,s=!1){let c=this.isIntersecting(i);if(c||(c=this.start.isBefore(i.start)?s?this.end.isTouching(i.start):this.end.isEqual(i.start):s?i.end.isTouching(this.start):i.end.isEqual(this.start)),!c)return null;let h=this.start,g=this.end;return i.start.isBefore(h)&&(h=i.start),i.end.isAfter(g)&&(g=i.end),new Se(h,g)}getMinimalFlatRanges(){const i=[],s=this.start.getCommonPath(this.end).length,c=He._createAt(this.start);let h=c.parent;for(;c.path.length>s+1;){const g=h.maxOffset-c.offset;g!==0&&i.push(new Se(c,c.getShiftedBy(g))),c.path=c.path.slice(0,-1),c.offset++,h=h.parent}for(;c.path.length<=this.end.path.length;){const g=this.end.path[c.path.length-1],w=g-c.offset;w!==0&&i.push(new Se(c,c.getShiftedBy(w))),c.offset=g,c.path.push(0)}return i}getWalker(i={}){return i.boundaries=this,new Vs(i)}*getItems(i={}){i.boundaries=this,i.ignoreElementEnd=!0;const s=new Vs(i);for(const c of s)yield c.item}*getPositions(i={}){i.boundaries=this;const s=new Vs(i);yield s.position;for(const c of s)yield c.nextPosition}getTransformedByOperation(i){switch(i.type){case"insert":return this._getTransformedByInsertOperation(i);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(i);case"split":return[this._getTransformedBySplitOperation(i)];case"merge":return[this._getTransformedByMergeOperation(i)]}return[new Se(this.start,this.end)]}getTransformedByOperations(i){const s=[new Se(this.start,this.end)];for(const c of i)for(let h=0;h<s.length;h++){const g=s[h].getTransformedByOperation(c);s.splice(h,1,...g),h+=g.length-1}for(let c=0;c<s.length;c++){const h=s[c];for(let g=c+1;g<s.length;g++){const w=s[g];(h.containsRange(w)||w.containsRange(h)||h.isEqual(w))&&s.splice(g,1)}}return s}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;const i=this.start.nodeAfter,s=this.end.nodeBefore;return i&&i.is("element")&&i===s?i:null}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}clone(){return new this.constructor(this.start,this.end)}_getTransformedByInsertOperation(i,s=!1){return this._getTransformedByInsertion(i.position,i.howMany,s)}_getTransformedByMoveOperation(i,s=!1){const c=i.sourcePosition,h=i.howMany,g=i.targetPosition;return this._getTransformedByMove(c,g,h,s)}_getTransformedBySplitOperation(i){const s=this.start._getTransformedBySplitOperation(i);let c=this.end._getTransformedBySplitOperation(i);return this.end.isEqual(i.insertionPosition)&&(c=this.end.getShiftedBy(1)),s.root!=c.root&&(c=this.end.getShiftedBy(-1)),new Se(s,c)}_getTransformedByMergeOperation(i){if(this.start.isEqual(i.targetPosition)&&this.end.isEqual(i.deletionPosition))return new Se(this.start);let s=this.start._getTransformedByMergeOperation(i),c=this.end._getTransformedByMergeOperation(i);return s.root!=c.root&&(c=this.end.getShiftedBy(-1)),s.isAfter(c)?(i.sourcePosition.isBefore(i.targetPosition)?(s=He._createAt(c),s.offset=0):(i.deletionPosition.isEqual(s)||(c=i.deletionPosition),s=i.targetPosition),new Se(s,c)):new Se(s,c)}_getTransformedByInsertion(i,s,c=!1){if(c&&this.containsPosition(i))return[new Se(this.start,i),new Se(i.getShiftedBy(s),this.end._getTransformedByInsertion(i,s))];{const h=new Se(this.start,this.end);return h.start=h.start._getTransformedByInsertion(i,s),h.end=h.end._getTransformedByInsertion(i,s),[h]}}_getTransformedByMove(i,s,c,h=!1){if(this.isCollapsed){const F=this.start._getTransformedByMove(i,s,c);return[new Se(F)]}const g=Se._createFromPositionAndShift(i,c),w=s._getTransformedByDeletion(i,c);if(this.containsPosition(s)&&!h&&(g.containsPosition(this.start)||g.containsPosition(this.end))){const F=this.start._getTransformedByMove(i,s,c),H=this.end._getTransformedByMove(i,s,c);return[new Se(F,H)]}let k;const _=this.getDifference(g);let R=null;const I=this.getIntersection(g);if(_.length==1?R=new Se(_[0].start._getTransformedByDeletion(i,c),_[0].end._getTransformedByDeletion(i,c)):_.length==2&&(R=new Se(this.start,this.end._getTransformedByDeletion(i,c))),k=R?R._getTransformedByInsertion(w,c,I!==null||h):[],I){const F=new Se(I.start._getCombined(g.start,w),I.end._getCombined(g.start,w));k.length==2?k.splice(1,0,F):k.push(F)}return k}_getTransformedByDeletion(i,s){let c=this.start._getTransformedByDeletion(i,s),h=this.end._getTransformedByDeletion(i,s);return c==null&&h==null?null:(c==null&&(c=i),h==null&&(h=i),new Se(c,h))}static _createFromPositionAndShift(i,s){const c=i,h=i.getShiftedBy(s);return s>0?new this(c,h):new this(h,c)}static _createIn(i){return new this(He._createAt(i,0),He._createAt(i,i.maxOffset))}static _createOn(i){return this._createFromPositionAndShift(He._createBefore(i),i.offsetSize)}static _createFromRanges(i){if(i.length===0)throw new z("range-create-from-ranges-empty-array",null);if(i.length==1)return i[0].clone();const s=i[0];i.sort(((g,w)=>g.start.isAfter(w.start)?1:-1));const c=i.indexOf(s),h=new this(s.start,s.end);if(c>0)for(let g=c-1;i[g].end.isEqual(h.start);g++)h.start=He._createAt(i[g].start);for(let g=c+1;g<i.length&&i[g].start.isEqual(h.end);g++)h.end=He._createAt(i[g].end);return h}static fromJSON(i,s){return new this(He.fromJSON(i.start,s),He.fromJSON(i.end,s))}}Se.prototype.is=function(u){return u==="range"||u==="model:range"};class Gs extends le(){constructor(){super(),this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._deferredBindingRemovals=new Map,this._unboundMarkerNames=new Set,this.on("modelToViewPosition",((i,s)=>{if(s.viewPosition)return;const c=this._modelToViewMapping.get(s.modelPosition.parent);if(!c)throw new z("mapping-model-position-view-parent-not-found",this,{modelPosition:s.modelPosition});s.viewPosition=this.findPositionIn(c,s.modelPosition.offset)}),{priority:"low"}),this.on("viewToModelPosition",((i,s)=>{if(s.modelPosition)return;const c=this.findMappedViewAncestor(s.viewPosition),h=this._viewToModelMapping.get(c),g=this._toModelOffset(s.viewPosition.parent,s.viewPosition.offset,c);s.modelPosition=He._createAt(h,g)}),{priority:"low"})}bindElements(i,s){this._modelToViewMapping.set(i,s),this._viewToModelMapping.set(s,i)}unbindViewElement(i,s={}){const c=this.toModelElement(i);if(this._elementToMarkerNames.has(i))for(const h of this._elementToMarkerNames.get(i))this._unboundMarkerNames.add(h);s.defer?this._deferredBindingRemovals.set(i,i.root):(this._viewToModelMapping.delete(i),this._modelToViewMapping.get(c)==i&&this._modelToViewMapping.delete(c))}unbindModelElement(i){const s=this.toViewElement(i);this._modelToViewMapping.delete(i),this._viewToModelMapping.get(s)==i&&this._viewToModelMapping.delete(s)}bindElementToMarker(i,s){const c=this._markerNameToElements.get(s)||new Set;c.add(i);const h=this._elementToMarkerNames.get(i)||new Set;h.add(s),this._markerNameToElements.set(s,c),this._elementToMarkerNames.set(i,h)}unbindElementFromMarkerName(i,s){const c=this._markerNameToElements.get(s);c&&(c.delete(i),c.size==0&&this._markerNameToElements.delete(s));const h=this._elementToMarkerNames.get(i);h&&(h.delete(s),h.size==0&&this._elementToMarkerNames.delete(i))}flushUnboundMarkerNames(){const i=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),i}flushDeferredBindings(){for(const[i,s]of this._deferredBindingRemovals)i.root==s&&this.unbindViewElement(i);this._deferredBindingRemovals=new Map}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this._deferredBindingRemovals=new Map}toModelElement(i){return this._viewToModelMapping.get(i)}toViewElement(i){return this._modelToViewMapping.get(i)}toModelRange(i){return new Se(this.toModelPosition(i.start),this.toModelPosition(i.end))}toViewRange(i){return new vt(this.toViewPosition(i.start),this.toViewPosition(i.end))}toModelPosition(i){const s={viewPosition:i,mapper:this};return this.fire("viewToModelPosition",s),s.modelPosition}toViewPosition(i,s={}){const c={modelPosition:i,mapper:this,isPhantom:s.isPhantom};return this.fire("modelToViewPosition",c),c.viewPosition}markerNameToElements(i){const s=this._markerNameToElements.get(i);if(!s)return null;const c=new Set;for(const h of s)if(h.is("attributeElement"))for(const g of h.getElementsWithSameId())c.add(g);else c.add(h);return c}registerViewToModelLength(i,s){this._viewToModelLengthCallbacks.set(i,s)}findMappedViewAncestor(i){let s=i.parent;for(;!this._viewToModelMapping.has(s);)s=s.parent;return s}_toModelOffset(i,s,c){if(c!=i)return this._toModelOffset(i.parent,i.index,c)+this._toModelOffset(i,s,i);if(i.is("$text"))return s;let h=0;for(let g=0;g<s;g++)h+=this.getModelLength(i.getChild(g));return h}getModelLength(i){if(this._viewToModelLengthCallbacks.get(i.name))return this._viewToModelLengthCallbacks.get(i.name)(i);if(this._viewToModelMapping.has(i))return 1;if(i.is("$text"))return i.data.length;if(i.is("uiElement"))return 0;{let s=0;for(const c of i.getChildren())s+=this.getModelLength(c);return s}}findPositionIn(i,s){let c,h=0,g=0,w=0;if(i.is("$text"))return new Ke(i,s);for(;g<s;)c=i.getChild(w),h=this.getModelLength(c),g+=h,w++;return g==s?this._moveViewPositionToTextNode(new Ke(i,w)):this.findPositionIn(c,s-(g-h))}_moveViewPositionToTextNode(i){const s=i.nodeBefore,c=i.nodeAfter;return s instanceof ct?new Ke(s,s.data.length):c instanceof ct?new Ke(c,0):i}}class Zc{constructor(){this._consumable=new Map,this._textProxyRegistry=new Map}add(i,s){s=Fo(s),i instanceof xr&&(i=this._getSymbolForTextProxy(i)),this._consumable.has(i)||this._consumable.set(i,new Map),this._consumable.get(i).set(s,!0)}consume(i,s){return s=Fo(s),i instanceof xr&&(i=this._getSymbolForTextProxy(i)),!!this.test(i,s)&&(this._consumable.get(i).set(s,!1),!0)}test(i,s){s=Fo(s),i instanceof xr&&(i=this._getSymbolForTextProxy(i));const c=this._consumable.get(i);if(c===void 0)return null;const h=c.get(s);return h===void 0?null:h}revert(i,s){s=Fo(s),i instanceof xr&&(i=this._getSymbolForTextProxy(i));const c=this.test(i,s);return c===!1?(this._consumable.get(i).set(s,!0),!0):c!==!0&&null}verifyAllConsumed(i){const s=[];for(const[c,h]of this._consumable)for(const[g,w]of h){const k=g.split(":")[0];w&&i==k&&s.push({event:g,item:c.name||c.description})}if(s.length)throw new z("conversion-model-consumable-not-consumed",null,{items:s})}_getSymbolForTextProxy(i){let s=null;const c=this._textProxyRegistry.get(i.startOffset);if(c){const h=c.get(i.endOffset);h&&(s=h.get(i.parent))}return s||(s=this._addSymbolForTextProxy(i)),s}_addSymbolForTextProxy(i){const s=i.startOffset,c=i.endOffset,h=i.parent,g=Symbol("$textProxy:"+i.data);let w,k;return w=this._textProxyRegistry.get(s),w||(w=new Map,this._textProxyRegistry.set(s,w)),k=w.get(c),k||(k=new Map,w.set(c,k)),k.set(h,g),g}}function Fo(u){const i=u.split(":");return i[0]=="insert"?i[0]:i[0]=="addMarker"||i[0]=="removeMarker"?u:i.length>1?i[0]+":"+i[1]:i[0]}var Yw=Object.defineProperty,Qw=Object.defineProperties,ds=Object.getOwnPropertyDescriptors,Zw=Object.getOwnPropertySymbols,Qu=Object.prototype.hasOwnProperty,zf=Object.prototype.propertyIsEnumerable,Zu=(u,i,s)=>i in u?Yw(u,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):u[i]=s,Ml=(u,i)=>{for(var s in i||(i={}))Qu.call(i,s)&&Zu(u,s,i[s]);if(Zw)for(var s of Zw(i))zf.call(i,s)&&Zu(u,s,i[s]);return u},Xw=(u,i)=>Qw(u,ds(i));class Jw extends le(){constructor(i){super(),this._conversionApi=Ml({dispatcher:this},i),this._firedEventsMap=new WeakMap}convertChanges(i,s,c){const h=this._createConversionApi(c,i.getRefreshedItems());for(const w of i.getMarkersToRemove())this._convertMarkerRemove(w.name,w.range,h);const g=this._reduceChanges(i.getChanges());for(const w of g)w.type==="insert"?this._convertInsert(Se._createFromPositionAndShift(w.position,w.length),h):w.type==="reinsert"?this._convertReinsert(Se._createFromPositionAndShift(w.position,w.length),h):w.type==="remove"?this._convertRemove(w.position,w.length,w.name,h):this._convertAttribute(w.range,w.attributeKey,w.attributeOldValue,w.attributeNewValue,h);h.mapper.flushDeferredBindings();for(const w of h.mapper.flushUnboundMarkerNames()){const k=s.get(w).getRange();this._convertMarkerRemove(w,k,h),this._convertMarkerAdd(w,k,h)}for(const w of i.getMarkersToAdd())this._convertMarkerAdd(w.name,w.range,h);h.consumable.verifyAllConsumed("insert")}convert(i,s,c,h={}){const g=this._createConversionApi(c,void 0,h);this._convertInsert(i,g);for(const[w,k]of s)this._convertMarkerAdd(w,k,g);g.consumable.verifyAllConsumed("insert")}convertSelection(i,s,c){const h=this._createConversionApi(c);this.fire("cleanSelection",{selection:i},h);const g=i.getFirstPosition().root;if(!h.mapper.toViewElement(g))return;const w=Array.from(s.getMarkersAtPosition(i.getFirstPosition()));if(this._addConsumablesForSelection(h.consumable,i,w),this.fire("selection",{selection:i},h),i.isCollapsed){for(const k of w)if(h.consumable.test(i,"addMarker:"+k.name)){const _=k.getRange();if(!Hf(i.getFirstPosition(),k,h.mapper))continue;const R={item:i,markerName:k.name,markerRange:_};this.fire(`addMarker:${k.name}`,R,h)}for(const k of i.getAttributeKeys())if(h.consumable.test(i,"attribute:"+k)){const _={item:i,range:i.getFirstRange(),attributeKey:k,attributeOldValue:null,attributeNewValue:i.getAttribute(k)};this.fire(`attribute:${k}:$text`,_,h)}}}_convertInsert(i,s,c={}){c.doNotAddConsumables||this._addConsumablesForInsert(s.consumable,i);for(const h of Array.from(i.getWalker({shallow:!0})).map(eC))this._testAndFire("insert",h,s)}_convertRemove(i,s,c,h){this.fire(`remove:${c}`,{position:i,length:s},h)}_convertAttribute(i,s,c,h,g){this._addConsumablesForRange(g.consumable,i,`attribute:${s}`);for(const w of i){const k={item:w.item,range:Se._createFromPositionAndShift(w.previousPosition,w.length),attributeKey:s,attributeOldValue:c,attributeNewValue:h};this._testAndFire(`attribute:${s}`,k,g)}}_convertReinsert(i,s){const c=Array.from(i.getWalker({shallow:!0}));this._addConsumablesForInsert(s.consumable,c);for(const h of c.map(eC))this._testAndFire("insert",Xw(Ml({},h),{reconversion:!0}),s)}_convertMarkerAdd(i,s,c){if(s.root.rootName=="$graveyard")return;const h=`addMarker:${i}`;if(c.consumable.add(s,h),this.fire(h,{markerName:i,markerRange:s},c),c.consumable.consume(s,h)){this._addConsumablesForRange(c.consumable,s,h);for(const g of s.getItems()){if(!c.consumable.test(g,h))continue;const w={item:g,range:Se._createOn(g),markerName:i,markerRange:s};this.fire(h,w,c)}}}_convertMarkerRemove(i,s,c){s.root.rootName!="$graveyard"&&this.fire(`removeMarker:${i}`,{markerName:i,markerRange:s},c)}_reduceChanges(i){const s={changes:i};return this.fire("reduceChanges",s),s.changes}_addConsumablesForInsert(i,s){for(const c of s){const h=c.item;if(i.test(h,"insert")===null){i.add(h,"insert");for(const g of h.getAttributeKeys())i.add(h,"attribute:"+g)}}return i}_addConsumablesForRange(i,s,c){for(const h of s.getItems())i.add(h,c);return i}_addConsumablesForSelection(i,s,c){i.add(s,"selection");for(const h of c)i.add(s,"addMarker:"+h.name);for(const h of s.getAttributeKeys())i.add(s,"attribute:"+h);return i}_testAndFire(i,s,c){const h=(function(_,R){const I=R.item.is("element")?R.item.name:"$text";return`${_}:${I}`})(i,s),g=s.item.is("$textProxy")?c.consumable._getSymbolForTextProxy(s.item):s.item,w=this._firedEventsMap.get(c),k=w.get(g);if(k){if(k.has(h))return;k.add(h)}else w.set(g,new Set([h]));this.fire(h,s,c)}_testAndFireAddAttributes(i,s){const c={item:i,range:Se._createOn(i)};for(const h of c.item.getAttributeKeys())c.attributeKey=h,c.attributeOldValue=null,c.attributeNewValue=c.item.getAttribute(h),this._testAndFire(`attribute:${h}`,c,s)}_createConversionApi(i,s=new Set,c={}){const h=Xw(Ml({},this._conversionApi),{consumable:new Zc,writer:i,options:c,convertItem:g=>this._convertInsert(Se._createOn(g),h),convertChildren:g=>this._convertInsert(Se._createIn(g),h,{doNotAddConsumables:!0}),convertAttributes:g=>this._testAndFireAddAttributes(g,h),canReuseView:g=>!s.has(h.mapper.toModelElement(g))});return this._firedEventsMap.set(h,new Map),h}}function Hf(u,i,s){const c=i.getRange(),h=Array.from(u.getAncestors());return h.shift(),h.reverse(),!h.some((g=>{if(c.containsItem(g))return!!s.toViewElement(g).getCustomProperty("addHighlight")}))}function eC(u){return{item:u.item,range:Se._createFromPositionAndShift(u.previousPosition,u.length)}}class ti extends le(Fa){constructor(...i){super(),this._lastRangeBackward=!1,this._attrs=new Map,this._ranges=[],i.length&&this.setTo(...i)}get anchor(){if(this._ranges.length>0){const i=this._ranges[this._ranges.length-1];return this._lastRangeBackward?i.end:i.start}return null}get focus(){if(this._ranges.length>0){const i=this._ranges[this._ranges.length-1];return this._lastRangeBackward?i.start:i.end}return null}get isCollapsed(){return this._ranges.length===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(i){if(this.rangeCount!=i.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(i.anchor)||!this.focus.isEqual(i.focus))return!1;for(const s of this._ranges){let c=!1;for(const h of i._ranges)if(s.isEqual(h)){c=!0;break}if(!c)return!1}return!0}*getRanges(){for(const i of this._ranges)yield new Se(i.start,i.end)}getFirstRange(){let i=null;for(const s of this._ranges)i&&!s.start.isBefore(i.start)||(i=s);return i?new Se(i.start,i.end):null}getLastRange(){let i=null;for(const s of this._ranges)i&&!s.end.isAfter(i.end)||(i=s);return i?new Se(i.start,i.end):null}getFirstPosition(){const i=this.getFirstRange();return i?i.start.clone():null}getLastPosition(){const i=this.getLastRange();return i?i.end.clone():null}setTo(...i){let[s,c,h]=i;if(typeof c=="object"&&(h=c,c=void 0),s===null)this._setRanges([]);else if(s instanceof ti)this._setRanges(s.getRanges(),s.isBackward);else if(s&&typeof s.getRanges=="function")this._setRanges(s.getRanges(),s.isBackward);else if(s instanceof Se)this._setRanges([s],!!h&&!!h.backward);else if(s instanceof He)this._setRanges([new Se(s)]);else if(s instanceof _l){const g=!!h&&!!h.backward;let w;if(c=="in")w=Se._createIn(s);else if(c=="on")w=Se._createOn(s);else{if(c===void 0)throw new z("model-selection-setto-required-second-parameter",[this,s]);w=new Se(He._createAt(s,c))}this._setRanges([w],g)}else{if(!Kt(s))throw new z("model-selection-setto-not-selectable",[this,s]);this._setRanges(s,h&&!!h.backward)}}_setRanges(i,s=!1){const c=Array.from(i),h=c.some((g=>{if(!(g instanceof Se))throw new z("model-selection-set-ranges-not-range",[this,i]);return this._ranges.every((w=>!w.isEqual(g)))}));(c.length!==this._ranges.length||h)&&(this._replaceAllRanges(c),this._lastRangeBackward=!!s,this.fire("change:range",{directChange:!0}))}setFocus(i,s){if(this.anchor===null)throw new z("model-selection-setfocus-no-ranges",[this,i]);const c=He._createAt(i,s);if(c.compareWith(this.focus)=="same")return;const h=this.anchor;this._ranges.length&&this._popRange(),c.compareWith(h)=="before"?(this._pushRange(new Se(c,h)),this._lastRangeBackward=!0):(this._pushRange(new Se(h,c)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}getAttribute(i){return this._attrs.get(i)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(i){return this._attrs.has(i)}removeAttribute(i){this.hasAttribute(i)&&(this._attrs.delete(i),this.fire("change:attribute",{attributeKeys:[i],directChange:!0}))}setAttribute(i,s){this.getAttribute(i)!==s&&(this._attrs.set(i,s),this.fire("change:attribute",{attributeKeys:[i],directChange:!0}))}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}*getSelectedBlocks(){const i=new WeakSet;for(const s of this.getRanges()){const c=mx(s.start,i);_n(c,s)&&(yield c);for(const g of s.getWalker()){const w=g.item;g.type=="elementEnd"&&QD(w,i,s)&&(yield w)}const h=mx(s.end,i);Lt(h,s)&&(yield h)}}containsEntireContent(i=this.anchor.root){const s=He._createAt(i,0),c=He._createAt(i,"end");return s.isTouching(this.getFirstPosition())&&c.isTouching(this.getLastPosition())}_pushRange(i){this._checkRange(i),this._ranges.push(new Se(i.start,i.end))}_checkRange(i){for(let s=0;s<this._ranges.length;s++)if(i.isIntersecting(this._ranges[s]))throw new z("model-selection-range-intersects",[this,i],{addedRange:i,intersectingRange:this._ranges[s]})}_replaceAllRanges(i){this._removeAllRanges();for(const s of i)this._pushRange(s)}_removeAllRanges(){for(;this._ranges.length>0;)this._popRange()}_popRange(){this._ranges.pop()}}function tC(u,i){return!i.has(u)&&(i.add(u),u.root.document.model.schema.isBlock(u)&&!!u.parent)}function QD(u,i,s){return tC(u,i)&&Yt(u,s)}function mx(u,i){const s=u.parent.root.document.model.schema,c=u.parent.getAncestors({parentFirst:!0,includeSelf:!0});let h=!1;const g=c.find((w=>!h&&(h=s.isLimit(w),!h&&tC(w,i))));return c.forEach((w=>i.add(w))),g}function Yt(u,i){const s=(function(c){const h=c.root.document.model.schema;let g=c.parent;for(;g;){if(h.isBlock(g))return g;g=g.parent}})(u);return s?!i.containsRange(Se._createOn(s),!0):!0}function _n(u,i){return!!u&&(!(!i.isCollapsed&&!u.isEmpty)||!i.start.isTouching(He._createAt(u,u.maxOffset))&&Yt(u,i))}function Lt(u,i){return!!u&&(!(!i.isCollapsed&&!u.isEmpty)||!i.end.isTouching(He._createAt(u,0))&&Yt(u,i))}ti.prototype.is=function(u){return u==="selection"||u==="model:selection"};class xt extends le(Se){constructor(i,s){super(i,s),hn.call(this)}detach(){this.stopListening()}toRange(){return new Se(this.start,this.end)}static fromRange(i){return new xt(i.start,i.end)}}function hn(){this.listenTo(this.root.document.model,"applyOperation",((u,i)=>{const s=i[0];s.isDocumentOperation&&lo.call(this,s)}),{priority:"low"})}function lo(u){const i=this.getTransformedByOperation(u),s=Se._createFromRanges(i),c=!s.isEqual(this),h=(function(w,k){switch(k.type){case"insert":return w.containsPosition(k.position);case"move":case"remove":case"reinsert":case"merge":return w.containsPosition(k.sourcePosition)||w.start.isEqual(k.sourcePosition)||w.containsPosition(k.targetPosition);case"split":return w.containsPosition(k.splitPosition)||w.containsPosition(k.insertionPosition)}return!1})(this,u);let g=null;if(c){s.root.rootName=="$graveyard"&&(g=u.type=="remove"?u.sourcePosition:u.deletionPosition);const w=this.toRange();this.start=s.start,this.end=s.end,this.fire("change:range",w,{deletionPosition:g})}else h&&this.fire("change:content",this.toRange(),{deletionPosition:g})}xt.prototype.is=function(u){return u==="liveRange"||u==="model:liveRange"||u=="range"||u==="model:range"};const us="selection:";class ni extends le(Fa){constructor(i){super(),this._selection=new nC(i),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get markers(){return this._selection.markers}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(i){return this._selection.containsEntireContent(i)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(i){return this._selection.getAttribute(i)}hasAttribute(i){return this._selection.hasAttribute(i)}refresh(){this._selection.updateMarkers(),this._selection._updateAttributes(!1)}observeMarkers(i){this._selection.observeMarkers(i)}_setFocus(i,s){this._selection.setFocus(i,s)}_setTo(...i){this._selection.setTo(...i)}_setAttribute(i,s){this._selection.setAttribute(i,s)}_removeAttribute(i){this._selection.removeAttribute(i)}_getStoredAttributes(){return this._selection.getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(i){this._selection.restoreGravity(i)}static _getStoreAttributeKey(i){return us+i}static _isStoreAttributeKey(i){return i.startsWith(us)}}ni.prototype.is=function(u){return u==="selection"||u=="model:selection"||u=="documentSelection"||u=="model:documentSelection"};class nC extends ti{constructor(i){super(),this.markers=new An({idProperty:"name"}),this._attributePriority=new Map,this._selectionRestorePosition=null,this._hasChangedRange=!1,this._overriddenGravityRegister=new Set,this._observedMarkers=new Set,this._model=i.model,this._document=i,this.listenTo(this._model,"applyOperation",((s,c)=>{const h=c[0];h.isDocumentOperation&&h.type!="marker"&&h.type!="rename"&&h.type!="noop"&&(this._ranges.length==0&&this._selectionRestorePosition&&this._fixGraveyardSelection(this._selectionRestorePosition),this._selectionRestorePosition=null,this._hasChangedRange&&(this._hasChangedRange=!1,this.fire("change:range",{directChange:!1})))}),{priority:"lowest"}),this.on("change:range",(()=>{this._validateSelectionRanges(this.getRanges())})),this.listenTo(this._model.markers,"update",((s,c,h,g)=>{this._updateMarker(c,g)})),this.listenTo(this._document,"change",((s,c)=>{(function(h,g){const w=h.document.differ;for(const k of w.getChanges()){if(k.type!="insert")continue;const _=k.position.parent;k.length===_.maxOffset&&h.enqueueChange(g,(R=>{const I=Array.from(_.getAttributeKeys()).filter((F=>F.startsWith(us)));for(const F of I)R.removeAttribute(F,_)}))}})(this._model,c)}))}get isCollapsed(){return this._ranges.length===0?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let i=0;i<this._ranges.length;i++)this._ranges[i].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(...i){super.setTo(...i),this._updateAttributes(!0),this.updateMarkers()}setFocus(i,s){super.setFocus(i,s),this._updateAttributes(!0),this.updateMarkers()}setAttribute(i,s){if(this._setAttribute(i,s)){const c=[i];this.fire("change:attribute",{attributeKeys:c,directChange:!0})}}removeAttribute(i){if(this._removeAttribute(i)){const s=[i];this.fire("change:attribute",{attributeKeys:s,directChange:!0})}}overrideGravity(){const i=L();return this._overriddenGravityRegister.add(i),this._overriddenGravityRegister.size===1&&this._updateAttributes(!0),i}restoreGravity(i){if(!this._overriddenGravityRegister.has(i))throw new z("document-selection-gravity-wrong-restore",this,{uid:i});this._overriddenGravityRegister.delete(i),this.isGravityOverridden||this._updateAttributes(!0)}observeMarkers(i){this._observedMarkers.add(i),this.updateMarkers()}_replaceAllRanges(i){this._validateSelectionRanges(i),super._replaceAllRanges(i)}_popRange(){this._ranges.pop().detach()}_pushRange(i){const s=this._prepareRange(i);s&&this._ranges.push(s)}_validateSelectionRanges(i){for(const s of i)if(!this._document._validateSelectionRange(s))throw new z("document-selection-wrong-position",this,{range:s})}_prepareRange(i){if(this._checkRange(i),i.root==this._document.graveyard)return;const s=xt.fromRange(i);return s.on("change:range",((c,h,g)=>{if(this._hasChangedRange=!0,s.root==this._document.graveyard){this._selectionRestorePosition=g.deletionPosition;const w=this._ranges.indexOf(s);this._ranges.splice(w,1),s.detach()}})),s}updateMarkers(){if(!this._observedMarkers.size)return;const i=[];let s=!1;for(const h of this._model.markers){const g=h.name.split(":",1)[0];if(!this._observedMarkers.has(g))continue;const w=h.getRange();for(const k of this.getRanges())w.containsRange(k,!k.isCollapsed)&&i.push(h)}const c=Array.from(this.markers);for(const h of i)this.markers.has(h)||(this.markers.add(h),s=!0);for(const h of Array.from(this.markers))i.includes(h)||(this.markers.remove(h),s=!0);s&&this.fire("change:marker",{oldMarkers:c,directChange:!1})}_updateMarker(i,s){const c=i.name.split(":",1)[0];if(!this._observedMarkers.has(c))return;let h=!1;const g=Array.from(this.markers),w=this.markers.has(i);if(s){let k=!1;for(const _ of this.getRanges())if(s.containsRange(_,!_.isCollapsed)){k=!0;break}k&&!w?(this.markers.add(i),h=!0):!k&&w&&(this.markers.remove(i),h=!0)}else w&&(this.markers.remove(i),h=!0);h&&this.fire("change:marker",{oldMarkers:g,directChange:!1})}_updateAttributes(i){const s=Ns(this._getSurroundingAttributes()),c=Ns(this.getAttributes());if(i)this._attributePriority=new Map,this._attrs=new Map;else for(const[g,w]of this._attributePriority)w=="low"&&(this._attrs.delete(g),this._attributePriority.delete(g));this._setAttributesTo(s);const h=[];for(const[g,w]of this.getAttributes())c.has(g)&&c.get(g)===w||h.push(g);for(const[g]of c)this.hasAttribute(g)||h.push(g);h.length>0&&this.fire("change:attribute",{attributeKeys:h,directChange:!1})}_setAttribute(i,s,c=!0){const h=c?"normal":"low";return h=="low"&&this._attributePriority.get(i)=="normal"?!1:super.getAttribute(i)!==s&&(this._attrs.set(i,s),this._attributePriority.set(i,h),!0)}_removeAttribute(i,s=!0){const c=s?"normal":"low";return(c!="low"||this._attributePriority.get(i)!="normal")&&(this._attributePriority.set(i,c),!!super.hasAttribute(i)&&(this._attrs.delete(i),!0))}_setAttributesTo(i){const s=new Set;for(const[c,h]of this.getAttributes())i.get(c)!==h&&this._removeAttribute(c,!1);for(const[c,h]of i)this._setAttribute(c,h,!1)&&s.add(c);return s}*getStoredAttributes(){const i=this.getFirstPosition().parent;if(this.isCollapsed&&i.isEmpty)for(const s of i.getAttributeKeys())s.startsWith(us)&&(yield[s.substr(10),i.getAttribute(s)])}_getSurroundingAttributes(){const i=this.getFirstPosition(),s=this._model.schema;if(i.root.rootName=="$graveyard")return null;let c=null;if(this.isCollapsed){const h=i.textNode?i.textNode:i.nodeBefore,g=i.textNode?i.textNode:i.nodeAfter;if(this.isGravityOverridden||(c=co(h,s)),c||(c=co(g,s)),!this.isGravityOverridden&&!c){let w=h;for(;w&&!c;)w=w.previousSibling,c=co(w,s)}if(!c){let w=g;for(;w&&!c;)w=w.nextSibling,c=co(w,s)}c||(c=this.getStoredAttributes())}else{const h=this.getFirstRange();for(const g of h){if(g.item.is("element")&&s.isObject(g.item)){c=co(g.item,s);break}if(g.type=="text"){c=g.item.getAttributes();break}}}return c}_fixGraveyardSelection(i){const s=this._model.schema.getNearestSelectionRange(i);s&&this._pushRange(s)}}function co(u,i){if(!u)return null;if(u instanceof xr||u instanceof It)return u.getAttributes();if(!i.isInline(u))return null;if(!i.isObject(u))return[];const s=[];for(const[c,h]of u.getAttributes())i.checkAttribute("$text",c)&&i.getAttributeProperties(c).copyFromObject!==!1&&s.push([c,h]);return s}class qn{constructor(i){this._dispatchers=i}add(i){for(const s of this._dispatchers)i(s);return this}}class Tl extends qn{elementToElement(i){return this.add((function(s){const c=gi(s.model),h=Xc(s.view,"container");return c.attributes.length&&(c.children=!0),g=>{g.on(`insert:${c.name}`,uo(h,La(c)),{priority:s.converterPriority||"normal"}),(c.children||c.attributes.length)&&g.on("reduceChanges",Gf(c),{priority:"low"})}})(i))}elementToStructure(i){return this.add((function(s){const c=gi(s.model),h=Xc(s.view,"container");return c.children=!0,g=>{if(g._conversionApi.schema.checkChild(c.name,"$text"))throw new z("conversion-element-to-structure-disallowed-text",g,{elementName:c.name});var w,k;g.on(`insert:${c.name}`,(w=h,k=La(c),(_,R,I)=>{if(!k(R.item,I.consumable,{preflight:!0}))return;const F=new Map;I.writer._registerSlotFactory((function(W,Y,ie){return(de,ge)=>{const Ce=de.createContainerElement("$slot");let Fe=null;if(ge==="children")Fe=Array.from(W.getChildren());else{if(typeof ge!="function")throw new z("conversion-slot-mode-unknown",ie.dispatcher,{modeOrFilter:ge});Fe=Array.from(W.getChildren()).filter((Xe=>ge(Xe)))}return Y.set(Ce,Fe),Ce}})(R.item,F,I));const H=w(R.item,I,R);if(I.writer._clearSlotFactory(),!H)return;(function(W,Y,ie){const de=Array.from(Y.values()).flat(),ge=new Set(de);if(ge.size!=de.length)throw new z("conversion-slot-filter-overlap",ie.dispatcher,{element:W});if(ge.size!=W.childCount)throw new z("conversion-slot-filter-incomplete",ie.dispatcher,{element:W})})(R.item,F,I),k(R.item,I.consumable);const G=I.mapper.toViewPosition(R.range.start);I.mapper.bindElements(R.item,H),I.writer.insert(G,H),I.convertAttributes(R.item),(function(W,Y,ie,de){ie.mapper.on("modelToViewPosition",Fe,{priority:"highest"});let ge=null,Ce=null;for([ge,Ce]of Y)br(W,Ce,ie,de),ie.writer.move(ie.writer.createRangeIn(ge),ie.writer.createPositionBefore(ge)),ie.writer.remove(ge);function Fe(Xe,Ct){const Rt=Ct.modelPosition.nodeAfter,Fn=Ce.indexOf(Rt);Fn<0||(Ct.viewPosition=Ct.mapper.findPositionIn(ge,Fn))}ie.mapper.off("modelToViewPosition",Fe)})(H,F,I,{reconversion:R.reconversion})}),{priority:s.converterPriority||"normal"}),g.on("reduceChanges",Gf(c),{priority:"low"})}})(i))}attributeToElement(i){return this.add((function(s){s=bn(s);let c=s.model;typeof c=="string"&&(c={key:c});let h=`attribute:${c.key}`;if(c.name&&(h+=":"+c.name),c.values)for(const w of c.values)s.view[w]=Xc(s.view[w],"attribute");else s.view=Xc(s.view,"attribute");const g=Vf(s);return w=>{w.on(h,rC(g),{priority:s.converterPriority||"normal"})}})(i))}attributeToAttribute(i){return this.add((function(s){s=bn(s);let c=s.model;typeof c=="string"&&(c={key:c});let h=`attribute:${c.key}`;if(c.name&&(h+=":"+c.name),c.values)for(const w of c.values)s.view[w]=iC(s.view[w]);else s.view=iC(s.view);const g=Vf(s);return w=>{var k;w.on(h,(k=g,(_,R,I)=>{if(!I.consumable.test(R.item,_.name))return;const F=k(R.attributeOldValue,I,R),H=k(R.attributeNewValue,I,R);if(!F&&!H)return;I.consumable.consume(R.item,_.name);const G=I.mapper.toViewElement(R.item),W=I.writer;if(!G)throw new z("conversion-attribute-to-attribute-on-text",I.dispatcher,R);if(R.attributeOldValue!==null&&F)if(F.key=="class"){const Y=typeof F.value=="string"?F.value.split(/\s+/):F.value;for(const ie of Y)W.removeClass(ie,G)}else if(F.key=="style")if(typeof F.value=="string"){const Y=new Vg(W.document.stylesProcessor);Y.setTo(F.value);for(const[ie]of Y.getStylesEntries())W.removeStyle(ie,G)}else{const Y=Object.keys(F.value);for(const ie of Y)W.removeStyle(ie,G)}else W.removeAttribute(F.key,G);if(R.attributeNewValue!==null&&H)if(H.key=="class"){const Y=typeof H.value=="string"?H.value.split(/\s+/):H.value;for(const ie of Y)W.addClass(ie,G)}else if(H.key=="style")if(typeof H.value=="string"){const Y=new Vg(W.document.stylesProcessor);Y.setTo(H.value);for(const[ie,de]of Y.getStylesEntries())W.setStyle(ie,de,G)}else{const Y=Object.keys(H.value);for(const ie of Y)W.setStyle(ie,H.value[ie],G)}else W.setAttribute(H.key,H.value,G)}),{priority:s.converterPriority||"normal"})}})(i))}markerToElement(i){return this.add((function(s){const c=Xc(s.view,"ui");return h=>{h.on(`addMarker:${s.model}`,Xu(c),{priority:s.converterPriority||"normal"}),h.on(`removeMarker:${s.model}`,((g,w,k)=>{const _=k.mapper.markerNameToElements(w.markerName);if(_){for(const R of _)k.mapper.unbindElementFromMarkerName(R,w.markerName),k.writer.clear(k.writer.createRangeOn(R),R);k.writer.clearClonedElementsGroup(w.markerName),g.stop()}}),{priority:s.converterPriority||"normal"})}})(i))}markerToHighlight(i){return this.add((function(s){return c=>{var h;c.on(`addMarker:${s.model}`,(h=s.view,(g,w,k)=>{if(!w.item||!(w.item instanceof ti||w.item instanceof ni||w.item.is("$textProxy")))return;const _=eh(h,w,k);if(!_||!k.consumable.consume(w.item,g.name))return;const R=k.writer,I=Rl(R,_),F=R.document.selection;if(w.item instanceof ti||w.item instanceof ni)R.wrap(F.getFirstRange(),I);else{const H=k.mapper.toViewRange(w.range),G=R.wrap(H,I);for(const W of G.getItems())if(W.is("attributeElement")&&W.isSimilar(I)){k.mapper.bindElementToMarker(W,w.markerName);break}}}),{priority:s.converterPriority||"normal"}),c.on(`addMarker:${s.model}`,(function(g){return(w,k,_)=>{if(!k.item||!(k.item instanceof on))return;const R=eh(g,k,_);if(!R||!_.consumable.test(k.item,w.name))return;const I=_.mapper.toViewElement(k.item);if(I&&I.getCustomProperty("addHighlight")){_.consumable.consume(k.item,w.name);for(const F of Se._createIn(k.item))_.consumable.consume(F.item,w.name);I.getCustomProperty("addHighlight")(I,R,_.writer),_.mapper.bindElementToMarker(I,k.markerName)}}})(s.view),{priority:s.converterPriority||"normal"}),c.on(`removeMarker:${s.model}`,(function(g){return(w,k,_)=>{if(k.markerRange.isCollapsed)return;const R=eh(g,k,_);if(!R)return;const I=Rl(_.writer,R),F=_.mapper.markerNameToElements(k.markerName);if(F){for(const H of F)_.mapper.unbindElementFromMarkerName(H,k.markerName),H.is("attributeElement")?_.writer.unwrap(_.writer.createRangeOn(H),I):H.getCustomProperty("removeHighlight")(H,R.id,_.writer);_.writer.clearClonedElementsGroup(k.markerName),w.stop()}}})(s.view),{priority:s.converterPriority||"normal"})}})(i))}markerToData(i){return this.add((function(s){s=bn(s);const c=s.model;let h=s.view;return h||(h=g=>({group:c,name:g.substr(s.model.length+1)})),g=>{var w;g.on(`addMarker:${c}`,(w=h,(k,_,R)=>{const I=w(_.markerName,R);if(!I)return;const F=_.markerRange;R.consumable.consume(F,k.name)&&(Ju(F,!1,R,_,I),Ju(F,!0,R,_,I),k.stop())}),{priority:s.converterPriority||"normal"}),g.on(`removeMarker:${c}`,(function(k){return(_,R,I)=>{const F=k(R.markerName,I);if(!F)return;const H=I.mapper.markerNameToElements(R.markerName);if(H){for(const W of H)I.mapper.unbindElementFromMarkerName(W,R.markerName),W.is("containerElement")?(G(`data-${F.group}-start-before`,W),G(`data-${F.group}-start-after`,W),G(`data-${F.group}-end-before`,W),G(`data-${F.group}-end-after`,W)):I.writer.clear(I.writer.createRangeOn(W),W);I.writer.clearClonedElementsGroup(R.markerName),_.stop()}function G(W,Y){if(Y.hasAttribute(W)){const ie=new Set(Y.getAttribute(W).split(","));ie.delete(F.name),ie.size==0?I.writer.removeAttribute(W,Y):I.writer.setAttribute(W,Array.from(ie).join(","),Y)}}}})(h),{priority:s.converterPriority||"normal"})}})(i))}}function Rl(u,i){const s=u.createAttributeElement("span",i.attributes);return i.classes&&s._addClass(i.classes),typeof i.priority=="number"&&(s._priority=i.priority),s._id=i.id,s}function rC(u){return(i,s,c)=>{if(!c.consumable.test(s.item,i.name))return;const h=u(s.attributeOldValue,c,s),g=u(s.attributeNewValue,c,s);if(!h&&!g)return;c.consumable.consume(s.item,i.name);const w=c.writer,k=w.document.selection;if(s.item instanceof ti||s.item instanceof ni)w.wrap(k.getFirstRange(),g);else{let _=c.mapper.toViewRange(s.range);s.attributeOldValue!==null&&h&&(_=w.unwrap(_,h)),s.attributeNewValue!==null&&g&&w.wrap(_,g)}}}function uo(u,i=th){return(s,c,h)=>{if(!i(c.item,h.consumable,{preflight:!0}))return;const g=u(c.item,h,c);if(!g)return;i(c.item,h.consumable);const w=h.mapper.toViewPosition(c.range.start);h.mapper.bindElements(c.item,g),h.writer.insert(w,g),h.convertAttributes(c.item),br(g,c.item.getChildren(),h,{reconversion:c.reconversion})}}function Xu(u){return(i,s,c)=>{s.isOpening=!0;const h=u(s,c);s.isOpening=!1;const g=u(s,c);if(!h||!g)return;const w=s.markerRange;if(w.isCollapsed&&!c.consumable.consume(w,i.name))return;for(const R of w)if(!c.consumable.consume(R.item,i.name))return;const k=c.mapper,_=c.writer;_.insert(k.toViewPosition(w.start),h),c.mapper.bindElementToMarker(h,s.markerName),w.isCollapsed||(_.insert(k.toViewPosition(w.end),g),c.mapper.bindElementToMarker(g,s.markerName)),i.stop()}}function Ju(u,i,s,c,h){const g=i?u.start:u.end,w=g.nodeAfter&&g.nodeAfter.is("element")?g.nodeAfter:null,k=g.nodeBefore&&g.nodeBefore.is("element")?g.nodeBefore:null;if(w||k){let _,R;i&&w||!i&&!k?(_=w,R=!0):(_=k,R=!1);const I=s.mapper.toViewElement(_);if(I)return void(function(F,H,G,W,Y,ie){const de=`data-${ie.group}-${H?"start":"end"}-${G?"before":"after"}`,ge=F.hasAttribute(de)?F.getAttribute(de).split(","):[];ge.unshift(ie.name),W.writer.setAttribute(de,ge.join(","),F),W.mapper.bindElementToMarker(F,Y.markerName)})(I,i,R,s,c,h)}(function(_,R,I,F,H){const G=`${H.group}-${R?"start":"end"}`,W=H.name?{name:H.name}:null,Y=I.writer.createUIElement(G,W);I.writer.insert(_,Y),I.mapper.bindElementToMarker(Y,F.markerName)})(s.mapper.toViewPosition(g),i,s,c,h)}function gi(u){return typeof u=="string"&&(u={name:u}),{name:u.name,attributes:u.attributes?dn(u.attributes):[],children:!!u.children}}function Xc(u,i){return typeof u=="function"?u:(s,c)=>(function(h,g,w){typeof h=="string"&&(h={name:h});let k;const _=g.writer,R=Object.assign({},h.attributes);if(w=="container")k=_.createContainerElement(h.name,R);else if(w=="attribute"){const I={priority:h.priority||Al.DEFAULT_PRIORITY};k=_.createAttributeElement(h.name,R,I)}else k=_.createUIElement(h.name,R);if(h.styles){const I=Object.keys(h.styles);for(const F of I)_.setStyle(F,h.styles[F],k)}if(h.classes){const I=h.classes;if(typeof I=="string")_.addClass(I,k);else for(const F of I)_.addClass(F,k)}return k})(u,c,i)}function Vf(u){return u.model.values?(i,s,c)=>{const h=u.view[i];return h?h(i,s,c):null}:u.view}function iC(u){return typeof u=="string"?i=>({key:u,value:i}):typeof u=="object"?u.value?()=>u:i=>({key:u.key,value:i}):u}function eh(u,i,s){const c=typeof u=="function"?u(i,s):u;return c?(c.priority||(c.priority=10),c.id||(c.id=i.markerName),c):null}function Gf(u){const i=(function(s){return(c,h)=>{if(!c.is("element",s.name))return!1;if(h.type=="attribute"){if(s.attributes.includes(h.attributeKey))return!0}else if(s.children)return!0;return!1}})(u);return(s,c)=>{const h=[];c.reconvertedElements||(c.reconvertedElements=new Set);for(const g of c.changes){const w=g.type=="attribute"?g.range.start.nodeAfter:g.position.parent;if(w&&i(w,g)){if(!c.reconvertedElements.has(w)){c.reconvertedElements.add(w);const k=He._createBefore(w);let _=h.length;for(let R=h.length-1;R>=0;R--){const I=h[R],F=(I.type=="attribute"?I.range.start:I.position).compareWith(k);if(F=="before"||I.type=="remove"&&F=="same")break;_=R}h.splice(_,0,{type:"remove",name:w.name,position:k,length:1},{type:"reinsert",name:w.name,position:k,length:1})}}else h.push(g)}c.changes=h}}function La(u){return(i,s,c={})=>{const h=["insert"];for(const g of u.attributes)i.hasAttribute(g)&&h.push(`attribute:${g}`);return!!h.every((g=>s.test(i,g)))&&(c.preflight||h.forEach((g=>s.consume(i,g))),!0)}}function br(u,i,s,c){for(const h of i)Pl(u.root,h,s,c)||s.convertItem(h)}function Pl(u,i,s,c){const{writer:h,mapper:g}=s;if(!c.reconversion)return!1;const w=g.toViewElement(i);return!(!w||w.root==u)&&!!s.canReuseView(w)&&(h.move(h.createRangeOn(w),g.toViewPosition(He._createBefore(i))),!0)}function th(u,i,{preflight:s}={}){return s?i.test(u,"insert"):i.consume(u,"insert")}function Us(u){const{schema:i,document:s}=u.model;for(const c of s.getRoots())if(c.isEmpty&&!i.checkChild(c,"$text")&&i.checkChild(c,"paragraph"))return u.insertElement("paragraph",c),!0;return!1}function om(u,i,s){const c=s.createContext(u);return!!s.checkChild(c,"paragraph")&&!!s.checkChild(c.push("paragraph"),i)}function sm(u,i){const s=i.createElement("paragraph");return i.insert(s,u),i.createPositionAt(s,0)}var bx=Object.defineProperty,Uf=Object.defineProperties,oC=Object.getOwnPropertyDescriptors,Ni=Object.getOwnPropertySymbols,vx=Object.prototype.hasOwnProperty,Oi=Object.prototype.propertyIsEnumerable,sC=(u,i,s)=>i in u?bx(u,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):u[i]=s;class wx extends qn{elementToElement(i){return this.add(Cx(i))}elementToAttribute(i){return this.add((function(s){s=bn(s),am(s);const c=Jc(s,!1),h=Ws(s.view),g=h?`element:${h}`:"element";return w=>{w.on(g,c,{priority:s.converterPriority||"low"})}})(i))}attributeToAttribute(i){return this.add((function(s){s=bn(s);let c=null;(typeof s.view=="string"||s.view.key)&&(c=(function(g){typeof g.view=="string"&&(g.view={key:g.view});const w=g.view.key,k=g.view.value===void 0?/[\s\S]*/:g.view.value;let _;return w=="class"||w=="style"?_={[w=="class"?"classes":"styles"]:k}:_={attributes:{[w]:k}},g.view.name&&(_.name=g.view.name),g.view=_,w})(s)),am(s,c);const h=Jc(s,!0);return g=>{g.on("element",h,{priority:s.converterPriority||"low"})}})(i))}elementToMarker(i){return this.add((function(s){const c=(function(w){return(k,_)=>{const R=typeof w=="string"?w:w(k,_);return _.writer.createElement("$marker",{"data-name":R})}})(s.model);return Cx((h=((w,k)=>{for(var _ in k||(k={}))vx.call(k,_)&&sC(w,_,k[_]);if(Ni)for(var _ of Ni(k))Oi.call(k,_)&&sC(w,_,k[_]);return w})({},s),g={model:c},Uf(h,oC(g))));var h,g})(i))}dataToMarker(i){return this.add((function(s){s=bn(s),s.model||(s.model=w=>w?s.view+":"+w:s.view);const c={view:s.view,model:s.model},h=nh(aC(c,"start")),g=nh(aC(c,"end"));return w=>{w.on(`element:${s.view}-start`,h,{priority:s.converterPriority||"normal"}),w.on(`element:${s.view}-end`,g,{priority:s.converterPriority||"normal"});const k=V.low,_=V.highest,R=V.get(s.converterPriority)/_;w.on("element",(function(I){return(F,H,G)=>{const W=`data-${I.view}`;function Y(ie,de){for(const ge of de){const Ce=I.model(ge,G),Fe=G.writer.createElement("$marker",{"data-name":Ce});G.writer.insert(Fe,ie),H.modelCursor.isEqual(ie)?H.modelCursor=H.modelCursor.getShiftedBy(1):H.modelCursor=H.modelCursor._getTransformedByInsertion(ie,1),H.modelRange=H.modelRange._getTransformedByInsertion(ie,1)[0]}}(G.consumable.test(H.viewItem,{attributes:W+"-end-after"})||G.consumable.test(H.viewItem,{attributes:W+"-start-after"})||G.consumable.test(H.viewItem,{attributes:W+"-end-before"})||G.consumable.test(H.viewItem,{attributes:W+"-start-before"}))&&(H.modelRange||Object.assign(H,G.convertChildren(H.viewItem,H.modelCursor)),G.consumable.consume(H.viewItem,{attributes:W+"-end-after"})&&Y(H.modelRange.end,H.viewItem.getAttribute(W+"-end-after").split(",")),G.consumable.consume(H.viewItem,{attributes:W+"-start-after"})&&Y(H.modelRange.end,H.viewItem.getAttribute(W+"-start-after").split(",")),G.consumable.consume(H.viewItem,{attributes:W+"-end-before"})&&Y(H.modelRange.start,H.viewItem.getAttribute(W+"-end-before").split(",")),G.consumable.consume(H.viewItem,{attributes:W+"-start-before"})&&Y(H.modelRange.start,H.viewItem.getAttribute(W+"-start-before").split(",")))}})(c),{priority:k+R})}})(i))}}function Cx(u){const i=nh(u=bn(u)),s=Ws(u.view),c=s?`element:${s}`:"element";return h=>{h.on(c,i,{priority:u.converterPriority||"normal"})}}function Ws(u){return typeof u=="string"?u:typeof u=="object"&&typeof u.name=="string"?u.name:null}function nh(u){const i=new oo(u.view);return(s,c,h)=>{const g=i.match(c.viewItem);if(!g)return;const w=g.match;if(w.name=!0,!h.consumable.test(c.viewItem,w))return;const k=(function(_,R,I){return _ instanceof Function?_(R,I):I.writer.createElement(_)})(u.model,c.viewItem,h);k&&h.safeInsert(k,c.modelCursor)&&(h.consumable.consume(c.viewItem,w),h.convertChildren(c.viewItem,k),h.updateConversionResult(k,c))}}function am(u,i=null){const s=i===null||(g=>g.getAttribute(i)),c=typeof u.model!="object"?u.model:u.model.key,h=typeof u.model!="object"||u.model.value===void 0?s:u.model.value;u.model={key:c,value:h}}function Jc(u,i){const s=new oo(u.view);return(c,h,g)=>{if(!h.modelRange&&i)return;const w=s.match(h.viewItem);if(!w||((function(I,F){const H=typeof I=="function"?I(F):I;return typeof H=="object"&&!Ws(H)?!1:!H.classes&&!H.attributes&&!H.styles})(u.view,h.viewItem)?w.match.name=!0:delete w.match.name,!g.consumable.test(h.viewItem,w.match)))return;const k=u.model.key,_=typeof u.model.value=="function"?u.model.value(h.viewItem,g):u.model.value;if(_===null)return;h.modelRange||Object.assign(h,g.convertChildren(h.viewItem,h.modelCursor)),(function(I,F,H,G){let W=!1;for(const Y of Array.from(I.getItems({shallow:H})))G.schema.checkAttribute(Y,F.key)&&(W=!0,Y.hasAttribute(F.key)||G.writer.setAttribute(F.key,F.value,Y));return W})(h.modelRange,{key:k,value:_},i,g)&&(g.consumable.test(h.viewItem,{name:!0})&&(w.match.name=!0),g.consumable.consume(h.viewItem,w.match))}}function aC(u,i){return{view:`${u.view}-${i}`,model:(s,c)=>{const h=s.getAttribute("name"),g=u.model(h,c);return c.writer.createElement("$marker",{"data-name":g})}}}function yx(u){u.document.registerPostFixer((i=>(function(s,c){const h=c.document.selection,g=c.schema,w=[];let k=!1;for(const _ of h.getRanges()){const R=lC(_,g);R&&!R.isEqual(_)?(w.push(R),k=!0):w.push(_)}return k&&s.setSelection((function(_){const R=[..._],I=new Set;let F=1;for(;F<R.length;){const H=R[F],G=R.slice(0,F);for(const[W,Y]of G.entries())if(!I.has(W)){if(H.isEqual(Y))I.add(W);else if(H.isIntersecting(Y)){I.add(W),I.add(F);const ie=H.getJoined(Y);R.push(ie)}}F++}return R.filter(((H,G)=>!I.has(G)))})(w),{backward:h.isBackward}),!1})(i,u)))}function lC(u,i){return u.isCollapsed?(function(s,c){const h=s.start,g=c.getNearestSelectionRange(h);if(!g){const k=h.getAncestors().reverse().find((_=>c.isObject(_)));return k?Se._createOn(k):null}if(!g.isCollapsed)return g;const w=g.start;return h.isEqual(w)?null:new Se(w)})(u,i):(function(s,c){const{start:h,end:g}=s,w=c.checkChild(h,"$text"),k=c.checkChild(g,"$text"),_=c.getLimitElement(h),R=c.getLimitElement(g);if(_===R){if(w&&k)return null;if((function(H,G,W){const Y=H.nodeAfter&&!W.isLimit(H.nodeAfter)||W.checkChild(H,"$text"),ie=G.nodeBefore&&!W.isLimit(G.nodeBefore)||W.checkChild(G,"$text");return Y||ie})(h,g,c)){const H=h.nodeAfter&&c.isSelectable(h.nodeAfter)?null:c.getNearestSelectionRange(h,"forward"),G=g.nodeBefore&&c.isSelectable(g.nodeBefore)?null:c.getNearestSelectionRange(g,"backward"),W=H?H.start:h,Y=G?G.end:g;return new Se(W,Y)}}const I=_&&!_.is("rootElement"),F=R&&!R.is("rootElement");if(I||F){const H=h.nodeAfter&&g.nodeBefore&&h.nodeAfter.parent===g.nodeBefore.parent,G=I&&(!H||!Wf(h.nodeAfter,c)),W=F&&(!H||!Wf(g.nodeBefore,c));let Y=h,ie=g;return G&&(Y=He._createBefore(cC(_,c))),W&&(ie=He._createAfter(cC(R,c))),new Se(Y,ie)}return null})(u,i)}function cC(u,i){let s=u,c=s;for(;i.isLimit(c)&&c.parent;)s=c,c=c.parent;return s}function Wf(u,i){return u&&i.isSelectable(u)}class dC extends et(){constructor(i,s){super(),this.model=i,this.view=new YD(s),this.mapper=new Gs,this.downcastDispatcher=new Jw({mapper:this.mapper,schema:i.schema});const c=this.model.document,h=c.selection,g=this.model.markers;var w,k,_;this.listenTo(this.model,"_beforeChanges",(()=>{this.view._disableRendering(!0)}),{priority:"highest"}),this.listenTo(this.model,"_afterChanges",(()=>{this.view._disableRendering(!1)}),{priority:"lowest"}),this.listenTo(c,"change",(()=>{this.view.change((R=>{this.downcastDispatcher.convertChanges(c.differ,g,R),this.downcastDispatcher.convertSelection(h,g,R)}))}),{priority:"low"}),this.listenTo(this.view.document,"selectionChange",(function(R,I){return(F,H)=>{const G=H.newSelection,W=[];for(const ie of G.getRanges())W.push(I.toModelRange(ie));const Y=R.createSelection(W,{backward:G.isBackward});Y.isEqual(R.document.selection)||R.change((ie=>{ie.setSelection(Y)}))}})(this.model,this.mapper)),this.listenTo(this.view.document,"beforeinput",(w=this.mapper,k=this.model.schema,_=this.view,(R,I)=>{if(!_.document.isComposing||v.isAndroid)for(let F=0;F<I.targetRanges.length;F++){const H=I.targetRanges[F],G=w.toModelRange(H),W=lC(G,k);W&&!W.isEqual(G)&&(I.targetRanges[F]=w.toViewRange(W))}}),{priority:"high"}),this.downcastDispatcher.on("insert:$text",((R,I,F)=>{if(!F.consumable.consume(I.item,R.name))return;const H=F.writer,G=F.mapper.toViewPosition(I.range.start),W=H.createText(I.item.data);H.insert(G,W)}),{priority:"lowest"}),this.downcastDispatcher.on("insert",((R,I,F)=>{F.convertAttributes(I.item),I.reconversion||!I.item.is("element")||I.item.isEmpty||F.convertChildren(I.item)}),{priority:"lowest"}),this.downcastDispatcher.on("remove",((R,I,F)=>{const H=F.mapper.toViewPosition(I.position),G=I.position.getShiftedBy(I.length),W=F.mapper.toViewPosition(G,{isPhantom:!0}),Y=F.writer.createRange(H,W),ie=F.writer.remove(Y.getTrimmed());for(const de of F.writer.createRangeIn(ie).getItems())F.mapper.unbindViewElement(de,{defer:!0})}),{priority:"low"}),this.downcastDispatcher.on("cleanSelection",((R,I,F)=>{const H=F.writer,G=H.document.selection;for(const W of G.getRanges())W.isCollapsed&&W.end.parent.isAttached()&&F.writer.mergeAttributes(W.start);H.setSelection(null)})),this.downcastDispatcher.on("selection",((R,I,F)=>{const H=I.selection;if(H.isCollapsed||!F.consumable.consume(H,"selection"))return;const G=[];for(const W of H.getRanges())G.push(F.mapper.toViewRange(W));F.writer.setSelection(G,{backward:H.isBackward})}),{priority:"low"}),this.downcastDispatcher.on("selection",((R,I,F)=>{const H=I.selection;if(!H.isCollapsed||!F.consumable.consume(H,"selection"))return;const G=F.writer,W=H.getFirstPosition(),Y=F.mapper.toViewPosition(W),ie=G.breakAttributes(Y);G.setSelection(ie)}),{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using((R=>{if(R.rootName=="$graveyard")return null;const I=new Aw(this.view.document,R.name);return I.rootName=R.rootName,this.mapper.bindElements(R,I),I}))}destroy(){this.view.destroy(),this.stopListening()}reconvertMarker(i){const s=typeof i=="string"?i:i.name,c=this.model.markers.get(s);if(!c)throw new z("editingcontroller-reconvertmarker-marker-not-exist",this,{markerName:s});this.model.change((()=>{this.model.markers._refresh(c)}))}reconvertItem(i){this.model.change((()=>{this.model.document.differ._refreshItem(i)}))}}class $f{constructor(){this._consumables=new Map}add(i,s){let c;i.is("$text")||i.is("documentFragment")?this._consumables.set(i,!0):(this._consumables.has(i)?c=this._consumables.get(i):(c=new ZD(i),this._consumables.set(i,c)),c.add(s))}test(i,s){const c=this._consumables.get(i);return c===void 0?null:i.is("$text")||i.is("documentFragment")?c:c.test(s)}consume(i,s){return!!this.test(i,s)&&(i.is("$text")||i.is("documentFragment")?this._consumables.set(i,!1):this._consumables.get(i).consume(s),!0)}revert(i,s){const c=this._consumables.get(i);c!==void 0&&(i.is("$text")||i.is("documentFragment")?this._consumables.set(i,!0):c.revert(s))}static consumablesFromElement(i){const s={element:i,name:!0,attributes:[],classes:[],styles:[]},c=i.getAttributeKeys();for(const w of c)w!="style"&&w!="class"&&s.attributes.push(w);const h=i.getClassNames();for(const w of h)s.classes.push(w);const g=i.getStyleNames();for(const w of g)s.styles.push(w);return s}static createFrom(i,s){if(s||(s=new $f),i.is("$text"))return s.add(i),s;i.is("element")&&s.add(i,$f.consumablesFromElement(i)),i.is("documentFragment")&&s.add(i);for(const c of i.getChildren())s=$f.createFrom(c,s);return s}}const lm=["attributes","classes","styles"];class ZD{constructor(i){this.element=i,this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}add(i){i.name&&(this._canConsumeName=!0);for(const s of lm)s in i&&this._add(s,i[s])}test(i){if(i.name&&!this._canConsumeName)return this._canConsumeName;for(const s of lm)if(s in i){const c=this._test(s,i[s]);if(c!==!0)return c}return!0}consume(i){i.name&&(this._canConsumeName=!1);for(const s of lm)s in i&&this._consume(s,i[s])}revert(i){i.name&&(this._canConsumeName=!0);for(const s of lm)s in i&&this._revert(s,i[s])}_add(i,s){const c=dn(s),h=this._consumables[i];for(const g of c){if(i==="attributes"&&(g==="class"||g==="style"))throw new z("viewconsumable-invalid-attribute",this);if(h.set(g,!0),i==="styles")for(const w of this.element.document.stylesProcessor.getRelatedStyles(g))h.set(w,!0)}}_test(i,s){const c=dn(s),h=this._consumables[i];for(const g of c)if(i!=="attributes"||g!=="class"&&g!=="style"){const w=h.get(g);if(w===void 0)return null;if(!w)return!1}else{const w=g=="class"?"classes":"styles",k=this._test(w,[...this._consumables[w].keys()]);if(k!==!0)return k}return!0}_consume(i,s){const c=dn(s),h=this._consumables[i];for(const g of c)if(i!=="attributes"||g!=="class"&&g!=="style"){if(h.set(g,!1),i=="styles")for(const w of this.element.document.stylesProcessor.getRelatedStyles(g))h.set(w,!1)}else{const w=g=="class"?"classes":"styles";this._consume(w,[...this._consumables[w].keys()])}}_revert(i,s){const c=dn(s),h=this._consumables[i];for(const g of c)if(i!=="attributes"||g!=="class"&&g!=="style")h.get(g)===!1&&h.set(g,!0);else{const w=g=="class"?"classes":"styles";this._revert(w,[...this._consumables[w].keys()])}}}class kx extends et(){constructor(){super(),this._sourceDefinitions={},this._attributeProperties={},this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",((i,s)=>{s[0]=new Il(s[0])}),{priority:"highest"}),this.on("checkChild",((i,s)=>{s[0]=new Il(s[0]),s[1]=this.getDefinition(s[1])}),{priority:"highest"})}register(i,s){if(this._sourceDefinitions[i])throw new z("schema-cannot-register-item-twice",this,{itemName:i});this._sourceDefinitions[i]=[Object.assign({},s)],this._clearCache()}extend(i,s){if(!this._sourceDefinitions[i])throw new z("schema-cannot-extend-missing-item",this,{itemName:i});this._sourceDefinitions[i].push(Object.assign({},s)),this._clearCache()}getDefinitions(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}getDefinition(i){let s;return s=typeof i=="string"?i:"is"in i&&(i.is("$text")||i.is("$textProxy"))?"$text":i.name,this.getDefinitions()[s]}isRegistered(i){return!!this.getDefinition(i)}isBlock(i){const s=this.getDefinition(i);return!(!s||!s.isBlock)}isLimit(i){const s=this.getDefinition(i);return!!s&&!(!s.isLimit&&!s.isObject)}isObject(i){const s=this.getDefinition(i);return!!s&&!!(s.isObject||s.isLimit&&s.isSelectable&&s.isContent)}isInline(i){const s=this.getDefinition(i);return!(!s||!s.isInline)}isSelectable(i){const s=this.getDefinition(i);return!!s&&!(!s.isSelectable&&!s.isObject)}isContent(i){const s=this.getDefinition(i);return!!s&&!(!s.isContent&&!s.isObject)}checkChild(i,s){return!!s&&this._checkContextMatch(s,i)}checkAttribute(i,s){const c=this.getDefinition(i.last);return!!c&&c.allowAttributes.includes(s)}checkMerge(i,s){if(i instanceof He){const c=i.nodeBefore,h=i.nodeAfter;if(!(c instanceof on))throw new z("schema-check-merge-no-element-before",this);if(!(h instanceof on))throw new z("schema-check-merge-no-element-after",this);return this.checkMerge(c,h)}for(const c of s.getChildren())if(!this.checkChild(i,c))return!1;return!0}addChildCheck(i){this.on("checkChild",((s,[c,h])=>{if(!h)return;const g=i(c,h);typeof g=="boolean"&&(s.stop(),s.return=g)}),{priority:"high"})}addAttributeCheck(i){this.on("checkAttribute",((s,[c,h])=>{const g=i(c,h);typeof g=="boolean"&&(s.stop(),s.return=g)}),{priority:"high"})}setAttributeProperties(i,s){this._attributeProperties[i]=Object.assign(this.getAttributeProperties(i),s)}getAttributeProperties(i){return this._attributeProperties[i]||{}}getLimitElement(i){let s;for(i instanceof He?s=i.parent:s=(i instanceof Se?[i]:Array.from(i.getRanges())).reduce(((c,h)=>{const g=h.getCommonAncestor();return c?c.getCommonAncestor(g,{includeSelf:!0}):g}),null);!this.isLimit(s)&&s.parent;)s=s.parent;return s}checkAttributeInSelection(i,s){if(i.isCollapsed){const c=[...i.getFirstPosition().getAncestors(),new It("",i.getAttributes())];return this.checkAttribute(c,s)}{const c=i.getRanges();for(const h of c)for(const g of h)if(this.checkAttribute(g.item,s))return!0}return!1}*getValidRanges(i,s){i=(function*(c){for(const h of c)yield*h.getMinimalFlatRanges()})(i);for(const c of i)yield*this._getValidRangesForRange(c,s)}getNearestSelectionRange(i,s="both"){if(i.root.rootName=="$graveyard")return null;if(this.checkChild(i,"$text"))return new Se(i);let c,h;const g=i.getAncestors().reverse().find((w=>this.isLimit(w)))||i.root;s!="both"&&s!="backward"||(c=new Vs({boundaries:Se._createIn(g),startPosition:i,direction:"backward"})),s!="both"&&s!="forward"||(h=new Vs({boundaries:Se._createIn(g),startPosition:i}));for(const w of(function*(k,_){let R=!1;for(;!R;){if(R=!0,k){const I=k.next();I.done||(R=!1,yield{walker:k,value:I.value})}if(_){const I=_.next();I.done||(R=!1,yield{walker:_,value:I.value})}}})(c,h)){const k=w.walker==c?"elementEnd":"elementStart",_=w.value;if(_.type==k&&this.isObject(_.item))return Se._createOn(_.item);if(this.checkChild(_.nextPosition,"$text"))return new Se(_.nextPosition)}return null}findAllowedParent(i,s){let c=i.parent;for(;c;){if(this.checkChild(c,s))return c;if(this.isLimit(c))return null;c=c.parent}return null}setAllowedAttributes(i,s,c){const h=c.model;for(const[g,w]of Object.entries(s))h.schema.checkAttribute(i,g)&&c.setAttribute(g,w,i)}removeDisallowedAttributes(i,s){for(const c of i)if(c.is("$text"))um(this,c,s);else{const h=Se._createIn(c).getPositions();for(const g of h)um(this,g.nodeBefore||g.parent,s)}}getAttributesWithProperty(i,s,c){const h={};for(const[g,w]of i.getAttributes()){const k=this.getAttributeProperties(g);k[s]!==void 0&&(c!==void 0&&c!==k[s]||(h[g]=w))}return h}createContext(i){return new Il(i)}_clearCache(){this._compiledDefinitions=null}_compile(){const i={},s=this._sourceDefinitions,c=Object.keys(s);for(const h of c)i[h]=rh(s[h],h);for(const h of c)cm(i,h);for(const h of c)xx(i,h);for(const h of c)Ax(i,h);for(const h of c)Sx(i,h),_x(i,h);for(const h of c)Ex(i,h),Dx(i,h),dm(i,h);this._compiledDefinitions=i}_checkContextMatch(i,s,c=s.length-1){const h=s.getItem(c);if(i.allowIn.includes(h.name)){if(c==0)return!0;{const g=this.getDefinition(h);return this._checkContextMatch(g,s,c-1)}}return!1}*_getValidRangesForRange(i,s){let c=i.start,h=i.start;for(const g of i.getItems({shallow:!0}))g.is("element")&&(yield*this._getValidRangesForRange(Se._createIn(g),s)),this.checkAttribute(g,s)||(c.isEqual(h)||(yield new Se(c,h)),c=He._createAfter(g)),h=He._createAfter(g);c.isEqual(h)||(yield new Se(c,h))}findOptimalInsertionRange(i,s){const c=i.getSelectedElement();if(c&&this.isObject(c)&&!this.isInline(c))return s=="before"||s=="after"?new Se(He._createAt(c,s)):Se._createOn(c);const h=sr(i.getSelectedBlocks());if(!h)return new Se(i.focus);if(h.isEmpty)return new Se(He._createAt(h,0));const g=He._createAfter(h);return i.focus.isTouching(g)?new Se(g):new Se(He._createBefore(h))}}class Il{constructor(i){if(i instanceof Il)return i;let s;s=typeof i=="string"?[i]:Array.isArray(i)?i:i.getAncestors({includeSelf:!0}),this._items=s.map(fn)}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(i){const s=new Il([i]);return s._items=[...this._items,...s._items],s}getItem(i){return this._items[i]}*getNames(){yield*this._items.map((i=>i.name))}endsWith(i){return Array.from(this.getNames()).join(" ").endsWith(i)}startsWith(i){return Array.from(this.getNames()).join(" ").startsWith(i)}}function rh(u,i){const s={name:i,allowIn:[],allowContentOf:[],allowWhere:[],allowAttributes:[],allowAttributesOf:[],allowChildren:[],inheritTypesFrom:[]};return(function(c,h){for(const g of c){const w=Object.keys(g).filter((k=>k.startsWith("is")));for(const k of w)h[k]=!!g[k]}})(u,s),Nl(u,s,"allowIn"),Nl(u,s,"allowContentOf"),Nl(u,s,"allowWhere"),Nl(u,s,"allowAttributes"),Nl(u,s,"allowAttributesOf"),Nl(u,s,"allowChildren"),Nl(u,s,"inheritTypesFrom"),(function(c,h){for(const g of c){const w=g.inheritAllFrom;w&&(h.allowContentOf.push(w),h.allowWhere.push(w),h.allowAttributesOf.push(w),h.inheritTypesFrom.push(w))}})(u,s),s}function cm(u,i){const s=u[i];for(const c of s.allowChildren){const h=u[c];h&&h.allowIn.push(i)}s.allowChildren.length=0}function xx(u,i){for(const s of u[i].allowContentOf)u[s]&&Mx(u,s).forEach((c=>{c.allowIn.push(i)}));delete u[i].allowContentOf}function Ax(u,i){for(const s of u[i].allowWhere){const c=u[s];if(c){const h=c.allowIn;u[i].allowIn.push(...h)}}delete u[i].allowWhere}function Sx(u,i){for(const s of u[i].allowAttributesOf){const c=u[s];if(c){const h=c.allowAttributes;u[i].allowAttributes.push(...h)}}delete u[i].allowAttributesOf}function _x(u,i){const s=u[i];for(const c of s.inheritTypesFrom){const h=u[c];if(h){const g=Object.keys(h).filter((w=>w.startsWith("is")));for(const w of g)w in s||(s[w]=h[w])}}delete s.inheritTypesFrom}function Ex(u,i){const s=u[i],c=s.allowIn.filter((h=>u[h]));s.allowIn=Array.from(new Set(c))}function Dx(u,i){const s=u[i];for(const c of s.allowIn)u[c].allowChildren.push(i)}function dm(u,i){const s=u[i];s.allowAttributes=Array.from(new Set(s.allowAttributes))}function Nl(u,i,s){for(const c of u){const h=c[s];typeof h=="string"?i[s].push(h):Array.isArray(h)&&i[s].push(...h)}}function Mx(u,i){const s=u[i];return(c=u,Object.keys(c).map((h=>c[h]))).filter((h=>h.allowIn.includes(s.name)));var c}function fn(u){return typeof u=="string"||u.is("documentFragment")?{name:typeof u=="string"?u:"$documentFragment",*getAttributeKeys(){},getAttribute(){}}:{name:u.is("element")?u.name:"$text",*getAttributeKeys(){yield*u.getAttributeKeys()},getAttribute:i=>u.getAttribute(i)}}function um(u,i,s){for(const c of i.getAttributeKeys())u.checkAttribute(i,c)||s.removeAttribute(c,i)}var XD=Object.defineProperty,Tx=Object.defineProperties,JD=Object.getOwnPropertyDescriptors,Rx=Object.getOwnPropertySymbols,e2=Object.prototype.hasOwnProperty,hm=Object.prototype.propertyIsEnumerable,ed=(u,i,s)=>i in u?XD(u,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):u[i]=s;class uC extends le(){constructor(i){var s;super(),this._splitParts=new Map,this._cursorParents=new Map,this._modelCursor=null,this._emptyElementsToKeep=new Set,this.conversionApi=(s=((c,h)=>{for(var g in h||(h={}))e2.call(h,g)&&ed(c,g,h[g]);if(Rx)for(var g of Rx(h))hm.call(h,g)&&ed(c,g,h[g]);return c})({},i),Tx(s,JD({consumable:null,writer:null,store:null,convertItem:(c,h)=>this._convertItem(c,h),convertChildren:(c,h)=>this._convertChildren(c,h),safeInsert:(c,h)=>this._safeInsert(c,h),updateConversionResult:(c,h)=>this._updateConversionResult(c,h),splitToAllowedParent:(c,h)=>this._splitToAllowedParent(c,h),getSplitParts:c=>this._getSplitParts(c),keepEmptyElement:c=>this._keepEmptyElement(c)})))}convert(i,s,c=["$root"]){this.fire("viewCleanup",i),this._modelCursor=(function(w,k){let _;for(const R of new Il(w)){const I={};for(const H of R.getAttributeKeys())I[H]=R.getAttribute(H);const F=k.createElement(R.name,I);_&&k.insert(F,_),_=He._createAt(F,0)}return _})(c,s),this.conversionApi.writer=s,this.conversionApi.consumable=$f.createFrom(i),this.conversionApi.store={};const{modelRange:h}=this._convertItem(i,this._modelCursor),g=s.createDocumentFragment();if(h){this._removeEmptyElements();for(const w of Array.from(this._modelCursor.parent.getChildren()))s.append(w,g);g.markers=(function(w,k){const _=new Set,R=new Map,I=Se._createIn(w).getItems();for(const F of I)F.is("element","$marker")&&_.add(F);for(const F of _){const H=F.getAttribute("data-name"),G=k.createPositionBefore(F);R.has(H)?R.get(H).end=G.clone():R.set(H,new Se(G.clone())),k.remove(F)}return R})(g,s)}return this._modelCursor=null,this._splitParts.clear(),this._cursorParents.clear(),this._emptyElementsToKeep.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,g}_convertItem(i,s){const c={viewItem:i,modelCursor:s,modelRange:null};if(i.is("element")?this.fire(`element:${i.name}`,c,this.conversionApi):i.is("$text")?this.fire("text",c,this.conversionApi):this.fire("documentFragment",c,this.conversionApi),c.modelRange&&!(c.modelRange instanceof Se))throw new z("view-conversion-dispatcher-incorrect-result",this);return{modelRange:c.modelRange,modelCursor:c.modelCursor}}_convertChildren(i,s){let c=s.is("position")?s:He._createAt(s,0);const h=new Se(c);for(const g of Array.from(i.getChildren())){const w=this._convertItem(g,c);w.modelRange instanceof Se&&(h.end=w.modelRange.end,c=w.modelCursor)}return{modelRange:h,modelCursor:c}}_safeInsert(i,s){const c=this._splitToAllowedParent(i,s);return!!c&&(this.conversionApi.writer.insert(i,c.position),!0)}_updateConversionResult(i,s){const c=this._getSplitParts(i),h=this.conversionApi.writer;s.modelRange||(s.modelRange=h.createRange(h.createPositionBefore(i),h.createPositionAfter(c[c.length-1])));const g=this._cursorParents.get(i);s.modelCursor=g?h.createPositionAt(g,0):s.modelRange.end}_splitToAllowedParent(i,s){const{schema:c,writer:h}=this.conversionApi;let g=c.findAllowedParent(s,i);if(g){if(g===s.parent)return{position:s};this._modelCursor.parent.getAncestors().includes(g)&&(g=null)}if(!g)return om(s,i,c)?{position:sm(s,h)}:null;const w=this.conversionApi.writer.split(s,g),k=[];for(const R of w.range.getWalker())if(R.type=="elementEnd")k.push(R.item);else{const I=k.pop(),F=R.item;this._registerSplitPair(I,F)}const _=w.range.end.parent;return this._cursorParents.set(i,_),{position:w.position,cursorParent:_}}_registerSplitPair(i,s){this._splitParts.has(i)||this._splitParts.set(i,[i]);const c=this._splitParts.get(i);this._splitParts.set(s,c),c.push(s)}_getSplitParts(i){let s;return s=this._splitParts.has(i)?this._splitParts.get(i):[i],s}_keepEmptyElement(i){this._emptyElementsToKeep.add(i)}_removeEmptyElements(){let i=!1;for(const s of this._splitParts.keys())s.isEmpty&&!this._emptyElementsToKeep.has(s)&&(this.conversionApi.writer.remove(s),this._splitParts.delete(s),i=!0);i&&this._removeEmptyElements()}}class fm{getHtml(i){const s=d.document.implementation.createHTMLDocument("").createElement("div");return s.appendChild(i),s.innerHTML}}class hC{constructor(i){this.skipComments=!0,this.domParser=new DOMParser,this.domConverter=new gr(i,{renderingMode:"data"}),this.htmlWriter=new fm}toData(i){const s=this.domConverter.viewToDom(i);return this.htmlWriter.getHtml(s)}toView(i){const s=this._toDom(i);return this.domConverter.domToView(s,{skipComments:this.skipComments})}registerRawContentMatcher(i){this.domConverter.registerRawContentMatcher(i)}useFillerType(i){this.domConverter.blockFillerMode=i=="marked"?"markedNbsp":"nbsp"}_toDom(i){i.match(/<(?:html|body|head|meta)(?:\s[^>]*)?>/i)||(i=`<body>${i}</body>`);const s=this.domParser.parseFromString(i,"text/html"),c=s.createDocumentFragment(),h=s.body.childNodes;for(;h.length>0;)c.appendChild(h[0]);return c}}class Ol extends le(){constructor(i,s){super(),this.model=i,this.mapper=new Gs,this.downcastDispatcher=new Jw({mapper:this.mapper,schema:i.schema}),this.downcastDispatcher.on("insert:$text",((c,h,g)=>{if(!g.consumable.consume(h.item,c.name))return;const w=g.writer,k=g.mapper.toViewPosition(h.range.start),_=w.createText(h.item.data);w.insert(k,_)}),{priority:"lowest"}),this.downcastDispatcher.on("insert",((c,h,g)=>{g.convertAttributes(h.item),h.reconversion||!h.item.is("element")||h.item.isEmpty||g.convertChildren(h.item)}),{priority:"lowest"}),this.upcastDispatcher=new uC({schema:i.schema}),this.viewDocument=new Nf(s),this.stylesProcessor=s,this.htmlProcessor=new hC(this.viewDocument),this.processor=this.htmlProcessor,this._viewWriter=new _w(this.viewDocument),this.upcastDispatcher.on("text",((c,h,{schema:g,consumable:w,writer:k})=>{let _=h.modelCursor;if(!w.test(h.viewItem))return;if(!g.checkChild(_,"$text")){if(!om(_,"$text",g)||h.viewItem.data.trim().length==0)return;const I=_.nodeBefore;_=sm(_,k),I&&I.is("element","$marker")&&(k.move(k.createRangeOn(I),_),_=k.createPositionAfter(I))}w.consume(h.viewItem);const R=k.createText(h.viewItem.data);k.insert(R,_),h.modelRange=k.createRange(_,_.getShiftedBy(R.offsetSize)),h.modelCursor=h.modelRange.end}),{priority:"lowest"}),this.upcastDispatcher.on("element",((c,h,g)=>{if(!h.modelRange&&g.consumable.consume(h.viewItem,{name:!0})){const{modelRange:w,modelCursor:k}=g.convertChildren(h.viewItem,h.modelCursor);h.modelRange=w,h.modelCursor=k}}),{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",((c,h,g)=>{if(!h.modelRange&&g.consumable.consume(h.viewItem,{name:!0})){const{modelRange:w,modelCursor:k}=g.convertChildren(h.viewItem,h.modelCursor);h.modelRange=w,h.modelCursor=k}}),{priority:"lowest"}),et().prototype.decorate.call(this,"init"),et().prototype.decorate.call(this,"set"),et().prototype.decorate.call(this,"get"),et().prototype.decorate.call(this,"toView"),et().prototype.decorate.call(this,"toModel"),this.on("init",(()=>{this.fire("ready")}),{priority:"lowest"}),this.on("ready",(()=>{this.model.enqueueChange({isUndoable:!1},Us)}),{priority:"lowest"})}get(i={}){const{rootName:s="main",trim:c="empty"}=i;if(!this._checkIfRootsExists([s]))throw new z("datacontroller-get-non-existent-root",this);const h=this.model.document.getRoot(s);return h.isAttached()||K("datacontroller-get-detached-root",this),c!=="empty"||this.model.hasContent(h,{ignoreWhitespaces:!0})?this.stringify(h,i):""}stringify(i,s={}){const c=this.toView(i,s);return this.processor.toData(c)}toView(i,s={}){const c=this.viewDocument,h=this._viewWriter;this.mapper.clearBindings();const g=Se._createIn(i),w=new Ta(c);this.mapper.bindElements(i,w);const k=i.is("documentFragment")?i.markers:(function(_){const R=[],I=_.root.document;if(!I)return new Map;const F=Se._createIn(_);for(const H of I.model.markers){const G=H.getRange(),W=G.isCollapsed,Y=G.start.isEqual(F.start)||G.end.isEqual(F.end);if(W&&Y)R.push([H.name,G]);else{const ie=F.getIntersection(G);ie&&R.push([H.name,ie])}}return R.sort((([H,G],[W,Y])=>{if(G.end.compareWith(Y.start)!=="after")return 1;if(G.start.compareWith(Y.end)!=="before")return-1;switch(G.start.compareWith(Y.start)){case"before":return 1;case"after":return-1;default:switch(G.end.compareWith(Y.end)){case"before":return 1;case"after":return-1;default:return W.localeCompare(H)}}})),new Map(R)})(i);return this.downcastDispatcher.convert(g,k,h,s),w}init(i){if(this.model.document.version)throw new z("datacontroller-init-document-not-empty",this);let s={};if(typeof i=="string"?s.main=i:s=i,!this._checkIfRootsExists(Object.keys(s)))throw new z("datacontroller-init-non-existent-root",this);return this.model.enqueueChange({isUndoable:!1},(c=>{for(const h of Object.keys(s)){const g=this.model.document.getRoot(h);c.insert(this.parse(s[h],g),g,0)}})),Promise.resolve()}set(i,s={}){let c={};if(typeof i=="string"?c.main=i:c=i,!this._checkIfRootsExists(Object.keys(c)))throw new z("datacontroller-set-non-existent-root",this);this.model.enqueueChange(s.batchType||{},(h=>{h.setSelection(null),h.removeSelectionAttribute(this.model.document.selection.getAttributeKeys());for(const g of Object.keys(c)){const w=this.model.document.getRoot(g);h.remove(h.createRangeIn(w)),h.insert(this.parse(c[g],w),w,0)}}))}parse(i,s="$root"){const c=this.processor.toView(i);return this.toModel(c,s)}toModel(i,s="$root"){return this.model.change((c=>this.upcastDispatcher.convert(i,c,s)))}addStyleProcessorRules(i){i(this.stylesProcessor)}registerRawContentMatcher(i){this.processor&&this.processor!==this.htmlProcessor&&this.processor.registerRawContentMatcher(i),this.htmlProcessor.registerRawContentMatcher(i)}destroy(){this.stopListening()}_checkIfRootsExists(i){for(const s of i)if(!this.model.document.getRoot(s))return!1;return!0}}class $s{constructor(i,s){this._helpers=new Map,this._downcast=dn(i),this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=dn(s),this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}addAlias(i,s){const c=this._downcast.includes(s);if(!this._upcast.includes(s)&&!c)throw new z("conversion-add-alias-dispatcher-not-registered",this);this._createConversionHelpers({name:i,dispatchers:[s],isDowncast:c})}for(i){if(!this._helpers.has(i))throw new z("conversion-for-unknown-group",this);return this._helpers.get(i)}elementToElement(i){this.for("downcast").elementToElement(i);for(const{model:s,view:c}of td(i))this.for("upcast").elementToElement({model:s,view:c,converterPriority:i.converterPriority})}attributeToElement(i){this.for("downcast").attributeToElement(i);for(const{model:s,view:c}of td(i))this.for("upcast").elementToAttribute({view:c,model:s,converterPriority:i.converterPriority})}attributeToAttribute(i){this.for("downcast").attributeToAttribute(i);for(const{model:s,view:c}of td(i))this.for("upcast").attributeToAttribute({view:c,model:s})}_createConversionHelpers({name:i,dispatchers:s,isDowncast:c}){if(this._helpers.has(i))throw new z("conversion-group-exists",this);const h=c?new Tl(s):new wx(s);this._helpers.set(i,h)}}function*td(u){if(u.model.values)for(const i of u.model.values){const s={key:u.model.key,value:i},c=u.view[i],h=u.upcastAlso?u.upcastAlso[i]:void 0;yield*Px(s,c,h)}else yield*Px(u.model,u.view,u.upcastAlso)}function*Px(u,i,s){if(yield{model:u,view:i},s)for(const c of dn(s))yield{model:u,view:c}}class Fi{constructor(i){this.baseVersion=i,this.isDocumentOperation=this.baseVersion!==null,this.batch=null}_validate(){}toJSON(){const i=Object.assign({},this);return i.__className=this.constructor.className,delete i.batch,delete i.isDocumentOperation,i}static get className(){return"Operation"}static fromJSON(i,s){return new this(i.baseVersion)}}function pm(u,i){const s=Ix(i),c=s.reduce(((w,k)=>w+k.offsetSize),0),h=u.parent;oh(u);const g=u.index;return h._insertChild(g,s),nd(h,g+s.length),nd(h,g),new Se(u,u.getShiftedBy(c))}function fC(u){if(!u.isFlat)throw new z("operation-utils-remove-range-not-flat",this);const i=u.start.parent;oh(u.start),oh(u.end);const s=i._removeChildren(u.start.index,u.end.index-u.start.index);return nd(i,u.start.index),s}function ih(u,i){if(!u.isFlat)throw new z("operation-utils-move-range-not-flat",this);const s=fC(u);return pm(i=i._getTransformedByDeletion(u.start,u.end.offset-u.start.offset),s)}function Ix(u){const i=[];(function s(c){if(typeof c=="string")i.push(new It(c));else if(c instanceof xr)i.push(new It(c.data,c.getAttributes()));else if(c instanceof _l)i.push(c);else if(Kt(c))for(const h of c)s(h)})(u);for(let s=1;s<i.length;s++){const c=i[s],h=i[s-1];c instanceof It&&h instanceof It&&pC(c,h)&&(i.splice(s-1,2,new It(h.data+c.data,h.getAttributes())),s--)}return i}function nd(u,i){const s=u.getChild(i-1),c=u.getChild(i);if(s&&c&&s.is("$text")&&c.is("$text")&&pC(s,c)){const h=new It(s.data+c.data,s.getAttributes());u._removeChildren(i-1,2),u._insertChild(i-1,h)}}function oh(u){const i=u.textNode,s=u.parent;if(i){const c=u.offset-i.startOffset,h=i.index;s._removeChildren(h,1);const g=new It(i.data.substr(0,c),i.getAttributes()),w=new It(i.data.substr(c),i.getAttributes());s._insertChild(h,[g,w])}}function pC(u,i){const s=u.getAttributes(),c=i.getAttributes();for(const h of s){if(h[1]!==i.getAttribute(h[0]))return!1;c.next()}return c.next().done}class Qt extends Fi{constructor(i,s,c,h){super(h),this.sourcePosition=i.clone(),this.sourcePosition.stickiness="toNext",this.howMany=s,this.targetPosition=c.clone(),this.targetPosition.stickiness="toNone"}get type(){return this.targetPosition.root.rootName=="$graveyard"?"remove":this.sourcePosition.root.rootName=="$graveyard"?"reinsert":"move"}get affectedSelectable(){return[Se._createFromPositionAndShift(this.sourcePosition,this.howMany),Se._createFromPositionAndShift(this.targetPosition,0)]}clone(){return new Qt(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const i=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new Qt(this.getMovedRangeStart(),this.howMany,i,this.baseVersion+1)}_validate(){const i=this.sourcePosition.parent,s=this.targetPosition.parent,c=this.sourcePosition.offset,h=this.targetPosition.offset;if(c+this.howMany>i.maxOffset)throw new z("move-operation-nodes-do-not-exist",this);if(i===s&&c<h&&h<c+this.howMany)throw new z("move-operation-range-into-itself",this);if(this.sourcePosition.root==this.targetPosition.root&&bt(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())=="prefix"){const g=this.sourcePosition.path.length-1;if(this.targetPosition.path[g]>=c&&this.targetPosition.path[g]<c+this.howMany)throw new z("move-operation-node-into-itself",this)}}_execute(){ih(Se._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}toJSON(){const i=super.toJSON();return i.sourcePosition=this.sourcePosition.toJSON(),i.targetPosition=this.targetPosition.toJSON(),i}static get className(){return"MoveOperation"}static fromJSON(i,s){const c=He.fromJSON(i.sourcePosition,s),h=He.fromJSON(i.targetPosition,s);return new this(c,i.howMany,h,i.baseVersion)}}class vr extends Fi{constructor(i,s,c){super(c),this.position=i.clone(),this.position.stickiness="toNone",this.nodes=new vn(Ix(s)),this.shouldReceiveAttributes=!1}get type(){return"insert"}get howMany(){return this.nodes.maxOffset}get affectedSelectable(){return this.position.clone()}clone(){const i=new vn([...this.nodes].map((c=>c._clone(!0)))),s=new vr(this.position,i,this.baseVersion);return s.shouldReceiveAttributes=this.shouldReceiveAttributes,s}getReversed(){const i=this.position.root.document.graveyard,s=new He(i,[0]);return new Qt(this.position,this.nodes.maxOffset,s,this.baseVersion+1)}_validate(){const i=this.position.parent;if(!i||i.maxOffset<this.position.offset)throw new z("insert-operation-position-invalid",this)}_execute(){const i=this.nodes;this.nodes=new vn([...i].map((s=>s._clone(!0)))),pm(this.position,i)}toJSON(){const i=super.toJSON();return i.position=this.position.toJSON(),i.nodes=this.nodes.toJSON(),i}static get className(){return"InsertOperation"}static fromJSON(i,s){const c=[];for(const g of i.nodes)g.name?c.push(on.fromJSON(g)):c.push(It.fromJSON(g));const h=new vr(He.fromJSON(i.position,s),c,i.baseVersion);return h.shouldReceiveAttributes=i.shouldReceiveAttributes,h}}class sn extends Fi{constructor(i,s,c,h,g){super(g),this.splitPosition=i.clone(),this.splitPosition.stickiness="toNext",this.howMany=s,this.insertionPosition=c,this.graveyardPosition=h?h.clone():null,this.graveyardPosition&&(this.graveyardPosition.stickiness="toNext")}get type(){return"split"}get moveTargetPosition(){const i=this.insertionPosition.path.slice();return i.push(0),new He(this.insertionPosition.root,i)}get movedRange(){const i=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new Se(this.splitPosition,i)}get affectedSelectable(){const i=[Se._createFromPositionAndShift(this.splitPosition,0),Se._createFromPositionAndShift(this.insertionPosition,0)];return this.graveyardPosition&&i.push(Se._createFromPositionAndShift(this.graveyardPosition,0)),i}clone(){return new sn(this.splitPosition,this.howMany,this.insertionPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const i=this.splitPosition.root.document.graveyard,s=new He(i,[0]);return new Jn(this.moveTargetPosition,this.howMany,this.splitPosition,s,this.baseVersion+1)}_validate(){const i=this.splitPosition.parent,s=this.splitPosition.offset;if(!i||i.maxOffset<s)throw new z("split-operation-position-invalid",this);if(!i.parent)throw new z("split-operation-split-in-root",this);if(this.howMany!=i.maxOffset-this.splitPosition.offset)throw new z("split-operation-how-many-invalid",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new z("split-operation-graveyard-position-invalid",this)}_execute(){const i=this.splitPosition.parent;if(this.graveyardPosition)ih(Se._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{const s=i._clone();pm(this.insertionPosition,s)}ih(new Se(He._createAt(i,this.splitPosition.offset),He._createAt(i,i.maxOffset)),this.moveTargetPosition)}toJSON(){const i=super.toJSON();return i.splitPosition=this.splitPosition.toJSON(),i.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(i.graveyardPosition=this.graveyardPosition.toJSON()),i}static get className(){return"SplitOperation"}static getInsertionPosition(i){const s=i.path.slice(0,-1);return s[s.length-1]++,new He(i.root,s,"toPrevious")}static fromJSON(i,s){const c=He.fromJSON(i.splitPosition,s),h=He.fromJSON(i.insertionPosition,s),g=i.graveyardPosition?He.fromJSON(i.graveyardPosition,s):null;return new this(c,i.howMany,h,g,i.baseVersion)}}class Jn extends Fi{constructor(i,s,c,h,g){super(g),this.sourcePosition=i.clone(),this.sourcePosition.stickiness="toPrevious",this.howMany=s,this.targetPosition=c.clone(),this.targetPosition.stickiness="toNext",this.graveyardPosition=h.clone()}get type(){return"merge"}get deletionPosition(){return new He(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){const i=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new Se(this.sourcePosition,i)}get affectedSelectable(){const i=this.sourcePosition.parent;return[Se._createOn(i),Se._createFromPositionAndShift(this.targetPosition,0),Se._createFromPositionAndShift(this.graveyardPosition,0)]}clone(){return new Jn(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const i=this.targetPosition._getTransformedByMergeOperation(this),s=this.sourcePosition.path.slice(0,-1),c=new He(this.sourcePosition.root,s)._getTransformedByMergeOperation(this);return new sn(i,this.howMany,c,this.graveyardPosition,this.baseVersion+1)}_validate(){const i=this.sourcePosition.parent,s=this.targetPosition.parent;if(!i.parent)throw new z("merge-operation-source-position-invalid",this);if(!s.parent)throw new z("merge-operation-target-position-invalid",this);if(this.howMany!=i.maxOffset)throw new z("merge-operation-how-many-invalid",this)}_execute(){const i=this.sourcePosition.parent;ih(Se._createIn(i),this.targetPosition),ih(Se._createOn(i),this.graveyardPosition)}toJSON(){const i=super.toJSON();return i.sourcePosition=i.sourcePosition.toJSON(),i.targetPosition=i.targetPosition.toJSON(),i.graveyardPosition=i.graveyardPosition.toJSON(),i}static get className(){return"MergeOperation"}static fromJSON(i,s){const c=He.fromJSON(i.sourcePosition,s),h=He.fromJSON(i.targetPosition,s),g=He.fromJSON(i.graveyardPosition,s);return new this(c,i.howMany,h,g,i.baseVersion)}}class Li extends Fi{constructor(i,s,c,h,g,w){super(w),this.name=i,this.oldRange=s?s.clone():null,this.newRange=c?c.clone():null,this.affectsData=g,this._markers=h}get type(){return"marker"}get affectedSelectable(){const i=[];return this.oldRange&&i.push(this.oldRange.clone()),this.newRange&&(this.oldRange?i.push(...this.newRange.getDifference(this.oldRange)):i.push(this.newRange.clone())),i}clone(){return new Li(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new Li(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){this.newRange?this._markers._set(this.name,this.newRange,!0,this.affectsData):this._markers._remove(this.name)}toJSON(){const i=super.toJSON();return this.oldRange&&(i.oldRange=this.oldRange.toJSON()),this.newRange&&(i.newRange=this.newRange.toJSON()),delete i._markers,i}static get className(){return"MarkerOperation"}static fromJSON(i,s){return new Li(i.name,i.oldRange?Se.fromJSON(i.oldRange,s):null,i.newRange?Se.fromJSON(i.newRange,s):null,s.model.markers,i.affectsData,i.baseVersion)}}const sh=function(u,i){return ao(u,i)};class dr extends Fi{constructor(i,s,c,h,g){super(g),this.range=i.clone(),this.key=s,this.oldValue=c===void 0?null:c,this.newValue=h===void 0?null:h}get type(){return this.oldValue===null?"addAttribute":this.newValue===null?"removeAttribute":"changeAttribute"}get affectedSelectable(){return this.range.clone()}clone(){return new dr(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new dr(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){const i=super.toJSON();return i.range=this.range.toJSON(),i}_validate(){if(!this.range.isFlat)throw new z("attribute-operation-range-not-flat",this);for(const i of this.range.getItems({shallow:!0})){if(this.oldValue!==null&&!sh(i.getAttribute(this.key),this.oldValue))throw new z("attribute-operation-wrong-old-value",this,{item:i,key:this.key,value:this.oldValue});if(this.oldValue===null&&this.newValue!==null&&i.hasAttribute(this.key))throw new z("attribute-operation-attribute-exists",this,{node:i,key:this.key})}}_execute(){sh(this.oldValue,this.newValue)||(function(i,s,c){oh(i.start),oh(i.end);for(const h of i.getItems({shallow:!0})){const g=h.is("$textProxy")?h.textNode:h;c!==null?g._setAttribute(s,c):g._removeAttribute(s),nd(g.parent,g.index)}nd(i.end.parent,i.end.index)})(this.range,this.key,this.newValue)}static get className(){return"AttributeOperation"}static fromJSON(i,s){return new dr(Se.fromJSON(i.range,s),i.key,i.oldValue,i.newValue,i.baseVersion)}}class wr extends Fi{get type(){return"noop"}get affectedSelectable(){return null}clone(){return new wr(this.baseVersion)}getReversed(){return new wr(this.baseVersion+1)}_execute(){}static get className(){return"NoOperation"}}class wt extends Fi{constructor(i,s,c,h){super(h),this.position=i,this.position.stickiness="toNext",this.oldName=s,this.newName=c}get type(){return"rename"}get affectedSelectable(){return this.position.nodeAfter}clone(){return new wt(this.position.clone(),this.oldName,this.newName,this.baseVersion)}getReversed(){return new wt(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}_validate(){const i=this.position.nodeAfter;if(!(i instanceof on))throw new z("rename-operation-wrong-position",this);if(i.name!==this.oldName)throw new z("rename-operation-wrong-name",this)}_execute(){this.position.nodeAfter.name=this.newName}toJSON(){const i=super.toJSON();return i.position=this.position.toJSON(),i}static get className(){return"RenameOperation"}static fromJSON(i,s){return new wt(He.fromJSON(i.position,s),i.oldName,i.newName,i.baseVersion)}}class hs extends Fi{constructor(i,s,c,h,g){super(g),this.root=i,this.key=s,this.oldValue=c===void 0?null:c,this.newValue=h===void 0?null:h}get type(){return this.oldValue===null?"addRootAttribute":this.newValue===null?"removeRootAttribute":"changeRootAttribute"}get affectedSelectable(){return this.root}clone(){return new hs(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new hs(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new z("rootattribute-operation-not-a-root",this,{root:this.root,key:this.key});if(this.oldValue!==null&&this.root.getAttribute(this.key)!==this.oldValue)throw new z("rootattribute-operation-wrong-old-value",this,{root:this.root,key:this.key});if(this.oldValue===null&&this.newValue!==null&&this.root.hasAttribute(this.key))throw new z("rootattribute-operation-attribute-exists",this,{root:this.root,key:this.key})}_execute(){this.newValue!==null?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}toJSON(){const i=super.toJSON();return i.root=this.root.toJSON(),i}static get className(){return"RootAttributeOperation"}static fromJSON(i,s){if(!s.getRoot(i.root))throw new z("rootattribute-operation-fromjson-no-root",this,{rootName:i.root});return new hs(s.getRoot(i.root),i.key,i.oldValue,i.newValue,i.baseVersion)}}class ho extends Fi{constructor(i,s,c,h,g){super(g),this.rootName=i,this.elementName=s,this.isAdd=c,this._document=h,!this._document.getRoot(this.rootName)&&(this._document.createRoot(this.elementName,this.rootName)._isAttached=!1)}get type(){return this.isAdd?"addRoot":"detachRoot"}get affectedSelectable(){return this._document.getRoot(this.rootName)}clone(){return new ho(this.rootName,this.elementName,this.isAdd,this._document,this.baseVersion)}getReversed(){return new ho(this.rootName,this.elementName,!this.isAdd,this._document,this.baseVersion+1)}_execute(){this._document.getRoot(this.rootName)._isAttached=this.isAdd}toJSON(){const i=super.toJSON();return delete i._document,i}static get className(){return"RootOperation"}static fromJSON(i,s){return new ho(i.rootName,i.elementName,i.isAdd,s,i.baseVersion)}}const Bi={};Bi[dr.className]=dr,Bi[vr.className]=vr,Bi[Li.className]=Li,Bi[Qt.className]=Qt,Bi[wr.className]=wr,Bi[Fi.className]=Fi,Bi[wt.className]=wt,Bi[hs.className]=hs,Bi[ho.className]=ho,Bi[sn.className]=sn,Bi[Jn.className]=Jn;class Nx{static fromJSON(i,s){return Bi[i.__className].fromJSON(i,s)}}const qf=new Map;function Ft(u,i,s){let c=qf.get(u);c||(c=new Map,qf.set(u,c)),c.set(i,s)}function gm(u){return[u]}function Ox(u,i,s={}){const c=(function(h,g){const w=qf.get(h);return w&&w.has(g)?w.get(g):gm})(u.constructor,i.constructor);try{return c(u=u.clone(),i,s)}catch(h){throw h}}function Fx(u,i,s){u=u.slice(),i=i.slice();const c=new t2(s.document,s.useRelations,s.forceWeakRemove);c.setOriginalOperations(u),c.setOriginalOperations(i);const h=c.originalOperations;if(u.length==0||i.length==0)return{operationsA:u,operationsB:i,originalOperations:h};const g=new WeakMap;for(const _ of u)g.set(_,0);const w={nextBaseVersionA:u[u.length-1].baseVersion+1,nextBaseVersionB:i[i.length-1].baseVersion+1,originalOperationsACount:u.length,originalOperationsBCount:i.length};let k=0;for(;k<u.length;){const _=u[k],R=g.get(_);if(R==i.length){k++;continue}const I=i[R],F=Ox(_,I,c.getContext(_,I,!0)),H=Ox(I,_,c.getContext(I,_,!1));c.updateRelation(_,I),c.setOriginalOperations(F,_),c.setOriginalOperations(H,I);for(const G of F)g.set(G,R+H.length);u.splice(k,1,...F),i.splice(R,1,...H)}return Lx(u,w.nextBaseVersionB),Lx(i,w.nextBaseVersionA),{operationsA:u,operationsB:i,originalOperations:h}}class t2{constructor(i,s,c=!1){this.originalOperations=new Map,this._history=i.history,this._useRelations=s,this._forceWeakRemove=!!c,this._relations=new Map}setOriginalOperations(i,s=null){const c=s?this.originalOperations.get(s):null;for(const h of i)this.originalOperations.set(h,c||h)}updateRelation(i,s){if(i instanceof Qt)s instanceof Jn?i.targetPosition.isEqual(s.sourcePosition)||s.movedRange.containsPosition(i.targetPosition)?this._setRelation(i,s,"insertAtSource"):i.targetPosition.isEqual(s.deletionPosition)?this._setRelation(i,s,"insertBetween"):i.targetPosition.isAfter(s.sourcePosition)&&this._setRelation(i,s,"moveTargetAfter"):s instanceof Qt&&(i.targetPosition.isEqual(s.sourcePosition)||i.targetPosition.isBefore(s.sourcePosition)?this._setRelation(i,s,"insertBefore"):this._setRelation(i,s,"insertAfter"));else if(i instanceof sn){if(s instanceof Jn)i.splitPosition.isBefore(s.sourcePosition)&&this._setRelation(i,s,"splitBefore");else if(s instanceof Qt)if(i.splitPosition.isEqual(s.sourcePosition)||i.splitPosition.isBefore(s.sourcePosition))this._setRelation(i,s,"splitBefore");else{const c=Se._createFromPositionAndShift(s.sourcePosition,s.howMany);if(i.splitPosition.hasSameParentAs(s.sourcePosition)&&c.containsPosition(i.splitPosition)){const h=c.end.offset-i.splitPosition.offset,g=i.splitPosition.offset-c.start.offset;this._setRelation(i,s,{howMany:h,offset:g})}}}else if(i instanceof Jn)s instanceof Jn?(i.targetPosition.isEqual(s.sourcePosition)||this._setRelation(i,s,"mergeTargetNotMoved"),i.sourcePosition.isEqual(s.targetPosition)&&this._setRelation(i,s,"mergeSourceNotMoved"),i.sourcePosition.isEqual(s.sourcePosition)&&this._setRelation(i,s,"mergeSameElement")):s instanceof sn?i.sourcePosition.isEqual(s.splitPosition)&&this._setRelation(i,s,"splitAtSource"):s instanceof Qt&&s.howMany>0&&(i.sourcePosition.isEqual(s.sourcePosition.getShiftedBy(s.howMany))&&this._setRelation(i,s,"mergeSourceAffected"),i.targetPosition.isEqual(s.sourcePosition)&&this._setRelation(i,s,"mergeTargetWasBefore"));else if(i instanceof Li){const c=i.newRange;if(!c)return;if(s instanceof Qt){const h=Se._createFromPositionAndShift(s.sourcePosition,s.howMany),g=h.containsPosition(c.start)||h.start.isEqual(c.start),w=h.containsPosition(c.end)||h.end.isEqual(c.end);!g&&!w||h.containsRange(c)||this._setRelation(i,s,{side:g?"left":"right",path:g?c.start.path.slice():c.end.path.slice()})}else if(s instanceof Jn){const h=c.start.isEqual(s.targetPosition),g=c.start.isEqual(s.deletionPosition),w=c.end.isEqual(s.deletionPosition),k=c.end.isEqual(s.sourcePosition);(h||g||w||k)&&this._setRelation(i,s,{wasInLeftElement:h,wasStartBeforeMergedElement:g,wasEndBeforeMergedElement:w,wasInRightElement:k})}}}getContext(i,s,c){return{aIsStrong:c,aWasUndone:this._wasUndone(i),bWasUndone:this._wasUndone(s),abRelation:this._useRelations?this._getRelation(i,s):null,baRelation:this._useRelations?this._getRelation(s,i):null,forceWeakRemove:this._forceWeakRemove}}_wasUndone(i){const s=this.originalOperations.get(i);return s.wasUndone||this._history.isUndoneOperation(s)}_getRelation(i,s){const c=this.originalOperations.get(s),h=this._history.getUndoneOperation(c);if(!h)return null;const g=this.originalOperations.get(i),w=this._relations.get(g);return w&&w.get(h)||null}_setRelation(i,s,c){const h=this.originalOperations.get(i),g=this.originalOperations.get(s);let w=this._relations.get(h);w||(w=new Map,this._relations.set(h,w)),w.set(g,c)}}function Lx(u,i){for(const s of u)s.baseVersion=i++}function gC(u,i,s){const c=u.nodes.getNode(0).getAttribute(i);if(c==s)return null;const h=new Se(u.position,u.position.getShiftedBy(u.howMany));return new dr(h,i,c,s,0)}function mC(u,i){return u.targetPosition._getTransformedByDeletion(i.sourcePosition,i.howMany)===null}function Zt(u,i){const s=[];for(let c=0;c<u.length;c++){const h=u[c],g=new Qt(h.start,h.end.offset-h.start.offset,i,0);s.push(g);for(let w=c+1;w<u.length;w++)u[w]=u[w]._getTransformedByMove(g.sourcePosition,g.targetPosition,g.howMany)[0];i=i._getTransformedByMove(g.sourcePosition,g.targetPosition,g.howMany)}return s}Ft(dr,dr,((u,i,s)=>{if(u.key===i.key&&u.range.start.hasSameParentAs(i.range.start)){const c=u.range.getDifference(i.range).map((g=>new dr(g,u.key,u.oldValue,u.newValue,0))),h=u.range.getIntersection(i.range);return h&&s.aIsStrong&&c.push(new dr(h,i.key,i.newValue,u.newValue,0)),c.length==0?[new wr(0)]:c}return[u]})),Ft(dr,vr,((u,i)=>{if(u.range.start.hasSameParentAs(i.position)&&u.range.containsPosition(i.position)){const s=u.range._getTransformedByInsertion(i.position,i.howMany,!i.shouldReceiveAttributes).map((c=>new dr(c,u.key,u.oldValue,u.newValue,u.baseVersion)));if(i.shouldReceiveAttributes){const c=gC(i,u.key,u.oldValue);c&&s.unshift(c)}return s}return u.range=u.range._getTransformedByInsertion(i.position,i.howMany,!1)[0],[u]})),Ft(dr,Jn,((u,i)=>{const s=[];u.range.start.hasSameParentAs(i.deletionPosition)&&(u.range.containsPosition(i.deletionPosition)||u.range.start.isEqual(i.deletionPosition))&&s.push(Se._createFromPositionAndShift(i.graveyardPosition,1));const c=u.range._getTransformedByMergeOperation(i);return c.isCollapsed||s.push(c),s.map((h=>new dr(h,u.key,u.oldValue,u.newValue,u.baseVersion)))})),Ft(dr,Qt,((u,i)=>(function(c,h){const g=Se._createFromPositionAndShift(h.sourcePosition,h.howMany);let w=null,k=[];g.containsRange(c,!0)?w=c:c.start.hasSameParentAs(g.start)?(k=c.getDifference(g),w=c.getIntersection(g)):k=[c];const _=[];for(let R of k){R=R._getTransformedByDeletion(h.sourcePosition,h.howMany);const I=h.getMovedRangeStart(),F=R.start.hasSameParentAs(I),H=R._getTransformedByInsertion(I,h.howMany,F);_.push(...H)}return w&&_.push(w._getTransformedByMove(h.sourcePosition,h.targetPosition,h.howMany,!1)[0]),_})(u.range,i).map((c=>new dr(c,u.key,u.oldValue,u.newValue,u.baseVersion))))),Ft(dr,sn,((u,i)=>{if(u.range.end.isEqual(i.insertionPosition))return i.graveyardPosition||u.range.end.offset++,[u];if(u.range.start.hasSameParentAs(i.splitPosition)&&u.range.containsPosition(i.splitPosition)){const s=u.clone();return s.range=new Se(i.moveTargetPosition.clone(),u.range.end._getCombined(i.splitPosition,i.moveTargetPosition)),u.range.end=i.splitPosition.clone(),u.range.end.stickiness="toPrevious",[u,s]}return u.range=u.range._getTransformedBySplitOperation(i),[u]})),Ft(vr,dr,((u,i)=>{const s=[u];if(u.shouldReceiveAttributes&&u.position.hasSameParentAs(i.range.start)&&i.range.containsPosition(u.position)){const c=gC(u,i.key,i.newValue);c&&s.push(c)}return s})),Ft(vr,vr,((u,i,s)=>(u.position.isEqual(i.position)&&s.aIsStrong||(u.position=u.position._getTransformedByInsertOperation(i)),[u]))),Ft(vr,Qt,((u,i)=>(u.position=u.position._getTransformedByMoveOperation(i),[u]))),Ft(vr,sn,((u,i)=>(u.position=u.position._getTransformedBySplitOperation(i),[u]))),Ft(vr,Jn,((u,i)=>(u.position=u.position._getTransformedByMergeOperation(i),[u]))),Ft(Li,vr,((u,i)=>(u.oldRange&&(u.oldRange=u.oldRange._getTransformedByInsertOperation(i)[0]),u.newRange&&(u.newRange=u.newRange._getTransformedByInsertOperation(i)[0]),[u]))),Ft(Li,Li,((u,i,s)=>{if(u.name==i.name){if(!s.aIsStrong)return[new wr(0)];u.oldRange=i.newRange?i.newRange.clone():null}return[u]})),Ft(Li,Jn,((u,i)=>(u.oldRange&&(u.oldRange=u.oldRange._getTransformedByMergeOperation(i)),u.newRange&&(u.newRange=u.newRange._getTransformedByMergeOperation(i)),[u]))),Ft(Li,Qt,((u,i,s)=>{if(u.oldRange&&(u.oldRange=Se._createFromRanges(u.oldRange._getTransformedByMoveOperation(i))),u.newRange){if(s.abRelation){const c=Se._createFromRanges(u.newRange._getTransformedByMoveOperation(i));if(s.abRelation.side=="left"&&i.targetPosition.isEqual(u.newRange.start))return u.newRange.end=c.end,u.newRange.start.path=s.abRelation.path,[u];if(s.abRelation.side=="right"&&i.targetPosition.isEqual(u.newRange.end))return u.newRange.start=c.start,u.newRange.end.path=s.abRelation.path,[u]}u.newRange=Se._createFromRanges(u.newRange._getTransformedByMoveOperation(i))}return[u]})),Ft(Li,sn,((u,i,s)=>{if(u.oldRange&&(u.oldRange=u.oldRange._getTransformedBySplitOperation(i)),u.newRange){if(s.abRelation){const c=u.newRange._getTransformedBySplitOperation(i);return u.newRange.start.isEqual(i.splitPosition)&&s.abRelation.wasStartBeforeMergedElement?u.newRange.start=He._createAt(i.insertionPosition):u.newRange.start.isEqual(i.splitPosition)&&!s.abRelation.wasInLeftElement&&(u.newRange.start=He._createAt(i.moveTargetPosition)),u.newRange.end.isEqual(i.splitPosition)&&s.abRelation.wasInRightElement?u.newRange.end=He._createAt(i.moveTargetPosition):u.newRange.end.isEqual(i.splitPosition)&&s.abRelation.wasEndBeforeMergedElement?u.newRange.end=He._createAt(i.insertionPosition):u.newRange.end=c.end,[u]}u.newRange=u.newRange._getTransformedBySplitOperation(i)}return[u]})),Ft(Jn,vr,((u,i)=>(u.sourcePosition.hasSameParentAs(i.position)&&(u.howMany+=i.howMany),u.sourcePosition=u.sourcePosition._getTransformedByInsertOperation(i),u.targetPosition=u.targetPosition._getTransformedByInsertOperation(i),[u]))),Ft(Jn,Jn,((u,i,s)=>{if(u.sourcePosition.isEqual(i.sourcePosition)&&u.targetPosition.isEqual(i.targetPosition)){if(s.bWasUndone){const c=i.graveyardPosition.path.slice();return c.push(0),u.sourcePosition=new He(i.graveyardPosition.root,c),u.howMany=0,[u]}return[new wr(0)]}if(u.sourcePosition.isEqual(i.sourcePosition)&&!u.targetPosition.isEqual(i.targetPosition)&&!s.bWasUndone&&s.abRelation!="splitAtSource"){const c=u.targetPosition.root.rootName=="$graveyard",h=i.targetPosition.root.rootName=="$graveyard";if(h&&!c||!(c&&!h)&&s.aIsStrong){const g=i.targetPosition._getTransformedByMergeOperation(i),w=u.targetPosition._getTransformedByMergeOperation(i);return[new Qt(g,u.howMany,w,0)]}return[new wr(0)]}return u.sourcePosition.hasSameParentAs(i.targetPosition)&&(u.howMany+=i.howMany),u.sourcePosition=u.sourcePosition._getTransformedByMergeOperation(i),u.targetPosition=u.targetPosition._getTransformedByMergeOperation(i),u.graveyardPosition.isEqual(i.graveyardPosition)&&s.aIsStrong||(u.graveyardPosition=u.graveyardPosition._getTransformedByMergeOperation(i)),[u]})),Ft(Jn,Qt,((u,i,s)=>{const c=Se._createFromPositionAndShift(i.sourcePosition,i.howMany);return i.type=="remove"&&!s.bWasUndone&&!s.forceWeakRemove&&u.deletionPosition.hasSameParentAs(i.sourcePosition)&&c.containsPosition(u.sourcePosition)?[new wr(0)]:(i.sourcePosition.getShiftedBy(i.howMany).isEqual(u.sourcePosition)?u.sourcePosition.stickiness="toNone":i.targetPosition.isEqual(u.sourcePosition)&&s.abRelation=="mergeSourceAffected"?u.sourcePosition.stickiness="toNext":i.sourcePosition.isEqual(u.targetPosition)?(u.targetPosition.stickiness="toNone",u.howMany-=i.howMany):i.targetPosition.isEqual(u.targetPosition)&&s.abRelation=="mergeTargetWasBefore"?(u.targetPosition.stickiness="toPrevious",u.howMany+=i.howMany):(u.sourcePosition.hasSameParentAs(i.targetPosition)&&(u.howMany+=i.howMany),u.sourcePosition.hasSameParentAs(i.sourcePosition)&&(u.howMany-=i.howMany)),u.sourcePosition=u.sourcePosition._getTransformedByMoveOperation(i),u.targetPosition=u.targetPosition._getTransformedByMoveOperation(i),u.sourcePosition.stickiness="toPrevious",u.targetPosition.stickiness="toNext",u.graveyardPosition.isEqual(i.targetPosition)||(u.graveyardPosition=u.graveyardPosition._getTransformedByMoveOperation(i)),[u])})),Ft(Jn,sn,((u,i,s)=>{if(i.graveyardPosition&&(u.graveyardPosition=u.graveyardPosition._getTransformedByDeletion(i.graveyardPosition,1),u.deletionPosition.isEqual(i.graveyardPosition)&&(u.howMany=i.howMany)),u.targetPosition.isEqual(i.splitPosition)){const c=i.howMany!=0,h=i.graveyardPosition&&u.deletionPosition.isEqual(i.graveyardPosition);if(c||h||s.abRelation=="mergeTargetNotMoved")return u.sourcePosition=u.sourcePosition._getTransformedBySplitOperation(i),[u]}if(u.sourcePosition.isEqual(i.splitPosition)){if(s.abRelation=="mergeSourceNotMoved")return u.howMany=0,u.targetPosition=u.targetPosition._getTransformedBySplitOperation(i),[u];if(s.abRelation=="mergeSameElement"||u.sourcePosition.offset>0)return u.sourcePosition=i.moveTargetPosition.clone(),u.targetPosition=u.targetPosition._getTransformedBySplitOperation(i),[u]}return u.sourcePosition.hasSameParentAs(i.splitPosition)&&(u.howMany=i.splitPosition.offset),u.sourcePosition=u.sourcePosition._getTransformedBySplitOperation(i),u.targetPosition=u.targetPosition._getTransformedBySplitOperation(i),[u]})),Ft(Qt,vr,((u,i)=>{const s=Se._createFromPositionAndShift(u.sourcePosition,u.howMany)._getTransformedByInsertOperation(i,!1)[0];return u.sourcePosition=s.start,u.howMany=s.end.offset-s.start.offset,u.targetPosition.isEqual(i.position)||(u.targetPosition=u.targetPosition._getTransformedByInsertOperation(i)),[u]})),Ft(Qt,Qt,((u,i,s)=>{const c=Se._createFromPositionAndShift(u.sourcePosition,u.howMany),h=Se._createFromPositionAndShift(i.sourcePosition,i.howMany);let g,w=s.aIsStrong,k=!s.aIsStrong;if(s.abRelation=="insertBefore"||s.baRelation=="insertAfter"?k=!0:s.abRelation!="insertAfter"&&s.baRelation!="insertBefore"||(k=!1),g=u.targetPosition.isEqual(i.targetPosition)&&k?u.targetPosition._getTransformedByDeletion(i.sourcePosition,i.howMany):u.targetPosition._getTransformedByMove(i.sourcePosition,i.targetPosition,i.howMany),mC(u,i)&&mC(i,u))return[i.getReversed()];if(c.containsPosition(i.targetPosition)&&c.containsRange(h,!0))return c.start=c.start._getTransformedByMove(i.sourcePosition,i.targetPosition,i.howMany),c.end=c.end._getTransformedByMove(i.sourcePosition,i.targetPosition,i.howMany),Zt([c],g);if(h.containsPosition(u.targetPosition)&&h.containsRange(c,!0))return c.start=c.start._getCombined(i.sourcePosition,i.getMovedRangeStart()),c.end=c.end._getCombined(i.sourcePosition,i.getMovedRangeStart()),Zt([c],g);const _=bt(u.sourcePosition.getParentPath(),i.sourcePosition.getParentPath());if(_=="prefix"||_=="extension")return c.start=c.start._getTransformedByMove(i.sourcePosition,i.targetPosition,i.howMany),c.end=c.end._getTransformedByMove(i.sourcePosition,i.targetPosition,i.howMany),Zt([c],g);u.type!="remove"||i.type=="remove"||s.aWasUndone||s.forceWeakRemove?u.type=="remove"||i.type!="remove"||s.bWasUndone||s.forceWeakRemove||(w=!1):w=!0;const R=[],I=c.getDifference(h);for(const H of I){H.start=H.start._getTransformedByDeletion(i.sourcePosition,i.howMany),H.end=H.end._getTransformedByDeletion(i.sourcePosition,i.howMany);const G=bt(H.start.getParentPath(),i.getMovedRangeStart().getParentPath())=="same",W=H._getTransformedByInsertion(i.getMovedRangeStart(),i.howMany,G);R.push(...W)}const F=c.getIntersection(h);return F!==null&&w&&(F.start=F.start._getCombined(i.sourcePosition,i.getMovedRangeStart()),F.end=F.end._getCombined(i.sourcePosition,i.getMovedRangeStart()),R.length===0?R.push(F):R.length==1?h.start.isBefore(c.start)||h.start.isEqual(c.start)?R.unshift(F):R.push(F):R.splice(1,0,F)),R.length===0?[new wr(u.baseVersion)]:Zt(R,g)})),Ft(Qt,sn,((u,i,s)=>{let c=u.targetPosition.clone();u.targetPosition.isEqual(i.insertionPosition)&&i.graveyardPosition&&s.abRelation!="moveTargetAfter"||(c=u.targetPosition._getTransformedBySplitOperation(i));const h=Se._createFromPositionAndShift(u.sourcePosition,u.howMany);if(h.end.isEqual(i.insertionPosition))return i.graveyardPosition||u.howMany++,u.targetPosition=c,[u];if(h.start.hasSameParentAs(i.splitPosition)&&h.containsPosition(i.splitPosition)){let w=new Se(i.splitPosition,h.end);return w=w._getTransformedBySplitOperation(i),Zt([new Se(h.start,i.splitPosition),w],c)}u.targetPosition.isEqual(i.splitPosition)&&s.abRelation=="insertAtSource"&&(c=i.moveTargetPosition),u.targetPosition.isEqual(i.insertionPosition)&&s.abRelation=="insertBetween"&&(c=u.targetPosition);const g=[h._getTransformedBySplitOperation(i)];if(i.graveyardPosition){const w=h.start.isEqual(i.graveyardPosition)||h.containsPosition(i.graveyardPosition);u.howMany>1&&w&&!s.aWasUndone&&g.push(Se._createFromPositionAndShift(i.insertionPosition,1))}return Zt(g,c)})),Ft(Qt,Jn,((u,i,s)=>{const c=Se._createFromPositionAndShift(u.sourcePosition,u.howMany);if(i.deletionPosition.hasSameParentAs(u.sourcePosition)&&c.containsPosition(i.sourcePosition)){if(u.type!="remove"||s.forceWeakRemove){if(u.howMany==1)return s.bWasUndone?(u.sourcePosition=i.graveyardPosition.clone(),u.targetPosition=u.targetPosition._getTransformedByMergeOperation(i),[u]):[new wr(0)]}else if(!s.aWasUndone){const g=[];let w=i.graveyardPosition.clone(),k=i.targetPosition._getTransformedByMergeOperation(i);u.howMany>1&&(g.push(new Qt(u.sourcePosition,u.howMany-1,u.targetPosition,0)),w=w._getTransformedByMove(u.sourcePosition,u.targetPosition,u.howMany-1),k=k._getTransformedByMove(u.sourcePosition,u.targetPosition,u.howMany-1));const _=i.deletionPosition._getCombined(u.sourcePosition,u.targetPosition),R=new Qt(w,1,_,0),I=R.getMovedRangeStart().path.slice();I.push(0);const F=new He(R.targetPosition.root,I);k=k._getTransformedByMove(w,_,1);const H=new Qt(k,i.howMany,F,0);return g.push(R),g.push(H),g}}const h=Se._createFromPositionAndShift(u.sourcePosition,u.howMany)._getTransformedByMergeOperation(i);return u.sourcePosition=h.start,u.howMany=h.end.offset-h.start.offset,u.targetPosition=u.targetPosition._getTransformedByMergeOperation(i),[u]})),Ft(wt,vr,((u,i)=>(u.position=u.position._getTransformedByInsertOperation(i),[u]))),Ft(wt,Jn,((u,i)=>u.position.isEqual(i.deletionPosition)?(u.position=i.graveyardPosition.clone(),u.position.stickiness="toNext",[u]):(u.position=u.position._getTransformedByMergeOperation(i),[u]))),Ft(wt,Qt,((u,i)=>(u.position=u.position._getTransformedByMoveOperation(i),[u]))),Ft(wt,wt,((u,i,s)=>{if(u.position.isEqual(i.position)){if(!s.aIsStrong)return[new wr(0)];u.oldName=i.newName}return[u]})),Ft(wt,sn,((u,i)=>{if(bt(u.position.path,i.splitPosition.getParentPath())=="same"&&!i.graveyardPosition){const s=new wt(u.position.getShiftedBy(1),u.oldName,u.newName,0);return[u,s]}return u.position=u.position._getTransformedBySplitOperation(i),[u]})),Ft(hs,hs,((u,i,s)=>{if(u.root===i.root&&u.key===i.key){if(!s.aIsStrong||u.newValue===i.newValue)return[new wr(0)];u.oldValue=i.newValue}return[u]})),Ft(ho,ho,((u,i)=>u.rootName===i.rootName&&u.isAdd===i.isAdd?[new wr(0)]:[u])),Ft(sn,vr,((u,i)=>(u.splitPosition.hasSameParentAs(i.position)&&u.splitPosition.offset<i.position.offset&&(u.howMany+=i.howMany),u.splitPosition=u.splitPosition._getTransformedByInsertOperation(i),u.insertionPosition=u.insertionPosition._getTransformedByInsertOperation(i),[u]))),Ft(sn,Jn,((u,i,s)=>{if(!u.graveyardPosition&&!s.bWasUndone&&u.splitPosition.hasSameParentAs(i.sourcePosition)){const c=i.graveyardPosition.path.slice();c.push(0);const h=new He(i.graveyardPosition.root,c),g=sn.getInsertionPosition(new He(i.graveyardPosition.root,c)),w=new sn(h,0,g,null,0);return u.splitPosition=u.splitPosition._getTransformedByMergeOperation(i),u.insertionPosition=sn.getInsertionPosition(u.splitPosition),u.graveyardPosition=w.insertionPosition.clone(),u.graveyardPosition.stickiness="toNext",[w,u]}return u.splitPosition.hasSameParentAs(i.deletionPosition)&&!u.splitPosition.isAfter(i.deletionPosition)&&u.howMany--,u.splitPosition.hasSameParentAs(i.targetPosition)&&(u.howMany+=i.howMany),u.splitPosition=u.splitPosition._getTransformedByMergeOperation(i),u.insertionPosition=sn.getInsertionPosition(u.splitPosition),u.graveyardPosition&&(u.graveyardPosition=u.graveyardPosition._getTransformedByMergeOperation(i)),[u]})),Ft(sn,Qt,((u,i,s)=>{const c=Se._createFromPositionAndShift(i.sourcePosition,i.howMany);if(u.graveyardPosition){const g=c.start.isEqual(u.graveyardPosition)||c.containsPosition(u.graveyardPosition);if(!s.bWasUndone&&g){const w=u.splitPosition._getTransformedByMoveOperation(i),k=u.graveyardPosition._getTransformedByMoveOperation(i),_=k.path.slice();_.push(0);const R=new He(k.root,_);return[new Qt(w,u.howMany,R,0)]}u.graveyardPosition=u.graveyardPosition._getTransformedByMoveOperation(i)}const h=u.splitPosition.isEqual(i.targetPosition);if(h&&(s.baRelation=="insertAtSource"||s.abRelation=="splitBefore"))return u.howMany+=i.howMany,u.splitPosition=u.splitPosition._getTransformedByDeletion(i.sourcePosition,i.howMany),u.insertionPosition=sn.getInsertionPosition(u.splitPosition),[u];if(h&&s.abRelation&&s.abRelation.howMany){const{howMany:g,offset:w}=s.abRelation;return u.howMany+=g,u.splitPosition=u.splitPosition.getShiftedBy(w),[u]}if(u.splitPosition.hasSameParentAs(i.sourcePosition)&&c.containsPosition(u.splitPosition)){const g=i.howMany-(u.splitPosition.offset-i.sourcePosition.offset);return u.howMany-=g,u.splitPosition.hasSameParentAs(i.targetPosition)&&u.splitPosition.offset<i.targetPosition.offset&&(u.howMany+=i.howMany),u.splitPosition=i.sourcePosition.clone(),u.insertionPosition=sn.getInsertionPosition(u.splitPosition),[u]}return i.sourcePosition.isEqual(i.targetPosition)||(u.splitPosition.hasSameParentAs(i.sourcePosition)&&u.splitPosition.offset<=i.sourcePosition.offset&&(u.howMany-=i.howMany),u.splitPosition.hasSameParentAs(i.targetPosition)&&u.splitPosition.offset<i.targetPosition.offset&&(u.howMany+=i.howMany)),u.splitPosition.stickiness="toNone",u.splitPosition=u.splitPosition._getTransformedByMoveOperation(i),u.splitPosition.stickiness="toNext",u.graveyardPosition?u.insertionPosition=u.insertionPosition._getTransformedByMoveOperation(i):u.insertionPosition=sn.getInsertionPosition(u.splitPosition),[u]})),Ft(sn,sn,((u,i,s)=>{if(u.splitPosition.isEqual(i.splitPosition)){if(!u.graveyardPosition&&!i.graveyardPosition)return[new wr(0)];if(u.graveyardPosition&&i.graveyardPosition&&u.graveyardPosition.isEqual(i.graveyardPosition))return[new wr(0)];if(s.abRelation=="splitBefore")return u.howMany=0,u.graveyardPosition=u.graveyardPosition._getTransformedBySplitOperation(i),[u]}if(u.graveyardPosition&&i.graveyardPosition&&u.graveyardPosition.isEqual(i.graveyardPosition)){const c=u.splitPosition.root.rootName=="$graveyard",h=i.splitPosition.root.rootName=="$graveyard";if(h&&!c||!(c&&!h)&&s.aIsStrong){const g=[];return i.howMany&&g.push(new Qt(i.moveTargetPosition,i.howMany,i.splitPosition,0)),u.howMany&&g.push(new Qt(u.splitPosition,u.howMany,u.moveTargetPosition,0)),g}return[new wr(0)]}if(u.graveyardPosition&&(u.graveyardPosition=u.graveyardPosition._getTransformedBySplitOperation(i)),u.splitPosition.isEqual(i.insertionPosition)&&s.abRelation=="splitBefore")return u.howMany++,[u];if(i.splitPosition.isEqual(u.insertionPosition)&&s.baRelation=="splitBefore"){const c=i.insertionPosition.path.slice();c.push(0);const h=new He(i.insertionPosition.root,c);return[u,new Qt(u.insertionPosition,1,h,0)]}return u.splitPosition.hasSameParentAs(i.splitPosition)&&u.splitPosition.offset<i.splitPosition.offset&&(u.howMany-=i.howMany),u.splitPosition=u.splitPosition._getTransformedBySplitOperation(i),u.insertionPosition=sn.getInsertionPosition(u.splitPosition),[u]}));class Ar extends le(He){constructor(i,s,c="toNone"){if(super(i,s,c),!this.root.is("rootElement"))throw new z("model-liveposition-root-not-rootelement",i);Hr.call(this)}detach(){this.stopListening()}toPosition(){return new He(this.root,this.path.slice(),this.stickiness)}static fromPosition(i,s){return new this(i.root,i.path.slice(),s||i.stickiness)}}function Hr(){this.listenTo(this.root.document.model,"applyOperation",((u,i)=>{const s=i[0];s.isDocumentOperation&&n2.call(this,s)}),{priority:"low"})}function n2(u){const i=this.getTransformedByOperation(u);if(!this.isEqual(i)){const s=this.toPosition();this.path=i.path,this.root=i.root,this.fire("change",s)}}Ar.prototype.is=function(u){return u==="livePosition"||u==="model:livePosition"||u=="position"||u==="model:position"};class rd{constructor(i={}){typeof i=="string"&&(i=i==="transparent"?{isUndoable:!1}:{},K("batch-constructor-deprecated-string-type"));const{isUndoable:s=!0,isLocal:c=!0,isUndo:h=!1,isTyping:g=!1}=i;this.operations=[],this.isUndoable=s,this.isLocal=c,this.isUndo=h,this.isTyping=g}get type(){return K("batch-type-deprecated"),"default"}get baseVersion(){for(const i of this.operations)if(i.baseVersion!==null)return i.baseVersion;return null}addOperation(i){return i.batch=this,this.operations.push(i),i}}var r2=Object.defineProperty,bC=Object.defineProperties,vC=Object.getOwnPropertyDescriptors,Kf=Object.getOwnPropertySymbols,Bx=Object.prototype.hasOwnProperty,jx=Object.prototype.propertyIsEnumerable,mm=(u,i,s)=>i in u?r2(u,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):u[i]=s,bm=(u,i)=>{for(var s in i||(i={}))Bx.call(i,s)&&mm(u,s,i[s]);if(Kf)for(var s of Kf(i))jx.call(i,s)&&mm(u,s,i[s]);return u};class i2{constructor(i){this._changesInElement=new Map,this._elementSnapshots=new Map,this._changedMarkers=new Map,this._changedRoots=new Map,this._changeCount=0,this._cachedChanges=null,this._cachedChangesWithGraveyard=null,this._refreshedItems=new Set,this._markerCollection=i}get isEmpty(){return this._changesInElement.size==0&&this._changedMarkers.size==0&&this._changedRoots.size==0}bufferOperation(i){const s=i;switch(s.type){case"insert":if(this._isInInsertedElement(s.position.parent))return;this._markInsert(s.position.parent,s.position.offset,s.nodes.maxOffset);break;case"addAttribute":case"removeAttribute":case"changeAttribute":for(const c of s.range.getItems({shallow:!0}))this._isInInsertedElement(c.parent)||this._markAttribute(c);break;case"remove":case"move":case"reinsert":{if(s.sourcePosition.isEqual(s.targetPosition)||s.sourcePosition.getShiftedBy(s.howMany).isEqual(s.targetPosition))return;const c=this._isInInsertedElement(s.sourcePosition.parent),h=this._isInInsertedElement(s.targetPosition.parent);c||this._markRemove(s.sourcePosition.parent,s.sourcePosition.offset,s.howMany),h||this._markInsert(s.targetPosition.parent,s.getMovedRangeStart().offset,s.howMany);break}case"rename":{if(this._isInInsertedElement(s.position.parent))return;this._markRemove(s.position.parent,s.position.offset,1),this._markInsert(s.position.parent,s.position.offset,1);const c=Se._createFromPositionAndShift(s.position,1);for(const h of this._markerCollection.getMarkersIntersectingRange(c)){const g=h.getData();this.bufferMarkerChange(h.name,g,g)}break}case"split":{const c=s.splitPosition.parent;this._isInInsertedElement(c)||this._markRemove(c,s.splitPosition.offset,s.howMany),this._isInInsertedElement(s.insertionPosition.parent)||this._markInsert(s.insertionPosition.parent,s.insertionPosition.offset,1),s.graveyardPosition&&this._markRemove(s.graveyardPosition.parent,s.graveyardPosition.offset,1);break}case"merge":{const c=s.sourcePosition.parent;this._isInInsertedElement(c.parent)||this._markRemove(c.parent,c.startOffset,1);const h=s.graveyardPosition.parent;this._markInsert(h,s.graveyardPosition.offset,1);const g=s.targetPosition.parent;this._isInInsertedElement(g)||this._markInsert(g,s.targetPosition.offset,c.maxOffset);break}case"detachRoot":case"addRoot":{const c=s.affectedSelectable;if(!c._isLoaded||c.isAttached()==s.isAdd)return;this._bufferRootStateChange(s.rootName,s.isAdd);break}case"addRootAttribute":case"removeRootAttribute":case"changeRootAttribute":{if(!s.root._isLoaded)return;const c=s.root.rootName;this._bufferRootAttributeChange(c,s.key,s.oldValue,s.newValue);break}}this._cachedChanges=null}bufferMarkerChange(i,s,c){s.range&&s.range.root.is("rootElement")&&!s.range.root._isLoaded&&(s.range=null),c.range&&c.range.root.is("rootElement")&&!c.range.root._isLoaded&&(c.range=null);let h=this._changedMarkers.get(i);h?h.newMarkerData=c:(h={newMarkerData:c,oldMarkerData:s},this._changedMarkers.set(i,h)),h.oldMarkerData.range==null&&c.range==null&&this._changedMarkers.delete(i)}getMarkersToRemove(){const i=[];for(const[s,c]of this._changedMarkers)c.oldMarkerData.range!=null&&i.push({name:s,range:c.oldMarkerData.range});return i}getMarkersToAdd(){const i=[];for(const[s,c]of this._changedMarkers)c.newMarkerData.range!=null&&i.push({name:s,range:c.newMarkerData.range});return i}getChangedMarkers(){return Array.from(this._changedMarkers).map((([i,s])=>({name:i,data:{oldRange:s.oldMarkerData.range,newRange:s.newMarkerData.range}})))}hasDataChanges(){if(this.getChanges().length||this._changedRoots.size>0)return!0;for(const{newMarkerData:i,oldMarkerData:s}of this._changedMarkers.values()){if(i.affectsData!==s.affectsData)return!0;if(i.affectsData){const c=i.range&&!s.range,h=!i.range&&s.range,g=i.range&&s.range&&!i.range.isEqual(s.range);if(c||h||g)return!0}}return!1}getChanges(i={}){if(this._cachedChanges)return i.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();let s=[];for(const c of this._changesInElement.keys()){const h=this._changesInElement.get(c).sort(((I,F)=>I.offset===F.offset?I.type!=F.type?I.type=="remove"?-1:1:0:I.offset<F.offset?-1:1)),g=this._elementSnapshots.get(c),w=wC(c.getChildren()),k=o2(g.length,h);let _=0,R=0;for(const I of k)if(I==="i")s.push(this._getInsertDiff(c,_,w[_])),_++;else if(I==="r")s.push(this._getRemoveDiff(c,_,g[R])),R++;else if(I==="a"){const F=w[_].attributes,H=g[R].attributes;let G;if(w[_].name=="$text")G=new Se(He._createAt(c,_),He._createAt(c,_+1));else{const W=c.offsetToIndex(_);G=new Se(He._createAt(c,_),He._createAt(c.getChild(W),0))}s.push(...this._getAttributesDiff(G,H,F)),_++,R++}else _++,R++}s.sort(((c,h)=>c.position.root!=h.position.root?c.position.root.rootName<h.position.root.rootName?-1:1:c.position.isEqual(h.position)?c.changeCount-h.changeCount:c.position.isBefore(h.position)?-1:1));for(let c=1,h=0;c<s.length;c++){const g=s[h],w=s[c],k=g.type=="remove"&&w.type=="remove"&&g.name=="$text"&&w.name=="$text"&&g.position.isEqual(w.position),_=g.type=="insert"&&w.type=="insert"&&g.name=="$text"&&w.name=="$text"&&g.position.parent==w.position.parent&&g.position.offset+g.length==w.position.offset,R=g.type=="attribute"&&w.type=="attribute"&&g.position.parent==w.position.parent&&g.range.isFlat&&w.range.isFlat&&g.position.offset+g.length==w.position.offset&&g.attributeKey==w.attributeKey&&g.attributeOldValue==w.attributeOldValue&&g.attributeNewValue==w.attributeNewValue;k||_||R?(g.length++,R&&(g.range.end=g.range.end.getShiftedBy(1)),s[c]=null):h=c}s=s.filter((c=>c));for(const c of s)delete c.changeCount,c.type=="attribute"&&(delete c.position,delete c.length);return this._changeCount=0,this._cachedChangesWithGraveyard=s,this._cachedChanges=s.filter(zx),i.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice()}getChangedRoots(){return Array.from(this._changedRoots.values()).map((i=>{const s=bm({},i);return s.state!==void 0&&delete s.attributes,s}))}getRefreshedItems(){return new Set(this._refreshedItems)}reset(){this._changesInElement.clear(),this._elementSnapshots.clear(),this._changedMarkers.clear(),this._changedRoots.clear(),this._refreshedItems=new Set,this._cachedChanges=null}_bufferRootStateChange(i,s){if(!this._changedRoots.has(i))return void this._changedRoots.set(i,{name:i,state:s?"attached":"detached"});const c=this._changedRoots.get(i);c.state!==void 0?(delete c.state,c.attributes===void 0&&this._changedRoots.delete(i)):c.state=s?"attached":"detached"}_bufferRootAttributeChange(i,s,c,h){const g=this._changedRoots.get(i)||{name:i},w=g.attributes||{};if(w[s]){const k=w[s];h===k.oldValue?delete w[s]:k.newValue=h}else w[s]={oldValue:c,newValue:h};Object.entries(w).length===0?(delete g.attributes,g.state===void 0&&this._changedRoots.delete(i)):(g.attributes=w,this._changedRoots.set(i,g))}_refreshItem(i){if(this._isInInsertedElement(i.parent))return;this._markRemove(i.parent,i.startOffset,i.offsetSize),this._markInsert(i.parent,i.startOffset,i.offsetSize),this._refreshedItems.add(i);const s=Se._createOn(i);for(const c of this._markerCollection.getMarkersIntersectingRange(s)){const h=c.getData();this.bufferMarkerChange(c.name,h,h)}this._cachedChanges=null}_bufferRootLoad(i){if(i.isAttached()){this._bufferRootStateChange(i.rootName,!0),this._markInsert(i,0,i.maxOffset);for(const c of i.getAttributeKeys())this._bufferRootAttributeChange(i.rootName,c,null,i.getAttribute(c));for(const c of this._markerCollection)if(c.getRange().root==i){const h=c.getData();this.bufferMarkerChange(c.name,(s=bm({},h),bC(s,vC({range:null}))),h)}var s}}_markInsert(i,s,c){if(i.root.is("rootElement")&&!i.root._isLoaded)return;const h={type:"insert",offset:s,howMany:c,count:this._changeCount++};this._markChange(i,h)}_markRemove(i,s,c){if(i.root.is("rootElement")&&!i.root._isLoaded)return;const h={type:"remove",offset:s,howMany:c,count:this._changeCount++};this._markChange(i,h),this._removeAllNestedChanges(i,s,c)}_markAttribute(i){if(i.root.is("rootElement")&&!i.root._isLoaded)return;const s={type:"attribute",offset:i.startOffset,howMany:i.offsetSize,count:this._changeCount++};this._markChange(i.parent,s)}_markChange(i,s){this._makeSnapshot(i);const c=this._getChangesForElement(i);this._handleChange(s,c),c.push(s);for(let h=0;h<c.length;h++)c[h].howMany<1&&(c.splice(h,1),h--)}_getChangesForElement(i){let s;return this._changesInElement.has(i)?s=this._changesInElement.get(i):(s=[],this._changesInElement.set(i,s)),s}_makeSnapshot(i){this._elementSnapshots.has(i)||this._elementSnapshots.set(i,wC(i.getChildren()))}_handleChange(i,s){i.nodesToHandle=i.howMany;for(const c of s){const h=i.offset+i.howMany,g=c.offset+c.howMany;if(i.type=="insert"&&(c.type=="insert"&&(i.offset<=c.offset?c.offset+=i.howMany:i.offset<g&&(c.howMany+=i.nodesToHandle,i.nodesToHandle=0)),c.type=="remove"&&i.offset<c.offset&&(c.offset+=i.howMany),c.type=="attribute")){if(i.offset<=c.offset)c.offset+=i.howMany;else if(i.offset<g){const w=c.howMany;c.howMany=i.offset-c.offset,s.unshift({type:"attribute",offset:h,howMany:w-c.howMany,count:this._changeCount++})}}if(i.type=="remove"){if(c.type=="insert"){if(h<=c.offset)c.offset-=i.howMany;else if(h<=g)if(i.offset<c.offset){const w=h-c.offset;c.offset=i.offset,c.howMany-=w,i.nodesToHandle-=w}else c.howMany-=i.nodesToHandle,i.nodesToHandle=0;else if(i.offset<=c.offset)i.nodesToHandle-=c.howMany,c.howMany=0;else if(i.offset<g){const w=g-i.offset;c.howMany-=w,i.nodesToHandle-=w}}if(c.type=="remove"&&(h<=c.offset?c.offset-=i.howMany:i.offset<c.offset&&(i.nodesToHandle+=c.howMany,c.howMany=0)),c.type=="attribute"){if(h<=c.offset)c.offset-=i.howMany;else if(i.offset<c.offset){const w=h-c.offset;c.offset=i.offset,c.howMany-=w}else if(i.offset<g)if(h<=g){const w=c.howMany;c.howMany=i.offset-c.offset;const k=w-c.howMany-i.nodesToHandle;s.unshift({type:"attribute",offset:i.offset,howMany:k,count:this._changeCount++})}else c.howMany-=g-i.offset}}if(i.type=="attribute"){if(c.type=="insert")if(i.offset<c.offset&&h>c.offset){if(h>g){const w={type:"attribute",offset:g,howMany:h-g,count:this._changeCount++};this._handleChange(w,s),s.push(w)}i.nodesToHandle=c.offset-i.offset,i.howMany=i.nodesToHandle}else i.offset>=c.offset&&i.offset<g&&(h>g?(i.nodesToHandle=h-g,i.offset=g):i.nodesToHandle=0);if(c.type=="remove"&&i.offset<c.offset&&h>c.offset){const w={type:"attribute",offset:c.offset,howMany:h-c.offset,count:this._changeCount++};this._handleChange(w,s),s.push(w),i.nodesToHandle=c.offset-i.offset,i.howMany=i.nodesToHandle}c.type=="attribute"&&(i.offset>=c.offset&&h<=g?(i.nodesToHandle=0,i.howMany=0,i.offset=0):i.offset<=c.offset&&h>=g&&(c.howMany=0))}}i.howMany=i.nodesToHandle,delete i.nodesToHandle}_getInsertDiff(i,s,c){return{type:"insert",position:He._createAt(i,s),name:c.name,attributes:new Map(c.attributes),length:1,changeCount:this._changeCount++,_element:c.element}}_getRemoveDiff(i,s,c){return{type:"remove",position:He._createAt(i,s),name:c.name,attributes:new Map(c.attributes),length:1,changeCount:this._changeCount++,_element:c.element}}_getAttributesDiff(i,s,c){const h=[];c=new Map(c);for(const[g,w]of s){const k=c.has(g)?c.get(g):null;k!==w&&h.push({type:"attribute",position:i.start,range:i.clone(),length:1,attributeKey:g,attributeOldValue:w,attributeNewValue:k,changeCount:this._changeCount++}),c.delete(g)}for(const[g,w]of c)h.push({type:"attribute",position:i.start,range:i.clone(),length:1,attributeKey:g,attributeOldValue:null,attributeNewValue:w,changeCount:this._changeCount++});return h}_isInInsertedElement(i){const s=i.parent;if(!s)return!1;const c=this._changesInElement.get(s),h=i.startOffset;if(c){for(const g of c)if(g.type=="insert"&&h>=g.offset&&h<g.offset+g.howMany)return!0}return this._isInInsertedElement(s)}_removeAllNestedChanges(i,s,c){const h=new Se(He._createAt(i,s),He._createAt(i,s+c));for(const g of h.getItems({shallow:!0}))g.is("element")&&(this._elementSnapshots.delete(g),this._changesInElement.delete(g),this._removeAllNestedChanges(g,0,g.maxOffset))}}function wC(u){const i=[];for(const s of u)if(s.is("$text"))for(let c=0;c<s.data.length;c++)i.push({name:"$text",attributes:new Map(s.getAttributes())});else i.push({name:s.name,attributes:new Map(s.getAttributes()),element:s});return i}function o2(u,i){const s=[];let c=0,h=0;for(const g of i){if(g.offset>c){for(let w=0;w<g.offset-c;w++)s.push("e");h+=g.offset-c}if(g.type=="insert"){for(let w=0;w<g.howMany;w++)s.push("i");c=g.offset+g.howMany}else if(g.type=="remove"){for(let w=0;w<g.howMany;w++)s.push("r");c=g.offset,h+=g.howMany}else s.push(..."a".repeat(g.howMany).split("")),c=g.offset+g.howMany,h+=g.howMany}if(h<u)for(let g=0;g<u-h-c;g++)s.push("e");return s}function zx(u){const i="position"in u&&u.position.root.rootName=="$graveyard",s="range"in u&&u.range.root.rootName=="$graveyard";return!i&&!s}class s2{constructor(){this._operations=[],this._undoPairs=new Map,this._undoneOperations=new Set,this._baseVersionToOperationIndex=new Map,this._version=0,this._gaps=new Map}get version(){return this._version}set version(i){this._operations.length&&i>this._version+1&&this._gaps.set(this._version,i),this._version=i}get lastOperation(){return this._operations[this._operations.length-1]}addOperation(i){if(i.baseVersion!==this.version)throw new z("model-document-history-addoperation-incorrect-version",this,{operation:i,historyVersion:this.version});this._operations.push(i),this._version++,this._baseVersionToOperationIndex.set(i.baseVersion,this._operations.length-1)}getOperations(i,s=this.version){if(!this._operations.length)return[];const c=this._operations[0];i===void 0&&(i=c.baseVersion);let h=s-1;for(const[k,_]of this._gaps)i>k&&i<_&&(i=_),h>k&&h<_&&(h=k-1);if(h<c.baseVersion||i>this.lastOperation.baseVersion)return[];let g=this._baseVersionToOperationIndex.get(i);g===void 0&&(g=0);let w=this._baseVersionToOperationIndex.get(h);return w===void 0&&(w=this._operations.length-1),this._operations.slice(g,w+1)}getOperation(i){const s=this._baseVersionToOperationIndex.get(i);if(s!==void 0)return this._operations[s]}setOperationAsUndone(i,s){this._undoPairs.set(s,i),this._undoneOperations.add(i)}isUndoingOperation(i){return this._undoPairs.has(i)}isUndoneOperation(i){return this._undoneOperations.has(i)}getUndoneOperation(i){return this._undoPairs.get(i)}reset(){this._version=0,this._undoPairs=new Map,this._operations=[],this._undoneOperations=new Set,this._gaps=new Map,this._baseVersionToOperationIndex=new Map}}class vm extends on{constructor(i,s,c="main"){super(s),this._isAttached=!0,this._isLoaded=!0,this._document=i,this.rootName=c}get document(){return this._document}isAttached(){return this._isAttached}toJSON(){return this.rootName}}vm.prototype.is=function(u,i){return i?i===this.name&&(u==="rootElement"||u==="model:rootElement"||u==="element"||u==="model:element"):u==="rootElement"||u==="model:rootElement"||u==="element"||u==="model:element"||u==="node"||u==="model:node"};var Fl=Object.defineProperty,Hx=Object.defineProperties,Vx=Object.getOwnPropertyDescriptors,wm=Object.getOwnPropertySymbols,a2=Object.prototype.hasOwnProperty,l2=Object.prototype.propertyIsEnumerable,CC=(u,i,s)=>i in u?Fl(u,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):u[i]=s,Cm=(u,i)=>{for(var s in i||(i={}))a2.call(i,s)&&CC(u,s,i[s]);if(wm)for(var s of wm(i))l2.call(i,s)&&CC(u,s,i[s]);return u},ym=(u,i)=>Hx(u,Vx(i));const Gx="$graveyard";class Lo extends le(){constructor(i){super(),this.model=i,this.history=new s2,this.selection=new ni(this),this.roots=new An({idProperty:"rootName"}),this.differ=new i2(i.markers),this.isReadOnly=!1,this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root",Gx),this.listenTo(i,"applyOperation",((s,c)=>{const h=c[0];h.isDocumentOperation&&this.differ.bufferOperation(h)}),{priority:"high"}),this.listenTo(i,"applyOperation",((s,c)=>{const h=c[0];h.isDocumentOperation&&this.history.addOperation(h)}),{priority:"low"}),this.listenTo(this.selection,"change",(()=>{this._hasSelectionChangedFromTheLastChangeBlock=!0})),this.listenTo(i.markers,"update",((s,c,h,g,w)=>{const k=ym(Cm({},c.getData()),{range:g});this.differ.bufferMarkerChange(c.name,w,k),h===null&&c.on("change",((_,R)=>{const I=c.getData();this.differ.bufferMarkerChange(c.name,ym(Cm({},I),{range:R}),I)}))})),this.registerPostFixer((s=>{let c=!1;for(const h of this.roots)h.isAttached()||h.isEmpty||(s.remove(s.createRangeIn(h)),c=!0);for(const h of this.model.markers)h.getRange().root.isAttached()||(s.removeMarker(h),c=!0);return c}))}get version(){return this.history.version}set version(i){this.history.version=i}get graveyard(){return this.getRoot(Gx)}createRoot(i="$root",s="main"){if(this.roots.get(s))throw new z("model-document-createroot-name-exists",this,{name:s});const c=new vm(this,i,s);return this.roots.add(c),c}destroy(){this.selection.destroy(),this.stopListening()}getRoot(i="main"){return this.roots.get(i)}getRootNames(i=!1){return this.getRoots(i).map((s=>s.rootName))}getRoots(i=!1){return this.roots.filter((s=>s!=this.graveyard&&(i||s.isAttached())&&s._isLoaded))}registerPostFixer(i){this._postFixers.add(i)}toJSON(){const i=zs(this);return i.selection="[engine.model.DocumentSelection]",i.model="[engine.model.Model]",i}_handleChangeBlock(i){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(i),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",i.batch):this.fire("change",i.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}_hasDocumentChangedFromTheLastChangeBlock(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}_getDefaultRoot(){const i=this.getRoots();return i.length?i[0]:this.graveyard}_getDefaultRange(){const i=this._getDefaultRoot(),s=this.model,c=s.schema,h=s.createPositionFromPath(i,[0]);return c.getNearestSelectionRange(h)||s.createRange(h)}_validateSelectionRange(i){return km(i.start)&&km(i.end)}_callPostFixers(i){let s=!1;do for(const c of this._postFixers)if(this.selection.refresh(),s=c(i),s)break;while(s)}}function km(u){const i=u.textNode;if(i){const s=i.data,c=u.offset-i.startOffset;return!Xn(s,c)&&!Sf(s,c)}return!0}var Ux=Object.defineProperty,Wx=Object.defineProperties,$x=Object.getOwnPropertyDescriptors,ah=Object.getOwnPropertySymbols,Bo=Object.prototype.hasOwnProperty,qx=Object.prototype.propertyIsEnumerable,Yf=(u,i,s)=>i in u?Ux(u,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):u[i]=s;class Ba extends le(){constructor(){super(...arguments),this._markers=new Map}[Symbol.iterator](){return this._markers.values()}has(i){const s=i instanceof lh?i.name:i;return this._markers.has(s)}get(i){return this._markers.get(i)||null}_set(i,s,c=!1,h=!1){const g=i instanceof lh?i.name:i;if(g.includes(","))throw new z("markercollection-incorrect-marker-name",this);const w=this._markers.get(g);if(w){const I=w.getData(),F=w.getRange();let H=!1;return F.isEqual(s)||(w._attachLiveRange(xt.fromRange(s)),H=!0),c!=w.managedUsingOperations&&(w._managedUsingOperations=c,H=!0),typeof h=="boolean"&&h!=w.affectsData&&(w._affectsData=h,H=!0),H&&this.fire(`update:${g}`,w,F,s,I),w}const k=xt.fromRange(s),_=new lh(g,k,c,h);var R;return this._markers.set(g,_),this.fire(`update:${g}`,_,null,s,(R=((I,F)=>{for(var H in F||(F={}))Bo.call(F,H)&&Yf(I,H,F[H]);if(ah)for(var H of ah(F))qx.call(F,H)&&Yf(I,H,F[H]);return I})({},_.getData()),Wx(R,$x({range:null})))),_}_remove(i){const s=i instanceof lh?i.name:i,c=this._markers.get(s);return!!c&&(this._markers.delete(s),this.fire(`update:${s}`,c,c.getRange(),null,c.getData()),this._destroyMarker(c),!0)}_refresh(i){const s=i instanceof lh?i.name:i,c=this._markers.get(s);if(!c)throw new z("markercollection-refresh-marker-not-exists",this);const h=c.getRange();this.fire(`update:${s}`,c,h,h,c.getData())}*getMarkersAtPosition(i){for(const s of this)s.getRange().containsPosition(i)&&(yield s)}*getMarkersIntersectingRange(i){for(const s of this)s.getRange().getIntersection(i)!==null&&(yield s)}destroy(){for(const i of this._markers.values())this._destroyMarker(i);this._markers=null,this.stopListening()}*getMarkersGroup(i){for(const s of this._markers.values())s.name.startsWith(i+":")&&(yield s)}_destroyMarker(i){i.stopListening(),i._detachLiveRange()}}class lh extends le(Fa){constructor(i,s,c,h){super(),this.name=i,this._liveRange=this._attachLiveRange(s),this._managedUsingOperations=c,this._affectsData=h}get managedUsingOperations(){if(!this._liveRange)throw new z("marker-destroyed",this);return this._managedUsingOperations}get affectsData(){if(!this._liveRange)throw new z("marker-destroyed",this);return this._affectsData}getData(){return{range:this.getRange(),affectsData:this.affectsData,managedUsingOperations:this.managedUsingOperations}}getStart(){if(!this._liveRange)throw new z("marker-destroyed",this);return this._liveRange.start.clone()}getEnd(){if(!this._liveRange)throw new z("marker-destroyed",this);return this._liveRange.end.clone()}getRange(){if(!this._liveRange)throw new z("marker-destroyed",this);return this._liveRange.toRange()}_attachLiveRange(i){return this._liveRange&&this._detachLiveRange(),i.delegate("change:range").to(this),i.delegate("change:content").to(this),this._liveRange=i,i}_detachLiveRange(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}lh.prototype.is=function(u){return u==="marker"||u==="model:marker"};class c2 extends Fi{constructor(i,s){super(null),this.sourcePosition=i.clone(),this.howMany=s}get type(){return"detach"}get affectedSelectable(){return null}toJSON(){const i=super.toJSON();return i.sourcePosition=this.sourcePosition.toJSON(),i}_validate(){if(this.sourcePosition.root.document)throw new z("detach-operation-on-document-node",this)}_execute(){fC(Se._createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return"DetachOperation"}}class ji extends Fa{constructor(i){super(),this.markers=new Map,this._children=new vn,i&&this._insertChild(0,i)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}get nextSibling(){return null}get previousSibling(){return null}get root(){return this}get parent(){return null}get document(){return null}isAttached(){return!1}getAncestors(){return[]}getChild(i){return this._children.getNode(i)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(i){return this._children.getNodeIndex(i)}getChildStartOffset(i){return this._children.getNodeStartOffset(i)}getPath(){return[]}getNodeByPath(i){let s=this;for(const c of i)s=s.getChild(s.offsetToIndex(c));return s}offsetToIndex(i){return this._children.offsetToIndex(i)}toJSON(){const i=[];for(const s of this._children)i.push(s.toJSON());return i}static fromJSON(i){const s=[];for(const c of i)c.name?s.push(on.fromJSON(c)):s.push(It.fromJSON(c));return new ji(s)}_appendChild(i){this._insertChild(this.childCount,i)}_insertChild(i,s){const c=(function(h){return typeof h=="string"?[new It(h)]:(Kt(h)||(h=[h]),Array.from(h).map((g=>typeof g=="string"?new It(g):g instanceof xr?new It(g.data,g.getAttributes()):g)))})(s);for(const h of c)h.parent!==null&&h._remove(),h.parent=this;this._children._insertNodes(i,c)}_removeChildren(i,s=1){const c=this._children._removeNodes(i,s);for(const h of c)h.parent=null;return c}}ji.prototype.is=function(u){return u==="documentFragment"||u==="model:documentFragment"};class Kx{constructor(i,s){this.model=i,this.batch=s}createText(i,s){return new It(i,s)}createElement(i,s){return new on(i,s)}createDocumentFragment(){return new ji}cloneElement(i,s=!0){return i._clone(s)}insert(i,s,c=0){if(this._assertWriterUsedCorrectly(),i instanceof It&&i.data=="")return;const h=He._createAt(s,c);if(i.parent){if(Zx(i.root,h.root))return void this.move(Se._createOn(i),h);if(i.root.document)throw new z("model-writer-insert-forbidden-move",this);this.remove(i)}const g=h.root.document?h.root.document.version:null,w=new vr(h,i,g);if(i instanceof It&&(w.shouldReceiveAttributes=!0),this.batch.addOperation(w),this.model.applyOperation(w),i instanceof ji)for(const[k,_]of i.markers){const R=He._createAt(_.root,0),I={range:new Se(_.start._getCombined(R,h),_.end._getCombined(R,h)),usingOperation:!0,affectsData:!0};this.model.markers.has(k)?this.updateMarker(k,I):this.addMarker(k,I)}}insertText(i,s,c,h){s instanceof ji||s instanceof on||s instanceof He?this.insert(this.createText(i),s,c):this.insert(this.createText(i,s),c,h)}insertElement(i,s,c,h){s instanceof ji||s instanceof on||s instanceof He?this.insert(this.createElement(i),s,c):this.insert(this.createElement(i,s),c,h)}append(i,s){this.insert(i,s,"end")}appendText(i,s,c){s instanceof ji||s instanceof on?this.insert(this.createText(i),s,"end"):this.insert(this.createText(i,s),c,"end")}appendElement(i,s,c){s instanceof ji||s instanceof on?this.insert(this.createElement(i),s,"end"):this.insert(this.createElement(i,s),c,"end")}setAttribute(i,s,c){if(this._assertWriterUsedCorrectly(),c instanceof Se){const h=c.getMinimalFlatRanges();for(const g of h)Yx(this,i,s,g)}else Qx(this,i,s,c)}setAttributes(i,s){for(const[c,h]of Ns(i))this.setAttribute(c,h,s)}removeAttribute(i,s){if(this._assertWriterUsedCorrectly(),s instanceof Se){const c=s.getMinimalFlatRanges();for(const h of c)Yx(this,i,null,h)}else Qx(this,i,null,s)}clearAttributes(i){this._assertWriterUsedCorrectly();const s=c=>{for(const h of c.getAttributeKeys())this.removeAttribute(h,c)};if(i instanceof Se)for(const c of i.getItems())s(c);else s(i)}move(i,s,c){if(this._assertWriterUsedCorrectly(),!(i instanceof Se))throw new z("writer-move-invalid-range",this);if(!i.isFlat)throw new z("writer-move-range-not-flat",this);const h=He._createAt(s,c);if(h.isEqual(i.start))return;if(this._addOperationForAffectedMarkers("move",i),!Zx(i.root,h.root))throw new z("writer-move-different-document",this);const g=i.root.document?i.root.document.version:null,w=new Qt(i.start,i.end.offset-i.start.offset,h,g);this.batch.addOperation(w),this.model.applyOperation(w)}remove(i){this._assertWriterUsedCorrectly();const s=(i instanceof Se?i:Se._createOn(i)).getMinimalFlatRanges().reverse();for(const c of s)this._addOperationForAffectedMarkers("move",c),d2(c.start,c.end.offset-c.start.offset,this.batch,this.model)}merge(i){this._assertWriterUsedCorrectly();const s=i.nodeBefore,c=i.nodeAfter;if(this._addOperationForAffectedMarkers("merge",i),!(s instanceof on))throw new z("writer-merge-no-element-before",this);if(!(c instanceof on))throw new z("writer-merge-no-element-after",this);i.root.document?this._merge(i):this._mergeDetached(i)}createPositionFromPath(i,s,c){return this.model.createPositionFromPath(i,s,c)}createPositionAt(i,s){return this.model.createPositionAt(i,s)}createPositionAfter(i){return this.model.createPositionAfter(i)}createPositionBefore(i){return this.model.createPositionBefore(i)}createRange(i,s){return this.model.createRange(i,s)}createRangeIn(i){return this.model.createRangeIn(i)}createRangeOn(i){return this.model.createRangeOn(i)}createSelection(...i){return this.model.createSelection(...i)}_mergeDetached(i){const s=i.nodeBefore,c=i.nodeAfter;this.move(Se._createIn(c),He._createAt(s,"end")),this.remove(c)}_merge(i){const s=He._createAt(i.nodeBefore,"end"),c=He._createAt(i.nodeAfter,0),h=i.root.document.graveyard,g=new He(h,[0]),w=i.root.document.version,k=new Jn(c,i.nodeAfter.maxOffset,s,g,w);this.batch.addOperation(k),this.model.applyOperation(k)}rename(i,s){if(this._assertWriterUsedCorrectly(),!(i instanceof on))throw new z("writer-rename-not-element-instance",this);const c=i.root.document?i.root.document.version:null,h=new wt(He._createBefore(i),i.name,s,c);this.batch.addOperation(h),this.model.applyOperation(h)}split(i,s){this._assertWriterUsedCorrectly();let c,h,g=i.parent;if(!g.parent)throw new z("writer-split-element-no-parent",this);if(s||(s=g.parent),!i.parent.getAncestors({includeSelf:!0}).includes(s))throw new z("writer-split-invalid-limit-element",this);do{const w=g.root.document?g.root.document.version:null,k=g.maxOffset-i.offset,_=sn.getInsertionPosition(i),R=new sn(i,k,_,null,w);this.batch.addOperation(R),this.model.applyOperation(R),c||h||(c=g,h=i.parent.nextSibling),g=(i=this.createPositionAfter(i.parent)).parent}while(g!==s);return{position:i,range:new Se(He._createAt(c,"end"),He._createAt(h,0))}}wrap(i,s){if(this._assertWriterUsedCorrectly(),!i.isFlat)throw new z("writer-wrap-range-not-flat",this);const c=s instanceof on?s:new on(s);if(c.childCount>0)throw new z("writer-wrap-element-not-empty",this);if(c.parent!==null)throw new z("writer-wrap-element-attached",this);this.insert(c,i.start);const h=new Se(i.start.getShiftedBy(1),i.end.getShiftedBy(1));this.move(h,He._createAt(c,0))}unwrap(i){if(this._assertWriterUsedCorrectly(),i.parent===null)throw new z("writer-unwrap-element-no-parent",this);this.move(Se._createIn(i),this.createPositionAfter(i)),this.remove(i)}addMarker(i,s){if(this._assertWriterUsedCorrectly(),!s||typeof s.usingOperation!="boolean")throw new z("writer-addmarker-no-usingoperation",this);const c=s.usingOperation,h=s.range,g=s.affectsData!==void 0&&s.affectsData;if(this.model.markers.has(i))throw new z("writer-addmarker-marker-exists",this);if(!h)throw new z("writer-addmarker-no-range",this);return c?(Qf(this,i,null,h,g),this.model.markers.get(i)):this.model.markers._set(i,h,c,g)}updateMarker(i,s){this._assertWriterUsedCorrectly();const c=typeof i=="string"?i:i.name,h=this.model.markers.get(c);if(!h)throw new z("writer-updatemarker-marker-not-exists",this);if(!s)return K("writer-updatemarker-reconvert-using-editingcontroller",{markerName:c}),void this.model.markers._refresh(h);const g=typeof s.usingOperation=="boolean",w=typeof s.affectsData=="boolean",k=w?s.affectsData:h.affectsData;if(!g&&!s.range&&!w)throw new z("writer-updatemarker-wrong-options",this);const _=h.getRange(),R=s.range?s.range:_;g&&s.usingOperation!==h.managedUsingOperations?s.usingOperation?Qf(this,c,null,R,k):(Qf(this,c,_,null,k),this.model.markers._set(c,R,void 0,k)):h.managedUsingOperations?Qf(this,c,_,R,k):this.model.markers._set(c,R,void 0,k)}removeMarker(i){this._assertWriterUsedCorrectly();const s=typeof i=="string"?i:i.name;if(!this.model.markers.has(s))throw new z("writer-removemarker-no-marker",this);const c=this.model.markers.get(s);if(!c.managedUsingOperations)return void this.model.markers._remove(s);Qf(this,s,c.getRange(),null,c.affectsData)}addRoot(i,s="$root"){this._assertWriterUsedCorrectly();const c=this.model.document.getRoot(i);if(c&&c.isAttached())throw new z("writer-addroot-root-exists",this);const h=this.model.document,g=new ho(i,s,!0,h,h.version);return this.batch.addOperation(g),this.model.applyOperation(g),this.model.document.getRoot(i)}detachRoot(i){this._assertWriterUsedCorrectly();const s=typeof i=="string"?this.model.document.getRoot(i):i;if(!s||!s.isAttached())throw new z("writer-detachroot-no-root",this);for(const g of this.model.markers)g.getRange().root===s&&this.removeMarker(g);for(const g of s.getAttributeKeys())this.removeAttribute(g,s);this.remove(this.createRangeIn(s));const c=this.model.document,h=new ho(s.rootName,s.name,!1,c,c.version);this.batch.addOperation(h),this.model.applyOperation(h)}setSelection(...i){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(...i)}setSelectionFocus(i,s){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(i,s)}setSelectionAttribute(i,s){if(this._assertWriterUsedCorrectly(),typeof i=="string")this._setSelectionAttribute(i,s);else for(const[c,h]of Ns(i))this._setSelectionAttribute(c,h)}removeSelectionAttribute(i){if(this._assertWriterUsedCorrectly(),typeof i=="string")this._removeSelectionAttribute(i);else for(const s of i)this._removeSelectionAttribute(s)}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(i){this.model.document.selection._restoreGravity(i)}_setSelectionAttribute(i,s){const c=this.model.document.selection;if(c.isCollapsed&&c.anchor.parent.isEmpty){const h=ni._getStoreAttributeKey(i);this.setAttribute(h,s,c.anchor.parent)}c._setAttribute(i,s)}_removeSelectionAttribute(i){const s=this.model.document.selection;if(s.isCollapsed&&s.anchor.parent.isEmpty){const c=ni._getStoreAttributeKey(i);this.removeAttribute(c,s.anchor.parent)}s._removeAttribute(i)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this)throw new z("writer-incorrect-use",this)}_addOperationForAffectedMarkers(i,s){for(const c of this.model.markers){if(!c.managedUsingOperations)continue;const h=c.getRange();let g=!1;if(i==="move"){const w=s;g=w.containsPosition(h.start)||w.start.isEqual(h.start)||w.containsPosition(h.end)||w.end.isEqual(h.end)}else{const w=s,k=w.nodeBefore,_=w.nodeAfter,R=h.start.parent==k&&h.start.isAtEnd,I=h.end.parent==_&&h.end.offset==0,F=h.end.nodeAfter==_,H=h.start.nodeAfter==_;g=R||I||F||H}g&&this.updateMarker(c.name,{range:h})}}}function Yx(u,i,s,c){const h=u.model,g=h.document;let w,k,_,R=c.start;for(const F of c.getWalker({shallow:!0}))_=F.item.getAttribute(i),w&&k!=_&&(k!=s&&I(),R=w),w=F.nextPosition,k=_;function I(){const F=new Se(R,w),H=F.root.document?g.version:null,G=new dr(F,i,k,s,H);u.batch.addOperation(G),h.applyOperation(G)}w instanceof He&&w!=R&&k!=s&&I()}function Qx(u,i,s,c){const h=u.model,g=h.document,w=c.getAttribute(i);let k,_;if(w!=s){if(c.root===c){const R=c.document?g.version:null;_=new hs(c,i,w,s,R)}else{k=new Se(He._createBefore(c),u.createPositionAfter(c));const R=k.root.document?g.version:null;_=new dr(k,i,w,s,R)}u.batch.addOperation(_),h.applyOperation(_)}}function Qf(u,i,s,c,h){const g=u.model,w=g.document,k=new Li(i,s,c,g.markers,!!h,w.version);u.batch.addOperation(k),g.applyOperation(k)}function d2(u,i,s,c){let h;if(u.root.document){const g=c.document,w=new He(g.graveyard,[0]);h=new Qt(u,i,w,g.version)}else h=new c2(u,i);s.addOperation(h),c.applyOperation(h)}function Zx(u,i){return u===i||u instanceof vm&&i instanceof vm}function u2(u,i,s={}){if(i.isCollapsed)return;const c=i.getFirstRange();if(c.root.rootName=="$graveyard")return;const h=u.schema;u.change((g=>{if(!s.doNotResetEntireContent&&(function(R,I){const F=R.getLimitElement(I);if(!I.containsEntireContent(F))return!1;const H=I.getFirstRange();return H.start.parent==H.end.parent?!1:R.checkChild(F,"paragraph")})(h,i))return void(function(R,I){const F=R.model.schema.getLimitElement(I);R.remove(R.createRangeIn(F)),ch(R,R.createPositionAt(F,0),I)})(g,i);const w={};if(!s.doNotAutoparagraph){const R=i.getSelectedElement();R&&Object.assign(w,h.getAttributesWithProperty(R,"copyOnReplace",!0))}const[k,_]=(function(R){const I=R.root.document.model,F=R.start;let H=R.end;if(I.hasContent(R,{ignoreMarkers:!0})){const G=(function(W){const Y=W.parent,ie=Y.root.document.model.schema,de=Y.getAncestors({parentFirst:!0,includeSelf:!0});for(const ge of de){if(ie.isLimit(ge))return null;if(ie.isBlock(ge))return ge}})(H);if(G&&H.isTouching(I.createPositionAt(G,0))){const W=I.createSelection(R);I.modifySelection(W,{direction:"backward"});const Y=W.getLastPosition(),ie=I.createRange(Y,H);I.hasContent(ie,{ignoreMarkers:!0})||(H=Y)}}return[Ar.fromPosition(F,"toPrevious"),Ar.fromPosition(H,"toNext")]})(c);k.isTouching(_)||g.remove(g.createRange(k,_)),s.leaveUnmerged||((function(R,I,F){const H=R.model;if(!Ll(R.model.schema,I,F))return;const[G,W]=(function(Y,ie){const de=Y.getAncestors(),ge=ie.getAncestors();let Ce=0;for(;de[Ce]&&de[Ce]==ge[Ce];)Ce++;return[de[Ce],ge[Ce]]})(I,F);!G||!W||(!H.hasContent(G,{ignoreMarkers:!0})&&H.hasContent(W,{ignoreMarkers:!0})?yC(R,I,F,G.parent):Xx(R,I,F,G.parent))})(g,k,_),h.removeDisallowedAttributes(k.parent.getChildren(),g)),kC(g,i,k),!s.doNotAutoparagraph&&(function(R,I){const F=R.checkChild(I,"$text"),H=R.checkChild(I,"paragraph");return!F&&H})(h,k)&&ch(g,k,i,w),k.detach(),_.detach()}))}function Xx(u,i,s,c){const h=i.parent,g=s.parent;if(h!=c&&g!=c){for(i=u.createPositionAfter(h),(s=u.createPositionBefore(g)).isEqual(i)||u.insert(g,i),u.merge(i);s.parent.isEmpty;){const w=s.parent;s=u.createPositionBefore(w),u.remove(w)}Ll(u.model.schema,i,s)&&Xx(u,i,s,c)}}function yC(u,i,s,c){const h=i.parent,g=s.parent;if(h!=c&&g!=c){for(i=u.createPositionAfter(h),(s=u.createPositionBefore(g)).isEqual(i)||u.insert(h,s);i.parent.isEmpty;){const w=i.parent;i=u.createPositionBefore(w),u.remove(w)}s=u.createPositionBefore(g),(function(w,k){const _=k.nodeBefore,R=k.nodeAfter;_.name!=R.name&&w.rename(_,R.name),w.clearAttributes(_),w.setAttributes(Object.fromEntries(R.getAttributes()),_),w.merge(k)})(u,s),Ll(u.model.schema,i,s)&&yC(u,i,s,c)}}function Ll(u,i,s){const c=i.parent,h=s.parent;return c!=h&&!u.isLimit(c)&&!u.isLimit(h)&&(function(g,w,k){const _=new Se(g,w);for(const R of _.getWalker())if(k.isLimit(R.item))return!1;return!0})(i,s,u)}function ch(u,i,s,c={}){const h=u.createElement("paragraph");u.model.schema.setAllowedAttributes(h,c,u),u.insert(h,i),kC(u,s,u.createPositionAt(h,0))}function kC(u,i,s){i instanceof ni?u.setSelection(s):i.setTo(s)}function Jx(u,i){const s=[];Array.from(u.getItems({direction:"backward"})).map((c=>i.createRangeOn(c))).filter((c=>(c.start.isAfter(u.start)||c.start.isEqual(u.start))&&(c.end.isBefore(u.end)||c.end.isEqual(u.end)))).forEach((c=>{s.push(c.start.parent),i.remove(c)})),s.forEach((c=>{let h=c;for(;h.parent&&h.isEmpty;){const g=i.createRangeOn(h);h=h.parent,i.remove(g)}}))}class dh{constructor(i,s,c){this._firstNode=null,this._lastNode=null,this._lastAutoParagraph=null,this._filterAttributesOf=[],this._affectedStart=null,this._affectedEnd=null,this._nodeToSelect=null,this.model=i,this.writer=s,this.position=c,this.canMergeWith=new Set([this.position.parent]),this.schema=i.schema,this._documentFragment=s.createDocumentFragment(),this._documentFragmentPosition=s.createPositionAt(this._documentFragment,0)}handleNodes(i){for(const s of Array.from(i))this._handleNode(s);this._insertPartialFragment(),this._lastAutoParagraph&&this._updateLastNodeFromAutoParagraph(this._lastAutoParagraph),this._mergeOnRight(),this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}_updateLastNodeFromAutoParagraph(i){const s=this.writer.createPositionAfter(this._lastNode),c=this.writer.createPositionAfter(i);if(c.isAfter(s)){if(this._lastNode=i,this.position.parent!=i||!this.position.isAtEnd)throw new z("insertcontent-invalid-insertion-position",this);this.position=c,this._setAffectedBoundaries(this.position)}}getSelectionRange(){return this._nodeToSelect?Se._createOn(this._nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}getAffectedRange(){return this._affectedStart?new Se(this._affectedStart,this._affectedEnd):null}destroy(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}_handleNode(i){if(this.schema.isObject(i))return void this._handleObject(i);let s=this._checkAndAutoParagraphToAllowedPosition(i);s||(s=this._checkAndSplitToAllowedPosition(i),s)?(this._appendToFragment(i),this._firstNode||(this._firstNode=i),this._lastNode=i):this._handleDisallowedNode(i)}_insertPartialFragment(){if(this._documentFragment.isEmpty)return;const i=Ar.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this._documentFragment.getChild(0)==this._firstNode&&(this.writer.insert(this._firstNode,this.position),this._mergeOnLeft(),this.position=i.toPosition()),this._documentFragment.isEmpty||this.writer.insert(this._documentFragment,this.position),this._documentFragmentPosition=this.writer.createPositionAt(this._documentFragment,0),this.position=i.toPosition(),i.detach()}_handleObject(i){this._checkAndSplitToAllowedPosition(i)?this._appendToFragment(i):this._tryAutoparagraphing(i)}_handleDisallowedNode(i){i.is("element")?this.handleNodes(i.getChildren()):this._tryAutoparagraphing(i)}_appendToFragment(i){if(!this.schema.checkChild(this.position,i))throw new z("insertcontent-wrong-position",this,{node:i,position:this.position});this.writer.insert(i,this._documentFragmentPosition),this._documentFragmentPosition=this._documentFragmentPosition.getShiftedBy(i.offsetSize),this.schema.isObject(i)&&!this.schema.checkChild(this.position,"$text")?this._nodeToSelect=i:this._nodeToSelect=null,this._filterAttributesOf.push(i)}_setAffectedBoundaries(i){this._affectedStart||(this._affectedStart=Ar.fromPosition(i,"toPrevious")),this._affectedEnd&&!this._affectedEnd.isBefore(i)||(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=Ar.fromPosition(i,"toNext"))}_mergeOnLeft(){const i=this._firstNode;if(!(i instanceof on)||!this._canMergeLeft(i))return;const s=Ar._createBefore(i);s.stickiness="toNext";const c=Ar.fromPosition(this.position,"toNext");this._affectedStart.isEqual(s)&&(this._affectedStart.detach(),this._affectedStart=Ar._createAt(s.nodeBefore,"end","toPrevious")),this._firstNode===this._lastNode&&(this._firstNode=s.nodeBefore,this._lastNode=s.nodeBefore),this.writer.merge(s),s.isEqual(this._affectedEnd)&&this._firstNode===this._lastNode&&(this._affectedEnd.detach(),this._affectedEnd=Ar._createAt(s.nodeBefore,"end","toNext")),this.position=c.toPosition(),c.detach(),this._filterAttributesOf.push(this.position.parent),s.detach()}_mergeOnRight(){const i=this._lastNode;if(!(i instanceof on)||!this._canMergeRight(i))return;const s=Ar._createAfter(i);if(s.stickiness="toNext",!this.position.isEqual(s))throw new z("insertcontent-invalid-insertion-position",this);this.position=He._createAt(s.nodeBefore,"end");const c=Ar.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(s)&&(this._affectedEnd.detach(),this._affectedEnd=Ar._createAt(s.nodeBefore,"end","toNext")),this._firstNode===this._lastNode&&(this._firstNode=s.nodeBefore,this._lastNode=s.nodeBefore),this.writer.merge(s),s.getShiftedBy(-1).isEqual(this._affectedStart)&&this._firstNode===this._lastNode&&(this._affectedStart.detach(),this._affectedStart=Ar._createAt(s.nodeBefore,0,"toPrevious")),this.position=c.toPosition(),c.detach(),this._filterAttributesOf.push(this.position.parent),s.detach()}_canMergeLeft(i){const s=i.previousSibling;return s instanceof on&&this.canMergeWith.has(s)&&this.model.schema.checkMerge(s,i)}_canMergeRight(i){const s=i.nextSibling;return s instanceof on&&this.canMergeWith.has(s)&&this.model.schema.checkMerge(i,s)}_tryAutoparagraphing(i){const s=this.writer.createElement("paragraph");this._getAllowedIn(this.position.parent,s)&&this.schema.checkChild(s,i)&&(s._appendChild(i),this._handleNode(s))}_checkAndAutoParagraphToAllowedPosition(i){if(this.schema.checkChild(this.position.parent,i))return!0;if(!this.schema.checkChild(this.position.parent,"paragraph")||!this.schema.checkChild("paragraph",i))return!1;this._insertPartialFragment();const s=this.writer.createElement("paragraph");return this.writer.insert(s,this.position),this._setAffectedBoundaries(this.position),this._lastAutoParagraph=s,this.position=this.writer.createPositionAt(s,0),!0}_checkAndSplitToAllowedPosition(i){const s=this._getAllowedIn(this.position.parent,i);if(!s)return!1;for(s!=this.position.parent&&this._insertPartialFragment();s!=this.position.parent;)if(this.position.isAtStart){const c=this.position.parent;this.position=this.writer.createPositionBefore(c),c.isEmpty&&c.parent===s&&this.writer.remove(c)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{const c=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=c,this.canMergeWith.add(this.position.nodeAfter)}return!0}_getAllowedIn(i,s){return this.schema.checkChild(i,s)?i:this.schema.isLimit(i)?null:this._getAllowedIn(i.parent,s)}}function Zf(u,i,s,c={}){if(!u.schema.isObject(i))throw new z("insertobject-element-not-an-object",u,{object:i});const h=s||u.document.selection;let g=h;c.findOptimalPosition&&u.schema.isBlock(i)&&(g=u.createSelection(u.schema.findOptimalInsertionRange(h,c.findOptimalPosition)));const w=sr(h.getSelectedBlocks()),k={};return w&&Object.assign(k,u.schema.getAttributesWithProperty(w,"copyOnReplace",!0)),u.change((_=>{g.isCollapsed||u.deleteContent(g,{doNotAutoparagraph:!0});let R=i;const I=g.anchor.parent;!u.schema.checkChild(I,i)&&u.schema.checkChild(I,"paragraph")&&u.schema.checkChild("paragraph",i)&&(R=_.createElement("paragraph"),_.insert(i,R)),u.schema.setAllowedAttributes(R,k,_);const F=u.insertContent(R,g);return F.isCollapsed||c.setSelection&&(function(H,G,W,Y){const ie=H.model;if(W=="on")return void H.setSelection(G,"on");if(W!="after")throw new z("insertobject-invalid-place-parameter-value",ie);let de=G.nextSibling;if(ie.schema.isInline(G))return void H.setSelection(G,"after");!(de&&ie.schema.checkChild(de,"$text"))&&ie.schema.checkChild(G.parent,"paragraph")&&(de=H.createElement("paragraph"),ie.schema.setAllowedAttributes(de,Y,H),ie.insertContent(de,H.createPositionAfter(G))),de&&H.setSelection(de,0)})(_,i,c.setSelection,k),F}))}const eA=' ,.?!:;"-()';function xm(u,i){const{isForward:s,walker:c,unit:h,schema:g,treatEmojiAsSingleUnit:w}=u,{type:k,item:_,nextPosition:R}=i;if(k=="text")return u.unit==="word"?(function(I,F){let H=I.position.textNode;for(H||(H=F?I.position.nodeAfter:I.position.nodeBefore);H&&H.is("$text");){const G=I.position.offset-H.startOffset;if(Am(H,G,F))H=F?I.position.nodeAfter:I.position.nodeBefore;else{if(AC(H.data,G,F))break;I.next()}}return I.position})(c,s):(function(I,F,H){const G=I.position.textNode;if(G){const W=G.data;let Y=I.position.offset-G.startOffset;for(;Xn(W,Y)||F=="character"&&Sf(W,Y)||H&&Tu(W,Y);)I.next(),Y=I.position.offset-G.startOffset}return I.position})(c,h,w);if(k==(s?"elementStart":"elementEnd")){if(g.isSelectable(_))return He._createAt(_,s?"after":"before");if(g.checkChild(R,"$text"))return R}else{if(g.isLimit(_))return void c.skip((()=>!0));if(g.checkChild(R,"$text"))return R}}function xC(u,i){const s=u.root,c=He._createAt(s,i?"end":0);return i?new Se(u,c):new Se(c,u)}function AC(u,i,s){const c=i+(s?0:-1);return eA.includes(u.charAt(c))}function Am(u,i,s){return i===(s?u.offsetSize:0)}class tA extends et(){constructor(){super(),this.markers=new Ba,this.document=new Lo(this),this.schema=new kx,this._pendingChanges=[],this._currentWriter=null,["deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach((i=>this.decorate(i))),this.on("applyOperation",((i,s)=>{s[0]._validate()}),{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$container",{allowIn:["$root","$container"]}),this.schema.register("$block",{allowIn:["$root","$container"],isBlock:!0}),this.schema.register("$blockObject",{allowWhere:"$block",isBlock:!0,isObject:!0}),this.schema.register("$inlineObject",{allowWhere:"$text",allowAttributesOf:"$text",isInline:!0,isObject:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0,isContent:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$documentFragment",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$marker"),this.schema.addChildCheck(((i,s)=>{if(s.name==="$marker")return!0})),yx(this),this.document.registerPostFixer(Us),this.on("insertContent",((i,[s,c])=>{i.return=(function(h,g,w){return h.change((k=>{const _=w||h.document.selection;_.isCollapsed||h.deleteContent(_,{doNotAutoparagraph:!0});const R=new dh(h,k,_.anchor),I=[];let F;if(g.is("documentFragment")){if(g.markers.size){const W=[];for(const[Y,ie]of g.markers){const{start:de,end:ge}=ie,Ce=de.isEqual(ge);W.push({position:de,name:Y,isCollapsed:Ce},{position:ge,name:Y,isCollapsed:Ce})}W.sort((({position:Y},{position:ie})=>Y.isBefore(ie)?1:-1));for(const{position:Y,name:ie,isCollapsed:de}of W){let ge=null,Ce=null;const Fe=Y.parent===g&&Y.isAtStart,Xe=Y.parent===g&&Y.isAtEnd;Fe||Xe?de&&(Ce=Fe?"start":"end"):(ge=k.createElement("$marker"),k.insert(ge,Y)),I.push({name:ie,element:ge,collapsed:Ce})}}F=g.getChildren()}else F=[g];R.handleNodes(F);let H=R.getSelectionRange();if(g.is("documentFragment")&&I.length){const W=H?xt.fromRange(H):null,Y={};for(let ie=I.length-1;ie>=0;ie--){const{name:de,element:ge,collapsed:Ce}=I[ie],Fe=!Y[de];if(Fe&&(Y[de]=[]),ge){const Xe=k.createPositionAt(ge,"before");Y[de].push(Xe),k.remove(ge)}else{const Xe=R.getAffectedRange();if(!Xe){Ce&&Y[de].push(R.position);continue}Ce?Y[de].push(Xe[Ce]):Y[de].push(Fe?Xe.start:Xe.end)}}for(const[ie,[de,ge]]of Object.entries(Y))de&&ge&&de.root===ge.root&&de.root.document&&!k.model.markers.has(ie)&&k.addMarker(ie,{usingOperation:!0,affectsData:!0,range:new Se(de,ge)});W&&(H=W.toRange(),W.detach())}H&&(_ instanceof ni?k.setSelection(H):_.setTo(H));const G=R.getAffectedRange()||h.createRange(_.anchor);return R.destroy(),G}))})(this,s,c)})),this.on("insertObject",((i,[s,c,h])=>{i.return=Zf(this,s,c,h)})),this.on("canEditAt",(i=>{const s=!this.document.isReadOnly;i.return=s,s||i.stop()}))}change(i){try{return this._pendingChanges.length===0?(this._pendingChanges.push({batch:new rd,callback:i}),this._runPendingChanges()[0]):i(this._currentWriter)}catch(s){z.rethrowUnexpectedError(s,this)}}enqueueChange(i,s){try{i?typeof i=="function"?(s=i,i=new rd):i instanceof rd||(i=new rd(i)):i=new rd,this._pendingChanges.push({batch:i,callback:s}),this._pendingChanges.length==1&&this._runPendingChanges()}catch(c){z.rethrowUnexpectedError(c,this)}}applyOperation(i){i._execute()}insertContent(i,s,c,...h){const g=Sm(s,c);return this.fire("insertContent",[i,g,c,...h])}insertObject(i,s,c,h,...g){const w=Sm(s,c);return this.fire("insertObject",[i,w,h,h,...g])}deleteContent(i,s){u2(this,i,s)}modifySelection(i,s){(function(c,h,g={}){const w=c.schema,k=g.direction!="backward",_=g.unit?g.unit:"character",R=!!g.treatEmojiAsSingleUnit,I=h.focus,F=new Vs({boundaries:xC(I,k),singleCharacters:!0,direction:k?"forward":"backward"}),H={walker:F,schema:w,isForward:k,unit:_,treatEmojiAsSingleUnit:R};let G;for(;G=F.next();){if(G.done)return;const W=xm(H,G.value);if(W)return void(h instanceof ni?c.change((Y=>{Y.setSelectionFocus(W)})):h.setFocus(W))}})(this,i,s)}getSelectedContent(i){return(function(s,c){return s.change((h=>{const g=h.createDocumentFragment(),w=c.getFirstRange();if(!w||w.isCollapsed)return g;const k=w.start.root,_=w.start.getCommonPath(w.end),R=k.getNodeByPath(_);let I;I=w.start.parent==w.end.parent?w:h.createRange(h.createPositionAt(R,w.start.path[_.length]),h.createPositionAt(R,w.end.path[_.length]+1));const F=I.end.offset-I.start.offset;for(const H of I.getItems({shallow:!0}))H.is("$textProxy")?h.appendText(H.data,H.getAttributes(),g):h.append(h.cloneElement(H,!0),g);if(I!=w){const H=w._getTransformedByMove(I.start,h.createPositionAt(g,0),F)[0],G=h.createRange(h.createPositionAt(g,0),H.start);Jx(h.createRange(H.end,h.createPositionAt(g,"end")),h),Jx(G,h)}return g}))})(this,i)}hasContent(i,s={}){const c=i instanceof Se?i:Se._createIn(i);if(c.isCollapsed)return!1;const{ignoreWhitespaces:h=!1,ignoreMarkers:g=!1}=s;if(!g){for(const w of this.markers.getMarkersIntersectingRange(c))if(w.affectsData)return!0}for(const w of c.getItems())if(this.schema.isContent(w)&&(!w.is("$textProxy")||!h||w.data.search(/\S/)!==-1))return!0;return!1}canEditAt(i){const s=Sm(i);return this.fire("canEditAt",[s])}createPositionFromPath(i,s,c){return new He(i,s,c)}createPositionAt(i,s){return He._createAt(i,s)}createPositionAfter(i){return He._createAfter(i)}createPositionBefore(i){return He._createBefore(i)}createRange(i,s){return new Se(i,s)}createRangeIn(i){return Se._createIn(i)}createRangeOn(i){return Se._createOn(i)}createSelection(...i){return new ti(...i)}createBatch(i){return new rd(i)}createOperationFromJSON(i){return Nx.fromJSON(i,this.document)}destroy(){this.document.destroy(),this.stopListening()}_runPendingChanges(){const i=[];this.fire("_beforeChanges");try{for(;this._pendingChanges.length;){const s=this._pendingChanges[0].batch;this._currentWriter=new Kx(this,s);const c=this._pendingChanges[0].callback(this._currentWriter);i.push(c),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}}finally{this._pendingChanges.length=0,this._currentWriter=null,this.fire("_afterChanges")}return i}}function Sm(u,i){if(u)return u instanceof ti||u instanceof ni?u:u instanceof _l?i||i===0?new ti(u,i):u.is("rootElement")?new ti(u,"in"):new ti(u,"on"):new ti(u)}class h2 extends Pa{constructor(){super(...arguments),this.domEventType="click"}onDomEvent(i){this.fire(i.type,i)}}class _m extends Pa{constructor(){super(...arguments),this.domEventType=["mousedown","mouseup","mouseover","mouseout"]}onDomEvent(i){this.fire(i.type,i)}}class ja{constructor(i){this.document=i}createDocumentFragment(i){return new Ta(this.document,i)}createElement(i,s,c){return new so(this.document,i,s,c)}createText(i){return new ct(this.document,i)}clone(i,s=!1){return i._clone(s)}appendChild(i,s){return s._appendChild(i)}insertChild(i,s,c){return c._insertChild(i,s)}removeChildren(i,s,c){return c._removeChildren(i,s)}remove(i){const s=i.parent;return s?this.removeChildren(s.getChildIndex(i),1,s):[]}replace(i,s){const c=i.parent;if(c){const h=c.getChildIndex(i);return this.removeChildren(h,1,c),this.insertChild(h,s,c),!0}return!1}unwrapElement(i){const s=i.parent;if(s){const c=s.getChildIndex(i);this.remove(i),this.insertChild(c,i.getChildren(),s)}}rename(i,s){const c=new so(this.document,i,s.getAttributes(),s.getChildren());return this.replace(s,c)?c:null}setAttribute(i,s,c){c._setAttribute(i,s)}removeAttribute(i,s){s._removeAttribute(i)}addClass(i,s){s._addClass(i)}removeClass(i,s){s._removeClass(i)}setStyle(i,s,c){_i(i)&&c===void 0?s._setStyle(i):c._setStyle(i,s)}removeStyle(i,s){s._removeStyle(i)}setCustomProperty(i,s,c){c._setCustomProperty(i,s)}removeCustomProperty(i,s){return s._removeCustomProperty(i)}createPositionAt(i,s){return Ke._createAt(i,s)}createPositionAfter(i){return Ke._createAfter(i)}createPositionBefore(i){return Ke._createBefore(i)}createRange(i,s){return new vt(i,s)}createRangeOn(i){return vt._createOn(i)}createRangeIn(i){return vt._createIn(i)}createSelection(...i){return new Io(...i)}}class SC{constructor(){this._commands=new Map}add(i,s){this._commands.set(i,s)}get(i){return this._commands.get(i)}execute(i,...s){const c=this.get(i);if(!c)throw new z("commandcollection-command-not-found",this,{commandName:i});return c.execute(...s)}*names(){yield*this._commands.keys()}*commands(){yield*this._commands.values()}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(const i of this.commands())i.destroy()}}var f2=Object.defineProperty,Xf=Object.getOwnPropertySymbols,Em=Object.prototype.hasOwnProperty,Dm=Object.prototype.propertyIsEnumerable,nA=(u,i,s)=>i in u?f2(u,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):u[i]=s;const id="contentEditing",rA="common";class iA{constructor(i){this.keystrokeInfos=new Map,this._editor=i;const s=i.config.get("menuBar.isVisible"),c=i.locale.t;this.addKeystrokeInfoCategory({id,label:c("Content editing keystrokes"),description:c("These keyboard shortcuts allow for quick access to content editing features.")});const h=[{label:c("Close contextual balloons, dropdowns, and dialogs"),keystroke:"Esc"},{label:c("Open the accessibility help dialog"),keystroke:"Alt+0"},{label:c("Move focus between form fields (inputs, buttons, etc.)"),keystroke:[["Tab"],["Shift+Tab"]]},{label:c("Move focus to the toolbar, navigate between toolbars"),keystroke:"Alt+F10",mayRequireFn:!0},{label:c("Navigate through the toolbar or menu bar"),keystroke:[["arrowup"],["arrowright"],["arrowdown"],["arrowleft"]]},{label:c("Execute the currently focused button. Executing buttons that interact with the editor content moves the focus back to the content."),keystroke:[["Enter"],["Space"]]}];s&&h.push({label:c("Move focus to the menu bar, navigate between menu bars"),keystroke:"Alt+F9",mayRequireFn:!0}),this.addKeystrokeInfoCategory({id:"navigation",label:c("User interface and content navigation keystrokes"),description:c("Use the following keystrokes for more efficient navigation in the CKEditor 5 user interface."),groups:[{id:"common",keystrokes:h}]})}addKeystrokeInfoCategory({id:i,label:s,description:c,groups:h}){this.keystrokeInfos.set(i,{id:i,label:s,description:c,groups:new Map}),this.addKeystrokeInfoGroup({categoryId:i,id:rA}),h&&h.forEach((g=>{this.addKeystrokeInfoGroup(((w,k)=>{for(var _ in k||(k={}))Em.call(k,_)&&nA(w,_,k[_]);if(Xf)for(var _ of Xf(k))Dm.call(k,_)&&nA(w,_,k[_]);return w})({categoryId:i},g))}))}addKeystrokeInfoGroup({categoryId:i=id,id:s,label:c,keystrokes:h}){const g=this.keystrokeInfos.get(i);if(!g)throw new z("accessibility-unknown-keystroke-info-category",this._editor,{groupId:s,categoryId:i});g.groups.set(s,{id:s,label:c,keystrokes:h||[]})}addKeystrokeInfos({categoryId:i=id,groupId:s=rA,keystrokes:c}){if(!this.keystrokeInfos.has(i))throw new z("accessibility-unknown-keystroke-info-category",this._editor,{categoryId:i,keystrokes:c});const h=this.keystrokeInfos.get(i);if(!h.groups.has(s))throw new z("accessibility-unknown-keystroke-info-group",this._editor,{groupId:s,categoryId:i,keystrokes:c});h.groups.get(s).keystrokes.push(...c)}}var _C=Object.getOwnPropertySymbols,oA=Object.prototype.hasOwnProperty,sA=Object.prototype.propertyIsEnumerable,Mm=(u,i)=>{var s={};for(var c in u)oA.call(u,c)&&i.indexOf(c)<0&&(s[c]=u[c]);if(u!=null&&_C)for(var c of _C(u))i.indexOf(c)<0&&sA.call(u,c)&&(s[c]=u[c]);return s};class aA extends et(){constructor(i={}){super();const s=this.constructor,c=s.defaultConfig||{},{translations:h}=c,g=Mm(c,["translations"]),w=i,{translations:k=h}=w,_=Mm(w,["translations"]),R=i.language||g.language;this._context=i.context||new uw({language:R,translations:k}),this._context._addEditor(this,!i.context);const I=Array.from(s.builtinPlugins||[]);this.config=new hl(_,g),this.config.define("plugins",I),this.config.define(this._context._getEditorConfig()),this.plugins=new Bg(this,I,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this._readOnlyLocks=new Set,this.commands=new SC,this.set("state","initializing"),this.once("ready",(()=>this.state="ready"),{priority:"high"}),this.once("destroy",(()=>this.state="destroyed"),{priority:"high"}),this.model=new tA,this.on("change:isReadOnly",(()=>{this.model.document.isReadOnly=this.isReadOnly}));const F=new Wk;this.data=new Ol(this.model,F),this.editing=new dC(this.model,F),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new $s([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new jg(this),this.keystrokes.listenTo(this.editing.view.document),this.accessibility=new iA(this)}get isReadOnly(){return this._readOnlyLocks.size>0}set isReadOnly(i){throw new z("editor-isreadonly-has-no-setter")}enableReadOnlyMode(i){if(typeof i!="string"&&typeof i!="symbol")throw new z("editor-read-only-lock-id-invalid",null,{lockId:i});this._readOnlyLocks.has(i)||(this._readOnlyLocks.add(i),this._readOnlyLocks.size===1&&this.fire("change:isReadOnly","isReadOnly",!0,!1))}disableReadOnlyMode(i){if(typeof i!="string"&&typeof i!="symbol")throw new z("editor-read-only-lock-id-invalid",null,{lockId:i});this._readOnlyLocks.has(i)&&(this._readOnlyLocks.delete(i),this._readOnlyLocks.size===0&&this.fire("change:isReadOnly","isReadOnly",!1,!0))}setData(i){this.data.set(i)}getData(i){return this.data.get(i)}initPlugins(){const i=this.config,s=i.get("plugins"),c=i.get("removePlugins")||[],h=i.get("extraPlugins")||[],g=i.get("substitutePlugins")||[];return this.plugins.init(s.concat(h),c,g)}destroy(){let i=Promise.resolve();return this.state=="initializing"&&(i=new Promise((s=>this.once("ready",s)))),i.then((()=>{this.fire("destroy"),this.stopListening(),this.commands.destroy()})).then((()=>this.plugins.destroy())).then((()=>{this.model.destroy(),this.data.destroy(),this.editing.destroy(),this.keystrokes.destroy()})).then((()=>this._context._removeEditor(this)))}execute(i,...s){try{return this.commands.execute(i,...s)}catch(c){z.rethrowUnexpectedError(c,this)}}focus(){this.editing.view.focus()}static create(...i){throw new Error("This is an abstract method.")}}function Tm(u){return class extends u{updateSourceElement(i){if(!this.sourceElement)throw new z("editor-missing-sourceelement",this);const s=this.config.get("updateSourceElementOnDestroy"),c=this.sourceElement instanceof HTMLTextAreaElement;if(!s&&!c)return void Dg(this.sourceElement,"");const h=typeof i=="string"?i:this.data.get();Dg(this.sourceElement,h)}}}Tm.updateSourceElement=Tm(Object).prototype.updateSourceElement;class Jf extends Da{static get pluginName(){return"PendingActions"}init(){this.set("hasAny",!1),this._actions=new An({idProperty:"_id"}),this._actions.delegate("add","remove").to(this)}add(i){if(typeof i!="string")throw new z("pendingactions-add-invalid-message",this);const s=new(et());return s.set("message",i),this._actions.add(s),this.hasAny=!0,s}remove(i){this._actions.remove(i),this.hasAny=!!this._actions.length}get first(){return this._actions.get(0)}[Symbol.iterator](){return this._actions[Symbol.iterator]()}}const Dt={bold:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>',cancel:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.591 10.177 4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>',caption:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 16h9a1 1 0 0 1 0 2H2a1 1 0 0 1 0-2z"/><path d="M17 1a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14zm0 1.5H3a.5.5 0 0 0-.492.41L2.5 3v9a.5.5 0 0 0 .41.492L3 12.5h14a.5.5 0 0 0 .492-.41L17.5 12V3a.5.5 0 0 0-.41-.492L17 2.5z" fill-opacity=".6"/></svg>',check:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>',imageUpload:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.201 1C.538 1 0 1.47 0 2.1v14.363c0 .64.534 1.037 1.186 1.037h9.494a2.97 2.97 0 0 1-.414-.287 2.998 2.998 0 0 1-1.055-2.03 3.003 3.003 0 0 1 .693-2.185l.383-.455-.02.018-3.65-3.41a.695.695 0 0 0-.957-.034L1.5 13.6V2.5h15v5.535a2.97 2.97 0 0 1 1.412.932l.088.105V2.1c0-.63-.547-1.1-1.2-1.1H1.202Zm11.713 2.803a2.146 2.146 0 0 0-2.049 1.992 2.14 2.14 0 0 0 1.28 2.096 2.13 2.13 0 0 0 2.644-3.11 2.134 2.134 0 0 0-1.875-.978Z"/><path d="M15.522 19.1a.79.79 0 0 0 .79-.79v-5.373l2.059 2.455a.79.79 0 1 0 1.211-1.015l-3.352-3.995a.79.79 0 0 0-.995-.179.784.784 0 0 0-.299.221l-3.35 3.99a.79.79 0 1 0 1.21 1.017l1.936-2.306v5.185c0 .436.353.79.79.79Z"/><path d="M15.522 19.1a.79.79 0 0 0 .79-.79v-5.373l2.059 2.455a.79.79 0 1 0 1.211-1.015l-3.352-3.995a.79.79 0 0 0-.995-.179.784.784 0 0 0-.299.221l-3.35 3.99a.79.79 0 1 0 1.21 1.017l1.936-2.306v5.185c0 .436.353.79.79.79Z"/></svg>',imageAssetManager:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.201 1c-.662 0-1.2.47-1.2 1.1v14.248c0 .64.533 1.152 1.185 1.152h6.623v-7.236L6.617 9.15a.694.694 0 0 0-.957-.033L1.602 13.55V2.553l14.798.003V9.7H18V2.1c0-.63-.547-1.1-1.2-1.1H1.202Zm11.723 2.805a2.094 2.094 0 0 0-1.621.832 2.127 2.127 0 0 0 1.136 3.357 2.13 2.13 0 0 0 2.611-1.506 2.133 2.133 0 0 0-.76-2.244 2.13 2.13 0 0 0-1.366-.44Z"/><path clip-rule="evenodd" d="M19.898 12.369v6.187a.844.844 0 0 1-.844.844h-8.719a.844.844 0 0 1-.843-.844v-7.312a.844.844 0 0 1 .843-.844h2.531a.843.843 0 0 1 .597.248l.838.852h4.75c.223 0 .441.114.6.272a.844.844 0 0 1 .247.597Zm-1.52.654-4.377.02-1.1-1.143H11v6h7.4l-.023-4.877Z"/></svg>',textAlternative:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.035 1C2.446 1 2 1.54 2 2.098V10.5h1.5v-8h13v8H18V2.098C18 1.539 17.48 1 16.9 1H3.035Zm10.453 2.61a1.885 1.885 0 0 0-1.442.736 1.89 1.89 0 0 0 1.011 2.976 1.903 1.903 0 0 0 2.253-1.114 1.887 1.887 0 0 0-1.822-2.598ZM7.463 8.163a.611.611 0 0 0-.432.154L5.071 10.5h5.119L7.88 8.348a.628.628 0 0 0-.417-.185Zm6.236 1.059a.62.62 0 0 0-.42.164L12.07 10.5h2.969l-.92-1.113a.618.618 0 0 0-.42-.165ZM.91 11.5a.91.91 0 0 0-.91.912v6.877c0 .505.405.91.91.91h18.178a.91.91 0 0 0 .912-.91v-6.877a.908.908 0 0 0-.912-.912H.91ZM3.668 13h1.947l2.135 5.7H5.898l-.28-.946H3.601l-.278.945H1.516L3.668 13Zm4.947 0h1.801v4.3h2.7v1.4h-4.5V13h-.001Zm4.5 0h5.4v1.4h-1.798v4.3h-1.701v-4.3h-1.9V13h-.001Zm-8.517 1.457-.614 2.059h1.262l-.648-2.059Z"/></svg>',loupe:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.68 13.74h-.001l4.209 4.208a1 1 0 1 0 1.414-1.414l-4.267-4.268a6 6 0 1 0-1.355 1.474ZM13 9a4 4 0 1 1-8 0 4 4 0 0 1 8 0Z"/></svg>',previousArrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>',nextArrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>',importExport:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M19 4.5 14 0H3v12.673l.868-1.041c.185-.222.4-.402.632-.54V1.5h8v5h5v7.626a2.24 2.24 0 0 1 1.5.822V4.5ZM14 5V2l3.3 3H14Zm-3.692 12.5c.062.105.133.206.213.303L11.52 19H8v-.876a2.243 2.243 0 0 0 1.82-.624h.488Zm7.518-.657a.75.75 0 0 0-1.152-.96L15.5 17.29V12H14v5.29l-1.174-1.408a.75.75 0 0 0-1.152.96l2.346 2.816a.95.95 0 0 0 1.46 0l2.346-2.815Zm-15.056-.38a.75.75 0 0 1-.096-1.056l2.346-2.815a.95.95 0 0 1 1.46 0l2.346 2.815a.75.75 0 1 1-1.152.96L6.5 14.96V20H5v-5.04l-1.174 1.408a.75.75 0 0 1-1.056.096Z"/></svg>',paragraph:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.5 5.5H7v5h3.5a2.5 2.5 0 1 0 0-5zM5 3h6.5v.025a5 5 0 0 1 0 9.95V13H7v4a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z"/></svg>',plus:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a1 1 0 0 0-1 1v6H3a1 1 0 1 0 0 2h6v6a1 1 0 1 0 2 0v-6h6a1 1 0 1 0 0-2h-6V3a1 1 0 0 0-1-1Z"/></svg>',text:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.816 11.5 7.038 4.785 4.261 11.5h5.555Zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13Z"/><path d="m12.09 17-.534-1.292.848-1.971.545 1.319L12.113 17h-.023Zm1.142-5.187.545 1.319L15.5 9.13l1.858 4.316h-3.45l.398.965h3.467L18.887 17H20l-3.873-9h-1.254l-1.641 3.813Z"/></svg>',alignLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',objectLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zm0-3H18v1.5h-4.5zm0-3H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M15.003 7v5.5a1 1 0 0 1-1 1H5.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H6.5V12h6.997V7.5z"/></svg>',objectRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2zm0-9h5v1.5H2zm0 3h5v1.5H2zm0 3h5v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectFullWidth:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18 7v5.5a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1zm-1.505.5H3.504V12h12.991V7.5z"/></svg>',objectInline:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',pencil:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.3 17.37-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506 13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5 9.375 17H19v1.5H8z"/></svg>',pilcrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.999 2H15a1 1 0 0 1 0 2h-1.004v13a1 1 0 1 1-2 0V4H8.999v13a1 1 0 1 1-2 0v-7A4 4 0 0 1 3 6a4 4 0 0 1 3.999-4z"/></svg>',quote:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>',threeVerticalDots:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>',dragIndicator:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M5 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M5 16.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 16.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/></svg>',redo:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m14.958 9.367-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>',undo:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m5.042 9.367 2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>',bulletedList:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>',numberedList:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>',browseFiles:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>',indent:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zM1.632 6.95 5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>',outdent:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zm1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>',table:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 5.5v3h4v-3H3Zm0 4v3h4v-3H3Zm0 4v3h4v-3H3Zm5 3h4v-3H8v3Zm5 0h4v-3h-4v3Zm4-4v-3h-4v3h4Zm0-4v-3h-4v3h4Zm1.5 8A1.5 1.5 0 0 1 17 18H3a1.5 1.5 0 0 1-1.5-1.5V3c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13.5Zm-6.5-4v-3H8v3h4Zm0-4v-3H8v3h4Z"/></svg>'};var lA=o(7801),EC={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$e()(lA.A,EC),lA.A.locals;class uh extends st{constructor(i){super(i),this.set("text",void 0),this.set("for",void 0),this.id=`ck-editor__label_${L()}`;const s=this.bindTemplate;this.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:this.id,for:s.to("for")},children:[{text:s.to("text")}]})}}class Rm extends st{constructor(i,s){super(i);const c=i.t,h=new uh;h.text=c("Help Contents. To close this dialog press ESC."),this.setTemplate({tag:"div",attributes:{class:["ck","ck-accessibility-help-dialog__content"],"aria-labelledby":h.id,role:"document",tabindex:-1},children:[ft(document,"p",{},c("Below, you can find a list of keyboard shortcuts that can be used in the editor.")),...this._createCategories(Array.from(s.values())),h]})}focus(){this.element.focus()}_createCategories(i){return i.map((s=>{const c=[ft(document,"h3",{},s.label),...Array.from(s.groups.values()).map((h=>this._createGroup(h))).flat()];return s.description&&c.splice(1,0,ft(document,"p",{},s.description)),ft(document,"section",{},c)}))}_createGroup(i){const s=i.keystrokes.sort(((h,g)=>h.label.localeCompare(g.label))).map((h=>this._createGroupRow(h))).flat(),c=[ft(document,"dl",{},s)];return i.label&&c.unshift(ft(document,"h4",{},i.label)),c}_createGroupRow(i){const s=this.locale.t,c=ft(document,"dt"),h=ft(document,"dd"),g=(function(k){return typeof k=="string"?[[k]]:typeof k[0]=="string"?[k]:k})(i.keystroke),w=[];for(const k of g)w.push(k.map(DC).join(""));return c.innerHTML=i.label,h.innerHTML=w.join(", ")+(i.mayRequireFn&&v.isMac?` ${s("(may require <kbd>Fn</kbd>)")}`:""),[c,h]}}function DC(u){return Cf(u).split("+").map((i=>`<kbd>${i}</kbd>`)).join("+")}const MC='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 6.628a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"/><path d="M8.5 9.125a.3.3 0 0 0-.253-.296L5.11 8.327a.75.75 0 1 1 .388-1.449l4.04.716c.267.072.624.08.893.009l4.066-.724a.75.75 0 1 1 .388 1.45l-3.132.5a.3.3 0 0 0-.253.296v1.357a.3.3 0 0 0 .018.102l1.615 4.438a.75.75 0 0 1-1.41.513l-1.35-3.71a.3.3 0 0 0-.281-.197h-.209a.3.3 0 0 0-.282.198l-1.35 3.711a.75.75 0 0 1-1.41-.513l1.64-4.509a.3.3 0 0 0 .019-.103V9.125Z"/><path clip-rule="evenodd" d="M10 18.5a8.5 8.5 0 1 1 0-17 8.5 8.5 0 0 1 0 17Zm0 1.5c5.523 0 10-4.477 10-10S15.523 0 10 0 0 4.477 0 10s4.477 10 10 10Z"/></svg>';var Pm=o(8527),Bl={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$e()(Pm.A,Bl),Pm.A.locals;class jl extends Ve{constructor(){super(...arguments),this.contentView=null}static get requires(){return[ad]}static get pluginName(){return"AccessibilityHelp"}init(){const i=this.editor,s=i.locale.t;i.ui.componentFactory.add("accessibilityHelp",(()=>{const c=this._createButton(Ut);return c.set({tooltip:!0,withText:!1,label:s("Accessibility help")}),c})),i.ui.componentFactory.add("menuBar:accessibilityHelp",(()=>{const c=this._createButton(fs);return c.label=s("Accessibility"),c})),i.keystrokes.set("Alt+0",((c,h)=>{this._showDialog(),h()})),this._setupRootLabels()}_createButton(i){const s=new i(this.editor.locale);return s.set({keystroke:"Alt+0",icon:MC}),s.on("execute",(()=>this._showDialog())),s}_setupRootLabels(){const i=this.editor,s=i.editing.view,c=i.t;function h(g,w){const k=`${w.getAttribute("aria-label")}. ${c("Press %0 for help.",[Cf("Alt+0")])}`;g.setAttribute("aria-label",k,w)}i.ui.on("ready",(()=>{s.change((g=>{for(const w of s.document.roots)h(g,w)})),i.on("addRoot",((g,w)=>{const k=i.editing.view.document.getRoot(w.rootName);s.change((_=>h(_,k)))}),{priority:"low"})}))}_showDialog(){const i=this.editor,s=i.plugins.get("Dialog"),c=i.locale.t;this.contentView||(this.contentView=new Rm(i.locale,i.accessibility.keystrokeInfos)),s.show({id:"accessibilityHelp",className:"ck-accessibility-help-dialog",title:c("Accessibility help"),icon:MC,hasCloseButton:!0,content:this.contentView})}}class zl extends Mi{constructor(i,s=[]){super(s),this.locale=i}get bodyCollectionContainer(){return this._bodyCollectionContainer}attachToDom(){this._bodyCollectionContainer=new Xr({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection},children:this}).render();let i=document.querySelector(".ck-body-wrapper");i||(i=ft(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(i)),i.appendChild(this._bodyCollectionContainer)}detachFromDom(){super.destroy(),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove();const i=document.querySelector(".ck-body-wrapper");i&&i.childElementCount==0&&i.remove()}}var hh=o(7621),ep={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$e()(hh.A,ep),hh.A.locals;const za=class extends st{constructor(){super();const u=this.bindTemplate;this.set("content",""),this.set("viewBox","0 0 20 20"),this.set("fillColor",""),this.set("isColorInherited",!0),this.set("isVisible",!0),this.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon",u.if("isVisible","ck-hidden",(i=>!i)),"ck-reset_all-excluded",u.if("isColorInherited","ck-icon_inherit-color")],viewBox:u.to("viewBox")}})}render(){super.render(),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",(()=>{this._updateXMLContent(),this._colorFillPaths()})),this.on("change:fillColor",(()=>{this._colorFillPaths()}))}_updateXMLContent(){if(this.content){const u=new DOMParser().parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),i=u.getAttribute("viewBox");i&&(this.viewBox=i);for(const{name:s,value:c}of Array.from(u.attributes))za.presentationalAttributeNames.includes(s)&&this.element.setAttribute(s,c);for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(;u.childNodes.length>0;)this.element.appendChild(u.childNodes[0])}}_colorFillPaths(){this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach((u=>{u.style.fill=this.fillColor}))}};let Ha=za;Ha.presentationalAttributeNames=["alignment-baseline","baseline-shift","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-rendering","cursor","direction","display","dominant-baseline","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","mask","opacity","overflow","paint-order","pointer-events","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-overflow","text-rendering","transform","unicode-bidi","vector-effect","visibility","white-space","word-spacing","writing-mode"];class cA extends st{constructor(){super(),this.set({style:void 0,text:void 0,id:void 0});const i=this.bindTemplate;this.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:i.to("style"),id:i.to("id")},children:[{text:i.to("text")}]})}}var fh=o(9715),p2={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$e()(fh.A,p2),fh.A.locals;class Ut extends st{constructor(i,s=new cA){super(i),this._focusDelayed=null;const c=this.bindTemplate,h=L();this.set("ariaLabel",void 0),this.set("ariaLabelledBy",`ck-editor__aria-label_${h}`),this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isVisible",!0),this.set("isToggleable",!1),this.set("keystroke",void 0),this.set("label",void 0),this.set("role",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.set("withKeystroke",!1),this.children=this.createCollection(),this.labelView=this._setupLabelView(s),this.iconView=new Ha,this.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),this.keystrokeView=this._createKeystrokeView(),this.bind("_tooltipString").to(this,"tooltip",this,"label",this,"keystroke",this._getTooltipString.bind(this));const g={tag:"button",attributes:{class:["ck","ck-button",c.to("class"),c.if("isEnabled","ck-disabled",(w=>!w)),c.if("isVisible","ck-hidden",(w=>!w)),c.to("isOn",(w=>w?"ck-on":"ck-off")),c.if("withText","ck-button_with-text"),c.if("withKeystroke","ck-button_with-keystroke")],role:c.to("role"),type:c.to("type",(w=>w||"button")),tabindex:c.to("tabindex"),"aria-checked":c.to("ariaChecked"),"aria-label":c.to("ariaLabel"),"aria-labelledby":c.to("ariaLabelledBy"),"aria-disabled":c.if("isEnabled",!0,(w=>!w)),"aria-pressed":c.to("isOn",(w=>!!this.isToggleable&&String(!!w))),"data-cke-tooltip-text":c.to("_tooltipString"),"data-cke-tooltip-position":c.to("tooltipPosition")},children:this.children,on:{click:c.to((w=>{this.isEnabled?this.fire("execute"):w.preventDefault()}))}};v.isSafari&&(this._focusDelayed||(this._focusDelayed=rw((()=>this.focus()),0)),g.on.mousedown=c.to((()=>{this._focusDelayed()})),g.on.mouseup=c.to((()=>{this._focusDelayed.cancel()}))),this.setTemplate(g)}render(){super.render(),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.labelView),this.withKeystroke&&this.keystroke&&this.children.add(this.keystrokeView)}focus(){this.element.focus()}destroy(){this._focusDelayed&&this._focusDelayed.cancel(),super.destroy()}_setupLabelView(i){return i.bind("text","style","id").to(this,"label","labelStyle","ariaLabelledBy"),i}_createKeystrokeView(){const i=new st;return i.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",(s=>Cf(s)))}]}),i}_getTooltipString(i,s,c){return i?typeof i=="string"?i:(c&&(c=Cf(c)),i instanceof Function?i(s,c):`${s}${c?` (${c})`:""}`):""}}var tp=o(4391),dA={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$e()(tp.A,dA),tp.A.locals;class Im extends Ut{constructor(i){super(i),this.isToggleable=!0,this.toggleSwitchView=this._createToggleView(),this.extendTemplate({attributes:{class:"ck-switchbutton"}})}render(){super.render(),this.children.add(this.toggleSwitchView)}_createToggleView(){const i=new st;return i.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),i}}class np extends Ut{constructor(i){super(i),this.buttonView=this,this._fileInputView=new Nm(i),this._fileInputView.bind("acceptedType").to(this),this._fileInputView.bind("allowMultipleFiles").to(this),this._fileInputView.delegate("done").to(this),this.on("execute",(()=>{this._fileInputView.open()})),this.extendTemplate({attributes:{class:"ck-file-dialog-button"}})}render(){super.render(),this.children.add(this._fileInputView)}}class Nm extends st{constructor(i){super(i),this.set("acceptedType",void 0),this.set("allowMultipleFiles",!1);const s=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:s.to("acceptedType"),multiple:s.to("allowMultipleFiles")},on:{change:s.to((()=>{this.element&&this.element.files&&this.element.files.length&&this.fire("done",this.element.files),this.element.value=""}))}})}open(){this.element.click()}}const rp='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>';var od=o(25),uA={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$e()(od.A,uA),od.A.locals;class TC extends st{constructor(i,s){super(i);const c=this.bindTemplate;this.set("isCollapsed",!1),this.set("label",""),this.buttonView=this._createButtonView(),this.children=this.createCollection(),this.set("_collapsibleAriaLabelUid",void 0),s&&this.children.addMany(s),this.setTemplate({tag:"div",attributes:{class:["ck","ck-collapsible",c.if("isCollapsed","ck-collapsible_collapsed")]},children:[this.buttonView,{tag:"div",attributes:{class:["ck","ck-collapsible__children"],role:"region",hidden:c.if("isCollapsed","hidden"),"aria-labelledby":c.to("_collapsibleAriaLabelUid")},children:this.children}]})}render(){super.render(),this._collapsibleAriaLabelUid=this.buttonView.labelView.element.id}focus(){this.buttonView.focus()}_createButtonView(){const i=new Ut(this.locale),s=i.bindTemplate;return i.set({withText:!0,icon:rp}),i.extendTemplate({attributes:{"aria-expanded":s.to("isOn",(c=>String(c)))}}),i.bind("label").to(this),i.bind("isOn").to(this,"isCollapsed",(c=>!c)),i.on("execute",(()=>{this.isCollapsed=!this.isCollapsed})),i}}var ip=o(7317),hA={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$e()(ip.A,hA),ip.A.locals,o(6931),o(9047);var fA=o(4962),Om={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$e()(fA.A,Om),fA.A.locals;class p extends st{constructor(i,s){super(i);const c=`ck-labeled-field-view-${L()}`,h=`ck-labeled-field-view-status-${L()}`;this.fieldView=s(this,c,h),this.set("label",void 0),this.set("isEnabled",!0),this.set("isEmpty",!0),this.set("isFocused",!1),this.set("errorText",null),this.set("infoText",null),this.set("class",void 0),this.set("placeholder",void 0),this.labelView=this._createLabelView(c),this.statusView=this._createStatusView(h),this.fieldWrapperChildren=this.createCollection([this.fieldView,this.labelView]),this.bind("_statusText").to(this,"errorText",this,"infoText",((w,k)=>w||k));const g=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view",g.to("class"),g.if("isEnabled","ck-disabled",(w=>!w)),g.if("isEmpty","ck-labeled-field-view_empty"),g.if("isFocused","ck-labeled-field-view_focused"),g.if("placeholder","ck-labeled-field-view_placeholder"),g.if("errorText","ck-error")]},children:[{tag:"div",attributes:{class:["ck","ck-labeled-field-view__input-wrapper"]},children:this.fieldWrapperChildren},this.statusView]})}_createLabelView(i){const s=new uh(this.locale);return s.for=i,s.bind("text").to(this,"label"),s}_createStatusView(i){const s=new st(this.locale),c=this.bindTemplate;return s.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view__status",c.if("errorText","ck-labeled-field-view__status_error"),c.if("_statusText","ck-hidden",(h=>!h))],id:i,role:c.if("errorText","alert")},children:[{text:c.to("_statusText")}]}),s}focus(i){this.fieldView.focus(i)}}class b extends st{constructor(i){super(i),this.set("value",void 0),this.set("id",void 0),this.set("placeholder",void 0),this.set("tabIndex",void 0),this.set("isReadOnly",!1),this.set("hasError",!1),this.set("ariaDescribedById",void 0),this.set("ariaLabel",void 0),this.focusTracker=new kr,this.bind("isFocused").to(this.focusTracker),this.set("isEmpty",!0);const s=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck","ck-input",s.if("isFocused","ck-input_focused"),s.if("isEmpty","ck-input-text_empty"),s.if("hasError","ck-error")],id:s.to("id"),placeholder:s.to("placeholder"),tabindex:s.to("tabIndex"),readonly:s.to("isReadOnly"),"aria-invalid":s.if("hasError",!0),"aria-describedby":s.to("ariaDescribedById"),"aria-label":s.to("ariaLabel")},on:{input:s.to(((...c)=>{this.fire("input",...c),this._updateIsEmpty()})),change:s.to(this._updateIsEmpty.bind(this))}})}render(){super.render(),this.focusTracker.add(this.element),this._setDomElementValue(this.value),this._updateIsEmpty(),this.on("change:value",((i,s,c)=>{this._setDomElementValue(c),this._updateIsEmpty()}))}destroy(){super.destroy(),this.focusTracker.destroy()}select(){this.element.select()}focus(){this.element.focus()}reset(){this.value=this.element.value="",this._updateIsEmpty()}_updateIsEmpty(){this.isEmpty=!this.element.value}_setDomElementValue(i){this.element.value=i||i===0?i:""}}var x=o(253),D={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$e()(x.A,D),x.A.locals;class O extends b{constructor(i){super(i),this.set("inputMode","text");const s=this.bindTemplate;this.extendTemplate({attributes:{inputmode:s.to("inputMode")}})}}class B extends O{constructor(i){super(i),this.extendTemplate({attributes:{type:"text",class:["ck-input-text"]}})}}var q=o(1671),oe={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$e()(q.A,oe),q.A.locals;class pe extends st{constructor(i){super(i);const s=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",s.to("position",(c=>`ck-dropdown__panel_${c}`)),s.if("isVisible","ck-dropdown__panel-visible")],tabindex:"-1"},children:this.children,on:{selectstart:s.to((c=>{c.target.tagName.toLocaleLowerCase()!=="input"&&c.preventDefault()}))}})}focus(){if(this.children.length){const i=this.children.first;typeof i.focus=="function"?i.focus():K("ui-dropdown-panel-focus-child-missing-focus",{childView:this.children.first,dropdownPanel:this})}}focusLast(){if(this.children.length){const i=this.children.last;typeof i.focusLast=="function"?i.focusLast():i.focus()}}}var ye=o(8149),Ne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$e()(ye.A,Ne),ye.A.locals;const Be=class extends st{constructor(u,i,s){super(u);const c=this.bindTemplate;this.buttonView=i,this.panelView=s,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("class",void 0),this.set("id",void 0),this.set("panelPosition","auto"),this.panelView.bind("isVisible").to(this,"isOpen"),this.keystrokes=new fi,this.focusTracker=new kr,this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",c.to("class"),c.if("isEnabled","ck-disabled",(h=>!h))],id:c.to("id"),"aria-describedby":c.to("ariaDescribedById")},children:[i,s]}),i.extendTemplate({attributes:{class:["ck-dropdown__button"],"data-cke-tooltip-disabled":c.to("isOpen")}})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.listenTo(this.buttonView,"open",(()=>{this.isOpen=!this.isOpen})),this.on("change:isOpen",((i,s,c)=>{if(c)if(this.panelPosition==="auto"){const h=Be._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions});this.panelView.position=h?h.name:this._panelPositions[0].name}else this.panelView.position=this.panelPosition})),this.keystrokes.listenTo(this.element);const u=(i,s)=>{this.isOpen&&(this.isOpen=!1,s())};this.keystrokes.set("arrowdown",((i,s)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,s())})),this.keystrokes.set("arrowright",((i,s)=>{this.isOpen&&s()})),this.keystrokes.set("arrowleft",u),this.keystrokes.set("esc",u)}focus(){this.buttonView.focus()}get _panelPositions(){const{south:u,north:i,southEast:s,southWest:c,northEast:h,northWest:g,southMiddleEast:w,southMiddleWest:k,northMiddleEast:_,northMiddleWest:R}=Be.defaultPanelPositions;return this.locale.uiLanguageDirection!=="rtl"?[s,c,w,k,u,h,g,_,R,i]:[c,s,k,w,u,g,h,R,_,i]}};let Ae=Be;Ae.defaultPanelPositions={south:(u,i)=>({top:u.bottom,left:u.left-(i.width-u.width)/2,name:"s"}),southEast:u=>({top:u.bottom,left:u.left,name:"se"}),southWest:(u,i)=>({top:u.bottom,left:u.left-i.width+u.width,name:"sw"}),southMiddleEast:(u,i)=>({top:u.bottom,left:u.left-(i.width-u.width)/4,name:"sme"}),southMiddleWest:(u,i)=>({top:u.bottom,left:u.left-3*(i.width-u.width)/4,name:"smw"}),north:(u,i)=>({top:u.top-i.height,left:u.left-(i.width-u.width)/2,name:"n"}),northEast:(u,i)=>({top:u.top-i.height,left:u.left,name:"ne"}),northWest:(u,i)=>({top:u.top-i.height,left:u.left-i.width+u.width,name:"nw"}),northMiddleEast:(u,i)=>({top:u.top-i.height,left:u.left-(i.width-u.width)/4,name:"nme"}),northMiddleWest:(u,i)=>({top:u.top-i.height,left:u.left-3*(i.width-u.width)/4,name:"nmw"})},Ae._getOptimalPosition=_u;class Re extends Ut{constructor(i){super(i),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",(s=>String(s)))}}),this.delegate("execute").to(this,"open")}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const i=new Ha;return i.content=rp,i.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),i}}class Je extends le(){constructor(i){if(super(),this.focusables=i.focusables,this.focusTracker=i.focusTracker,this.keystrokeHandler=i.keystrokeHandler,this.actions=i.actions,i.actions&&i.keystrokeHandler)for(const s in i.actions){let c=i.actions[s];typeof c=="string"&&(c=[c]);for(const h of c)i.keystrokeHandler.set(h,((g,w)=>{this[s](),w()}))}this.on("forwardCycle",(()=>this.focusFirst()),{priority:"low"}),this.on("backwardCycle",(()=>this.focusLast()),{priority:"low"})}get first(){return this.focusables.find(gt)||null}get last(){return this.focusables.filter(gt).slice(-1)[0]||null}get next(){return this._getDomFocusableItem(1)}get previous(){return this._getDomFocusableItem(-1)}get current(){let i=null;return this.focusTracker.focusedElement===null?null:(this.focusables.find(((s,c)=>{const h=s.element===this.focusTracker.focusedElement;return h&&(i=c),h})),i)}focusFirst(){this._focus(this.first,1)}focusLast(){this._focus(this.last,-1)}focusNext(){const i=this.next;i&&this.focusables.getIndex(i)===this.current||i===this.first?this.fire("forwardCycle"):this._focus(i,1)}focusPrevious(){const i=this.previous;i&&this.focusables.getIndex(i)===this.current||i===this.last?this.fire("backwardCycle"):this._focus(i,-1)}_focus(i,s){i&&this.focusTracker.focusedElement!==i.element&&i.focus(s)}_getDomFocusableItem(i){const s=this.focusables.length;if(!s)return null;const c=this.current;if(c===null)return this[i===1?"first":"last"];let h=this.focusables.get(c),g=(c+s+i)%s;do{const w=this.focusables.get(g);if(gt(w)){h=w;break}g=(g+s+i)%s}while(g!==c);return h}}function gt(u){return en(u)&&Nc(u.element)}function en(u){return!(!("focus"in u)||typeof u.focus!="function")}class we extends st{constructor(i){super(i),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}})}}class be extends st{constructor(i){super(i),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__line-break"]}})}}var ke=Object.defineProperty,Le=Object.getOwnPropertySymbols,dt=Object.prototype.hasOwnProperty,tn=Object.prototype.propertyIsEnumerable,rt=(u,i,s)=>i in u?ke(u,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):u[i]=s,Tt=(u,i)=>{for(var s in i||(i={}))dt.call(i,s)&&rt(u,s,i[s]);if(Le)for(var s of Le(i))tn.call(i,s)&&rt(u,s,i[s]);return u};function Bt(u){if(Array.isArray(u))return{items:u,removeItems:[]};const i={items:[],removeItems:[]};return u?Tt(Tt({},i),u):i}var Xt=o(9677),Hl={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$e()(Xt.A,Hl),Xt.A.locals;const g2={alignLeft:Dt.alignLeft,bold:Dt.bold,importExport:Dt.importExport,paragraph:Dt.paragraph,plus:Dt.plus,text:Dt.text,threeVerticalDots:Dt.threeVerticalDots,pilcrow:Dt.pilcrow,dragIndicator:Dt.dragIndicator};class m2 extends st{constructor(i,s){super(i);const c=this.bindTemplate,h=this.t;this.options=s||{},this.set("ariaLabel",h("Editor toolbar")),this.set("maxWidth","auto"),this.items=this.createCollection(),this.focusTracker=new kr,this.keystrokes=new fi,this.set("class",void 0),this.set("isCompact",!1),this.itemsView=new Dee(i),this.children=this.createCollection(),this.children.add(this.itemsView),this.focusables=this.createCollection();const g=i.uiLanguageDirection==="rtl";this._focusCycler=new Je({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:[g?"arrowright":"arrowleft","arrowup"],focusNext:[g?"arrowleft":"arrowright","arrowdown"]}});const w=["ck","ck-toolbar",c.to("class"),c.if("isCompact","ck-toolbar_compact")];var k;this.options.shouldGroupWhenFull&&this.options.isFloating&&w.push("ck-toolbar_floating"),this.setTemplate({tag:"div",attributes:{class:w,role:"toolbar","aria-label":c.to("ariaLabel"),style:{maxWidth:c.to("maxWidth")},tabindex:-1},children:this.children,on:{mousedown:(k=this,k.bindTemplate.to((_=>{_.target===k.element&&_.preventDefault()})))}}),this._behavior=this.options.shouldGroupWhenFull?new Tee(this):new Mee(this)}render(){super.render(),this.focusTracker.add(this.element);for(const i of this.items)this.focusTracker.add(i.element);this.items.on("add",((i,s)=>{this.focusTracker.add(s.element)})),this.items.on("remove",((i,s)=>{this.focusTracker.remove(s.element)})),this.keystrokes.listenTo(this.element),this._behavior.render(this)}destroy(){return this._behavior.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy(),super.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(i,s,c){this.items.addMany(this._buildItemsFromConfig(i,s,c))}_buildItemsFromConfig(i,s,c){const h=Bt(i),g=c||h.removeItems;return this._cleanItemsConfiguration(h.items,s,g).map((w=>_e(w)?this._createNestedToolbarDropdown(w,s,g):w==="|"?new we:w==="-"?new be:s.create(w))).filter((w=>!!w))}_cleanItemsConfiguration(i,s,c){const h=i.filter(((g,w,k)=>g==="|"||c.indexOf(g)===-1&&(g==="-"?!this.options.shouldGroupWhenFull||(K("toolbarview-line-break-ignored-when-grouping-items",k),!1):!(!_e(g)&&!s.has(g))||(K("toolbarview-item-unavailable",{item:g}),!1))));return this._cleanSeparatorsAndLineBreaks(h)}_cleanSeparatorsAndLineBreaks(i){const s=w=>w!=="-"&&w!=="|",c=i.length,h=i.findIndex(s);if(h===-1)return[];const g=c-i.slice().reverse().findIndex(s);return i.slice(h,g).filter(((w,k,_)=>s(w)?!0:!(k>0&&_[k-1]===w)))}_createNestedToolbarDropdown(i,s,c){let{label:h,icon:g,items:w,tooltip:k=!0,withText:_=!1}=i;if(w=this._cleanItemsConfiguration(w,s,c),!w.length)return null;const R=sd(this.locale);return h||K("toolbarview-nested-toolbar-dropdown-missing-label",i),R.class="ck-toolbar__nested-toolbar-dropdown",R.buttonView.set({label:h,tooltip:k,withText:!!_}),g!==!1?R.buttonView.icon=g2[g]||g||Dt.threeVerticalDots:R.buttonView.withText=!0,w2(R,(()=>R.toolbarView._buildItemsFromConfig(w,s,c))),R}}class Dee extends st{constructor(i){super(i),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:this.children})}}class Mee{constructor(i){const s=i.bindTemplate;i.set("isVertical",!1),i.itemsView.children.bindTo(i.items).using((c=>c)),i.focusables.bindTo(i.items).using((c=>en(c)?c:null)),i.extendTemplate({attributes:{class:[s.if("isVertical","ck-toolbar_vertical")]}})}render(){}destroy(){}}class Tee{constructor(i){this.resizeObserver=null,this.cachedPadding=null,this.shouldUpdateGroupingOnNextResize=!1,this.view=i,this.viewChildren=i.children,this.viewFocusables=i.focusables,this.viewItemsView=i.itemsView,this.viewFocusTracker=i.focusTracker,this.viewLocale=i.locale,this.ungroupedItems=i.createCollection(),this.groupedItems=i.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),i.itemsView.children.bindTo(this.ungroupedItems).using((s=>s)),this.ungroupedItems.on("change",this._updateFocusCyclableItems.bind(this)),i.children.on("change",this._updateFocusCyclableItems.bind(this)),i.items.on("change",((s,c)=>{const h=c.index,g=Array.from(c.added);for(const w of c.removed)h>=this.ungroupedItems.length?this.groupedItems.remove(w):this.ungroupedItems.remove(w);for(let w=h;w<h+g.length;w++){const k=g[w-h];w>this.ungroupedItems.length?this.groupedItems.add(k,w-this.ungroupedItems.length):this.ungroupedItems.add(k,w)}this._updateGrouping()})),i.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}render(i){this.viewElement=i.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(i)}destroy(){this.groupedItemsDropdown.destroy(),this.resizeObserver.destroy()}_updateGrouping(){if(!this.viewElement.ownerDocument.body.contains(this.viewElement))return;if(!Nc(this.viewElement))return void(this.shouldUpdateGroupingOnNextResize=!0);const i=this.groupedItems.length;let s;for(;this._areItemsOverflowing;)this._groupLastItem(),s=!0;if(!s&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}this.groupedItems.length!==i&&this.view.fire("groupedItemsUpdate")}get _areItemsOverflowing(){if(!this.ungroupedItems.length)return!1;const i=this.viewElement,s=this.viewLocale.uiLanguageDirection,c=new _t(i.lastChild),h=new _t(i);if(!this.cachedPadding){const g=d.window.getComputedStyle(i),w=s==="ltr"?"paddingRight":"paddingLeft";this.cachedPadding=Number.parseInt(g[w])}return s==="ltr"?c.right>h.right-this.cachedPadding:c.left<h.left+this.cachedPadding}_enableGroupingOnResize(){let i;this.resizeObserver=new pl(this.viewElement,(s=>{i&&i===s.contentRect.width&&!this.shouldUpdateGroupingOnNextResize||(this.shouldUpdateGroupingOnNextResize=!1,this._updateGrouping(),i=s.contentRect.width)})),this._updateGrouping()}_enableGroupingOnMaxWidthChange(i){i.on("change:maxWidth",(()=>{this._updateGrouping()}))}_groupLastItem(){this.groupedItems.length||(this.viewChildren.add(new we),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}_ungroupFirstItem(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}_createGroupedItemsDropdown(){const i=this.viewLocale,s=i.t,c=sd(i);return c.class="ck-toolbar__grouped-dropdown",c.panelPosition=i.uiLanguageDirection==="ltr"?"sw":"se",w2(c,this.groupedItems),c.buttonView.set({label:s("Show more items"),tooltip:!0,tooltipPosition:i.uiLanguageDirection==="rtl"?"se":"sw",icon:Dt.threeVerticalDots}),c}_updateFocusCyclableItems(){this.viewFocusables.clear(),this.ungroupedItems.map((i=>{en(i)&&this.viewFocusables.add(i)})),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}}class Fm extends st{constructor(i){super(i);const s=this.bindTemplate;this.set("isVisible",!0),this.children=this.createCollection(),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item",s.if("isVisible","ck-hidden",(c=>!c))],role:"presentation"},children:this.children})}focus(){this.children.first&&this.children.first.focus()}}class b2 extends st{constructor(i){super(i),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}})}}class pA extends st{constructor(i,s=new uh){super(i);const c=this.bindTemplate,h=new v2(i);this.set({label:"",isVisible:!0}),this.labelView=s,this.labelView.bind("text").to(this,"label"),this.children=this.createCollection(),this.children.addMany([this.labelView,h]),h.set({role:"group",ariaLabelledBy:s.id}),h.focusTracker.destroy(),h.keystrokes.destroy(),this.items=h.items,this.setTemplate({tag:"li",attributes:{role:"presentation",class:["ck","ck-list__group",c.if("isVisible","ck-hidden",(g=>!g))]},children:this.children})}focus(){if(this.items){const i=this.items.find((s=>!(s instanceof b2)));i&&i.focus()}}}var b4=o(5199),Ree={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$e()(b4.A,Ree),b4.A.locals;class v2 extends st{constructor(i){super(i),this._listItemGroupToChangeListeners=new WeakMap;const s=this.bindTemplate;this.focusables=new Mi,this.items=this.createCollection(),this.focusTracker=new kr,this.keystrokes=new fi,this._focusCycler=new Je({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),this.set("ariaLabel",void 0),this.set("ariaLabelledBy",void 0),this.set("role",void 0),this.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"],role:s.to("role"),"aria-label":s.to("ariaLabel"),"aria-labelledby":s.to("ariaLabelledBy")},children:this.items})}render(){super.render();for(const i of this.items)i instanceof pA?this._registerFocusableItemsGroup(i):i instanceof Fm&&this._registerFocusableListItem(i);this.items.on("change",((i,s)=>{for(const c of s.removed)c instanceof pA?this._deregisterFocusableItemsGroup(c):c instanceof Fm&&this._deregisterFocusableListItem(c);for(const c of Array.from(s.added).reverse())c instanceof pA?this._registerFocusableItemsGroup(c,s.index):this._registerFocusableListItem(c,s.index)})),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}focusFirst(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}_registerFocusableListItem(i,s){this.focusTracker.add(i.element),this.focusables.add(i,s)}_deregisterFocusableListItem(i){this.focusTracker.remove(i.element),this.focusables.remove(i)}_getOnGroupItemsChangeCallback(i){return(s,c)=>{for(const h of c.removed)this._deregisterFocusableListItem(h);for(const h of Array.from(c.added).reverse())this._registerFocusableListItem(h,this.items.getIndex(i)+c.index)}}_registerFocusableItemsGroup(i,s){Array.from(i.items).forEach(((h,g)=>{const w=s!==void 0?s+g:void 0;this._registerFocusableListItem(h,w)}));const c=this._getOnGroupItemsChangeCallback(i);this._listItemGroupToChangeListeners.set(i,c),i.items.on("change",c)}_deregisterFocusableItemsGroup(i){for(const s of i.items)this._deregisterFocusableListItem(s);i.items.off("change",this._listItemGroupToChangeListeners.get(i)),this._listItemGroupToChangeListeners.delete(i)}}var v4=o(1792),Pee={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$e()(v4.A,Pee),v4.A.locals;class gA extends st{constructor(i,s){super(i);const c=this.bindTemplate;this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isToggleable",!1),this.set("isVisible",!0),this.set("keystroke",void 0),this.set("withKeystroke",!1),this.set("label",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.children=this.createCollection(),this.actionView=this._createActionView(s),this.arrowView=this._createArrowView(),this.keystrokes=new fi,this.focusTracker=new kr,this.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",c.to("class"),c.if("isVisible","ck-hidden",(h=>!h)),this.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:this.children})}render(){super.render(),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",((i,s)=>{this.focusTracker.focusedElement===this.actionView.element&&(this.arrowView.focus(),s())})),this.keystrokes.set("arrowleft",((i,s)=>{this.focusTracker.focusedElement===this.arrowView.element&&(this.actionView.focus(),s())}))}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.actionView.focus()}_createActionView(i){const s=i||new Ut;return i||s.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this),s.extendTemplate({attributes:{class:"ck-splitbutton__action"}}),s.delegate("execute").to(this),s}_createArrowView(){const i=new Ut,s=i.bindTemplate;return i.icon=rp,i.extendTemplate({attributes:{class:["ck-splitbutton__arrow"],"data-cke-tooltip-disabled":s.to("isOn"),"aria-haspopup":!0,"aria-expanded":s.to("isOn",(c=>String(c)))}}),i.bind("isEnabled").to(this),i.bind("label").to(this),i.bind("tooltip").to(this),i.delegate("execute").to(this,"open"),i}}var w4=o(1666),Iee={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$e()(w4.A,Iee),w4.A.locals;var C4=o(3629),Nee={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$e()(C4.A,Nee),C4.A.locals;function sd(u,i=Re){const s=typeof i=="function"?new i(u):i,c=new pe(u),h=new Ae(u,s,c);return s.bind("isEnabled").to(h),s instanceof gA?s.arrowView.bind("isOn").to(h,"isOpen"):s.bind("isOn").to(h,"isOpen"),(function(g){(function(w){w.on("render",(()=>{Ls({emitter:w,activator:()=>w.isOpen,callback:()=>{w.isOpen=!1},contextElements:()=>[w.element,...w.focusTracker._elements]})}))})(g),(function(w){w.on("execute",(k=>{k.source instanceof Im||(w.isOpen=!1)}))})(g),(function(w){w.focusTracker.on("change:isFocused",((k,_,R)=>{w.isOpen&&!R&&(w.isOpen=!1)}))})(g),(function(w){w.keystrokes.set("arrowdown",((k,_)=>{w.isOpen&&(w.panelView.focus(),_())})),w.keystrokes.set("arrowup",((k,_)=>{w.isOpen&&(w.panelView.focusLast(),_())}))})(g),(function(w){w.on("change:isOpen",((k,_,R)=>{if(R)return;const I=w.panelView.element;I&&I.contains(d.document.activeElement)&&w.buttonView.focus()}))})(g),(function(w){w.on("change:isOpen",((k,_,R)=>{R&&w.panelView.focus()}),{priority:"low"})})(g)})(h),h}function w2(u,i,s={}){u.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),u.isOpen?y4(u,i,s):u.once("change:isOpen",(()=>y4(u,i,s)),{priority:"highest"}),s.enableActiveItemFocusOnDropdownOpen&&A4(u,(()=>u.toolbarView.items.find((c=>c.isOn))))}function y4(u,i,s){const c=u.locale,h=c.t,g=u.toolbarView=new m2(c),w=typeof i=="function"?i():i;g.ariaLabel=s.ariaLabel||h("Dropdown toolbar"),s.maxWidth&&(g.maxWidth=s.maxWidth),s.class&&(g.class=s.class),s.isCompact&&(g.isCompact=s.isCompact),s.isVertical&&(g.isVertical=!0),w instanceof Mi?g.items.bindTo(w).using((k=>k)):g.items.addMany(w),u.panelView.children.add(g),g.items.delegate("execute").to(u)}function k4(u,i,s={}){u.isOpen?x4(u,i,s):u.once("change:isOpen",(()=>x4(u,i,s)),{priority:"highest"}),A4(u,(()=>u.listView.items.find((c=>c instanceof Fm&&c.children.first.isOn))))}function x4(u,i,s){const c=u.locale,h=u.listView=new v2(c),g=typeof i=="function"?i():i;h.ariaLabel=s.ariaLabel,h.role=s.role,S4(u,h.items,g,c),u.panelView.children.add(h),h.items.delegate("execute").to(u)}function A4(u,i){u.on("change:isOpen",(()=>{if(!u.isOpen)return;const s=i();s&&(typeof s.focus=="function"?s.focus():K("ui-dropdown-focus-child-on-open-child-missing-focus",{view:s}))}),{priority:V.low-10})}function S4(u,i,s,c){i.bindTo(s).using((h=>{if(h.type==="separator")return new b2(c);if(h.type==="group"){const g=new pA(c);return g.set({label:h.label}),S4(u,g.items,h.items,c),g.items.delegate("execute").to(u),g}if(h.type==="button"||h.type==="switchbutton"){const g=new Fm(c);let w;return h.type==="button"?(w=new Ut(c),w.bind("ariaChecked").to(w,"isOn")):w=new Im(c),w.bind(...Object.keys(h.model)).to(h.model),w.delegate("execute").to(g),g.children.add(w),g}return null}))}const mA=(u,i,s)=>{const c=new B(u.locale);return c.set({id:i,ariaDescribedById:s}),c.bind("isReadOnly").to(u,"isEnabled",(h=>!h)),c.bind("hasError").to(u,"errorText",(h=>!!h)),c.on("input",(()=>{u.errorText=null})),u.bind("isEmpty","isFocused","placeholder").to(c),c};var _4=o(1905),Oee={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$e()(_4.A,Oee),_4.A.locals;var E4=o(6309),Fee={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$e()(E4.A,Fee),E4.A.locals;class Lee{constructor(i){this._components=new Map,this.editor=i}*names(){for(const i of this._components.values())yield i.originalName}add(i,s){this._components.set(C2(i),{callback:s,originalName:i})}create(i){if(!this.has(i))throw new z("componentfactory-item-missing",this,{name:i});return this._components.get(C2(i)).callback(this.editor.locale)}has(i){return this._components.has(C2(i))}}function C2(u){return String(u).toLowerCase()}var D4=o(7913),Bee={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$e()(D4.A,Bee),D4.A.locals;class jee extends st{constructor(i,s={}){super(i);const c=this.bindTemplate;this.set("label",s.label||""),this.set("class",s.class||null),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-form__header",c.to("class")]},children:this.children}),s.icon&&(this.iconView=new Ha,this.iconView.content=s.icon,this.children.add(this.iconView));const h=new st(i);h.setTemplate({tag:"h2",attributes:{class:["ck","ck-form__header__label"],role:"presentation"},children:[{text:c.to("label")}]}),this.children.add(h)}}var M4=o(9822),zee={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$e()(M4.A,zee),M4.A.locals;class Hee extends st{constructor(i){super(i),this.children=this.createCollection(),this.keystrokes=new fi,this._focusTracker=new kr,this._focusables=new Mi,this.focusCycler=new Je({focusables:this._focusables,focusTracker:this._focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog__actions"]},children:this.children})}render(){super.render(),this.keystrokes.listenTo(this.element)}setButtons(i){for(const s of i){const c=new Ut(this.locale);let h;for(h in c.on("execute",(()=>s.onExecute())),s.onCreate&&s.onCreate(c),s)h!="onExecute"&&h!="onCreate"&&c.set(h,s[h]);this.children.add(c)}this._updateFocusCyclableItems()}focus(i){i===-1?this.focusCycler.focusLast():this.focusCycler.focusFirst()}_updateFocusCyclableItems(){Array.from(this.children).forEach((i=>{this._focusables.add(i),this._focusTracker.add(i.element)}))}}class Vee extends st{constructor(i){super(i),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog__content"]},children:this.children})}reset(){for(;this.children.length;)this.children.remove(0)}}var T4=o(9819),Gee={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$e()(T4.A,Gee),T4.A.locals;const bA="screen-center",R4="editor-center",Uee="editor-top-side",Wee="editor-top-center",$ee="editor-bottom-center",qee="editor-above-center",Kee="editor-below-center",P4=To("px"),I4=class extends(function(u){return class extends u{constructor(...i){super(...i),this._onDragBound=this._onDrag.bind(this),this._onDragEndBound=this._onDragEnd.bind(this),this._lastDraggingCoordinates={x:0,y:0},this.on("render",(()=>{this._attachListeners()})),this.set("isDragging",!1)}_attachListeners(){this.listenTo(this.element,"mousedown",this._onDragStart.bind(this)),this.listenTo(this.element,"touchstart",this._onDragStart.bind(this))}_attachDragListeners(){this.listenTo(d.document,"mouseup",this._onDragEndBound),this.listenTo(d.document,"touchend",this._onDragEndBound),this.listenTo(d.document,"mousemove",this._onDragBound),this.listenTo(d.document,"touchmove",this._onDragBound)}_detachDragListeners(){this.stopListening(d.document,"mouseup",this._onDragEndBound),this.stopListening(d.document,"touchend",this._onDragEndBound),this.stopListening(d.document,"mousemove",this._onDragBound),this.stopListening(d.document,"touchmove",this._onDragBound)}_onDragStart(i,s){if(!this._isHandleElementPressed(s))return;this._attachDragListeners();let c=0,h=0;s instanceof MouseEvent?(c=s.clientX,h=s.clientY):(c=s.touches[0].clientX,h=s.touches[0].clientY),this._lastDraggingCoordinates={x:c,y:h},this.isDragging=!0}_onDrag(i,s){if(!this.isDragging)return void this._detachDragListeners();let c=0,h=0;s instanceof MouseEvent?(c=s.clientX,h=s.clientY):(c=s.touches[0].clientX,h=s.touches[0].clientY),s.preventDefault(),this.fire("drag",{deltaX:Math.round(c-this._lastDraggingCoordinates.x),deltaY:Math.round(h-this._lastDraggingCoordinates.y)}),this._lastDraggingCoordinates={x:c,y:h}}_onDragEnd(){this._detachDragListeners(),this.isDragging=!1}_isHandleElementPressed(i){return!!this.dragHandleElement&&(this.dragHandleElement===i.target||i.target instanceof HTMLElement&&this.dragHandleElement.contains(i.target))}}})(st){constructor(u,{getCurrentDomRoot:i,getViewportOffset:s}){super(u),this.wasMoved=!1;const c=this.bindTemplate,h=u.t;this.set("className",""),this.set("ariaLabel",h("Editor dialog")),this.set("isModal",!1),this.set("position",bA),this.set("_isVisible",!1),this.set("_isTransparent",!1),this.set("_top",0),this.set("_left",0),this._getCurrentDomRoot=i,this._getViewportOffset=s,this.decorate("moveTo"),this.parts=this.createCollection(),this.keystrokes=new fi,this.focusTracker=new kr,this._focusables=new Mi,this._focusCycler=new Je({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog-overlay",c.if("isModal","ck-dialog-overlay__transparent",(g=>!g)),c.if("_isVisible","ck-hidden",(g=>!g))],tabindex:"-1"},children:[{tag:"div",attributes:{tabindex:"-1",class:["ck","ck-dialog",c.to("className")],role:"dialog","aria-label":c.to("ariaLabel"),style:{top:c.to("_top",(g=>P4(g))),left:c.to("_left",(g=>P4(g))),visibility:c.if("_isTransparent","hidden")}},children:this.parts}]})}render(){super.render(),this.keystrokes.set("Esc",((u,i)=>{this.fire("close",{source:"escKeyPress"}),i()})),this.on("drag",((u,{deltaX:i,deltaY:s})=>{this.wasMoved=!0,this.moveBy(i,s)})),this.listenTo(d.window,"resize",(()=>{this._isVisible&&!this.wasMoved&&this.updatePosition()})),this.listenTo(d.document,"scroll",(()=>{this._isVisible&&!this.wasMoved&&this.updatePosition()})),this.on("change:_isVisible",((u,i,s)=>{s&&(this._isTransparent=!0,setTimeout((()=>{this.updatePosition(),this._isTransparent=!1,this.focus()}),10))})),this.keystrokes.listenTo(this.element)}get dragHandleElement(){return this.headerView?this.headerView.element:null}setupParts({icon:u,title:i,hasCloseButton:s=!0,content:c,actionButtons:h}){i&&(this.headerView=new jee(this.locale,{icon:u}),s&&(this.closeButtonView=this._createCloseButton(),this.headerView.children.add(this.closeButtonView)),this.headerView.label=i,this.ariaLabel=i,this.parts.add(this.headerView,0)),c&&(c instanceof st&&(c=[c]),this.contentView=new Vee(this.locale),this.contentView.children.addMany(c),this.parts.add(this.contentView)),h&&(this.actionsView=new Hee(this.locale),this.actionsView.setButtons(h),this.parts.add(this.actionsView)),this._updateFocusCyclableItems()}focus(){this._focusCycler.focusFirst()}moveTo(u,i){const s=this._getViewportRect(),c=this._getDialogRect();u+c.width>s.right&&(u=s.right-c.width),u<s.left&&(u=s.left),i<s.top&&(i=s.top),this._moveTo(u,i)}_moveTo(u,i){this._left=u,this._top=i}moveBy(u,i){this.moveTo(this._left+u,this._top+i)}_moveOffScreen(){this._moveTo(-9999,-9999)}updatePosition(){if(!this.element||!this.element.parentNode)return;const u=this._getViewportRect();let i,s=this.position;this._getCurrentDomRoot()?i=this._getVisibleDomRootRect(u):s=bA;const c=I4.defaultOffset,h=this._getDialogRect();switch(s){case Uee:if(i){const g=this.locale.contentLanguageDirection==="ltr"?i.right-h.width-c:i.left+c;this.moveTo(g,i.top+c)}else this._moveOffScreen();break;case R4:i?this.moveTo(Math.round(i.left+i.width/2-h.width/2),Math.round(i.top+i.height/2-h.height/2)):this._moveOffScreen();break;case bA:this.moveTo(Math.round((u.width-h.width)/2),Math.round((u.height-h.height)/2));break;case Wee:i?this.moveTo(Math.round(i.left+i.width/2-h.width/2),i.top+c):this._moveOffScreen();break;case $ee:i?this.moveTo(Math.round(i.left+i.width/2-h.width/2),i.bottom-h.height-c):this._moveOffScreen();break;case qee:i?this.moveTo(Math.round(i.left+i.width/2-h.width/2),i.top-h.height-c):this._moveOffScreen();break;case Kee:i?this.moveTo(Math.round(i.left+i.width/2-h.width/2),i.bottom+c):this._moveOffScreen()}}_getVisibleDomRootRect(u){let i=new _t(this._getCurrentDomRoot()).getVisible();return i?(i=u.getIntersection(i),i||null):null}_getDialogRect(){return new _t(this.element.firstElementChild)}_getViewportRect(){return(function(u){u=Object.assign({top:0,bottom:0,left:0,right:0},u);const i=new _t(d.window);return i.top+=u.top,i.height-=u.top,i.bottom-=u.bottom,i.height-=u.bottom,i.left+=u.left,i.right-=u.right,i.width-=u.left+u.right,i})(this._getViewportOffset())}_updateFocusCyclableItems(){const u=[];if(this.contentView)for(const i of this.contentView.children)en(i)&&u.push(i);this.actionsView&&u.push(this.actionsView),this.closeButtonView&&u.push(this.closeButtonView),u.forEach((i=>{var s;this._focusables.add(i),this.focusTracker.add(i.element),en(s=i)&&"focusCycler"in s&&s.focusCycler instanceof Je&&(this.listenTo(i.focusCycler,"forwardCycle",(c=>{this._focusCycler.focusNext(),this._focusCycler.next!==this._focusCycler.focusables.get(this._focusCycler.current)&&c.stop()})),this.listenTo(i.focusCycler,"backwardCycle",(c=>{this._focusCycler.focusPrevious(),this._focusCycler.previous!==this._focusCycler.focusables.get(this._focusCycler.current)&&c.stop()})))}))}_createCloseButton(){const u=new Ut(this.locale),i=this.locale.t;return u.set({label:i("Close"),tooltip:!0,icon:Dt.cancel}),u.on("execute",(()=>this.fire("close",{source:"closeButton"}))),u}};let vA=I4;vA.defaultOffset=15;class ad extends Ve{constructor(i){super(i);const s=i.t;this._initShowHideListeners(),this._initFocusToggler(),this._initMultiRootIntegration(),this.set("id",null),i.accessibility.addKeystrokeInfos({categoryId:"navigation",keystrokes:[{label:s("Move focus in and out of an active dialog window"),keystroke:"Ctrl+F6",mayRequireFn:!0}]})}static get pluginName(){return"Dialog"}_initShowHideListeners(){this.on("show",((i,s)=>{this._show(s)})),this.on("show",((i,s)=>{s.onShow&&s.onShow(this)}),{priority:"low"}),this.on("hide",(()=>{ad._visibleDialogPlugin&&ad._visibleDialogPlugin._hide()})),this.on("hide",(()=>{this._onHide&&(this._onHide(this),this._onHide=void 0)}),{priority:"low"})}_initFocusToggler(){const i=this.editor;i.keystrokes.set("Ctrl+F6",((s,c)=>{this.isOpen&&!this.view.isModal&&(this.view.focusTracker.isFocused?i.editing.view.focus():this.view.focus(),c())}))}_initMultiRootIntegration(){const i=this.editor.model;i.document.on("change:data",(()=>{if(!this.view)return;const s=i.document.differ.getChangedRoots();for(const c of s)c.state&&this.view.updatePosition()}))}show(i){this.hide(),this.fire(`show:${i.id}`,i)}_show({id:i,icon:s,title:c,hasCloseButton:h=!0,content:g,actionButtons:w,className:k,isModal:_,position:R,onHide:I}){const F=this.editor;this.view=new vA(F.locale,{getCurrentDomRoot:()=>F.editing.view.getDomRoot(F.model.document.selection.anchor.root.rootName),getViewportOffset:()=>F.ui.viewportOffset});const H=this.view;H.on("close",(()=>{this.hide()})),F.ui.view.body.add(H),F.ui.focusTracker.add(H.element),F.keystrokes.listenTo(H.element),R||(R=_?bA:R4),H.set({position:R,_isVisible:!0,className:k,isModal:_}),H.setupParts({icon:s,title:c,hasCloseButton:h,content:g,actionButtons:w}),this.id=i,I&&(this._onHide=I),this.isOpen=!0,ad._visibleDialogPlugin=this}hide(){ad._visibleDialogPlugin&&ad._visibleDialogPlugin.fire(`hide:${ad._visibleDialogPlugin.id}`)}_hide(){if(!this.view)return;const i=this.editor,s=this.view;s.contentView&&s.contentView.reset(),i.ui.view.body.remove(s),i.ui.focusTracker.remove(s.element),i.keystrokes.stopListening(s.element),s.destroy(),i.editing.view.focus(),this.id=null,this.isOpen=!1,ad._visibleDialogPlugin=null}}var N4=o(3710),Yee={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$e()(N4.A,Yee),N4.A.locals;var Qee=Object.defineProperty,O4=Object.getOwnPropertySymbols,Zee=Object.prototype.hasOwnProperty,Xee=Object.prototype.propertyIsEnumerable,F4=(u,i,s)=>i in u?Qee(u,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):u[i]=s,rn=(u,i)=>{for(var s in i||(i={}))Zee.call(i,s)&&F4(u,s,i[s]);if(O4)for(var s of O4(i))Xee.call(i,s)&&F4(u,s,i[s]);return u};const L4=To("px"),B4=d.document.body,Jee={top:-99999,left:-99999,name:"arrowless",config:{withArrow:!1}},y2=class extends st{constructor(u){super(u);const i=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("position","arrow_nw"),this.set("isVisible",!1),this.set("withArrow",!0),this.set("class",void 0),this._pinWhenIsVisibleCallback=null,this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",i.to("position",(s=>`ck-balloon-panel_${s}`)),i.if("isVisible","ck-balloon-panel_visible"),i.if("withArrow","ck-balloon-panel_with-arrow"),i.to("class")],style:{top:i.to("top",L4),left:i.to("left",L4)}},children:this.content})}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(u){this.show();const i=y2.defaultPositions,s=Object.assign({},{element:this.element,positions:[i.southArrowNorth,i.southArrowNorthMiddleWest,i.southArrowNorthMiddleEast,i.southArrowNorthWest,i.southArrowNorthEast,i.northArrowSouth,i.northArrowSouthMiddleWest,i.northArrowSouthMiddleEast,i.northArrowSouthWest,i.northArrowSouthEast,i.viewportStickyNorth],limiter:B4,fitInViewport:!0},u),c=y2._getOptimalPosition(s)||Jee,h=parseInt(c.left),g=parseInt(c.top),w=c.name,k=c.config||{},{withArrow:_=!0}=k;this.top=g,this.left=h,this.position=w,this.withArrow=_}pin(u){this.unpin(),this._pinWhenIsVisibleCallback=()=>{this.isVisible?this._startPinning(u):this._stopPinning()},this._startPinning(u),this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback)}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(u){this.attachTo(u);const i=k2(u.target),s=u.limiter?k2(u.limiter):B4;this.listenTo(d.document,"scroll",((c,h)=>{const g=h.target,w=i&&g.contains(i),k=s&&g.contains(s);!w&&!k&&i&&s||this.attachTo(u)}),{useCapture:!0}),this.listenTo(d.window,"resize",(()=>{this.attachTo(u)}))}_stopPinning(){this.stopListening(d.document,"scroll"),this.stopListening(d.window,"resize")}};let jo=y2;function k2(u){return ul(u)?u:gf(u)?u.commonAncestorContainer:typeof u=="function"?k2(u()):null}function j4(u={}){const{sideOffset:i=jo.arrowSideOffset,heightOffset:s=jo.arrowHeightOffset,stickyVerticalOffset:c=jo.stickyVerticalOffset,config:h}=u;return{northWestArrowSouthWest:(k,_)=>rn({top:g(k,_),left:k.left-i,name:"arrow_sw"},h&&{config:h}),northWestArrowSouthMiddleWest:(k,_)=>rn({top:g(k,_),left:k.left-.25*_.width-i,name:"arrow_smw"},h&&{config:h}),northWestArrowSouth:(k,_)=>rn({top:g(k,_),left:k.left-_.width/2,name:"arrow_s"},h&&{config:h}),northWestArrowSouthMiddleEast:(k,_)=>rn({top:g(k,_),left:k.left-.75*_.width+i,name:"arrow_sme"},h&&{config:h}),northWestArrowSouthEast:(k,_)=>rn({top:g(k,_),left:k.left-_.width+i,name:"arrow_se"},h&&{config:h}),northArrowSouthWest:(k,_)=>rn({top:g(k,_),left:k.left+k.width/2-i,name:"arrow_sw"},h&&{config:h}),northArrowSouthMiddleWest:(k,_)=>rn({top:g(k,_),left:k.left+k.width/2-.25*_.width-i,name:"arrow_smw"},h&&{config:h}),northArrowSouth:(k,_)=>rn({top:g(k,_),left:k.left+k.width/2-_.width/2,name:"arrow_s"},h&&{config:h}),northArrowSouthMiddleEast:(k,_)=>rn({top:g(k,_),left:k.left+k.width/2-.75*_.width+i,name:"arrow_sme"},h&&{config:h}),northArrowSouthEast:(k,_)=>rn({top:g(k,_),left:k.left+k.width/2-_.width+i,name:"arrow_se"},h&&{config:h}),northEastArrowSouthWest:(k,_)=>rn({top:g(k,_),left:k.right-i,name:"arrow_sw"},h&&{config:h}),northEastArrowSouthMiddleWest:(k,_)=>rn({top:g(k,_),left:k.right-.25*_.width-i,name:"arrow_smw"},h&&{config:h}),northEastArrowSouth:(k,_)=>rn({top:g(k,_),left:k.right-_.width/2,name:"arrow_s"},h&&{config:h}),northEastArrowSouthMiddleEast:(k,_)=>rn({top:g(k,_),left:k.right-.75*_.width+i,name:"arrow_sme"},h&&{config:h}),northEastArrowSouthEast:(k,_)=>rn({top:g(k,_),left:k.right-_.width+i,name:"arrow_se"},h&&{config:h}),southWestArrowNorthWest:k=>rn({top:w(k),left:k.left-i,name:"arrow_nw"},h&&{config:h}),southWestArrowNorthMiddleWest:(k,_)=>rn({top:w(k),left:k.left-.25*_.width-i,name:"arrow_nmw"},h&&{config:h}),southWestArrowNorth:(k,_)=>rn({top:w(k),left:k.left-_.width/2,name:"arrow_n"},h&&{config:h}),southWestArrowNorthMiddleEast:(k,_)=>rn({top:w(k),left:k.left-.75*_.width+i,name:"arrow_nme"},h&&{config:h}),southWestArrowNorthEast:(k,_)=>rn({top:w(k),left:k.left-_.width+i,name:"arrow_ne"},h&&{config:h}),southArrowNorthWest:k=>rn({top:w(k),left:k.left+k.width/2-i,name:"arrow_nw"},h&&{config:h}),southArrowNorthMiddleWest:(k,_)=>rn({top:w(k),left:k.left+k.width/2-.25*_.width-i,name:"arrow_nmw"},h&&{config:h}),southArrowNorth:(k,_)=>rn({top:w(k),left:k.left+k.width/2-_.width/2,name:"arrow_n"},h&&{config:h}),southArrowNorthMiddleEast:(k,_)=>rn({top:w(k),left:k.left+k.width/2-.75*_.width+i,name:"arrow_nme"},h&&{config:h}),southArrowNorthEast:(k,_)=>rn({top:w(k),left:k.left+k.width/2-_.width+i,name:"arrow_ne"},h&&{config:h}),southEastArrowNorthWest:k=>rn({top:w(k),left:k.right-i,name:"arrow_nw"},h&&{config:h}),southEastArrowNorthMiddleWest:(k,_)=>rn({top:w(k),left:k.right-.25*_.width-i,name:"arrow_nmw"},h&&{config:h}),southEastArrowNorth:(k,_)=>rn({top:w(k),left:k.right-_.width/2,name:"arrow_n"},h&&{config:h}),southEastArrowNorthMiddleEast:(k,_)=>rn({top:w(k),left:k.right-.75*_.width+i,name:"arrow_nme"},h&&{config:h}),southEastArrowNorthEast:(k,_)=>rn({top:w(k),left:k.right-_.width+i,name:"arrow_ne"},h&&{config:h}),westArrowEast:(k,_)=>rn({top:k.top+k.height/2-_.height/2,left:k.left-_.width-s,name:"arrow_e"},h&&{config:h}),eastArrowWest:(k,_)=>rn({top:k.top+k.height/2-_.height/2,left:k.right+s,name:"arrow_w"},h&&{config:h}),viewportStickyNorth:(k,_,R,I)=>{const F=I||R;return k.getIntersection(F)?F.height-k.height>c?null:{top:F.top+c,left:k.left+k.width/2-_.width/2,name:"arrowless",config:rn({withArrow:!1},h)}:null}};function g(k,_){return k.top-_.height-s}function w(k){return k.bottom+s}}jo.arrowSideOffset=25,jo.arrowHeightOffset=10,jo.stickyVerticalOffset=20,jo._getOptimalPosition=_u,jo.defaultPositions=j4();var z4=o(9205),ete={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$e()(z4.A,ete),z4.A.locals;const H4="ck-tooltip",zo=class extends Ji(){constructor(u){if(super(),this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._resizeObserver=null,this._mutationObserver=null,zo._editors.add(u),zo._instance)return zo._instance;zo._instance=this,this.tooltipTextView=new st(u.locale),this.tooltipTextView.set("text",""),this.tooltipTextView.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:this.tooltipTextView.bindTemplate.to("text")}]}),this.balloonPanelView=new jo(u.locale),this.balloonPanelView.class=H4,this.balloonPanelView.content.add(this.tooltipTextView),this._mutationObserver=(function(i){const s=new MutationObserver((()=>{i()}));return{attach(c){s.observe(c,{attributes:!0,attributeFilter:["data-cke-tooltip-text","data-cke-tooltip-position"]})},detach(){s.disconnect()}}})((()=>{this._updateTooltipPosition()})),this._pinTooltipDebounced=Qc(this._pinTooltip,600),this._unpinTooltipDebounced=Qc(this._unpinTooltip,400),this.listenTo(d.document,"keydown",this._onKeyDown.bind(this),{useCapture:!0}),this.listenTo(d.document,"mouseenter",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(d.document,"mouseleave",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(d.document,"focus",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(d.document,"blur",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(d.document,"scroll",this._onScroll.bind(this),{useCapture:!0}),this._watchdogExcluded=!0}destroy(u){const i=u.ui.view&&u.ui.view.body;zo._editors.delete(u),this.stopListening(u.ui),i&&i.has(this.balloonPanelView)&&i.remove(this.balloonPanelView),zo._editors.size||(this._unpinTooltip(),this.balloonPanelView.destroy(),this.stopListening(),zo._instance=null)}static getPositioningFunctions(u){const i=zo.defaultBalloonPositions;return{s:[i.southArrowNorth,i.southArrowNorthEast,i.southArrowNorthWest],n:[i.northArrowSouth],e:[i.eastArrowWest],w:[i.westArrowEast],sw:[i.southArrowNorthEast],se:[i.southArrowNorthWest]}[u]}_onKeyDown(u,i){i.key==="Escape"&&this._currentElementWithTooltip&&(this._unpinTooltip(),i.stopPropagation())}_onEnterOrFocus(u,{target:i}){const s=x2(i);s?s!==this._currentElementWithTooltip&&(this._unpinTooltip(),this._pinTooltipDebounced(s,V4(s))):u.name==="focus"&&this._unpinTooltip()}_onLeaveOrBlur(u,{target:i,relatedTarget:s}){if(u.name==="mouseleave"){if(!ul(i))return;const c=this.balloonPanelView.element,h=c&&(c===s||c.contains(s)),g=!h&&i===c;if(h)return void this._unpinTooltipDebounced.cancel();if(!g&&this._currentElementWithTooltip&&i!==this._currentElementWithTooltip)return;const w=x2(i),k=x2(s);(g||w&&w!==k)&&this._unpinTooltipDebounced()}else{if(this._currentElementWithTooltip&&i!==this._currentElementWithTooltip)return;this._unpinTooltipDebounced()}}_onScroll(u,{target:i}){this._currentElementWithTooltip&&(i.contains(this.balloonPanelView.element)&&i.contains(this._currentElementWithTooltip)||this._unpinTooltip())}_pinTooltip(u,{text:i,position:s,cssClass:c}){this._unpinTooltip();const h=sr(zo._editors.values()).ui.view.body;h.has(this.balloonPanelView)||h.add(this.balloonPanelView),this.tooltipTextView.text=i,this.balloonPanelView.pin({target:u,positions:zo.getPositioningFunctions(s)}),this._resizeObserver=new pl(u,(()=>{Nc(u)||this._unpinTooltip()})),this._mutationObserver.attach(u),this.balloonPanelView.class=[H4,c].filter((g=>g)).join(" ");for(const g of zo._editors)this.listenTo(g.ui,"update",this._updateTooltipPosition.bind(this),{priority:"low"});this._currentElementWithTooltip=u,this._currentTooltipPosition=s}_unpinTooltip(){this._unpinTooltipDebounced.cancel(),this._pinTooltipDebounced.cancel(),this.balloonPanelView.unpin();for(const u of zo._editors)this.stopListening(u.ui,"update");this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this.tooltipTextView.text="",this._resizeObserver&&this._resizeObserver.destroy(),this._mutationObserver.detach()}_updateTooltipPosition(){if(!this._currentElementWithTooltip)return;const u=V4(this._currentElementWithTooltip);Nc(this._currentElementWithTooltip)&&u.text?this.balloonPanelView.pin({target:this._currentElementWithTooltip,positions:zo.getPositioningFunctions(u.position)}):this._unpinTooltip()}};let wA=zo;function x2(u){return ul(u)?u.closest("[data-cke-tooltip-text]:not([data-cke-tooltip-disabled])"):null}function V4(u){return{text:u.dataset.ckeTooltipText,position:u.dataset.ckeTooltipPosition||"s",cssClass:u.dataset.ckeTooltipClass||""}}wA.defaultBalloonPositions=j4({heightOffset:5,sideOffset:13}),wA._editors=new Set,wA._instance=null;const CA=function(u,i,s){var c=!0,h=!0;if(typeof u!="function")throw new TypeError("Expected a function");return _e(s)&&(c="leading"in s?!!s.leading:c,h="trailing"in s?!!s.trailing:h),Qc(u,i,{leading:c,maxWait:i,trailing:h})};var tte=Object.defineProperty,G4=Object.getOwnPropertySymbols,nte=Object.prototype.hasOwnProperty,rte=Object.prototype.propertyIsEnumerable,U4=(u,i,s)=>i in u?tte(u,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):u[i]=s,ite=(u,i)=>{for(var s in i||(i={}))nte.call(i,s)&&U4(u,s,i[s]);if(G4)for(var s of G4(i))rte.call(i,s)&&U4(u,s,i[s]);return u};const ote=50,ste=350,ate="Powered by";class lte extends Ji(){constructor(i){super(),this.editor=i,this._balloonView=null,this._lastFocusedEditableElement=null,this._showBalloonThrottled=CA(this._showBalloon.bind(this),50,{leading:!0}),i.on("ready",this._handleEditorReady.bind(this))}destroy(){const i=this._balloonView;i&&(i.unpin(),this._balloonView=null),this._showBalloonThrottled.cancel(),this.stopListening()}_handleEditorReady(){const i=this.editor;(i.config.get("ui.poweredBy.forceVisible")||(function(s){function c(G){return G.length>=40&&G.length<=255?"VALID":"INVALID"}if(!s)return"INVALID";let h="";try{h=atob(s)}catch{return"INVALID"}const g=h.split("-"),w=g[0],k=g[1];if(!k)return c(s);try{atob(k)}catch{try{if(atob(w),!atob(w).length)return c(s)}catch{return c(s)}}if(w.length<40||w.length>255)return"INVALID";let _="";try{atob(w),_=atob(k)}catch{return"INVALID"}if(_.length!==8)return"INVALID";const R=Number(_.substring(0,4)),I=Number(_.substring(4,6))-1,F=Number(_.substring(6,8)),H=new Date(R,I,F);return H<se||isNaN(Number(H))?"INVALID":"VALID"})(i.config.get("licenseKey"))!=="VALID")&&i.ui.view&&(i.ui.focusTracker.on("change:isFocused",((s,c,h)=>{this._updateLastFocusedEditableElement(),h?this._showBalloon():this._hideBalloon()})),i.ui.focusTracker.on("change:focusedElement",((s,c,h)=>{this._updateLastFocusedEditableElement(),h&&this._showBalloon()})),i.ui.on("update",(()=>{this._showBalloonThrottled()})))}_createBalloonView(){const i=this.editor,s=this._balloonView=new jo,c=$4(i),h=new cte(i.locale,c.label);s.content.add(h),s.set({class:"ck-powered-by-balloon"}),i.ui.view.body.add(s),i.ui.focusTracker.add(s.element),this._balloonView=s}_showBalloon(){if(!this._lastFocusedEditableElement)return;const i=(function(s,c){const h=$4(s),g=h.side==="right"?(function(w,k){return W4(w,k,((_,R)=>_.left+_.width-R.width-k.horizontalOffset))})(c,h):(function(w,k){return W4(w,k,(_=>_.left+k.horizontalOffset))})(c,h);return{target:c,positions:[g]}})(this.editor,this._lastFocusedEditableElement);i&&(this._balloonView||this._createBalloonView(),this._balloonView.pin(i))}_hideBalloon(){this._balloonView&&this._balloonView.unpin()}_updateLastFocusedEditableElement(){const i=this.editor,s=i.ui.focusTracker.isFocused,c=i.ui.focusTracker.focusedElement;if(!s||!c)return void(this._lastFocusedEditableElement=null);const h=Array.from(i.ui.getEditableElementsNames()).map((g=>i.ui.getEditableElement(g)));h.includes(c)?this._lastFocusedEditableElement=c:this._lastFocusedEditableElement=h[0]}}class cte extends st{constructor(i,s){super(i);const c=new Ha,h=this.bindTemplate;c.set({content:`<svg xmlns="http://www.w3.org/2000/svg" width="53" height="10" viewBox="0 0 53 10"><path fill="#1C2331" d="M31.724 1.492a15.139 15.139 0 0 0 .045 1.16 2.434 2.434 0 0 0-.687-.34 3.68 3.68 0 0 0-1.103-.166 2.332 2.332 0 0 0-1.14.255 1.549 1.549 0 0 0-.686.87c-.15.41-.225.98-.225 1.712 0 .939.148 1.659.444 2.161.297.503.792.754 1.487.754.452.015.9-.094 1.294-.316.296-.174.557-.4.771-.669l.14.852h1.282V.007h-1.623v1.485ZM31 6.496a1.77 1.77 0 0 1-.494.061.964.964 0 0 1-.521-.127.758.758 0 0 1-.296-.466 3.984 3.984 0 0 1-.093-.992 4.208 4.208 0 0 1 .098-1.052.753.753 0 0 1 .307-.477 1.08 1.08 0 0 1 .55-.122c.233-.004.466.026.69.089l.483.144v2.553c-.11.076-.213.143-.307.2a1.73 1.73 0 0 1-.417.189ZM35.68 0l-.702.004c-.322.002-.482.168-.48.497l.004.581c.002.33.164.493.486.49l.702-.004c.322-.002.481-.167.48-.496L36.165.49c-.002-.33-.164-.493-.486-.491ZM36.145 2.313l-1.612.01.034 5.482 1.613-.01-.035-5.482ZM39.623.79 37.989.8 38 2.306l-.946.056.006 1.009.949-.006.024 2.983c.003.476.143.844.419 1.106.275.26.658.39 1.148.387.132 0 .293-.01.483-.03.19-.02.38-.046.57-.08.163-.028.324-.068.482-.119l-.183-1.095-.702.004a.664.664 0 0 1-.456-.123.553.553 0 0 1-.14-.422l-.016-2.621 1.513-.01-.006-1.064-1.514.01-.01-1.503ZM46.226 2.388c-.41-.184-.956-.274-1.636-.27-.673.004-1.215.101-1.627.29-.402.179-.72.505-.888.91-.18.419-.268.979-.264 1.68.004.688.1 1.24.285 1.655.172.404.495.724.9.894.414.18.957.268 1.63.264.68-.004 1.224-.099 1.632-.284.4-.176.714-.501.878-.905.176-.418.263-.971.258-1.658-.004-.702-.097-1.261-.28-1.677a1.696 1.696 0 0 0-.888-.9Zm-.613 3.607a.77.77 0 0 1-.337.501 1.649 1.649 0 0 1-1.317.009.776.776 0 0 1-.343-.497 4.066 4.066 0 0 1-.105-1.02 4.136 4.136 0 0 1 .092-1.03.786.786 0 0 1 .337-.507 1.59 1.59 0 0 1 1.316-.008.79.79 0 0 1 .344.502c.078.337.113.683.105 1.03.012.343-.019.685-.092 1.02ZM52.114 2.07a2.67 2.67 0 0 0-1.128.278c-.39.191-.752.437-1.072.73l-.157-.846-1.273.008.036 5.572 1.623-.01-.024-3.78c.35-.124.646-.22.887-.286.26-.075.53-.114.8-.118l.45-.003.144-1.546-.286.001ZM22.083 7.426l-1.576-2.532a2.137 2.137 0 0 0-.172-.253 1.95 1.95 0 0 0-.304-.29.138.138 0 0 1 .042-.04 1.7 1.7 0 0 0 .328-.374l1.75-2.71c.01-.015.025-.028.024-.048-.01-.01-.021-.007-.031-.007L20.49 1.17a.078.078 0 0 0-.075.045l-.868 1.384c-.23.366-.46.732-.688 1.099a.108.108 0 0 1-.112.06c-.098-.005-.196-.001-.294-.002-.018 0-.038.006-.055-.007.002-.02.002-.039.005-.058a4.6 4.6 0 0 0 .046-.701V1.203c0-.02-.009-.032-.03-.03h-.033L16.93 1.17c-.084 0-.073-.01-.073.076v6.491c-.001.018.006.028.025.027h1.494c.083 0 .072.007.072-.071v-2.19c0-.055-.003-.11-.004-.166a3.366 3.366 0 0 0-.05-.417h.06c.104 0 .209.002.313-.002a.082.082 0 0 1 .084.05c.535.913 1.07 1.824 1.607 2.736a.104.104 0 0 0 .103.062c.554-.003 1.107-.002 1.66-.002l.069-.003-.019-.032-.188-.304ZM27.112 6.555c-.005-.08-.004-.08-.082-.08h-2.414c-.053 0-.106-.003-.159-.011a.279.279 0 0 1-.246-.209.558.558 0 0 1-.022-.15c0-.382 0-.762-.002-1.143 0-.032.007-.049.042-.044h2.504c.029.003.037-.012.034-.038V3.814c0-.089.013-.078-.076-.078h-2.44c-.07 0-.062.003-.062-.06v-.837c0-.047.004-.093.013-.14a.283.283 0 0 1 .241-.246.717.717 0 0 1 .146-.011h2.484c.024.002.035-.009.036-.033l.003-.038.03-.496c.01-.183.024-.365.034-.548.005-.085.003-.087-.082-.094-.218-.018-.437-.038-.655-.05a17.845 17.845 0 0 0-.657-.026 72.994 72.994 0 0 0-1.756-.016 1.7 1.7 0 0 0-.471.064 1.286 1.286 0 0 0-.817.655c-.099.196-.149.413-.145.633v3.875c0 .072.003.144.011.216a1.27 1.27 0 0 0 .711 1.029c.228.113.48.167.734.158.757-.005 1.515.002 2.272-.042.274-.016.548-.034.82-.053.03-.002.043-.008.04-.041-.008-.104-.012-.208-.019-.312a69.964 69.964 0 0 1-.05-.768ZM16.14 7.415l-.127-1.075c-.004-.03-.014-.04-.044-.037a13.125 13.125 0 0 1-.998.073c-.336.01-.672.02-1.008.016-.116-.001-.233-.014-.347-.039a.746.746 0 0 1-.45-.262c-.075-.1-.132-.211-.167-.33a3.324 3.324 0 0 1-.126-.773 9.113 9.113 0 0 1-.015-.749c0-.285.022-.57.065-.852.023-.158.066-.312.127-.46a.728.728 0 0 1 .518-.443 1.64 1.64 0 0 1 .397-.048c.628-.001 1.255.003 1.882.05.022.001.033-.006.036-.026l.003-.031.06-.55c.019-.177.036-.355.057-.532.004-.034-.005-.046-.04-.056a5.595 5.595 0 0 0-1.213-.21 10.783 10.783 0 0 0-.708-.02c-.24-.003-.48.01-.719.041a3.477 3.477 0 0 0-.625.14 1.912 1.912 0 0 0-.807.497c-.185.2-.33.433-.424.688a4.311 4.311 0 0 0-.24 1.096c-.031.286-.045.572-.042.86-.006.43.024.86.091 1.286.04.25.104.497.193.734.098.279.26.53.473.734.214.205.473.358.756.446.344.11.702.17 1.063.177a8.505 8.505 0 0 0 1.578-.083 6.11 6.11 0 0 0 .766-.18c.03-.008.047-.023.037-.057a.157.157 0 0 1-.003-.025Z"/><path fill="#AFE229" d="M6.016 6.69a1.592 1.592 0 0 0-.614.21c-.23.132-.422.32-.56.546-.044.072-.287.539-.287.539l-.836 1.528.009.006c.038.025.08.046.123.063.127.046.26.07.395.073.505.023 1.011-.007 1.517-.003.29.009.58.002.869-.022a.886.886 0 0 0 .395-.116.962.962 0 0 0 .312-.286c.056-.083.114-.163.164-.249.24-.408.48-.816.718-1.226.075-.128.148-.257.222-.386l.112-.192a1.07 1.07 0 0 0 .153-.518l-1.304.023s-1.258-.005-1.388.01Z"/><path fill="#771BFF" d="m2.848 9.044.76-1.39.184-.352c-.124-.067-.245-.14-.367-.21-.346-.204-.706-.384-1.045-.6a.984.984 0 0 1-.244-.207c-.108-.134-.136-.294-.144-.46-.021-.409-.002-.818-.009-1.227-.003-.195 0-.39.003-.585.004-.322.153-.553.427-.713l.833-.488c.22-.13.44-.257.662-.385.05-.029.105-.052.158-.077.272-.128.519-.047.76.085l.044.028c.123.06.242.125.358.196.318.178.635.357.952.537.095.056.187.117.275.184.194.144.254.35.266.578.016.284.007.569.006.853-.001.28.004.558 0 .838.592-.003 1.259 0 1.259 0l.723-.013c-.003-.292-.007-.584-.007-.876 0-.524.015-1.048-.016-1.571-.024-.42-.135-.8-.492-1.067a5.02 5.02 0 0 0-.506-.339A400.52 400.52 0 0 0 5.94.787C5.722.664 5.513.524 5.282.423 5.255.406 5.228.388 5.2.373 4.758.126 4.305-.026 3.807.21c-.097.046-.197.087-.29.14A699.896 699.896 0 0 0 .783 1.948c-.501.294-.773.717-.778 1.31-.004.36-.009.718-.001 1.077.016.754-.017 1.508.024 2.261.016.304.07.6.269.848.127.15.279.28.448.382.622.4 1.283.734 1.92 1.11l.183.109Z"/></svg>
`,isColorInherited:!1}),c.extendTemplate({attributes:{style:{width:"53px",height:"10px"}}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-powered-by"],"aria-hidden":!0},children:[{tag:"a",attributes:{href:"https://ckeditor.com/?utm_source=ckeditor&utm_medium=referral&utm_campaign=701Dn000000hVgmIAE_powered_by_ckeditor_logo",target:"_blank",tabindex:"-1"},children:[...s?[{tag:"span",attributes:{class:["ck","ck-powered-by__label"]},children:[s]}]:[],c],on:{dragstart:h.to((g=>g.preventDefault()))}}]})}}function W4(u,i,s){return(c,h)=>{const g=new _t(u);if(g.width<ste||g.height<ote)return null;let w;w=i.position==="inside"?g.bottom-h.height:g.bottom-h.height/2,w-=i.verticalOffset;const k=s(g,h),_=c.clone().moveTo(k,w).getIntersection(h.clone().moveTo(k,w)).getVisible();return!_||_.getArea()<h.getArea()?null:{top:w,left:k,name:`position_${i.position}-side_${i.side}`,config:{withArrow:!1}}}}function $4(u){const i=u.config.get("ui.poweredBy"),s=i&&i.position||"border";return ite({position:s,label:ate,verticalOffset:s==="inside"?5:0,horizontalOffset:5,side:u.locale.contentLanguageDirection==="ltr"?"right":"left"},i)}var q4=o(1801),dte={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$e()(q4.A,dte),q4.A.locals;const K4={POLITE:"polite",ASSERTIVE:"assertive"};class ute{constructor(i){this.editor=i,i.once("ready",(()=>{for(const s of Object.values(K4))this.announce("",s)}))}announce(i,s=K4.POLITE){const c=this.editor;if(!c.ui.view)return;this.view||(this.view=new hte(c.locale),c.ui.view.body.add(this.view));const{politeness:h,isUnsafeHTML:g}=typeof s=="string"?{politeness:s}:s;let w=this.view.regionViews.find((k=>k.politeness===h));w||(w=new fte(c,h),this.view.regionViews.add(w)),w.announce({announcement:i,isUnsafeHTML:g})}}class hte extends st{constructor(i){super(i),this.regionViews=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-aria-live-announcer"]},children:this.regionViews})}}class fte extends st{constructor(i,s){super(i.locale),this.setTemplate({tag:"div",attributes:{role:"region","aria-live":s,"aria-relevant":"additions"},children:[{tag:"ul",attributes:{class:["ck","ck-aria-live-region-list"]}}]}),i.on("destroy",(()=>{this._pruneAnnouncementsInterval!==null&&(clearInterval(this._pruneAnnouncementsInterval),this._pruneAnnouncementsInterval=null)})),this.politeness=s,this._domConverter=i.data.htmlProcessor.domConverter,this._pruneAnnouncementsInterval=setInterval((()=>{this.element&&this._listElement.firstChild&&this._listElement.firstChild.remove()}),5e3)}announce({announcement:i,isUnsafeHTML:s}){if(!i.trim().length)return;const c=document.createElement("li");s?this._domConverter.setContentOf(c,i):c.innerText=i,this._listElement.appendChild(c)}get _listElement(){return this.element.querySelector("ul")}}var pte=Object.defineProperty,Y4=Object.getOwnPropertySymbols,gte=Object.prototype.hasOwnProperty,mte=Object.prototype.propertyIsEnumerable,Q4=(u,i,s)=>i in u?pte(u,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):u[i]=s;class bte extends et(){constructor(i){super(),this.isReady=!1,this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[];const s=i.editing.view;this.editor=i,this.componentFactory=new Lee(i),this.focusTracker=new kr,this.tooltipManager=new wA(i),this.poweredBy=new lte(i),this.ariaLiveAnnouncer=new ute(i),this.set("viewportOffset",this._readViewportOffsetFromConfig()),this.once("ready",(()=>{this.isReady=!0})),this.listenTo(s.document,"layoutChanged",this.update.bind(this)),this.listenTo(s,"scrollToTheSelection",this._handleScrollToTheSelection.bind(this)),this._initFocusTracking()}get element(){return null}update(){this.fire("update")}destroy(){this.stopListening(),this.focusTracker.destroy(),this.tooltipManager.destroy(this.editor),this.poweredBy.destroy();for(const i of this._editableElementsMap.values())i.ckeditorInstance=null,this.editor.keystrokes.stopListening(i);this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[]}setEditableElement(i,s){this._editableElementsMap.set(i,s),s.ckeditorInstance||(s.ckeditorInstance=this.editor),this.focusTracker.add(s);const c=()=>{this.editor.editing.view.getDomRoot(i)||this.editor.keystrokes.listenTo(s)};this.isReady?c():this.once("ready",c)}removeEditableElement(i){const s=this._editableElementsMap.get(i);s&&(this._editableElementsMap.delete(i),this.editor.keystrokes.stopListening(s),this.focusTracker.remove(s),s.ckeditorInstance=null)}getEditableElement(i="main"){return this._editableElementsMap.get(i)}getEditableElementsNames(){return this._editableElementsMap.keys()}addToolbar(i,s={}){i.isRendered?(this.focusTracker.add(i.element),this.editor.keystrokes.listenTo(i.element)):i.once("render",(()=>{this.focusTracker.add(i.element),this.editor.keystrokes.listenTo(i.element)})),this._focusableToolbarDefinitions.push({toolbarView:i,options:s})}get _editableElements(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}_readViewportOffsetFromConfig(){const i=this.editor,s=i.config.get("ui.viewportOffset");if(s)return s;const c=i.config.get("toolbar.viewportTopOffset");return c?(console.warn("editor-ui-deprecated-viewport-offset-config: The `toolbar.vieportTopOffset` configuration option is deprecated. It will be removed from future CKEditor versions. Use `ui.viewportOffset.top` instead."),{top:c}):{top:0}}_initFocusTracking(){const i=this.editor,s=i.editing.view;let c,h;i.keystrokes.set("Alt+F10",((g,w)=>{const k=this.focusTracker.focusedElement;Array.from(this._editableElementsMap.values()).includes(k)&&!Array.from(s.domRoots.values()).includes(k)&&(c=k);const _=this._getCurrentFocusedToolbarDefinition();_&&h||(h=this._getFocusableCandidateToolbarDefinitions());for(let R=0;R<h.length;R++){const I=h.shift();if(h.push(I),I!==_&&this._focusFocusableCandidateToolbar(I)){_&&_.options.afterBlur&&_.options.afterBlur();break}}w()})),i.keystrokes.set("Esc",((g,w)=>{const k=this._getCurrentFocusedToolbarDefinition();k&&(c?(c.focus(),c=null):i.editing.view.focus(),k.options.afterBlur&&k.options.afterBlur(),w())}))}_getFocusableCandidateToolbarDefinitions(){const i=[];for(const s of this._focusableToolbarDefinitions){const{toolbarView:c,options:h}=s;(Nc(c.element)||h.beforeFocus)&&i.push(s)}return i.sort(((s,c)=>Z4(s)-Z4(c))),i}_getCurrentFocusedToolbarDefinition(){for(const i of this._focusableToolbarDefinitions)if(i.toolbarView.element&&i.toolbarView.element.contains(this.focusTracker.focusedElement))return i;return null}_focusFocusableCandidateToolbar(i){const{toolbarView:s,options:{beforeFocus:c}}=i;return c&&c(),!!Nc(s.element)&&(s.focus(),!0)}_handleScrollToTheSelection(i,s){const c=((h,g)=>{for(var w in g||(g={}))gte.call(g,w)&&Q4(h,w,g[w]);if(Y4)for(var w of Y4(g))mte.call(g,w)&&Q4(h,w,g[w]);return h})({top:0,bottom:0,left:0,right:0},this.viewportOffset);s.viewportOffset.top+=c.top,s.viewportOffset.bottom+=c.bottom,s.viewportOffset.left+=c.left,s.viewportOffset.right+=c.right}}function Z4(u){const{toolbarView:i,options:s}=u;let c=10;return Nc(i.element)&&c--,s.isContextual&&c--,c}var X4=o(1185),vte={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$e()(X4.A,vte),X4.A.locals;class wte extends st{constructor(i){super(i),this.body=new zl(i)}render(){super.render(),this.body.attachToDom()}destroy(){return this.body.detachFromDom(),super.destroy()}}class Cte extends wte{constructor(i){super(i),this.top=this.createCollection(),this.main=this.createCollection(),this._voiceLabelView=this._createVoiceLabel(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-editor","ck-rounded-corners"],role:"application",dir:i.uiLanguageDirection,lang:i.uiLanguage,"aria-labelledby":this._voiceLabelView.id},children:[this._voiceLabelView,{tag:"div",attributes:{class:["ck","ck-editor__top","ck-reset_all"],role:"presentation"},children:this.top},{tag:"div",attributes:{class:["ck","ck-editor__main"],role:"presentation"},children:this.main}]})}_createVoiceLabel(){const i=this.t,s=new uh;return s.text=i("Rich Text Editor"),s.extendTemplate({attributes:{class:"ck-voice-label"}}),s}}class yte extends st{constructor(i,s,c){super(i),this.name=null,this.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:i.contentLanguage,dir:i.contentLanguageDirection}}),this.set("isFocused",!1),this._editableElement=c,this._hasExternalElement=!!this._editableElement,this._editingView=s}render(){super.render(),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",(()=>this._updateIsFocusedClasses())),this._updateIsFocusedClasses()}destroy(){this._hasExternalElement&&this.template.revert(this._editableElement),super.destroy()}get hasExternalElement(){return this._hasExternalElement}_updateIsFocusedClasses(){const i=this._editingView;function s(c){i.change((h=>{const g=i.document.getRoot(c.name);h.addClass(c.isFocused?"ck-focused":"ck-blurred",g),h.removeClass(c.isFocused?"ck-blurred":"ck-focused",g)}))}i.isRenderingInProgress?(function c(h){i.once("change:isRenderingInProgress",((g,w,k)=>{k?c(h):s(h)}))})(this):s(this)}}class kte extends yte{constructor(i,s,c,h={}){super(i,s,c);const g=i.t;this.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}}),this._generateLabel=h.label||(()=>g("Editor editing area: %0",this.name))}render(){super.render();const i=this._editingView;i.change((s=>{const c=i.document.getRoot(this.name);s.setAttribute("aria-label",this._generateLabel(this),c)}))}}class A2 extends Da{static get pluginName(){return"Notification"}init(){this.on("show:warning",((i,s)=>{window.alert(s.message)}),{priority:"lowest"})}showSuccess(i,s={}){this._showNotification({message:i,type:"success",namespace:s.namespace,title:s.title})}showInfo(i,s={}){this._showNotification({message:i,type:"info",namespace:s.namespace,title:s.title})}showWarning(i,s={}){this._showNotification({message:i,type:"warning",namespace:s.namespace,title:s.title})}_showNotification(i){const s=i.namespace?`show:${i.type}:${i.namespace}`:`show:${i.type}`;this.fire(s,{message:i.message,type:i.type,title:i.title||""})}}class J4 extends et(){constructor(i,s){super(),s&&Lw(this,s),i&&this.set(i)}}var e3=o(991),xte={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$e()(e3.A,xte),e3.A.locals;var t3=o(5380),Ate={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$e()(t3.A,Ate),t3.A.locals;const yA=To("px");class kA extends Ve{constructor(i){super(i),this._viewToStack=new Map,this._idToStack=new Map,this._view=null,this._rotatorView=null,this._fakePanelsView=null,this.positionLimiter=()=>{const s=this.editor.editing.view,c=s.document.selection.editableElement;return c?s.domConverter.mapViewToDom(c.root):null},this.set("visibleView",null),this.set("_numberOfStacks",0),this.set("_singleViewMode",!1)}static get pluginName(){return"ContextualBalloon"}destroy(){super.destroy(),this._view&&this._view.destroy(),this._rotatorView&&this._rotatorView.destroy(),this._fakePanelsView&&this._fakePanelsView.destroy()}get view(){return this._view||this._createPanelView(),this._view}hasView(i){return Array.from(this._viewToStack.keys()).includes(i)}add(i){if(this._view||this._createPanelView(),this.hasView(i.view))throw new z("contextualballoon-add-view-exist",[this,i]);const s=i.stackId||"main";if(!this._idToStack.has(s))return this._idToStack.set(s,new Map([[i.view,i]])),this._viewToStack.set(i.view,this._idToStack.get(s)),this._numberOfStacks=this._idToStack.size,void(this._visibleStack&&!i.singleViewMode||this.showStack(s));const c=this._idToStack.get(s);i.singleViewMode&&this.showStack(s),c.set(i.view,i),this._viewToStack.set(i.view,c),c===this._visibleStack&&this._showView(i)}remove(i){if(!this.hasView(i))throw new z("contextualballoon-remove-view-not-exist",[this,i]);const s=this._viewToStack.get(i);this._singleViewMode&&this.visibleView===i&&(this._singleViewMode=!1),this.visibleView===i&&(s.size===1?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(s.values())[s.size-2])),s.size===1?(this._idToStack.delete(this._getStackId(s)),this._numberOfStacks=this._idToStack.size):s.delete(i),this._viewToStack.delete(i)}updatePosition(i){i&&(this._visibleStack.get(this.visibleView).position=i),this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition()}showStack(i){this.visibleStack=i;const s=this._idToStack.get(i);if(!s)throw new z("contextualballoon-showstack-stack-not-exist",this);this._visibleStack!==s&&this._showView(Array.from(s.values()).pop())}_createPanelView(){this._view=new jo(this.editor.locale),this.editor.ui.view.body.add(this._view),this.editor.ui.focusTracker.add(this._view.element),this._rotatorView=this._createRotatorView(),this._fakePanelsView=this._createFakePanelsView()}get _visibleStack(){return this._viewToStack.get(this.visibleView)}_getStackId(i){return Array.from(this._idToStack.entries()).find((s=>s[1]===i))[0]}_showNextStack(){const i=Array.from(this._idToStack.values());let s=i.indexOf(this._visibleStack)+1;i[s]||(s=0),this.showStack(this._getStackId(i[s]))}_showPrevStack(){const i=Array.from(this._idToStack.values());let s=i.indexOf(this._visibleStack)-1;i[s]||(s=i.length-1),this.showStack(this._getStackId(i[s]))}_createRotatorView(){const i=new Ste(this.editor.locale),s=this.editor.locale.t;return this.view.content.add(i),i.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",((c,h)=>!h&&c>1)),i.on("change:isNavigationVisible",(()=>this.updatePosition()),{priority:"low"}),i.bind("counter").to(this,"visibleView",this,"_numberOfStacks",((c,h)=>{if(h<2)return"";const g=Array.from(this._idToStack.values()).indexOf(this._visibleStack)+1;return s("%0 of %1",[g,h])})),i.buttonNextView.on("execute",(()=>{i.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showNextStack()})),i.buttonPrevView.on("execute",(()=>{i.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showPrevStack()})),i}_createFakePanelsView(){const i=new _te(this.editor.locale,this.view);return i.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",((s,c)=>!c&&s>=2?Math.min(s-1,2):0)),i.listenTo(this.view,"change:top",(()=>i.updatePosition())),i.listenTo(this.view,"change:left",(()=>i.updatePosition())),this.editor.ui.view.body.add(i),i}_showView({view:i,balloonClassName:s="",withArrow:c=!0,singleViewMode:h=!1}){this.view.class=s,this.view.withArrow=c,this._rotatorView.showView(i),this.visibleView=i,this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition(),h&&(this._singleViewMode=!0)}_getBalloonPosition(){let i=Array.from(this._visibleStack.values()).pop().position;return i&&(i.limiter||(i=Object.assign({},i,{limiter:this.positionLimiter})),i=Object.assign({},i,{viewportOffsetConfig:this.editor.ui.viewportOffset})),i}}class Ste extends st{constructor(i){super(i);const s=i.t,c=this.bindTemplate;this.set("isNavigationVisible",!0),this.focusTracker=new kr,this.buttonPrevView=this._createButtonView(s("Previous"),Dt.previousArrow),this.buttonNextView=this._createButtonView(s("Next"),Dt.nextArrow),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",c.to("isNavigationVisible",(h=>h?"":"ck-hidden"))]},children:[this.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:c.to("counter")}]},this.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:this.content}]})}render(){super.render(),this.focusTracker.add(this.element)}destroy(){super.destroy(),this.focusTracker.destroy()}showView(i){this.hideView(),this.content.add(i)}hideView(){this.content.clear()}_createButtonView(i,s){const c=new Ut(this.locale);return c.set({label:i,icon:s,tooltip:!0}),c}}class _te extends st{constructor(i,s){super(i);const c=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("height",0),this.set("width",0),this.set("numberOfPanels",0),this.content=this.createCollection(),this._balloonPanelView=s,this.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",c.to("numberOfPanels",(h=>h?"":"ck-hidden"))],style:{top:c.to("top",yA),left:c.to("left",yA),width:c.to("width",yA),height:c.to("height",yA)}},children:this.content}),this.on("change:numberOfPanels",((h,g,w,k)=>{w>k?this._addPanels(w-k):this._removePanels(k-w),this.updatePosition()}))}_addPanels(i){for(;i--;){const s=new st;s.setTemplate({tag:"div"}),this.content.add(s),this.registerChild(s)}}_removePanels(i){for(;i--;){const s=this.content.last;this.content.remove(s),this.deregisterChild(s),s.destroy()}}updatePosition(){if(this.numberOfPanels){const{top:i,left:s}=this._balloonPanelView,{width:c,height:h}=new _t(this._balloonPanelView.element);Object.assign(this,{top:i,left:s,width:c,height:h})}}}var n3=o(8298),Ete={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$e()(n3.A,Ete),n3.A.locals;const Lm=To("px");class Dte extends st{constructor(i){super(i);const s=this.bindTemplate;this.set("isActive",!1),this.set("isSticky",!1),this.set("limiterElement",null),this.set("limiterBottomOffset",50),this.set("viewportTopOffset",0),this.set("_marginLeft",null),this.set("_isStickyToTheBottomOfLimiter",!1),this.set("_stickyTopOffset",null),this.set("_stickyBottomOffset",null),this.content=this.createCollection(),this._contentPanelPlaceholder=new Xr({tag:"div",attributes:{class:["ck","ck-sticky-panel__placeholder"],style:{display:s.to("isSticky",(c=>c?"block":"none")),height:s.to("isSticky",(c=>c?Lm(this._contentPanelRect.height):null))}}}).render(),this.contentPanelElement=new Xr({tag:"div",attributes:{class:["ck","ck-sticky-panel__content",s.if("isSticky","ck-sticky-panel__content_sticky"),s.if("_isStickyToTheBottomOfLimiter","ck-sticky-panel__content_sticky_bottom-limit")],style:{width:s.to("isSticky",(c=>c?Lm(this._contentPanelPlaceholder.getBoundingClientRect().width):null)),top:s.to("_stickyTopOffset",(c=>c&&Lm(c))),bottom:s.to("_stickyBottomOffset",(c=>c&&Lm(c))),marginLeft:s.to("_marginLeft")}},children:this.content}).render(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-sticky-panel"]},children:[this._contentPanelPlaceholder,this.contentPanelElement]})}render(){super.render(),this.checkIfShouldBeSticky(),this.listenTo(d.document,"scroll",(()=>{this.checkIfShouldBeSticky()}),{useCapture:!0}),this.listenTo(this,"change:isActive",(()=>{this.checkIfShouldBeSticky()}))}checkIfShouldBeSticky(){if(!this.limiterElement||!this.isActive)return void this._unstick();const i=new _t(this.limiterElement);let s=i.getVisible();if(s){const c=new _t(d.window);c.top+=this.viewportTopOffset,c.height-=this.viewportTopOffset,s=s.getIntersection(c)}if(s&&i.top<s.top){const c=s.top;if(c+this._contentPanelRect.height+this.limiterBottomOffset>s.bottom){const h=Math.max(i.bottom-s.bottom,0)+this.limiterBottomOffset;i.bottom-h>i.top+this._contentPanelRect.height?this._stickToBottomOfLimiter(h):this._unstick()}else this._contentPanelRect.height+this.limiterBottomOffset<i.height?this._stickToTopOfAncestors(c):this._unstick()}else this._unstick()}_stickToTopOfAncestors(i){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=i,this._stickyBottomOffset=null,this._marginLeft=Lm(-d.window.scrollX)}_stickToBottomOfLimiter(i){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!0,this._stickyTopOffset=null,this._stickyBottomOffset=i,this._marginLeft=Lm(-d.window.scrollX)}_unstick(){this.isSticky=!1,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=null,this._stickyBottomOffset=null,this._marginLeft=null}get _contentPanelRect(){return new _t(this.contentPanelElement)}}class Mte extends p{constructor(i,s){const c=i.t,h=Object.assign({},{showResetButton:!0,showIcon:!0,creator:mA},s);super(i,h.creator),this.label=s.label,this._viewConfig=h,this._viewConfig.showIcon&&(this.iconView=new Ha,this.iconView.content=Dt.loupe,this.fieldWrapperChildren.add(this.iconView,0),this.extendTemplate({attributes:{class:"ck-search__query_with-icon"}})),this._viewConfig.showResetButton&&(this.resetButtonView=new Ut(i),this.resetButtonView.set({label:c("Clear"),icon:Dt.cancel,class:"ck-search__reset",isVisible:!1,tooltip:!0}),this.resetButtonView.on("execute",(()=>{this.reset(),this.focus(),this.fire("reset")})),this.resetButtonView.bind("isVisible").to(this.fieldView,"isEmpty",(g=>!g)),this.fieldWrapperChildren.add(this.resetButtonView),this.extendTemplate({attributes:{class:"ck-search__query_with-reset"}}))}reset(){this.fieldView.reset(),this._viewConfig.showResetButton&&(this.resetButtonView.isVisible=!1)}}class Tte extends st{constructor(){super();const i=this.bindTemplate;this.set({isVisible:!1,primaryText:"",secondaryText:""}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-search__info",i.if("isVisible","ck-hidden",(s=>!s))],tabindex:-1},children:[{tag:"span",children:[{text:[i.to("primaryText")]}]},{tag:"span",children:[{text:[i.to("secondaryText")]}]}]})}focus(){this.element.focus()}}class Rte extends st{constructor(i){super(i),this.children=this.createCollection(),this.focusTracker=new kr,this.setTemplate({tag:"div",attributes:{class:["ck","ck-search__results"],tabindex:-1},children:this.children}),this._focusCycler=new Je({focusables:this.children,focusTracker:this.focusTracker})}render(){super.render();for(const i of this.children)this.focusTracker.add(i.element)}focus(){this._focusCycler.focusFirst()}focusFirst(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}var r3=/[\\^$.*+?()[\]{}|]/g,Pte=RegExp(r3.source);const i3=function(u){return(u=Fu(u))&&Pte.test(u)?u.replace(r3,"\\$&"):u};var o3=o(8107),Ite={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$e()(o3.A,Ite),o3.A.locals;var Nte=Object.defineProperty,s3=Object.getOwnPropertySymbols,Ote=Object.prototype.hasOwnProperty,Fte=Object.prototype.propertyIsEnumerable,a3=(u,i,s)=>i in u?Nte(u,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):u[i]=s;class Lte extends st{constructor(i,s){super(i),this._config=s,this.filteredView=s.filteredView,this.queryView=this._createSearchTextQueryView(),this.focusTracker=new kr,this.keystrokes=new fi,this.resultsView=new Rte(i),this.children=this.createCollection(),this.focusableChildren=this.createCollection([this.queryView,this.resultsView]),this.set("isEnabled",!0),this.set("resultsCount",0),this.set("totalItemsCount",0),s.infoView&&s.infoView.instance?this.infoView=s.infoView.instance:(this.infoView=new Tte,this._enableDefaultInfoViewBehavior(),this.on("render",(()=>{this.search("")}))),this.resultsView.children.addMany([this.infoView,this.filteredView]),this.focusCycler=new Je({focusables:this.focusableChildren,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.on("search",((c,{resultsCount:h,totalItemsCount:g})=>{this.resultsCount=h,this.totalItemsCount=g})),this.setTemplate({tag:"div",attributes:{class:["ck","ck-search",s.class||null],tabindex:"-1"},children:this.children})}render(){super.render(),this.children.addMany([this.queryView,this.resultsView]);const i=s=>s.stopPropagation();for(const s of this.focusableChildren)this.focusTracker.add(s.element);this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",i),this.keystrokes.set("arrowleft",i),this.keystrokes.set("arrowup",i),this.keystrokes.set("arrowdown",i)}focus(){this.queryView.focus()}reset(){this.queryView.reset(),this.search("")}search(i){const s=i?new RegExp(i3(i),"ig"):null,c=this.filteredView.filter(s);this.fire("search",((h,g)=>{for(var w in g||(g={}))Ote.call(g,w)&&a3(h,w,g[w]);if(s3)for(var w of s3(g))Fte.call(g,w)&&a3(h,w,g[w]);return h})({query:i},c))}_createSearchTextQueryView(){const i=new Mte(this.locale,this._config.queryView);return this.listenTo(i.fieldView,"input",(()=>{this.search(i.fieldView.element.value)})),i.on("reset",(()=>this.reset())),i.bind("isEnabled").to(this),i}_enableDefaultInfoViewBehavior(){const i=this.locale.t,s=this.infoView;function c(h,{query:g,resultsCount:w,totalItemsCount:k}){return typeof h=="function"?h(g,w,k):h}this.on("search",((h,g)=>{if(g.resultsCount)s.set({isVisible:!1});else{const w=this._config.infoView&&this._config.infoView.text;let k,_;g.totalItemsCount?w&&w.notFound?(k=w.notFound.primary,_=w.notFound.secondary):(k=i("No results found"),_=""):w&&w.noSearchableItems?(k=w.noSearchableItems.primary,_=w.noSearchableItems.secondary):(k=i("No searchable items"),_=""),s.set({primaryText:c(k,g),secondaryText:c(_,g),isVisible:!0})}}))}}var l3=o(5727),Bte={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$e()(l3.A,Bte),l3.A.locals;const S2=class extends Lte{constructor(u,i){super(u,i),this._config=i;const s=To("px");this.extendTemplate({attributes:{class:["ck-autocomplete"]}});const c=this.resultsView.bindTemplate;this.resultsView.set("isVisible",!1),this.resultsView.set("_position","s"),this.resultsView.set("_width",0),this.resultsView.extendTemplate({attributes:{class:[c.if("isVisible","ck-hidden",(h=>!h)),c.to("_position",(h=>`ck-search__results_${h}`))],style:{width:c.to("_width",s)}}}),this.focusTracker.on("change:isFocused",((h,g,w)=>{this._updateResultsVisibility(),w?this.resultsView.element.scrollTop=0:i.resetOnBlur&&this.queryView.reset()})),this.on("search",(()=>{this._updateResultsVisibility(),this._updateResultsViewWidthAndPosition()})),this.keystrokes.set("esc",((h,g)=>{this.resultsView.isVisible&&(this.queryView.focus(),this.resultsView.isVisible=!1,g())})),this.listenTo(d.document,"scroll",(()=>{this._updateResultsViewWidthAndPosition()})),this.on("change:isEnabled",(()=>{this._updateResultsVisibility()})),this.filteredView.on("execute",((h,{value:g})=>{this.focus(),this.reset(),this.queryView.fieldView.value=this.queryView.fieldView.element.value=g,this.resultsView.isVisible=!1})),this.resultsView.on("change:isVisible",(()=>{this._updateResultsViewWidthAndPosition()}))}_updateResultsViewWidthAndPosition(){if(!this.resultsView.isVisible)return;this.resultsView._width=new _t(this.queryView.fieldView.element).width;const u=S2._getOptimalPosition({element:this.resultsView.element,target:this.queryView.element,fitInViewport:!0,positions:S2.defaultResultsPositions});this.resultsView._position=u?u.name:"s"}_updateResultsVisibility(){const u=this._config.queryMinChars===void 0?0:this._config.queryMinChars,i=this.queryView.fieldView.element.value.length;this.resultsView.isVisible=this.focusTracker.isFocused&&this.isEnabled&&i>=u}};let c3=S2;c3.defaultResultsPositions=[u=>({top:u.bottom,left:u.left,name:"s"}),(u,i)=>({top:u.top-i.height,left:u.left,name:"n"})],c3._getOptimalPosition=_u;var d3=o(9529),jte={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$e()(d3.A,jte),d3.A.locals;var u3=o(109),zte={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$e()(u3.A,zte),u3.A.locals;var h3=o(2710),Hte={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$e()(h3.A,Hte),h3.A.locals;var f3=o(3344),Vte={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$e()(f3.A,Vte),f3.A.locals;class Gte extends Ut{constructor(i){super(i);const s=this.bindTemplate;this.set({withText:!0,role:"menuitem"}),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__button"],"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",(c=>String(c))),"data-cke-tooltip-disabled":s.to("isOn")},on:{mouseenter:s.to("mouseenter")}})}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const i=new Ha;return i.content=rp,i.extendTemplate({attributes:{class:"ck-menu-bar__menu__button__arrow"}}),i}}var p3=o(9481),Ute={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$e()(p3.A,Ute),p3.A.locals;class _2 extends Fm{constructor(i,s){super(i);const c=this.bindTemplate;this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item"]},on:{mouseenter:c.to("mouseenter")}}),this.delegate("mouseenter").to(s)}}var Wte=Object.defineProperty,g3=Object.getOwnPropertySymbols,$te=Object.prototype.hasOwnProperty,qte=Object.prototype.propertyIsEnumerable,m3=(u,i,s)=>i in u?Wte(u,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):u[i]=s,b3=(u,i)=>{for(var s in i||(i={}))$te.call(i,s)&&m3(u,s,i[s]);if(g3)for(var s of g3(i))qte.call(i,s)&&m3(u,s,i[s]);return u};const RC={toggleMenusAndFocusItemsOnHover(u){u.on("menu:mouseenter",(i=>{if(u.isOpen){for(const s of u.menus){const c=i.path[0],h=c instanceof _2&&c.children.first===s;s.isOpen=(i.path.includes(s)||h)&&s.isEnabled}i.source.focus()}}))},focusCycleMenusOnArrows(u){const i=u.locale.uiLanguageDirection==="rtl";function s(c,h){const g=u.children.getIndex(c),w=c.isOpen,k=u.children.length,_=u.children.get((g+k+h)%k);c.isOpen=!1,w&&(_.isOpen=!0),_.buttonView.focus()}u.on("menu:arrowright",(c=>{s(c.source,i?-1:1)})),u.on("menu:arrowleft",(c=>{s(c.source,i?1:-1)}))},closeMenusWhenTheBarCloses(u){u.on("change:isOpen",(()=>{u.isOpen||u.menus.forEach((i=>{i.isOpen=!1}))}))},closeMenuWhenAnotherOnTheSameLevelOpens(u){u.on("menu:change:isOpen",((i,s,c)=>{c&&u.menus.filter((h=>i.source.parentMenuView===h.parentMenuView&&i.source!==h&&h.isOpen)).forEach((h=>{h.isOpen=!1}))}))},closeOnClickOutside(u){Ls({emitter:u,activator:()=>u.isOpen,callback:()=>u.close(),contextElements:()=>u.children.map((i=>i.element))})}},op={openAndFocusPanelOnArrowDownKey(u){u.keystrokes.set("arrowdown",((i,s)=>{u.focusTracker.focusedElement===u.buttonView.element&&(u.isOpen||(u.isOpen=!0),u.panelView.focus(),s())}))},openOnArrowRightKey(u){const i=u.locale.uiLanguageDirection==="rtl"?"arrowleft":"arrowright";u.keystrokes.set(i,((s,c)=>{u.focusTracker.focusedElement===u.buttonView.element&&u.isEnabled&&(u.isOpen||(u.isOpen=!0),u.panelView.focus(),c())}))},openOnButtonClick(u){u.buttonView.on("execute",(()=>{u.isOpen=!0,u.panelView.focus()}))},toggleOnButtonClick(u){u.buttonView.on("execute",(()=>{u.isOpen=!u.isOpen,u.isOpen&&u.panelView.focus()}))},closeOnArrowLeftKey(u){const i=u.locale.uiLanguageDirection==="rtl"?"arrowright":"arrowleft";u.keystrokes.set(i,((s,c)=>{u.isOpen&&(u.isOpen=!1,u.focus(),c())}))},closeOnEscKey(u){u.keystrokes.set("esc",((i,s)=>{u.isOpen&&(u.isOpen=!1,u.focus(),s())}))},closeOnParentClose(u){u.parentMenuView.on("change:isOpen",((i,s,c)=>{c||i.source!==u.parentMenuView||(u.isOpen=!1)}))}},Kte={southEast:u=>({top:u.bottom,left:u.left,name:"se"}),southWest:(u,i)=>({top:u.bottom,left:u.left-i.width+u.width,name:"sw"}),northEast:(u,i)=>({top:u.top-i.height,left:u.left,name:"ne"}),northWest:(u,i)=>({top:u.top-i.height,left:u.left-i.width+u.width,name:"nw"}),eastSouth:u=>({top:u.top,left:u.right-5,name:"es"}),eastNorth:(u,i)=>({top:u.top-i.height,left:u.right-5,name:"en"}),westSouth:(u,i)=>({top:u.top,left:u.left-i.width+5,name:"ws"}),westNorth:(u,i)=>({top:u.top-i.height,left:u.left-i.width+5,name:"wn"})},Yte=[{menuId:"file",label:"File",groups:[{groupId:"export",items:["menuBar:exportPdf","menuBar:exportWord"]},{groupId:"import",items:["menuBar:importWord"]},{groupId:"revisionHistory",items:["menuBar:revisionHistory"]}]},{menuId:"edit",label:"Edit",groups:[{groupId:"undo",items:["menuBar:undo","menuBar:redo"]},{groupId:"selectAll",items:["menuBar:selectAll"]},{groupId:"findAndReplace",items:["menuBar:findAndReplace"]}]},{menuId:"view",label:"View",groups:[{groupId:"sourceEditing",items:["menuBar:sourceEditing"]},{groupId:"showBlocks",items:["menuBar:showBlocks"]},{groupId:"restrictedEditingException",items:["menuBar:restrictedEditingException"]}]},{menuId:"insert",label:"Insert",groups:[{groupId:"insertMainWidgets",items:["menuBar:uploadImage","menuBar:ckbox","menuBar:ckfinder","menuBar:insertTable"]},{groupId:"insertInline",items:["menuBar:link","menuBar:comment"]},{groupId:"insertMinorWidgets",items:["menuBar:insertTemplate","menuBar:blockQuote","menuBar:codeBlock","menuBar:htmlEmbed"]},{groupId:"insertStructureWidgets",items:["menuBar:horizontalLine","menuBar:pageBreak","menuBar:tableOfContents"]},{groupId:"restrictedEditing",items:["menuBar:restrictedEditing"]}]},{menuId:"format",label:"Format",groups:[{groupId:"textAndFont",items:[{menuId:"text",label:"Text",groups:[{groupId:"basicStyles",items:["menuBar:bold","menuBar:italic","menuBar:underline","menuBar:strikethrough","menuBar:superscript","menuBar:subscript","menuBar:code"]},{groupId:"textPartLanguage",items:["menuBar:textPartLanguage"]}]},{menuId:"font",label:"Font",groups:[{groupId:"fontProperties",items:["menuBar:fontSize","menuBar:fontFamily"]},{groupId:"fontColors",items:["menuBar:fontColor","menuBar:fontBackgroundColor"]},{groupId:"highlight",items:["menuBar:highlight"]}]},"menuBar:heading"]},{groupId:"list",items:["menuBar:bulletedList","menuBar:numberedList","menuBar:todoList"]},{groupId:"indent",items:["menuBar:alignment","menuBar:indent","menuBar:outdent"]},{groupId:"caseChange",items:["menuBar:caseChange"]},{groupId:"removeFormat",items:["menuBar:removeFormat"]}]},{menuId:"tools",label:"Tools",groups:[{groupId:"aiTools",items:["menuBar:aiAssistant","menuBar:aiCommands"]},{groupId:"tools",items:["menuBar:trackChanges","menuBar:commentsArchive"]}]},{menuId:"help",label:"Help",groups:[{groupId:"help",items:["menuBar:accessibilityHelp"]}]}];function Qte({normalizedConfig:u,locale:i,componentFactory:s}){const c=bn(u);return(function(h,g){const w=g.removeItems,k=[];g.items=g.items.filter((({menuId:_})=>!w.includes(_)||(k.push(_),!1))),Bm(g.items,(_=>{_.groups=_.groups.filter((({groupId:R})=>!w.includes(R)||(k.push(R),!1)));for(const R of _.groups)R.items=R.items.filter((I=>{const F=C3(I);return!w.includes(F)||(k.push(F),!1)}))}));for(const _ of w)k.includes(_)||K("menu-bar-item-could-not-be-removed",{menuBarConfig:h,itemName:_})})(u,c),(function(h,g){const w=g.addItems,k=[];for(const _ of w){const R=Jte(_.position),I=ene(_.position);if(Zte(_))if(I){const F=g.items.findIndex((H=>H.menuId===I));F!=-1?R==="before"?(g.items.splice(F,0,_.menu),k.push(_)):R==="after"&&(g.items.splice(F+1,0,_.menu),k.push(_)):v3(g,_.menu,I,R)&&k.push(_)}else R==="start"?(g.items.unshift(_.menu),k.push(_)):R==="end"&&(g.items.push(_.menu),k.push(_));else Xte(_)?Bm(g.items,(F=>{if(F.menuId===I)R==="start"?(F.groups.unshift(_.group),k.push(_)):R==="end"&&(F.groups.push(_.group),k.push(_));else{const H=F.groups.findIndex((G=>G.groupId===I));H!==-1&&(R==="before"?(F.groups.splice(H,0,_.group),k.push(_)):R==="after"&&(F.groups.splice(H+1,0,_.group),k.push(_)))}})):v3(g,_.item,I,R)&&k.push(_)}for(const _ of w)k.includes(_)||K("menu-bar-item-could-not-be-added",{menuBarConfig:h,addedItemConfig:_})})(u,c),(function(h,g,w){Bm(g.items,(k=>{for(const _ of k.groups)_.items=_.items.filter((R=>{const I=typeof R=="string"&&!w.has(R);return I&&!g.isUsingDefaultConfig&&K("menu-bar-item-unavailable",{menuBarConfig:h,parentMenuConfig:bn(k),componentName:R}),!I}))}))})(u,c,s),w3(u,c),(function(h,g){const w=g.t,k={File:w({string:"File",id:"MENU_BAR_MENU_FILE"}),Edit:w({string:"Edit",id:"MENU_BAR_MENU_EDIT"}),View:w({string:"View",id:"MENU_BAR_MENU_VIEW"}),Insert:w({string:"Insert",id:"MENU_BAR_MENU_INSERT"}),Format:w({string:"Format",id:"MENU_BAR_MENU_FORMAT"}),Tools:w({string:"Tools",id:"MENU_BAR_MENU_TOOLS"}),Help:w({string:"Help",id:"MENU_BAR_MENU_HELP"}),Text:w({string:"Text",id:"MENU_BAR_MENU_TEXT"}),Font:w({string:"Font",id:"MENU_BAR_MENU_FONT"})};Bm(h.items,(_=>{_.label in k&&(_.label=k[_.label])}))})(c,i),c}function v3(u,i,s,c){let h=!1;return Bm(u.items,(g=>{for(const{groupId:w,items:k}of g.groups){if(h)return;if(w===s)c==="start"?(k.unshift(i),h=!0):c==="end"&&(k.push(i),h=!0);else{const _=k.findIndex((R=>C3(R)===s));_!==-1&&(c==="before"?(k.splice(_,0,i),h=!0):c==="after"&&(k.splice(_+1,0,i),h=!0))}}})),h}function w3(u,i){const s=i.isUsingDefaultConfig;let c=!1;i.items=i.items.filter((h=>!!h.groups.length||(E2(u,h,s),!1))),i.items.length?(Bm(i.items,(h=>{h.groups=h.groups.filter((g=>!!g.items.length||(c=!0,!1)));for(const g of h.groups)g.items=g.items.filter((w=>!(y3(w)&&!w.groups.length)||(E2(u,w,s),c=!0,!1)))})),c&&w3(u,i)):E2(u,u,s)}function E2(u,i,s){s||K("menu-bar-menu-empty",{menuBarConfig:u,emptyMenuConfig:i})}function Bm(u,i){if(Array.isArray(u))for(const c of u)s(c);function s(c){i(c);for(const h of c.groups)for(const g of h.items)y3(g)&&s(g)}}function Zte(u){return typeof u=="object"&&"menu"in u}function Xte(u){return typeof u=="object"&&"group"in u}function Jte(u){return u.startsWith("start")?"start":u.startsWith("end")?"end":u.startsWith("after")?"after":"before"}function ene(u){const i=u.match(/^[^:]+:(.+)/);return i?i[1]:null}function C3(u){return typeof u=="string"?u:u.menuId}function y3(u){return typeof u=="object"&&"menuId"in u}function tne(u,i){const s=i.element;u.ui.focusTracker.add(s),u.keystrokes.listenTo(s);const c=(function(h){let g;return g="items"in h&&h.items?b3({items:h.items,removeItems:[],addItems:[],isVisible:!0,isUsingDefaultConfig:!1},h):b3({items:bn(Yte),addItems:[],removeItems:[],isVisible:!0,isUsingDefaultConfig:!0},h),g})(u.config.get("menuBar")||{});i.fillFromConfig(c,u.ui.componentFactory),u.keystrokes.set("Esc",((h,g)=>{s.contains(u.ui.focusTracker.focusedElement)&&(u.editing.view.focus(),g())})),u.keystrokes.set("Alt+F9",((h,g)=>{s.contains(u.ui.focusTracker.focusedElement)||(i.focus(),g())}))}var k3=o(9108),nne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$e()(k3.A,nne),k3.A.locals;class rne extends st{constructor(i){super(i);const s=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-menu-bar__menu__panel",s.to("position",(c=>`ck-menu-bar__menu__panel_position_${c}`)),s.if("isVisible","ck-hidden",(c=>!c))],tabindex:"-1"},children:this.children,on:{selectstart:s.to((c=>{c.target.tagName.toLocaleLowerCase()!=="input"&&c.preventDefault()}))}})}focus(i=1){this.children.length&&(i===1?this.children.first.focus():this.children.last.focus())}}var x3=o(4),ine={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$e()(x3.A,ine),x3.A.locals;const A3=class extends st{constructor(u){super(u);const i=this.bindTemplate;this.buttonView=new Gte(u),this.buttonView.delegate("mouseenter").to(this),this.buttonView.bind("isOn","isEnabled").to(this,"isOpen","isEnabled"),this.panelView=new rne(u),this.panelView.bind("isVisible").to(this,"isOpen"),this.keystrokes=new fi,this.focusTracker=new kr,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("panelPosition","w"),this.set("class",void 0),this.set("parentMenuView",null),this.setTemplate({tag:"div",attributes:{class:["ck","ck-menu-bar__menu",i.to("class"),i.if("isEnabled","ck-disabled",(s=>!s)),i.if("parentMenuView","ck-menu-bar__menu_top-level",(s=>!s))]},children:[this.buttonView,this.panelView]})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.keystrokes.listenTo(this.element),op.closeOnEscKey(this),this._repositionPanelOnOpen()}_attachBehaviors(){this.parentMenuView?(op.openOnButtonClick(this),op.openOnArrowRightKey(this),op.closeOnArrowLeftKey(this),op.closeOnParentClose(this)):(this._propagateArrowKeystrokeEvents(),op.openAndFocusPanelOnArrowDownKey(this),op.toggleOnButtonClick(this))}_propagateArrowKeystrokeEvents(){this.keystrokes.set("arrowright",((u,i)=>{this.fire("arrowright"),i()})),this.keystrokes.set("arrowleft",((u,i)=>{this.fire("arrowleft"),i()}))}_repositionPanelOnOpen(){this.on("change:isOpen",((u,i,s)=>{if(!s)return;const c=A3._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions});this.panelView.position=c?c.name:this._panelPositions[0].name}))}focus(){this.buttonView.focus()}get _panelPositions(){const{southEast:u,southWest:i,northEast:s,northWest:c,westSouth:h,eastSouth:g,westNorth:w,eastNorth:k}=Kte;return this.locale.uiLanguageDirection==="ltr"?this.parentMenuView?[g,k,h,w]:[u,i,s,c]:this.parentMenuView?[h,w,g,k]:[i,u,c,s]}};let jm=A3;jm._getOptimalPosition=_u;class D2 extends v2{constructor(i){super(i),this.role="menu"}}var S3=o(977),one={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$e()(S3.A,one),S3.A.locals;class fs extends Ut{constructor(i){super(i),this.set({withText:!0,withKeystroke:!0,tooltip:!1,role:"menuitem"}),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item__button"]}})}}class _3 extends np{constructor(i){super(i),this.set({withText:!0,withKeystroke:!0,tooltip:!1,role:"menuitem"}),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item__button"]}})}}var E3=o(497),sne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$e()(E3.A,sne),E3.A.locals;const D3=["mouseenter","arrowleft","arrowright","change:isOpen"];class ane extends st{constructor(i){super(i),this.menus=[];const s=i.t;this.set("isOpen",!1),this._setupIsOpenUpdater(),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-menu-bar"],"aria-label":s("Editor menu bar"),role:"menubar"},children:this.children})}fillFromConfig(i,s){const c=Qte({normalizedConfig:i,locale:this.locale,componentFactory:s}).items.map((h=>this._createMenu({componentFactory:s,menuDefinition:h})));this.children.addMany(c)}render(){super.render(),RC.toggleMenusAndFocusItemsOnHover(this),RC.closeMenusWhenTheBarCloses(this),RC.closeMenuWhenAnotherOnTheSameLevelOpens(this),RC.focusCycleMenusOnArrows(this),RC.closeOnClickOutside(this)}focus(){this.children.first&&this.children.first.focus()}close(){for(const i of this.children)i.isOpen=!1}registerMenu(i,s=null){s?(i.delegate(...D3).to(s),i.parentMenuView=s):i.delegate(...D3).to(this,(c=>"menu:"+c)),i._attachBehaviors(),this.menus.push(i)}_createMenu({componentFactory:i,menuDefinition:s,parentMenuView:c}){const h=this.locale,g=new jm(h);return this.registerMenu(g,c),g.buttonView.set({label:s.label}),g.once("change:isOpen",(()=>{const w=new D2(h);w.ariaLabel=s.label,g.panelView.children.add(w),w.items.addMany(this._createMenuItems({menuDefinition:s,parentMenuView:g,componentFactory:i}))})),g}_createMenuItems({menuDefinition:i,parentMenuView:s,componentFactory:c}){const h=this.locale,g=[];for(const w of i.groups){for(const k of w.items){const _=new _2(h,s);if(_e(k))_.children.add(this._createMenu({componentFactory:c,menuDefinition:k,parentMenuView:s}));else{const R=this._createMenuItemContentFromFactory({componentName:k,componentFactory:c,parentMenuView:s});if(!R)continue;_.children.add(R)}g.push(_)}w!==i.groups[i.groups.length-1]&&g.push(new b2(h))}return g}_createMenuItemContentFromFactory({componentName:i,parentMenuView:s,componentFactory:c}){const h=c.create(i);return h instanceof jm||h instanceof fs||h instanceof _3?(this._registerMenuTree(h,s),h.on("execute",(()=>{this.close()})),h):(K("menu-bar-component-unsupported",{componentName:i,componentView:h}),null)}_registerMenuTree(i,s){if(!(i instanceof jm))return void i.delegate("mouseenter").to(s);this.registerMenu(i,s);const c=i.panelView.children.filter((g=>g instanceof D2))[0];if(!c)return void i.delegate("mouseenter").to(s);const h=c.items.filter((g=>g instanceof Fm));for(const g of h)this._registerMenuTree(g.children.get(0),i)}_setupIsOpenUpdater(){let i;this.on("menu:change:isOpen",((s,c,h)=>{clearTimeout(i),h?this.isOpen=!0:i=setTimeout((()=>{this.isOpen=Array.from(this.children).some((g=>g.isOpen))}),0)}))}}class lne extends bte{constructor(i,s){super(i),this.view=s,this._toolbarConfig=Bt(i.config.get("toolbar")),this._elementReplacer=new Zn,this.listenTo(i.editing.view,"scrollToTheSelection",this._handleScrollToTheSelectionWithStickyPanel.bind(this))}get element(){return this.view.element}init(i){const s=this.editor,c=this.view,h=s.editing.view,g=c.editable,w=h.document.getRoot();g.name=w.rootName,c.render();const k=g.element;this.setEditableElement(g.name,k),c.editable.bind("isFocused").to(this.focusTracker),h.attachDomRoot(k),i&&this._elementReplacer.replace(i,this.element),this._initPlaceholder(),this._initToolbar(),c.menuBarView&&tne(s,c.menuBarView),this._initDialogPluginIntegration(),this.fire("ready")}destroy(){super.destroy();const i=this.view,s=this.editor.editing.view;this._elementReplacer.restore(),s.detachDomRoot(i.editable.name),i.destroy()}_initToolbar(){const i=this.view;i.stickyPanel.bind("isActive").to(this.focusTracker,"isFocused"),i.stickyPanel.limiterElement=i.element,i.stickyPanel.bind("viewportTopOffset").to(this,"viewportOffset",(({top:s})=>s||0)),i.toolbar.fillFromConfig(this._toolbarConfig,this.componentFactory),this.addToolbar(i.toolbar)}_initPlaceholder(){const i=this.editor,s=i.editing.view,c=s.document.getRoot(),h=i.sourceElement;let g;const w=i.config.get("placeholder");w&&(g=typeof w=="string"?w:w[this.view.editable.name]),!g&&h&&h.tagName.toLowerCase()==="textarea"&&(g=h.getAttribute("placeholder")),g&&(c.placeholder=g),io({view:s,element:c,isDirectHost:!1,keepOnFocus:!0})}_handleScrollToTheSelectionWithStickyPanel(i,s,c){const h=this.view.stickyPanel;if(h.isSticky){const g=new _t(h.element).height;s.viewportOffset.top+=g}else{const g=()=>{this.editor.editing.view.scrollToTheSelection(c)};this.listenTo(h,"change:isSticky",g),setTimeout((()=>{this.stopListening(h,"change:isSticky",g)}),20)}}_initDialogPluginIntegration(){if(!this.editor.plugins.has("Dialog"))return;const i=this.view.stickyPanel,s=this.editor.plugins.get("Dialog");s.on("show",(()=>{const c=s.view;c.on("moveTo",((h,g)=>{if(!i.isSticky||c.wasMoved)return;const w=new _t(i.contentPanelElement);g[1]<w.bottom+vA.defaultOffset&&(g[1]=w.bottom+vA.defaultOffset)}),{priority:"high"})}),{priority:"low"})}}var M3=o(7388),cne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$e()(M3.A,cne),M3.A.locals;class dne extends Cte{constructor(i,s,c={}){super(i),this.stickyPanel=new Dte(i),this.toolbar=new m2(i,{shouldGroupWhenFull:c.shouldToolbarGroupWhenFull}),c.useMenuBar&&(this.menuBarView=new ane(i)),this.editable=new kte(i,s)}render(){super.render(),this.menuBarView?this.stickyPanel.content.addMany([this.menuBarView,this.toolbar]):this.stickyPanel.content.add(this.toolbar),this.top.add(this.stickyPanel),this.main.add(this.editable)}}class T3{constructor(i){if(this.crashes=[],this.state="initializing",this._now=Date.now,this.crashes=[],this._crashNumberLimit=typeof i.crashNumberLimit=="number"?i.crashNumberLimit:3,this._minimumNonErrorTimePeriod=typeof i.minimumNonErrorTimePeriod=="number"?i.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=s=>{const c="error"in s?s.error:s.reason;c instanceof Error&&this._handleError(c,s)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(i,s){this._listeners[i]||(this._listeners[i]=[]),this._listeners[i].push(s)}off(i,s){this._listeners[i]=this._listeners[i].filter((c=>c!==s))}_fire(i,...s){const c=this._listeners[i]||[];for(const h of c)h.apply(this,[null,...s])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(i,s){if(this._shouldReactToError(i)){this.crashes.push({message:i.message,stack:i.stack,filename:s instanceof ErrorEvent?s.filename:void 0,lineno:s instanceof ErrorEvent?s.lineno:void 0,colno:s instanceof ErrorEvent?s.colno:void 0,date:this._now()});const c=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:i,causesRestart:c}),c?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(i){return i.is&&i.is("CKEditorError")&&i.context!==void 0&&i.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(i)}_shouldRestart(){return this.crashes.length<=this._crashNumberLimit?!0:(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}function M2(u,i=new Set){const s=[u],c=new Set;let h=0;for(;s.length>h;){const g=s[h++];if(!c.has(g)&&une(g)&&!i.has(g))if(c.add(g),Symbol.iterator in g)try{for(const w of g)s.push(w)}catch{}else for(const w in g)w!=="defaultValue"&&s.push(g[w])}return c}function une(u){const i=Object.prototype.toString.call(u),s=typeof u;return!(s==="number"||s==="boolean"||s==="string"||s==="symbol"||s==="function"||i==="[object Date]"||i==="[object RegExp]"||i==="[object Module]"||u==null||u._watchdogExcluded||u instanceof EventTarget||u instanceof Event)}function R3(u,i,s=new Set){if(u===i&&typeof(c=u)=="object"&&c!==null)return!0;var c;const h=M2(u,s),g=M2(i,s);for(const w of h)if(g.has(w))return!0;return!1}var hne=Object.defineProperty,fne=Object.defineProperties,pne=Object.getOwnPropertyDescriptors,xA=Object.getOwnPropertySymbols,P3=Object.prototype.hasOwnProperty,I3=Object.prototype.propertyIsEnumerable,N3=(u,i,s)=>i in u?hne(u,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):u[i]=s,T2=(u,i)=>{for(var s in i||(i={}))P3.call(i,s)&&N3(u,s,i[s]);if(xA)for(var s of xA(i))I3.call(i,s)&&N3(u,s,i[s]);return u};class O3 extends T3{constructor(i,s={}){super(s),this._editor=null,this._lifecyclePromise=null,this._initUsingData=!0,this._editables={},this._throttledSave=CA(this._save.bind(this),typeof s.saveInterval=="number"?s.saveInterval:5e3),i&&(this._creator=(c,h)=>i.create(c,h)),this._destructor=c=>c.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(i){this._creator=i}setDestructor(i){this._destructor=i}_restart(){return Promise.resolve().then((()=>(this.state="initializing",this._fire("stateChange"),this._destroy()))).catch((i=>{console.error("An error happened during the editor destroying.",i)})).then((()=>{const i={},s=[],c=this._config.rootsAttributes||{},h={};for(const[_,R]of Object.entries(this._data.roots))R.isLoaded?(i[_]="",h[_]=c[_]||{}):s.push(_);const g=(w=T2({},this._config),k={extraPlugins:this._config.extraPlugins||[],lazyRoots:s,rootsAttributes:h,_watchdogInitialData:this._data},fne(w,pne(k)));var w,k;return delete g.initialData,g.extraPlugins.push(gne),this._initUsingData?this.create(i,g,g.context):ul(this._elementOrData)?this.create(this._elementOrData,g,g.context):this.create(this._editables,g,g.context)})).then((()=>{this._fire("restart")}))}create(i=this._elementOrData,s=this._config,c){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then((()=>(super._startErrorHandling(),this._elementOrData=i,this._initUsingData=typeof i=="string"||Object.keys(i).length>0&&typeof Object.values(i)[0]=="string",this._config=this._cloneEditorConfiguration(s)||{},this._config.context=c,this._creator(i,this._config)))).then((h=>{this._editor=h,h.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=h.model.document.version,this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this.state="ready",this._fire("stateChange")})).finally((()=>{this._lifecyclePromise=null})),this._lifecyclePromise}destroy(){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then((()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))).finally((()=>{this._lifecyclePromise=null})),this._lifecyclePromise}_destroy(){return Promise.resolve().then((()=>{this._stopErrorHandling(),this._throttledSave.cancel();const i=this._editor;return this._editor=null,i.model.document.off("change:data",this._throttledSave),this._destructor(i)}))}_save(){const i=this._editor.model.document.version;try{this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this._lastDocumentVersion=i}catch(s){console.error(s,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(i){this._excludedProps=i}_getData(){const i=this._editor,s=i.model.document.roots.filter((k=>k.isAttached()&&k.rootName!="$graveyard")),{plugins:c}=i,h=c.has("CommentsRepository")&&c.get("CommentsRepository"),g=c.has("TrackChanges")&&c.get("TrackChanges"),w={roots:{},markers:{},commentThreads:JSON.stringify([]),suggestions:JSON.stringify([])};s.forEach((k=>{w.roots[k.rootName]={content:JSON.stringify(Array.from(k.getChildren())),attributes:JSON.stringify(Array.from(k.getAttributes())),isLoaded:k._isLoaded}}));for(const k of i.model.markers)k._affectsData&&(w.markers[k.name]={rangeJSON:k.getRange().toJSON(),usingOperation:k._managedUsingOperations,affectsData:k._affectsData});return h&&(w.commentThreads=JSON.stringify(h.getCommentThreads({toJSON:!0,skipNotAttached:!0}))),g&&(w.suggestions=JSON.stringify(g.getSuggestions({toJSON:!0,skipNotAttached:!0}))),w}_getEditables(){const i={};for(const s of this.editor.model.document.getRootNames()){const c=this.editor.ui.getEditableElement(s);c&&(i[s]=c)}return i}_isErrorComingFromThisItem(i){return R3(this._editor,i.context,this._excludedProps)}_cloneEditorConfiguration(i){return pf(i,((s,c)=>ul(s)||c==="context"?s:void 0))}}class gne{constructor(i){this.editor=i,this._data=i.config.get("_watchdogInitialData")}init(){this.editor.data.on("init",(i=>{i.stop(),this.editor.model.enqueueChange({isUndoable:!1},(s=>{this._restoreCollaborationData(),this._restoreEditorData(s)})),this.editor.data.fire("ready")}),{priority:999})}_createNode(i,s){if("name"in s){const c=i.createElement(s.name,s.attributes);if(s.children)for(const h of s.children)c._appendChild(this._createNode(i,h));return c}return i.createText(s.data,s.attributes)}_restoreEditorData(i){const s=this.editor;Object.entries(this._data.roots).forEach((([c,{content:h,attributes:g}])=>{const w=JSON.parse(h),k=JSON.parse(g),_=s.model.document.getRoot(c);for(const[R,I]of k)i.setAttribute(R,I,_);for(const R of w){const I=this._createNode(i,R);i.insert(I,_,"end")}})),Object.entries(this._data.markers).forEach((([c,h])=>{const{document:g}=s.model,w=h,{rangeJSON:{start:k,end:_}}=w,R=((W,Y)=>{var ie={};for(var de in W)P3.call(W,de)&&Y.indexOf(de)<0&&(ie[de]=W[de]);if(W!=null&&xA)for(var de of xA(W))Y.indexOf(de)<0&&I3.call(W,de)&&(ie[de]=W[de]);return ie})(w,["rangeJSON"]),I=g.getRoot(k.root),F=i.createPositionFromPath(I,k.path,k.stickiness),H=i.createPositionFromPath(I,_.path,_.stickiness),G=i.createRange(F,H);i.addMarker(c,T2({range:G},R))}))}_restoreCollaborationData(){const i=JSON.parse(this._data.commentThreads),s=JSON.parse(this._data.suggestions);i.forEach((c=>{const h=this.editor.config.get("collaboration.channelId"),g=this.editor.plugins.get("CommentsRepository");g.hasCommentThread(c.threadId)&&g.getCommentThread(c.threadId).remove(),g.addCommentThread(T2({channelId:h},c))})),s.forEach((c=>{const h=this.editor.plugins.get("TrackChangesEditing");h.hasSuggestion(c.id)?h.getSuggestion(c.id).attributes=c.attributes:h.addSuggestionData(c)}))}}const PC=Symbol("MainQueueId");class mne{constructor(){this._onEmptyCallbacks=[],this._queues=new Map,this._activeActions=0}onEmpty(i){this._onEmptyCallbacks.push(i)}enqueue(i,s){const c=i===PC;this._activeActions++,this._queues.get(i)||this._queues.set(i,Promise.resolve());const h=(c?Promise.all(this._queues.values()):Promise.all([this._queues.get(PC),this._queues.get(i)])).then(s),g=h.catch((()=>{}));return this._queues.set(i,g),h.finally((()=>{this._activeActions--,this._queues.get(i)===g&&this._activeActions===0&&this._onEmptyCallbacks.forEach((w=>w()))}))}}function F3(u){return Array.isArray(u)?u:[u]}class AA extends Tm(aA){constructor(i,s={}){if(!SA(i)&&s.initialData!==void 0)throw new z("editor-create-initial-data",null);super(s),this.config.define("menuBar.isVisible",!1),this.config.get("initialData")===void 0&&this.config.set("initialData",(function(w){return SA(w)?(k=w,k instanceof HTMLTextAreaElement?k.value:k.innerHTML):w;var k})(i)),SA(i)&&(this.sourceElement=i),this.model.document.createRoot();const c=!this.config.get("toolbar.shouldNotGroupWhenFull"),h=this.config.get("menuBar"),g=new dne(this.locale,this.editing.view,{shouldToolbarGroupWhenFull:c,useMenuBar:h.isVisible});this.ui=new lne(this,g),(function(w){if(!va(w.updateSourceElement))throw new z("attachtoform-missing-elementapi-interface",w);const k=w.sourceElement;if((function(_){return!!_&&_.tagName.toLowerCase()==="textarea"})(k)&&k.form){let _;const R=k.form,I=()=>w.updateSourceElement();va(R.submit)&&(_=R.submit,R.submit=()=>{I(),_.apply(R)}),R.addEventListener("submit",I),w.on("destroy",(()=>{R.removeEventListener("submit",I),_&&(R.submit=_)}))}})(this)}destroy(){return this.sourceElement&&this.updateSourceElement(),this.ui.destroy(),super.destroy()}static create(i,s={}){return new Promise((c=>{const h=new this(i,s);c(h.initPlugins().then((()=>h.ui.init(SA(i)?i:null))).then((()=>h.data.init(h.config.get("initialData")))).then((()=>h.fire("ready"))).then((()=>h)))}))}}function SA(u){return ul(u)}AA.Context=uw,AA.EditorWatchdog=O3,AA.ContextWatchdog=class extends T3{constructor(u,i={}){super(i),this._watchdogs=new Map,this._context=null,this._contextProps=new Set,this._actionQueues=new mne,this._watchdogConfig=i,this._creator=s=>u.create(s),this._destructor=s=>s.destroy(),this._actionQueues.onEmpty((()=>{this.state==="initializing"&&(this.state="ready",this._fire("stateChange"))}))}setCreator(u){this._creator=u}setDestructor(u){this._destructor=u}get context(){return this._context}create(u={}){return this._actionQueues.enqueue(PC,(()=>(this._contextConfig=u,this._create())))}getItem(u){return this._getWatchdog(u)._item}getItemState(u){return this._getWatchdog(u).state}add(u){const i=F3(u);return Promise.all(i.map((s=>this._actionQueues.enqueue(s.id,(()=>{if(this.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let c;if(this._watchdogs.has(s.id))throw new Error(`Item with the given id is already added: '${s.id}'.`);if(s.type==="editor")return c=new O3(null,this._watchdogConfig),c.setCreator(s.creator),c._setExcludedProperties(this._contextProps),s.destructor&&c.setDestructor(s.destructor),this._watchdogs.set(s.id,c),c.on("error",((h,{error:g,causesRestart:w})=>{this._fire("itemError",{itemId:s.id,error:g}),w&&this._actionQueues.enqueue(s.id,(()=>new Promise((k=>{const _=()=>{c.off("restart",_),this._fire("itemRestart",{itemId:s.id}),k()};c.on("restart",_)}))))})),c.create(s.sourceElementOrData,s.config,this._context);throw new Error(`Not supported item type: '${s.type}'.`)})))))}remove(u){const i=F3(u);return Promise.all(i.map((s=>this._actionQueues.enqueue(s,(()=>{const c=this._getWatchdog(s);return this._watchdogs.delete(s),c.destroy()})))))}destroy(){return this._actionQueues.enqueue(PC,(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy())))}_restart(){return this._actionQueues.enqueue(PC,(()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch((u=>{console.error("An error happened during destroying the context or items.",u)})).then((()=>this._create())).then((()=>this._fire("restart"))))))}_create(){return Promise.resolve().then((()=>(this._startErrorHandling(),this._creator(this._contextConfig)))).then((u=>(this._context=u,this._contextProps=M2(this._context),Promise.all(Array.from(this._watchdogs.values()).map((i=>(i._setExcludedProperties(this._contextProps),i.create(void 0,void 0,this._context))))))))}_destroy(){return Promise.resolve().then((()=>{this._stopErrorHandling();const u=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map((i=>i.destroy()))).then((()=>this._destructor(u)))}))}_getWatchdog(u){const i=this._watchdogs.get(u);if(!i)throw new Error(`Item with the given id was not registered: ${u}.`);return i}_isErrorComingFromThisItem(u){for(const i of this._watchdogs.values())if(i._isErrorComingFromThisItem(u))return!1;return R3(this._context,u.context)}};class IC extends Pa{constructor(i){super(i),this.domEventType=["paste","copy","cut","drop","dragover","dragstart","dragend","dragenter","dragleave"];const s=this.document;function c(h){return(g,w)=>{w.preventDefault();const k=w.dropRange?[w.dropRange]:null,_=new N(s,h);s.fire(_,{dataTransfer:w.dataTransfer,method:g.name,targetRanges:k,target:w.target,domEvent:w.domEvent}),_.stop.called&&w.stopPropagation()}}this.listenTo(s,"paste",c("clipboardInput"),{priority:"low"}),this.listenTo(s,"drop",c("clipboardInput"),{priority:"low"}),this.listenTo(s,"dragover",c("dragging"),{priority:"low"})}onDomEvent(i){const s="clipboardData"in i?i.clipboardData:i.dataTransfer,c=i.type=="drop"||i.type=="paste",h={dataTransfer:new $w(s,{cacheFiles:c})};i.type!="drop"&&i.type!="dragover"||(h.dropRange=(function(g,w){const k=w.target.ownerDocument,_=w.clientX,R=w.clientY;let I;return k.caretRangeFromPoint&&k.caretRangeFromPoint(_,R)?I=k.caretRangeFromPoint(_,R):w.rangeParent&&(I=k.createRange(),I.setStart(w.rangeParent,w.rangeOffset),I.collapse(!0)),I?g.domConverter.domRangeToView(I):null})(this.view,i)),this.fire(i.type,i,h)}}const L3=["figcaption","li"],B3=["ol","ul"];function j3(u){if(u.is("$text")||u.is("$textProxy"))return u.data;if(u.is("element","img")&&u.hasAttribute("alt"))return u.getAttribute("alt");if(u.is("element","br"))return`
`;let i="",s=null;for(const c of u.getChildren())i+=bne(c,s)+j3(c),s=c;return i}function bne(u,i){return i?u.is("element","li")&&!u.isEmpty&&u.getChild(0).is("containerElement")||B3.includes(u.name)&&B3.includes(i.name)?`

`:u.is("containerElement")||i.is("containerElement")?L3.includes(u.name)||L3.includes(i.name)?`
`:`

`:"":""}const vne=function(u,i){return u&&Nr(u,i,uf)},wne=function(u,i,s,c){var h=s.length,g=h;if(u==null)return!g;for(u=Object(u);h--;){var w=s[h];if(w[2]?w[1]!==u[w[0]]:!(w[0]in u))return!1}for(;++h<g;){var k=(w=s[h])[0],_=u[k],R=w[1];if(w[2]){if(_===void 0&&!(k in u))return!1}else{var I=new gu,F;if(!(F===void 0?ao(R,_,3,c,I):F))return!1}}return!0},z3=function(u){return u==u&&!_e(u)},Cne=function(u){for(var i=uf(u),s=i.length;s--;){var c=i[s],h=u[c];i[s]=[c,h,z3(h)]}return i},H3=function(u,i){return function(s){return s!=null&&s[u]===i&&(i!==void 0||u in Object(s))}},yne=function(u){var i=Cne(u);return i.length==1&&i[0][2]?H3(i[0][0],i[0][1]):function(s){return s===u||wne(s,u,i)}},kne=function(u,i){return u!=null&&i in Object(u)},xne=function(u,i,s){for(var c=-1,h=(i=wl(i,u)).length,g=!1;++c<h;){var w=Cl(i[c]);if(!(g=u!=null&&s(u,w)))break;u=u[w]}return g||++c!=h?g:!!(h=u==null?0:u.length)&&lf(h)&&as(w,h)&&(xn(u)||sf(u))},Ane=function(u,i){return u!=null&&xne(u,i,kne)},Sne=function(u,i){return gw(u)&&z3(i)?H3(Cl(u),i):function(s){var c=Lu(s,u);return c===void 0&&c===i?Ane(s,u):ao(i,c,3)}},_ne=function(u){return function(i){return i?.[u]}},Ene=function(u){return function(i){return cs(i,u)}},Dne=function(u){return gw(u)?_ne(Cl(u)):Ene(u)},Mne=function(u){return typeof u=="function"?u:u==null?hi:typeof u=="object"?xn(u)?Sne(u[0],u[1]):yne(u):Dne(u)},Tne=function(u,i){var s={};return i=Mne(i),vne(u,(function(c,h,g){mu(s,h,i(c,h,g))})),s};var Rne=Object.defineProperty,Pne=Object.defineProperties,Ine=Object.getOwnPropertyDescriptors,V3=Object.getOwnPropertySymbols,Nne=Object.prototype.hasOwnProperty,One=Object.prototype.propertyIsEnumerable,G3=(u,i,s)=>i in u?Rne(u,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):u[i]=s;class NC extends Ve{constructor(){super(...arguments),this._markersToCopy=new Map}static get pluginName(){return"ClipboardMarkersUtils"}_registerMarkerToCopy(i,s){this._markersToCopy.set(i,s)}_copySelectedFragmentWithMarkers(i,s,c=(h=>h.model.getSelectedContent(h.model.document.selection))){return this.editor.model.change((h=>{const g=h.model.document.selection;h.setSelection(s);const w=this._insertFakeMarkersIntoSelection(h,h.model.document.selection,i),k=c(h),_=this._removeFakeMarkersInsideElement(h,k);for(const[R,I]of Object.entries(w)){_[R]||(_[R]=h.createRangeIn(k));for(const F of I)h.remove(F)}k.markers.clear();for(const[R,I]of Object.entries(_))k.markers.set(R,I);return h.setSelection(g),k}))}_pasteMarkersIntoTransformedElement(i,s){const c=this._getPasteMarkersFromRangeMap(i);return this.editor.model.change((h=>{const g=this._insertFakeMarkersElements(h,c),w=s(h),k=this._removeFakeMarkersInsideElement(h,w);for(const _ of Object.values(g).flat())h.remove(_);for(const[_,R]of Object.entries(k))h.model.markers.has(_)||h.addMarker(_,{usingOperation:!0,affectsData:!0,range:R});return w}))}_pasteFragmentWithMarkers(i){const s=this._getPasteMarkersFromRangeMap(i.markers);i.markers.clear();for(const c of s)i.markers.set(c.name,c.range);return this.editor.model.insertContent(i)}_forceMarkersCopy(i,s,c={allowedActions:"all",copyPartiallySelected:!0,duplicateOnPaste:!0}){const h=this._markersToCopy.get(i);this._markersToCopy.set(i,c),s(),h?this._markersToCopy.set(i,h):this._markersToCopy.delete(i)}_isMarkerCopyable(i,s){const c=this._getMarkerClipboardConfig(i);if(!c)return!1;if(!s)return!0;const{allowedActions:h}=c;return h==="all"||h.includes(s)}_hasMarkerConfiguration(i){return!!this._getMarkerClipboardConfig(i)}_getMarkerClipboardConfig(i){const[s]=i.split(":");return this._markersToCopy.get(s)||null}_insertFakeMarkersIntoSelection(i,s,c){const h=this._getCopyableMarkersFromSelection(i,s,c);return this._insertFakeMarkersElements(i,h)}_getCopyableMarkersFromSelection(i,s,c){const h=Array.from(s.getRanges()),g=new Set(h.flatMap((w=>Array.from(i.model.markers.getMarkersIntersectingRange(w)))));return Array.from(g).filter((w=>{if(!this._isMarkerCopyable(w.name,c))return!1;const{copyPartiallySelected:k}=this._getMarkerClipboardConfig(w.name);if(!k){const _=w.getRange();return h.some((R=>R.containsRange(_,!0)))}return!0})).map((w=>({name:c==="dragstart"?this._getUniqueMarkerName(w.name):w.name,range:w.getRange()})))}_getPasteMarkersFromRangeMap(i,s=null){const{model:c}=this.editor;return(i instanceof Map?Array.from(i.entries()):Object.entries(i)).flatMap((([h,g])=>{if(!this._hasMarkerConfiguration(h))return[{name:h,range:g}];if(this._isMarkerCopyable(h,s)){const w=this._getMarkerClipboardConfig(h),k=c.markers.has(h)&&c.markers.get(h).getRange().root.rootName==="$graveyard";return(w.duplicateOnPaste||k)&&(h=this._getUniqueMarkerName(h)),[{name:h,range:g}]}return[]}))}_insertFakeMarkersElements(i,s){const c={},h=s.flatMap((g=>{const{start:w,end:k}=g.range;return[{position:w,marker:g,type:"start"},{position:k,marker:g,type:"end"}]})).sort((({position:g},{position:w})=>g.isBefore(w)?1:-1));for(const{position:g,marker:w,type:k}of h){const _=i.createElement("$marker",{"data-name":w.name,"data-type":k});c[w.name]||(c[w.name]=[]),c[w.name].push(_),i.insert(_,g)}return c}_removeFakeMarkersInsideElement(i,s){const c=this._getAllFakeMarkersFromElement(i,s).reduce(((h,g)=>{const w=g.markerElement&&i.createPositionBefore(g.markerElement);let k=h[g.name],_=!1;k&&k.start&&k.end&&(this._getMarkerClipboardConfig(g.name).duplicateOnPaste?h[this._getUniqueMarkerName(g.name)]=h[g.name]:_=!0,k=null);var R,I;return _||(h[g.name]=(R=((F,H)=>{for(var G in H||(H={}))Nne.call(H,G)&&G3(F,G,H[G]);if(V3)for(var G of V3(H))One.call(H,G)&&G3(F,G,H[G]);return F})({},k),I={[g.type]:w},Pne(R,Ine(I)))),g.markerElement&&i.remove(g.markerElement),h}),{});return Tne(c,(h=>new Se(h.start||i.createPositionFromPath(s,[0]),h.end||i.createPositionAt(s,"end"))))}_getAllFakeMarkersFromElement(i,s){const c=Array.from(i.createRangeIn(s)).flatMap((({item:w})=>{if(!w.is("element","$marker"))return[];const k=w.getAttribute("data-name"),_=w.getAttribute("data-type");return[{markerElement:w,name:k,type:_}]})),h=[],g=[];for(const w of c)w.type==="end"&&(c.some((k=>k.name===w.name&&k.type==="start"))||h.push({markerElement:null,name:w.name,type:"start"})),w.type==="start"&&(c.some((k=>k.name===w.name&&k.type==="end"))||g.unshift({markerElement:null,name:w.name,type:"end"}));return[...h,...c,...g]}_getUniqueMarkerName(i){const s=i.split(":"),c=L().substring(1,6);return s.length===3?`${s.slice(0,2).join(":")}:${c}`:`${s.join(":")}:${c}`}}class qs extends Ve{static get pluginName(){return"ClipboardPipeline"}static get requires(){return[NC]}init(){this.editor.editing.view.addObserver(IC),this._setupPasteDrop(),this._setupCopyCut()}_fireOutputTransformationEvent(i,s,c){const h=this.editor.plugins.get("ClipboardMarkersUtils");this.editor.model.enqueueChange({isUndoable:c==="cut"},(()=>{const g=h._copySelectedFragmentWithMarkers(c,s);this.fire("outputTransformation",{dataTransfer:i,content:g,method:c})}))}_setupPasteDrop(){const i=this.editor,s=i.model,c=i.editing.view,h=c.document,g=this.editor.plugins.get("ClipboardMarkersUtils");this.listenTo(h,"clipboardInput",((w,k)=>{k.method!="paste"||i.model.canEditAt(i.model.document.selection)||w.stop()}),{priority:"highest"}),this.listenTo(h,"clipboardInput",((w,k)=>{const _=k.dataTransfer;let R;if(k.content)R=k.content;else{let H="";_.getData("text/html")?H=(function(G){return G.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,((W,Y)=>Y.length==1?" ":Y)).replace(/<!--[\s\S]*?-->/g,"")})(_.getData("text/html")):_.getData("text/plain")&&(((I=(I=_.getData("text/plain")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n\r?\n/g,"</p><p>").replace(/\r?\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;")).includes("</p><p>")||I.includes("<br>"))&&(I=`<p>${I}</p>`),H=I),R=this.editor.data.htmlProcessor.toView(H)}var I;const F=new N(this,"inputTransformation");this.fire(F,{content:R,dataTransfer:_,targetRanges:k.targetRanges,method:k.method}),F.stop.called&&w.stop(),c.scrollToTheSelection()}),{priority:"low"}),this.listenTo(this,"inputTransformation",((w,k)=>{if(k.content.isEmpty)return;const _=this.editor.data.toModel(k.content,"$clipboardHolder");_.childCount!=0&&(w.stop(),s.change((()=>{this.fire("contentInsertion",{content:_,method:k.method,dataTransfer:k.dataTransfer,targetRanges:k.targetRanges})})))}),{priority:"low"}),this.listenTo(this,"contentInsertion",((w,k)=>{k.resultRange=g._pasteFragmentWithMarkers(k.content)}),{priority:"low"})}_setupCopyCut(){const i=this.editor,s=i.model.document,c=i.editing.view.document,h=(g,w)=>{const k=w.dataTransfer;w.preventDefault(),this._fireOutputTransformationEvent(k,s.selection,g.name)};this.listenTo(c,"copy",h,{priority:"low"}),this.listenTo(c,"cut",((g,w)=>{i.model.canEditAt(i.model.document.selection)?h(g,w):w.preventDefault()}),{priority:"low"}),this.listenTo(this,"outputTransformation",((g,w)=>{const k=i.data.toView(w.content);c.fire("clipboardOutput",{dataTransfer:w.dataTransfer,content:k,method:w.method})}),{priority:"low"}),this.listenTo(c,"clipboardOutput",((g,w)=>{w.content.isEmpty||(w.dataTransfer.setData("text/html",this.editor.data.htmlProcessor.toData(w.content)),w.dataTransfer.setData("text/plain",j3(w.content))),w.method=="cut"&&i.model.deleteContent(s.selection)}),{priority:"low"})}}class U3{constructor(i,s=20){this._batch=null,this.model=i,this._size=0,this.limit=s,this._isLocked=!1,this._changeCallback=(c,h)=>{h.isLocal&&h.isUndoable&&h!==this._batch&&this._reset(!0)},this._selectionChangeCallback=()=>{this._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=this.model.createBatch({isTyping:!0})),this._batch}get size(){return this._size}input(i){this._size+=i,this._size>=this.limit&&this._reset(!0)}get isLocked(){return this._isLocked}lock(){this._isLocked=!0}unlock(){this._isLocked=!1}destroy(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}_reset(i=!1){this.isLocked&&!i||(this._batch=null,this._size=0)}}class Fne extends Et{constructor(i,s){super(i),this._buffer=new U3(i.model,s),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(i={}){const s=this.editor.model,c=s.document,h=i.text||"",g=h.length;let w=c.selection;if(i.selection?w=i.selection:i.range&&(w=s.createSelection(i.range)),!s.canEditAt(w))return;const k=i.resultRange;s.enqueueChange(this._buffer.batch,(_=>{this._buffer.lock();const R=Array.from(c.selection.getAttributes());s.deleteContent(w),h&&s.insertContent(_.createText(h,R),w),k?_.setSelection(k):w.is("documentSelection")||_.setSelection(w),this._buffer.unlock(),this._buffer.input(g)}))}}const W3=["insertText","insertReplacementText"];class Lne extends Ii{constructor(i){super(i),this.focusObserver=i.getObserver(Yu),v.isAndroid&&W3.push("insertCompositionText");const s=i.document;s.on("beforeinput",((c,h)=>{if(!this.isEnabled)return;const{data:g,targetRanges:w,inputType:k,domEvent:_}=h;if(!W3.includes(k))return;this.focusObserver.flush();const R=new N(s,"insertText");s.fire(R,new Ra(i,_,{text:g,selection:i.createSelection(w)})),R.stop.called&&c.stop()})),s.on("compositionend",((c,{data:h,domEvent:g})=>{this.isEnabled&&!v.isAndroid&&h&&s.fire("insertText",new Ra(i,g,{text:h,selection:s.selection}))}),{priority:"lowest"})}observe(){}stopObserving(){}}class $3 extends Ve{static get pluginName(){return"Input"}init(){const i=this.editor,s=i.model,c=i.editing.view,h=s.document.selection;c.addObserver(Lne);const g=new Fne(i,i.config.get("typing.undoStep")||20);i.commands.add("insertText",g),i.commands.add("input",g),this.listenTo(c.document,"insertText",((w,k)=>{c.document.isComposing||k.preventDefault();const{text:_,selection:R,resultRange:I}=k,F=Array.from(R.getRanges()).map((W=>i.editing.mapper.toModelRange(W)));let H=_;if(v.isAndroid){const W=Array.from(F[0].getItems()).reduce(((Y,ie)=>Y+(ie.is("$textProxy")?ie.data:"")),"");W&&(W.length<=H.length?H.startsWith(W)&&(H=H.substring(W.length),F[0].start=F[0].start.getShiftedBy(W.length)):W.startsWith(H)&&(F[0].start=F[0].start.getShiftedBy(H.length),H=""))}const G={text:H,selection:s.createSelection(F)};I&&(G.resultRange=i.editing.mapper.toModelRange(I)),i.execute("insertText",G),c.scrollToTheSelection()})),v.isAndroid?this.listenTo(c.document,"keydown",((w,k)=>{!h.isCollapsed&&k.keyCode==229&&c.document.isComposing&&q3(s,g)})):this.listenTo(c.document,"compositionstart",(()=>{h.isCollapsed||q3(s,g)}))}}function q3(u,i){if(!i.isEnabled)return;const s=i.buffer;s.lock(),u.enqueueChange(s.batch,(()=>{u.deleteContent(u.document.selection)})),s.unlock()}class K3 extends Et{constructor(i,s){super(i),this.direction=s,this._buffer=new U3(i.model,i.config.get("typing.undoStep")),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}execute(i={}){const s=this.editor.model,c=s.document;s.enqueueChange(this._buffer.batch,(h=>{this._buffer.lock();const g=h.createSelection(i.selection||c.selection);if(!s.canEditAt(g))return;const w=i.sequence||1,k=g.isCollapsed;if(g.isCollapsed&&s.modifySelection(g,{direction:this.direction,unit:i.unit,treatEmojiAsSingleUnit:!0}),this._shouldEntireContentBeReplacedWithParagraph(w))return void this._replaceEntireContentWithParagraph(h);if(this._shouldReplaceFirstBlockWithParagraph(g,w))return void this.editor.execute("paragraph",{selection:g});if(g.isCollapsed)return;let _=0;g.getFirstRange().getMinimalFlatRanges().forEach((R=>{_+=mt(R.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))})),s.deleteContent(g,{doNotResetEntireContent:k,direction:this.direction}),this._buffer.input(_),h.setSelection(g),this._buffer.unlock()}))}_shouldEntireContentBeReplacedWithParagraph(i){if(i>1)return!1;const s=this.editor.model,c=s.document.selection,h=s.schema.getLimitElement(c);if(!(c.isCollapsed&&c.containsEntireContent(h))||!s.schema.checkChild(h,"paragraph"))return!1;const g=h.getChild(0);return!g||!g.is("element","paragraph")}_replaceEntireContentWithParagraph(i){const s=this.editor.model,c=s.document.selection,h=s.schema.getLimitElement(c),g=i.createElement("paragraph");i.remove(i.createRangeIn(h)),i.insert(g,h),i.setSelection(g,0)}_shouldReplaceFirstBlockWithParagraph(i,s){const c=this.editor.model;if(s>1||this.direction!="backward"||!i.isCollapsed)return!1;const h=i.getFirstPosition(),g=c.schema.getLimitElement(h),w=g.getChild(0);return h.parent==w&&!!i.containsEntireContent(w)&&!!c.schema.checkChild(g,"paragraph")&&w.name!="paragraph"}}const Y3="word",ph="selection",zm="backward",OC="forward",Q3={deleteContent:{unit:ph,direction:zm},deleteContentBackward:{unit:"codePoint",direction:zm},deleteWordBackward:{unit:Y3,direction:zm},deleteHardLineBackward:{unit:ph,direction:zm},deleteSoftLineBackward:{unit:ph,direction:zm},deleteContentForward:{unit:"character",direction:OC},deleteWordForward:{unit:Y3,direction:OC},deleteHardLineForward:{unit:ph,direction:OC},deleteSoftLineForward:{unit:ph,direction:OC}};class Bne extends Ii{constructor(i){super(i);const s=i.document;let c=0;s.on("keydown",(()=>{c++})),s.on("keyup",(()=>{c=0})),s.on("beforeinput",((h,g)=>{if(!this.isEnabled)return;const{targetRanges:w,domEvent:k,inputType:_}=g,R=Q3[_];if(!R)return;const I={direction:R.direction,unit:R.unit,sequence:c};I.unit==ph&&(I.selectionToRemove=i.createSelection(w[0])),_==="deleteContentBackward"&&(v.isAndroid&&(I.sequence=1),(function(H){if(H.length!=1||H[0].isCollapsed)return!1;const G=H[0].getWalker({direction:"backward",singleCharacters:!0,ignoreElementEnd:!0});let W=0;for(const{nextPosition:Y,item:ie}of G){if(Y.parent.is("$text")){const de=Y.parent.data,ge=Y.offset;if(Xn(de,ge)||Sf(de,ge)||Tu(de,ge))continue;W++}else(ie.is("containerElement")||ie.is("emptyElement"))&&W++;if(W>1)return!0}return!1})(w)&&(I.unit=ph,I.selectionToRemove=i.createSelection(w)));const F=new Wc(s,"delete",w[0]);s.fire(F,new Ra(i,k,I)),F.stop.called&&h.stop()})),v.isBlink&&(function(h){const g=h.view,w=g.document;let k=null,_=!1;function R(F){return F==Mt.backspace||F==Mt.delete}function I(F){return F==Mt.backspace?zm:OC}w.on("keydown",((F,{keyCode:H})=>{k=H,_=!1})),w.on("keyup",((F,{keyCode:H,domEvent:G})=>{const W=w.selection,Y=h.isEnabled&&H==k&&R(H)&&!W.isCollapsed&&!_;if(k=null,Y){const ie=W.getFirstRange(),de=new Wc(w,"delete",ie),ge={unit:ph,direction:I(H),selectionToRemove:W};w.fire(de,new Ra(g,G,ge))}})),w.on("beforeinput",((F,{inputType:H})=>{const G=Q3[H];R(k)&&G&&G.direction==I(k)&&(_=!0)}),{priority:"high"}),w.on("beforeinput",((F,{inputType:H,data:G})=>{k==Mt.delete&&H=="insertText"&&G==""&&F.stop()}),{priority:"high"})})(this)}observe(){}stopObserving(){}}class ld extends Ve{static get pluginName(){return"Delete"}init(){const i=this.editor,s=i.editing.view,c=s.document,h=i.model.document;s.addObserver(Bne),this._undoOnBackspace=!1;const g=new K3(i,"forward");i.commands.add("deleteForward",g),i.commands.add("forwardDelete",g),i.commands.add("delete",new K3(i,"backward")),this.listenTo(c,"delete",((w,k)=>{c.isComposing||k.preventDefault();const{direction:_,sequence:R,selectionToRemove:I,unit:F}=k,H=_==="forward"?"deleteForward":"delete",G={sequence:R};if(F=="selection"){const W=Array.from(I.getRanges()).map((Y=>i.editing.mapper.toModelRange(Y)));G.selection=i.model.createSelection(W)}else G.unit=F;i.execute(H,G),s.scrollToTheSelection()}),{priority:"low"}),this.editor.plugins.has("UndoEditing")&&(this.listenTo(c,"delete",((w,k)=>{this._undoOnBackspace&&k.direction=="backward"&&k.sequence==1&&k.unit=="codePoint"&&(this._undoOnBackspace=!1,i.execute("undo"),k.preventDefault(),w.stop())}),{context:"$capture"}),this.listenTo(h,"change",(()=>{this._undoOnBackspace=!1})))}requestUndoOnBackspace(){this.editor.plugins.has("UndoEditing")&&(this._undoOnBackspace=!0)}}class jne extends Ve{static get requires(){return[$3,ld]}static get pluginName(){return"Typing"}}function Z3(u,i){let s=u.start;return{text:Array.from(u.getWalker({ignoreElementEnd:!1})).reduce(((c,{item:h})=>h.is("$text")||h.is("$textProxy")?c+h.data:(s=i.createPositionAfter(h),"")),""),range:i.createRange(s,u.end)}}class X3 extends et(){constructor(i,s){super(),this.model=i,this.testCallback=s,this._hasMatch=!1,this.set("isEnabled",!0),this.on("change:isEnabled",(()=>{this.isEnabled?this._startListening():(this.stopListening(i.document.selection),this.stopListening(i.document))})),this._startListening()}get hasMatch(){return this._hasMatch}_startListening(){const i=this.model.document;this.listenTo(i.selection,"change:range",((s,{directChange:c})=>{c&&(i.selection.isCollapsed?this._evaluateTextBeforeSelection("selection"):this.hasMatch&&(this.fire("unmatched"),this._hasMatch=!1))})),this.listenTo(i,"change:data",((s,c)=>{!c.isUndo&&c.isLocal&&this._evaluateTextBeforeSelection("data",{batch:c})}))}_evaluateTextBeforeSelection(i,s={}){const c=this.model,h=c.document.selection,g=c.createRange(c.createPositionAt(h.focus.parent,0),h.focus),{text:w,range:k}=Z3(g,c),_=this.testCallback(w);if(!_&&this.hasMatch&&this.fire("unmatched"),this._hasMatch=!!_,_){const R=Object.assign(s,{text:w,range:k});typeof _=="object"&&Object.assign(R,_),this.fire(`matched:${i}`,R)}}}class J3 extends Ve{constructor(i){super(i),this._isNextGravityRestorationSkipped=!1,this.attributes=new Set,this._overrideUid=null}static get pluginName(){return"TwoStepCaretMovement"}init(){const i=this.editor,s=i.model,c=i.editing.view,h=i.locale,g=s.document.selection;this.listenTo(c.document,"arrowKey",((w,k)=>{if(!g.isCollapsed||k.shiftKey||k.altKey||k.ctrlKey)return;const _=k.keyCode==Mt.arrowright,R=k.keyCode==Mt.arrowleft;if(!_&&!R)return;const I=h.contentLanguageDirection;let F=!1;F=I==="ltr"&&_||I==="rtl"&&R?this._handleForwardMovement(k):this._handleBackwardMovement(k),F===!0&&w.stop()}),{context:"$text",priority:"highest"}),this.listenTo(g,"change:range",((w,k)=>{this._isNextGravityRestorationSkipped?this._isNextGravityRestorationSkipped=!1:this._isGravityOverridden&&(!k.directChange&&Ks(g.getFirstPosition(),this.attributes)||this._restoreGravity())})),this._enableClickingAfterNode(),this._enableInsertContentSelectionAttributesFixer(),this._handleDeleteContentAfterNode()}registerAttribute(i){this.attributes.add(i)}_handleForwardMovement(i){const s=this.attributes,c=this.editor.model,h=c.document.selection,g=h.getFirstPosition();return!this._isGravityOverridden&&(!g.isAtStart||!cd(h,s))&&!!Ks(g,s)&&(LC(i),cd(h,s)&&Ks(g,s,!0)?FC(c,s):this._overrideGravity(),!0)}_handleBackwardMovement(i){const s=this.attributes,c=this.editor.model,h=c.document.selection,g=h.getFirstPosition();return this._isGravityOverridden?(LC(i),this._restoreGravity(),Ks(g,s,!0)?FC(c,s):_A(c,s,g),!0):g.isAtStart?!!cd(h,s)&&(LC(i),_A(c,s,g),!0):!cd(h,s)&&Ks(g,s,!0)?(LC(i),_A(c,s,g),!0):!!eL(g,s)&&(g.isAtEnd&&!cd(h,s)&&Ks(g,s)?(LC(i),_A(c,s,g),!0):(this._isNextGravityRestorationSkipped=!0,this._overrideGravity(),!1))}_enableClickingAfterNode(){const i=this.editor,s=i.model,c=s.document.selection,h=i.editing.view.document;i.editing.view.addObserver(_m);let g=!1;this.listenTo(h,"mousedown",(()=>{g=!0})),this.listenTo(h,"selectionChange",(()=>{const w=this.attributes;if(!g||(g=!1,!c.isCollapsed)||!cd(c,w))return;const k=c.getFirstPosition();Ks(k,w)&&(k.isAtStart||Ks(k,w,!0)?FC(s,w):this._isGravityOverridden||this._overrideGravity())}))}_enableInsertContentSelectionAttributesFixer(){const i=this.editor.model,s=i.document.selection,c=this.attributes;this.listenTo(i,"insertContent",(()=>{const h=s.getFirstPosition();cd(s,c)&&Ks(h,c)&&FC(i,c)}),{priority:"low"})}_handleDeleteContentAfterNode(){const i=this.editor,s=i.model,c=s.document.selection,h=i.editing.view;let g=!1,w=!1;this.listenTo(h.document,"delete",((k,_)=>{g=_.direction==="backward"}),{priority:"high"}),this.listenTo(s,"deleteContent",(()=>{if(!g)return;const k=c.getFirstPosition();w=cd(c,this.attributes)&&!eL(k,this.attributes)}),{priority:"high"}),this.listenTo(s,"deleteContent",(()=>{g&&(g=!1,w||i.model.enqueueChange((()=>{const k=c.getFirstPosition();cd(c,this.attributes)&&Ks(k,this.attributes)&&(k.isAtStart||Ks(k,this.attributes,!0)?FC(s,this.attributes):this._isGravityOverridden||this._overrideGravity())})))}),{priority:"low"})}get _isGravityOverridden(){return!!this._overrideUid}_overrideGravity(){this._overrideUid=this.editor.model.change((i=>i.overrideSelectionGravity()))}_restoreGravity(){this.editor.model.change((i=>{i.restoreSelectionGravity(this._overrideUid),this._overrideUid=null}))}}function cd(u,i){for(const s of i)if(u.hasAttribute(s))return!0;return!1}function _A(u,i,s){const c=s.nodeBefore;u.change((h=>{if(c){const g=[],w=u.schema.isObject(c)&&u.schema.isInline(c);for(const[k,_]of c.getAttributes())!u.schema.checkAttribute("$text",k)||w&&u.schema.getAttributeProperties(k).copyFromObject===!1||g.push([k,_]);h.setSelectionAttribute(g)}else h.removeSelectionAttribute(i)}))}function FC(u,i){u.change((s=>{s.removeSelectionAttribute(i)}))}function LC(u){u.preventDefault()}function eL(u,i){return Ks(u.getShiftedBy(-1),i)}function Ks(u,i,s=!1){const{nodeBefore:c,nodeAfter:h}=u;for(const g of i){const w=c?c.getAttribute(g):void 0,k=h?h.getAttribute(g):void 0;if((!s||w!==void 0&&k!==void 0)&&k!==w)return!0}return!1}const tL={copyright:{from:"(c)",to:""},registeredTrademark:{from:"(r)",to:""},trademark:{from:"(tm)",to:""},oneHalf:{from:/(^|[^/a-z0-9])(1\/2)([^/a-z0-9])$/i,to:[null,"",null]},oneThird:{from:/(^|[^/a-z0-9])(1\/3)([^/a-z0-9])$/i,to:[null,"",null]},twoThirds:{from:/(^|[^/a-z0-9])(2\/3)([^/a-z0-9])$/i,to:[null,"",null]},oneForth:{from:/(^|[^/a-z0-9])(1\/4)([^/a-z0-9])$/i,to:[null,"",null]},threeQuarters:{from:/(^|[^/a-z0-9])(3\/4)([^/a-z0-9])$/i,to:[null,"",null]},lessThanOrEqual:{from:"<=",to:""},greaterThanOrEqual:{from:">=",to:""},notEqual:{from:"!=",to:""},arrowLeft:{from:"<-",to:""},arrowRight:{from:"->",to:""},horizontalEllipsis:{from:"...",to:""},enDash:{from:/(^| )(--)( )$/,to:[null,"",null]},emDash:{from:/(^| )(---)( )$/,to:[null,"",null]},quotesPrimary:{from:Hm('"'),to:[null,"",null,""]},quotesSecondary:{from:Hm("'"),to:[null,"",null,""]},quotesPrimaryEnGb:{from:Hm("'"),to:[null,"",null,""]},quotesSecondaryEnGb:{from:Hm('"'),to:[null,"",null,""]},quotesPrimaryPl:{from:Hm('"'),to:[null,"",null,""]},quotesSecondaryPl:{from:Hm("'"),to:[null,"",null,""]}},nL={symbols:["copyright","registeredTrademark","trademark"],mathematical:["oneHalf","oneThird","twoThirds","oneForth","threeQuarters","lessThanOrEqual","greaterThanOrEqual","notEqual","arrowLeft","arrowRight"],typography:["horizontalEllipsis","enDash","emDash"],quotes:["quotesPrimary","quotesSecondary"]},zne=["symbols","mathematical","typography","quotes"];function Hne(u){return typeof u=="string"?new RegExp(`(${i3(u)})$`):u}function Vne(u){return typeof u=="string"?()=>[u]:u instanceof Array?()=>u:u}function Gne(u){return(u.textNode?u.textNode:u.nodeAfter).getAttributes()}function Hm(u){return new RegExp(`(^|\\s)(${u})([^${u}]*)(${u})$`)}function EA(u,i,s,c){return c.createRange(rL(u,i,s,!0,c),rL(u,i,s,!1,c))}function rL(u,i,s,c,h){let g=u.textNode||(c?u.nodeBefore:u.nodeAfter),w=null;for(;g&&g.getAttribute(i)==s;)w=g,g=c?g.previousSibling:g.nextSibling;return w?h.createPositionAt(w,c?"before":"after"):u}function*iL(u,i){for(const s of i)s&&u.getAttributeProperties(s[0]).copyOnEnter&&(yield s)}class Une extends Et{execute(){this.editor.model.change((i=>{this.enterBlock(i),this.fire("afterExecute",{writer:i})}))}enterBlock(i){const s=this.editor.model,c=s.document.selection,h=s.schema,g=c.isCollapsed,w=c.getFirstRange(),k=w.start.parent,_=w.end.parent;if(h.isLimit(k)||h.isLimit(_))return g||k!=_||s.deleteContent(c),!1;if(g){const R=iL(i.model.schema,c.getAttributes());return oL(i,w.start),i.setSelectionAttribute(R),!0}{const R=!(w.start.isAtStart&&w.end.isAtEnd),I=k==_;if(s.deleteContent(c,{leaveUnmerged:R}),R){if(I)return oL(i,c.focus),!0;i.setSelection(_,0)}}return!1}}function oL(u,i){u.split(i),u.setSelection(i.parent.nextSibling,0)}const Wne={insertParagraph:{isSoft:!1},insertLineBreak:{isSoft:!0}};class sL extends Ii{constructor(i){super(i);const s=this.document;let c=!1;s.on("keydown",((h,g)=>{c=g.shiftKey})),s.on("beforeinput",((h,g)=>{if(!this.isEnabled)return;let w=g.inputType;v.isSafari&&c&&w=="insertParagraph"&&(w="insertLineBreak");const k=g.domEvent,_=Wne[w];if(!_)return;const R=new Wc(s,"enter",g.targetRanges[0]);s.fire(R,new Ra(i,k,{isSoft:_.isSoft})),R.stop.called&&h.stop()}))}observe(){}stopObserving(){}}class DA extends Ve{static get pluginName(){return"Enter"}init(){const i=this.editor,s=i.editing.view,c=s.document,h=this.editor.t;s.addObserver(sL),i.commands.add("enter",new Une(i)),this.listenTo(c,"enter",((g,w)=>{c.isComposing||w.preventDefault(),w.isSoft||(i.execute("enter"),s.scrollToTheSelection())}),{priority:"low"}),i.accessibility.addKeystrokeInfos({keystrokes:[{label:h("Insert a hard break (a new paragraph)"),keystroke:"Enter"}]})}}class $ne extends Et{execute(){const i=this.editor.model,s=i.document;i.change((c=>{(function(h,g,w){const k=w.isCollapsed,_=w.getFirstRange(),R=_.start.parent,I=_.end.parent,F=R==I;if(k){const H=iL(h.schema,w.getAttributes());aL(h,g,_.end),g.removeSelectionAttribute(w.getAttributeKeys()),g.setSelectionAttribute(H)}else{const H=!(_.start.isAtStart&&_.end.isAtEnd);h.deleteContent(w,{leaveUnmerged:H}),F?aL(h,g,w.focus):H&&g.setSelection(I,0)}})(i,c,s.selection),this.fire("afterExecute",{writer:c})}))}refresh(){const i=this.editor.model,s=i.document;this.isEnabled=(function(c,h){if(h.rangeCount>1)return!1;const g=h.anchor;if(!g||!c.checkChild(g,"softBreak"))return!1;const w=h.getFirstRange(),k=w.start.parent,_=w.end.parent;return!((R2(k,c)||R2(_,c))&&k!==_)})(i.schema,s.selection)}}function aL(u,i,s){const c=i.createElement("softBreak");u.insertContent(c,s),i.setSelection(c,"after")}function R2(u,i){return!u.is("rootElement")&&(i.isLimit(u)||R2(u.parent,i))}class qne extends Ve{static get pluginName(){return"ShiftEnter"}init(){const i=this.editor,s=i.model.schema,c=i.conversion,h=i.editing.view,g=h.document,w=this.editor.t;s.register("softBreak",{allowWhere:"$text",isInline:!0}),c.for("upcast").elementToElement({model:"softBreak",view:"br"}),c.for("downcast").elementToElement({model:"softBreak",view:(k,{writer:_})=>_.createEmptyElement("br")}),h.addObserver(sL),i.commands.add("shiftEnter",new $ne(i)),this.listenTo(g,"enter",((k,_)=>{g.isComposing||_.preventDefault(),_.isSoft&&(i.execute("shiftEnter"),h.scrollToTheSelection())}),{priority:"low"}),i.accessibility.addKeystrokeInfos({keystrokes:[{label:w("Insert a soft break (a <code>&lt;br&gt;</code> element)"),keystroke:"Shift+Enter"}]})}}class Kne extends le(){constructor(){super(...arguments),this._stack=[]}add(i,s){const c=this._stack,h=c[0];this._insertDescriptor(i);const g=c[0];h===g||P2(h,g)||this.fire("change:top",{oldDescriptor:h,newDescriptor:g,writer:s})}remove(i,s){const c=this._stack,h=c[0];this._removeDescriptor(i);const g=c[0];h===g||P2(h,g)||this.fire("change:top",{oldDescriptor:h,newDescriptor:g,writer:s})}_insertDescriptor(i){const s=this._stack,c=s.findIndex((g=>g.id===i.id));if(P2(i,s[c]))return;c>-1&&s.splice(c,1);let h=0;for(;s[h]&&Yne(s[h],i);)h++;s.splice(h,0,i)}_removeDescriptor(i){const s=this._stack,c=s.findIndex((h=>h.id===i));c>-1&&s.splice(c,1)}}function P2(u,i){return u&&i&&u.priority==i.priority&&MA(u.classes)==MA(i.classes)}function Yne(u,i){return u.priority>i.priority||!(u.priority<i.priority)&&MA(u.classes)>MA(i.classes)}function MA(u){return Array.isArray(u)?u.sort().join(","):u}const Qne='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>',Zne="ck-widget",lL="ck-widget_selected";function Sr(u){return!!u.is("element")&&!!u.getCustomProperty("widget")}function I2(u,i,s={}){if(!u.is("containerElement"))throw new z("widget-to-widget-wrong-element-type",null,{element:u});return i.setAttribute("contenteditable","false",u),i.addClass(Zne,u),i.setCustomProperty("widget",!0,u),u.getFillerOffset=ere,i.setCustomProperty("widgetLabel",[],u),s.label&&(function(c,h){c.getCustomProperty("widgetLabel").push(h)})(u,s.label),s.hasSelectionHandle&&(function(c,h){const g=h.createUIElement("div",{class:"ck ck-widget__selection-handle"},(function(w){const k=this.toDomElement(w),_=new Ha;return _.set("content",Qne),_.render(),k.appendChild(_.element),k}));h.insert(h.createPositionAt(c,0),g),h.addClass(["ck-widget_with-selection-handle"],c)})(u,i),cL(u,i),u}function Xne(u,i,s){if(i.classes&&s.addClass(dn(i.classes),u),i.attributes)for(const c in i.attributes)s.setAttribute(c,i.attributes[c],u)}function Jne(u,i,s){if(i.classes&&s.removeClass(dn(i.classes),u),i.attributes)for(const c in i.attributes)s.removeAttribute(c,u)}function cL(u,i,s=Xne,c=Jne){const h=new Kne;h.on("change:top",((g,w)=>{w.oldDescriptor&&c(u,w.oldDescriptor,w.writer),w.newDescriptor&&s(u,w.newDescriptor,w.writer)})),i.setCustomProperty("addHighlight",((g,w,k)=>h.add(w,k)),u),i.setCustomProperty("removeHighlight",((g,w,k)=>h.remove(w,k)),u)}function dL(u,i,s={}){return i.addClass(["ck-editor__editable","ck-editor__nested-editable"],u),i.setAttribute("role","textbox",u),i.setAttribute("tabindex","-1",u),s.label&&i.setAttribute("aria-label",s.label,u),i.setAttribute("contenteditable",u.isReadOnly?"false":"true",u),u.on("change:isReadOnly",((c,h,g)=>{i.setAttribute("contenteditable",g?"false":"true",u)})),u.on("change:isFocused",((c,h,g)=>{g?i.addClass("ck-editor__nested-editable_focused",u):i.removeClass("ck-editor__nested-editable_focused",u)})),cL(u,i),u}function uL(u,i){const s=u.getSelectedElement();if(s){const c=gh(u);if(c)return i.createRange(i.createPositionAt(s,c))}return i.schema.findOptimalInsertionRange(u)}function ere(){return null}const dd="widget-type-around";function sp(u,i,s){return!!u&&Sr(u)&&!s.isInline(i)}function gh(u){return u.getAttribute(dd)}var hL=o(8508),tre={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$e()(hL.A,tre),hL.A.locals;const fL=["before","after"],nre=new DOMParser().parseFromString('<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><path d="M9.055.263v3.972h-6.77M1 4.216l2-2.038m-2 2 2 2.038"/></svg>',"image/svg+xml").firstChild,pL="ck-widget__type-around_disabled";class rre extends Ve{constructor(){super(...arguments),this._currentFakeCaretModelElement=null}static get pluginName(){return"WidgetTypeAround"}static get requires(){return[DA,ld]}init(){const i=this.editor,s=i.editing.view;this.on("change:isEnabled",((c,h,g)=>{s.change((w=>{for(const k of s.document.roots)g?w.removeClass(pL,k):w.addClass(pL,k)})),g||i.model.change((w=>{w.removeSelectionAttribute(dd)}))})),this._enableTypeAroundUIInjection(),this._enableInsertingParagraphsOnButtonClick(),this._enableInsertingParagraphsOnEnterKeypress(),this._enableInsertingParagraphsOnTypingKeystroke(),this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows(),this._enableDeleteIntegration(),this._enableInsertContentIntegration(),this._enableInsertObjectIntegration(),this._enableDeleteContentIntegration()}destroy(){super.destroy(),this._currentFakeCaretModelElement=null}_insertParagraph(i,s){const c=this.editor,h=c.editing.view,g=c.model.schema.getAttributesWithProperty(i,"copyOnReplace",!0);c.execute("insertParagraph",{position:c.model.createPositionAt(i,s),attributes:g}),h.focus(),h.scrollToTheSelection()}_listenToIfEnabled(i,s,c,h){this.listenTo(i,s,((...g)=>{this.isEnabled&&c(...g)}),h)}_insertParagraphAccordingToFakeCaretPosition(){const i=this.editor.model.document.selection,s=gh(i);if(!s)return!1;const c=i.getSelectedElement();return this._insertParagraph(c,s),!0}_enableTypeAroundUIInjection(){const i=this.editor,s=i.model.schema,c=i.locale.t,h={before:c("Insert paragraph before block"),after:c("Insert paragraph after block")};i.editing.downcastDispatcher.on("insert",((g,w,k)=>{const _=k.mapper.toViewElement(w.item);_&&sp(_,w.item,s)&&((function(R,I,F){const H=R.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},(function(G){const W=this.toDomElement(G);return(function(Y,ie){for(const de of fL){const ge=new Xr({tag:"div",attributes:{class:["ck","ck-widget__type-around__button",`ck-widget__type-around__button_${de}`],title:ie[de],"aria-hidden":"true"},children:[Y.ownerDocument.importNode(nre,!0)]});Y.appendChild(ge.render())}})(W,I),(function(Y){const ie=new Xr({tag:"div",attributes:{class:["ck","ck-widget__type-around__fake-caret"]}});Y.appendChild(ie.render())})(W),W}));R.insert(R.createPositionAt(F,"end"),H)})(k.writer,h,_),_.getCustomProperty("widgetLabel").push((()=>this.isEnabled?c("Press Enter to type after or press Shift + Enter to type before the widget"):"")))}),{priority:"low"})}_enableTypeAroundFakeCaretActivationUsingKeyboardArrows(){const i=this.editor,s=i.model,c=s.document.selection,h=s.schema,g=i.editing.view;function w(k){return`ck-widget_type-around_show-fake-caret_${k}`}this._listenToIfEnabled(g.document,"arrowKey",((k,_)=>{this._handleArrowKeyPress(k,_)}),{context:[Sr,"$text"],priority:"high"}),this._listenToIfEnabled(c,"change:range",((k,_)=>{_.directChange&&i.model.change((R=>{R.removeSelectionAttribute(dd)}))})),this._listenToIfEnabled(s.document,"change:data",(()=>{const k=c.getSelectedElement();k&&sp(i.editing.mapper.toViewElement(k),k,h)||i.model.change((_=>{_.removeSelectionAttribute(dd)}))})),this._listenToIfEnabled(i.editing.downcastDispatcher,"selection",((k,_,R)=>{const I=R.writer;if(this._currentFakeCaretModelElement){const W=R.mapper.toViewElement(this._currentFakeCaretModelElement);W&&(I.removeClass(fL.map(w),W),this._currentFakeCaretModelElement=null)}const F=_.selection.getSelectedElement();if(!F)return;const H=R.mapper.toViewElement(F);if(!sp(H,F,h))return;const G=gh(_.selection);G&&(I.addClass(w(G),H),this._currentFakeCaretModelElement=F)})),this._listenToIfEnabled(i.ui.focusTracker,"change:isFocused",((k,_,R)=>{R||i.model.change((I=>{I.removeSelectionAttribute(dd)}))}))}_handleArrowKeyPress(i,s){const c=this.editor,h=c.model,g=h.document.selection,w=h.schema,k=c.editing.view,_=(function(F,H){const G=yf(F,H);return G==="down"||G==="right"})(s.keyCode,c.locale.contentLanguageDirection),R=k.document.selection.getSelectedElement();let I;sp(R,c.editing.mapper.toModelElement(R),w)?I=this._handleArrowKeyPressOnSelectedWidget(_):g.isCollapsed?I=this._handleArrowKeyPressWhenSelectionNextToAWidget(_):s.shiftKey||(I=this._handleArrowKeyPressWhenNonCollapsedSelection(_)),I&&(s.preventDefault(),i.stop())}_handleArrowKeyPressOnSelectedWidget(i){const s=this.editor.model,c=gh(s.document.selection);return s.change((h=>c?c!==(i?"after":"before")?(h.removeSelectionAttribute(dd),!0):!1:(h.setSelectionAttribute(dd,i?"after":"before"),!0)))}_handleArrowKeyPressWhenSelectionNextToAWidget(i){const s=this.editor,c=s.model,h=c.schema,g=s.plugins.get("Widget"),w=g._getObjectElementNextToSelection(i);return!!sp(s.editing.mapper.toViewElement(w),w,h)&&(c.change((k=>{g._setSelectionOverElement(w),k.setSelectionAttribute(dd,i?"before":"after")})),!0)}_handleArrowKeyPressWhenNonCollapsedSelection(i){const s=this.editor,c=s.model,h=c.schema,g=s.editing.mapper,w=c.document.selection,k=i?w.getLastPosition().nodeBefore:w.getFirstPosition().nodeAfter;return!!sp(g.toViewElement(k),k,h)&&(c.change((_=>{_.setSelection(k,"on"),_.setSelectionAttribute(dd,i?"after":"before")})),!0)}_enableInsertingParagraphsOnButtonClick(){const i=this.editor,s=i.editing.view;this._listenToIfEnabled(s.document,"mousedown",((c,h)=>{const g=h.domTarget.closest(".ck-widget__type-around__button");if(!g)return;const w=(function(R){return R.classList.contains("ck-widget__type-around__button_before")?"before":"after"})(g),k=(function(R,I){const F=R.closest(".ck-widget");return I.mapDomToView(F)})(g,s.domConverter),_=i.editing.mapper.toModelElement(k);this._insertParagraph(_,w),h.preventDefault(),c.stop()}))}_enableInsertingParagraphsOnEnterKeypress(){const i=this.editor,s=i.model.document.selection,c=i.editing.view;this._listenToIfEnabled(c.document,"enter",((h,g)=>{if(h.eventPhase!="atTarget")return;const w=s.getSelectedElement(),k=i.editing.mapper.toViewElement(w),_=i.model.schema;let R;this._insertParagraphAccordingToFakeCaretPosition()?R=!0:sp(k,w,_)&&(this._insertParagraph(w,g.isSoft?"before":"after"),R=!0),R&&(g.preventDefault(),h.stop())}),{context:Sr})}_enableInsertingParagraphsOnTypingKeystroke(){const i=this.editor.editing.view.document;this._listenToIfEnabled(i,"insertText",((s,c)=>{this._insertParagraphAccordingToFakeCaretPosition()&&(c.selection=i.selection)}),{priority:"high"}),v.isAndroid?this._listenToIfEnabled(i,"keydown",((s,c)=>{c.keyCode==229&&this._insertParagraphAccordingToFakeCaretPosition()})):this._listenToIfEnabled(i,"compositionstart",(()=>{this._insertParagraphAccordingToFakeCaretPosition()}),{priority:"high"})}_enableDeleteIntegration(){const i=this.editor,s=i.editing.view,c=i.model,h=c.schema;this._listenToIfEnabled(s.document,"delete",((g,w)=>{if(g.eventPhase!="atTarget")return;const k=gh(c.document.selection);if(!k)return;const _=w.direction,R=c.document.selection.getSelectedElement(),I=_=="forward";if(k==="before"===I)i.execute("delete",{selection:c.createSelection(R,"on")});else{const F=h.getNearestSelectionRange(c.createPositionAt(R,k),_);if(F)if(F.isCollapsed){const H=c.createSelection(F.start);if(c.modifySelection(H,{direction:_}),H.focus.isEqual(F.start)){const G=(function(W,Y){let ie=Y;for(const de of Y.getAncestors({parentFirst:!0})){if(de.childCount>1||W.isLimit(de))break;ie=de}return ie})(h,F.start.parent);c.deleteContent(c.createSelection(G,"on"),{doNotAutoparagraph:!0})}else c.change((G=>{G.setSelection(F),i.execute(I?"deleteForward":"delete")}))}else c.change((H=>{H.setSelection(F),i.execute(I?"deleteForward":"delete")}))}w.preventDefault(),g.stop()}),{context:Sr})}_enableInsertContentIntegration(){const i=this.editor,s=this.editor.model,c=s.document.selection;this._listenToIfEnabled(i.model,"insertContent",((h,[g,w])=>{if(w&&!w.is("documentSelection"))return;const k=gh(c);return k?(h.stop(),s.change((_=>{const R=c.getSelectedElement(),I=s.createPositionAt(R,k),F=_.createSelection(I),H=s.insertContent(g,F);return _.setSelection(F),H}))):void 0}),{priority:"high"})}_enableInsertObjectIntegration(){const i=this.editor,s=this.editor.model.document.selection;this._listenToIfEnabled(i.model,"insertObject",((c,h)=>{const[,g,w={}]=h;if(g&&!g.is("documentSelection"))return;const k=gh(s);k&&(w.findOptimalPosition=k,h[3]=w)}),{priority:"high"})}_enableDeleteContentIntegration(){const i=this.editor,s=this.editor.model.document.selection;this._listenToIfEnabled(i.model,"deleteContent",((c,[h])=>{h&&!h.is("documentSelection")||gh(s)&&c.stop()}),{priority:"high"})}}function ire(u){const i=u.model;return(s,c)=>{const h=c.keyCode==Mt.arrowup,g=c.keyCode==Mt.arrowdown,w=c.shiftKey,k=i.document.selection;if(!h&&!g)return;const _=g;if(w&&(function(I,F){return!I.isCollapsed&&I.isBackward==F})(k,_))return;const R=(function(I,F,H){const G=I.model;if(H){const W=F.isCollapsed?F.focus:F.getLastPosition(),Y=gL(G,W,"forward");if(!Y)return null;const ie=G.createRange(W,Y),de=mL(G.schema,ie,"backward");return de?G.createRange(W,de):null}{const W=F.isCollapsed?F.focus:F.getFirstPosition(),Y=gL(G,W,"backward");if(!Y)return null;const ie=G.createRange(Y,W),de=mL(G.schema,ie,"forward");return de?G.createRange(de,W):null}})(u,k,_);if(R){if(R.isCollapsed&&(k.isCollapsed||w))return;(R.isCollapsed||(function(I,F,H){const G=I.model,W=I.view.domConverter;if(H){const Ce=G.createSelection(F.start);G.modifySelection(Ce),Ce.focus.isAtEnd||F.start.isEqual(Ce.focus)||(F=G.createRange(Ce.focus,F.end))}const Y=I.mapper.toViewRange(F),ie=W.viewRangeToDom(Y),de=_t.getDomRangeRects(ie);let ge;for(const Ce of de)if(ge!==void 0){if(Math.round(Ce.top)>=ge)return!1;ge=Math.max(ge,Math.round(Ce.bottom))}else ge=Math.round(Ce.bottom);return!0})(u,R,_))&&(i.change((I=>{const F=_?R.end:R.start;if(w){const H=i.createSelection(k.anchor);H.setFocus(F),I.setSelection(H)}else I.setSelection(F)})),s.stop(),c.preventDefault(),c.stopPropagation())}}}function gL(u,i,s){const c=u.schema,h=u.createRangeIn(i.root),g=s=="forward"?"elementStart":"elementEnd";for(const{previousPosition:w,item:k,type:_}of h.getWalker({startPosition:i,direction:s})){if(c.isLimit(k)&&!c.isInline(k))return w;if(_==g&&c.isBlock(k))return null}return null}function mL(u,i,s){const c=s=="backward"?i.end:i.start;if(u.checkChild(c,"$text"))return c;for(const{nextPosition:h}of i.getWalker({direction:s}))if(u.checkChild(h,"$text"))return h;return null}var bL=o(695),ore={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$e()(bL.A,ore),bL.A.locals;class BC extends Ve{constructor(){super(...arguments),this._previouslySelected=new Set}static get pluginName(){return"Widget"}static get requires(){return[rre,ld]}init(){const i=this.editor,s=i.editing.view,c=s.document,h=i.t;this.editor.editing.downcastDispatcher.on("selection",((g,w,k)=>{const _=k.writer,R=w.selection;if(R.isCollapsed)return;const I=R.getSelectedElement();if(!I)return;const F=i.editing.mapper.toViewElement(I);var H;Sr(F)&&k.consumable.consume(R,"selection")&&_.setSelection(_.createRangeOn(F),{fake:!0,label:(H=F,H.getCustomProperty("widgetLabel").reduce(((G,W)=>typeof W=="function"?G?G+". "+W():W():G?G+". "+W:W),""))})})),this.editor.editing.downcastDispatcher.on("selection",((g,w,k)=>{this._clearPreviouslySelectedWidgets(k.writer);const _=k.writer,R=_.document.selection;let I=null;for(const F of R.getRanges())for(const H of F){const G=H.item;Sr(G)&&!sre(G,I)&&(_.addClass(lL,G),this._previouslySelected.add(G),I=G)}}),{priority:"low"}),s.addObserver(_m),this.listenTo(c,"mousedown",((...g)=>this._onMousedown(...g))),this.listenTo(c,"arrowKey",((...g)=>{this._handleSelectionChangeOnArrowKeyPress(...g)}),{context:[Sr,"$text"]}),this.listenTo(c,"arrowKey",((...g)=>{this._preventDefaultOnArrowKeyPress(...g)}),{context:"$root"}),this.listenTo(c,"arrowKey",ire(this.editor.editing),{context:"$text"}),this.listenTo(c,"delete",((g,w)=>{this._handleDelete(w.direction=="forward")&&(w.preventDefault(),g.stop())}),{context:"$root"}),this.listenTo(c,"tab",((g,w)=>{g.eventPhase=="atTarget"&&(w.shiftKey||this._selectFirstNestedEditable()&&(w.preventDefault(),g.stop()))}),{context:Sr,priority:"low"}),this.listenTo(c,"tab",((g,w)=>{w.shiftKey&&this._selectAncestorWidget()&&(w.preventDefault(),g.stop())}),{priority:"low"}),this.listenTo(c,"keydown",((g,w)=>{w.keystroke==Mt.esc&&this._selectAncestorWidget()&&(w.preventDefault(),g.stop())}),{priority:"low"}),i.accessibility.addKeystrokeInfoGroup({id:"widget",label:h("Keystrokes that can be used when a widget is selected (for example: image, table, etc.)"),keystrokes:[{label:h("Insert a new paragraph directly after a widget"),keystroke:"Enter"},{label:h("Insert a new paragraph directly before a widget"),keystroke:"Shift+Enter"},{label:h("Move the caret to allow typing directly before a widget"),keystroke:[["arrowup"],["arrowleft"]]},{label:h("Move the caret to allow typing directly after a widget"),keystroke:[["arrowdown"],["arrowright"]]}]})}_onMousedown(i,s){const c=this.editor,h=c.editing.view,g=h.document;let w=s.target;if(s.domEvent.detail>=3)return void(this._selectBlockContent(w)&&s.preventDefault());if((function(_){let R=_;for(;R;){if(R.is("editableElement")&&!R.is("rootElement"))return!0;if(Sr(R))return!1;R=R.parent}return!1})(w)||!Sr(w)&&(w=w.findAncestor(Sr),!w))return;v.isAndroid&&s.preventDefault(),g.isFocused||h.focus();const k=c.editing.mapper.toModelElement(w);this._setSelectionOverElement(k)}_selectBlockContent(i){const s=this.editor,c=s.model,h=s.editing.mapper,g=c.schema,w=h.findMappedViewAncestor(this.editor.editing.view.createPositionAt(i,0)),k=(function(_,R){for(const I of _.getAncestors({includeSelf:!0,parentFirst:!0})){if(R.checkChild(I,"$text"))return I;if(R.isLimit(I)&&!R.isObject(I))break}return null})(h.toModelElement(w),c.schema);return!!k&&(c.change((_=>{const R=g.isLimit(k)?null:(function(H,G){const W=new Vs({startPosition:H});for(const{item:Y}of W){if(G.isLimit(Y)||!Y.is("element"))return null;if(G.checkChild(Y,"$text"))return Y}return null})(_.createPositionAfter(k),g),I=_.createPositionAt(k,0),F=R?_.createPositionAt(R,0):_.createPositionAt(k,"end");_.setSelection(_.createRange(I,F))})),!0)}_handleSelectionChangeOnArrowKeyPress(i,s){const c=s.keyCode,h=this.editor.model,g=h.schema,w=h.document.selection,k=w.getSelectedElement(),_=yf(c,this.editor.locale.contentLanguageDirection),R=_=="down"||_=="right",I=_=="up"||_=="down";if(k&&g.isObject(k)){const H=R?w.getLastPosition():w.getFirstPosition(),G=g.getNearestSelectionRange(H,R?"forward":"backward");return void(G&&(h.change((W=>{W.setSelection(G)})),s.preventDefault(),i.stop()))}if(!w.isCollapsed&&!s.shiftKey){const H=w.getFirstPosition(),G=w.getLastPosition(),W=H.nodeAfter,Y=G.nodeBefore;return void((W&&g.isObject(W)||Y&&g.isObject(Y))&&(h.change((ie=>{ie.setSelection(R?G:H)})),s.preventDefault(),i.stop()))}if(!w.isCollapsed)return;const F=this._getObjectElementNextToSelection(R);if(F&&g.isObject(F)){if(g.isInline(F)&&I)return;this._setSelectionOverElement(F),s.preventDefault(),i.stop()}}_preventDefaultOnArrowKeyPress(i,s){const c=this.editor.model,h=c.schema,g=c.document.selection.getSelectedElement();g&&h.isObject(g)&&(s.preventDefault(),i.stop())}_handleDelete(i){const s=this.editor.model.document.selection;if(!this.editor.model.canEditAt(s)||!s.isCollapsed)return;const c=this._getObjectElementNextToSelection(i);return c?(this.editor.model.change((h=>{let g=s.anchor.parent;for(;g.isEmpty;){const w=g;g=w.parent,h.remove(w)}this._setSelectionOverElement(c)})),!0):void 0}_setSelectionOverElement(i){this.editor.model.change((s=>{s.setSelection(s.createRangeOn(i))}))}_getObjectElementNextToSelection(i){const s=this.editor.model,c=s.schema,h=s.document.selection,g=s.createSelection(h);if(s.modifySelection(g,{direction:i?"forward":"backward"}),g.isEqual(h))return null;const w=i?g.focus.nodeBefore:g.focus.nodeAfter;return w&&c.isObject(w)?w:null}_clearPreviouslySelectedWidgets(i){for(const s of this._previouslySelected)i.removeClass(lL,s);this._previouslySelected.clear()}_selectFirstNestedEditable(){const i=this.editor,s=this.editor.editing.view.document;for(const c of s.selection.getFirstRange().getItems())if(c.is("editableElement")){const h=i.editing.mapper.toModelElement(c);if(!h)continue;const g=i.model.createPositionAt(h,0),w=i.model.schema.getNearestSelectionRange(g,"forward");return i.model.change((k=>{k.setSelection(w)})),!0}return!1}_selectAncestorWidget(){const i=this.editor,s=i.editing.mapper,c=i.editing.view.document.selection.getFirstPosition().parent,h=(c.is("$text")?c.parent:c).findAncestor(Sr);if(!h)return!1;const g=s.toModelElement(h);return!!g&&(i.model.change((w=>{w.setSelection(g,"on")})),!0)}}function sre(u,i){return!!i&&Array.from(u.getAncestors()).includes(i)}class TA extends Ve{constructor(){super(...arguments),this._toolbarDefinitions=new Map}static get requires(){return[kA]}static get pluginName(){return"WidgetToolbarRepository"}init(){const i=this.editor;if(i.plugins.has("BalloonToolbar")){const s=i.plugins.get("BalloonToolbar");this.listenTo(s,"show",(c=>{(function(h){const g=h.getSelectedElement();return!(!g||!Sr(g))})(i.editing.view.document.selection)&&c.stop()}),{priority:"high"})}this._balloon=this.editor.plugins.get("ContextualBalloon"),this.on("change:isEnabled",(()=>{this._updateToolbarsVisibility()})),this.listenTo(i.ui,"update",(()=>{this._updateToolbarsVisibility()})),this.listenTo(i.ui.focusTracker,"change:isFocused",(()=>{this._updateToolbarsVisibility()}),{priority:"low"})}destroy(){super.destroy();for(const i of this._toolbarDefinitions.values())i.view.destroy()}register(i,{ariaLabel:s,items:c,getRelatedElement:h,balloonClassName:g="ck-toolbar-container"}){if(!c.length)return void K("widget-toolbar-no-items",{toolbarId:i});const w=this.editor,k=w.t,_=new m2(w.locale);if(_.ariaLabel=s||k("Widget toolbar"),this._toolbarDefinitions.has(i))throw new z("widget-toolbar-duplicated",this,{toolbarId:i});const R={view:_,getRelatedElement:h,balloonClassName:g,itemsConfig:c,initialized:!1};w.ui.addToolbar(_,{isContextual:!0,beforeFocus:()=>{const I=h(w.editing.view.document.selection);I&&this._showToolbar(R,I)},afterBlur:()=>{this._hideToolbar(R)}}),this._toolbarDefinitions.set(i,R)}_updateToolbarsVisibility(){let i=0,s=null,c=null;for(const h of this._toolbarDefinitions.values()){const g=h.getRelatedElement(this.editor.editing.view.document.selection);if(this.isEnabled&&g)if(this.editor.ui.focusTracker.isFocused){const w=g.getAncestors().length;w>i&&(i=w,s=g,c=h)}else this._isToolbarVisible(h)&&this._hideToolbar(h);else this._isToolbarInBalloon(h)&&this._hideToolbar(h)}c&&this._showToolbar(c,s)}_hideToolbar(i){this._balloon.remove(i.view),this.stopListening(this._balloon,"change:visibleView")}_showToolbar(i,s){this._isToolbarVisible(i)?vL(this.editor,s):this._isToolbarInBalloon(i)||(i.initialized||(i.initialized=!0,i.view.fillFromConfig(i.itemsConfig,this.editor.ui.componentFactory)),this._balloon.add({view:i.view,position:wL(this.editor,s),balloonClassName:i.balloonClassName}),this.listenTo(this._balloon,"change:visibleView",(()=>{for(const c of this._toolbarDefinitions.values())if(this._isToolbarVisible(c)){const h=c.getRelatedElement(this.editor.editing.view.document.selection);vL(this.editor,h)}})))}_isToolbarVisible(i){return this._balloon.visibleView===i.view}_isToolbarInBalloon(i){return this._balloon.hasView(i.view)}}function vL(u,i){const s=u.plugins.get("ContextualBalloon"),c=wL(u,i);s.updatePosition(c)}function wL(u,i){const s=u.editing.view,c=jo.defaultPositions;return{target:s.domConverter.mapViewToDom(i),positions:[c.northArrowSouth,c.northArrowSouthWest,c.northArrowSouthEast,c.southArrowNorth,c.southArrowNorthWest,c.southArrowNorthEast,c.viewportStickyNorth]}}var CL=o(4095),are={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$e()(CL.A,are),CL.A.locals;const N2=To("px");class lre extends st{constructor(){super();const i=this.bindTemplate;this.set({isVisible:!1,left:null,top:null,width:null}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-clipboard-drop-target-line",i.if("isVisible","ck-hidden",(s=>!s))],style:{left:i.to("left",(s=>N2(s))),top:i.to("top",(s=>N2(s))),width:i.to("width",(s=>N2(s)))}}})}}class RA extends Ve{constructor(){super(...arguments),this.removeDropMarkerDelayed=rw((()=>this.removeDropMarker()),40),this._updateDropMarkerThrottled=CA((i=>this._updateDropMarker(i)),40),this._reconvertMarkerThrottled=CA((()=>{this.editor.model.markers.has("drop-target")&&this.editor.editing.reconvertMarker("drop-target")}),0),this._dropTargetLineView=new lre,this._domEmitter=new(Ji()),this._scrollables=new Map}static get pluginName(){return"DragDropTarget"}init(){this._setupDropMarker()}destroy(){this._domEmitter.stopListening();for(const{resizeObserver:i}of this._scrollables.values())i.destroy();return this._updateDropMarkerThrottled.cancel(),this.removeDropMarkerDelayed.cancel(),this._reconvertMarkerThrottled.cancel(),super.destroy()}updateDropMarker(i,s,c,h,g,w){this.removeDropMarkerDelayed.cancel();const k=yL(this.editor,i,s,c,h,g,w);if(k)return w&&w.containsRange(k)?this.removeDropMarker():void this._updateDropMarkerThrottled(k)}getFinalDropRange(i,s,c,h,g,w){const k=yL(this.editor,i,s,c,h,g,w);return this.removeDropMarker(),k}removeDropMarker(){const i=this.editor.model;this.removeDropMarkerDelayed.cancel(),this._updateDropMarkerThrottled.cancel(),this._dropTargetLineView.isVisible=!1,i.markers.has("drop-target")&&i.change((s=>{s.removeMarker("drop-target")}))}_setupDropMarker(){const i=this.editor;i.ui.view.body.add(this._dropTargetLineView),i.conversion.for("editingDowncast").markerToHighlight({model:"drop-target",view:{classes:["ck-clipboard-drop-target-range"]}}),i.conversion.for("editingDowncast").markerToElement({model:"drop-target",view:(s,{writer:c})=>{if(i.model.schema.checkChild(s.markerRange.start,"$text"))return this._dropTargetLineView.isVisible=!1,this._createDropTargetPosition(c);s.markerRange.isCollapsed?this._updateDropTargetLine(s.markerRange):this._dropTargetLineView.isVisible=!1}})}_updateDropMarker(i){const s=this.editor,c=s.model.markers;s.model.change((h=>{c.has("drop-target")?c.get("drop-target").getRange().isEqual(i)||h.updateMarker("drop-target",{range:i}):h.addMarker("drop-target",{range:i,usingOperation:!1,affectsData:!1})}))}_createDropTargetPosition(i){return i.createUIElement("span",{class:"ck ck-clipboard-drop-target-position"},(function(s){const c=this.toDomElement(s);return c.append("",s.createElement("span"),""),c}))}_updateDropTargetLine(i){const s=this.editor.editing,c=i.start.nodeBefore,h=i.start.nodeAfter,g=i.start.parent,w=c?s.mapper.toViewElement(c):null,k=w?s.view.domConverter.mapViewToDom(w):null,_=h?s.mapper.toViewElement(h):null,R=_?s.view.domConverter.mapViewToDom(_):null,I=s.mapper.toViewElement(g);if(!I)return;const F=s.view.domConverter.mapViewToDom(I),H=this._getScrollableRect(I),{scrollX:G,scrollY:W}=d.window,Y=k?new _t(k):null,ie=R?new _t(R):null,de=new _t(F).excludeScrollbarsAndBorders(),ge=Y?Y.bottom:de.top,Ce=ie?ie.top:de.bottom,Fe=d.window.getComputedStyle(F),Xe=ge<=Ce?(ge+Ce)/2:Ce;if(H.top<Xe&&Xe<H.bottom){const Ct=de.left+parseFloat(Fe.paddingLeft),Rt=de.right-parseFloat(Fe.paddingRight),Fn=Math.max(Ct+G,H.left),Gr=Math.min(Rt+G,H.right);this._dropTargetLineView.set({isVisible:!0,left:Fn,top:Xe+W,width:Gr-Fn})}else this._dropTargetLineView.isVisible=!1}_getScrollableRect(i){const s=i.root.rootName;let c;if(this._scrollables.has(s))c=this._scrollables.get(s).domElement;else{c=(function(g){let w=g;do{w=w.parentElement;const k=d.window.getComputedStyle(w).overflowY;if(k=="auto"||k=="scroll")break}while(w.tagName!="BODY");return w})(this.editor.editing.view.domConverter.mapViewToDom(i)),this._domEmitter.listenTo(c,"scroll",this._reconvertMarkerThrottled,{usePassive:!0});const h=new pl(c,this._reconvertMarkerThrottled);this._scrollables.set(s,{domElement:c,resizeObserver:h})}return new _t(c).excludeScrollbarsAndBorders()}}function yL(u,i,s,c,h,g,w){const k=u.model,_=u.editing.mapper;let R=xL(u,i);for(;R;){if(!g){if(k.schema.checkChild(R,"$text")){if(s){const I=s[0].start,F=_.toModelPosition(I);if(!w||Array.from(w.getItems()).every((H=>k.schema.checkChild(F,H)))){if(k.schema.checkChild(F,"$text"))return k.createRange(F);if(I)return PA(u,xL(u,I.parent),c,h)}}}else if(k.schema.isInline(R))return PA(u,R,c,h)}if(k.schema.isBlock(R))return PA(u,R,c,h);if(k.schema.checkChild(R,"$block")){const I=Array.from(R.getChildren()).filter((G=>G.is("element")&&!cre(u,G)));let F=0,H=I.length;if(H==0)return k.createRange(k.createPositionAt(R,"end"));for(;F<H-1;){const G=Math.floor((F+H)/2);kL(u,I[G],c,h)=="before"?H=G:F=G}return PA(u,I[F],c,h)}R=R.parent}return null}function cre(u,i){const s=u.editing.mapper,c=u.editing.view.domConverter,h=s.toViewElement(i);if(!h)return!0;const g=c.mapViewToDom(h);return d.window.getComputedStyle(g).float!="none"}function PA(u,i,s,c){const h=u.model;return h.createRange(h.createPositionAt(i,kL(u,i,s,c)))}function kL(u,i,s,c){const h=u.editing.mapper,g=u.editing.view.domConverter,w=h.toViewElement(i),k=g.mapViewToDom(w),_=new _t(k);return u.model.schema.isInline(i)?s<(_.left+_.right)/2?"before":"after":c<(_.top+_.bottom)/2?"before":"after"}function xL(u,i){const s=u.editing.mapper,c=u.editing.view,h=s.toModelElement(i);if(h)return h;const g=c.createPositionBefore(i),w=s.findMappedViewAncestor(g);return s.toModelElement(w)}var dre=Object.defineProperty,ure=Object.defineProperties,hre=Object.getOwnPropertyDescriptors,AL=Object.getOwnPropertySymbols,fre=Object.prototype.hasOwnProperty,pre=Object.prototype.propertyIsEnumerable,SL=(u,i,s)=>i in u?dre(u,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):u[i]=s;class gre extends Ve{constructor(){super(...arguments),this._isBlockDragging=!1,this._domEmitter=new(Ji())}static get pluginName(){return"DragDropBlockToolbar"}init(){const i=this.editor;if(this.listenTo(i,"change:isReadOnly",((s,c,h)=>{h?(this.forceDisabled("readOnlyMode"),this._isBlockDragging=!1):this.clearForceDisabled("readOnlyMode")})),v.isAndroid&&this.forceDisabled("noAndroidSupport"),i.plugins.has("BlockToolbar")){const s=i.plugins.get("BlockToolbar").buttonView.element;this._domEmitter.listenTo(s,"dragstart",((c,h)=>this._handleBlockDragStart(h))),this._domEmitter.listenTo(d.document,"dragover",((c,h)=>this._handleBlockDragging(h))),this._domEmitter.listenTo(d.document,"drop",((c,h)=>this._handleBlockDragging(h))),this._domEmitter.listenTo(d.document,"dragend",(()=>this._handleBlockDragEnd()),{useCapture:!0}),this.isEnabled&&s.setAttribute("draggable","true"),this.on("change:isEnabled",((c,h,g)=>{s.setAttribute("draggable",g?"true":"false")}))}}destroy(){return this._domEmitter.stopListening(),super.destroy()}_handleBlockDragStart(i){if(!this.isEnabled)return;const s=this.editor.model,c=s.document.selection,h=this.editor.editing.view,g=Array.from(c.getSelectedBlocks()),w=s.createRange(s.createPositionBefore(g[0]),s.createPositionAfter(g[g.length-1]));s.change((k=>k.setSelection(w))),this._isBlockDragging=!0,h.focus(),h.getObserver(IC).onDomEvent(i)}_handleBlockDragging(i){if(!this.isEnabled||!this._isBlockDragging)return;const s=i.clientX+(this.editor.locale.contentLanguageDirection=="ltr"?100:-100),c=i.clientY,h=document.elementFromPoint(s,c),g=this.editor.editing.view;var w,k;h&&h.closest(".ck-editor__editable")&&g.getObserver(IC).onDomEvent((w=((_,R)=>{for(var I in R||(R={}))fre.call(R,I)&&SL(_,I,R[I]);if(AL)for(var I of AL(R))pre.call(R,I)&&SL(_,I,R[I]);return _})({},i),k={type:i.type,dataTransfer:i.dataTransfer,target:h,clientX:s,clientY:c,preventDefault:()=>i.preventDefault(),stopPropagation:()=>i.stopPropagation()},ure(w,hre(k))))}_handleBlockDragEnd(){this._isBlockDragging=!1}}var _L=o(7793),mre={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$e()(_L.A,mre),_L.A.locals;class bre extends Ve{constructor(){super(...arguments),this._clearDraggableAttributesDelayed=rw((()=>this._clearDraggableAttributes()),40),this._blockMode=!1,this._domEmitter=new(Ji())}static get pluginName(){return"DragDrop"}static get requires(){return[qs,BC,RA,gre]}init(){const i=this.editor,s=i.editing.view;this._draggedRange=null,this._draggingUid="",this._draggableElement=null,s.addObserver(IC),s.addObserver(_m),this._setupDragging(),this._setupContentInsertionIntegration(),this._setupClipboardInputIntegration(),this._setupDraggableAttributeHandling(),this.listenTo(i,"change:isReadOnly",((c,h,g)=>{g?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")})),this.on("change:isEnabled",((c,h,g)=>{g||this._finalizeDragging(!1)})),v.isAndroid&&this.forceDisabled("noAndroidSupport")}destroy(){return this._draggedRange&&(this._draggedRange.detach(),this._draggedRange=null),this._previewContainer&&this._previewContainer.remove(),this._domEmitter.stopListening(),this._clearDraggableAttributesDelayed.cancel(),super.destroy()}_setupDragging(){const i=this.editor,s=i.model,c=i.editing.view,h=c.document,g=i.plugins.get(RA);this.listenTo(h,"dragstart",((w,k)=>{if(k.target&&k.target.is("editableElement")||(this._prepareDraggedRange(k.target),!this._draggedRange))return void k.preventDefault();this._draggingUid=L(),k.dataTransfer.effectAllowed=this.isEnabled?"copyMove":"copy",k.dataTransfer.setData("application/ckeditor5-dragging-uid",this._draggingUid);const _=s.createSelection(this._draggedRange.toRange());this.editor.plugins.get("ClipboardPipeline")._fireOutputTransformationEvent(k.dataTransfer,_,"dragstart");const{dataTransfer:R,domTarget:I,domEvent:F}=k,{clientX:H}=F;this._updatePreview({dataTransfer:R,domTarget:I,clientX:H}),k.stopPropagation(),this.isEnabled||(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid="")}),{priority:"low"}),this.listenTo(h,"dragend",((w,k)=>{this._finalizeDragging(!k.dataTransfer.isCanceled&&k.dataTransfer.dropEffect=="move")}),{priority:"low"}),this._domEmitter.listenTo(d.document,"dragend",(()=>{this._blockMode=!1}),{useCapture:!0}),this.listenTo(h,"dragenter",(()=>{this.isEnabled&&c.focus()})),this.listenTo(h,"dragleave",(()=>{g.removeDropMarkerDelayed()})),this.listenTo(h,"dragging",((w,k)=>{if(!this.isEnabled)return void(k.dataTransfer.dropEffect="none");const{clientX:_,clientY:R}=k.domEvent;g.updateDropMarker(k.target,k.targetRanges,_,R,this._blockMode,this._draggedRange),this._draggedRange||(k.dataTransfer.dropEffect="copy"),v.isGecko||(k.dataTransfer.effectAllowed=="copy"?k.dataTransfer.dropEffect="copy":["all","copyMove"].includes(k.dataTransfer.effectAllowed)&&(k.dataTransfer.dropEffect="move")),w.stop()}),{priority:"low"})}_setupClipboardInputIntegration(){const i=this.editor,s=i.editing.view.document,c=i.plugins.get(RA);this.listenTo(s,"clipboardInput",((h,g)=>{if(g.method!="drop")return;const{clientX:w,clientY:k}=g.domEvent,_=c.getFinalDropRange(g.target,g.targetRanges,w,k,this._blockMode,this._draggedRange);if(!_)return this._finalizeDragging(!1),void h.stop();if(this._draggedRange&&this._draggingUid!=g.dataTransfer.getData("application/ckeditor5-dragging-uid")&&(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid=""),EL(g.dataTransfer)=="move"&&this._draggedRange&&this._draggedRange.containsRange(_,!0))return this._finalizeDragging(!1),void h.stop();g.targetRanges=[i.editing.mapper.toViewRange(_)]}),{priority:"high"})}_setupContentInsertionIntegration(){const i=this.editor.plugins.get(qs);i.on("contentInsertion",((s,c)=>{if(!this.isEnabled||c.method!=="drop")return;const h=c.targetRanges.map((g=>this.editor.editing.mapper.toModelRange(g)));this.editor.model.change((g=>g.setSelection(h)))}),{priority:"high"}),i.on("contentInsertion",((s,c)=>{if(!this.isEnabled||c.method!=="drop")return;const h=EL(c.dataTransfer)=="move",g=!c.resultRange||!c.resultRange.isCollapsed;this._finalizeDragging(g&&h)}),{priority:"lowest"})}_setupDraggableAttributeHandling(){const i=this.editor,s=i.editing.view,c=s.document;this.listenTo(c,"mousedown",((h,g)=>{if(v.isAndroid||!g)return;this._clearDraggableAttributesDelayed.cancel();let w=DL(g.target);if(v.isBlink&&!i.isReadOnly&&!w&&!c.selection.isCollapsed){const k=c.selection.getSelectedElement();k&&Sr(k)||(w=c.selection.editableElement)}w&&(s.change((k=>{k.setAttribute("draggable","true",w)})),this._draggableElement=i.editing.mapper.toModelElement(w))})),this.listenTo(c,"mouseup",(()=>{v.isAndroid||this._clearDraggableAttributesDelayed()}))}_clearDraggableAttributes(){const i=this.editor.editing;i.view.change((s=>{this._draggableElement&&this._draggableElement.root.rootName!="$graveyard"&&s.removeAttribute("draggable",i.mapper.toViewElement(this._draggableElement)),this._draggableElement=null}))}_finalizeDragging(i){const s=this.editor,c=s.model;s.plugins.get(RA).removeDropMarker(),this._clearDraggableAttributes(),s.plugins.has("WidgetToolbarRepository")&&s.plugins.get("WidgetToolbarRepository").clearForceDisabled("dragDrop"),this._draggingUid="",this._previewContainer&&(this._previewContainer.remove(),this._previewContainer=void 0),this._draggedRange&&(i&&this.isEnabled&&c.change((h=>{const g=c.createSelection(this._draggedRange);c.deleteContent(g,{doNotAutoparagraph:!0});const w=g.getFirstPosition().parent;w.isEmpty&&!c.schema.checkChild(w,"$text")&&c.schema.checkChild(w,"paragraph")&&h.insertElement("paragraph",w,0)})),this._draggedRange.detach(),this._draggedRange=null)}_prepareDraggedRange(i){const s=this.editor,c=s.model,h=c.document.selection,g=i?DL(i):null;if(g){const R=s.editing.mapper.toModelElement(g);this._draggedRange=xt.fromRange(c.createRangeOn(R)),this._blockMode=c.schema.isBlock(R),s.plugins.has("WidgetToolbarRepository")&&s.plugins.get("WidgetToolbarRepository").forceDisabled("dragDrop");return}if(h.isCollapsed&&!h.getFirstPosition().parent.isEmpty)return;const w=Array.from(h.getSelectedBlocks()),k=h.getFirstRange();if(w.length==0)return void(this._draggedRange=xt.fromRange(k));const _=ML(c,w);if(w.length>1)this._draggedRange=xt.fromRange(_),this._blockMode=!0;else if(w.length==1){const R=k.start.isTouching(_.start)&&k.end.isTouching(_.end);this._draggedRange=xt.fromRange(R?_:k),this._blockMode=R}c.change((R=>R.setSelection(this._draggedRange.toRange())))}_updatePreview({dataTransfer:i,domTarget:s,clientX:c}){const h=this.editor.editing.view,g=h.document.selection.editableElement,w=h.domConverter.mapViewToDom(g),k=d.window.getComputedStyle(w);this._previewContainer?this._previewContainer.firstElementChild&&this._previewContainer.removeChild(this._previewContainer.firstElementChild):(this._previewContainer=ft(d.document,"div",{style:"position: fixed; left: -999999px;"}),d.document.body.appendChild(this._previewContainer));const _=new _t(w);if(w.contains(s))return;const R=parseFloat(k.paddingLeft),I=ft(d.document,"div");I.className="ck ck-content",I.style.width=k.width,I.style.paddingLeft=`${_.left-c+R}px`,v.isiOS&&(I.style.backgroundColor="white"),I.innerHTML=i.getData("text/html"),i.setDragImage(I,0,0),this._previewContainer.appendChild(I)}}function EL(u){return v.isGecko?u.dropEffect:["all","copyMove"].includes(u.effectAllowed)?"move":"copy"}function DL(u){if(u.is("editableElement"))return null;if(u.hasClass("ck-widget__selection-handle"))return u.findAncestor(Sr);if(Sr(u))return u;const i=u.findAncestor((s=>Sr(s)||s.is("editableElement")));return Sr(i)?i:null}function ML(u,i){const s=i[0],c=i[i.length-1],h=s.getCommonAncestor(c),g=u.createPositionBefore(s),w=u.createPositionAfter(c);if(h&&h.is("element")&&!u.schema.isLimit(h)){const k=u.createRangeOn(h),_=g.isTouching(k.start),R=w.isTouching(k.end);if(_&&R)return ML(u,[h])}return u.createRange(g,w)}class vre extends Ve{static get pluginName(){return"PastePlainText"}static get requires(){return[qs]}init(){const i=this.editor,s=i.model,c=i.editing.view,h=c.document,g=s.document.selection;let w=!1;c.addObserver(IC),this.listenTo(h,"keydown",((k,_)=>{w=_.shiftKey})),i.plugins.get(qs).on("contentInsertion",((k,_)=>{(w||(function(R,I){if(R.childCount>1)return!1;const F=R.getChild(0);return I.isObject(F)?!1:Array.from(F.getAttributeKeys()).length==0})(_.content,s.schema))&&s.change((R=>{const I=Array.from(g.getAttributes()).filter((([H])=>s.schema.getAttributeProperties(H).isFormatting));g.isCollapsed||s.deleteContent(g,{doNotAutoparagraph:!0}),I.push(...g.getAttributes());const F=R.createRangeIn(_.content);for(const H of F.getItems())H.is("$textProxy")&&R.setAttributes(I,H)}))}))}}class TL extends Ve{static get pluginName(){return"Clipboard"}static get requires(){return[NC,qs,bre,vre]}init(){const i=this.editor,s=this.editor.t;i.accessibility.addKeystrokeInfos({keystrokes:[{label:s("Copy selected content"),keystroke:"CTRL+C"},{label:s("Paste content"),keystroke:"CTRL+V"},{label:s("Paste content as plain text"),keystroke:"CTRL+SHIFT+V"}]})}}class wre extends Et{constructor(i){super(i),this.affectsData=!1}execute(){const i=this.editor.model,s=i.document.selection;let c=i.schema.getLimitElement(s);if(s.containsEntireContent(c)||!RL(i.schema,c))do if(c=c.parent,!c)return;while(!RL(i.schema,c));i.change((h=>{h.setSelection(c,"in")}))}}function RL(u,i){return u.isLimit(i)&&(u.checkChild(i,"$text")||u.checkChild(i,"paragraph"))}const Cre=ro("Ctrl+A");class yre extends Ve{static get pluginName(){return"SelectAllEditing"}init(){const i=this.editor,s=i.t,c=i.editing.view.document;i.commands.add("selectAll",new wre(i)),this.listenTo(c,"keydown",((h,g)=>{ui(g)===Cre&&(i.execute("selectAll"),g.preventDefault())})),i.accessibility.addKeystrokeInfos({keystrokes:[{label:s("Select all"),keystroke:"CTRL+A"}]})}}class kre extends Ve{static get pluginName(){return"SelectAllUI"}init(){const i=this.editor;i.ui.componentFactory.add("selectAll",(()=>{const s=this._createButton(Ut);return s.set({tooltip:!0}),s})),i.ui.componentFactory.add("menuBar:selectAll",(()=>this._createButton(fs)))}_createButton(i){const s=this.editor,c=s.locale,h=s.commands.get("selectAll"),g=new i(s.locale),w=c.t;return g.set({label:w("Select all"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75zm18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75zm-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5h2.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5h5.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0h2.25zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5h2.25zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6z"/></svg>',keystroke:"Ctrl+A"}),g.bind("isEnabled").to(h,"isEnabled"),this.listenTo(g,"execute",(()=>{s.execute("selectAll"),s.editing.view.focus()})),g}}class xre extends Ve{static get requires(){return[yre,kre]}static get pluginName(){return"SelectAll"}}var Are=Object.defineProperty,PL=Object.getOwnPropertySymbols,Sre=Object.prototype.hasOwnProperty,_re=Object.prototype.propertyIsEnumerable,IL=(u,i,s)=>i in u?Are(u,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):u[i]=s;class NL extends Et{constructor(i){super(i),this._stack=[],this._createdBatches=new WeakSet,this.refresh(),this._isEnabledBasedOnSelection=!1,this.listenTo(i.data,"set",((s,c)=>{c[1]=((g,w)=>{for(var k in w||(w={}))Sre.call(w,k)&&IL(g,k,w[k]);if(PL)for(var k of PL(w))_re.call(w,k)&&IL(g,k,w[k]);return g})({},c[1]);const h=c[1];h.batchType||(h.batchType={isUndoable:!1})}),{priority:"high"}),this.listenTo(i.data,"set",((s,c)=>{c[1].batchType.isUndoable||this.clearStack()}))}refresh(){this.isEnabled=this._stack.length>0}get createdBatches(){return this._createdBatches}addBatch(i){const s=this.editor.model.document.selection,c={ranges:s.hasOwnRange?Array.from(s.getRanges()):[],isBackward:s.isBackward};this._stack.push({batch:i,selection:c}),this.refresh()}clearStack(){this._stack=[],this.refresh()}_restoreSelection(i,s,c){const h=this.editor.model,g=h.document,w=[],k=i.map((R=>R.getTransformedByOperations(c))),_=k.flat();for(const R of k){const I=R.filter((F=>F.root!=g.graveyard)).filter((F=>!Dre(F,_)));I.length&&(Ere(I),w.push(I[0]))}w.length&&h.change((R=>{R.setSelection(w,{backward:s})}))}_undo(i,s){const c=this.editor.model,h=c.document;this._createdBatches.add(s);const g=i.operations.slice().filter((w=>w.isDocumentOperation));g.reverse();for(const w of g){const k=w.baseVersion+1,_=Array.from(h.history.getOperations(k)),R=Fx([w.getReversed()],_,{useRelations:!0,document:this.editor.model.document,forceWeakRemove:!0}).operationsA;for(let I of R){const F=I.affectedSelectable;F&&!c.canEditAt(F)&&(I=new wr(I.baseVersion)),s.addOperation(I),c.applyOperation(I),h.history.setOperationAsUndone(w,I)}}}}function Ere(u){u.sort(((i,s)=>i.start.isBefore(s.start)?-1:1));for(let i=1;i<u.length;i++){const s=u[i-1].getJoined(u[i],!0);s&&(i--,u.splice(i,2,s))}}function Dre(u,i){return i.some((s=>s!==u&&s.containsRange(u,!0)))}class Mre extends NL{execute(i=null){const s=i?this._stack.findIndex((g=>g.batch==i)):this._stack.length-1,c=this._stack.splice(s,1)[0],h=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(h,(()=>{this._undo(c.batch,h);const g=this.editor.model.document.history.getOperations(c.batch.baseVersion);this._restoreSelection(c.selection.ranges,c.selection.isBackward,g)})),this.fire("revert",c.batch,h),this.refresh()}}class Tre extends NL{execute(){const i=this._stack.pop(),s=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(s,(()=>{const c=i.batch.operations[i.batch.operations.length-1].baseVersion+1,h=this.editor.model.document.history.getOperations(c);this._restoreSelection(i.selection.ranges,i.selection.isBackward,h),this._undo(i.batch,s)})),this.refresh()}}class Rre extends Ve{constructor(){super(...arguments),this._batchRegistry=new WeakSet}static get pluginName(){return"UndoEditing"}init(){const i=this.editor,s=i.t;this._undoCommand=new Mre(i),this._redoCommand=new Tre(i),i.commands.add("undo",this._undoCommand),i.commands.add("redo",this._redoCommand),this.listenTo(i.model,"applyOperation",((c,h)=>{const g=h[0];if(!g.isDocumentOperation)return;const w=g.batch,k=this._redoCommand.createdBatches.has(w),_=this._undoCommand.createdBatches.has(w);this._batchRegistry.has(w)||(this._batchRegistry.add(w),w.isUndoable&&(k?this._undoCommand.addBatch(w):_||(this._undoCommand.addBatch(w),this._redoCommand.clearStack())))}),{priority:"highest"}),this.listenTo(this._undoCommand,"revert",((c,h,g)=>{this._redoCommand.addBatch(g)})),i.keystrokes.set("CTRL+Z","undo"),i.keystrokes.set("CTRL+Y","redo"),i.keystrokes.set("CTRL+SHIFT+Z","redo"),i.accessibility.addKeystrokeInfos({keystrokes:[{label:s("Undo"),keystroke:"CTRL+Z"},{label:s("Redo"),keystroke:[["CTRL+Y"],["CTRL+SHIFT+Z"]]}]})}}class Pre extends Ve{static get pluginName(){return"UndoUI"}init(){const i=this.editor,s=i.locale,c=i.t,h=s.uiLanguageDirection=="ltr"?Dt.undo:Dt.redo,g=s.uiLanguageDirection=="ltr"?Dt.redo:Dt.undo;this._addButtonsToFactory("undo",c("Undo"),"CTRL+Z",h),this._addButtonsToFactory("redo",c("Redo"),"CTRL+Y",g)}_addButtonsToFactory(i,s,c,h){const g=this.editor;g.ui.componentFactory.add(i,(()=>{const w=this._createButton(Ut,i,s,c,h);return w.set({tooltip:!0}),w})),g.ui.componentFactory.add("menuBar:"+i,(()=>this._createButton(fs,i,s,c,h)))}_createButton(i,s,c,h,g){const w=this.editor,k=w.locale,_=w.commands.get(s),R=new i(k);return R.set({label:c,icon:g,keystroke:h}),R.bind("isEnabled").to(_,"isEnabled"),this.listenTo(R,"execute",(()=>{w.execute(s),w.editing.view.focus()})),R}}class OL extends Ve{static get requires(){return[Rre,Pre]}static get pluginName(){return"Undo"}}class Ire extends et(){constructor(){super();const i=new window.FileReader;this._reader=i,this._data=void 0,this.set("loaded",0),i.onprogress=s=>{this.loaded=s.loaded}}get error(){return this._reader.error}get data(){return this._data}read(i){const s=this._reader;return this.total=i.size,new Promise(((c,h)=>{s.onload=()=>{const g=s.result;this._data=g,c(g)},s.onerror=()=>{h("error")},s.onabort=()=>{h("aborted")},this._reader.readAsDataURL(i)}))}abort(){this._reader.abort()}}class Va extends Ve{constructor(){super(...arguments),this.loaders=new An,this._loadersMap=new Map,this._pendingAction=null}static get pluginName(){return"FileRepository"}static get requires(){return[Jf]}init(){this.loaders.on("change",(()=>this._updatePendingAction())),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",((i,s)=>s?i/s*100:0))}getLoader(i){return this._loadersMap.get(i)||null}createLoader(i){if(!this.createUploadAdapter)return K("filerepository-no-upload-adapter"),null;const s=new FL(Promise.resolve(i),this.createUploadAdapter);return this.loaders.add(s),this._loadersMap.set(i,s),i instanceof Promise&&s.file.then((c=>{this._loadersMap.set(c,s)})).catch((()=>{})),s.on("change:uploaded",(()=>{let c=0;for(const h of this.loaders)c+=h.uploaded;this.uploaded=c})),s.on("change:uploadTotal",(()=>{let c=0;for(const h of this.loaders)h.uploadTotal&&(c+=h.uploadTotal);this.uploadTotal=c})),s}destroyLoader(i){const s=i instanceof FL?i:this.getLoader(i);s._destroy(),this.loaders.remove(s),this._loadersMap.forEach(((c,h)=>{c===s&&this._loadersMap.delete(h)}))}_updatePendingAction(){const i=this.editor.plugins.get(Jf);if(this.loaders.length){if(!this._pendingAction){const s=this.editor.t,c=h=>`${s("Upload in progress")} ${parseInt(h)}%.`;this._pendingAction=i.add(c(this.uploadedPercent)),this._pendingAction.bind("message").to(this,"uploadedPercent",c)}}else i.remove(this._pendingAction),this._pendingAction=null}}class FL extends et(){constructor(i,s){super(),this.id=L(),this._filePromiseWrapper=this._createFilePromiseWrapper(i),this._adapter=s(this),this._reader=new Ire,this.set("status","idle"),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",((c,h)=>h?c/h*100:0)),this.set("uploadResponse",null)}get file(){return this._filePromiseWrapper?this._filePromiseWrapper.promise.then((i=>this._filePromiseWrapper?i:null)):Promise.resolve(null)}get data(){return this._reader.data}read(){if(this.status!="idle")throw new z("filerepository-read-wrong-status",this);return this.status="reading",this.file.then((i=>this._reader.read(i))).then((i=>{if(this.status!=="reading")throw this.status;return this.status="idle",i})).catch((i=>{throw i==="aborted"?(this.status="aborted","aborted"):(this.status="error",this._reader.error?this._reader.error:i)}))}upload(){if(this.status!="idle")throw new z("filerepository-upload-wrong-status",this);return this.status="uploading",this.file.then((()=>this._adapter.upload())).then((i=>(this.uploadResponse=i,this.status="idle",i))).catch((i=>{throw this.status==="aborted"?"aborted":(this.status="error",i)}))}abort(){const i=this.status;this.status="aborted",this._filePromiseWrapper.isFulfilled?i=="reading"?this._reader.abort():i=="uploading"&&this._adapter.abort&&this._adapter.abort():(this._filePromiseWrapper.promise.catch((()=>{})),this._filePromiseWrapper.rejecter("aborted")),this._destroy()}_destroy(){this._filePromiseWrapper=void 0,this._reader=void 0,this._adapter=void 0,this.uploadResponse=void 0}_createFilePromiseWrapper(i){const s={};return s.promise=new Promise(((c,h)=>{s.rejecter=h,s.isFulfilled=!1,i.then((g=>{s.isFulfilled=!0,c(g)})).catch((g=>{s.isFulfilled=!0,h(g)}))})),s}}const LL="ckCsrfToken",BL="abcdefghijklmnopqrstuvwxyz0123456789";function Nre(){let u=(function(c){c=c.toLowerCase();const h=document.cookie.split(";");for(const g of h){const w=g.split("=");if(decodeURIComponent(w[0].trim().toLowerCase())===c)return decodeURIComponent(w[1])}return null})(LL);var i,s;return u&&u.length==40||(u=(function(c){let h="";const g=new Uint8Array(c);window.crypto.getRandomValues(g);for(let w=0;w<g.length;w++){const k=BL.charAt(g[w]%BL.length);h+=Math.random()>.5?k.toUpperCase():k}return h})(40),i=LL,s=u,document.cookie=encodeURIComponent(i)+"="+encodeURIComponent(s)+";path=/"),u}class Ore{constructor(i,s,c){this.loader=i,this.url=s,this.t=c}upload(){return this.loader.file.then((i=>new Promise(((s,c)=>{this._initRequest(),this._initListeners(s,c,i),this._sendRequest(i)}))))}abort(){this.xhr&&this.xhr.abort()}_initRequest(){const i=this.xhr=new XMLHttpRequest;i.open("POST",this.url,!0),i.responseType="json"}_initListeners(i,s,c){const h=this.xhr,g=this.loader,w=(0,this.t)("Cannot upload file:")+` ${c.name}.`;h.addEventListener("error",(()=>s(w))),h.addEventListener("abort",(()=>s())),h.addEventListener("load",(()=>{const k=h.response;if(!k||!k.uploaded)return s(k&&k.error&&k.error.message?k.error.message:w);i({default:k.url})})),h.upload&&h.upload.addEventListener("progress",(k=>{k.lengthComputable&&(g.uploadTotal=k.total,g.uploaded=k.loaded)}))}_sendRequest(i){const s=new FormData;s.append("upload",i),s.append("ckCsrfToken",Nre()),this.xhr.send(s)}}function mh(u,i,s,c){let h,g=null;typeof c=="function"?h=c:(g=u.commands.get(c),h=()=>{u.execute(c)}),u.model.document.on("change:data",((w,k)=>{if(g&&!g.isEnabled||!i.isEnabled)return;const _=sr(u.model.document.selection.getRanges());if(!_.isCollapsed||k.isUndo||!k.isLocal)return;const R=Array.from(u.model.document.differ.getChanges()),I=R[0];if(R.length!=1||I.type!=="insert"||I.name!="$text"||I.length!=1)return;const F=I.position.parent;if(F.is("element","codeBlock")||F.is("element","listItem")&&typeof c!="function"&&!["numberedList","bulletedList","todoList"].includes(c)||g&&g.value===!0)return;const H=F.getChild(0),G=u.model.createRangeOn(H);if(!G.containsRange(_)&&!_.end.isEqual(G.end))return;const W=s.exec(H.data.substr(0,_.end.offset));W&&u.model.enqueueChange((Y=>{const ie=Y.createPositionAt(F,0),de=Y.createPositionAt(F,W[0].length),ge=new xt(ie,de);if(h({match:W})!==!1){Y.remove(ge);const Ce=u.model.document.selection.getFirstRange(),Fe=Y.createRangeIn(F);!F.isEmpty||Fe.isEqual(Ce)||Fe.containsRange(Ce,!0)||Y.remove(F)}ge.detach(),u.model.enqueueChange((()=>{u.plugins.get("Delete").requestUndoOnBackspace()}))}))}))}function Vm(u,i,s,c){let h,g;s instanceof RegExp?h=s:g=s,g=g||(w=>{let k;const _=[],R=[];for(;(k=h.exec(w))!==null&&!(k&&k.length<4);){let{index:I,1:F,2:H,3:G}=k;const W=F+H+G;I+=k[0].length-W.length;const Y=[I,I+F.length],ie=[I+F.length+H.length,I+F.length+H.length+G.length];_.push(Y),_.push(ie),R.push([I+F.length,I+F.length+H.length])}return{remove:_,format:R}}),u.model.document.on("change:data",((w,k)=>{if(k.isUndo||!k.isLocal||!i.isEnabled)return;const _=u.model,R=_.document.selection;if(!R.isCollapsed)return;const I=Array.from(_.document.differ.getChanges()),F=I[0];if(I.length!=1||F.type!=="insert"||F.name!="$text"||F.length!=1)return;const H=R.focus,G=H.parent,{text:W,range:Y}=(function(Ce,Fe){let Xe=Ce.start;return{text:Array.from(Ce.getItems()).reduce(((Rt,Fn)=>!Fn.is("$text")&&!Fn.is("$textProxy")||Fn.getAttribute("code")?(Xe=Fe.createPositionAfter(Fn),""):Rt+Fn.data),""),range:Fe.createRange(Xe,Ce.end)}})(_.createRange(_.createPositionAt(G,0),H),_),ie=g(W),de=jL(Y.start,ie.format,_),ge=jL(Y.start,ie.remove,_);de.length&&ge.length&&_.enqueueChange((Ce=>{if(c(Ce,de)!==!1){for(const Fe of ge.reverse())Ce.remove(Fe);_.enqueueChange((()=>{u.plugins.get("Delete").requestUndoOnBackspace()}))}}))}))}function jL(u,i,s){return i.filter((c=>c[0]!==void 0&&c[1]!==void 0)).map((c=>s.createRange(u.getShiftedBy(c[0]),u.getShiftedBy(c[1]))))}function IA(u,i){return(s,c)=>{if(!u.commands.get(i).isEnabled)return!1;const h=u.model.schema.getValidRanges(c,i);for(const g of h)s.setAttribute(i,!0,g);s.removeSelectionAttribute(i)}}class zL extends Et{constructor(i,s){super(i),this.attributeKey=s}refresh(){const i=this.editor.model,s=i.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=i.schema.checkAttributeInSelection(s.selection,this.attributeKey)}execute(i={}){const s=this.editor.model,c=s.document.selection,h=i.forceValue===void 0?!this.value:i.forceValue;s.change((g=>{if(c.isCollapsed)h?g.setSelectionAttribute(this.attributeKey,!0):g.removeSelectionAttribute(this.attributeKey);else{const w=s.schema.getValidRanges(c.getRanges(),this.attributeKey);for(const k of w)h?g.setAttribute(this.attributeKey,h,k):g.removeAttribute(this.attributeKey,k)}}))}_getValueFromFirstAllowedNode(){const i=this.editor.model,s=i.schema,c=i.document.selection;if(c.isCollapsed)return c.hasAttribute(this.attributeKey);for(const h of c.getRanges())for(const g of h.getItems())if(s.checkAttribute(g,this.attributeKey))return g.hasAttribute(this.attributeKey);return!1}}const Gm="bold";class Fre extends Ve{static get pluginName(){return"BoldEditing"}init(){const i=this.editor,s=this.editor.t;i.model.schema.extend("$text",{allowAttributes:Gm}),i.model.schema.setAttributeProperties(Gm,{isFormatting:!0,copyOnEnter:!0}),i.conversion.attributeToElement({model:Gm,view:"strong",upcastAlso:["b",c=>{const h=c.getStyle("font-weight");return h&&(h=="bold"||Number(h)>=600)?{name:!0,styles:["font-weight"]}:null}]}),i.commands.add(Gm,new zL(i,Gm)),i.keystrokes.set("CTRL+B",Gm),i.accessibility.addKeystrokeInfos({keystrokes:[{label:s("Bold text"),keystroke:"CTRL+B"}]})}}function HL({editor:u,commandName:i,plugin:s,icon:c,label:h,keystroke:g}){return w=>{const k=u.commands.get(i),_=new w(u.locale);return _.set({label:h,icon:c,keystroke:g,isToggleable:!0}),_.bind("isEnabled").to(k,"isEnabled"),s.listenTo(_,"execute",(()=>{u.execute(i),u.editing.view.focus()})),_}}const NA="bold";class Lre extends Ve{static get pluginName(){return"BoldUI"}init(){const i=this.editor,s=i.locale.t,c=i.commands.get(NA),h=HL({editor:i,commandName:NA,plugin:this,icon:Dt.bold,label:s("Bold"),keystroke:"CTRL+B"});i.ui.componentFactory.add(NA,(()=>{const g=h(Ut);return g.set({tooltip:!0}),g.bind("isOn").to(c,"value"),g})),i.ui.componentFactory.add("menuBar:"+NA,(()=>h(fs)))}}var VL=o(4199),Bre={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$e()(VL.A,Bre),VL.A.locals;const Um="italic";class jre extends Ve{static get pluginName(){return"ItalicEditing"}init(){const i=this.editor,s=this.editor.t;i.model.schema.extend("$text",{allowAttributes:Um}),i.model.schema.setAttributeProperties(Um,{isFormatting:!0,copyOnEnter:!0}),i.conversion.attributeToElement({model:Um,view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),i.commands.add(Um,new zL(i,Um)),i.keystrokes.set("CTRL+I",Um),i.accessibility.addKeystrokeInfos({keystrokes:[{label:s("Italic text"),keystroke:"CTRL+I"}]})}}const OA="italic";class zre extends Ve{static get pluginName(){return"ItalicUI"}init(){const i=this.editor,s=i.commands.get(OA),c=i.locale.t,h=HL({editor:i,commandName:OA,plugin:this,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.586 14.633.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>',keystroke:"CTRL+I",label:c("Italic")});i.ui.componentFactory.add(OA,(()=>{const g=h(Ut);return g.set({tooltip:!0}),g.bind("isOn").to(s,"value"),g})),i.ui.componentFactory.add("menuBar:"+OA,(()=>h(fs)))}}class Hre extends Et{refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(i={}){const s=this.editor.model,c=s.schema,h=s.document.selection,g=Array.from(h.getSelectedBlocks()),w=i.forceValue===void 0?!this.value:i.forceValue;s.change((k=>{if(w){const _=g.filter((R=>FA(R)||UL(c,R)));this._applyQuote(k,_)}else this._removeQuote(k,g.filter(FA))}))}_getValue(){const i=sr(this.editor.model.document.selection.getSelectedBlocks());return!(!i||!FA(i))}_checkEnabled(){if(this.value)return!0;const i=this.editor.model.document.selection,s=this.editor.model.schema,c=sr(i.getSelectedBlocks());return!!c&&UL(s,c)}_removeQuote(i,s){GL(i,s).reverse().forEach((c=>{if(c.start.isAtStart&&c.end.isAtEnd)return void i.unwrap(c.start.parent);if(c.start.isAtStart){const g=i.createPositionBefore(c.start.parent);return void i.move(c,g)}c.end.isAtEnd||i.split(c.end);const h=i.createPositionAfter(c.end.parent);i.move(c,h)}))}_applyQuote(i,s){const c=[];GL(i,s).reverse().forEach((h=>{let g=FA(h.start);g||(g=i.createElement("blockQuote"),i.wrap(h,g)),c.push(g)})),c.reverse().reduce(((h,g)=>h.nextSibling==g?(i.merge(i.createPositionAfter(h)),h):g))}}function FA(u){return u.parent.name=="blockQuote"?u.parent:null}function GL(u,i){let s,c=0;const h=[];for(;c<i.length;){const g=i[c],w=i[c+1];s||(s=u.createPositionBefore(g)),w&&g.nextSibling==w||(h.push(u.createRange(s,u.createPositionAfter(g))),s=null),c++}return h}function UL(u,i){const s=u.checkChild(i.parent,"blockQuote"),c=u.checkChild(["$root","blockQuote"],i);return s&&c}class Vre extends Ve{static get pluginName(){return"BlockQuoteEditing"}static get requires(){return[DA,ld]}init(){const i=this.editor,s=i.model.schema;i.commands.add("blockQuote",new Hre(i)),s.register("blockQuote",{inheritAllFrom:"$container"}),i.conversion.elementToElement({model:"blockQuote",view:"blockquote"}),i.model.document.registerPostFixer((w=>{const k=i.model.document.differ.getChanges();for(const _ of k)if(_.type=="insert"){const R=_.position.nodeAfter;if(!R)continue;if(R.is("element","blockQuote")&&R.isEmpty)return w.remove(R),!0;if(R.is("element","blockQuote")&&!s.checkChild(_.position,R))return w.unwrap(R),!0;if(R.is("element")){const I=w.createRangeIn(R);for(const F of I.getItems())if(F.is("element","blockQuote")&&!s.checkChild(w.createPositionBefore(F),F))return w.unwrap(F),!0}}else if(_.type=="remove"){const R=_.position.parent;if(R.is("element","blockQuote")&&R.isEmpty)return w.remove(R),!0}return!1}));const c=this.editor.editing.view.document,h=i.model.document.selection,g=i.commands.get("blockQuote");this.listenTo(c,"enter",((w,k)=>{!h.isCollapsed||!g.value||h.getLastPosition().parent.isEmpty&&(i.execute("blockQuote"),i.editing.view.scrollToTheSelection(),k.preventDefault(),w.stop())}),{context:"blockquote"}),this.listenTo(c,"delete",((w,k)=>{if(k.direction!="backward"||!h.isCollapsed||!g.value)return;const _=h.getLastPosition().parent;_.isEmpty&&!_.previousSibling&&(i.execute("blockQuote"),i.editing.view.scrollToTheSelection(),k.preventDefault(),w.stop())}),{context:"blockquote"})}}var WL=o(8708),Gre={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$e()(WL.A,Gre),WL.A.locals;class Ure extends Ve{static get pluginName(){return"BlockQuoteUI"}init(){const i=this.editor,s=i.commands.get("blockQuote");i.ui.componentFactory.add("blockQuote",(()=>{const c=this._createButton(Ut);return c.set({tooltip:!0}),c.bind("isOn").to(s,"value"),c})),i.ui.componentFactory.add("menuBar:blockQuote",(()=>this._createButton(fs)))}_createButton(i){const s=this.editor,c=s.locale,h=s.commands.get("blockQuote"),g=new i(s.locale),w=c.t;return g.set({label:w("Block quote"),icon:Dt.quote,isToggleable:!0}),g.bind("isEnabled").to(h,"isEnabled"),this.listenTo(g,"execute",(()=>{s.execute("blockQuote"),s.editing.view.focus()})),g}}class Wre extends Ve{static get pluginName(){return"CKBoxUI"}afterInit(){const i=this.editor;if(!i.commands.get("ckbox"))return;const s=i.t,c=i.ui.componentFactory;if(c.add("ckbox",(()=>{const h=this._createButton(Ut);return h.tooltip=!0,h})),c.add("menuBar:ckbox",(()=>this._createButton(fs))),i.plugins.has("ImageInsertUI")){const h=i.plugins.get("ImageInsertUI");h.registerIntegration({name:"assetManager",observable:()=>i.commands.get("ckbox"),buttonViewCreator:()=>{const g=this.editor.ui.componentFactory.create("ckbox");return g.icon=Dt.imageAssetManager,g.bind("label").to(h,"isImageSelected",(w=>s(w?"Replace image with file manager":"Insert image with file manager"))),g},formViewCreator:()=>{const g=this.editor.ui.componentFactory.create("ckbox");return g.icon=Dt.imageAssetManager,g.withText=!0,g.bind("label").to(h,"isImageSelected",(w=>s(w?"Replace with file manager":"Insert with file manager"))),g.on("execute",(()=>{h.dropdownView.isOpen=!1})),g}})}}_createButton(i){const s=this.editor,c=s.locale,h=new i(c),g=s.commands.get("ckbox"),w=c.t;return h.set({label:w("Open file manager"),icon:Dt.browseFiles}),h.bind("isOn","isEnabled").to(g,"value","isEnabled"),h.on("execute",(()=>{s.execute("ckbox")})),h}}var $re=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","#","$","%","*","+",",","-",".",":",";","=","?","@","[","]","^","_","{","|","}","~"],jC=u=>{let i=0;for(let s=0;s<u.length;s++){let c=u[s];i=83*i+$re.indexOf(c)}return i},O2=u=>{let i=u/255;return i<=.04045?i/12.92:Math.pow((i+.055)/1.055,2.4)},F2=u=>{let i=Math.max(0,Math.min(1,u));return i<=.0031308?Math.trunc(12.92*i*255+.5):Math.trunc(255*(1.055*Math.pow(i,.4166666666666667)-.055)+.5)},L2=(u,i)=>(s=>s<0?-1:1)(u)*Math.pow(Math.abs(u),i),$L=class extends Error{constructor(u){super(u),this.name="ValidationError",this.message=u}},qre=u=>{if(!u||u.length<6)throw new $L("The blurhash string must be at least 6 characters");let i=jC(u[0]),s=Math.floor(i/9)+1,c=i%9+1;if(u.length!==4+2*c*s)throw new $L(`blurhash length mismatch: length is ${u.length} but it should be ${4+2*c*s}`)},Kre=u=>{let i=u>>8&255,s=255&u;return[O2(u>>16),O2(i),O2(s)]},Yre=(u,i)=>{let s=Math.floor(u/361),c=Math.floor(u/19)%19,h=u%19;return[L2((s-9)/9,2)*i,L2((c-9)/9,2)*i,L2((h-9)/9,2)*i]},Qre=(u,i,s,c)=>{qre(u),c|=1;let h=jC(u[0]),g=Math.floor(h/9)+1,w=h%9+1,k=(jC(u[1])+1)/166,_=new Array(w*g);for(let F=0;F<_.length;F++)if(F===0){let H=jC(u.substring(2,6));_[F]=Kre(H)}else{let H=jC(u.substring(4+2*F,6+2*F));_[F]=Yre(H,k*c)}let R=4*i,I=new Uint8ClampedArray(R*s);for(let F=0;F<s;F++)for(let H=0;H<i;H++){let G=0,W=0,Y=0;for(let Ce=0;Ce<g;Ce++)for(let Fe=0;Fe<w;Fe++){let Xe=Math.cos(Math.PI*H*Fe/i)*Math.cos(Math.PI*F*Ce/s),Ct=_[Fe+Ce*w];G+=Ct[0]*Xe,W+=Ct[1]*Xe,Y+=Ct[2]*Xe}let ie=F2(G),de=F2(W),ge=F2(Y);I[4*H+0+F*R]=ie,I[4*H+1+F*R]=de,I[4*H+2+F*R]=ge,I[4*H+3+F*R]=255}return I},Zre=Object.defineProperty,qL=Object.getOwnPropertySymbols,Xre=Object.prototype.hasOwnProperty,Jre=Object.prototype.propertyIsEnumerable,KL=(u,i,s)=>i in u?Zre(u,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):u[i]=s;function YL(u){const i=[];let s=0;for(const h in u){const g=parseInt(h,10);isNaN(g)||(g>s&&(s=g),i.push(`${u[h]} ${h}w`))}const c=[{srcset:i.join(","),sizes:`(max-width: ${s}px) 100vw, ${s}px`,type:"image/webp"}];return{imageFallbackUrl:u.default,imageSources:c}}const zC=32;function QL({url:u,method:i="GET",data:s,onUploadProgress:c,signal:h,authorization:g}){const w=new XMLHttpRequest;w.open(i,u.toString()),w.setRequestHeader("Authorization",g),w.setRequestHeader("CKBox-Version","CKEditor 5"),w.responseType="json";const k=()=>{w.abort()};return new Promise(((_,R)=>{h.throwIfAborted(),h.addEventListener("abort",k),w.addEventListener("loadstart",(()=>{h.addEventListener("abort",k)})),w.addEventListener("loadend",(()=>{h.removeEventListener("abort",k)})),w.addEventListener("error",(()=>{R()})),w.addEventListener("abort",(()=>{R()})),w.addEventListener("load",(()=>{const I=w.response;if(!I||I.statusCode>=400)return R(I&&I.message);_(I)})),c&&w.upload.addEventListener("progress",(I=>{c(I)})),w.send(s)}))}const eie={"image/gif":"gif","image/jpeg":"jpg","image/png":"png","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"};function tie(u,i){return s=this,c=null,h=function*(){try{const g=yield fetch(u,((w,k)=>{for(var _ in k||(k={}))Xre.call(k,_)&&KL(w,_,k[_]);if(qL)for(var _ of qL(k))Jre.call(k,_)&&KL(w,_,k[_]);return w})({method:"HEAD",cache:"force-cache"},i));return g.ok&&g.headers.get("content-type")||""}catch{return""}},new Promise(((g,w)=>{var k=I=>{try{R(h.next(I))}catch(F){w(F)}},_=I=>{try{R(h.throw(I))}catch(F){w(F)}},R=I=>I.done?g(I.value):Promise.resolve(I.value).then(k,_);R((h=h.apply(s,c)).next())}));var s,c,h}var nie=Object.defineProperty,ZL=Object.getOwnPropertySymbols,rie=Object.prototype.hasOwnProperty,iie=Object.prototype.propertyIsEnumerable,XL=(u,i,s)=>i in u?nie(u,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):u[i]=s,JL=(u,i)=>{for(var s in i||(i={}))rie.call(i,s)&&XL(u,s,i[s]);if(ZL)for(var s of ZL(i))iie.call(i,s)&&XL(u,s,i[s]);return u};class oie extends Et{constructor(i){super(i),this._chosenAssets=new Set,this._wrapper=null,this._initListeners()}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(){this.fire("ckbox:open")}_getValue(){return this._wrapper!==null}_checkEnabled(){const i=this.editor.commands.get("insertImage"),s=this.editor.commands.get("link");return!(!i.isEnabled&&!s.isEnabled)}_prepareOptions(){const i=this.editor.config.get("ckbox");return{theme:i.theme,language:i.language,tokenUrl:i.tokenUrl,serviceOrigin:i.serviceOrigin,forceDemoLabel:i.forceDemoLabel,dialog:{onClose:()=>this.fire("ckbox:close")},assets:{onChoose:s=>this.fire("ckbox:choose",s)}}}_initListeners(){const i=this.editor,s=i.model,c=!i.config.get("ckbox.ignoreDataId");this.on("ckbox",(()=>{this.refresh()}),{priority:"low"}),this.on("ckbox:open",(()=>{this.isEnabled&&!this.value&&(this._wrapper=ft(document,"div",{class:"ck ckbox-wrapper"}),document.body.appendChild(this._wrapper),window.CKBox.mount(this._wrapper,this._prepareOptions()))})),this.on("ckbox:close",(()=>{this.value&&(this._wrapper.remove(),this._wrapper=null,i.editing.view.focus())})),this.on("ckbox:choose",((h,g)=>{if(!this.isEnabled)return;const w=i.commands.get("insertImage"),k=i.commands.get("link"),_=(function({assets:I,isImageAllowed:F,isLinkAllowed:H}){return I.map((G=>(function(W){const Y=W.data.metadata;return Y?Y.width&&Y.height:!1})(G)?{id:G.data.id,type:"image",attributes:sie(G)}:{id:G.data.id,type:"link",attributes:aie(G)})).filter((G=>G.type==="image"?F:H))})({assets:g,isImageAllowed:w.isEnabled,isLinkAllowed:k.isEnabled}),R=_.length;R!==0&&(s.change((I=>{for(const F of _){const H=F===_[R-1],G=R===1;this._insertAsset(F,H,I,G),c&&(setTimeout((()=>this._chosenAssets.delete(F)),1e3),this._chosenAssets.add(F))}})),i.editing.view.focus())})),this.listenTo(i,"destroy",(()=>{this.fire("ckbox:close"),this._chosenAssets.clear()}))}_insertAsset(i,s,c,h){const g=this.editor.model.document.selection;c.removeSelectionAttribute("linkHref"),i.type==="image"?this._insertImage(i):this._insertLink(i,c,h),s||c.setSelection(g.getLastPosition())}_insertImage(i){const s=this.editor,{imageFallbackUrl:c,imageSources:h,imageTextAlternative:g,imageWidth:w,imageHeight:k,imagePlaceholder:_}=i.attributes;s.execute("insertImage",{source:JL({src:c,sources:h,alt:g,width:w,height:k},_?{placeholder:_}:null)})}_insertLink(i,s,c){const h=this.editor,g=h.model,w=g.document.selection,{linkName:k,linkHref:_}=i.attributes;if(w.isCollapsed){const R=Ns(w.getAttributes()),I=s.createText(k,R);if(!c){const H=w.getLastPosition(),G=H.parent;G.name==="paragraph"&&G.isEmpty||h.execute("insertParagraph",{position:H});const W=g.insertContent(I);return s.setSelection(W),void h.execute("link",_)}const F=g.insertContent(I);s.setSelection(F)}h.execute("link",_)}}function sie(u){const{imageFallbackUrl:i,imageSources:s}=YL(u.data.imageUrls),{description:c,width:h,height:g,blurHash:w}=u.data.metadata,k=(function(_){if(_)try{const R=`${zC}px`,I=document.createElement("canvas");I.setAttribute("width",R),I.setAttribute("height",R);const F=I.getContext("2d");if(!F)return;const H=F.createImageData(zC,zC),G=Qre(_,zC,zC);return H.data.set(G),F.putImageData(H,0,0),I.toDataURL()}catch{return}})(w);return JL({imageFallbackUrl:i,imageSources:s,imageTextAlternative:c||"",imageWidth:h,imageHeight:g},k?{imagePlaceholder:k}:null)}function aie(u){return{linkName:u.data.name,linkHref:lie(u)}}function lie(u){const i=new URL(u.data.url);return i.searchParams.set("download","true"),i.toString()}var B2=(u,i,s)=>new Promise(((c,h)=>{var g=_=>{try{k(s.next(_))}catch(R){h(R)}},w=_=>{try{k(s.throw(_))}catch(R){h(R)}},k=_=>_.done?c(_.value):Promise.resolve(_.value).then(g,w);k((s=s.apply(u,i)).next())}));class e5 extends Ve{static get pluginName(){return"CKBoxUtils"}static get requires(){return["CloudServices"]}init(){return B2(this,null,(function*(){const i=this.editor,s=!!i.config.get("ckbox"),c=!!window.CKBox;if(!s&&!c)return;i.config.define("ckbox",{serviceOrigin:"https://api.ckbox.io",defaultUploadCategories:null,ignoreDataId:!1,language:i.locale.uiLanguage,theme:"lark",tokenUrl:i.config.get("cloudServices.tokenUrl")});const h=i.plugins.get("CloudServices"),g=i.config.get("cloudServices.tokenUrl"),w=i.config.get("ckbox.tokenUrl");if(!w)throw new z("ckbox-plugin-missing-token-url",this);this._token=w==g?h.token:yield h.registerTokenUrl(w)}))}getToken(){return this._token}getWorkspaceId(){const i=(0,this.editor.t)("Cannot access default workspace."),s=this.editor.config.get("ckbox.defaultUploadWorkspaceId"),c=(function(h,g){const[,w]=h.value.split("."),k=JSON.parse(atob(w)),_=k.auth&&k.auth.ckbox&&k.auth.ckbox.workspaces||[k.aud];return g?(k.auth&&k.auth.ckbox&&k.auth.ckbox.role)=="superadmin"||_.includes(g)?g:null:_[0]})(this._token,s);if(c==null)throw te("ckbox-access-default-workspace-error"),i;return c}getCategoryIdForFile(i,s){return B2(this,null,(function*(){const c=(0,this.editor.t)("Cannot determine a category for the uploaded file."),h=this.editor.config.get("ckbox.defaultUploadCategories"),g=this._getAvailableCategories(s),w=typeof i=="string"?(k=yield tie(i,s),eie[k]):(function(I){const F=I.name,H=new RegExp("\\.(?<ext>[^.]+)$");return F.match(H).groups.ext.toLowerCase()})(i);var k;const _=yield g;if(!_)throw c;if(h){const I=Object.keys(h).find((F=>h[F].find((H=>H.toLowerCase()==w))));if(I){const F=_.find((H=>H.id===I||H.name===I));if(!F)throw c;return F.id}}const R=_.find((I=>I.extensions.find((F=>F.toLowerCase()==w))));if(!R)throw c;return R.id}))}_getAvailableCategories(i){return B2(this,null,(function*(){const s=this.editor,c=this._token,{signal:h}=i,g=s.config.get("ckbox.serviceOrigin"),w=this.getWorkspaceId();try{const _=[];let R,I=0;do{const F=yield k(I);_.push(...F.items),R=F.totalCount-(I+50),I+=50}while(R>0);return _}catch{return h.throwIfAborted(),void te("ckbox-fetch-category-http-error")}function k(_){const R=new URL("categories",g);return R.searchParams.set("limit","50"),R.searchParams.set("offset",_.toString()),R.searchParams.set("workspaceId",w),QL({url:R,signal:h,authorization:c.value})}}))}}var j2=(u,i,s)=>new Promise(((c,h)=>{var g=_=>{try{k(s.next(_))}catch(R){h(R)}},w=_=>{try{k(s.throw(_))}catch(R){h(R)}},k=_=>_.done?c(_.value):Promise.resolve(_.value).then(g,w);k((s=s.apply(u,i)).next())}));class cie extends Ve{static get requires(){return["ImageUploadEditing","ImageUploadProgress",Va,t5]}static get pluginName(){return"CKBoxUploadAdapter"}afterInit(){return j2(this,null,(function*(){const i=this.editor,s=!!i.config.get("ckbox"),c=!!window.CKBox;if(!s&&!c)return;const h=i.plugins.get(Va),g=i.plugins.get(e5);h.createUploadAdapter=_=>new die(_,i,g);const w=!i.config.get("ckbox.ignoreDataId"),k=i.plugins.get("ImageUploadEditing");w&&k.on("uploadComplete",((_,{imageElement:R,data:I})=>{i.model.change((F=>{F.setAttribute("ckboxImageId",I.ckboxImageId,R)}))}))}))}}class die{constructor(i,s,c){this.loader=i,this.token=c.getToken(),this.ckboxUtils=c,this.editor=s,this.controller=new AbortController,this.serviceOrigin=s.config.get("ckbox.serviceOrigin")}upload(){return j2(this,null,(function*(){const i=this.ckboxUtils,s=this.editor.t,c=yield this.loader.file,h=yield i.getCategoryIdForFile(c,{signal:this.controller.signal}),g=new URL("assets",this.serviceOrigin),w=new FormData;return g.searchParams.set("workspaceId",i.getWorkspaceId()),w.append("categoryId",h),w.append("file",c),QL({method:"POST",url:g,data:w,onUploadProgress:k=>{k.lengthComputable&&(this.loader.uploadTotal=k.total,this.loader.uploaded=k.loaded)},signal:this.controller.signal,authorization:this.token.value}).then((k=>j2(this,null,(function*(){const _=YL(k.imageUrls);return{ckboxImageId:k.id,default:_.imageFallbackUrl,sources:_.imageSources}})))).catch((()=>{const k=s("Cannot upload file:")+` ${c.name}.`;return Promise.reject(k)}))}))}abort(){this.controller.abort()}}class t5 extends Ve{static get pluginName(){return"CKBoxEditing"}static get requires(){return["LinkEditing","PictureEditing",cie,e5]}init(){const i=this.editor;this._shouldBeInitialised()&&(this._checkImagePlugins(),r5()&&i.commands.add("ckbox",new oie(i)))}afterInit(){const i=this.editor;this._shouldBeInitialised()&&(i.config.get("ckbox.ignoreDataId")||(this._initSchema(),this._initConversion(),this._initFixers()))}_shouldBeInitialised(){return!!this.editor.config.get("ckbox")||r5()}_checkImagePlugins(){const i=this.editor;i.plugins.has("ImageBlockEditing")||i.plugins.has("ImageInlineEditing")||te("ckbox-plugin-image-feature-missing",i)}_initSchema(){const i=this.editor.model.schema;i.extend("$text",{allowAttributes:"ckboxLinkId"}),i.isRegistered("imageBlock")&&i.extend("imageBlock",{allowAttributes:["ckboxImageId","ckboxLinkId"]}),i.isRegistered("imageInline")&&i.extend("imageInline",{allowAttributes:["ckboxImageId","ckboxLinkId"]}),i.addAttributeCheck(((s,c)=>{if(!s.last.getAttribute("linkHref")&&c==="ckboxLinkId")return!1}))}_initConversion(){const i=this.editor;i.conversion.for("downcast").add((c=>{c.on("attribute:ckboxLinkId:imageBlock",((h,g,w)=>{const{writer:k,mapper:_,consumable:R}=w;if(!R.consume(g.item,h.name))return;const I=[..._.toViewElement(g.item).getChildren()].find((F=>F.name==="a"));I&&(g.item.hasAttribute("ckboxLinkId")?k.setAttribute("data-ckbox-resource-id",g.item.getAttribute("ckboxLinkId"),I):k.removeAttribute("data-ckbox-resource-id",I))}),{priority:"low"}),c.on("attribute:ckboxLinkId",((h,g,w)=>{const{writer:k,mapper:_,consumable:R}=w;if(R.consume(g.item,h.name)){if(g.attributeOldValue){const I=n5(k,g.attributeOldValue);k.unwrap(_.toViewRange(g.range),I)}if(g.attributeNewValue){const I=n5(k,g.attributeNewValue);if(g.item.is("selection")){const F=k.document.selection;k.wrap(F.getFirstRange(),I)}else k.wrap(_.toViewRange(g.range),I)}}}),{priority:"low"})})),i.conversion.for("upcast").add((c=>{c.on("element:a",((h,g,w)=>{const{writer:k,consumable:_}=w;if(!g.viewItem.getAttribute("href")||!_.consume(g.viewItem,{attributes:["data-ckbox-resource-id"]}))return;const R=g.viewItem.getAttribute("data-ckbox-resource-id");if(R)if(g.modelRange)for(let I of g.modelRange.getItems())I.is("$textProxy")&&(I=I.textNode),hie(I)&&k.setAttribute("ckboxLinkId",R,I);else{const I=g.modelCursor.nodeBefore||g.modelCursor.parent;k.setAttribute("ckboxLinkId",R,I)}}),{priority:"low"})})),i.conversion.for("downcast").attributeToAttribute({model:"ckboxImageId",view:"data-ckbox-resource-id"}),i.conversion.for("upcast").elementToAttribute({model:{key:"ckboxImageId",value:c=>c.getAttribute("data-ckbox-resource-id")},view:{attributes:{"data-ckbox-resource-id":/[\s\S]+/}}});const s=i.commands.get("replaceImageSource");s&&this.listenTo(s,"cleanupImage",((c,[h,g])=>{h.removeAttribute("ckboxImageId",g)}))}_initFixers(){const i=this.editor,s=i.model,c=s.document.selection;s.document.registerPostFixer((function(h){return g=>{let w=!1;const k=h.model,_=h.commands.get("ckbox");if(!_)return w;for(const R of k.document.differ.getChanges()){if(R.type!=="insert"&&R.type!=="attribute")continue;const I=R.type==="insert"?new Se(R.position,R.position.getShiftedBy(R.length)):R.range,F=R.type==="attribute"&&R.attributeKey==="linkHref"&&R.attributeNewValue===null;for(const H of I.getItems()){if(F&&H.hasAttribute("ckboxLinkId")){g.removeAttribute("ckboxLinkId",H),w=!0;continue}const G=uie(H,_._chosenAssets);for(const W of G){const Y=W.type==="image"?"ckboxImageId":"ckboxLinkId";W.id!==H.getAttribute(Y)&&(g.setAttribute(Y,W.id,H),w=!0)}}}return w}})(i)),s.document.registerPostFixer((function(h){return g=>!(h.hasAttribute("linkHref")||!h.hasAttribute("ckboxLinkId"))&&(g.removeSelectionAttribute("ckboxLinkId"),!0)})(c))}}function uie(u,i){const s=u.is("element","imageInline")||u.is("element","imageBlock"),c=u.hasAttribute("linkHref");return[...i].filter((h=>h.type==="image"&&s?h.attributes.imageFallbackUrl===u.getAttribute("src"):h.type==="link"&&c?h.attributes.linkHref===u.getAttribute("linkHref"):void 0))}function n5(u,i){const s=u.createAttributeElement("a",{"data-ckbox-resource-id":i},{priority:5});return u.setCustomProperty("link",!0,s),s}function hie(u){return!!u.is("$text")||!(!u.is("element","imageInline")&&!u.is("element","imageBlock"))}function r5(){return!!window.CKBox}var i5=o(1866),fie={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$e()(i5.A,fie),i5.A.locals;class pie extends Ve{static get pluginName(){return"CKFinderUI"}init(){const i=this.editor,s=i.ui.componentFactory,c=i.t;if(s.add("ckfinder",(h=>{const g=this._createButton(Ut),w=h.t;return g.set({label:w("Insert image or file"),tooltip:!0}),g})),s.add("menuBar:ckfinder",(h=>{const g=this._createButton(fs),w=h.t;return g.label=w("Image or file"),g})),i.plugins.has("ImageInsertUI")){const h=i.plugins.get("ImageInsertUI");h.registerIntegration({name:"assetManager",observable:()=>i.commands.get("ckfinder"),buttonViewCreator:()=>{const g=this.editor.ui.componentFactory.create("ckfinder");return g.icon=Dt.imageAssetManager,g.bind("label").to(h,"isImageSelected",(w=>c(w?"Replace image with file manager":"Insert image with file manager"))),g},formViewCreator:()=>{const g=this.editor.ui.componentFactory.create("ckfinder");return g.icon=Dt.imageAssetManager,g.withText=!0,g.bind("label").to(h,"isImageSelected",(w=>c(w?"Replace with file manager":"Insert with file manager"))),g.on("execute",(()=>{h.dropdownView.isOpen=!1})),g}})}}_createButton(i){const s=this.editor,c=new i(s.locale),h=s.commands.get("ckfinder");return c.icon=Dt.browseFiles,c.bind("isEnabled").to(h),c.on("execute",(()=>{s.execute("ckfinder"),s.editing.view.focus()})),c}}class gie extends Et{constructor(i){super(i),this.affectsData=!1,this.stopListening(this.editor.model.document,"change"),this.listenTo(this.editor.model.document,"change",(()=>this.refresh()),{priority:"low"})}refresh(){const i=this.editor.commands.get("insertImage"),s=this.editor.commands.get("link");this.isEnabled=i.isEnabled||s.isEnabled}execute(){const i=this.editor,s=this.editor.config.get("ckfinder.openerMethod")||"modal";if(s!="popup"&&s!="modal")throw new z("ckfinder-unknown-openermethod",i);const c=this.editor.config.get("ckfinder.options")||{};c.chooseFiles=!0;const h=c.onInit;c.language||(c.language=i.locale.uiLanguage),c.onInit=g=>{h&&h(g),g.on("files:choose",(w=>{const k=w.data.files.toArray(),_=k.filter((F=>!F.isImage())),R=k.filter((F=>F.isImage()));for(const F of _)i.execute("link",F.getUrl());const I=[];for(const F of R){const H=F.getUrl();I.push(H||g.request("file:getProxyUrl",{file:F}))}I.length&&o5(i,I)})),g.on("file:choose:resizedImage",(w=>{const k=w.data.resizedUrl;if(k)o5(i,[k]);else{const _=i.plugins.get("Notification"),R=i.locale.t;_.showWarning(R("Could not obtain resized image URL."),{title:R("Selecting resized image failed"),namespace:"ckfinder"})}}))},window.CKFinder[s](c)}}function o5(u,i){if(u.commands.get("insertImage").isEnabled)u.execute("insertImage",{source:i});else{const s=u.plugins.get("Notification"),c=u.locale.t;s.showWarning(c("Could not insert image at the current position."),{title:c("Inserting image failed"),namespace:"ckfinder"})}}class mie extends Ve{static get pluginName(){return"CKFinderEditing"}static get requires(){return[A2,"LinkEditing"]}init(){const i=this.editor;if(!i.plugins.has("ImageBlockEditing")&&!i.plugins.has("ImageInlineEditing"))throw new z("ckfinder-missing-image-plugin",i);i.commands.add("ckfinder",new gie(i))}}class bie extends Ve{static get pluginName(){return"CloudServicesUploadAdapter"}static get requires(){return["CloudServices",Va]}init(){const i=this.editor,s=i.plugins.get("CloudServices"),c=s.token,h=s.uploadUrl;if(!c)return;const g=i.plugins.get("CloudServicesCore");this._uploadGateway=g.createUploadGateway(c,h),i.plugins.get(Va).createUploadAdapter=w=>new vie(this._uploadGateway,w)}}class vie{constructor(i,s){this.uploadGateway=i,this.loader=s}upload(){return this.loader.file.then((i=>(this.fileUploader=this.uploadGateway.upload(i),this.fileUploader.on("progress",((s,c)=>{this.loader.uploadTotal=c.total,this.loader.uploaded=c.uploaded})),this.fileUploader.send())))}abort(){this.fileUploader.abort()}}class wie extends Et{constructor(i){super(i),this._isEnabledBasedOnSelection=!1}refresh(){const i=this.editor.model,s=sr(i.document.selection.getSelectedBlocks());this.value=!!s&&s.is("element","paragraph"),this.isEnabled=!!s&&s5(s,i.schema)}execute(i={}){const s=this.editor.model,c=s.document,h=i.selection||c.selection;s.canEditAt(h)&&s.change((g=>{const w=h.getSelectedBlocks();for(const k of w)!k.is("element","paragraph")&&s5(k,s.schema)&&g.rename(k,"paragraph")}))}}function s5(u,i){return i.checkChild(u.parent,"paragraph")&&!i.isObject(u)}class Cie extends Et{constructor(i){super(i),this._isEnabledBasedOnSelection=!1}execute(i){const s=this.editor.model,c=i.attributes;let h=i.position;s.canEditAt(h)&&s.change((g=>{if(h=this._findPositionToInsertParagraph(h,g),!h)return;const w=g.createElement("paragraph");c&&s.schema.setAllowedAttributes(w,c,g),s.insertContent(w,h),g.setSelection(w,"in")}))}_findPositionToInsertParagraph(i,s){const c=this.editor.model;if(c.schema.checkChild(i,"paragraph"))return i;const h=c.schema.findAllowedParent(i,"paragraph");if(!h)return null;const g=i.parent,w=c.schema.checkChild(g,"$text");return g.isEmpty||w&&i.isAtEnd?c.createPositionAfter(g):!g.isEmpty&&w&&i.isAtStart?c.createPositionBefore(g):s.split(i,h).position}}const a5=class extends Ve{static get pluginName(){return"Paragraph"}init(){const u=this.editor,i=u.model;u.commands.add("paragraph",new wie(u)),u.commands.add("insertParagraph",new Cie(u)),i.schema.register("paragraph",{inheritAllFrom:"$block"}),u.conversion.elementToElement({model:"paragraph",view:"p"}),u.conversion.for("upcast").elementToElement({model:(s,{writer:c})=>a5.paragraphLikeElements.has(s.name)?s.isEmpty?null:c.createElement("paragraph"):null,view:/.+/,converterPriority:"low"})}};let z2=a5;z2.paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td","th"]);class yie extends Et{constructor(i,s){super(i),this.modelElements=s}refresh(){const i=sr(this.editor.model.document.selection.getSelectedBlocks());this.value=!!i&&this.modelElements.includes(i.name)&&i.name,this.isEnabled=!!i&&this.modelElements.some((s=>l5(i,s,this.editor.model.schema)))}execute(i){const s=this.editor.model,c=s.document,h=i.value;s.change((g=>{const w=Array.from(c.selection.getSelectedBlocks()).filter((k=>l5(k,h,s.schema)));for(const k of w)k.is("element",h)||g.rename(k,h)}))}}function l5(u,i,s){return s.checkChild(u.parent,i)&&!s.isObject(u)}const c5="paragraph";class kie extends Ve{static get pluginName(){return"HeadingEditing"}constructor(i){super(i),i.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]})}static get requires(){return[z2]}init(){const i=this.editor,s=i.config.get("heading.options"),c=[];for(const h of s)h.model!=="paragraph"&&(i.model.schema.register(h.model,{inheritAllFrom:"$block"}),i.conversion.elementToElement(h),c.push(h.model));this._addDefaultH1Conversion(i),i.commands.add("heading",new yie(i,c))}afterInit(){const i=this.editor,s=i.commands.get("enter"),c=i.config.get("heading.options");s&&this.listenTo(s,"afterExecute",((h,g)=>{const w=i.model.document.selection.getFirstPosition().parent;c.some((k=>w.is("element",k.model)))&&!w.is("element",c5)&&w.childCount===0&&g.writer.rename(w,c5)}))}_addDefaultH1Conversion(i){i.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:V.low+1})}}var d5=o(6269),xie={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$e()(d5.A,xie),d5.A.locals;class Aie extends Ve{static get pluginName(){return"HeadingUI"}init(){const i=this.editor,s=i.t,c=(function(w){const k=w.t,_={Paragraph:k("Paragraph"),"Heading 1":k("Heading 1"),"Heading 2":k("Heading 2"),"Heading 3":k("Heading 3"),"Heading 4":k("Heading 4"),"Heading 5":k("Heading 5"),"Heading 6":k("Heading 6")};return w.config.get("heading.options").map((R=>{const I=_[R.title];return I&&I!=R.title&&(R.title=I),R}))})(i),h=s("Choose heading"),g=s("Heading");i.ui.componentFactory.add("heading",(w=>{const k={},_=new An,R=i.commands.get("heading"),I=i.commands.get("paragraph"),F=[R];for(const G of c){const W={type:"button",model:new J4({label:G.title,class:G.class,role:"menuitemradio",withText:!0})};G.model==="paragraph"?(W.model.bind("isOn").to(I,"value"),W.model.set("commandName","paragraph"),F.push(I)):(W.model.bind("isOn").to(R,"value",(Y=>Y===G.model)),W.model.set({commandName:"heading",commandValue:G.model})),_.add(W),k[G.model]=G.title}const H=sd(w);return k4(H,_,{ariaLabel:g,role:"menu"}),H.buttonView.set({ariaLabel:g,ariaLabelledBy:void 0,isOn:!1,withText:!0,tooltip:g}),H.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),H.bind("isEnabled").toMany(F,"isEnabled",((...G)=>G.some((W=>W)))),H.buttonView.bind("label").to(R,"value",I,"value",((G,W)=>{const Y=W?"paragraph":G;return typeof Y=="boolean"?h:k[Y]?k[Y]:h})),H.buttonView.bind("ariaLabel").to(R,"value",I,"value",((G,W)=>{const Y=W?"paragraph":G;return typeof Y=="boolean"?g:k[Y]?`${k[Y]}, ${g}`:g})),this.listenTo(H,"execute",(G=>{const{commandName:W,commandValue:Y}=G.source;i.execute(W,Y?{value:Y}:void 0),i.editing.view.focus()})),H})),i.ui.componentFactory.add("menuBar:heading",(w=>{const k=new jm(w),_=i.commands.get("heading"),R=i.commands.get("paragraph"),I=[_],F=new D2(w);k.set({class:"ck-heading-dropdown"}),F.set({ariaLabel:s("Heading"),role:"menu"}),k.buttonView.set({label:s("Heading")}),k.panelView.children.add(F);for(const H of c){const G=new _2(w,k),W=new fs(w);G.children.add(W),F.items.add(G),W.set({label:H.title,role:"menuitemradio",class:H.class}),W.bind("ariaChecked").to(W,"isOn"),W.delegate("execute").to(k),W.on("execute",(()=>{const Y=H.model==="paragraph"?"paragraph":"heading";i.execute(Y,{value:H.model}),i.editing.view.focus()})),H.model==="paragraph"?(W.bind("isOn").to(R,"value"),I.push(R)):W.bind("isOn").to(_,"value",(Y=>Y===H.model))}return k.bind("isEnabled").toMany(I,"isEnabled",((...H)=>H.some((G=>G)))),k}))}}function u5(u){return u.createContainerElement("figure",{class:"image"},[u.createEmptyElement("img"),u.createSlot("children")])}function h5(u,i){const s=u.plugins.get("ImageUtils"),c=u.plugins.has("ImageInlineEditing")&&u.plugins.has("ImageBlockEditing");return g=>s.isInlineImageView(g)?c&&(g.getStyle("display")=="block"||g.findAncestor(s.isBlockImageView)?"imageBlock":"imageInline")!==i?null:h(g):null;function h(g){const w={name:!0};return g.hasAttribute("src")&&(w.attributes=["src"]),w}}function H2(u,i){const s=sr(i.getSelectedBlocks());return!s||u.isObject(s)||s.isEmpty&&s.name!="listItem"?"imageBlock":"imageInline"}function LA(u){return u&&u.endsWith("px")?parseInt(u):null}function f5(u){const i=LA(u.getStyle("width")),s=LA(u.getStyle("height"));return!(!i||!s)}var Sie=Object.defineProperty,p5=Object.getOwnPropertySymbols,_ie=Object.prototype.hasOwnProperty,Eie=Object.prototype.propertyIsEnumerable,g5=(u,i,s)=>i in u?Sie(u,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):u[i]=s,m5=(u,i)=>{for(var s in i||(i={}))_ie.call(i,s)&&g5(u,s,i[s]);if(p5)for(var s of p5(i))Eie.call(i,s)&&g5(u,s,i[s]);return u};const Die=/^(image|image-inline)$/;class Ho extends Ve{constructor(){super(...arguments),this._domEmitter=new(Ji())}static get pluginName(){return"ImageUtils"}isImage(i){return this.isInlineImage(i)||this.isBlockImage(i)}isInlineImageView(i){return!!i&&i.is("element","img")}isBlockImageView(i){return!!i&&i.is("element","figure")&&i.hasClass("image")}insertImage(i={},s=null,c=null,h={}){const g=this.editor,w=g.model,k=w.document.selection,_=b5(g,s||k,c);i=m5(m5({},Object.fromEntries(k.getAttributes())),i);for(const R in i)w.schema.checkAttribute(_,R)||delete i[R];return w.change((R=>{const{setImageSizes:I=!0}=h,F=R.createElement(_,i);return w.insertObject(F,s,null,{setSelection:"on",findOptimalPosition:s||_=="imageInline"?void 0:"auto"}),F.parent?(I&&this.setImageNaturalSizeAttributes(F),F):null}))}setImageNaturalSizeAttributes(i){const s=i.getAttribute("src");s&&(i.getAttribute("width")||i.getAttribute("height")||this.editor.model.change((c=>{const h=new d.window.Image;this._domEmitter.listenTo(h,"load",(()=>{i.getAttribute("width")||i.getAttribute("height")||this.editor.model.enqueueChange(c.batch,(g=>{g.setAttribute("width",h.naturalWidth,i),g.setAttribute("height",h.naturalHeight,i)})),this._domEmitter.stopListening(h,"load")})),h.src=s})))}getClosestSelectedImageWidget(i){const s=i.getFirstPosition();if(!s)return null;const c=i.getSelectedElement();if(c&&this.isImageWidget(c))return c;let h=s.parent;for(;h;){if(h.is("element")&&this.isImageWidget(h))return h;h=h.parent}return null}getClosestSelectedImageElement(i){const s=i.getSelectedElement();return this.isImage(s)?s:i.getFirstPosition().findAncestor("imageBlock")}getImageWidgetFromImageView(i){return i.findAncestor({classes:Die})}isImageAllowed(){const i=this.editor.model.document.selection;return(function(s,c){if(b5(s,c,null)=="imageBlock"){const g=(function(w,k){const _=uL(w,k),R=_.start.parent;return R.isEmpty&&!R.is("element","$root")?R.parent:R})(c,s.model);if(s.model.schema.checkChild(g,"imageBlock"))return!0}else if(s.model.schema.checkChild(c.focus,"imageInline"))return!0;return!1})(this.editor,i)&&(function(s){return[...s.focus.getAncestors()].every((c=>!c.is("element","imageBlock")))})(i)}toImageWidget(i,s,c){return s.setCustomProperty("image",!0,i),I2(i,s,{label:()=>{const h=this.findViewImgElement(i).getAttribute("alt");return h?`${h} ${c}`:c}})}isImageWidget(i){return!!i.getCustomProperty("image")&&Sr(i)}isBlockImage(i){return!!i&&i.is("element","imageBlock")}isInlineImage(i){return!!i&&i.is("element","imageInline")}findViewImgElement(i){if(this.isInlineImageView(i))return i;const s=this.editor.editing.view;for(const{item:c}of s.createRangeIn(i))if(this.isInlineImageView(c))return c}destroy(){return this._domEmitter.stopListening(),super.destroy()}}function b5(u,i,s){const c=u.model.schema,h=u.config.get("image.insert.type");return u.plugins.has("ImageBlockEditing")?u.plugins.has("ImageInlineEditing")?s||(h==="inline"?"imageInline":h!=="auto"?"imageBlock":i.is("selection")?H2(c,i):c.checkChild(i,"imageInline")?"imageInline":"imageBlock"):"imageBlock":"imageInline"}class Mie extends Et{refresh(){const i=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!i,this.isEnabled&&i.hasAttribute("alt")?this.value=i.getAttribute("alt"):this.value=!1}execute(i){const s=this.editor,c=s.plugins.get("ImageUtils"),h=s.model,g=c.getClosestSelectedImageElement(h.document.selection);h.change((w=>{w.setAttribute("alt",i.newValue,g)}))}}class Tie extends Ve{static get requires(){return[Ho]}static get pluginName(){return"ImageTextAlternativeEditing"}init(){this.editor.commands.add("imageTextAlternative",new Mie(this.editor))}}var v5=o(4062),Rie={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$e()(v5.A,Rie),v5.A.locals;var w5=o(2722),Pie={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$e()(w5.A,Pie),w5.A.locals;class Iie extends st{constructor(i){super(i);const s=this.locale.t;this.focusTracker=new kr,this.keystrokes=new fi,this.labeledInput=this._createLabeledInputView(),this.saveButtonView=this._createButton(s("Save"),Dt.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(s("Cancel"),Dt.cancel,"ck-button-cancel","cancel"),this._focusables=new Mi,this._focusCycler=new Je({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-text-alternative-form","ck-responsive-form"],tabindex:"-1"},children:[this.labeledInput,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),this.keystrokes.listenTo(this.element),ls({view:this}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach((i=>{this._focusables.add(i),this.focusTracker.add(i.element)}))}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createButton(i,s,c,h){const g=new Ut(this.locale);return g.set({label:i,icon:s,tooltip:!0}),g.extendTemplate({attributes:{class:c}}),h&&g.delegate("execute").to(this,h),g}_createLabeledInputView(){const i=this.locale.t,s=new p(this.locale,mA);return s.label=i("Text alternative"),s}}function C5(u){const i=u.editing.view,s=jo.defaultPositions,c=u.plugins.get("ImageUtils");return{target:i.domConverter.mapViewToDom(c.getClosestSelectedImageWidget(i.document.selection)),positions:[s.northArrowSouth,s.northArrowSouthWest,s.northArrowSouthEast,s.southArrowNorth,s.southArrowNorthWest,s.southArrowNorthEast,s.viewportStickyNorth]}}class Nie extends Ve{static get requires(){return[kA]}static get pluginName(){return"ImageTextAlternativeUI"}init(){this._createButton()}destroy(){super.destroy(),this._form&&this._form.destroy()}_createButton(){const i=this.editor,s=i.t;i.ui.componentFactory.add("imageTextAlternative",(c=>{const h=i.commands.get("imageTextAlternative"),g=new Ut(c);return g.set({label:s("Change image text alternative"),icon:Dt.textAlternative,tooltip:!0}),g.bind("isEnabled").to(h,"isEnabled"),g.bind("isOn").to(h,"value",(w=>!!w)),this.listenTo(g,"execute",(()=>{this._showForm()})),g}))}_createForm(){const i=this.editor,s=i.editing.view.document,c=i.plugins.get("ImageUtils");this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new(Fg(Iie))(i.locale),this._form.render(),this.listenTo(this._form,"submit",(()=>{i.execute("imageTextAlternative",{newValue:this._form.labeledInput.fieldView.element.value}),this._hideForm(!0)})),this.listenTo(this._form,"cancel",(()=>{this._hideForm(!0)})),this._form.keystrokes.set("Esc",((h,g)=>{this._hideForm(!0),g()})),this.listenTo(i.ui,"update",(()=>{c.getClosestSelectedImageWidget(s.selection)?this._isVisible&&(function(h){const g=h.plugins.get("ContextualBalloon");if(h.plugins.get("ImageUtils").getClosestSelectedImageWidget(h.editing.view.document.selection)){const w=C5(h);g.updatePosition(w)}})(i):this._hideForm(!0)})),Ls({emitter:this._form,activator:()=>this._isVisible,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideForm()})}_showForm(){if(this._isVisible)return;this._form||this._createForm();const i=this.editor,s=i.commands.get("imageTextAlternative"),c=this._form.labeledInput;this._form.disableCssTransitions(),this._isInBalloon||this._balloon.add({view:this._form,position:C5(i)}),c.fieldView.value=c.fieldView.element.value=s.value||"",this._form.labeledInput.fieldView.select(),this._form.enableCssTransitions()}_hideForm(i=!1){this._isInBalloon&&(this._form.focusTracker.isFocused&&this._form.saveButtonView.focus(),this._balloon.remove(this._form),i&&this.editor.editing.view.focus())}get _isVisible(){return!!this._balloon&&this._balloon.visibleView===this._form}get _isInBalloon(){return!!this._balloon&&this._balloon.hasView(this._form)}}class y5 extends Ve{static get requires(){return[Tie,Nie]}static get pluginName(){return"ImageTextAlternative"}}function k5(u,i){const s=(c,h,g)=>{if(!g.consumable.consume(h.item,c.name))return;const w=g.writer,k=g.mapper.toViewElement(h.item),_=u.findViewImgElement(k);h.attributeNewValue===null?(w.removeAttribute("srcset",_),w.removeAttribute("sizes",_)):h.attributeNewValue&&(w.setAttribute("srcset",h.attributeNewValue,_),w.setAttribute("sizes","100vw",_))};return c=>{c.on(`attribute:srcset:${i}`,s)}}function BA(u,i,s){const c=(h,g,w)=>{if(!w.consumable.consume(g.item,h.name))return;const k=w.writer,_=w.mapper.toViewElement(g.item),R=u.findViewImgElement(_);k.setAttribute(g.attributeKey,g.attributeNewValue||"",R)};return h=>{h.on(`attribute:${s}:${i}`,c)}}class x5 extends Ii{observe(i){this.listenTo(i,"load",((s,c)=>{const h=c.target;this.checkShouldIgnoreEventFromTarget(h)||h.tagName=="IMG"&&this._fireEvents(c)}),{useCapture:!0})}stopObserving(i){this.stopListening(i)}_fireEvents(i){this.isEnabled&&(this.document.fire("layoutChanged"),this.document.fire("imageLoaded",i))}}var Oie=Object.defineProperty,A5=Object.getOwnPropertySymbols,Fie=Object.prototype.hasOwnProperty,Lie=Object.prototype.propertyIsEnumerable,S5=(u,i,s)=>i in u?Oie(u,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):u[i]=s,jA=(u,i)=>{for(var s in i||(i={}))Fie.call(i,s)&&S5(u,s,i[s]);if(A5)for(var s of A5(i))Lie.call(i,s)&&S5(u,s,i[s]);return u};class Bie extends Et{constructor(i){super(i);const s=i.config.get("image.insert.type");i.plugins.has("ImageBlockEditing")||s==="block"&&K("image-block-plugin-required"),i.plugins.has("ImageInlineEditing")||s==="inline"&&K("image-inline-plugin-required")}refresh(){const i=this.editor.plugins.get("ImageUtils");this.isEnabled=i.isImageAllowed()}execute(i){const s=dn(i.source),c=this.editor.model.document.selection,h=this.editor.plugins.get("ImageUtils"),g=Object.fromEntries(c.getAttributes());s.forEach(((w,k)=>{const _=c.getSelectedElement();if(typeof w=="string"&&(w={src:w}),k&&_&&h.isImage(_)){const R=this.editor.model.createPositionAfter(_);h.insertImage(jA(jA({},w),g),R)}else h.insertImage(jA(jA({},w),g))}))}}class jie extends Et{constructor(i){super(i),this.decorate("cleanupImage")}refresh(){const i=this.editor.plugins.get("ImageUtils"),s=this.editor.model.document.selection.getSelectedElement();this.isEnabled=i.isImage(s),this.value=this.isEnabled?s.getAttribute("src"):null}execute(i){const s=this.editor.model.document.selection.getSelectedElement(),c=this.editor.plugins.get("ImageUtils");this.editor.model.change((h=>{h.setAttribute("src",i.source,s),this.cleanupImage(h,s),c.setImageNaturalSizeAttributes(s)}))}cleanupImage(i,s){i.removeAttribute("srcset",s),i.removeAttribute("sizes",s),i.removeAttribute("sources",s),i.removeAttribute("width",s),i.removeAttribute("height",s),i.removeAttribute("alt",s)}}class V2 extends Ve{static get requires(){return[Ho]}static get pluginName(){return"ImageEditing"}init(){const i=this.editor,s=i.conversion;i.editing.view.addObserver(x5),s.for("upcast").attributeToAttribute({view:{name:"img",key:"alt"},model:"alt"}).attributeToAttribute({view:{name:"img",key:"srcset"},model:"srcset"});const c=new Bie(i),h=new jie(i);i.commands.add("insertImage",c),i.commands.add("replaceImageSource",h),i.commands.add("imageInsert",c)}}class _5 extends Ve{static get requires(){return[Ho]}static get pluginName(){return"ImageSizeAttributes"}afterInit(){this._registerSchema(),this._registerConverters("imageBlock"),this._registerConverters("imageInline")}_registerSchema(){this.editor.plugins.has("ImageBlockEditing")&&this.editor.model.schema.extend("imageBlock",{allowAttributes:["width","height"]}),this.editor.plugins.has("ImageInlineEditing")&&this.editor.model.schema.extend("imageInline",{allowAttributes:["width","height"]})}_registerConverters(i){const s=this.editor,c=s.plugins.get("ImageUtils"),h=i==="imageBlock"?"figure":"img";function g(w,k,_,R){w.on(`attribute:${k}:${i}`,((I,F,H)=>{if(!H.consumable.consume(F.item,I.name))return;const G=H.writer,W=H.mapper.toViewElement(F.item),Y=c.findViewImgElement(W);if(F.attributeNewValue!==null?G.setAttribute(_,F.attributeNewValue,Y):G.removeAttribute(_,Y),F.item.hasAttribute("sources"))return;const ie=F.item.hasAttribute("resizedWidth");if(i==="imageInline"&&!ie&&!R)return;const de=F.item.getAttribute("width"),ge=F.item.getAttribute("height");de&&ge&&G.setStyle("aspect-ratio",`${de}/${ge}`,Y)}))}s.conversion.for("upcast").attributeToAttribute({view:{name:h,styles:{width:/.+/}},model:{key:"width",value:w=>f5(w)?LA(w.getStyle("width")):null}}).attributeToAttribute({view:{name:h,key:"width"},model:"width"}).attributeToAttribute({view:{name:h,styles:{height:/.+/}},model:{key:"height",value:w=>f5(w)?LA(w.getStyle("height")):null}}).attributeToAttribute({view:{name:h,key:"height"},model:"height"}),s.conversion.for("editingDowncast").add((w=>{g(w,"width","width",!0),g(w,"height","height",!0)})),s.conversion.for("dataDowncast").add((w=>{g(w,"width","width",!1),g(w,"height","height",!1)}))}}class E5 extends Et{constructor(i,s){super(i),this._modelElementName=s}refresh(){const i=this.editor.plugins.get("ImageUtils"),s=i.getClosestSelectedImageElement(this.editor.model.document.selection);this._modelElementName==="imageBlock"?this.isEnabled=i.isInlineImage(s):this.isEnabled=i.isBlockImage(s)}execute(i={}){const s=this.editor,c=this.editor.model,h=s.plugins.get("ImageUtils"),g=h.getClosestSelectedImageElement(c.document.selection),w=Object.fromEntries(g.getAttributes());return w.src||w.uploadId?c.change((k=>{const{setImageSizes:_=!0}=i,R=Array.from(c.markers).filter((H=>H.getRange().containsItem(g))),I=h.insertImage(w,c.createSelection(g,"on"),this._modelElementName,{setImageSizes:_});if(!I)return null;const F=k.createRangeOn(I);for(const H of R){const G=H.getRange(),W=G.root.rootName!="$graveyard"?G.getJoined(F,!0):F;k.updateMarker(H,{range:W})}return{oldElement:g,newElement:I}})):null}}var D5=o(7378),zie={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$e()(D5.A,zie),D5.A.locals;class M5 extends Ve{static get requires(){return[Ho]}static get pluginName(){return"ImagePlaceholder"}afterInit(){this._setupSchema(),this._setupConversion(),this._setupLoadListener()}_setupSchema(){const i=this.editor.model.schema;i.isRegistered("imageBlock")&&i.extend("imageBlock",{allowAttributes:["placeholder"]}),i.isRegistered("imageInline")&&i.extend("imageInline",{allowAttributes:["placeholder"]})}_setupConversion(){const i=this.editor,s=i.conversion,c=i.plugins.get("ImageUtils");s.for("editingDowncast").add((h=>{h.on("attribute:placeholder",((g,w,k)=>{if(!k.consumable.test(w.item,g.name)||!w.item.is("element","imageBlock")&&!w.item.is("element","imageInline"))return;k.consumable.consume(w.item,g.name);const _=k.writer,R=k.mapper.toViewElement(w.item),I=c.findViewImgElement(R);w.attributeNewValue?(_.addClass("image_placeholder",I),_.setStyle("background-image",`url(${w.attributeNewValue})`,I),_.setCustomProperty("editingPipeline:doNotReuseOnce",!0,I)):(_.removeClass("image_placeholder",I),_.removeStyle("background-image",I))}))}))}_setupLoadListener(){const i=this.editor,s=i.model,c=i.editing,h=c.view,g=i.plugins.get("ImageUtils");h.addObserver(x5),this.listenTo(h.document,"imageLoaded",((w,k)=>{const _=h.domConverter.mapDomToView(k.target);if(!_)return;const R=g.getImageWidgetFromImageView(_);if(!R)return;const I=c.mapper.toModelElement(R);I&&I.hasAttribute("placeholder")&&s.enqueueChange({isUndoable:!1},(F=>{F.removeAttribute("placeholder",I)}))}))}}class T5 extends Ve{static get requires(){return[V2,_5,Ho,M5,qs]}static get pluginName(){return"ImageBlockEditing"}init(){const i=this.editor;i.model.schema.register("imageBlock",{inheritAllFrom:"$blockObject",allowAttributes:["alt","src","srcset"]}),this._setupConversion(),i.plugins.has("ImageInlineEditing")&&(i.commands.add("imageTypeBlock",new E5(this.editor,"imageBlock")),this._setupClipboardIntegration())}_setupConversion(){const i=this.editor,s=i.t,c=i.conversion,h=i.plugins.get("ImageUtils");c.for("dataDowncast").elementToStructure({model:"imageBlock",view:(g,{writer:w})=>u5(w)}),c.for("editingDowncast").elementToStructure({model:"imageBlock",view:(g,{writer:w})=>h.toImageWidget(u5(w),w,s("image widget"))}),c.for("downcast").add(BA(h,"imageBlock","src")).add(BA(h,"imageBlock","alt")).add(k5(h,"imageBlock")),c.for("upcast").elementToElement({view:h5(i,"imageBlock"),model:(g,{writer:w})=>w.createElement("imageBlock",g.hasAttribute("src")?{src:g.getAttribute("src")}:void 0)}).add((function(g){const w=(k,_,R)=>{if(!R.consumable.test(_.viewItem,{name:!0,classes:"image"}))return;const I=g.findViewImgElement(_.viewItem);if(!I||!R.consumable.test(I,{name:!0}))return;R.consumable.consume(_.viewItem,{name:!0,classes:"image"});const F=sr(R.convertItem(I,_.modelCursor).modelRange.getItems());F?(R.convertChildren(_.viewItem,F),R.updateConversionResult(F,_)):R.consumable.revert(_.viewItem,{name:!0,classes:"image"})};return k=>{k.on("element:figure",w)}})(h))}_setupClipboardIntegration(){const i=this.editor,s=i.model,c=i.editing.view,h=i.plugins.get("ImageUtils"),g=i.plugins.get("ClipboardPipeline");this.listenTo(g,"inputTransformation",((w,k)=>{const _=Array.from(k.content.getChildren());let R;if(!_.every(h.isInlineImageView))return;R=k.targetRanges?i.editing.mapper.toModelRange(k.targetRanges[0]):s.document.selection.getFirstRange();const I=s.createSelection(R);if(H2(s.schema,I)==="imageBlock"){const F=new ja(c.document),H=_.map((G=>F.createElement("figure",{class:"image"},G)));k.content=F.createDocumentFragment(H)}})),this.listenTo(g,"contentInsertion",((w,k)=>{k.method==="paste"&&s.change((_=>{const R=_.createRangeIn(k.content);for(const I of R.getItems())I.is("element","imageBlock")&&h.setImageNaturalSizeAttributes(I)}))}))}}var R5=o(3350),Hie={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$e()(R5.A,Hie),R5.A.locals;class Vie extends st{constructor(i,s=[]){super(i),this.focusTracker=new kr,this.keystrokes=new fi,this._focusables=new Mi,this.children=this.createCollection(),this._focusCycler=new Je({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});for(const c of s)this.children.add(c),this._focusables.add(c),c instanceof TC&&this._focusables.addMany(c.children);if(this._focusables.length>1)for(const c of this._focusables)Gie(c)&&(c.focusCycler.on("forwardCycle",(h=>{this._focusCycler.focusNext(),h.stop()})),c.focusCycler.on("backwardCycle",(h=>{this._focusCycler.focusPrevious(),h.stop()})));this.setTemplate({tag:"form",attributes:{class:["ck","ck-image-insert-form"],tabindex:-1},children:this.children})}render(){super.render(),ls({view:this});for(const s of this._focusables)this.focusTracker.add(s.element);this.keystrokes.listenTo(this.element);const i=s=>s.stopPropagation();this.keystrokes.set("arrowright",i),this.keystrokes.set("arrowleft",i),this.keystrokes.set("arrowup",i),this.keystrokes.set("arrowdown",i)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}}function Gie(u){return"focusCycler"in u}class P5 extends Ve{constructor(i){super(i),this._integrations=new Map,i.config.define("image.insert.integrations",["upload","assetManager","url"])}static get pluginName(){return"ImageInsertUI"}static get requires(){return[Ho]}init(){const i=this.editor,s=i.model.document.selection,c=i.plugins.get("ImageUtils");this.set("isImageSelected",!1),this.listenTo(i.model.document,"change",(()=>{this.isImageSelected=c.isImage(s.getSelectedElement())}));const h=g=>this._createToolbarComponent(g);i.ui.componentFactory.add("insertImage",h),i.ui.componentFactory.add("imageInsert",h)}registerIntegration({name:i,observable:s,buttonViewCreator:c,formViewCreator:h,requiresForm:g}){this._integrations.has(i)&&K("image-insert-integration-exists",{name:i}),this._integrations.set(i,{observable:s,buttonViewCreator:c,formViewCreator:h,requiresForm:!!g})}_createToolbarComponent(i){const s=this.editor,c=i.t,h=this._prepareIntegrations();if(!h.length)return null;let g;const w=h[0];if(h.length==1){if(!w.requiresForm)return w.buttonViewCreator(!0);g=w.buttonViewCreator(!0)}else{const R=w.buttonViewCreator(!1);g=new gA(i,R),g.tooltip=!0,g.bind("label").to(this,"isImageSelected",(I=>c(I?"Replace image":"Insert image")))}const k=this.dropdownView=sd(i,g),_=h.map((({observable:R})=>typeof R=="function"?R():R));return k.bind("isEnabled").toMany(_,"isEnabled",((...R)=>R.some((I=>I)))),k.once("change:isOpen",(()=>{const R=h.map((({formViewCreator:F})=>F(h.length==1))),I=new Vie(s.locale,R);k.panelView.children.add(I)})),k}_prepareIntegrations(){const i=this.editor.config.get("image.insert.integrations"),s=[];if(!i.length)return K("image-insert-integrations-not-specified"),s;for(const c of i)this._integrations.has(c)?s.push(this._integrations.get(c)):["upload","assetManager","url"].includes(c)||K("image-insert-unknown-integration",{item:c});return s.length||K("image-insert-integrations-not-registered"),s}}var I5=o(265),Uie={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$e()(I5.A,Uie),I5.A.locals;class Wie extends Ve{static get requires(){return[T5,BC,y5,P5]}static get pluginName(){return"ImageBlock"}}class $ie extends Ve{static get requires(){return[V2,_5,Ho,M5,qs]}static get pluginName(){return"ImageInlineEditing"}init(){const i=this.editor,s=i.model.schema;s.register("imageInline",{inheritAllFrom:"$inlineObject",allowAttributes:["alt","src","srcset"]}),s.addChildCheck(((c,h)=>{if(c.endsWith("caption")&&h.name==="imageInline")return!1})),this._setupConversion(),i.plugins.has("ImageBlockEditing")&&(i.commands.add("imageTypeInline",new E5(this.editor,"imageInline")),this._setupClipboardIntegration())}_setupConversion(){const i=this.editor,s=i.t,c=i.conversion,h=i.plugins.get("ImageUtils");c.for("dataDowncast").elementToElement({model:"imageInline",view:(g,{writer:w})=>w.createEmptyElement("img")}),c.for("editingDowncast").elementToStructure({model:"imageInline",view:(g,{writer:w})=>h.toImageWidget((function(k){return k.createContainerElement("span",{class:"image-inline"},k.createEmptyElement("img"))})(w),w,s("image widget"))}),c.for("downcast").add(BA(h,"imageInline","src")).add(BA(h,"imageInline","alt")).add(k5(h,"imageInline")),c.for("upcast").elementToElement({view:h5(i,"imageInline"),model:(g,{writer:w})=>w.createElement("imageInline",g.hasAttribute("src")?{src:g.getAttribute("src")}:void 0)})}_setupClipboardIntegration(){const i=this.editor,s=i.model,c=i.editing.view,h=i.plugins.get("ImageUtils"),g=i.plugins.get("ClipboardPipeline");this.listenTo(g,"inputTransformation",((w,k)=>{const _=Array.from(k.content.getChildren());let R;if(!_.every(h.isBlockImageView))return;R=k.targetRanges?i.editing.mapper.toModelRange(k.targetRanges[0]):s.document.selection.getFirstRange();const I=s.createSelection(R);if(H2(s.schema,I)==="imageInline"){const F=new ja(c.document),H=_.map((G=>G.childCount===1?(Array.from(G.getAttributes()).forEach((W=>F.setAttribute(...W,h.findViewImgElement(G)))),G.getChild(0)):G));k.content=F.createDocumentFragment(H)}})),this.listenTo(g,"contentInsertion",((w,k)=>{k.method==="paste"&&s.change((_=>{const R=_.createRangeIn(k.content);for(const I of R.getItems())I.is("element","imageInline")&&h.setImageNaturalSizeAttributes(I)}))}))}}class qie extends Ve{static get requires(){return[$ie,BC,y5,P5]}static get pluginName(){return"ImageInline"}}class N5 extends Ve{static get pluginName(){return"ImageCaptionUtils"}static get requires(){return[Ho]}getCaptionFromImageModelElement(i){for(const s of i.getChildren())if(s&&s.is("element","caption"))return s;return null}getCaptionFromModelSelection(i){const s=this.editor.plugins.get("ImageUtils"),c=i.getFirstPosition().findAncestor("caption");return c&&s.isBlockImage(c.parent)?c:null}matchImageCaptionViewElement(i){const s=this.editor.plugins.get("ImageUtils");return i.name=="figcaption"&&s.isBlockImageView(i.parent)?{name:!0}:null}}class Kie extends Et{refresh(){const i=this.editor,s=i.plugins.get("ImageCaptionUtils"),c=i.plugins.get("ImageUtils");if(!i.plugins.has(T5))return this.isEnabled=!1,void(this.value=!1);const h=i.model.document.selection,g=h.getSelectedElement();if(!g){const w=s.getCaptionFromModelSelection(h);return this.isEnabled=!!w,void(this.value=!!w)}this.isEnabled=c.isImage(g),this.isEnabled?this.value=!!s.getCaptionFromImageModelElement(g):this.value=!1}execute(i={}){const{focusCaptionOnShow:s}=i;this.editor.model.change((c=>{this.value?this._hideImageCaption(c):this._showImageCaption(c,s)}))}_showImageCaption(i,s){const c=this.editor.model.document.selection,h=this.editor.plugins.get("ImageCaptionEditing"),g=this.editor.plugins.get("ImageUtils");let w=c.getSelectedElement();const k=h._getSavedCaption(w);g.isInlineImage(w)&&(this.editor.execute("imageTypeBlock"),w=c.getSelectedElement());const _=k||i.createElement("caption");i.append(_,w),s&&i.setSelection(_,"in")}_hideImageCaption(i){const s=this.editor,c=s.model.document.selection,h=s.plugins.get("ImageCaptionEditing"),g=s.plugins.get("ImageCaptionUtils");let w,k=c.getSelectedElement();k?w=g.getCaptionFromImageModelElement(k):(w=g.getCaptionFromModelSelection(c),k=w.parent),h._saveCaption(k,w),i.setSelection(k,"on"),i.remove(w)}}class Yie extends Ve{constructor(i){super(i),this._savedCaptionsMap=new WeakMap}static get requires(){return[Ho,N5]}static get pluginName(){return"ImageCaptionEditing"}init(){const i=this.editor,s=i.model.schema;s.isRegistered("caption")?s.extend("caption",{allowIn:"imageBlock"}):s.register("caption",{allowIn:"imageBlock",allowContentOf:"$block",isLimit:!0}),i.commands.add("toggleImageCaption",new Kie(this.editor)),this._setupConversion(),this._setupImageTypeCommandsIntegration(),this._registerCaptionReconversion()}_setupConversion(){const i=this.editor,s=i.editing.view,c=i.plugins.get("ImageUtils"),h=i.plugins.get("ImageCaptionUtils"),g=i.t;i.conversion.for("upcast").elementToElement({view:w=>h.matchImageCaptionViewElement(w),model:"caption"}),i.conversion.for("dataDowncast").elementToElement({model:"caption",view:(w,{writer:k})=>c.isBlockImage(w.parent)?k.createContainerElement("figcaption"):null}),i.conversion.for("editingDowncast").elementToElement({model:"caption",view:(w,{writer:k})=>{if(!c.isBlockImage(w.parent))return null;const _=k.createEditableElement("figcaption");k.setCustomProperty("imageCaption",!0,_),_.placeholder=g("Enter image caption"),io({view:s,element:_,keepOnFocus:!0});const R=w.parent.getAttribute("alt");return dL(_,k,{label:R?g("Caption for image: %0",[R]):g("Caption for the image")})}})}_setupImageTypeCommandsIntegration(){const i=this.editor,s=i.plugins.get("ImageUtils"),c=i.plugins.get("ImageCaptionUtils"),h=i.commands.get("imageTypeInline"),g=i.commands.get("imageTypeBlock"),w=k=>{if(!k.return)return;const{oldElement:_,newElement:R}=k.return;if(!_)return;if(s.isBlockImage(_)){const F=c.getCaptionFromImageModelElement(_);if(F)return void this._saveCaption(R,F)}const I=this._getSavedCaption(_);I&&this._saveCaption(R,I)};h&&this.listenTo(h,"execute",w,{priority:"low"}),g&&this.listenTo(g,"execute",w,{priority:"low"})}_getSavedCaption(i){const s=this._savedCaptionsMap.get(i);return s?on.fromJSON(s):null}_saveCaption(i,s){this._savedCaptionsMap.set(i,s.toJSON())}_registerCaptionReconversion(){const i=this.editor,s=i.model,c=i.plugins.get("ImageUtils"),h=i.plugins.get("ImageCaptionUtils");s.document.on("change:data",(()=>{const g=s.document.differ.getChanges();for(const w of g){if(w.attributeKey!=="alt")continue;const k=w.range.start.nodeAfter;if(c.isBlockImage(k)){const _=h.getCaptionFromImageModelElement(k);if(!_)return;i.editing.reconvertItem(_)}}}))}}class Qie extends Ve{static get requires(){return[N5]}static get pluginName(){return"ImageCaptionUI"}init(){const i=this.editor,s=i.editing.view,c=i.plugins.get("ImageCaptionUtils"),h=i.t;i.ui.componentFactory.add("toggleImageCaption",(g=>{const w=i.commands.get("toggleImageCaption"),k=new Ut(g);return k.set({icon:Dt.caption,tooltip:!0,isToggleable:!0}),k.bind("isOn","isEnabled").to(w,"value","isEnabled"),k.bind("label").to(w,"value",(_=>h(_?"Toggle caption off":"Toggle caption on"))),this.listenTo(k,"execute",(()=>{i.execute("toggleImageCaption",{focusCaptionOnShow:!0});const _=c.getCaptionFromModelSelection(i.model.document.selection);if(_){const R=i.editing.mapper.toViewElement(_);s.scrollToTheSelection(),s.change((I=>{I.addClass("image__caption_highlighted",R)}))}i.editing.view.focus()})),k}))}}var O5=o(5247),Zie={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$e()(O5.A,Zie),O5.A.locals;function F5(u){const i=u.map((s=>s.replace("+","\\+")));return new RegExp(`^image\\/(${i.join("|")})$`)}function Xie(u){return new Promise(((i,s)=>{const c=u.getAttribute("src");fetch(c).then((h=>h.blob())).then((h=>{const g=L5(h,c),w=g.replace("image/",""),k=new File([h],`image.${w}`,{type:g});i(k)})).catch((h=>h&&h.name==="TypeError"?(function(g){return(function(w){return new Promise(((k,_)=>{const R=d.document.createElement("img");R.addEventListener("load",(()=>{const I=d.document.createElement("canvas");I.width=R.width,I.height=R.height,I.getContext("2d").drawImage(R,0,0),I.toBlob((F=>F?k(F):_()))})),R.addEventListener("error",(()=>_())),R.src=w}))})(g).then((w=>{const k=L5(w,g),_=k.replace("image/","");return new File([w],`image.${_}`,{type:k})}))})(c).then(i).catch(s):s(h)))}))}function L5(u,i){return u.type?u.type:i.match(/data:(image\/\w+);base64/)?i.match(/data:(image\/\w+);base64/)[1].toLowerCase():"image/jpeg"}class Jie extends Ve{static get pluginName(){return"ImageUploadUI"}init(){const i=this.editor,s=i.t,c=()=>{const h=this._createButton(np);return h.set({label:s("Upload image from computer"),tooltip:!0}),h};if(i.ui.componentFactory.add("uploadImage",c),i.ui.componentFactory.add("imageUpload",c),i.ui.componentFactory.add("menuBar:uploadImage",(()=>{const h=this._createButton(_3);return h.label=s("Image from computer"),h})),i.plugins.has("ImageInsertUI")){const h=i.plugins.get("ImageInsertUI");h.registerIntegration({name:"upload",observable:()=>i.commands.get("uploadImage"),buttonViewCreator:()=>{const g=i.ui.componentFactory.create("uploadImage");return g.bind("label").to(h,"isImageSelected",(w=>s(w?"Replace image from computer":"Upload image from computer"))),g},formViewCreator:()=>{const g=i.ui.componentFactory.create("uploadImage");return g.withText=!0,g.bind("label").to(h,"isImageSelected",(w=>s(w?"Replace from computer":"Upload from computer"))),g.on("execute",(()=>{h.dropdownView.isOpen=!1})),g}})}}_createButton(i){const s=this.editor,c=s.locale,h=s.commands.get("uploadImage"),g=s.config.get("image.upload.types"),w=F5(g),k=new i(s.locale),_=c.t;return k.set({acceptedType:g.map((R=>`image/${R}`)).join(","),allowMultipleFiles:!0,label:_("Upload image from computer"),icon:Dt.imageUpload}),k.bind("isEnabled").to(h),k.on("done",((R,I)=>{const F=Array.from(I).filter((H=>w.test(H.type)));F.length&&(s.execute("uploadImage",{file:F}),s.editing.view.focus())})),k}}var B5=o(2267),eoe={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$e()(B5.A,eoe),B5.A.locals;var j5=o(7693),toe={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$e()(j5.A,toe),j5.A.locals;var z5=o(1559),noe={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$e()(z5.A,noe),z5.A.locals;class roe extends Ve{constructor(i){super(i),this.uploadStatusChange=(s,c,h)=>{const g=this.editor,w=c.item,k=w.getAttribute("uploadId");if(!h.consumable.consume(c.item,s.name))return;const _=g.plugins.get("ImageUtils"),R=g.plugins.get(Va),I=k?c.attributeNewValue:null,F=this.placeholder,H=g.editing.mapper.toViewElement(w),G=h.writer;if(I=="reading")return H5(H,G),void V5(_,F,H,G);if(I=="uploading"){const W=R.loaders.get(k);return H5(H,G),void(W?(G5(H,G),(function(Y,ie,de,ge){const Ce=(function(Fe){const Xe=Fe.createUIElement("div",{class:"ck-progress-bar"});return Fe.setCustomProperty("progressBar",!0,Xe),Xe})(ie);ie.insert(ie.createPositionAt(Y,"end"),Ce),de.on("change:uploadedPercent",((Fe,Xe,Ct)=>{ge.change((Rt=>{Rt.setStyle("width",Ct+"%",Ce)}))}))})(H,G,W,g.editing.view),(function(Y,ie,de,ge){if(ge.data){const Ce=Y.findViewImgElement(ie);de.setAttribute("src",ge.data,Ce)}})(_,H,G,W)):V5(_,F,H,G))}I=="complete"&&R.loaders.get(k)&&(function(W,Y,ie){const de=Y.createUIElement("div",{class:"ck-image-upload-complete-icon"});Y.insert(Y.createPositionAt(W,"end"),de),setTimeout((()=>{ie.change((ge=>ge.remove(ge.createRangeOn(de))))}),3e3)})(H,G,g.editing.view),(function(W,Y){W5(W,Y,"progressBar")})(H,G),G5(H,G),(function(W,Y){Y.removeClass("ck-appear",W)})(H,G)},this.placeholder="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}static get pluginName(){return"ImageUploadProgress"}init(){const i=this.editor;i.plugins.has("ImageBlockEditing")&&i.editing.downcastDispatcher.on("attribute:uploadStatus:imageBlock",this.uploadStatusChange),i.plugins.has("ImageInlineEditing")&&i.editing.downcastDispatcher.on("attribute:uploadStatus:imageInline",this.uploadStatusChange)}}function H5(u,i){u.hasClass("ck-appear")||i.addClass("ck-appear",u)}function V5(u,i,s,c){s.hasClass("ck-image-upload-placeholder")||c.addClass("ck-image-upload-placeholder",s);const h=u.findViewImgElement(s);h.getAttribute("src")!==i&&c.setAttribute("src",i,h),U5(s,"placeholder")||c.insert(c.createPositionAfter(h),(function(g){const w=g.createUIElement("div",{class:"ck-upload-placeholder-loader"});return g.setCustomProperty("placeholder",!0,w),w})(c))}function G5(u,i){u.hasClass("ck-image-upload-placeholder")&&i.removeClass("ck-image-upload-placeholder",u),W5(u,i,"placeholder")}function U5(u,i){for(const s of u.getChildren())if(s.getCustomProperty(i))return s}function W5(u,i,s){const c=U5(u,s);c&&i.remove(i.createRangeOn(c))}var ioe=Object.defineProperty,ooe=Object.defineProperties,soe=Object.getOwnPropertyDescriptors,$5=Object.getOwnPropertySymbols,aoe=Object.prototype.hasOwnProperty,loe=Object.prototype.propertyIsEnumerable,q5=(u,i,s)=>i in u?ioe(u,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):u[i]=s;class coe extends Et{refresh(){const i=this.editor,s=i.plugins.get("ImageUtils"),c=i.model.document.selection.getSelectedElement();this.isEnabled=s.isImageAllowed()||s.isImage(c)}execute(i){const s=dn(i.file),c=this.editor.model.document.selection,h=this.editor.plugins.get("ImageUtils"),g=Object.fromEntries(c.getAttributes());s.forEach(((w,k)=>{const _=c.getSelectedElement();if(k&&_&&h.isImage(_)){const R=this.editor.model.createPositionAfter(_);this._uploadImage(w,g,R)}else this._uploadImage(w,g)}))}_uploadImage(i,s,c){const h=this.editor,g=h.plugins.get(Va).createLoader(i),w=h.plugins.get("ImageUtils");var k,_;g&&w.insertImage((k=((R,I)=>{for(var F in I||(I={}))aoe.call(I,F)&&q5(R,F,I[F]);if($5)for(var F of $5(I))loe.call(I,F)&&q5(R,F,I[F]);return R})({},s),_={uploadId:g.id},ooe(k,soe(_))),c)}}class doe extends Ve{constructor(i){super(i),i.config.define("image",{upload:{types:["jpeg","png","gif","bmp","webp","tiff"]}}),this._uploadImageElements=new Map}static get requires(){return[Va,A2,qs,Ho]}static get pluginName(){return"ImageUploadEditing"}init(){const i=this.editor,s=i.model.document,c=i.conversion,h=i.plugins.get(Va),g=i.plugins.get("ImageUtils"),w=i.plugins.get("ClipboardPipeline"),k=F5(i.config.get("image.upload.types")),_=new coe(i);i.commands.add("uploadImage",_),i.commands.add("imageUpload",_),c.for("upcast").attributeToAttribute({view:{name:"img",key:"uploadId"},model:"uploadId"}),this.listenTo(i.editing.view.document,"clipboardInput",((R,I)=>{if(F=I.dataTransfer,Array.from(F.types).includes("text/html")&&F.getData("text/html")!=="")return;var F;const H=Array.from(I.dataTransfer.files).filter((G=>!!G&&k.test(G.type)));H.length&&(R.stop(),i.model.change((G=>{I.targetRanges&&G.setSelection(I.targetRanges.map((W=>i.editing.mapper.toModelRange(W)))),i.execute("uploadImage",{file:H})})))})),this.listenTo(w,"inputTransformation",((R,I)=>{const F=Array.from(i.editing.view.createRangeIn(I.content)).map((G=>G.item)).filter((G=>(function(W,Y){return!(!W.isInlineImageView(Y)||!Y.getAttribute("src")||!Y.getAttribute("src").match(/^data:image\/\w+;base64,/g)&&!Y.getAttribute("src").match(/^blob:/g))})(g,G)&&!G.getAttribute("uploadProcessed"))).map((G=>({promise:Xie(G),imageElement:G})));if(!F.length)return;const H=new ja(i.editing.view.document);for(const G of F){H.setAttribute("uploadProcessed",!0,G.imageElement);const W=h.createLoader(G.promise);W&&(H.setAttribute("src","",G.imageElement),H.setAttribute("uploadId",W.id,G.imageElement))}})),i.editing.view.document.on("dragover",((R,I)=>{I.preventDefault()})),s.on("change",(()=>{const R=s.differ.getChanges({includeChangesInGraveyard:!0}).reverse(),I=new Set;for(const F of R)if(F.type=="insert"&&F.name!="$text"){const H=F.position.nodeAfter,G=F.position.root.rootName=="$graveyard";for(const W of uoe(i,H)){const Y=W.getAttribute("uploadId");if(!Y)continue;const ie=h.loaders.get(Y);ie&&(G?I.has(Y)||ie.abort():(I.add(Y),this._uploadImageElements.set(Y,W),ie.status=="idle"&&this._readAndUpload(ie)))}}})),this.on("uploadComplete",((R,{imageElement:I,data:F})=>{const H=F.urls?F.urls:F;this.editor.model.change((G=>{G.setAttribute("src",H.default,I),this._parseAndSetSrcsetAttributeOnImage(H,I,G),g.setImageNaturalSizeAttributes(I)}))}),{priority:"low"})}afterInit(){const i=this.editor.model.schema;this.editor.plugins.has("ImageBlockEditing")&&i.extend("imageBlock",{allowAttributes:["uploadId","uploadStatus"]}),this.editor.plugins.has("ImageInlineEditing")&&i.extend("imageInline",{allowAttributes:["uploadId","uploadStatus"]})}_readAndUpload(i){const s=this.editor,c=s.model,h=s.locale.t,g=s.plugins.get(Va),w=s.plugins.get(A2),k=s.plugins.get("ImageUtils"),_=this._uploadImageElements;return c.enqueueChange({isUndoable:!1},(I=>{I.setAttribute("uploadStatus","reading",_.get(i.id))})),i.read().then((()=>{const I=i.upload(),F=_.get(i.id);if(v.isSafari){const H=s.editing.mapper.toViewElement(F),G=k.findViewImgElement(H);s.editing.view.once("render",(()=>{if(!G.parent)return;const W=s.editing.view.domConverter.mapViewToDom(G.parent);if(!W)return;const Y=W.style.display;W.style.display="none",W._ckHack=W.offsetHeight,W.style.display=Y}))}return s.ui&&s.ui.ariaLiveAnnouncer.announce(h("Uploading image")),c.enqueueChange({isUndoable:!1},(H=>{H.setAttribute("uploadStatus","uploading",F)})),I})).then((I=>{c.enqueueChange({isUndoable:!1},(F=>{const H=_.get(i.id);F.setAttribute("uploadStatus","complete",H),s.ui&&s.ui.ariaLiveAnnouncer.announce(h("Image upload complete")),this.fire("uploadComplete",{data:I,imageElement:H})})),R()})).catch((I=>{if(s.ui&&s.ui.ariaLiveAnnouncer.announce(h("Error during image upload")),i.status!=="error"&&i.status!=="aborted")throw I;i.status=="error"&&I&&w.showWarning(I,{title:h("Upload failed"),namespace:"upload"}),c.enqueueChange({isUndoable:!1},(F=>{F.remove(_.get(i.id))})),R()}));function R(){c.enqueueChange({isUndoable:!1},(I=>{const F=_.get(i.id);I.removeAttribute("uploadId",F),I.removeAttribute("uploadStatus",F),_.delete(i.id)})),g.destroyLoader(i)}}_parseAndSetSrcsetAttributeOnImage(i,s,c){let h=0;const g=Object.keys(i).filter((w=>{const k=parseInt(w,10);if(!isNaN(k))return h=Math.max(h,k),!0})).map((w=>`${i[w]} ${w}w`)).join(", ");if(g!=""){const w={srcset:g};s.hasAttribute("width")||s.hasAttribute("height")||(w.width=h),c.setAttributes(w,s)}}}function uoe(u,i){const s=u.plugins.get("ImageUtils");return Array.from(u.model.createRangeOn(i)).filter((c=>s.isImage(c.item))).map((c=>c.item))}var K5=o(4642),hoe={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$e()(K5.A,hoe),K5.A.locals;var Y5=o(3469),foe={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$e()(Y5.A,foe),Y5.A.locals;class poe extends Et{constructor(i,s){super(i),this._defaultStyles={imageBlock:!1,imageInline:!1},this._styles=new Map(s.map((c=>{if(c.isDefault)for(const h of c.modelElements)this._defaultStyles[h]=c.name;return[c.name,c]})))}refresh(){const i=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!i,this.isEnabled?i.hasAttribute("imageStyle")?this.value=i.getAttribute("imageStyle"):this.value=this._defaultStyles[i.name]:this.value=!1}execute(i={}){const s=this.editor,c=s.model,h=s.plugins.get("ImageUtils");c.change((g=>{const w=i.value,{setImageSizes:k=!0}=i;let _=h.getClosestSelectedImageElement(c.document.selection);w&&this.shouldConvertImageType(w,_)&&(this.editor.execute(h.isBlockImage(_)?"imageTypeInline":"imageTypeBlock",{setImageSizes:k}),_=h.getClosestSelectedImageElement(c.document.selection)),!w||this._styles.get(w).isDefault?g.removeAttribute("imageStyle",_):g.setAttribute("imageStyle",w,_),k&&h.setImageNaturalSizeAttributes(_)}))}shouldConvertImageType(i,s){return!this._styles.get(i).modelElements.includes(s.name)}}var goe=Object.defineProperty,Q5=Object.getOwnPropertySymbols,moe=Object.prototype.hasOwnProperty,boe=Object.prototype.propertyIsEnumerable,Z5=(u,i,s)=>i in u?goe(u,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):u[i]=s,X5=(u,i)=>{for(var s in i||(i={}))moe.call(i,s)&&Z5(u,s,i[s]);if(Q5)for(var s of Q5(i))boe.call(i,s)&&Z5(u,s,i[s]);return u};const{objectFullWidth:voe,objectInline:J5,objectLeft:eB,objectRight:G2,objectCenter:U2,objectBlockLeft:tB,objectBlockRight:nB}=Dt,zA={get inline(){return{name:"inline",title:"In line",icon:J5,modelElements:["imageInline"],isDefault:!0}},get alignLeft(){return{name:"alignLeft",title:"Left aligned image",icon:eB,modelElements:["imageBlock","imageInline"],className:"image-style-align-left"}},get alignBlockLeft(){return{name:"alignBlockLeft",title:"Left aligned image",icon:tB,modelElements:["imageBlock"],className:"image-style-block-align-left"}},get alignCenter(){return{name:"alignCenter",title:"Centered image",icon:U2,modelElements:["imageBlock"],className:"image-style-align-center"}},get alignRight(){return{name:"alignRight",title:"Right aligned image",icon:G2,modelElements:["imageBlock","imageInline"],className:"image-style-align-right"}},get alignBlockRight(){return{name:"alignBlockRight",title:"Right aligned image",icon:nB,modelElements:["imageBlock"],className:"image-style-block-align-right"}},get block(){return{name:"block",title:"Centered image",icon:U2,modelElements:["imageBlock"],isDefault:!0}},get side(){return{name:"side",title:"Side image",icon:G2,modelElements:["imageBlock"],className:"image-style-side"}}},rB={full:voe,left:tB,right:nB,center:U2,inlineLeft:eB,inlineRight:G2,inline:J5},iB=[{name:"imageStyle:wrapText",title:"Wrap text",defaultItem:"imageStyle:alignLeft",items:["imageStyle:alignLeft","imageStyle:alignRight"]},{name:"imageStyle:breakText",title:"Break text",defaultItem:"imageStyle:block",items:["imageStyle:alignBlockLeft","imageStyle:block","imageStyle:alignBlockRight"]}];function oB(u){K("image-style-configuration-definition-invalid",u)}const W2={normalizeStyles:function(u){return(u.configuredStyles.options||[]).map((i=>(function(s){return s=typeof s=="string"?zA[s]?X5({},zA[s]):{name:s}:(function(c,h){const g=X5({},h);for(const w in c)Object.prototype.hasOwnProperty.call(h,w)||(g[w]=c[w]);return g})(zA[s.name],s),typeof s.icon=="string"&&(s.icon=rB[s.icon]||s.icon),s})(i))).filter((i=>(function(s,{isBlockPluginLoaded:c,isInlinePluginLoaded:h}){const{modelElements:g,name:w}=s;if(!(g&&g.length&&w))return oB({style:s}),!1;{const k=[c?"imageBlock":null,h?"imageInline":null];if(!g.some((_=>k.includes(_))))return K("image-style-missing-dependency",{style:s,missingPlugins:g.map((_=>_==="imageBlock"?"ImageBlockEditing":"ImageInlineEditing"))}),!1}return!0})(i,u)))},getDefaultStylesConfiguration:function(u,i){return u&&i?{options:["inline","alignLeft","alignRight","alignCenter","alignBlockLeft","alignBlockRight","block","side"]}:u?{options:["block","side"]}:i?{options:["inline","alignLeft","alignRight"]}:{}},getDefaultDropdownDefinitions:function(u){return u.has("ImageBlockEditing")&&u.has("ImageInlineEditing")?[...iB]:[]},warnInvalidStyle:oB,DEFAULT_OPTIONS:zA,DEFAULT_ICONS:rB,DEFAULT_DROPDOWN_DEFINITIONS:iB};function sB(u,i){for(const s of i)if(s.name===u)return s}class aB extends Ve{static get pluginName(){return"ImageStyleEditing"}static get requires(){return[Ho]}init(){const{normalizeStyles:i,getDefaultStylesConfiguration:s}=W2,c=this.editor,h=c.plugins.has("ImageBlockEditing"),g=c.plugins.has("ImageInlineEditing");c.config.define("image.styles",s(h,g)),this.normalizedStyles=i({configuredStyles:c.config.get("image.styles"),isBlockPluginLoaded:h,isInlinePluginLoaded:g}),this._setupConversion(h,g),this._setupPostFixer(),c.commands.add("imageStyle",new poe(c,this.normalizedStyles))}_setupConversion(i,s){const c=this.editor,h=c.model.schema,g=(w=this.normalizedStyles,(_,R,I)=>{if(!I.consumable.consume(R.item,_.name))return;const F=sB(R.attributeNewValue,w),H=sB(R.attributeOldValue,w),G=I.mapper.toViewElement(R.item),W=I.writer;H&&W.removeClass(H.className,G),F&&W.addClass(F.className,G)});var w;const k=(function(_){const R={imageInline:_.filter((I=>!I.isDefault&&I.modelElements.includes("imageInline"))),imageBlock:_.filter((I=>!I.isDefault&&I.modelElements.includes("imageBlock")))};return(I,F,H)=>{if(!F.modelRange)return;const G=F.viewItem,W=sr(F.modelRange.getItems());if(W&&H.schema.checkAttribute(W,"imageStyle"))for(const Y of R[W.name])H.consumable.consume(G,{classes:Y.className})&&H.writer.setAttribute("imageStyle",Y.name,W)}})(this.normalizedStyles);c.editing.downcastDispatcher.on("attribute:imageStyle",g),c.data.downcastDispatcher.on("attribute:imageStyle",g),i&&(h.extend("imageBlock",{allowAttributes:"imageStyle"}),c.data.upcastDispatcher.on("element:figure",k,{priority:"low"})),s&&(h.extend("imageInline",{allowAttributes:"imageStyle"}),c.data.upcastDispatcher.on("element:img",k,{priority:"low"}))}_setupPostFixer(){const i=this.editor,s=i.model.document,c=i.plugins.get(Ho),h=new Map(this.normalizedStyles.map((g=>[g.name,g])));s.registerPostFixer((g=>{let w=!1;for(const k of s.differ.getChanges())if(k.type=="insert"||k.type=="attribute"&&k.attributeKey=="imageStyle"){let _=k.type=="insert"?k.position.nodeAfter:k.range.start.nodeAfter;if(_&&_.is("element","paragraph")&&_.childCount>0&&(_=_.getChild(0)),!c.isImage(_))continue;const R=_.getAttribute("imageStyle");if(!R)continue;const I=h.get(R);I&&I.modelElements.includes(_.name)||(g.removeAttribute("imageStyle",_),w=!0)}return w}))}}var lB=o(6386),woe={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$e()(lB.A,woe),lB.A.locals;class Coe extends Ve{static get requires(){return[aB]}static get pluginName(){return"ImageStyleUI"}get localizedDefaultStylesTitles(){const i=this.editor.t;return{"Wrap text":i("Wrap text"),"Break text":i("Break text"),"In line":i("In line"),"Full size image":i("Full size image"),"Side image":i("Side image"),"Left aligned image":i("Left aligned image"),"Centered image":i("Centered image"),"Right aligned image":i("Right aligned image")}}init(){const i=this.editor.plugins,s=this.editor.config.get("image.toolbar")||[],c=cB(i.get("ImageStyleEditing").normalizedStyles,this.localizedDefaultStylesTitles);for(const g of c)this._createButton(g);const h=cB([...s.filter(_e),...W2.getDefaultDropdownDefinitions(i)],this.localizedDefaultStylesTitles);for(const g of h)this._createDropdown(g,c)}_createDropdown(i,s){const c=this.editor.ui.componentFactory;c.add(i.name,(h=>{let g;const{defaultItem:w,items:k,title:_}=i,R=k.filter((G=>s.find((({name:W})=>dB(W)===G)))).map((G=>{const W=c.create(G);return G===w&&(g=W),W}));k.length!==R.length&&W2.warnInvalidStyle({dropdown:i});const I=sd(h,gA),F=I.buttonView,H=F.arrowView;return w2(I,R,{enableActiveItemFocusOnDropdownOpen:!0}),F.set({label:uB(_,g.label),class:null,tooltip:!0}),H.unbind("label"),H.set({label:_}),F.bind("icon").toMany(R,"isOn",((...G)=>{const W=G.findIndex(hi);return W<0?g.icon:R[W].icon})),F.bind("label").toMany(R,"isOn",((...G)=>{const W=G.findIndex(hi);return uB(_,W<0?g.label:R[W].label)})),F.bind("isOn").toMany(R,"isOn",((...G)=>G.some(hi))),F.bind("class").toMany(R,"isOn",((...G)=>G.some(hi)?"ck-splitbutton_flatten":void 0)),F.on("execute",(()=>{R.some((({isOn:G})=>G))?I.isOpen=!I.isOpen:g.fire("execute")})),I.bind("isEnabled").toMany(R,"isEnabled",((...G)=>G.some(hi))),this.listenTo(I,"execute",(()=>{this.editor.editing.view.focus()})),I}))}_createButton(i){const s=i.name;this.editor.ui.componentFactory.add(dB(s),(c=>{const h=this.editor.commands.get("imageStyle"),g=new Ut(c);return g.set({label:i.title,icon:i.icon,tooltip:!0,isToggleable:!0}),g.bind("isEnabled").to(h,"isEnabled"),g.bind("isOn").to(h,"value",(w=>w===s)),g.on("execute",this._executeCommand.bind(this,s)),g}))}_executeCommand(i){this.editor.execute("imageStyle",{value:i}),this.editor.editing.view.focus()}}function cB(u,i){for(const s of u)i[s.title]&&(s.title=i[s.title]);return u}function dB(u){return`imageStyle:${u}`}function uB(u,i){return(u?u+": ":"")+i}class yoe extends Ve{static get pluginName(){return"IndentEditing"}init(){const i=this.editor;i.commands.add("indent",new Lg(i)),i.commands.add("outdent",new Lg(i))}}class koe extends Ve{static get pluginName(){return"IndentUI"}init(){const i=this.editor,s=i.locale,c=i.t,h=s.uiLanguageDirection=="ltr"?Dt.indent:Dt.outdent,g=s.uiLanguageDirection=="ltr"?Dt.outdent:Dt.indent;this._defineButton("indent",c("Increase indent"),h),this._defineButton("outdent",c("Decrease indent"),g)}_defineButton(i,s,c){const h=this.editor;h.ui.componentFactory.add(i,(()=>{const g=this._createButton(Ut,i,s,c);return g.set({tooltip:!0}),g})),h.ui.componentFactory.add("menuBar:"+i,(()=>this._createButton(fs,i,s,c)))}_createButton(i,s,c,h){const g=this.editor,w=g.commands.get(s),k=new i(g.locale);return k.set({label:c,icon:h}),k.bind("isEnabled").to(w,"isEnabled"),this.listenTo(k,"execute",(()=>{g.execute(s),g.editing.view.focus()})),k}}class xoe{constructor(){this._definitions=new Set}get length(){return this._definitions.size}add(i){Array.isArray(i)?i.forEach((s=>this._definitions.add(s))):this._definitions.add(i)}getDispatcher(){return i=>{i.on("attribute:linkHref",((s,c,h)=>{if(!h.consumable.test(c.item,"attribute:linkHref")||!c.item.is("selection")&&!h.schema.isInline(c.item))return;const g=h.writer,w=g.document.selection;for(const k of this._definitions){const _=g.createAttributeElement("a",k.attributes,{priority:5});k.classes&&g.addClass(k.classes,_);for(const R in k.styles)g.setStyle(R,k.styles[R],_);g.setCustomProperty("link",!0,_),k.callback(c.attributeNewValue)?c.item.is("selection")?g.wrap(w.getFirstRange(),_):g.wrap(h.mapper.toViewRange(c.range),_):g.unwrap(h.mapper.toViewRange(c.range),_)}}),{priority:"high"})}}getDispatcherForLinkedImage(){return i=>{i.on("attribute:linkHref:imageBlock",((s,c,{writer:h,mapper:g})=>{const w=g.toViewElement(c.item),k=Array.from(w.getChildren()).find((_=>_.is("element","a")));for(const _ of this._definitions){const R=Ns(_.attributes);if(_.callback(c.attributeNewValue)){for(const[I,F]of R)I==="class"?h.addClass(F,k):h.setAttribute(I,F,k);_.classes&&h.addClass(_.classes,k);for(const I in _.styles)h.setStyle(I,_.styles[I],k)}else{for(const[I,F]of R)I==="class"?h.removeClass(F,k):h.removeAttribute(I,k);_.classes&&h.removeClass(_.classes,k);for(const I in _.styles)h.removeStyle(I,k)}}}))}}}const Aoe=function(u,i,s){var c=u.length;return s=s===void 0?c:s,!i&&s>=c?u:Pf(u,i,s)};var Soe=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");const hB=function(u){return Soe.test(u)},_oe=function(u){return u.split("")};var fB="\\ud800-\\udfff",Eoe="["+fB+"]",$2="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",q2="\\ud83c[\\udffb-\\udfff]",pB="[^"+fB+"]",gB="(?:\\ud83c[\\udde6-\\uddff]){2}",mB="[\\ud800-\\udbff][\\udc00-\\udfff]",bB="(?:"+$2+"|"+q2+")?",vB="[\\ufe0e\\ufe0f]?",Doe=vB+bB+("(?:\\u200d(?:"+[pB,gB,mB].join("|")+")"+vB+bB+")*"),Moe="(?:"+[pB+$2+"?",$2,gB,mB,Eoe].join("|")+")",Toe=RegExp(q2+"(?="+q2+")|"+Moe+Doe,"g");const Roe=function(u){return u.match(Toe)||[]},Poe=function(u){return hB(u)?Roe(u):_oe(u)},Ioe=(function(u){return function(i){i=Fu(i);var s=hB(i)?Poe(i):void 0,c=s?s[0]:i.charAt(0),h=s?Aoe(s,1).join(""):i.slice(1);return c[u]()+h}})("toUpperCase"),Noe=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,Ooe=/^[\S]+@((?![-_])(?:[-\w\u00a1-\uffff]{0,63}[^-_]\.))+(?:[a-z\u00a1-\uffff]{2,})$/i,Foe=/^((\w+:(\/{2,})?)|(\W))/i,Loe=["https?","ftps?","mailto"],HA="Ctrl+K";function wB(u,{writer:i}){const s=i.createAttributeElement("a",{href:u},{priority:5});return i.setCustomProperty("link",!0,s),s}function CB(u,i=Loe){const s=String(u),c=i.join("|");return(function(h,g){return!!h.replace(Noe,"").match(g)})(s,new RegExp(`${"^(?:(?:<protocols>):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))".replace("<protocols>",c)}`,"i"))?s:"#"}function K2(u,i){return!!u&&i.checkAttribute(u.name,"linkHref")}function Y2(u,i){const s=(c=u,Ooe.test(c)?"mailto:":i);var c;const h=!!s&&!yB(u);return u&&h?s+u:u}function yB(u){return Foe.test(u)}function kB(u){window.open(u,"_blank","noopener")}class Boe extends Et{constructor(){super(...arguments),this.manualDecorators=new An,this.automaticDecorators=new xoe}restoreManualDecoratorStates(){for(const i of this.manualDecorators)i.value=this._getDecoratorStateFromModel(i.id)}refresh(){const i=this.editor.model,s=i.document.selection,c=s.getSelectedElement()||sr(s.getSelectedBlocks());K2(c,i.schema)?(this.value=c.getAttribute("linkHref"),this.isEnabled=i.schema.checkAttribute(c,"linkHref")):(this.value=s.getAttribute("linkHref"),this.isEnabled=i.schema.checkAttributeInSelection(s,"linkHref"));for(const h of this.manualDecorators)h.value=this._getDecoratorStateFromModel(h.id)}execute(i,s={}){const c=this.editor.model,h=c.document.selection,g=[],w=[];for(const k in s)s[k]?g.push(k):w.push(k);c.change((k=>{if(h.isCollapsed){const _=h.getFirstPosition();if(h.hasAttribute("linkHref")){const R=xB(h);let I=EA(_,"linkHref",h.getAttribute("linkHref"),c);h.getAttribute("linkHref")===R&&(I=this._updateLinkContent(c,k,I,i)),k.setAttribute("linkHref",i,I),g.forEach((F=>{k.setAttribute(F,!0,I)})),w.forEach((F=>{k.removeAttribute(F,I)})),k.setSelection(k.createPositionAfter(I.end.nodeBefore))}else if(i!==""){const R=Ns(h.getAttributes());R.set("linkHref",i),g.forEach((F=>{R.set(F,!0)}));const{end:I}=c.insertContent(k.createText(i,R),_);k.setSelection(I)}["linkHref",...g,...w].forEach((R=>{k.removeSelectionAttribute(R)}))}else{const _=c.schema.getValidRanges(h.getRanges(),"linkHref"),R=[];for(const F of h.getSelectedBlocks())c.schema.checkAttribute(F,"linkHref")&&R.push(k.createRangeOn(F));const I=R.slice();for(const F of _)this._isRangeToUpdate(F,R)&&I.push(F);for(const F of I){let H=F;if(I.length===1){const G=xB(h);h.getAttribute("linkHref")===G&&(H=this._updateLinkContent(c,k,F,i),k.setSelection(k.createSelection(H)))}k.setAttribute("linkHref",i,H),g.forEach((G=>{k.setAttribute(G,!0,H)})),w.forEach((G=>{k.removeAttribute(G,H)}))}}}))}_getDecoratorStateFromModel(i){const s=this.editor.model,c=s.document.selection,h=c.getSelectedElement();return K2(h,s.schema)?h.getAttribute(i):c.getAttribute(i)}_isRangeToUpdate(i,s){for(const c of s)if(c.containsRange(i))return!1;return!0}_updateLinkContent(i,s,c,h){const g=s.createText(h,{linkHref:h});return i.insertContent(g,c)}}function xB(u){if(u.isCollapsed){const i=u.getFirstPosition();return i.textNode&&i.textNode.data}{const i=Array.from(u.getFirstRange().getItems());if(i.length>1)return null;const s=i[0];return s.is("$text")||s.is("$textProxy")?s.data:null}}class joe extends Et{refresh(){const i=this.editor.model,s=i.document.selection,c=s.getSelectedElement();K2(c,i.schema)?this.isEnabled=i.schema.checkAttribute(c,"linkHref"):this.isEnabled=i.schema.checkAttributeInSelection(s,"linkHref")}execute(){const i=this.editor,s=this.editor.model,c=s.document.selection,h=i.commands.get("link");s.change((g=>{const w=c.isCollapsed?[EA(c.getFirstPosition(),"linkHref",c.getAttribute("linkHref"),s)]:s.schema.getValidRanges(c.getRanges(),"linkHref");for(const k of w)if(g.removeAttribute("linkHref",k),h)for(const _ of h.manualDecorators)g.removeAttribute(_.id,k)}))}}class zoe extends et(){constructor({id:i,label:s,attributes:c,classes:h,styles:g,defaultValue:w}){super(),this.id=i,this.set("value",void 0),this.defaultValue=w,this.label=s,this.attributes=c,this.classes=h,this.styles=g}_createPattern(){return{attributes:this.attributes,classes:this.classes,styles:this.styles}}}var AB=o(7719),Hoe={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$e()(AB.A,Hoe),AB.A.locals;var Voe=Object.defineProperty,SB=Object.getOwnPropertySymbols,Goe=Object.prototype.hasOwnProperty,Uoe=Object.prototype.propertyIsEnumerable,_B=(u,i,s)=>i in u?Voe(u,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):u[i]=s,Woe=(u,i)=>{for(var s in i||(i={}))Goe.call(i,s)&&_B(u,s,i[s]);if(SB)for(var s of SB(i))Uoe.call(i,s)&&_B(u,s,i[s]);return u};const EB="automatic",$oe=/^(https?:)?\/\//;class DB extends Ve{static get pluginName(){return"LinkEditing"}static get requires(){return[J3,$3,qs]}constructor(i){super(i),i.config.define("link",{allowCreatingEmptyLinks:!1,addTargetToExternalLinks:!1})}init(){const i=this.editor,s=this.editor.config.get("link.allowedProtocols");i.model.schema.extend("$text",{allowAttributes:"linkHref"}),i.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:wB}),i.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:(h,g)=>wB(CB(h,s),g)}),i.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:h=>h.getAttribute("href")}}),i.commands.add("link",new Boe(i)),i.commands.add("unlink",new joe(i));const c=(function(h,g){const w={"Open in a new tab":h("Open in a new tab"),Downloadable:h("Downloadable")};return g.forEach((k=>("label"in k&&w[k.label]&&(k.label=w[k.label]),k))),g})(i.t,(function(h){const g=[];if(h)for(const[w,k]of Object.entries(h)){const _=Object.assign({},k,{id:`link${Ioe(w)}`});g.push(_)}return g})(i.config.get("link.decorators")));this._enableAutomaticDecorators(c.filter((h=>h.mode===EB))),this._enableManualDecorators(c.filter((h=>h.mode==="manual"))),i.plugins.get(J3).registerAttribute("linkHref"),(function(h,g,w,k){const _=h.editing.view,R=new Set;_.document.registerPostFixer((I=>{const F=h.model.document.selection;let H=!1;if(F.hasAttribute(g)){const G=EA(F.getFirstPosition(),g,F.getAttribute(g),h.model),W=h.editing.mapper.toViewRange(G);for(const Y of W.getItems())Y.is("element",w)&&!Y.hasClass(k)&&(I.addClass(k,Y),R.add(Y),H=!0)}return H})),h.conversion.for("editingDowncast").add((I=>{function F(){_.change((H=>{for(const G of R.values())H.removeClass(k,G),R.delete(G)}))}I.on("insert",F,{priority:"highest"}),I.on("remove",F,{priority:"highest"}),I.on("attribute",F,{priority:"highest"}),I.on("selection",F,{priority:"highest"})}))})(i,"linkHref","a","ck-link_selected"),this._enableLinkOpen(),this._enableSelectionAttributesFixer(),this._enableClipboardIntegration()}_enableAutomaticDecorators(i){const s=this.editor,c=s.commands.get("link").automaticDecorators;s.config.get("link.addTargetToExternalLinks")&&c.add({id:"linkIsExternal",mode:EB,callback:h=>!!h&&$oe.test(h),attributes:{target:"_blank",rel:"noopener noreferrer"}}),c.add(i),c.length&&s.conversion.for("downcast").add(c.getDispatcher())}_enableManualDecorators(i){if(!i.length)return;const s=this.editor,c=s.commands.get("link").manualDecorators;i.forEach((h=>{s.model.schema.extend("$text",{allowAttributes:h.id});const g=new zoe(h);c.add(g),s.conversion.for("downcast").attributeToElement({model:g.id,view:(w,{writer:k,schema:_},{item:R})=>{if((R.is("selection")||_.isInline(R))&&w){const I=k.createAttributeElement("a",g.attributes,{priority:5});g.classes&&k.addClass(g.classes,I);for(const F in g.styles)k.setStyle(F,g.styles[F],I);return k.setCustomProperty("link",!0,I),I}}}),s.conversion.for("upcast").elementToAttribute({view:Woe({name:"a"},g._createPattern()),model:{key:g.id}})}))}_enableLinkOpen(){const i=this.editor,s=i.editing.view.document;this.listenTo(s,"click",((c,h)=>{if(!(v.isMac?h.domEvent.metaKey:h.domEvent.ctrlKey))return;let g=h.domTarget;if(g.tagName.toLowerCase()!="a"&&(g=g.closest("a")),!g)return;const w=g.getAttribute("href");w&&(c.stop(),h.preventDefault(),kB(w))}),{context:"$capture"}),this.listenTo(s,"keydown",((c,h)=>{const g=i.commands.get("link").value;g&&h.keyCode===Mt.enter&&h.altKey&&(c.stop(),kB(g))}))}_enableSelectionAttributesFixer(){const i=this.editor.model,s=i.document.selection;this.listenTo(s,"change:attribute",((c,{attributeKeys:h})=>{h.includes("linkHref")&&!s.hasAttribute("linkHref")&&i.change((g=>{var w;(function(k,_){k.removeSelectionAttribute("linkHref");for(const R of _)k.removeSelectionAttribute(R)})(g,(w=i.schema,w.getDefinition("$text").allowAttributes.filter((k=>k.startsWith("link")))))}))}))}_enableClipboardIntegration(){const i=this.editor,s=i.model,c=this.editor.config.get("link.defaultProtocol");c&&this.listenTo(i.plugins.get("ClipboardPipeline"),"contentInsertion",((h,g)=>{s.change((w=>{const k=w.createRangeIn(g.content);for(const _ of k.getItems())if(_.hasAttribute("linkHref")){const R=Y2(_.getAttribute("linkHref"),c);w.setAttribute("linkHref",R,_)}}))}))}}var MB=o(3817),qoe={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$e()(MB.A,qoe),MB.A.locals;class Koe extends st{constructor(i,s,c){super(i),this.focusTracker=new kr,this.keystrokes=new fi,this._focusables=new Mi;const h=i.t;this._validators=c,this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(h("Save"),Dt.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(h("Cancel"),Dt.cancel,"ck-button-cancel","cancel"),this._manualDecoratorSwitches=this._createManualDecoratorSwitches(s),this.children=this._createFormChildren(s.manualDecorators),this._focusCycler=new Je({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});const g=["ck","ck-link-form","ck-responsive-form"];s.manualDecorators.length&&g.push("ck-link-form_layout-vertical","ck-vertical-form"),this.setTemplate({tag:"form",attributes:{class:g,tabindex:"-1"},children:this.children})}getDecoratorSwitchesState(){return Array.from(this._manualDecoratorSwitches).reduce(((i,s)=>(i[s.name]=s.isOn,i)),{})}render(){super.render(),ls({view:this}),[this.urlInputView,...this._manualDecoratorSwitches,this.saveButtonView,this.cancelButtonView].forEach((i=>{this._focusables.add(i),this.focusTracker.add(i.element)})),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}isValid(){this.resetFormStatus();for(const i of this._validators){const s=i(this);if(s)return this.urlInputView.errorText=s,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null}_createUrlInput(){const i=this.locale.t,s=new p(this.locale,mA);return s.label=i("Link URL"),s}_createButton(i,s,c,h){const g=new Ut(this.locale);return g.set({label:i,icon:s,tooltip:!0}),g.extendTemplate({attributes:{class:c}}),h&&g.delegate("execute").to(this,h),g}_createManualDecoratorSwitches(i){const s=this.createCollection();for(const c of i.manualDecorators){const h=new Im(this.locale);h.set({name:c.id,label:c.label,withText:!0}),h.bind("isOn").toMany([c,i],"value",((g,w)=>w===void 0&&g===void 0?!!c.defaultValue:!!g)),h.on("execute",(()=>{c.set("value",!h.isOn)})),s.add(h)}return s}_createFormChildren(i){const s=this.createCollection();if(s.add(this.urlInputView),i.length){const c=new st;c.setTemplate({tag:"ul",children:this._manualDecoratorSwitches.map((h=>({tag:"li",children:[h],attributes:{class:["ck","ck-list__item"]}}))),attributes:{class:["ck","ck-reset","ck-list"]}}),s.add(c)}return s.add(this.saveButtonView),s.add(this.cancelButtonView),s}get url(){const{element:i}=this.urlInputView.fieldView;return i?i.value.trim():null}}var TB=o(8762),Yoe={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$e()(TB.A,Yoe),TB.A.locals;class Qoe extends st{constructor(i,s={}){super(i),this.focusTracker=new kr,this.keystrokes=new fi,this._focusables=new Mi;const c=i.t;this.previewButtonView=this._createPreviewButton(),this.unlinkButtonView=this._createButton(c("Unlink"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>',"unlink"),this.editButtonView=this._createButton(c("Edit link"),Dt.pencil,"edit"),this.set("href",void 0),this._linkConfig=s,this._focusCycler=new Je({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions","ck-responsive-form"],tabindex:"-1"},children:[this.previewButtonView,this.editButtonView,this.unlinkButtonView]})}render(){super.render(),[this.previewButtonView,this.editButtonView,this.unlinkButtonView].forEach((i=>{this._focusables.add(i),this.focusTracker.add(i.element)})),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createButton(i,s,c){const h=new Ut(this.locale);return h.set({label:i,icon:s,tooltip:!0}),h.delegate("execute").to(this,c),h}_createPreviewButton(){const i=new Ut(this.locale),s=this.bindTemplate,c=this.t;return i.set({withText:!0,tooltip:c("Open link in new tab")}),i.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:s.to("href",(h=>h&&CB(h,this._linkConfig.allowedProtocols))),target:"_blank",rel:"noopener noreferrer"}}),i.bind("label").to(this,"href",(h=>h||c("This link has no URL"))),i.bind("isEnabled").to(this,"href",(h=>!!h)),i.template.tag="a",i.template.eventListeners={},i}}const Vl="link-ui";class Zoe extends Ve{constructor(){super(...arguments),this.actionsView=null,this.formView=null}static get requires(){return[kA]}static get pluginName(){return"LinkUI"}init(){const i=this.editor,s=this.editor.t;i.editing.view.addObserver(h2),this._balloon=i.plugins.get(kA),this._createToolbarLinkButton(),this._enableBalloonActivators(),i.conversion.for("editingDowncast").markerToHighlight({model:Vl,view:{classes:["ck-fake-link-selection"]}}),i.conversion.for("editingDowncast").markerToElement({model:Vl,view:{name:"span",classes:["ck-fake-link-selection","ck-fake-link-selection_collapsed"]}}),i.accessibility.addKeystrokeInfos({keystrokes:[{label:s("Create link"),keystroke:HA},{label:s("Move out of a link"),keystroke:[["arrowleft","arrowleft"],["arrowright","arrowright"]]}]})}destroy(){super.destroy(),this.formView&&this.formView.destroy(),this.actionsView&&this.actionsView.destroy()}_createViews(){this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._enableUserBalloonInteractions()}_createActionsView(){const i=this.editor,s=new Qoe(i.locale,i.config.get("link")),c=i.commands.get("link"),h=i.commands.get("unlink");return s.bind("href").to(c,"value"),s.editButtonView.bind("isEnabled").to(c),s.unlinkButtonView.bind("isEnabled").to(h),this.listenTo(s,"edit",(()=>{this._addFormView()})),this.listenTo(s,"unlink",(()=>{i.execute("unlink"),this._hideUI()})),s.keystrokes.set("Esc",((g,w)=>{this._hideUI(),w()})),s.keystrokes.set(HA,((g,w)=>{this._addFormView(),w()})),s}_createFormView(){const i=this.editor,s=i.commands.get("link"),c=i.config.get("link.defaultProtocol"),h=new(Fg(Koe))(i.locale,s,(function(g){const w=g.t,k=g.config.get("link.allowCreatingEmptyLinks");return[_=>{if(!k&&!_.url.length)return w("Link URL must not be empty.")}]})(i));return h.urlInputView.fieldView.bind("value").to(s,"value"),h.urlInputView.bind("isEnabled").to(s,"isEnabled"),h.saveButtonView.bind("isEnabled").to(s,"isEnabled"),this.listenTo(h,"submit",(()=>{if(h.isValid()){const{value:g}=h.urlInputView.fieldView.element,w=Y2(g,c);i.execute("link",w,h.getDecoratorSwitchesState()),this._closeFormView()}})),this.listenTo(h.urlInputView,"change:errorText",(()=>{i.ui.update()})),this.listenTo(h,"cancel",(()=>{this._closeFormView()})),h.keystrokes.set("Esc",((g,w)=>{this._closeFormView(),w()})),h}_createToolbarLinkButton(){const i=this.editor,s=i.commands.get("link");i.ui.componentFactory.add("link",(()=>{const c=this._createButton(Ut);return c.set({tooltip:!0,isToggleable:!0}),c.bind("isOn").to(s,"value",(h=>!!h)),c})),i.ui.componentFactory.add("menuBar:link",(()=>this._createButton(fs)))}_createButton(i){const s=this.editor,c=s.locale,h=s.commands.get("link"),g=new i(s.locale),w=c.t;return g.set({label:w("Link"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>',keystroke:HA}),g.bind("isEnabled").to(h,"isEnabled"),this.listenTo(g,"execute",(()=>this._showUI(!0))),g}_enableBalloonActivators(){const i=this.editor,s=i.editing.view.document;this.listenTo(s,"click",(()=>{this._getSelectedLinkElement()&&this._showUI()})),i.keystrokes.set(HA,((c,h)=>{h(),i.commands.get("link").isEnabled&&this._showUI(!0)}))}_enableUserBalloonInteractions(){this.editor.keystrokes.set("Tab",((i,s)=>{this._areActionsVisible&&!this.actionsView.focusTracker.isFocused&&(this.actionsView.focus(),s())}),{priority:"high"}),this.editor.keystrokes.set("Esc",((i,s)=>{this._isUIVisible&&(this._hideUI(),s())})),Ls({emitter:this.formView,activator:()=>this._isUIInPanel,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideUI()})}_addActionsView(){this.actionsView||this._createViews(),this._areActionsInPanel||this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}_addFormView(){if(this.formView||this._createViews(),this._isFormInPanel)return;const i=this.editor.commands.get("link");this.formView.disableCssTransitions(),this.formView.resetFormStatus(),this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this.formView.urlInputView.fieldView.value=i.value||"",this._balloon.visibleView===this.formView&&this.formView.urlInputView.fieldView.select(),this.formView.enableCssTransitions()}_closeFormView(){const i=this.editor.commands.get("link");i.restoreManualDecoratorStates(),i.value!==void 0?this._removeFormView():this._hideUI()}_removeFormView(){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this.formView.urlInputView.fieldView.reset(),this._balloon.remove(this.formView),this.editor.editing.view.focus(),this._hideFakeVisualSelection())}_showUI(i=!1){this.formView||this._createViews(),this._getSelectedLinkElement()?(this._areActionsVisible?this._addFormView():this._addActionsView(),i&&this._balloon.showStack("main")):(this._showFakeVisualSelection(),this._addActionsView(),i&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI()}_hideUI(){if(!this._isUIInPanel)return;const i=this.editor;this.stopListening(i.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),i.editing.view.focus(),this._removeFormView(),this._balloon.remove(this.actionsView),this._hideFakeVisualSelection()}_startUpdatingUI(){const i=this.editor,s=i.editing.view.document;let c=this._getSelectedLinkElement(),h=w();const g=()=>{const k=this._getSelectedLinkElement(),_=w();c&&!k||!c&&_!==h?this._hideUI():this._isUIVisible&&this._balloon.updatePosition(this._getBalloonPositionData()),c=k,h=_};function w(){return s.selection.focus.getAncestors().reverse().find((k=>k.is("element")))}this.listenTo(i.ui,"update",g),this.listenTo(this._balloon,"change:visibleView",g)}get _isFormInPanel(){return!!this.formView&&this._balloon.hasView(this.formView)}get _areActionsInPanel(){return!!this.actionsView&&this._balloon.hasView(this.actionsView)}get _areActionsVisible(){return!!this.actionsView&&this._balloon.visibleView===this.actionsView}get _isUIInPanel(){return this._isFormInPanel||this._areActionsInPanel}get _isUIVisible(){const i=this._balloon.visibleView;return!!this.formView&&i==this.formView||this._areActionsVisible}_getBalloonPositionData(){const i=this.editor.editing.view,s=this.editor.model,c=i.document;let h;if(s.markers.has(Vl)){const g=Array.from(this.editor.editing.mapper.markerNameToElements(Vl)),w=i.createRange(i.createPositionBefore(g[0]),i.createPositionAfter(g[g.length-1]));h=i.domConverter.viewRangeToDom(w)}else h=()=>{const g=this._getSelectedLinkElement();return g?i.domConverter.mapViewToDom(g):i.domConverter.viewRangeToDom(c.selection.getFirstRange())};return{target:h}}_getSelectedLinkElement(){const i=this.editor.editing.view,s=i.document.selection,c=s.getSelectedElement();if(s.isCollapsed||c&&Sr(c))return Q2(s.getFirstPosition());{const h=s.getFirstRange().getTrimmed(),g=Q2(h.start),w=Q2(h.end);return g&&g==w&&i.createRangeIn(g).getTrimmed().isEqual(h)?g:null}}_showFakeVisualSelection(){const i=this.editor.model;i.change((s=>{const c=i.document.selection.getFirstRange();if(i.markers.has(Vl))s.updateMarker(Vl,{range:c});else if(c.start.isAtEnd){const h=c.start.getLastMatchingPosition((({item:g})=>!i.schema.isContent(g)),{boundaries:c});s.addMarker(Vl,{usingOperation:!1,affectsData:!1,range:s.createRange(h,c.end)})}else s.addMarker(Vl,{usingOperation:!1,affectsData:!1,range:c})}))}_hideFakeVisualSelection(){const i=this.editor.model;i.markers.has(Vl)&&i.change((s=>{s.removeMarker(Vl)}))}}function Q2(u){return u.getAncestors().find((i=>{return(s=i).is("attributeElement")&&!!s.getCustomProperty("link");var s}))||null}const RB=new RegExp("(^|\\s)(((?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(((?!www\\.)|(www\\.))(?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.)+(?:[a-z\\u00a1-\\uffff]{2,63})))(?::\\d{2,5})?(?:[/?#]\\S*)?)|((www.|(\\S+@))((?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.))+(?:[a-z\\u00a1-\\uffff]{2,63})))$","i");class Xoe extends Ve{static get requires(){return[ld,DB]}static get pluginName(){return"AutoLink"}init(){const i=this.editor.model.document.selection;i.on("change:range",(()=>{this.isEnabled=!i.anchor.parent.is("element","codeBlock")})),this._enableTypingHandling()}afterInit(){this._enableEnterHandling(),this._enableShiftEnterHandling(),this._enablePasteLinking()}_expandLinkRange(i,s){return s.textNode&&s.textNode.hasAttribute("linkHref")?EA(s,"linkHref",s.textNode.getAttribute("linkHref"),i):null}_selectEntireLinks(i,s){const c=this.editor.model,h=c.document.selection,g=h.getFirstPosition(),w=h.getLastPosition();let k=s.getJoined(this._expandLinkRange(c,g)||s);k&&(k=k.getJoined(this._expandLinkRange(c,w)||s)),k&&(k.start.isBefore(g)||k.end.isAfter(w))&&i.setSelection(k)}_enablePasteLinking(){const i=this.editor,s=i.model,c=s.document.selection,h=i.plugins.get("ClipboardPipeline"),g=i.commands.get("link");h.on("inputTransformation",((w,k)=>{if(!this.isEnabled||!g.isEnabled||c.isCollapsed||k.method!=="paste"||c.rangeCount>1)return;const _=c.getFirstRange(),R=k.dataTransfer.getData("text/plain");if(!R)return;const I=R.match(RB);I&&I[2]===R&&(s.change((F=>{this._selectEntireLinks(F,_),g.execute(R)})),w.stop())}),{priority:"high"})}_enableTypingHandling(){const i=this.editor,s=new X3(i.model,(c=>{if(!(function(g){return g.length>4&&g[g.length-1]===" "&&g[g.length-2]!==" "})(c))return;const h=PB(c.substr(0,c.length-1));return h?{url:h}:void 0}));s.on("matched:data",((c,h)=>{const{batch:g,range:w,url:k}=h;if(!g.isTyping)return;const _=w.end.getShiftedBy(-1),R=_.getShiftedBy(-k.length),I=i.model.createRange(R,_);this._applyAutoLink(k,I)})),s.bind("isEnabled").to(this)}_enableEnterHandling(){const i=this.editor,s=i.model,c=i.commands.get("enter");c&&c.on("execute",(()=>{const h=s.document.selection.getFirstPosition();if(!h.parent.previousSibling)return;const g=s.createRangeIn(h.parent.previousSibling);this._checkAndApplyAutoLinkOnRange(g)}))}_enableShiftEnterHandling(){const i=this.editor,s=i.model,c=i.commands.get("shiftEnter");c&&c.on("execute",(()=>{const h=s.document.selection.getFirstPosition(),g=s.createRange(s.createPositionAt(h.parent,0),h.getShiftedBy(-1));this._checkAndApplyAutoLinkOnRange(g)}))}_checkAndApplyAutoLinkOnRange(i){const s=this.editor.model,{text:c,range:h}=Z3(i,s),g=PB(c);if(g){const w=s.createRange(h.end.getShiftedBy(-g.length),h.end);this._applyAutoLink(g,w)}}_applyAutoLink(i,s){const c=this.editor.model,h=Y2(i,this.editor.config.get("link.defaultProtocol"));this.isEnabled&&(function(g,w){return w.schema.checkAttributeInSelection(w.createSelection(g),"linkHref")})(s,c)&&yB(h)&&!(function(g){const w=g.start.nodeAfter;return!!w&&w.hasAttribute("linkHref")})(s)&&this._persistAutoLink(h,s)}_persistAutoLink(i,s){const c=this.editor.model,h=this.editor.plugins.get("Delete");c.enqueueChange((g=>{g.setAttribute("linkHref",i,s),c.enqueueChange((()=>{h.requestUndoOnBackspace()}))}))}}function PB(u){const i=RB.exec(u);return i?i[2]:null}var IB=o(4808),Joe={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$e()(IB.A,Joe),IB.A.locals;class Ys{constructor(i,s){this._startElement=i,this._referenceIndent=i.getAttribute("listIndent"),this._isForward=s.direction=="forward",this._includeSelf=!!s.includeSelf,this._sameAttributes=dn(s.sameAttributes||[]),this._sameIndent=!!s.sameIndent,this._lowerIndent=!!s.lowerIndent,this._higherIndent=!!s.higherIndent}static first(i,s){return sr(new this(i,s)[Symbol.iterator]())}*[Symbol.iterator](){const i=[];for(const{node:s}of HC(this._getStartNode(),this._isForward?"forward":"backward")){const c=s.getAttribute("listIndent");if(c<this._referenceIndent){if(!this._lowerIndent)break;this._referenceIndent=c}else if(c>this._referenceIndent){if(!this._higherIndent)continue;if(!this._isForward){i.push(s);continue}}else{if(!this._sameIndent){if(this._higherIndent){i.length&&(yield*i,i.length=0);break}continue}if(this._sameAttributes.some((h=>s.getAttribute(h)!==this._startElement.getAttribute(h))))break}i.length&&(yield*i,i.length=0),yield s}}_getStartNode(){return this._includeSelf?this._startElement:this._isForward?this._startElement.nextSibling:this._startElement.previousSibling}}function*HC(u,i="forward"){const s=i=="forward",c=[];let h=null;for(;Vr(u);){let g=null;if(h){const w=u.getAttribute("listIndent"),k=h.getAttribute("listIndent");w>k?c[k]=h:w<k?(g=c[w],c.length=w):g=h}yield{node:u,previous:h,previousNodeInList:g},h=u,u=s?u.nextSibling:u.previousSibling}}class ese{constructor(i){this._listHead=i}[Symbol.iterator](){return HC(this._listHead,"forward")}}var tse=Object.defineProperty,nse=Object.defineProperties,rse=Object.getOwnPropertyDescriptors,NB=Object.getOwnPropertySymbols,ise=Object.prototype.hasOwnProperty,ose=Object.prototype.propertyIsEnumerable,OB=(u,i,s)=>i in u?tse(u,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):u[i]=s,VC=(u,i)=>{for(var s in i||(i={}))ise.call(i,s)&&OB(u,s,i[s]);if(NB)for(var s of NB(i))ose.call(i,s)&&OB(u,s,i[s]);return u},Z2=(u,i)=>nse(u,rse(i));class Wm{static next(){return L()}}function Vr(u){return!!u&&u.is("element")&&u.hasAttribute("listItemId")}function X2(u,i={}){return[...bh(u,Z2(VC({},i),{direction:"backward"})),...bh(u,Z2(VC({},i),{direction:"forward"}))]}function bh(u,i={}){const s=i.direction=="forward",c=Array.from(new Ys(u,Z2(VC({},i),{includeSelf:s,sameIndent:!0,sameAttributes:"listItemId"})));return s?c:c.reverse()}function FB(u,i){const s=new Ys(u,VC({sameIndent:!0,sameAttributes:"listType"},i)),c=new Ys(u,VC({sameIndent:!0,sameAttributes:"listType",includeSelf:!0,direction:"forward"},i));return[...Array.from(s).reverse(),...c]}function ap(u){return!Ys.first(u,{sameIndent:!0,sameAttributes:"listItemId"})}function LB(u){return!Ys.first(u,{direction:"forward",sameIndent:!0,sameAttributes:"listItemId"})}function GC(u,i={}){u=dn(u);const s=i.withNested!==!1,c=new Set;for(const h of u)for(const g of X2(h,{higherIndent:s}))c.add(g);return lp(c)}function sse(u){u=dn(u);const i=new Set;for(const s of u)for(const c of FB(s))i.add(c);return lp(i)}function J2(u,i){const s=bh(u,{direction:"forward"}),c=Wm.next();for(const h of s)i.setAttribute("listItemId",c,h);return s}function eM(u,i,s){const c={};for(const[g,w]of i.getAttributes())g.startsWith("list")&&(c[g]=w);const h=bh(u,{direction:"forward"});for(const g of h)s.setAttributes(c,g);return h}function tM(u,i,{expand:s,indentBy:c=1}={}){u=dn(u);const h=s?GC(u):u;for(const g of h){const w=g.getAttribute("listIndent")+c;w<0?VA(g,i):i.setAttribute("listIndent",w,g)}return h}function VA(u,i){u=dn(u);for(const s of u)s.is("element","listItem")&&i.rename(s,"paragraph");for(const s of u)for(const c of s.getAttributeKeys())c.startsWith("list")&&i.removeAttribute(c,s);return u}function UC(u){if(!u.length)return!1;const i=u[0].getAttribute("listItemId");return!!i&&!u.some((s=>s.getAttribute("listItemId")!=i))}function lp(u){return Array.from(u).filter((i=>i.root.rootName!=="$graveyard")).sort(((i,s)=>i.index-s.index))}function WC(u){const i=u.document.selection.getSelectedElement();return i&&u.schema.isObject(i)&&u.schema.isBlock(i)?i:null}function nM(u,i){return i.checkChild(u.parent,"listItem")&&i.checkChild(u,"$text")&&!i.isObject(u)}function ase(u){return u=="numbered"||u=="customNumbered"}function lse(u,i,s){return bh(i,{direction:"forward"}).pop().index>u.index?eM(u,i,s):[]}class BB extends Et{constructor(i,s){super(i),this._direction=s}refresh(){this.isEnabled=this._checkEnabled()}execute(){const i=this.editor.model,s=jB(i.document.selection);i.change((c=>{const h=[];UC(s)&&!ap(s[0])?(this._direction=="forward"&&h.push(...tM(s,c)),h.push(...J2(s[0],c))):this._direction=="forward"?h.push(...tM(s,c,{expand:!0})):h.push(...(function(g,w){const k=GC(g=dn(g)),_=new Set,R=Math.min(...k.map((F=>F.getAttribute("listIndent")))),I=new Map;for(const F of k)I.set(F,Ys.first(F,{lowerIndent:!0}));for(const F of k){if(_.has(F))continue;_.add(F);const H=F.getAttribute("listIndent")-1;if(H<0)VA(F,w);else{if(F.getAttribute("listIndent")==R){const G=lse(F,I.get(F),w);for(const W of G)_.add(W);if(G.length)continue}w.setAttribute("listIndent",H,F)}}return lp(_)})(s,c));for(const g of h){if(!g.hasAttribute("listType"))continue;const w=Ys.first(g,{sameIndent:!0});w&&c.setAttribute("listType",w.getAttribute("listType"),g)}this._fireAfterExecute(h)}))}_fireAfterExecute(i){this.fire("afterExecute",lp(new Set(i)))}_checkEnabled(){let i=jB(this.editor.model.document.selection),s=i[0];if(!s)return!1;if(this._direction=="backward"||UC(i)&&!ap(i[0]))return!0;i=GC(i),s=i[0];const c=Ys.first(s,{sameIndent:!0});return!!c&&c.getAttribute("listType")==s.getAttribute("listType")}}function jB(u){const i=Array.from(u.getSelectedBlocks()),s=i.findIndex((c=>!Vr(c)));return s!=-1&&(i.length=s),i}var cse=Object.defineProperty,dse=Object.defineProperties,use=Object.getOwnPropertyDescriptors,zB=Object.getOwnPropertySymbols,hse=Object.prototype.hasOwnProperty,fse=Object.prototype.propertyIsEnumerable,HB=(u,i,s)=>i in u?cse(u,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):u[i]=s,rM=(u,i)=>{for(var s in i||(i={}))hse.call(i,s)&&HB(u,s,i[s]);if(zB)for(var s of zB(i))fse.call(i,s)&&HB(u,s,i[s]);return u},iM=(u,i)=>dse(u,use(i));class GA extends Et{constructor(i,s,c={}){super(i),this.type=s,this._listWalkerOptions=c.multiLevel?{higherIndent:!0,lowerIndent:!0,sameAttributes:[]}:void 0}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(i={}){const s=this.editor.model,c=s.document,h=WC(s),g=Array.from(c.selection.getSelectedBlocks()).filter((k=>s.schema.checkAttribute(k,"listType")||nM(k,s.schema))),w=i.forceValue!==void 0?!i.forceValue:this.value;s.change((k=>{if(w){const _=g[g.length-1],R=bh(_,{direction:"forward"}),I=[];R.length>1&&I.push(...J2(R[1],k)),I.push(...VA(g,k)),I.push(...(function(F,H){const G=[];let W=Number.POSITIVE_INFINITY;for(const{node:Y}of HC(F.nextSibling,"forward")){const ie=Y.getAttribute("listIndent");if(ie==0)break;ie<W&&(W=ie);const de=ie-W;H.setAttribute("listIndent",de,Y),G.push(Y)}return G})(_,k)),this._fireAfterExecute(I)}else if((h||c.selection.isCollapsed)&&Vr(g[0])){const _=FB(h||g[0],this._listWalkerOptions);for(const R of _)k.setAttributes(iM(rM({},i.additionalAttributes),{listType:this.type}),R);this._fireAfterExecute(_)}else{const _=[];for(const R of g)if(R.hasAttribute("listType"))for(const I of GC(R,{withNested:!1}))I.getAttribute("listType")!=this.type&&(k.setAttributes(iM(rM({},i.additionalAttributes),{listType:this.type}),I),_.push(I));else!R.is("element","listItem")&&nM(R,s.schema)&&k.rename(R,"listItem"),k.setAttributes(iM(rM({},i.additionalAttributes),{listIndent:0,listItemId:Wm.next(),listType:this.type}),R),_.push(R);this._fireAfterExecute(_)}}))}_fireAfterExecute(i){this.fire("afterExecute",lp(new Set(i)))}_getValue(){const i=this.editor.model.document.selection,s=Array.from(i.getSelectedBlocks());if(!s.length)return!1;for(const c of s)if(c.getAttribute("listType")!=this.type)return!1;return!0}_checkEnabled(){const i=this.editor.model,s=i.schema,c=i.document.selection,h=Array.from(c.getSelectedBlocks());if(!h.length)return!1;if(this.value)return!0;for(const g of h)if(s.checkAttribute(g,"listType")||nM(g,s))return!0;return!1}}class VB extends Et{constructor(i,s){super(i),this._direction=s}refresh(){this.isEnabled=this._checkEnabled()}execute({shouldMergeOnBlocksContentLevel:i=!1}={}){const s=this.editor.model,c=s.document.selection,h=[];s.change((g=>{const{firstElement:w,lastElement:k}=this._getMergeSubjectElements(c,i),_=w.getAttribute("listIndent")||0,R=k.getAttribute("listIndent"),I=k.getAttribute("listItemId");if(_!=R){const H=(F=k,Array.from(new Ys(F,{direction:"forward",higherIndent:!0})));h.push(...tM([k,...H],g,{indentBy:_-R,expand:_<R}))}var F;if(i){let H=c;c.isCollapsed&&(H=g.createSelection(g.createRange(g.createPositionAt(w,"end"),g.createPositionAt(k,0)))),s.deleteContent(H,{doNotResetEntireContent:c.isCollapsed});const G=H.getLastPosition().parent,W=G.nextSibling;h.push(G),W&&W!==k&&W.getAttribute("listItemId")==I&&h.push(...eM(W,G,g))}else h.push(...eM(k,w,g));this._fireAfterExecute(h)}))}_fireAfterExecute(i){this.fire("afterExecute",lp(new Set(i)))}_checkEnabled(){const i=this.editor.model,s=i.document.selection,c=WC(i);if(s.isCollapsed||c){const h=c||s.getFirstPosition().parent;if(!Vr(h))return!1;const g=this._direction=="backward"?h.previousSibling:h.nextSibling;if(!g||UC([h,g]))return!1}else{const h=s.getLastPosition(),g=s.getFirstPosition();if(h.parent===g.parent||!Vr(h.parent))return!1}return!0}_getMergeSubjectElements(i,s){const c=WC(this.editor.model);let h,g;if(i.isCollapsed||c){const w=c||i.getFirstPosition().parent,k=ap(w);this._direction=="backward"?(g=w,h=k&&!s?Ys.first(w,{sameIndent:!0,lowerIndent:!0}):w.previousSibling):(h=w,g=w.nextSibling)}else h=i.getFirstPosition().parent,g=i.getLastPosition().parent;return{firstElement:h,lastElement:g}}}class GB extends Et{constructor(i,s){super(i),this._direction=s}refresh(){this.isEnabled=this._checkEnabled()}execute(){this.editor.model.change((i=>{const s=J2(this._getStartBlock(),i);this._fireAfterExecute(s)}))}_fireAfterExecute(i){this.fire("afterExecute",lp(new Set(i)))}_checkEnabled(){const i=this.editor.model.document.selection,s=this._getStartBlock();return i.isCollapsed&&Vr(s)&&!ap(s)}_getStartBlock(){const i=this.editor.model.document.selection.getFirstPosition().parent;return this._direction=="before"?i:i.nextSibling}}class pse extends Ve{static get pluginName(){return"ListUtils"}expandListBlocksToCompleteList(i){return sse(i)}isFirstBlockOfListItem(i){return ap(i)}isListItemBlock(i){return Vr(i)}expandListBlocksToCompleteItems(i,s={}){return GC(i,s)}isNumberedListType(i){return ase(i)}}function UB(u){return u.is("element","ol")||u.is("element","ul")}function UA(u){return u.is("element","li")}function gse(u,i,s,c=$B(s,i)){return u.createAttributeElement(WB(s),null,{priority:2*i/100-100,id:c})}function mse(u,i,s){return u.createAttributeElement("li",null,{priority:(2*i+1)/100-100,id:s})}function WB(u){return u=="numbered"||u=="customNumbered"?"ol":"ul"}function $B(u,i){return`list-${u}-${i}`}function Ga(u,i){const s=u.nodeBefore;if(Vr(s)){let c=s;for(const{node:h}of HC(c,"backward"))if(c=h,i.has(c))return;i.set(s,c)}else{const c=u.nodeAfter;Vr(c)&&i.set(c,c)}}function bse(){return(u,i,s)=>{const{writer:c,schema:h}=s;if(!i.modelRange)return;const g=Array.from(i.modelRange.getItems({shallow:!0})).filter((F=>h.checkAttribute(F,"listItemId")));if(!g.length)return;const w=Wm.next(),k=(function(F){let H=0,G=F.parent;for(;G;){if(UA(G))H++;else{const W=G.previousSibling;W&&UA(W)&&H++}G=G.parent}return H})(i.viewItem);let _=i.viewItem.parent&&i.viewItem.parent.is("element","ol")?"numbered":"bulleted";const R=g[0].getAttribute("listType");R&&(_=R);const I={listItemId:w,listIndent:k,listType:_};for(const F of g)F.hasAttribute("listItemId")||c.setAttributes(I,F);g.length>1&&g[1].getAttribute("listItemId")!=I.listItemId&&s.keepEmptyElement(g[0])}}function qB(){return(u,i,s)=>{if(!s.consumable.test(i.viewItem,{name:!0}))return;const c=new ja(i.viewItem.document);for(const h of Array.from(i.viewItem.getChildren()))UA(h)||UB(h)||c.remove(h)}}function KB(u,i,s,{dataPipeline:c}={}){const h=(function(g){return(w,k)=>{const _=[];for(const R of g)w.hasAttribute(R)&&_.push(`attribute:${R}`);return!!_.every((R=>k.test(w,R)!==!1))&&(_.forEach((R=>k.consume(w,R))),!0)}})(u);return(g,w,k)=>{const{writer:_,mapper:R,consumable:I}=k,F=w.item;if(!u.includes(w.attributeKey)||!h(F,I))return;const H=(function(W,Y,ie){const de=ie.createRangeOn(W);return Y.toViewRange(de).getTrimmed().end.nodeBefore})(F,R,s);QB(H,_,R),(function(W,Y){let ie=W.parent;for(;ie.is("attributeElement")&&["ul","ol","li"].includes(ie.name);){const de=ie.parent;Y.unwrap(Y.createRangeOn(W),ie),ie=de}})(H,_);const G=(function(W,Y,ie,de,{dataPipeline:ge}){let Ce=de.createRangeOn(Y);if(!ap(W))return Ce;for(const Fe of ie){if(Fe.scope!="itemMarker")continue;const Xe=Fe.createElement(de,W,{dataPipeline:ge});if(!Xe||(de.setCustomProperty("listItemMarker",!0,Xe),Fe.canInjectMarkerIntoElement&&Fe.canInjectMarkerIntoElement(W)?de.insert(de.createPositionAt(Y,0),Xe):(de.insert(Ce.start,Xe),Ce=de.createRange(de.createPositionBefore(Xe),de.createPositionAfter(Y))),!Fe.createWrapperElement||!Fe.canWrapElement))continue;const Ct=Fe.createWrapperElement(de,W,{dataPipeline:ge});de.setCustomProperty("listItemWrapper",!0,Ct),Fe.canWrapElement(W)?Ce=de.wrap(Ce,Ct):(Ce=de.wrap(de.createRangeOn(Xe),Ct),Ce=de.createRange(Ce.start,de.createPositionAfter(Y)))}return Ce})(F,H,i,_,{dataPipeline:c});(function(W,Y,ie,de){if(!W.hasAttribute("listIndent"))return;const ge=W.getAttribute("listIndent");let Ce=W;for(let Fe=ge;Fe>=0;Fe--){const Xe=mse(de,Fe,Ce.getAttribute("listItemId")),Ct=gse(de,Fe,Ce.getAttribute("listType"));for(const Rt of ie)Rt.scope!="list"&&Rt.scope!="item"||!Ce.hasAttribute(Rt.attributeName)||Rt.setAttributeOnDowncast(de,Ce.getAttribute(Rt.attributeName),Rt.scope=="list"?Ct:Xe);if(Y=de.wrap(Y,Xe),Y=de.wrap(Y,Ct),Fe==0||(Ce=Ys.first(Ce,{lowerIndent:!0}),!Ce))break}})(F,G,i,_)}}function YB(u,{dataPipeline:i}={}){return(s,{writer:c})=>{if(!ZB(s,u))return null;if(!i)return c.createContainerElement("span",{class:"ck-list-bogus-paragraph"});const h=c.createContainerElement("p");return c.setCustomProperty("dataPipeline:transparentRendering",!0,h),h}}function QB(u,i,s){for(;u.parent.is("attributeElement")&&u.parent.getCustomProperty("listItemWrapper");)i.unwrap(i.createRangeOn(u),u.parent);const c=[];h(i.createPositionBefore(u).getWalker({direction:"backward"})),h(i.createRangeIn(u).getWalker());for(const g of c)i.remove(g);function h(g){for(const{item:w}of g){if(w.is("element")&&s.toModelElement(w))break;w.is("element")&&w.getCustomProperty("listItemMarker")&&c.push(w)}}}function ZB(u,i,s=X2(u)){if(!Vr(u))return!1;for(const c of u.getAttributeKeys())if(!c.startsWith("selection:")&&!i.includes(c))return!1;return s.length<2}var XB=o(1232),vse={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$e()(XB.A,vse),XB.A.locals;var JB=o(6903),wse={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$e()(JB.A,wse),JB.A.locals;const WA=["listType","listIndent","listItemId"];class Cse extends Ve{constructor(i){super(i),this._downcastStrategies=[],i.config.define("list.multiBlock",!0)}static get pluginName(){return"ListEditing"}static get requires(){return[DA,ld,pse,qs]}init(){const i=this.editor,s=i.model,c=i.config.get("list.multiBlock");if(i.plugins.has("LegacyListEditing"))throw new z("list-feature-conflict",this,{conflictPlugin:"LegacyListEditing"});s.schema.register("$listItem",{allowAttributes:WA}),c?(s.schema.extend("$container",{allowAttributesOf:"$listItem"}),s.schema.extend("$block",{allowAttributesOf:"$listItem"}),s.schema.extend("$blockObject",{allowAttributesOf:"$listItem"})):s.schema.register("listItem",{inheritAllFrom:"$block",allowAttributesOf:"$listItem"});for(const h of WA)s.schema.setAttributeProperties(h,{copyOnReplace:!0});i.commands.add("numberedList",new GA(i,"numbered")),i.commands.add("bulletedList",new GA(i,"bulleted")),i.commands.add("customNumberedList",new GA(i,"customNumbered",{multiLevel:!0})),i.commands.add("customBulletedList",new GA(i,"customBulleted",{multiLevel:!0})),i.commands.add("indentList",new BB(i,"forward")),i.commands.add("outdentList",new BB(i,"backward")),i.commands.add("splitListItemBefore",new GB(i,"before")),i.commands.add("splitListItemAfter",new GB(i,"after")),c&&(i.commands.add("mergeListItemBackward",new VB(i,"backward")),i.commands.add("mergeListItemForward",new VB(i,"forward"))),this._setupDeleteIntegration(),this._setupEnterIntegration(),this._setupTabIntegration(),this._setupClipboardIntegration(),this._setupAccessibilityIntegration()}afterInit(){const i=this.editor.commands,s=i.get("indent"),c=i.get("outdent");s&&s.registerChildCommand(i.get("indentList"),{priority:"high"}),c&&c.registerChildCommand(i.get("outdentList"),{priority:"lowest"}),this._setupModelPostFixing(),this._setupConversion()}registerDowncastStrategy(i){this._downcastStrategies.push(i)}getListAttributeNames(){return[...WA,...this._downcastStrategies.map((i=>i.attributeName))]}_setupDeleteIntegration(){const i=this.editor,s=i.commands.get("mergeListItemBackward"),c=i.commands.get("mergeListItemForward");this.listenTo(i.editing.view.document,"delete",((h,g)=>{const w=i.model.document.selection;WC(i.model)||i.model.change((()=>{const k=w.getFirstPosition();if(w.isCollapsed&&g.direction=="backward"){if(!k.isAtStart)return;const _=k.parent;if(!Vr(_))return;if(Ys.first(_,{sameAttributes:"listType",sameIndent:!0})||_.getAttribute("listIndent")!==0){if(!s||!s.isEnabled)return;s.execute({shouldMergeOnBlocksContentLevel:ej(i.model,"backward")})}else LB(_)||i.execute("splitListItemAfter"),i.execute("outdentList");g.preventDefault(),h.stop()}else{if(w.isCollapsed&&!w.getLastPosition().isAtEnd||!c||!c.isEnabled)return;c.execute({shouldMergeOnBlocksContentLevel:ej(i.model,"forward")}),g.preventDefault(),h.stop()}}))}),{context:"li"})}_setupEnterIntegration(){const i=this.editor,s=i.model,c=i.commands,h=c.get("enter");this.listenTo(i.editing.view.document,"enter",((g,w)=>{const k=s.document,_=k.selection.getFirstPosition().parent;if(k.selection.isCollapsed&&Vr(_)&&_.isEmpty&&!w.isSoft){const R=ap(_),I=LB(_);R&&I?(i.execute("outdentList"),w.preventDefault(),g.stop()):R&&!I?(i.execute("splitListItemAfter"),w.preventDefault(),g.stop()):I&&(i.execute("splitListItemBefore"),w.preventDefault(),g.stop())}}),{context:"li"}),this.listenTo(h,"afterExecute",(()=>{const g=c.get("splitListItemBefore");g.refresh(),g.isEnabled&&X2(i.model.document.selection.getLastPosition().parent).length===2&&g.execute()}))}_setupTabIntegration(){const i=this.editor;this.listenTo(i.editing.view.document,"tab",((s,c)=>{const h=c.shiftKey?"outdentList":"indentList";this.editor.commands.get(h).isEnabled&&(i.execute(h),c.stopPropagation(),c.preventDefault(),s.stop())}),{context:"li"})}_setupConversion(){const i=this.editor,s=i.model,c=this.getListAttributeNames(),h=i.config.get("list.multiBlock"),g=h?"paragraph":"listItem";i.conversion.for("upcast").elementToElement({view:"li",model:(R,{writer:I})=>I.createElement(g,{listType:""})}).elementToElement({view:"p",model:(R,{writer:I})=>R.parent&&R.parent.is("element","li")?I.createElement(g,{listType:""}):null,converterPriority:"high"}).add((R=>{R.on("element:li",bse()),R.on("element:ul",qB(),{priority:"high"}),R.on("element:ol",qB(),{priority:"high"})})),h||i.conversion.for("downcast").elementToElement({model:"listItem",view:"p"}),i.conversion.for("editingDowncast").elementToElement({model:g,view:YB(c),converterPriority:"high"}).add((R=>{var I;R.on("attribute",KB(c,this._downcastStrategies,s)),R.on("remove",(I=s.schema,(F,H,G)=>{const{writer:W,mapper:Y}=G,ie=F.name.split(":")[1];if(!I.checkAttribute(ie,"listItemId"))return;const de=Y.toViewPosition(H.position),ge=H.position.getShiftedBy(H.length),Ce=Y.toViewPosition(ge,{isPhantom:!0}),Fe=W.createRange(de,Ce).getTrimmed().end.nodeBefore;Fe&&QB(Fe,W,Y)}))})),i.conversion.for("dataDowncast").elementToElement({model:g,view:YB(c,{dataPipeline:!0}),converterPriority:"high"}).add((R=>{R.on("attribute",KB(c,this._downcastStrategies,s,{dataPipeline:!0}))}));const w=(k=this._downcastStrategies,_=i.editing.view,(R,I)=>{if(I.modelPosition.offset>0)return;const F=I.modelPosition.parent;if(!Vr(F)||!k.some((ie=>ie.scope=="itemMarker"&&ie.canInjectMarkerIntoElement&&ie.canInjectMarkerIntoElement(F))))return;const H=I.mapper.toViewElement(F),G=_.createRangeIn(H),W=G.getWalker();let Y=G.start;for(const{item:ie}of W){if(ie.is("element")&&I.mapper.toModelElement(ie)||ie.is("$textProxy"))break;ie.is("element")&&ie.getCustomProperty("listItemMarker")&&(Y=_.createPositionAfter(ie),W.skip((({previousPosition:de})=>!de.isEqual(Y))))}I.viewPosition=Y});var k,_;i.editing.mapper.on("modelToViewPosition",w),i.data.mapper.on("modelToViewPosition",w),this.listenTo(s.document,"change:data",(function(R,I,F,H){return()=>{const ie=R.document.differ.getChanges(),de=[],ge=new Map,Ce=new Set;for(const Fe of ie)if(Fe.type=="insert"&&Fe.name!="$text")Ga(Fe.position,ge),Fe.attributes.has("listItemId")?Ce.add(Fe.position.nodeAfter):Ga(Fe.position.getShiftedBy(Fe.length),ge);else if(Fe.type=="remove"&&Fe.attributes.has("listItemId"))Ga(Fe.position,ge);else if(Fe.type=="attribute"){const Xe=Fe.range.start.nodeAfter;F.includes(Fe.attributeKey)?(Ga(Fe.range.start,ge),Fe.attributeNewValue===null?(Ga(Fe.range.start.getShiftedBy(1),ge),W(Xe)&&de.push(Xe)):Ce.add(Xe)):Vr(Xe)&&W(Xe)&&de.push(Xe)}for(const Fe of ge.values())de.push(...G(Fe,Ce));for(const Fe of new Set(de))I.reconvertItem(Fe)};function G(ie,de){const ge=[],Ce=new Set,Fe=[];for(const{node:Xe,previous:Ct}of HC(ie,"forward")){if(Ce.has(Xe))continue;const Rt=Xe.getAttribute("listIndent");Ct&&Rt<Ct.getAttribute("listIndent")&&(Fe.length=Rt+1),Fe[Rt]=Object.fromEntries(Array.from(Xe.getAttributes()).filter((([Gr])=>F.includes(Gr))));const Fn=bh(Xe,{direction:"forward"});for(const Gr of Fn)Ce.add(Gr),(W(Gr,Fn)||Y(Gr,Fe,de))&&ge.push(Gr)}return ge}function W(ie,de){const ge=I.mapper.toViewElement(ie);if(!ge)return!1;if(H.fire("checkElement",{modelElement:ie,viewElement:ge}))return!0;if(!ie.is("element","paragraph")&&!ie.is("element","listItem"))return!1;const Ce=ZB(ie,F,de);return!(!Ce||!ge.is("element","p"))||!(Ce||!ge.is("element","span"))}function Y(ie,de,ge){if(ge.has(ie))return!1;const Ce=I.mapper.toViewElement(ie);let Fe=de.length-1;for(let Xe=Ce.parent;!Xe.is("editableElement");Xe=Xe.parent){const Ct=UA(Xe),Rt=UB(Xe);if(!Rt&&!Ct)continue;const Fn="checkAttributes:"+(Ct?"item":"list");if(H.fire(Fn,{viewElement:Xe,modelAttributes:de[Fe]}))break;if(Rt&&(Fe--,Fe<0))return!1}return!0}})(s,i.editing,c,this),{priority:"high"}),this.on("checkAttributes:item",((R,{viewElement:I,modelAttributes:F})=>{I.id!=F.listItemId&&(R.return=!0,R.stop())})),this.on("checkAttributes:list",((R,{viewElement:I,modelAttributes:F})=>{I.name==WB(F.listType)&&I.id==$B(F.listType,F.listIndent)||(R.return=!0,R.stop())}))}_setupModelPostFixing(){const i=this.editor.model,s=this.getListAttributeNames();i.document.registerPostFixer((c=>(function(h,g,w,k){const _=h.document.differ.getChanges(),R=new Map,I=k.editor.config.get("list.multiBlock");let F=!1;for(const G of _){if(G.type=="insert"&&G.name!="$text"){const W=G.position.nodeAfter;if(!h.schema.checkAttribute(W,"listItemId"))for(const Y of Array.from(W.getAttributeKeys()))w.includes(Y)&&(g.removeAttribute(Y,W),F=!0);Ga(G.position,R),G.attributes.has("listItemId")||Ga(G.position.getShiftedBy(G.length),R);for(const{item:Y,previousPosition:ie}of h.createRangeIn(W))Vr(Y)&&Ga(ie,R)}else G.type=="remove"?Ga(G.position,R):G.type=="attribute"&&w.includes(G.attributeKey)&&(Ga(G.range.start,R),G.attributeNewValue===null&&Ga(G.range.start.getShiftedBy(1),R));if(!I&&G.type=="attribute"&&WA.includes(G.attributeKey)){const W=G.range.start.nodeAfter;G.attributeNewValue===null&&W&&W.is("element","listItem")?(g.rename(W,"paragraph"),F=!0):G.attributeOldValue===null&&W&&W.is("element")&&W.name!="listItem"&&(g.rename(W,"listItem"),F=!0)}}const H=new Set;for(const G of R.values())F=k.fire("postFixer",{listNodes:new ese(G),listHead:G,writer:g,seenIds:H})||F;return F})(i,c,s,this))),this.on("postFixer",((c,{listNodes:h,writer:g})=>{c.return=(function(w,k){let _=0,R=-1,I=null,F=!1;for(const{node:H}of w){const G=H.getAttribute("listIndent");if(G>_){let W;I===null?(I=G-_,W=_):(I>G&&(I=G),W=G-I),W>R+1&&(W=R+1),k.setAttribute("listIndent",W,H),F=!0,R=W}else I=null,_=G+1,R=G}return F})(h,g)||c.return}),{priority:"high"}),this.on("postFixer",((c,{listNodes:h,writer:g,seenIds:w})=>{c.return=(function(k,_,R){const I=new Set;let F=!1;for(const{node:H}of k){if(I.has(H))continue;let G=H.getAttribute("listType"),W=H.getAttribute("listItemId");if(_.has(W)&&(W=Wm.next()),_.add(W),H.is("element","listItem"))H.getAttribute("listItemId")!=W&&(R.setAttribute("listItemId",W,H),F=!0);else for(const Y of bh(H,{direction:"forward"}))I.add(Y),Y.getAttribute("listType")!=G&&(W=Wm.next(),G=Y.getAttribute("listType")),Y.getAttribute("listItemId")!=W&&(R.setAttribute("listItemId",W,Y),F=!0)}return F})(h,w,g)||c.return}),{priority:"high"})}_setupClipboardIntegration(){const i=this.editor.model,s=this.editor.plugins.get("ClipboardPipeline");this.listenTo(i,"insertContent",(function(c){return(h,[g,w])=>{const k=g.is("documentFragment")?Array.from(g.getChildren()):[g];if(!k.length)return;const _=(w?c.createSelection(w):c.document.selection).getFirstPosition();let R;if(Vr(_.parent))R=_.parent;else{if(!Vr(_.nodeBefore))return;R=_.nodeBefore}c.change((I=>{const F=R.getAttribute("listType"),H=R.getAttribute("listIndent"),G=k[0].getAttribute("listIndent")||0,W=Math.max(H-G,0);for(const Y of k){const ie=Vr(Y);R.is("element","listItem")&&Y.is("element","paragraph")&&I.rename(Y,"listItem"),I.setAttributes({listIndent:(ie?Y.getAttribute("listIndent"):0)+W,listItemId:ie?Y.getAttribute("listItemId"):Wm.next(),listType:F},Y)}}))}})(i),{priority:"high"}),this.listenTo(s,"outputTransformation",((c,h)=>{i.change((g=>{const w=Array.from(h.content.getChildren()),k=w[w.length-1];if(w.length>1&&k.is("element")&&k.isEmpty&&w.slice(0,-1).every(Vr)&&g.remove(k),h.method=="copy"||h.method=="cut"){const _=Array.from(h.content.getChildren());UC(_)&&VA(_,g)}}))}))}_setupAccessibilityIntegration(){const i=this.editor,s=i.t;i.accessibility.addKeystrokeInfoGroup({id:"list",label:s("Keystrokes that can be used in a list"),keystrokes:[{label:s("Increase list item indent"),keystroke:"Tab"},{label:s("Decrease list item indent"),keystroke:"Shift+Tab"}]})}}function ej(u,i){const s=u.document.selection;if(!s.isCollapsed)return!WC(u);if(i==="forward")return!0;const c=s.getFirstPosition().parent,h=c.previousSibling;return!u.schema.isObject(h)&&(!!h.isEmpty||UC([c,h]))}function tj(u,i,s,c){u.ui.componentFactory.add(i,(()=>{const h=nj(Ut,u,i,s,c);return h.set({tooltip:!0,isToggleable:!0}),h})),u.ui.componentFactory.add(`menuBar:${i}`,(()=>nj(fs,u,i,s,c)))}function nj(u,i,s,c,h){const g=i.commands.get(s),w=new u(i.locale);return w.set({label:c,icon:h}),w.bind("isOn","isEnabled").to(g,"value","isEnabled"),w.on("execute",(()=>{i.execute(s),i.editing.view.focus()})),w}class yse extends Ve{static get pluginName(){return"ListUI"}init(){const i=this.editor.t;this.editor.ui.componentFactory.has("numberedList")||tj(this.editor,"numberedList",i("Numbered List"),Dt.numberedList),this.editor.ui.componentFactory.has("bulletedList")||tj(this.editor,"bulletedList",i("Bulleted List"),Dt.bulletedList)}}class kse extends Ve{static get requires(){return[Cse,yse]}static get pluginName(){return"List"}}const xse=[{listStyle:"disc",typeAttribute:"disc",listType:"bulleted"},{listStyle:"circle",typeAttribute:"circle",listType:"bulleted"},{listStyle:"square",typeAttribute:"square",listType:"bulleted"},{listStyle:"decimal",typeAttribute:"1",listType:"numbered"},{listStyle:"decimal-leading-zero",typeAttribute:null,listType:"numbered"},{listStyle:"lower-roman",typeAttribute:"i",listType:"numbered"},{listStyle:"upper-roman",typeAttribute:"I",listType:"numbered"},{listStyle:"lower-alpha",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-alpha",typeAttribute:"A",listType:"numbered"},{listStyle:"lower-latin",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-latin",typeAttribute:"A",listType:"numbered"}];for(const{listStyle:u,typeAttribute:i,listType:s}of xse);var rj=o(9968),Ase={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$e()(rj.A,Ase),rj.A.locals;var ij=o(7141),Sse={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$e()(ij.A,Sse),ij.A.locals,ro("Ctrl+Enter");var oj=o(8991),_se={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$e()(oj.A,_se),oj.A.locals,ro("Ctrl+Enter");function sj(u,i){const s=(c,h,g)=>{if(!g.consumable.consume(h.item,c.name))return;const w=h.attributeNewValue,k=g.writer,_=g.mapper.toViewElement(h.item),R=[..._.getChildren()].find((F=>F.getCustomProperty("media-content")));k.remove(R);const I=u.getMediaViewElement(k,w,i);k.insert(k.createPositionAt(_,0),I)};return c=>{c.on("attribute:url:media",s)}}function aj(u,i,s,c){return u.createContainerElement("figure",{class:"media"},[i.getMediaViewElement(u,s,c),u.createSlot()])}function lj(u){const i=u.getSelectedElement();return i&&i.is("element","media")?i:null}function cj(u,i,s,c){u.change((h=>{const g=h.createElement("media",{url:i});u.insertObject(g,s,null,{setSelection:"on",findOptimalPosition:c?"auto":void 0})}))}class Ese extends Et{refresh(){const i=this.editor.model,s=i.document.selection,c=lj(s);this.value=c?c.getAttribute("url"):void 0,this.isEnabled=(function(h){const g=h.getSelectedElement();return!!g&&g.name==="media"})(s)||(function(h,g){let k=uL(h,g).start.parent;return k.isEmpty&&!g.schema.isLimit(k)&&(k=k.parent),g.schema.checkChild(k,"media")})(s,i)}execute(i){const s=this.editor.model,c=s.document.selection,h=lj(c);h?s.change((g=>{g.setAttribute("url",i,h)})):cj(s,i,c,!0)}}class Dse{constructor(i,s){const c=s.providers,h=s.extraProviders||[],g=new Set(s.removeProviders),w=c.concat(h).filter((k=>{const _=k.name;return _?!g.has(_):(K("media-embed-no-provider-name",{provider:k}),!1)}));this.locale=i,this.providerDefinitions=w}hasMedia(i){return!!this._getMedia(i)}getMediaViewElement(i,s,c){return this._getMedia(s).getViewElement(i,c)}_getMedia(i){if(!i)return new dj(this.locale);i=i.trim();for(const s of this.providerDefinitions){const c=s.html,h=dn(s.url);for(const g of h){const w=this._getUrlMatches(i,g);if(w)return new dj(this.locale,i,w,c)}}return null}_getUrlMatches(i,s){let c=i.match(s);if(c)return c;let h=i.replace(/^https?:\/\//,"");return c=h.match(s),c||(h=h.replace(/^www\./,""),c=h.match(s),c||null)}}class dj{constructor(i,s,c,h){this.url=this._getValidUrl(s),this._locale=i,this._match=c,this._previewRenderer=h}getViewElement(i,s){const c={};let h;if(s.renderForEditingView||s.renderMediaPreview&&this.url&&this._previewRenderer){this.url&&(c["data-oembed-url"]=this.url),s.renderForEditingView&&(c.class="ck-media__wrapper");const g=this._getPreviewHtml(s);h=i.createRawElement("div",c,((w,k)=>{k.setContentOf(w,g)}))}else this.url&&(c.url=this.url),h=i.createEmptyElement(s.elementName,c);return i.setCustomProperty("media-content",!0,h),h}_getPreviewHtml(i){return this._previewRenderer?this._previewRenderer(this._match):this.url&&i.renderForEditingView?this._getPlaceholderHtml():""}_getPlaceholderHtml(){const i=new Ha,s=this._locale.t;return i.content='<svg viewBox="0 0 64 42" xmlns="http://www.w3.org/2000/svg"><path d="M47.426 17V3.713L63.102 0v19.389h-.001l.001.272c0 1.595-2.032 3.43-4.538 4.098-2.506.668-4.538-.083-4.538-1.678 0-1.594 2.032-3.43 4.538-4.098.914-.244 2.032-.565 2.888-.603V4.516L49.076 7.447v9.556A1.014 1.014 0 0 0 49 17h-1.574zM29.5 17h-8.343a7.073 7.073 0 1 0-4.657 4.06v3.781H3.3a2.803 2.803 0 0 1-2.8-2.804V8.63a2.803 2.803 0 0 1 2.8-2.805h4.082L8.58 2.768A1.994 1.994 0 0 1 10.435 1.5h8.985c.773 0 1.477.448 1.805 1.149l1.488 3.177H26.7c1.546 0 2.8 1.256 2.8 2.805V17zm-11.637 0H17.5a1 1 0 0 0-1 1v.05A4.244 4.244 0 1 1 17.863 17zm29.684 2c.97 0 .953-.048.953.889v20.743c0 .953.016.905-.953.905H19.453c-.97 0-.953.048-.953-.905V19.89c0-.937-.016-.889.97-.889h28.077zm-4.701 19.338V22.183H24.154v16.155h18.692zM20.6 21.375v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616V37.53H20.6zm24.233-16.155v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615V37.53h-1.615zM29.485 25.283a.4.4 0 0 1 .593-.35l9.05 4.977a.4.4 0 0 1 0 .701l-9.05 4.978a.4.4 0 0 1-.593-.35v-9.956z"/></svg>',i.viewBox="0 0 64 42",new Xr({tag:"div",attributes:{class:"ck ck-reset_all ck-media__placeholder"},children:[{tag:"div",attributes:{class:"ck-media__placeholder__icon"},children:[i]},{tag:"a",attributes:{class:"ck-media__placeholder__url",target:"_blank",rel:"noopener noreferrer",href:this.url,"data-cke-tooltip-text":s("Open media in new tab")},children:[{tag:"span",attributes:{class:"ck-media__placeholder__url__text"},children:[this.url]}]}]}).render().outerHTML}_getValidUrl(i){return i?i.match(/^https?/)?i:"https://"+i:null}}var uj=o(7048),Mse={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$e()(uj.A,Mse),uj.A.locals;class $A extends Ve{constructor(i){super(i),i.config.define("mediaEmbed",{elementName:"oembed",providers:[{name:"dailymotion",url:[/^dailymotion\.com\/video\/(\w+)/,/^dai.ly\/(\w+)/],html:s=>`<div style="position: relative; padding-bottom: 100%; height: 0; "><iframe src="https://www.dailymotion.com/embed/video/${s[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" width="480" height="270" allowfullscreen allow="autoplay"></iframe></div>`},{name:"spotify",url:[/^open\.spotify\.com\/(artist\/\w+)/,/^open\.spotify\.com\/(album\/\w+)/,/^open\.spotify\.com\/(track\/\w+)/],html:s=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 126%;"><iframe src="https://open.spotify.com/embed/${s[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe></div>`},{name:"youtube",url:[/^(?:m\.)?youtube\.com\/watch\?v=([\w-]+)(?:&t=(\d+))?/,/^(?:m\.)?youtube\.com\/v\/([\w-]+)(?:\?t=(\d+))?/,/^youtube\.com\/embed\/([\w-]+)(?:\?start=(\d+))?/,/^youtu\.be\/([\w-]+)(?:\?t=(\d+))?/],html:s=>{const c=s[1],h=s[2];return`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://www.youtube.com/embed/${c}${h?`?start=${h}`:""}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div>`}},{name:"vimeo",url:[/^vimeo\.com\/(\d+)/,/^vimeo\.com\/[^/]+\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/album\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/channels\/[^/]+\/(\d+)/,/^vimeo\.com\/groups\/[^/]+\/videos\/(\d+)/,/^vimeo\.com\/ondemand\/[^/]+\/(\d+)/,/^player\.vimeo\.com\/video\/(\d+)/],html:s=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://player.vimeo.com/video/${s[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>`},{name:"instagram",url:/^instagram\.com\/p\/(\w+)/},{name:"twitter",url:/^twitter\.com/},{name:"googleMaps",url:[/^google\.com\/maps/,/^goo\.gl\/maps/,/^maps\.google\.com/,/^maps\.app\.goo\.gl/]},{name:"flickr",url:/^flickr\.com/},{name:"facebook",url:/^facebook\.com/}]}),this.registry=new Dse(i.locale,i.config.get("mediaEmbed"))}static get pluginName(){return"MediaEmbedEditing"}init(){const i=this.editor,s=i.model.schema,c=i.t,h=i.conversion,g=i.config.get("mediaEmbed.previewsInData"),w=i.config.get("mediaEmbed.elementName"),k=this.registry;i.commands.add("mediaEmbed",new Ese(i)),s.register("media",{inheritAllFrom:"$blockObject",allowAttributes:["url"]}),h.for("dataDowncast").elementToStructure({model:"media",view:(_,{writer:R})=>{const I=_.getAttribute("url");return aj(R,k,I,{elementName:w,renderMediaPreview:!!I&&g})}}),h.for("dataDowncast").add(sj(k,{elementName:w,renderMediaPreview:g})),h.for("editingDowncast").elementToStructure({model:"media",view:(_,{writer:R})=>{const I=_.getAttribute("url");return(function(F,H,G){return H.setCustomProperty("media",!0,F),I2(F,H,{label:G})})(aj(R,k,I,{elementName:w,renderForEditingView:!0}),R,c("media widget"))}}),h.for("editingDowncast").add(sj(k,{elementName:w,renderForEditingView:!0})),h.for("upcast").elementToElement({view:_=>["oembed",w].includes(_.name)&&_.getAttribute("url")?{name:!0}:null,model:(_,{writer:R})=>{const I=_.getAttribute("url");return k.hasMedia(I)?R.createElement("media",{url:I}):null}}).elementToElement({view:{name:"div",attributes:{"data-oembed-url":!0}},model:(_,{writer:R})=>{const I=_.getAttribute("data-oembed-url");return k.hasMedia(I)?R.createElement("media",{url:I}):null}}).add((_=>{_.on("element:figure",((R,I,F)=>{if(!F.consumable.consume(I.viewItem,{name:!0,classes:"media"}))return;const{modelRange:H,modelCursor:G}=F.convertChildren(I.viewItem,I.modelCursor);I.modelRange=H,I.modelCursor=G,sr(H.getItems())||F.consumable.revert(I.viewItem,{name:!0,classes:"media"})}))}))}}const Tse=/^(?:http(s)?:\/\/)?[\w-]+\.[\w-.~:/?#[\]@!$&'()*+,;=%]+$/;class Rse extends Ve{constructor(i){super(i),this._timeoutId=null,this._positionToInsert=null}static get requires(){return[TL,ld,OL]}static get pluginName(){return"AutoMediaEmbed"}init(){const i=this.editor,s=i.model.document,c=i.plugins.get("ClipboardPipeline");this.listenTo(c,"inputTransformation",(()=>{const h=s.selection.getFirstRange(),g=Ar.fromPosition(h.start);g.stickiness="toPrevious";const w=Ar.fromPosition(h.end);w.stickiness="toNext",s.once("change:data",(()=>{this._embedMediaBetweenPositions(g,w),g.detach(),w.detach()}),{priority:"high"})})),i.commands.get("undo").on("execute",(()=>{this._timeoutId&&(d.window.clearTimeout(this._timeoutId),this._positionToInsert.detach(),this._timeoutId=null,this._positionToInsert=null)}),{priority:"high"})}_embedMediaBetweenPositions(i,s){const c=this.editor,h=c.plugins.get($A).registry,g=new xt(i,s),w=g.getWalker({ignoreElementEnd:!0});let k="";for(const _ of w)_.item.is("$textProxy")&&(k+=_.item.data);if(k=k.trim(),!k.match(Tse)||!h.hasMedia(k))return void g.detach();c.commands.get("mediaEmbed").isEnabled?(this._positionToInsert=Ar.fromPosition(i),this._timeoutId=d.window.setTimeout((()=>{c.model.change((_=>{this._timeoutId=null,_.remove(g),g.detach();let R=null;this._positionToInsert.root.rootName!=="$graveyard"&&(R=this._positionToInsert),cj(c.model,k,R,!1),this._positionToInsert.detach(),this._positionToInsert=null})),c.plugins.get(ld).requestUndoOnBackspace()}),100)):g.detach()}}var hj=o(5651),Pse={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$e()(hj.A,Pse),hj.A.locals;class Ise extends st{constructor(i,s){super(s);const c=s.t;this.focusTracker=new kr,this.keystrokes=new fi,this.set("mediaURLInputValue",""),this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(c("Save"),Dt.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(c("Cancel"),Dt.cancel,"ck-button-cancel","cancel"),this._focusables=new Mi,this._focusCycler=new Je({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this._validators=i,this.setTemplate({tag:"form",attributes:{class:["ck","ck-media-form","ck-responsive-form"],tabindex:"-1"},children:[this.urlInputView,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),ls({view:this}),[this.urlInputView,this.saveButtonView,this.cancelButtonView].forEach((s=>{this._focusables.add(s),this.focusTracker.add(s.element)})),this.keystrokes.listenTo(this.element);const i=s=>s.stopPropagation();this.keystrokes.set("arrowright",i),this.keystrokes.set("arrowleft",i),this.keystrokes.set("arrowup",i),this.keystrokes.set("arrowdown",i)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}get url(){return this.urlInputView.fieldView.element.value.trim()}set url(i){this.urlInputView.fieldView.element.value=i.trim()}isValid(){this.resetFormStatus();for(const i of this._validators){const s=i(this);if(s)return this.urlInputView.errorText=s,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null,this.urlInputView.infoText=this._urlInputViewInfoDefault}_createUrlInput(){const i=this.locale.t,s=new p(this.locale,mA),c=s.fieldView;return this._urlInputViewInfoDefault=i("Paste the media URL in the input."),this._urlInputViewInfoTip=i("Tip: Paste the URL into the content to embed faster."),s.label=i("Media URL"),s.infoText=this._urlInputViewInfoDefault,c.on("input",(()=>{s.infoText=c.element.value?this._urlInputViewInfoTip:this._urlInputViewInfoDefault,this.mediaURLInputValue=c.element.value.trim()})),s}_createButton(i,s,c,h){const g=new Ut(this.locale);return g.set({label:i,icon:s,tooltip:!0}),g.extendTemplate({attributes:{class:c}}),h&&g.delegate("execute").to(this,h),g}}class Nse extends Ve{static get requires(){return[$A]}static get pluginName(){return"MediaEmbedUI"}init(){const i=this.editor,s=i.commands.get("mediaEmbed");i.ui.componentFactory.add("mediaEmbed",(c=>{const h=sd(c);return this._setUpDropdown(h,s),h}))}_setUpDropdown(i,s){const c=this.editor,h=c.t,g=i.buttonView,w=c.plugins.get($A).registry;i.once("change:isOpen",(()=>{const k=new(Fg(Ise))((function(_,R){return[I=>{if(!I.url.length)return _("The URL must not be empty.")},I=>{if(!R.hasMedia(I.url))return _("This media URL is not supported.")}]})(c.t,w),c.locale);i.panelView.children.add(k),g.on("open",(()=>{k.disableCssTransitions(),k.url=s.value||"",k.urlInputView.fieldView.select(),k.enableCssTransitions()}),{priority:"low"}),i.on("submit",(()=>{k.isValid()&&(c.execute("mediaEmbed",k.url),c.editing.view.focus())})),i.on("change:isOpen",(()=>k.resetFormStatus())),i.on("cancel",(()=>{c.editing.view.focus()})),k.delegate("submit","cancel").to(i),k.urlInputView.fieldView.bind("value").to(s,"value"),k.urlInputView.on("change:errorText",(()=>{c.ui.update()})),k.urlInputView.bind("isEnabled").to(s,"isEnabled")})),i.bind("isEnabled").to(s),g.set({label:h("Insert media"),icon:'<svg viewBox="0 0 22 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.587 1.5c-.612 0-.601-.029-.601.551v14.84c0 .59-.01.559.591.559h18.846c.602 0 .591.03.591-.56V2.052c0-.58.01-.55-.591-.55H1.587Zm.701.971h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-14.24 1h13.008v12H4.467l.029-12Zm-2.208 1h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003l-.029 1h-.974v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h.974v1h-.974v-1Zm16.448 0h1.003v1h-1.003v-1Z"/><path d="M8.374 6.648a.399.399 0 0 1 .395-.4.402.402 0 0 1 .2.049l5.148 2.824a.4.4 0 0 1 0 .7l-5.148 2.824a.403.403 0 0 1-.595-.35V6.648Z"/></svg>',tooltip:!0})}}var fj=o(70),Ose={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$e()(fj.A,Ose),fj.A.locals;function pj(u){return u!==void 0&&u.endsWith("px")}function $m(u){return u.toFixed(2).replace(/\.?0+$/,"")+"px"}var Fse=Object.defineProperty,Lse=Object.defineProperties,Bse=Object.getOwnPropertyDescriptors,gj=Object.getOwnPropertySymbols,jse=Object.prototype.hasOwnProperty,zse=Object.prototype.propertyIsEnumerable,mj=(u,i,s)=>i in u?Fse(u,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):u[i]=s,Hse=(u,i)=>{for(var s in i||(i={}))jse.call(i,s)&&mj(u,s,i[s]);if(gj)for(var s of gj(i))zse.call(i,s)&&mj(u,s,i[s]);return u};function Vse(u,i,s){if(!u.childCount)return;const c=new ja(u.document),h=(function(_,R){const I=R.createRangeIn(_),F=[],H=new Set;for(const G of I.getItems()){if(!G.is("element")||!G.name.match(/^(p|h\d+|li|div)$/))continue;let W=Qse(G);if(W===void 0||parseFloat(W)!=0||Array.from(G.getClassNames()).find((Y=>Y.startsWith("MsoList")))||(W=void 0),G.hasStyle("mso-list")||W!==void 0&&H.has(W)){const Y=Kse(G);F.push({element:G,id:Y.id,order:Y.order,indent:Y.indent,marginLeft:W}),W!==void 0&&H.add(W)}else H.clear()}return F})(u,c);if(!h.length)return;const g={},w=[];for(const _ of h)if(_.indent!==void 0){Gse(_)||(w.length=0);const R=`${_.id}:${_.indent}`,I=Math.min(_.indent-1,w.length);if(I<w.length&&w[I].id!==_.id&&(w.length=I),I<w.length-1)w.length=I+1;else{const H=Wse(_,i);if(I>w.length-1||w[I].listElement.name!=H.type){I==0&&H.type=="ol"&&_.id!==void 0&&g[R]&&(H.startIndex=g[R]);const G=qse(H,c,s);if(pj(_.marginLeft)&&(I==0||pj(w[I-1].marginLeft))){let W=_.marginLeft;I>0&&(W=$m(parseFloat(W)-parseFloat(w[I-1].marginLeft))),c.setStyle("padding-left",W,G)}if(w.length==0){const W=_.element.parent,Y=W.getChildIndex(_.element)+1;c.insertChild(Y,G,W)}else{const W=w[I-1].listItemElements;c.appendChild(G,W[W.length-1])}w[I]=(k=Hse({},_),Lse(k,Bse({listElement:G,listItemElements:[]}))),I==0&&_.id!==void 0&&(g[R]=H.startIndex||1)}}const F=_.element.name=="li"?_.element:c.createElement("li");c.appendChild(F,w[I].listElement),w[I].listItemElements.push(F),I==0&&_.id!==void 0&&g[R]++,_.element!=F&&c.appendChild(_.element,F),Yse(_.element,c),c.removeStyle("text-indent",_.element),c.removeStyle("margin-left",_.element)}else{const R=w.find((I=>I.marginLeft==_.marginLeft));if(R){const I=R.listItemElements;c.appendChild(_.element,I[I.length-1]),c.removeStyle("margin-left",_.element)}else w.length=0}var k}function Gse(u){const i=u.element.previousSibling;return Use(i||u.element.parent)}function Use(u){return u.is("element","ol")||u.is("element","ul")}function Wse(u,i){const s=new RegExp(`@list l${u.id}:level${u.indent}\\s*({[^}]*)`,"gi"),c=/mso-level-number-format:([^;]{0,100});/gi,h=/mso-level-start-at:\s{0,100}([0-9]{0,10})\s{0,100};/gi,g=new RegExp(`@list\\s+l${u.id}:level\\d\\s*{[^{]*mso-level-text:"%\\d\\\\.`,"gi"),w=new RegExp(`@list l${u.id}:level\\d\\s*{[^{]*mso-level-number-format:`,"gi"),k=g.exec(i),_=w.exec(i),R=k&&!_,I=s.exec(i);let F="decimal",H="ol",G=null;if(I&&I[1]){const W=c.exec(I[1]);if(W&&W[1]&&(F=W[1].trim(),H=F!=="bullet"&&F!=="image"?"ol":"ul"),F==="bullet"){const Y=(function(ie){if(ie.name=="li"&&ie.parent.name=="ul"&&ie.parent.hasAttribute("type"))return ie.parent.getAttribute("type");const de=(function(Ce){if(Ce.getChild(0).is("$text"))return null;for(const Fe of Ce.getChildren()){if(!Fe.is("element","span"))continue;const Xe=Fe.getChild(0);if(Xe)return Xe.is("$text")?Xe:Xe.getChild(0)}return null})(ie);if(!de)return null;const ge=de._data;return ge==="o"?"circle":ge===""?"disc":ge===""?"square":null})(u.element);Y&&(F=Y)}else{const Y=h.exec(I[1]);Y&&Y[1]&&(G=parseInt(Y[1]))}R&&(H="ol")}return{type:H,startIndex:G,style:$se(F),isLegalStyleList:R}}function $se(u){if(u.startsWith("arabic-leading-zero"))return"decimal-leading-zero";switch(u){case"alpha-upper":return"upper-alpha";case"alpha-lower":return"lower-alpha";case"roman-upper":return"upper-roman";case"roman-lower":return"lower-roman";case"circle":case"disc":case"square":return u;default:return null}}function qse(u,i,s){const c=i.createElement(u.type);return u.style&&i.setStyle("list-style-type",u.style,c),u.startIndex&&u.startIndex>1&&i.setAttribute("start",u.startIndex,c),u.isLegalStyleList&&s&&i.addClass("legal-list",c),c}function Kse(u){const i=u.getStyle("mso-list");if(i===void 0)return{};const s=i.match(/(^|\s{1,100})l(\d+)/i),c=i.match(/\s{0,100}lfo(\d+)/i),h=i.match(/\s{0,100}level(\d+)/i);return s&&c&&h?{id:s[2],order:c[1],indent:parseInt(h[1])}:{indent:1}}function Yse(u,i){const s=new oo({name:"span",styles:{"mso-list":"Ignore"}}),c=i.createRangeIn(u);for(const h of c)h.type==="elementStart"&&s.match(h.item)&&i.remove(h.item)}function Qse(u){const i=u.getStyle("margin-left");return i===void 0||i.endsWith("px")?i:(function(s){const c=parseFloat(s);return s.endsWith("pt")?$m(96*c/72):s.endsWith("pc")?$m(12*c*96/72):s.endsWith("in")?$m(96*c):s.endsWith("cm")?$m(96*c/2.54):s.endsWith("mm")?$m(c/10*96/2.54):s})(i)}function Zse(u,i){if(!u.childCount)return;const s=new ja(u.document),c=(function(g,w){const k=w.createRangeIn(g),_=new oo({name:/v:(.+)/}),R=[];for(const I of k){if(I.type!="elementStart")continue;const F=I.item,H=F.previousSibling,G=H&&H.is("element")?H.name:null,W=["Chart"],Y=_.match(F),ie=F.getAttribute("o:gfxdata"),de=G==="v:shapetype",ge=ie&&W.some((Ce=>F.getAttribute("id").includes(Ce)));Y&&ie&&!de&&!ge&&R.push(I.item.getAttribute("id"))}return R})(u,s);(function(g,w,k){const _=k.createRangeIn(w),R=new oo({name:"img"}),I=[];for(const F of _)if(F.item.is("element")&&R.match(F.item)){const H=F.item,G=H.getAttribute("v:shapes")?H.getAttribute("v:shapes").split(" "):[];G.length&&G.every((W=>g.indexOf(W)>-1))?I.push(H):H.getAttribute("src")||I.push(H)}for(const F of I)k.remove(F)})(c,u,s),(function(g,w,k){const _=k.createRangeIn(w),R=[];for(const H of _)if(H.type=="elementStart"&&H.item.is("element","v:shape")){const G=H.item.getAttribute("id");if(g.includes(G))continue;I(H.item.parent.getChildren(),G)||R.push(H.item)}for(const H of R){const G={src:F(H)};H.hasAttribute("alt")&&(G.alt=H.getAttribute("alt"));const W=k.createElement("img",G);k.insertChild(H.index+1,W,H.parent)}function I(H,G){for(const W of H)if(W.is("element")&&(W.name=="img"&&W.getAttribute("v:shapes")==G||I(W.getChildren(),G)))return!0;return!1}function F(H){for(const G of H.getChildren())if(G.is("element")&&G.getAttribute("src"))return G.getAttribute("src")}})(c,u,s),(function(g,w){const k=w.createRangeIn(g),_=new oo({name:/v:(.+)/}),R=[];for(const I of k)I.type=="elementStart"&&_.match(I.item)&&R.push(I.item);for(const I of R)w.remove(I)})(u,s);const h=(function(g,w){const k=w.createRangeIn(g),_=new oo({name:"img"}),R=[];for(const I of k)I.item.is("element")&&_.match(I.item)&&I.item.getAttribute("src").startsWith("file://")&&R.push(I.item);return R})(u,s);h.length&&(function(g,w,k){if(g.length===w.length)for(let _=0;_<g.length;_++){const R=`data:${w[_].type};base64,${Xse(w[_].hex)}`;k.setAttribute("src",R,g[_])}})(h,(function(g){if(!g)return[];const w=/{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/,k=new RegExp("(?:("+w.source+"))([\\da-fA-F\\s]+)\\}","g"),_=g.match(k),R=[];if(_)for(const I of _){let F=!1;I.includes("\\pngblip")?F="image/png":I.includes("\\jpegblip")&&(F="image/jpeg"),F&&R.push({hex:I.replace(w,"").replace(/[^\da-fA-F]/g,""),type:F})}return R})(i),s)}function Xse(u){return btoa(u.match(/\w{2}/g).map((i=>String.fromCharCode(parseInt(i,16)))).join(""))}const Jse=/<meta\s*name="?generator"?\s*content="?microsoft\s*word\s*\d+"?\/?>/i,eae=/xmlns:o="urn:schemas-microsoft-com/i;class tae{constructor(i,s=!1){this.document=i,this.hasMultiLevelListPlugin=s}isActive(i){return Jse.test(i)||eae.test(i)}execute(i){const{body:s,stylesString:c}=i._parsedData;Vse(s,c,this.hasMultiLevelListPlugin),Zse(s,i.dataTransfer.getData("text/rtf")),(function(h){const g=[],w=new ja(h.document);for(const{item:k}of w.createRangeIn(h))if(k.is("element")){for(const _ of k.getClassNames())/\bmso/gi.exec(_)&&w.removeClass(_,k);for(const _ of k.getStyleNames())/\bmso/gi.exec(_)&&w.removeStyle(_,k);(k.is("element","w:sdt")||k.is("element","w:sdtpr")&&k.isEmpty||k.is("element","o:p")&&k.isEmpty)&&g.push(k)}for(const k of g){const _=k.parent,R=_.getChildIndex(k);w.insertChild(R,k.getChildren(),_),w.remove(k)}})(s),i.content=s}}function bj(u,i,s,{blockElements:c,inlineObjectElements:h}){let g=s.createPositionAt(u,i=="forward"?"after":"before");return g=g.getLastMatchingPosition((({item:w})=>w.is("element")&&!c.includes(w.name)&&!h.includes(w.name)),{direction:i}),i=="forward"?g.nodeAfter:g.nodeBefore}function vj(u,i){return!!u&&u.is("element")&&i.includes(u.name)}const nae=/id=("|')docs-internal-guid-[-0-9a-f]+("|')/i;class rae{constructor(i){this.document=i}isActive(i){return nae.test(i)}execute(i){const s=new ja(this.document),{body:c}=i._parsedData;(function(h,g){for(const w of h.getChildren())if(w.is("element","b")&&w.getStyle("font-weight")==="normal"){const k=h.getChildIndex(w);g.remove(w),g.insertChild(k,w.getChildren(),h)}})(c,s),(function(h,g){for(const w of g.createRangeIn(h)){const k=w.item;if(k.is("element","li")){const _=k.getChild(0);_&&_.is("element","p")&&g.unwrapElement(_)}}})(c,s),(function(h,g){const w=new Nf(g.document.stylesProcessor),k=new gr(w,{renderingMode:"data"}),_=k.blockElements,R=k.inlineObjectElements,I=[];for(const F of g.createRangeIn(h)){const H=F.item;if(H.is("element","br")){const G=bj(H,"forward",g,{blockElements:_,inlineObjectElements:R}),W=bj(H,"backward",g,{blockElements:_,inlineObjectElements:R}),Y=vj(G,_);(vj(W,_)||Y)&&I.push(H)}}for(const F of I)F.hasClass("Apple-interchange-newline")?g.remove(F):g.replace(F,g.createElement("p"))})(c,s),i.content=c}}const iae=/<google-sheets-html-origin/i;class oae{constructor(i){this.document=i}isActive(i){return iae.test(i)}execute(i){const s=new ja(this.document),{body:c}=i._parsedData;(function(h,g){for(const w of h.getChildren())if(w.is("element","google-sheets-html-origin")){const k=h.getChildIndex(w);g.remove(w),g.insertChild(k,w.getChildren(),h)}})(c,s),(function(h,g){for(const w of h.getChildren())w.is("element","table")&&w.hasAttribute("xmlns")&&g.removeAttribute("xmlns",w)})(c,s),(function(h,g){for(const w of h.getChildren())w.is("element","table")&&w.getStyle("width")==="0px"&&g.removeStyle("width",w)})(c,s),(function(h,g){for(const w of Array.from(h.getChildren()))w.is("element","style")&&g.remove(w)})(c,s),i.content=c}}function wj(u){return u.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,((i,s)=>s.length===1?" ":Array(s.length+1).join(" ").substr(0,s.length)))}function sae(u,i){const s=new DOMParser,c=(function(_){return wj(wj(_)).replace(/(<span\s+style=['"]mso-spacerun:yes['"]>[^\S\r\n]*?)[\r\n]+([^\S\r\n]*<\/span>)/g,"$1$2").replace(/<span\s+style=['"]mso-spacerun:yes['"]><\/span>/g,"").replace(/(<span\s+style=['"]letter-spacing:[^'"]+?['"]>)[\r\n]+(<\/span>)/g,"$1 $2").replace(/ <\//g,"</").replace(/ <o:p><\/o:p>/g,"<o:p></o:p>").replace(/<o:p>(&nbsp;|\u00A0)<\/o:p>/g,"").replace(/>([^\S\r\n]*[\r\n]\s*)</g,"><")})((function(_){const R="</body>",I="</html>",F=_.indexOf(R);if(F<0)return _;const H=_.indexOf(I,F+R.length);return _.substring(0,F+R.length)+(H>=0?_.substring(H):"")})(u=(u=u.replace(/<!--\[if gte vml 1]>/g,"")).replace(/<o:SmartTagType(?:\s+[^\s>=]+(?:="[^"]*")?)*\s*\/?>/gi,""))),h=s.parseFromString(c,"text/html");(function(_){_.querySelectorAll("span[style*=spacerun]").forEach((R=>{const I=R,F=I.innerText.length||0;I.innerText=Array(F+1).join(" ").substr(0,F)}))})(h);const g=h.body.innerHTML,w=(function(_,R){const I=new Nf(R),F=new gr(I,{renderingMode:"data"}),H=_.createDocumentFragment(),G=_.body.childNodes;for(;G.length>0;)H.appendChild(G[0]);return F.domToView(H,{skipComments:!0})})(h,i),k=(function(_){const R=[],I=[],F=Array.from(_.getElementsByTagName("style"));for(const H of F)H.sheet&&H.sheet.cssRules&&H.sheet.cssRules.length&&(R.push(H.sheet),I.push(H.innerHTML));return{styles:R,stylesString:I.join(" ")}})(h);return{body:w,bodyString:g,styles:k.styles,stylesString:k.stylesString}}function Cr(u,i,s,c,h=1){i!=null&&h!=null&&i>h?c.setAttribute(u,i,s):c.removeAttribute(u,s)}function cp(u,i,s={}){const c=u.createElement("tableCell",s);return u.insertElement("paragraph",c),u.insert(c,i),c}function oM(u,i){const s=i.parent.parent,c=parseInt(s.getAttribute("headingColumns")||"0"),{column:h}=u.getCellLocation(i);return!!c&&h<c}function aae(){return u=>{u.on("element:table",((i,s,c)=>{const h=s.viewItem;if(!c.consumable.test(h,{name:!0}))return;const{rows:g,headingRows:w,headingColumns:k}=(function(I){let F,H=0;const G=[],W=[];let Y;for(const ie of Array.from(I.getChildren())){if(ie.name!=="tbody"&&ie.name!=="thead"&&ie.name!=="tfoot")continue;ie.name!=="thead"||Y||(Y=ie);const de=Array.from(ie.getChildren()).filter((ge=>ge.is("element","tr")));for(const ge of de)if(Y&&ie===Y||ie.name==="tbody"&&Array.from(ge.getChildren()).length&&Array.from(ge.getChildren()).every((Ce=>Ce.is("element","th"))))H++,G.push(ge);else{W.push(ge);const Ce=lae(ge);(!F||Ce<F)&&(F=Ce)}}return{headingRows:H,headingColumns:F||0,rows:[...G,...W]}})(h),_={};k&&(_.headingColumns=k),w&&(_.headingRows=w);const R=c.writer.createElement("table",_);if(c.safeInsert(R,s.modelCursor)){if(c.consumable.consume(h,{name:!0}),g.forEach((I=>c.convertItem(I,c.writer.createPositionAt(R,"end")))),c.convertChildren(h,c.writer.createPositionAt(R,"end")),R.isEmpty){const I=c.writer.createElement("tableRow");c.writer.insert(I,c.writer.createPositionAt(R,"end")),cp(c.writer,c.writer.createPositionAt(I,"end"))}c.updateConversionResult(R,s)}}))}}function Cj(u){return i=>{i.on(`element:${u}`,((s,c,{writer:h})=>{if(!c.modelRange)return;const g=c.modelRange.start.nodeAfter,w=h.createPositionAt(g,0);if(c.viewItem.isEmpty)return void h.insertElement("paragraph",w);const k=Array.from(g.getChildren());if(k.every((_=>_.is("element","$marker")))){const _=h.createElement("paragraph");h.insert(_,h.createPositionAt(g,0));for(const R of k)h.move(h.createRangeOn(R),h.createPositionAt(_,"end"))}}),{priority:"low"})}}function lae(u){let i=0,s=0;const c=Array.from(u.getChildren()).filter((h=>h.name==="th"||h.name==="td"));for(;s<c.length&&c[s].name==="th";){const h=c[s];i+=parseInt(h.getAttribute("colspan")||"1"),s++}return i}class En{constructor(i,s={}){this._jumpedToStartRow=!1,this._table=i,this._startRow=s.row!==void 0?s.row:s.startRow||0,this._endRow=s.row!==void 0?s.row:s.endRow,this._startColumn=s.column!==void 0?s.column:s.startColumn||0,this._endColumn=s.column!==void 0?s.column:s.endColumn,this._includeAllSlots=!!s.includeAllSlots,this._skipRows=new Set,this._row=0,this._rowIndex=0,this._column=0,this._cellIndex=0,this._spannedCells=new Map,this._nextCellAtColumn=-1}[Symbol.iterator](){return this}next(){this._canJumpToStartRow()&&this._jumpToNonSpannedRowClosestToStartRow();const i=this._table.getChild(this._rowIndex);if(!i||this._isOverEndRow())return{done:!0,value:void 0};if(!i.is("element","tableRow"))return this._rowIndex++,this.next();if(this._isOverEndColumn())return this._advanceToNextRow();let s=null;const c=this._getSpanned();if(c)this._includeAllSlots&&!this._shouldSkipSlot()&&(s=this._formatOutValue(c.cell,c.row,c.column));else{const h=i.getChild(this._cellIndex);if(!h)return this._advanceToNextRow();const g=parseInt(h.getAttribute("colspan")||"1"),w=parseInt(h.getAttribute("rowspan")||"1");(g>1||w>1)&&this._recordSpans(h,w,g),this._shouldSkipSlot()||(s=this._formatOutValue(h)),this._nextCellAtColumn=this._column+g}return this._column++,this._column==this._nextCellAtColumn&&this._cellIndex++,s||this.next()}skipRow(i){this._skipRows.add(i)}_advanceToNextRow(){return this._row++,this._rowIndex++,this._column=0,this._cellIndex=0,this._nextCellAtColumn=-1,this.next()}_isOverEndRow(){return this._endRow!==void 0&&this._row>this._endRow}_isOverEndColumn(){return this._endColumn!==void 0&&this._column>this._endColumn}_formatOutValue(i,s=this._row,c=this._column){return{done:!1,value:new cae(this,i,s,c)}}_shouldSkipSlot(){const i=this._skipRows.has(this._row),s=this._row<this._startRow,c=this._column<this._startColumn,h=this._endColumn!==void 0&&this._column>this._endColumn;return i||s||c||h}_getSpanned(){const i=this._spannedCells.get(this._row);return i&&i.get(this._column)||null}_recordSpans(i,s,c){const h={cell:i,row:this._row,column:this._column};for(let g=this._row;g<this._row+s;g++)for(let w=this._column;w<this._column+c;w++)g==this._row&&w==this._column||this._markSpannedCell(g,w,h)}_markSpannedCell(i,s,c){this._spannedCells.has(i)||this._spannedCells.set(i,new Map),this._spannedCells.get(i).set(s,c)}_canJumpToStartRow(){return!!this._startRow&&this._startRow>0&&!this._jumpedToStartRow}_jumpToNonSpannedRowClosestToStartRow(){const i=this._getRowLength(0);for(let s=this._startRow;!this._jumpedToStartRow;s--)i===this._getRowLength(s)&&(this._row=s,this._rowIndex=s,this._jumpedToStartRow=!0)}_getRowLength(i){return[...this._table.getChild(i).getChildren()].reduce(((s,c)=>s+parseInt(c.getAttribute("colspan")||"1")),0)}}class cae{constructor(i,s,c,h){this.cell=s,this.row=i._row,this.column=i._column,this.cellAnchorRow=c,this.cellAnchorColumn=h,this._cellIndex=i._cellIndex,this._rowIndex=i._rowIndex,this._table=i._table}get isAnchor(){return this.row===this.cellAnchorRow&&this.column===this.cellAnchorColumn}get cellWidth(){return parseInt(this.cell.getAttribute("colspan")||"1")}get cellHeight(){return parseInt(this.cell.getAttribute("rowspan")||"1")}get rowIndex(){return this._rowIndex}getPositionBefore(){return this._table.root.document.model.createPositionAt(this._table.getChild(this.row),this._cellIndex)}}function yj(u,i){return(s,{writer:c})=>{const h=s.getAttribute("headingRows")||0,g=c.createContainerElement("table",null,[]),w=c.createContainerElement("figure",{class:"table"},g);h>0&&c.insert(c.createPositionAt(g,"end"),c.createContainerElement("thead",null,c.createSlot((k=>k.is("element","tableRow")&&k.index<h)))),h<u.getRows(s)&&c.insert(c.createPositionAt(g,"end"),c.createContainerElement("tbody",null,c.createSlot((k=>k.is("element","tableRow")&&k.index>=h))));for(const{positionOffset:k,filter:_}of i.additionalSlots)c.insert(c.createPositionAt(g,k),c.createSlot(_));return c.insert(c.createPositionAt(g,"after"),c.createSlot((k=>!k.is("element","tableRow")&&!i.additionalSlots.some((({filter:_})=>_(k)))))),i.asWidget?(function(k,_){return _.setCustomProperty("table",!0,k),I2(k,_,{hasSelectionHandle:!0})})(w,c):w}}function kj(u={}){return(i,{writer:s})=>{const c=i.parent,h=c.parent,g=h.getChildIndex(c),w=new En(h,{row:g}),k=h.getAttribute("headingRows")||0,_=h.getAttribute("headingColumns")||0;let R=null;for(const I of w)if(I.cell==i){const F=I.row<k||I.column<_?"th":"td";R=u.asWidget?dL(s.createEditableElement(F),s):s.createContainerElement(F);break}return R}}function xj(u={}){return(i,{writer:s})=>{if(!i.parent.is("element","tableCell")||!Aj(i))return null;if(u.asWidget)return s.createContainerElement("span",{class:"ck-table-bogus-paragraph"});{const c=s.createContainerElement("p");return s.setCustomProperty("dataPipeline:transparentRendering",!0,c),c}}}function Aj(u){return u.parent.childCount==1&&!!u.getAttributeKeys().next().done}class dae extends Et{refresh(){const i=this.editor.model,s=i.document.selection,c=i.schema;this.isEnabled=(function(h,g){const w=h.getFirstPosition().parent,k=w===w.root?w:w.parent;return g.checkChild(k,"table")})(s,c)}execute(i={}){const s=this.editor,c=s.model,h=s.plugins.get("TableUtils"),g=s.config.get("table.defaultHeadings.rows"),w=s.config.get("table.defaultHeadings.columns");i.headingRows===void 0&&g&&(i.headingRows=g),i.headingColumns===void 0&&w&&(i.headingColumns=w),c.change((k=>{const _=h.createTable(k,i);c.insertObject(_,null,null,{findOptimalPosition:"auto"}),k.setSelection(k.createPositionAt(_.getNodeByPath([0,0,0]),0))}))}}class Sj extends Et{constructor(i,s={}){super(i),this.order=s.order||"below"}refresh(){const i=this.editor.model.document.selection,s=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(i).length;this.isEnabled=s}execute(){const i=this.editor,s=i.model.document.selection,c=i.plugins.get("TableUtils"),h=this.order==="above",g=c.getSelectionAffectedTableCells(s),w=c.getRowIndexes(g),k=h?w.first:w.last,_=g[0].findAncestor("table");c.insertRows(_,{at:h?k:k+1,copyStructureFromAbove:!h})}}class _j extends Et{constructor(i,s={}){super(i),this.order=s.order||"right"}refresh(){const i=this.editor.model.document.selection,s=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(i).length;this.isEnabled=s}execute(){const i=this.editor,s=i.model.document.selection,c=i.plugins.get("TableUtils"),h=this.order==="left",g=c.getSelectionAffectedTableCells(s),w=c.getColumnIndexes(g),k=h?w.first:w.last,_=g[0].findAncestor("table");c.insertColumns(_,{columns:1,at:h?k:k+1})}}class Ej extends Et{constructor(i,s={}){super(i),this.direction=s.direction||"horizontally"}refresh(){const i=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=i.length===1}execute(){const i=this.editor.plugins.get("TableUtils"),s=i.getSelectionAffectedTableCells(this.editor.model.document.selection)[0];this.direction==="horizontally"?i.splitCellHorizontally(s,2):i.splitCellVertically(s,2)}}function Dj(u,i,s){const{startRow:c,startColumn:h,endRow:g,endColumn:w}=i,k=s.createElement("table"),_=g-c+1;for(let I=0;I<_;I++)s.insertElement("tableRow",k,"end");const R=[...new En(u,{startRow:c,endRow:g,startColumn:h,endColumn:w,includeAllSlots:!0})];for(const{row:I,column:F,cell:H,isAnchor:G,cellAnchorRow:W,cellAnchorColumn:Y}of R){const ie=I-c,de=k.getChild(ie);if(G){const ge=s.cloneElement(H);s.append(ge,de),Ij(ge,I,F,g,w,s)}else(W<c||Y<h)&&cp(s,s.createPositionAt(de,"end"))}return(function(I,F,H,G,W){const Y=parseInt(F.getAttribute("headingRows")||"0");Y>0&&Cr("headingRows",Y-H,I,W,0);const ie=parseInt(F.getAttribute("headingColumns")||"0");ie>0&&Cr("headingColumns",ie-G,I,W,0)})(k,u,c,h,s),k}function Mj(u,i,s=0){const c=[],h=new En(u,{startRow:s,endRow:i-1});for(const g of h){const{row:w,cellHeight:k}=g;w<i&&i<=w+k-1&&c.push(g)}return c}function Tj(u,i,s){const c=u.parent,h=c.parent,g=c.index,w=i-g,k={},_=parseInt(u.getAttribute("rowspan"))-w;_>1&&(k.rowspan=_);const R=parseInt(u.getAttribute("colspan")||"1");R>1&&(k.colspan=R);const I=g+w,F=[...new En(h,{startRow:g,endRow:I,includeAllSlots:!0})];let H,G=null;for(const W of F){const{row:Y,column:ie,cell:de}=W;de===u&&H===void 0&&(H=ie),H!==void 0&&H===ie&&Y===I&&(G=cp(s,W.getPositionBefore(),k))}return Cr("rowspan",w,u,s),G}function Rj(u,i){const s=[],c=new En(u);for(const h of c){const{column:g,cellWidth:w}=h;g<i&&i<=g+w-1&&s.push(h)}return s}function Pj(u,i,s,c){const h=s-i,g={},w=parseInt(u.getAttribute("colspan"))-h;w>1&&(g.colspan=w);const k=parseInt(u.getAttribute("rowspan")||"1");k>1&&(g.rowspan=k);const _=cp(c,c.createPositionAfter(u),g);return Cr("colspan",h,u,c),_}function Ij(u,i,s,c,h,g){const w=parseInt(u.getAttribute("colspan")||"1"),k=parseInt(u.getAttribute("rowspan")||"1");s+w-1>h&&Cr("colspan",h-s+1,u,g,1),i+k-1>c&&Cr("rowspan",c-i+1,u,g,1)}function sM(u,i){const s=i.getColumns(u),c=new Array(s).fill(0);for(const{column:g}of new En(u))c[g]++;const h=c.reduce(((g,w,k)=>w?g:[...g,k]),[]);if(h.length>0){const g=h[h.length-1];return i.removeColumns(u,{at:g}),!0}return!1}function aM(u,i){const s=[],c=i.getRows(u);for(let h=0;h<c;h++)u.getChild(h).isEmpty&&s.push(h);if(s.length>0){const h=s[s.length-1];return i.removeRows(u,{at:h}),!0}return!1}function lM(u,i){sM(u,i)||aM(u,i)}function Nj(u,i){const s=Array.from(new En(u,{startColumn:i.firstColumn,endColumn:i.lastColumn,row:i.lastRow}));if(s.every((({cellHeight:h})=>h===1)))return i.lastRow;const c=s[0].cellHeight-1;return i.lastRow+c}function Oj(u,i){const s=Array.from(new En(u,{startRow:i.firstRow,endRow:i.lastRow,column:i.lastColumn}));if(s.every((({cellWidth:h})=>h===1)))return i.lastColumn;const c=s[0].cellWidth-1;return i.lastColumn+c}class qA extends Et{constructor(i,s){super(i),this.direction=s.direction,this.isHorizontal=this.direction=="right"||this.direction=="left"}refresh(){const i=this._getMergeableCell();this.value=i,this.isEnabled=!!i}execute(){const i=this.editor.model,s=i.document,c=this.editor.plugins.get("TableUtils").getTableCellsContainingSelection(s.selection)[0],h=this.value,g=this.direction;i.change((w=>{const k=g=="right"||g=="down",_=k?c:h,R=k?h:c,I=R.parent;(function(Y,ie,de){Fj(Y)||(Fj(ie)&&de.remove(de.createRangeIn(ie)),de.move(de.createRangeIn(Y),de.createPositionAt(ie,"end"))),de.remove(Y)})(R,_,w);const F=this.isHorizontal?"colspan":"rowspan",H=parseInt(c.getAttribute(F)||"1"),G=parseInt(h.getAttribute(F)||"1");w.setAttribute(F,H+G,_),w.setSelection(w.createRangeIn(_));const W=this.editor.plugins.get("TableUtils");lM(I.findAncestor("table"),W)}))}_getMergeableCell(){const i=this.editor.model.document,s=this.editor.plugins.get("TableUtils"),c=s.getTableCellsContainingSelection(i.selection)[0];if(!c)return;const h=this.isHorizontal?(function(k,_,R){const I=k.parent,F=I.parent,H=_=="right"?k.nextSibling:k.previousSibling,G=(F.getAttribute("headingColumns")||0)>0;if(!H)return;const W=_=="right"?k:H,Y=_=="right"?H:k,{column:ie}=R.getCellLocation(W),{column:de}=R.getCellLocation(Y),ge=parseInt(W.getAttribute("colspan")||"1"),Ce=oM(R,W),Fe=oM(R,Y);if(!(G&&Ce!=Fe))return ie+ge===de?H:void 0})(c,this.direction,s):(function(k,_,R){const I=k.parent,F=I.parent,H=F.getChildIndex(I);if(_=="down"&&H===R.getRows(F)-1||_=="up"&&H===0)return null;const G=parseInt(k.getAttribute("rowspan")||"1"),W=F.getAttribute("headingRows")||0,Y=_=="down"&&H+G===W,ie=_=="up"&&H===W;if(W&&(Y||ie))return null;const de=parseInt(k.getAttribute("rowspan")||"1"),ge=_=="down"?H+de:H,Ce=[...new En(F,{endRow:ge})],Fe=Ce.find((Rt=>Rt.cell===k)),Xe=Fe.column,Ct=Ce.find((({row:Rt,cellHeight:Fn,column:Gr})=>Gr===Xe&&(_=="down"?Rt===ge:ge===Rt+Fn)));return Ct&&Ct.cell?Ct.cell:null})(c,this.direction,s);if(!h)return;const g=this.isHorizontal?"rowspan":"colspan",w=parseInt(c.getAttribute(g)||"1");return parseInt(h.getAttribute(g)||"1")===w?h:void 0}}function Fj(u){const i=u.getChild(0);return u.childCount==1&&i.is("element","paragraph")&&i.isEmpty}class uae extends Et{refresh(){const i=this.editor.plugins.get("TableUtils"),s=i.getSelectionAffectedTableCells(this.editor.model.document.selection),c=s[0];if(c){const h=c.findAncestor("table"),g=i.getRows(h)-1,w=i.getRowIndexes(s),k=w.first===0&&w.last===g;this.isEnabled=!k}else this.isEnabled=!1}execute(){const i=this.editor.model,s=this.editor.plugins.get("TableUtils"),c=s.getSelectionAffectedTableCells(i.document.selection),h=s.getRowIndexes(c),g=c[0],w=g.findAncestor("table"),k=s.getCellLocation(g).column;i.change((_=>{const R=h.last-h.first+1;s.removeRows(w,{at:h.first,rows:R});const I=(function(F,H,G,W){const Y=F.getChild(Math.min(H,W-1));let ie=Y.getChild(0),de=0;for(const ge of Y.getChildren()){if(de>G)return ie;ie=ge,de+=parseInt(ge.getAttribute("colspan")||"1")}return ie})(w,h.first,k,s.getRows(w));_.setSelection(_.createPositionAt(I,0))}))}}class hae extends Et{refresh(){const i=this.editor.plugins.get("TableUtils"),s=i.getSelectionAffectedTableCells(this.editor.model.document.selection),c=s[0];if(c){const h=c.findAncestor("table"),g=i.getColumns(h),{first:w,last:k}=i.getColumnIndexes(s);this.isEnabled=k-w<g-1}else this.isEnabled=!1}execute(){const i=this.editor.plugins.get("TableUtils"),[s,c]=(function(_,R){const I=R.getSelectionAffectedTableCells(_),F=I[0],H=I.pop(),G=[F,H];return F.isBefore(H)?G:G.reverse()})(this.editor.model.document.selection,i),h=s.parent.parent,g=[...new En(h)],w={first:g.find((_=>_.cell===s)).column,last:g.find((_=>_.cell===c)).column},k=(function(_,R,I,F){return parseInt(I.getAttribute("colspan")||"1")>1?I:R.previousSibling||I.nextSibling?I.nextSibling||R.previousSibling:F.first?_.reverse().find((({column:G})=>G<F.first)).cell:_.reverse().find((({column:G})=>G>F.last)).cell})(g,s,c,w);this.editor.model.change((_=>{const R=w.last-w.first+1;i.removeColumns(h,{at:w.first,columns:R}),_.setSelection(_.createPositionAt(k,0))}))}}class fae extends Et{refresh(){const i=this.editor.plugins.get("TableUtils"),s=this.editor.model,c=i.getSelectionAffectedTableCells(s.document.selection),h=c.length>0;this.isEnabled=h,this.value=h&&c.every((g=>this._isInHeading(g,g.parent.parent)))}execute(i={}){if(i.forceValue===this.value)return;const s=this.editor.plugins.get("TableUtils"),c=this.editor.model,h=s.getSelectionAffectedTableCells(c.document.selection),g=h[0].findAncestor("table"),{first:w,last:k}=s.getRowIndexes(h),_=this.value?w:k+1,R=g.getAttribute("headingRows")||0;c.change((I=>{if(_){const F=Mj(g,_,_>R?R:0);for(const{cell:H}of F)Tj(H,_,I)}Cr("headingRows",_,g,I,0)}))}_isInHeading(i,s){const c=parseInt(s.getAttribute("headingRows")||"0");return!!c&&i.parent.index<c}}class pae extends Et{refresh(){const i=this.editor.model,s=this.editor.plugins.get("TableUtils"),c=s.getSelectionAffectedTableCells(i.document.selection),h=c.length>0;this.isEnabled=h,this.value=h&&c.every((g=>oM(s,g)))}execute(i={}){if(i.forceValue===this.value)return;const s=this.editor.plugins.get("TableUtils"),c=this.editor.model,h=s.getSelectionAffectedTableCells(c.document.selection),g=h[0].findAncestor("table"),{first:w,last:k}=s.getColumnIndexes(h),_=this.value?w:k+1;c.change((R=>{if(_){const I=Rj(g,_);for(const{cell:F,column:H}of I)Pj(F,H,_,R)}Cr("headingColumns",_,g,R,0)}))}}function gae(u){if(u.is("element","tableColumnGroup"))return u;const i=u.getChildren();return Array.from(i).find((s=>s.is("element","tableColumnGroup")))}function mae(u){const i=gae(u);return i?Array.from(i.getChildren()):[]}class mi extends Ve{static get pluginName(){return"TableUtils"}init(){this.decorate("insertColumns"),this.decorate("insertRows")}getCellLocation(i){const s=i.parent,c=s.parent,h=c.getChildIndex(s),g=new En(c,{row:h});for(const{cell:w,row:k,column:_}of g)if(w===i)return{row:k,column:_}}createTable(i,s){const c=i.createElement("table"),h=s.rows||2,g=s.columns||2;return cM(i,c,0,h,g),s.headingRows&&Cr("headingRows",Math.min(s.headingRows,h),c,i,0),s.headingColumns&&Cr("headingColumns",Math.min(s.headingColumns,g),c,i,0),c}insertRows(i,s={}){const c=this.editor.model,h=s.at||0,g=s.rows||1,w=s.copyStructureFromAbove!==void 0,k=s.copyStructureFromAbove?h-1:h,_=this.getRows(i),R=this.getColumns(i);if(h>_)throw new z("tableutils-insertrows-insert-out-of-range",this,{options:s});c.change((I=>{const F=i.getAttribute("headingRows")||0;if(F>h&&Cr("headingRows",F+g,i,I,0),!w&&(h===0||h===_))return void cM(I,i,h,g,R);const H=w?Math.max(h,k):h,G=new En(i,{endRow:H}),W=new Array(R).fill(1);for(const{row:Y,column:ie,cellHeight:de,cellWidth:ge,cell:Ce}of G){const Fe=Y+de-1,Xe=Y<=k&&k<=Fe;Y<h&&h<=Fe?(I.setAttribute("rowspan",de+g,Ce),W[ie]=-ge):w&&Xe&&(W[ie]=ge)}for(let Y=0;Y<g;Y++){const ie=I.createElement("tableRow");I.insert(ie,i,h);for(let de=0;de<W.length;de++){const ge=W[de],Ce=I.createPositionAt(ie,"end");ge>0&&cp(I,Ce,ge>1?{colspan:ge}:void 0),de+=Math.abs(ge)-1}}}))}insertColumns(i,s={}){const c=this.editor.model,h=s.at||0,g=s.columns||1;c.change((w=>{const k=i.getAttribute("headingColumns");h<k&&w.setAttribute("headingColumns",k+g,i);const _=this.getColumns(i);if(h===0||_===h){for(const I of i.getChildren())I.is("element","tableRow")&&qm(g,w,w.createPositionAt(I,h?"end":0));return}const R=new En(i,{column:h,includeAllSlots:!0});for(const I of R){const{row:F,cell:H,cellAnchorColumn:G,cellAnchorRow:W,cellWidth:Y,cellHeight:ie}=I;if(G<h){w.setAttribute("colspan",Y+g,H);const de=W+ie-1;for(let ge=F;ge<=de;ge++)R.skipRow(ge)}else qm(g,w,I.getPositionBefore())}}))}removeRows(i,s){const c=this.editor.model,h=s.rows||1,g=this.getRows(i),w=s.at,k=w+h-1;if(k>g-1)throw new z("tableutils-removerows-row-index-out-of-range",this,{table:i,options:s});c.change((_=>{const R={first:w,last:k},{cellsToMove:I,cellsToTrim:F}=(function(H,{first:G,last:W}){const Y=new Map,ie=[];for(const{row:de,column:ge,cellHeight:Ce,cell:Fe}of new En(H,{endRow:W})){const Xe=de+Ce-1;if(de>=G&&de<=W&&Xe>W){const Ct=Ce-(W-de+1);Y.set(ge,{cell:Fe,rowspan:Ct})}if(de<G&&Xe>=G){let Ct;Ct=Xe>=W?W-G+1:Xe-G+1,ie.push({cell:Fe,rowspan:Ce-Ct})}}return{cellsToMove:Y,cellsToTrim:ie}})(i,R);I.size&&(function(H,G,W,Y){const ie=new En(H,{includeAllSlots:!0,row:G}),de=[...ie],ge=H.getChild(G);let Ce;for(const{column:Fe,cell:Xe,isAnchor:Ct}of de)if(W.has(Fe)){const{cell:Rt,rowspan:Fn}=W.get(Fe),Gr=Ce?Y.createPositionAfter(Ce):Y.createPositionAt(ge,0);Y.move(Y.createRangeOn(Rt),Gr),Cr("rowspan",Fn,Rt,Y),Ce=Rt}else Ct&&(Ce=Xe)})(i,k+1,I,_);for(let H=k;H>=w;H--)_.remove(i.getChild(H));for(const{rowspan:H,cell:G}of F)Cr("rowspan",H,G,_);(function(H,{first:G,last:W},Y){const ie=H.getAttribute("headingRows")||0;G<ie&&Cr("headingRows",W<ie?ie-(W-G+1):G,H,Y,0)})(i,R,_),sM(i,this)||aM(i,this)}))}removeColumns(i,s){const c=this.editor.model,h=s.at,g=s.columns||1,w=s.at+g-1;c.change((k=>{(function(R,I,F){const H=R.getAttribute("headingColumns")||0;if(H&&I.first<H){const G=Math.min(H-1,I.last)-I.first+1;F.setAttribute("headingColumns",H-G,R)}})(i,{first:h,last:w},k);const _=mae(i);for(let R=w;R>=h;R--){for(const{cell:I,column:F,cellWidth:H}of[...new En(i)])F<=R&&H>1&&F+H>R?Cr("colspan",H-1,I,k):F===R&&k.remove(I);if(_[R]){const I=R===0?_[1]:_[R-1],F=parseFloat(_[R].getAttribute("columnWidth")),H=parseFloat(I.getAttribute("columnWidth"));k.remove(_[R]),k.setAttribute("columnWidth",F+H+"%",I)}}aM(i,this)||sM(i,this)}))}splitCellVertically(i,s=2){const c=this.editor.model,h=i.parent.parent,g=parseInt(i.getAttribute("rowspan")||"1"),w=parseInt(i.getAttribute("colspan")||"1");c.change((k=>{if(w>1){const{newCellsSpan:_,updatedSpan:R}=Lj(w,s);Cr("colspan",R,i,k);const I={};_>1&&(I.colspan=_),g>1&&(I.rowspan=g),qm(w>s?s-1:w-1,k,k.createPositionAfter(i),I)}if(w<s){const _=s-w,R=[...new En(h)],{column:I}=R.find((({cell:W})=>W===i)),F=R.filter((({cell:W,cellWidth:Y,column:ie})=>W!==i&&ie===I||ie<I&&ie+Y>I));for(const{cell:W,cellWidth:Y}of F)k.setAttribute("colspan",Y+_,W);const H={};g>1&&(H.rowspan=g),qm(_,k,k.createPositionAfter(i),H);const G=h.getAttribute("headingColumns")||0;G>I&&Cr("headingColumns",G+_,h,k)}}))}splitCellHorizontally(i,s=2){const c=this.editor.model,h=i.parent,g=h.parent,w=g.getChildIndex(h),k=parseInt(i.getAttribute("rowspan")||"1"),_=parseInt(i.getAttribute("colspan")||"1");c.change((R=>{if(k>1){const I=[...new En(g,{startRow:w,endRow:w+k-1,includeAllSlots:!0})],{newCellsSpan:F,updatedSpan:H}=Lj(k,s);Cr("rowspan",H,i,R);const{column:G}=I.find((({cell:Y})=>Y===i)),W={};F>1&&(W.rowspan=F),_>1&&(W.colspan=_);for(const Y of I){const{column:ie,row:de}=Y;de>=w+H&&ie===G&&(de+w+H)%F==0&&qm(1,R,Y.getPositionBefore(),W)}}if(k<s){const I=s-k,F=[...new En(g,{startRow:0,endRow:w})];for(const{cell:W,cellHeight:Y,row:ie}of F)if(W!==i&&ie+Y>w){const de=Y+I;R.setAttribute("rowspan",de,W)}const H={};_>1&&(H.colspan=_),cM(R,g,w+1,I,1,H);const G=g.getAttribute("headingRows")||0;G>w&&Cr("headingRows",G+I,g,R)}}))}getColumns(i){return[...i.getChild(0).getChildren()].filter((s=>s.is("element","tableCell"))).reduce(((s,c)=>s+parseInt(c.getAttribute("colspan")||"1")),0)}getRows(i){return Array.from(i.getChildren()).reduce(((s,c)=>c.is("element","tableRow")?s+1:s),0)}createTableWalker(i,s={}){return new En(i,s)}getSelectedTableCells(i){const s=[];for(const c of this.sortRanges(i.getRanges())){const h=c.getContainedElement();h&&h.is("element","tableCell")&&s.push(h)}return s}getTableCellsContainingSelection(i){const s=[];for(const c of i.getRanges()){const h=c.start.findAncestor("tableCell");h&&s.push(h)}return s}getSelectionAffectedTableCells(i){const s=this.getSelectedTableCells(i);return s.length?s:this.getTableCellsContainingSelection(i)}getRowIndexes(i){const s=i.map((c=>c.parent.index));return this._getFirstLastIndexesObject(s)}getColumnIndexes(i){const s=i[0].findAncestor("table"),c=[...new En(s)].filter((h=>i.includes(h.cell))).map((h=>h.column));return this._getFirstLastIndexesObject(c)}isSelectionRectangular(i){if(i.length<2||!this._areCellInTheSameTableSection(i))return!1;const s=new Set,c=new Set;let h=0;for(const w of i){const{row:k,column:_}=this.getCellLocation(w),R=parseInt(w.getAttribute("rowspan"))||1,I=parseInt(w.getAttribute("colspan"))||1;s.add(k),c.add(_),R>1&&s.add(k+R-1),I>1&&c.add(_+I-1),h+=R*I}return(function(w,k){const _=Array.from(w.values()),R=Array.from(k.values()),I=Math.max(..._),F=Math.min(..._),H=Math.max(...R),G=Math.min(...R);return(I-F+1)*(H-G+1)})(s,c)==h}sortRanges(i){return Array.from(i).sort(bae)}_getFirstLastIndexesObject(i){const s=i.sort(((c,h)=>c-h));return{first:s[0],last:s[s.length-1]}}_areCellInTheSameTableSection(i){const s=i[0].findAncestor("table"),c=this.getRowIndexes(i),h=parseInt(s.getAttribute("headingRows"))||0;if(!this._areIndexesInSameSection(c,h))return!1;const g=this.getColumnIndexes(i),w=parseInt(s.getAttribute("headingColumns"))||0;return this._areIndexesInSameSection(g,w)}_areIndexesInSameSection({first:i,last:s},c){return i<c==s<c}}function cM(u,i,s,c,h,g={}){for(let w=0;w<c;w++){const k=u.createElement("tableRow");u.insert(k,i,s),qm(h,u,u.createPositionAt(k,"end"),g)}}function qm(u,i,s,c={}){for(let h=0;h<u;h++)cp(i,s,c)}function Lj(u,i){if(u<i)return{newCellsSpan:1,updatedSpan:1};const s=Math.floor(u/i);return{newCellsSpan:s,updatedSpan:u-s*i+s}}function bae(u,i){const s=u.start,c=i.start;return s.isBefore(c)?-1:1}class vae extends Et{refresh(){const i=this.editor.plugins.get(mi),s=i.getSelectedTableCells(this.editor.model.document.selection);this.isEnabled=i.isSelectionRectangular(s)}execute(){const i=this.editor.model,s=this.editor.plugins.get(mi);i.change((c=>{const h=s.getSelectedTableCells(i.document.selection),g=h.shift(),{mergeWidth:w,mergeHeight:k}=(function(_,R,I){let F=0,H=0;for(const de of R){const{row:ge,column:Ce}=I.getCellLocation(de);F=jj(de,Ce,F,"colspan"),H=jj(de,ge,H,"rowspan")}const{row:G,column:W}=I.getCellLocation(_),Y=F-W,ie=H-G;return{mergeWidth:Y,mergeHeight:ie}})(g,h,s);Cr("colspan",w,g,c),Cr("rowspan",k,g,c);for(const _ of h)wae(_,g,c);lM(g.findAncestor("table"),s),c.setSelection(g,"in")}))}}function wae(u,i,s){Bj(u)||(Bj(i)&&s.remove(s.createRangeIn(i)),s.move(s.createRangeIn(u),s.createPositionAt(i,"end"))),s.remove(u)}function Bj(u){const i=u.getChild(0);return u.childCount==1&&i.is("element","paragraph")&&i.isEmpty}function jj(u,i,s,c){const h=parseInt(u.getAttribute(c)||"1");return Math.max(s,i+h)}class Cae extends Et{constructor(i){super(i),this.affectsData=!1}refresh(){const i=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=i.length>0}execute(){const i=this.editor.model,s=this.editor.plugins.get("TableUtils"),c=s.getSelectionAffectedTableCells(i.document.selection),h=s.getRowIndexes(c),g=c[0].findAncestor("table"),w=[];for(let k=h.first;k<=h.last;k++)for(const _ of g.getChild(k).getChildren())w.push(i.createRangeOn(_));i.change((k=>{k.setSelection(w)}))}}class yae extends Et{constructor(i){super(i),this.affectsData=!1}refresh(){const i=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=i.length>0}execute(){const i=this.editor.plugins.get("TableUtils"),s=this.editor.model,c=i.getSelectionAffectedTableCells(s.document.selection),h=c[0],g=c.pop(),w=h.findAncestor("table"),k=i.getCellLocation(h),_=i.getCellLocation(g),R=Math.min(k.column,_.column),I=Math.max(k.column,_.column),F=[];for(const H of new En(w,{startColumn:R,endColumn:I}))F.push(s.createRangeOn(H.cell));s.change((H=>{H.setSelection(F)}))}}function kae(u){u.document.registerPostFixer((i=>(function(s,c){const h=c.document.differ.getChanges();let g=!1;const w=new Set;for(const k of h){let _=null;k.type=="insert"&&k.name=="table"&&(_=k.position.nodeAfter),k.type!="insert"&&k.type!="remove"||k.name!="tableRow"&&k.name!="tableCell"||(_=k.position.findAncestor("table")),Sae(k)&&(_=k.range.start.findAncestor("table")),_&&!w.has(_)&&(g=xae(_,s)||g,g=Aae(_,s)||g,w.add(_))}return g})(i,u)))}function xae(u,i){let s=!1;const c=(function(h){const g=parseInt(h.getAttribute("headingRows")||"0"),w=Array.from(h.getChildren()).reduce(((_,R)=>R.is("element","tableRow")?_+1:_),0),k=[];for(const{row:_,cell:R,cellHeight:I}of new En(h)){if(I<2)continue;const F=_<g?g:w;if(_+I>F){const H=F-_;k.push({cell:R,rowspan:H})}}return k})(u);if(c.length){s=!0;for(const h of c)Cr("rowspan",h.rowspan,h.cell,i,1)}return s}function Aae(u,i){let s=!1;const c=(function(k){const _=new Array(k.childCount).fill(0);for(const{rowIndex:R}of new En(k,{includeAllSlots:!0}))_[R]++;return _})(u),h=[];for(const[k,_]of c.entries())!_&&u.getChild(k).is("element","tableRow")&&h.push(k);if(h.length){s=!0;for(const k of h.reverse())i.remove(u.getChild(k)),c.splice(k,1)}const g=c.filter(((k,_)=>u.getChild(_).is("element","tableRow"))),w=g[0];if(!g.every((k=>k===w))){const k=g.reduce(((_,R)=>R>_?R:_),0);for(const[_,R]of g.entries()){const I=k-R;if(I){for(let F=0;F<I;F++)cp(i,i.createPositionAt(u.getChild(_),"end"));s=!0}}}return s}function Sae(u){if(u.type!=="attribute")return!1;const i=u.attributeKey;return i==="headingRows"||i==="colspan"||i==="rowspan"}function _ae(u){u.document.registerPostFixer((i=>(function(s,c){const h=c.document.differ.getChanges();let g=!1;for(const w of h)w.type=="insert"&&w.name=="table"&&(g=Eae(w.position.nodeAfter,s)||g),w.type=="insert"&&w.name=="tableRow"&&(g=zj(w.position.nodeAfter,s)||g),w.type=="insert"&&w.name=="tableCell"&&(g=dM(w.position.nodeAfter,s)||g),w.type!="remove"&&w.type!="insert"||!Dae(w)||(g=dM(w.position.parent,s)||g);return g})(i,u)))}function Eae(u,i){let s=!1;for(const c of u.getChildren())c.is("element","tableRow")&&(s=zj(c,i)||s);return s}function zj(u,i){let s=!1;for(const c of u.getChildren())s=dM(c,i)||s;return s}function dM(u,i){if(u.childCount==0)return i.insertElement("paragraph",u),!0;const s=Array.from(u.getChildren()).filter((c=>c.is("$text")));for(const c of s)i.wrap(i.createRangeOn(c),"paragraph");return!!s.length}function Dae(u){return!!u.position.parent.is("element","tableCell")&&(u.type=="insert"&&u.name=="$text"||u.type=="remove")}function Mae(u,i){if(!u.is("element","paragraph"))return!1;const s=i.toViewElement(u);return!!s&&Aj(u)!==s.is("element","span")}var Hj=o(8137),Tae={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$e()(Hj.A,Tae),Hj.A.locals;class Rae extends Ve{constructor(i){super(i),this._additionalSlots=[]}static get pluginName(){return"TableEditing"}static get requires(){return[mi]}init(){const i=this.editor,s=i.model,c=s.schema,h=i.conversion,g=i.plugins.get(mi);c.register("table",{inheritAllFrom:"$blockObject",allowAttributes:["headingRows","headingColumns"]}),c.register("tableRow",{allowIn:"table",isLimit:!0}),c.register("tableCell",{allowContentOf:"$container",allowIn:"tableRow",allowAttributes:["colspan","rowspan"],isLimit:!0,isSelectable:!0}),h.for("upcast").add((w=>{w.on("element:figure",((k,_,R)=>{if(!R.consumable.test(_.viewItem,{name:!0,classes:"table"}))return;const I=(function(H){for(const G of H.getChildren())if(G.is("element","table"))return G})(_.viewItem);if(!I||!R.consumable.test(I,{name:!0}))return;R.consumable.consume(_.viewItem,{name:!0,classes:"table"});const F=sr(R.convertItem(I,_.modelCursor).modelRange.getItems());F?(R.convertChildren(_.viewItem,R.writer.createPositionAt(F,"end")),R.updateConversionResult(F,_)):R.consumable.revert(_.viewItem,{name:!0,classes:"table"})}))})),h.for("upcast").add(aae()),h.for("editingDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:yj(g,{asWidget:!0,additionalSlots:this._additionalSlots})}),h.for("dataDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:yj(g,{additionalSlots:this._additionalSlots})}),h.for("upcast").elementToElement({model:"tableRow",view:"tr"}),h.for("upcast").add((w=>{w.on("element:tr",((k,_)=>{_.viewItem.isEmpty&&_.modelCursor.index==0&&k.stop()}),{priority:"high"})})),h.for("downcast").elementToElement({model:"tableRow",view:(w,{writer:k})=>w.isEmpty?k.createEmptyElement("tr"):k.createContainerElement("tr")}),h.for("upcast").elementToElement({model:"tableCell",view:"td"}),h.for("upcast").elementToElement({model:"tableCell",view:"th"}),h.for("upcast").add(Cj("td")),h.for("upcast").add(Cj("th")),h.for("editingDowncast").elementToElement({model:"tableCell",view:kj({asWidget:!0})}),h.for("dataDowncast").elementToElement({model:"tableCell",view:kj()}),h.for("editingDowncast").elementToElement({model:"paragraph",view:xj({asWidget:!0}),converterPriority:"high"}),h.for("dataDowncast").elementToElement({model:"paragraph",view:xj(),converterPriority:"high"}),h.for("downcast").attributeToAttribute({model:"colspan",view:"colspan"}),h.for("upcast").attributeToAttribute({model:{key:"colspan",value:Vj("colspan")},view:"colspan"}),h.for("downcast").attributeToAttribute({model:"rowspan",view:"rowspan"}),h.for("upcast").attributeToAttribute({model:{key:"rowspan",value:Vj("rowspan")},view:"rowspan"}),i.config.define("table.defaultHeadings.rows",0),i.config.define("table.defaultHeadings.columns",0),i.commands.add("insertTable",new dae(i)),i.commands.add("insertTableRowAbove",new Sj(i,{order:"above"})),i.commands.add("insertTableRowBelow",new Sj(i,{order:"below"})),i.commands.add("insertTableColumnLeft",new _j(i,{order:"left"})),i.commands.add("insertTableColumnRight",new _j(i,{order:"right"})),i.commands.add("removeTableRow",new uae(i)),i.commands.add("removeTableColumn",new hae(i)),i.commands.add("splitTableCellVertically",new Ej(i,{direction:"vertically"})),i.commands.add("splitTableCellHorizontally",new Ej(i,{direction:"horizontally"})),i.commands.add("mergeTableCells",new vae(i)),i.commands.add("mergeTableCellRight",new qA(i,{direction:"right"})),i.commands.add("mergeTableCellLeft",new qA(i,{direction:"left"})),i.commands.add("mergeTableCellDown",new qA(i,{direction:"down"})),i.commands.add("mergeTableCellUp",new qA(i,{direction:"up"})),i.commands.add("setTableColumnHeader",new pae(i)),i.commands.add("setTableRowHeader",new fae(i)),i.commands.add("selectTableRow",new Cae(i)),i.commands.add("selectTableColumn",new yae(i)),kae(s),_ae(s),this.listenTo(s.document,"change:data",(()=>{(function(w,k){const _=w.document.differ;for(const R of _.getChanges()){let I,F=!1;if(R.type=="attribute"){const Y=R.range.start.nodeAfter;if(!Y||!Y.is("element","table")||R.attributeKey!="headingRows"&&R.attributeKey!="headingColumns")continue;I=Y,F=R.attributeKey=="headingRows"}else R.name!="tableRow"&&R.name!="tableCell"||(I=R.position.findAncestor("table"),F=R.name=="tableRow");if(!I)continue;const H=I.getAttribute("headingRows")||0,G=I.getAttribute("headingColumns")||0,W=new En(I);for(const Y of W){const ie=Y.row<H||Y.column<G?"th":"td",de=k.mapper.toViewElement(Y.cell);de&&de.is("element")&&de.name!=ie&&k.reconvertItem(F?Y.cell.parent:Y.cell)}}})(s,i.editing),(function(w,k){const _=w.document.differ,R=new Set;for(const I of _.getChanges()){const F=I.type=="attribute"?I.range.start.parent:I.position.parent;F.is("element","tableCell")&&R.add(F)}for(const I of R.values()){const F=Array.from(I.getChildren()).filter((H=>Mae(H,k.mapper)));for(const H of F)k.reconvertItem(H)}})(s,i.editing)}))}registerAdditionalSlot(i){this._additionalSlots.push(i)}}function Vj(u){return i=>{const s=parseInt(i.getAttribute(u));return Number.isNaN(s)||s<=0?null:s}}var Gj=o(5032),Pae={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$e()(Gj.A,Pae),Gj.A.locals;class Uj extends st{constructor(i){super(i);const s=this.bindTemplate;this.items=this._createGridCollection(),this.keystrokes=new fi,this.focusTracker=new kr,this.set("rows",0),this.set("columns",0),this.bind("label").to(this,"columns",this,"rows",((c,h)=>`${h}  ${c}`)),this.setTemplate({tag:"div",attributes:{class:["ck"]},children:[{tag:"div",attributes:{class:["ck-insert-table-dropdown__grid"]},on:{"mouseover@.ck-insert-table-dropdown-grid-box":s.to("boxover")},children:this.items},{tag:"div",attributes:{class:["ck","ck-insert-table-dropdown__label"],"aria-hidden":!0},children:[{text:s.to("label")}]}],on:{mousedown:s.to((c=>{c.preventDefault()})),click:s.to((()=>{this.fire("execute")}))}}),this.on("boxover",((c,h)=>{const{row:g,column:w}=h.target.dataset;this.items.get(10*(parseInt(g,10)-1)+(parseInt(w,10)-1)).focus()})),this.focusTracker.on("change:focusedElement",((c,h,g)=>{if(!g)return;const{row:w,column:k}=g.dataset;this.set({rows:parseInt(w),columns:parseInt(k)})})),this.on("change:columns",(()=>this._highlightGridBoxes())),this.on("change:rows",(()=>this._highlightGridBoxes()))}render(){super.render(),dw({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.items,numberOfColumns:10,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection});for(const i of this.items)this.focusTracker.add(i.element);this.keystrokes.listenTo(this.element)}reset(){this.set({rows:1,columns:1})}focus(){this.items.get(0).focus()}focusLast(){this.items.get(0).focus()}_highlightGridBoxes(){const i=this.rows,s=this.columns;this.items.map(((c,h)=>{const g=Math.floor(h/10)<i&&h%10<s;c.set("isOn",g)}))}_createGridButton(i,s,c,h){const g=new Ut(i);return g.set({label:h,class:"ck-insert-table-dropdown-grid-box"}),g.extendTemplate({attributes:{"data-row":s,"data-column":c}}),g}_createGridCollection(){const i=[];for(let s=0;s<100;s++){const c=Math.floor(s/10),h=s%10,g=`${c+1}  ${h+1}`;i.push(this._createGridButton(this.locale,c+1,h+1,g))}return this.createCollection(i)}}class Iae extends Ve{static get pluginName(){return"TableUI"}init(){const i=this.editor,s=this.editor.t,c=i.locale.contentLanguageDirection==="ltr";i.ui.componentFactory.add("insertTable",(h=>{const g=i.commands.get("insertTable"),w=sd(h);let k;return w.bind("isEnabled").to(g),w.buttonView.set({icon:Dt.table,label:s("Insert table"),tooltip:!0}),w.on("change:isOpen",(()=>{k||(k=new Uj(h),w.panelView.children.add(k),k.delegate("execute").to(w),w.on("execute",(()=>{i.execute("insertTable",{rows:k.rows,columns:k.columns}),i.editing.view.focus()})))})),w})),i.ui.componentFactory.add("menuBar:insertTable",(h=>{const g=i.commands.get("insertTable"),w=new jm(h),k=new Uj(h);return k.delegate("execute").to(w),w.on("change:isOpen",((_,R,I)=>{I||k.reset()})),k.on("execute",(()=>{i.execute("insertTable",{rows:k.rows,columns:k.columns}),i.editing.view.focus()})),w.buttonView.set({label:s("Table"),icon:Dt.table}),w.panelView.children.add(k),w.bind("isEnabled").to(g),w})),i.ui.componentFactory.add("tableColumn",(h=>{const g=[{type:"switchbutton",model:{commandName:"setTableColumnHeader",label:s("Header column"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:c?"insertTableColumnLeft":"insertTableColumnRight",label:s("Insert column left")}},{type:"button",model:{commandName:c?"insertTableColumnRight":"insertTableColumnLeft",label:s("Insert column right")}},{type:"button",model:{commandName:"removeTableColumn",label:s("Delete column")}},{type:"button",model:{commandName:"selectTableColumn",label:s("Select column")}}];return this._prepareDropdown(s("Column"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></svg>',g,h)})),i.ui.componentFactory.add("tableRow",(h=>{const g=[{type:"switchbutton",model:{commandName:"setTableRowHeader",label:s("Header row"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:"insertTableRowAbove",label:s("Insert row above")}},{type:"button",model:{commandName:"insertTableRowBelow",label:s("Insert row below")}},{type:"button",model:{commandName:"removeTableRow",label:s("Delete row")}},{type:"button",model:{commandName:"selectTableRow",label:s("Select row")}}];return this._prepareDropdown(s("Row"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></svg>',g,h)})),i.ui.componentFactory.add("mergeTableCells",(h=>{const g=[{type:"button",model:{commandName:"mergeTableCellUp",label:s("Merge cell up")}},{type:"button",model:{commandName:c?"mergeTableCellRight":"mergeTableCellLeft",label:s("Merge cell right")}},{type:"button",model:{commandName:"mergeTableCellDown",label:s("Merge cell down")}},{type:"button",model:{commandName:c?"mergeTableCellLeft":"mergeTableCellRight",label:s("Merge cell left")}},{type:"separator"},{type:"button",model:{commandName:"splitTableCellVertically",label:s("Split cell vertically")}},{type:"button",model:{commandName:"splitTableCellHorizontally",label:s("Split cell horizontally")}}];return this._prepareMergeSplitButtonDropdown(s("Merge cells"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z"/></svg>',g,h)}))}_prepareDropdown(i,s,c,h){const g=this.editor,w=sd(h),k=this._fillDropdownWithListOptions(w,c);return w.buttonView.set({label:i,icon:s,tooltip:!0}),w.bind("isEnabled").toMany(k,"isEnabled",((..._)=>_.some((R=>R)))),this.listenTo(w,"execute",(_=>{g.execute(_.source.commandName),_.source instanceof Im||g.editing.view.focus()})),w}_prepareMergeSplitButtonDropdown(i,s,c,h){const g=this.editor,w=sd(h,gA),k="mergeTableCells",_=g.commands.get(k),R=this._fillDropdownWithListOptions(w,c);return w.buttonView.set({label:i,icon:s,tooltip:!0,isEnabled:!0}),w.bind("isEnabled").toMany([_,...R],"isEnabled",((...I)=>I.some((F=>F)))),this.listenTo(w.buttonView,"execute",(()=>{g.execute(k),g.editing.view.focus()})),this.listenTo(w,"execute",(I=>{g.execute(I.source.commandName),g.editing.view.focus()})),w}_fillDropdownWithListOptions(i,s){const c=this.editor,h=[],g=new An;for(const w of s)Nae(w,c,h,g);return k4(i,g),h}}function Nae(u,i,s,c){if(u.type==="button"||u.type==="switchbutton"){const h=u.model=new J4(u.model),{commandName:g,bindIsOn:w}=u.model,k=i.commands.get(g);s.push(k),h.set({commandName:g}),h.bind("isEnabled").to(k),w&&h.bind("isOn").to(k,"value"),h.set({withText:!0})}c.add(u)}var Wj=o(8423),Oae={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$e()(Wj.A,Oae),Wj.A.locals;class dp extends Ve{static get pluginName(){return"TableSelection"}static get requires(){return[mi,mi]}init(){const i=this.editor,s=i.model,c=i.editing.view;this.listenTo(s,"deleteContent",((h,g)=>this._handleDeleteContent(h,g)),{priority:"high"}),this.listenTo(c.document,"insertText",((h,g)=>this._handleInsertTextEvent(h,g)),{priority:"high"}),this._defineSelectionConverter(),this._enablePluginDisabling()}getSelectedTableCells(){const i=this.editor.plugins.get(mi),s=this.editor.model.document.selection,c=i.getSelectedTableCells(s);return c.length==0?null:c}getSelectionAsFragment(){const i=this.editor.plugins.get(mi),s=this.getSelectedTableCells();return s?this.editor.model.change((c=>{const h=c.createDocumentFragment(),{first:g,last:w}=i.getColumnIndexes(s),{first:k,last:_}=i.getRowIndexes(s),R=s[0].findAncestor("table");let I=_,F=w;if(i.isSelectionRectangular(s)){const G={firstColumn:g,lastColumn:w,firstRow:k,lastRow:_};I=Nj(R,G),F=Oj(R,G)}const H=Dj(R,{startRow:k,startColumn:g,endRow:I,endColumn:F},c);return c.insert(H,h,0),h})):null}setCellSelection(i,s){const c=this._getCellsToSelect(i,s);this.editor.model.change((h=>{h.setSelection(c.cells.map((g=>h.createRangeOn(g))),{backward:c.backward})}))}getFocusCell(){const i=[...this.editor.model.document.selection.getRanges()].pop().getContainedElement();return i&&i.is("element","tableCell")?i:null}getAnchorCell(){const i=sr(this.editor.model.document.selection.getRanges()).getContainedElement();return i&&i.is("element","tableCell")?i:null}_defineSelectionConverter(){const i=this.editor,s=new Set;i.conversion.for("editingDowncast").add((c=>c.on("selection",((h,g,w)=>{const k=w.writer;(function(I){for(const F of s)I.removeClass("ck-editor__editable_selected",F);s.clear()})(k);const _=this.getSelectedTableCells();if(!_)return;for(const I of _){const F=w.mapper.toViewElement(I);k.addClass("ck-editor__editable_selected",F),s.add(F)}const R=w.mapper.toViewElement(_[_.length-1]);k.setSelection(R,0)}),{priority:"lowest"})))}_enablePluginDisabling(){const i=this.editor;this.on("change:isEnabled",(()=>{if(!this.isEnabled){const s=this.getSelectedTableCells();if(!s)return;i.model.change((c=>{const h=c.createPositionAt(s[0],0),g=i.model.schema.getNearestSelectionRange(h);c.setSelection(g)}))}}))}_handleDeleteContent(i,s){const c=this.editor.plugins.get(mi),h=s[0],g=s[1],w=this.editor.model,k=!g||g.direction=="backward",_=c.getSelectedTableCells(h);_.length&&(i.stop(),w.change((R=>{const I=_[k?_.length-1:0];w.change((H=>{for(const G of _)w.deleteContent(H.createSelection(G,"in"))}));const F=w.schema.getNearestSelectionRange(R.createPositionAt(I,0));h.is("documentSelection")?R.setSelection(F):h.setTo(F)})))}_handleInsertTextEvent(i,s){const c=this.editor,h=this.getSelectedTableCells();if(!h)return;const g=c.editing.view,w=c.editing.mapper,k=h.map((_=>g.createRangeOn(w.toViewElement(_))));s.selection=g.createSelection(k)}_getCellsToSelect(i,s){const c=this.editor.plugins.get("TableUtils"),h=c.getCellLocation(i),g=c.getCellLocation(s),w=Math.min(h.row,g.row),k=Math.max(h.row,g.row),_=Math.min(h.column,g.column),R=Math.max(h.column,g.column),I=new Array(k-w+1).fill(null).map((()=>[])),F={startRow:w,endRow:k,startColumn:_,endColumn:R};for(const{row:W,cell:Y}of new En(i.findAncestor("table"),F))I[W-w].push(Y);const H=g.row<h.row,G=g.column<h.column;return H&&I.reverse(),G&&I.forEach((W=>W.reverse())),{cells:I.flat(),backward:H||G}}}class Fae extends Ve{static get pluginName(){return"TableClipboard"}static get requires(){return[NC,qs,dp,mi]}init(){const i=this.editor,s=i.editing.view.document;this.listenTo(s,"copy",((c,h)=>this._onCopyCut(c,h))),this.listenTo(s,"cut",((c,h)=>this._onCopyCut(c,h))),this.listenTo(i.model,"insertContent",((c,[h,g])=>this._onInsertContent(c,h,g)),{priority:"high"}),this.decorate("_replaceTableSlotCell")}_onCopyCut(i,s){const c=this.editor.editing.view,h=this.editor.plugins.get(dp),g=this.editor.plugins.get(NC);h.getSelectedTableCells()&&(i.name!="cut"||this.editor.model.canEditAt(this.editor.model.document.selection))&&(s.preventDefault(),i.stop(),this.editor.model.enqueueChange({isUndoable:i.name==="cut"},(()=>{const w=g._copySelectedFragmentWithMarkers(i.name,this.editor.model.document.selection,(()=>h.getSelectionAsFragment()));c.document.fire("clipboardOutput",{dataTransfer:s.dataTransfer,content:this.editor.data.toView(w),method:i.name})})))}_onInsertContent(i,s,c){if(c&&!c.is("documentSelection"))return;const h=this.editor.model,g=this.editor.plugins.get(mi),w=this.editor.plugins.get(NC),k=this.getTableIfOnlyTableInContent(s,h);if(!k)return;const _=g.getSelectionAffectedTableCells(h.document.selection);_.length?(i.stop(),s.is("documentFragment")?w._pasteMarkersIntoTransformedElement(s.markers,(R=>this._replaceSelectedCells(k,_,R))):this.editor.model.change((R=>{this._replaceSelectedCells(k,_,R)}))):lM(k,g)}_replaceSelectedCells(i,s,c){const h=this.editor.plugins.get(mi),g={width:h.getColumns(i),height:h.getRows(i)},w=(function(F,H,G,W){const Y=F[0].findAncestor("table"),ie=W.getColumnIndexes(F),de=W.getRowIndexes(F),ge={firstColumn:ie.first,lastColumn:ie.last,firstRow:de.first,lastRow:de.last},Ce=F.length===1;return Ce&&(ge.lastRow+=H.height-1,ge.lastColumn+=H.width-1,(function(Fe,Xe,Ct,Rt){const Fn=Rt.getColumns(Fe),Gr=Rt.getRows(Fe);Ct>Fn&&Rt.insertColumns(Fe,{at:Fn,columns:Ct-Fn}),Xe>Gr&&Rt.insertRows(Fe,{at:Gr,rows:Xe-Gr})})(Y,ge.lastRow+1,ge.lastColumn+1,W)),Ce||!W.isSelectionRectangular(F)?(function(Fe,Xe,Ct){const{firstRow:Rt,lastRow:Fn,firstColumn:Gr,lastColumn:c6}=Xe,d6={first:Rt,last:Fn},u6={first:Gr,last:c6};hM(Fe,Gr,d6,Ct),hM(Fe,c6+1,d6,Ct),uM(Fe,Rt,u6,Ct),uM(Fe,Fn+1,u6,Ct,Rt)})(Y,ge,G):(ge.lastRow=Nj(Y,ge),ge.lastColumn=Oj(Y,ge)),ge})(s,g,c,h),k=w.lastRow-w.firstRow+1,_=w.lastColumn-w.firstColumn+1;i=Dj(i,{startRow:0,startColumn:0,endRow:Math.min(k,g.height)-1,endColumn:Math.min(_,g.width)-1},c);const R=s[0].findAncestor("table"),I=this._replaceSelectedCellsWithPasted(i,g,R,w,c);if(this.editor.plugins.get("TableSelection").isEnabled){const F=h.sortRanges(I.map((H=>c.createRangeOn(H))));c.setSelection(F)}else c.setSelection(I[0],0);return R}_replaceSelectedCellsWithPasted(i,s,c,h,g){const{width:w,height:k}=s,_=(function(ie,de,ge){const Ce=new Array(ge).fill(null).map((()=>new Array(de).fill(null)));for(const{column:Fe,row:Xe,cell:Ct}of new En(ie))Ce[Xe][Fe]=Ct;return Ce})(i,w,k),R=[...new En(c,{startRow:h.firstRow,endRow:h.lastRow,startColumn:h.firstColumn,endColumn:h.lastColumn,includeAllSlots:!0})],I=[];let F;for(const ie of R){const{row:de,column:ge}=ie;ge===h.firstColumn&&(F=ie.getPositionBefore());const Ce=de-h.firstRow,Fe=ge-h.firstColumn,Xe=_[Ce%k][Fe%w],Ct=Xe?g.cloneElement(Xe):null,Rt=this._replaceTableSlotCell(ie,Ct,F,g);Rt&&(Ij(Rt,de,ge,h.lastRow,h.lastColumn,g),I.push(Rt),F=g.createPositionAfter(Rt))}const H=parseInt(c.getAttribute("headingRows")||"0"),G=parseInt(c.getAttribute("headingColumns")||"0"),W=h.firstRow<H&&H<=h.lastRow,Y=h.firstColumn<G&&G<=h.lastColumn;if(W){const ie=uM(c,H,{first:h.firstColumn,last:h.lastColumn},g,h.firstRow);I.push(...ie)}if(Y){const ie=hM(c,G,{first:h.firstRow,last:h.lastRow},g);I.push(...ie)}return I}_replaceTableSlotCell(i,s,c,h){const{cell:g,isAnchor:w}=i;return w&&h.remove(g),s?(h.insert(s,c),s):null}getTableIfOnlyTableInContent(i,s){if(!i.is("documentFragment")&&!i.is("element"))return null;if(i.is("element","table"))return i;if(i.childCount==1&&i.getChild(0).is("element","table"))return i.getChild(0);const c=s.createRangeIn(i);for(const h of c.getItems())if(h.is("element","table")){const g=s.createRange(c.start,s.createPositionBefore(h));if(s.hasContent(g,{ignoreWhitespaces:!0}))return null;const w=s.createRange(s.createPositionAfter(h),c.end);return s.hasContent(w,{ignoreWhitespaces:!0})?null:h}return null}}function uM(u,i,s,c,h=0){if(!(i<1))return Mj(u,i,h).filter((({column:g,cellWidth:w})=>$j(g,w,s))).map((({cell:g})=>Tj(g,i,c)))}function hM(u,i,s,c){if(!(i<1))return Rj(u,i).filter((({row:h,cellHeight:g})=>$j(h,g,s))).map((({cell:h,column:g})=>Pj(h,g,i,c)))}function $j(u,i,s){const c=u+i-1,{first:h,last:g}=s;return u>=h&&u<=g||u<h&&c>=h}class Lae extends Ve{static get pluginName(){return"TableKeyboard"}static get requires(){return[dp,mi]}init(){const i=this.editor,s=i.editing.view.document,c=i.t;this.listenTo(s,"arrowKey",((...h)=>this._onArrowKey(...h)),{context:"table"}),this.listenTo(s,"tab",((...h)=>this._handleTabOnSelectedTable(...h)),{context:"figure"}),this.listenTo(s,"tab",((...h)=>this._handleTab(...h)),{context:["th","td"]}),i.accessibility.addKeystrokeInfoGroup({id:"table",label:c("Keystrokes that can be used in a table cell"),keystrokes:[{label:c("Move the selection to the next cell"),keystroke:"Tab"},{label:c("Move the selection to the previous cell"),keystroke:"Shift+Tab"},{label:c("Insert a new table row (when in the last cell of a table)"),keystroke:"Tab"},{label:c("Navigate through the table"),keystroke:[["arrowup"],["arrowright"],["arrowdown"],["arrowleft"]]}]})}_handleTabOnSelectedTable(i,s){const c=this.editor,h=c.model.document.selection.getSelectedElement();h&&h.is("element","table")&&(s.preventDefault(),s.stopPropagation(),i.stop(),c.model.change((g=>{g.setSelection(g.createRangeIn(h.getChild(0).getChild(0)))})))}_handleTab(i,s){const c=this.editor,h=this.editor.plugins.get(mi),g=this.editor.plugins.get("TableSelection"),w=c.model.document.selection,k=!s.shiftKey;let _=h.getTableCellsContainingSelection(w)[0];if(_||(_=g.getFocusCell()),!_)return;s.preventDefault(),s.stopPropagation(),i.stop();const R=_.parent,I=R.parent,F=I.getChildIndex(R),H=R.getChildIndex(_),G=H===0;if(!k&&G&&F===0)return void c.model.change((de=>{de.setSelection(de.createRangeOn(I))}));const W=H===R.childCount-1,Y=F===h.getRows(I)-1;if(k&&Y&&W&&(c.execute("insertTableRowBelow"),F===h.getRows(I)-1))return void c.model.change((de=>{de.setSelection(de.createRangeOn(I))}));let ie;if(k&&W)ie=I.getChild(F+1).getChild(0);else if(!k&&G){const de=I.getChild(F-1);ie=de.getChild(de.childCount-1)}else ie=R.getChild(H+(k?1:-1));c.model.change((de=>{de.setSelection(de.createRangeIn(ie))}))}_onArrowKey(i,s){const c=this.editor,h=yf(s.keyCode,c.locale.contentLanguageDirection);this._handleArrowKeys(h,s.shiftKey)&&(s.preventDefault(),s.stopPropagation(),i.stop())}_handleArrowKeys(i,s){const c=this.editor.plugins.get(mi),h=this.editor.plugins.get("TableSelection"),g=this.editor.model,w=g.document.selection,k=["right","down"].includes(i),_=c.getSelectedTableCells(w);if(_.length){let I;return I=s?h.getFocusCell():k?_[_.length-1]:_[0],this._navigateFromCellInDirection(I,i,s),!0}const R=w.focus.findAncestor("tableCell");if(!R)return!1;if(!w.isCollapsed)if(s){if(w.isBackward==k&&!w.containsEntireContent(R))return!1}else{const I=w.getSelectedElement();if(!I||!g.schema.isObject(I))return!1}return!!this._isSelectionAtCellEdge(w,R,k)&&(this._navigateFromCellInDirection(R,i,s),!0)}_isSelectionAtCellEdge(i,s,c){const h=this.editor.model,g=this.editor.model.schema,w=c?i.getLastPosition():i.getFirstPosition();if(!g.getLimitElement(w).is("element","tableCell"))return h.createPositionAt(s,c?"end":0).isTouching(w);const k=h.createSelection(w);return h.modifySelection(k,{direction:c?"forward":"backward"}),w.isEqual(k.focus)}_navigateFromCellInDirection(i,s,c=!1){const h=this.editor.model,g=i.findAncestor("table"),w=[...new En(g,{includeAllSlots:!0})],{row:k,column:_}=w[w.length-1],R=w.find((({cell:Y})=>Y==i));let{row:I,column:F}=R;switch(s){case"left":F--;break;case"up":I--;break;case"right":F+=R.cellWidth;break;case"down":I+=R.cellHeight}if(I<0||I>k||F<0&&I<=0||F>_&&I>=k)return void h.change((Y=>{Y.setSelection(Y.createRangeOn(g))}));F<0?(F=c?0:_,I--):F>_&&(F=c?_:0,I++);const H=w.find((Y=>Y.row==I&&Y.column==F)).cell,G=["right","down"].includes(s),W=this.editor.plugins.get("TableSelection");if(c&&W.isEnabled){const Y=W.getAnchorCell()||i;W.setCellSelection(Y,H)}else{const Y=h.createPositionAt(H,G?0:"end");h.change((ie=>{ie.setSelection(Y)}))}}}class Bae extends Pa{constructor(){super(...arguments),this.domEventType=["mousemove","mouseleave"]}onDomEvent(i){this.fire(i.type,i)}}class jae extends Ve{static get pluginName(){return"TableMouse"}static get requires(){return[dp,mi]}init(){this.editor.editing.view.addObserver(Bae),this._enableShiftClickSelection(),this._enableMouseDragSelection()}_enableShiftClickSelection(){const i=this.editor,s=i.plugins.get(mi);let c=!1;const h=i.plugins.get(dp);this.listenTo(i.editing.view.document,"mousedown",((g,w)=>{const k=i.model.document.selection;if(!this.isEnabled||!h.isEnabled||!w.domEvent.shiftKey)return;const _=h.getAnchorCell()||s.getTableCellsContainingSelection(k)[0];if(!_)return;const R=this._getModelTableCellFromDomEvent(w);R&&qj(_,R)&&(c=!0,h.setCellSelection(_,R),w.preventDefault())})),this.listenTo(i.editing.view.document,"mouseup",(()=>{c=!1})),this.listenTo(i.editing.view.document,"selectionChange",(g=>{c&&g.stop()}),{priority:"highest"})}_enableMouseDragSelection(){const i=this.editor;let s,c,h=!1,g=!1;const w=i.plugins.get(dp);this.listenTo(i.editing.view.document,"mousedown",((k,_)=>{this.isEnabled&&w.isEnabled&&(_.domEvent.shiftKey||_.domEvent.ctrlKey||_.domEvent.altKey||(s=this._getModelTableCellFromDomEvent(_)))})),this.listenTo(i.editing.view.document,"mousemove",((k,_)=>{if(!_.domEvent.buttons||!s)return;const R=this._getModelTableCellFromDomEvent(_);R&&qj(s,R)&&(c=R,h||c==s||(h=!0)),h&&(g=!0,w.setCellSelection(s,c),_.preventDefault())})),this.listenTo(i.editing.view.document,"mouseup",(()=>{h=!1,g=!1,s=null,c=null})),this.listenTo(i.editing.view.document,"selectionChange",(k=>{g&&k.stop()}),{priority:"highest"})}_getModelTableCellFromDomEvent(i){const s=i.target,c=this.editor.editing.view.createPositionAt(s,0);return this.editor.editing.mapper.toModelPosition(c).parent.findAncestor("tableCell",{includeSelf:!0})}}function qj(u,i){return u.parent.parent==i.parent.parent}var Kj=o(2329),zae={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$e()(Kj.A,zae),Kj.A.locals;function Hae(u){const i=u.getSelectedElement();return i&&Yj(i)?i:null}function Vae(u){const i=u.getFirstPosition();if(!i)return null;let s=i.parent;for(;s;){if(s.is("element")&&Yj(s))return s;s=s.parent}return null}function Yj(u){return!!u.getCustomProperty("table")&&Sr(u)}var Qj=o(5506),Gae={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$e()(Qj.A,Gae),Qj.A.locals;var Zj=o(2655),Uae={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$e()(Zj.A,Uae),Zj.A.locals;var Xj=o(4043),Wae={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$e()(Xj.A,Wae),Xj.A.locals;var Jj=o(1623),$ae={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$e()(Jj.A,$ae),Jj.A.locals;var e6=o(8986),qae={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$e()(e6.A,qae),e6.A.locals;const up=jo.defaultPositions;up.northArrowSouth,up.northArrowSouthWest,up.northArrowSouthEast,up.southArrowNorth,up.southArrowNorthWest,up.southArrowNorthEast,up.viewportStickyNorth;var t6=o(5562),Kae={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$e()(t6.A,Kae),t6.A.locals;var n6=o(4143),Yae={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$e()(n6.A,Yae),n6.A.locals;var r6=o(8795),Qae={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$e()(r6.A,Qae),r6.A.locals;var Zae=Object.defineProperty,i6=Object.getOwnPropertySymbols,Xae=Object.prototype.hasOwnProperty,Jae=Object.prototype.propertyIsEnumerable,o6=(u,i,s)=>i in u?Zae(u,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):u[i]=s,s6=(u,i)=>{for(var s in i||(i={}))Xae.call(i,s)&&o6(u,s,i[s]);if(i6)for(var s of i6(i))Jae.call(i,s)&&o6(u,s,i[s]);return u};const ele={autoRefresh:!0},a6=36e5;class fM extends et(){constructor(i,s={}){if(super(),!i)throw new z("token-missing-token-url",this);s.initValue&&this._validateTokenValue(s.initValue),this.set("value",s.initValue),this._refresh=typeof i=="function"?i:()=>{return c=i,new Promise(((h,g)=>{const w=new XMLHttpRequest;w.open("GET",c),w.addEventListener("load",(()=>{const k=w.status,_=w.response;return k<200||k>299?g(new z("token-cannot-download-new-token",null)):h(_)})),w.addEventListener("error",(()=>g(new Error("Network Error")))),w.addEventListener("abort",(()=>g(new Error("Abort")))),w.send()}));var c},this._options=s6(s6({},ele),s)}init(){return new Promise(((i,s)=>{this.value?(this._options.autoRefresh&&this._registerRefreshTokenTimeout(),i(this)):this.refreshToken().then(i).catch(s)}))}refreshToken(){return this._refresh().then((i=>(this._validateTokenValue(i),this.set("value",i),this._options.autoRefresh&&this._registerRefreshTokenTimeout(),this)))}destroy(){clearTimeout(this._tokenRefreshTimeout)}_validateTokenValue(i){const s=typeof i=="string",c=!/^".*"$/.test(i),h=s&&i.split(".").length===3;if(!c||!h)throw new z("token-not-in-jwt-format",this)}_registerRefreshTokenTimeout(){const i=this._getTokenRefreshTimeoutTime();clearTimeout(this._tokenRefreshTimeout),this._tokenRefreshTimeout=setTimeout((()=>{this.refreshToken()}),i)}_getTokenRefreshTimeoutTime(){try{const[,i]=this.value.split("."),{exp:s}=JSON.parse(atob(i));return s?Math.floor((1e3*s-Date.now())/2):a6}catch{return a6}}static create(i,s={}){return new fM(i,s).init()}}const pM=/^data:(\S*?);base64,/;class tle extends le(){constructor(i,s,c){if(super(),!i)throw new z("fileuploader-missing-file",null);if(!s)throw new z("fileuploader-missing-token",null);if(!c)throw new z("fileuploader-missing-api-address",null);this.file=(function(h){if(typeof h!="string")return!1;const g=h.match(pM);return!(!g||!g.length)})(i)?(function(h,g=512){try{const w=h.match(pM)[1],k=atob(h.replace(pM,"")),_=[];for(let R=0;R<k.length;R+=g){const I=k.slice(R,R+g),F=new Array(I.length);for(let H=0;H<I.length;H++)F[H]=I.charCodeAt(H);_.push(new Uint8Array(F))}return new Blob(_,{type:w})}catch{throw new z("fileuploader-decoding-image-data-error",null)}})(i):i,this._token=s,this._apiAddress=c}onProgress(i){return this.on("progress",((s,c)=>i(c))),this}onError(i){return this.once("error",((s,c)=>i(c))),this}abort(){this.xhr.abort()}send(){return this._prepareRequest(),this._attachXHRListeners(),this._sendRequest()}_prepareRequest(){const i=new XMLHttpRequest;i.open("POST",this._apiAddress),i.setRequestHeader("Authorization",this._token.value),i.responseType="json",this.xhr=i}_attachXHRListeners(){const i=this.xhr,s=c=>()=>this.fire("error",c);i.addEventListener("error",s("Network Error")),i.addEventListener("abort",s("Abort")),i.upload&&i.upload.addEventListener("progress",(c=>{c.lengthComputable&&this.fire("progress",{total:c.total,uploaded:c.loaded})})),i.addEventListener("load",(()=>{const c=i.status,h=i.response;if(c<200||c>299)return this.fire("error",h.message||h.error)}))}_sendRequest(){const i=new FormData,s=this.xhr;return i.append("file",this.file),new Promise(((c,h)=>{s.addEventListener("load",(()=>{const g=s.status,w=s.response;return g<200||g>299?w.message?h(new z("fileuploader-uploading-data-failed",this,{message:w.message})):h(w.error):c(w)})),s.addEventListener("error",(()=>h(new Error("Network Error")))),s.addEventListener("abort",(()=>h(new Error("Abort")))),s.send(i)}))}}class nle{constructor(i,s){if(!i)throw new z("uploadgateway-missing-token",null);if(!s)throw new z("uploadgateway-missing-api-address",null);this._token=i,this._apiAddress=s}upload(i){return new tle(i,this._token,this._apiAddress)}}class rle extends Da{static get pluginName(){return"CloudServicesCore"}createToken(i,s){return new fM(i,s)}createUploadGateway(i,s){return new nle(i,s)}}var l6=(u,i,s)=>new Promise(((c,h)=>{var g=_=>{try{k(s.next(_))}catch(R){h(R)}},w=_=>{try{k(s.throw(_))}catch(R){h(R)}},k=_=>_.done?c(_.value):Promise.resolve(_.value).then(g,w);k((s=s.apply(u,i)).next())}));class gM extends AA{}gM.builtinPlugins=[class extends Ve{static get requires(){return[jl,TL,DA,xre,qne,jne,OL]}static get pluginName(){return"Essentials"}},class extends Ve{static get requires(){return[Va]}static get pluginName(){return"CKFinderUploadAdapter"}init(){const u=this.editor.config.get("ckfinder.uploadUrl");u&&(this.editor.plugins.get(Va).createUploadAdapter=i=>new Ore(i,u,this.editor.t))}},class extends Ve{static get requires(){return[ld]}static get pluginName(){return"Autoformat"}afterInit(){const u=this.editor,i=this.editor.t;this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats(),this._addCodeBlockAutoformats(),this._addHorizontalLineAutoformats(),u.accessibility.addKeystrokeInfos({keystrokes:[{label:i("Revert autoformatting action"),keystroke:"Backspace"}]})}_addListAutoformats(){const u=this.editor.commands;u.get("bulletedList")&&mh(this.editor,this,/^[*-]\s$/,"bulletedList"),u.get("numberedList")&&mh(this.editor,this,/^1[.|)]\s$/,"numberedList"),u.get("todoList")&&mh(this.editor,this,/^\[\s?\]\s$/,"todoList"),u.get("checkTodoList")&&mh(this.editor,this,/^\[\s?x\s?\]\s$/,(()=>{this.editor.execute("todoList"),this.editor.execute("checkTodoList")}))}_addBasicStylesAutoformats(){const u=this.editor.commands;if(u.get("bold")){const i=IA(this.editor,"bold");Vm(this.editor,this,/(?:^|\s)(\*\*)([^*]+)(\*\*)$/g,i),Vm(this.editor,this,/(?:^|\s)(__)([^_]+)(__)$/g,i)}if(u.get("italic")){const i=IA(this.editor,"italic");Vm(this.editor,this,/(?:^|\s)(\*)([^*_]+)(\*)$/g,i),Vm(this.editor,this,/(?:^|\s)(_)([^_]+)(_)$/g,i)}if(u.get("code")){const i=IA(this.editor,"code");Vm(this.editor,this,/(`)([^`]+)(`)$/g,i)}if(u.get("strikethrough")){const i=IA(this.editor,"strikethrough");Vm(this.editor,this,/(~~)([^~]+)(~~)$/g,i)}}_addHeadingAutoformats(){const u=this.editor.commands.get("heading");u&&u.modelElements.filter((i=>i.match(/^heading[1-6]$/))).forEach((i=>{const s=i[7],c=new RegExp(`^(#{${s}})\\s$`);mh(this.editor,this,c,(()=>{if(!u.isEnabled||u.value===i)return!1;this.editor.execute("heading",{value:i})}))}))}_addBlockQuoteAutoformats(){this.editor.commands.get("blockQuote")&&mh(this.editor,this,/^>\s$/,"blockQuote")}_addCodeBlockAutoformats(){const u=this.editor,i=u.model.document.selection;u.commands.get("codeBlock")&&mh(u,this,/^```$/,(()=>{if(i.getFirstPosition().parent.is("element","listItem"))return!1;this.editor.execute("codeBlock",{usePreviousLanguageChoice:!0})}))}_addHorizontalLineAutoformats(){this.editor.commands.get("horizontalLine")&&mh(this.editor,this,/^---$/,"horizontalLine")}},class extends Ve{static get requires(){return[Fre,Lre]}static get pluginName(){return"Bold"}},class extends Ve{static get requires(){return[jre,zre]}static get pluginName(){return"Italic"}},class extends Ve{static get requires(){return[Vre,Ure]}static get pluginName(){return"BlockQuote"}},class extends Ve{static get pluginName(){return"CKBox"}static get requires(){return[t5,Wre]}},class extends Ve{static get pluginName(){return"CKFinder"}static get requires(){return["Link","CKFinderUploadAdapter",mie,pie]}},class extends Da{constructor(){super(...arguments),this.token=null,this._tokens=new Map}static get pluginName(){return"CloudServices"}static get requires(){return[rle]}init(){return l6(this,null,(function*(){const u=this.context.config.get("cloudServices")||{};for(const[s,c]of Object.entries(u))this[s]=c;if(!this.tokenUrl)return void(this.token=null);const i=this.context.plugins.get("CloudServicesCore");this.token=yield i.createToken(this.tokenUrl).init(),this._tokens.set(this.tokenUrl,this.token)}))}registerTokenUrl(u){return l6(this,null,(function*(){if(this._tokens.has(u))return this.getTokenFor(u);const i=this.context.plugins.get("CloudServicesCore"),s=yield i.createToken(u).init();return this._tokens.set(u,s),s}))}getTokenFor(u){const i=this._tokens.get(u);if(!i)throw new z("cloudservices-token-not-registered",this);return i}destroy(){super.destroy();for(const u of this._tokens.values())u.destroy()}},class extends Ve{static get pluginName(){return"EasyImage"}static get requires(){return[bie,"ImageUpload"]}init(){const u=this.editor;u.plugins.has("ImageBlockEditing")||u.plugins.has("ImageInlineEditing")||K("easy-image-image-feature-missing",u)}},class extends Ve{static get requires(){return[kie,Aie]}static get pluginName(){return"Heading"}},class extends Ve{static get requires(){return[Wie,qie]}static get pluginName(){return"Image"}},class extends Ve{static get requires(){return[Yie,Qie]}static get pluginName(){return"ImageCaption"}},class extends Ve{static get requires(){return[aB,Coe]}static get pluginName(){return"ImageStyle"}},class extends Ve{static get requires(){return[TA,Ho]}static get pluginName(){return"ImageToolbar"}afterInit(){const u=this.editor,i=u.t,s=u.plugins.get(TA),c=u.plugins.get("ImageUtils");var h;s.register("image",{ariaLabel:i("Image toolbar"),items:(h=u.config.get("image.toolbar")||[],h.map((g=>_e(g)?g.name:g))),getRelatedElement:g=>c.getClosestSelectedImageWidget(g)})}},class extends Ve{static get pluginName(){return"ImageUpload"}static get requires(){return[doe,Jie,roe]}},class extends Ve{static get pluginName(){return"Indent"}static get requires(){return[yoe,koe]}},class extends Ve{static get requires(){return[DB,Zoe,Xoe]}static get pluginName(){return"Link"}},kse,class extends Ve{static get requires(){return[$A,Nse,Rse,BC]}static get pluginName(){return"MediaEmbed"}},z2,class extends Ve{static get pluginName(){return"PasteFromOffice"}static get requires(){return[qs]}init(){const u=this.editor,i=u.plugins.get("ClipboardPipeline"),s=u.editing.view.document,c=[],h=this.editor.plugins.has("MultiLevelList");c.push(new tae(s,h)),c.push(new rae(s)),c.push(new oae(s)),i.on("inputTransformation",((g,w)=>{if(w._isTransformedWithPasteFromOffice||u.model.document.selection.getFirstPosition().parent.is("element","codeBlock"))return;const k=w.dataTransfer.getData("text/html"),_=c.find((R=>R.isActive(k)));_&&(w._parsedData||(w._parsedData=sae(k,s.stylesProcessor)),_.execute(w),w._isTransformedWithPasteFromOffice=!0)}),{priority:"high"})}},class extends Ve{static get requires(){return[V2,Ho]}static get pluginName(){return"PictureEditing"}afterInit(){const u=this.editor;u.plugins.has("ImageBlockEditing")&&u.model.schema.extend("imageBlock",{allowAttributes:["sources"]}),u.plugins.has("ImageInlineEditing")&&u.model.schema.extend("imageInline",{allowAttributes:["sources"]}),this._setupConversion(),this._setupImageUploadEditingIntegration()}_setupConversion(){const u=this.editor,i=u.conversion,s=u.plugins.get("ImageUtils");i.for("upcast").add((function(c){const h=["srcset","media","type","sizes"],g=(w,k,_)=>{const R=k.viewItem;if(!_.consumable.test(R,{name:!0}))return;const I=new Map;for(const G of R.getChildren())if(G.is("element","source")){const W={};for(const Y of h)G.hasAttribute(Y)&&_.consumable.test(G,{attributes:Y})&&(W[Y]=G.getAttribute(Y));Object.keys(W).length&&I.set(G,W)}const F=c.findViewImgElement(R);if(!F)return;let H=k.modelCursor.parent;if(!H.is("element","imageBlock")){const G=_.convertItem(F,k.modelCursor);k.modelRange=G.modelRange,k.modelCursor=G.modelCursor,H=sr(G.modelRange.getItems())}_.consumable.consume(R,{name:!0});for(const[G,W]of I)_.consumable.consume(G,{attributes:Object.keys(W)});I.size&&_.writer.setAttribute("sources",Array.from(I.values()),H),_.convertChildren(R,H)};return w=>{w.on("element:picture",g)}})(s)),i.for("downcast").add((function(c){const h=(g,w,k)=>{if(!k.consumable.consume(w.item,g.name))return;const _=k.writer,R=k.mapper.toViewElement(w.item),I=c.findViewImgElement(R),F=w.attributeNewValue;if(F&&F.length){const H=_.createContainerElement("picture",null,F.map((Y=>_.createEmptyElement("source",Y)))),G=[];let W=I.parent;for(;W&&W.is("attributeElement");){const Y=W.parent;_.unwrap(_.createRangeOn(I),W),G.unshift(W),W=Y}_.insert(_.createPositionBefore(I),H),_.move(_.createRangeOn(I),_.createPositionAt(H,"end"));for(const Y of G)_.wrap(_.createRangeOn(H),Y)}else if(I.parent.is("element","picture")){const H=I.parent;_.move(_.createRangeOn(I),_.createPositionBefore(H)),_.remove(H)}};return g=>{g.on("attribute:sources:imageBlock",h),g.on("attribute:sources:imageInline",h)}})(s))}_setupImageUploadEditingIntegration(){const u=this.editor;if(!u.plugins.has("ImageUploadEditing"))return;const i=u.plugins.get("ImageUploadEditing");this.listenTo(i,"uploadComplete",((s,{imageElement:c,data:h})=>{const g=h.sources;g&&u.model.change((w=>{w.setAttributes({sources:g},c)}))}))}},class extends Ve{static get requires(){return[Rae,Iae,dp,jae,Lae,Fae,BC]}static get pluginName(){return"Table"}},class extends Ve{static get requires(){return[TA]}static get pluginName(){return"TableToolbar"}afterInit(){const u=this.editor,i=u.t,s=u.plugins.get(TA),c=u.config.get("table.contentToolbar"),h=u.config.get("table.tableToolbar");c&&s.register("tableContent",{ariaLabel:i("Table toolbar"),items:c,getRelatedElement:Vae}),h&&s.register("table",{ariaLabel:i("Table toolbar"),items:h,getRelatedElement:Hae})}},class extends Ve{static get requires(){return["Delete","Input"]}static get pluginName(){return"TextTransformation"}constructor(u){super(u),u.config.define("typing",{transformations:{include:zne}})}init(){const u=this.editor.model.document.selection;u.on("change:range",(()=>{this.isEnabled=!u.anchor.parent.is("element","codeBlock")})),this._enableTransformationWatchers()}_enableTransformationWatchers(){const u=this.editor,i=u.model,s=u.plugins.get("Delete"),c=(function(g){const w=g.extra||[],k=g.remove||[],_=R=>!k.includes(R);return(function(R){const I=new Set;for(const F of R)if(typeof F=="string"&&nL[F])for(const H of nL[F])I.add(H);else I.add(F);return Array.from(I)})(g.include.concat(w).filter(_)).filter(_).map((R=>typeof R=="string"&&tL[R]?tL[R]:R)).filter((R=>typeof R=="object")).map((R=>({from:Hne(R.from),to:Vne(R.to)})))})(u.config.get("typing.transformations")),h=new X3(u.model,(g=>{for(const w of c)if(w.from.test(g))return{normalizedTransformation:w}}));h.on("matched:data",((g,w)=>{if(!w.batch.isTyping)return;const{from:k,to:_}=w.normalizedTransformation,R=k.exec(w.text),I=_(R.slice(1)),F=w.range;let H=R.index;i.enqueueChange((G=>{for(let W=1;W<R.length;W++){const Y=R[W],ie=I[W-1];if(ie==null){H+=Y.length;continue}const de=F.start.getShiftedBy(H),ge=i.createRange(de,de.getShiftedBy(Y.length)),Ce=Gne(de);i.insertContent(G.createText(ie,Ce),ge),H+=ie.length}i.enqueueChange((()=>{s.requestUndoOnBackspace()}))}))})),h.bind("isEnabled").to(this)}}],gM.defaultConfig={toolbar:{items:["undo","redo","|","heading","|","bold","italic","|","link","uploadImage","insertTable","blockQuote","mediaEmbed","|","bulletedList","numberedList","outdent","indent"]},image:{toolbar:["imageStyle:inline","imageStyle:block","imageStyle:side","|","toggleImageCaption","imageTextAlternative"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells"]},language:"en"}})(),a=a.default})()))})(Cy,Cy.exports)),Cy.exports}var S$e=A$e();const _$e=fa(S$e);function $G(e){return ln({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4m0 1a1 1 0 0 1 1 -1h14a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-14a1 1 0 0 1 -1 -1z"},child:[]},{tag:"path",attr:{d:"M4 12m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v6a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z"},child:[]},{tag:"path",attr:{d:"M14 12l6 0"},child:[]},{tag:"path",attr:{d:"M14 16l6 0"},child:[]},{tag:"path",attr:{d:"M14 20l6 0"},child:[]}]})(e)}function E$e(e){return ln({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",strokeWidth:"2",d:"M2.99787498,6.99999999 L2.99787498,0.999999992 L17.4999998,0.999999992 L20.9999998,4.50000005 L21,23 L15,23 M16,1 L16,6 L21,6 M8,23 C11.8659932,23 15,19.8659932 15,16 C15,12.1340068 11.8659932,9 8,9 C4.13400675,9 1,12.1340068 1,16 C1,19.8659932 4.13400675,23 8,23 Z M4.5,16.5 L8,13 L11.5,16.5 M8,13.5 L8,20"},child:[]}]})(e)}function D$e(){const[e,t]=M.useState(""),[n,r]=M.useState([]);yn();const[o,a]=M.useState(null),l="https://crm.softwaresetu.com/api",[d,f]=M.useState(""),[m,v]=M.useState(!0),[C,y]=M.useState(!1),S=M.useRef(null);M.useEffect(()=>{(async()=>{try{const U=await(await fetch(`${l}/templates/all`)).json();r(Array.isArray(U)?U:[]),v(!1)}catch(V){console.log("Error fetching templates:",V),r([]),v(!1)}})()},[l]);const E=L=>{L&&(a(L.id||L._id),t(L.name||L.templateName||""),f(L.content||L.editorContent||""),window.scrollTo({top:0,behavior:"smooth"}))},T=()=>{a(null),t(""),f("")},P=async()=>{if(!e.trim()){alert("Template name is required!");return}y(!0);try{if(o){const L=await fetch(`${l}/templates/update/${o}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({templateName:e,editorContent:d})});if(!L.ok)throw new Error("Update failed");const V=await L.json(),U=V.template||V.updatedTemplate||V;U&&U.id&&r(n.map($=>{const z=$.id||$._id,K=U.id||U._id;return z===K?U:$})),T(),alert("Template updated successfully!")}else{const L=await fetch(`${l}/templates/add`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({templateName:e,editorContent:d})});if(!L.ok)throw new Error("Save failed");const V=await L.json(),U=V.template||V.newTemplate||V;U&&r([U,...n]),T(),alert("Template added successfully!")}}catch(L){console.log("Error saving template:",L),alert("Error saving template")}finally{y(!1)}},N=async L=>{if(L&&window.confirm("Are you sure you want to delete this template?"))try{await fetch(`${l}/templates/delete/${L}`,{method:"DELETE"}),r(n.filter(V=>(V.id||V._id)!==L)),o===L&&T(),alert("Template deleted successfully!")}catch(V){console.log("Delete error:",V),alert("Error deleting template")}},j=L=>{if(!L)return null;const V=L.id||L._id,U=L.name||L.templateName||"Unnamed Template",$=L.content||L.editorContent||"",z=L.createdAt||L.updatedAt||new Date().toISOString();return A.jsxs("div",{className:"border border-gray-200 rounded-lg md:rounded-xl p-4 md:p-6 hover:shadow-md transition-shadow duration-200",children:[A.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-4 gap-3",children:[A.jsx("div",{className:"flex-1",children:A.jsxs("h4",{className:"font-bold text-base md:text-lg text-gray-800 flex flex-wrap items-center gap-2",children:[U,A.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded-full",children:new Date(z).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"})}),o===V&&A.jsxs("span",{className:"text-xs bg-purple-100 text-purple-800 px-2 py-1 rounded-full flex items-center",children:[A.jsx(R6,{className:"mr-1"})," Editing"]})]})}),A.jsxs("div",{className:"flex gap-2 self-end sm:self-auto",children:[A.jsxs("button",{onClick:()=>E(L),disabled:C,className:"text-blue-600 hover:text-blue-800 hover:bg-blue-50 px-3 py-1.5 border border-blue-200 rounded-lg transition-colors flex items-center text-sm",type:"button",children:[A.jsx(R6,{className:"mr-1.5"}),"Edit"]}),A.jsxs("button",{onClick:()=>N(V),disabled:C,className:"text-gray-600 hover:text-red-600 hover:bg-red-50 px-3 py-1.5 border border-gray-200 rounded-lg transition-colors flex items-center text-sm",type:"button",children:[A.jsx(Rde,{className:"mr-1.5"}),"Delete"]})]})]}),A.jsx("div",{className:"bg-gray-50 rounded-lg p-3 md:p-4 border a4-preview max-h-48 md:max-h-60 overflow-y-auto",children:$?A.jsx("div",{className:"prose max-w-none text-sm md:text-base",dangerouslySetInnerHTML:{__html:$}}):A.jsx("p",{className:"text-gray-500 italic text-sm md:text-base",children:"No content"})})]},V)};return A.jsx("div",{className:"min-h-screen p-4 md:p-6 bg-gray-50",children:A.jsxs("div",{className:"max-w-full mx-auto",children:[A.jsxs("div",{className:"text-center mb-8",children:[A.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full mb-4",children:A.jsx($G,{className:"w-8 h-8 text-white"})}),A.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-800 mb-2",children:"Template Manager"}),A.jsx("p",{className:"text-gray-600",children:"Create and manage your email templates"})]}),A.jsxs("div",{className:"bg-[#f8f9ff] p-5 md:p-8 rounded-xl font-sans text-[#333] leading-relaxed border border-[#e0e4ff] shadow-sm mb-6",children:[A.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[A.jsx(Ede,{className:"mr-2 text-blue-500"}),"Formatting Guidelines"]}),A.jsxs("ul",{className:"list-disc list-inside space-y-2.5 text-[#444] text-sm md:text-base",children:[A.jsx("li",{children:"All remaining text should stay in normal paragraph formatting."}),A.jsxs("li",{children:["The text ",A.jsx("strong",{children:"OFFER LETTER"})," should always appear inside an ",A.jsx("code",{className:"bg-gray-100 px-1.5 py-0.5 rounded",children:"<h1>"})," tag."]}),A.jsxs("li",{children:["The text on the bottom-left side should be placed inside an ",A.jsx("code",{className:"bg-gray-100 px-1.5 py-0.5 rounded",children:"<h2>"})," tag, and the text on the bottom-right side should be placed inside an ",A.jsx("code",{className:"bg-gray-100 px-1.5 py-0.5 rounded",children:"<h3>"})," tag."]}),A.jsxs("li",{className:"flex items-start",children:[A.jsx(Pde,{className:"mr-2 mt-1 text-blue-500 flex-shrink-0"}),"Use the upload button to add logos and images directly from your computer."]})]})]}),A.jsxs("div",{className:"bg-white rounded-xl md:rounded-2xl shadow-lg p-5 md:p-8 mb-8 border border-gray-200",children:[A.jsxs("div",{className:"flex items-center mb-6",children:[A.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg flex items-center justify-center mr-3 md:mr-4",children:A.jsx(P6,{className:"w-5 h-5 md:w-6 md:h-6 text-white"})}),A.jsxs("div",{children:[A.jsx("h2",{className:"text-xl md:text-2xl font-bold text-gray-800",children:o?"Edit Template":"Create New Template"}),A.jsx("p",{className:"text-gray-600 text-sm md:text-base",children:"Design your perfect email template"})]})]}),A.jsxs("div",{className:"mb-6",children:[A.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Template Name ",A.jsx("span",{className:"text-red-500",children:"*"})]}),A.jsx("input",{className:"w-full px-4 py-3 border border-gray-300 rounded-lg md:rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",value:e,onChange:L=>t(L.target.value),placeholder:"Enter a descriptive template name",disabled:C})]}),A.jsxs("div",{className:"mb-6",children:[A.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Template Content"}),A.jsx("div",{className:"editor-container border border-gray-300 rounded-lg md:rounded-xl overflow-hidden shadow-sm",children:A.jsxs("div",{className:"a4-container bg-white min-h-[300px] md:min-h-[400px]",children:[!m&&A.jsx(_ee,{editor:_$e,data:d,onReady:L=>{S.current=L,console.log("CKEditor is ready!"),L.ui.view.editable.element.style.minHeight="300px"},onChange:(L,V)=>{const U=V.getData();f(U)},config:{toolbar:["heading","|","bold","italic","underline","strikethrough","subscript","superscript","|","fontFamily","fontSize","fontColor","fontBackgroundColor","|","alignment","|","numberedList","bulletedList","|","outdent","indent","|","link","imageUpload","|","blockQuote","insertTable","|","undo","redo"],placeholder:"Start writing your template here...",heading:{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h1",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h2",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h3",title:"Heading 3",class:"ck-heading_heading3"},{model:"heading4",view:"h4",title:"Heading 4",class:"ck-heading_heading4"},{model:"heading5",view:"h5",title:"Heading 5",class:"ck-heading_heading5"},{model:"heading6",view:"h6",title:"Heading 6",class:"ck-heading_heading6"}]}},disabled:C}),m&&A.jsx("div",{className:"flex items-center justify-center h-[300px] md:h-[400px]",children:A.jsxs("div",{className:"text-center",children:[A.jsx("div",{className:"animate-spin rounded-full h-10 w-10 md:h-12 md:w-12 border-b-2 border-blue-500 mx-auto mb-3 md:mb-4"}),A.jsx("p",{className:"text-gray-600 text-sm md:text-base",children:"Loading editor..."})]})})]})}),A.jsx("p",{className:"text-xs md:text-sm text-gray-500 mt-2",children:"Use the toolbar to format your text. Click the image icon to add logos and images directly from your computer."})]}),A.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3 sm:space-x-4",children:[o&&A.jsxs("button",{onClick:T,disabled:C,className:"px-5 py-2.5 sm:px-6 sm:py-3 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg md:rounded-xl font-medium shadow-sm transition-all duration-200 flex items-center justify-center",type:"button",children:[A.jsx(Nde,{className:"mr-2"}),"Cancel Edit"]}),A.jsx("button",{onClick:P,disabled:C,className:"px-6 py-2.5 sm:px-8 sm:py-3 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white rounded-lg md:rounded-xl font-semibold shadow-md transform transition-all duration-200 flex items-center justify-center hover:shadow-lg disabled:opacity-70 disabled:cursor-not-allowed",type:"button",children:C?A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"animate-spin rounded-full h-4 w-4 md:h-5 md:w-5 border-b-2 border-white mr-2"}),o?"Updating...":"Saving..."]}):A.jsx(A.Fragment,{children:o?A.jsxs(A.Fragment,{children:[A.jsx(E$e,{className:"mr-2"}),"Update Template"]}):A.jsxs(A.Fragment,{children:[A.jsx(Tde,{className:"mr-2"}),"Add Template"]})})})]})]}),n.length>0&&A.jsxs("div",{className:"bg-white rounded-xl md:rounded-2xl shadow-lg p-5 md:p-8 border border-gray-200",children:[A.jsxs("div",{className:"flex items-center mb-6",children:[A.jsx("div",{className:"w-9 h-9 md:w-10 md:h-10 bg-gradient-to-r from-green-500 to-teal-600 rounded-lg flex items-center justify-center mr-3",children:A.jsx(Dde,{className:"w-4 h-4 md:w-5 md:h-5 text-white"})}),A.jsxs("h3",{className:"text-lg md:text-xl font-bold text-gray-800",children:["Saved Templates (",n.length,")"]})]}),A.jsx("div",{className:"grid gap-4 md:gap-6",children:n.map(L=>j(L))})]}),!m&&n.length===0&&A.jsxs("div",{className:"bg-white rounded-xl md:rounded-2xl shadow-lg p-8 md:p-12 text-center border border-gray-200",children:[A.jsx("div",{className:"w-16 h-16 md:w-20 md:h-20 bg-gradient-to-r from-gray-100 to-gray-200 rounded-full flex items-center justify-center mx-auto mb-4",children:A.jsx($G,{className:"w-8 h-8 md:w-10 md:h-10 text-gray-400"})}),A.jsx("h3",{className:"text-lg md:text-xl font-semibold text-gray-700 mb-2",children:"No Templates Yet"}),A.jsx("p",{className:"text-gray-500 mb-4 text-sm md:text-base",children:"Create your first template to get started"}),A.jsxs("button",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"px-5 py-2.5 bg-blue-500 hover:bg-blue-600 text-white rounded-lg font-medium transition-colors inline-flex items-center",children:[A.jsx(P6,{className:"mr-2"}),"Create Template"]})]})]})})}function M$e(){const e=JSON.parse(localStorage.getItem("user")||"{}"),[t,n]=M.useState(e.name||""),[r,o]=M.useState(e.image||""),[a,l]=M.useState(null),[d,f]=M.useState(!1),m="https://crm.softwaresetu.com/api",v=y=>{const S=y.target.files[0];if(S){if(!S.type.startsWith("image/")){Ge.error("Please select a valid image file");return}if(S.size>5*1024*1024){Ge.error("Image size should be less than 5MB");return}l(S),o(URL.createObjectURL(S)),Ge.info("Image selected successfully!")}},C=async()=>{if(!t.trim()){Ge.error("Please enter your name");return}f(!0);const y=Ge.loading("Updating profile...");try{const S=new FormData;S.append("id",e.id),S.append("name",t),a&&S.append("image",a);const E=await je.put(`${m}/auth/update-profile`,S,{headers:{"Content-Type":"multipart/form-data"}});if(E.data.success){const T={...e,...E.data.user};localStorage.setItem("user",JSON.stringify(T)),o(T.logo),window.dispatchEvent(new Event("profileUpdated")),Ge.update(y,{render:"Profile updated successfully!",type:"success",isLoading:!1,autoClose:3e3,closeButton:!0})}}catch(S){console.error("Update error:",S),Ge.update(y,{render:S.response?.data?.message||"Error updating profile",type:"error",isLoading:!1,autoClose:5e3,closeButton:!0})}finally{f(!1)}};return A.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 py-8 px-4",children:[A.jsx(pN,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"}),A.jsxs("div",{className:"max-w-md mx-auto bg-white rounded-2xl shadow-xl overflow-hidden",children:[A.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-700 p-6 text-white",children:[A.jsx("h2",{className:"text-2xl font-bold",children:"Edit Logo"}),A.jsx("p",{className:"text-blue-100 mt-1",children:"Update your Logo"})]}),A.jsxs("div",{className:"p-6",children:[A.jsxs("div",{className:"flex flex-col items-center mb-8",children:[A.jsxs("div",{className:"relative group",children:[A.jsx("img",{src:r||"/default-user.png",className:"w-32 h-32 rounded-full border-4 border-white shadow-lg object-cover transition-all duration-300 group-hover:scale-105",alt:"Profile"}),A.jsx("label",{htmlFor:"imageUpload",className:"absolute bottom-2 right-2 bg-blue-600 text-white p-2 rounded-full shadow-lg cursor-pointer transition-all duration-300 hover:bg-blue-700 hover:scale-110",children:A.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]})}),A.jsx("input",{id:"imageUpload",type:"file",accept:"image/*",onChange:v,className:"hidden"})]}),A.jsx("p",{className:"text-gray-500 text-sm mt-3",children:"Click the camera icon to change photo"})]}),A.jsx("button",{onClick:C,disabled:d,className:`w-full py-3 px-4 rounded-lg font-semibold text-white transition-all duration-300 flex items-center justify-center space-x-2 ${d?"bg-gray-400 cursor-not-allowed":"bg-gradient-to-r from-blue-600 to-indigo-700 hover:from-blue-700 hover:to-indigo-800 hover:shadow-lg transform hover:-translate-y-0.5"}`,children:d?A.jsxs(A.Fragment,{children:[A.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",children:[A.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),A.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),A.jsx("span",{children:"Saving..."})]}):A.jsxs(A.Fragment,{children:[A.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),A.jsx("span",{children:"Save Changes"})]})})]})]})]})}function T$e(){return A.jsxs(A.Fragment,{children:[A.jsx(pN,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"colored"}),A.jsxs(oce,{children:[A.jsx(jt,{path:"/",element:A.jsx(Tfe,{})}),A.jsx(jt,{path:"/dashboard",element:A.jsx(Wt,{children:A.jsx(zUe,{})})}),A.jsx(jt,{path:"/employees",element:A.jsx(Wt,{children:A.jsx(DHe,{})})}),A.jsx(jt,{path:"/employees/add-employee",element:A.jsx(Wt,{children:A.jsx(MHe,{})})}),A.jsx(jt,{path:"/customer",element:A.jsx(Wt,{children:A.jsx(PUe,{})})}),A.jsx(jt,{path:"/excel",element:A.jsx(Wt,{children:A.jsx(IUe,{})})}),A.jsx(jt,{path:"/excel/batch/:batchId",element:A.jsx(Wt,{children:A.jsx(NUe,{})})}),A.jsx(jt,{path:"/assign-customer",element:A.jsx(Wt,{children:A.jsx(OUe,{})})}),A.jsx(jt,{path:"/employees/:id",element:A.jsx(Wt,{children:A.jsx(FUe,{})})}),A.jsx(jt,{path:"/employees/edit/:id",element:A.jsx(Wt,{children:A.jsx(BUe,{})})}),A.jsx(jt,{path:"/customer/:id",element:A.jsx(Wt,{children:A.jsx(LUe,{})})}),A.jsx(jt,{path:"/follow-up",element:A.jsx(Wt,{children:A.jsx(HUe,{})})}),A.jsx(jt,{path:"/demo",element:A.jsx(Wt,{children:A.jsx(VUe,{})})}),A.jsx(jt,{path:"/deal",element:A.jsx(Wt,{children:A.jsx(LWe,{})})}),A.jsx(jt,{path:"/earning-form",element:A.jsx(Wt,{children:A.jsx(GUe,{})})}),A.jsx(jt,{path:"/customer-status",element:A.jsx(Wt,{children:A.jsx(WUe,{})})}),A.jsx(jt,{path:"/source-status",element:A.jsx(Wt,{children:A.jsx(qWe,{})})}),A.jsx(jt,{path:"/earning-form/add-bank",element:A.jsx(Wt,{children:A.jsx(UUe,{})})}),A.jsx(jt,{path:"/daily",element:A.jsx(Wt,{children:A.jsx(NWe,{})})}),A.jsx(jt,{path:"/user-track",element:A.jsx(Wt,{children:A.jsx(KWe,{})})}),A.jsx(jt,{path:"/daily-activity",element:A.jsx(Wt,{children:A.jsx(OWe,{})})}),A.jsx(jt,{path:"/new-daily-activity",element:A.jsx(Wt,{children:A.jsx(FWe,{})})}),A.jsx(jt,{path:"/admin-demo",element:A.jsx(Wt,{children:A.jsx(BWe,{})})}),A.jsx(jt,{path:"/admin-demo-done",element:A.jsx(Wt,{children:A.jsx(jWe,{})})}),A.jsx(jt,{path:"/admin-follow",element:A.jsx(Wt,{children:A.jsx(zWe,{})})}),A.jsx(jt,{path:"/admin-interested",element:A.jsx(Wt,{children:A.jsx(HWe,{})})}),A.jsx(jt,{path:"/user-interested",element:A.jsx(Wt,{children:A.jsx(VWe,{})})}),A.jsx(jt,{path:"/admin-activity",element:A.jsx(Wt,{children:A.jsx(GWe,{})})}),A.jsx(jt,{path:"/activity",element:A.jsx(Wt,{children:A.jsx(UWe,{})})}),A.jsx(jt,{path:"/dfi",element:A.jsx(Wt,{children:A.jsx(WWe,{})})}),A.jsx(jt,{path:"/user-dfi",element:A.jsx(Wt,{children:A.jsx($We,{})})}),A.jsx(jt,{path:"/my-performance",element:A.jsx(Wt,{children:A.jsx(YWe,{})})}),A.jsx(jt,{path:"/deal-status-monthly",element:A.jsx(Wt,{children:A.jsx(QWe,{})})}),A.jsx(jt,{path:"/employees/status",element:A.jsx(Wt,{children:A.jsx(ZWe,{})})}),A.jsx(jt,{path:"/hr",element:A.jsx(Wt,{children:A.jsx(e$e,{})})}),A.jsx(jt,{path:"/template",element:A.jsx(Wt,{children:A.jsx(D$e,{})})}),A.jsx(jt,{path:"/profile",element:A.jsx(Wt,{children:A.jsx(M$e,{})})}),A.jsx(jt,{path:"*",element:A.jsx("div",{className:"p-6",children:"Not Found"})})]})]})}ple.createRoot(document.getElementById("root")).render(A.jsx(ue.StrictMode,{children:A.jsx(Dce,{children:A.jsx(bde,{children:A.jsx(T$e,{})})})}));
