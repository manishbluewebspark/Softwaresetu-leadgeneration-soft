function ote(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Fs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function ate(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){var i=!1;try{i=this instanceof r}catch{}return i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var KE={exports:{}},qp={};var _3;function lte(){if(_3)return qp;_3=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,i,s){var o=null;if(s!==void 0&&(o=""+s),i.key!==void 0&&(o=""+i.key),"key"in i){s={};for(var a in i)a!=="key"&&(s[a]=i[a])}else s=i;return i=s.ref,{$$typeof:e,type:r,key:o,ref:i!==void 0?i:null,props:s}}return qp.Fragment=t,qp.jsx=n,qp.jsxs=n,qp}var j3;function cte(){return j3||(j3=1,KE.exports=lte()),KE.exports}var m=cte(),YE={exports:{}},Ye={};var B3;function ute(){if(B3)return Ye;B3=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.for("react.activity"),p=Symbol.iterator;function v(H){return H===null||typeof H!="object"?null:(H=p&&H[p]||H["@@iterator"],typeof H=="function"?H:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,x={};function S(H,Y,Z){this.props=H,this.context=Y,this.refs=x,this.updater=Z||y}S.prototype.isReactComponent={},S.prototype.setState=function(H,Y){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,Y,"setState")},S.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function M(){}M.prototype=S.prototype;function R(H,Y,Z){this.props=H,this.context=Y,this.refs=x,this.updater=Z||y}var T=R.prototype=new M;T.constructor=R,b(T,S.prototype),T.isPureReactComponent=!0;var k=Array.isArray;function P(){}var A={H:null,A:null,T:null,S:null},O=Object.prototype.hasOwnProperty;function B(H,Y,Z){var X=Z.ref;return{$$typeof:e,type:H,key:Y,ref:X!==void 0?X:null,props:Z}}function U(H,Y){return B(H.type,Y,H.props)}function _(H){return typeof H=="object"&&H!==null&&H.$$typeof===e}function I(H){var Y={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(Z){return Y[Z]})}var V=/\/+/g;function F(H,Y){return typeof H=="object"&&H!==null&&H.key!=null?I(""+H.key):Y.toString(36)}function L(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then(P,P):(H.status="pending",H.then(function(Y){H.status==="pending"&&(H.status="fulfilled",H.value=Y)},function(Y){H.status==="pending"&&(H.status="rejected",H.reason=Y)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function z(H,Y,Z,X,fe){var pe=typeof H;(pe==="undefined"||pe==="boolean")&&(H=null);var Ce=!1;if(H===null)Ce=!0;else switch(pe){case"bigint":case"string":case"number":Ce=!0;break;case"object":switch(H.$$typeof){case e:case t:Ce=!0;break;case d:return Ce=H._init,z(Ce(H._payload),Y,Z,X,fe)}}if(Ce)return fe=fe(H),Ce=X===""?"."+F(H,0):X,k(fe)?(Z="",Ce!=null&&(Z=Ce.replace(V,"$&/")+"/"),z(fe,Y,Z,"",function(de){return de})):fe!=null&&(_(fe)&&(fe=U(fe,Z+(fe.key==null||H&&H.key===fe.key?"":(""+fe.key).replace(V,"$&/")+"/")+Ce)),Y.push(fe)),1;Ce=0;var je=X===""?".":X+":";if(k(H))for(var oe=0;oe<H.length;oe++)X=H[oe],pe=je+F(X,oe),Ce+=z(X,Y,Z,pe,fe);else if(oe=v(H),typeof oe=="function")for(H=oe.call(H),oe=0;!(X=H.next()).done;)X=X.value,pe=je+F(X,oe++),Ce+=z(X,Y,Z,pe,fe);else if(pe==="object"){if(typeof H.then=="function")return z(L(H),Y,Z,X,fe);throw Y=String(H),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Ce}function j(H,Y,Z){if(H==null)return H;var X=[],fe=0;return z(H,X,"","",function(pe){return Y.call(Z,pe,fe++)}),X}function $(H){if(H._status===-1){var Y=H._result;Y=Y(),Y.then(function(Z){(H._status===0||H._status===-1)&&(H._status=1,H._result=Z)},function(Z){(H._status===0||H._status===-1)&&(H._status=2,H._result=Z)}),H._status===-1&&(H._status=0,H._result=Y)}if(H._status===1)return H._result.default;throw H._result}var W=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)},K={map:j,forEach:function(H,Y,Z){j(H,function(){Y.apply(this,arguments)},Z)},count:function(H){var Y=0;return j(H,function(){Y++}),Y},toArray:function(H){return j(H,function(Y){return Y})||[]},only:function(H){if(!_(H))throw Error("React.Children.only expected to receive a single React element child.");return H}};return Ye.Activity=f,Ye.Children=K,Ye.Component=S,Ye.Fragment=n,Ye.Profiler=i,Ye.PureComponent=R,Ye.StrictMode=r,Ye.Suspense=l,Ye.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,Ye.__COMPILER_RUNTIME={__proto__:null,c:function(H){return A.H.useMemoCache(H)}},Ye.cache=function(H){return function(){return H.apply(null,arguments)}},Ye.cacheSignal=function(){return null},Ye.cloneElement=function(H,Y,Z){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var X=b({},H.props),fe=H.key;if(Y!=null)for(pe in Y.key!==void 0&&(fe=""+Y.key),Y)!O.call(Y,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&Y.ref===void 0||(X[pe]=Y[pe]);var pe=arguments.length-2;if(pe===1)X.children=Z;else if(1<pe){for(var Ce=Array(pe),je=0;je<pe;je++)Ce[je]=arguments[je+2];X.children=Ce}return B(H.type,fe,X)},Ye.createContext=function(H){return H={$$typeof:o,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:s,_context:H},H},Ye.createElement=function(H,Y,Z){var X,fe={},pe=null;if(Y!=null)for(X in Y.key!==void 0&&(pe=""+Y.key),Y)O.call(Y,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(fe[X]=Y[X]);var Ce=arguments.length-2;if(Ce===1)fe.children=Z;else if(1<Ce){for(var je=Array(Ce),oe=0;oe<Ce;oe++)je[oe]=arguments[oe+2];fe.children=je}if(H&&H.defaultProps)for(X in Ce=H.defaultProps,Ce)fe[X]===void 0&&(fe[X]=Ce[X]);return B(H,pe,fe)},Ye.createRef=function(){return{current:null}},Ye.forwardRef=function(H){return{$$typeof:a,render:H}},Ye.isValidElement=_,Ye.lazy=function(H){return{$$typeof:d,_payload:{_status:-1,_result:H},_init:$}},Ye.memo=function(H,Y){return{$$typeof:c,type:H,compare:Y===void 0?null:Y}},Ye.startTransition=function(H){var Y=A.T,Z={};A.T=Z;try{var X=H(),fe=A.S;fe!==null&&fe(Z,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(P,W)}catch(pe){W(pe)}finally{Y!==null&&Z.types!==null&&(Y.types=Z.types),A.T=Y}},Ye.unstable_useCacheRefresh=function(){return A.H.useCacheRefresh()},Ye.use=function(H){return A.H.use(H)},Ye.useActionState=function(H,Y,Z){return A.H.useActionState(H,Y,Z)},Ye.useCallback=function(H,Y){return A.H.useCallback(H,Y)},Ye.useContext=function(H){return A.H.useContext(H)},Ye.useDebugValue=function(){},Ye.useDeferredValue=function(H,Y){return A.H.useDeferredValue(H,Y)},Ye.useEffect=function(H,Y){return A.H.useEffect(H,Y)},Ye.useEffectEvent=function(H){return A.H.useEffectEvent(H)},Ye.useId=function(){return A.H.useId()},Ye.useImperativeHandle=function(H,Y,Z){return A.H.useImperativeHandle(H,Y,Z)},Ye.useInsertionEffect=function(H,Y){return A.H.useInsertionEffect(H,Y)},Ye.useLayoutEffect=function(H,Y){return A.H.useLayoutEffect(H,Y)},Ye.useMemo=function(H,Y){return A.H.useMemo(H,Y)},Ye.useOptimistic=function(H,Y){return A.H.useOptimistic(H,Y)},Ye.useReducer=function(H,Y,Z){return A.H.useReducer(H,Y,Z)},Ye.useRef=function(H){return A.H.useRef(H)},Ye.useState=function(H){return A.H.useState(H)},Ye.useSyncExternalStore=function(H,Y,Z){return A.H.useSyncExternalStore(H,Y,Z)},Ye.useTransition=function(){return A.H.useTransition()},Ye.version="19.2.0",Ye}var H3;function Fc(){return H3||(H3=1,YE.exports=ute()),YE.exports}var C=Fc();const q=Fs(C),Vk=ote({__proto__:null,default:q},[C]);var QE={exports:{}},Kp={},XE={exports:{}},JE={};var z3;function dte(){return z3||(z3=1,(function(e){function t(z,j){var $=z.length;z.push(j);e:for(;0<$;){var W=$-1>>>1,K=z[W];if(0<i(K,j))z[W]=j,z[$]=K,$=W;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var j=z[0],$=z.pop();if($!==j){z[0]=$;e:for(var W=0,K=z.length,H=K>>>1;W<H;){var Y=2*(W+1)-1,Z=z[Y],X=Y+1,fe=z[X];if(0>i(Z,$))X<K&&0>i(fe,Z)?(z[W]=fe,z[X]=$,W=X):(z[W]=Z,z[Y]=$,W=Y);else if(X<K&&0>i(fe,$))z[W]=fe,z[X]=$,W=X;else break e}}return j}function i(z,j){var $=z.sortIndex-j.sortIndex;return $!==0?$:z.id-j.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,f=null,p=3,v=!1,y=!1,b=!1,x=!1,S=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function T(z){for(var j=n(c);j!==null;){if(j.callback===null)r(c);else if(j.startTime<=z)r(c),j.sortIndex=j.expirationTime,t(l,j);else break;j=n(c)}}function k(z){if(b=!1,T(z),!y)if(n(l)!==null)y=!0,P||(P=!0,I());else{var j=n(c);j!==null&&L(k,j.startTime-z)}}var P=!1,A=-1,O=5,B=-1;function U(){return x?!0:!(e.unstable_now()-B<O)}function _(){if(x=!1,P){var z=e.unstable_now();B=z;var j=!0;try{e:{y=!1,b&&(b=!1,M(A),A=-1),v=!0;var $=p;try{t:{for(T(z),f=n(l);f!==null&&!(f.expirationTime>z&&U());){var W=f.callback;if(typeof W=="function"){f.callback=null,p=f.priorityLevel;var K=W(f.expirationTime<=z);if(z=e.unstable_now(),typeof K=="function"){f.callback=K,T(z),j=!0;break t}f===n(l)&&r(l),T(z)}else r(l);f=n(l)}if(f!==null)j=!0;else{var H=n(c);H!==null&&L(k,H.startTime-z),j=!1}}break e}finally{f=null,p=$,v=!1}j=void 0}}finally{j?I():P=!1}}}var I;if(typeof R=="function")I=function(){R(_)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,F=V.port2;V.port1.onmessage=_,I=function(){F.postMessage(null)}}else I=function(){S(_,0)};function L(z,j){A=S(function(){z(e.unstable_now())},j)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_next=function(z){switch(p){case 1:case 2:case 3:var j=3;break;default:j=p}var $=p;p=j;try{return z()}finally{p=$}},e.unstable_requestPaint=function(){x=!0},e.unstable_runWithPriority=function(z,j){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var $=p;p=z;try{return j()}finally{p=$}},e.unstable_scheduleCallback=function(z,j,$){var W=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?W+$:W):$=W,z){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=$+K,z={id:d++,callback:j,priorityLevel:z,startTime:$,expirationTime:K,sortIndex:-1},$>W?(z.sortIndex=$,t(c,z),n(l)===null&&z===n(c)&&(b?(M(A),A=-1):b=!0,L(k,$-W))):(z.sortIndex=K,t(l,z),y||v||(y=!0,P||(P=!0,I()))),z},e.unstable_shouldYield=U,e.unstable_wrapCallback=function(z){var j=p;return function(){var $=p;p=j;try{return z.apply(this,arguments)}finally{p=$}}}})(JE)),JE}var G3;function hte(){return G3||(G3=1,XE.exports=dte()),XE.exports}var ZE={exports:{}},Dr={};var V3;function fte(){if(V3)return Dr;V3=1;var e=Fc();function t(l){var c="https://react.dev/errors/"+l;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)c+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+l+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(l,c,d){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:f==null?null:""+f,children:l,containerInfo:c,implementation:d}}var o=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function a(l,c){if(l==="font")return"";if(typeof c=="string")return c==="use-credentials"?c:""}return Dr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Dr.createPortal=function(l,c){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)throw Error(t(299));return s(l,c,null,d)},Dr.flushSync=function(l){var c=o.T,d=r.p;try{if(o.T=null,r.p=2,l)return l()}finally{o.T=c,r.p=d,r.d.f()}},Dr.preconnect=function(l,c){typeof l=="string"&&(c?(c=c.crossOrigin,c=typeof c=="string"?c==="use-credentials"?c:"":void 0):c=null,r.d.C(l,c))},Dr.prefetchDNS=function(l){typeof l=="string"&&r.d.D(l)},Dr.preinit=function(l,c){if(typeof l=="string"&&c&&typeof c.as=="string"){var d=c.as,f=a(d,c.crossOrigin),p=typeof c.integrity=="string"?c.integrity:void 0,v=typeof c.fetchPriority=="string"?c.fetchPriority:void 0;d==="style"?r.d.S(l,typeof c.precedence=="string"?c.precedence:void 0,{crossOrigin:f,integrity:p,fetchPriority:v}):d==="script"&&r.d.X(l,{crossOrigin:f,integrity:p,fetchPriority:v,nonce:typeof c.nonce=="string"?c.nonce:void 0})}},Dr.preinitModule=function(l,c){if(typeof l=="string")if(typeof c=="object"&&c!==null){if(c.as==null||c.as==="script"){var d=a(c.as,c.crossOrigin);r.d.M(l,{crossOrigin:d,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0})}}else c==null&&r.d.M(l)},Dr.preload=function(l,c){if(typeof l=="string"&&typeof c=="object"&&c!==null&&typeof c.as=="string"){var d=c.as,f=a(d,c.crossOrigin);r.d.L(l,d,{crossOrigin:f,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0,type:typeof c.type=="string"?c.type:void 0,fetchPriority:typeof c.fetchPriority=="string"?c.fetchPriority:void 0,referrerPolicy:typeof c.referrerPolicy=="string"?c.referrerPolicy:void 0,imageSrcSet:typeof c.imageSrcSet=="string"?c.imageSrcSet:void 0,imageSizes:typeof c.imageSizes=="string"?c.imageSizes:void 0,media:typeof c.media=="string"?c.media:void 0})}},Dr.preloadModule=function(l,c){if(typeof l=="string")if(c){var d=a(c.as,c.crossOrigin);r.d.m(l,{as:typeof c.as=="string"&&c.as!=="script"?c.as:void 0,crossOrigin:d,integrity:typeof c.integrity=="string"?c.integrity:void 0})}else r.d.m(l)},Dr.requestFormReset=function(l){r.d.r(l)},Dr.unstable_batchedUpdates=function(l,c){return l(c)},Dr.useFormState=function(l,c,d){return o.H.useFormState(l,c,d)},Dr.useFormStatus=function(){return o.H.useHostTransitionStatus()},Dr.version="19.2.0",Dr}var W3;function Wk(){if(W3)return ZE.exports;W3=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),ZE.exports=fte(),ZE.exports}var U3;function pte(){if(U3)return Kp;U3=1;var e=hte(),t=Fc(),n=Wk();function r(u){var h="https://react.dev/errors/"+u;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)h+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+u+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)}function s(u){var h=u,g=u;if(u.alternate)for(;h.return;)h=h.return;else{u=h;do h=u,(h.flags&4098)!==0&&(g=h.return),u=h.return;while(u)}return h.tag===3?g:null}function o(u){if(u.tag===13){var h=u.memoizedState;if(h===null&&(u=u.alternate,u!==null&&(h=u.memoizedState)),h!==null)return h.dehydrated}return null}function a(u){if(u.tag===31){var h=u.memoizedState;if(h===null&&(u=u.alternate,u!==null&&(h=u.memoizedState)),h!==null)return h.dehydrated}return null}function l(u){if(s(u)!==u)throw Error(r(188))}function c(u){var h=u.alternate;if(!h){if(h=s(u),h===null)throw Error(r(188));return h!==u?null:u}for(var g=u,w=h;;){var E=g.return;if(E===null)break;var D=E.alternate;if(D===null){if(w=E.return,w!==null){g=w;continue}break}if(E.child===D.child){for(D=E.child;D;){if(D===g)return l(E),u;if(D===w)return l(E),h;D=D.sibling}throw Error(r(188))}if(g.return!==w.return)g=E,w=D;else{for(var N=!1,G=E.child;G;){if(G===g){N=!0,g=E,w=D;break}if(G===w){N=!0,w=E,g=D;break}G=G.sibling}if(!N){for(G=D.child;G;){if(G===g){N=!0,g=D,w=E;break}if(G===w){N=!0,w=D,g=E;break}G=G.sibling}if(!N)throw Error(r(189))}}if(g.alternate!==w)throw Error(r(190))}if(g.tag!==3)throw Error(r(188));return g.stateNode.current===g?u:h}function d(u){var h=u.tag;if(h===5||h===26||h===27||h===6)return u;for(u=u.child;u!==null;){if(h=d(u),h!==null)return h;u=u.sibling}return null}var f=Object.assign,p=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),M=Symbol.for("react.consumer"),R=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),B=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),_=Symbol.iterator;function I(u){return u===null||typeof u!="object"?null:(u=_&&u[_]||u["@@iterator"],typeof u=="function"?u:null)}var V=Symbol.for("react.client.reference");function F(u){if(u==null)return null;if(typeof u=="function")return u.$$typeof===V?null:u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case b:return"Fragment";case S:return"Profiler";case x:return"StrictMode";case k:return"Suspense";case P:return"SuspenseList";case B:return"Activity"}if(typeof u=="object")switch(u.$$typeof){case y:return"Portal";case R:return u.displayName||"Context";case M:return(u._context.displayName||"Context")+".Consumer";case T:var h=u.render;return u=u.displayName,u||(u=h.displayName||h.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case A:return h=u.displayName||null,h!==null?h:F(u.type)||"Memo";case O:h=u._payload,u=u._init;try{return F(u(h))}catch{}}return null}var L=Array.isArray,z=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,j=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$={pending:!1,data:null,method:null,action:null},W=[],K=-1;function H(u){return{current:u}}function Y(u){0>K||(u.current=W[K],W[K]=null,K--)}function Z(u,h){K++,W[K]=u.current,u.current=h}var X=H(null),fe=H(null),pe=H(null),Ce=H(null);function je(u,h){switch(Z(pe,h),Z(fe,u),Z(X,null),h.nodeType){case 9:case 11:u=(u=h.documentElement)&&(u=u.namespaceURI)?o3(u):0;break;default:if(u=h.tagName,h=h.namespaceURI)h=o3(h),u=a3(h,u);else switch(u){case"svg":u=1;break;case"math":u=2;break;default:u=0}}Y(X),Z(X,u)}function oe(){Y(X),Y(fe),Y(pe)}function de(u){u.memoizedState!==null&&Z(Ce,u);var h=X.current,g=a3(h,u.type);h!==g&&(Z(fe,u),Z(X,g))}function Me(u){fe.current===u&&(Y(X),Y(fe)),Ce.current===u&&(Y(Ce),Vp._currentValue=$)}var ue,Ve;function Ge(u){if(ue===void 0)try{throw Error()}catch(g){var h=g.stack.trim().match(/\n( *(at )?)/);ue=h&&h[1]||"",Ve=-1<g.stack.indexOf(`
    at`)?" (<anonymous>)":-1<g.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ue+u+Ve}var Xe=!1;function Ne(u,h){if(!u||Xe)return"";Xe=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var w={DetermineComponentFrameRoot:function(){try{if(h){var ye=function(){throw Error()};if(Object.defineProperty(ye.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ye,[])}catch(ae){var ie=ae}Reflect.construct(u,[],ye)}else{try{ye.call()}catch(ae){ie=ae}u.call(ye.prototype)}}else{try{throw Error()}catch(ae){ie=ae}(ye=u())&&typeof ye.catch=="function"&&ye.catch(function(){})}}catch(ae){if(ae&&ie&&typeof ae.stack=="string")return[ae.stack,ie.stack]}return[null,null]}};w.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var E=Object.getOwnPropertyDescriptor(w.DetermineComponentFrameRoot,"name");E&&E.configurable&&Object.defineProperty(w.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var D=w.DetermineComponentFrameRoot(),N=D[0],G=D[1];if(N&&G){var Q=N.split(`
`),ne=G.split(`
`);for(E=w=0;w<Q.length&&!Q[w].includes("DetermineComponentFrameRoot");)w++;for(;E<ne.length&&!ne[E].includes("DetermineComponentFrameRoot");)E++;if(w===Q.length||E===ne.length)for(w=Q.length-1,E=ne.length-1;1<=w&&0<=E&&Q[w]!==ne[E];)E--;for(;1<=w&&0<=E;w--,E--)if(Q[w]!==ne[E]){if(w!==1||E!==1)do if(w--,E--,0>E||Q[w]!==ne[E]){var he=`
`+Q[w].replace(" at new "," at ");return u.displayName&&he.includes("<anonymous>")&&(he=he.replace("<anonymous>",u.displayName)),he}while(1<=w&&0<=E);break}}}finally{Xe=!1,Error.prepareStackTrace=g}return(g=u?u.displayName||u.name:"")?Ge(g):""}function rt(u,h){switch(u.tag){case 26:case 27:case 5:return Ge(u.type);case 16:return Ge("Lazy");case 13:return u.child!==h&&h!==null?Ge("Suspense Fallback"):Ge("Suspense");case 19:return Ge("SuspenseList");case 0:case 15:return Ne(u.type,!1);case 11:return Ne(u.type.render,!1);case 1:return Ne(u.type,!0);case 31:return Ge("Activity");default:return""}}function Mt(u){try{var h="",g=null;do h+=rt(u,g),g=u,u=u.return;while(u);return h}catch(w){return`
Error generating stack: `+w.message+`
`+w.stack}}var Jt=Object.prototype.hasOwnProperty,qe=e.unstable_scheduleCallback,ot=e.unstable_cancelCallback,Sn=e.unstable_shouldYield,Pi=e.unstable_requestPaint,gt=e.unstable_now,ii=e.unstable_getCurrentPriorityLevel,Md=e.unstable_ImmediatePriority,xl=e.unstable_UserBlockingPriority,Tt=e.unstable_NormalPriority,lr=e.unstable_LowPriority,Uc=e.unstable_IdlePriority,FS=e.log,IS=e.unstable_setDisableYieldValue,$c=null,Br=null;function ao(u){if(typeof FS=="function"&&IS(u),Br&&typeof Br.setStrictMode=="function")try{Br.setStrictMode($c,u)}catch{}}var we=Math.clz32?Math.clz32:Hr,Qe=Math.log,zn=Math.LN2;function Hr(u){return u>>>=0,u===0?32:31-(Qe(u)/zn|0)|0}var Td=256,kd=262144,Av=4194304;function qc(u){var h=u&42;if(h!==0)return h;switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return u&261888;case 262144:case 524288:case 1048576:case 2097152:return u&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return u&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return u}}function Pv(u,h,g){var w=u.pendingLanes;if(w===0)return 0;var E=0,D=u.suspendedLanes,N=u.pingedLanes;u=u.warmLanes;var G=w&134217727;return G!==0?(w=G&~D,w!==0?E=qc(w):(N&=G,N!==0?E=qc(N):g||(g=G&~u,g!==0&&(E=qc(g))))):(G=w&~D,G!==0?E=qc(G):N!==0?E=qc(N):g||(g=w&~u,g!==0&&(E=qc(g)))),E===0?0:h!==0&&h!==E&&(h&D)===0&&(D=E&-E,g=h&-h,D>=g||D===32&&(g&4194048)!==0)?h:E}function np(u,h){return(u.pendingLanes&~(u.suspendedLanes&~u.pingedLanes)&h)===0}function qJ(u,h){switch(u){case 1:case 2:case 4:case 8:case 64:return h+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zO(){var u=Av;return Av<<=1,(Av&62914560)===0&&(Av=4194304),u}function LS(u){for(var h=[],g=0;31>g;g++)h.push(u);return h}function rp(u,h){u.pendingLanes|=h,h!==268435456&&(u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0)}function KJ(u,h,g,w,E,D){var N=u.pendingLanes;u.pendingLanes=g,u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0,u.expiredLanes&=g,u.entangledLanes&=g,u.errorRecoveryDisabledLanes&=g,u.shellSuspendCounter=0;var G=u.entanglements,Q=u.expirationTimes,ne=u.hiddenUpdates;for(g=N&~g;0<g;){var he=31-we(g),ye=1<<he;G[he]=0,Q[he]=-1;var ie=ne[he];if(ie!==null)for(ne[he]=null,he=0;he<ie.length;he++){var ae=ie[he];ae!==null&&(ae.lane&=-536870913)}g&=~ye}w!==0&&GO(u,w,0),D!==0&&E===0&&u.tag!==0&&(u.suspendedLanes|=D&~(N&~h))}function GO(u,h,g){u.pendingLanes|=h,u.suspendedLanes&=~h;var w=31-we(h);u.entangledLanes|=h,u.entanglements[w]=u.entanglements[w]|1073741824|g&261930}function VO(u,h){var g=u.entangledLanes|=h;for(u=u.entanglements;g;){var w=31-we(g),E=1<<w;E&h|u[w]&h&&(u[w]|=h),g&=~E}}function WO(u,h){var g=h&-h;return g=(g&42)!==0?1:_S(g),(g&(u.suspendedLanes|h))!==0?0:g}function _S(u){switch(u){case 2:u=1;break;case 8:u=4;break;case 32:u=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:u=128;break;case 268435456:u=134217728;break;default:u=0}return u}function jS(u){return u&=-u,2<u?8<u?(u&134217727)!==0?32:268435456:8:2}function UO(){var u=j.p;return u!==0?u:(u=window.event,u===void 0?32:A3(u.type))}function $O(u,h){var g=j.p;try{return j.p=u,h()}finally{j.p=g}}var Sl=Math.random().toString(36).slice(2),cr="__reactFiber$"+Sl,si="__reactProps$"+Sl,Ad="__reactContainer$"+Sl,BS="__reactEvents$"+Sl,YJ="__reactListeners$"+Sl,QJ="__reactHandles$"+Sl,qO="__reactResources$"+Sl,ip="__reactMarker$"+Sl;function HS(u){delete u[cr],delete u[si],delete u[BS],delete u[YJ],delete u[QJ]}function Pd(u){var h=u[cr];if(h)return h;for(var g=u.parentNode;g;){if(h=g[Ad]||g[cr]){if(g=h.alternate,h.child!==null||g!==null&&g.child!==null)for(u=p3(u);u!==null;){if(g=u[cr])return g;u=p3(u)}return h}u=g,g=u.parentNode}return null}function Nd(u){if(u=u[cr]||u[Ad]){var h=u.tag;if(h===5||h===6||h===13||h===31||h===26||h===27||h===3)return u}return null}function sp(u){var h=u.tag;if(h===5||h===26||h===27||h===6)return u.stateNode;throw Error(r(33))}function Od(u){var h=u[qO];return h||(h=u[qO]={hoistableStyles:new Map,hoistableScripts:new Map}),h}function Qn(u){u[ip]=!0}var KO=new Set,YO={};function Kc(u,h){Fd(u,h),Fd(u+"Capture",h)}function Fd(u,h){for(YO[u]=h,u=0;u<h.length;u++)KO.add(h[u])}var XJ=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),QO={},XO={};function JJ(u){return Jt.call(XO,u)?!0:Jt.call(QO,u)?!1:XJ.test(u)?XO[u]=!0:(QO[u]=!0,!1)}function Nv(u,h,g){if(JJ(h))if(g===null)u.removeAttribute(h);else{switch(typeof g){case"undefined":case"function":case"symbol":u.removeAttribute(h);return;case"boolean":var w=h.toLowerCase().slice(0,5);if(w!=="data-"&&w!=="aria-"){u.removeAttribute(h);return}}u.setAttribute(h,""+g)}}function Ov(u,h,g){if(g===null)u.removeAttribute(h);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":u.removeAttribute(h);return}u.setAttribute(h,""+g)}}function Jo(u,h,g,w){if(w===null)u.removeAttribute(g);else{switch(typeof w){case"undefined":case"function":case"symbol":case"boolean":u.removeAttribute(g);return}u.setAttributeNS(h,g,""+w)}}function es(u){switch(typeof u){case"bigint":case"boolean":case"number":case"string":case"undefined":return u;case"object":return u;default:return""}}function JO(u){var h=u.type;return(u=u.nodeName)&&u.toLowerCase()==="input"&&(h==="checkbox"||h==="radio")}function ZJ(u,h,g){var w=Object.getOwnPropertyDescriptor(u.constructor.prototype,h);if(!u.hasOwnProperty(h)&&typeof w<"u"&&typeof w.get=="function"&&typeof w.set=="function"){var E=w.get,D=w.set;return Object.defineProperty(u,h,{configurable:!0,get:function(){return E.call(this)},set:function(N){g=""+N,D.call(this,N)}}),Object.defineProperty(u,h,{enumerable:w.enumerable}),{getValue:function(){return g},setValue:function(N){g=""+N},stopTracking:function(){u._valueTracker=null,delete u[h]}}}}function zS(u){if(!u._valueTracker){var h=JO(u)?"checked":"value";u._valueTracker=ZJ(u,h,""+u[h])}}function ZO(u){if(!u)return!1;var h=u._valueTracker;if(!h)return!0;var g=h.getValue(),w="";return u&&(w=JO(u)?u.checked?"true":"false":u.value),u=w,u!==g?(h.setValue(u),!0):!1}function Fv(u){if(u=u||(typeof document<"u"?document:void 0),typeof u>"u")return null;try{return u.activeElement||u.body}catch{return u.body}}var eZ=/[\n"\\]/g;function ts(u){return u.replace(eZ,function(h){return"\\"+h.charCodeAt(0).toString(16)+" "})}function GS(u,h,g,w,E,D,N,G){u.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?u.type=N:u.removeAttribute("type"),h!=null?N==="number"?(h===0&&u.value===""||u.value!=h)&&(u.value=""+es(h)):u.value!==""+es(h)&&(u.value=""+es(h)):N!=="submit"&&N!=="reset"||u.removeAttribute("value"),h!=null?VS(u,N,es(h)):g!=null?VS(u,N,es(g)):w!=null&&u.removeAttribute("value"),E==null&&D!=null&&(u.defaultChecked=!!D),E!=null&&(u.checked=E&&typeof E!="function"&&typeof E!="symbol"),G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"?u.name=""+es(G):u.removeAttribute("name")}function eF(u,h,g,w,E,D,N,G){if(D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"&&(u.type=D),h!=null||g!=null){if(!(D!=="submit"&&D!=="reset"||h!=null)){zS(u);return}g=g!=null?""+es(g):"",h=h!=null?""+es(h):g,G||h===u.value||(u.value=h),u.defaultValue=h}w=w??E,w=typeof w!="function"&&typeof w!="symbol"&&!!w,u.checked=G?u.checked:!!w,u.defaultChecked=!!w,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(u.name=N),zS(u)}function VS(u,h,g){h==="number"&&Fv(u.ownerDocument)===u||u.defaultValue===""+g||(u.defaultValue=""+g)}function Id(u,h,g,w){if(u=u.options,h){h={};for(var E=0;E<g.length;E++)h["$"+g[E]]=!0;for(g=0;g<u.length;g++)E=h.hasOwnProperty("$"+u[g].value),u[g].selected!==E&&(u[g].selected=E),E&&w&&(u[g].defaultSelected=!0)}else{for(g=""+es(g),h=null,E=0;E<u.length;E++){if(u[E].value===g){u[E].selected=!0,w&&(u[E].defaultSelected=!0);return}h!==null||u[E].disabled||(h=u[E])}h!==null&&(h.selected=!0)}}function tF(u,h,g){if(h!=null&&(h=""+es(h),h!==u.value&&(u.value=h),g==null)){u.defaultValue!==h&&(u.defaultValue=h);return}u.defaultValue=g!=null?""+es(g):""}function nF(u,h,g,w){if(h==null){if(w!=null){if(g!=null)throw Error(r(92));if(L(w)){if(1<w.length)throw Error(r(93));w=w[0]}g=w}g==null&&(g=""),h=g}g=es(h),u.defaultValue=g,w=u.textContent,w===g&&w!==""&&w!==null&&(u.value=w),zS(u)}function Ld(u,h){if(h){var g=u.firstChild;if(g&&g===u.lastChild&&g.nodeType===3){g.nodeValue=h;return}}u.textContent=h}var tZ=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function rF(u,h,g){var w=h.indexOf("--")===0;g==null||typeof g=="boolean"||g===""?w?u.setProperty(h,""):h==="float"?u.cssFloat="":u[h]="":w?u.setProperty(h,g):typeof g!="number"||g===0||tZ.has(h)?h==="float"?u.cssFloat=g:u[h]=(""+g).trim():u[h]=g+"px"}function iF(u,h,g){if(h!=null&&typeof h!="object")throw Error(r(62));if(u=u.style,g!=null){for(var w in g)!g.hasOwnProperty(w)||h!=null&&h.hasOwnProperty(w)||(w.indexOf("--")===0?u.setProperty(w,""):w==="float"?u.cssFloat="":u[w]="");for(var E in h)w=h[E],h.hasOwnProperty(E)&&g[E]!==w&&rF(u,E,w)}else for(var D in h)h.hasOwnProperty(D)&&rF(u,D,h[D])}function WS(u){if(u.indexOf("-")===-1)return!1;switch(u){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nZ=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),rZ=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Iv(u){return rZ.test(""+u)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":u}function Zo(){}var US=null;function $S(u){return u=u.target||u.srcElement||window,u.correspondingUseElement&&(u=u.correspondingUseElement),u.nodeType===3?u.parentNode:u}var _d=null,jd=null;function sF(u){var h=Nd(u);if(h&&(u=h.stateNode)){var g=u[si]||null;e:switch(u=h.stateNode,h.type){case"input":if(GS(u,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name),h=g.name,g.type==="radio"&&h!=null){for(g=u;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll('input[name="'+ts(""+h)+'"][type="radio"]'),h=0;h<g.length;h++){var w=g[h];if(w!==u&&w.form===u.form){var E=w[si]||null;if(!E)throw Error(r(90));GS(w,E.value,E.defaultValue,E.defaultValue,E.checked,E.defaultChecked,E.type,E.name)}}for(h=0;h<g.length;h++)w=g[h],w.form===u.form&&ZO(w)}break e;case"textarea":tF(u,g.value,g.defaultValue);break e;case"select":h=g.value,h!=null&&Id(u,!!g.multiple,h,!1)}}}var qS=!1;function oF(u,h,g){if(qS)return u(h,g);qS=!0;try{var w=u(h);return w}finally{if(qS=!1,(_d!==null||jd!==null)&&(xy(),_d&&(h=_d,u=jd,jd=_d=null,sF(h),u)))for(h=0;h<u.length;h++)sF(u[h])}}function op(u,h){var g=u.stateNode;if(g===null)return null;var w=g[si]||null;if(w===null)return null;g=w[h];e:switch(h){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(w=!w.disabled)||(u=u.type,w=!(u==="button"||u==="input"||u==="select"||u==="textarea")),u=!w;break e;default:u=!1}if(u)return null;if(g&&typeof g!="function")throw Error(r(231,h,typeof g));return g}var ea=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),KS=!1;if(ea)try{var ap={};Object.defineProperty(ap,"passive",{get:function(){KS=!0}}),window.addEventListener("test",ap,ap),window.removeEventListener("test",ap,ap)}catch{KS=!1}var El=null,YS=null,Lv=null;function aF(){if(Lv)return Lv;var u,h=YS,g=h.length,w,E="value"in El?El.value:El.textContent,D=E.length;for(u=0;u<g&&h[u]===E[u];u++);var N=g-u;for(w=1;w<=N&&h[g-w]===E[D-w];w++);return Lv=E.slice(u,1<w?1-w:void 0)}function _v(u){var h=u.keyCode;return"charCode"in u?(u=u.charCode,u===0&&h===13&&(u=13)):u=h,u===10&&(u=13),32<=u||u===13?u:0}function jv(){return!0}function lF(){return!1}function oi(u){function h(g,w,E,D,N){this._reactName=g,this._targetInst=E,this.type=w,this.nativeEvent=D,this.target=N,this.currentTarget=null;for(var G in u)u.hasOwnProperty(G)&&(g=u[G],this[G]=g?g(D):D[G]);return this.isDefaultPrevented=(D.defaultPrevented!=null?D.defaultPrevented:D.returnValue===!1)?jv:lF,this.isPropagationStopped=lF,this}return f(h.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=jv)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=jv)},persist:function(){},isPersistent:jv}),h}var Yc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(u){return u.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bv=oi(Yc),lp=f({},Yc,{view:0,detail:0}),iZ=oi(lp),QS,XS,cp,Hv=f({},lp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ZS,button:0,buttons:0,relatedTarget:function(u){return u.relatedTarget===void 0?u.fromElement===u.srcElement?u.toElement:u.fromElement:u.relatedTarget},movementX:function(u){return"movementX"in u?u.movementX:(u!==cp&&(cp&&u.type==="mousemove"?(QS=u.screenX-cp.screenX,XS=u.screenY-cp.screenY):XS=QS=0,cp=u),QS)},movementY:function(u){return"movementY"in u?u.movementY:XS}}),cF=oi(Hv),sZ=f({},Hv,{dataTransfer:0}),oZ=oi(sZ),aZ=f({},lp,{relatedTarget:0}),JS=oi(aZ),lZ=f({},Yc,{animationName:0,elapsedTime:0,pseudoElement:0}),cZ=oi(lZ),uZ=f({},Yc,{clipboardData:function(u){return"clipboardData"in u?u.clipboardData:window.clipboardData}}),dZ=oi(uZ),hZ=f({},Yc,{data:0}),uF=oi(hZ),fZ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pZ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gZ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mZ(u){var h=this.nativeEvent;return h.getModifierState?h.getModifierState(u):(u=gZ[u])?!!h[u]:!1}function ZS(){return mZ}var vZ=f({},lp,{key:function(u){if(u.key){var h=fZ[u.key]||u.key;if(h!=="Unidentified")return h}return u.type==="keypress"?(u=_v(u),u===13?"Enter":String.fromCharCode(u)):u.type==="keydown"||u.type==="keyup"?pZ[u.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ZS,charCode:function(u){return u.type==="keypress"?_v(u):0},keyCode:function(u){return u.type==="keydown"||u.type==="keyup"?u.keyCode:0},which:function(u){return u.type==="keypress"?_v(u):u.type==="keydown"||u.type==="keyup"?u.keyCode:0}}),yZ=oi(vZ),wZ=f({},Hv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dF=oi(wZ),bZ=f({},lp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ZS}),CZ=oi(bZ),xZ=f({},Yc,{propertyName:0,elapsedTime:0,pseudoElement:0}),SZ=oi(xZ),EZ=f({},Hv,{deltaX:function(u){return"deltaX"in u?u.deltaX:"wheelDeltaX"in u?-u.wheelDeltaX:0},deltaY:function(u){return"deltaY"in u?u.deltaY:"wheelDeltaY"in u?-u.wheelDeltaY:"wheelDelta"in u?-u.wheelDelta:0},deltaZ:0,deltaMode:0}),DZ=oi(EZ),RZ=f({},Yc,{newState:0,oldState:0}),MZ=oi(RZ),TZ=[9,13,27,32],e1=ea&&"CompositionEvent"in window,up=null;ea&&"documentMode"in document&&(up=document.documentMode);var kZ=ea&&"TextEvent"in window&&!up,hF=ea&&(!e1||up&&8<up&&11>=up),fF=" ",pF=!1;function gF(u,h){switch(u){case"keyup":return TZ.indexOf(h.keyCode)!==-1;case"keydown":return h.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mF(u){return u=u.detail,typeof u=="object"&&"data"in u?u.data:null}var Bd=!1;function AZ(u,h){switch(u){case"compositionend":return mF(h);case"keypress":return h.which!==32?null:(pF=!0,fF);case"textInput":return u=h.data,u===fF&&pF?null:u;default:return null}}function PZ(u,h){if(Bd)return u==="compositionend"||!e1&&gF(u,h)?(u=aF(),Lv=YS=El=null,Bd=!1,u):null;switch(u){case"paste":return null;case"keypress":if(!(h.ctrlKey||h.altKey||h.metaKey)||h.ctrlKey&&h.altKey){if(h.char&&1<h.char.length)return h.char;if(h.which)return String.fromCharCode(h.which)}return null;case"compositionend":return hF&&h.locale!=="ko"?null:h.data;default:return null}}var NZ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vF(u){var h=u&&u.nodeName&&u.nodeName.toLowerCase();return h==="input"?!!NZ[u.type]:h==="textarea"}function yF(u,h,g,w){_d?jd?jd.push(w):jd=[w]:_d=w,h=ky(h,"onChange"),0<h.length&&(g=new Bv("onChange","change",null,g,w),u.push({event:g,listeners:h}))}var dp=null,hp=null;function OZ(u){e3(u,0)}function zv(u){var h=sp(u);if(ZO(h))return u}function wF(u,h){if(u==="change")return h}var bF=!1;if(ea){var t1;if(ea){var n1="oninput"in document;if(!n1){var CF=document.createElement("div");CF.setAttribute("oninput","return;"),n1=typeof CF.oninput=="function"}t1=n1}else t1=!1;bF=t1&&(!document.documentMode||9<document.documentMode)}function xF(){dp&&(dp.detachEvent("onpropertychange",SF),hp=dp=null)}function SF(u){if(u.propertyName==="value"&&zv(hp)){var h=[];yF(h,hp,u,$S(u)),oF(OZ,h)}}function FZ(u,h,g){u==="focusin"?(xF(),dp=h,hp=g,dp.attachEvent("onpropertychange",SF)):u==="focusout"&&xF()}function IZ(u){if(u==="selectionchange"||u==="keyup"||u==="keydown")return zv(hp)}function LZ(u,h){if(u==="click")return zv(h)}function _Z(u,h){if(u==="input"||u==="change")return zv(h)}function jZ(u,h){return u===h&&(u!==0||1/u===1/h)||u!==u&&h!==h}var Ni=typeof Object.is=="function"?Object.is:jZ;function fp(u,h){if(Ni(u,h))return!0;if(typeof u!="object"||u===null||typeof h!="object"||h===null)return!1;var g=Object.keys(u),w=Object.keys(h);if(g.length!==w.length)return!1;for(w=0;w<g.length;w++){var E=g[w];if(!Jt.call(h,E)||!Ni(u[E],h[E]))return!1}return!0}function EF(u){for(;u&&u.firstChild;)u=u.firstChild;return u}function DF(u,h){var g=EF(u);u=0;for(var w;g;){if(g.nodeType===3){if(w=u+g.textContent.length,u<=h&&w>=h)return{node:g,offset:h-u};u=w}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=EF(g)}}function RF(u,h){return u&&h?u===h?!0:u&&u.nodeType===3?!1:h&&h.nodeType===3?RF(u,h.parentNode):"contains"in u?u.contains(h):u.compareDocumentPosition?!!(u.compareDocumentPosition(h)&16):!1:!1}function MF(u){u=u!=null&&u.ownerDocument!=null&&u.ownerDocument.defaultView!=null?u.ownerDocument.defaultView:window;for(var h=Fv(u.document);h instanceof u.HTMLIFrameElement;){try{var g=typeof h.contentWindow.location.href=="string"}catch{g=!1}if(g)u=h.contentWindow;else break;h=Fv(u.document)}return h}function r1(u){var h=u&&u.nodeName&&u.nodeName.toLowerCase();return h&&(h==="input"&&(u.type==="text"||u.type==="search"||u.type==="tel"||u.type==="url"||u.type==="password")||h==="textarea"||u.contentEditable==="true")}var BZ=ea&&"documentMode"in document&&11>=document.documentMode,Hd=null,i1=null,pp=null,s1=!1;function TF(u,h,g){var w=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;s1||Hd==null||Hd!==Fv(w)||(w=Hd,"selectionStart"in w&&r1(w)?w={start:w.selectionStart,end:w.selectionEnd}:(w=(w.ownerDocument&&w.ownerDocument.defaultView||window).getSelection(),w={anchorNode:w.anchorNode,anchorOffset:w.anchorOffset,focusNode:w.focusNode,focusOffset:w.focusOffset}),pp&&fp(pp,w)||(pp=w,w=ky(i1,"onSelect"),0<w.length&&(h=new Bv("onSelect","select",null,h,g),u.push({event:h,listeners:w}),h.target=Hd)))}function Qc(u,h){var g={};return g[u.toLowerCase()]=h.toLowerCase(),g["Webkit"+u]="webkit"+h,g["Moz"+u]="moz"+h,g}var zd={animationend:Qc("Animation","AnimationEnd"),animationiteration:Qc("Animation","AnimationIteration"),animationstart:Qc("Animation","AnimationStart"),transitionrun:Qc("Transition","TransitionRun"),transitionstart:Qc("Transition","TransitionStart"),transitioncancel:Qc("Transition","TransitionCancel"),transitionend:Qc("Transition","TransitionEnd")},o1={},kF={};ea&&(kF=document.createElement("div").style,"AnimationEvent"in window||(delete zd.animationend.animation,delete zd.animationiteration.animation,delete zd.animationstart.animation),"TransitionEvent"in window||delete zd.transitionend.transition);function Xc(u){if(o1[u])return o1[u];if(!zd[u])return u;var h=zd[u],g;for(g in h)if(h.hasOwnProperty(g)&&g in kF)return o1[u]=h[g];return u}var AF=Xc("animationend"),PF=Xc("animationiteration"),NF=Xc("animationstart"),HZ=Xc("transitionrun"),zZ=Xc("transitionstart"),GZ=Xc("transitioncancel"),OF=Xc("transitionend"),FF=new Map,a1="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");a1.push("scrollEnd");function _s(u,h){FF.set(u,h),Kc(h,[u])}var Gv=typeof reportError=="function"?reportError:function(u){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var h=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof u=="object"&&u!==null&&typeof u.message=="string"?String(u.message):String(u),error:u});if(!window.dispatchEvent(h))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",u);return}console.error(u)},ns=[],Gd=0,l1=0;function Vv(){for(var u=Gd,h=l1=Gd=0;h<u;){var g=ns[h];ns[h++]=null;var w=ns[h];ns[h++]=null;var E=ns[h];ns[h++]=null;var D=ns[h];if(ns[h++]=null,w!==null&&E!==null){var N=w.pending;N===null?E.next=E:(E.next=N.next,N.next=E),w.pending=E}D!==0&&IF(g,E,D)}}function Wv(u,h,g,w){ns[Gd++]=u,ns[Gd++]=h,ns[Gd++]=g,ns[Gd++]=w,l1|=w,u.lanes|=w,u=u.alternate,u!==null&&(u.lanes|=w)}function c1(u,h,g,w){return Wv(u,h,g,w),Uv(u)}function Jc(u,h){return Wv(u,null,null,h),Uv(u)}function IF(u,h,g){u.lanes|=g;var w=u.alternate;w!==null&&(w.lanes|=g);for(var E=!1,D=u.return;D!==null;)D.childLanes|=g,w=D.alternate,w!==null&&(w.childLanes|=g),D.tag===22&&(u=D.stateNode,u===null||u._visibility&1||(E=!0)),u=D,D=D.return;return u.tag===3?(D=u.stateNode,E&&h!==null&&(E=31-we(g),u=D.hiddenUpdates,w=u[E],w===null?u[E]=[h]:w.push(h),h.lane=g|536870912),D):null}function Uv(u){if(50<Lp)throw Lp=0,yE=null,Error(r(185));for(var h=u.return;h!==null;)u=h,h=u.return;return u.tag===3?u.stateNode:null}var Vd={};function VZ(u,h,g,w){this.tag=u,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oi(u,h,g,w){return new VZ(u,h,g,w)}function u1(u){return u=u.prototype,!(!u||!u.isReactComponent)}function ta(u,h){var g=u.alternate;return g===null?(g=Oi(u.tag,h,u.key,u.mode),g.elementType=u.elementType,g.type=u.type,g.stateNode=u.stateNode,g.alternate=u,u.alternate=g):(g.pendingProps=h,g.type=u.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=u.flags&65011712,g.childLanes=u.childLanes,g.lanes=u.lanes,g.child=u.child,g.memoizedProps=u.memoizedProps,g.memoizedState=u.memoizedState,g.updateQueue=u.updateQueue,h=u.dependencies,g.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},g.sibling=u.sibling,g.index=u.index,g.ref=u.ref,g.refCleanup=u.refCleanup,g}function LF(u,h){u.flags&=65011714;var g=u.alternate;return g===null?(u.childLanes=0,u.lanes=h,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=g.childLanes,u.lanes=g.lanes,u.child=g.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=g.memoizedProps,u.memoizedState=g.memoizedState,u.updateQueue=g.updateQueue,u.type=g.type,h=g.dependencies,u.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext}),u}function $v(u,h,g,w,E,D){var N=0;if(w=u,typeof u=="function")u1(u)&&(N=1);else if(typeof u=="string")N=Kee(u,g,X.current)?26:u==="html"||u==="head"||u==="body"?27:5;else e:switch(u){case B:return u=Oi(31,g,h,E),u.elementType=B,u.lanes=D,u;case b:return Zc(g.children,E,D,h);case x:N=8,E|=24;break;case S:return u=Oi(12,g,h,E|2),u.elementType=S,u.lanes=D,u;case k:return u=Oi(13,g,h,E),u.elementType=k,u.lanes=D,u;case P:return u=Oi(19,g,h,E),u.elementType=P,u.lanes=D,u;default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case R:N=10;break e;case M:N=9;break e;case T:N=11;break e;case A:N=14;break e;case O:N=16,w=null;break e}N=29,g=Error(r(130,u===null?"null":typeof u,"")),w=null}return h=Oi(N,g,h,E),h.elementType=u,h.type=w,h.lanes=D,h}function Zc(u,h,g,w){return u=Oi(7,u,w,h),u.lanes=g,u}function d1(u,h,g){return u=Oi(6,u,null,h),u.lanes=g,u}function _F(u){var h=Oi(18,null,null,0);return h.stateNode=u,h}function h1(u,h,g){return h=Oi(4,u.children!==null?u.children:[],u.key,h),h.lanes=g,h.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},h}var jF=new WeakMap;function rs(u,h){if(typeof u=="object"&&u!==null){var g=jF.get(u);return g!==void 0?g:(h={value:u,source:h,stack:Mt(h)},jF.set(u,h),h)}return{value:u,source:h,stack:Mt(h)}}var Wd=[],Ud=0,qv=null,gp=0,is=[],ss=0,Dl=null,lo=1,co="";function na(u,h){Wd[Ud++]=gp,Wd[Ud++]=qv,qv=u,gp=h}function BF(u,h,g){is[ss++]=lo,is[ss++]=co,is[ss++]=Dl,Dl=u;var w=lo;u=co;var E=32-we(w)-1;w&=~(1<<E),g+=1;var D=32-we(h)+E;if(30<D){var N=E-E%5;D=(w&(1<<N)-1).toString(32),w>>=N,E-=N,lo=1<<32-we(h)+E|g<<E|w,co=D+u}else lo=1<<D|g<<E|w,co=u}function f1(u){u.return!==null&&(na(u,1),BF(u,1,0))}function p1(u){for(;u===qv;)qv=Wd[--Ud],Wd[Ud]=null,gp=Wd[--Ud],Wd[Ud]=null;for(;u===Dl;)Dl=is[--ss],is[ss]=null,co=is[--ss],is[ss]=null,lo=is[--ss],is[ss]=null}function HF(u,h){is[ss++]=lo,is[ss++]=co,is[ss++]=Dl,lo=h.id,co=h.overflow,Dl=u}var ur=null,Zt=null,mt=!1,Rl=null,as=!1,g1=Error(r(519));function Ml(u){var h=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw mp(rs(h,u)),g1}function zF(u){var h=u.stateNode,g=u.type,w=u.memoizedProps;switch(h[cr]=u,h[si]=w,g){case"dialog":lt("cancel",h),lt("close",h);break;case"iframe":case"object":case"embed":lt("load",h);break;case"video":case"audio":for(g=0;g<jp.length;g++)lt(jp[g],h);break;case"source":lt("error",h);break;case"img":case"image":case"link":lt("error",h),lt("load",h);break;case"details":lt("toggle",h);break;case"input":lt("invalid",h),eF(h,w.value,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name,!0);break;case"select":lt("invalid",h);break;case"textarea":lt("invalid",h),nF(h,w.value,w.defaultValue,w.children)}g=w.children,typeof g!="string"&&typeof g!="number"&&typeof g!="bigint"||h.textContent===""+g||w.suppressHydrationWarning===!0||i3(h.textContent,g)?(w.popover!=null&&(lt("beforetoggle",h),lt("toggle",h)),w.onScroll!=null&&lt("scroll",h),w.onScrollEnd!=null&&lt("scrollend",h),w.onClick!=null&&(h.onclick=Zo),h=!0):h=!1,h||Ml(u,!0)}function GF(u){for(ur=u.return;ur;)switch(ur.tag){case 5:case 31:case 13:as=!1;return;case 27:case 3:as=!0;return;default:ur=ur.return}}function $d(u){if(u!==ur)return!1;if(!mt)return GF(u),mt=!0,!1;var h=u.tag,g;if((g=h!==3&&h!==27)&&((g=h===5)&&(g=u.type,g=!(g!=="form"&&g!=="button")||OE(u.type,u.memoizedProps)),g=!g),g&&Zt&&Ml(u),GF(u),h===13){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(r(317));Zt=f3(u)}else if(h===31){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(r(317));Zt=f3(u)}else h===27?(h=Zt,zl(u.type)?(u=jE,jE=null,Zt=u):Zt=h):Zt=ur?cs(u.stateNode.nextSibling):null;return!0}function eu(){Zt=ur=null,mt=!1}function m1(){var u=Rl;return u!==null&&(ui===null?ui=u:ui.push.apply(ui,u),Rl=null),u}function mp(u){Rl===null?Rl=[u]:Rl.push(u)}var v1=H(null),tu=null,ra=null;function Tl(u,h,g){Z(v1,h._currentValue),h._currentValue=g}function ia(u){u._currentValue=v1.current,Y(v1)}function y1(u,h,g){for(;u!==null;){var w=u.alternate;if((u.childLanes&h)!==h?(u.childLanes|=h,w!==null&&(w.childLanes|=h)):w!==null&&(w.childLanes&h)!==h&&(w.childLanes|=h),u===g)break;u=u.return}}function w1(u,h,g,w){var E=u.child;for(E!==null&&(E.return=u);E!==null;){var D=E.dependencies;if(D!==null){var N=E.child;D=D.firstContext;e:for(;D!==null;){var G=D;D=E;for(var Q=0;Q<h.length;Q++)if(G.context===h[Q]){D.lanes|=g,G=D.alternate,G!==null&&(G.lanes|=g),y1(D.return,g,u),w||(N=null);break e}D=G.next}}else if(E.tag===18){if(N=E.return,N===null)throw Error(r(341));N.lanes|=g,D=N.alternate,D!==null&&(D.lanes|=g),y1(N,g,u),N=null}else N=E.child;if(N!==null)N.return=E;else for(N=E;N!==null;){if(N===u){N=null;break}if(E=N.sibling,E!==null){E.return=N.return,N=E;break}N=N.return}E=N}}function qd(u,h,g,w){u=null;for(var E=h,D=!1;E!==null;){if(!D){if((E.flags&524288)!==0)D=!0;else if((E.flags&262144)!==0)break}if(E.tag===10){var N=E.alternate;if(N===null)throw Error(r(387));if(N=N.memoizedProps,N!==null){var G=E.type;Ni(E.pendingProps.value,N.value)||(u!==null?u.push(G):u=[G])}}else if(E===Ce.current){if(N=E.alternate,N===null)throw Error(r(387));N.memoizedState.memoizedState!==E.memoizedState.memoizedState&&(u!==null?u.push(Vp):u=[Vp])}E=E.return}u!==null&&w1(h,u,g,w),h.flags|=262144}function Kv(u){for(u=u.firstContext;u!==null;){if(!Ni(u.context._currentValue,u.memoizedValue))return!0;u=u.next}return!1}function nu(u){tu=u,ra=null,u=u.dependencies,u!==null&&(u.firstContext=null)}function dr(u){return VF(tu,u)}function Yv(u,h){return tu===null&&nu(u),VF(u,h)}function VF(u,h){var g=h._currentValue;if(h={context:h,memoizedValue:g,next:null},ra===null){if(u===null)throw Error(r(308));ra=h,u.dependencies={lanes:0,firstContext:h},u.flags|=524288}else ra=ra.next=h;return g}var WZ=typeof AbortController<"u"?AbortController:function(){var u=[],h=this.signal={aborted:!1,addEventListener:function(g,w){u.push(w)}};this.abort=function(){h.aborted=!0,u.forEach(function(g){return g()})}},UZ=e.unstable_scheduleCallback,$Z=e.unstable_NormalPriority,Nn={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function b1(){return{controller:new WZ,data:new Map,refCount:0}}function vp(u){u.refCount--,u.refCount===0&&UZ($Z,function(){u.controller.abort()})}var yp=null,C1=0,Kd=0,Yd=null;function qZ(u,h){if(yp===null){var g=yp=[];C1=0,Kd=EE(),Yd={status:"pending",value:void 0,then:function(w){g.push(w)}}}return C1++,h.then(WF,WF),h}function WF(){if(--C1===0&&yp!==null){Yd!==null&&(Yd.status="fulfilled");var u=yp;yp=null,Kd=0,Yd=null;for(var h=0;h<u.length;h++)(0,u[h])()}}function KZ(u,h){var g=[],w={status:"pending",value:null,reason:null,then:function(E){g.push(E)}};return u.then(function(){w.status="fulfilled",w.value=h;for(var E=0;E<g.length;E++)(0,g[E])(h)},function(E){for(w.status="rejected",w.reason=E,E=0;E<g.length;E++)(0,g[E])(void 0)}),w}var UF=z.S;z.S=function(u,h){TL=gt(),typeof h=="object"&&h!==null&&typeof h.then=="function"&&qZ(u,h),UF!==null&&UF(u,h)};var ru=H(null);function x1(){var u=ru.current;return u!==null?u:Vt.pooledCache}function Qv(u,h){h===null?Z(ru,ru.current):Z(ru,h.pool)}function $F(){var u=x1();return u===null?null:{parent:Nn._currentValue,pool:u}}var Qd=Error(r(460)),S1=Error(r(474)),Xv=Error(r(542)),Jv={then:function(){}};function qF(u){return u=u.status,u==="fulfilled"||u==="rejected"}function KF(u,h,g){switch(g=u[g],g===void 0?u.push(h):g!==h&&(h.then(Zo,Zo),h=g),h.status){case"fulfilled":return h.value;case"rejected":throw u=h.reason,QF(u),u;default:if(typeof h.status=="string")h.then(Zo,Zo);else{if(u=Vt,u!==null&&100<u.shellSuspendCounter)throw Error(r(482));u=h,u.status="pending",u.then(function(w){if(h.status==="pending"){var E=h;E.status="fulfilled",E.value=w}},function(w){if(h.status==="pending"){var E=h;E.status="rejected",E.reason=w}})}switch(h.status){case"fulfilled":return h.value;case"rejected":throw u=h.reason,QF(u),u}throw su=h,Qd}}function iu(u){try{var h=u._init;return h(u._payload)}catch(g){throw g!==null&&typeof g=="object"&&typeof g.then=="function"?(su=g,Qd):g}}var su=null;function YF(){if(su===null)throw Error(r(459));var u=su;return su=null,u}function QF(u){if(u===Qd||u===Xv)throw Error(r(483))}var Xd=null,wp=0;function Zv(u){var h=wp;return wp+=1,Xd===null&&(Xd=[]),KF(Xd,u,h)}function bp(u,h){h=h.props.ref,u.ref=h!==void 0?h:null}function ey(u,h){throw h.$$typeof===p?Error(r(525)):(u=Object.prototype.toString.call(h),Error(r(31,u==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":u)))}function XF(u){function h(ee,J){if(u){var te=ee.deletions;te===null?(ee.deletions=[J],ee.flags|=16):te.push(J)}}function g(ee,J){if(!u)return null;for(;J!==null;)h(ee,J),J=J.sibling;return null}function w(ee){for(var J=new Map;ee!==null;)ee.key!==null?J.set(ee.key,ee):J.set(ee.index,ee),ee=ee.sibling;return J}function E(ee,J){return ee=ta(ee,J),ee.index=0,ee.sibling=null,ee}function D(ee,J,te){return ee.index=te,u?(te=ee.alternate,te!==null?(te=te.index,te<J?(ee.flags|=67108866,J):te):(ee.flags|=67108866,J)):(ee.flags|=1048576,J)}function N(ee){return u&&ee.alternate===null&&(ee.flags|=67108866),ee}function G(ee,J,te,ge){return J===null||J.tag!==6?(J=d1(te,ee.mode,ge),J.return=ee,J):(J=E(J,te),J.return=ee,J)}function Q(ee,J,te,ge){var Be=te.type;return Be===b?he(ee,J,te.props.children,ge,te.key):J!==null&&(J.elementType===Be||typeof Be=="object"&&Be!==null&&Be.$$typeof===O&&iu(Be)===J.type)?(J=E(J,te.props),bp(J,te),J.return=ee,J):(J=$v(te.type,te.key,te.props,null,ee.mode,ge),bp(J,te),J.return=ee,J)}function ne(ee,J,te,ge){return J===null||J.tag!==4||J.stateNode.containerInfo!==te.containerInfo||J.stateNode.implementation!==te.implementation?(J=h1(te,ee.mode,ge),J.return=ee,J):(J=E(J,te.children||[]),J.return=ee,J)}function he(ee,J,te,ge,Be){return J===null||J.tag!==7?(J=Zc(te,ee.mode,ge,Be),J.return=ee,J):(J=E(J,te),J.return=ee,J)}function ye(ee,J,te){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return J=d1(""+J,ee.mode,te),J.return=ee,J;if(typeof J=="object"&&J!==null){switch(J.$$typeof){case v:return te=$v(J.type,J.key,J.props,null,ee.mode,te),bp(te,J),te.return=ee,te;case y:return J=h1(J,ee.mode,te),J.return=ee,J;case O:return J=iu(J),ye(ee,J,te)}if(L(J)||I(J))return J=Zc(J,ee.mode,te,null),J.return=ee,J;if(typeof J.then=="function")return ye(ee,Zv(J),te);if(J.$$typeof===R)return ye(ee,Yv(ee,J),te);ey(ee,J)}return null}function ie(ee,J,te,ge){var Be=J!==null?J.key:null;if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return Be!==null?null:G(ee,J,""+te,ge);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case v:return te.key===Be?Q(ee,J,te,ge):null;case y:return te.key===Be?ne(ee,J,te,ge):null;case O:return te=iu(te),ie(ee,J,te,ge)}if(L(te)||I(te))return Be!==null?null:he(ee,J,te,ge,null);if(typeof te.then=="function")return ie(ee,J,Zv(te),ge);if(te.$$typeof===R)return ie(ee,J,Yv(ee,te),ge);ey(ee,te)}return null}function ae(ee,J,te,ge,Be){if(typeof ge=="string"&&ge!==""||typeof ge=="number"||typeof ge=="bigint")return ee=ee.get(te)||null,G(J,ee,""+ge,Be);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case v:return ee=ee.get(ge.key===null?te:ge.key)||null,Q(J,ee,ge,Be);case y:return ee=ee.get(ge.key===null?te:ge.key)||null,ne(J,ee,ge,Be);case O:return ge=iu(ge),ae(ee,J,te,ge,Be)}if(L(ge)||I(ge))return ee=ee.get(te)||null,he(J,ee,ge,Be,null);if(typeof ge.then=="function")return ae(ee,J,te,Zv(ge),Be);if(ge.$$typeof===R)return ae(ee,J,te,Yv(J,ge),Be);ey(J,ge)}return null}function Pe(ee,J,te,ge){for(var Be=null,wt=null,Oe=J,et=J=0,dt=null;Oe!==null&&et<te.length;et++){Oe.index>et?(dt=Oe,Oe=null):dt=Oe.sibling;var bt=ie(ee,Oe,te[et],ge);if(bt===null){Oe===null&&(Oe=dt);break}u&&Oe&&bt.alternate===null&&h(ee,Oe),J=D(bt,J,et),wt===null?Be=bt:wt.sibling=bt,wt=bt,Oe=dt}if(et===te.length)return g(ee,Oe),mt&&na(ee,et),Be;if(Oe===null){for(;et<te.length;et++)Oe=ye(ee,te[et],ge),Oe!==null&&(J=D(Oe,J,et),wt===null?Be=Oe:wt.sibling=Oe,wt=Oe);return mt&&na(ee,et),Be}for(Oe=w(Oe);et<te.length;et++)dt=ae(Oe,ee,et,te[et],ge),dt!==null&&(u&&dt.alternate!==null&&Oe.delete(dt.key===null?et:dt.key),J=D(dt,J,et),wt===null?Be=dt:wt.sibling=dt,wt=dt);return u&&Oe.forEach(function($l){return h(ee,$l)}),mt&&na(ee,et),Be}function We(ee,J,te,ge){if(te==null)throw Error(r(151));for(var Be=null,wt=null,Oe=J,et=J=0,dt=null,bt=te.next();Oe!==null&&!bt.done;et++,bt=te.next()){Oe.index>et?(dt=Oe,Oe=null):dt=Oe.sibling;var $l=ie(ee,Oe,bt.value,ge);if($l===null){Oe===null&&(Oe=dt);break}u&&Oe&&$l.alternate===null&&h(ee,Oe),J=D($l,J,et),wt===null?Be=$l:wt.sibling=$l,wt=$l,Oe=dt}if(bt.done)return g(ee,Oe),mt&&na(ee,et),Be;if(Oe===null){for(;!bt.done;et++,bt=te.next())bt=ye(ee,bt.value,ge),bt!==null&&(J=D(bt,J,et),wt===null?Be=bt:wt.sibling=bt,wt=bt);return mt&&na(ee,et),Be}for(Oe=w(Oe);!bt.done;et++,bt=te.next())bt=ae(Oe,ee,et,bt.value,ge),bt!==null&&(u&&bt.alternate!==null&&Oe.delete(bt.key===null?et:bt.key),J=D(bt,J,et),wt===null?Be=bt:wt.sibling=bt,wt=bt);return u&&Oe.forEach(function(ste){return h(ee,ste)}),mt&&na(ee,et),Be}function Bt(ee,J,te,ge){if(typeof te=="object"&&te!==null&&te.type===b&&te.key===null&&(te=te.props.children),typeof te=="object"&&te!==null){switch(te.$$typeof){case v:e:{for(var Be=te.key;J!==null;){if(J.key===Be){if(Be=te.type,Be===b){if(J.tag===7){g(ee,J.sibling),ge=E(J,te.props.children),ge.return=ee,ee=ge;break e}}else if(J.elementType===Be||typeof Be=="object"&&Be!==null&&Be.$$typeof===O&&iu(Be)===J.type){g(ee,J.sibling),ge=E(J,te.props),bp(ge,te),ge.return=ee,ee=ge;break e}g(ee,J);break}else h(ee,J);J=J.sibling}te.type===b?(ge=Zc(te.props.children,ee.mode,ge,te.key),ge.return=ee,ee=ge):(ge=$v(te.type,te.key,te.props,null,ee.mode,ge),bp(ge,te),ge.return=ee,ee=ge)}return N(ee);case y:e:{for(Be=te.key;J!==null;){if(J.key===Be)if(J.tag===4&&J.stateNode.containerInfo===te.containerInfo&&J.stateNode.implementation===te.implementation){g(ee,J.sibling),ge=E(J,te.children||[]),ge.return=ee,ee=ge;break e}else{g(ee,J);break}else h(ee,J);J=J.sibling}ge=h1(te,ee.mode,ge),ge.return=ee,ee=ge}return N(ee);case O:return te=iu(te),Bt(ee,J,te,ge)}if(L(te))return Pe(ee,J,te,ge);if(I(te)){if(Be=I(te),typeof Be!="function")throw Error(r(150));return te=Be.call(te),We(ee,J,te,ge)}if(typeof te.then=="function")return Bt(ee,J,Zv(te),ge);if(te.$$typeof===R)return Bt(ee,J,Yv(ee,te),ge);ey(ee,te)}return typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint"?(te=""+te,J!==null&&J.tag===6?(g(ee,J.sibling),ge=E(J,te),ge.return=ee,ee=ge):(g(ee,J),ge=d1(te,ee.mode,ge),ge.return=ee,ee=ge),N(ee)):g(ee,J)}return function(ee,J,te,ge){try{wp=0;var Be=Bt(ee,J,te,ge);return Xd=null,Be}catch(Oe){if(Oe===Qd||Oe===Xv)throw Oe;var wt=Oi(29,Oe,null,ee.mode);return wt.lanes=ge,wt.return=ee,wt}finally{}}}var ou=XF(!0),JF=XF(!1),kl=!1;function E1(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function D1(u,h){u=u.updateQueue,h.updateQueue===u&&(h.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,callbacks:null})}function Al(u){return{lane:u,tag:0,payload:null,callback:null,next:null}}function Pl(u,h,g){var w=u.updateQueue;if(w===null)return null;if(w=w.shared,(xt&2)!==0){var E=w.pending;return E===null?h.next=h:(h.next=E.next,E.next=h),w.pending=h,h=Uv(u),IF(u,null,g),h}return Wv(u,w,h,g),Uv(u)}function Cp(u,h,g){if(h=h.updateQueue,h!==null&&(h=h.shared,(g&4194048)!==0)){var w=h.lanes;w&=u.pendingLanes,g|=w,h.lanes=g,VO(u,g)}}function R1(u,h){var g=u.updateQueue,w=u.alternate;if(w!==null&&(w=w.updateQueue,g===w)){var E=null,D=null;if(g=g.firstBaseUpdate,g!==null){do{var N={lane:g.lane,tag:g.tag,payload:g.payload,callback:null,next:null};D===null?E=D=N:D=D.next=N,g=g.next}while(g!==null);D===null?E=D=h:D=D.next=h}else E=D=h;g={baseState:w.baseState,firstBaseUpdate:E,lastBaseUpdate:D,shared:w.shared,callbacks:w.callbacks},u.updateQueue=g;return}u=g.lastBaseUpdate,u===null?g.firstBaseUpdate=h:u.next=h,g.lastBaseUpdate=h}var M1=!1;function xp(){if(M1){var u=Yd;if(u!==null)throw u}}function Sp(u,h,g,w){M1=!1;var E=u.updateQueue;kl=!1;var D=E.firstBaseUpdate,N=E.lastBaseUpdate,G=E.shared.pending;if(G!==null){E.shared.pending=null;var Q=G,ne=Q.next;Q.next=null,N===null?D=ne:N.next=ne,N=Q;var he=u.alternate;he!==null&&(he=he.updateQueue,G=he.lastBaseUpdate,G!==N&&(G===null?he.firstBaseUpdate=ne:G.next=ne,he.lastBaseUpdate=Q))}if(D!==null){var ye=E.baseState;N=0,he=ne=Q=null,G=D;do{var ie=G.lane&-536870913,ae=ie!==G.lane;if(ae?(ut&ie)===ie:(w&ie)===ie){ie!==0&&ie===Kd&&(M1=!0),he!==null&&(he=he.next={lane:0,tag:G.tag,payload:G.payload,callback:null,next:null});e:{var Pe=u,We=G;ie=h;var Bt=g;switch(We.tag){case 1:if(Pe=We.payload,typeof Pe=="function"){ye=Pe.call(Bt,ye,ie);break e}ye=Pe;break e;case 3:Pe.flags=Pe.flags&-65537|128;case 0:if(Pe=We.payload,ie=typeof Pe=="function"?Pe.call(Bt,ye,ie):Pe,ie==null)break e;ye=f({},ye,ie);break e;case 2:kl=!0}}ie=G.callback,ie!==null&&(u.flags|=64,ae&&(u.flags|=8192),ae=E.callbacks,ae===null?E.callbacks=[ie]:ae.push(ie))}else ae={lane:ie,tag:G.tag,payload:G.payload,callback:G.callback,next:null},he===null?(ne=he=ae,Q=ye):he=he.next=ae,N|=ie;if(G=G.next,G===null){if(G=E.shared.pending,G===null)break;ae=G,G=ae.next,ae.next=null,E.lastBaseUpdate=ae,E.shared.pending=null}}while(!0);he===null&&(Q=ye),E.baseState=Q,E.firstBaseUpdate=ne,E.lastBaseUpdate=he,D===null&&(E.shared.lanes=0),Ll|=N,u.lanes=N,u.memoizedState=ye}}function ZF(u,h){if(typeof u!="function")throw Error(r(191,u));u.call(h)}function eI(u,h){var g=u.callbacks;if(g!==null)for(u.callbacks=null,u=0;u<g.length;u++)ZF(g[u],h)}var Jd=H(null),ty=H(0);function tI(u,h){u=fa,Z(ty,u),Z(Jd,h),fa=u|h.baseLanes}function T1(){Z(ty,fa),Z(Jd,Jd.current)}function k1(){fa=ty.current,Y(Jd),Y(ty)}var Fi=H(null),ls=null;function Nl(u){var h=u.alternate;Z(En,En.current&1),Z(Fi,u),ls===null&&(h===null||Jd.current!==null||h.memoizedState!==null)&&(ls=u)}function A1(u){Z(En,En.current),Z(Fi,u),ls===null&&(ls=u)}function nI(u){u.tag===22?(Z(En,En.current),Z(Fi,u),ls===null&&(ls=u)):Ol()}function Ol(){Z(En,En.current),Z(Fi,Fi.current)}function Ii(u){Y(Fi),ls===u&&(ls=null),Y(En)}var En=H(0);function ny(u){for(var h=u;h!==null;){if(h.tag===13){var g=h.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||LE(g)||_E(g)))return h}else if(h.tag===19&&(h.memoizedProps.revealOrder==="forwards"||h.memoizedProps.revealOrder==="backwards"||h.memoizedProps.revealOrder==="unstable_legacy-backwards"||h.memoizedProps.revealOrder==="together")){if((h.flags&128)!==0)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===u)break;for(;h.sibling===null;){if(h.return===null||h.return===u)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var sa=0,Je=null,_t=null,On=null,ry=!1,Zd=!1,au=!1,iy=0,Ep=0,eh=null,YZ=0;function vn(){throw Error(r(321))}function P1(u,h){if(h===null)return!1;for(var g=0;g<h.length&&g<u.length;g++)if(!Ni(u[g],h[g]))return!1;return!0}function N1(u,h,g,w,E,D){return sa=D,Je=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,z.H=u===null||u.memoizedState===null?BI:q1,au=!1,D=g(w,E),au=!1,Zd&&(D=iI(h,g,w,E)),rI(u),D}function rI(u){z.H=Mp;var h=_t!==null&&_t.next!==null;if(sa=0,On=_t=Je=null,ry=!1,Ep=0,eh=null,h)throw Error(r(300));u===null||Fn||(u=u.dependencies,u!==null&&Kv(u)&&(Fn=!0))}function iI(u,h,g,w){Je=u;var E=0;do{if(Zd&&(eh=null),Ep=0,Zd=!1,25<=E)throw Error(r(301));if(E+=1,On=_t=null,u.updateQueue!=null){var D=u.updateQueue;D.lastEffect=null,D.events=null,D.stores=null,D.memoCache!=null&&(D.memoCache.index=0)}z.H=HI,D=h(g,w)}while(Zd);return D}function QZ(){var u=z.H,h=u.useState()[0];return h=typeof h.then=="function"?Dp(h):h,u=u.useState()[0],(_t!==null?_t.memoizedState:null)!==u&&(Je.flags|=1024),h}function O1(){var u=iy!==0;return iy=0,u}function F1(u,h,g){h.updateQueue=u.updateQueue,h.flags&=-2053,u.lanes&=~g}function I1(u){if(ry){for(u=u.memoizedState;u!==null;){var h=u.queue;h!==null&&(h.pending=null),u=u.next}ry=!1}sa=0,On=_t=Je=null,Zd=!1,Ep=iy=0,eh=null}function zr(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return On===null?Je.memoizedState=On=u:On=On.next=u,On}function Dn(){if(_t===null){var u=Je.alternate;u=u!==null?u.memoizedState:null}else u=_t.next;var h=On===null?Je.memoizedState:On.next;if(h!==null)On=h,_t=u;else{if(u===null)throw Je.alternate===null?Error(r(467)):Error(r(310));_t=u,u={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},On===null?Je.memoizedState=On=u:On=On.next=u}return On}function sy(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Dp(u){var h=Ep;return Ep+=1,eh===null&&(eh=[]),u=KF(eh,u,h),h=Je,(On===null?h.memoizedState:On.next)===null&&(h=h.alternate,z.H=h===null||h.memoizedState===null?BI:q1),u}function oy(u){if(u!==null&&typeof u=="object"){if(typeof u.then=="function")return Dp(u);if(u.$$typeof===R)return dr(u)}throw Error(r(438,String(u)))}function L1(u){var h=null,g=Je.updateQueue;if(g!==null&&(h=g.memoCache),h==null){var w=Je.alternate;w!==null&&(w=w.updateQueue,w!==null&&(w=w.memoCache,w!=null&&(h={data:w.data.map(function(E){return E.slice()}),index:0})))}if(h==null&&(h={data:[],index:0}),g===null&&(g=sy(),Je.updateQueue=g),g.memoCache=h,g=h.data[h.index],g===void 0)for(g=h.data[h.index]=Array(u),w=0;w<u;w++)g[w]=U;return h.index++,g}function oa(u,h){return typeof h=="function"?h(u):h}function ay(u){var h=Dn();return _1(h,_t,u)}function _1(u,h,g){var w=u.queue;if(w===null)throw Error(r(311));w.lastRenderedReducer=g;var E=u.baseQueue,D=w.pending;if(D!==null){if(E!==null){var N=E.next;E.next=D.next,D.next=N}h.baseQueue=E=D,w.pending=null}if(D=u.baseState,E===null)u.memoizedState=D;else{h=E.next;var G=N=null,Q=null,ne=h,he=!1;do{var ye=ne.lane&-536870913;if(ye!==ne.lane?(ut&ye)===ye:(sa&ye)===ye){var ie=ne.revertLane;if(ie===0)Q!==null&&(Q=Q.next={lane:0,revertLane:0,gesture:null,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null}),ye===Kd&&(he=!0);else if((sa&ie)===ie){ne=ne.next,ie===Kd&&(he=!0);continue}else ye={lane:0,revertLane:ne.revertLane,gesture:null,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null},Q===null?(G=Q=ye,N=D):Q=Q.next=ye,Je.lanes|=ie,Ll|=ie;ye=ne.action,au&&g(D,ye),D=ne.hasEagerState?ne.eagerState:g(D,ye)}else ie={lane:ye,revertLane:ne.revertLane,gesture:ne.gesture,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null},Q===null?(G=Q=ie,N=D):Q=Q.next=ie,Je.lanes|=ye,Ll|=ye;ne=ne.next}while(ne!==null&&ne!==h);if(Q===null?N=D:Q.next=G,!Ni(D,u.memoizedState)&&(Fn=!0,he&&(g=Yd,g!==null)))throw g;u.memoizedState=D,u.baseState=N,u.baseQueue=Q,w.lastRenderedState=D}return E===null&&(w.lanes=0),[u.memoizedState,w.dispatch]}function j1(u){var h=Dn(),g=h.queue;if(g===null)throw Error(r(311));g.lastRenderedReducer=u;var w=g.dispatch,E=g.pending,D=h.memoizedState;if(E!==null){g.pending=null;var N=E=E.next;do D=u(D,N.action),N=N.next;while(N!==E);Ni(D,h.memoizedState)||(Fn=!0),h.memoizedState=D,h.baseQueue===null&&(h.baseState=D),g.lastRenderedState=D}return[D,w]}function sI(u,h,g){var w=Je,E=Dn(),D=mt;if(D){if(g===void 0)throw Error(r(407));g=g()}else g=h();var N=!Ni((_t||E).memoizedState,g);if(N&&(E.memoizedState=g,Fn=!0),E=E.queue,z1(lI.bind(null,w,E,u),[u]),E.getSnapshot!==h||N||On!==null&&On.memoizedState.tag&1){if(w.flags|=2048,th(9,{destroy:void 0},aI.bind(null,w,E,g,h),null),Vt===null)throw Error(r(349));D||(sa&127)!==0||oI(w,h,g)}return g}function oI(u,h,g){u.flags|=16384,u={getSnapshot:h,value:g},h=Je.updateQueue,h===null?(h=sy(),Je.updateQueue=h,h.stores=[u]):(g=h.stores,g===null?h.stores=[u]:g.push(u))}function aI(u,h,g,w){h.value=g,h.getSnapshot=w,cI(h)&&uI(u)}function lI(u,h,g){return g(function(){cI(h)&&uI(u)})}function cI(u){var h=u.getSnapshot;u=u.value;try{var g=h();return!Ni(u,g)}catch{return!0}}function uI(u){var h=Jc(u,2);h!==null&&di(h,u,2)}function B1(u){var h=zr();if(typeof u=="function"){var g=u;if(u=g(),au){ao(!0);try{g()}finally{ao(!1)}}}return h.memoizedState=h.baseState=u,h.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:oa,lastRenderedState:u},h}function dI(u,h,g,w){return u.baseState=g,_1(u,_t,typeof w=="function"?w:oa)}function XZ(u,h,g,w,E){if(uy(u))throw Error(r(485));if(u=h.action,u!==null){var D={payload:E,action:u,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){D.listeners.push(N)}};z.T!==null?g(!0):D.isTransition=!1,w(D),g=h.pending,g===null?(D.next=h.pending=D,hI(h,D)):(D.next=g.next,h.pending=g.next=D)}}function hI(u,h){var g=h.action,w=h.payload,E=u.state;if(h.isTransition){var D=z.T,N={};z.T=N;try{var G=g(E,w),Q=z.S;Q!==null&&Q(N,G),fI(u,h,G)}catch(ne){H1(u,h,ne)}finally{D!==null&&N.types!==null&&(D.types=N.types),z.T=D}}else try{D=g(E,w),fI(u,h,D)}catch(ne){H1(u,h,ne)}}function fI(u,h,g){g!==null&&typeof g=="object"&&typeof g.then=="function"?g.then(function(w){pI(u,h,w)},function(w){return H1(u,h,w)}):pI(u,h,g)}function pI(u,h,g){h.status="fulfilled",h.value=g,gI(h),u.state=g,h=u.pending,h!==null&&(g=h.next,g===h?u.pending=null:(g=g.next,h.next=g,hI(u,g)))}function H1(u,h,g){var w=u.pending;if(u.pending=null,w!==null){w=w.next;do h.status="rejected",h.reason=g,gI(h),h=h.next;while(h!==w)}u.action=null}function gI(u){u=u.listeners;for(var h=0;h<u.length;h++)(0,u[h])()}function mI(u,h){return h}function vI(u,h){if(mt){var g=Vt.formState;if(g!==null){e:{var w=Je;if(mt){if(Zt){t:{for(var E=Zt,D=as;E.nodeType!==8;){if(!D){E=null;break t}if(E=cs(E.nextSibling),E===null){E=null;break t}}D=E.data,E=D==="F!"||D==="F"?E:null}if(E){Zt=cs(E.nextSibling),w=E.data==="F!";break e}}Ml(w)}w=!1}w&&(h=g[0])}}return g=zr(),g.memoizedState=g.baseState=h,w={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mI,lastRenderedState:h},g.queue=w,g=LI.bind(null,Je,w),w.dispatch=g,w=B1(!1),D=$1.bind(null,Je,!1,w.queue),w=zr(),E={state:h,dispatch:null,action:u,pending:null},w.queue=E,g=XZ.bind(null,Je,E,D,g),E.dispatch=g,w.memoizedState=u,[h,g,!1]}function yI(u){var h=Dn();return wI(h,_t,u)}function wI(u,h,g){if(h=_1(u,h,mI)[0],u=ay(oa)[0],typeof h=="object"&&h!==null&&typeof h.then=="function")try{var w=Dp(h)}catch(N){throw N===Qd?Xv:N}else w=h;h=Dn();var E=h.queue,D=E.dispatch;return g!==h.memoizedState&&(Je.flags|=2048,th(9,{destroy:void 0},JZ.bind(null,E,g),null)),[w,D,u]}function JZ(u,h){u.action=h}function bI(u){var h=Dn(),g=_t;if(g!==null)return wI(h,g,u);Dn(),h=h.memoizedState,g=Dn();var w=g.queue.dispatch;return g.memoizedState=u,[h,w,!1]}function th(u,h,g,w){return u={tag:u,create:g,deps:w,inst:h,next:null},h=Je.updateQueue,h===null&&(h=sy(),Je.updateQueue=h),g=h.lastEffect,g===null?h.lastEffect=u.next=u:(w=g.next,g.next=u,u.next=w,h.lastEffect=u),u}function CI(){return Dn().memoizedState}function ly(u,h,g,w){var E=zr();Je.flags|=u,E.memoizedState=th(1|h,{destroy:void 0},g,w===void 0?null:w)}function cy(u,h,g,w){var E=Dn();w=w===void 0?null:w;var D=E.memoizedState.inst;_t!==null&&w!==null&&P1(w,_t.memoizedState.deps)?E.memoizedState=th(h,D,g,w):(Je.flags|=u,E.memoizedState=th(1|h,D,g,w))}function xI(u,h){ly(8390656,8,u,h)}function z1(u,h){cy(2048,8,u,h)}function ZZ(u){Je.flags|=4;var h=Je.updateQueue;if(h===null)h=sy(),Je.updateQueue=h,h.events=[u];else{var g=h.events;g===null?h.events=[u]:g.push(u)}}function SI(u){var h=Dn().memoizedState;return ZZ({ref:h,nextImpl:u}),function(){if((xt&2)!==0)throw Error(r(440));return h.impl.apply(void 0,arguments)}}function EI(u,h){return cy(4,2,u,h)}function DI(u,h){return cy(4,4,u,h)}function RI(u,h){if(typeof h=="function"){u=u();var g=h(u);return function(){typeof g=="function"?g():h(null)}}if(h!=null)return u=u(),h.current=u,function(){h.current=null}}function MI(u,h,g){g=g!=null?g.concat([u]):null,cy(4,4,RI.bind(null,h,u),g)}function G1(){}function TI(u,h){var g=Dn();h=h===void 0?null:h;var w=g.memoizedState;return h!==null&&P1(h,w[1])?w[0]:(g.memoizedState=[u,h],u)}function kI(u,h){var g=Dn();h=h===void 0?null:h;var w=g.memoizedState;if(h!==null&&P1(h,w[1]))return w[0];if(w=u(),au){ao(!0);try{u()}finally{ao(!1)}}return g.memoizedState=[w,h],w}function V1(u,h,g){return g===void 0||(sa&1073741824)!==0&&(ut&261930)===0?u.memoizedState=h:(u.memoizedState=g,u=AL(),Je.lanes|=u,Ll|=u,g)}function AI(u,h,g,w){return Ni(g,h)?g:Jd.current!==null?(u=V1(u,g,w),Ni(u,h)||(Fn=!0),u):(sa&42)===0||(sa&1073741824)!==0&&(ut&261930)===0?(Fn=!0,u.memoizedState=g):(u=AL(),Je.lanes|=u,Ll|=u,h)}function PI(u,h,g,w,E){var D=j.p;j.p=D!==0&&8>D?D:8;var N=z.T,G={};z.T=G,$1(u,!1,h,g);try{var Q=E(),ne=z.S;if(ne!==null&&ne(G,Q),Q!==null&&typeof Q=="object"&&typeof Q.then=="function"){var he=KZ(Q,w);Rp(u,h,he,ji(u))}else Rp(u,h,w,ji(u))}catch(ye){Rp(u,h,{then:function(){},status:"rejected",reason:ye},ji())}finally{j.p=D,N!==null&&G.types!==null&&(N.types=G.types),z.T=N}}function eee(){}function W1(u,h,g,w){if(u.tag!==5)throw Error(r(476));var E=NI(u).queue;PI(u,E,h,$,g===null?eee:function(){return OI(u),g(w)})}function NI(u){var h=u.memoizedState;if(h!==null)return h;h={memoizedState:$,baseState:$,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:oa,lastRenderedState:$},next:null};var g={};return h.next={memoizedState:g,baseState:g,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:oa,lastRenderedState:g},next:null},u.memoizedState=h,u=u.alternate,u!==null&&(u.memoizedState=h),h}function OI(u){var h=NI(u);h.next===null&&(h=u.alternate.memoizedState),Rp(u,h.next.queue,{},ji())}function U1(){return dr(Vp)}function FI(){return Dn().memoizedState}function II(){return Dn().memoizedState}function tee(u){for(var h=u.return;h!==null;){switch(h.tag){case 24:case 3:var g=ji();u=Al(g);var w=Pl(h,u,g);w!==null&&(di(w,h,g),Cp(w,h,g)),h={cache:b1()},u.payload=h;return}h=h.return}}function nee(u,h,g){var w=ji();g={lane:w,revertLane:0,gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},uy(u)?_I(h,g):(g=c1(u,h,g,w),g!==null&&(di(g,u,w),jI(g,h,w)))}function LI(u,h,g){var w=ji();Rp(u,h,g,w)}function Rp(u,h,g,w){var E={lane:w,revertLane:0,gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null};if(uy(u))_I(h,E);else{var D=u.alternate;if(u.lanes===0&&(D===null||D.lanes===0)&&(D=h.lastRenderedReducer,D!==null))try{var N=h.lastRenderedState,G=D(N,g);if(E.hasEagerState=!0,E.eagerState=G,Ni(G,N))return Wv(u,h,E,0),Vt===null&&Vv(),!1}catch{}finally{}if(g=c1(u,h,E,w),g!==null)return di(g,u,w),jI(g,h,w),!0}return!1}function $1(u,h,g,w){if(w={lane:2,revertLane:EE(),gesture:null,action:w,hasEagerState:!1,eagerState:null,next:null},uy(u)){if(h)throw Error(r(479))}else h=c1(u,g,w,2),h!==null&&di(h,u,2)}function uy(u){var h=u.alternate;return u===Je||h!==null&&h===Je}function _I(u,h){Zd=ry=!0;var g=u.pending;g===null?h.next=h:(h.next=g.next,g.next=h),u.pending=h}function jI(u,h,g){if((g&4194048)!==0){var w=h.lanes;w&=u.pendingLanes,g|=w,h.lanes=g,VO(u,g)}}var Mp={readContext:dr,use:oy,useCallback:vn,useContext:vn,useEffect:vn,useImperativeHandle:vn,useLayoutEffect:vn,useInsertionEffect:vn,useMemo:vn,useReducer:vn,useRef:vn,useState:vn,useDebugValue:vn,useDeferredValue:vn,useTransition:vn,useSyncExternalStore:vn,useId:vn,useHostTransitionStatus:vn,useFormState:vn,useActionState:vn,useOptimistic:vn,useMemoCache:vn,useCacheRefresh:vn};Mp.useEffectEvent=vn;var BI={readContext:dr,use:oy,useCallback:function(u,h){return zr().memoizedState=[u,h===void 0?null:h],u},useContext:dr,useEffect:xI,useImperativeHandle:function(u,h,g){g=g!=null?g.concat([u]):null,ly(4194308,4,RI.bind(null,h,u),g)},useLayoutEffect:function(u,h){return ly(4194308,4,u,h)},useInsertionEffect:function(u,h){ly(4,2,u,h)},useMemo:function(u,h){var g=zr();h=h===void 0?null:h;var w=u();if(au){ao(!0);try{u()}finally{ao(!1)}}return g.memoizedState=[w,h],w},useReducer:function(u,h,g){var w=zr();if(g!==void 0){var E=g(h);if(au){ao(!0);try{g(h)}finally{ao(!1)}}}else E=h;return w.memoizedState=w.baseState=E,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:E},w.queue=u,u=u.dispatch=nee.bind(null,Je,u),[w.memoizedState,u]},useRef:function(u){var h=zr();return u={current:u},h.memoizedState=u},useState:function(u){u=B1(u);var h=u.queue,g=LI.bind(null,Je,h);return h.dispatch=g,[u.memoizedState,g]},useDebugValue:G1,useDeferredValue:function(u,h){var g=zr();return V1(g,u,h)},useTransition:function(){var u=B1(!1);return u=PI.bind(null,Je,u.queue,!0,!1),zr().memoizedState=u,[!1,u]},useSyncExternalStore:function(u,h,g){var w=Je,E=zr();if(mt){if(g===void 0)throw Error(r(407));g=g()}else{if(g=h(),Vt===null)throw Error(r(349));(ut&127)!==0||oI(w,h,g)}E.memoizedState=g;var D={value:g,getSnapshot:h};return E.queue=D,xI(lI.bind(null,w,D,u),[u]),w.flags|=2048,th(9,{destroy:void 0},aI.bind(null,w,D,g,h),null),g},useId:function(){var u=zr(),h=Vt.identifierPrefix;if(mt){var g=co,w=lo;g=(w&~(1<<32-we(w)-1)).toString(32)+g,h="_"+h+"R_"+g,g=iy++,0<g&&(h+="H"+g.toString(32)),h+="_"}else g=YZ++,h="_"+h+"r_"+g.toString(32)+"_";return u.memoizedState=h},useHostTransitionStatus:U1,useFormState:vI,useActionState:vI,useOptimistic:function(u){var h=zr();h.memoizedState=h.baseState=u;var g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return h.queue=g,h=$1.bind(null,Je,!0,g),g.dispatch=h,[u,h]},useMemoCache:L1,useCacheRefresh:function(){return zr().memoizedState=tee.bind(null,Je)},useEffectEvent:function(u){var h=zr(),g={impl:u};return h.memoizedState=g,function(){if((xt&2)!==0)throw Error(r(440));return g.impl.apply(void 0,arguments)}}},q1={readContext:dr,use:oy,useCallback:TI,useContext:dr,useEffect:z1,useImperativeHandle:MI,useInsertionEffect:EI,useLayoutEffect:DI,useMemo:kI,useReducer:ay,useRef:CI,useState:function(){return ay(oa)},useDebugValue:G1,useDeferredValue:function(u,h){var g=Dn();return AI(g,_t.memoizedState,u,h)},useTransition:function(){var u=ay(oa)[0],h=Dn().memoizedState;return[typeof u=="boolean"?u:Dp(u),h]},useSyncExternalStore:sI,useId:FI,useHostTransitionStatus:U1,useFormState:yI,useActionState:yI,useOptimistic:function(u,h){var g=Dn();return dI(g,_t,u,h)},useMemoCache:L1,useCacheRefresh:II};q1.useEffectEvent=SI;var HI={readContext:dr,use:oy,useCallback:TI,useContext:dr,useEffect:z1,useImperativeHandle:MI,useInsertionEffect:EI,useLayoutEffect:DI,useMemo:kI,useReducer:j1,useRef:CI,useState:function(){return j1(oa)},useDebugValue:G1,useDeferredValue:function(u,h){var g=Dn();return _t===null?V1(g,u,h):AI(g,_t.memoizedState,u,h)},useTransition:function(){var u=j1(oa)[0],h=Dn().memoizedState;return[typeof u=="boolean"?u:Dp(u),h]},useSyncExternalStore:sI,useId:FI,useHostTransitionStatus:U1,useFormState:bI,useActionState:bI,useOptimistic:function(u,h){var g=Dn();return _t!==null?dI(g,_t,u,h):(g.baseState=u,[u,g.queue.dispatch])},useMemoCache:L1,useCacheRefresh:II};HI.useEffectEvent=SI;function K1(u,h,g,w){h=u.memoizedState,g=g(w,h),g=g==null?h:f({},h,g),u.memoizedState=g,u.lanes===0&&(u.updateQueue.baseState=g)}var Y1={enqueueSetState:function(u,h,g){u=u._reactInternals;var w=ji(),E=Al(w);E.payload=h,g!=null&&(E.callback=g),h=Pl(u,E,w),h!==null&&(di(h,u,w),Cp(h,u,w))},enqueueReplaceState:function(u,h,g){u=u._reactInternals;var w=ji(),E=Al(w);E.tag=1,E.payload=h,g!=null&&(E.callback=g),h=Pl(u,E,w),h!==null&&(di(h,u,w),Cp(h,u,w))},enqueueForceUpdate:function(u,h){u=u._reactInternals;var g=ji(),w=Al(g);w.tag=2,h!=null&&(w.callback=h),h=Pl(u,w,g),h!==null&&(di(h,u,g),Cp(h,u,g))}};function zI(u,h,g,w,E,D,N){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(w,D,N):h.prototype&&h.prototype.isPureReactComponent?!fp(g,w)||!fp(E,D):!0}function GI(u,h,g,w){u=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(g,w),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(g,w),h.state!==u&&Y1.enqueueReplaceState(h,h.state,null)}function lu(u,h){var g=h;if("ref"in h){g={};for(var w in h)w!=="ref"&&(g[w]=h[w])}if(u=u.defaultProps){g===h&&(g=f({},g));for(var E in u)g[E]===void 0&&(g[E]=u[E])}return g}function VI(u){Gv(u)}function WI(u){console.error(u)}function UI(u){Gv(u)}function dy(u,h){try{var g=u.onUncaughtError;g(h.value,{componentStack:h.stack})}catch(w){setTimeout(function(){throw w})}}function $I(u,h,g){try{var w=u.onCaughtError;w(g.value,{componentStack:g.stack,errorBoundary:h.tag===1?h.stateNode:null})}catch(E){setTimeout(function(){throw E})}}function Q1(u,h,g){return g=Al(g),g.tag=3,g.payload={element:null},g.callback=function(){dy(u,h)},g}function qI(u){return u=Al(u),u.tag=3,u}function KI(u,h,g,w){var E=g.type.getDerivedStateFromError;if(typeof E=="function"){var D=w.value;u.payload=function(){return E(D)},u.callback=function(){$I(h,g,w)}}var N=g.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(u.callback=function(){$I(h,g,w),typeof E!="function"&&(_l===null?_l=new Set([this]):_l.add(this));var G=w.stack;this.componentDidCatch(w.value,{componentStack:G!==null?G:""})})}function ree(u,h,g,w,E){if(g.flags|=32768,w!==null&&typeof w=="object"&&typeof w.then=="function"){if(h=g.alternate,h!==null&&qd(h,g,E,!0),g=Fi.current,g!==null){switch(g.tag){case 31:case 13:return ls===null?Sy():g.alternate===null&&yn===0&&(yn=3),g.flags&=-257,g.flags|=65536,g.lanes=E,w===Jv?g.flags|=16384:(h=g.updateQueue,h===null?g.updateQueue=new Set([w]):h.add(w),CE(u,w,E)),!1;case 22:return g.flags|=65536,w===Jv?g.flags|=16384:(h=g.updateQueue,h===null?(h={transitions:null,markerInstances:null,retryQueue:new Set([w])},g.updateQueue=h):(g=h.retryQueue,g===null?h.retryQueue=new Set([w]):g.add(w)),CE(u,w,E)),!1}throw Error(r(435,g.tag))}return CE(u,w,E),Sy(),!1}if(mt)return h=Fi.current,h!==null?((h.flags&65536)===0&&(h.flags|=256),h.flags|=65536,h.lanes=E,w!==g1&&(u=Error(r(422),{cause:w}),mp(rs(u,g)))):(w!==g1&&(h=Error(r(423),{cause:w}),mp(rs(h,g))),u=u.current.alternate,u.flags|=65536,E&=-E,u.lanes|=E,w=rs(w,g),E=Q1(u.stateNode,w,E),R1(u,E),yn!==4&&(yn=2)),!1;var D=Error(r(520),{cause:w});if(D=rs(D,g),Ip===null?Ip=[D]:Ip.push(D),yn!==4&&(yn=2),h===null)return!0;w=rs(w,g),g=h;do{switch(g.tag){case 3:return g.flags|=65536,u=E&-E,g.lanes|=u,u=Q1(g.stateNode,w,u),R1(g,u),!1;case 1:if(h=g.type,D=g.stateNode,(g.flags&128)===0&&(typeof h.getDerivedStateFromError=="function"||D!==null&&typeof D.componentDidCatch=="function"&&(_l===null||!_l.has(D))))return g.flags|=65536,E&=-E,g.lanes|=E,E=qI(E),KI(E,u,g,w),R1(g,E),!1}g=g.return}while(g!==null);return!1}var X1=Error(r(461)),Fn=!1;function hr(u,h,g,w){h.child=u===null?JF(h,null,g,w):ou(h,u.child,g,w)}function YI(u,h,g,w,E){g=g.render;var D=h.ref;if("ref"in w){var N={};for(var G in w)G!=="ref"&&(N[G]=w[G])}else N=w;return nu(h),w=N1(u,h,g,N,D,E),G=O1(),u!==null&&!Fn?(F1(u,h,E),aa(u,h,E)):(mt&&G&&f1(h),h.flags|=1,hr(u,h,w,E),h.child)}function QI(u,h,g,w,E){if(u===null){var D=g.type;return typeof D=="function"&&!u1(D)&&D.defaultProps===void 0&&g.compare===null?(h.tag=15,h.type=D,XI(u,h,D,w,E)):(u=$v(g.type,null,w,h,h.mode,E),u.ref=h.ref,u.return=h,h.child=u)}if(D=u.child,!sE(u,E)){var N=D.memoizedProps;if(g=g.compare,g=g!==null?g:fp,g(N,w)&&u.ref===h.ref)return aa(u,h,E)}return h.flags|=1,u=ta(D,w),u.ref=h.ref,u.return=h,h.child=u}function XI(u,h,g,w,E){if(u!==null){var D=u.memoizedProps;if(fp(D,w)&&u.ref===h.ref)if(Fn=!1,h.pendingProps=w=D,sE(u,E))(u.flags&131072)!==0&&(Fn=!0);else return h.lanes=u.lanes,aa(u,h,E)}return J1(u,h,g,w,E)}function JI(u,h,g,w){var E=w.children,D=u!==null?u.memoizedState:null;if(u===null&&h.stateNode===null&&(h.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),w.mode==="hidden"){if((h.flags&128)!==0){if(D=D!==null?D.baseLanes|g:g,u!==null){for(w=h.child=u.child,E=0;w!==null;)E=E|w.lanes|w.childLanes,w=w.sibling;w=E&~D}else w=0,h.child=null;return ZI(u,h,D,g,w)}if((g&536870912)!==0)h.memoizedState={baseLanes:0,cachePool:null},u!==null&&Qv(h,D!==null?D.cachePool:null),D!==null?tI(h,D):T1(),nI(h);else return w=h.lanes=536870912,ZI(u,h,D!==null?D.baseLanes|g:g,g,w)}else D!==null?(Qv(h,D.cachePool),tI(h,D),Ol(),h.memoizedState=null):(u!==null&&Qv(h,null),T1(),Ol());return hr(u,h,E,g),h.child}function Tp(u,h){return u!==null&&u.tag===22||h.stateNode!==null||(h.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.sibling}function ZI(u,h,g,w,E){var D=x1();return D=D===null?null:{parent:Nn._currentValue,pool:D},h.memoizedState={baseLanes:g,cachePool:D},u!==null&&Qv(h,null),T1(),nI(h),u!==null&&qd(u,h,w,!0),h.childLanes=E,null}function hy(u,h){return h=py({mode:h.mode,children:h.children},u.mode),h.ref=u.ref,u.child=h,h.return=u,h}function eL(u,h,g){return ou(h,u.child,null,g),u=hy(h,h.pendingProps),u.flags|=2,Ii(h),h.memoizedState=null,u}function iee(u,h,g){var w=h.pendingProps,E=(h.flags&128)!==0;if(h.flags&=-129,u===null){if(mt){if(w.mode==="hidden")return u=hy(h,w),h.lanes=536870912,Tp(null,u);if(A1(h),(u=Zt)?(u=h3(u,as),u=u!==null&&u.data==="&"?u:null,u!==null&&(h.memoizedState={dehydrated:u,treeContext:Dl!==null?{id:lo,overflow:co}:null,retryLane:536870912,hydrationErrors:null},g=_F(u),g.return=h,h.child=g,ur=h,Zt=null)):u=null,u===null)throw Ml(h);return h.lanes=536870912,null}return hy(h,w)}var D=u.memoizedState;if(D!==null){var N=D.dehydrated;if(A1(h),E)if(h.flags&256)h.flags&=-257,h=eL(u,h,g);else if(h.memoizedState!==null)h.child=u.child,h.flags|=128,h=null;else throw Error(r(558));else if(Fn||qd(u,h,g,!1),E=(g&u.childLanes)!==0,Fn||E){if(w=Vt,w!==null&&(N=WO(w,g),N!==0&&N!==D.retryLane))throw D.retryLane=N,Jc(u,N),di(w,u,N),X1;Sy(),h=eL(u,h,g)}else u=D.treeContext,Zt=cs(N.nextSibling),ur=h,mt=!0,Rl=null,as=!1,u!==null&&HF(h,u),h=hy(h,w),h.flags|=4096;return h}return u=ta(u.child,{mode:w.mode,children:w.children}),u.ref=h.ref,h.child=u,u.return=h,u}function fy(u,h){var g=h.ref;if(g===null)u!==null&&u.ref!==null&&(h.flags|=4194816);else{if(typeof g!="function"&&typeof g!="object")throw Error(r(284));(u===null||u.ref!==g)&&(h.flags|=4194816)}}function J1(u,h,g,w,E){return nu(h),g=N1(u,h,g,w,void 0,E),w=O1(),u!==null&&!Fn?(F1(u,h,E),aa(u,h,E)):(mt&&w&&f1(h),h.flags|=1,hr(u,h,g,E),h.child)}function tL(u,h,g,w,E,D){return nu(h),h.updateQueue=null,g=iI(h,w,g,E),rI(u),w=O1(),u!==null&&!Fn?(F1(u,h,D),aa(u,h,D)):(mt&&w&&f1(h),h.flags|=1,hr(u,h,g,D),h.child)}function nL(u,h,g,w,E){if(nu(h),h.stateNode===null){var D=Vd,N=g.contextType;typeof N=="object"&&N!==null&&(D=dr(N)),D=new g(w,D),h.memoizedState=D.state!==null&&D.state!==void 0?D.state:null,D.updater=Y1,h.stateNode=D,D._reactInternals=h,D=h.stateNode,D.props=w,D.state=h.memoizedState,D.refs={},E1(h),N=g.contextType,D.context=typeof N=="object"&&N!==null?dr(N):Vd,D.state=h.memoizedState,N=g.getDerivedStateFromProps,typeof N=="function"&&(K1(h,g,N,w),D.state=h.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof D.getSnapshotBeforeUpdate=="function"||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(N=D.state,typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount(),N!==D.state&&Y1.enqueueReplaceState(D,D.state,null),Sp(h,w,D,E),xp(),D.state=h.memoizedState),typeof D.componentDidMount=="function"&&(h.flags|=4194308),w=!0}else if(u===null){D=h.stateNode;var G=h.memoizedProps,Q=lu(g,G);D.props=Q;var ne=D.context,he=g.contextType;N=Vd,typeof he=="object"&&he!==null&&(N=dr(he));var ye=g.getDerivedStateFromProps;he=typeof ye=="function"||typeof D.getSnapshotBeforeUpdate=="function",G=h.pendingProps!==G,he||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(G||ne!==N)&&GI(h,D,w,N),kl=!1;var ie=h.memoizedState;D.state=ie,Sp(h,w,D,E),xp(),ne=h.memoizedState,G||ie!==ne||kl?(typeof ye=="function"&&(K1(h,g,ye,w),ne=h.memoizedState),(Q=kl||zI(h,g,Q,w,ie,ne,N))?(he||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount()),typeof D.componentDidMount=="function"&&(h.flags|=4194308)):(typeof D.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=w,h.memoizedState=ne),D.props=w,D.state=ne,D.context=N,w=Q):(typeof D.componentDidMount=="function"&&(h.flags|=4194308),w=!1)}else{D=h.stateNode,D1(u,h),N=h.memoizedProps,he=lu(g,N),D.props=he,ye=h.pendingProps,ie=D.context,ne=g.contextType,Q=Vd,typeof ne=="object"&&ne!==null&&(Q=dr(ne)),G=g.getDerivedStateFromProps,(ne=typeof G=="function"||typeof D.getSnapshotBeforeUpdate=="function")||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(N!==ye||ie!==Q)&&GI(h,D,w,Q),kl=!1,ie=h.memoizedState,D.state=ie,Sp(h,w,D,E),xp();var ae=h.memoizedState;N!==ye||ie!==ae||kl||u!==null&&u.dependencies!==null&&Kv(u.dependencies)?(typeof G=="function"&&(K1(h,g,G,w),ae=h.memoizedState),(he=kl||zI(h,g,he,w,ie,ae,Q)||u!==null&&u.dependencies!==null&&Kv(u.dependencies))?(ne||typeof D.UNSAFE_componentWillUpdate!="function"&&typeof D.componentWillUpdate!="function"||(typeof D.componentWillUpdate=="function"&&D.componentWillUpdate(w,ae,Q),typeof D.UNSAFE_componentWillUpdate=="function"&&D.UNSAFE_componentWillUpdate(w,ae,Q)),typeof D.componentDidUpdate=="function"&&(h.flags|=4),typeof D.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof D.componentDidUpdate!="function"||N===u.memoizedProps&&ie===u.memoizedState||(h.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||N===u.memoizedProps&&ie===u.memoizedState||(h.flags|=1024),h.memoizedProps=w,h.memoizedState=ae),D.props=w,D.state=ae,D.context=Q,w=he):(typeof D.componentDidUpdate!="function"||N===u.memoizedProps&&ie===u.memoizedState||(h.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||N===u.memoizedProps&&ie===u.memoizedState||(h.flags|=1024),w=!1)}return D=w,fy(u,h),w=(h.flags&128)!==0,D||w?(D=h.stateNode,g=w&&typeof g.getDerivedStateFromError!="function"?null:D.render(),h.flags|=1,u!==null&&w?(h.child=ou(h,u.child,null,E),h.child=ou(h,null,g,E)):hr(u,h,g,E),h.memoizedState=D.state,u=h.child):u=aa(u,h,E),u}function rL(u,h,g,w){return eu(),h.flags|=256,hr(u,h,g,w),h.child}var Z1={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function eE(u){return{baseLanes:u,cachePool:$F()}}function tE(u,h,g){return u=u!==null?u.childLanes&~g:0,h&&(u|=_i),u}function iL(u,h,g){var w=h.pendingProps,E=!1,D=(h.flags&128)!==0,N;if((N=D)||(N=u!==null&&u.memoizedState===null?!1:(En.current&2)!==0),N&&(E=!0,h.flags&=-129),N=(h.flags&32)!==0,h.flags&=-33,u===null){if(mt){if(E?Nl(h):Ol(),(u=Zt)?(u=h3(u,as),u=u!==null&&u.data!=="&"?u:null,u!==null&&(h.memoizedState={dehydrated:u,treeContext:Dl!==null?{id:lo,overflow:co}:null,retryLane:536870912,hydrationErrors:null},g=_F(u),g.return=h,h.child=g,ur=h,Zt=null)):u=null,u===null)throw Ml(h);return _E(u)?h.lanes=32:h.lanes=536870912,null}var G=w.children;return w=w.fallback,E?(Ol(),E=h.mode,G=py({mode:"hidden",children:G},E),w=Zc(w,E,g,null),G.return=h,w.return=h,G.sibling=w,h.child=G,w=h.child,w.memoizedState=eE(g),w.childLanes=tE(u,N,g),h.memoizedState=Z1,Tp(null,w)):(Nl(h),nE(h,G))}var Q=u.memoizedState;if(Q!==null&&(G=Q.dehydrated,G!==null)){if(D)h.flags&256?(Nl(h),h.flags&=-257,h=rE(u,h,g)):h.memoizedState!==null?(Ol(),h.child=u.child,h.flags|=128,h=null):(Ol(),G=w.fallback,E=h.mode,w=py({mode:"visible",children:w.children},E),G=Zc(G,E,g,null),G.flags|=2,w.return=h,G.return=h,w.sibling=G,h.child=w,ou(h,u.child,null,g),w=h.child,w.memoizedState=eE(g),w.childLanes=tE(u,N,g),h.memoizedState=Z1,h=Tp(null,w));else if(Nl(h),_E(G)){if(N=G.nextSibling&&G.nextSibling.dataset,N)var ne=N.dgst;N=ne,w=Error(r(419)),w.stack="",w.digest=N,mp({value:w,source:null,stack:null}),h=rE(u,h,g)}else if(Fn||qd(u,h,g,!1),N=(g&u.childLanes)!==0,Fn||N){if(N=Vt,N!==null&&(w=WO(N,g),w!==0&&w!==Q.retryLane))throw Q.retryLane=w,Jc(u,w),di(N,u,w),X1;LE(G)||Sy(),h=rE(u,h,g)}else LE(G)?(h.flags|=192,h.child=u.child,h=null):(u=Q.treeContext,Zt=cs(G.nextSibling),ur=h,mt=!0,Rl=null,as=!1,u!==null&&HF(h,u),h=nE(h,w.children),h.flags|=4096);return h}return E?(Ol(),G=w.fallback,E=h.mode,Q=u.child,ne=Q.sibling,w=ta(Q,{mode:"hidden",children:w.children}),w.subtreeFlags=Q.subtreeFlags&65011712,ne!==null?G=ta(ne,G):(G=Zc(G,E,g,null),G.flags|=2),G.return=h,w.return=h,w.sibling=G,h.child=w,Tp(null,w),w=h.child,G=u.child.memoizedState,G===null?G=eE(g):(E=G.cachePool,E!==null?(Q=Nn._currentValue,E=E.parent!==Q?{parent:Q,pool:Q}:E):E=$F(),G={baseLanes:G.baseLanes|g,cachePool:E}),w.memoizedState=G,w.childLanes=tE(u,N,g),h.memoizedState=Z1,Tp(u.child,w)):(Nl(h),g=u.child,u=g.sibling,g=ta(g,{mode:"visible",children:w.children}),g.return=h,g.sibling=null,u!==null&&(N=h.deletions,N===null?(h.deletions=[u],h.flags|=16):N.push(u)),h.child=g,h.memoizedState=null,g)}function nE(u,h){return h=py({mode:"visible",children:h},u.mode),h.return=u,u.child=h}function py(u,h){return u=Oi(22,u,null,h),u.lanes=0,u}function rE(u,h,g){return ou(h,u.child,null,g),u=nE(h,h.pendingProps.children),u.flags|=2,h.memoizedState=null,u}function sL(u,h,g){u.lanes|=h;var w=u.alternate;w!==null&&(w.lanes|=h),y1(u.return,h,g)}function iE(u,h,g,w,E,D){var N=u.memoizedState;N===null?u.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:w,tail:g,tailMode:E,treeForkCount:D}:(N.isBackwards=h,N.rendering=null,N.renderingStartTime=0,N.last=w,N.tail=g,N.tailMode=E,N.treeForkCount=D)}function oL(u,h,g){var w=h.pendingProps,E=w.revealOrder,D=w.tail;w=w.children;var N=En.current,G=(N&2)!==0;if(G?(N=N&1|2,h.flags|=128):N&=1,Z(En,N),hr(u,h,w,g),w=mt?gp:0,!G&&u!==null&&(u.flags&128)!==0)e:for(u=h.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&sL(u,g,h);else if(u.tag===19)sL(u,g,h);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===h)break e;for(;u.sibling===null;){if(u.return===null||u.return===h)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}switch(E){case"forwards":for(g=h.child,E=null;g!==null;)u=g.alternate,u!==null&&ny(u)===null&&(E=g),g=g.sibling;g=E,g===null?(E=h.child,h.child=null):(E=g.sibling,g.sibling=null),iE(h,!1,E,g,D,w);break;case"backwards":case"unstable_legacy-backwards":for(g=null,E=h.child,h.child=null;E!==null;){if(u=E.alternate,u!==null&&ny(u)===null){h.child=E;break}u=E.sibling,E.sibling=g,g=E,E=u}iE(h,!0,g,null,D,w);break;case"together":iE(h,!1,null,null,void 0,w);break;default:h.memoizedState=null}return h.child}function aa(u,h,g){if(u!==null&&(h.dependencies=u.dependencies),Ll|=h.lanes,(g&h.childLanes)===0)if(u!==null){if(qd(u,h,g,!1),(g&h.childLanes)===0)return null}else return null;if(u!==null&&h.child!==u.child)throw Error(r(153));if(h.child!==null){for(u=h.child,g=ta(u,u.pendingProps),h.child=g,g.return=h;u.sibling!==null;)u=u.sibling,g=g.sibling=ta(u,u.pendingProps),g.return=h;g.sibling=null}return h.child}function sE(u,h){return(u.lanes&h)!==0?!0:(u=u.dependencies,!!(u!==null&&Kv(u)))}function see(u,h,g){switch(h.tag){case 3:je(h,h.stateNode.containerInfo),Tl(h,Nn,u.memoizedState.cache),eu();break;case 27:case 5:de(h);break;case 4:je(h,h.stateNode.containerInfo);break;case 10:Tl(h,h.type,h.memoizedProps.value);break;case 31:if(h.memoizedState!==null)return h.flags|=128,A1(h),null;break;case 13:var w=h.memoizedState;if(w!==null)return w.dehydrated!==null?(Nl(h),h.flags|=128,null):(g&h.child.childLanes)!==0?iL(u,h,g):(Nl(h),u=aa(u,h,g),u!==null?u.sibling:null);Nl(h);break;case 19:var E=(u.flags&128)!==0;if(w=(g&h.childLanes)!==0,w||(qd(u,h,g,!1),w=(g&h.childLanes)!==0),E){if(w)return oL(u,h,g);h.flags|=128}if(E=h.memoizedState,E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),Z(En,En.current),w)break;return null;case 22:return h.lanes=0,JI(u,h,g,h.pendingProps);case 24:Tl(h,Nn,u.memoizedState.cache)}return aa(u,h,g)}function aL(u,h,g){if(u!==null)if(u.memoizedProps!==h.pendingProps)Fn=!0;else{if(!sE(u,g)&&(h.flags&128)===0)return Fn=!1,see(u,h,g);Fn=(u.flags&131072)!==0}else Fn=!1,mt&&(h.flags&1048576)!==0&&BF(h,gp,h.index);switch(h.lanes=0,h.tag){case 16:e:{var w=h.pendingProps;if(u=iu(h.elementType),h.type=u,typeof u=="function")u1(u)?(w=lu(u,w),h.tag=1,h=nL(null,h,u,w,g)):(h.tag=0,h=J1(null,h,u,w,g));else{if(u!=null){var E=u.$$typeof;if(E===T){h.tag=11,h=YI(null,h,u,w,g);break e}else if(E===A){h.tag=14,h=QI(null,h,u,w,g);break e}}throw h=F(u)||u,Error(r(306,h,""))}}return h;case 0:return J1(u,h,h.type,h.pendingProps,g);case 1:return w=h.type,E=lu(w,h.pendingProps),nL(u,h,w,E,g);case 3:e:{if(je(h,h.stateNode.containerInfo),u===null)throw Error(r(387));w=h.pendingProps;var D=h.memoizedState;E=D.element,D1(u,h),Sp(h,w,null,g);var N=h.memoizedState;if(w=N.cache,Tl(h,Nn,w),w!==D.cache&&w1(h,[Nn],g,!0),xp(),w=N.element,D.isDehydrated)if(D={element:w,isDehydrated:!1,cache:N.cache},h.updateQueue.baseState=D,h.memoizedState=D,h.flags&256){h=rL(u,h,w,g);break e}else if(w!==E){E=rs(Error(r(424)),h),mp(E),h=rL(u,h,w,g);break e}else{switch(u=h.stateNode.containerInfo,u.nodeType){case 9:u=u.body;break;default:u=u.nodeName==="HTML"?u.ownerDocument.body:u}for(Zt=cs(u.firstChild),ur=h,mt=!0,Rl=null,as=!0,g=JF(h,null,w,g),h.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling}else{if(eu(),w===E){h=aa(u,h,g);break e}hr(u,h,w,g)}h=h.child}return h;case 26:return fy(u,h),u===null?(g=y3(h.type,null,h.pendingProps,null))?h.memoizedState=g:mt||(g=h.type,u=h.pendingProps,w=Ay(pe.current).createElement(g),w[cr]=h,w[si]=u,fr(w,g,u),Qn(w),h.stateNode=w):h.memoizedState=y3(h.type,u.memoizedProps,h.pendingProps,u.memoizedState),null;case 27:return de(h),u===null&&mt&&(w=h.stateNode=g3(h.type,h.pendingProps,pe.current),ur=h,as=!0,E=Zt,zl(h.type)?(jE=E,Zt=cs(w.firstChild)):Zt=E),hr(u,h,h.pendingProps.children,g),fy(u,h),u===null&&(h.flags|=4194304),h.child;case 5:return u===null&&mt&&((E=w=Zt)&&(w=Iee(w,h.type,h.pendingProps,as),w!==null?(h.stateNode=w,ur=h,Zt=cs(w.firstChild),as=!1,E=!0):E=!1),E||Ml(h)),de(h),E=h.type,D=h.pendingProps,N=u!==null?u.memoizedProps:null,w=D.children,OE(E,D)?w=null:N!==null&&OE(E,N)&&(h.flags|=32),h.memoizedState!==null&&(E=N1(u,h,QZ,null,null,g),Vp._currentValue=E),fy(u,h),hr(u,h,w,g),h.child;case 6:return u===null&&mt&&((u=g=Zt)&&(g=Lee(g,h.pendingProps,as),g!==null?(h.stateNode=g,ur=h,Zt=null,u=!0):u=!1),u||Ml(h)),null;case 13:return iL(u,h,g);case 4:return je(h,h.stateNode.containerInfo),w=h.pendingProps,u===null?h.child=ou(h,null,w,g):hr(u,h,w,g),h.child;case 11:return YI(u,h,h.type,h.pendingProps,g);case 7:return hr(u,h,h.pendingProps,g),h.child;case 8:return hr(u,h,h.pendingProps.children,g),h.child;case 12:return hr(u,h,h.pendingProps.children,g),h.child;case 10:return w=h.pendingProps,Tl(h,h.type,w.value),hr(u,h,w.children,g),h.child;case 9:return E=h.type._context,w=h.pendingProps.children,nu(h),E=dr(E),w=w(E),h.flags|=1,hr(u,h,w,g),h.child;case 14:return QI(u,h,h.type,h.pendingProps,g);case 15:return XI(u,h,h.type,h.pendingProps,g);case 19:return oL(u,h,g);case 31:return iee(u,h,g);case 22:return JI(u,h,g,h.pendingProps);case 24:return nu(h),w=dr(Nn),u===null?(E=x1(),E===null&&(E=Vt,D=b1(),E.pooledCache=D,D.refCount++,D!==null&&(E.pooledCacheLanes|=g),E=D),h.memoizedState={parent:w,cache:E},E1(h),Tl(h,Nn,E)):((u.lanes&g)!==0&&(D1(u,h),Sp(h,null,null,g),xp()),E=u.memoizedState,D=h.memoizedState,E.parent!==w?(E={parent:w,cache:w},h.memoizedState=E,h.lanes===0&&(h.memoizedState=h.updateQueue.baseState=E),Tl(h,Nn,w)):(w=D.cache,Tl(h,Nn,w),w!==E.cache&&w1(h,[Nn],g,!0))),hr(u,h,h.pendingProps.children,g),h.child;case 29:throw h.pendingProps}throw Error(r(156,h.tag))}function la(u){u.flags|=4}function oE(u,h,g,w,E){if((h=(u.mode&32)!==0)&&(h=!1),h){if(u.flags|=16777216,(E&335544128)===E)if(u.stateNode.complete)u.flags|=8192;else if(FL())u.flags|=8192;else throw su=Jv,S1}else u.flags&=-16777217}function lL(u,h){if(h.type!=="stylesheet"||(h.state.loading&4)!==0)u.flags&=-16777217;else if(u.flags|=16777216,!S3(h))if(FL())u.flags|=8192;else throw su=Jv,S1}function gy(u,h){h!==null&&(u.flags|=4),u.flags&16384&&(h=u.tag!==22?zO():536870912,u.lanes|=h,sh|=h)}function kp(u,h){if(!mt)switch(u.tailMode){case"hidden":h=u.tail;for(var g=null;h!==null;)h.alternate!==null&&(g=h),h=h.sibling;g===null?u.tail=null:g.sibling=null;break;case"collapsed":g=u.tail;for(var w=null;g!==null;)g.alternate!==null&&(w=g),g=g.sibling;w===null?h||u.tail===null?u.tail=null:u.tail.sibling=null:w.sibling=null}}function en(u){var h=u.alternate!==null&&u.alternate.child===u.child,g=0,w=0;if(h)for(var E=u.child;E!==null;)g|=E.lanes|E.childLanes,w|=E.subtreeFlags&65011712,w|=E.flags&65011712,E.return=u,E=E.sibling;else for(E=u.child;E!==null;)g|=E.lanes|E.childLanes,w|=E.subtreeFlags,w|=E.flags,E.return=u,E=E.sibling;return u.subtreeFlags|=w,u.childLanes=g,h}function oee(u,h,g){var w=h.pendingProps;switch(p1(h),h.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return en(h),null;case 1:return en(h),null;case 3:return g=h.stateNode,w=null,u!==null&&(w=u.memoizedState.cache),h.memoizedState.cache!==w&&(h.flags|=2048),ia(Nn),oe(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(u===null||u.child===null)&&($d(h)?la(h):u===null||u.memoizedState.isDehydrated&&(h.flags&256)===0||(h.flags|=1024,m1())),en(h),null;case 26:var E=h.type,D=h.memoizedState;return u===null?(la(h),D!==null?(en(h),lL(h,D)):(en(h),oE(h,E,null,w,g))):D?D!==u.memoizedState?(la(h),en(h),lL(h,D)):(en(h),h.flags&=-16777217):(u=u.memoizedProps,u!==w&&la(h),en(h),oE(h,E,u,w,g)),null;case 27:if(Me(h),g=pe.current,E=h.type,u!==null&&h.stateNode!=null)u.memoizedProps!==w&&la(h);else{if(!w){if(h.stateNode===null)throw Error(r(166));return en(h),null}u=X.current,$d(h)?zF(h):(u=g3(E,w,g),h.stateNode=u,la(h))}return en(h),null;case 5:if(Me(h),E=h.type,u!==null&&h.stateNode!=null)u.memoizedProps!==w&&la(h);else{if(!w){if(h.stateNode===null)throw Error(r(166));return en(h),null}if(D=X.current,$d(h))zF(h);else{var N=Ay(pe.current);switch(D){case 1:D=N.createElementNS("http://www.w3.org/2000/svg",E);break;case 2:D=N.createElementNS("http://www.w3.org/1998/Math/MathML",E);break;default:switch(E){case"svg":D=N.createElementNS("http://www.w3.org/2000/svg",E);break;case"math":D=N.createElementNS("http://www.w3.org/1998/Math/MathML",E);break;case"script":D=N.createElement("div"),D.innerHTML="<script><\/script>",D=D.removeChild(D.firstChild);break;case"select":D=typeof w.is=="string"?N.createElement("select",{is:w.is}):N.createElement("select"),w.multiple?D.multiple=!0:w.size&&(D.size=w.size);break;default:D=typeof w.is=="string"?N.createElement(E,{is:w.is}):N.createElement(E)}}D[cr]=h,D[si]=w;e:for(N=h.child;N!==null;){if(N.tag===5||N.tag===6)D.appendChild(N.stateNode);else if(N.tag!==4&&N.tag!==27&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===h)break e;for(;N.sibling===null;){if(N.return===null||N.return===h)break e;N=N.return}N.sibling.return=N.return,N=N.sibling}h.stateNode=D;e:switch(fr(D,E,w),E){case"button":case"input":case"select":case"textarea":w=!!w.autoFocus;break e;case"img":w=!0;break e;default:w=!1}w&&la(h)}}return en(h),oE(h,h.type,u===null?null:u.memoizedProps,h.pendingProps,g),null;case 6:if(u&&h.stateNode!=null)u.memoizedProps!==w&&la(h);else{if(typeof w!="string"&&h.stateNode===null)throw Error(r(166));if(u=pe.current,$d(h)){if(u=h.stateNode,g=h.memoizedProps,w=null,E=ur,E!==null)switch(E.tag){case 27:case 5:w=E.memoizedProps}u[cr]=h,u=!!(u.nodeValue===g||w!==null&&w.suppressHydrationWarning===!0||i3(u.nodeValue,g)),u||Ml(h,!0)}else u=Ay(u).createTextNode(w),u[cr]=h,h.stateNode=u}return en(h),null;case 31:if(g=h.memoizedState,u===null||u.memoizedState!==null){if(w=$d(h),g!==null){if(u===null){if(!w)throw Error(r(318));if(u=h.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(r(557));u[cr]=h}else eu(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;en(h),u=!1}else g=m1(),u!==null&&u.memoizedState!==null&&(u.memoizedState.hydrationErrors=g),u=!0;if(!u)return h.flags&256?(Ii(h),h):(Ii(h),null);if((h.flags&128)!==0)throw Error(r(558))}return en(h),null;case 13:if(w=h.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(E=$d(h),w!==null&&w.dehydrated!==null){if(u===null){if(!E)throw Error(r(318));if(E=h.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(r(317));E[cr]=h}else eu(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;en(h),E=!1}else E=m1(),u!==null&&u.memoizedState!==null&&(u.memoizedState.hydrationErrors=E),E=!0;if(!E)return h.flags&256?(Ii(h),h):(Ii(h),null)}return Ii(h),(h.flags&128)!==0?(h.lanes=g,h):(g=w!==null,u=u!==null&&u.memoizedState!==null,g&&(w=h.child,E=null,w.alternate!==null&&w.alternate.memoizedState!==null&&w.alternate.memoizedState.cachePool!==null&&(E=w.alternate.memoizedState.cachePool.pool),D=null,w.memoizedState!==null&&w.memoizedState.cachePool!==null&&(D=w.memoizedState.cachePool.pool),D!==E&&(w.flags|=2048)),g!==u&&g&&(h.child.flags|=8192),gy(h,h.updateQueue),en(h),null);case 4:return oe(),u===null&&TE(h.stateNode.containerInfo),en(h),null;case 10:return ia(h.type),en(h),null;case 19:if(Y(En),w=h.memoizedState,w===null)return en(h),null;if(E=(h.flags&128)!==0,D=w.rendering,D===null)if(E)kp(w,!1);else{if(yn!==0||u!==null&&(u.flags&128)!==0)for(u=h.child;u!==null;){if(D=ny(u),D!==null){for(h.flags|=128,kp(w,!1),u=D.updateQueue,h.updateQueue=u,gy(h,u),h.subtreeFlags=0,u=g,g=h.child;g!==null;)LF(g,u),g=g.sibling;return Z(En,En.current&1|2),mt&&na(h,w.treeForkCount),h.child}u=u.sibling}w.tail!==null&&gt()>by&&(h.flags|=128,E=!0,kp(w,!1),h.lanes=4194304)}else{if(!E)if(u=ny(D),u!==null){if(h.flags|=128,E=!0,u=u.updateQueue,h.updateQueue=u,gy(h,u),kp(w,!0),w.tail===null&&w.tailMode==="hidden"&&!D.alternate&&!mt)return en(h),null}else 2*gt()-w.renderingStartTime>by&&g!==536870912&&(h.flags|=128,E=!0,kp(w,!1),h.lanes=4194304);w.isBackwards?(D.sibling=h.child,h.child=D):(u=w.last,u!==null?u.sibling=D:h.child=D,w.last=D)}return w.tail!==null?(u=w.tail,w.rendering=u,w.tail=u.sibling,w.renderingStartTime=gt(),u.sibling=null,g=En.current,Z(En,E?g&1|2:g&1),mt&&na(h,w.treeForkCount),u):(en(h),null);case 22:case 23:return Ii(h),k1(),w=h.memoizedState!==null,u!==null?u.memoizedState!==null!==w&&(h.flags|=8192):w&&(h.flags|=8192),w?(g&536870912)!==0&&(h.flags&128)===0&&(en(h),h.subtreeFlags&6&&(h.flags|=8192)):en(h),g=h.updateQueue,g!==null&&gy(h,g.retryQueue),g=null,u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),w=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(w=h.memoizedState.cachePool.pool),w!==g&&(h.flags|=2048),u!==null&&Y(ru),null;case 24:return g=null,u!==null&&(g=u.memoizedState.cache),h.memoizedState.cache!==g&&(h.flags|=2048),ia(Nn),en(h),null;case 25:return null;case 30:return null}throw Error(r(156,h.tag))}function aee(u,h){switch(p1(h),h.tag){case 1:return u=h.flags,u&65536?(h.flags=u&-65537|128,h):null;case 3:return ia(Nn),oe(),u=h.flags,(u&65536)!==0&&(u&128)===0?(h.flags=u&-65537|128,h):null;case 26:case 27:case 5:return Me(h),null;case 31:if(h.memoizedState!==null){if(Ii(h),h.alternate===null)throw Error(r(340));eu()}return u=h.flags,u&65536?(h.flags=u&-65537|128,h):null;case 13:if(Ii(h),u=h.memoizedState,u!==null&&u.dehydrated!==null){if(h.alternate===null)throw Error(r(340));eu()}return u=h.flags,u&65536?(h.flags=u&-65537|128,h):null;case 19:return Y(En),null;case 4:return oe(),null;case 10:return ia(h.type),null;case 22:case 23:return Ii(h),k1(),u!==null&&Y(ru),u=h.flags,u&65536?(h.flags=u&-65537|128,h):null;case 24:return ia(Nn),null;case 25:return null;default:return null}}function cL(u,h){switch(p1(h),h.tag){case 3:ia(Nn),oe();break;case 26:case 27:case 5:Me(h);break;case 4:oe();break;case 31:h.memoizedState!==null&&Ii(h);break;case 13:Ii(h);break;case 19:Y(En);break;case 10:ia(h.type);break;case 22:case 23:Ii(h),k1(),u!==null&&Y(ru);break;case 24:ia(Nn)}}function Ap(u,h){try{var g=h.updateQueue,w=g!==null?g.lastEffect:null;if(w!==null){var E=w.next;g=E;do{if((g.tag&u)===u){w=void 0;var D=g.create,N=g.inst;w=D(),N.destroy=w}g=g.next}while(g!==E)}}catch(G){At(h,h.return,G)}}function Fl(u,h,g){try{var w=h.updateQueue,E=w!==null?w.lastEffect:null;if(E!==null){var D=E.next;w=D;do{if((w.tag&u)===u){var N=w.inst,G=N.destroy;if(G!==void 0){N.destroy=void 0,E=h;var Q=g,ne=G;try{ne()}catch(he){At(E,Q,he)}}}w=w.next}while(w!==D)}}catch(he){At(h,h.return,he)}}function uL(u){var h=u.updateQueue;if(h!==null){var g=u.stateNode;try{eI(h,g)}catch(w){At(u,u.return,w)}}}function dL(u,h,g){g.props=lu(u.type,u.memoizedProps),g.state=u.memoizedState;try{g.componentWillUnmount()}catch(w){At(u,h,w)}}function Pp(u,h){try{var g=u.ref;if(g!==null){switch(u.tag){case 26:case 27:case 5:var w=u.stateNode;break;case 30:w=u.stateNode;break;default:w=u.stateNode}typeof g=="function"?u.refCleanup=g(w):g.current=w}}catch(E){At(u,h,E)}}function uo(u,h){var g=u.ref,w=u.refCleanup;if(g!==null)if(typeof w=="function")try{w()}catch(E){At(u,h,E)}finally{u.refCleanup=null,u=u.alternate,u!=null&&(u.refCleanup=null)}else if(typeof g=="function")try{g(null)}catch(E){At(u,h,E)}else g.current=null}function hL(u){var h=u.type,g=u.memoizedProps,w=u.stateNode;try{e:switch(h){case"button":case"input":case"select":case"textarea":g.autoFocus&&w.focus();break e;case"img":g.src?w.src=g.src:g.srcSet&&(w.srcset=g.srcSet)}}catch(E){At(u,u.return,E)}}function aE(u,h,g){try{var w=u.stateNode;kee(w,u.type,g,h),w[si]=h}catch(E){At(u,u.return,E)}}function fL(u){return u.tag===5||u.tag===3||u.tag===26||u.tag===27&&zl(u.type)||u.tag===4}function lE(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||fL(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(u.tag===27&&zl(u.type)||u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function cE(u,h,g){var w=u.tag;if(w===5||w===6)u=u.stateNode,h?(g.nodeType===9?g.body:g.nodeName==="HTML"?g.ownerDocument.body:g).insertBefore(u,h):(h=g.nodeType===9?g.body:g.nodeName==="HTML"?g.ownerDocument.body:g,h.appendChild(u),g=g._reactRootContainer,g!=null||h.onclick!==null||(h.onclick=Zo));else if(w!==4&&(w===27&&zl(u.type)&&(g=u.stateNode,h=null),u=u.child,u!==null))for(cE(u,h,g),u=u.sibling;u!==null;)cE(u,h,g),u=u.sibling}function my(u,h,g){var w=u.tag;if(w===5||w===6)u=u.stateNode,h?g.insertBefore(u,h):g.appendChild(u);else if(w!==4&&(w===27&&zl(u.type)&&(g=u.stateNode),u=u.child,u!==null))for(my(u,h,g),u=u.sibling;u!==null;)my(u,h,g),u=u.sibling}function pL(u){var h=u.stateNode,g=u.memoizedProps;try{for(var w=u.type,E=h.attributes;E.length;)h.removeAttributeNode(E[0]);fr(h,w,g),h[cr]=u,h[si]=g}catch(D){At(u,u.return,D)}}var ca=!1,In=!1,uE=!1,gL=typeof WeakSet=="function"?WeakSet:Set,Xn=null;function lee(u,h){if(u=u.containerInfo,PE=_y,u=MF(u),r1(u)){if("selectionStart"in u)var g={start:u.selectionStart,end:u.selectionEnd};else e:{g=(g=u.ownerDocument)&&g.defaultView||window;var w=g.getSelection&&g.getSelection();if(w&&w.rangeCount!==0){g=w.anchorNode;var E=w.anchorOffset,D=w.focusNode;w=w.focusOffset;try{g.nodeType,D.nodeType}catch{g=null;break e}var N=0,G=-1,Q=-1,ne=0,he=0,ye=u,ie=null;t:for(;;){for(var ae;ye!==g||E!==0&&ye.nodeType!==3||(G=N+E),ye!==D||w!==0&&ye.nodeType!==3||(Q=N+w),ye.nodeType===3&&(N+=ye.nodeValue.length),(ae=ye.firstChild)!==null;)ie=ye,ye=ae;for(;;){if(ye===u)break t;if(ie===g&&++ne===E&&(G=N),ie===D&&++he===w&&(Q=N),(ae=ye.nextSibling)!==null)break;ye=ie,ie=ye.parentNode}ye=ae}g=G===-1||Q===-1?null:{start:G,end:Q}}else g=null}g=g||{start:0,end:0}}else g=null;for(NE={focusedElem:u,selectionRange:g},_y=!1,Xn=h;Xn!==null;)if(h=Xn,u=h.child,(h.subtreeFlags&1028)!==0&&u!==null)u.return=h,Xn=u;else for(;Xn!==null;){switch(h=Xn,D=h.alternate,u=h.flags,h.tag){case 0:if((u&4)!==0&&(u=h.updateQueue,u=u!==null?u.events:null,u!==null))for(g=0;g<u.length;g++)E=u[g],E.ref.impl=E.nextImpl;break;case 11:case 15:break;case 1:if((u&1024)!==0&&D!==null){u=void 0,g=h,E=D.memoizedProps,D=D.memoizedState,w=g.stateNode;try{var Pe=lu(g.type,E);u=w.getSnapshotBeforeUpdate(Pe,D),w.__reactInternalSnapshotBeforeUpdate=u}catch(We){At(g,g.return,We)}}break;case 3:if((u&1024)!==0){if(u=h.stateNode.containerInfo,g=u.nodeType,g===9)IE(u);else if(g===1)switch(u.nodeName){case"HEAD":case"HTML":case"BODY":IE(u);break;default:u.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((u&1024)!==0)throw Error(r(163))}if(u=h.sibling,u!==null){u.return=h.return,Xn=u;break}Xn=h.return}}function mL(u,h,g){var w=g.flags;switch(g.tag){case 0:case 11:case 15:da(u,g),w&4&&Ap(5,g);break;case 1:if(da(u,g),w&4)if(u=g.stateNode,h===null)try{u.componentDidMount()}catch(N){At(g,g.return,N)}else{var E=lu(g.type,h.memoizedProps);h=h.memoizedState;try{u.componentDidUpdate(E,h,u.__reactInternalSnapshotBeforeUpdate)}catch(N){At(g,g.return,N)}}w&64&&uL(g),w&512&&Pp(g,g.return);break;case 3:if(da(u,g),w&64&&(u=g.updateQueue,u!==null)){if(h=null,g.child!==null)switch(g.child.tag){case 27:case 5:h=g.child.stateNode;break;case 1:h=g.child.stateNode}try{eI(u,h)}catch(N){At(g,g.return,N)}}break;case 27:h===null&&w&4&&pL(g);case 26:case 5:da(u,g),h===null&&w&4&&hL(g),w&512&&Pp(g,g.return);break;case 12:da(u,g);break;case 31:da(u,g),w&4&&wL(u,g);break;case 13:da(u,g),w&4&&bL(u,g),w&64&&(u=g.memoizedState,u!==null&&(u=u.dehydrated,u!==null&&(g=vee.bind(null,g),_ee(u,g))));break;case 22:if(w=g.memoizedState!==null||ca,!w){h=h!==null&&h.memoizedState!==null||In,E=ca;var D=In;ca=w,(In=h)&&!D?ha(u,g,(g.subtreeFlags&8772)!==0):da(u,g),ca=E,In=D}break;case 30:break;default:da(u,g)}}function vL(u){var h=u.alternate;h!==null&&(u.alternate=null,vL(h)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(h=u.stateNode,h!==null&&HS(h)),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}var on=null,ai=!1;function ua(u,h,g){for(g=g.child;g!==null;)yL(u,h,g),g=g.sibling}function yL(u,h,g){if(Br&&typeof Br.onCommitFiberUnmount=="function")try{Br.onCommitFiberUnmount($c,g)}catch{}switch(g.tag){case 26:In||uo(g,h),ua(u,h,g),g.memoizedState?g.memoizedState.count--:g.stateNode&&(g=g.stateNode,g.parentNode.removeChild(g));break;case 27:In||uo(g,h);var w=on,E=ai;zl(g.type)&&(on=g.stateNode,ai=!1),ua(u,h,g),Hp(g.stateNode),on=w,ai=E;break;case 5:In||uo(g,h);case 6:if(w=on,E=ai,on=null,ua(u,h,g),on=w,ai=E,on!==null)if(ai)try{(on.nodeType===9?on.body:on.nodeName==="HTML"?on.ownerDocument.body:on).removeChild(g.stateNode)}catch(D){At(g,h,D)}else try{on.removeChild(g.stateNode)}catch(D){At(g,h,D)}break;case 18:on!==null&&(ai?(u=on,u3(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,g.stateNode),fh(u)):u3(on,g.stateNode));break;case 4:w=on,E=ai,on=g.stateNode.containerInfo,ai=!0,ua(u,h,g),on=w,ai=E;break;case 0:case 11:case 14:case 15:Fl(2,g,h),In||Fl(4,g,h),ua(u,h,g);break;case 1:In||(uo(g,h),w=g.stateNode,typeof w.componentWillUnmount=="function"&&dL(g,h,w)),ua(u,h,g);break;case 21:ua(u,h,g);break;case 22:In=(w=In)||g.memoizedState!==null,ua(u,h,g),In=w;break;default:ua(u,h,g)}}function wL(u,h){if(h.memoizedState===null&&(u=h.alternate,u!==null&&(u=u.memoizedState,u!==null))){u=u.dehydrated;try{fh(u)}catch(g){At(h,h.return,g)}}}function bL(u,h){if(h.memoizedState===null&&(u=h.alternate,u!==null&&(u=u.memoizedState,u!==null&&(u=u.dehydrated,u!==null))))try{fh(u)}catch(g){At(h,h.return,g)}}function cee(u){switch(u.tag){case 31:case 13:case 19:var h=u.stateNode;return h===null&&(h=u.stateNode=new gL),h;case 22:return u=u.stateNode,h=u._retryCache,h===null&&(h=u._retryCache=new gL),h;default:throw Error(r(435,u.tag))}}function vy(u,h){var g=cee(u);h.forEach(function(w){if(!g.has(w)){g.add(w);var E=yee.bind(null,u,w);w.then(E,E)}})}function li(u,h){var g=h.deletions;if(g!==null)for(var w=0;w<g.length;w++){var E=g[w],D=u,N=h,G=N;e:for(;G!==null;){switch(G.tag){case 27:if(zl(G.type)){on=G.stateNode,ai=!1;break e}break;case 5:on=G.stateNode,ai=!1;break e;case 3:case 4:on=G.stateNode.containerInfo,ai=!0;break e}G=G.return}if(on===null)throw Error(r(160));yL(D,N,E),on=null,ai=!1,D=E.alternate,D!==null&&(D.return=null),E.return=null}if(h.subtreeFlags&13886)for(h=h.child;h!==null;)CL(h,u),h=h.sibling}var js=null;function CL(u,h){var g=u.alternate,w=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:li(h,u),ci(u),w&4&&(Fl(3,u,u.return),Ap(3,u),Fl(5,u,u.return));break;case 1:li(h,u),ci(u),w&512&&(In||g===null||uo(g,g.return)),w&64&&ca&&(u=u.updateQueue,u!==null&&(w=u.callbacks,w!==null&&(g=u.shared.hiddenCallbacks,u.shared.hiddenCallbacks=g===null?w:g.concat(w))));break;case 26:var E=js;if(li(h,u),ci(u),w&512&&(In||g===null||uo(g,g.return)),w&4){var D=g!==null?g.memoizedState:null;if(w=u.memoizedState,g===null)if(w===null)if(u.stateNode===null){e:{w=u.type,g=u.memoizedProps,E=E.ownerDocument||E;t:switch(w){case"title":D=E.getElementsByTagName("title")[0],(!D||D[ip]||D[cr]||D.namespaceURI==="http://www.w3.org/2000/svg"||D.hasAttribute("itemprop"))&&(D=E.createElement(w),E.head.insertBefore(D,E.querySelector("head > title"))),fr(D,w,g),D[cr]=u,Qn(D),w=D;break e;case"link":var N=C3("link","href",E).get(w+(g.href||""));if(N){for(var G=0;G<N.length;G++)if(D=N[G],D.getAttribute("href")===(g.href==null||g.href===""?null:g.href)&&D.getAttribute("rel")===(g.rel==null?null:g.rel)&&D.getAttribute("title")===(g.title==null?null:g.title)&&D.getAttribute("crossorigin")===(g.crossOrigin==null?null:g.crossOrigin)){N.splice(G,1);break t}}D=E.createElement(w),fr(D,w,g),E.head.appendChild(D);break;case"meta":if(N=C3("meta","content",E).get(w+(g.content||""))){for(G=0;G<N.length;G++)if(D=N[G],D.getAttribute("content")===(g.content==null?null:""+g.content)&&D.getAttribute("name")===(g.name==null?null:g.name)&&D.getAttribute("property")===(g.property==null?null:g.property)&&D.getAttribute("http-equiv")===(g.httpEquiv==null?null:g.httpEquiv)&&D.getAttribute("charset")===(g.charSet==null?null:g.charSet)){N.splice(G,1);break t}}D=E.createElement(w),fr(D,w,g),E.head.appendChild(D);break;default:throw Error(r(468,w))}D[cr]=u,Qn(D),w=D}u.stateNode=w}else x3(E,u.type,u.stateNode);else u.stateNode=b3(E,w,u.memoizedProps);else D!==w?(D===null?g.stateNode!==null&&(g=g.stateNode,g.parentNode.removeChild(g)):D.count--,w===null?x3(E,u.type,u.stateNode):b3(E,w,u.memoizedProps)):w===null&&u.stateNode!==null&&aE(u,u.memoizedProps,g.memoizedProps)}break;case 27:li(h,u),ci(u),w&512&&(In||g===null||uo(g,g.return)),g!==null&&w&4&&aE(u,u.memoizedProps,g.memoizedProps);break;case 5:if(li(h,u),ci(u),w&512&&(In||g===null||uo(g,g.return)),u.flags&32){E=u.stateNode;try{Ld(E,"")}catch(Pe){At(u,u.return,Pe)}}w&4&&u.stateNode!=null&&(E=u.memoizedProps,aE(u,E,g!==null?g.memoizedProps:E)),w&1024&&(uE=!0);break;case 6:if(li(h,u),ci(u),w&4){if(u.stateNode===null)throw Error(r(162));w=u.memoizedProps,g=u.stateNode;try{g.nodeValue=w}catch(Pe){At(u,u.return,Pe)}}break;case 3:if(Oy=null,E=js,js=Py(h.containerInfo),li(h,u),js=E,ci(u),w&4&&g!==null&&g.memoizedState.isDehydrated)try{fh(h.containerInfo)}catch(Pe){At(u,u.return,Pe)}uE&&(uE=!1,xL(u));break;case 4:w=js,js=Py(u.stateNode.containerInfo),li(h,u),ci(u),js=w;break;case 12:li(h,u),ci(u);break;case 31:li(h,u),ci(u),w&4&&(w=u.updateQueue,w!==null&&(u.updateQueue=null,vy(u,w)));break;case 13:li(h,u),ci(u),u.child.flags&8192&&u.memoizedState!==null!=(g!==null&&g.memoizedState!==null)&&(wy=gt()),w&4&&(w=u.updateQueue,w!==null&&(u.updateQueue=null,vy(u,w)));break;case 22:E=u.memoizedState!==null;var Q=g!==null&&g.memoizedState!==null,ne=ca,he=In;if(ca=ne||E,In=he||Q,li(h,u),In=he,ca=ne,ci(u),w&8192)e:for(h=u.stateNode,h._visibility=E?h._visibility&-2:h._visibility|1,E&&(g===null||Q||ca||In||cu(u)),g=null,h=u;;){if(h.tag===5||h.tag===26){if(g===null){Q=g=h;try{if(D=Q.stateNode,E)N=D.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{G=Q.stateNode;var ye=Q.memoizedProps.style,ie=ye!=null&&ye.hasOwnProperty("display")?ye.display:null;G.style.display=ie==null||typeof ie=="boolean"?"":(""+ie).trim()}}catch(Pe){At(Q,Q.return,Pe)}}}else if(h.tag===6){if(g===null){Q=h;try{Q.stateNode.nodeValue=E?"":Q.memoizedProps}catch(Pe){At(Q,Q.return,Pe)}}}else if(h.tag===18){if(g===null){Q=h;try{var ae=Q.stateNode;E?d3(ae,!0):d3(Q.stateNode,!1)}catch(Pe){At(Q,Q.return,Pe)}}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===u)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===u)break e;for(;h.sibling===null;){if(h.return===null||h.return===u)break e;g===h&&(g=null),h=h.return}g===h&&(g=null),h.sibling.return=h.return,h=h.sibling}w&4&&(w=u.updateQueue,w!==null&&(g=w.retryQueue,g!==null&&(w.retryQueue=null,vy(u,g))));break;case 19:li(h,u),ci(u),w&4&&(w=u.updateQueue,w!==null&&(u.updateQueue=null,vy(u,w)));break;case 30:break;case 21:break;default:li(h,u),ci(u)}}function ci(u){var h=u.flags;if(h&2){try{for(var g,w=u.return;w!==null;){if(fL(w)){g=w;break}w=w.return}if(g==null)throw Error(r(160));switch(g.tag){case 27:var E=g.stateNode,D=lE(u);my(u,D,E);break;case 5:var N=g.stateNode;g.flags&32&&(Ld(N,""),g.flags&=-33);var G=lE(u);my(u,G,N);break;case 3:case 4:var Q=g.stateNode.containerInfo,ne=lE(u);cE(u,ne,Q);break;default:throw Error(r(161))}}catch(he){At(u,u.return,he)}u.flags&=-3}h&4096&&(u.flags&=-4097)}function xL(u){if(u.subtreeFlags&1024)for(u=u.child;u!==null;){var h=u;xL(h),h.tag===5&&h.flags&1024&&h.stateNode.reset(),u=u.sibling}}function da(u,h){if(h.subtreeFlags&8772)for(h=h.child;h!==null;)mL(u,h.alternate,h),h=h.sibling}function cu(u){for(u=u.child;u!==null;){var h=u;switch(h.tag){case 0:case 11:case 14:case 15:Fl(4,h,h.return),cu(h);break;case 1:uo(h,h.return);var g=h.stateNode;typeof g.componentWillUnmount=="function"&&dL(h,h.return,g),cu(h);break;case 27:Hp(h.stateNode);case 26:case 5:uo(h,h.return),cu(h);break;case 22:h.memoizedState===null&&cu(h);break;case 30:cu(h);break;default:cu(h)}u=u.sibling}}function ha(u,h,g){for(g=g&&(h.subtreeFlags&8772)!==0,h=h.child;h!==null;){var w=h.alternate,E=u,D=h,N=D.flags;switch(D.tag){case 0:case 11:case 15:ha(E,D,g),Ap(4,D);break;case 1:if(ha(E,D,g),w=D,E=w.stateNode,typeof E.componentDidMount=="function")try{E.componentDidMount()}catch(ne){At(w,w.return,ne)}if(w=D,E=w.updateQueue,E!==null){var G=w.stateNode;try{var Q=E.shared.hiddenCallbacks;if(Q!==null)for(E.shared.hiddenCallbacks=null,E=0;E<Q.length;E++)ZF(Q[E],G)}catch(ne){At(w,w.return,ne)}}g&&N&64&&uL(D),Pp(D,D.return);break;case 27:pL(D);case 26:case 5:ha(E,D,g),g&&w===null&&N&4&&hL(D),Pp(D,D.return);break;case 12:ha(E,D,g);break;case 31:ha(E,D,g),g&&N&4&&wL(E,D);break;case 13:ha(E,D,g),g&&N&4&&bL(E,D);break;case 22:D.memoizedState===null&&ha(E,D,g),Pp(D,D.return);break;case 30:break;default:ha(E,D,g)}h=h.sibling}}function dE(u,h){var g=null;u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),u=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(u=h.memoizedState.cachePool.pool),u!==g&&(u!=null&&u.refCount++,g!=null&&vp(g))}function hE(u,h){u=null,h.alternate!==null&&(u=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==u&&(h.refCount++,u!=null&&vp(u))}function Bs(u,h,g,w){if(h.subtreeFlags&10256)for(h=h.child;h!==null;)SL(u,h,g,w),h=h.sibling}function SL(u,h,g,w){var E=h.flags;switch(h.tag){case 0:case 11:case 15:Bs(u,h,g,w),E&2048&&Ap(9,h);break;case 1:Bs(u,h,g,w);break;case 3:Bs(u,h,g,w),E&2048&&(u=null,h.alternate!==null&&(u=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==u&&(h.refCount++,u!=null&&vp(u)));break;case 12:if(E&2048){Bs(u,h,g,w),u=h.stateNode;try{var D=h.memoizedProps,N=D.id,G=D.onPostCommit;typeof G=="function"&&G(N,h.alternate===null?"mount":"update",u.passiveEffectDuration,-0)}catch(Q){At(h,h.return,Q)}}else Bs(u,h,g,w);break;case 31:Bs(u,h,g,w);break;case 13:Bs(u,h,g,w);break;case 23:break;case 22:D=h.stateNode,N=h.alternate,h.memoizedState!==null?D._visibility&2?Bs(u,h,g,w):Np(u,h):D._visibility&2?Bs(u,h,g,w):(D._visibility|=2,nh(u,h,g,w,(h.subtreeFlags&10256)!==0||!1)),E&2048&&dE(N,h);break;case 24:Bs(u,h,g,w),E&2048&&hE(h.alternate,h);break;default:Bs(u,h,g,w)}}function nh(u,h,g,w,E){for(E=E&&((h.subtreeFlags&10256)!==0||!1),h=h.child;h!==null;){var D=u,N=h,G=g,Q=w,ne=N.flags;switch(N.tag){case 0:case 11:case 15:nh(D,N,G,Q,E),Ap(8,N);break;case 23:break;case 22:var he=N.stateNode;N.memoizedState!==null?he._visibility&2?nh(D,N,G,Q,E):Np(D,N):(he._visibility|=2,nh(D,N,G,Q,E)),E&&ne&2048&&dE(N.alternate,N);break;case 24:nh(D,N,G,Q,E),E&&ne&2048&&hE(N.alternate,N);break;default:nh(D,N,G,Q,E)}h=h.sibling}}function Np(u,h){if(h.subtreeFlags&10256)for(h=h.child;h!==null;){var g=u,w=h,E=w.flags;switch(w.tag){case 22:Np(g,w),E&2048&&dE(w.alternate,w);break;case 24:Np(g,w),E&2048&&hE(w.alternate,w);break;default:Np(g,w)}h=h.sibling}}var Op=8192;function rh(u,h,g){if(u.subtreeFlags&Op)for(u=u.child;u!==null;)EL(u,h,g),u=u.sibling}function EL(u,h,g){switch(u.tag){case 26:rh(u,h,g),u.flags&Op&&u.memoizedState!==null&&Yee(g,js,u.memoizedState,u.memoizedProps);break;case 5:rh(u,h,g);break;case 3:case 4:var w=js;js=Py(u.stateNode.containerInfo),rh(u,h,g),js=w;break;case 22:u.memoizedState===null&&(w=u.alternate,w!==null&&w.memoizedState!==null?(w=Op,Op=16777216,rh(u,h,g),Op=w):rh(u,h,g));break;default:rh(u,h,g)}}function DL(u){var h=u.alternate;if(h!==null&&(u=h.child,u!==null)){h.child=null;do h=u.sibling,u.sibling=null,u=h;while(u!==null)}}function Fp(u){var h=u.deletions;if((u.flags&16)!==0){if(h!==null)for(var g=0;g<h.length;g++){var w=h[g];Xn=w,ML(w,u)}DL(u)}if(u.subtreeFlags&10256)for(u=u.child;u!==null;)RL(u),u=u.sibling}function RL(u){switch(u.tag){case 0:case 11:case 15:Fp(u),u.flags&2048&&Fl(9,u,u.return);break;case 3:Fp(u);break;case 12:Fp(u);break;case 22:var h=u.stateNode;u.memoizedState!==null&&h._visibility&2&&(u.return===null||u.return.tag!==13)?(h._visibility&=-3,yy(u)):Fp(u);break;default:Fp(u)}}function yy(u){var h=u.deletions;if((u.flags&16)!==0){if(h!==null)for(var g=0;g<h.length;g++){var w=h[g];Xn=w,ML(w,u)}DL(u)}for(u=u.child;u!==null;){switch(h=u,h.tag){case 0:case 11:case 15:Fl(8,h,h.return),yy(h);break;case 22:g=h.stateNode,g._visibility&2&&(g._visibility&=-3,yy(h));break;default:yy(h)}u=u.sibling}}function ML(u,h){for(;Xn!==null;){var g=Xn;switch(g.tag){case 0:case 11:case 15:Fl(8,g,h);break;case 23:case 22:if(g.memoizedState!==null&&g.memoizedState.cachePool!==null){var w=g.memoizedState.cachePool.pool;w!=null&&w.refCount++}break;case 24:vp(g.memoizedState.cache)}if(w=g.child,w!==null)w.return=g,Xn=w;else e:for(g=u;Xn!==null;){w=Xn;var E=w.sibling,D=w.return;if(vL(w),w===g){Xn=null;break e}if(E!==null){E.return=D,Xn=E;break e}Xn=D}}}var uee={getCacheForType:function(u){var h=dr(Nn),g=h.data.get(u);return g===void 0&&(g=u(),h.data.set(u,g)),g},cacheSignal:function(){return dr(Nn).controller.signal}},dee=typeof WeakMap=="function"?WeakMap:Map,xt=0,Vt=null,at=null,ut=0,kt=0,Li=null,Il=!1,ih=!1,fE=!1,fa=0,yn=0,Ll=0,uu=0,pE=0,_i=0,sh=0,Ip=null,ui=null,gE=!1,wy=0,TL=0,by=1/0,Cy=null,_l=null,Gn=0,jl=null,oh=null,pa=0,mE=0,vE=null,kL=null,Lp=0,yE=null;function ji(){return(xt&2)!==0&&ut!==0?ut&-ut:z.T!==null?EE():UO()}function AL(){if(_i===0)if((ut&536870912)===0||mt){var u=kd;kd<<=1,(kd&3932160)===0&&(kd=262144),_i=u}else _i=536870912;return u=Fi.current,u!==null&&(u.flags|=32),_i}function di(u,h,g){(u===Vt&&(kt===2||kt===9)||u.cancelPendingCommit!==null)&&(ah(u,0),Bl(u,ut,_i,!1)),rp(u,g),((xt&2)===0||u!==Vt)&&(u===Vt&&((xt&2)===0&&(uu|=g),yn===4&&Bl(u,ut,_i,!1)),ho(u))}function PL(u,h,g){if((xt&6)!==0)throw Error(r(327));var w=!g&&(h&127)===0&&(h&u.expiredLanes)===0||np(u,h),E=w?pee(u,h):bE(u,h,!0),D=w;do{if(E===0){ih&&!w&&Bl(u,h,0,!1);break}else{if(g=u.current.alternate,D&&!hee(g)){E=bE(u,h,!1),D=!1;continue}if(E===2){if(D=h,u.errorRecoveryDisabledLanes&D)var N=0;else N=u.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){h=N;e:{var G=u;E=Ip;var Q=G.current.memoizedState.isDehydrated;if(Q&&(ah(G,N).flags|=256),N=bE(G,N,!1),N!==2){if(fE&&!Q){G.errorRecoveryDisabledLanes|=D,uu|=D,E=4;break e}D=ui,ui=E,D!==null&&(ui===null?ui=D:ui.push.apply(ui,D))}E=N}if(D=!1,E!==2)continue}}if(E===1){ah(u,0),Bl(u,h,0,!0);break}e:{switch(w=u,D=E,D){case 0:case 1:throw Error(r(345));case 4:if((h&4194048)!==h)break;case 6:Bl(w,h,_i,!Il);break e;case 2:ui=null;break;case 3:case 5:break;default:throw Error(r(329))}if((h&62914560)===h&&(E=wy+300-gt(),10<E)){if(Bl(w,h,_i,!Il),Pv(w,0,!0)!==0)break e;pa=h,w.timeoutHandle=l3(NL.bind(null,w,g,ui,Cy,gE,h,_i,uu,sh,Il,D,"Throttled",-0,0),E);break e}NL(w,g,ui,Cy,gE,h,_i,uu,sh,Il,D,null,-0,0)}}break}while(!0);ho(u)}function NL(u,h,g,w,E,D,N,G,Q,ne,he,ye,ie,ae){if(u.timeoutHandle=-1,ye=h.subtreeFlags,ye&8192||(ye&16785408)===16785408){ye={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Zo},EL(h,D,ye);var Pe=(D&62914560)===D?wy-gt():(D&4194048)===D?TL-gt():0;if(Pe=Qee(ye,Pe),Pe!==null){pa=D,u.cancelPendingCommit=Pe(HL.bind(null,u,h,D,g,w,E,N,G,Q,he,ye,null,ie,ae)),Bl(u,D,N,!ne);return}}HL(u,h,D,g,w,E,N,G,Q)}function hee(u){for(var h=u;;){var g=h.tag;if((g===0||g===11||g===15)&&h.flags&16384&&(g=h.updateQueue,g!==null&&(g=g.stores,g!==null)))for(var w=0;w<g.length;w++){var E=g[w],D=E.getSnapshot;E=E.value;try{if(!Ni(D(),E))return!1}catch{return!1}}if(g=h.child,h.subtreeFlags&16384&&g!==null)g.return=h,h=g;else{if(h===u)break;for(;h.sibling===null;){if(h.return===null||h.return===u)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function Bl(u,h,g,w){h&=~pE,h&=~uu,u.suspendedLanes|=h,u.pingedLanes&=~h,w&&(u.warmLanes|=h),w=u.expirationTimes;for(var E=h;0<E;){var D=31-we(E),N=1<<D;w[D]=-1,E&=~N}g!==0&&GO(u,g,h)}function xy(){return(xt&6)===0?(_p(0),!1):!0}function wE(){if(at!==null){if(kt===0)var u=at.return;else u=at,ra=tu=null,I1(u),Xd=null,wp=0,u=at;for(;u!==null;)cL(u.alternate,u),u=u.return;at=null}}function ah(u,h){var g=u.timeoutHandle;g!==-1&&(u.timeoutHandle=-1,Nee(g)),g=u.cancelPendingCommit,g!==null&&(u.cancelPendingCommit=null,g()),pa=0,wE(),Vt=u,at=g=ta(u.current,null),ut=h,kt=0,Li=null,Il=!1,ih=np(u,h),fE=!1,sh=_i=pE=uu=Ll=yn=0,ui=Ip=null,gE=!1,(h&8)!==0&&(h|=h&32);var w=u.entangledLanes;if(w!==0)for(u=u.entanglements,w&=h;0<w;){var E=31-we(w),D=1<<E;h|=u[E],w&=~D}return fa=h,Vv(),g}function OL(u,h){Je=null,z.H=Mp,h===Qd||h===Xv?(h=YF(),kt=3):h===S1?(h=YF(),kt=4):kt=h===X1?8:h!==null&&typeof h=="object"&&typeof h.then=="function"?6:1,Li=h,at===null&&(yn=1,dy(u,rs(h,u.current)))}function FL(){var u=Fi.current;return u===null?!0:(ut&4194048)===ut?ls===null:(ut&62914560)===ut||(ut&536870912)!==0?u===ls:!1}function IL(){var u=z.H;return z.H=Mp,u===null?Mp:u}function LL(){var u=z.A;return z.A=uee,u}function Sy(){yn=4,Il||(ut&4194048)!==ut&&Fi.current!==null||(ih=!0),(Ll&134217727)===0&&(uu&134217727)===0||Vt===null||Bl(Vt,ut,_i,!1)}function bE(u,h,g){var w=xt;xt|=2;var E=IL(),D=LL();(Vt!==u||ut!==h)&&(Cy=null,ah(u,h)),h=!1;var N=yn;e:do try{if(kt!==0&&at!==null){var G=at,Q=Li;switch(kt){case 8:wE(),N=6;break e;case 3:case 2:case 9:case 6:Fi.current===null&&(h=!0);var ne=kt;if(kt=0,Li=null,lh(u,G,Q,ne),g&&ih){N=0;break e}break;default:ne=kt,kt=0,Li=null,lh(u,G,Q,ne)}}fee(),N=yn;break}catch(he){OL(u,he)}while(!0);return h&&u.shellSuspendCounter++,ra=tu=null,xt=w,z.H=E,z.A=D,at===null&&(Vt=null,ut=0,Vv()),N}function fee(){for(;at!==null;)_L(at)}function pee(u,h){var g=xt;xt|=2;var w=IL(),E=LL();Vt!==u||ut!==h?(Cy=null,by=gt()+500,ah(u,h)):ih=np(u,h);e:do try{if(kt!==0&&at!==null){h=at;var D=Li;t:switch(kt){case 1:kt=0,Li=null,lh(u,h,D,1);break;case 2:case 9:if(qF(D)){kt=0,Li=null,jL(h);break}h=function(){kt!==2&&kt!==9||Vt!==u||(kt=7),ho(u)},D.then(h,h);break e;case 3:kt=7;break e;case 4:kt=5;break e;case 7:qF(D)?(kt=0,Li=null,jL(h)):(kt=0,Li=null,lh(u,h,D,7));break;case 5:var N=null;switch(at.tag){case 26:N=at.memoizedState;case 5:case 27:var G=at;if(N?S3(N):G.stateNode.complete){kt=0,Li=null;var Q=G.sibling;if(Q!==null)at=Q;else{var ne=G.return;ne!==null?(at=ne,Ey(ne)):at=null}break t}}kt=0,Li=null,lh(u,h,D,5);break;case 6:kt=0,Li=null,lh(u,h,D,6);break;case 8:wE(),yn=6;break e;default:throw Error(r(462))}}gee();break}catch(he){OL(u,he)}while(!0);return ra=tu=null,z.H=w,z.A=E,xt=g,at!==null?0:(Vt=null,ut=0,Vv(),yn)}function gee(){for(;at!==null&&!Sn();)_L(at)}function _L(u){var h=aL(u.alternate,u,fa);u.memoizedProps=u.pendingProps,h===null?Ey(u):at=h}function jL(u){var h=u,g=h.alternate;switch(h.tag){case 15:case 0:h=tL(g,h,h.pendingProps,h.type,void 0,ut);break;case 11:h=tL(g,h,h.pendingProps,h.type.render,h.ref,ut);break;case 5:I1(h);default:cL(g,h),h=at=LF(h,fa),h=aL(g,h,fa)}u.memoizedProps=u.pendingProps,h===null?Ey(u):at=h}function lh(u,h,g,w){ra=tu=null,I1(h),Xd=null,wp=0;var E=h.return;try{if(ree(u,E,h,g,ut)){yn=1,dy(u,rs(g,u.current)),at=null;return}}catch(D){if(E!==null)throw at=E,D;yn=1,dy(u,rs(g,u.current)),at=null;return}h.flags&32768?(mt||w===1?u=!0:ih||(ut&536870912)!==0?u=!1:(Il=u=!0,(w===2||w===9||w===3||w===6)&&(w=Fi.current,w!==null&&w.tag===13&&(w.flags|=16384))),BL(h,u)):Ey(h)}function Ey(u){var h=u;do{if((h.flags&32768)!==0){BL(h,Il);return}u=h.return;var g=oee(h.alternate,h,fa);if(g!==null){at=g;return}if(h=h.sibling,h!==null){at=h;return}at=h=u}while(h!==null);yn===0&&(yn=5)}function BL(u,h){do{var g=aee(u.alternate,u);if(g!==null){g.flags&=32767,at=g;return}if(g=u.return,g!==null&&(g.flags|=32768,g.subtreeFlags=0,g.deletions=null),!h&&(u=u.sibling,u!==null)){at=u;return}at=u=g}while(u!==null);yn=6,at=null}function HL(u,h,g,w,E,D,N,G,Q){u.cancelPendingCommit=null;do Dy();while(Gn!==0);if((xt&6)!==0)throw Error(r(327));if(h!==null){if(h===u.current)throw Error(r(177));if(D=h.lanes|h.childLanes,D|=l1,KJ(u,g,D,N,G,Q),u===Vt&&(at=Vt=null,ut=0),oh=h,jl=u,pa=g,mE=D,vE=E,kL=w,(h.subtreeFlags&10256)!==0||(h.flags&10256)!==0?(u.callbackNode=null,u.callbackPriority=0,wee(Tt,function(){return UL(),null})):(u.callbackNode=null,u.callbackPriority=0),w=(h.flags&13878)!==0,(h.subtreeFlags&13878)!==0||w){w=z.T,z.T=null,E=j.p,j.p=2,N=xt,xt|=4;try{lee(u,h,g)}finally{xt=N,j.p=E,z.T=w}}Gn=1,zL(),GL(),VL()}}function zL(){if(Gn===1){Gn=0;var u=jl,h=oh,g=(h.flags&13878)!==0;if((h.subtreeFlags&13878)!==0||g){g=z.T,z.T=null;var w=j.p;j.p=2;var E=xt;xt|=4;try{CL(h,u);var D=NE,N=MF(u.containerInfo),G=D.focusedElem,Q=D.selectionRange;if(N!==G&&G&&G.ownerDocument&&RF(G.ownerDocument.documentElement,G)){if(Q!==null&&r1(G)){var ne=Q.start,he=Q.end;if(he===void 0&&(he=ne),"selectionStart"in G)G.selectionStart=ne,G.selectionEnd=Math.min(he,G.value.length);else{var ye=G.ownerDocument||document,ie=ye&&ye.defaultView||window;if(ie.getSelection){var ae=ie.getSelection(),Pe=G.textContent.length,We=Math.min(Q.start,Pe),Bt=Q.end===void 0?We:Math.min(Q.end,Pe);!ae.extend&&We>Bt&&(N=Bt,Bt=We,We=N);var ee=DF(G,We),J=DF(G,Bt);if(ee&&J&&(ae.rangeCount!==1||ae.anchorNode!==ee.node||ae.anchorOffset!==ee.offset||ae.focusNode!==J.node||ae.focusOffset!==J.offset)){var te=ye.createRange();te.setStart(ee.node,ee.offset),ae.removeAllRanges(),We>Bt?(ae.addRange(te),ae.extend(J.node,J.offset)):(te.setEnd(J.node,J.offset),ae.addRange(te))}}}}for(ye=[],ae=G;ae=ae.parentNode;)ae.nodeType===1&&ye.push({element:ae,left:ae.scrollLeft,top:ae.scrollTop});for(typeof G.focus=="function"&&G.focus(),G=0;G<ye.length;G++){var ge=ye[G];ge.element.scrollLeft=ge.left,ge.element.scrollTop=ge.top}}_y=!!PE,NE=PE=null}finally{xt=E,j.p=w,z.T=g}}u.current=h,Gn=2}}function GL(){if(Gn===2){Gn=0;var u=jl,h=oh,g=(h.flags&8772)!==0;if((h.subtreeFlags&8772)!==0||g){g=z.T,z.T=null;var w=j.p;j.p=2;var E=xt;xt|=4;try{mL(u,h.alternate,h)}finally{xt=E,j.p=w,z.T=g}}Gn=3}}function VL(){if(Gn===4||Gn===3){Gn=0,Pi();var u=jl,h=oh,g=pa,w=kL;(h.subtreeFlags&10256)!==0||(h.flags&10256)!==0?Gn=5:(Gn=0,oh=jl=null,WL(u,u.pendingLanes));var E=u.pendingLanes;if(E===0&&(_l=null),jS(g),h=h.stateNode,Br&&typeof Br.onCommitFiberRoot=="function")try{Br.onCommitFiberRoot($c,h,void 0,(h.current.flags&128)===128)}catch{}if(w!==null){h=z.T,E=j.p,j.p=2,z.T=null;try{for(var D=u.onRecoverableError,N=0;N<w.length;N++){var G=w[N];D(G.value,{componentStack:G.stack})}}finally{z.T=h,j.p=E}}(pa&3)!==0&&Dy(),ho(u),E=u.pendingLanes,(g&261930)!==0&&(E&42)!==0?u===yE?Lp++:(Lp=0,yE=u):Lp=0,_p(0)}}function WL(u,h){(u.pooledCacheLanes&=h)===0&&(h=u.pooledCache,h!=null&&(u.pooledCache=null,vp(h)))}function Dy(){return zL(),GL(),VL(),UL()}function UL(){if(Gn!==5)return!1;var u=jl,h=mE;mE=0;var g=jS(pa),w=z.T,E=j.p;try{j.p=32>g?32:g,z.T=null,g=vE,vE=null;var D=jl,N=pa;if(Gn=0,oh=jl=null,pa=0,(xt&6)!==0)throw Error(r(331));var G=xt;if(xt|=4,RL(D.current),SL(D,D.current,N,g),xt=G,_p(0,!1),Br&&typeof Br.onPostCommitFiberRoot=="function")try{Br.onPostCommitFiberRoot($c,D)}catch{}return!0}finally{j.p=E,z.T=w,WL(u,h)}}function $L(u,h,g){h=rs(g,h),h=Q1(u.stateNode,h,2),u=Pl(u,h,2),u!==null&&(rp(u,2),ho(u))}function At(u,h,g){if(u.tag===3)$L(u,u,g);else for(;h!==null;){if(h.tag===3){$L(h,u,g);break}else if(h.tag===1){var w=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&(_l===null||!_l.has(w))){u=rs(g,u),g=qI(2),w=Pl(h,g,2),w!==null&&(KI(g,w,h,u),rp(w,2),ho(w));break}}h=h.return}}function CE(u,h,g){var w=u.pingCache;if(w===null){w=u.pingCache=new dee;var E=new Set;w.set(h,E)}else E=w.get(h),E===void 0&&(E=new Set,w.set(h,E));E.has(g)||(fE=!0,E.add(g),u=mee.bind(null,u,h,g),h.then(u,u))}function mee(u,h,g){var w=u.pingCache;w!==null&&w.delete(h),u.pingedLanes|=u.suspendedLanes&g,u.warmLanes&=~g,Vt===u&&(ut&g)===g&&(yn===4||yn===3&&(ut&62914560)===ut&&300>gt()-wy?(xt&2)===0&&ah(u,0):pE|=g,sh===ut&&(sh=0)),ho(u)}function qL(u,h){h===0&&(h=zO()),u=Jc(u,h),u!==null&&(rp(u,h),ho(u))}function vee(u){var h=u.memoizedState,g=0;h!==null&&(g=h.retryLane),qL(u,g)}function yee(u,h){var g=0;switch(u.tag){case 31:case 13:var w=u.stateNode,E=u.memoizedState;E!==null&&(g=E.retryLane);break;case 19:w=u.stateNode;break;case 22:w=u.stateNode._retryCache;break;default:throw Error(r(314))}w!==null&&w.delete(h),qL(u,g)}function wee(u,h){return qe(u,h)}var Ry=null,ch=null,xE=!1,My=!1,SE=!1,Hl=0;function ho(u){u!==ch&&u.next===null&&(ch===null?Ry=ch=u:ch=ch.next=u),My=!0,xE||(xE=!0,Cee())}function _p(u,h){if(!SE&&My){SE=!0;do for(var g=!1,w=Ry;w!==null;){if(u!==0){var E=w.pendingLanes;if(E===0)var D=0;else{var N=w.suspendedLanes,G=w.pingedLanes;D=(1<<31-we(42|u)+1)-1,D&=E&~(N&~G),D=D&201326741?D&201326741|1:D?D|2:0}D!==0&&(g=!0,XL(w,D))}else D=ut,D=Pv(w,w===Vt?D:0,w.cancelPendingCommit!==null||w.timeoutHandle!==-1),(D&3)===0||np(w,D)||(g=!0,XL(w,D));w=w.next}while(g);SE=!1}}function bee(){KL()}function KL(){My=xE=!1;var u=0;Hl!==0&&Pee()&&(u=Hl);for(var h=gt(),g=null,w=Ry;w!==null;){var E=w.next,D=YL(w,h);D===0?(w.next=null,g===null?Ry=E:g.next=E,E===null&&(ch=g)):(g=w,(u!==0||(D&3)!==0)&&(My=!0)),w=E}Gn!==0&&Gn!==5||_p(u),Hl!==0&&(Hl=0)}function YL(u,h){for(var g=u.suspendedLanes,w=u.pingedLanes,E=u.expirationTimes,D=u.pendingLanes&-62914561;0<D;){var N=31-we(D),G=1<<N,Q=E[N];Q===-1?((G&g)===0||(G&w)!==0)&&(E[N]=qJ(G,h)):Q<=h&&(u.expiredLanes|=G),D&=~G}if(h=Vt,g=ut,g=Pv(u,u===h?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),w=u.callbackNode,g===0||u===h&&(kt===2||kt===9)||u.cancelPendingCommit!==null)return w!==null&&w!==null&&ot(w),u.callbackNode=null,u.callbackPriority=0;if((g&3)===0||np(u,g)){if(h=g&-g,h===u.callbackPriority)return h;switch(w!==null&&ot(w),jS(g)){case 2:case 8:g=xl;break;case 32:g=Tt;break;case 268435456:g=Uc;break;default:g=Tt}return w=QL.bind(null,u),g=qe(g,w),u.callbackPriority=h,u.callbackNode=g,h}return w!==null&&w!==null&&ot(w),u.callbackPriority=2,u.callbackNode=null,2}function QL(u,h){if(Gn!==0&&Gn!==5)return u.callbackNode=null,u.callbackPriority=0,null;var g=u.callbackNode;if(Dy()&&u.callbackNode!==g)return null;var w=ut;return w=Pv(u,u===Vt?w:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),w===0?null:(PL(u,w,h),YL(u,gt()),u.callbackNode!=null&&u.callbackNode===g?QL.bind(null,u):null)}function XL(u,h){if(Dy())return null;PL(u,h,!0)}function Cee(){Oee(function(){(xt&6)!==0?qe(Md,bee):KL()})}function EE(){if(Hl===0){var u=Kd;u===0&&(u=Td,Td<<=1,(Td&261888)===0&&(Td=256)),Hl=u}return Hl}function JL(u){return u==null||typeof u=="symbol"||typeof u=="boolean"?null:typeof u=="function"?u:Iv(""+u)}function ZL(u,h){var g=h.ownerDocument.createElement("input");return g.name=h.name,g.value=h.value,u.id&&g.setAttribute("form",u.id),h.parentNode.insertBefore(g,h),u=new FormData(u),g.parentNode.removeChild(g),u}function xee(u,h,g,w,E){if(h==="submit"&&g&&g.stateNode===E){var D=JL((E[si]||null).action),N=w.submitter;N&&(h=(h=N[si]||null)?JL(h.formAction):N.getAttribute("formAction"),h!==null&&(D=h,N=null));var G=new Bv("action","action",null,w,E);u.push({event:G,listeners:[{instance:null,listener:function(){if(w.defaultPrevented){if(Hl!==0){var Q=N?ZL(E,N):new FormData(E);W1(g,{pending:!0,data:Q,method:E.method,action:D},null,Q)}}else typeof D=="function"&&(G.preventDefault(),Q=N?ZL(E,N):new FormData(E),W1(g,{pending:!0,data:Q,method:E.method,action:D},D,Q))},currentTarget:E}]})}}for(var DE=0;DE<a1.length;DE++){var RE=a1[DE],See=RE.toLowerCase(),Eee=RE[0].toUpperCase()+RE.slice(1);_s(See,"on"+Eee)}_s(AF,"onAnimationEnd"),_s(PF,"onAnimationIteration"),_s(NF,"onAnimationStart"),_s("dblclick","onDoubleClick"),_s("focusin","onFocus"),_s("focusout","onBlur"),_s(HZ,"onTransitionRun"),_s(zZ,"onTransitionStart"),_s(GZ,"onTransitionCancel"),_s(OF,"onTransitionEnd"),Fd("onMouseEnter",["mouseout","mouseover"]),Fd("onMouseLeave",["mouseout","mouseover"]),Fd("onPointerEnter",["pointerout","pointerover"]),Fd("onPointerLeave",["pointerout","pointerover"]),Kc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Kc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Kc("onBeforeInput",["compositionend","keypress","textInput","paste"]),Kc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Kc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Kc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dee=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(jp));function e3(u,h){h=(h&4)!==0;for(var g=0;g<u.length;g++){var w=u[g],E=w.event;w=w.listeners;e:{var D=void 0;if(h)for(var N=w.length-1;0<=N;N--){var G=w[N],Q=G.instance,ne=G.currentTarget;if(G=G.listener,Q!==D&&E.isPropagationStopped())break e;D=G,E.currentTarget=ne;try{D(E)}catch(he){Gv(he)}E.currentTarget=null,D=Q}else for(N=0;N<w.length;N++){if(G=w[N],Q=G.instance,ne=G.currentTarget,G=G.listener,Q!==D&&E.isPropagationStopped())break e;D=G,E.currentTarget=ne;try{D(E)}catch(he){Gv(he)}E.currentTarget=null,D=Q}}}}function lt(u,h){var g=h[BS];g===void 0&&(g=h[BS]=new Set);var w=u+"__bubble";g.has(w)||(t3(h,u,2,!1),g.add(w))}function ME(u,h,g){var w=0;h&&(w|=4),t3(g,u,w,h)}var Ty="_reactListening"+Math.random().toString(36).slice(2);function TE(u){if(!u[Ty]){u[Ty]=!0,KO.forEach(function(g){g!=="selectionchange"&&(Dee.has(g)||ME(g,!1,u),ME(g,!0,u))});var h=u.nodeType===9?u:u.ownerDocument;h===null||h[Ty]||(h[Ty]=!0,ME("selectionchange",!1,h))}}function t3(u,h,g,w){switch(A3(h)){case 2:var E=Zee;break;case 8:E=ete;break;default:E=VE}g=E.bind(null,h,g,u),E=void 0,!KS||h!=="touchstart"&&h!=="touchmove"&&h!=="wheel"||(E=!0),w?E!==void 0?u.addEventListener(h,g,{capture:!0,passive:E}):u.addEventListener(h,g,!0):E!==void 0?u.addEventListener(h,g,{passive:E}):u.addEventListener(h,g,!1)}function kE(u,h,g,w,E){var D=w;if((h&1)===0&&(h&2)===0&&w!==null)e:for(;;){if(w===null)return;var N=w.tag;if(N===3||N===4){var G=w.stateNode.containerInfo;if(G===E)break;if(N===4)for(N=w.return;N!==null;){var Q=N.tag;if((Q===3||Q===4)&&N.stateNode.containerInfo===E)return;N=N.return}for(;G!==null;){if(N=Pd(G),N===null)return;if(Q=N.tag,Q===5||Q===6||Q===26||Q===27){w=D=N;continue e}G=G.parentNode}}w=w.return}oF(function(){var ne=D,he=$S(g),ye=[];e:{var ie=FF.get(u);if(ie!==void 0){var ae=Bv,Pe=u;switch(u){case"keypress":if(_v(g)===0)break e;case"keydown":case"keyup":ae=yZ;break;case"focusin":Pe="focus",ae=JS;break;case"focusout":Pe="blur",ae=JS;break;case"beforeblur":case"afterblur":ae=JS;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=cF;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=oZ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=CZ;break;case AF:case PF:case NF:ae=cZ;break;case OF:ae=SZ;break;case"scroll":case"scrollend":ae=iZ;break;case"wheel":ae=DZ;break;case"copy":case"cut":case"paste":ae=dZ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=dF;break;case"toggle":case"beforetoggle":ae=MZ}var We=(h&4)!==0,Bt=!We&&(u==="scroll"||u==="scrollend"),ee=We?ie!==null?ie+"Capture":null:ie;We=[];for(var J=ne,te;J!==null;){var ge=J;if(te=ge.stateNode,ge=ge.tag,ge!==5&&ge!==26&&ge!==27||te===null||ee===null||(ge=op(J,ee),ge!=null&&We.push(Bp(J,ge,te))),Bt)break;J=J.return}0<We.length&&(ie=new ae(ie,Pe,null,g,he),ye.push({event:ie,listeners:We}))}}if((h&7)===0){e:{if(ie=u==="mouseover"||u==="pointerover",ae=u==="mouseout"||u==="pointerout",ie&&g!==US&&(Pe=g.relatedTarget||g.fromElement)&&(Pd(Pe)||Pe[Ad]))break e;if((ae||ie)&&(ie=he.window===he?he:(ie=he.ownerDocument)?ie.defaultView||ie.parentWindow:window,ae?(Pe=g.relatedTarget||g.toElement,ae=ne,Pe=Pe?Pd(Pe):null,Pe!==null&&(Bt=s(Pe),We=Pe.tag,Pe!==Bt||We!==5&&We!==27&&We!==6)&&(Pe=null)):(ae=null,Pe=ne),ae!==Pe)){if(We=cF,ge="onMouseLeave",ee="onMouseEnter",J="mouse",(u==="pointerout"||u==="pointerover")&&(We=dF,ge="onPointerLeave",ee="onPointerEnter",J="pointer"),Bt=ae==null?ie:sp(ae),te=Pe==null?ie:sp(Pe),ie=new We(ge,J+"leave",ae,g,he),ie.target=Bt,ie.relatedTarget=te,ge=null,Pd(he)===ne&&(We=new We(ee,J+"enter",Pe,g,he),We.target=te,We.relatedTarget=Bt,ge=We),Bt=ge,ae&&Pe)t:{for(We=Ree,ee=ae,J=Pe,te=0,ge=ee;ge;ge=We(ge))te++;ge=0;for(var Be=J;Be;Be=We(Be))ge++;for(;0<te-ge;)ee=We(ee),te--;for(;0<ge-te;)J=We(J),ge--;for(;te--;){if(ee===J||J!==null&&ee===J.alternate){We=ee;break t}ee=We(ee),J=We(J)}We=null}else We=null;ae!==null&&n3(ye,ie,ae,We,!1),Pe!==null&&Bt!==null&&n3(ye,Bt,Pe,We,!0)}}e:{if(ie=ne?sp(ne):window,ae=ie.nodeName&&ie.nodeName.toLowerCase(),ae==="select"||ae==="input"&&ie.type==="file")var wt=wF;else if(vF(ie))if(bF)wt=_Z;else{wt=IZ;var Oe=FZ}else ae=ie.nodeName,!ae||ae.toLowerCase()!=="input"||ie.type!=="checkbox"&&ie.type!=="radio"?ne&&WS(ne.elementType)&&(wt=wF):wt=LZ;if(wt&&(wt=wt(u,ne))){yF(ye,wt,g,he);break e}Oe&&Oe(u,ie,ne),u==="focusout"&&ne&&ie.type==="number"&&ne.memoizedProps.value!=null&&VS(ie,"number",ie.value)}switch(Oe=ne?sp(ne):window,u){case"focusin":(vF(Oe)||Oe.contentEditable==="true")&&(Hd=Oe,i1=ne,pp=null);break;case"focusout":pp=i1=Hd=null;break;case"mousedown":s1=!0;break;case"contextmenu":case"mouseup":case"dragend":s1=!1,TF(ye,g,he);break;case"selectionchange":if(BZ)break;case"keydown":case"keyup":TF(ye,g,he)}var et;if(e1)e:{switch(u){case"compositionstart":var dt="onCompositionStart";break e;case"compositionend":dt="onCompositionEnd";break e;case"compositionupdate":dt="onCompositionUpdate";break e}dt=void 0}else Bd?gF(u,g)&&(dt="onCompositionEnd"):u==="keydown"&&g.keyCode===229&&(dt="onCompositionStart");dt&&(hF&&g.locale!=="ko"&&(Bd||dt!=="onCompositionStart"?dt==="onCompositionEnd"&&Bd&&(et=aF()):(El=he,YS="value"in El?El.value:El.textContent,Bd=!0)),Oe=ky(ne,dt),0<Oe.length&&(dt=new uF(dt,u,null,g,he),ye.push({event:dt,listeners:Oe}),et?dt.data=et:(et=mF(g),et!==null&&(dt.data=et)))),(et=kZ?AZ(u,g):PZ(u,g))&&(dt=ky(ne,"onBeforeInput"),0<dt.length&&(Oe=new uF("onBeforeInput","beforeinput",null,g,he),ye.push({event:Oe,listeners:dt}),Oe.data=et)),xee(ye,u,ne,g,he)}e3(ye,h)})}function Bp(u,h,g){return{instance:u,listener:h,currentTarget:g}}function ky(u,h){for(var g=h+"Capture",w=[];u!==null;){var E=u,D=E.stateNode;if(E=E.tag,E!==5&&E!==26&&E!==27||D===null||(E=op(u,g),E!=null&&w.unshift(Bp(u,E,D)),E=op(u,h),E!=null&&w.push(Bp(u,E,D))),u.tag===3)return w;u=u.return}return[]}function Ree(u){if(u===null)return null;do u=u.return;while(u&&u.tag!==5&&u.tag!==27);return u||null}function n3(u,h,g,w,E){for(var D=h._reactName,N=[];g!==null&&g!==w;){var G=g,Q=G.alternate,ne=G.stateNode;if(G=G.tag,Q!==null&&Q===w)break;G!==5&&G!==26&&G!==27||ne===null||(Q=ne,E?(ne=op(g,D),ne!=null&&N.unshift(Bp(g,ne,Q))):E||(ne=op(g,D),ne!=null&&N.push(Bp(g,ne,Q)))),g=g.return}N.length!==0&&u.push({event:h,listeners:N})}var Mee=/\r\n?/g,Tee=/\u0000|\uFFFD/g;function r3(u){return(typeof u=="string"?u:""+u).replace(Mee,`
`).replace(Tee,"")}function i3(u,h){return h=r3(h),r3(u)===h}function jt(u,h,g,w,E,D){switch(g){case"children":typeof w=="string"?h==="body"||h==="textarea"&&w===""||Ld(u,w):(typeof w=="number"||typeof w=="bigint")&&h!=="body"&&Ld(u,""+w);break;case"className":Ov(u,"class",w);break;case"tabIndex":Ov(u,"tabindex",w);break;case"dir":case"role":case"viewBox":case"width":case"height":Ov(u,g,w);break;case"style":iF(u,w,D);break;case"data":if(h!=="object"){Ov(u,"data",w);break}case"src":case"href":if(w===""&&(h!=="a"||g!=="href")){u.removeAttribute(g);break}if(w==null||typeof w=="function"||typeof w=="symbol"||typeof w=="boolean"){u.removeAttribute(g);break}w=Iv(""+w),u.setAttribute(g,w);break;case"action":case"formAction":if(typeof w=="function"){u.setAttribute(g,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof D=="function"&&(g==="formAction"?(h!=="input"&&jt(u,h,"name",E.name,E,null),jt(u,h,"formEncType",E.formEncType,E,null),jt(u,h,"formMethod",E.formMethod,E,null),jt(u,h,"formTarget",E.formTarget,E,null)):(jt(u,h,"encType",E.encType,E,null),jt(u,h,"method",E.method,E,null),jt(u,h,"target",E.target,E,null)));if(w==null||typeof w=="symbol"||typeof w=="boolean"){u.removeAttribute(g);break}w=Iv(""+w),u.setAttribute(g,w);break;case"onClick":w!=null&&(u.onclick=Zo);break;case"onScroll":w!=null&&lt("scroll",u);break;case"onScrollEnd":w!=null&&lt("scrollend",u);break;case"dangerouslySetInnerHTML":if(w!=null){if(typeof w!="object"||!("__html"in w))throw Error(r(61));if(g=w.__html,g!=null){if(E.children!=null)throw Error(r(60));u.innerHTML=g}}break;case"multiple":u.multiple=w&&typeof w!="function"&&typeof w!="symbol";break;case"muted":u.muted=w&&typeof w!="function"&&typeof w!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(w==null||typeof w=="function"||typeof w=="boolean"||typeof w=="symbol"){u.removeAttribute("xlink:href");break}g=Iv(""+w),u.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",g);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":w!=null&&typeof w!="function"&&typeof w!="symbol"?u.setAttribute(g,""+w):u.removeAttribute(g);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":w&&typeof w!="function"&&typeof w!="symbol"?u.setAttribute(g,""):u.removeAttribute(g);break;case"capture":case"download":w===!0?u.setAttribute(g,""):w!==!1&&w!=null&&typeof w!="function"&&typeof w!="symbol"?u.setAttribute(g,w):u.removeAttribute(g);break;case"cols":case"rows":case"size":case"span":w!=null&&typeof w!="function"&&typeof w!="symbol"&&!isNaN(w)&&1<=w?u.setAttribute(g,w):u.removeAttribute(g);break;case"rowSpan":case"start":w==null||typeof w=="function"||typeof w=="symbol"||isNaN(w)?u.removeAttribute(g):u.setAttribute(g,w);break;case"popover":lt("beforetoggle",u),lt("toggle",u),Nv(u,"popover",w);break;case"xlinkActuate":Jo(u,"http://www.w3.org/1999/xlink","xlink:actuate",w);break;case"xlinkArcrole":Jo(u,"http://www.w3.org/1999/xlink","xlink:arcrole",w);break;case"xlinkRole":Jo(u,"http://www.w3.org/1999/xlink","xlink:role",w);break;case"xlinkShow":Jo(u,"http://www.w3.org/1999/xlink","xlink:show",w);break;case"xlinkTitle":Jo(u,"http://www.w3.org/1999/xlink","xlink:title",w);break;case"xlinkType":Jo(u,"http://www.w3.org/1999/xlink","xlink:type",w);break;case"xmlBase":Jo(u,"http://www.w3.org/XML/1998/namespace","xml:base",w);break;case"xmlLang":Jo(u,"http://www.w3.org/XML/1998/namespace","xml:lang",w);break;case"xmlSpace":Jo(u,"http://www.w3.org/XML/1998/namespace","xml:space",w);break;case"is":Nv(u,"is",w);break;case"innerText":case"textContent":break;default:(!(2<g.length)||g[0]!=="o"&&g[0]!=="O"||g[1]!=="n"&&g[1]!=="N")&&(g=nZ.get(g)||g,Nv(u,g,w))}}function AE(u,h,g,w,E,D){switch(g){case"style":iF(u,w,D);break;case"dangerouslySetInnerHTML":if(w!=null){if(typeof w!="object"||!("__html"in w))throw Error(r(61));if(g=w.__html,g!=null){if(E.children!=null)throw Error(r(60));u.innerHTML=g}}break;case"children":typeof w=="string"?Ld(u,w):(typeof w=="number"||typeof w=="bigint")&&Ld(u,""+w);break;case"onScroll":w!=null&&lt("scroll",u);break;case"onScrollEnd":w!=null&&lt("scrollend",u);break;case"onClick":w!=null&&(u.onclick=Zo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!YO.hasOwnProperty(g))e:{if(g[0]==="o"&&g[1]==="n"&&(E=g.endsWith("Capture"),h=g.slice(2,E?g.length-7:void 0),D=u[si]||null,D=D!=null?D[g]:null,typeof D=="function"&&u.removeEventListener(h,D,E),typeof w=="function")){typeof D!="function"&&D!==null&&(g in u?u[g]=null:u.hasAttribute(g)&&u.removeAttribute(g)),u.addEventListener(h,w,E);break e}g in u?u[g]=w:w===!0?u.setAttribute(g,""):Nv(u,g,w)}}}function fr(u,h,g){switch(h){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":lt("error",u),lt("load",u);var w=!1,E=!1,D;for(D in g)if(g.hasOwnProperty(D)){var N=g[D];if(N!=null)switch(D){case"src":w=!0;break;case"srcSet":E=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,h));default:jt(u,h,D,N,g,null)}}E&&jt(u,h,"srcSet",g.srcSet,g,null),w&&jt(u,h,"src",g.src,g,null);return;case"input":lt("invalid",u);var G=D=N=E=null,Q=null,ne=null;for(w in g)if(g.hasOwnProperty(w)){var he=g[w];if(he!=null)switch(w){case"name":E=he;break;case"type":N=he;break;case"checked":Q=he;break;case"defaultChecked":ne=he;break;case"value":D=he;break;case"defaultValue":G=he;break;case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(r(137,h));break;default:jt(u,h,w,he,g,null)}}eF(u,D,G,Q,ne,N,E,!1);return;case"select":lt("invalid",u),w=N=D=null;for(E in g)if(g.hasOwnProperty(E)&&(G=g[E],G!=null))switch(E){case"value":D=G;break;case"defaultValue":N=G;break;case"multiple":w=G;default:jt(u,h,E,G,g,null)}h=D,g=N,u.multiple=!!w,h!=null?Id(u,!!w,h,!1):g!=null&&Id(u,!!w,g,!0);return;case"textarea":lt("invalid",u),D=E=w=null;for(N in g)if(g.hasOwnProperty(N)&&(G=g[N],G!=null))switch(N){case"value":w=G;break;case"defaultValue":E=G;break;case"children":D=G;break;case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(91));break;default:jt(u,h,N,G,g,null)}nF(u,w,E,D);return;case"option":for(Q in g)if(g.hasOwnProperty(Q)&&(w=g[Q],w!=null))switch(Q){case"selected":u.selected=w&&typeof w!="function"&&typeof w!="symbol";break;default:jt(u,h,Q,w,g,null)}return;case"dialog":lt("beforetoggle",u),lt("toggle",u),lt("cancel",u),lt("close",u);break;case"iframe":case"object":lt("load",u);break;case"video":case"audio":for(w=0;w<jp.length;w++)lt(jp[w],u);break;case"image":lt("error",u),lt("load",u);break;case"details":lt("toggle",u);break;case"embed":case"source":case"link":lt("error",u),lt("load",u);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ne in g)if(g.hasOwnProperty(ne)&&(w=g[ne],w!=null))switch(ne){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,h));default:jt(u,h,ne,w,g,null)}return;default:if(WS(h)){for(he in g)g.hasOwnProperty(he)&&(w=g[he],w!==void 0&&AE(u,h,he,w,g,void 0));return}}for(G in g)g.hasOwnProperty(G)&&(w=g[G],w!=null&&jt(u,h,G,w,g,null))}function kee(u,h,g,w){switch(h){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var E=null,D=null,N=null,G=null,Q=null,ne=null,he=null;for(ae in g){var ye=g[ae];if(g.hasOwnProperty(ae)&&ye!=null)switch(ae){case"checked":break;case"value":break;case"defaultValue":Q=ye;default:w.hasOwnProperty(ae)||jt(u,h,ae,null,w,ye)}}for(var ie in w){var ae=w[ie];if(ye=g[ie],w.hasOwnProperty(ie)&&(ae!=null||ye!=null))switch(ie){case"type":D=ae;break;case"name":E=ae;break;case"checked":ne=ae;break;case"defaultChecked":he=ae;break;case"value":N=ae;break;case"defaultValue":G=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(r(137,h));break;default:ae!==ye&&jt(u,h,ie,ae,w,ye)}}GS(u,N,G,Q,ne,he,D,E);return;case"select":ae=N=G=ie=null;for(D in g)if(Q=g[D],g.hasOwnProperty(D)&&Q!=null)switch(D){case"value":break;case"multiple":ae=Q;default:w.hasOwnProperty(D)||jt(u,h,D,null,w,Q)}for(E in w)if(D=w[E],Q=g[E],w.hasOwnProperty(E)&&(D!=null||Q!=null))switch(E){case"value":ie=D;break;case"defaultValue":G=D;break;case"multiple":N=D;default:D!==Q&&jt(u,h,E,D,w,Q)}h=G,g=N,w=ae,ie!=null?Id(u,!!g,ie,!1):!!w!=!!g&&(h!=null?Id(u,!!g,h,!0):Id(u,!!g,g?[]:"",!1));return;case"textarea":ae=ie=null;for(G in g)if(E=g[G],g.hasOwnProperty(G)&&E!=null&&!w.hasOwnProperty(G))switch(G){case"value":break;case"children":break;default:jt(u,h,G,null,w,E)}for(N in w)if(E=w[N],D=g[N],w.hasOwnProperty(N)&&(E!=null||D!=null))switch(N){case"value":ie=E;break;case"defaultValue":ae=E;break;case"children":break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:E!==D&&jt(u,h,N,E,w,D)}tF(u,ie,ae);return;case"option":for(var Pe in g)if(ie=g[Pe],g.hasOwnProperty(Pe)&&ie!=null&&!w.hasOwnProperty(Pe))switch(Pe){case"selected":u.selected=!1;break;default:jt(u,h,Pe,null,w,ie)}for(Q in w)if(ie=w[Q],ae=g[Q],w.hasOwnProperty(Q)&&ie!==ae&&(ie!=null||ae!=null))switch(Q){case"selected":u.selected=ie&&typeof ie!="function"&&typeof ie!="symbol";break;default:jt(u,h,Q,ie,w,ae)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var We in g)ie=g[We],g.hasOwnProperty(We)&&ie!=null&&!w.hasOwnProperty(We)&&jt(u,h,We,null,w,ie);for(ne in w)if(ie=w[ne],ae=g[ne],w.hasOwnProperty(ne)&&ie!==ae&&(ie!=null||ae!=null))switch(ne){case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(r(137,h));break;default:jt(u,h,ne,ie,w,ae)}return;default:if(WS(h)){for(var Bt in g)ie=g[Bt],g.hasOwnProperty(Bt)&&ie!==void 0&&!w.hasOwnProperty(Bt)&&AE(u,h,Bt,void 0,w,ie);for(he in w)ie=w[he],ae=g[he],!w.hasOwnProperty(he)||ie===ae||ie===void 0&&ae===void 0||AE(u,h,he,ie,w,ae);return}}for(var ee in g)ie=g[ee],g.hasOwnProperty(ee)&&ie!=null&&!w.hasOwnProperty(ee)&&jt(u,h,ee,null,w,ie);for(ye in w)ie=w[ye],ae=g[ye],!w.hasOwnProperty(ye)||ie===ae||ie==null&&ae==null||jt(u,h,ye,ie,w,ae)}function s3(u){switch(u){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Aee(){if(typeof performance.getEntriesByType=="function"){for(var u=0,h=0,g=performance.getEntriesByType("resource"),w=0;w<g.length;w++){var E=g[w],D=E.transferSize,N=E.initiatorType,G=E.duration;if(D&&G&&s3(N)){for(N=0,G=E.responseEnd,w+=1;w<g.length;w++){var Q=g[w],ne=Q.startTime;if(ne>G)break;var he=Q.transferSize,ye=Q.initiatorType;he&&s3(ye)&&(Q=Q.responseEnd,N+=he*(Q<G?1:(G-ne)/(Q-ne)))}if(--w,h+=8*(D+N)/(E.duration/1e3),u++,10<u)break}}if(0<u)return h/u/1e6}return navigator.connection&&(u=navigator.connection.downlink,typeof u=="number")?u:5}var PE=null,NE=null;function Ay(u){return u.nodeType===9?u:u.ownerDocument}function o3(u){switch(u){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function a3(u,h){if(u===0)switch(h){case"svg":return 1;case"math":return 2;default:return 0}return u===1&&h==="foreignObject"?0:u}function OE(u,h){return u==="textarea"||u==="noscript"||typeof h.children=="string"||typeof h.children=="number"||typeof h.children=="bigint"||typeof h.dangerouslySetInnerHTML=="object"&&h.dangerouslySetInnerHTML!==null&&h.dangerouslySetInnerHTML.__html!=null}var FE=null;function Pee(){var u=window.event;return u&&u.type==="popstate"?u===FE?!1:(FE=u,!0):(FE=null,!1)}var l3=typeof setTimeout=="function"?setTimeout:void 0,Nee=typeof clearTimeout=="function"?clearTimeout:void 0,c3=typeof Promise=="function"?Promise:void 0,Oee=typeof queueMicrotask=="function"?queueMicrotask:typeof c3<"u"?function(u){return c3.resolve(null).then(u).catch(Fee)}:l3;function Fee(u){setTimeout(function(){throw u})}function zl(u){return u==="head"}function u3(u,h){var g=h,w=0;do{var E=g.nextSibling;if(u.removeChild(g),E&&E.nodeType===8)if(g=E.data,g==="/$"||g==="/&"){if(w===0){u.removeChild(E),fh(h);return}w--}else if(g==="$"||g==="$?"||g==="$~"||g==="$!"||g==="&")w++;else if(g==="html")Hp(u.ownerDocument.documentElement);else if(g==="head"){g=u.ownerDocument.head,Hp(g);for(var D=g.firstChild;D;){var N=D.nextSibling,G=D.nodeName;D[ip]||G==="SCRIPT"||G==="STYLE"||G==="LINK"&&D.rel.toLowerCase()==="stylesheet"||g.removeChild(D),D=N}}else g==="body"&&Hp(u.ownerDocument.body);g=E}while(g);fh(h)}function d3(u,h){var g=u;u=0;do{var w=g.nextSibling;if(g.nodeType===1?h?(g._stashedDisplay=g.style.display,g.style.display="none"):(g.style.display=g._stashedDisplay||"",g.getAttribute("style")===""&&g.removeAttribute("style")):g.nodeType===3&&(h?(g._stashedText=g.nodeValue,g.nodeValue=""):g.nodeValue=g._stashedText||""),w&&w.nodeType===8)if(g=w.data,g==="/$"){if(u===0)break;u--}else g!=="$"&&g!=="$?"&&g!=="$~"&&g!=="$!"||u++;g=w}while(g)}function IE(u){var h=u.firstChild;for(h&&h.nodeType===10&&(h=h.nextSibling);h;){var g=h;switch(h=h.nextSibling,g.nodeName){case"HTML":case"HEAD":case"BODY":IE(g),HS(g);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(g.rel.toLowerCase()==="stylesheet")continue}u.removeChild(g)}}function Iee(u,h,g,w){for(;u.nodeType===1;){var E=g;if(u.nodeName.toLowerCase()!==h.toLowerCase()){if(!w&&(u.nodeName!=="INPUT"||u.type!=="hidden"))break}else if(w){if(!u[ip])switch(h){case"meta":if(!u.hasAttribute("itemprop"))break;return u;case"link":if(D=u.getAttribute("rel"),D==="stylesheet"&&u.hasAttribute("data-precedence"))break;if(D!==E.rel||u.getAttribute("href")!==(E.href==null||E.href===""?null:E.href)||u.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin)||u.getAttribute("title")!==(E.title==null?null:E.title))break;return u;case"style":if(u.hasAttribute("data-precedence"))break;return u;case"script":if(D=u.getAttribute("src"),(D!==(E.src==null?null:E.src)||u.getAttribute("type")!==(E.type==null?null:E.type)||u.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin))&&D&&u.hasAttribute("async")&&!u.hasAttribute("itemprop"))break;return u;default:return u}}else if(h==="input"&&u.type==="hidden"){var D=E.name==null?null:""+E.name;if(E.type==="hidden"&&u.getAttribute("name")===D)return u}else return u;if(u=cs(u.nextSibling),u===null)break}return null}function Lee(u,h,g){if(h==="")return null;for(;u.nodeType!==3;)if((u.nodeType!==1||u.nodeName!=="INPUT"||u.type!=="hidden")&&!g||(u=cs(u.nextSibling),u===null))return null;return u}function h3(u,h){for(;u.nodeType!==8;)if((u.nodeType!==1||u.nodeName!=="INPUT"||u.type!=="hidden")&&!h||(u=cs(u.nextSibling),u===null))return null;return u}function LE(u){return u.data==="$?"||u.data==="$~"}function _E(u){return u.data==="$!"||u.data==="$?"&&u.ownerDocument.readyState!=="loading"}function _ee(u,h){var g=u.ownerDocument;if(u.data==="$~")u._reactRetry=h;else if(u.data!=="$?"||g.readyState!=="loading")h();else{var w=function(){h(),g.removeEventListener("DOMContentLoaded",w)};g.addEventListener("DOMContentLoaded",w),u._reactRetry=w}}function cs(u){for(;u!=null;u=u.nextSibling){var h=u.nodeType;if(h===1||h===3)break;if(h===8){if(h=u.data,h==="$"||h==="$!"||h==="$?"||h==="$~"||h==="&"||h==="F!"||h==="F")break;if(h==="/$"||h==="/&")return null}}return u}var jE=null;function f3(u){u=u.nextSibling;for(var h=0;u;){if(u.nodeType===8){var g=u.data;if(g==="/$"||g==="/&"){if(h===0)return cs(u.nextSibling);h--}else g!=="$"&&g!=="$!"&&g!=="$?"&&g!=="$~"&&g!=="&"||h++}u=u.nextSibling}return null}function p3(u){u=u.previousSibling;for(var h=0;u;){if(u.nodeType===8){var g=u.data;if(g==="$"||g==="$!"||g==="$?"||g==="$~"||g==="&"){if(h===0)return u;h--}else g!=="/$"&&g!=="/&"||h++}u=u.previousSibling}return null}function g3(u,h,g){switch(h=Ay(g),u){case"html":if(u=h.documentElement,!u)throw Error(r(452));return u;case"head":if(u=h.head,!u)throw Error(r(453));return u;case"body":if(u=h.body,!u)throw Error(r(454));return u;default:throw Error(r(451))}}function Hp(u){for(var h=u.attributes;h.length;)u.removeAttributeNode(h[0]);HS(u)}var us=new Map,m3=new Set;function Py(u){return typeof u.getRootNode=="function"?u.getRootNode():u.nodeType===9?u:u.ownerDocument}var ga=j.d;j.d={f:jee,r:Bee,D:Hee,C:zee,L:Gee,m:Vee,X:Uee,S:Wee,M:$ee};function jee(){var u=ga.f(),h=xy();return u||h}function Bee(u){var h=Nd(u);h!==null&&h.tag===5&&h.type==="form"?OI(h):ga.r(u)}var uh=typeof document>"u"?null:document;function v3(u,h,g){var w=uh;if(w&&typeof h=="string"&&h){var E=ts(h);E='link[rel="'+u+'"][href="'+E+'"]',typeof g=="string"&&(E+='[crossorigin="'+g+'"]'),m3.has(E)||(m3.add(E),u={rel:u,crossOrigin:g,href:h},w.querySelector(E)===null&&(h=w.createElement("link"),fr(h,"link",u),Qn(h),w.head.appendChild(h)))}}function Hee(u){ga.D(u),v3("dns-prefetch",u,null)}function zee(u,h){ga.C(u,h),v3("preconnect",u,h)}function Gee(u,h,g){ga.L(u,h,g);var w=uh;if(w&&u&&h){var E='link[rel="preload"][as="'+ts(h)+'"]';h==="image"&&g&&g.imageSrcSet?(E+='[imagesrcset="'+ts(g.imageSrcSet)+'"]',typeof g.imageSizes=="string"&&(E+='[imagesizes="'+ts(g.imageSizes)+'"]')):E+='[href="'+ts(u)+'"]';var D=E;switch(h){case"style":D=dh(u);break;case"script":D=hh(u)}us.has(D)||(u=f({rel:"preload",href:h==="image"&&g&&g.imageSrcSet?void 0:u,as:h},g),us.set(D,u),w.querySelector(E)!==null||h==="style"&&w.querySelector(zp(D))||h==="script"&&w.querySelector(Gp(D))||(h=w.createElement("link"),fr(h,"link",u),Qn(h),w.head.appendChild(h)))}}function Vee(u,h){ga.m(u,h);var g=uh;if(g&&u){var w=h&&typeof h.as=="string"?h.as:"script",E='link[rel="modulepreload"][as="'+ts(w)+'"][href="'+ts(u)+'"]',D=E;switch(w){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":D=hh(u)}if(!us.has(D)&&(u=f({rel:"modulepreload",href:u},h),us.set(D,u),g.querySelector(E)===null)){switch(w){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(g.querySelector(Gp(D)))return}w=g.createElement("link"),fr(w,"link",u),Qn(w),g.head.appendChild(w)}}}function Wee(u,h,g){ga.S(u,h,g);var w=uh;if(w&&u){var E=Od(w).hoistableStyles,D=dh(u);h=h||"default";var N=E.get(D);if(!N){var G={loading:0,preload:null};if(N=w.querySelector(zp(D)))G.loading=5;else{u=f({rel:"stylesheet",href:u,"data-precedence":h},g),(g=us.get(D))&&BE(u,g);var Q=N=w.createElement("link");Qn(Q),fr(Q,"link",u),Q._p=new Promise(function(ne,he){Q.onload=ne,Q.onerror=he}),Q.addEventListener("load",function(){G.loading|=1}),Q.addEventListener("error",function(){G.loading|=2}),G.loading|=4,Ny(N,h,w)}N={type:"stylesheet",instance:N,count:1,state:G},E.set(D,N)}}}function Uee(u,h){ga.X(u,h);var g=uh;if(g&&u){var w=Od(g).hoistableScripts,E=hh(u),D=w.get(E);D||(D=g.querySelector(Gp(E)),D||(u=f({src:u,async:!0},h),(h=us.get(E))&&HE(u,h),D=g.createElement("script"),Qn(D),fr(D,"link",u),g.head.appendChild(D)),D={type:"script",instance:D,count:1,state:null},w.set(E,D))}}function $ee(u,h){ga.M(u,h);var g=uh;if(g&&u){var w=Od(g).hoistableScripts,E=hh(u),D=w.get(E);D||(D=g.querySelector(Gp(E)),D||(u=f({src:u,async:!0,type:"module"},h),(h=us.get(E))&&HE(u,h),D=g.createElement("script"),Qn(D),fr(D,"link",u),g.head.appendChild(D)),D={type:"script",instance:D,count:1,state:null},w.set(E,D))}}function y3(u,h,g,w){var E=(E=pe.current)?Py(E):null;if(!E)throw Error(r(446));switch(u){case"meta":case"title":return null;case"style":return typeof g.precedence=="string"&&typeof g.href=="string"?(h=dh(g.href),g=Od(E).hoistableStyles,w=g.get(h),w||(w={type:"style",instance:null,count:0,state:null},g.set(h,w)),w):{type:"void",instance:null,count:0,state:null};case"link":if(g.rel==="stylesheet"&&typeof g.href=="string"&&typeof g.precedence=="string"){u=dh(g.href);var D=Od(E).hoistableStyles,N=D.get(u);if(N||(E=E.ownerDocument||E,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},D.set(u,N),(D=E.querySelector(zp(u)))&&!D._p&&(N.instance=D,N.state.loading=5),us.has(u)||(g={rel:"preload",as:"style",href:g.href,crossOrigin:g.crossOrigin,integrity:g.integrity,media:g.media,hrefLang:g.hrefLang,referrerPolicy:g.referrerPolicy},us.set(u,g),D||qee(E,u,g,N.state))),h&&w===null)throw Error(r(528,""));return N}if(h&&w!==null)throw Error(r(529,""));return null;case"script":return h=g.async,g=g.src,typeof g=="string"&&h&&typeof h!="function"&&typeof h!="symbol"?(h=hh(g),g=Od(E).hoistableScripts,w=g.get(h),w||(w={type:"script",instance:null,count:0,state:null},g.set(h,w)),w):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,u))}}function dh(u){return'href="'+ts(u)+'"'}function zp(u){return'link[rel="stylesheet"]['+u+"]"}function w3(u){return f({},u,{"data-precedence":u.precedence,precedence:null})}function qee(u,h,g,w){u.querySelector('link[rel="preload"][as="style"]['+h+"]")?w.loading=1:(h=u.createElement("link"),w.preload=h,h.addEventListener("load",function(){return w.loading|=1}),h.addEventListener("error",function(){return w.loading|=2}),fr(h,"link",g),Qn(h),u.head.appendChild(h))}function hh(u){return'[src="'+ts(u)+'"]'}function Gp(u){return"script[async]"+u}function b3(u,h,g){if(h.count++,h.instance===null)switch(h.type){case"style":var w=u.querySelector('style[data-href~="'+ts(g.href)+'"]');if(w)return h.instance=w,Qn(w),w;var E=f({},g,{"data-href":g.href,"data-precedence":g.precedence,href:null,precedence:null});return w=(u.ownerDocument||u).createElement("style"),Qn(w),fr(w,"style",E),Ny(w,g.precedence,u),h.instance=w;case"stylesheet":E=dh(g.href);var D=u.querySelector(zp(E));if(D)return h.state.loading|=4,h.instance=D,Qn(D),D;w=w3(g),(E=us.get(E))&&BE(w,E),D=(u.ownerDocument||u).createElement("link"),Qn(D);var N=D;return N._p=new Promise(function(G,Q){N.onload=G,N.onerror=Q}),fr(D,"link",w),h.state.loading|=4,Ny(D,g.precedence,u),h.instance=D;case"script":return D=hh(g.src),(E=u.querySelector(Gp(D)))?(h.instance=E,Qn(E),E):(w=g,(E=us.get(D))&&(w=f({},g),HE(w,E)),u=u.ownerDocument||u,E=u.createElement("script"),Qn(E),fr(E,"link",w),u.head.appendChild(E),h.instance=E);case"void":return null;default:throw Error(r(443,h.type))}else h.type==="stylesheet"&&(h.state.loading&4)===0&&(w=h.instance,h.state.loading|=4,Ny(w,g.precedence,u));return h.instance}function Ny(u,h,g){for(var w=g.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),E=w.length?w[w.length-1]:null,D=E,N=0;N<w.length;N++){var G=w[N];if(G.dataset.precedence===h)D=G;else if(D!==E)break}D?D.parentNode.insertBefore(u,D.nextSibling):(h=g.nodeType===9?g.head:g,h.insertBefore(u,h.firstChild))}function BE(u,h){u.crossOrigin==null&&(u.crossOrigin=h.crossOrigin),u.referrerPolicy==null&&(u.referrerPolicy=h.referrerPolicy),u.title==null&&(u.title=h.title)}function HE(u,h){u.crossOrigin==null&&(u.crossOrigin=h.crossOrigin),u.referrerPolicy==null&&(u.referrerPolicy=h.referrerPolicy),u.integrity==null&&(u.integrity=h.integrity)}var Oy=null;function C3(u,h,g){if(Oy===null){var w=new Map,E=Oy=new Map;E.set(g,w)}else E=Oy,w=E.get(g),w||(w=new Map,E.set(g,w));if(w.has(u))return w;for(w.set(u,null),g=g.getElementsByTagName(u),E=0;E<g.length;E++){var D=g[E];if(!(D[ip]||D[cr]||u==="link"&&D.getAttribute("rel")==="stylesheet")&&D.namespaceURI!=="http://www.w3.org/2000/svg"){var N=D.getAttribute(h)||"";N=u+N;var G=w.get(N);G?G.push(D):w.set(N,[D])}}return w}function x3(u,h,g){u=u.ownerDocument||u,u.head.insertBefore(g,h==="title"?u.querySelector("head > title"):null)}function Kee(u,h,g){if(g===1||h.itemProp!=null)return!1;switch(u){case"meta":case"title":return!0;case"style":if(typeof h.precedence!="string"||typeof h.href!="string"||h.href==="")break;return!0;case"link":if(typeof h.rel!="string"||typeof h.href!="string"||h.href===""||h.onLoad||h.onError)break;switch(h.rel){case"stylesheet":return u=h.disabled,typeof h.precedence=="string"&&u==null;default:return!0}case"script":if(h.async&&typeof h.async!="function"&&typeof h.async!="symbol"&&!h.onLoad&&!h.onError&&h.src&&typeof h.src=="string")return!0}return!1}function S3(u){return!(u.type==="stylesheet"&&(u.state.loading&3)===0)}function Yee(u,h,g,w){if(g.type==="stylesheet"&&(typeof w.media!="string"||matchMedia(w.media).matches!==!1)&&(g.state.loading&4)===0){if(g.instance===null){var E=dh(w.href),D=h.querySelector(zp(E));if(D){h=D._p,h!==null&&typeof h=="object"&&typeof h.then=="function"&&(u.count++,u=Fy.bind(u),h.then(u,u)),g.state.loading|=4,g.instance=D,Qn(D);return}D=h.ownerDocument||h,w=w3(w),(E=us.get(E))&&BE(w,E),D=D.createElement("link"),Qn(D);var N=D;N._p=new Promise(function(G,Q){N.onload=G,N.onerror=Q}),fr(D,"link",w),g.instance=D}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(g,h),(h=g.state.preload)&&(g.state.loading&3)===0&&(u.count++,g=Fy.bind(u),h.addEventListener("load",g),h.addEventListener("error",g))}}var zE=0;function Qee(u,h){return u.stylesheets&&u.count===0&&Ly(u,u.stylesheets),0<u.count||0<u.imgCount?function(g){var w=setTimeout(function(){if(u.stylesheets&&Ly(u,u.stylesheets),u.unsuspend){var D=u.unsuspend;u.unsuspend=null,D()}},6e4+h);0<u.imgBytes&&zE===0&&(zE=62500*Aee());var E=setTimeout(function(){if(u.waitingForImages=!1,u.count===0&&(u.stylesheets&&Ly(u,u.stylesheets),u.unsuspend)){var D=u.unsuspend;u.unsuspend=null,D()}},(u.imgBytes>zE?50:800)+h);return u.unsuspend=g,function(){u.unsuspend=null,clearTimeout(w),clearTimeout(E)}}:null}function Fy(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ly(this,this.stylesheets);else if(this.unsuspend){var u=this.unsuspend;this.unsuspend=null,u()}}}var Iy=null;function Ly(u,h){u.stylesheets=null,u.unsuspend!==null&&(u.count++,Iy=new Map,h.forEach(Xee,u),Iy=null,Fy.call(u))}function Xee(u,h){if(!(h.state.loading&4)){var g=Iy.get(u);if(g)var w=g.get(null);else{g=new Map,Iy.set(u,g);for(var E=u.querySelectorAll("link[data-precedence],style[data-precedence]"),D=0;D<E.length;D++){var N=E[D];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(g.set(N.dataset.precedence,N),w=N)}w&&g.set(null,w)}E=h.instance,N=E.getAttribute("data-precedence"),D=g.get(N)||w,D===w&&g.set(null,E),g.set(N,E),this.count++,w=Fy.bind(this),E.addEventListener("load",w),E.addEventListener("error",w),D?D.parentNode.insertBefore(E,D.nextSibling):(u=u.nodeType===9?u.head:u,u.insertBefore(E,u.firstChild)),h.state.loading|=4}}var Vp={$$typeof:R,Provider:null,Consumer:null,_currentValue:$,_currentValue2:$,_threadCount:0};function Jee(u,h,g,w,E,D,N,G,Q){this.tag=1,this.containerInfo=u,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=LS(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=LS(0),this.hiddenUpdates=LS(null),this.identifierPrefix=w,this.onUncaughtError=E,this.onCaughtError=D,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Q,this.incompleteTransitions=new Map}function E3(u,h,g,w,E,D,N,G,Q,ne,he,ye){return u=new Jee(u,h,g,N,Q,ne,he,ye,G),h=1,D===!0&&(h|=24),D=Oi(3,null,null,h),u.current=D,D.stateNode=u,h=b1(),h.refCount++,u.pooledCache=h,h.refCount++,D.memoizedState={element:w,isDehydrated:g,cache:h},E1(D),u}function D3(u){return u?(u=Vd,u):Vd}function R3(u,h,g,w,E,D){E=D3(E),w.context===null?w.context=E:w.pendingContext=E,w=Al(h),w.payload={element:g},D=D===void 0?null:D,D!==null&&(w.callback=D),g=Pl(u,w,h),g!==null&&(di(g,u,h),Cp(g,u,h))}function M3(u,h){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var g=u.retryLane;u.retryLane=g!==0&&g<h?g:h}}function GE(u,h){M3(u,h),(u=u.alternate)&&M3(u,h)}function T3(u){if(u.tag===13||u.tag===31){var h=Jc(u,67108864);h!==null&&di(h,u,67108864),GE(u,67108864)}}function k3(u){if(u.tag===13||u.tag===31){var h=ji();h=_S(h);var g=Jc(u,h);g!==null&&di(g,u,h),GE(u,h)}}var _y=!0;function Zee(u,h,g,w){var E=z.T;z.T=null;var D=j.p;try{j.p=2,VE(u,h,g,w)}finally{j.p=D,z.T=E}}function ete(u,h,g,w){var E=z.T;z.T=null;var D=j.p;try{j.p=8,VE(u,h,g,w)}finally{j.p=D,z.T=E}}function VE(u,h,g,w){if(_y){var E=WE(w);if(E===null)kE(u,h,w,jy,g),P3(u,w);else if(nte(E,u,h,g,w))w.stopPropagation();else if(P3(u,w),h&4&&-1<tte.indexOf(u)){for(;E!==null;){var D=Nd(E);if(D!==null)switch(D.tag){case 3:if(D=D.stateNode,D.current.memoizedState.isDehydrated){var N=qc(D.pendingLanes);if(N!==0){var G=D;for(G.pendingLanes|=2,G.entangledLanes|=2;N;){var Q=1<<31-we(N);G.entanglements[1]|=Q,N&=~Q}ho(D),(xt&6)===0&&(by=gt()+500,_p(0))}}break;case 31:case 13:G=Jc(D,2),G!==null&&di(G,D,2),xy(),GE(D,2)}if(D=WE(w),D===null&&kE(u,h,w,jy,g),D===E)break;E=D}E!==null&&w.stopPropagation()}else kE(u,h,w,null,g)}}function WE(u){return u=$S(u),UE(u)}var jy=null;function UE(u){if(jy=null,u=Pd(u),u!==null){var h=s(u);if(h===null)u=null;else{var g=h.tag;if(g===13){if(u=o(h),u!==null)return u;u=null}else if(g===31){if(u=a(h),u!==null)return u;u=null}else if(g===3){if(h.stateNode.current.memoizedState.isDehydrated)return h.tag===3?h.stateNode.containerInfo:null;u=null}else h!==u&&(u=null)}}return jy=u,null}function A3(u){switch(u){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ii()){case Md:return 2;case xl:return 8;case Tt:case lr:return 32;case Uc:return 268435456;default:return 32}default:return 32}}var $E=!1,Gl=null,Vl=null,Wl=null,Wp=new Map,Up=new Map,Ul=[],tte="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function P3(u,h){switch(u){case"focusin":case"focusout":Gl=null;break;case"dragenter":case"dragleave":Vl=null;break;case"mouseover":case"mouseout":Wl=null;break;case"pointerover":case"pointerout":Wp.delete(h.pointerId);break;case"gotpointercapture":case"lostpointercapture":Up.delete(h.pointerId)}}function $p(u,h,g,w,E,D){return u===null||u.nativeEvent!==D?(u={blockedOn:h,domEventName:g,eventSystemFlags:w,nativeEvent:D,targetContainers:[E]},h!==null&&(h=Nd(h),h!==null&&T3(h)),u):(u.eventSystemFlags|=w,h=u.targetContainers,E!==null&&h.indexOf(E)===-1&&h.push(E),u)}function nte(u,h,g,w,E){switch(h){case"focusin":return Gl=$p(Gl,u,h,g,w,E),!0;case"dragenter":return Vl=$p(Vl,u,h,g,w,E),!0;case"mouseover":return Wl=$p(Wl,u,h,g,w,E),!0;case"pointerover":var D=E.pointerId;return Wp.set(D,$p(Wp.get(D)||null,u,h,g,w,E)),!0;case"gotpointercapture":return D=E.pointerId,Up.set(D,$p(Up.get(D)||null,u,h,g,w,E)),!0}return!1}function N3(u){var h=Pd(u.target);if(h!==null){var g=s(h);if(g!==null){if(h=g.tag,h===13){if(h=o(g),h!==null){u.blockedOn=h,$O(u.priority,function(){k3(g)});return}}else if(h===31){if(h=a(g),h!==null){u.blockedOn=h,$O(u.priority,function(){k3(g)});return}}else if(h===3&&g.stateNode.current.memoizedState.isDehydrated){u.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}u.blockedOn=null}function By(u){if(u.blockedOn!==null)return!1;for(var h=u.targetContainers;0<h.length;){var g=WE(u.nativeEvent);if(g===null){g=u.nativeEvent;var w=new g.constructor(g.type,g);US=w,g.target.dispatchEvent(w),US=null}else return h=Nd(g),h!==null&&T3(h),u.blockedOn=g,!1;h.shift()}return!0}function O3(u,h,g){By(u)&&g.delete(h)}function rte(){$E=!1,Gl!==null&&By(Gl)&&(Gl=null),Vl!==null&&By(Vl)&&(Vl=null),Wl!==null&&By(Wl)&&(Wl=null),Wp.forEach(O3),Up.forEach(O3)}function Hy(u,h){u.blockedOn===h&&(u.blockedOn=null,$E||($E=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,rte)))}var zy=null;function F3(u){zy!==u&&(zy=u,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){zy===u&&(zy=null);for(var h=0;h<u.length;h+=3){var g=u[h],w=u[h+1],E=u[h+2];if(typeof w!="function"){if(UE(w||g)===null)continue;break}var D=Nd(g);D!==null&&(u.splice(h,3),h-=3,W1(D,{pending:!0,data:E,method:g.method,action:w},w,E))}}))}function fh(u){function h(Q){return Hy(Q,u)}Gl!==null&&Hy(Gl,u),Vl!==null&&Hy(Vl,u),Wl!==null&&Hy(Wl,u),Wp.forEach(h),Up.forEach(h);for(var g=0;g<Ul.length;g++){var w=Ul[g];w.blockedOn===u&&(w.blockedOn=null)}for(;0<Ul.length&&(g=Ul[0],g.blockedOn===null);)N3(g),g.blockedOn===null&&Ul.shift();if(g=(u.ownerDocument||u).$$reactFormReplay,g!=null)for(w=0;w<g.length;w+=3){var E=g[w],D=g[w+1],N=E[si]||null;if(typeof D=="function")N||F3(g);else if(N){var G=null;if(D&&D.hasAttribute("formAction")){if(E=D,N=D[si]||null)G=N.formAction;else if(UE(E)!==null)continue}else G=N.action;typeof G=="function"?g[w+1]=G:(g.splice(w,3),w-=3),F3(g)}}}function I3(){function u(D){D.canIntercept&&D.info==="react-transition"&&D.intercept({handler:function(){return new Promise(function(N){return E=N})},focusReset:"manual",scroll:"manual"})}function h(){E!==null&&(E(),E=null),w||setTimeout(g,20)}function g(){if(!w&&!navigation.transition){var D=navigation.currentEntry;D&&D.url!=null&&navigation.navigate(D.url,{state:D.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var w=!1,E=null;return navigation.addEventListener("navigate",u),navigation.addEventListener("navigatesuccess",h),navigation.addEventListener("navigateerror",h),setTimeout(g,100),function(){w=!0,navigation.removeEventListener("navigate",u),navigation.removeEventListener("navigatesuccess",h),navigation.removeEventListener("navigateerror",h),E!==null&&(E(),E=null)}}}function qE(u){this._internalRoot=u}Gy.prototype.render=qE.prototype.render=function(u){var h=this._internalRoot;if(h===null)throw Error(r(409));var g=h.current,w=ji();R3(g,w,u,h,null,null)},Gy.prototype.unmount=qE.prototype.unmount=function(){var u=this._internalRoot;if(u!==null){this._internalRoot=null;var h=u.containerInfo;R3(u.current,2,null,u,null,null),xy(),h[Ad]=null}};function Gy(u){this._internalRoot=u}Gy.prototype.unstable_scheduleHydration=function(u){if(u){var h=UO();u={blockedOn:null,target:u,priority:h};for(var g=0;g<Ul.length&&h!==0&&h<Ul[g].priority;g++);Ul.splice(g,0,u),g===0&&N3(u)}};var L3=t.version;if(L3!=="19.2.0")throw Error(r(527,L3,"19.2.0"));j.findDOMNode=function(u){var h=u._reactInternals;if(h===void 0)throw typeof u.render=="function"?Error(r(188)):(u=Object.keys(u).join(","),Error(r(268,u)));return u=c(h),u=u!==null?d(u):null,u=u===null?null:u.stateNode,u};var ite={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vy.isDisabled&&Vy.supportsFiber)try{$c=Vy.inject(ite),Br=Vy}catch{}}return Kp.createRoot=function(u,h){if(!i(u))throw Error(r(299));var g=!1,w="",E=VI,D=WI,N=UI;return h!=null&&(h.unstable_strictMode===!0&&(g=!0),h.identifierPrefix!==void 0&&(w=h.identifierPrefix),h.onUncaughtError!==void 0&&(E=h.onUncaughtError),h.onCaughtError!==void 0&&(D=h.onCaughtError),h.onRecoverableError!==void 0&&(N=h.onRecoverableError)),h=E3(u,1,!1,null,null,g,w,null,E,D,N,I3),u[Ad]=h.current,TE(u),new qE(h)},Kp.hydrateRoot=function(u,h,g){if(!i(u))throw Error(r(299));var w=!1,E="",D=VI,N=WI,G=UI,Q=null;return g!=null&&(g.unstable_strictMode===!0&&(w=!0),g.identifierPrefix!==void 0&&(E=g.identifierPrefix),g.onUncaughtError!==void 0&&(D=g.onUncaughtError),g.onCaughtError!==void 0&&(N=g.onCaughtError),g.onRecoverableError!==void 0&&(G=g.onRecoverableError),g.formState!==void 0&&(Q=g.formState)),h=E3(u,1,!0,h,g??null,w,E,Q,D,N,G,I3),h.context=D3(null),g=h.current,w=ji(),w=_S(w),E=Al(w),E.callback=null,Pl(g,E,w),g=w,h.current.lanes=g,rp(h,g),ho(h),u[Ad]=h.current,TE(u),new Gy(h)},Kp.version="19.2.0",Kp}var $3;function gte(){if($3)return QE.exports;$3=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),QE.exports=pte(),QE.exports}var mte=gte();var q3="popstate";function vte(e={}){function t(r,i){let{pathname:s,search:o,hash:a}=r.location;return f2("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Kg(i)}return wte(t,n,null,e)}function pn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Xs(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function yte(){return Math.random().toString(36).substring(2,10)}function K3(e,t){return{usr:e.state,key:e.key,idx:t}}function f2(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?If(t):t,state:n,key:t&&t.key||r||yte()}}function Kg({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function If(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function wte(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a="POP",l=null,c=d();c==null&&(c=0,o.replaceState({...o.state,idx:c},""));function d(){return(o.state||{idx:null}).idx}function f(){a="POP";let x=d(),S=x==null?null:x-c;c=x,l&&l({action:a,location:b.location,delta:S})}function p(x,S){a="PUSH";let M=f2(b.location,x,S);c=d()+1;let R=K3(M,c),T=b.createHref(M);try{o.pushState(R,"",T)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;i.location.assign(T)}s&&l&&l({action:a,location:b.location,delta:1})}function v(x,S){a="REPLACE";let M=f2(b.location,x,S);c=d();let R=K3(M,c),T=b.createHref(M);o.replaceState(R,"",T),s&&l&&l({action:a,location:b.location,delta:0})}function y(x){return bte(x)}let b={get action(){return a},get location(){return e(i,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(q3,f),l=x,()=>{i.removeEventListener(q3,f),l=null}},createHref(x){return t(i,x)},createURL:y,encodeLocation(x){let S=y(x);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:p,replace:v,go(x){return o.go(x)}};return b}function bte(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),pn(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:Kg(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function L8(e,t,n="/"){return Cte(e,t,n,!1)}function Cte(e,t,n,r){let i=typeof t=="string"?If(t):t,s=$a(i.pathname||"/",n);if(s==null)return null;let o=_8(e);xte(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=Ote(s);a=Pte(o[l],c,r)}return a}function _8(e,t=[],n=[],r="",i=!1){let s=(o,a,l=i,c)=>{let d={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(r)&&l)return;pn(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length)}let f=Oa([r,d.relativePath]),p=n.concat(d);o.children&&o.children.length>0&&(pn(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),_8(o.children,t,p,f,l)),!(o.path==null&&!o.index)&&t.push({path:f,score:kte(f,o.index),routesMeta:p})};return e.forEach((o,a)=>{if(o.path===""||!o.path?.includes("?"))s(o,a);else for(let l of j8(o.path))s(o,a,!0,l)}),t}function j8(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=j8(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function xte(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Ate(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var Ste=/^:[\w-]+$/,Ete=3,Dte=2,Rte=1,Mte=10,Tte=-2,Y3=e=>e==="*";function kte(e,t){let n=e.split("/"),r=n.length;return n.some(Y3)&&(r+=Tte),t&&(r+=Dte),n.filter(i=>!Y3(i)).reduce((i,s)=>i+(Ste.test(s)?Ete:s===""?Rte:Mte),r)}function Ate(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function Pte(e,t,n=!1){let{routesMeta:r}=e,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,d=s==="/"?t:t.slice(s.length)||"/",f=Dw({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),p=l.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=Dw({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:Oa([s,f.pathname]),pathnameBase:jte(Oa([s,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(s=Oa([s,f.pathnameBase]))}return o}function Dw(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Nte(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,{paramName:d,isOptional:f},p)=>{if(d==="*"){let y=a[p]||"";o=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const v=a[p];return f&&!v?c[d]=void 0:c[d]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:e}}function Nte(e,t=!1,n=!0){Xs(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function Ote(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Xs(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function $a(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}var Fte=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ite=e=>Fte.test(e);function Lte(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?If(e):e,s;if(n)if(Ite(n))s=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),Xs(!1,`Pathnames cannot have embedded double slashes - normalizing ${o} -> ${n}`)}n.startsWith("/")?s=Q3(n.substring(1),"/"):s=Q3(n,t)}else s=t;return{pathname:s,search:Bte(r),hash:Hte(i)}}function Q3(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function eD(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function _te(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function B8(e){let t=_te(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function H8(e,t,n,r=!1){let i;typeof e=="string"?i=If(e):(i={...e},pn(!i.pathname||!i.pathname.includes("?"),eD("?","pathname","search",i)),pn(!i.pathname||!i.pathname.includes("#"),eD("#","pathname","hash",i)),pn(!i.search||!i.search.includes("#"),eD("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let f=t.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;i.pathname=p.join("/")}a=f>=0?t[f]:"/"}let l=Lte(i,a),c=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}var Oa=e=>e.join("/").replace(/\/\/+/g,"/"),jte=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Bte=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Hte=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function zte(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var z8=["POST","PUT","PATCH","DELETE"];new Set(z8);var Gte=["GET",...z8];new Set(Gte);var Lf=C.createContext(null);Lf.displayName="DataRouter";var YC=C.createContext(null);YC.displayName="DataRouterState";C.createContext(!1);var G8=C.createContext({isTransitioning:!1});G8.displayName="ViewTransition";var Vte=C.createContext(new Map);Vte.displayName="Fetchers";var Wte=C.createContext(null);Wte.displayName="Await";var Uo=C.createContext(null);Uo.displayName="Navigation";var Bm=C.createContext(null);Bm.displayName="Location";var $o=C.createContext({outlet:null,matches:[],isDataRoute:!1});$o.displayName="Route";var Uk=C.createContext(null);Uk.displayName="RouteError";function Ute(e,{relative:t}={}){pn(Hm(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=C.useContext(Uo),{hash:i,pathname:s,search:o}=zm(e,{relative:t}),a=s;return n!=="/"&&(a=s==="/"?n:Oa([n,s])),r.createHref({pathname:a,search:o,hash:i})}function Hm(){return C.useContext(Bm)!=null}function gd(){return pn(Hm(),"useLocation() may be used only in the context of a <Router> component."),C.useContext(Bm).location}var V8="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function W8(e){C.useContext(Uo).static||C.useLayoutEffect(e)}function Rt(){let{isDataRoute:e}=C.useContext($o);return e?ine():$te()}function $te(){pn(Hm(),"useNavigate() may be used only in the context of a <Router> component.");let e=C.useContext(Lf),{basename:t,navigator:n}=C.useContext(Uo),{matches:r}=C.useContext($o),{pathname:i}=gd(),s=JSON.stringify(B8(r)),o=C.useRef(!1);return W8(()=>{o.current=!0}),C.useCallback((l,c={})=>{if(Xs(o.current,V8),!o.current)return;if(typeof l=="number"){n.go(l);return}let d=H8(l,JSON.parse(s),i,c.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Oa([t,d.pathname])),(c.replace?n.replace:n.push)(d,c.state,c)},[t,n,s,i,e])}C.createContext(null);function QC(){let{matches:e}=C.useContext($o),t=e[e.length-1];return t?t.params:{}}function zm(e,{relative:t}={}){let{matches:n}=C.useContext($o),{pathname:r}=gd(),i=JSON.stringify(B8(n));return C.useMemo(()=>H8(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function qte(e,t){return U8(e,t)}function U8(e,t,n,r,i){pn(Hm(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=C.useContext(Uo),{matches:o}=C.useContext($o),a=o[o.length-1],l=a?a.params:{},c=a?a.pathname:"/",d=a?a.pathnameBase:"/",f=a&&a.route;{let M=f&&f.path||"";$8(c,!f||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let p=gd(),v;if(t){let M=typeof t=="string"?If(t):t;pn(d==="/"||M.pathname?.startsWith(d),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${M.pathname}" was given in the \`location\` prop.`),v=M}else v=p;let y=v.pathname||"/",b=y;if(d!=="/"){let M=d.replace(/^\//,"").split("/");b="/"+y.replace(/^\//,"").split("/").slice(M.length).join("/")}let x=L8(e,{pathname:b});Xs(f||x!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Xs(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=Jte(x&&x.map(M=>Object.assign({},M,{params:Object.assign({},l,M.params),pathname:Oa([d,s.encodeLocation?s.encodeLocation(M.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?d:Oa([d,s.encodeLocation?s.encodeLocation(M.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:M.pathnameBase])})),o,n,r,i);return t&&S?C.createElement(Bm.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},S):S}function Kte(){let e=rne(),t=zte(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=C.createElement(C.Fragment,null,C.createElement("p",null," Hey developer "),C.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",C.createElement("code",{style:s},"ErrorBoundary")," or"," ",C.createElement("code",{style:s},"errorElement")," prop on your route.")),C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},t),n?C.createElement("pre",{style:i},n):null,o)}var Yte=C.createElement(Kte,null),Qte=class extends C.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?C.createElement($o.Provider,{value:this.props.routeContext},C.createElement(Uk.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Xte({routeContext:e,match:t,children:n}){let r=C.useContext(Lf);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),C.createElement($o.Provider,{value:e},n)}function Jte(e,t=[],n=null,r=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,o=n?.errors;if(o!=null){let d=s.findIndex(f=>f.route.id&&o?.[f.route.id]!==void 0);pn(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,d+1))}let a=!1,l=-1;if(n)for(let d=0;d<s.length;d++){let f=s[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(l=d),f.route.id){let{loaderData:p,errors:v}=n,y=f.route.loader&&!p.hasOwnProperty(f.route.id)&&(!v||v[f.route.id]===void 0);if(f.route.lazy||y){a=!0,l>=0?s=s.slice(0,l+1):s=[s[0]];break}}}let c=n&&r?(d,f)=>{r(d,{location:n.location,params:n.matches?.[0]?.params??{},errorInfo:f})}:void 0;return s.reduceRight((d,f,p)=>{let v,y=!1,b=null,x=null;n&&(v=o&&f.route.id?o[f.route.id]:void 0,b=f.route.errorElement||Yte,a&&(l<0&&p===0?($8("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,x=null):l===p&&(y=!0,x=f.route.hydrateFallbackElement||null)));let S=t.concat(s.slice(0,p+1)),M=()=>{let R;return v?R=b:y?R=x:f.route.Component?R=C.createElement(f.route.Component,null):f.route.element?R=f.route.element:R=d,C.createElement(Xte,{match:f,routeContext:{outlet:d,matches:S,isDataRoute:n!=null},children:R})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?C.createElement(Qte,{location:n.location,revalidation:n.revalidation,component:b,error:v,children:M(),routeContext:{outlet:null,matches:S,isDataRoute:!0},onError:c}):M()},null)}function $k(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Zte(e){let t=C.useContext(Lf);return pn(t,$k(e)),t}function ene(e){let t=C.useContext(YC);return pn(t,$k(e)),t}function tne(e){let t=C.useContext($o);return pn(t,$k(e)),t}function qk(e){let t=tne(e),n=t.matches[t.matches.length-1];return pn(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function nne(){return qk("useRouteId")}function rne(){let e=C.useContext(Uk),t=ene("useRouteError"),n=qk("useRouteError");return e!==void 0?e:t.errors?.[n]}function ine(){let{router:e}=Zte("useNavigate"),t=qk("useNavigate"),n=C.useRef(!1);return W8(()=>{n.current=!0}),C.useCallback(async(i,s={})=>{Xs(n.current,V8),n.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...s}))},[e,t])}var X3={};function $8(e,t,n){!t&&!X3[e]&&(X3[e]=!0,Xs(!1,n))}C.memo(sne);function sne({routes:e,future:t,state:n,unstable_onError:r}){return U8(e,void 0,n,r,t)}function it(e){pn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function one({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){pn(!Hm(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),a=C.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof n=="string"&&(n=If(n));let{pathname:l="/",search:c="",hash:d="",state:f=null,key:p="default"}=n,v=C.useMemo(()=>{let y=$a(l,o);return y==null?null:{location:{pathname:y,search:c,hash:d,state:f,key:p},navigationType:r}},[o,l,c,d,f,p,r]);return Xs(v!=null,`<Router basename="${o}"> is not able to match the URL "${l}${c}${d}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:C.createElement(Uo.Provider,{value:a},C.createElement(Bm.Provider,{children:t,value:v}))}function ane({children:e,location:t}){return qte(p2(e),t)}function p2(e,t=[]){let n=[];return C.Children.forEach(e,(r,i)=>{if(!C.isValidElement(r))return;let s=[...t,i];if(r.type===C.Fragment){n.push.apply(n,p2(r.props.children,s));return}pn(r.type===it,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),pn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=p2(r.props.children,s)),n.push(o)}),n}var U0="get",$0="application/x-www-form-urlencoded";function XC(e){return e!=null&&typeof e.tagName=="string"}function lne(e){return XC(e)&&e.tagName.toLowerCase()==="button"}function cne(e){return XC(e)&&e.tagName.toLowerCase()==="form"}function une(e){return XC(e)&&e.tagName.toLowerCase()==="input"}function dne(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function hne(e,t){return e.button===0&&(!t||t==="_self")&&!dne(e)}var Wy=null;function fne(){if(Wy===null)try{new FormData(document.createElement("form"),0),Wy=!1}catch{Wy=!0}return Wy}var pne=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function tD(e){return e!=null&&!pne.has(e)?(Xs(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${$0}"`),null):e}function gne(e,t){let n,r,i,s,o;if(cne(e)){let a=e.getAttribute("action");r=a?$a(a,t):null,n=e.getAttribute("method")||U0,i=tD(e.getAttribute("enctype"))||$0,s=new FormData(e)}else if(lne(e)||une(e)&&(e.type==="submit"||e.type==="image")){let a=e.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||a.getAttribute("action");if(r=l?$a(l,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||U0,i=tD(e.getAttribute("formenctype"))||tD(a.getAttribute("enctype"))||$0,s=new FormData(a,e),!fne()){let{name:c,type:d,value:f}=e;if(d==="image"){let p=c?`${c}.`:"";s.append(`${p}x`,"0"),s.append(`${p}y`,"0")}else c&&s.append(c,f)}}else{if(XC(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=U0,r=null,i=$0,o=e}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Kk(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function mne(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&$a(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function vne(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function yne(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function wne(e,t,n){let r=await Promise.all(e.map(async i=>{let s=t.routes[i.route.id];if(s){let o=await vne(s,n);return o.links?o.links():[]}return[]}));return Sne(r.flat(1).filter(yne).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function J3(e,t,n,r,i,s){let o=(l,c)=>n[c]?l.route.id!==n[c].route.id:!0,a=(l,c)=>n[c].pathname!==l.pathname||n[c].route.path?.endsWith("*")&&n[c].params["*"]!==l.params["*"];return s==="assets"?t.filter((l,c)=>o(l,c)||a(l,c)):s==="data"?t.filter((l,c)=>{let d=r.routes[l.route.id];if(!d||!d.hasLoader)return!1;if(o(l,c)||a(l,c))return!0;if(l.route.shouldRevalidate){let f=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function bne(e,t,{includeHydrateFallback:n}={}){return Cne(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function Cne(e){return[...new Set(e)]}function xne(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function Sne(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let s=JSON.stringify(xne(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function q8(){let e=C.useContext(Lf);return Kk(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Ene(){let e=C.useContext(YC);return Kk(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Yk=C.createContext(void 0);Yk.displayName="FrameworkContext";function K8(){let e=C.useContext(Yk);return Kk(e,"You must render this element inside a <HydratedRouter> element"),e}function Dne(e,t){let n=C.useContext(Yk),[r,i]=C.useState(!1),[s,o]=C.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:c,onMouseLeave:d,onTouchStart:f}=t,p=C.useRef(null);C.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let b=S=>{S.forEach(M=>{o(M.isIntersecting)})},x=new IntersectionObserver(b,{threshold:.5});return p.current&&x.observe(p.current),()=>{x.disconnect()}}},[e]),C.useEffect(()=>{if(r){let b=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(b)}}},[r]);let v=()=>{i(!0)},y=()=>{i(!1),o(!1)};return n?e!=="intent"?[s,p,{}]:[s,p,{onFocus:Yp(a,v),onBlur:Yp(l,y),onMouseEnter:Yp(c,v),onMouseLeave:Yp(d,y),onTouchStart:Yp(f,v)}]:[!1,p,{}]}function Yp(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function Rne({page:e,...t}){let{router:n}=q8(),r=C.useMemo(()=>L8(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?C.createElement(Tne,{page:e,matches:r,...t}):null}function Mne(e){let{manifest:t,routeModules:n}=K8(),[r,i]=C.useState([]);return C.useEffect(()=>{let s=!1;return wne(e,t,n).then(o=>{s||i(o)}),()=>{s=!0}},[e,t,n]),r}function Tne({page:e,matches:t,...n}){let r=gd(),{manifest:i,routeModules:s}=K8(),{basename:o}=q8(),{loaderData:a,matches:l}=Ene(),c=C.useMemo(()=>J3(e,t,l,i,r,"data"),[e,t,l,i,r]),d=C.useMemo(()=>J3(e,t,l,i,r,"assets"),[e,t,l,i,r]),f=C.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let y=new Set,b=!1;if(t.forEach(S=>{let M=i.routes[S.route.id];!M||!M.hasLoader||(!c.some(R=>R.route.id===S.route.id)&&S.route.id in a&&s[S.route.id]?.shouldRevalidate||M.hasClientLoader?b=!0:y.add(S.route.id))}),y.size===0)return[];let x=mne(e,o,"data");return b&&y.size>0&&x.searchParams.set("_routes",t.filter(S=>y.has(S.route.id)).map(S=>S.route.id).join(",")),[x.pathname+x.search]},[o,a,r,i,c,t,e,s]),p=C.useMemo(()=>bne(d,i),[d,i]),v=Mne(d);return C.createElement(C.Fragment,null,f.map(y=>C.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...n})),p.map(y=>C.createElement("link",{key:y,rel:"modulepreload",href:y,...n})),v.map(({key:y,link:b})=>C.createElement("link",{key:y,nonce:n.nonce,...b})))}function kne(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var Y8=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Y8&&(window.__reactRouterVersion="7.9.6")}catch{}function Ane({basename:e,children:t,window:n}){let r=C.useRef();r.current==null&&(r.current=vte({window:n,v5Compat:!0}));let i=r.current,[s,o]=C.useState({action:i.action,location:i.location}),a=C.useCallback(l=>{C.startTransition(()=>o(l))},[o]);return C.useLayoutEffect(()=>i.listen(a),[i,a]),C.createElement(one,{basename:e,children:t,location:s.location,navigationType:s.action,navigator:i})}var Q8=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,X8=C.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:d,viewTransition:f,...p},v){let{basename:y}=C.useContext(Uo),b=typeof c=="string"&&Q8.test(c),x,S=!1;if(typeof c=="string"&&b&&(x=c,Y8))try{let B=new URL(window.location.href),U=c.startsWith("//")?new URL(B.protocol+c):new URL(c),_=$a(U.pathname,y);U.origin===B.origin&&_!=null?c=_+U.search+U.hash:S=!0}catch{Xs(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let M=Ute(c,{relative:i}),[R,T,k]=Dne(r,p),P=One(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:i,viewTransition:f});function A(B){t&&t(B),B.defaultPrevented||P(B)}let O=C.createElement("a",{...p,...k,href:x||M,onClick:S||s?t:A,ref:kne(v,T),target:l,"data-discover":!b&&n==="render"?"true":void 0});return R&&!b?C.createElement(C.Fragment,null,O,C.createElement(Rne,{page:M})):O});X8.displayName="Link";var Yt=C.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:a,children:l,...c},d){let f=zm(o,{relative:c.relative}),p=gd(),v=C.useContext(YC),{navigator:y,basename:b}=C.useContext(Uo),x=v!=null&&jne(f)&&a===!0,S=y.encodeLocation?y.encodeLocation(f).pathname:f.pathname,M=p.pathname,R=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;n||(M=M.toLowerCase(),R=R?R.toLowerCase():null,S=S.toLowerCase()),R&&b&&(R=$a(R,b)||R);const T=S!=="/"&&S.endsWith("/")?S.length-1:S.length;let k=M===S||!i&&M.startsWith(S)&&M.charAt(T)==="/",P=R!=null&&(R===S||!i&&R.startsWith(S)&&R.charAt(S.length)==="/"),A={isActive:k,isPending:P,isTransitioning:x},O=k?t:void 0,B;typeof r=="function"?B=r(A):B=[r,k?"active":null,P?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let U=typeof s=="function"?s(A):s;return C.createElement(X8,{...c,"aria-current":O,className:B,ref:d,style:U,to:o,viewTransition:a},typeof l=="function"?l(A):l)});Yt.displayName="NavLink";var Pne=C.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:s,method:o=U0,action:a,onSubmit:l,relative:c,preventScrollReset:d,viewTransition:f,...p},v)=>{let y=Lne(),b=_ne(a,{relative:c}),x=o.toLowerCase()==="get"?"get":"post",S=typeof a=="string"&&Q8.test(a),M=R=>{if(l&&l(R),R.defaultPrevented)return;R.preventDefault();let T=R.nativeEvent.submitter,k=T?.getAttribute("formmethod")||o;y(T||R.currentTarget,{fetcherKey:t,method:k,navigate:n,replace:i,state:s,relative:c,preventScrollReset:d,viewTransition:f})};return C.createElement("form",{ref:v,method:x,action:b,onSubmit:r?l:M,...p,"data-discover":!S&&e==="render"?"true":void 0})});Pne.displayName="Form";function Nne(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function J8(e){let t=C.useContext(Lf);return pn(t,Nne(e)),t}function One(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:o}={}){let a=Rt(),l=gd(),c=zm(e,{relative:s});return C.useCallback(d=>{if(hne(d,t)){d.preventDefault();let f=n!==void 0?n:Kg(l)===Kg(c);a(e,{replace:f,state:r,preventScrollReset:i,relative:s,viewTransition:o})}},[l,a,c,n,r,t,e,i,s,o])}var Fne=0,Ine=()=>`__${String(++Fne)}__`;function Lne(){let{router:e}=J8("useSubmit"),{basename:t}=C.useContext(Uo),n=nne();return C.useCallback(async(r,i={})=>{let{action:s,method:o,encType:a,formData:l,body:c}=gne(r,t);if(i.navigate===!1){let d=i.fetcherKey||Ine();await e.fetch(d,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||a,flushSync:i.flushSync})}else await e.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}function _ne(e,{relative:t}={}){let{basename:n}=C.useContext(Uo),r=C.useContext($o);pn(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...zm(e||".",{relative:t})},o=gd();if(e==null){s.search=o.search;let a=new URLSearchParams(s.search),l=a.getAll("index");if(l.some(d=>d==="")){a.delete("index"),l.filter(f=>f).forEach(f=>a.append("index",f));let d=a.toString();s.search=d?`?${d}`:""}}return(!e||e===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Oa([n,s.pathname])),Kg(s)}function jne(e,{relative:t}={}){let n=C.useContext(G8);pn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=J8("useViewTransitionState"),i=zm(e,{relative:t});if(!n.isTransitioning)return!1;let s=$a(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=$a(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Dw(i.pathname,o)!=null||Dw(i.pathname,s)!=null}var md=Wk();const Qk=Fs(md);function Z8(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=Z8(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function $e(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=Z8(e))&&(r&&(r+=" "),r+=t);return r}function Bne(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}Bne(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Gm=e=>typeof e=="number"&&!isNaN(e),Ju=e=>typeof e=="string",qa=e=>typeof e=="function",Hne=e=>Ju(e)||Gm(e),g2=e=>Ju(e)||qa(e)?e:null,zne=(e,t)=>e===!1||Gm(e)&&e>0?e:t,m2=e=>C.isValidElement(e)||Ju(e)||qa(e)||Gm(e);function Gne(e,t,n=300){let{scrollHeight:r,style:i}=e;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)})})}function Vne({enter:e,exit:t,appendPosition:n=!1,collapse:r=!0,collapseDuration:i=300}){return function({children:s,position:o,preventExitTransition:a,done:l,nodeRef:c,isIn:d,playToast:f}){let p=n?`${e}--${o}`:e,v=n?`${t}--${o}`:t,y=C.useRef(0);return C.useLayoutEffect(()=>{let b=c.current,x=p.split(" "),S=M=>{M.target===c.current&&(f(),b.removeEventListener("animationend",S),b.removeEventListener("animationcancel",S),y.current===0&&M.type!=="animationcancel"&&b.classList.remove(...x))};b.classList.add(...x),b.addEventListener("animationend",S),b.addEventListener("animationcancel",S)},[]),C.useEffect(()=>{let b=c.current,x=()=>{b.removeEventListener("animationend",x),r?Gne(b,l,i):l()};d||(a?x():(y.current=1,b.className+=` ${v}`,b.addEventListener("animationend",x)))},[d]),q.createElement(q.Fragment,null,s)}}function Z3(e,t){return{content:eG(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:t}}function eG(e,t,n=!1){return C.isValidElement(e)&&!Ju(e.type)?C.cloneElement(e,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):qa(e)?e({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):e}function Wne({closeToast:e,theme:t,ariaLabel:n="close"}){return q.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:r=>{r.stopPropagation(),e(!0)},"aria-label":n},q.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},q.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function Une({delay:e,isRunning:t,closeToast:n,type:r="default",hide:i,className:s,controlledProgress:o,progress:a,rtl:l,isIn:c,theme:d}){let f=i||o&&a===0,p={animationDuration:`${e}ms`,animationPlayState:t?"running":"paused"};o&&(p.transform=`scaleX(${a})`);let v=$e("Toastify__progress-bar",o?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${d}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":l}),y=qa(s)?s({rtl:l,type:r,defaultClassName:v}):$e(v,s),b={[o&&a>=1?"onTransitionEnd":"onAnimationEnd"]:o&&a<1?null:()=>{c&&n()}};return q.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":f},q.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${d} Toastify__progress-bar--${r}`}),q.createElement("div",{role:"progressbar","aria-hidden":f?"true":"false","aria-label":"notification timer",className:y,style:p,...b}))}var $ne=1,tG=()=>`${$ne++}`;function qne(e,t,n){let r=1,i=0,s=[],o=[],a=t,l=new Map,c=new Set,d=M=>(c.add(M),()=>c.delete(M)),f=()=>{o=Array.from(l.values()),c.forEach(M=>M())},p=({containerId:M,toastId:R,updateId:T})=>{let k=M?M!==e:e!==1,P=l.has(R)&&T==null;return k||P},v=(M,R)=>{l.forEach(T=>{var k;(R==null||R===T.props.toastId)&&((k=T.toggle)==null||k.call(T,M))})},y=M=>{var R,T;(T=(R=M.props)==null?void 0:R.onClose)==null||T.call(R,M.removalReason),M.isActive=!1},b=M=>{if(M==null)l.forEach(y);else{let R=l.get(M);R&&y(R)}f()},x=()=>{i-=s.length,s=[]},S=M=>{var R,T;let{toastId:k,updateId:P}=M.props,A=P==null;M.staleId&&l.delete(M.staleId),M.isActive=!0,l.set(k,M),f(),n(Z3(M,A?"added":"updated")),A&&((T=(R=M.props).onOpen)==null||T.call(R))};return{id:e,props:a,observe:d,toggle:v,removeToast:b,toasts:l,clearQueue:x,buildToast:(M,R)=>{if(p(R))return;let{toastId:T,updateId:k,data:P,staleId:A,delay:O}=R,B=k==null;B&&i++;let U={...a,style:a.toastStyle,key:r++,...Object.fromEntries(Object.entries(R).filter(([I,V])=>V!=null)),toastId:T,updateId:k,data:P,isIn:!1,className:g2(R.className||a.toastClassName),progressClassName:g2(R.progressClassName||a.progressClassName),autoClose:R.isLoading?!1:zne(R.autoClose,a.autoClose),closeToast(I){l.get(T).removalReason=I,b(T)},deleteToast(){let I=l.get(T);if(I!=null){if(n(Z3(I,"removed")),l.delete(T),i--,i<0&&(i=0),s.length>0){S(s.shift());return}f()}}};U.closeButton=a.closeButton,R.closeButton===!1||m2(R.closeButton)?U.closeButton=R.closeButton:R.closeButton===!0&&(U.closeButton=m2(a.closeButton)?a.closeButton:!0);let _={content:M,props:U,staleId:A};a.limit&&a.limit>0&&i>a.limit&&B?s.push(_):Gm(O)?setTimeout(()=>{S(_)},O):S(_)},setProps(M){a=M},setToggle:(M,R)=>{let T=l.get(M);T&&(T.toggle=R)},isToastActive:M=>{var R;return(R=l.get(M))==null?void 0:R.isActive},getSnapshot:()=>o}}var Ur=new Map,Yg=[],v2=new Set,Kne=e=>v2.forEach(t=>t(e)),nG=()=>Ur.size>0;function Yne(){Yg.forEach(e=>iG(e.content,e.options)),Yg=[]}var Qne=(e,{containerId:t})=>{var n;return(n=Ur.get(t||1))==null?void 0:n.toasts.get(e)};function rG(e,t){var n;if(t)return!!((n=Ur.get(t))!=null&&n.isToastActive(e));let r=!1;return Ur.forEach(i=>{i.isToastActive(e)&&(r=!0)}),r}function Xne(e){if(!nG()){Yg=Yg.filter(t=>e!=null&&t.options.toastId!==e);return}if(e==null||Hne(e))Ur.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=Ur.get(e.containerId);t?t.removeToast(e.id):Ur.forEach(n=>{n.removeToast(e.id)})}}var Jne=(e={})=>{Ur.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})};function iG(e,t){m2(e)&&(nG()||Yg.push({content:e,options:t}),Ur.forEach(n=>{n.buildToast(e,t)}))}function Zne(e){var t;(t=Ur.get(e.containerId||1))==null||t.setToggle(e.id,e.fn)}function sG(e,t){Ur.forEach(n=>{(t==null||!(t!=null&&t.containerId)||t?.containerId===n.id)&&n.toggle(e,t?.id)})}function ere(e){let t=e.containerId||1;return{subscribe(n){let r=qne(t,e,Kne);Ur.set(t,r);let i=r.observe(n);return Yne(),()=>{i(),Ur.delete(t)}},setProps(n){var r;(r=Ur.get(t))==null||r.setProps(n)},getSnapshot(){var n;return(n=Ur.get(t))==null?void 0:n.getSnapshot()}}}function tre(e){return v2.add(e),()=>{v2.delete(e)}}function nre(e){return e&&(Ju(e.toastId)||Gm(e.toastId))?e.toastId:tG()}function Vm(e,t){return iG(e,t),t.toastId}function JC(e,t){return{...t,type:t&&t.type||e,toastId:nre(t)}}function ZC(e){return(t,n)=>Vm(t,JC(e,n))}function be(e,t){return Vm(e,JC("default",t))}be.loading=(e,t)=>Vm(e,JC("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function rre(e,{pending:t,error:n,success:r},i){let s;t&&(s=Ju(t)?be.loading(t,i):be.loading(t.render,{...i,...t}));let o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},a=(c,d,f)=>{if(d==null){be.dismiss(s);return}let p={type:c,...o,...i,data:f},v=Ju(d)?{render:d}:d;return s?be.update(s,{...p,...v}):be(v.render,{...p,...v}),f},l=qa(e)?e():e;return l.then(c=>a("success",r,c)).catch(c=>a("error",n,c)),l}be.promise=rre;be.success=ZC("success");be.info=ZC("info");be.error=ZC("error");be.warning=ZC("warning");be.warn=be.warning;be.dark=(e,t)=>Vm(e,JC("default",{theme:"dark",...t}));function ire(e){Xne(e)}be.dismiss=ire;be.clearWaitingQueue=Jne;be.isActive=rG;be.update=(e,t={})=>{let n=Qne(e,t);if(n){let{props:r,content:i}=n,s={delay:100,...r,...t,toastId:t.toastId||e,updateId:tG()};s.toastId!==e&&(s.staleId=e);let o=s.render||i;delete s.render,Vm(o,s)}};be.done=e=>{be.update(e,{progress:1})};be.onChange=tre;be.play=e=>sG(!0,e);be.pause=e=>sG(!1,e);function sre(e){var t;let{subscribe:n,getSnapshot:r,setProps:i}=C.useRef(ere(e)).current;i(e);let s=(t=C.useSyncExternalStore(n,r,r))==null?void 0:t.slice();function o(a){if(!s)return[];let l=new Map;return e.newestOnTop&&s.reverse(),s.forEach(c=>{let{position:d}=c.props;l.has(d)||l.set(d,[]),l.get(d).push(c)}),Array.from(l,c=>a(c[0],c[1]))}return{getToastToRender:o,isToastActive:rG,count:s?.length}}function ore(e){let[t,n]=C.useState(!1),[r,i]=C.useState(!1),s=C.useRef(null),o=C.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:a,pauseOnHover:l,closeToast:c,onClick:d,closeOnClick:f}=e;Zne({id:e.toastId,containerId:e.containerId,fn:n}),C.useEffect(()=>{if(e.pauseOnFocusLoss)return p(),()=>{v()}},[e.pauseOnFocusLoss]);function p(){document.hasFocus()||S(),window.addEventListener("focus",x),window.addEventListener("blur",S)}function v(){window.removeEventListener("focus",x),window.removeEventListener("blur",S)}function y(A){if(e.draggable===!0||e.draggable===A.pointerType){M();let O=s.current;o.canCloseOnClick=!0,o.canDrag=!0,O.style.transition="none",e.draggableDirection==="x"?(o.start=A.clientX,o.removalDistance=O.offsetWidth*(e.draggablePercent/100)):(o.start=A.clientY,o.removalDistance=O.offsetHeight*(e.draggablePercent===80?e.draggablePercent*1.5:e.draggablePercent)/100)}}function b(A){let{top:O,bottom:B,left:U,right:_}=s.current.getBoundingClientRect();A.nativeEvent.type!=="touchend"&&e.pauseOnHover&&A.clientX>=U&&A.clientX<=_&&A.clientY>=O&&A.clientY<=B?S():x()}function x(){n(!0)}function S(){n(!1)}function M(){o.didMove=!1,document.addEventListener("pointermove",T),document.addEventListener("pointerup",k)}function R(){document.removeEventListener("pointermove",T),document.removeEventListener("pointerup",k)}function T(A){let O=s.current;if(o.canDrag&&O){o.didMove=!0,t&&S(),e.draggableDirection==="x"?o.delta=A.clientX-o.start:o.delta=A.clientY-o.start,o.start!==A.clientX&&(o.canCloseOnClick=!1);let B=e.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`;O.style.transform=`translate3d(${B},0)`,O.style.opacity=`${1-Math.abs(o.delta/o.removalDistance)}`}}function k(){R();let A=s.current;if(o.canDrag&&o.didMove&&A){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance){i(!0),e.closeToast(!0),e.collapseAll();return}A.style.transition="transform 0.2s, opacity 0.2s",A.style.removeProperty("transform"),A.style.removeProperty("opacity")}}let P={onPointerDown:y,onPointerUp:b};return a&&l&&(P.onMouseEnter=S,e.stacked||(P.onMouseLeave=x)),f&&(P.onClick=A=>{d&&d(A),o.canCloseOnClick&&c(!0)}),{playToast:x,pauseToast:S,isRunning:t,preventExitTransition:r,toastRef:s,eventHandlers:P}}var are=typeof window<"u"?C.useLayoutEffect:C.useEffect,ex=({theme:e,type:t,isLoading:n,...r})=>q.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...r});function lre(e){return q.createElement(ex,{...e},q.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function cre(e){return q.createElement(ex,{...e},q.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function ure(e){return q.createElement(ex,{...e},q.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function dre(e){return q.createElement(ex,{...e},q.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function hre(){return q.createElement("div",{className:"Toastify__spinner"})}var y2={info:cre,warning:lre,success:ure,error:dre,spinner:hre},fre=e=>e in y2;function pre({theme:e,type:t,isLoading:n,icon:r}){let i=null,s={theme:e,type:t};return r===!1||(qa(r)?i=r({...s,isLoading:n}):C.isValidElement(r)?i=C.cloneElement(r,s):n?i=y2.spinner():fre(t)&&(i=y2[t](s))),i}var gre=e=>{let{isRunning:t,preventExitTransition:n,toastRef:r,eventHandlers:i,playToast:s}=ore(e),{closeButton:o,children:a,autoClose:l,onClick:c,type:d,hideProgressBar:f,closeToast:p,transition:v,position:y,className:b,style:x,progressClassName:S,updateId:M,role:R,progress:T,rtl:k,toastId:P,deleteToast:A,isIn:O,isLoading:B,closeOnClick:U,theme:_,ariaLabel:I}=e,V=$e("Toastify__toast",`Toastify__toast-theme--${_}`,`Toastify__toast--${d}`,{"Toastify__toast--rtl":k},{"Toastify__toast--close-on-click":U}),F=qa(b)?b({rtl:k,position:y,type:d,defaultClassName:V}):$e(V,b),L=pre(e),z=!!T||!l,j={closeToast:p,type:d,theme:_},$=null;return o===!1||(qa(o)?$=o(j):C.isValidElement(o)?$=C.cloneElement(o,j):$=Wne(j)),q.createElement(v,{isIn:O,done:A,position:y,preventExitTransition:n,nodeRef:r,playToast:s},q.createElement("div",{id:P,tabIndex:0,onClick:c,"data-in":O,className:F,...i,style:x,ref:r,...O&&{role:R,"aria-label":I}},L!=null&&q.createElement("div",{className:$e("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!B})},L),eG(a,e,!t),$,!e.customProgressBar&&q.createElement(Une,{...M&&!z?{key:`p-${M}`}:{},rtl:k,theme:_,delay:l,isRunning:t,isIn:O,closeToast:p,hide:f,type:d,className:S,controlledProgress:z,progress:T||0})))},mre=(e,t=!1)=>({enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}),vre=Vne(mre("bounce",!0)),yre={position:"top-right",transition:vre,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&e.code==="KeyT"};function Xk(e){let t={...yre,...e},n=e.stacked,[r,i]=C.useState(!0),s=C.useRef(null),{getToastToRender:o,isToastActive:a,count:l}=sre(t),{className:c,style:d,rtl:f,containerId:p,hotKeys:v}=t;function y(x){let S=$e("Toastify__toast-container",`Toastify__toast-container--${x}`,{"Toastify__toast-container--rtl":f});return qa(c)?c({position:x,rtl:f,defaultClassName:S}):$e(S,g2(c))}function b(){n&&(i(!0),be.play())}return are(()=>{var x;if(n){let S=s.current.querySelectorAll('[data-in="true"]'),M=12,R=(x=t.position)==null?void 0:x.includes("top"),T=0,k=0;Array.from(S).reverse().forEach((P,A)=>{let O=P;O.classList.add("Toastify__toast--stacked"),A>0&&(O.dataset.collapsed=`${r}`),O.dataset.pos||(O.dataset.pos=R?"top":"bot");let B=T*(r?.2:1)+(r?0:M*A);O.style.setProperty("--y",`${R?B:B*-1}px`),O.style.setProperty("--g",`${M}`),O.style.setProperty("--s",`${1-(r?k:0)}`),T+=O.offsetHeight,k+=.025})}},[r,l,n]),C.useEffect(()=>{function x(S){var M;let R=s.current;v(S)&&((M=R.querySelector('[tabIndex="0"]'))==null||M.focus(),i(!1),be.pause()),S.key==="Escape"&&(document.activeElement===R||R!=null&&R.contains(document.activeElement))&&(i(!0),be.play())}return document.addEventListener("keydown",x),()=>{document.removeEventListener("keydown",x)}},[v]),q.createElement("section",{ref:s,className:"Toastify",id:p,onMouseEnter:()=>{n&&(i(!1),be.pause())},onMouseLeave:b,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},o((x,S)=>{let M=S.length?{...d}:{...d,pointerEvents:"none"};return q.createElement("div",{tabIndex:-1,className:y(x),"data-stacked":n,style:M,key:`c-${x}`},S.map(({content:R,props:T})=>q.createElement(gre,{...T,stacked:n,collapseAll:b,isIn:a(T.toastId,T.containerId),key:`t-${T.key}`},R)))}))}const oG=C.createContext(null),tx=()=>C.useContext(oG);function wre({children:e}){const[t,n]=C.useState(()=>{const i=localStorage.getItem("user");return i?JSON.parse(i):null}),r=()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),n(null)};return m.jsx(oG.Provider,{value:{user:t,setUser:n,logout:r},children:e})}var aG={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},e4=q.createContext&&q.createContext(aG),bre=["attr","size","title"];function Cre(e,t){if(e==null)return{};var n=xre(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function xre(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Rw(){return Rw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rw.apply(this,arguments)}function t4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Mw(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?t4(Object(n),!0).forEach(function(r){Sre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Sre(e,t,n){return t=Ere(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ere(e){var t=Dre(e,"string");return typeof t=="symbol"?t:t+""}function Dre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lG(e){return e&&e.map((t,n)=>q.createElement(t.tag,Mw({key:n},t.attr),lG(t.child)))}function xn(e){return t=>q.createElement(Rre,Rw({attr:Mw({},e.attr)},t),lG(e.child))}function Rre(e){var t=n=>{var{attr:r,size:i,title:s}=e,o=Cre(e,bre),a=i||n.size||"1em",l;return n.className&&(l=n.className),e.className&&(l=(l?l+" ":"")+e.className),q.createElement("svg",Rw({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:Mw(Mw({color:e.color||n.color},n.style),e.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&q.createElement("title",null,s),e.children)};return e4!==void 0?q.createElement(e4.Consumer,null,n=>t(n)):t(aG)}function Mre(e){return xn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(e)}function Tre(e){return xn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"18 15 12 9 6 15"},child:[]}]})(e)}function kre(e){return xn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(e)}function Are(e){return xn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(e)}function Pre(e){return xn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(e)}function n4(e){return xn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(e)}function Nre(e){return xn({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(e)}function nD(e){return xn({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 236c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-64c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-72v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm96-114.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(e)}function Ore(e){return xn({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M181.9 256.1c-5-16-4.9-46.9-2-46.9 8.4 0 7.6 36.9 2 46.9zm-1.7 47.2c-7.7 20.2-17.3 43.3-28.4 62.7 18.3-7 39-17.2 62.9-21.9-12.7-9.6-24.9-23.4-34.5-40.8zM86.1 428.1c0 .8 13.2-5.4 34.9-40.2-6.7 6.3-29.1 24.5-34.9 40.2zM248 160h136v328c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V24C0 10.7 10.7 0 24 0h200v136c0 13.2 10.8 24 24 24zm-8 171.8c-20-12.2-33.3-29-42.7-53.8 4.5-18.5 11.6-46.6 6.2-64.2-4.7-29.4-42.4-26.5-47.8-6.8-5 18.3-.4 44.1 8.1 77-11.6 27.6-28.7 64.6-40.8 85.8-.1 0-.1.1-.2.1-27.1 13.9-73.6 44.5-54.5 68 5.6 6.9 16 10 21.5 10 17.9 0 35.7-18 61.1-61.8 25.8-8.5 54.1-19.1 79-23.2 21.7 11.8 47.1 19.5 64 19.5 29.2 0 31.2-32 19.7-43.4-13.9-13.6-54.3-9.7-73.6-7.2zM377 105L279 7c-4.5-4.5-10.6-7-17-7h-6v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-74.1 255.3c4.1-2.7-2.5-11.9-42.8-9 37.1 15.8 42.8 9 42.8 9z"},child:[]}]})(e)}function Fre(e){return xn({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528 32H48C21.5 32 0 53.5 0 80v16h576V80c0-26.5-21.5-48-48-48zM0 432c0 26.5 21.5 48 48 48h480c26.5 0 48-21.5 48-48V128H0v304zm352-232c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16zm0 64c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16zm0 64c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16zM176 192c35.3 0 64 28.7 64 64s-28.7 64-64 64-64-28.7-64-64 28.7-64 64-64zM67.1 396.2C75.5 370.5 99.6 352 128 352h8.2c12.3 5.1 25.7 8 39.8 8s27.6-2.9 39.8-8h8.2c28.4 0 52.5 18.5 60.9 44.2 3.2 9.9-5.2 19.8-15.6 19.8H82.7c-10.4 0-18.8-10-15.6-19.8z"},child:[]}]})(e)}function Ire(e){return xn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 480H48c-26.51 0-48-21.49-48-48V80c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v352c0 26.51-21.49 48-48 48zM128 120c-22.091 0-40 17.909-40 40s17.909 40 40 40 40-17.909 40-40-17.909-40-40-40zm0 96c-22.091 0-40 17.909-40 40s17.909 40 40 40 40-17.909 40-40-17.909-40-40-40zm0 96c-22.091 0-40 17.909-40 40s17.909 40 40 40 40-17.909 40-40-17.909-40-40-40zm288-136v-32c0-6.627-5.373-12-12-12H204c-6.627 0-12 5.373-12 12v32c0 6.627 5.373 12 12 12h200c6.627 0 12-5.373 12-12zm0 96v-32c0-6.627-5.373-12-12-12H204c-6.627 0-12 5.373-12 12v32c0 6.627 5.373 12 12 12h200c6.627 0 12-5.373 12-12zm0 96v-32c0-6.627-5.373-12-12-12H204c-6.627 0-12 5.373-12 12v32c0 6.627 5.373 12 12 12h200c6.627 0 12-5.373 12-12z"},child:[]}]})(e)}function Lre(e){return xn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M80 368H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm0-320H16A16 16 0 0 0 0 64v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16V64a16 16 0 0 0-16-16zm0 160H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm416 176H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(e)}function _re(e){return xn({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M621.16 54.46C582.37 38.19 543.55 32 504.75 32c-123.17-.01-246.33 62.34-369.5 62.34-30.89 0-61.76-3.92-92.65-13.72-3.47-1.1-6.95-1.62-10.35-1.62C15.04 79 0 92.32 0 110.81v317.26c0 12.63 7.23 24.6 18.84 29.46C57.63 473.81 96.45 480 135.25 480c123.17 0 246.34-62.35 369.51-62.35 30.89 0 61.76 3.92 92.65 13.72 3.47 1.1 6.95 1.62 10.35 1.62 17.21 0 32.25-13.32 32.25-31.81V83.93c-.01-12.64-7.24-24.6-18.85-29.47zM48 132.22c20.12 5.04 41.12 7.57 62.72 8.93C104.84 170.54 79 192.69 48 192.69v-60.47zm0 285v-47.78c34.37 0 62.18 27.27 63.71 61.4-22.53-1.81-43.59-6.31-63.71-13.62zM320 352c-44.19 0-80-42.99-80-96 0-53.02 35.82-96 80-96s80 42.98 80 96c0 53.03-35.83 96-80 96zm272 27.78c-17.52-4.39-35.71-6.85-54.32-8.44 5.87-26.08 27.5-45.88 54.32-49.28v57.72zm0-236.11c-30.89-3.91-54.86-29.7-55.81-61.55 19.54 2.17 38.09 6.23 55.81 12.66v48.89z"},child:[]}]})(e)}function rD(e){return xn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function iD(e){return xn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"},child:[]}]})(e)}function jre(e){return xn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 32h192c13.255 0 24 10.745 24 24v160c0 13.255-10.745 24-24 24H296c-13.255 0-24-10.745-24-24V56c0-13.255 10.745-24 24-24zm-80 0H24C10.745 32 0 42.745 0 56v160c0 13.255 10.745 24 24 24h192c13.255 0 24-10.745 24-24V56c0-13.255-10.745-24-24-24zM0 296v160c0 13.255 10.745 24 24 24h192c13.255 0 24-10.745 24-24V296c0-13.255-10.745-24-24-24H24c-13.255 0-24 10.745-24 24zm296 184h192c13.255 0 24-10.745 24-24V296c0-13.255-10.745-24-24-24H296c-13.255 0-24 10.745-24 24v160c0 13.255 10.745 24 24 24z"},child:[]}]})(e)}function Bre(e){return xn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(e)}function Hre(e){return xn({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"},child:[]}]})(e)}function zre(e){return xn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm95.8 32.6L272 480l-32-136 32-56h-96l32 56-32 136-47.8-191.4C56.9 292 0 350.3 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-72.1-56.9-130.4-128.2-133.8z"},child:[]}]})(e)}const Gre=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Vre=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),r4=e=>{const t=Vre(e);return t.charAt(0).toUpperCase()+t.slice(1)},cG=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),Wre=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var Ure={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const $re=C.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>C.createElement("svg",{ref:l,...Ure,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:cG("lucide",i),...!s&&!Wre(a)&&{"aria-hidden":"true"},...a},[...o.map(([c,d])=>C.createElement(c,d)),...Array.isArray(s)?s:[s]]));const ct=(e,t)=>{const n=C.forwardRef(({className:r,...i},s)=>C.createElement($re,{ref:s,iconNode:t,className:cG(`lucide-${Gre(r4(e))}`,`lucide-${e}`,r),...i}));return n.displayName=r4(e),n};const qre=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Ir=ct("activity",qre);const Kre=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Yre=ct("arrow-left",Kre);const Qre=[["path",{d:"M15 13a3 3 0 1 0-6 0",key:"10j68g"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}]],Xre=ct("book-user",Qre);const Jre=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Zre=ct("briefcase",Jre);const eie=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],i4=ct("calendar-days",eie);const tie=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],rn=ct("calendar",tie);const nie=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],w2=ct("chart-column",nie);const rie=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],iie=ct("check",rie);const sie=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],nx=ct("chevron-down",sie);const oie=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],aie=ct("chevron-right",oie);const lie=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],cie=ct("circle-alert",lie);const uie=[["path",{d:"M18 20a6 6 0 0 0-12 0",key:"1qehca"}],["circle",{cx:"12",cy:"10",r:"4",key:"1h16sb"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],die=ct("circle-user-round",uie);const hie=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],sD=ct("clipboard-list",hie);const fie=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Tw=ct("clock",fie);const pie=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],gie=ct("dollar-sign",pie);const mie=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],vie=ct("eye-off",mie);const yie=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Wm=ct("eye",yie);const wie=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],bie=ct("file-spreadsheet",wie);const Cie=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],xie=ct("house",Cie);const Sie=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Eie=ct("lock",Sie);const Die=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Rie=ct("mail",Die);const Mie=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],Si=ct("message-circle",Mie);const Tie=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],kie=ct("message-square",Tie);const Aie=[["path",{d:"M13.4 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-7.4",key:"re6nr2"}],["path",{d:"M2 6h4",key:"aawbzj"}],["path",{d:"M2 10h4",key:"l0bgd4"}],["path",{d:"M2 14h4",key:"1gsvsf"}],["path",{d:"M2 18h4",key:"1bu2t1"}],["path",{d:"M21.378 5.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"pqwjuv"}]],Jk=ct("notebook-pen",Aie);const Pie=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"16",height:"18",x:"4",y:"4",rx:"2",key:"1u9h20"}],["path",{d:"M8 10h6",key:"3oa6kw"}],["path",{d:"M8 14h8",key:"1fgep2"}],["path",{d:"M8 18h5",key:"17enja"}]],cl=ct("notepad-text",Pie);const Nie=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],kw=ct("phone",Nie);const Oie=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],uG=ct("play",Oie);const Fie=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],dG=ct("refresh-cw",Fie);const Iie=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],hG=ct("shield",Iie);const Lie=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],ti=ct("square-pen",Lie);const _ie=[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]],jie=ct("sticky-note",_ie);const Bie=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Hie=ct("target",Bie);const zie=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],fG=ct("trending-up",zie);const Gie=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],oD=ct("user-check",Gie);const Vie=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],$t=ct("user",Vie);const Wie=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Qg=ct("users",Wie);const Uie=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],pG=ct("x",Uie);function $ie({onToggleSidebar:e}){const{user:t,setUser:n}=tx(),r=Rt(),[i,s]=C.useState(!1),o=C.useRef(null),a="https://crm.softwaresetu.com/api",l=JSON.parse(localStorage.getItem("user")||"{}"),c=JSON.parse(localStorage.getItem("adminData")||"{}");console.log("Stored User:",l),console.log("Admin Data:",c);const d=l?.role==="employee"?c?.logo:l?.logo,f=d?d.startsWith("http")?d:`${a}/${d}`:"/fallback-logo.png",p=()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),n(null),r("/"),s(!1)};C.useEffect(()=>{const y=b=>{o.current&&!o.current.contains(b.target)&&s(!1)};return document.addEventListener("mousedown",y),()=>document.removeEventListener("mousedown",y)},[]);const v=y=>{switch(y){case"admin":return"bg-purple-100 text-purple-800 border-purple-200";case"manager":return"bg-blue-100 text-blue-800 border-blue-200";case"employee":return"bg-orange-100 text-orange-800 border-orange-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}};return m.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 bg-white border-b border-gray-200 shadow-sm backdrop-blur-sm bg-white/95",children:m.jsxs("div",{className:"mx-auto flex items-center justify-between px-6 py-3",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("button",{onClick:e,className:"md:hidden p-2.5 rounded-xl border border-gray-200 hover:bg-gray-50 transition-all",children:m.jsxs("div",{className:"w-5 h-5 flex flex-col justify-center",children:[m.jsx("span",{className:"w-full h-0.5 bg-gray-600 mb-1"}),m.jsx("span",{className:"w-full h-0.5 bg-gray-600 mb-1"}),m.jsx("span",{className:"w-full h-0.5 bg-gray-600"})]})}),m.jsx("img",{src:f,alt:"Logo",className:"h-10 md:h-12 w-auto object-contain"})]}),m.jsxs("div",{className:"flex items-center gap-4",children:[l?.role==="employee"&&m.jsxs("button",{onClick:()=>r("/my-performance"),className:"flex items-center gap-3 px-5 py-2.5 bg-blue-600 text-white rounded-xl hover:bg-blue-700",children:[m.jsx(fG,{}),m.jsx("span",{children:"My Performance"})]}),m.jsxs("div",{className:"relative",ref:o,children:[m.jsxs("button",{onClick:()=>s(!i),className:"flex items-center gap-3 px-4 py-2.5 rounded-xl border border-gray-200 hover:bg-gray-50",children:[m.jsx(Hre,{className:"text-2xl text-gray-500"}),m.jsx("p",{className:"text-sm font-semibold hidden sm:block",children:l?.name}),i?m.jsx(Tre,{}):m.jsx(Mre,{})]}),i&&m.jsxs("div",{className:"absolute right-0 top-full mt-2 w-64 bg-white rounded-2xl shadow-xl border border-gray-300 py-2",children:[m.jsxs("div",{className:"px-4 py-3 border-b border-gray-300",children:[m.jsx("p",{className:"text-sm font-semibold",children:l?.name}),m.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[m.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs border ${v(l?.role)}`,children:l?.role}),m.jsx("span",{className:"text-xs text-gray-500",children:l?.email})]})]}),l?.role!=="employee"&&m.jsxs("button",{onClick:()=>{r("/profile"),s(!1)},className:"flex items-center gap-3 w-full px-4 py-2.5 text-sm hover:bg-gray-50",children:[m.jsx(Are,{}),"Update Logo"]}),m.jsxs("button",{onClick:p,className:"flex items-center gap-3 w-full px-4 py-2.5 text-sm text-red-600 hover:bg-red-50",children:[m.jsx(kre,{}),"Sign Out"]})]})]})]})]})})}function qie(e){return xn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216.058 50.312c-.86-.005-1.572.037-2.12.123-5.981.932-20.108 8.016-36.207 19.511-16.098 11.496-34.887 27.134-53.93 44.485C95.74 140 67.162 169.31 45.217 194.7a3640.34 3640.34 0 0 0 50.812-3.872c1.538-16.08 6.79-32.61 17.368-45.879 10.166-12.751 26.122-21.682 46.617-21.675 18.943.006 41.55 7.126 68.935 23.275 21.438-25.45 40.574-39.736 58.412-45.451 4.809-1.54 9.513-2.39 14.06-2.643 13.645-.757 25.888 3.872 35.364 11.428 12.635 10.075 21.142 24.598 26.899 38.805.992 2.45 1.896 4.884 2.724 7.293 23.722-4.31 47.353-8.98 70.862-14.045-37.748-21.248-80.89-42.643-120-59.428-24.529-10.527-47.336-19.235-65.735-24.926-16.098-4.98-29.455-7.241-35.476-7.271zM305.4 116.13c-3.799-.029-7.94.635-12.548 2.111-14.046 4.5-32.654 17.808-54.899 45.59l-5.01 6.26-6.795-4.258c-28.717-17.994-50.548-24.553-66.142-24.558-15.595-.005-25.28 5.793-32.537 14.896-14.515 18.206-15.809 52.865-10.364 69.465 18.603 56.713 44.738 83.02 82.76 99.79 40.195-.354 79.786-7.153 118.967-19.483 20.884-31.578 38.095-67.142 36.006-118.356-.289-7.076-2.844-19.814-7.838-32.139-4.994-12.324-12.465-24.333-21.44-31.49-5.609-4.473-11.496-7.346-18.552-7.773-.53-.032-1.065-.05-1.608-.055zm-3.562 12.434a32.378 32.378 0 0 1 1.945.008c12.646.438 23.185 11.183 29.035 24.455-30.127-21.403-61.454-.145-79.638 12.49 12.363-17.632 28.675-36.452 48.658-36.953zm-137.897 25.761c13.546.007 30.081 4.885 46.036 17.26-86.153-26.888-63.03 66.667-35.965 120.168-28.36-17.18-59.2-88.077-38.166-125.47 3.994-7.101 14.55-11.965 28.095-11.958zm273.852 5.817a2248.032 2248.032 0 0 1-66.674 13.187c.972 4.94 1.54 9.517 1.703 13.524 1.966 48.19-12.285 84.872-30.328 115.326 3.958-.999 8.002-2.008 11.836-2.985 35.11-44.441 56.905-91.65 83.463-139.052zm15.437 9.289c-24.388 43.716-45.437 88.85-78.228 132.535 42.408 26.96 76.17 59.279 109.562 91.057-4.48-75.07-16.635-149.384-31.334-223.592zm-357.435 39.4a3715.148 3715.148 0 0 1-68.361 5.033c42.3 39.285 77.699 79.787 131.166 113.1 2.476.118 4.947.205 7.414.275-28.645-19.655-50.737-49.423-66.012-95.994-2.143-6.533-3.63-14.2-4.207-22.414zm-66.64 31.49l35.439 208.356c15.896-32.83 45.198-74.957 77.945-110.531-46.16-29.99-78.98-64.656-113.385-97.825zm333.741 75.29l-1.09.277c-54.862 13.97-125.265 32.309-201.154 29.244-35.114 37.072-67.574 85.062-82.158 116.557 146.769-2.776 272.969-26.229 398.856-50.698-35.89-34.067-70.647-67.974-114.454-95.38z"},child:[]}]})(e)}function Kie({open:e}){const t=localStorage.getItem("user"),n=t?JSON.parse(t):null,r="flex items-center gap-2 px-4 py-2 rounded-lg",i=({isActive:s})=>`${r} ${s?"bg-blue-600 text-white":"text-gray-700 hover:bg-gray-100"}`;return m.jsx("aside",{className:`
        fixed top-20 bottom-4 left-0 bg-white border-r rounded-r-2xl border-gray-200 p-4
        md:translate-x-0 w-64 transition-transform
        ${e?"translate-x-0":"-translate-x-full"}
        overflow-y-auto
      `,children:m.jsxs("nav",{className:"mt-2 space-y-1",children:[m.jsxs(Yt,{to:"/dashboard",className:i,children:[m.jsx(xie,{className:"mr-2 h-5 w-5"})," Dashboard"]}),n?.role==="admin"&&m.jsxs(m.Fragment,{children:[m.jsxs(Yt,{to:"/employees",className:i,children:[m.jsx(Qg,{className:"mr-2 h-5 w-5"})," Employees"]}),m.jsxs(Yt,{to:"/customer",className:i,children:[m.jsx($t,{className:"mr-2 h-5 w-5"})," Customer"]}),m.jsxs(Yt,{to:"/excel",className:i,children:[m.jsx(bie,{className:"mr-2 h-5 w-5"})," Excel"]}),m.jsxs(Yt,{to:"/earning-form",className:i,children:[m.jsx(gie,{className:"mr-2 h-5 w-5"})," Earning"]}),m.jsxs(Yt,{to:"/source-status",className:i,children:[m.jsx(Ir,{className:"mr-2 h-5 w-5"})," Customer Status"]}),m.jsxs(Yt,{to:"/daily",className:i,children:[m.jsx(i4,{className:"mr-2 h-5 w-5"})," Daily Demo"]}),m.jsxs(Yt,{to:"/admin-demo-done",className:i,children:[m.jsx(i4,{className:"mr-2 h-5 w-5"})," Demo Done"]}),m.jsxs(Yt,{to:"/daily-activity",className:i,children:[m.jsx(sD,{className:"mr-2 h-5 w-5"})," Daily Activity Report"]}),m.jsxs(Yt,{to:"/new-daily-activity",className:i,children:[m.jsx(sD,{className:"mr-2 h-5 w-5"})," New Daily Activity Report"]}),m.jsxs(Yt,{to:"/deal",className:i,children:[m.jsx(Zre,{className:"mr-2 h-5 w-5"})," Deal"]}),m.jsxs(Yt,{to:"/admin-follow",className:i,children:[m.jsx(fG,{className:"mr-2 h-5 w-5"})," Follow / Demo"]}),m.jsxs(Yt,{to:"/admin-interested",className:i,children:[m.jsx(w2,{className:"mr-2 h-5 w-5"})," Interested"]}),m.jsxs(Yt,{to:"/admin-activity",className:i,children:[m.jsx(Xre,{className:"mr-2 h-5 w-5"})," Users Activity"]}),m.jsxs(Yt,{to:"/dfi",className:i,children:[m.jsx(oD,{className:"mr-2 h-5 w-5"})," DFI"]}),m.jsxs(Yt,{to:"/user-track",className:i,children:[m.jsx(die,{className:"mr-2 h-5 w-5"})," User Report"]}),m.jsxs(Yt,{to:"/deal-status-monthly",className:i,children:[m.jsx($t,{className:"mr-2 h-5 w-5"})," New Clients"]}),m.jsxs(Yt,{to:"/hr",className:i,children:[m.jsx(qie,{className:"mr-2 h-5 w-5"})," HR"]})]}),n?.role==="employee"&&m.jsxs(m.Fragment,{children:[m.jsxs(Yt,{to:"/assign-customer",className:i,children:[m.jsx(Qg,{className:"mr-2 h-5 w-5"})," Contacts"]}),m.jsxs(Yt,{to:"/daily-activity",className:i,children:[m.jsx(sD,{className:"mr-2 h-5 w-5"})," Daily Activity Report"]}),m.jsxs(Yt,{to:"/follow-up",className:i,children:[m.jsx(Ir,{className:"mr-2 h-5 w-5"})," Follow Up / Demo"]}),m.jsxs(Yt,{to:"/user-interested",className:i,children:[m.jsx(w2,{className:"mr-2 h-5 w-5"})," Interested"]}),m.jsxs(Yt,{to:"/activity",className:i,children:[m.jsx(oD,{className:"mr-2 h-5 w-5"})," Activity"]}),m.jsxs(Yt,{to:"/user-dfi",className:i,children:[m.jsx(oD,{className:"mr-2 h-5 w-5"})," DFI"]}),m.jsxs(Yt,{to:"/deal-status-monthly",className:i,children:[m.jsx($t,{className:"mr-2 h-5 w-5"})," New Clients"]})]})]})})}function ht({children:e}){const[t,n]=C.useState(!1);return m.jsxs("div",{className:"min-h-screen bg-gray-100",children:[m.jsx($ie,{onToggleSidebar:()=>n(r=>!r)}),m.jsxs("div",{className:"flex pt-20",children:[m.jsx(Kie,{open:t}),m.jsx("main",{className:"flex-1 p-4 md:ml-64 w-full",children:e})]})]})}function gG(e,t){return function(){return e.apply(t,arguments)}}const{toString:Yie}=Object.prototype,{getPrototypeOf:Zk}=Object,{iterator:rx,toStringTag:mG}=Symbol,ix=(e=>t=>{const n=Yie.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),ro=e=>(e=e.toLowerCase(),t=>ix(t)===e),sx=e=>t=>typeof t===e,{isArray:_f}=Array,tf=sx("undefined");function Um(e){return e!==null&&!tf(e)&&e.constructor!==null&&!tf(e.constructor)&&yi(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const vG=ro("ArrayBuffer");function Qie(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&vG(e.buffer),t}const Xie=sx("string"),yi=sx("function"),yG=sx("number"),$m=e=>e!==null&&typeof e=="object",Jie=e=>e===!0||e===!1,q0=e=>{if(ix(e)!=="object")return!1;const t=Zk(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(mG in e)&&!(rx in e)},Zie=e=>{if(!$m(e)||Um(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},ese=ro("Date"),tse=ro("File"),nse=ro("Blob"),rse=ro("FileList"),ise=e=>$m(e)&&yi(e.pipe),sse=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||yi(e.append)&&((t=ix(e))==="formdata"||t==="object"&&yi(e.toString)&&e.toString()==="[object FormData]"))},ose=ro("URLSearchParams"),[ase,lse,cse,use]=["ReadableStream","Request","Response","Headers"].map(ro),dse=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function qm(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,i;if(typeof e!="object"&&(e=[e]),_f(e))for(r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else{if(Um(e))return;const s=n?Object.getOwnPropertyNames(e):Object.keys(e),o=s.length;let a;for(r=0;r<o;r++)a=s[r],t.call(null,e[a],a,e)}}function wG(e,t){if(Um(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r=n.length,i;for(;r-- >0;)if(i=n[r],t===i.toLowerCase())return i;return null}const Cu=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,bG=e=>!tf(e)&&e!==Cu;function b2(){const{caseless:e,skipUndefined:t}=bG(this)&&this||{},n={},r=(i,s)=>{const o=e&&wG(n,s)||s;q0(n[o])&&q0(i)?n[o]=b2(n[o],i):q0(i)?n[o]=b2({},i):_f(i)?n[o]=i.slice():(!t||!tf(i))&&(n[o]=i)};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&qm(arguments[i],r);return n}const hse=(e,t,n,{allOwnKeys:r}={})=>(qm(t,(i,s)=>{n&&yi(i)?e[s]=gG(i,n):e[s]=i},{allOwnKeys:r}),e),fse=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),pse=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},gse=(e,t,n,r)=>{let i,s,o;const a={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),s=i.length;s-- >0;)o=i[s],(!r||r(o,e,t))&&!a[o]&&(t[o]=e[o],a[o]=!0);e=n!==!1&&Zk(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},mse=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},vse=e=>{if(!e)return null;if(_f(e))return e;let t=e.length;if(!yG(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},yse=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Zk(Uint8Array)),wse=(e,t)=>{const r=(e&&e[rx]).call(e);let i;for(;(i=r.next())&&!i.done;){const s=i.value;t.call(e,s[0],s[1])}},bse=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},Cse=ro("HTMLFormElement"),xse=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),s4=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),Sse=ro("RegExp"),CG=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};qm(n,(i,s)=>{let o;(o=t(i,s,e))!==!1&&(r[s]=o||i)}),Object.defineProperties(e,r)},Ese=e=>{CG(e,(t,n)=>{if(yi(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(yi(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Dse=(e,t)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return _f(e)?r(e):r(String(e).split(t)),n},Rse=()=>{},Mse=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Tse(e){return!!(e&&yi(e.append)&&e[mG]==="FormData"&&e[rx])}const kse=e=>{const t=new Array(10),n=(r,i)=>{if($m(r)){if(t.indexOf(r)>=0)return;if(Um(r))return r;if(!("toJSON"in r)){t[i]=r;const s=_f(r)?[]:{};return qm(r,(o,a)=>{const l=n(o,i+1);!tf(l)&&(s[a]=l)}),t[i]=void 0,s}}return r};return n(e,0)},Ase=ro("AsyncFunction"),Pse=e=>e&&($m(e)||yi(e))&&yi(e.then)&&yi(e.catch),xG=((e,t)=>e?setImmediate:t?((n,r)=>(Cu.addEventListener("message",({source:i,data:s})=>{i===Cu&&s===n&&r.length&&r.shift()()},!1),i=>{r.push(i),Cu.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",yi(Cu.postMessage)),Nse=typeof queueMicrotask<"u"?queueMicrotask.bind(Cu):typeof process<"u"&&process.nextTick||xG,Ose=e=>e!=null&&yi(e[rx]),se={isArray:_f,isArrayBuffer:vG,isBuffer:Um,isFormData:sse,isArrayBufferView:Qie,isString:Xie,isNumber:yG,isBoolean:Jie,isObject:$m,isPlainObject:q0,isEmptyObject:Zie,isReadableStream:ase,isRequest:lse,isResponse:cse,isHeaders:use,isUndefined:tf,isDate:ese,isFile:tse,isBlob:nse,isRegExp:Sse,isFunction:yi,isStream:ise,isURLSearchParams:ose,isTypedArray:yse,isFileList:rse,forEach:qm,merge:b2,extend:hse,trim:dse,stripBOM:fse,inherits:pse,toFlatObject:gse,kindOf:ix,kindOfTest:ro,endsWith:mse,toArray:vse,forEachEntry:wse,matchAll:bse,isHTMLForm:Cse,hasOwnProperty:s4,hasOwnProp:s4,reduceDescriptors:CG,freezeMethods:Ese,toObjectSet:Dse,toCamelCase:xse,noop:Rse,toFiniteNumber:Mse,findKey:wG,global:Cu,isContextDefined:bG,isSpecCompliantForm:Tse,toJSONObject:kse,isAsyncFn:Ase,isThenable:Pse,setImmediate:xG,asap:Nse,isIterable:Ose};function Ze(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}se.inherits(Ze,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:se.toJSONObject(this.config),code:this.code,status:this.status}}});const SG=Ze.prototype,EG={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{EG[e]={value:e}});Object.defineProperties(Ze,EG);Object.defineProperty(SG,"isAxiosError",{value:!0});Ze.from=(e,t,n,r,i,s)=>{const o=Object.create(SG);se.toFlatObject(e,o,function(d){return d!==Error.prototype},c=>c!=="isAxiosError");const a=e&&e.message?e.message:"Error",l=t==null&&e?e.code:t;return Ze.call(o,a,l,n,r,i),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",s&&Object.assign(o,s),o};const Fse=null;function C2(e){return se.isPlainObject(e)||se.isArray(e)}function DG(e){return se.endsWith(e,"[]")?e.slice(0,-2):e}function o4(e,t,n){return e?e.concat(t).map(function(i,s){return i=DG(i),!n&&s?"["+i+"]":i}).join(n?".":""):t}function Ise(e){return se.isArray(e)&&!e.some(C2)}const Lse=se.toFlatObject(se,{},null,function(t){return/^is[A-Z]/.test(t)});function ox(e,t,n){if(!se.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=se.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,x){return!se.isUndefined(x[b])});const r=n.metaTokens,i=n.visitor||d,s=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&se.isSpecCompliantForm(t);if(!se.isFunction(i))throw new TypeError("visitor must be a function");function c(y){if(y===null)return"";if(se.isDate(y))return y.toISOString();if(se.isBoolean(y))return y.toString();if(!l&&se.isBlob(y))throw new Ze("Blob is not supported. Use a Buffer instead.");return se.isArrayBuffer(y)||se.isTypedArray(y)?l&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function d(y,b,x){let S=y;if(y&&!x&&typeof y=="object"){if(se.endsWith(b,"{}"))b=r?b:b.slice(0,-2),y=JSON.stringify(y);else if(se.isArray(y)&&Ise(y)||(se.isFileList(y)||se.endsWith(b,"[]"))&&(S=se.toArray(y)))return b=DG(b),S.forEach(function(R,T){!(se.isUndefined(R)||R===null)&&t.append(o===!0?o4([b],T,s):o===null?b:b+"[]",c(R))}),!1}return C2(y)?!0:(t.append(o4(x,b,s),c(y)),!1)}const f=[],p=Object.assign(Lse,{defaultVisitor:d,convertValue:c,isVisitable:C2});function v(y,b){if(!se.isUndefined(y)){if(f.indexOf(y)!==-1)throw Error("Circular reference detected in "+b.join("."));f.push(y),se.forEach(y,function(S,M){(!(se.isUndefined(S)||S===null)&&i.call(t,S,se.isString(M)?M.trim():M,b,p))===!0&&v(S,b?b.concat(M):[M])}),f.pop()}}if(!se.isObject(e))throw new TypeError("data must be an object");return v(e),t}function a4(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function eA(e,t){this._pairs=[],e&&ox(e,this,t)}const RG=eA.prototype;RG.append=function(t,n){this._pairs.push([t,n])};RG.toString=function(t){const n=t?function(r){return t.call(this,r,a4)}:a4;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function _se(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function MG(e,t,n){if(!t)return e;const r=n&&n.encode||_se;se.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let s;if(i?s=i(t,n):s=se.isURLSearchParams(t)?t.toString():new eA(t,n).toString(r),s){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e}class l4{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){se.forEach(this.handlers,function(r){r!==null&&t(r)})}}const TG={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},jse=typeof URLSearchParams<"u"?URLSearchParams:eA,Bse=typeof FormData<"u"?FormData:null,Hse=typeof Blob<"u"?Blob:null,zse={isBrowser:!0,classes:{URLSearchParams:jse,FormData:Bse,Blob:Hse},protocols:["http","https","file","blob","url","data"]},tA=typeof window<"u"&&typeof document<"u",x2=typeof navigator=="object"&&navigator||void 0,Gse=tA&&(!x2||["ReactNative","NativeScript","NS"].indexOf(x2.product)<0),Vse=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Wse=tA&&window.location.href||"http://localhost",Use=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:tA,hasStandardBrowserEnv:Gse,hasStandardBrowserWebWorkerEnv:Vse,navigator:x2,origin:Wse},Symbol.toStringTag,{value:"Module"})),Pr={...Use,...zse};function $se(e,t){return ox(e,new Pr.classes.URLSearchParams,{visitor:function(n,r,i,s){return Pr.isNode&&se.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...t})}function qse(e){return se.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Kse(e){const t={},n=Object.keys(e);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],t[s]=e[s];return t}function kG(e){function t(n,r,i,s){let o=n[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=s>=n.length;return o=!o&&se.isArray(i)?i.length:o,l?(se.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!se.isObject(i[o]))&&(i[o]=[]),t(n,r,i[o],s)&&se.isArray(i[o])&&(i[o]=Kse(i[o])),!a)}if(se.isFormData(e)&&se.isFunction(e.entries)){const n={};return se.forEachEntry(e,(r,i)=>{t(qse(r),i,n,0)}),n}return null}function Yse(e,t,n){if(se.isString(e))try{return(t||JSON.parse)(e),se.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const Km={transitional:TG,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=se.isObject(t);if(s&&se.isHTMLForm(t)&&(t=new FormData(t)),se.isFormData(t))return i?JSON.stringify(kG(t)):t;if(se.isArrayBuffer(t)||se.isBuffer(t)||se.isStream(t)||se.isFile(t)||se.isBlob(t)||se.isReadableStream(t))return t;if(se.isArrayBufferView(t))return t.buffer;if(se.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return $se(t,this.formSerializer).toString();if((a=se.isFileList(t))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return ox(a?{"files[]":t}:t,l&&new l,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),Yse(t)):t}],transformResponse:[function(t){const n=this.transitional||Km.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(se.isResponse(t)||se.isReadableStream(t))return t;if(t&&se.isString(t)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(t,this.parseReviver)}catch(a){if(o)throw a.name==="SyntaxError"?Ze.from(a,Ze.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Pr.classes.FormData,Blob:Pr.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};se.forEach(["delete","get","head","post","put","patch"],e=>{Km.headers[e]={}});const Qse=se.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Xse=e=>{const t={};let n,r,i;return e&&e.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||t[n]&&Qse[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},c4=Symbol("internals");function Qp(e){return e&&String(e).trim().toLowerCase()}function K0(e){return e===!1||e==null?e:se.isArray(e)?e.map(K0):String(e)}function Jse(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const Zse=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function aD(e,t,n,r,i){if(se.isFunction(r))return r.call(this,t,n);if(i&&(t=n),!!se.isString(t)){if(se.isString(r))return t.indexOf(r)!==-1;if(se.isRegExp(r))return r.test(t)}}function eoe(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function toe(e,t){const n=se.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(i,s,o){return this[r].call(this,t,i,s,o)},configurable:!0})})}let wi=class{constructor(t){t&&this.set(t)}set(t,n,r){const i=this;function s(a,l,c){const d=Qp(l);if(!d)throw new Error("header name must be a non-empty string");const f=se.findKey(i,d);(!f||i[f]===void 0||c===!0||c===void 0&&i[f]!==!1)&&(i[f||l]=K0(a))}const o=(a,l)=>se.forEach(a,(c,d)=>s(c,d,l));if(se.isPlainObject(t)||t instanceof this.constructor)o(t,n);else if(se.isString(t)&&(t=t.trim())&&!Zse(t))o(Xse(t),n);else if(se.isObject(t)&&se.isIterable(t)){let a={},l,c;for(const d of t){if(!se.isArray(d))throw TypeError("Object iterator must return a key-value pair");a[c=d[0]]=(l=a[c])?se.isArray(l)?[...l,d[1]]:[l,d[1]]:d[1]}o(a,n)}else t!=null&&s(n,t,r);return this}get(t,n){if(t=Qp(t),t){const r=se.findKey(this,t);if(r){const i=this[r];if(!n)return i;if(n===!0)return Jse(i);if(se.isFunction(n))return n.call(this,i,r);if(se.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Qp(t),t){const r=se.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||aD(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let i=!1;function s(o){if(o=Qp(o),o){const a=se.findKey(r,o);a&&(!n||aD(r,r[a],a,n))&&(delete r[a],i=!0)}}return se.isArray(t)?t.forEach(s):s(t),i}clear(t){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!t||aD(this,this[s],s,t,!0))&&(delete this[s],i=!0)}return i}normalize(t){const n=this,r={};return se.forEach(this,(i,s)=>{const o=se.findKey(r,s);if(o){n[o]=K0(i),delete n[s];return}const a=t?eoe(s):String(s).trim();a!==s&&delete n[s],n[a]=K0(i),r[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return se.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=t&&se.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(i=>r.set(i)),r}static accessor(t){const r=(this[c4]=this[c4]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=Qp(o);r[a]||(toe(i,o),r[a]=!0)}return se.isArray(t)?t.forEach(s):s(t),this}};wi.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);se.reduceDescriptors(wi.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});se.freezeMethods(wi);function lD(e,t){const n=this||Km,r=t||n,i=wi.from(r.headers);let s=r.data;return se.forEach(e,function(a){s=a.call(n,s,i.normalize(),t?t.status:void 0)}),i.normalize(),s}function AG(e){return!!(e&&e.__CANCEL__)}function jf(e,t,n){Ze.call(this,e??"canceled",Ze.ERR_CANCELED,t,n),this.name="CanceledError"}se.inherits(jf,Ze,{__CANCEL__:!0});function PG(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new Ze("Request failed with status code "+n.status,[Ze.ERR_BAD_REQUEST,Ze.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function noe(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function roe(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i=0,s=0,o;return t=t!==void 0?t:1e3,function(l){const c=Date.now(),d=r[s];o||(o=c),n[i]=l,r[i]=c;let f=s,p=0;for(;f!==i;)p+=n[f++],f=f%e;if(i=(i+1)%e,i===s&&(s=(s+1)%e),c-o<t)return;const v=d&&c-d;return v?Math.round(p*1e3/v):void 0}}function ioe(e,t){let n=0,r=1e3/t,i,s;const o=(c,d=Date.now())=>{n=d,i=null,s&&(clearTimeout(s),s=null),e(...c)};return[(...c)=>{const d=Date.now(),f=d-n;f>=r?o(c,d):(i=c,s||(s=setTimeout(()=>{s=null,o(i)},r-f)))},()=>i&&o(i)]}const Aw=(e,t,n=3)=>{let r=0;const i=roe(50,250);return ioe(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,l=o-r,c=i(l),d=o<=a;r=o;const f={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&d?(a-o)/c:void 0,event:s,lengthComputable:a!=null,[t?"download":"upload"]:!0};e(f)},n)},u4=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},d4=e=>(...t)=>se.asap(()=>e(...t)),soe=Pr.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Pr.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Pr.origin),Pr.navigator&&/(msie|trident)/i.test(Pr.navigator.userAgent)):()=>!0,ooe=Pr.hasStandardBrowserEnv?{write(e,t,n,r,i,s,o){if(typeof document>"u")return;const a=[`${e}=${encodeURIComponent(t)}`];se.isNumber(n)&&a.push(`expires=${new Date(n).toUTCString()}`),se.isString(r)&&a.push(`path=${r}`),se.isString(i)&&a.push(`domain=${i}`),s===!0&&a.push("secure"),se.isString(o)&&a.push(`SameSite=${o}`),document.cookie=a.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function aoe(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function loe(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function NG(e,t,n){let r=!aoe(t);return e&&(r||n==!1)?loe(e,t):t}const h4=e=>e instanceof wi?{...e}:e;function Zu(e,t){t=t||{};const n={};function r(c,d,f,p){return se.isPlainObject(c)&&se.isPlainObject(d)?se.merge.call({caseless:p},c,d):se.isPlainObject(d)?se.merge({},d):se.isArray(d)?d.slice():d}function i(c,d,f,p){if(se.isUndefined(d)){if(!se.isUndefined(c))return r(void 0,c,f,p)}else return r(c,d,f,p)}function s(c,d){if(!se.isUndefined(d))return r(void 0,d)}function o(c,d){if(se.isUndefined(d)){if(!se.isUndefined(c))return r(void 0,c)}else return r(void 0,d)}function a(c,d,f){if(f in t)return r(c,d);if(f in e)return r(void 0,c)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,d,f)=>i(h4(c),h4(d),f,!0)};return se.forEach(Object.keys({...e,...t}),function(d){const f=l[d]||i,p=f(e[d],t[d],d);se.isUndefined(p)&&f!==a||(n[d]=p)}),n}const OG=e=>{const t=Zu({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:a}=t;if(t.headers=o=wi.from(o),t.url=MG(NG(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),se.isFormData(n)){if(Pr.hasStandardBrowserEnv||Pr.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(se.isFunction(n.getHeaders)){const l=n.getHeaders(),c=["content-type","content-length"];Object.entries(l).forEach(([d,f])=>{c.includes(d.toLowerCase())&&o.set(d,f)})}}if(Pr.hasStandardBrowserEnv&&(r&&se.isFunction(r)&&(r=r(t)),r||r!==!1&&soe(t.url))){const l=i&&s&&ooe.read(s);l&&o.set(i,l)}return t},coe=typeof XMLHttpRequest<"u",uoe=coe&&function(e){return new Promise(function(n,r){const i=OG(e);let s=i.data;const o=wi.from(i.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=i,d,f,p,v,y;function b(){v&&v(),y&&y(),i.cancelToken&&i.cancelToken.unsubscribe(d),i.signal&&i.signal.removeEventListener("abort",d)}let x=new XMLHttpRequest;x.open(i.method.toUpperCase(),i.url,!0),x.timeout=i.timeout;function S(){if(!x)return;const R=wi.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),k={data:!a||a==="text"||a==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:R,config:e,request:x};PG(function(A){n(A),b()},function(A){r(A),b()},k),x=null}"onloadend"in x?x.onloadend=S:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(S)},x.onabort=function(){x&&(r(new Ze("Request aborted",Ze.ECONNABORTED,e,x)),x=null)},x.onerror=function(T){const k=T&&T.message?T.message:"Network Error",P=new Ze(k,Ze.ERR_NETWORK,e,x);P.event=T||null,r(P),x=null},x.ontimeout=function(){let T=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const k=i.transitional||TG;i.timeoutErrorMessage&&(T=i.timeoutErrorMessage),r(new Ze(T,k.clarifyTimeoutError?Ze.ETIMEDOUT:Ze.ECONNABORTED,e,x)),x=null},s===void 0&&o.setContentType(null),"setRequestHeader"in x&&se.forEach(o.toJSON(),function(T,k){x.setRequestHeader(k,T)}),se.isUndefined(i.withCredentials)||(x.withCredentials=!!i.withCredentials),a&&a!=="json"&&(x.responseType=i.responseType),c&&([p,y]=Aw(c,!0),x.addEventListener("progress",p)),l&&x.upload&&([f,v]=Aw(l),x.upload.addEventListener("progress",f),x.upload.addEventListener("loadend",v)),(i.cancelToken||i.signal)&&(d=R=>{x&&(r(!R||R.type?new jf(null,e,x):R),x.abort(),x=null)},i.cancelToken&&i.cancelToken.subscribe(d),i.signal&&(i.signal.aborted?d():i.signal.addEventListener("abort",d)));const M=noe(i.url);if(M&&Pr.protocols.indexOf(M)===-1){r(new Ze("Unsupported protocol "+M+":",Ze.ERR_BAD_REQUEST,e));return}x.send(s||null)})},doe=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,i;const s=function(c){if(!i){i=!0,a();const d=c instanceof Error?c:this.reason;r.abort(d instanceof Ze?d:new jf(d instanceof Error?d.message:d))}};let o=t&&setTimeout(()=>{o=null,s(new Ze(`timeout ${t} of ms exceeded`,Ze.ETIMEDOUT))},t);const a=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(s):c.removeEventListener("abort",s)}),e=null)};e.forEach(c=>c.addEventListener("abort",s));const{signal:l}=r;return l.unsubscribe=()=>se.asap(a),l}},hoe=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,i;for(;r<n;)i=r+t,yield e.slice(r,i),r=i},foe=async function*(e,t){for await(const n of poe(e))yield*hoe(n,t)},poe=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},f4=(e,t,n,r)=>{const i=foe(e,t);let s=0,o,a=l=>{o||(o=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:c,value:d}=await i.next();if(c){a(),l.close();return}let f=d.byteLength;if(n){let p=s+=f;n(p)}l.enqueue(new Uint8Array(d))}catch(c){throw a(c),c}},cancel(l){return a(l),i.return()}},{highWaterMark:2})},p4=64*1024,{isFunction:Uy}=se,goe=(({Request:e,Response:t})=>({Request:e,Response:t}))(se.global),{ReadableStream:g4,TextEncoder:m4}=se.global,v4=(e,...t)=>{try{return!!e(...t)}catch{return!1}},moe=e=>{e=se.merge.call({skipUndefined:!0},goe,e);const{fetch:t,Request:n,Response:r}=e,i=t?Uy(t):typeof fetch=="function",s=Uy(n),o=Uy(r);if(!i)return!1;const a=i&&Uy(g4),l=i&&(typeof m4=="function"?(y=>b=>y.encode(b))(new m4):async y=>new Uint8Array(await new n(y).arrayBuffer())),c=s&&a&&v4(()=>{let y=!1;const b=new n(Pr.origin,{body:new g4,method:"POST",get duplex(){return y=!0,"half"}}).headers.has("Content-Type");return y&&!b}),d=o&&a&&v4(()=>se.isReadableStream(new r("").body)),f={stream:d&&(y=>y.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(y=>{!f[y]&&(f[y]=(b,x)=>{let S=b&&b[y];if(S)return S.call(b);throw new Ze(`Response type '${y}' is not supported`,Ze.ERR_NOT_SUPPORT,x)})});const p=async y=>{if(y==null)return 0;if(se.isBlob(y))return y.size;if(se.isSpecCompliantForm(y))return(await new n(Pr.origin,{method:"POST",body:y}).arrayBuffer()).byteLength;if(se.isArrayBufferView(y)||se.isArrayBuffer(y))return y.byteLength;if(se.isURLSearchParams(y)&&(y=y+""),se.isString(y))return(await l(y)).byteLength},v=async(y,b)=>{const x=se.toFiniteNumber(y.getContentLength());return x??p(b)};return async y=>{let{url:b,method:x,data:S,signal:M,cancelToken:R,timeout:T,onDownloadProgress:k,onUploadProgress:P,responseType:A,headers:O,withCredentials:B="same-origin",fetchOptions:U}=OG(y),_=t||fetch;A=A?(A+"").toLowerCase():"text";let I=doe([M,R&&R.toAbortSignal()],T),V=null;const F=I&&I.unsubscribe&&(()=>{I.unsubscribe()});let L;try{if(P&&c&&x!=="get"&&x!=="head"&&(L=await v(O,S))!==0){let H=new n(b,{method:"POST",body:S,duplex:"half"}),Y;if(se.isFormData(S)&&(Y=H.headers.get("content-type"))&&O.setContentType(Y),H.body){const[Z,X]=u4(L,Aw(d4(P)));S=f4(H.body,p4,Z,X)}}se.isString(B)||(B=B?"include":"omit");const z=s&&"credentials"in n.prototype,j={...U,signal:I,method:x.toUpperCase(),headers:O.normalize().toJSON(),body:S,duplex:"half",credentials:z?B:void 0};V=s&&new n(b,j);let $=await(s?_(V,U):_(b,j));const W=d&&(A==="stream"||A==="response");if(d&&(k||W&&F)){const H={};["status","statusText","headers"].forEach(fe=>{H[fe]=$[fe]});const Y=se.toFiniteNumber($.headers.get("content-length")),[Z,X]=k&&u4(Y,Aw(d4(k),!0))||[];$=new r(f4($.body,p4,Z,()=>{X&&X(),F&&F()}),H)}A=A||"text";let K=await f[se.findKey(f,A)||"text"]($,y);return!W&&F&&F(),await new Promise((H,Y)=>{PG(H,Y,{data:K,headers:wi.from($.headers),status:$.status,statusText:$.statusText,config:y,request:V})})}catch(z){throw F&&F(),z&&z.name==="TypeError"&&/Load failed|fetch/i.test(z.message)?Object.assign(new Ze("Network Error",Ze.ERR_NETWORK,y,V),{cause:z.cause||z}):Ze.from(z,z&&z.code,y,V)}}},voe=new Map,FG=e=>{let t=e&&e.env||{};const{fetch:n,Request:r,Response:i}=t,s=[r,i,n];let o=s.length,a=o,l,c,d=voe;for(;a--;)l=s[a],c=d.get(l),c===void 0&&d.set(l,c=a?new Map:moe(t)),d=c;return c};FG();const nA={http:Fse,xhr:uoe,fetch:{get:FG}};se.forEach(nA,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const y4=e=>`- ${e}`,yoe=e=>se.isFunction(e)||e===null||e===!1;function woe(e,t){e=se.isArray(e)?e:[e];const{length:n}=e;let r,i;const s={};for(let o=0;o<n;o++){r=e[o];let a;if(i=r,!yoe(r)&&(i=nA[(a=String(r)).toLowerCase()],i===void 0))throw new Ze(`Unknown adapter '${a}'`);if(i&&(se.isFunction(i)||(i=i.get(t))))break;s[a||"#"+o]=i}if(!i){const o=Object.entries(s).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let a=n?o.length>1?`since :
`+o.map(y4).join(`
`):" "+y4(o[0]):"as no adapter specified";throw new Ze("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return i}const IG={getAdapter:woe,adapters:nA};function cD(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new jf(null,e)}function w4(e){return cD(e),e.headers=wi.from(e.headers),e.data=lD.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),IG.getAdapter(e.adapter||Km.adapter,e)(e).then(function(r){return cD(e),r.data=lD.call(e,e.transformResponse,r),r.headers=wi.from(r.headers),r},function(r){return AG(r)||(cD(e),r&&r.response&&(r.response.data=lD.call(e,e.transformResponse,r.response),r.response.headers=wi.from(r.response.headers))),Promise.reject(r)})}const LG="1.13.2",ax={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{ax[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const b4={};ax.transitional=function(t,n,r){function i(s,o){return"[Axios v"+LG+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(t===!1)throw new Ze(i(o," has been removed"+(n?" in "+n:"")),Ze.ERR_DEPRECATED);return n&&!b4[o]&&(b4[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(s,o,a):!0}};ax.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function boe(e,t,n){if(typeof e!="object")throw new Ze("options must be an object",Ze.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const s=r[i],o=t[s];if(o){const a=e[s],l=a===void 0||o(a,s,e);if(l!==!0)throw new Ze("option "+s+" must be "+l,Ze.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Ze("Unknown option "+s,Ze.ERR_BAD_OPTION)}}const Y0={assertOptions:boe,validators:ax},fo=Y0.validators;let Ou=class{constructor(t){this.defaults=t||{},this.interceptors={request:new l4,response:new l4}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Zu(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&Y0.assertOptions(r,{silentJSONParsing:fo.transitional(fo.boolean),forcedJSONParsing:fo.transitional(fo.boolean),clarifyTimeoutError:fo.transitional(fo.boolean)},!1),i!=null&&(se.isFunction(i)?n.paramsSerializer={serialize:i}:Y0.assertOptions(i,{encode:fo.function,serialize:fo.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Y0.assertOptions(n,{baseUrl:fo.spelling("baseURL"),withXsrfToken:fo.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&se.merge(s.common,s[n.method]);s&&se.forEach(["delete","get","head","post","put","patch","common"],y=>{delete s[y]}),n.headers=wi.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(n)===!1||(l=l&&b.synchronous,a.unshift(b.fulfilled,b.rejected))});const c=[];this.interceptors.response.forEach(function(b){c.push(b.fulfilled,b.rejected)});let d,f=0,p;if(!l){const y=[w4.bind(this),void 0];for(y.unshift(...a),y.push(...c),p=y.length,d=Promise.resolve(n);f<p;)d=d.then(y[f++],y[f++]);return d}p=a.length;let v=n;for(;f<p;){const y=a[f++],b=a[f++];try{v=y(v)}catch(x){b.call(this,x);break}}try{d=w4.call(this,v)}catch(y){return Promise.reject(y)}for(f=0,p=c.length;f<p;)d=d.then(c[f++],c[f++]);return d}getUri(t){t=Zu(this.defaults,t);const n=NG(t.baseURL,t.url,t.allowAbsoluteUrls);return MG(n,t.params,t.paramsSerializer)}};se.forEach(["delete","get","head","options"],function(t){Ou.prototype[t]=function(n,r){return this.request(Zu(r||{},{method:t,url:n,data:(r||{}).data}))}});se.forEach(["post","put","patch"],function(t){function n(r){return function(s,o,a){return this.request(Zu(a||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Ou.prototype[t]=n(),Ou.prototype[t+"Form"]=n(!0)});let Coe=class _G{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},t(function(s,o,a){r.reason||(r.reason=new jf(s,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new _G(function(i){t=i}),cancel:t}}};function xoe(e){return function(n){return e.apply(null,n)}}function Soe(e){return se.isObject(e)&&e.isAxiosError===!0}const S2={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(S2).forEach(([e,t])=>{S2[t]=e});function jG(e){const t=new Ou(e),n=gG(Ou.prototype.request,t);return se.extend(n,Ou.prototype,t,{allOwnKeys:!0}),se.extend(n,t,null,{allOwnKeys:!0}),n.create=function(i){return jG(Zu(e,i))},n}const me=jG(Km);me.Axios=Ou;me.CanceledError=jf;me.CancelToken=Coe;me.isCancel=AG;me.VERSION=LG;me.toFormData=ox;me.AxiosError=Ze;me.Cancel=me.CanceledError;me.all=function(t){return Promise.all(t)};me.spread=xoe;me.isAxiosError=Soe;me.mergeConfig=Zu;me.AxiosHeaders=wi;me.formToJSON=e=>kG(se.isHTMLForm(e)?new FormData(e):e);me.getAdapter=IG.getAdapter;me.HttpStatusCode=S2;me.default=me;const{Axios:a$e,AxiosError:l$e,CanceledError:c$e,isCancel:u$e,CancelToken:d$e,VERSION:h$e,all:f$e,Cancel:p$e,isAxiosError:g$e,spread:m$e,toFormData:v$e,AxiosHeaders:y$e,HttpStatusCode:w$e,formToJSON:b$e,getAdapter:C$e,mergeConfig:x$e}=me;function Eoe(){const[e,t]=C.useState({email:"",password:""}),[n,r]=C.useState(""),[i,s]=C.useState(!1),[o,a]=C.useState(!1),l="https://crm.softwaresetu.com/api",c=Rt(),d=async f=>{f.preventDefault(),r(""),a(!0);try{const{data:p}=await me.post(`${l}/auth/login`,{email:e.email,password:e.password});localStorage.setItem("token",p.token),localStorage.setItem("user",JSON.stringify(p.user)),p.admin&&localStorage.setItem("adminData",JSON.stringify(p.admin));const v=JSON.parse(localStorage.getItem("user"));console.log("Logged-in user:",v),console.log("Admin Data:",p.admin),v.role==="employee"?c("/assign-customer"):c("/dashboard")}catch(p){r(p.response?.data?.message||"Login failed. Please try again.")}finally{a(!1)}};return m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#f0f4ff] p-4",children:m.jsxs("div",{className:"bg-white rounded-2xl shadow-md w-full max-w-md p-8",children:[m.jsx("h1",{className:"text-2xl font-semibold text-center mb-2",children:"Welcome Back"}),m.jsx("p",{className:"text-center text-gray-500 mb-6",children:"Sign in to your account to continue"}),n&&m.jsx("div",{className:"mb-3 text-red-600 text-sm",children:n}),m.jsxs("form",{onSubmit:d,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email"}),m.jsxs("div",{className:"relative",children:[m.jsx(Rie,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),m.jsx("input",{className:"w-full pl-10 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:outline-none",type:"email",value:e.email,onChange:f=>t(p=>({...p,email:f.target.value})),placeholder:"you@example.com",required:!0})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-1",children:"Password"}),m.jsxs("div",{className:"relative",children:[m.jsx(Eie,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),m.jsx("input",{className:"w-full pl-10 pr-10 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:outline-none",type:i?"text":"password",value:e.password,onChange:f=>t(p=>({...p,password:f.target.value})),placeholder:"",required:!0}),i?m.jsx(vie,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5 cursor-pointer",onClick:()=>s(!1)}):m.jsx(Wm,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5 cursor-pointer",onClick:()=>s(!0)})]})]}),m.jsx("button",{className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-2 rounded-lg transition",disabled:o,children:o?"Logging in...":"Sign In"})]})]})})}function Ic({role:e,children:t,fallback:n=null}){const r=localStorage.getItem("user"),i=r?JSON.parse(r):null;return!i||i.role!==e?n:t}var ed=class{constructor(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}setFrameworkOverrides(e){this.frameworkOverrides=e}getListeners(e,t,n){const r=t?this.allAsyncListeners:this.allSyncListeners;let i=r.get(e);return!i&&n&&(i=new Set,r.set(e,i)),i}noRegisteredListenersExist(){return this.allSyncListeners.size===0&&this.allAsyncListeners.size===0&&this.globalSyncListeners.size===0&&this.globalAsyncListeners.size===0}addEventListener(e,t,n=!1){this.getListeners(e,n,!0).add(t)}removeEventListener(e,t,n=!1){const r=this.getListeners(e,n,!1);r&&(r.delete(t),r.size===0&&(n?this.allAsyncListeners:this.allSyncListeners).delete(e))}addGlobalListener(e,t=!1){this.getGlobalListeners(t).add(e)}removeGlobalListener(e,t=!1){this.getGlobalListeners(t).delete(e)}dispatchEvent(e){this.dispatchToListeners(e,!0),this.dispatchToListeners(e,!1),this.firedEvents[e.type]=!0}dispatchEventOnce(e){this.firedEvents[e.type]||this.dispatchEvent(e)}dispatchToListeners(e,t){const n=e.type;if(t&&"event"in e){const a=e.event;a instanceof Event&&(e.eventPath=a.composedPath())}const{frameworkOverrides:r}=this,i=a=>{const l=r?()=>r.wrapIncoming(a):a;t?this.dispatchAsync(l):l()},s=this.getListeners(n,t,!1);if((s?.size??0)>0){const a=new Set(s);for(const l of a)s?.has(l)&&i(()=>l(e))}const o=this.getGlobalListeners(t);if(o.size>0){const a=new Set(o);for(const l of a)i(()=>l(n,e))}}getGlobalListeners(e){return e?this.globalAsyncListeners:this.globalSyncListeners}dispatchAsync(e){if(this.asyncFunctionsQueue.push(e),!this.scheduled){const t=()=>{window.setTimeout(this.flushAsyncQueue.bind(this),0)};this.frameworkOverrides?this.frameworkOverrides.wrapIncoming(t):t(),this.scheduled=!0}}flushAsyncQueue(){this.scheduled=!1;const e=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[];for(const t of e)t()}};function Fa(e){return e==null||e===""?null:e}function De(e){return e!=null&&e!==""}function Kt(e){return!De(e)}function E2(e){return e!=null&&typeof e.toString=="function"?e.toString():null}function Xg(e,t){const n=e?JSON.stringify(e):null,r=t?JSON.stringify(t):null;return n===r}function Doe(e,t,n=!1){const r=e==null,i=t==null;if(e?.toNumber&&(e=e.toNumber()),t?.toNumber&&(t=t.toNumber()),r&&i)return 0;if(r)return-1;if(i)return 1;function s(o,a){return o>a?1:o<a?-1:0}if(typeof e!="string"||!n)return s(e,t);try{return e.localeCompare(t)}catch{return s(e,t)}}var Roe=/[&<>"']/g,Moe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function vd(e){return e?.toString().toString()??null}function Mg(e){return vd(e)?.replace(Roe,t=>Moe[t])??null}function wo(e){return e.eRootDiv.getRootNode()}function sn(e){return wo(e).activeElement}function Wn(e){const{gos:t,eRootDiv:n}=e;let r=null;const i=t.get("getDocument");return i&&De(i)?r=i():n&&(r=n.ownerDocument),r&&De(r)?r:document}function BG(e){const t=sn(e);return t===null||t===Wn(e).body}function HG(e){return Wn(e).defaultView||window}function rA(e){let t=null,n=null;try{t=Wn(e).fullscreenElement}catch{}finally{t||(t=wo(e));const r=t.querySelector("body");r?n=r:t instanceof ShadowRoot?n=t:t instanceof Document?n=t?.documentElement:n=t}return n}function Toe(e){return rA(e)?.clientWidth??(window.innerWidth||-1)}function koe(e){return rA(e)?.clientHeight??(window.innerHeight||-1)}function io(e,t,n){n==null||typeof n=="string"&&n==""?iA(e,t):Is(e,t,n)}function Is(e,t,n){e.setAttribute(zG(t),n.toString())}function iA(e,t){e.removeAttribute(zG(t))}function zG(e){return`aria-${e}`}function Ka(e,t){t?e.setAttribute("role",t):e.removeAttribute("role")}function Aoe(e){let t;return e==="asc"?t="ascending":e==="desc"?t="descending":e==="mixed"?t="other":t="none",t}function Poe(e){return e.getAttribute("aria-label")}function nf(e,t){io(e,"label",t)}function Jg(e,t){io(e,"labelledby",t)}function GG(e,t){io(e,"live",t)}function Noe(e,t){io(e,"atomic",t)}function Ooe(e,t){io(e,"relevant",t)}function Foe(e,t){io(e,"invalid",t)}function Ioe(e,t){io(e,"disabled",t)}function VG(e,t){io(e,"hidden",t)}function Zg(e,t){Is(e,"expanded",t)}function Loe(e){iA(e,"expanded")}function _oe(e,t){Is(e,"setsize",t)}function joe(e,t){Is(e,"posinset",t)}function Boe(e,t){Is(e,"multiselectable",t)}function WG(e,t){Is(e,"rowcount",t)}function Pw(e,t){Is(e,"rowindex",t)}function Hoe(e,t){Is(e,"rowspan",t)}function UG(e,t){Is(e,"colcount",t)}function $G(e,t){Is(e,"colindex",t)}function zoe(e,t){Is(e,"colspan",t)}function qG(e,t){Is(e,"sort",t)}function KG(e){iA(e,"sort")}function YG(e,t){io(e,"selected",t)}function Goe(e,t){io(e,"controls",t)}function Voe(e,t){Goe(e,t.id),Jg(t,e.id)}function C4(e,t){io(e,"owns",t)}function lx(e,t){return t===void 0?e("ariaIndeterminate","indeterminate"):t===!0?e("ariaChecked","checked"):e("ariaUnchecked","unchecked")}var Woe="[tabindex], input, select, button, textarea, [href]",QG="[disabled], .ag-disabled:not(.ag-button), .ag-disabled *";function Tg(e){return!e||!e.matches("input, select, button, textarea")||!e.matches(QG)?!1:qo(e)}function Wt(e,t,n={}){const{skipAriaHidden:r}=n;e.classList.toggle("ag-hidden",!t),r||VG(e,!t)}function Uoe(e,t,n={}){const{skipAriaHidden:r}=n;e.classList.toggle("ag-invisible",!t),r||VG(e,!t)}function em(e,t){const n="disabled",r=t?s=>s.setAttribute(n,""):s=>s.removeAttribute(n);r(e);const i=e.querySelectorAll("input")??[];for(const s of i)r(s)}function Fu(e,t,n){let r=0;for(;e;){if(e.classList.contains(t))return!0;if(e=e.parentElement,typeof n=="number"){if(++r>n)break}else if(e===n)break}return!1}function yd(e){const{height:t,width:n,borderTopWidth:r,borderRightWidth:i,borderBottomWidth:s,borderLeftWidth:o,paddingTop:a,paddingRight:l,paddingBottom:c,paddingLeft:d,marginTop:f,marginRight:p,marginBottom:v,marginLeft:y,boxSizing:b}=window.getComputedStyle(e),x=Number.parseFloat;return{height:x(t||"0"),width:x(n||"0"),borderTopWidth:x(r||"0"),borderRightWidth:x(i||"0"),borderBottomWidth:x(s||"0"),borderLeftWidth:x(o||"0"),paddingTop:x(a||"0"),paddingRight:x(l||"0"),paddingBottom:x(c||"0"),paddingLeft:x(d||"0"),marginTop:x(f||"0"),marginRight:x(p||"0"),marginBottom:x(v||"0"),marginLeft:x(y||"0"),boxSizing:b}}function sA(e){const t=yd(e);return t.boxSizing==="border-box"?t.height-t.paddingTop-t.paddingBottom-t.borderTopWidth-t.borderBottomWidth:t.height}function tm(e){const t=yd(e);return t.boxSizing==="border-box"?t.width-t.paddingLeft-t.paddingRight-t.borderLeftWidth-t.borderRightWidth:t.width}function XG(e){const{height:t,marginBottom:n,marginTop:r}=yd(e);return Math.floor(t+n+r)}function Nw(e){const{width:t,marginLeft:n,marginRight:r}=yd(e);return Math.floor(t+n+r)}function JG(e){const t=e.getBoundingClientRect(),{borderTopWidth:n,borderLeftWidth:r,borderRightWidth:i,borderBottomWidth:s}=yd(e);return{top:t.top+(n||0),left:t.left+(r||0),right:t.right+(i||0),bottom:t.bottom+(s||0)}}function Ow(e,t){let n=e.scrollLeft;return t&&(n=Math.abs(n)),n}function Fw(e,t,n){n&&(t*=-1),e.scrollLeft=t}function xr(e){for(;e?.firstChild;)e.firstChild.remove()}function Es(e){e?.parentNode&&e.remove()}function ZG(e){return!!e.offsetParent}function qo(e){return e.checkVisibility?e.checkVisibility({checkVisibilityCSS:!0}):!(!ZG(e)||window.getComputedStyle(e).visibility!=="visible")}function oA(e){const t=document.createElement("div");return t.innerHTML=(e||"").trim(),t.firstChild}function eV(e,t,n){n&&n.nextSibling===t||(e.firstChild?n?n.nextSibling?e.insertBefore(t,n.nextSibling):e.appendChild(t):e.firstChild&&e.firstChild!==t&&e.insertAdjacentElement("afterbegin",t):e.appendChild(t))}function tV(e,t){for(let n=0;n<t.length;n++){const r=t[n],i=e.children[n];i!==r&&e.insertBefore(r,i)}}function $oe(e){return e.replace(/[A-Z]/g,t=>`-${t.toLocaleLowerCase()}`)}function Ym(e,t){if(t)for(const n of Object.keys(t)){const r=t[n];if(!n?.length||r==null)continue;const i=$oe(n),s=r.toString(),o=s.replace(/\s*!important/g,""),a=o.length!=s.length?"important":void 0;e.style.setProperty(i,o,a)}}function Q0(e){return()=>{const t=e();return t?aA(t)||nV(t):!0}}function aA(e){return e.clientWidth<e.scrollWidth}function nV(e){return e.clientHeight<e.scrollHeight}function Iw(e,t){t==="flex"?(e.style.removeProperty("width"),e.style.removeProperty("minWidth"),e.style.removeProperty("maxWidth"),e.style.flex="1 1 auto"):No(e,t)}function No(e,t){t=lA(t),e.style.width=t,e.style.maxWidth=t,e.style.minWidth=t}function kg(e,t){t=lA(t),e.style.height=t,e.style.maxHeight=t,e.style.minHeight=t}function lA(e){return typeof e=="number"?`${e}px`:e}function cA(e){return e instanceof Node||e instanceof HTMLElement}function Wi(e,t,n){n==null||n===""?e.removeAttribute(t):e.setAttribute(t,n.toString())}function so(e,t,n){const i=HG(e).ResizeObserver,s=i?new i(n):null;return s?.observe(t),()=>s?.disconnect()}function ul(e,t){const n=HG(e);n.requestAnimationFrame?n.requestAnimationFrame(t):n.webkitRequestAnimationFrame?n.webkitRequestAnimationFrame(t):n.setTimeout(t,0)}var rV="data-ref",uD;function x4(){return uD??(uD=document.createTextNode(" ")),uD.cloneNode()}function Qm(e){const{attrs:t,children:n,cls:r,ref:i,role:s,tag:o}=e,a=document.createElement(o);if(r&&(a.className=r),i&&a.setAttribute(rV,i),s&&a.setAttribute("role",s),t)for(const l of Object.keys(t))a.setAttribute(l,t[l]);if(n)if(typeof n=="string")a.textContent=n;else{let l=!0;for(const c of n)c&&(typeof c=="string"?(a.appendChild(document.createTextNode(c)),l=!1):typeof c=="function"?a.appendChild(c()):(l&&(a.appendChild(x4()),l=!1),a.append(Qm(c)),a.appendChild(x4())))}return a}var qoe=["touchstart","touchend","touchmove","touchcancel","scroll"],Koe=["wheel"],dD={},iV=(()=>{const e={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return n=>{if(typeof dD[n]=="boolean")return dD[n];const r=document.createElement(e[n]||"div");return n="on"+n,dD[n]=n in r}})();function D2(e,t){return!t||!e?!1:Qoe(t).indexOf(e)>=0}function Yoe(e){const t=[];let n=e.target;for(;n;)t.push(n),n=n.parentElement;return t}function Qoe(e){const t=e;return t.path?t.path:t.composedPath?t.composedPath():Yoe(t)}function Xoe(e,t,n){const r=Joe(t);let i;r!=null&&(i={passive:r}),e.addEventListener(t,n,i)}var Joe=e=>{const t=qoe.includes(e),n=Koe.includes(e);if(t)return!0;if(n)return!1};function sV(e,t,n){if(n===0)return!1;const r=Math.abs(e.clientX-t.clientX),i=Math.abs(e.clientY-t.clientY);return Math.max(r,i)<=n}var Ag=(e,t)=>{const n=e.identifier;for(let r=0,i=t.length;r<i;++r){const s=t[r];if(s.identifier===n)return s}return null};function nm(e,t){return e.gos.isElementInThisInstance(t.target)}function Zoe(e,t,n){const i=e.getBoundingClientRect().height,s=Toe(n)-2,o=koe(n)-2;if(!e.offsetParent)return;const l=JG(e.offsetParent),{clientY:c,clientX:d}=t;let f=c-l.top-i/2,p=d-l.left-10;const v=Wn(n),y=v.defaultView||window,b=y.pageYOffset||v.documentElement.scrollTop,x=y.pageXOffset||v.documentElement.scrollLeft;s>0&&p+e.clientWidth>s+x&&(p=s+x-e.clientWidth),p<0&&(p=0),o>0&&f+e.clientHeight>o+b&&(f=o+b-e.clientHeight),f<0&&(f=0),e.style.left=`${p}px`,e.style.top=`${f}px`}var X0=(e,...t)=>{for(const n of t){const[r,i,s,o]=n;r.addEventListener(i,s,o),e.push(n)}},uA=e=>{if(e){for(const[t,n,r,i]of e)t.removeEventListener(n,r,i);e.length=0}},ec=e=>{e.cancelable&&e.preventDefault()};function eae(e,t){return t}function oV(e){return e?.getLocaleTextFunc()??eae}function tae(e,t,n,r){const i=t[n];return e.getLocaleTextFunc()(n,typeof i=="function"?i(r):i,r)}function nae(e){return(t,n,r)=>e({key:t,defaultValue:n,variableValues:r})}function rae(e){return(t,n,r)=>{let i=e?.[t];if(i&&r?.length){let s=0;for(;!(s>=r.length||i.indexOf("${variable}")===-1);)i=i.replace("${variable}",r[s++])}return i??n}}var Ko=class{constructor(){this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.propertyListenerId=0,this.lastChangeSetIdLookup={},this.isAlive=()=>!this.destroyed}preWireBeans(e){this.beans=e,this.stubContext=e.context,this.eventSvc=e.eventSvc,this.gos=e.gos}destroy(){const{destroyFunctions:e}=this;for(let t=0;t<e.length;t++)e[t]();e.length=0,this.destroyed=!0,this.dispatchLocalEvent({type:"destroyed"})}addEventListener(e,t,n){this.localEventService||(this.localEventService=new ed),this.localEventService.addEventListener(e,t,n)}removeEventListener(e,t,n){this.localEventService?.removeEventListener(e,t,n)}dispatchLocalEvent(e){this.localEventService?.dispatchEvent(e)}addManagedElementListeners(e,t){return this._setupListeners(e,t)}addManagedEventListeners(e){return this._setupListeners(this.eventSvc,e)}addManagedListeners(e,t){return this._setupListeners(e,t)}_setupListeners(e,t){const n=[];for(const r of Object.keys(t)){const i=t[r];i&&n.push(this._setupListener(e,r,i))}return n}_setupListener(e,t,n){if(this.destroyed)return()=>null;let r;if(iae(e))e.__addEventListener(t,n),r=()=>(e.__removeEventListener(t,n),null);else{const i=sae(e);e instanceof HTMLElement?Xoe(e,t,n):i?e.addListener(t,n):e.addEventListener(t,n),r=i?()=>(e.removeListener(t,n),null):()=>(e.removeEventListener(t,n),null)}return this.destroyFunctions.push(r),()=>(r(),this.destroyFunctions=this.destroyFunctions.filter(i=>i!==r),null)}setupPropertyListener(e,t){const{gos:n}=this;n.addPropertyEventListener(e,t);const r=()=>(n.removePropertyEventListener(e,t),null);return this.destroyFunctions.push(r),()=>(r(),this.destroyFunctions=this.destroyFunctions.filter(i=>i!==r),null)}addManagedPropertyListener(e,t){return this.destroyed?()=>null:this.setupPropertyListener(e,t)}addManagedPropertyListeners(e,t){if(this.destroyed)return;const n=e.join("-")+this.propertyListenerId++,r=i=>{if(i.changeSet){if(i.changeSet&&i.changeSet.id===this.lastChangeSetIdLookup[n])return;this.lastChangeSetIdLookup[n]=i.changeSet.id}const s={type:"propertyChanged",changeSet:i.changeSet,source:i.source};t(s)};for(const i of e)this.setupPropertyListener(i,r)}getLocaleTextFunc(){return oV(this.beans.localeSvc)}addDestroyFunc(e){this.isAlive()?this.destroyFunctions.push(e):e()}createOptionalManagedBean(e,t){return e?this.createManagedBean(e,t):void 0}createManagedBean(e,t){const n=this.createBean(e,t);return this.addDestroyFunc(this.destroyBean.bind(this,e,t)),n}createBean(e,t,n){return(t||this.stubContext).createBean(e,n)}destroyBean(e,t){return(t||this.stubContext).destroyBean(e)}destroyBeans(e,t){return(t||this.stubContext).destroyBeans(e)}};function iae(e){return e.__addEventListener!==void 0}function sae(e){return e.eventServiceType==="global"}var le=class extends Ko{},S4={};function dA(e,t){S4[t]||(e(),S4[t]=!0)}var oae={pending:!1,funcs:[]},aae={pending:!1,funcs:[]};function R2(e,t="setTimeout",n){const r=t==="raf"?aae:oae;if(r.funcs.push(e),r.pending)return;r.pending=!0;const i=()=>{const s=r.funcs.slice();r.funcs.length=0,r.pending=!1;for(const o of s)o()};t==="raf"?ul(n,i):window.setTimeout(i,0)}function br(e,t,n){let r;return function(...i){const s=this;window.clearTimeout(r),r=window.setTimeout(function(){e.isAlive()&&t.apply(s,i)},n)}}function E4(e,t){let n=0;return function(...r){const i=this,s=Date.now();s-n<t||(n=s,e.apply(i,r))}}function lae(e,t,n,r=100){const i=Date.now();let s=null,o=!1;const a=()=>{s!=null&&(window.clearInterval(s),s=null)};e.addDestroyFunc(a);const l=()=>{const c=Date.now()-i>r;(t()||c)&&(n(),o=!0,a())};l(),o||(s=window.setInterval(l,10))}var aV=new Set(["__proto__","constructor","prototype"]);function cae(e,t){if(e!=null){if(Array.isArray(e)){for(let n=0;n<e.length;n++)t(n.toString(),e[n]);return}for(const n of Object.keys(e).filter(r=>!aV.has(r)))t(n,e[n])}}function Qr(e,t,n=!0,r=!1){De(t)&&cae(t,(i,s)=>{let o=e[i];o!==s&&(r&&o==null&&s!=null&&typeof s=="object"&&s.constructor===Object&&(o={},e[i]=o),D4(s)&&D4(o)&&!Array.isArray(o)?Qr(o,s,n,r):(n||s!==void 0)&&(e[i]=s))})}function D4(e){return typeof e=="object"&&e!==null}var hA=class ba{static applyGlobalGridOptions(t){if(!ba.gridOptions)return{...t};let n={};return Qr(n,ba.gridOptions,!0,!0),ba.mergeStrategy==="deep"?Qr(n,t,!0,!0):n={...n,...t},ba.gridOptions.context&&(n.context=ba.gridOptions.context),t.context&&(ba.mergeStrategy==="deep"&&n.context&&Qr(t.context,n.context,!0,!0),n.context=t.context),n}static applyGlobalGridOption(t,n){if(ba.mergeStrategy==="deep"){const r=lV(t);if(r&&typeof r=="object"&&typeof n=="object")return ba.applyGlobalGridOptions({[t]:n})[t]}return n}};hA.gridOptions=void 0;hA.mergeStrategy="shallow";var fA=hA;function lV(e){return fA.gridOptions?.[e]}var cV={suppressContextMenu:!1,preventDefaultOnContextMenu:!1,allowContextMenuWithControlKey:!1,suppressMenuHide:!0,enableBrowserTooltips:!1,tooltipTrigger:"hover",tooltipShowDelay:2e3,tooltipHideDelay:1e4,tooltipMouseTrack:!1,tooltipShowMode:"standard",tooltipInteraction:!1,copyHeadersToClipboard:!1,copyGroupHeadersToClipboard:!1,clipboardDelimiter:"	",suppressCopyRowsToClipboard:!1,suppressCopySingleCellRanges:!1,suppressLastEmptyLineOnPaste:!1,suppressClipboardPaste:!1,suppressClipboardApi:!1,suppressCutToClipboard:!1,maintainColumnOrder:!1,enableStrictPivotColumnOrder:!1,suppressFieldDotNotation:!1,allowDragFromColumnsToolPanel:!1,suppressMovableColumns:!1,suppressColumnMoveAnimation:!1,suppressMoveWhenColumnDragging:!1,suppressDragLeaveHidesColumns:!1,suppressRowGroupHidesColumns:!1,suppressAutoSize:!1,autoSizePadding:20,skipHeaderOnAutoSize:!1,singleClickEdit:!1,suppressClickEdit:!1,readOnlyEdit:!1,stopEditingWhenCellsLoseFocus:!1,enterNavigatesVertically:!1,enterNavigatesVerticallyAfterEdit:!1,enableCellEditingOnBackspace:!1,undoRedoCellEditing:!1,undoRedoCellEditingLimit:10,suppressCsvExport:!1,suppressExcelExport:!1,cacheQuickFilter:!1,includeHiddenColumnsInQuickFilter:!1,excludeChildrenWhenTreeDataFiltering:!1,enableAdvancedFilter:!1,includeHiddenColumnsInAdvancedFilter:!1,enableCharts:!1,masterDetail:!1,keepDetailRows:!1,keepDetailRowsCount:10,detailRowAutoHeight:!1,tabIndex:0,rowBuffer:10,valueCache:!1,valueCacheNeverExpires:!1,enableCellExpressions:!1,suppressTouch:!1,suppressFocusAfterRefresh:!1,suppressBrowserResizeObserver:!1,suppressPropertyNamesCheck:!1,suppressChangeDetection:!1,debug:!1,suppressLoadingOverlay:!1,suppressNoRowsOverlay:!1,pagination:!1,paginationPageSize:100,paginationPageSizeSelector:!0,paginationAutoPageSize:!1,paginateChildRows:!1,suppressPaginationPanel:!1,pivotMode:!1,pivotPanelShow:"never",pivotDefaultExpanded:0,pivotSuppressAutoColumn:!1,suppressExpandablePivotGroups:!1,functionsReadOnly:!1,suppressAggFuncInHeader:!1,alwaysAggregateAtRootLevel:!1,aggregateOnlyChangedColumns:!1,suppressAggFilteredOnly:!1,removePivotHeaderRowWhenSingleValueColumn:!1,animateRows:!0,cellFlashDuration:500,cellFadeDuration:1e3,allowShowChangeAfterFilter:!1,domLayout:"normal",ensureDomOrder:!1,enableRtl:!1,suppressColumnVirtualisation:!1,suppressMaxRenderedRowRestriction:!1,suppressRowVirtualisation:!1,rowDragManaged:!1,rowDragInsertDelay:500,suppressRowDrag:!1,suppressMoveWhenRowDragging:!1,rowDragEntireRow:!1,rowDragMultiRow:!1,embedFullWidthRows:!1,groupDisplayType:"singleColumn",groupDefaultExpanded:0,groupMaintainOrder:!1,groupSelectsChildren:!1,groupSuppressBlankHeader:!1,groupSelectsFiltered:!1,showOpenedGroup:!1,groupRemoveSingleChildren:!1,groupRemoveLowestSingleChildren:!1,groupHideOpenParents:!1,groupAllowUnbalanced:!1,rowGroupPanelShow:"never",suppressMakeColumnVisibleAfterUnGroup:!1,treeData:!1,rowGroupPanelSuppressSort:!1,suppressGroupRowsSticky:!1,rowModelType:"clientSide",asyncTransactionWaitMillis:50,suppressModelUpdateAfterUpdateTransaction:!1,cacheOverflowSize:1,infiniteInitialRowCount:1,serverSideInitialRowCount:1,cacheBlockSize:100,maxBlocksInCache:-1,maxConcurrentDatasourceRequests:2,blockLoadDebounceMillis:0,purgeClosedRowNodes:!1,serverSideSortAllLevels:!1,serverSideOnlyRefreshFilteredGroups:!1,serverSidePivotResultFieldSeparator:"_",viewportRowModelPageSize:5,viewportRowModelBufferSize:5,alwaysShowHorizontalScroll:!1,alwaysShowVerticalScroll:!1,debounceVerticalScrollbar:!1,suppressHorizontalScroll:!1,suppressScrollOnNewData:!1,suppressScrollWhenPopupsAreOpen:!1,suppressAnimationFrame:!1,suppressMiddleClickScrolls:!1,suppressPreventDefaultOnMouseWheel:!1,rowMultiSelectWithClick:!1,suppressRowDeselection:!1,suppressRowClickSelection:!1,suppressCellFocus:!1,suppressHeaderFocus:!1,suppressMultiRangeSelection:!1,enableCellTextSelection:!1,enableRangeSelection:!1,enableRangeHandle:!1,enableFillHandle:!1,fillHandleDirection:"xy",suppressClearOnFillReduction:!1,accentedSort:!1,unSortIcon:!1,suppressMultiSort:!1,alwaysMultiSort:!1,suppressMaintainUnsortedOrder:!1,suppressRowHoverHighlight:!1,suppressRowTransform:!1,columnHoverHighlight:!1,deltaSort:!1,enableGroupEdit:!1,groupLockGroupColumns:0,serverSideEnableClientSideSort:!1,suppressServerSideFullWidthLoadingRow:!1,pivotMaxGeneratedColumns:-1,columnMenu:"new",reactiveCustomComponents:!0,suppressSetFilterByDefault:!1,rowNumbers:!1,enableFilterHandlers:!1},uV="https://www.ag-grid.com";function Ec(e,t,...n){e.get("debug")&&console.log("AG Grid: "+t,...n)}function jh(e,...t){dA(()=>console.warn("AG Grid: "+e,...t),e+t?.join(""))}function Bh(e,...t){dA(()=>console.error("AG Grid: "+e,...t),e+t?.join(""))}var dV=new Set,Lw={},Iu={},J0,hV=!1,fV=!1,uae=!1;function dae(e){const[t,n]=e.version.split(".")||[],[r,i]=J0.split(".")||[];return t===r&&n===i}function hae(e){J0||(J0=e.version);const t=r=>`You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. ${r} Please update all modules to the same version.`;e.version?dae(e)||Bh(t(`'${e.moduleName}' is version ${e.version} but the other modules are version ${J0}.`)):Bh(t(`'${e.moduleName}' is incompatible.`));const n=e.validate?.();n&&!n.isValid&&Bh(`${n.message}`)}function rm(e,t,n=!1){n||(hV=!0),hae(e);const r=e.rowModels??["all"];dV.add(e);let i;t!==void 0?(fV=!0,Iu[t]===void 0&&(Iu[t]={}),i=Iu[t]):i=Lw;for(const s of r)i[s]===void 0&&(i[s]={}),i[s][e.moduleName]=e;if(e.dependsOn)for(const s of e.dependsOn)rm(s,t,n)}function fae(e){delete Iu[e]}function M2(e,t,n){const r=i=>!!Lw[i]?.[e]||!!Iu[t]?.[i]?.[e];return r(n)||r("all")}function pA(){return fV}function pae(e,t){const n=Iu[e]??{};return[...Object.values(Lw.all??{}),...Object.values(n.all??{}),...Object.values(Lw[t]??{}),...Object.values(n[t]??{})]}function gae(){return new Set(dV)}function pV(e,t){const n=Iu[e]??{};return[...Object.values(n.all??{}),...Object.values(n[t]??{})]}function mae(){return hV}function vae(){return uae}var Yo=class{static register(e){rm(e,void 0)}static registerModules(e){for(const t of e)rm(t,void 0)}},Re="34.3.1",R4=2e3,M4=100,gV="_version_",mV=null,Hh=`${uV}/javascript-data-grid`;function yae(e){mV=e}function wae(e){Hh=e}function vV(e,t,n){return mV?.(e,t)??[Sae(e,t,n)]}function cx(e,t,n,r,i){e(`${r?"warning":"error"} #${t}`,...vV(t,n,i))}function bae(e){if(!e)return String(e);const t={};for(const n of Object.keys(e))typeof e[n]!="object"&&typeof e[n]!="function"&&(t[n]=e[n]);return JSON.stringify(t)}function Cae(e){let t=e;return e instanceof Error?t=e.toString():typeof e=="object"&&(t=bae(e)),t}function _w(e){return e===void 0?"undefined":e===null?"null":e}function T2(e,t){return`${e}?${t.toString()}`}function xae(e,t,n){const r=Array.from(t.entries()).sort((s,o)=>o[1].length-s[1].length);let i=T2(e,t);for(const[s,o]of r){if(s===gV)continue;const a=i.length-n;if(a<=0)break;const l="...",c=a+l.length,d=o.length-c>M4?o.slice(0,o.length-c)+l:o.slice(0,M4)+l;t.set(s,d),i=T2(e,t)}return i}function yV(e,t){const n=new URLSearchParams;if(n.append(gV,Re),t)for(const s of Object.keys(t))n.append(s,Cae(t[s]));const r=`${Hh}/errors/${e}`,i=T2(r,n);return i.length<=R4?i:xae(r,n,R4)}var Sae=(e,t,n)=>{const r=yV(e,t);return`${`${n?n+` 
`:""}Visit ${r}`}${n?"":` 
  Alternatively register the ValidationModule to see the full message in the console.`}`};function ve(...e){cx(jh,e[0],e[1],!0)}function Dt(...e){cx(Bh,e[0],e[1],!1)}function yg(e,t,n){cx(Bh,e,t,!1,n)}function Eae(e,t,n){cx(jh,e,t,!0,n)}function Dae(e,t){const n=t[0];return`error #${n} `+vV(n,t[1],e).join(" ")}function Oo(...e){return Dae(void 0,e)}function wV(e,t){return e.get("rowModelType")===t}function Xt(e,t){return wV(e,"clientSide")}function Lo(e,t){return wV(e,"serverSide")}function Sr(e,t){return e.get("domLayout")===t}function gc(e){return jw(e)!==void 0}function bV(e){return typeof e.get("getRowHeight")=="function"}function Rae(e,t){return t?!e.get("enableStrictPivotColumnOrder"):e.get("maintainColumnOrder")}function Ya(e,t,n=!1,r){const{gos:i,environment:s}=e;if(r==null&&(r=s.getDefaultRowHeight()),bV(i)){if(n)return{height:r,estimated:!0};const l={node:t,data:t.data},c=i.getCallback("getRowHeight")(l);if(k2(c))return c===0&&ve(23),{height:Math.max(1,c),estimated:!1}}if(t.detail&&i.get("masterDetail"))return Mae(i);const o=i.get("rowHeight");return{height:o&&k2(o)?o:r,estimated:!1}}function Mae(e){if(e.get("detailRowAutoHeight"))return{height:1,estimated:!1};const t=e.get("detailRowHeight");return k2(t)?{height:t,estimated:!1}:{height:300,estimated:!1}}function Lu(e){const{environment:t,gos:n}=e,r=n.get("rowHeight");if(!r||Kt(r))return t.getDefaultRowHeight();const i=t.refreshRowHeightVariable();return i!==-1?i:(ve(24),t.getDefaultRowHeight())}function k2(e){return!isNaN(e)&&typeof e=="number"&&isFinite(e)}function CV(e,t,n){const r=t[e.getDomDataKey()];return r?r[n]:void 0}function td(e,t,n,r){const i=e.getDomDataKey();let s=t[i];Kt(s)&&(s={},t[i]=s),s[n]=r}function zh(e){return e.get("ensureDomOrder")?!1:e.get("animateRows")}function ux(e){return!(e.get("paginateChildRows")||e.get("groupHideOpenParents")||Sr(e,"print"))}function So(e){return!e.get("autoGroupColumnDef")?.comparator&&!e.get("treeData")}function A2(e){const t=e.get("groupAggFiltering");if(typeof t=="function")return e.getCallback("groupAggFiltering");if(t===!0)return()=>!0}function gA(e){return e.get("grandTotalRow")}function Tae(e){const t=e.get("groupTotalRow");return typeof t=="function"?e.getCallback("groupTotalRow"):()=>t??void 0}function kae(e){return e.get("groupHideOpenParents")?!0:e.get("groupDisplayType")==="multipleColumns"}function xV(e,t){return t?!1:e.get("groupDisplayType")==="groupRows"}function SV(e,t,n){return!!t.group&&!t.footer&&xV(e,n)}function rf(e){const t=e.getCallback("getRowId");return t===void 0?t:n=>{let r=t(n);return typeof r!="string"&&(dA(()=>ve(25,{id:r}),"getRowIdString"),r=String(r)),r}}function Aae(e,t){const n=e.get("groupHideParentOfSingleChild");return!!(n===!0||n==="leafGroupsOnly"&&t.leafGroup||e.get("groupRemoveSingleChildren")||e.get("groupRemoveLowestSingleChildren")&&t.leafGroup)}function Pae(e){const t=e.get("maxConcurrentDatasourceRequests");return t>0?t:void 0}function _u(e){return e?.checkboxes??!0}function Z0(e){return e?.mode==="multiRow"&&(e.headerCheckbox??!0)}function im(e){if(typeof e=="object")return e.checkboxLocation??"selectionColumn"}function hD(e){return e?.hideDisabledCheckboxes??!1}function Nae(e){return typeof e.get("rowSelection")!="string"}function Qa(e){const t=e.get("cellSelection");return t!==void 0?!!t:e.get("enableRangeSelection")}function EV(e){const t=e.get("rowSelection")??"single";if(typeof t=="string"){const n=e.get("suppressRowClickSelection"),r=e.get("suppressRowDeselection");return n&&r?!1:n?"enableDeselection":r?"enableSelection":!0}return t.mode==="singleRow"||t.mode==="multiRow"?t.enableClickSelection??!1:!1}function Oae(e){const t=EV(e);return t===!0||t==="enableSelection"}function Fae(e){const t=EV(e);return t===!0||t==="enableDeselection"}function P2(e){const t=e.get("rowSelection");return typeof t=="string"?e.get("isRowSelectable"):t?.isRowSelectable}function jw(e){const t="beanName"in e&&e.beanName==="gos"?e.get("rowSelection"):e.rowSelection;if(typeof t=="string")switch(t){case"multiple":return"multiRow";case"single":return"singleRow";default:return}switch(t?.mode){case"multiRow":case"singleRow":return t.mode;default:return}}function sm(e){return jw(e)==="multiRow"}function Iae(e){const t=e.get("rowSelection");return typeof t=="string"?e.get("rowMultiSelectWithClick"):t?.enableSelectionWithoutKeys??!1}function Bw(e){const t=e.get("rowSelection");if(typeof t=="string"){const n=e.get("groupSelectsChildren"),r=e.get("groupSelectsFiltered");return n&&r?"filteredDescendants":n?"descendants":"self"}return t?.mode==="multiRow"?t.groupSelects:void 0}function DV(e,t=!0){const n=e.get("rowSelection");return typeof n!="object"?t?"all":void 0:n.mode==="multiRow"?n.selectAll:"all"}function Lae(e){const t=e.get("rowSelection");return typeof t=="string"?!1:t?.mode==="multiRow"?t.ctrlASelectsRows??!1:!1}function om(e){const t=Bw(e);return t==="descendants"||t==="filteredDescendants"}function T4(e){const t=e.get("rowSelection");return typeof t=="object"&&t.masterSelects||"self"}function _ae(e){return e.isModuleRegistered("SetFilter")&&!e.get("suppressSetFilterByDefault")}function Ui(e){return e.get("columnMenu")==="legacy"}function jae(e){return!Ui(e)}function Bae(e){return!e||e.length<2?e:"on"+e[0].toUpperCase()+e.substring(1)}function Hae(e,t,n){typeof e!="object"&&(e={});const r={...e};for(const i of n){const s=t[i];typeof s<"u"&&(r[i]=s)}return r}function zae(e,t){if(!e)return;const n={};let r=!1;for(const o of Object.keys(e))n[o]=e[o],r=!0;if(!r)return;const i={type:"gridOptionsChanged",options:n};t.dispatchEvent(i);const s={type:"componentStateChanged",...n};t.dispatchEvent(s)}function _e(e,t){return e.addCommon(t)}function ew(e,t){return e[t]??e.gridOptions?.[t]??lV(t)??cV[t]}function k4({gos:e},t){return t.button===2||t.ctrlKey&&e.get("allowContextMenuWithControlKey")}var Gae={resizable:!0,sortable:!0},Vae=0;function RV(){return Vae++}function Dc(e){return e instanceof wd}var wd=class extends le{constructor(e,t,n,r){super(),this.colDef=e,this.userProvidedColDef=t,this.colId=n,this.primary=r,this.isColumn=!0,this.instanceId=RV(),this.autoHeaderHeight=null,this.moving=!1,this.resizing=!1,this.menuVisible=!1,this.lastLeftPinned=!1,this.firstRightPinned=!1,this.filterActive=!1,this.colEventSvc=new ed,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.flex=null,this.colIdSanitised=Mg(n)}destroy(){super.destroy(),this.beans.rowSpanSvc?.deregister(this)}getInstanceId(){return this.instanceId}setState(){const{colDef:e,beans:{sortSvc:t,pinnedCols:n,colFlex:r}}=this;t?.initCol(this);const i=e.hide;i!==void 0?this.visible=!i:this.visible=!e.initialHide,n?.initCol(this),r?.initCol(this)}setColDef(e,t,n){const r=e.spanRows!==this.colDef.spanRows;this.colDef=e,this.userProvidedColDef=t,this.initMinAndMaxWidths(),this.initDotNotation(),this.initTooltip(),r&&(this.beans.rowSpanSvc?.deregister(this),this.initRowSpan()),this.dispatchColEvent("colDefChanged",n)}getUserProvidedColDef(){return this.userProvidedColDef}getParent(){return this.parent}getOriginalParent(){return this.originalParent}postConstruct(){this.setState(),this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip(),this.initRowSpan(),this.addPivotListener()}initDotNotation(){const{gos:e,colDef:{field:t,tooltipField:n}}=this,r=e.get("suppressFieldDotNotation");this.fieldContainsDots=De(t)&&t.includes(".")&&!r,this.tooltipFieldContainsDots=De(n)&&n.includes(".")&&!r}initMinAndMaxWidths(){const e=this.colDef;this.minWidth=e.minWidth??this.beans.environment.getDefaultColumnMinWidth(),this.maxWidth=e.maxWidth??Number.MAX_SAFE_INTEGER}initTooltip(){this.beans.tooltipSvc?.initCol(this)}initRowSpan(){this.colDef.spanRows&&this.beans.rowSpanSvc?.register(this)}addPivotListener(){const e=this.beans.pivotColDefSvc,t=this.colDef.pivotValueColumn;!e||!t||this.addManagedListeners(t,{colDefChanged:n=>{const r=e.recreateColDef(this.colDef);this.setColDef(r,r,n.source)}})}resetActualWidth(e){const t=this.calculateColInitialWidth(this.colDef);this.setActualWidth(t,e,!0)}calculateColInitialWidth(e){let t;const n=e.width,r=e.initialWidth;return n!=null?t=n:r!=null?t=r:t=200,Math.max(Math.min(t,this.maxWidth),this.minWidth)}isEmptyGroup(){return!1}isRowGroupDisplayed(e){return this.beans.showRowGroupCols?.isRowGroupDisplayed(this,e)??!1}isPrimary(){return this.primary}isFilterAllowed(){return!!this.colDef.filter}isFieldContainsDots(){return this.fieldContainsDots}isTooltipEnabled(){return this.tooltipEnabled}isTooltipFieldContainsDots(){return this.tooltipFieldContainsDots}getHighlighted(){return this.highlighted}__addEventListener(e,t){this.colEventSvc.addEventListener(e,t)}__removeEventListener(e,t){this.colEventSvc.removeEventListener(e,t)}addEventListener(e,t){this.frameworkEventListenerService=this.beans.frameworkOverrides.createLocalEventListenerWrapper?.(this.frameworkEventListenerService,this.colEventSvc);const n=this.frameworkEventListenerService?.wrap(e,t)??t;this.colEventSvc.addEventListener(e,n)}removeEventListener(e,t){const n=this.frameworkEventListenerService?.unwrap(e,t)??t;this.colEventSvc.removeEventListener(e,n)}createColumnFunctionCallbackParams(e){return _e(this.gos,{node:e,data:e.data,column:this,colDef:this.colDef})}isSuppressNavigable(e){return this.beans.cellNavigation?.isSuppressNavigable(this,e)??!1}isCellEditable(e){return this.beans.editSvc?.isCellEditable({rowNode:e,column:this})??!1}isSuppressFillHandle(){return!!this.colDef.suppressFillHandle}isAutoHeight(){return!!this.colDef.autoHeight}isAutoHeaderHeight(){return!!this.colDef.autoHeaderHeight}isRowDrag(e){return this.isColumnFunc(e,this.colDef.rowDrag)}isDndSource(e){return this.isColumnFunc(e,this.colDef.dndSource)}isCellCheckboxSelection(e){return this.beans.selectionSvc?.isCellCheckboxSelection(this,e)??!1}isSuppressPaste(e){return this.isColumnFunc(e,this.colDef?.suppressPaste??null)}isResizable(){return!!this.getColDefValue("resizable")}getColDefValue(e){return this.colDef[e]??Gae[e]}isColumnFunc(e,t){if(typeof t=="boolean")return t;if(typeof t=="function"){const n=this.createColumnFunctionCallbackParams(e);return t(n)}return!1}createColumnEvent(e,t){return _e(this.gos,{type:e,column:this,columns:[this],source:t})}isMoving(){return this.moving}getSort(){return this.sort}isSortable(){return!!this.getColDefValue("sortable")}isSortAscending(){return this.sort==="asc"}isSortDescending(){return this.sort==="desc"}isSortNone(){return Kt(this.sort)}isSorting(){return De(this.sort)}getSortIndex(){return this.sortIndex}isMenuVisible(){return this.menuVisible}getAggFunc(){return this.aggFunc}getLeft(){return this.left}getOldLeft(){return this.oldLeft}getRight(){return this.left+this.actualWidth}setLeft(e,t){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.dispatchColEvent("leftChanged",t))}isFilterActive(){return this.filterActive}isHovered(){return ve(261),!!this.beans.colHover?.isHovered(this)}setFirstRightPinned(e,t){this.firstRightPinned!==e&&(this.firstRightPinned=e,this.dispatchColEvent("firstRightPinnedChanged",t))}setLastLeftPinned(e,t){this.lastLeftPinned!==e&&(this.lastLeftPinned=e,this.dispatchColEvent("lastLeftPinnedChanged",t))}isFirstRightPinned(){return this.firstRightPinned}isLastLeftPinned(){return this.lastLeftPinned}isPinned(){return this.pinned==="left"||this.pinned==="right"}isPinnedLeft(){return this.pinned==="left"}isPinnedRight(){return this.pinned==="right"}getPinned(){return this.pinned}setVisible(e,t){const n=e===!0;this.visible!==n&&(this.visible=n,this.dispatchColEvent("visibleChanged",t)),this.dispatchStateUpdatedEvent("hide")}isVisible(){return this.visible}isSpanHeaderHeight(){return!this.getColDef().suppressSpanHeaderHeight}getFirstRealParent(){let e=this.getOriginalParent();for(;e?.isPadding();)e=e.getOriginalParent();return e}getColumnGroupPaddingInfo(){let e=this.getParent();if(!e?.isPadding())return{numberOfParents:0,isSpanningTotal:!1};const t=e.getPaddingLevel()+1;let n=!0;for(;e;){if(!e.isPadding()){n=!1;break}e=e.getParent()}return{numberOfParents:t,isSpanningTotal:n}}getColDef(){return this.colDef}getDefinition(){return this.colDef}getColumnGroupShow(){return this.colDef.columnGroupShow}getColId(){return this.colId}getId(){return this.colId}getUniqueId(){return this.colId}getActualWidth(){return this.actualWidth}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}createBaseColDefParams(e){return _e(this.gos,{node:e,data:e.data,colDef:this.colDef,column:this})}getColSpan(e){if(Kt(this.colDef.colSpan))return 1;const t=this.createBaseColDefParams(e),n=this.colDef.colSpan(t);return Math.max(n,1)}getRowSpan(e){if(Kt(this.colDef.rowSpan))return 1;const t=this.createBaseColDefParams(e),n=this.colDef.rowSpan(t);return Math.max(n,1)}setActualWidth(e,t,n=!1){e=Math.max(e,this.minWidth),e=Math.min(e,this.maxWidth),this.actualWidth!==e&&(this.actualWidth=e,this.flex!=null&&t!=="flex"&&t!=="gridInitializing"&&(this.flex=null),n||this.fireColumnWidthChangedEvent(t)),this.dispatchStateUpdatedEvent("width")}fireColumnWidthChangedEvent(e){this.dispatchColEvent("widthChanged",e)}isGreaterThanMax(e){return e>this.maxWidth}getMinWidth(){return this.minWidth}getMaxWidth(){return this.maxWidth}getFlex(){return this.flex}isRowGroupActive(){return this.rowGroupActive}isPivotActive(){return this.pivotActive}isAnyFunctionActive(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()}isAnyFunctionAllowed(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()}isValueActive(){return this.aggregationActive}isAllowPivot(){return this.colDef.enablePivot===!0}isAllowValue(){return this.colDef.enableValue===!0}isAllowRowGroup(){return this.colDef.enableRowGroup===!0}dispatchColEvent(e,t,n){const r=this.createColumnEvent(e,t);n&&Qr(r,n),this.colEventSvc.dispatchEvent(r)}dispatchStateUpdatedEvent(e){this.colEventSvc.dispatchEvent({type:"columnStateUpdated",key:e})}};function kr(e){return e instanceof tw}var tw=class extends le{constructor(e,t,n,r){super(),this.colGroupDef=e,this.groupId=t,this.padding=n,this.level=r,this.isColumn=!1,this.expandable=!1,this.instanceId=RV(),this.expandableListenerRemoveCallback=null,this.expanded=!!e?.openByDefault}destroy(){this.expandableListenerRemoveCallback&&this.reset(null,void 0),super.destroy()}reset(e,t){this.colGroupDef=e,this.level=t,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0}getInstanceId(){return this.instanceId}getOriginalParent(){return this.originalParent}getLevel(){return this.level}isVisible(){return this.children?this.children.some(e=>e.isVisible()):!1}isPadding(){return this.padding}setExpanded(e){this.expanded=e===void 0?!1:e,this.dispatchLocalEvent({type:"expandedChanged"})}isExpandable(){return this.expandable}isExpanded(){return this.expanded}getGroupId(){return this.groupId}getId(){return this.getGroupId()}setChildren(e){this.children=e}getChildren(){return this.children}getColGroupDef(){return this.colGroupDef}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}forEachLeafColumn(e){if(this.children)for(const t of this.children)Dc(t)?e(t):kr(t)&&t.forEachLeafColumn(e)}addLeafColumns(e){if(this.children)for(const t of this.children)Dc(t)?e.push(t):kr(t)&&t.addLeafColumns(e)}getColumnGroupShow(){const e=this.colGroupDef;if(e)return e.columnGroupShow}setupExpandable(){this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();const e=this.onColumnVisibilityChanged.bind(this);for(const t of this.getLeafColumns())t.__addEventListener("visibleChanged",e);this.expandableListenerRemoveCallback=()=>{for(const t of this.getLeafColumns())t.__removeEventListener("visibleChanged",e);this.expandableListenerRemoveCallback=null}}setExpandable(){if(this.isPadding())return;let e=!1,t=!1,n=!1;const r=this.findChildrenRemovingPadding();for(let s=0,o=r.length;s<o;s++){const a=r[s];if(!a.isVisible())continue;const l=a.getColumnGroupShow();l==="open"?(e=!0,n=!0):l==="closed"?(t=!0,n=!0):(e=!0,t=!0)}const i=e&&t&&n;this.expandable!==i&&(this.expandable=i,this.dispatchLocalEvent({type:"expandableChanged"}))}findChildrenRemovingPadding(){const e=[],t=n=>{for(const r of n)kr(r)&&r.isPadding()?t(r.children):e.push(r)};return t(this.children),e}onColumnVisibilityChanged(){this.setExpandable()}},Wae={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}};function A4(e,t,n){const r={},i=e.gos;return Object.assign(r,i.get("defaultColGroupDef")),Object.assign(r,t),i.validateColDef(r,n),r}var Uae=class{constructor(){this.existingKeys={}}addExistingKeys(e){for(let t=0;t<e.length;t++)this.existingKeys[e[t]]=!0}getUniqueKey(e,t){e=E2(e);let n=0;for(;;){let r=e??t;if(r?n!==0&&(r+="_"+n):r=n,!this.existingKeys[r]){const i=String(r);return e&&n>0&&ve(273,{providedId:e,usedId:i}),this.existingKeys[i]=!0,i}n++}}};function Ft(e){if(e?.length)return e[e.length-1]}function Lc(e,t,n){if(e===t)return!0;if(!e||!t)return e==null&&t==null;const r=e.length;if(r!==t.length)return!1;for(let i=0;i<r;i++)if(e[i]!==t[i]&&!n?.(e[i],t[i]))return!1;return!0}function Xp(e,t){if(e)for(const n of e)t(n)}function Js(e,t){const n=e.indexOf(t);n>=0&&e.splice(n,1)}function P4(e,t,n){for(let r=0;r<t.length;r++)Js(e,t[r]);for(let r=t.length-1;r>=0;r--)e.splice(n,0,t[r])}var dx="ag-Grid-AutoColumn",MV="ag-Grid-SelectionColumn",TV="ag-Grid-RowNumbersColumn";function kV(e){const t=[],n=r=>{for(let i=0;i<r.length;i++){const s=r[i];Dc(s)?t.push(s):kr(s)&&n(s.getChildren())}};return n(e),t}function Sa(e){return e.reduce((t,n)=>t+n.getActualWidth(),0)}function Hw(e,t,n){const r={};if(!t)return;La(null,t,s=>{r[s.getInstanceId()]=s}),n&&La(null,n,s=>{r[s.getInstanceId()]=null});const i=Object.values(r).filter(s=>s!=null);e.context.destroyBeans(i)}function mA(e){return e.getId().startsWith(dx)}function dl(e){return(typeof e=="string"?e:"getColId"in e?e.getColId():e.colId)?.startsWith(MV)??!1}function Ia(e){return(typeof e=="string"?e:"getColId"in e?e.getColId():e.colId)?.startsWith(TV)??!1}function $ae(e){return dl(e)||Ia(e)}function zw(e){let t=[];return e instanceof Array?t=e:typeof e=="string"&&(t=e.split(",")),t}function qae(e,t){return Lc(e,t,(n,r)=>n.getColId()===r.getColId())}function Kae(e){e.map={};for(const t of e.list)e.map[t.getId()]=t}function Gh(e){return e==="optionsUpdated"?"gridOptionsChanged":e}function Pg(e,t){const n=e===t,r=e.getColDef()===t,i=e.getColId()==t;return n||r||i}var Yae=(e,t)=>(n,r)=>{const i={value1:void 0,value2:void 0};let s=!1;return e&&(e[n]!==void 0&&(i.value1=e[n],s=!0),De(r)&&e[r]!==void 0&&(i.value2=e[r],s=!0)),!s&&t&&(t[n]!==void 0&&(i.value1=t[n]),De(r)&&t[r]!==void 0&&(i.value2=t[r])),i},Qae=(e,t)=>{kr(e)&&e.setupExpandable(),e.originalParent=t};function Xae(e,t=null,n,r,i){const s=new Uae,{existingCols:o,existingGroups:a,existingColKeys:l}=Jae(r);s.addExistingKeys(l);const c=AV(e,t,0,n,o,s,a,i),{colGroupSvc:d}=e,f=d?.findMaxDepth(c,0)??0,p=d?d.balanceColumnTree(c,0,f,s):c;return La(null,p,Qae),{columnTree:p,treeDepth:f}}function Jae(e){const t=[],n=[],r=[];return e&&La(null,e,i=>{if(kr(i)){const s=i;n.push(s)}else{const s=i;r.push(s.getId()),t.push(s)}}),{existingCols:t,existingGroups:n,existingColKeys:r}}function AV(e,t,n,r,i,s,o,a){if(!t)return[];const{colGroupSvc:l}=e,c=new Array(t.length);for(let d=0;d<c.length;d++){const f=t[d];l&&ile(f)?c[d]=l.createProvidedColumnGroup(r,f,n,i,s,o,a):c[d]=Zae(e,r,f,i,s,a)}return c}function Zae(e,t,n,r,i,s){const o=tle(n,r);o&&r?.splice(o.idx,1);let a=o?.column;if(a){const l=N2(e,n,a.getColId());a.setColDef(l,n,s),ele(e,a,l,s)}else{const l=i.getUniqueKey(n.colId,n.field),c=N2(e,n,l);a=new wd(c,n,l,t),e.context.createBean(a)}return e.dataTypeSvc?.addColumnListeners(a),a}function PV(e,t,n,r,i,s,o,a){const{sortSvc:l,pinnedCols:c,colFlex:d}=e;n!==void 0&&t.setVisible(!n,a),l&&(l.updateColSort(t,r,a),i!==void 0&&l.setColSortIndex(t,i)),s!==void 0&&c?.setColPinned(t,s),o!==void 0&&d?.setColFlex(t,o)}function ele(e,t,n,r){PV(e,t,n.hide,n.sort,n.sortIndex,n.pinned,n.flex,r);const i=t.getFlex();if(!(i!=null&&i>0))if(n.width!=null)t.setActualWidth(n.width,r);else{const s=t.getActualWidth();t.setActualWidth(s,r)}}function tle(e,t){if(t)for(let n=0;n<t.length;n++){const r=t[n].getUserProvidedColDef();if(!r)continue;if(e.colId!=null){if(t[n].getId()===e.colId)return{idx:n,column:t[n]};continue}if(e.field!=null){if(r.field===e.field)return{idx:n,column:t[n]};continue}if(r===e)return{idx:n,column:t[n]}}}function N2(e,t,n,r){const{gos:i,dataTypeSvc:s}=e,o={},a=i.get("defaultColDef");Qr(o,a,!1,!0);const l=nle(e,o,t,n);l&&rle(e,l,o);const c=o.cellDataType;Qr(o,t,!1,!0),c!==void 0&&(o.cellDataType=c);const d=i.get("autoGroupColumnDef"),f=So(i);return t.rowGroup&&d&&f&&Qr(o,{sort:d.sort,initialSort:d.initialSort},!1,!0),s&&(s.postProcess(o),s.validateColDef(o)),i.validateColDef(o,n,r),o}function nle(e,t,n,r){const i=e.dataTypeSvc?.updateColDefAndGetColumnType(t,n,r),s=n.type??i??t.type;return t.type=s,s?zw(s):void 0}function rle(e,t,n){if(!t.length)return;const r=Object.assign({},Wae),i=e.gos.get("columnTypes")||{};for(const s of Object.keys(i)){const o=i[s];s in r?ve(34,{key:s}):(o.type&&ve(35),r[s]=o)}for(const s of t){const o=r[s.trim()];o?Qr(n,o,!1,!0):ve(36,{t:s})}}function ile(e){return e.children!==void 0}function La(e,t,n){if(t)for(let r=0;r<t.length;r++){const i=t[r];kr(i)&&La(i,i.getChildren(),n),n(i,e)}}function NV(e,t){const n=[],r=[],i=[];return e.forEach(o=>{const a=o.getColDef().lockPosition;a==="right"?i.push(o):a==="left"||a===!0?n.push(o):r.push(o)}),t.get("enableRtl")?[...i,...r,...n]:[...n,...r,...i]}function OV(e,t){let n=!0;return La(null,t,r=>{if(!kr(r))return;const i=r;if(!i.getColGroupDef()?.marryChildren)return;const a=[];for(const p of i.getLeafColumns()){const v=e.indexOf(p);a.push(v)}const l=Math.max.apply(Math,a),c=Math.min.apply(Math,a),d=l-c,f=i.getLeafColumns().length-1;d>f&&(n=!1)}),n}function FV(e,t){if(!e||e.length==0)return;const n=t(e[0]);for(let r=1;r<e.length;r++)if(n!==t(e[r]))return;return n}function IV(e,t,n){if(!t.length)return;const r=t.length===1?t[0]:null,i=FV(t,s=>s.getPinned());e.dispatchEvent({type:"columnPinned",pinned:i??null,columns:t,column:r,source:n})}function sle(e,t,n){if(!t.length)return;const r=t.length===1?t[0]:null,i=FV(t,s=>s.isVisible());e.dispatchEvent({type:"columnVisible",visible:i,columns:t,column:r,source:n})}function ole(e,t,n,r){e.dispatchEvent({type:t,columns:n,column:n&&n.length==1?n[0]:null,source:r})}function sf(e,t,n,r,i=null){t?.length&&e.dispatchEvent({type:"columnResized",columns:t,column:t.length===1?t[0]:null,flexColumns:i,finished:n,source:r})}function qs(e,t,n){const{colModel:r,rowGroupColsSvc:i,pivotColsSvc:s,autoColSvc:o,selectionColSvc:a,colAnimation:l,visibleCols:c,pivotResultCols:d,environment:f,valueColsSvc:p,eventSvc:v,gos:y}=e,b=r.getColDefCols()??[],x=a?.getColumns();if(!b.length&&!x?.length)return!1;if(t?.state&&!t.state.forEach)return ve(32),!1;const S=(k,P,A,O,B)=>{if(!k)return;const U=Yae(P,t.defaultState),_=U("flex").value1;if(PV(e,k,U("hide").value1,U("sort").value1,U("sortIndex").value1,U("pinned").value1,_,n),_==null){const I=U("width").value1;if(I!=null){const V=k.getColDef().minWidth??f.getDefaultColumnMinWidth();V!=null&&I>=V&&k.setActualWidth(I,n)}}B||!k.isPrimary()||(p?.syncColumnWithState(k,n,U),i?.syncColumnWithState(k,n,U,A),s?.syncColumnWithState(k,n,U,O))},M=(k,P,A)=>{const O=LV(e,n),B=P.slice(),U={},_={},I=[],V=[],F=[];let L=0;const z=i?.columns.slice()??[],j=s?.columns.slice()??[];for(const K of k){const H=K.colId;if(H.startsWith(dx)){I.push(K),F.push(K);continue}if(dl(H)){V.push(K),F.push(K);continue}const Z=A(H);Z?(S(Z,K,U,_,!1),Js(B,Z)):(F.push(K),L+=1)}const $=K=>S(K,null,U,_,!1);B.forEach($),i?.sortColumns(N4.bind(i,U,z)),s?.sortColumns(N4.bind(s,_,j)),r.refreshCols(!1,n);const W=(K,H,Y=[])=>{for(const Z of H){const X=K(Z.colId);Js(Y,X),S(X,Z,null,null,!0)}Y.forEach($)};return W(K=>o?.getColumn(K)??null,I,o?.getColumns()?.slice()),W(K=>a?.getColumn(K)??null,V,a?.getColumns()?.slice()),lle(t,r,y),c.refresh(n),v.dispatchEvent({type:"columnEverythingChanged",source:n}),O(),{unmatchedAndAutoStates:F,unmatchedCount:L}};l?.start();let{unmatchedAndAutoStates:R,unmatchedCount:T}=M(t.state||[],b,k=>r.getColDefCol(k));if(R.length>0||De(t.defaultState)){const k=d?.getPivotResultCols()?.list??[];T=M(R,k,P=>d?.getPivotResultCol(P)??null).unmatchedCount}return l?.finish(),T===0}function ale(e,t){const{colModel:n,autoColSvc:r,selectionColSvc:i,eventSvc:s,gos:o}=e,a=n.getColDefCols();if(!a?.length)return;const l=n.getColDefColTree(),c=kV(l),d=[];let f=1e3,p=1e3;const v=M=>{const R=_V(M);Kt(R.rowGroupIndex)&&R.rowGroup&&(R.rowGroupIndex=f++),Kt(R.pivotIndex)&&R.pivot&&(R.pivotIndex=p++),d.push(R)};r?.getColumns()?.forEach(v),i?.getColumns()?.forEach(v),c?.forEach(v),qs(e,{state:d},t);const y=r?.getColumns()??[],S=[...i?.getColumns()??[],...y,...a].map(M=>({colId:M.colId}));qs(e,{state:S,applyOrder:!0},t),s.dispatchEvent(_e(o,{type:"columnsReset",source:t}))}function LV(e,t){const{rowGroupColsSvc:n,pivotColsSvc:r,valueColsSvc:i,colModel:s,sortSvc:o,eventSvc:a}=e,l={rowGroupColumns:n?.columns.slice()??[],pivotColumns:r?.columns.slice()??[],valueColumns:i?.columns.slice()??[]},c=Gw(e),d={};for(const f of c)d[f.colId]=f;return()=>{const f=(P,A,O,B)=>{const U=A.map(B),_=O.map(B);if(Lc(U,_))return;const V=new Set(A);for(const L of O)V.delete(L)||V.add(L);const F=[...V];a.dispatchEvent({type:P,columns:F,column:F.length===1?F[0]:null,source:t})},p=P=>{const A=[];return s.forAllCols(O=>{const B=d[O.getColId()];B&&P(B,O)&&A.push(O)}),A},v=P=>P.getColId();f("columnRowGroupChanged",l.rowGroupColumns,n?.columns??[],v),f("columnPivotChanged",l.pivotColumns,r?.columns??[],v);const b=p((P,A)=>{const O=P.aggFunc!=null,B=O!=A.isValueActive(),U=O&&P.aggFunc!=A.getAggFunc();return B||U});b.length>0&&ole(a,"columnValueChanged",b,t),sf(a,p((P,A)=>P.width!=A.getActualWidth()),!0,t),IV(a,p((P,A)=>P.pinned!=A.getPinned()),t),sle(a,p((P,A)=>P.hide==A.isVisible()),t);const T=p((P,A)=>P.sort!=A.getSort()||P.sortIndex!=A.getSortIndex());T.length>0&&o?.dispatchSortChangedEvents(t,T);const k=Gw(e);ule(c,k,t,s,a)}}function Gw(e){const{colModel:t,rowGroupColsSvc:n,pivotColsSvc:r}=e,i=t.getColDefCols();if(Kt(i)||!t.isAlive())return[];const s=n?.columns,o=r?.columns,a=[],l=d=>{const f=d.isRowGroupActive()&&s?s.indexOf(d):null,p=d.isPivotActive()&&o?o.indexOf(d):null,v=d.isValueActive()?d.getAggFunc():null,y=d.getSort()!=null?d.getSort():null,b=d.getSortIndex()!=null?d.getSortIndex():null;a.push({colId:d.getColId(),width:d.getActualWidth(),hide:!d.isVisible(),pinned:d.getPinned(),sort:y,sortIndex:b,aggFunc:v,rowGroup:d.isRowGroupActive(),rowGroupIndex:f,pivot:d.isPivotActive(),pivotIndex:p,flex:d.getFlex()??null})};t.forAllCols(d=>l(d));const c=new Map(t.getCols().map((d,f)=>[d.getColId(),f]));return a.sort((d,f)=>{const p=c.has(d.colId)?c.get(d.colId):-1,v=c.has(f.colId)?c.get(f.colId):-1;return p-v}),a}function _V(e){const t=(y,b)=>y??b??null,n=e.getColDef(),r=t(n.sort,n.initialSort),i=t(n.sortIndex,n.initialSortIndex),s=t(n.hide,n.initialHide),o=t(n.pinned,n.initialPinned),a=t(n.width,n.initialWidth),l=t(n.flex,n.initialFlex);let c=t(n.rowGroupIndex,n.initialRowGroupIndex),d=t(n.rowGroup,n.initialRowGroup);c==null&&!d&&(c=null,d=null);let f=t(n.pivotIndex,n.initialPivotIndex),p=t(n.pivot,n.initialPivot);f==null&&!p&&(f=null,p=null);const v=t(n.aggFunc,n.initialAggFunc);return{colId:e.getColId(),sort:r,sortIndex:i,hide:s,pinned:o,width:a,flex:l,rowGroup:d,rowGroupIndex:c,pivot:p,pivotIndex:f,aggFunc:v}}function lle(e,t,n){if(!e.applyOrder||!e.state)return;const r=[];for(const i of e.state)i.colId!=null&&r.push(i.colId);cle(t.cols,r,t,n)}function cle(e,t,n,r){if(e==null)return;let i=[];const s={};for(const a of t){if(s[a])continue;const l=e.map[a];l&&(i.push(l),s[a]=!0)}let o=0;for(const a of e.list){const l=a.getColId();if(s[l]!=null)continue;l.startsWith(dx)?i.splice(o++,0,a):i.push(a)}if(i=NV(i,r),!OV(i,n.getColTree())){ve(39);return}e.list=i}function ule(e,t,n,r,i){const s={};for(const d of t)s[d.colId]=d;const o={};for(const d of e)s[d.colId]&&(o[d.colId]=!0);const a=e.filter(d=>o[d.colId]),l=t.filter(d=>o[d.colId]),c=[];l.forEach((d,f)=>{const p=a?.[f];if(p&&p.colId!==d.colId){const v=r.getCol(p.colId);v&&c.push(v)}}),c.length&&i.dispatchEvent({type:"columnMoved",columns:c,column:c.length===1?c[0]:null,finished:!0,source:n})}var N4=(e,t,n,r)=>{const i=e[n.getId()],s=e[r.getId()],o=i!=null,a=s!=null;if(o&&a)return i-s;if(o)return-1;if(a)return 1;const l=t.indexOf(n),c=t.indexOf(r),d=l>=0,f=c>=0;return d&&f?l-c:d?-1:1},dle=class extends le{constructor(){super(...arguments),this.beanName="colModel",this.pivotMode=!1,this.ready=!1,this.changeEventsDispatching=!1}postConstruct(){this.pivotMode=this.gos.get("pivotMode"),this.addManagedPropertyListeners(["groupDisplayType","treeData","treeDataDisplayType","groupHideOpenParents","rowNumbers","hidePaddedHeaderRows"],e=>this.refreshAll(Gh(e.source))),this.addManagedPropertyListeners(["defaultColDef","defaultColGroupDef","columnTypes","suppressFieldDotNotation"],this.recreateColumnDefs.bind(this)),this.addManagedPropertyListener("pivotMode",e=>this.setPivotMode(this.gos.get("pivotMode"),Gh(e.source)))}createColsFromColDefs(e){const{beans:t}=this,{valueCache:n,colAutosize:r,rowGroupColsSvc:i,pivotColsSvc:s,valueColsSvc:o,visibleCols:a,eventSvc:l,groupHierarchyColSvc:c}=t,d=this.colDefs?LV(t,e):void 0;n?.expire();const f=this.colDefCols?.list,p=this.colDefCols?.tree,v=Xae(t,this.colDefs,!0,p,e);Hw(t,this.colDefCols?.tree,v.columnTree);const y=v.columnTree,b=v.treeDepth,x=kV(y),S={};for(const M of x)S[M.getId()]=M;this.colDefCols={tree:y,treeDepth:b,list:x,map:S},this.createColumnsForService([c],this.colDefCols,e),i?.extractCols(e,f),s?.extractCols(e,f),o?.extractCols(e,f),this.ready=!0,this.refreshCols(!0,e),a.refresh(e),l.dispatchEvent({type:"columnEverythingChanged",source:e}),d&&(this.changeEventsDispatching=!0,d(),this.changeEventsDispatching=!1),l.dispatchEvent({type:"newColumnsLoaded",source:e}),e==="gridInitializing"&&r?.applyAutosizeStrategy()}refreshCols(e,t){if(!this.colDefCols)return;const n=this.cols?.tree;this.saveColOrder();const{autoColSvc:r,selectionColSvc:i,rowNumbersSvc:s,quickFilter:o,pivotResultCols:a,showRowGroupCols:l,rowAutoHeight:c,visibleCols:d,colViewport:f,eventSvc:p}=this.beans,v=this.selectCols(a,this.colDefCols);this.createColumnsForService([r,i,s],v,t);const y=Rae(this.gos,this.showingPivotResult);(!e||y)&&this.restoreColOrder(v),this.positionLockedCols(v),l?.refresh(),o?.refreshCols(),this.setColSpanActive(),c?.setAutoHeightActive(v),d.clear(),f.clear(),!Lc(n,this.cols.tree)&&p.dispatchEvent({type:"gridColumnsChanged"})}createColumnsForService(e,t,n){for(const r of e)r&&(r.createColumns(t,i=>{this.lastOrder=i(this.lastOrder),this.lastPivotOrder=i(this.lastPivotOrder)},n),r.addColumns(t))}selectCols(e,t){const n=e?.getPivotResultCols()??null;this.showingPivotResult=n!=null;const{map:r,list:i,tree:s,treeDepth:o}=n??t;return this.cols={list:i.slice(),map:{...r},tree:s.slice(),treeDepth:o},n&&(n.list.some(l=>this.cols?.map[l.getColId()]!==void 0)||(this.lastPivotOrder=null)),this.cols}getColsToShow(){if(!this.cols)return[];const{valueColsSvc:e,selectionColSvc:t,gos:n}=this.beans,r=this.isPivotMode()&&!this.showingPivotResult,i=t?.isSelectionColumnEnabled(),s=n.get("rowNumbers"),o=e?.columns;return this.cols.list.filter(l=>{const c=mA(l);if(r){const d=o?.includes(l);return c||d||i&&dl(l)||s&&Ia(l)}else return c||l.isVisible()})}refreshAll(e){this.ready&&(this.refreshCols(!1,e),this.beans.visibleCols.refresh(e))}setColsVisible(e,t=!1,n){qs(this.beans,{state:e.map(r=>({colId:typeof r=="string"?r:r.getColId(),hide:!t}))},n)}restoreColOrder(e){const t=this.showingPivotResult?this.lastPivotOrder:this.lastOrder;if(!t)return;const n=t.filter(f=>e.map[f.getId()]!=null);if(n.length===0)return;if(n.length===e.list.length){e.list=n;return}const r=f=>{const p=f.getOriginalParent();return p?p.getChildren().length>1?!0:r(p):!1};if(!n.some(f=>r(f))){const f=new Set(n);for(const p of e.list)f.has(p)||n.push(p);e.list=n;return}const i=new Map;for(let f=0;f<n.length;f++){const p=n[f];i.set(p,f)}const s=e.list.filter(f=>!i.has(f));if(s.length===0){e.list=n;return}const o=(f,p)=>{const v=p?p.getOriginalParent():f.getOriginalParent();if(!v)return null;let y=null,b=null;for(const x of v.getChildren())if(!(x===p||x===f)){if(x instanceof wd){const S=i.get(x);if(S==null)continue;(y==null||y<S)&&(y=S,b=x);continue}x.forEachLeafColumn(S=>{const M=i.get(S);M!=null&&(y==null||y<M)&&(y=M,b=S)})}return b??o(f,v)},a=[],l=new Map;for(const f of s){const p=o(f,null);if(p==null){a.push(f);continue}const v=l.get(p);v===void 0?l.set(p,f):Array.isArray(v)?v.push(f):l.set(p,[v,f])}const c=new Array(e.list.length);let d=c.length-1;for(let f=a.length-1;f>=0;f--)c[d--]=a[f];for(let f=n.length-1;f>=0;f--){const p=n[f],v=l.get(p);if(v)if(Array.isArray(v))for(let y=v.length-1;y>=0;y--){const b=v[y];c[d--]=b}else c[d--]=v;c[d--]=p}e.list=c}positionLockedCols(e){e.list=NV(e.list,this.gos)}saveColOrder(){this.showingPivotResult?this.lastPivotOrder=this.cols?.list??null:this.lastOrder=this.cols?.list??null}getColumnDefs(e){return this.colDefCols&&this.beans.colDefFactory?.getColumnDefs(this.colDefCols.list,this.showingPivotResult,this.lastOrder,this.cols?.list??[],e)}setColSpanActive(){this.colSpanActive=!!this.cols?.list.some(e=>e.getColDef().colSpan!=null)}isPivotMode(){return this.pivotMode}setPivotMode(e,t){if(e===this.pivotMode||(this.pivotMode=e,!this.ready))return;this.refreshCols(!1,t);const{visibleCols:n,eventSvc:r}=this.beans;n.refresh(t),r.dispatchEvent({type:"columnPivotModeChanged"})}isPivotActive(){const e=this.beans.pivotColsSvc?.columns;return this.pivotMode&&!!e?.length}recreateColumnDefs(e){if(!this.cols)return;this.beans.autoColSvc?.updateColumns(e);const t=Gh(e.source);this.createColsFromColDefs(t)}setColumnDefs(e,t){this.colDefs=e,this.createColsFromColDefs(t)}destroy(){Hw(this.beans,this.colDefCols?.tree),super.destroy()}getColTree(){return this.cols?.tree??[]}getColDefColTree(){return this.colDefCols?.tree??[]}getColDefCols(){return this.colDefCols?.list??null}getCols(){return this.cols?.list??[]}forAllCols(e){const{pivotResultCols:t,autoColSvc:n,selectionColSvc:r,groupHierarchyColSvc:i}=this.beans;Xp(this.colDefCols?.list,e),Xp(n?.columns?.list,e),Xp(r?.columns?.list,e),Xp(i?.columns?.list,e),Xp(t?.getPivotResultCols()?.list,e)}getColsForKeys(e){return e?e.map(t=>this.getCol(t)).filter(t=>t!=null):[]}getColDefCol(e){return this.colDefCols?.list?this.getColFromCollection(e,this.colDefCols):null}getCol(e){return e==null?null:this.getColFromCollection(e,this.cols)}getColById(e){return this.cols?.map[e]??null}getColFromCollection(e,t){if(t==null)return null;const{map:n,list:r}=t;if(typeof e=="string"&&n[e])return n[e];for(let a=0;a<r.length;a++)if(Pg(r[a],e))return r[a];const{autoColSvc:i,selectionColSvc:s,groupHierarchyColSvc:o}=this.beans;return i?.getColumn(e)??s?.getColumn(e)??o?.getColumn(e)??null}},jV=class{constructor(){this.existingIds={}}getInstanceIdForKey(e){const t=this.existingIds[e];let n;return typeof t!="number"?n=0:n=t+1,this.existingIds[e]=n,n}},Bf=class extends le{};function Xm(e,t,n){return n&&e.addDestroyFunc(()=>t.destroyBean(n)),n??e}var Ee=null;function O4(e){return typeof e?.getGui=="function"}var Hf=class{constructor(e){this.cssClassStates={},this.getGui=e}toggleCss(e,t){if(!e)return;if(e.indexOf(" ")>=0){const r=(e||"").split(" ");if(r.length>1){for(const i of r)this.toggleCss(i,t);return}}this.cssClassStates[e]!==t&&e.length&&(this.getGui()?.classList.toggle(e,t),this.cssClassStates[e]=t)}},hle=0,Jm=class extends Ko{constructor(e,t){super(),this.suppressDataRefValidation=!1,this.displayed=!0,this.visible=!0,this.compId=hle++,this.cssManager=new Hf(()=>this.eGui),this.componentSelectors=new Map((t??[]).map(n=>[n.selector,n])),e&&this.setTemplate(e)}preConstruct(){this.wireTemplate(this.getGui());const e="component-"+Object.getPrototypeOf(this)?.constructor?.name;for(const t of this.css??[])this.beans.environment.addGlobalCSS(t,e)}wireTemplate(e,t){e&&this.gos&&(this.applyElementsToComponent(e),this.createChildComponentsFromTags(e,t))}getCompId(){return this.compId}getDataRefAttribute(e){return e.getAttribute?e.getAttribute(rV):null}applyElementsToComponent(e,t,n,r=null){if(t===void 0&&(t=this.getDataRefAttribute(e)),t){const i=this[t];if(i===Ee)this[t]=r??e;else{const s=n?.[t];if(!this.suppressDataRefValidation&&!s)throw new Error(`data-ref: ${t} on ${this.constructor.name} with ${i}`)}}}createChildComponentsFromTags(e,t){const n=[];for(const r of e.childNodes??[])n.push(r);for(const r of n){if(!(r instanceof HTMLElement))continue;const i=this.createComponentFromElement(r,s=>{const o=s.getGui();if(o)for(const a of r.attributes??[])o.setAttribute(a.name,a.value)},t);if(i){if(i.addItems&&r.children.length){this.createChildComponentsFromTags(r,t);const s=Array.prototype.slice.call(r.children);i.addItems(s)}this.swapComponentForNode(i,e,r)}else r.childNodes&&this.createChildComponentsFromTags(r,t)}}createComponentFromElement(e,t,n){const r=e.nodeName,i=this.getDataRefAttribute(e),s=r.indexOf("AG-")===0,o=s?this.componentSelectors.get(r):null;let a=null;if(o){const l=n&&i?n[i]:void 0;a=new o.component(l),a.setParentComponent(this),this.createBean(a,null,t)}else if(s)throw new Error(`selector: ${r}`);return this.applyElementsToComponent(e,i,n,a),a}swapComponentForNode(e,t,n){const r=e.getGui();t.replaceChild(r,n),t.insertBefore(document.createComment(n.nodeName),r),this.addDestroyFunc(this.destroyBean.bind(this,e))}activateTabIndex(e){const t=this.gos.get("tabIndex");e||(e=[]),e.length||e.push(this.getGui());for(const n of e)n.setAttribute("tabindex",t.toString())}setTemplate(e,t,n){let r;typeof e=="string"||e==null?r=oA(e):r=Qm(e),this.setTemplateFromElement(r,t,n)}setTemplateFromElement(e,t,n,r=!1){if(this.eGui=e,this.suppressDataRefValidation=r,t)for(let i=0;i<t.length;i++){const s=t[i];this.componentSelectors.set(s.selector,s)}this.wireTemplate(e,n)}getGui(){return this.eGui}getFocusableElement(){return this.eGui}getAriaElement(){return this.getFocusableElement()}setParentComponent(e){this.parentComponent=e}getParentComponent(){return this.parentComponent}setGui(e){this.eGui=e}queryForHtmlElement(e){return this.eGui.querySelector(e)}getContainerAndElement(e,t){let n=t;return e==null?null:(n||(n=this.eGui),cA(e)?{element:e,parent:n}:{element:e.getGui(),parent:n})}prependChild(e,t){const{element:n,parent:r}=this.getContainerAndElement(e,t)||{};!n||!r||r.insertAdjacentElement("afterbegin",n)}appendChild(e,t){const{element:n,parent:r}=this.getContainerAndElement(e,t)||{};!n||!r||r.appendChild(n)}isDisplayed(){return this.displayed}setVisible(e,t={}){if(e!==this.visible){this.visible=e;const{skipAriaHidden:n}=t;Uoe(this.eGui,e,{skipAriaHidden:n})}}setDisplayed(e,t={}){if(e!==this.displayed){this.displayed=e;const{skipAriaHidden:n}=t;Wt(this.eGui,e,{skipAriaHidden:n});const r={type:"displayChanged",visible:this.displayed};this.dispatchLocalEvent(r)}}destroy(){this.parentComponent&&(this.parentComponent=void 0),super.destroy()}addGuiEventListener(e,t,n){this.eGui.addEventListener(e,t,n),this.addDestroyFunc(()=>this.eGui.removeEventListener(e,t))}addCss(e){this.cssManager.toggleCss(e,!0)}removeCss(e){this.cssManager.toggleCss(e,!1)}toggleCss(e,t){this.cssManager.toggleCss(e,t)}registerCSS(e){this.css||(this.css=[]),this.css.push(e)}},yt=class extends Jm{};function BV(e){return typeof e=="object"&&!!e.component}function fle(e,t){return new vt(n=>{n(window.setInterval(e,t))})}var vt=class wg{constructor(t){this.status=0,this.resolution=null,this.waiters=[],t(n=>this.onDone(n),n=>this.onReject(n))}static all(t){return t.length?new wg(n=>{let r=t.length;const i=new Array(r);t.forEach((s,o)=>{s.then(a=>{i[o]=a,r--,r===0&&n(i)})})}):wg.resolve()}static resolve(t=null){return new wg(n=>n(t))}then(t){return new wg(n=>{this.status===1?n(t(this.resolution)):this.waiters.push(r=>n(t(r)))})}onDone(t){this.status=1,this.resolution=t;for(const n of this.waiters)n(t)}onReject(t){}};function ple(e){return e?e.prototype&&"getGui"in e.prototype:!1}function HV(e,t,n,r){const{name:i}=n;let s,o,a,l,c,d;if(t){const f=t,p=f[i+"Selector"],v=p?p(r):null,y=b=>{typeof b=="string"?s=b:b!=null&&b!==!0&&(e.isFrameworkComponent(b)?a=b:o=b)};v?(y(v.component),l=v.params,c=v.popup,d=v.popupPosition):y(f[i])}return{compName:s,jsComp:o,fwComp:a,paramsFromSelector:l,popupFromSelector:c,popupPositionFromSelector:d}}var gle=class extends le{constructor(){super(...arguments),this.beanName="userCompFactory"}wireBeans(e){this.agCompUtils=e.agCompUtils,this.registry=e.registry,this.frameworkCompWrapper=e.frameworkCompWrapper,this.gridOptions=e.gridOptions}getCompDetailsFromGridOptions(e,t,n,r=!1){return this.getCompDetails(this.gridOptions,e,t,n,r)}getCompDetails(e,t,n,r,i=!1){const{name:s,cellRenderer:o}=t;let{compName:a,jsComp:l,fwComp:c,paramsFromSelector:d,popupFromSelector:f,popupPositionFromSelector:p}=HV(this.beans.frameworkOverrides,e,t,r),v,y;const b=R=>{const T=this.registry.getUserComponent(s,R);T&&(l=T.componentFromFramework?void 0:T.component,c=T.componentFromFramework?T.component:void 0,v=T.params,y=T.processParams)};if(a!=null&&b(a),l==null&&c==null&&n!=null&&b(n),l&&o&&!ple(l)&&(l=this.agCompUtils?.adaptFunction(t,l)),!l&&!c){const{validation:R}=this.beans;i&&(a!==n||!n)?a?R?.isProvidedUserComp(a)||Dt(50,{compName:a}):n?R||Dt(260,{...this.gos.getModuleErrorParams(),propName:s,compName:n}):Dt(216,{name:s}):n&&!R&&Dt(146,{comp:n});return}const x=this.mergeParams(e,t,r,d,v,y),S=l==null,M=l??c;return{componentFromFramework:S,componentClass:M,params:x,type:t,popupFromSelector:f,popupPositionFromSelector:p,newAgStackInstance:()=>this.newAgStackInstance(M,S,x,t)}}newAgStackInstance(e,t,n,r){const i=!t;let s;i?s=new e:s=this.frameworkCompWrapper.wrap(e,r.mandatoryMethods,r.optionalMethods,r),this.createBean(s);const o=s.init?.(n);return o==null?vt.resolve(s):o.then(()=>s)}mergeParams(e,t,n,r=null,i,s){const o={...n,...i},l=e?.[t.name+"Params"];if(typeof l=="function"){const c=l(n);Qr(o,c)}else typeof l=="object"&&Qr(o,l);return Qr(o,r),s?s(o):o}},mle={name:"dateComponent",mandatoryMethods:["getDate","setDate"],optionalMethods:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled","refresh"]},vle={name:"dragAndDropImageComponent",mandatoryMethods:["setIcon","setLabel"]},yle={name:"headerComponent",optionalMethods:["refresh"]},wle={name:"innerHeaderComponent"},ble={name:"innerHeaderGroupComponent"},Cle={name:"headerGroupComponent"},xle={name:"innerRenderer",cellRenderer:!0,optionalMethods:["afterGuiAttached"]},Sle={name:"cellRenderer",optionalMethods:["refresh","afterGuiAttached"],cellRenderer:!0},Ele={name:"loadingCellRenderer",cellRenderer:!0},Dle={name:"cellEditor",mandatoryMethods:["getValue"],optionalMethods:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached","refresh"]},Rle={name:"loadingOverlayComponent",optionalMethods:["refresh"]},Mle={name:"noRowsOverlayComponent",optionalMethods:["refresh"]},Tle={name:"tooltipComponent"},vA={name:"filter",mandatoryMethods:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethods:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged","refresh"]},kle={name:"floatingFilterComponent",mandatoryMethods:["onParentModelChanged"],optionalMethods:["afterGuiAttached","refresh"]},Ale={name:"fullWidthCellRenderer",optionalMethods:["refresh","afterGuiAttached"],cellRenderer:!0},Ple={name:"loadingCellRenderer",cellRenderer:!0},Nle={name:"groupRowRenderer",optionalMethods:["afterGuiAttached"],cellRenderer:!0},Ole={name:"detailCellRenderer",optionalMethods:["refresh"],cellRenderer:!0};function Fle(e,t){return e.getCompDetailsFromGridOptions(vle,"agDragAndDropImage",t,!0)}function $y(e,t,n){return e.getCompDetails(t,xle,void 0,n)}function Ile(e,t,n){return e.getCompDetails(t,yle,"agColumnHeader",n)}function Lle(e,t,n){return e.getCompDetails(t,wle,void 0,n)}function _le(e,t){const n=t.columnGroup.getColGroupDef();return e.getCompDetails(n,Cle,"agColumnGroupHeader",t)}function jle(e,t,n){return e.getCompDetails(t,ble,void 0,n)}function Ble(e,t){return e.getCompDetailsFromGridOptions(Ale,void 0,t,!0)}function Hle(e,t){return e.getCompDetailsFromGridOptions(Ple,"agLoadingCellRenderer",t,!0)}function zle(e,t){return e.getCompDetailsFromGridOptions(Nle,"agGroupRowRenderer",t,!0)}function Gle(e,t){return e.getCompDetailsFromGridOptions(Ole,"agDetailCellRenderer",t,!0)}function Vw(e,t,n){return e.getCompDetails(t,Sle,void 0,n)}function F4(e,t,n){return e.getCompDetails(t,Ele,"agSkeletonCellRenderer",n,!0)}function zV(e,t,n){return e.getCompDetails(t,Dle,"agCellEditor",n,!0)}function Vle(e,t,n,r){const i=t.filter;return BV(i)&&(t={filter:i.component,filterParams:t.filterParams}),e.getCompDetails(t,vA,r,n,!0)}function Wle(e,t,n){return e.getCompDetails(t,mle,"agDateInput",n,!0)}function Ule(e,t){return e.getCompDetailsFromGridOptions(Rle,"agLoadingOverlay",t,!0)}function $le(e,t){return e.getCompDetailsFromGridOptions(Mle,"agNoRowsOverlay",t,!0)}function qle(e,t){return e.getCompDetails(t.colDef,Tle,"agTooltipComponent",t,!0)}function Kle(e,t,n,r){return e.getCompDetails(t,kle,r,n)}function GV(e,t){return HV(e,t,vA)}function fD(e,t,n){return e.mergeParams(t,vA,n)}function am(e){const t=e;return t?.getFrameworkComponentInstance!=null?t.getFrameworkComponentInstance():e}function Yle(e){return typeof e=="object"&&!!e.getComp}var re={BACKSPACE:"Backspace",TAB:"Tab",ENTER:"Enter",ESCAPE:"Escape",SPACE:" ",LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown",DELETE:"Delete",F2:"F2",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown",PAGE_HOME:"Home",PAGE_END:"End",A:"KeyA",C:"KeyC",D:"KeyD",V:"KeyV",X:"KeyX",Y:"KeyY",Z:"KeyZ"},yA=class extends Jm{isPopup(){return!0}setParentComponent(e){e.addCss("ag-has-popup"),super.setParentComponent(e)}destroy(){const e=this.parentComponent;e?.isAlive()&&e.getGui().classList.remove("ag-has-popup"),super.destroy()}},pD,gD,mD,vD,O2,F2,yD;function _c(){return pD===void 0&&(pD=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),pD}function VV(){return gD===void 0&&(gD=/(firefox)/i.test(navigator.userAgent)),gD}function WV(){return mD===void 0&&(mD=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),mD}function ju(){return vD===void 0&&(vD=/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1),vD}function I2(e){if(!e)return null;const t=e.tabIndex,n=e.getAttribute("tabIndex");return t===-1&&(n===null||n===""&&!VV())?null:t.toString()}function Qle(){if(yD!==void 0)return yD;if(!document.body)return-1;let e=1e6;const t=VV()?6e6:1e9,n=document.createElement("div");for(document.body.appendChild(n);;){const r=e*2;if(n.style.height=r+"px",r>t||n.clientHeight!==r)break;e=r}return n.remove(),yD=e,e}function Xle(){return F2==null&&UV(),F2}function UV(){const e=document.body,t=document.createElement("div");t.style.width=t.style.height="100px",t.style.opacity="0",t.style.overflow="scroll",t.style.msOverflowStyle="scrollbar",t.style.position="absolute",e.appendChild(t);let n=t.offsetWidth-t.clientWidth;n===0&&t.clientWidth===0&&(n=null),t.parentNode&&t.remove(),n!=null&&(F2=n,O2=n===0)}function $V(){return O2==null&&UV(),O2}var wA="T",Jle=new RegExp(`[${wA} ]`),Zle=new RegExp(`^\\d{4}-\\d{2}-\\d{2}(${wA}\\d{2}:\\d{2}:\\d{2}\\D?)?`);function Eo(e,t){return e.toString().padStart(t,"0")}function Ki(e,t=!0,n=wA){if(!e)return null;let r=[e.getFullYear(),e.getMonth()+1,e.getDate()].map(i=>Eo(i,2)).join("-");return t&&(r+=n+[e.getHours(),e.getMinutes(),e.getSeconds()].map(i=>Eo(i,2)).join(":")),r}function qy(e,t=!0){return e?t?[String(e.getFullYear()),String(e.getMonth()+1),Eo(e.getDate(),2),Eo(e.getHours(),2),`:${Eo(e.getMinutes(),2)}`,`:${Eo(e.getSeconds(),2)}`]:[e.getFullYear(),e.getMonth()+1,Eo(e.getDate(),2)].map(String):null}var wD=e=>{if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"},L2=["January","February","March","April","May","June","July","August","September","October","November","December"],bD=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function _2(e,t){if(t==null)return Ki(e,!1);const n=Eo(e.getFullYear(),4),r={YYYY:()=>n.slice(n.length-4,n.length),YY:()=>n.slice(n.length-2,n.length),Y:()=>`${e.getFullYear()}`,MMMM:()=>L2[e.getMonth()],MMM:()=>L2[e.getMonth()].slice(0,3),MM:()=>Eo(e.getMonth()+1,2),Mo:()=>`${e.getMonth()+1}${wD(e.getMonth()+1)}`,M:()=>`${e.getMonth()+1}`,Do:()=>`${e.getDate()}${wD(e.getDate())}`,DD:()=>Eo(e.getDate(),2),D:()=>`${e.getDate()}`,dddd:()=>bD[e.getDay()],ddd:()=>bD[e.getDay()].slice(0,3),dd:()=>bD[e.getDay()].slice(0,2),do:()=>`${e.getDay()}${wD(e.getDay())}`,d:()=>`${e.getDay()}`},i=new RegExp(Object.keys(r).join("|"),"g");return t.replace(i,s=>s in r?r[s]():s)}function nw(e,t=!1){return!!Ci(e,t)}function ece(e){return nw(e,!0)}function Ci(e,t=!1,n){if(!e||!n&&!Zle.test(e))return null;const[r,i]=e.split(Jle);if(!r)return null;const s=r.split("-").map(v=>Number.parseInt(v,10));if(s.filter(v=>!isNaN(v)).length!==3)return null;const[o,a,l]=s,c=new Date(o,a-1,l);if(c.getFullYear()!==o||c.getMonth()!==a-1||c.getDate()!==l||!i&&t)return null;if(!i||i==="00:00:00")return c;const[d,f,p]=i.split(":").map(v=>Number.parseInt(v,10));if(d>=0&&d<24)c.setHours(d);else if(t)return null;if(f>=0&&f<60)c.setMinutes(f);else if(t)return null;if(p>=0&&p<60)c.setSeconds(p);else if(t)return null;return c}function j2(e){const{inputValue:t,allSuggestions:n,hideIrrelevant:r,filterByPercentageOfBestMatch:i}=e;let s=(n??[]).map((l,c)=>({value:l,relevance:tce(t,l),idx:c}));if(s.sort((l,c)=>l.relevance-c.relevance),r&&(s=s.filter(l=>l.relevance<Math.max(l.value.length,t.length))),s.length>0&&i&&i>0){const c=s[0].relevance*i;s=s.filter(d=>c-d.relevance<0)}const o=[],a=[];for(const l of s)o.push(l.value),a.push(l.idx);return{values:o,indices:a}}function tce(e,t){e.length<t.length&&([e,t]=[t,e]);let n=[],r=[];const i=e.length,s=t.length;for(let a=0;a<=s;a++)n[a]=a;let o=0;for(let a=1;a<=i;a++){r[0]=a;for(let l=1;l<=s;l++){const c=e[a-1],d=t[l-1];if(c.toLocaleLowerCase()===d.toLocaleLowerCase())++o,c===d&&++o,a>1&&l>1&&e[a-2].toLocaleLowerCase()===t[l-2].toLocaleLowerCase()&&(++o,e[a-2]===t[l-2]&&++o),a<i/2-10&&++o,r[l]=n[l-1];else{const f=r[l-1],p=n[l],v=n[l-1];r[l]=1+Math.min(f,p,v)}}[n,r]=[r,n]}return n[s]/(o+1)}function qV(e){return e.altKey||e.ctrlKey||e.metaKey?!1:e.key?.length===1}var B2=!1,Ww=0;function nce(e){Ww>0||(e.addEventListener("keydown",Uw),e.addEventListener("mousedown",Uw))}function rce(e){Ww>0||(e.removeEventListener("keydown",Uw),e.removeEventListener("mousedown",Uw))}function Uw(e){const t=B2,n=e.type==="keydown";n&&(e.ctrlKey||e.metaKey||e.altKey)||t!==n&&(B2=n)}function ice(e){const t=Wn(e);return nce(t),Ww++,()=>{Ww--,rce(t)}}function sce(){return B2}function Vh(e,t,n=!1){const r=Woe;let i=QG;t&&(i+=", "+t),n&&(i+=', [tabindex="-1"]');const s=Array.prototype.slice.apply(e.querySelectorAll(r)).filter(l=>qo(l)),o=Array.prototype.slice.apply(e.querySelectorAll(i));return o.length?((l,c)=>l.filter(d=>c.indexOf(d)===-1))(s,o):s}function Rc(e,t=!1,n=!1,r=!1){const i=Vh(e,r?".ag-tab-guard":null,n),s=t?Ft(i):i[0];return s?(s.focus({preventScroll:!0}),!0):!1}function bd(e,t,n,r){const i=Vh(t,n?':not([tabindex="-1"])':null),s=sn(e);let o;n?o=i.findIndex(l=>l.contains(s)):o=i.indexOf(s);const a=o+(r?-1:1);return a<0||a>=i.length?null:i[a]}function KV(e,t=5){let n=0;for(;e&&I2(e)===null&&++n<=t;)e=e.parentElement;return I2(e)===null?null:e}var oce=".ag-label{white-space:nowrap}:where(.ag-ltr) .ag-label{margin-right:var(--ag-spacing)}:where(.ag-rtl) .ag-label{margin-left:var(--ag-spacing)}:where(.ag-label-align-right) .ag-label{order:1}:where(.ag-ltr) :where(.ag-label-align-right) .ag-label{margin-left:var(--ag-spacing)}:where(.ag-rtl) :where(.ag-label-align-right) .ag-label{margin-right:var(--ag-spacing)}.ag-label-align-right>*{flex:none}.ag-label-align-top{align-items:flex-start;flex-direction:column;>*{align-self:stretch}}.ag-label-ellipsis{flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:where(.ag-label-align-top) .ag-label{margin-bottom:calc(var(--ag-spacing)*.5)}",ace=class extends Jm{constructor(e,t,n){super(t,n),this.labelSeparator="",this.labelAlignment="left",this.disabled=!1,this.label="",this.config=e||{},this.registerCSS(oce)}postConstruct(){this.addCss("ag-labeled"),this.eLabel.classList.add("ag-label");const{labelSeparator:e,label:t,labelWidth:n,labelAlignment:r,disabled:i}=this.config;i!=null&&this.setDisabled(i),e!=null&&this.setLabelSeparator(e),t!=null&&this.setLabel(t),n!=null&&this.setLabelWidth(n),this.setLabelAlignment(r||this.labelAlignment),this.refreshLabel()}refreshLabel(){const{label:e,eLabel:t}=this;xr(t),typeof e=="string"?t.innerText=e+this.labelSeparator:e&&t.appendChild(e),e===""?(Wt(t,!1),Ka(t,"presentation")):(Wt(t,!0),Ka(t,null))}setLabelSeparator(e){return this.labelSeparator===e?this:(this.labelSeparator=e,this.label!=null&&this.refreshLabel(),this)}getLabelId(){const e=this.eLabel;return e.id=e.id||`ag-${this.getCompId()}-label`,e.id}getLabel(){return this.label}setLabel(e){return this.label===e?this:(this.label=e,this.refreshLabel(),this)}setLabelAlignment(e){const n=this.getGui().classList;return n.toggle("ag-label-align-left",e==="left"),n.toggle("ag-label-align-right",e==="right"),n.toggle("ag-label-align-top",e==="top"),this}setLabelEllipsis(e){return this.eLabel.classList.toggle("ag-label-ellipsis",e),this}setLabelWidth(e){return this.label==null?this:(Iw(this.eLabel,e),this)}setDisabled(e){e=!!e;const t=this.getGui();return em(t,e),t.classList.toggle("ag-disabled",e),this.disabled=e,this}isDisabled(){return!!this.disabled}},YV=class extends ace{constructor(e,t,n,r){super(e,t,n),this.className=r}postConstruct(){super.postConstruct();const{width:e,value:t,onValueChange:n}=this.config;e!=null&&this.setWidth(e),t!=null&&this.setValue(t),n!=null&&this.onValueChange(n),this.className&&this.addCss(this.className),this.refreshAriaLabelledBy()}setLabel(e){return super.setLabel(e),this.refreshAriaLabelledBy(),this}refreshAriaLabelledBy(){const e=this.getAriaElement(),t=this.getLabelId(),n=this.getLabel();n==null||n==""||Poe(e)!==null?Jg(e,""):Jg(e,t??"")}setAriaLabel(e){return nf(this.getAriaElement(),e),this.refreshAriaLabelledBy(),this}onValueChange(e){return this.addManagedListeners(this,{fieldValueChanged:()=>e(this.getValue())}),this}getWidth(){return this.getGui().clientWidth}setWidth(e){return No(this.getGui(),e),this}getPreviousValue(){return this.previousValue}getValue(){return this.value}setValue(e,t){return this.value===e?this:(this.previousValue=this.value,this.value=e,t||this.dispatchLocalEvent({type:"fieldValueChanged"}),this)}};function lce(e){return{tag:"div",role:"presentation",children:[{tag:"div",ref:"eLabel",cls:"ag-input-field-label"},{tag:"div",ref:"eWrapper",cls:"ag-wrapper ag-input-wrapper",role:"presentation",children:[{tag:e,ref:"eInput",cls:"ag-input-field-input"}]}]}}var xu=class extends YV{constructor(e,t,n="text",r="input"){super(e,e?.template??lce(r),[],t),this.inputType=n,this.displayFieldTag=r,this.eLabel=Ee,this.eWrapper=Ee,this.eInput=Ee}postConstruct(){super.postConstruct(),this.setInputType(this.inputType);const{eLabel:e,eWrapper:t,eInput:n,className:r}=this;e.classList.add(`${r}-label`),t.classList.add(`${r}-input-wrapper`),n.classList.add(`${r}-input`),this.addCss("ag-input-field"),n.id=n.id||`ag-${this.getCompId()}-input`;const{inputName:i,inputWidth:s}=this.config;i!=null&&this.setInputName(i),s!=null&&this.setInputWidth(s),this.addInputListeners(),this.activateTabIndex([n])}addInputListeners(){this.addManagedElementListeners(this.eInput,{input:e=>this.setValue(e.target.value)})}setInputType(e){this.displayFieldTag==="input"&&(this.inputType=e,Wi(this.eInput,"type",e))}getInputElement(){return this.eInput}setInputWidth(e){return Iw(this.eWrapper,e),this}setInputName(e){return this.getInputElement().setAttribute("name",e),this}getFocusableElement(){return this.eInput}setMaxLength(e){const t=this.eInput;return t.maxLength=e,this}setInputPlaceholder(e){return Wi(this.eInput,"placeholder",e),this}setInputAriaLabel(e){return nf(this.eInput,e),this.refreshAriaLabelledBy(),this}setDisabled(e){return em(this.eInput,e),super.setDisabled(e)}setAutoComplete(e){if(e===!0)Wi(this.eInput,"autocomplete",null);else{const t=typeof e=="string"?e:"off";Wi(this.eInput,"autocomplete",t)}return this}},bA=class extends xu{constructor(e,t="ag-checkbox",n="checkbox"){super(e,t,n),this.labelAlignment="right",this.selected=!1,this.readOnly=!1,this.passive=!1}postConstruct(){super.postConstruct();const{readOnly:e,passive:t}=this.config;typeof e=="boolean"&&this.setReadOnly(e),typeof t=="boolean"&&this.setPassive(t)}addInputListeners(){this.addManagedElementListeners(this.eInput,{click:this.onCheckboxClick.bind(this)}),this.addManagedElementListeners(this.eLabel,{click:this.toggle.bind(this)})}getNextValue(){return this.selected===void 0?!0:!this.selected}setPassive(e){this.passive=e}isReadOnly(){return this.readOnly}setReadOnly(e){this.eWrapper.classList.toggle("ag-disabled",e),this.eInput.disabled=e,this.readOnly=e}setDisabled(e){return this.eWrapper.classList.toggle("ag-disabled",e),super.setDisabled(e)}toggle(){if(this.eInput.disabled)return;const e=this.isSelected(),t=this.getNextValue();this.passive?this.dispatchChange(t,e):this.setValue(t)}getValue(){return this.isSelected()}setValue(e,t){return this.refreshSelectedClass(e),this.setSelected(e,t),this}setName(e){const t=this.getInputElement();return t.name=e,this}isSelected(){return this.selected}setSelected(e,t){if(this.isSelected()===e)return;this.previousValue=this.isSelected(),e=this.selected=typeof e=="boolean"?e:void 0;const n=this.eInput;n.checked=e,n.indeterminate=e===void 0,t||this.dispatchChange(this.selected,this.previousValue)}dispatchChange(e,t,n){this.dispatchLocalEvent({type:"fieldValueChanged",selected:e,previousValue:t,event:n});const r=this.getInputElement();this.eventSvc.dispatchEvent({type:"checkboxChanged",id:r.id,name:r.name,selected:e,previousValue:t})}onCheckboxClick(e){if(this.passive||this.eInput.disabled)return;const t=this.isSelected(),n=this.selected=e.target.checked;this.refreshSelectedClass(n),this.dispatchChange(n,t,e)}refreshSelectedClass(e){const t=this.eWrapper.classList;t.toggle("ag-checked",e===!0),t.toggle("ag-indeterminate",e==null)}},CA={selector:"AG-CHECKBOX",component:bA},cce=class extends bA{constructor(e){super(e,"ag-radio-button","radio")}isSelected(){return this.eInput.checked}toggle(){this.eInput.disabled||this.isSelected()||this.setValue(!0)}addInputListeners(){super.addInputListeners(),this.addManagedEventListeners({checkboxChanged:this.onChange.bind(this)})}onChange(e){const t=this.eInput;e.selected&&e.name&&t.name&&t.name===e.name&&e.id&&t.id!==e.id&&this.setValue(!1,!0)}},Cd=class extends xu{constructor(e,t="ag-text-field",n="text"){super(e,t,n)}postConstruct(){super.postConstruct(),this.config.allowedCharPattern&&this.preventDisallowedCharacters()}setValue(e,t){const n=this.eInput;return n.value!==e&&(n.value=De(e)?e:""),super.setValue(e,t)}setStartValue(e){this.setValue(e,!0)}preventDisallowedCharacters(){const e=new RegExp(`[${this.config.allowedCharPattern}]`),t=n=>{qV(n)&&n.key&&!e.test(n.key)&&n.preventDefault()};this.addManagedListeners(this.eInput,{keydown:t,paste:n=>{n.clipboardData?.getData("text")?.split("").some(i=>!e.test(i))&&n.preventDefault()}})}},hx={selector:"AG-INPUT-TEXT-FIELD",component:Cd},uce=class extends xu{constructor(e){super(e,"ag-text-area",null,"textarea")}setValue(e,t){const n=super.setValue(e,t);return this.eInput.value=e,n}setCols(e){return this.eInput.cols=e,this}setRows(e){return this.eInput.rows=e,this}},dce={selector:"AG-INPUT-TEXT-AREA",component:uce},xA=class extends Cd{constructor(e){super(e,"ag-number-field","number")}postConstruct(){super.postConstruct();const e=this.eInput;this.addManagedListeners(e,{blur:()=>{const s=Number.parseFloat(e.value),o=isNaN(s)?"":this.normalizeValue(s.toString());this.value!==o&&this.setValue(o)},wheel:this.onWheel.bind(this)}),e.step="any";const{precision:t,min:n,max:r,step:i}=this.config;typeof t=="number"&&this.setPrecision(t),typeof n=="number"&&this.setMin(n),typeof r=="number"&&this.setMax(r),typeof i=="number"&&this.setStep(i)}onWheel(e){sn(this.beans)===this.eInput&&e.preventDefault()}normalizeValue(e){return e===""?"":(this.precision!=null&&(e=this.adjustPrecision(e)),e)}adjustPrecision(e,t){const n=this.precision;if(n==null)return e;if(t){const i=Number.parseFloat(e).toFixed(n);return Number.parseFloat(i).toString()}const r=String(e).split(".");if(r.length>1){if(r[1].length<=n)return e;if(n>0)return`${r[0]}.${r[1].slice(0,n)}`}return r[0]}setMin(e){return this.min===e?this:(this.min=e,Wi(this.eInput,"min",e),this)}setMax(e){return this.max===e?this:(this.max=e,Wi(this.eInput,"max",e),this)}setPrecision(e){return this.precision=e,this}setStep(e){return this.step===e?this:(this.step=e,Wi(this.eInput,"step",e),this)}setValue(e,t){return this.setValueOrInputValue(n=>super.setValue(n,t),()=>this,e)}setStartValue(e){return this.setValueOrInputValue(t=>super.setValue(t,!0),t=>{this.eInput.value=t},e)}setValueOrInputValue(e,t,n){if(De(n)){let r=this.isScientificNotation(n);if(r&&this.eInput.validity.valid)return e(n);if(!r){n=this.adjustPrecision(n);const i=this.normalizeValue(n);r=n!=i}if(r)return t(n)}return e(n)}getValue(){const e=this.eInput;if(!e.validity.valid)return;const t=e.value;return this.isScientificNotation(t)?this.adjustPrecision(t,!0):super.getValue()}isScientificNotation(e){return typeof e=="string"&&e.includes("e")}},hce={selector:"AG-INPUT-NUMBER-FIELD",component:xA},fce=class extends Cd{constructor(e){super(e,"ag-date-field","date")}postConstruct(){super.postConstruct();const e=_c();this.addManagedListeners(this.eInput,{wheel:this.onWheel.bind(this),mousedown:()=>{this.isDisabled()||e||this.eInput.focus()}}),this.eInput.step="any"}onWheel(e){sn(this.beans)===this.eInput&&e.preventDefault()}setMin(e){const t=e instanceof Date?Ki(e??null,!!this.includeTime)??void 0:e;return this.min===t?this:(this.min=t,Wi(this.eInput,"min",t),this)}setMax(e){const t=e instanceof Date?Ki(e??null,!!this.includeTime)??void 0:e;return this.max===t?this:(this.max=t,Wi(this.eInput,"max",t),this)}setStep(e){return this.step===e?this:(this.step=e,Wi(this.eInput,"step",e),this)}setIncludeTime(e){return this.includeTime===e?this:(this.includeTime=e,super.setInputType(e?"datetime-local":"date"),e&&this.setStep(1),this)}getDate(){if(this.eInput.validity.valid)return Ci(this.getValue())??void 0}setDate(e,t){this.setValue(Ki(e??null,this.includeTime),t)}},QV={selector:"AG-INPUT-DATE-FIELD",component:fce},pce=".ag-list-item{align-items:center;display:flex;height:var(--ag-list-item-height);overflow:hidden;text-overflow:ellipsis;white-space:nowrap;&.ag-active-item{background-color:var(--ag-row-hover-color)}}",gce="ag-active-item",mce=(e,t)=>({tag:"div",cls:`ag-list-item ag-${e}-list-item`,attrs:{role:"option"},children:[{tag:"span",ref:"eText",children:t}]}),vce=class extends Jm{constructor(e,t,n){super(mce(e,t)),this.label=t,this.value=n,this.eText=Ee}postConstruct(){this.createTooltip(),this.addEventListeners()}setHighlighted(e){const t=this.getGui();t.classList.toggle(gce,e),YG(t,e),this.dispatchLocalEvent({type:"itemHighlighted",highlighted:e})}getHeight(){return this.getGui().clientHeight}setIndex(e,t){const n=this.getGui();joe(n,e),_oe(n,t)}createTooltip(){const e={getTooltipValue:()=>this.label,getGui:()=>this.getGui(),getLocation:()=>"UNKNOWN",shouldDisplayTooltip:()=>aA(this.eText)},t=this.createOptionalManagedBean(this.beans.registry.createDynamicBean("highlightTooltipFeature",!1,e,this));t&&(this.tooltipFeature=t)}addEventListeners(){const e=this.getParentComponent();e&&(this.addGuiEventListener("mouseover",()=>{e.highlightItem(this)}),this.addGuiEventListener("mousedown",t=>{t.preventDefault(),t.stopPropagation(),e.setValue(this.value)}))}},yce=class extends Jm{constructor(e="default"){super({tag:"div",cls:`ag-list ag-${e}-list`}),this.cssIdentifier=e,this.options=[],this.listItems=[],this.highlightedItem=null,this.registerCSS(pce)}postConstruct(){const e=this.getGui();this.addManagedElementListeners(e,{mouseleave:()=>this.clearHighlighted()})}handleKeyDown(e){const t=e.key;switch(t){case re.ENTER:if(!this.highlightedItem)this.setValue(this.getValue());else{const n=this.listItems.indexOf(this.highlightedItem);this.setValueByIndex(n)}break;case re.DOWN:case re.UP:e.preventDefault(),this.navigate(t);break;case re.PAGE_DOWN:case re.PAGE_UP:case re.PAGE_HOME:case re.PAGE_END:e.preventDefault(),this.navigateToPage(t);break}}addOptions(e){for(const t of e)this.addOption(t);return this}addOption(e){const{value:t,text:n}=e,r=n??t;return this.options.push({value:t,text:r}),this.renderOption(t,r),this.updateIndices(),this}clearOptions(){this.options=[],this.reset(!0);for(const e of this.listItems)e.destroy();xr(this.getGui()),this.listItems=[],this.refreshAriaRole()}setValue(e,t){if(this.value===e)return this.fireItemSelected(),this;if(e==null)return this.reset(t),this;const n=this.options.findIndex(r=>r.value===e);if(n!==-1){const r=this.options[n];this.value=r.value,this.displayValue=r.text,this.highlightItem(this.listItems[n]),t||this.fireChangeEvent()}return this}setValueByIndex(e){return this.setValue(this.options[e].value)}getValue(){return this.value}getDisplayValue(){return this.displayValue}refreshHighlighted(){this.clearHighlighted();const e=this.options.findIndex(t=>t.value===this.value);e!==-1&&this.highlightItem(this.listItems[e])}highlightItem(e){const t=e.getGui();if(!qo(t))return;this.clearHighlighted(),e.setHighlighted(!0),this.highlightedItem=e;const n=this.getGui(),{scrollTop:r,clientHeight:i}=n,{offsetTop:s,offsetHeight:o}=t;(s+o>r+i||s<r)&&t.scrollIntoView({block:"nearest"})}hideItemTooltip(){this.highlightedItem?.tooltipFeature?.attemptToHideTooltip()}destroy(){this.hideItemTooltip(),super.destroy()}reset(e){this.value=null,this.displayValue=null,this.clearHighlighted(),e||this.fireChangeEvent()}clearHighlighted(){this.highlightedItem?.setHighlighted(!1),this.highlightedItem=null}renderOption(e,t){const n=new vce(this.cssIdentifier,t,e);n.setParentComponent(this);const r=this.createManagedBean(n);this.listItems.push(r),this.getGui().appendChild(r.getGui())}navigate(e){const t=e===re.DOWN;let n;const{listItems:r,highlightedItem:i}=this;if(!i)n=t?r[0]:Ft(r);else{let o=r.indexOf(i)+(t?1:-1);o=Math.min(Math.max(o,0),r.length-1),n=r[o]}this.highlightItem(n)}navigateToPage(e){const{listItems:t,highlightedItem:n}=this;if(!n||t.length===0)return;const r=t.indexOf(n),i=this.options.length-1,s=t[0].getHeight(),o=Math.floor(this.getGui().clientHeight/s);let a=-1;e===re.PAGE_HOME?a=0:e===re.PAGE_END?a=i:e===re.PAGE_DOWN?a=Math.min(r+o,i):e===re.PAGE_UP&&(a=Math.max(r-o,0)),a!==-1&&this.highlightItem(t[a])}refreshAriaRole(){Ka(this.getGui(),this.options.length===0?"presentation":"listbox")}updateIndices(){this.refreshAriaRole();const e=this.listItems,t=e.length;e.forEach((n,r)=>{n.setIndex(r+1,t)})}fireChangeEvent(){this.dispatchLocalEvent({type:"fieldValueChanged"}),this.fireItemSelected()}fireItemSelected(){this.dispatchLocalEvent({type:"selectedItem"})}},wce=".ag-picker-field-display{flex:1 1 auto}.ag-picker-field{align-items:center;display:flex}.ag-picker-field-icon{border:0;cursor:pointer;display:flex;margin:0;padding:0}.ag-picker-field-wrapper{background-color:var(--ag-picker-button-background-color);border:var(--ag-picker-button-border);border-radius:5px;min-height:max(var(--ag-list-item-height),calc(var(--ag-spacing)*4));overflow:hidden;&:where(.ag-picker-has-focus),&:where(:focus-within){background-color:var(--ag-picker-button-focus-background-color);border:var(--ag-picker-button-focus-border);box-shadow:var(--ag-focus-shadow);&:where(.invalid){box-shadow:var(--ag-focus-error-shadow)}}&:where(.invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&:disabled{opacity:.5}}",bce={tag:"div",cls:"ag-picker-field",role:"presentation",children:[{tag:"div",ref:"eLabel"},{tag:"div",ref:"eWrapper",cls:"ag-wrapper ag-picker-field-wrapper ag-picker-collapsed",children:[{tag:"div",ref:"eDisplayField",cls:"ag-picker-field-display"},{tag:"div",ref:"eIcon",cls:"ag-picker-field-icon",attrs:{"aria-hidden":"true"}}]}]},Cce=class extends YV{constructor(e){if(super(e,e?.template||bce,e?.agComponents||[],e?.className),this.isPickerDisplayed=!1,this.skipClick=!1,this.pickerGap=4,this.hideCurrentPicker=null,this.eLabel=Ee,this.eWrapper=Ee,this.eDisplayField=Ee,this.eIcon=Ee,this.registerCSS(wce),this.ariaRole=e?.ariaRole,this.onPickerFocusIn=this.onPickerFocusIn.bind(this),this.onPickerFocusOut=this.onPickerFocusOut.bind(this),!e)return;const{pickerGap:t,maxPickerHeight:n,variableWidth:r,minPickerWidth:i,maxPickerWidth:s}=e;t!=null&&(this.pickerGap=t),this.variableWidth=!!r,n!=null&&this.setPickerMaxHeight(n),i!=null&&this.setPickerMinWidth(i),s!=null&&this.setPickerMaxWidth(s)}postConstruct(){super.postConstruct(),this.setupAria();const e=`ag-${this.getCompId()}-display`;this.eDisplayField.setAttribute("id",e);const t=this.getAriaElement();this.addManagedElementListeners(t,{keydown:this.onKeyDown.bind(this)}),this.addManagedElementListeners(this.eLabel,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)}),this.addManagedElementListeners(this.eWrapper,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)});const{pickerIcon:n,inputWidth:r}=this.config;if(n){const i=this.beans.iconSvc.createIconNoSpan(n);i&&this.eIcon.appendChild(i)}r!=null&&this.setInputWidth(r)}setupAria(){const e=this.getAriaElement();e.setAttribute("tabindex",this.gos.get("tabIndex").toString()),Zg(e,!1),this.ariaRole&&Ka(e,this.ariaRole)}onLabelOrWrapperMouseDown(e){if(e){const t=this.getFocusableElement();if(t!==this.eWrapper&&e?.target===t)return;e.preventDefault(),this.getFocusableElement().focus()}if(this.skipClick){this.skipClick=!1;return}this.isDisabled()||(this.isPickerDisplayed?this.hidePicker():this.showPicker())}onKeyDown(e){switch(e.key){case re.UP:case re.DOWN:case re.ENTER:case re.SPACE:e.preventDefault(),this.onLabelOrWrapperMouseDown();break;case re.ESCAPE:this.isPickerDisplayed&&(e.preventDefault(),e.stopPropagation(),this.hideCurrentPicker&&this.hideCurrentPicker());break}}showPicker(){this.isPickerDisplayed=!0,this.pickerComponent||(this.pickerComponent=this.createPickerComponent());const e=this.pickerComponent.getGui();e.addEventListener("focusin",this.onPickerFocusIn),e.addEventListener("focusout",this.onPickerFocusOut),this.hideCurrentPicker=this.renderAndPositionPicker(),this.toggleExpandedStyles(!0)}renderAndPositionPicker(){const e=this.pickerComponent.getGui();this.gos.get("suppressScrollWhenPopupsAreOpen")||([this.destroyMouseWheelFunc]=this.addManagedEventListeners({bodyScroll:()=>{this.hidePicker()}}));const t=this.getLocaleTextFunc(),{config:{pickerAriaLabelKey:n,pickerAriaLabelValue:r,modalPicker:i=!0},maxPickerHeight:s,minPickerWidth:o,maxPickerWidth:a,variableWidth:l,beans:c,eWrapper:d}=this,f={modal:i,eChild:e,closeOnEsc:!0,closedCallback:()=>{const b=BG(c);this.beforeHidePicker(),b&&this.isAlive()&&this.getFocusableElement().focus()},ariaLabel:t(n,r),anchorToElement:d};e.style.position="absolute";const p=c.popupSvc,v=p.addPopup(f);l?(o&&(e.style.minWidth=o),e.style.width=lA(Nw(d)),a&&(e.style.maxWidth=a)):Iw(e,a??Nw(d));const y=s??`${sA(p.getPopupParent())}px`;return e.style.setProperty("max-height",y),this.alignPickerToComponent(),v.hideFunc}alignPickerToComponent(){if(!this.pickerComponent)return;const{pickerGap:e,config:{pickerType:t},beans:{popupSvc:n,gos:r},eWrapper:i,pickerComponent:s}=this,o=r.get("enableRtl")?"right":"left";n.positionPopupByComponent({type:t,eventSource:i,ePopup:s.getGui(),position:"under",alignSide:o,keepWithinBounds:!0,nudgeY:e})}beforeHidePicker(){this.destroyMouseWheelFunc&&(this.destroyMouseWheelFunc(),this.destroyMouseWheelFunc=void 0),this.toggleExpandedStyles(!1);const e=this.pickerComponent.getGui();e.removeEventListener("focusin",this.onPickerFocusIn),e.removeEventListener("focusout",this.onPickerFocusOut),this.isPickerDisplayed=!1,this.pickerComponent=void 0,this.hideCurrentPicker=null}toggleExpandedStyles(e){if(!this.isAlive())return;const t=this.getAriaElement();Zg(t,e);const n=this.eWrapper.classList;n.toggle("ag-picker-expanded",e),n.toggle("ag-picker-collapsed",!e)}onPickerFocusIn(){this.togglePickerHasFocus(!0)}onPickerFocusOut(e){this.pickerComponent?.getGui().contains(e.relatedTarget)||this.togglePickerHasFocus(!1)}togglePickerHasFocus(e){this.pickerComponent&&this.eWrapper.classList.toggle("ag-picker-has-focus",e)}hidePicker(){this.hideCurrentPicker&&(this.hideCurrentPicker(),this.dispatchLocalEvent({type:"pickerHidden"}))}setInputWidth(e){return Iw(this.eWrapper,e),this}getFocusableElement(){return this.eWrapper}setPickerGap(e){return this.pickerGap=e,this}setPickerMinWidth(e){return typeof e=="number"&&(e=`${e}px`),this.minPickerWidth=e??void 0,this}setPickerMaxWidth(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerWidth=e??void 0,this}setPickerMaxHeight(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerHeight=e??void 0,this}destroy(){this.hidePicker(),super.destroy()}},xce=".ag-select{align-items:center;display:flex;&.ag-disabled{opacity:.5}}:where(.ag-select){.ag-picker-field-wrapper{cursor:default}&.ag-disabled .ag-picker-field-wrapper:focus{box-shadow:none}&:not(.ag-cell-editor,.ag-label-align-top){min-height:var(--ag-list-item-height)}.ag-picker-field-display{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ag-picker-field-icon{align-items:center;display:flex}}:where(.ag-ltr) :where(.ag-select){.ag-picker-field-wrapper{padding-left:calc(var(--ag-cell-horizontal-padding)/2);padding-right:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-select){.ag-picker-field-wrapper{padding-left:var(--ag-spacing);padding-right:calc(var(--ag-cell-horizontal-padding)/2)}}.ag-select-list{background-color:var(--ag-picker-list-background-color);border:var(--ag-picker-list-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dropdown-shadow);overflow:hidden auto}.ag-select-list-item{cursor:default;-webkit-user-select:none;-moz-user-select:none;user-select:none;:where(span){overflow:hidden;text-overflow:ellipsis;white-space:nowrap}}:where(.ag-ltr) .ag-select-list-item{padding-left:calc(var(--ag-cell-horizontal-padding)/2)}:where(.ag-rtl) .ag-select-list-item{padding-right:calc(var(--ag-cell-horizontal-padding)/2)}",SA=class extends Cce{constructor(e){super({pickerAriaLabelKey:"ariaLabelSelectField",pickerAriaLabelValue:"Select Field",pickerType:"ag-list",className:"ag-select",pickerIcon:"selectOpen",ariaRole:"combobox",...e}),this.registerCSS(xce)}postConstruct(){this.tooltipFeature=this.createOptionalManagedBean(this.beans.registry.createDynamicBean("tooltipFeature",!1,{shouldDisplayTooltip:Q0(()=>this.eDisplayField),getGui:()=>this.getGui()})),super.postConstruct(),this.createListComponent(),this.eWrapper.tabIndex=this.gos.get("tabIndex");const{options:e,value:t,placeholder:n}=this.config;e!=null&&this.addOptions(e),t!=null&&this.setValue(t,!0),n&&t==null&&(this.eDisplayField.textContent=n),this.addManagedElementListeners(this.eWrapper,{focusout:this.onWrapperFocusOut.bind(this)})}onWrapperFocusOut(e){this.eWrapper.contains(e.relatedTarget)||this.hidePicker()}createListComponent(){const e=this.createBean(new yce("select"));this.listComponent=e,e.setParentComponent(this);const t=e.getAriaElement(),n=`ag-select-list-${e.getCompId()}`;t.setAttribute("id",n),Voe(this.getAriaElement(),t),e.addManagedElementListeners(e.getGui(),{mousedown:r=>{r?.preventDefault()}}),e.addManagedListeners(e,{selectedItem:()=>{this.hidePicker(),this.dispatchLocalEvent({type:"selectedItem"})},fieldValueChanged:()=>{this.listComponent&&(this.setValue(this.listComponent.getValue(),!1,!0),this.hidePicker())}})}createPickerComponent(){return this.listComponent}beforeHidePicker(){this.listComponent?.hideItemTooltip(),super.beforeHidePicker()}onKeyDown(e){const{key:t}=e;switch(t===re.TAB&&this.hidePicker(),t){case re.ENTER:case re.UP:case re.DOWN:case re.PAGE_UP:case re.PAGE_DOWN:case re.PAGE_HOME:case re.PAGE_END:e.preventDefault(),this.isPickerDisplayed?this.listComponent?.handleKeyDown(e):super.onKeyDown(e);break;case re.ESCAPE:super.onKeyDown(e);break;case re.SPACE:this.isPickerDisplayed?e.preventDefault():super.onKeyDown(e);break}}showPicker(){const e=this.listComponent;e&&(super.showPicker(),e.refreshHighlighted())}addOptions(e){for(const t of e)this.addOption(t);return this}addOption(e){return this.listComponent.addOption(e),this}clearOptions(){return this.listComponent?.clearOptions(),this.setValue(void 0,!0),this}setValue(e,t,n){const{listComponent:r,config:{placeholder:i},eDisplayField:s,tooltipFeature:o}=this;if(this.value===e||!r)return this;if(n||r.setValue(e,!0),r.getValue()===this.getValue())return this;let l=r.getDisplayValue();return l==null&&i&&(l=i),s.textContent=l,o?.setTooltipAndRefresh(l??null),super.setValue(e,t)}destroy(){this.listComponent=this.destroyBean(this.listComponent),super.destroy()}},Sce={selector:"AG-SELECT",component:SA},Ece=':where(.ag-root-wrapper,.ag-external,.ag-popup,.ag-dnd-ghost,.ag-chart),:where(.ag-root-wrapper,.ag-external,.ag-popup,.ag-dnd-ghost,.ag-chart) :where([class^=ag-]){box-sizing:border-box;&:after,&:before{box-sizing:border-box}&:where(div,span,label):focus-visible{box-shadow:inset var(--ag-focus-shadow);outline:none;&:where(.invalid){box-shadow:inset var(--ag-focus-error-shadow)}}&:where(button){color:inherit}}:where(.ag-root-wrapper,ag-external,.ag-popup,.ag-dnd-ghost,.ag-chart) :where([class^=ag-]) ::-ms-clear{display:none}.ag-hidden{display:none!important}.ag-invisible{visibility:hidden!important}.ag-popup-child{top:0;z-index:5;&:where(:not(.ag-tooltip-custom)){box-shadow:var(--ag-popup-shadow)}}.ag-input-wrapper,.ag-picker-field-wrapper{align-items:center;display:flex;flex:1 1 auto;line-height:normal;position:relative}.ag-input-field{align-items:center;display:flex;flex-direction:row}.ag-input-field-input:where(:not([type=checkbox],[type=radio])){flex:1 1 auto;min-width:0;width:100%}.ag-chart,.ag-dnd-ghost,.ag-external,.ag-popup,.ag-root-wrapper{cursor:default;line-height:normal;white-space:normal;-webkit-font-smoothing:antialiased;background-color:var(--ag-background-color);color:var(--ag-text-color);color-scheme:var(--ag-browser-color-scheme);font-family:var(--ag-font-family);font-size:var(--ag-font-size);--ag-indentation-level:0}:where(.ag-icon):before{align-items:center;background-color:currentcolor;color:inherit;content:"";display:flex;font-family:inherit;font-size:var(--ag-icon-size);font-style:normal;font-variant:normal;height:var(--ag-icon-size);justify-content:center;line-height:var(--ag-icon-size);-webkit-mask-size:contain;mask-size:contain;text-transform:none;width:var(--ag-icon-size)}.ag-icon{background-position:50%;background-repeat:no-repeat;background-size:contain;color:var(--ag-icon-color);display:block;height:var(--ag-icon-size);position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:var(--ag-icon-size)}.ag-disabled,[disabled]{.ag-icon{opacity:.5}&.ag-icon-grip{opacity:.35}}.ag-resizer{pointer-events:none;position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none;z-index:1}:where(.ag-resizer){&.ag-resizer-topLeft{cursor:nwse-resize;height:5px;left:0;top:0;width:5px}&.ag-resizer-top{cursor:ns-resize;height:5px;left:5px;right:5px;top:0}&.ag-resizer-topRight{cursor:nesw-resize;height:5px;right:0;top:0;width:5px}&.ag-resizer-right{bottom:5px;cursor:ew-resize;right:0;top:5px;width:5px}&.ag-resizer-bottomRight{bottom:0;cursor:nwse-resize;height:5px;right:0;width:5px}&.ag-resizer-bottom{bottom:0;cursor:ns-resize;height:5px;left:5px;right:5px}&.ag-resizer-bottomLeft{bottom:0;cursor:nesw-resize;height:5px;left:0;width:5px}&.ag-resizer-left{bottom:5px;cursor:ew-resize;left:0;top:5px;width:5px}}',EA=typeof window!="object"||!window?.document?.fonts?.forEach,of=(e,t,n,r,i,s)=>{if(EA)return;r&&(e=`@layer ${CSS.escape(r)} { ${e} }`);let o=Wh.map.get(t);if(o||(o=[],Wh.map.set(t,o)),o.some(d=>d.css===e))return;const a=document.createElement("style");s&&a.setAttribute("nonce",s),a.dataset.agGlobalCss=n,a.textContent=e;const l={css:e,el:a,priority:i};let c;for(const d of o){if(d.priority>i)break;c=d}if(c){c.el.insertAdjacentElement("afterend",a);const d=o.indexOf(c);o.splice(d+1,0,l)}else t.insertBefore(a,t.querySelector(":not(title, meta)")),o.push(l)},XV=(e,t,n,r)=>{of(Ece,e,"shared",t,0,n),r?.forEach((i,s)=>i.forEach(o=>of(o,e,s,t,0,n)))},Dce=e=>{Wh.grids.add(e)},Rce=e=>{if(Wh.grids.delete(e),Wh.grids.size===0){Wh.map=new WeakMap;for(const t of document.head.querySelectorAll("style[data-ag-global-css]"))t.remove()}},I4,Wh=(I4=typeof window=="object"?window:{}).agStyleInjectionState??(I4.agStyleInjectionState={map:new WeakMap,grids:new Set}),xi=e=>new JV(e),tc="$default",Mce=0,JV=class{constructor({feature:e,params:t,modeParams:n={},css:r,cssImports:i}){this.feature=e,this.css=r,this.cssImports=i,this.modeParams={[tc]:{...n[tc]??{},...t??{}},...n}}use(e,t,n){let r=this._inject;if(r==null){let{css:i}=this;if(i){const s=`ag-theme-${this.feature??"part"}-${++Mce}`;typeof i=="function"&&(i=i()),i=`:where(.${s}) {
${i}
}
`;for(const o of this.cssImports??[])i=`@import url(${JSON.stringify(o)});
${i}`;r={css:i,class:s}}else r=!1;this._inject=r}return r&&e&&of(r.css,e,r.class,t,1,n),r?r.class:!1}},Tce=e=>e.replace(/[A-Z]/g,t=>`-${t}`).toLowerCase(),ZV=e=>`--ag-${Tce(e)}`,_o=e=>`var(${ZV(e)})`,kce=(e,t,n)=>Math.max(t,Math.min(n,e)),Ace=e=>{const t=new Map;return n=>{const r=n;return t.has(r)||t.set(r,e(n)),t.get(r)}},bo=e=>({ref:"accentColor",mix:e}),Gr=e=>({ref:"foregroundColor",mix:e}),wr=e=>({ref:"foregroundColor",mix:e,onto:"backgroundColor"}),Pce=e=>({ref:"foregroundColor",mix:e,onto:"headerBackgroundColor"}),_n={ref:"backgroundColor"},Ma={ref:"foregroundColor"},xs={ref:"accentColor"},$w={backgroundColor:"#fff",foregroundColor:"#181d1f",borderColor:Gr(.15),chromeBackgroundColor:wr(.02),browserColorScheme:"light"},Nce={...$w,textColor:Ma,accentColor:"#2196f3",invalidColor:"#e02525",fontFamily:["-apple-system","BlinkMacSystemFont","Segoe UI","Roboto","Oxygen-Sans","Ubuntu","Cantarell","Helvetica Neue","sans-serif"],subtleTextColor:{ref:"textColor",mix:.5},borderWidth:1,borderRadius:4,spacing:8,fontSize:14,focusShadow:{spread:3,color:bo(.5)},focusErrorShadow:{spread:3,color:{ref:"invalidColor",onto:"backgroundColor",mix:.5}},popupShadow:"0 0 16px #00000026",cardShadow:"0 1px 4px 1px #00000018",dropdownShadow:{ref:"cardShadow"},listItemHeight:{calc:"max(iconSize, dataFontSize) + widgetVerticalSpacing"},dragAndDropImageBackgroundColor:_n,dragAndDropImageBorder:!0,dragAndDropImageNotAllowedBorder:{color:{ref:"invalidColor",onto:"dragAndDropImageBackgroundColor",mix:.5}},dragAndDropImageShadow:{ref:"popupShadow"},iconSize:16,iconColor:"inherit",toggleButtonWidth:28,toggleButtonHeight:18,toggleButtonOnBackgroundColor:xs,toggleButtonOffBackgroundColor:wr(.3),toggleButtonSwitchBackgroundColor:_n,toggleButtonSwitchInset:2,tooltipBackgroundColor:{ref:"chromeBackgroundColor"},tooltipErrorBackgroundColor:{ref:"invalidColor",onto:"backgroundColor",mix:.1},tooltipTextColor:{ref:"textColor"},tooltipErrorTextColor:{ref:"invalidColor"},tooltipBorder:!0,tooltipErrorBorder:{color:{ref:"invalidColor",onto:"backgroundColor",mix:.25}}},Oce=["colorScheme","color","length","scale","borderStyle","border","shadow","image","fontFamily","fontWeight","duration"],Fce=Ace(e=>(e=e.toLowerCase(),Oce.find(t=>e.endsWith(t.toLowerCase()))??"length")),fx=e=>typeof e=="object"&&e?.ref?_o(e.ref):typeof e=="string"?e:typeof e=="number"?String(e):!1,DA=e=>{if(typeof e=="string")return e;if(e&&"ref"in e){const t=_o(e.ref);return e.mix==null?t:`color-mix(in srgb, ${e.onto?_o(e.onto):"transparent"}, ${t} ${kce(e.mix*100,0,100)}%)`}return!1},Ice=fx,Nh=e=>typeof e=="string"?e:typeof e=="number"?`${e}px`:e&&"calc"in e?`calc(${e.calc.replace(/ ?[*/+] ?/g," $& ").replace(/-?\b[a-z][a-z0-9]*\b(?![-(])/gi,n=>n[0]==="-"?n:" "+_o(n)+" ")})`:e&&"ref"in e?_o(e.ref):!1,Lce=fx,H2=(e,t)=>typeof e=="string"?e:e===!0?H2({},t):e===!1?t==="columnBorder"?H2({color:"transparent"},t):"none":e&&"ref"in e?_o(e.ref):e7(e.style??"solid")+" "+Nh(e.width??{ref:"borderWidth"})+" "+DA(e.color??{ref:"borderColor"}),_ce=e=>typeof e=="string"?e:e===!1?"none":e&&"ref"in e?_o(e.ref):[Nh(e.offsetX??0),Nh(e.offsetY??0),Nh(e.radius??0),Nh(e.spread??0),DA(e.color??{ref:"foregroundColor"})].join(" "),e7=fx,t7=e=>typeof e=="string"?e.includes(",")?e:L4(e):e&&"googleFont"in e?t7(e.googleFont):e&&"ref"in e?_o(e.ref):Array.isArray(e)?e.map(t=>(typeof t=="object"&&"googleFont"in t&&(t=t.googleFont),L4(t))).join(", "):!1,L4=e=>/^[\w-]+$|\w\(/.test(e)?e:JSON.stringify(e),jce=fx,n7=e=>typeof e=="string"?e:e&&"url"in e?`url(${JSON.stringify(e.url)})`:e&&"svg"in e?n7({url:`data:image/svg+xml,${encodeURIComponent(e.svg)}`}):e&&"ref"in e?_o(e.ref):!1,Bce=(e,t,n)=>typeof e=="string"?e:typeof e=="number"?(e>=10&&n.warn(104,{value:e,param:t}),`${e}s`):e&&"ref"in e?_o(e.ref):!1,Hce={color:DA,colorScheme:Ice,length:Nh,scale:Lce,border:H2,borderStyle:e7,shadow:_ce,image:n7,fontFamily:t7,fontWeight:jce,duration:Bce},zce=(e,t,n)=>{const r=Fce(e);return Hce[r](t,e,n)},Gce=e=>new r7(e),r7=class i7{constructor(t,n=[]){this.themeLogger=t,this.parts=n}withPart(t){return typeof t=="function"&&(t=t()),t instanceof JV?new i7(this.themeLogger,[...this.parts,t]):(this.themeLogger.preInitErr(259,"Invalid part",{part:t}),this)}withoutPart(t){return this.withPart(xi({feature:t}))}withParams(t,n=tc){return this.withPart(xi({modeParams:{[n]:t}}))}_startUse({styleContainer:t,cssLayer:n,nonce:r,loadThemeGoogleFonts:i,moduleCss:s}){if(EA)return;Wce(),XV(t,n,r,s);const o=Vce(this);if(o.length>0)for(const a of o)i&&Uce(a,r);for(const a of this.parts)a.use(t,n,r)}_getCssClass(){return this._cssClassCache??(this._cssClassCache=_4(this.parts).map(t=>t.use(void 0,void 0,void 0)).filter(Boolean).join(" "))}_getModeParams(){let t=this._paramsCache;if(!t){const n={[tc]:{...Nce}};for(const r of _4(this.parts))for(const i of Object.keys(r.modeParams)){const s=r.modeParams[i];if(s){const o=n[i]??(n[i]={}),a=new Set;for(const l of Object.keys(s)){const c=s[l];c!==void 0&&(o[l]=c,a.add(l))}if(i===tc)for(const l of Object.keys(n)){const c=n[l];if(l!==tc)for(const d of a)delete c[d]}}}this._paramsCache=t=n}return t}_getPerInstanceCss(t){const n="##SELECTOR##";let r=this._paramsCssCache;if(!r){let i="",s="";const o=this._getModeParams();for(const l of Object.keys(o)){const c=o[l];if(l!==tc){const f=`:where([data-ag-theme-mode="${typeof CSS=="object"?CSS.escape(l):l}"]) & {
`;i+=f,s+=f}for(const d of Object.keys(c).sort()){const f=c[d],p=zce(d,f,this.themeLogger);if(p===!1)this.themeLogger.error(107,{key:d,value:f});else{const v=ZV(d),y=v.replace("--ag-","--ag-inherited-");i+=`	${v}: var(${y}, ${p});
`,s+=`	${y}: var(${v});
`}}l!==tc&&(i+=`}
`,s+=`}
`)}let a=`${n} {
${i}}
`;a+=`:has(> ${n}):not(${n}) {
${s}}
`,this._paramsCssCache=r=a}return r.replaceAll(n,`:where(.${t})`)}},_4=e=>{const t=new Map;for(const r of e)t.set(r.feature,r);const n=[];for(const r of e)(!r.feature||t.get(r.feature)===r)&&n.push(r);return n},Vce=e=>{const t=new Set,n=s=>{if(Array.isArray(s))s.forEach(n);else{const o=s?.googleFont;typeof o=="string"&&t.add(o)}};return Object.values(e._getModeParams()).flatMap(s=>Object.values(s)).forEach(n),Array.from(t).sort()},j4=!1,Wce=()=>{if(!j4){j4=!0;for(const e of Array.from(document.head.querySelectorAll('style[data-ag-scope="legacy"]')))e.remove()}},Uce=async(e,t)=>{const n=`@import url('https://${$ce}/css2?family=${encodeURIComponent(e)}:wght@100;200;300;400;500;600;700;800;900&display=swap');
`;of(n,document.head,`googleFont:${e}`,void 0,0,t)},$ce="fonts.googleapis.com",qce=1,Kce=class{constructor(e){this.beans={},this.createdBeans=[],this.destroyed=!1,this.instanceId=qce++,e?.beanClasses&&(this.beanDestroyComparator=e.beanDestroyComparator,this.init(e))}init(e){this.id=e.id,this.beans.context=this,this.destroyCallback=e.destroyCallback;for(const t of Object.keys(e.providedBeanInstances))this.beans[t]=e.providedBeanInstances[t];for(const t of e.beanClasses){const n=new t;n.beanName?this.beans[n.beanName]=n:console.error(`Bean ${t.name} is missing beanName`),this.createdBeans.push(n)}for(const t of e.derivedBeans??[]){const{beanName:n,bean:r}=t(this);this.beans[n]=r,this.createdBeans.push(r)}e.beanInitComparator&&this.createdBeans.sort(e.beanInitComparator),this.initBeans(this.createdBeans)}getBeanInstances(){return Object.values(this.beans)}createBean(e,t){return this.initBeans([e],t),e}initBeans(e,t){const n=this.beans;for(const r of e)r.preWireBeans?.(n),r.wireBeans?.(n);for(const r of e)r.preConstruct?.();t&&e.forEach(t);for(const r of e)r.postConstruct?.()}getBeans(){return this.beans}getBean(e){return this.beans[e]}getId(){return this.id}destroy(){if(this.destroyed)return;this.destroyed=!0;const e=this.getBeanInstances();this.beanDestroyComparator&&e.sort(this.beanDestroyComparator),this.destroyBeans(e),this.beans={},this.createdBeans=[],this.destroyCallback?.()}destroyBean(e){e?.destroy?.()}destroyBeans(e){if(e)for(let t=0;t<e.length;t++)this.destroyBean(e[t]);return[]}isDestroyed(){return this.destroyed}},Yce=0,Qce=class extends Ko{constructor(){super(...arguments),this.beanName="environment",this.paramsClass=`ag-theme-params-${++Yce}`,this.globalCSS=[]}wireBeans(e){this.eRootDiv=e.eRootDiv}postConstruct(){const{gos:e,eRootDiv:t}=this;e.setInstanceDomData(t),this.eStyleContainer=e.get("themeStyleContainer")??(t.getRootNode()===document?document.head:t),this.cssLayer=e.get("themeCssLayer"),this.styleNonce=e.get("styleNonce"),this.addManagedPropertyListener("theme",()=>this.handleThemeChange()),this.handleThemeChange(),this.initVariables(),this.addDestroyFunc(()=>Rce(this)),this.mutationObserver=new MutationObserver(()=>{this.fireStylesChangedEvent("themeChanged")}),this.addDestroyFunc(()=>this.mutationObserver.disconnect())}applyThemeClasses(e,t=[]){const{theme:n}=this;let r;n?r=`${this.paramsClass} ${n._getCssClass()}`:r=this.applyLegacyThemeClasses();for(const i of Array.from(e.classList))i.startsWith("ag-theme-")&&e.classList.remove(i);if(r){const i=e.className;e.className=`${i}${i?" ":""}${r}${t?.length?" "+t.join(" "):""}`}}applyLegacyThemeClasses(){let e="";this.mutationObserver.disconnect();let t=this.eRootDiv;for(;t;){let n=!1;for(const r of Array.from(t.classList))r.startsWith("ag-theme-")&&(n=!0,e=e?`${e} ${r}`:r);n&&this.mutationObserver.observe(t,{attributes:!0,attributeFilter:["class"]}),t=t.parentElement}return e}addGlobalCSS(e,t){this.theme?of(e,this.eStyleContainer,t,this.cssLayer,0,this.styleNonce):this.globalCSS.push([e,t])}handleThemeChange(){const{gos:e,theme:t}=this,n=e.get("theme");let r;if(n==="legacy")r=void 0;else{const i=n??this.getDefaultTheme();i instanceof r7?r=i:this.themeError(i)}r!==t&&this.handleNewTheme(r),this.postProcessThemeChange(r,n)}handleNewTheme(e){const{gos:t,eRootDiv:n,globalCSS:r}=this,i=this.getAdditionalCss();if(e){Dce(this),XV(this.eStyleContainer,this.cssLayer,this.styleNonce,i);for(const[o,a]of r)of(o,this.eStyleContainer,a,this.cssLayer,0,this.styleNonce);r.length=0}this.theme=e,e?._startUse({loadThemeGoogleFonts:t.get("loadThemeGoogleFonts"),styleContainer:this.eStyleContainer,cssLayer:this.cssLayer,nonce:this.styleNonce,moduleCss:i});let s=this.eParamsStyle;if(!s){s=this.eParamsStyle=Qm({tag:"style"});const o=t.get("styleNonce");o&&s.setAttribute("nonce",o),n.appendChild(s)}EA||(s.textContent=e?._getPerInstanceCss(this.paramsClass)||""),this.applyThemeClasses(n),this.fireStylesChangedEvent("themeChanged")}},Xce=class extends Ko{constructor(){super(...arguments),this.beanName="registry"}registerDynamicBeans(e){if(e){this.dynamicBeans??(this.dynamicBeans={});for(const t of Object.keys(e))this.dynamicBeans[t]=e[t]}}createDynamicBean(e,t,...n){if(!this.dynamicBeans)throw new Error(this.getDynamicError(e,!0));const r=this.dynamicBeans[e];if(r==null){if(t)throw new Error(this.getDynamicError(e,!1));return}return new r(...n)}},Jce=class extends Ko{constructor(){super(...arguments),this.beanName="eventSvc",this.eventServiceType="global",this.globalSvc=new ed}addListener(e,t,n){this.globalSvc.addEventListener(e,t,n)}removeListener(e,t,n){this.globalSvc.removeEventListener(e,t,n)}addGlobalListener(e,t=!1){this.globalSvc.addGlobalListener(e,t)}removeGlobalListener(e,t=!1){this.globalSvc.removeGlobalListener(e,t)}dispatchEvent(e){this.globalSvc.dispatchEvent(this.gos.addCommon(e))}dispatchEventOnce(e){this.globalSvc.dispatchEventOnce(this.gos.addCommon(e))}},s7=class extends Ko{constructor(e,t){super(),this.ctrl=e,t&&(this.beans=t)}postConstruct(){this.refreshTooltip()}setBrowserTooltip(e,t){const n="title",r=this.ctrl.getGui();r&&(e!=null&&(e!=""||t)?r.setAttribute(n,e):r.removeAttribute(n))}updateTooltipText(){const{getTooltipValue:e}=this.ctrl;e&&(this.tooltip=e())}createTooltipFeatureIfNeeded(){if(this.tooltipManager==null){const e=this.beans.registry.createDynamicBean("tooltipStateManager",!0,this.ctrl,()=>this.tooltip);e&&(this.tooltipManager=this.createBean(e,this.beans.context))}}attemptToShowTooltip(){this.tooltipManager?.prepareToShowTooltip()}attemptToHideTooltip(){this.tooltipManager?.hideTooltip()}setTooltipAndRefresh(e){this.tooltip=e,this.refreshTooltip()}refreshTooltip(e){this.browserTooltips=this.beans.gos.get("enableBrowserTooltips"),this.updateTooltipText(),this.browserTooltips?(this.setBrowserTooltip(this.tooltip),this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context)):(this.setBrowserTooltip(e?"":null,e),this.createTooltipFeatureIfNeeded())}destroy(){this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context),super.destroy()}},Zce=1e3,eue=1e3,B4=100,H4,Ky=!1,tue=class extends Ko{constructor(e,t){super(),this.tooltipCtrl=e,this.getTooltipValue=t,this.interactionEnabled=!1,this.isInteractingWithTooltip=!1,this.state=0,this.tooltipInstanceCount=0,this.tooltipMouseTrack=!1}wireBeans(e){this.popupSvc=e.popupSvc}postConstruct(){this.gos.get("tooltipInteraction")&&(this.interactionEnabled=!0),this.tooltipTrigger=this.getTooltipTrigger(),this.tooltipMouseTrack=this.gos.get("tooltipMouseTrack");const e=this.tooltipCtrl.getGui();this.tooltipTrigger===0&&this.addManagedListeners(e,{mouseenter:this.onMouseEnter.bind(this),mouseleave:this.onMouseLeave.bind(this)}),this.tooltipTrigger===1&&this.addManagedListeners(e,{focusin:this.onFocusIn.bind(this),focusout:this.onFocusOut.bind(this)}),this.addManagedListeners(e,{mousemove:this.onMouseMove.bind(this)}),this.interactionEnabled||this.addManagedListeners(e,{mousedown:this.onMouseDown.bind(this),keydown:this.onKeyDown.bind(this)})}getGridOptionsTooltipDelay(e){const t=this.gos.get(e);return Math.max(200,t)}getTooltipDelay(e){return e==="show"?this.tooltipCtrl.getTooltipShowDelayOverride?.()??this.getGridOptionsTooltipDelay("tooltipShowDelay"):this.tooltipCtrl.getTooltipHideDelayOverride?.()??this.getGridOptionsTooltipDelay("tooltipHideDelay")}destroy(){this.setToDoNothing(),super.destroy()}getTooltipTrigger(){const e=this.gos.get("tooltipTrigger");return!e||e==="hover"?0:1}onMouseEnter(e){this.interactionEnabled&&this.interactiveTooltipTimeoutId&&(this.unlockService(),this.startHideTimeout()),!ju()&&(Ky?this.showTooltipTimeoutId=window.setTimeout(()=>{this.prepareToShowTooltip(e)},B4):this.prepareToShowTooltip(e))}onMouseMove(e){this.lastMouseEvent&&(this.lastMouseEvent=e),this.tooltipMouseTrack&&this.state===2&&this.tooltipComp&&this.positionTooltip()}onMouseDown(){this.setToDoNothing()}onMouseLeave(){this.interactionEnabled?this.lockService():this.setToDoNothing()}onFocusIn(){this.prepareToShowTooltip()}onFocusOut(e){const t=e.relatedTarget,n=this.tooltipCtrl.getGui(),r=this.tooltipComp?.getGui();this.isInteractingWithTooltip||n.contains(t)||this.interactionEnabled&&r?.contains(t)||this.setToDoNothing()}onKeyDown(){this.isInteractingWithTooltip&&(this.isInteractingWithTooltip=!1),this.setToDoNothing()}prepareToShowTooltip(e){if(this.state!=0||Ky)return;let t=0;e&&(t=this.isLastTooltipHiddenRecently()?200:this.getTooltipDelay("show")),this.lastMouseEvent=e||null,this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),t),this.state=1}isLastTooltipHiddenRecently(){return Date.now()-H4<Zce}setToDoNothing(e){!e&&this.state===2&&this.hideTooltip(),this.onBodyScrollEventCallback&&(this.onBodyScrollEventCallback(),this.onBodyScrollEventCallback=void 0),this.clearEventHandlers(),this.onDocumentKeyDownCallback&&(this.onDocumentKeyDownCallback(),this.onDocumentKeyDownCallback=void 0),this.clearTimeouts(),this.state=0,this.lastMouseEvent=null}showTooltip(){const e=this.getTooltipValue(),t=this.tooltipCtrl;if(!De(e)||t.shouldDisplayTooltip&&!t.shouldDisplayTooltip()){this.setToDoNothing();return}const n=this.gos.addCommon({location:t.getLocation?.()??"UNKNOWN",value:e,hideTooltipCallback:()=>this.hideTooltip(!0),...t.getAdditionalParams?.()});this.state=2,this.tooltipInstanceCount++;const r=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);this.createTooltipComp(n,r)}hideTooltip(e){!e&&this.isInteractingWithTooltip||(this.tooltipComp&&(this.destroyTooltipComp(),H4=Date.now()),this.eventSvc.dispatchEvent({type:"tooltipHide",parentGui:this.tooltipCtrl.getGui()}),e&&(this.isInteractingWithTooltip=!1),this.setToDoNothing(!0))}newTooltipComponentCallback(e,t){if(this.state!==2||this.tooltipInstanceCount!==e){this.destroyBean(t);return}const r=t.getGui();this.tooltipComp=t,r.classList.contains("ag-tooltip")||r.classList.add("ag-tooltip-custom"),this.tooltipTrigger===0&&r.classList.add("ag-tooltip-animate"),this.interactionEnabled&&r.classList.add("ag-tooltip-interactive");const i=this.getLocaleTextFunc(),s=this.popupSvc?.addPopup({eChild:r,ariaLabel:i("ariaLabelTooltip","Tooltip")});if(s&&(this.tooltipPopupDestroyFunc=s.hideFunc),this.positionTooltip(),this.tooltipTrigger===1){const o=()=>this.setToDoNothing();[this.onBodyScrollEventCallback]=this.addManagedEventListeners({bodyScroll:o}),this.setEventHandlers(o)}this.interactionEnabled&&([this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener]=this.addManagedElementListeners(r,{mouseenter:this.onTooltipMouseEnter.bind(this),mouseleave:this.onTooltipMouseLeave.bind(this)}),[this.onDocumentKeyDownCallback]=this.addManagedElementListeners(Wn(this.beans),{keydown:o=>{r.contains(o?.target)||this.onKeyDown()}}),this.tooltipTrigger===1&&([this.tooltipFocusInListener,this.tooltipFocusOutListener]=this.addManagedElementListeners(r,{focusin:this.onTooltipFocusIn.bind(this),focusout:this.onTooltipFocusOut.bind(this)}))),this.eventSvc.dispatchEvent({type:"tooltipShow",tooltipGui:r,parentGui:this.tooltipCtrl.getGui()}),this.startHideTimeout()}onTooltipMouseEnter(){this.isInteractingWithTooltip=!0,this.unlockService()}onTooltipMouseLeave(){this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,this.lockService())}onTooltipFocusIn(){this.isInteractingWithTooltip=!0}isTooltipFocused(){const e=this.tooltipComp?.getGui(),t=sn(this.beans);return!!e&&e.contains(t)}onTooltipFocusOut(e){const t=this.tooltipCtrl.getGui();this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,t.contains(e.relatedTarget)?this.startHideTimeout():this.hideTooltip())}positionTooltip(){const e={type:"tooltip",ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack};this.lastMouseEvent?this.popupSvc?.positionPopupUnderMouseEvent({...e,mouseEvent:this.lastMouseEvent}):this.popupSvc?.positionPopupByComponent({...e,eventSource:this.tooltipCtrl.getGui(),position:"under",keepWithinBounds:!0,nudgeY:5})}destroyTooltipComp(){this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");const e=this.tooltipPopupDestroyFunc,t=this.tooltipComp,n=this.tooltipTrigger===0?eue:0;window.setTimeout(()=>{e(),this.destroyBean(t)},n),this.clearTooltipListeners(),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0}clearTooltipListeners(){for(const e of[this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener,this.tooltipFocusInListener,this.tooltipFocusOutListener])e&&e();this.tooltipMouseEnterListener=this.tooltipMouseLeaveListener=this.tooltipFocusInListener=this.tooltipFocusOutListener=null}lockService(){Ky=!0,this.interactiveTooltipTimeoutId=window.setTimeout(()=>{this.unlockService(),this.setToDoNothing()},B4)}unlockService(){Ky=!1,this.clearInteractiveTimeout()}startHideTimeout(){this.clearHideTimeout(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.getTooltipDelay("hide"))}clearShowTimeout(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0)}clearHideTimeout(){this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)}clearInteractiveTimeout(){this.interactiveTooltipTimeoutId&&(window.clearTimeout(this.interactiveTooltipTimeoutId),this.interactiveTooltipTimeoutId=void 0)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout(),this.clearInteractiveTimeout()}},nue=class extends s7{constructor(e,t,n){super(e,n),this.highlightTracker=t,this.onHighlight=this.onHighlight.bind(this)}postConstruct(){super.postConstruct(),this.wireHighlightListeners()}wireHighlightListeners(){this.addManagedPropertyListener("tooltipTrigger",({currentValue:e})=>{this.setTooltipMode(e)}),this.setTooltipMode(this.gos.get("tooltipTrigger")),this.highlightTracker.addEventListener("itemHighlighted",this.onHighlight)}onHighlight(e){this.tooltipMode===1&&(e.highlighted?this.attemptToShowTooltip():this.attemptToHideTooltip())}setTooltipMode(e="focus"){this.tooltipMode=e==="focus"?1:0}destroy(){this.highlightTracker.removeEventListener("itemHighlighted",this.onHighlight),super.destroy()}},Yy=0,rue=200,iue=class extends Ko{constructor(){super(...arguments),this.beanName="popupSvc",this.popupList=[]}getPopupParent(){const e=this.gos.get("popupParent");return e||this.getDefaultPopupParent()}positionPopupUnderMouseEvent(e){const{ePopup:t,nudgeX:n,nudgeY:r,skipObserver:i}=e;this.positionPopup({ePopup:t,nudgeX:n,nudgeY:r,keepWithinBounds:!0,skipObserver:i,updatePosition:()=>this.calculatePointerAlign(e.mouseEvent),postProcessCallback:()=>this.callPostProcessPopup(e,e.type,e.ePopup,null,e.mouseEvent)})}calculatePointerAlign(e){const t=this.getParentRect();return{x:e.clientX-t.left,y:e.clientY-t.top}}positionPopupByComponent(e){const{ePopup:t,nudgeX:n,nudgeY:r,keepWithinBounds:i,eventSource:s,alignSide:o="left",position:a="over",type:l}=e,c=s.getBoundingClientRect(),d=this.getParentRect();this.setAlignedTo(s,t);const f=()=>{let p=c.left-d.left;o==="right"&&(p-=t.offsetWidth-c.width);let v;return a==="over"?(v=c.top-d.top,this.setAlignedStyles(t,"over")):(this.setAlignedStyles(t,"under"),this.shouldRenderUnderOrAbove(t,c,d,e.nudgeY||0)==="under"?v=c.top-d.top+c.height:v=c.top-t.offsetHeight-(r||0)*2-d.top),{x:p,y:v}};this.positionPopup({ePopup:t,nudgeX:n,nudgeY:r,keepWithinBounds:i,updatePosition:f,postProcessCallback:()=>this.callPostProcessPopup(e,l,t,s,null)})}shouldRenderUnderOrAbove(e,t,n,r){const i=n.bottom-t.bottom,s=t.top-n.top,o=e.offsetHeight+r;return i>o?"under":s>o||s>i?"above":"under"}setAlignedStyles(e,t){const n=this.getPopupIndex(e);if(n===-1)return;const r=this.popupList[n],{alignedToElement:i}=r;if(!i)return;const s=["right","left","over","above","under"];for(const o of s)i.classList.remove(`ag-has-popup-positioned-${o}`),e.classList.remove(`ag-popup-positioned-${o}`);t&&(i.classList.add(`ag-has-popup-positioned-${t}`),e.classList.add(`ag-popup-positioned-${t}`))}setAlignedTo(e,t){const n=this.getPopupIndex(t);if(n!==-1){const r=this.popupList[n];r.alignedToElement=e}}positionPopup(e){const{ePopup:t,keepWithinBounds:n,nudgeX:r,nudgeY:i,skipObserver:s,updatePosition:o}=e,a={width:0,height:0},l=(c=!1)=>{let{x:d,y:f}=o();c&&t.clientWidth===a.width&&t.clientHeight===a.height||(a.width=t.clientWidth,a.height=t.clientHeight,r&&(d+=r),i&&(f+=i),n&&(d=this.keepXYWithinBounds(t,d,1),f=this.keepXYWithinBounds(t,f,0)),t.style.left=`${d}px`,t.style.top=`${f}px`,e.postProcessCallback&&e.postProcessCallback())};if(l(),!s){const c=so(this.beans,t,()=>l(!0));setTimeout(()=>c(),rue)}}getParentRect(){const e=Wn(this.beans);let t=this.getPopupParent();return t===e.body?t=e.documentElement:getComputedStyle(t).position==="static"&&(t=t.offsetParent),JG(t)}keepXYWithinBounds(e,t,n){const r=n===0,i=r?"clientHeight":"clientWidth",s=r?"top":"left",o=r?"height":"width",a=r?"scrollTop":"scrollLeft",l=Wn(this.beans),c=l.documentElement,d=this.getPopupParent(),f=e.getBoundingClientRect(),p=d.getBoundingClientRect(),v=l.documentElement.getBoundingClientRect(),y=d===l.body,b=Math.ceil(f[o]);let S=y?(r?XG:Nw)(c)+c[a]:d[i];y&&(S-=Math.abs(v[s]-p[s]));const M=S-b;return Math.min(Math.max(t,0),Math.max(M,0))}addPopup(e){const{eChild:t,ariaLabel:n,ariaOwns:r,alwaysOnTop:i,positionCallback:s,anchorToElement:o}=e,a=this.getPopupIndex(t);if(a!==-1)return{hideFunc:this.popupList[a].hideFunc};this.initialisePopupPosition(t);const l=this.createPopupWrapper(t,!!i,n,r),c=this.addEventListenersToPopup({...e,wrapperEl:l});return s&&s(),this.addPopupToPopupList(t,l,c,o),{hideFunc:c}}initialisePopupPosition(e){const n=this.getPopupParent().getBoundingClientRect();De(e.style.top)||(e.style.top=`${n.top*-1}px`),De(e.style.left)||(e.style.left=`${n.left*-1}px`)}createPopupWrapper(e,t,n,r){const i=this.getPopupParent(),{environment:s,gos:o}=this.beans,a=Qm({tag:"div"});return s.applyThemeClasses(a),a.classList.add("ag-popup"),e.classList.add(o.get("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),e.hasAttribute("role")||Ka(e,"dialog"),n?nf(e,n):r&&(e.id||(e.id=`popup-component-${Yy}`),C4(r,e.id)),a.appendChild(e),i.appendChild(a),t?this.setAlwaysOnTop(e,!0):this.bringPopupToFront(e),a}addEventListenersToPopup(e){const t=this.beans,n=Wn(t),{wrapperEl:r,eChild:i,closedCallback:s,afterGuiAttached:o,closeOnEsc:a,modal:l,ariaOwns:c}=e;let d=!1;const f=b=>{if(!r.contains(sn(t)))return;b.key===re.ESCAPE&&!this.isStopPropagation(b)&&y({keyboardEvent:b})},p=b=>y({mouseEvent:b}),v=b=>y({touchEvent:b}),y=(b={})=>{const{mouseEvent:x,touchEvent:S,keyboardEvent:M,forceHide:R}=b;!R&&(this.isEventFromCurrentPopup({mouseEvent:x,touchEvent:S},i)||d)||(d=!0,r.remove(),n.removeEventListener("keydown",f),n.removeEventListener("mousedown",p),n.removeEventListener("touchstart",v),n.removeEventListener("contextmenu",p),this.eventSvc.removeListener("dragStarted",p),s&&s(x||S||M),this.removePopupFromPopupList(i,c))};return o&&o({hidePopup:y}),window.setTimeout(()=>{a&&n.addEventListener("keydown",f),l&&(n.addEventListener("mousedown",p),this.eventSvc.addListener("dragStarted",p),n.addEventListener("touchstart",v),n.addEventListener("contextmenu",p))},0),y}addPopupToPopupList(e,t,n,r){this.popupList.push({element:e,wrapper:t,hideFunc:n,instanceId:Yy,isAnchored:!!r}),r&&this.setPopupPositionRelatedToElement(e,r),Yy=Yy+1}getPopupIndex(e){return this.popupList.findIndex(t=>t.element===e)}setPopupPositionRelatedToElement(e,t){const n=this.getPopupIndex(e);if(n===-1)return;const r=this.popupList[n];if(r.stopAnchoringPromise&&r.stopAnchoringPromise.then(s=>s&&s()),r.stopAnchoringPromise=void 0,r.isAnchored=!1,!t)return;const i=this.keepPopupPositionedRelativeTo({element:t,ePopup:e,hidePopup:r.hideFunc});return r.stopAnchoringPromise=i,r.isAnchored=!0,i}removePopupFromPopupList(e,t){this.setAlignedStyles(e,null),this.setPopupPositionRelatedToElement(e,null),t&&C4(t,null),this.popupList=this.popupList.filter(n=>n.element!==e)}keepPopupPositionedRelativeTo(e){const t=this.getPopupParent(),n=t.getBoundingClientRect(),{element:r,ePopup:i}=e,s=r.getBoundingClientRect(),o=f=>Number.parseInt(f.substring(0,f.length-1),10),a=(f,p)=>{const v=n[f]-s[f],y=o(i.style[f]);return{initialDiff:v,lastDiff:v,initial:y,last:y,direction:p}},l=a("top",0),c=a("left",1),d=this.beans.frameworkOverrides;return new vt(f=>{d.wrapIncoming(()=>{fle(()=>{const p=t.getBoundingClientRect(),v=r.getBoundingClientRect();if(v.top==0&&v.left==0&&v.height==0&&v.width==0){e.hidePopup();return}const b=(x,S)=>{const M=o(i.style[S]);x.last!==M&&(x.initial=M,x.last=M);const R=p[S]-v[S];if(R!=x.lastDiff){const T=this.keepXYWithinBounds(i,x.initial+x.initialDiff-R,x.direction);i.style[S]=`${T}px`,x.last=T}x.lastDiff=R};b(l,"top"),b(c,"left")},200).then(p=>{f(()=>{p!=null&&window.clearInterval(p)})})},"popupPositioning")})}isEventFromCurrentPopup(e,t){const{mouseEvent:n,touchEvent:r}=e,i=n||r;if(!i)return!1;const s=this.getPopupIndex(t);if(s===-1)return!1;for(let o=s;o<this.popupList.length;o++){const a=this.popupList[o];if(D2(a.element,i))return!0}return this.isElementWithinCustomPopup(i.target)}isElementWithinCustomPopup(e){const t=Wn(this.beans);for(;e&&e!==t.body;){if(e.classList.contains("ag-custom-component-popup")||e.parentElement===null)return!0;e=e.parentElement}return!1}getWrapper(e){for(;!e.classList.contains("ag-popup")&&e.parentElement;)e=e.parentElement;return e.classList.contains("ag-popup")?e:null}setAlwaysOnTop(e,t){const n=this.getWrapper(e);n&&(n.classList.toggle("ag-always-on-top",!!t),t&&this.bringPopupToFront(n))}bringPopupToFront(e){const t=this.getPopupParent(),n=Array.prototype.slice.call(t.querySelectorAll(".ag-popup")),r=n.length,i=this.getWrapper(e);if(!i||r<=1||!t.contains(e))return;const s=[],o=[];for(const p of n)p!==i&&(p.classList.contains("ag-always-on-top")?o.push(p):s.push(p));const a=[],l=o.length,f=i.classList.contains("ag-always-on-top")||!l?[...s,...o,i]:[...s,i,...o];for(let p=0;p<=r;p++){const v=f[p];if(n[p]===f[p]||v===i)continue;const y=v.querySelectorAll("div");for(const b of y)b.scrollTop!==0&&a.push([b,b.scrollTop]);p===0?t.insertAdjacentElement("afterbegin",v):f[p-1].insertAdjacentElement("afterend",v)}for(;a.length;){const p=a.pop();p[0].scrollTop=p[1]}}},sue=class extends yA{constructor(){super({tag:"div",cls:"ag-tooltip"})}init(e){const{value:t}=e,n=this.getGui();n.textContent=vd(t);const r=e.location.replace(/([a-z])([A-Z0-9])/g,"$1-$2").toLowerCase();n.classList.add(`ag-${r}-tooltip`)}},o7=(e,t)=>{if(t!=null&&e?.setPointerCapture)try{return e.setPointerCapture(t),e.hasPointerCapture(t)}catch{}return!1},oue=(e,t)=>{if(typeof PointerEvent>"u"||!(t instanceof PointerEvent))return null;const n=t.pointerId;if(!o7(e,n))return null;const r={eElement:e,pointerId:n,onLost(i){lue(r,i)}};return e.addEventListener("lostpointercapture",r.onLost),r},aue=e=>{if(!e)return;a7(e);const{eElement:t,pointerId:n}=e;if(t){try{t.releasePointerCapture(n)}catch{}e.eElement=null}},a7=e=>{const{eElement:t,onLost:n}=e;t&&n&&(t.removeEventListener("lostpointercapture",n),e.onLost=null)},lue=(e,t)=>{a7(e);const{eElement:n,pointerId:r}=e;n&&t.pointerId===r&&o7(n,r)},ph,Oh,ma=e=>{if(!Oh)Oh=new WeakSet;else if(Oh.has(e))return!1;return Oh.add(e),!0},cue=class extends Ko{constructor(){super(...arguments),this.beanName="dragSvc",this.dragging=!1,this.drag=null,this.dragSources=[]}get startTarget(){return this.drag?.start.target??null}isPointer(){return!!ph?.has(wo(this.beans))}hasPointerCapture(){const e=this.drag?.pointerCapture;return!!(e&&this.beans.eRootDiv.hasPointerCapture?.(e.pointerId))}destroy(){this.drag&&this.cancelDrag();const e=this.dragSources;for(const t of e)z4(t);e.length=0,super.destroy()}removeDragSource(e){const t=this.dragSources;for(let n=0,r=t.length;n<r;++n){const i=t[n];if(i.params===e){t.splice(n,1),z4(i);break}}}addDragSource(e){if(!this.isAlive())return;const{eElement:t,includeTouch:n}=e,r=[];let i;if(n){const c=t.style;c&&(i=c.touchAction,c.touchAction="none")}const s={handlers:r,params:e,oldTouchAction:i};this.dragSources.push(s),X0(r,[t,"pointerdown",c=>this.onPointerDown(e,c),{passive:!1}],[t,"mousedown",c=>this.onMouseDown(e,c)]);const l=this.gos.get("suppressTouch");n&&!l&&X0(r,[t,"touchstart",d=>this.onTouchStart(e,d),{passive:!1}])}cancelDrag(e){const t=this.drag;e??(e=t?.eElement),e&&this.eventSvc.dispatchEvent({type:"dragCancelled",target:e}),t?.params.onDragCancel?.(),this.destroyDrag()}shouldPreventMouseEvent(e){const t=e.type;return(t==="mousemove"||t==="pointermove")&&e.cancelable&&nm(this.beans,e)&&!Tg(xD(e))}initDrag(e,...t){this.drag=e;const n=this.beans,r=a=>this.onScroll(a),i=a=>this.onKeyDown(a),s=wo(n),o=Wn(n);X0(e.handlers,[s,"contextmenu",ec],[s,"keydown",i],[o,"scroll",r,{capture:!0}],[o.defaultView||window,"scroll",r],...t)}destroyDrag(){this.dragging=!1;const e=this.drag;if(e){const t=e.rootEl;ph?.get(t)===e&&ph?.delete(t),this.drag=null,aue(e.pointerCapture),uA(e.handlers)}}onPointerDown(e,t){if(this.isPointer())return;const n=this.beans;if(Oh?.has(t))return;const r=t.pointerType;if(r==="touch"&&(n.gos.get("suppressTouch")||!e.includeTouch||(e.stopPropagationForTouch&&t.stopPropagation(),Tg(xD(t))))||!t.isPrimary||r==="mouse"&&t.button!==0)return;this.destroyDrag();const i=wo(n),s=e.eElement,o=t.pointerId,a=new CD(i,e,t,o);ph??(ph=new WeakMap),ph.set(i,a);const l=f=>{f.pointerId===o&&this.onMouseOrPointerMove(f)},c=f=>{f.pointerId===o&&this.onMouseOrPointerUp(f)},d=f=>{f.pointerId===o&&ma(f)&&this.cancelDrag()};this.initDrag(a,[i,"pointerup",c],[i,"pointercancel",d],[i,"pointermove",l,{passive:!1}],[i,"touchmove",ec,{passive:!1}],[s,"mousemove",ec,{passive:!1}]),e.dragStartPixels===0?this.onMouseOrPointerMove(t):ma(t)}onTouchStart(e,t){if(this.gos.get("suppressTouch")||!e.includeTouch||!ma(t)||Tg(xD(t)))return;if(e.stopPropagationForTouch&&t.stopPropagation(),this.isPointer()){ec(t);return}this.destroyDrag();const r=this.beans,i=wo(r),s=new CD(i,e,t.touches[0]),o=c=>this.onTouchMove(c),a=c=>this.onTouchUp(c),l=t.target??e.eElement;this.initDrag(s,[wo(r),"touchmove",ec,{passive:!1}],[l,"touchmove",o,{passive:!0}],[l,"touchend",a,{passive:!0}],[l,"touchcancel",a,{passive:!0}]),e.dragStartPixels===0&&this.onMove(s.start)}onMouseDown(e,t){if(t.button!==0||Oh?.has(t)||this.isPointer())return;const n=this.beans;this.destroyDrag();const r=new CD(wo(n),e,t),i=a=>this.onMouseOrPointerMove(a),s=a=>this.onMouseOrPointerUp(a),o=wo(n);this.initDrag(r,[o,"mousemove",i],[o,"mouseup",s]),e.dragStartPixels===0?this.onMouseOrPointerMove(t):ma(t)}onScroll(e){if(!ma(e))return;const t=this.drag,n=t?.lastDrag;n&&this.dragging&&t.params?.onDragging(n)}onMouseOrPointerMove(e){ma(e)&&(_c()&&Wn(this.beans).getSelection()?.removeAllRanges(),this.shouldPreventMouseEvent(e)&&ec(e),this.onMove(e))}onTouchMove(e){const t=this.drag;if(!t||!ma(e))return;const n=Ag(t.start,e.touches);n&&(e.preventDefault(),this.onMove(n))}onMove(e){const t=this.drag;if(!t)return;t.lastDrag=e;const n=t.params;if(!this.dragging){const r=t.start,s=n.dragStartPixels??4;if(sV(e,r,s)||(this.dragging=!0,n.capturePointer&&(t.pointerCapture=oue(this.beans.eRootDiv,e)),this.eventSvc.dispatchEvent({type:"dragStarted",target:n.eElement}),n.onDragStart(r),this.drag!==t)||(n.onDragging(r),this.drag!==t))return}n.onDragging(e)}onTouchUp(e){const t=this.drag;t&&ma(e)&&this.onUp(Ag(t.start,e.changedTouches))}onMouseOrPointerUp(e){ma(e)&&this.onUp(e)}onUp(e){const t=this.drag;t&&(e||(e=t.lastDrag),e&&this.dragging&&(this.dragging=!1,t.params.onDragStop(e),this.eventSvc.dispatchEvent({type:"dragStopped",target:t.params.eElement})),this.destroyDrag())}onKeyDown(e){e.key===re.ESCAPE&&this.cancelDrag()}},z4=e=>{uA(e.handlers);const t=e.oldTouchAction;if(t!=null){const n=e.params.eElement.style;n&&(n.touchAction=t)}},CD=class{constructor(t,n,r,i=null){this.rootEl=t,this.params=n,this.start=r,this.pointerId=i,this.handlers=[],this.lastDrag=null,this.pointerCapture=null,this.eElement=n.eElement}},xD=e=>{const t=e.target;return t instanceof Element?t:null},uue=class extends Ko{constructor(){super(...arguments),this.beanName="dragAndDrop",this.dragSourceAndParamsList=[],this.dragItem=null,this.dragInitialSourcePointerOffsetX=0,this.dragInitialSourcePointerOffsetY=0,this.lastMouseEvent=null,this.lastDraggingEvent=null,this.dragSource=null,this.dragImageParent=null,this.dragImageCompPromise=null,this.dragImageComp=null,this.dragImageLastIcon=void 0,this.dragImageLastLabel=void 0,this.dropTargets=[],this.lastDropTarget=null}addDragSource(e,t=!1){const n={capturePointer:!0,dragSource:e,eElement:e.eElement,dragStartPixels:e.dragStartPixels,onDragStart:r=>this.onDragStart(e,r),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),onDragCancel:this.onDragCancel.bind(this),includeTouch:t};this.dragSourceAndParamsList.push(n),this.beans.dragSvc.addDragSource(n)}setDragImageCompIcon(e,t=!1){const n=this.dragImageComp;n&&(t||this.dragImageLastIcon!==e)&&(this.dragImageLastIcon=e,n.setIcon(e,t))}removeDragSource(e){const{dragSourceAndParamsList:t,beans:n}=this,r=t.find(i=>i.dragSource===e);r&&(n.dragSvc?.removeDragSource(r),Js(t,r))}destroy(){const{dragSourceAndParamsList:e,dropTargets:t,beans:n}=this,r=n.dragSvc;for(const i of e)r?.removeDragSource(i);e.length=0,t.length=0,this.clearDragAndDropProperties(),super.destroy()}nudge(){const e=this.lastMouseEvent;e&&this.onDragging(e,!0)}onDragStart(e,t){this.lastMouseEvent=t,this.dragSource=e,this.dragItem=e.getDragItem();const n=e.eElement.getBoundingClientRect();this.dragInitialSourcePointerOffsetX=t.clientX-n.left,this.dragInitialSourcePointerOffsetY=t.clientY-n.top,e.onDragStarted?.(),this.createAndUpdateDragImageComp(e)}onDragStop(e){const{dragSource:t,lastDropTarget:n}=this;if(t?.onDragStopped?.(),n){const r=this.dropTargetEvent(n,e,!1);n.onDragStop?.(r)}this.clearDragAndDropProperties()}onDragCancel(){const{dragSource:e,lastDropTarget:t,lastMouseEvent:n}=this;if(e?.onDragCancelled?.(),t&&n){const r=this.dropTargetEvent(t,n,!1);t.onDragCancel?.(r)}this.clearDragAndDropProperties()}onDragging(e,t=!1){this.positionDragImageComp(e);const n=this.findCurrentDropTarget(e),{lastDropTarget:r,dragSource:i,dragItem:s}=this;let o=!1;if(n!==r){if(o=!0,r){const a=this.dropTargetEvent(r,e,t);r.onDragLeave?.(a)}if(r!==null&&!n?this.handleExit(i,s):r===null&&n&&this.handleEnter(i,s),n){const a=this.dropTargetEvent(n,e,t);n.onDragEnter?.(a)}this.lastDropTarget=n}else if(n){const a=this.dropTargetEvent(n,e,t);n.onDragging?.(a),a?.changed&&(o=!0)}this.lastMouseEvent=e,o&&this.updateDragImageComp()}clearDragAndDropProperties(){this.removeDragImageComp(this.dragImageComp),this.dragImageCompPromise=null,this.dragImageParent=null,this.dragImageLastIcon=void 0,this.dragImageLastLabel=void 0,this.lastMouseEvent=null,this.lastDraggingEvent=null,this.lastDropTarget=null,this.dragItem=null,this.dragInitialSourcePointerOffsetX=0,this.dragInitialSourcePointerOffsetY=0,this.dragSource=null}getAllContainersFromDropTarget(e){const t=e.getSecondaryContainers?e.getSecondaryContainers():null,n=[[e.getContainer()]];return t?n.concat(t):n}isMouseOnDropTarget(e,t){const n=this.getAllContainersFromDropTarget(t);let r=!1;const i=(a,l)=>{for(const c of l){const{width:d,height:f,left:p,right:v,top:y,bottom:b}=c.getBoundingClientRect();if(d===0||f===0)return!1;const x=a.clientX>=p&&a.clientX<v,S=a.clientY>=y&&a.clientY<b;if(!x||!S)return!1}return!0};for(const a of n)if(i(e,a)){r=!0;break}const{eElement:s,type:o}=this.dragSource;return t.targetContainsSource&&!t.getContainer().contains(s)?!1:r&&t.isInterestedIn(o,s)}findCurrentDropTarget(e){const t=this.dropTargets.filter(s=>this.isMouseOnDropTarget(e,s)),n=t.length;if(n===0)return null;if(n===1)return t[0];const i=wo(this.beans).elementsFromPoint(e.clientX,e.clientY);for(const s of i)for(const o of t)if(this.getAllContainersFromDropTarget(o).flatMap(l=>l).indexOf(s)!==-1)return o;return null}addDropTarget(e){this.dropTargets.push(e)}removeDropTarget(e){this.dropTargets=this.dropTargets.filter(t=>t.getContainer()!==e.getContainer())}hasExternalDropZones(){return this.dropTargets.some(e=>e.external)}findExternalZone(e){return this.dropTargets.find(t=>t.external&&t.getContainer()===e)||null}dropTargetEvent(e,t,n){const{dragSource:r,dragItem:i,lastDraggingEvent:s,lastMouseEvent:o,dragInitialSourcePointerOffsetX:a,dragInitialSourcePointerOffsetY:l}=this,c=e.getContainer(),d=c.getBoundingClientRect(),{clientX:f,clientY:p}=t,v=f-(o?.clientX||0),y=p-(o?.clientY||0),b=this.createEvent({event:t,x:f-d.left,y:p-d.top,vDirection:y>0?"down":y<0?"up":null,hDirection:v<0?"left":v>0?"right":null,initialSourcePointerOffsetX:a,initialSourcePointerOffsetY:l,dragSource:r,fromNudge:n,dragItem:i,dropZoneTarget:c,dropTarget:s?.dropTarget??null,changed:!!s?.changed});return this.lastDraggingEvent=b,b}positionDragImageComp(e){const t=this.dragImageComp?.getGui();t&&Zoe(t,e,this.beans)}removeDragImageComp(e){this.dragImageComp===e&&(this.dragImageComp=null),e&&(e.getGui()?.remove(),this.destroyBean(e))}createAndUpdateDragImageComp(e){const t=this.createDragImageComp(e)??null;this.dragImageCompPromise=t,t?.then(n=>{if(t!==this.dragImageCompPromise||!this.lastMouseEvent||!this.isAlive()){this.destroyBean(n);return}this.dragImageCompPromise=null,this.dragImageLastIcon=void 0,this.dragImageLastLabel=void 0;const r=this.dragImageComp;r!==n&&(this.dragImageComp=n,this.removeDragImageComp(r)),n&&(this.appendDragImageComp(n),this.updateDragImageComp())})}appendDragImageComp(e){const t=e.getGui(),n=t.style;n.position="absolute",n.zIndex="9999",this.beans.dragSvc?.hasPointerCapture()&&(n.pointerEvents="none"),this.gos.setInstanceDomData(t),this.beans.environment.applyThemeClasses(t),n.top="20px",n.left="20px";const r=rA(this.beans);this.dragImageParent=r,r?r.appendChild(t):this.warnNoBody()}updateDragImageComp(){const{dragImageComp:e,dragSource:t,lastDropTarget:n,lastDraggingEvent:r,dragImageLastLabel:i}=this;if(!e)return;this.setDragImageCompIcon(n?.getIconName?.(r)??null);let s=t?.dragItemName;typeof s=="function"&&(s=s(r)),s||(s=""),i!==s&&(this.dragImageLastLabel=s,e.setLabel(s))}},due=class extends uue{createEvent(e){return _e(this.gos,e)}createDragImageComp(e){const{gos:t,beans:n}=this;return Fle(n.userCompFactory,_e(t,{dragSource:e}))?.newAgStackInstance()}handleEnter(e,t){e?.onGridEnter?.(t)}handleExit(e,t){e?.onGridExit?.(t)}warnNoBody(){ve(54)}isDropZoneWithinThisGrid(e){return this.beans.ctrlsSvc.getGridBodyCtrl().eGridBody.contains(e.dropZoneTarget)}registerGridDropTarget(e,t){const n={getContainer:e,isInterestedIn:r=>r===1||r===0,getIconName:()=>"notAllowed"};this.addDropTarget(n),t.addDestroyFunc(()=>this.removeDropTarget(n))}};function l7(e,t){return e+"_"+t}function Mn(e){return e instanceof lm}var lm=class extends le{constructor(e,t,n,r){super(),this.providedColumnGroup=e,this.groupId=t,this.partId=n,this.pinned=r,this.isColumn=!1,this.displayedChildren=[],this.autoHeaderHeight=null,this.parent=null,this.colIdSanitised=Mg(this.getUniqueId())}reset(){this.parent=null,this.children=null,this.displayedChildren=null}getParent(){return this.parent}getUniqueId(){return l7(this.groupId,this.partId)}isEmptyGroup(){return this.displayedChildren.length===0}isMoving(){const e=this.getProvidedColumnGroup().getLeafColumns();return!e||e.length===0?!1:e.every(t=>t.isMoving())}checkLeft(){for(const e of this.displayedChildren)Mn(e)&&e.checkLeft();if(this.displayedChildren.length>0)if(this.gos.get("enableRtl")){const t=Ft(this.displayedChildren).getLeft();this.setLeft(t)}else{const e=this.displayedChildren[0].getLeft();this.setLeft(e)}else this.setLeft(null)}getLeft(){return this.left}getOldLeft(){return this.oldLeft}setLeft(e){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.dispatchLocalEvent({type:"leftChanged"}))}getPinned(){return this.pinned}getGroupId(){return this.groupId}getPartId(){return this.partId}getActualWidth(){let e=0;for(const t of this.displayedChildren??[])e+=t.getActualWidth();return e}isResizable(){if(!this.displayedChildren)return!1;let e=!1;for(const t of this.displayedChildren)t.isResizable()&&(e=!0);return e}getMinWidth(){let e=0;for(const t of this.displayedChildren)e+=t.getMinWidth();return e}addChild(e){this.children||(this.children=[]),this.children.push(e)}getDisplayedChildren(){return this.displayedChildren}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}getDisplayedLeafColumns(){const e=[];return this.addDisplayedLeafColumns(e),e}getDefinition(){return this.providedColumnGroup.getColGroupDef()}getColGroupDef(){return this.providedColumnGroup.getColGroupDef()}isPadding(){return this.providedColumnGroup.isPadding()}isExpandable(){return this.providedColumnGroup.isExpandable()}isExpanded(){return this.providedColumnGroup.isExpanded()}setExpanded(e){this.providedColumnGroup.setExpanded(e)}isAutoHeaderHeight(){return!!this.getColGroupDef()?.autoHeaderHeight}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}addDisplayedLeafColumns(e){for(const t of this.displayedChildren??[])Dc(t)?e.push(t):Mn(t)&&t.addDisplayedLeafColumns(e)}addLeafColumns(e){for(const t of this.children??[])Dc(t)?e.push(t):Mn(t)&&t.addLeafColumns(e)}getChildren(){return this.children}getColumnGroupShow(){return this.providedColumnGroup.getColumnGroupShow()}getProvidedColumnGroup(){return this.providedColumnGroup}getPaddingLevel(){const e=this.getParent();return!this.isPadding()||!e?.isPadding()?0:1+e.getPaddingLevel()}calculateDisplayedColumns(){this.displayedChildren=[];let e=this;for(;e?.isPadding();)e=e.getParent();if(!(e?e.getProvidedColumnGroup().isExpandable():!1)){this.displayedChildren=this.children,this.dispatchLocalEvent({type:"displayedChildrenChanged"});return}for(const n of this.children??[]){if(Mn(n)&&!n.displayedChildren?.length)continue;switch(n.getColumnGroupShow()){case"open":e.getProvidedColumnGroup().isExpanded()&&this.displayedChildren.push(n);break;case"closed":e.getProvidedColumnGroup().isExpanded()||this.displayedChildren.push(n);break;default:this.displayedChildren.push(n);break}}this.dispatchLocalEvent({type:"displayedChildrenChanged"})}},z2="row-group-",RA="t-",MA="b-",hue=0,Xa=class{constructor(e){this.master=!1,this.detail=void 0,this.rowIndex=null,this.key=null,this.sourceRowIndex=-1,this._leafs=void 0,this.childrenMapped=null,this.treeParent=null,this.treeNodeFlags=0,this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=hue++,this.alreadyRendered=!1,this.hovered=!1,this.__selected=!1,this.beans=e}get allLeafChildren(){const e=this._leafs;return e===void 0?this.beans.groupStage?.loadLeafs?.(this)??null:e}set allLeafChildren(e){this._leafs=e}setData(e){this.setDataCommon(e,!1)}updateData(e){this.setDataCommon(e,!0)}setDataCommon(e,t){const{valueCache:n,eventSvc:r}=this.beans,i=this.data;this.data=e,n?.onDataChanged(),this.updateDataOnDetailNode(),this.resetQuickFilterAggregateText();const s=this.createDataChangedEvent(e,i,t);if(this.__localEventService?.dispatchEvent(s),this.sibling){this.sibling.data=e;const a=this.sibling.createDataChangedEvent(e,i,t);this.sibling.__localEventService?.dispatchEvent(a)}r.dispatchEvent({type:"rowNodeDataChanged",node:this});const o=this.pinnedSibling;o&&(o.data=e,o.__localEventService?.dispatchEvent(o.createDataChangedEvent(e,i,t)),r.dispatchEvent({type:"rowNodeDataChanged",node:o}))}updateDataOnDetailNode(){const e=this.detailNode;e&&(e.data=this.data)}createDataChangedEvent(e,t,n){return{type:"dataChanged",node:this,oldData:t,newData:e,update:n}}getRowIndexString(){return this.rowIndex==null?(Dt(13),null):this.rowPinned==="top"?RA+this.rowIndex:this.rowPinned==="bottom"?MA+this.rowIndex:this.rowIndex.toString()}setDataAndId(e,t){const{selectionSvc:n}=this.beans,r=n?.createDaemonNode?.(this),i=this.data;this.data=e,this.updateDataOnDetailNode(),this.setId(t),n&&(n.updateRowSelectable(this),n.syncInRowNode(this,r));const s=this.createDataChangedEvent(e,i,!1);this.__localEventService?.dispatchEvent(s)}setId(e){const t=rf(this.beans.gos);if(t)if(this.data){const n=this.parent?.getRoute()??[];this.id=t({data:this.data,parentKeys:n.length>0?n:void 0,level:this.level,rowPinned:this.rowPinned}),this.id.startsWith(z2)&&Dt(14,{groupPrefix:z2})}else this.id=void 0;else this.id=e}setRowTop(e){if(this.oldRowTop=this.rowTop,this.rowTop===e)return;this.rowTop=e,this.dispatchRowEvent("topChanged");const t=e!==null;this.displayed!==t&&(this.displayed=t,this.dispatchRowEvent("displayedChanged"))}clearRowTopAndRowIndex(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)}setHovered(e){this.hovered=e}isHovered(){return this.hovered}setRowHeight(e,t=!1){this.rowHeight=e,this.rowHeightEstimated=t,this.dispatchRowEvent("heightChanged")}setExpanded(e,t,n){this.beans.expansionSvc?.setExpanded(this,e,t,n)}setDataValue(e,t,n){const{colModel:r,valueSvc:i,gos:s,editSvc:o}=this.beans,a=typeof e!="string"?e:r.getCol(e)??r.getColDefCol(e);if(!a)return!1;const l=i.getValueForDisplay(a,this,void 0,void 0,"api").value;if(s.get("readOnlyEdit")){const{beans:{eventSvc:d},data:f,rowIndex:p,rowPinned:v}=this;return d.dispatchEvent({type:"cellEditRequest",event:null,rowIndex:p,rowPinned:v,column:a,colDef:a.colDef,data:f,node:this,oldValue:l,newValue:t,value:t,source:n}),!1}if(o&&!o.committing){const d=o.setDataValue({rowNode:this,column:a},t,n);if(d!=null)return d}const c=i.setValue(this,a,t,n);return this.dispatchCellChangedEvent(a,t,l),c&&this.pinnedSibling?.dispatchCellChangedEvent(a,t,l),c}updateHasChildren(){let e=this.group&&!this.footer||!!this.childrenAfterGroup?.length;const{rowChildrenSvc:t}=this.beans;t&&(e=t.getHasChildrenValue(this)),e!==this.__hasChildren&&(this.__hasChildren=!!e,this.dispatchRowEvent("hasChildrenChanged"))}hasChildren(){return this.__hasChildren==null&&this.updateHasChildren(),this.__hasChildren}dispatchCellChangedEvent(e,t,n){const r={type:"cellChanged",node:this,column:e,newValue:t,oldValue:n};this.__localEventService?.dispatchEvent(r)}resetQuickFilterAggregateText(){this.quickFilterAggregateText=null}isExpandable(){return this.beans.expansionSvc?.isExpandable(this)??!1}isSelected(){if(this.footer)return this.sibling.isSelected();const e=this.rowPinned&&this.pinnedSibling;return e?e.isSelected():this.__selected}depthFirstSearch(e){const t=this.childrenAfterGroup;if(t)for(let n=0,r=t.length;n<r;++n)t[n].depthFirstSearch(e);e(this)}dispatchRowEvent(e){this.__localEventService?.dispatchEvent({type:e,node:this})}setSelected(e,t=!1,n="api"){this.beans.selectionSvc?.setNodesSelected({nodes:[this],newValue:e,clearSelection:t,source:n})}isRowPinned(){return!!this.rowPinned}__addEventListener(e,t){(this.__localEventService??(this.__localEventService=new ed)).addEventListener(e,t)}__removeEventListener(e,t){this.removeLocalListener(e,t)}addEventListener(e,t){this.beans.validation?.checkRowEvents(e);const n=this.__localEventService??(this.__localEventService=new ed);this.frameworkEventListenerService=this.beans.frameworkOverrides.createLocalEventListenerWrapper?.(this.frameworkEventListenerService,n);const r=this.frameworkEventListenerService?.wrap(e,t)??t;n.addEventListener(e,r)}removeEventListener(e,t){const n=this.frameworkEventListenerService?.unwrap(e,t)??t;this.removeLocalListener(e,n)}removeLocalListener(e,t){const n=this.__localEventService;n&&(n.removeEventListener(e,t),n.noRegisteredListenersExist()&&(this.__localEventService=null))}isFullWidthCell(){if(ve(61),this.detail)return!0;const e=this.beans.gos.getCallback("isFullWidthRow");return e?e({rowNode:this}):!1}getRoute(){if(this.level===-1)return[];if(this.key==null)return;const e=[];let t=this;for(;t?.key!=null;)e.push(t.key),t=t.parent;return e.reverse()}setRowIndex(e){this.rowIndex!==e&&(this.rowIndex=e,this.dispatchRowEvent("rowIndexChanged"))}setAllChildrenCount(e){this.allChildrenCount!==e&&(this.allChildrenCount=e,this.dispatchRowEvent("allChildrenCountChanged"))}setUiLevel(e){this.uiLevel!==e&&(this.uiLevel=e,this.dispatchRowEvent("uiLevelChanged"))}getFirstChild(){const e=this.childStore;return e?e.getFirstNode():this.childrenAfterSort?.[0]??null}};function c7(e,t,n){return _e(t,{type:n,node:e,data:e.data,rowIndex:e.rowIndex,rowPinned:e.rowPinned})}var fue=new Set(["__autoHeights","__checkAutoHeightsDebounced","__localEventService","__objectId","_leafs","childStore","oldRowTop","sticky","treeNodeFlags","treeParent"]),u7=(e,t)=>{const n=new Xa(t);for(const r of Object.keys(e))fue.has(r)||(n[r]=e[r]);return n.oldRowTop=null,n},d7=e=>{for(;e?.length;){const t=e[0];if(t.data)return t;e=t.childrenAfterGroup}},h7={agSetColumnFilter:"agSetColumnFilterHandler",agMultiColumnFilter:"agMultiColumnFilterHandler",agGroupColumnFilter:"agGroupColumnFilterHandler",agNumberColumnFilter:"agNumberColumnFilterHandler",agDateColumnFilter:"agDateColumnFilterHandler",agTextColumnFilter:"agTextColumnFilterHandler"},pue=new Set(Object.values(h7));function ql(e,t){const n=e.filterUi;if(!n)return null;if(n.created)return n.promise;if(t)return null;const r=n.create(n.refreshed),i=n;return i.created=!0,i.promise=r,r}function gue(e,t,n,r,i,s,o){return t.refresh?.({...n,model:r,source:s,additionalEventAttributes:o}),e().then(a=>{if(a){const{filter:l,filterParams:c}=a;f7(l,c,r,i,s,o)}})}function f7(e,t,n,r,i,s){e?.refresh?.({...t,model:n,state:r,source:i,additionalEventAttributes:s})}function p7(e,t,n){const r=e();r?.created&&r.promise.then(i=>{const s=t();f7(i,r.filterParams,s,n()??{model:s},"ui")})}function G4(e,t,n,r,i,s,o){let a,l=!1,c;switch(e){case"apply":{const d=r();c=d?.model??null,o&&(c=o(c)),a={state:d?.state,model:c},l=!0;break}case"clear":{a={model:null};break}case"reset":{a={model:null},l=!0,c=null;break}case"cancel":{a={model:n()};break}}i(a),l?s(c):p7(t,n,r)}function Jn(e,t){return e[t]??null}function Tn(e){return Qm(e)}function mue(e){return{tag:"div",cls:e}}var vue=class extends yt{constructor(e){const{className:t="ag-filter-apply-panel"}=e??{};super(mue(t)),this.listeners=[],this.validationMessage=null,this.className=t}updateButtons(e,t){const n=this.buttons;if(this.buttons=e,n===e)return;const r=this.getGui();xr(r);let i;this.destroyListeners();const s=document.createDocumentFragment(),o=this.className,a=({type:c,label:d})=>{const f=S=>{this.dispatchLocalEvent({type:c,event:S})};["apply","clear","reset","cancel"].includes(c)||ve(75);const p=c==="apply",y=Tn({tag:"button",attrs:{type:p&&t?"submit":"button"},ref:`${c}FilterButton`,cls:`ag-button ag-standard-button ${o}-button${p?" "+o+"-apply-button":""}`,children:d});this.activateTabIndex([y]),p&&(i=y);const b=S=>{S.key===re.ENTER&&(S.preventDefault(),f(S))},x=this.listeners;y.addEventListener("click",f),x.push(()=>y.removeEventListener("click",f)),y.addEventListener("keydown",b),x.push(()=>y.removeEventListener("keydown",b)),s.append(y)};for(const c of e)a(c);this.eApply=i;const l=this.validationTooltipFeature;i&&!l?this.validationTooltipFeature=this.createOptionalManagedBean(this.beans.registry.createDynamicBean("tooltipFeature",!1,{getGui:()=>this.eApply,getLocation:()=>"advancedFilter",getTooltipShowDelayOverride:()=>1e3})):!i&&l&&(this.validationTooltipFeature=this.destroyBean(l)),r.append(s)}getApplyButton(){return this.eApply}updateValidity(e,t=null){const n=this.eApply;n&&(em(n,e===!1),this.validationMessage=t??null,this.validationTooltipFeature?.setTooltipAndRefresh(this.validationMessage))}destroyListeners(){for(const e of this.listeners)e();this.listeners=[]}destroy(){this.destroyListeners(),super.destroy()}},yue={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose one",equals:"Equals",notEqual:"Does not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"Between",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equal to",greaterThanOrEqual:"Greater than or equal to",contains:"Contains",notContains:"Does not contain",startsWith:"Begins with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",before:"Before",after:"After",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd",filterSummaryInactive:"is (All)",filterSummaryContains:"contains",filterSummaryNotContains:"does not contain",filterSummaryTextEquals:"equals",filterSummaryTextNotEqual:"does not equal",filterSummaryStartsWith:"begins with",filterSummaryEndsWith:"ends with",filterSummaryBlank:"is blank",filterSummaryNotBlank:"is not blank",filterSummaryEquals:"=",filterSummaryNotEqual:"!=",filterSummaryGreaterThan:">",filterSummaryGreaterThanOrEqual:">=",filterSummaryLessThan:"<",filterSummaryLessThanOrEqual:"<=",filterSummaryInRange:"between",filterSummaryInRangeValues:e=>`(${e[0]}, ${e[1]})`,filterSummaryTextQuote:e=>`"${e[0]}"`};function ac(e,t,n){return tae(e,yue,t,n)}function TA(e,t){const{debounceMs:n}=e;return px(e)?(n!=null&&ve(71),0):n??t}function px(e){return(e.buttons?.indexOf("apply")??-1)>=0}var wue=class extends yt{constructor(e,t,n,r,i,s){super(),this.column=e,this.wrapper=t,this.eventParent=n,this.updateModel=r,this.isGlobalButtons=i,this.enableGlobalButtonCheck=s,this.hidePopup=null,this.applyActive=!1}postConstruct(){const{comp:e,params:t}=this.wrapper,n=t,r=n.useForm,i=r?"form":"div";this.setTemplate({tag:i,cls:"ag-filter-wrapper"}),r&&this.addManagedElementListeners(this.getGui(),{submit:s=>{s?.preventDefault()},keydown:this.handleKeyDown.bind(this)}),this.appendChild(e.getGui()),this.params=n,this.resetButtonsPanel(n),this.addManagedListeners(this.eventParent,{filterParamsChanged:({column:s,params:o})=>{s===this.column&&this.resetButtonsPanel(o,this.params)},filterStateChanged:({column:s,state:o})=>{s===this.column&&this.eButtons?.updateValidity(o.valid!==!1)},filterAction:({column:s,action:o,event:a})=>{s===this.column&&this.afterAction(o,a)},...this.enableGlobalButtonCheck?{filterGlobalButtons:({isGlobal:s})=>{if(s!==this.isGlobalButtons){this.isGlobalButtons=s;const o=this.params;this.resetButtonsPanel(o,o,!0)}}}:void 0})}afterGuiAttached(e){e&&(this.hidePopup=e.hidePopup)}resetButtonsPanel(e,t,n){const{buttons:r,readOnly:i}=t??{},{buttons:s,readOnly:o,useForm:a}=e;if(!n&&i===o&&Xg(r,s))return;const l=s&&s.length>0&&!e.readOnly&&!this.isGlobalButtons;let c=this.eButtons;if(l){const d=s.map(f=>{const p=`${f}Filter`;return{type:f,label:ac(this,p)}});if(this.applyActive=px(this.params),!c){c=this.createBean(new vue),this.appendChild(c.getGui());const f=this.column,p=v=>({event:y})=>{this.updateModel(f,v,{fromButtons:!0}),this.afterAction(v,y)};c?.addManagedListeners(c,{apply:p("apply"),clear:p("clear"),reset:p("reset"),cancel:p("cancel")}),this.eButtons=c}c.updateButtons(d,a)}else this.applyActive=!1,c&&(Es(c.getGui()),this.eButtons=this.destroyBean(c))}close(e){const t=this.hidePopup;if(!t)return;const n=e,r=n?.key;let i;(r===re.ENTER||r===re.SPACE)&&(i={keyboardEvent:n}),t(i),this.hidePopup=null}afterAction(e,t){const{params:n,applyActive:r}=this,i=n?.closeOnApply;switch(e){case"apply":{t?.preventDefault(),i&&r&&this.close(t);break}case"reset":{i&&r&&this.close();break}case"cancel":{i&&this.close(t);break}}}handleKeyDown(e){!e.defaultPrevented&&e.key===re.ENTER&&this.applyActive&&(this.updateModel(this.column,"apply",{fromButtons:!0}),this.afterAction("apply",e))}destroy(){this.hidePopup=null,this.eButtons=this.destroyBean(this.eButtons)}},bue={tag:"div",cls:"ag-filter"},Cue=class extends yt{constructor(e,t,n){super(bue),this.column=e,this.source=t,this.enableGlobalButtonCheck=n,this.wrapper=null}postConstruct(){this.beans.colFilter?.activeFilterComps.add(this),this.createFilter(!0),this.addManagedEventListeners({filterDestroyed:this.onFilterDestroyed.bind(this)})}hasFilter(){return this.wrapper!=null}getFilter(){return this.wrapper?.then(e=>e.comp)??null}afterInit(){return this.wrapper?.then(()=>{})??vt.resolve()}afterGuiAttached(e){this.afterGuiAttachedParams=e,this.wrapper?.then(t=>{this.comp?.afterGuiAttached(e),t?.comp?.afterGuiAttached?.(e)})}afterGuiDetached(){this.wrapper?.then(e=>{e?.comp?.afterGuiDetached?.()})}createFilter(e){const{column:t,source:n,beans:{colFilter:r}}=this,i=r.getFilterUiForDisplay(t)??null;this.wrapper=i,i?.then(s=>{if(!s)return;const{isHandler:o,comp:a}=s;let l;if(o){const c=!!this.enableGlobalButtonCheck,d=this.createBean(new wue(t,s,r,r.updateModel.bind(r),c&&r.isGlobalButtons,c));this.comp=d,l=d.getGui()}else l=a.getGui(),De(l)||ve(69,{guiFromFilter:l});this.appendChild(l),e?this.eventSvc.dispatchEvent({type:"filterOpened",column:t,source:n,eGui:this.getGui()}):a.afterGuiAttached?.(this.afterGuiAttachedParams)})}onFilterDestroyed(e){const{source:t,column:n}=e;(t==="api"||t==="paramsUpdated")&&n.getId()===this.column.getId()&&this.beans.colModel.getColDefCol(this.column)&&(xr(this.getGui()),this.comp=this.destroyBean(this.comp),this.createFilter())}destroy(){this.beans.colFilter?.activeFilterComps.delete(this),this.eventSvc.dispatchEvent({type:"filterClosed",column:this.column}),this.wrapper=null,this.comp=this.destroyBean(this.comp),this.afterGuiAttachedParams=void 0,super.destroy()}},V4={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},W4=["january","february","march","april","may","june","july","august","september","october","november","december"];function xue(e,t){return e==null?-1:t==null?1:Number.parseFloat(e)-Number.parseFloat(t)}function U4(e){return e instanceof Date&&!isNaN(e.getTime())}var G2={number:()=>{},boolean:()=>({maxNumConditions:1,debounceMs:0,filterOptions:["empty",{displayKey:"true",displayName:"True",predicate:(e,t)=>t,numberOfInputs:0},{displayKey:"false",displayName:"False",predicate:(e,t)=>t===!1,numberOfInputs:0}]}),date:()=>({isValidDate:U4}),dateString:({dataTypeDefinition:e})=>({comparator:(t,n)=>{const r=e.dateParser(n);return n==null||r<t?-1:r>t?1:0},isValidDate:t=>typeof t=="string"&&U4(e.dateParser(t))}),dateTime:e=>G2.date(e),dateTimeString:e=>G2.dateString(e),object:()=>{},text:()=>{}},V2={number:()=>({comparator:xue}),boolean:({t:e})=>({valueFormatter:t=>De(t.value)?e(String(t.value),t.value?"True":"False"):e("blanks","(Blanks)")}),date:({formatValue:e,t})=>({valueFormatter:n=>{const r=e(n);return De(r)?r:t("blanks","(Blanks)")},treeList:!0,treeListFormatter:(n,r)=>{if(n==="NaN")return t("invalidDate","Invalid Date");if(r===1&&n!=null){const i=W4[Number(n)-1];return t(i,V4[i])}return n??t("blanks","(Blanks)")},treeListPathGetter:n=>qy(n,!1)}),dateString:({formatValue:e,dataTypeDefinition:t,t:n})=>({valueFormatter:r=>{const i=e(r);return De(i)?i:n("blanks","(Blanks)")},treeList:!0,treeListPathGetter:r=>qy(t.dateParser(r??void 0),!1),treeListFormatter:(r,i)=>{if(i===1&&r!=null){const s=W4[Number(r)-1];return n(s,V4[s])}return r??n("blanks","(Blanks)")}}),dateTime:e=>{const t=V2.date(e);return t.treeListPathGetter=qy,t},dateTimeString(e){const t=e.dataTypeDefinition.dateParser,n=V2.dateString(e);return n.treeListPathGetter=r=>qy(t(r??void 0)),n},object:({formatValue:e,t})=>({valueFormatter:n=>{const r=e(n);return De(r)?r:t("blanks","(Blanks)")}}),text:()=>{}};function Sue(e,t,n,r,i,s,o){let a=t,l=n;const c=e==="agSetColumnFilter";!l&&r.baseDataType==="object"&&!c&&(l=({column:v,node:y})=>i({column:v,node:y,value:s.valueSvc.getValue(v,y)}));const f=(c?V2:G2)[r.baseDataType],p=f({dataTypeDefinition:r,formatValue:i,t:o});return a=typeof t=="object"?{...p,...t}:p,{filterParams:a,filterValueGetter:l}}var Eue={boolean:"agTextColumnFilter",date:"agDateColumnFilter",dateString:"agDateColumnFilter",dateTime:"agDateColumnFilter",dateTimeString:"agDateColumnFilter",number:"agNumberColumnFilter",object:"agTextColumnFilter",text:"agTextColumnFilter"},Due={boolean:"agTextColumnFloatingFilter",date:"agDateColumnFloatingFilter",dateString:"agDateColumnFloatingFilter",dateTime:"agDateColumnFloatingFilter",dateTimeString:"agDateColumnFloatingFilter",number:"agNumberColumnFloatingFilter",object:"agTextColumnFloatingFilter",text:"agTextColumnFloatingFilter"};function Rue(e,t=!1){return(t?Due:Eue)[e??"text"]}var g7="ag-resizer-wrapper",Kl=(e,t)=>({tag:"div",ref:`${e}Resizer`,cls:`ag-resizer ag-resizer-${t}`}),Mue={tag:"div",cls:g7,children:[Kl("eTopLeft","topLeft"),Kl("eTop","top"),Kl("eTopRight","topRight"),Kl("eRight","right"),Kl("eBottomRight","bottomRight"),Kl("eBottom","bottom"),Kl("eBottomLeft","bottomLeft"),Kl("eLeft","left")]},Tue=class extends le{constructor(e,t){super(),this.element=e,this.dragStartPosition={x:0,y:0},this.position={x:0,y:0},this.lastSize={width:-1,height:-1},this.positioned=!1,this.resizersAdded=!1,this.resizeListeners=[],this.boundaryEl=null,this.isResizing=!1,this.isMoving=!1,this.resizable={},this.movable=!1,this.currentResizer=null,this.config=Object.assign({},{popup:!1},t)}wireBeans(e){this.popupSvc=e.popupSvc,this.dragSvc=e.dragSvc}center(e){const{clientHeight:t,clientWidth:n}=this.offsetParent,r=n/2-this.getWidth()/2,i=t/2-this.getHeight()/2;this.offsetElement(r,i,e)}initialisePosition(e){if(this.positioned)return;const{centered:t,forcePopupParentAsOffsetParent:n,minWidth:r,width:i,minHeight:s,height:o,x:a,y:l}=this.config;this.offsetParent||this.setOffsetParent();let c=0,d=0;const f=qo(this.element);if(f){const p=this.findBoundaryElement(),v=window.getComputedStyle(p);if(v.minWidth!=null){const y=p.offsetWidth-this.element.offsetWidth;d=Number.parseInt(v.minWidth,10)-y}if(v.minHeight!=null){const y=p.offsetHeight-this.element.offsetHeight;c=Number.parseInt(v.minHeight,10)-y}}if(this.minHeight=s||c,this.minWidth=r||d,i&&this.setWidth(i),o&&this.setHeight(o),(!i||!o)&&this.refreshSize(),t)this.center(e);else if(a||l)this.offsetElement(a,l,e);else if(f&&n){let p=this.boundaryEl,v=!0;if(p||(p=this.findBoundaryElement(),v=!1),p){const y=Number.parseFloat(p.style.top),b=Number.parseFloat(p.style.left);v?this.offsetElement(isNaN(b)?0:b,isNaN(y)?0:y,e):this.setPosition(b,y)}}this.positioned=!!this.offsetParent}isPositioned(){return this.positioned}getPosition(){return this.position}setMovable(e,t){if(!this.config.popup||e===this.movable)return;this.movable=e;const n=this.moveElementDragListener||{eElement:t,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};e?(this.dragSvc?.addDragSource(n),this.moveElementDragListener=n):(this.dragSvc?.removeDragSource(n),this.moveElementDragListener=void 0)}setResizable(e){if(this.clearResizeListeners(),e?this.addResizers():this.removeResizers(),typeof e=="boolean"){if(e===!1)return;e={topLeft:e,top:e,topRight:e,right:e,bottomRight:e,bottom:e,bottomLeft:e,left:e}}Object.keys(e).forEach(t=>{const r=!!e[t],i=this.getResizerElement(t),s={dragStartPixels:0,eElement:i,onDragStart:o=>this.onResizeStart(o,t),onDragging:this.onResize.bind(this),onDragStop:o=>this.onResizeEnd(o,t)};(r||!this.isAlive()&&!r)&&(r?(this.dragSvc?.addDragSource(s),this.resizeListeners.push(s),i.style.pointerEvents="all"):i.style.pointerEvents="none",this.resizable[t]=r)})}removeSizeFromEl(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")}restoreLastSize(){this.element.style.flex="0 0 auto";const{height:e,width:t}=this.lastSize;t!==-1&&(this.element.style.width=`${t}px`),e!==-1&&(this.element.style.height=`${e}px`)}getHeight(){return this.element.offsetHeight}setHeight(e){const{popup:t}=this.config,n=this.element;let r=!1;if(typeof e=="string"&&e.includes("%"))kg(n,e),e=XG(n),r=!0;else if(e=Math.max(this.minHeight,e),this.positioned){const i=this.getAvailableHeight();i&&e>i&&(e=i)}this.getHeight()!==e&&(r?(n.style.maxHeight="unset",n.style.minHeight="unset"):t?kg(n,e):(n.style.height=`${e}px`,n.style.flex="0 0 auto",this.lastSize.height=typeof e=="number"?e:Number.parseFloat(e)))}getAvailableHeight(){const{popup:e,forcePopupParentAsOffsetParent:t}=this.config;this.positioned||this.initialisePosition();const{clientHeight:n}=this.offsetParent;if(!n)return null;const r=this.element.getBoundingClientRect(),i=this.offsetParent.getBoundingClientRect(),s=e?this.position.y:r.top,o=e?0:i.top;let a=0;if(t){const c=this.element.parentElement;if(c){const{bottom:d}=c.getBoundingClientRect();a=d-r.bottom}}return n+o-s-a}getWidth(){return this.element.offsetWidth}setWidth(e){const t=this.element,{popup:n}=this.config;let r=!1;if(typeof e=="string"&&e.includes("%"))No(t,e),e=Nw(t),r=!0;else if(this.positioned){e=Math.max(this.minWidth,e);const{clientWidth:i}=this.offsetParent,s=n?this.position.x:this.element.getBoundingClientRect().left;i&&e+s>i&&(e=i-s)}this.getWidth()!==e&&(r?(t.style.maxWidth="unset",t.style.minWidth="unset"):this.config.popup?No(t,e):(t.style.width=`${e}px`,t.style.flex=" unset",this.lastSize.width=typeof e=="number"?e:Number.parseFloat(e)))}offsetElement(e=0,t=0,n){const{forcePopupParentAsOffsetParent:r}=this.config,i=r?this.boundaryEl:this.element;i&&(this.popupSvc?.positionPopup({ePopup:i,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:()=>({x:e,y:t}),postProcessCallback:n}),this.setPosition(Number.parseFloat(i.style.left),Number.parseFloat(i.style.top)))}constrainSizeToAvailableHeight(e){if(!this.config.forcePopupParentAsOffsetParent)return;const t=()=>{const n=this.getAvailableHeight();this.element.style.setProperty("max-height",`${n}px`)};e&&this.popupSvc?(this.resizeObserverSubscriber?.(),this.resizeObserverSubscriber=so(this.beans,this.popupSvc?.getPopupParent(),t)):(this.element.style.removeProperty("max-height"),this.resizeObserverSubscriber&&(this.resizeObserverSubscriber(),this.resizeObserverSubscriber=void 0))}setPosition(e,t){this.position.x=e,this.position.y=t}updateDragStartPosition(e,t){this.dragStartPosition={x:e,y:t}}calculateMouseMovement(e){const{e:t,isLeft:n,isTop:r,anywhereWithin:i,topBuffer:s}=e,o=t.clientX-this.dragStartPosition.x,a=t.clientY-this.dragStartPosition.y,l=this.shouldSkipX(t,!!n,!!i,o)?0:o,c=this.shouldSkipY(t,!!r,s,a)?0:a;return{movementX:l,movementY:c}}shouldSkipX(e,t,n,r){const i=this.element.getBoundingClientRect(),s=this.offsetParent.getBoundingClientRect(),o=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.x:i.left;let l=a<=0&&s.left>=e.clientX||s.right<=e.clientX&&s.right<=o.right;return l?!0:(t?l=r<0&&e.clientX>a+s.left||r>0&&e.clientX<a+s.left:n?l=r<0&&e.clientX>o.right||r>0&&e.clientX<a+s.left:l=r<0&&e.clientX>o.right||r>0&&e.clientX<o.right,l)}shouldSkipY(e,t,n=0,r){const i=this.element.getBoundingClientRect(),s=this.offsetParent.getBoundingClientRect(),o=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.y:i.top;let l=a<=0&&s.top>=e.clientY||s.bottom<=e.clientY&&s.bottom<=o.bottom;return l?!0:(t?l=r<0&&e.clientY>a+s.top+n||r>0&&e.clientY<a+s.top:l=r<0&&e.clientY>o.bottom||r>0&&e.clientY<o.bottom,l)}createResizeMap(){const e=t=>({element:this.element.querySelector(`[data-ref=${t}Resizer]`)});this.resizerMap={topLeft:e("eTopLeft"),top:e("eTop"),topRight:e("eTopRight"),right:e("eRight"),bottomRight:e("eBottomRight"),bottom:e("eBottom"),bottomLeft:e("eBottomLeft"),left:e("eLeft")}}addResizers(){if(this.resizersAdded)return;const e=this.element;e&&(e.appendChild(Tn(Mue)),this.createResizeMap(),this.resizersAdded=!0)}removeResizers(){this.resizerMap=void 0,this.element.querySelector(`.${g7}`)?.remove(),this.resizersAdded=!1}getResizerElement(e){return this.resizerMap[e].element}onResizeStart(e,t){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!t.match(/top/i),isRight:!!t.match(/right/i),isBottom:!!t.match(/bottom/i),isLeft:!!t.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[t].element.classList.add("ag-active");const{popup:n,forcePopupParentAsOffsetParent:r}=this.config;!n&&!r&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(e.clientX,e.clientY)}getSiblings(){const t=this.element.parentElement;return t?Array.prototype.slice.call(t.children).filter(n=>!n.classList.contains("ag-hidden")):null}getMinSizeOfSiblings(){const e=this.getSiblings()||[];let t=0,n=0;for(let r=0;r<e.length;r++){const i=e[r],s=!!i.style.flex&&i.style.flex!=="0 0 auto";if(i===this.element)continue;let o=this.minHeight||0,a=this.minWidth||0;if(s){const l=window.getComputedStyle(i);l.minHeight&&(o=Number.parseInt(l.minHeight,10)),l.minWidth&&(a=Number.parseInt(l.minWidth,10))}else o=i.offsetHeight,a=i.offsetWidth;t+=o,n+=a}return{height:t,width:n}}applySizeToSiblings(e){let t=null;const n=this.getSiblings();if(n){for(let r=0;r<n.length;r++){const i=n[r];i!==t&&(e?i.style.height=`${i.offsetHeight}px`:i.style.width=`${i.offsetWidth}px`,i.style.flex="0 0 auto",i===this.element&&(t=n[r+1]))}t&&(t.style.removeProperty("height"),t.style.removeProperty("min-height"),t.style.removeProperty("max-height"),t.style.flex="1 1 auto")}}isResizable(){return Object.values(this.resizable).some(e=>e)}onResize(e){if(!this.isResizing||!this.currentResizer)return;const{popup:t,forcePopupParentAsOffsetParent:n}=this.config,{isTop:r,isRight:i,isBottom:s,isLeft:o}=this.currentResizer,a=i||o,l=s||r,{movementX:c,movementY:d}=this.calculateMouseMovement({e,isLeft:o,isTop:r}),f=this.position.x,p=this.position.y;let v=0,y=0;if(a&&c){const b=o?-1:1,x=this.getWidth(),S=x+c*b;let M=!1;o&&(v=x-S,(f+v<=0||S<=this.minWidth)&&(M=!0,v=0)),M||this.setWidth(S)}if(l&&d){const b=r?-1:1,x=this.getHeight(),S=x+d*b;let M=!1;r?(y=x-S,(p+y<=0||S<=this.minHeight)&&(M=!0,y=0)):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&x<S&&this.getMinSizeOfSiblings().height+S>this.element.parentElement.offsetHeight&&(M=!0),M||this.setHeight(S)}this.updateDragStartPosition(e.clientX,e.clientY),((t||n)&&v||y)&&this.offsetElement(f+v,p+y)}onResizeEnd(e,t){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null,this.element.classList.remove("ag-resizing"),this.resizerMap[t].element.classList.remove("ag-active"),this.dispatchLocalEvent({type:"resize"})}refreshSize(){const e=this.element;this.config.popup&&(this.config.width||this.setWidth(e.offsetWidth),this.config.height||this.setHeight(e.offsetHeight))}onMoveStart(e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(e.clientX,e.clientY)}onMove(e){if(!this.isMoving)return;const{x:t,y:n}=this.position;let r;this.config.calculateTopBuffer&&(r=this.config.calculateTopBuffer());const{movementX:i,movementY:s}=this.calculateMouseMovement({e,isTop:!0,anywhereWithin:!0,topBuffer:r});this.offsetElement(t+i,n+s),this.updateDragStartPosition(e.clientX,e.clientY)}onMoveEnd(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")}setOffsetParent(){this.config.forcePopupParentAsOffsetParent&&this.popupSvc?this.offsetParent=this.popupSvc.getPopupParent():this.offsetParent=this.element.offsetParent}findBoundaryElement(){let e=this.element;for(;e;){if(window.getComputedStyle(e).position!=="static")return e;e=e.parentElement}return this.element}clearResizeListeners(){for(;this.resizeListeners.length;){const e=this.resizeListeners.pop();this.dragSvc?.removeDragSource(e)}}destroy(){super.destroy(),this.moveElementDragListener&&this.dragSvc?.removeDragSource(this.moveElementDragListener),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()}},m7="__ag_Grid_Stop_Propagation";function Mc(e){e[m7]=!0}function Ks(e){return e[m7]===!0}var kue="ag-focus-managed",zf=class extends le{constructor(e,t={}){super(),this.eFocusable=e,this.callbacks=t,this.callbacks={shouldStopEventPropagation:()=>!1,onTabKeyDown:n=>{if(n.defaultPrevented)return;const r=bd(this.beans,this.eFocusable,!1,n.shiftKey);r&&(r.focus(),n.preventDefault())},...t}}postConstruct(){const{eFocusable:e,callbacks:{onFocusIn:t,onFocusOut:n}}=this;e.classList.add(kue),this.addKeyDownListeners(e),t&&this.addManagedElementListeners(e,{focusin:t}),n&&this.addManagedElementListeners(e,{focusout:n})}addKeyDownListeners(e){this.addManagedElementListeners(e,{keydown:t=>{if(t.defaultPrevented||Ks(t))return;const{callbacks:n}=this;if(n.shouldStopEventPropagation(t)){Mc(t);return}t.key===re.TAB?n.onTabKeyDown(t):n.handleKeyDown&&n.handleKeyDown(t)}})}},Aue=class extends yt{constructor(e,t){super(),this.filterNameKey=e,this.cssIdentifier=t,this.applyActive=!1,this.debouncePending=!1,this.defaultDebounceMs=0}postConstruct(){const e={tag:"div",cls:`ag-filter-body-wrapper ag-${this.cssIdentifier}-body-wrapper`,children:[this.createBodyTemplate()]};this.setTemplate(e,this.getAgComponents()),this.createManagedBean(new zf(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=this.createBean(new Tue(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}))}handleKeyDown(e){}init(e){const t=e;this.setParams(t),this.setModelIntoUi(t.state.model,!0).then(()=>this.updateUiVisibility())}refresh(e){const t=e,n=this.params;this.params=t,t.source==="colDef"&&this.updateParams(t,n);const i=t.state,s=this.state;return this.state=i,(i.model!==s.model||i.state!==s.state)&&this.setModelIntoUi(i.model),!0}setParams(e){this.params=e,this.state=e.state,this.commonUpdateParams(e)}updateParams(e,t){this.commonUpdateParams(e,t)}commonUpdateParams(e,t){this.applyActive=px(e),this.setupApplyDebounced()}doesFilterPass(e){ve(283);const{getHandler:t,model:n,column:r}=this.params;return t().doesFilterPass({...e,model:n,handlerParams:this.beans.colFilter.getHandlerParams(r)})}getFilterTitle(){return this.translate(this.filterNameKey)}isFilterActive(){return ve(284),this.params.model!=null}setupApplyDebounced(){const e=TA(this.params,this.defaultDebounceMs),t=br(this,this.checkApplyDebounce.bind(this),e);this.applyDebounced=()=>{this.debouncePending=!0,t()}}checkApplyDebounce(){this.debouncePending&&(this.debouncePending=!1,this.doApplyModel())}getModel(){return ve(285),this.params.model}setModel(e){ve(286);const{beans:t,params:n}=this;return t.colFilter.setModelForColumnLegacy(n.column,e)}applyModel(e="api"){return this.doApplyModel()}canApply(e){return!0}doApplyModel(e){const{params:t,state:n}=this,r=!this.areModelsEqual(t.model,n.model);return r&&t.onAction("apply",e),r}onNewRowsLoaded(){}onUiChanged(e,t=!1){this.updateUiVisibility();const n=this.getModelFromUi(),r={model:n,state:this.getState(),valid:this.canApply(n)};this.state=r;const i=this.params;i.onStateChange(r),i.onUiChange(this.getUiChangeEventParams()),this.gos.get("enableFilterHandlers")||this.eventSvc.dispatchEvent({type:"filterModified",column:i.column,filterInstance:this}),e??(e=this.applyActive?void 0:"debounce"),e==="immediately"?this.doApplyModel({afterFloatingFilter:t,afterDataChange:!1}):e==="debounce"&&this.applyDebounced()}getState(){}getUiChangeEventParams(){}afterGuiAttached(e){this.lastContainerType=e?.container,this.refreshFilterResizer(e?.container)}refreshFilterResizer(e){const{positionableFeature:t,gos:n}=this;if(!t)return;const r=e==="floatingFilter"||e==="columnFilter";r?(t.restoreLastSize(),t.setResizable(n.get("enableRtl")?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(t.removeSizeFromEl(),t.setResizable(!1)),t.constrainSizeToAvailableHeight(r)}afterGuiDetached(){this.checkApplyDebounce(),this.positionableFeature?.constrainSizeToAvailableHeight(!1)}destroy(){this.positionableFeature=this.destroyBean(this.positionableFeature),super.destroy()}translate(e){return ac(this,e)}getPositionableElement(){return this.getGui()}areModelsEqual(e,t){return e===t||e==null&&t==null?!0:e==null||t==null?!1:this.areNonNullModelsEqual(e,t)}};function v7(e){return!!e.operator}function Pue(e,t,n){if(t==null)return null;let r=null;const{compName:i,jsComp:s,fwComp:o}=GV(e,t);return i?r={agSetColumnFilter:"agSetColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"}[i]:s==null&&o==null&&t.filter===!0&&(r=n()),r}var zs={AUTO_HEIGHT:"ag-layout-auto-height",NORMAL:"ag-layout-normal",PRINT:"ag-layout-print"},kA=class extends le{constructor(e){super(),this.view=e}postConstruct(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()}updateLayoutClasses(){const e=this.gos.get("domLayout"),t={autoHeight:e==="autoHeight",normal:e==="normal",print:e==="print"},n=t.autoHeight?zs.AUTO_HEIGHT:t.print?zs.PRINT:zs.NORMAL;this.view.updateLayoutClasses(n,t)}},Yl="Viewport",$4="fakeVScrollComp",SD=["fakeHScrollComp","centerHeader","topCenter","bottomCenter","stickyTopCenter","stickyBottomCenter"],q4=100,ED=150,Nue=class extends le{constructor(e){super(),this.clearRetryListenerFncs=[],this.lastScrollSource=[null,null],this.scrollLeft=-1,this.nextScrollTop=-1,this.scrollTop=-1,this.lastOffsetHeight=-1,this.lastScrollTop=-1,this.lastIsHorizontalScrollShowing=!1,this.scrollTimer=0,this.isScrollActive=!1,this.isVerticalPositionInvalidated=!0,this.isHorizontalPositionInvalidated=!0,this.eBodyViewport=e,this.resetLastHScrollDebounced=br(this,()=>this.lastScrollSource[1]=null,ED),this.resetLastVScrollDebounced=br(this,()=>this.lastScrollSource[0]=null,ED)}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.animationFrameSvc=e.animationFrameSvc,this.visibleCols=e.visibleCols}destroy(){super.destroy(),this.clearRetryListenerFncs=[],window.clearTimeout(this.scrollTimer)}postConstruct(){this.enableRtl=this.gos.get("enableRtl");const e=this.invalidateVerticalScroll.bind(this),t=this.invalidateHorizontalScroll.bind(this);this.addManagedEventListeners({displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this),bodyHeightChanged:e,scrollGapChanged:t}),this.addManagedElementListeners(this.eBodyViewport,{scroll:e}),this.ctrlsSvc.whenReady(this,n=>{this.centerRowsCtrl=n.center,this.onDisplayedColumnsWidthChanged(),this.addScrollListener()})}invalidateHorizontalScroll(){this.isHorizontalPositionInvalidated=!0}invalidateVerticalScroll(){this.isVerticalPositionInvalidated=!0}addScrollListener(){this.addHorizontalScrollListeners(),this.addVerticalScrollListeners()}addHorizontalScrollListeners(){this.addManagedElementListeners(this.centerRowsCtrl.eViewport,{scroll:this.onHScroll.bind(this,Yl)});for(const e of SD){const t=this.ctrlsSvc.get(e);this.registerScrollPartner(t,this.onHScroll.bind(this,e))}}addVerticalScrollListeners(){const e=this.ctrlsSvc.get("fakeVScrollComp"),t=this.gos.get("debounceVerticalScrollbar"),n=t?br(this,this.onVScroll.bind(this,Yl),q4):this.onVScroll.bind(this,Yl),r=t?br(this,this.onVScroll.bind(this,$4),q4):this.onVScroll.bind(this,$4);this.addManagedElementListeners(this.eBodyViewport,{scroll:n}),this.registerScrollPartner(e,r)}registerScrollPartner(e,t){e.onScrollCallback(t)}onDisplayedColumnsWidthChanged(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()}horizontallyScrollHeaderCenterAndFloatingCenter(e){this.centerRowsCtrl!=null&&(e===void 0&&(e=this.centerRowsCtrl.getCenterViewportScrollLeft()),this.setScrollLeftForAllContainersExceptCurrent(Math.abs(e)))}setScrollLeftForAllContainersExceptCurrent(e){for(const t of[...SD,Yl]){if(this.lastScrollSource[1]===t)continue;const n=this.getViewportForSource(t);Fw(n,e,this.enableRtl)}}getViewportForSource(e){return e===Yl?this.centerRowsCtrl.eViewport:this.ctrlsSvc.get(e).eViewport}isControllingScroll(e,t){return this.lastScrollSource[t]==null?(t===0?this.lastScrollSource[0]=e:this.lastScrollSource[1]=e,!0):this.lastScrollSource[t]===e}onHScroll(e){if(!this.isControllingScroll(e,1))return;const t=this.centerRowsCtrl.eViewport,{scrollLeft:n}=t;if(this.shouldBlockScrollUpdate(1,n,!0))return;const r=Ow(this.getViewportForSource(e),this.enableRtl);this.doHorizontalScroll(r),this.resetLastHScrollDebounced()}onVScroll(e){if(!this.isControllingScroll(e,0))return;let t;if(e===Yl?t=this.eBodyViewport.scrollTop:t=this.ctrlsSvc.get("fakeVScrollComp").getScrollPosition(),this.shouldBlockScrollUpdate(0,t,!0))return;const{animationFrameSvc:n}=this;n?.setScrollTop(t),this.nextScrollTop=t,e===Yl?this.ctrlsSvc.get("fakeVScrollComp").setScrollPosition(t):this.eBodyViewport.scrollTop=t,n?.active?n.schedule():this.scrollGridIfNeeded(!0),this.resetLastVScrollDebounced()}doHorizontalScroll(e){const t=this.ctrlsSvc.get("fakeHScrollComp").getScrollPosition();this.scrollLeft===e&&e===t||(this.scrollLeft=e,this.fireScrollEvent(1),this.horizontallyScrollHeaderCenterAndFloatingCenter(e),this.centerRowsCtrl.onHorizontalViewportChanged(!0))}isScrolling(){return this.isScrollActive}fireScrollEvent(e){const t={type:"bodyScroll",direction:e===1?"horizontal":"vertical",left:this.scrollLeft,top:this.scrollTop};this.isScrollActive=!0,this.eventSvc.dispatchEvent(t),window.clearTimeout(this.scrollTimer),this.scrollTimer=window.setTimeout(()=>{this.scrollTimer=0,this.isScrollActive=!1,this.eventSvc.dispatchEvent({...t,type:"bodyScrollEnd"})},ED)}shouldBlockScrollUpdate(e,t,n=!1){return n&&!ju()?!1:e===0?this.shouldBlockVerticalScroll(t):this.shouldBlockHorizontalScroll(t)}shouldBlockVerticalScroll(e){const t=sA(this.eBodyViewport),{scrollHeight:n}=this.eBodyViewport;return e<0||e+t>n}shouldBlockHorizontalScroll(e){const t=this.centerRowsCtrl.getCenterWidth(),{scrollWidth:n}=this.centerRowsCtrl.eViewport;if(this.enableRtl){if(e>0)return!0}else if(e<0)return!0;return Math.abs(e)+t>n}redrawRowsAfterScroll(){this.fireScrollEvent(0)}checkScrollLeft(){const e=this.scrollLeft;let t=!1;for(const n of SD)if(this.getViewportForSource(n).scrollLeft!==e){t=!0;break}t&&this.onHScroll(Yl)}scrollGridIfNeeded(e=!1){const t=this.scrollTop!=this.nextScrollTop;return t&&(this.scrollTop=this.nextScrollTop,e&&this.invalidateVerticalScroll(),this.redrawRowsAfterScroll()),t}setHorizontalScrollPosition(e,t=!1){const r=this.centerRowsCtrl.eViewport.scrollWidth-this.centerRowsCtrl.getCenterWidth();!t&&this.shouldBlockScrollUpdate(1,e)&&(this.enableRtl?e=e>0?0:r:e=Math.min(Math.max(e,0),r)),Fw(this.centerRowsCtrl.eViewport,Math.abs(e),this.enableRtl),this.doHorizontalScroll(e)}setVerticalScrollPosition(e){this.invalidateVerticalScroll(),this.eBodyViewport.scrollTop=e}getVScrollPosition(){if(!this.isVerticalPositionInvalidated){const{lastOffsetHeight:n,lastScrollTop:r}=this;return{top:r,bottom:r+n}}this.isVerticalPositionInvalidated=!1;const{scrollTop:e,offsetHeight:t}=this.eBodyViewport;return this.lastScrollTop=e,this.lastOffsetHeight=t,{top:e,bottom:e+t}}getApproximateVScollPosition(){return this.lastScrollTop>=0&&this.lastOffsetHeight>=0?{top:this.scrollTop,bottom:this.scrollTop+this.lastOffsetHeight}:this.getVScrollPosition()}getHScrollPosition(){return this.centerRowsCtrl.getHScrollPosition()}isHorizontalScrollShowing(){return this.isHorizontalPositionInvalidated&&(this.lastIsHorizontalScrollShowing=this.centerRowsCtrl.isHorizontalScrollShowing(),this.isHorizontalPositionInvalidated=!1),this.lastIsHorizontalScrollShowing}scrollHorizontally(e){const t=this.centerRowsCtrl.eViewport.scrollLeft;return this.setHorizontalScrollPosition(t+e),this.centerRowsCtrl.eViewport.scrollLeft-t}scrollToTop(){this.eBodyViewport.scrollTop=0}ensureNodeVisible(e,t=null){const{rowModel:n}=this.beans,r=n.getRowCount();let i=-1;for(let s=0;s<r;s++){const o=n.getRow(s);if(typeof e=="function"){if(o&&e(o)){i=s;break}}else if(e===o||e===o.data){i=s;break}}i>=0&&this.ensureIndexVisible(i,t)}ensureIndexVisible(e,t,n=0){if(Sr(this.gos,"print"))return;const{rowModel:r}=this.beans,i=r.getRowCount();if(typeof e!="number"||e<0||e>=i){ve(88,{index:e});return}this.clearRetryListeners();const{frameworkOverrides:s,pageBounds:o,rowContainerHeight:a,rowRenderer:l}=this.beans;s.wrapIncoming(()=>{const c=this.ctrlsSvc.getGridBodyCtrl(),d=r.getRow(e);let f,p,v=0;this.invalidateVerticalScroll();do{const{stickyTopHeight:y,stickyBottomHeight:b}=c,x=d.rowTop,S=d.rowHeight,M=o.getPixelOffset(),R=d.rowTop-M,T=R+d.rowHeight,k=this.getVScrollPosition(),P=a.divStretchOffset,A=k.top+P,O=k.bottom+P,B=O-A,U=a.getScrollPositionForPixel(R),_=a.getScrollPositionForPixel(T-B),I=Math.min((U+_)/2,R),V=A+y>R,F=O-b<T;let L=null;t==="top"?L=U-y:t==="bottom"?L=_+b:t==="middle"?L=I:V?L=U-y:F&&(_-U>B?L=U-y:L=_+b),L!==null&&(this.setVerticalScrollPosition(L),l.redraw({afterScroll:!0})),f=x!==d.rowTop||S!==d.rowHeight,p=y!==c.stickyTopHeight||b!==c.stickyBottomHeight,v++}while((f||p)&&v<10);if(this.animationFrameSvc?.flushAllFrames(),n<10&&(d?.stub||!this.beans.rowAutoHeight?.areRowsMeasured())){const y=this.getVScrollPosition().top;this.clearRetryListenerFncs=this.addManagedEventListeners({bodyScroll:()=>{const b=this.getVScrollPosition().top;y!==b&&this.clearRetryListeners()},modelUpdated:()=>{this.clearRetryListeners(),!(e>=r.getRowCount())&&this.ensureIndexVisible(e,t,n+1)}})}})}clearRetryListeners(){for(const e of this.clearRetryListenerFncs)e();this.clearRetryListenerFncs=[]}ensureColumnVisible(e,t="auto"){const{colModel:n,frameworkOverrides:r}=this.beans,i=n.getCol(e);if(!i||i.isPinned()||!this.visibleCols.isColDisplayed(i))return;const s=this.getPositionedHorizontalScroll(i,t);r.wrapIncoming(()=>{s!==null&&this.centerRowsCtrl.setCenterViewportScrollLeft(s),this.centerRowsCtrl.onHorizontalViewportChanged(),this.animationFrameSvc?.flushAllFrames()})}getPositionedHorizontalScroll(e,t){const{columnBeforeStart:n,columnAfterEnd:r}=this.isColumnOutsideViewport(e),i=this.centerRowsCtrl.getCenterWidth()<e.getActualWidth(),s=this.centerRowsCtrl.getCenterWidth(),o=this.enableRtl;let a=(o?n:r)||i,l=o?r:n;t!=="auto"&&(a=t==="start",l=t==="end");const c=t==="middle";if(a||l||c){const{colLeft:d,colMiddle:f,colRight:p}=this.getColumnBounds(e);return c?f-s/2:a?o?p:d:o?d-s:p-s}return null}isColumnOutsideViewport(e){const{start:t,end:n}=this.getViewportBounds(),{colLeft:r,colRight:i}=this.getColumnBounds(e),s=this.enableRtl,o=s?t>i:n<i,a=s?n<r:t>r;return{columnBeforeStart:o,columnAfterEnd:a}}getColumnBounds(e){const t=this.enableRtl,n=this.visibleCols.bodyWidth,r=e.getActualWidth(),i=e.getLeft(),s=t?-1:1,o=t?n-i:i,a=o+r*s,l=o+r/2*s;return{colLeft:o,colMiddle:l,colRight:a}}getViewportBounds(){const e=this.centerRowsCtrl.getCenterWidth(),t=this.centerRowsCtrl.getCenterViewportScrollLeft(),n=t,r=e+t;return{start:n,end:r,width:e}}},AA=class extends le{constructor(e,t=!1){super(),this.callback=e,this.addSpacer=t}postConstruct(){const e=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",e),this.addManagedEventListeners({columnContainerWidthChanged:e,displayedColumnsChanged:e,leftPinnedWidthChanged:e}),this.addSpacer&&this.addManagedEventListeners({rightPinnedWidthChanged:e,scrollVisibilityChanged:e,scrollbarWidthChanged:e}),this.setWidth()}setWidth(){const e=Sr(this.gos,"print"),{visibleCols:t,scrollVisibleSvc:n}=this.beans,r=t.bodyWidth,i=t.getColsLeftWidth(),s=t.getDisplayedColumnsRightWidth();let o;e?o=r+i+s:(o=r,this.addSpacer&&(this.gos.get("enableRtl")?i:s)===0&&n.verticalScrollShowing&&(o+=n.getScrollbarWidth())),this.callback(o)}},Oue=class extends le{constructor(e){super(),this.centerContainerCtrl=e}wireBeans(e){this.scrollVisibleSvc=e.scrollVisibleSvc}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.listenForResize()}),this.addManagedEventListeners({scrollbarWidthChanged:this.onScrollbarWidthChanged.bind(this)}),this.addManagedPropertyListeners(["alwaysShowHorizontalScroll","alwaysShowVerticalScroll"],()=>{this.checkViewportAndScrolls()})}listenForResize(){const{beans:e,centerContainerCtrl:t,gridBodyCtrl:n}=this,r=()=>{ul(e,()=>{this.onCenterViewportResized()})};t.registerViewportResizeListener(r),n.registerBodyViewportResizeListener(r)}onScrollbarWidthChanged(){this.checkViewportAndScrolls()}onCenterViewportResized(){if(this.scrollVisibleSvc.updateScrollGap(),this.centerContainerCtrl.isViewportInTheDOMTree()){const{pinnedCols:e,colFlex:t}=this.beans;e?.keepPinnedColumnsNarrowerThanViewport(),this.checkViewportAndScrolls();const n=this.centerContainerCtrl.getCenterWidth();n!==this.centerWidth&&(this.centerWidth=n,t?.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0}checkViewportAndScrolls(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.scrollFeature.checkScrollLeft()}getBodyHeight(){return this.bodyHeight}checkBodyHeight(){const e=this.gridBodyCtrl.eBodyViewport,t=sA(e);this.bodyHeight!==t&&(this.bodyHeight=t,this.eventSvc.dispatchEvent({type:"bodyHeightChanged"}))}updateScrollVisibleService(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)}updateScrollVisibleServiceImpl(){if(!this.isAlive())return;const e={horizontalScrollShowing:this.centerContainerCtrl.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleSvc.setScrollsVisible(e)}onHorizontalViewportChanged(){const e=this.centerContainerCtrl.getCenterWidth(),t=this.centerContainerCtrl.getViewportScrollLeft();this.beans.colViewport.setScrollPosition(e,t)}};function rw(e,t,n,r){const i=t.getColDef().cellRendererParams?.suppressMouseEventHandling;return y7(e,t,n,r,i)}function Fue(e,t,n,r){const i=t?.suppressMouseEventHandling;return y7(e,void 0,n,r,i)}function y7(e,t,n,r,i){return i?i(_e(e,{column:t,node:n,event:r})):!1}function w7(e,t,n){let r=t;for(;r;){const i=CV(e,r,n);if(i)return i;r=r.parentElement}return null}var qw="cellCtrl";function PA(e,t){return w7(e,t,qw)}var Kw="renderedRow";function Iue(e,t){return w7(e,t,Kw)}function W2(e,t,n,r,i){const s=r?r.getColDef().suppressKeyboardEvent:void 0;if(!s)return!1;const o=_e(e,{event:t,editing:i,column:r,node:n,data:n.data,colDef:r.getColDef()});return!!(s&&s(o))}function Lue(e){const{pinnedRowModel:t,rowModel:n}=e,[r,i]=[t?.isEmpty("top")??!0,t?.isEmpty("bottom")??!0],s=r?null:"top";let o,a;i?(o=null,a=n.getRowCount()-1):(o="bottom",a=t?.getPinnedBottomRowCount()??-1);const{visibleCols:l,rangeSvc:c}=e,d=l.allCols;!c||!d?.length||c.setCellRange({rowStartIndex:0,rowStartPinned:s,rowEndIndex:a,rowEndPinned:o})}var _ue=65,jue=67,Bue=86,Hue=68,zue=90,Gue=89;function Vue(e){const{keyCode:t}=e;let n;switch(t){case _ue:n=re.A;break;case jue:n=re.C;break;case Bue:n=re.V;break;case Hue:n=re.D;break;case zue:n=re.Z;break;case Gue:n=re.Y;break;default:n=e.code}return n}var Wue=class extends le{constructor(e){super(),this.element=e}postConstruct(){this.addKeyboardListeners(),this.addMouseListeners(),this.beans.touchSvc?.mockRowContextMenu(this),this.editSvc=this.beans.editSvc}addKeyboardListeners(){const e="keydown",t=this.processKeyboardEvent.bind(this,e);this.addManagedElementListeners(this.element,{[e]:t})}addMouseListeners(){const t=["dblclick","contextmenu","mouseover","mouseout","click",iV("touchstart")?"touchstart":"mousedown"];for(const n of t){const r=this.processMouseEvent.bind(this,n);this.addManagedElementListeners(this.element,{[n]:r})}}processMouseEvent(e,t){if(!nm(this.beans,t)||Ks(t))return;const{cellCtrl:n,rowCtrl:r}=this.getControlsForEventTarget(t.target);e==="contextmenu"?(n?.column&&n.dispatchCellContextMenuEvent(t),this.beans.contextMenuSvc?.handleContextMenuMouseEvent(t,void 0,r,n)):(n&&n.onMouseEvent(e,t),r&&r.onMouseEvent(e,t))}getControlsForEventTarget(e){const{gos:t}=this;return{cellCtrl:PA(t,e),rowCtrl:Iue(t,e)}}processKeyboardEvent(e,t){const{cellCtrl:n,rowCtrl:r}=this.getControlsForEventTarget(t.target);t.defaultPrevented||(n?this.processCellKeyboardEvent(n,e,t):r?.isFullWidth()&&this.processFullWidthRowKeyboardEvent(r,e,t))}processCellKeyboardEvent(e,t,n){const r=this.editSvc?.isEditing(e,{withOpenEditor:!0})??!1;!W2(this.gos,n,e.rowNode,e.column,r)&&t==="keydown"&&(!r&&this.beans.navigation?.handlePageScrollingKey(n)||e.onKeyDown(n),this.doGridOperations(n,r),qV(n)&&e.processCharacter(n)),t==="keydown"&&this.eventSvc.dispatchEvent(e.createEvent(n,"cellKeyDown"))}processFullWidthRowKeyboardEvent(e,t,n){const{rowNode:r}=e,{focusSvc:i,navigation:s}=this.beans,a=i.getFocusedCell()?.column;if(!W2(this.gos,n,r,a,!1)){const c=n.key;if(t==="keydown")switch(c){case re.PAGE_HOME:case re.PAGE_END:case re.PAGE_UP:case re.PAGE_DOWN:s?.handlePageScrollingKey(n,!0);break;case re.LEFT:case re.RIGHT:if(!this.gos.get("embedFullWidthRows"))break;case re.UP:case re.DOWN:e.onKeyboardNavigate(n);break;case re.TAB:e.onTabKeyDown(n);break}}t==="keydown"&&this.eventSvc.dispatchEvent(e.createRowEvent("cellKeyDown",n))}doGridOperations(e,t){if(!e.ctrlKey&&!e.metaKey||t||!nm(this.beans,e))return;const n=Vue(e),{clipboardSvc:r,undoRedo:i}=this.beans;if(n===re.A)return this.onCtrlAndA(e);if(n===re.C)return this.onCtrlAndC(r,e);if(n===re.D)return this.onCtrlAndD(r,e);if(n===re.V)return this.onCtrlAndV(r,e);if(n===re.X)return this.onCtrlAndX(r,e);if(n===re.Y)return this.onCtrlAndY(i);if(n===re.Z)return this.onCtrlAndZ(i,e)}onCtrlAndA(e){const{beans:{rowModel:t,rangeSvc:n,selectionSvc:r},gos:i}=this;n&&Qa(i)&&!Lae(i)&&t.isRowsToRender()?Lue(this.beans):r&&r.selectAllRowNodes({source:"keyboardSelectAll",selectAll:DV(i)}),e.preventDefault()}onCtrlAndC(e,t){if(!e||this.gos.get("enableCellTextSelection"))return;const{cellCtrl:n}=this.getControlsForEventTarget(t.target);this.editSvc?.isEditing(n,{withOpenEditor:!0})||(t.preventDefault(),e.copyToClipboard())}onCtrlAndX(e,t){if(!e||this.gos.get("enableCellTextSelection")||this.gos.get("suppressCutToClipboard"))return;const{cellCtrl:n}=this.getControlsForEventTarget(t.target);this.editSvc?.isEditing(n,{withOpenEditor:!0})||(t.preventDefault(),e.cutToClipboard(void 0,"ui"))}onCtrlAndV(e,t){const{cellCtrl:n}=this.getControlsForEventTarget(t.target);this.editSvc?.isEditing(n,{withOpenEditor:!0})||e&&!this.gos.get("suppressClipboardPaste")&&e.pasteFromClipboard()}onCtrlAndD(e,t){e&&!this.gos.get("suppressClipboardPaste")&&e.copyRangeDown(),t.preventDefault()}onCtrlAndZ(e,t){!this.gos.get("undoRedoCellEditing")||!e||(t.preventDefault(),t.shiftKey?e.redo("ui"):e.undo("ui"))}onCtrlAndY(e){e?.redo("ui")}},b7=class extends le{constructor(e,t){super(),this.eContainer=e,this.eViewport=t}postConstruct(){this.addManagedEventListeners({rowContainerHeightChanged:this.onHeightChanged.bind(this,this.beans.rowContainerHeight)})}onHeightChanged(e){const t=e.uiContainerHeight,n=t!=null?`${t}px`:"";this.eContainer.style.height=n,this.eViewport&&(this.eViewport.style.height=n)}},Qy=e=>e.topRowCtrls,Xy=e=>e.getStickyTopRowCtrls(),Jy=e=>e.getStickyBottomRowCtrls(),Zy=e=>e.bottomRowCtrls,e0=e=>e.allRowCtrls,DD=e=>e.getCtrls("top"),RD=e=>e.getCtrls("center"),MD=e=>e.getCtrls("bottom"),Uue={center:{type:"center",name:"center-cols",getRowCtrls:e0,getSpannedRowCtrls:RD},left:{type:"left",name:"pinned-left-cols",pinnedType:"left",getRowCtrls:e0,getSpannedRowCtrls:RD},right:{type:"right",name:"pinned-right-cols",pinnedType:"right",getRowCtrls:e0,getSpannedRowCtrls:RD},fullWidth:{type:"fullWidth",name:"full-width",fullWidth:!0,getRowCtrls:e0},topCenter:{type:"center",name:"floating-top",getRowCtrls:Qy,getSpannedRowCtrls:DD},topLeft:{type:"left",name:"pinned-left-floating",container:"ag-pinned-left-floating-top",pinnedType:"left",getRowCtrls:Qy,getSpannedRowCtrls:DD},topRight:{type:"right",name:"pinned-right-floating",container:"ag-pinned-right-floating-top",pinnedType:"right",getRowCtrls:Qy,getSpannedRowCtrls:DD},topFullWidth:{type:"fullWidth",name:"floating-top-full-width",fullWidth:!0,getRowCtrls:Qy},stickyTopCenter:{type:"center",name:"sticky-top",getRowCtrls:Xy},stickyTopLeft:{type:"left",name:"pinned-left-sticky-top",container:"ag-pinned-left-sticky-top",pinnedType:"left",getRowCtrls:Xy},stickyTopRight:{type:"right",name:"pinned-right-sticky-top",container:"ag-pinned-right-sticky-top",pinnedType:"right",getRowCtrls:Xy},stickyTopFullWidth:{type:"fullWidth",name:"sticky-top-full-width",fullWidth:!0,getRowCtrls:Xy},stickyBottomCenter:{type:"center",name:"sticky-bottom",getRowCtrls:Jy},stickyBottomLeft:{type:"left",name:"pinned-left-sticky-bottom",container:"ag-pinned-left-sticky-bottom",pinnedType:"left",getRowCtrls:Jy},stickyBottomRight:{type:"right",name:"pinned-right-sticky-bottom",container:"ag-pinned-right-sticky-bottom",pinnedType:"right",getRowCtrls:Jy},stickyBottomFullWidth:{type:"fullWidth",name:"sticky-bottom-full-width",fullWidth:!0,getRowCtrls:Jy},bottomCenter:{type:"center",name:"floating-bottom",getRowCtrls:Zy,getSpannedRowCtrls:MD},bottomLeft:{type:"left",name:"pinned-left-floating-bottom",container:"ag-pinned-left-floating-bottom",pinnedType:"left",getRowCtrls:Zy,getSpannedRowCtrls:MD},bottomRight:{type:"right",name:"pinned-right-floating-bottom",container:"ag-pinned-right-floating-bottom",pinnedType:"right",getRowCtrls:Zy,getSpannedRowCtrls:MD},bottomFullWidth:{type:"fullWidth",name:"floating-bottom-full-width",fullWidth:!0,getRowCtrls:Zy}};function NA(e){return`ag-${Gf(e).name}-viewport`}function Ng(e){const t=Gf(e);return t.container??`ag-${t.name}-container`}function C7(e){return`ag-${Gf(e).name}-spanned-cells-container`}function Gf(e){return Uue[e]}var $ue=["topCenter","topLeft","topRight"],que=["bottomCenter","bottomLeft","bottomRight"],Kue=["center","left","right"],Yue=["center","left","right","fullWidth"],Que=["stickyTopCenter","stickyBottomCenter","center","topCenter","bottomCenter"],Xue=["left","bottomLeft","topLeft","stickyTopLeft","stickyBottomLeft"],Jue=["right","bottomRight","topRight","stickyTopRight","stickyBottomRight"],x7=["stickyTopCenter","stickyTopLeft","stickyTopRight"],S7=["stickyBottomCenter","stickyBottomLeft","stickyBottomRight"],Zue=[...x7,"stickyTopFullWidth",...S7,"stickyBottomFullWidth"],ede=[...$ue,...que,...Kue,...x7,...S7],E7=class extends le{constructor(e){super(),this.name=e,this.visible=!0,this.EMPTY_CTRLS=[],this.options=Gf(e)}postConstruct(){this.enableRtl=this.gos.get("enableRtl"),this.forContainers(["center"],()=>{this.viewportSizeFeature=this.createManagedBean(new Oue(this)),this.addManagedEventListeners({stickyTopOffsetChanged:this.onStickyTopOffsetChanged.bind(this)})})}onStickyTopOffsetChanged(e){this.comp.setOffsetTop(`${e.offset}px`)}registerWithCtrlsService(){this.options.fullWidth||this.beans.ctrlsSvc.register(this.name,this)}forContainers(e,t){e.indexOf(this.name)>=0&&t()}setComp(e,t,n,r){this.comp=e,this.eContainer=t,this.eSpannedContainer=n,this.eViewport=r,this.createManagedBean(new Wue(this.eViewport??this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder();const{pinnedCols:i,rangeSvc:s}=this.beans,o=()=>this.onPinnedWidthChanged();this.forContainers(Xue,()=>{this.pinnedWidthFeature=this.createOptionalManagedBean(i?.createPinnedWidthFeature(!0,this.eContainer,this.eSpannedContainer)),this.addManagedEventListeners({leftPinnedWidthChanged:o})}),this.forContainers(Jue,()=>{this.pinnedWidthFeature=this.createOptionalManagedBean(i?.createPinnedWidthFeature(!1,this.eContainer,this.eSpannedContainer)),this.addManagedEventListeners({rightPinnedWidthChanged:o})}),this.forContainers(Yue,()=>this.createManagedBean(new b7(this.eContainer,this.name==="center"?r:void 0))),s&&this.forContainers(ede,()=>this.createManagedBean(s.createDragListenerFeature(this.eContainer))),this.forContainers(Que,()=>this.createManagedBean(new AA(a=>this.comp.setContainerWidth(`${a}px`)))),this.visible=this.isContainerVisible(),this.addListeners(),this.registerWithCtrlsService()}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}addListeners(){const{spannedRowRenderer:e,gos:t}=this.beans,n=this.onDisplayedColumnsChanged.bind(this);this.addManagedEventListeners({displayedColumnsChanged:n,displayedColumnsWidthChanged:n,displayedRowsChanged:r=>this.onDisplayedRowsChanged(r.afterScroll)}),n(),this.onDisplayedRowsChanged(),e&&this.options.getSpannedRowCtrls&&t.get("enableCellSpan")&&this.addManagedListeners(e,{spannedRowsUpdated:()=>{const r=this.options.getSpannedRowCtrls(e);r&&this.comp.setSpannedRowCtrls(r,!1)}})}listenOnDomOrder(){if(Zue.indexOf(this.name)>=0){this.comp.setDomOrder(!0);return}const t=()=>{const n=this.gos.get("ensureDomOrder"),r=Sr(this.gos,"print");this.comp.setDomOrder(n||r)};this.addManagedPropertyListener("domLayout",t),t()}onDisplayedColumnsChanged(){this.forContainers(["center"],()=>this.onHorizontalViewportChanged())}addPreventScrollWhileDragging(){const{dragSvc:e}=this.beans;if(!e)return;const t=n=>{e.dragging&&n.cancelable&&n.preventDefault()};this.eContainer.addEventListener("touchmove",t,{passive:!1}),this.addDestroyFunc(()=>this.eContainer.removeEventListener("touchmove",t))}onHorizontalViewportChanged(e=!1){const t=this.getCenterWidth(),n=this.getCenterViewportScrollLeft();this.beans.colViewport.setScrollPosition(t,n,e)}hasHorizontalScrollGap(){return this.eContainer.clientWidth-this.eViewport.clientWidth<0}hasVerticalScrollGap(){return this.eContainer.clientHeight-this.eViewport.clientHeight<0}getCenterWidth(){return tm(this.eViewport)}getCenterViewportScrollLeft(){return Ow(this.eViewport,this.enableRtl)}registerViewportResizeListener(e){const t=so(this.beans,this.eViewport,e);this.addDestroyFunc(()=>t())}isViewportInTheDOMTree(){return ZG(this.eViewport)}getViewportScrollLeft(){return Ow(this.eViewport,this.enableRtl)}isHorizontalScrollShowing(){return this.gos.get("alwaysShowHorizontalScroll")||aA(this.eViewport)}setHorizontalScroll(e){this.comp.setHorizontalScroll(e)}getHScrollPosition(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}}setCenterViewportScrollLeft(e){Fw(this.eViewport,e,this.enableRtl)}isContainerVisible(){return!(this.options.pinnedType!=null)||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0}onPinnedWidthChanged(){const e=this.isContainerVisible();this.visible!=e&&(this.visible=e,this.onDisplayedRowsChanged())}onDisplayedRowsChanged(e=!1){const t=this.options.getRowCtrls(this.beans.rowRenderer);if(!this.visible||t.length===0){this.comp.setRowCtrls({rowCtrls:this.EMPTY_CTRLS});return}const n=Sr(this.gos,"print"),i=this.gos.get("embedFullWidthRows")||n,s=t.filter(o=>{const a=o.isFullWidth();return this.options.fullWidth?!i&&a:i||!a});this.comp.setRowCtrls({rowCtrls:s,useFlushSync:e})}},D7="ag-force-vertical-scroll",tde="ag-selectable",nde="ag-column-moving",R7=class extends le{constructor(){super(...arguments),this.stickyTopHeight=0,this.stickyBottomHeight=0}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.colModel=e.colModel,this.scrollVisibleSvc=e.scrollVisibleSvc,this.pinnedRowModel=e.pinnedRowModel,this.filterManager=e.filterManager,this.rowGroupColsSvc=e.rowGroupColsSvc}setComp(e,t,n,r,i,s,o){this.comp=e,this.eGridBody=t,this.eBodyViewport=n,this.eTop=r,this.eBottom=i,this.eStickyTop=s,this.eStickyBottom=o,this.eCenterColsViewport=n.querySelector(`.${NA("center")}`),this.eFullWidthContainer=n.querySelector(`.${Ng("fullWidth")}`),this.eStickyTopFullWidthContainer=s.querySelector(`.${Ng("stickyTopFullWidth")}`),this.eStickyBottomFullWidthContainer=o.querySelector(`.${Ng("stickyBottomFullWidth")}`),this.setCellTextSelection(this.gos.get("enableCellTextSelection")),this.addManagedPropertyListener("enableCellTextSelection",a=>this.setCellTextSelection(a.currentValue)),this.createManagedBean(new kA(this.comp)),this.scrollFeature=this.createManagedBean(new Nue(n)),this.beans.rowDragSvc?.setupRowDrag(n,this),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([r,n,i,s,o]),this.setGridRootRole(),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.updateScrollingClasses(),this.filterManager?.setupAdvFilterHeaderComp(r),this.ctrlsSvc.register("gridBodyCtrl",this)}addEventListeners(){const e=this.setFloatingHeights.bind(this),t=this.setGridRootRole.bind(this),n=this.toggleRowResizeStyles.bind(this);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this),scrollGapChanged:this.updateScrollingClasses.bind(this),pinnedRowDataChanged:e,pinnedHeightChanged:e,pinnedRowsChanged:e,headerHeightChanged:this.setStickyTopOffsetTop.bind(this),columnRowGroupChanged:t,columnPivotChanged:t,rowResizeStarted:n,rowResizeEnded:n}),this.addManagedPropertyListener("treeData",t)}toggleRowResizeStyles(e){const t=e.type==="rowResizeStarted";this.eBodyViewport.classList.toggle("ag-prevent-animation",t)}onGridColumnsChanged(){const e=this.beans.colModel.getCols();this.comp.setColumnCount(e.length)}onScrollVisibilityChanged(){const{scrollVisibleSvc:e}=this,t=e.verticalScrollShowing;this.setVerticalScrollPaddingVisible(t),this.setStickyWidth(t),this.setStickyBottomOffsetBottom();const n=t&&e.getScrollbarWidth()||0,r=$V()?16:0,i=`calc(100% + ${n+r}px)`;ul(this.beans,()=>this.comp.setBodyViewportWidth(i)),this.updateScrollingClasses()}setGridRootRole(){const{rowGroupColsSvc:e,colModel:t}=this;let n=this.gos.get("treeData");if(!n){const r=t.isPivotMode();n=(e?e.columns.length:0)>=(r?2:1)}this.comp.setGridRootRole(n?"treegrid":"grid")}addFocusListeners(e){for(const t of e)this.addManagedElementListeners(t,{focusin:n=>{const{target:r}=n,i=Fu(r,"ag-root",t);t.classList.toggle("ag-has-focus",!i)},focusout:n=>{const{target:r,relatedTarget:i}=n,s=t.contains(i),o=Fu(i,"ag-root",t);Fu(r,"ag-root",t)||(!s||o)&&t.classList.remove("ag-has-focus")}})}setColumnMovingCss(e){this.comp.setColumnMovingCss(nde,e)}setCellTextSelection(e=!1){this.comp.setCellSelectableCss(tde,e)}updateScrollingClasses(){const{eGridBody:{classList:e},scrollVisibleSvc:t}=this;e.toggle("ag-body-vertical-content-no-gap",!t.verticalScrollGap),e.toggle("ag-body-horizontal-content-no-gap",!t.horizontalScrollGap)}disableBrowserDragging(){this.addManagedElementListeners(this.eGridBody,{dragstart:e=>{if(e.target instanceof HTMLImageElement)return e.preventDefault(),!1}})}addStopEditingWhenGridLosesFocus(){this.beans.editSvc?.addStopEditingWhenGridLosesFocus([this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop,this.eStickyBottom])}updateRowCount(){const e=(this.ctrlsSvc.getHeaderRowContainerCtrl()?.getRowCount()??0)+(this.filterManager?.getHeaderRowCount()??0),{rowModel:t}=this.beans,n=t.isLastRowIndexKnown()?t.getRowCount():-1,r=n===-1?-1:e+n;this.comp.setRowCount(r)}registerBodyViewportResizeListener(e){this.comp.registerBodyViewportResizeListener(e)}setVerticalScrollPaddingVisible(e){const t=e?"scroll":"hidden";this.comp.setPinnedTopBottomOverflowY(t)}isVerticalScrollShowing(){const e=this.gos.get("alwaysShowVerticalScroll"),t=e?D7:null,n=Sr(this.gos,"normal");return this.comp.setAlwaysVerticalScrollClass(t,e),e||n&&nV(this.eBodyViewport)}setupRowAnimationCssClass(){const{rowContainerHeight:e,environment:t}=this.beans;let n=t.sizesMeasured;const r=()=>{const i=n&&zh(this.gos)&&!e.stretching,s=i?"ag-row-animation":"ag-row-no-animation";this.comp.setRowAnimationCssOnBodyViewport(s,i)};r(),this.addManagedEventListeners({heightScaleChanged:r}),this.addManagedPropertyListener("animateRows",r),this.addManagedEventListeners({gridStylesChanged:()=>{!n&&t.sizesMeasured&&(n=!0,r())}})}addBodyViewportListener(){const{eBodyViewport:e,eStickyTop:t,eStickyBottom:n,eTop:r,eBottom:i,beans:{popupSvc:s,touchSvc:o}}=this,a=this.onBodyViewportContextMenu.bind(this);this.addManagedElementListeners(e,{contextmenu:a}),o?.mockBodyContextMenu(this,a),this.addManagedElementListeners(e,{wheel:this.onBodyViewportWheel.bind(this,s)});const l=this.onStickyWheel.bind(this);for(const d of[t,n,r,i])this.addManagedElementListeners(d,{wheel:l});const c=this.onHorizontalWheel.bind(this);for(const d of["left","right","topLeft","topRight","bottomLeft","bottomRight"])this.addManagedElementListeners(this.ctrlsSvc.get(d).eContainer,{wheel:c});this.addFullWidthContainerWheelListener()}addFullWidthContainerWheelListener(){this.addManagedElementListeners(this.eFullWidthContainer,{wheel:e=>this.onFullWidthContainerWheel(e)})}onFullWidthContainerWheel(e){const{deltaX:t,deltaY:n,shiftKey:r}=e;(r||Math.abs(t)>Math.abs(n))&&nm(this.beans,e)&&this.scrollGridBodyToMatchEvent(e)}onStickyWheel(e){const{deltaY:t}=e;this.scrollVertically(t)>0&&e.preventDefault()}onHorizontalWheel(e){const{deltaX:t,deltaY:n,shiftKey:r}=e;(r||Math.abs(t)>Math.abs(n))&&this.scrollGridBodyToMatchEvent(e)}scrollGridBodyToMatchEvent(e){const{deltaX:t,deltaY:n}=e;e.preventDefault(),this.eCenterColsViewport.scrollBy({left:t||n})}onBodyViewportContextMenu(e,t,n){if(!e&&!n)return;this.gos.get("preventDefaultOnContextMenu")&&(e||n).preventDefault();const{target:r}=e||t;(r===this.eBodyViewport||r===this.ctrlsSvc.get("center").eViewport)&&this.beans.contextMenuSvc?.showContextMenu({mouseEvent:e,touchEvent:n,value:null,anchorToElement:this.eGridBody,source:"ui"})}onBodyViewportWheel(e,t){this.gos.get("suppressScrollWhenPopupsAreOpen")&&e?.hasAnchoredPopup()&&t.preventDefault()}scrollVertically(e){const t=this.eBodyViewport.scrollTop;return this.scrollFeature.setVerticalScrollPosition(t+e),this.eBodyViewport.scrollTop-t}setFloatingHeights(){const{pinnedRowModel:e,beans:{environment:t}}=this,n=e?.getPinnedTopTotalHeight(),r=e?.getPinnedBottomTotalHeight(),i=t.getPinnedRowBorderWidth(),s=t.getRowBorderWidth(),o=i-s,a=n?o+n:0,l=r?o+r:0;this.comp.setTopHeight(a),this.comp.setBottomHeight(l),this.comp.setTopInvisible(a<=0),this.comp.setBottomInvisible(l<=0),this.setStickyTopOffsetTop(),this.setStickyBottomOffsetBottom()}setStickyTopHeight(e=0){this.comp.setStickyTopHeight(`${e}px`),this.stickyTopHeight=e}setStickyBottomHeight(e=0){this.comp.setStickyBottomHeight(`${e}px`),this.stickyBottomHeight=e}setStickyWidth(e){if(!e)this.comp.setStickyTopWidth("100%"),this.comp.setStickyBottomWidth("100%");else{const t=this.scrollVisibleSvc.getScrollbarWidth();this.comp.setStickyTopWidth(`calc(100% - ${t}px)`),this.comp.setStickyBottomWidth(`calc(100% - ${t}px)`)}}setStickyTopOffsetTop(){const t=this.ctrlsSvc.get("gridHeaderCtrl").headerHeight+(this.filterManager?.getHeaderHeight()??0),n=this.pinnedRowModel?.getPinnedTopTotalHeight()??0;let r=0;t>0&&(r+=t),n>0&&(r+=n),r>0&&(r+=1),this.comp.setStickyTopTop(`${r}px`)}setStickyBottomOffsetBottom(){const{pinnedRowModel:e,scrollVisibleSvc:t,comp:n}=this,r=e?.getPinnedBottomTotalHeight()??0,s=t.horizontalScrollShowing&&t.getScrollbarWidth()||0,o=r+s;n.setStickyBottomBottom(`${o}px`)}};function rde(e,t){return PA(e,t.target)?.getFocusedCellPosition()??null}function K4(e,t){const n=Sr(e.gos,"normal"),r=t;let i,s;r.clientX!=null||r.clientY!=null?(i=r.clientX,s=r.clientY):(i=r.x,s=r.y);const{pageFirstPixel:o}=e.pageBounds.getCurrentPagePixelRange();if(s+=o,n){const a=e.ctrlsSvc.getScrollFeature(),l=a.getVScrollPosition(),c=a.getHScrollPosition();i+=c.left,s+=l.top}return{x:i,y:s}}var M7=class extends yt{constructor(e,t){super(),this.direction=t,this.eViewport=Ee,this.eContainer=Ee,this.hideTimeout=0,this.setTemplate(e)}postConstruct(){this.addManagedEventListeners({scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this)}),this.onScrollVisibilityChanged(),this.toggleCss("ag-apple-scrollbar",WV()||ju())}destroy(){super.destroy(),window.clearTimeout(this.hideTimeout)}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.invisibleScrollbar=$V(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))}addActiveListenerToggles(){const e=this.getGui(),t=()=>this.toggleCss("ag-scrollbar-active",!0),n=()=>this.toggleCss("ag-scrollbar-active",!1);this.addManagedListeners(e,{mouseenter:t,mousedown:t,touchstart:t,mouseleave:n,touchend:n})}onScrollVisibilityChanged(){this.invisibleScrollbar===void 0&&this.initialiseInvisibleScrollbar(),ul(this.beans,()=>this.setScrollVisible())}hideAndShowInvisibleScrollAsNeeded(){this.addManagedEventListeners({bodyScroll:e=>{e.direction===this.direction&&(this.hideTimeout&&(window.clearTimeout(this.hideTimeout),this.hideTimeout=0),this.toggleCss("ag-scrollbar-scrolling",!0))},bodyScrollEnd:()=>{this.hideTimeout=window.setTimeout(()=>{this.toggleCss("ag-scrollbar-scrolling",!1),this.hideTimeout=0},400)}})}attemptSettingScrollPosition(e){const t=this.eViewport;lae(this,()=>qo(t),()=>this.setScrollPosition(e),100)}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}},ide={tag:"div",cls:"ag-body-horizontal-scroll",attrs:{"aria-hidden":"true"},children:[{tag:"div",ref:"eLeftSpacer",cls:"ag-horizontal-left-spacer"},{tag:"div",ref:"eViewport",cls:"ag-body-horizontal-scroll-viewport",children:[{tag:"div",ref:"eContainer",cls:"ag-body-horizontal-scroll-container"}]},{tag:"div",ref:"eRightSpacer",cls:"ag-horizontal-right-spacer"}]},T7=class extends M7{constructor(){super(ide,"horizontal"),this.eLeftSpacer=Ee,this.eRightSpacer=Ee,this.setScrollVisibleDebounce=0}wireBeans(e){this.visibleCols=e.visibleCols,this.scrollVisibleSvc=e.scrollVisibleSvc}postConstruct(){super.postConstruct();const e=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e,pinnedRowDataChanged:this.refreshCompBottom.bind(this)}),this.addManagedPropertyListener("domLayout",e),this.beans.ctrlsSvc.register("fakeHScrollComp",this),this.createManagedBean(new AA(t=>this.eContainer.style.width=`${t}px`)),this.addManagedPropertyListeners(["suppressHorizontalScroll"],this.onScrollVisibilityChanged.bind(this))}destroy(){window.clearTimeout(this.setScrollVisibleDebounce),super.destroy()}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.enableRtl=this.gos.get("enableRtl"),super.initialiseInvisibleScrollbar(),this.invisibleScrollbar&&this.refreshCompBottom())}refreshCompBottom(){if(!this.invisibleScrollbar)return;const e=this.beans.pinnedRowModel?.getPinnedBottomTotalHeight()??0;this.getGui().style.bottom=`${e}px`}onScrollVisibilityChanged(){super.onScrollVisibilityChanged(),this.setFakeHScrollSpacerWidths()}setFakeHScrollSpacerWidths(){const e=this.scrollVisibleSvc.verticalScrollShowing;let t=this.visibleCols.getDisplayedColumnsRightWidth();const n=!this.enableRtl&&e,r=this.scrollVisibleSvc.getScrollbarWidth();n&&(t+=r),No(this.eRightSpacer,t),this.eRightSpacer.classList.toggle("ag-scroller-corner",t<=r);let i=this.visibleCols.getColsLeftWidth();this.enableRtl&&e&&(i+=r),No(this.eLeftSpacer,i),this.eLeftSpacer.classList.toggle("ag-scroller-corner",i<=r)}setScrollVisible(){const e=this.scrollVisibleSvc.horizontalScrollShowing,t=this.invisibleScrollbar,n=this.gos.get("suppressHorizontalScroll"),r=e&&this.scrollVisibleSvc.getScrollbarWidth()||0,s=n?0:r===0&&t?16:r,o=()=>{this.setScrollVisibleDebounce=0,this.toggleCss("ag-scrollbar-invisible",t),kg(this.getGui(),s),kg(this.eViewport,s),kg(this.eContainer,s),s||this.eContainer.style.setProperty("min-height","1px"),this.setVisible(e,{skipAriaHidden:!0})};window.clearTimeout(this.setScrollVisibleDebounce),e?this.setScrollVisibleDebounce=window.setTimeout(o,100):o()}getScrollPosition(){return Ow(this.eViewport,this.enableRtl)}setScrollPosition(e){qo(this.eViewport)||this.attemptSettingScrollPosition(e),Fw(this.eViewport,e,this.enableRtl)}},sde={selector:"AG-FAKE-HORIZONTAL-SCROLL",component:T7},ode={tag:"div",cls:"ag-body-vertical-scroll",attrs:{"aria-hidden":"true"},children:[{tag:"div",ref:"eViewport",cls:"ag-body-vertical-scroll-viewport",children:[{tag:"div",ref:"eContainer",cls:"ag-body-vertical-scroll-container"}]}]},k7=class extends M7{constructor(){super(ode,"vertical")}postConstruct(){super.postConstruct(),this.createManagedBean(new b7(this.eContainer));const{ctrlsSvc:e}=this.beans;e.register("fakeVScrollComp",this),this.addManagedEventListeners({rowContainerHeightChanged:this.onRowContainerHeightChanged.bind(this,e)})}setScrollVisible(){const{scrollVisibleSvc:e}=this.beans,t=e.verticalScrollShowing,n=this.invisibleScrollbar,r=t&&e.getScrollbarWidth()||0,i=r===0&&n?16:r;this.toggleCss("ag-scrollbar-invisible",n),No(this.getGui(),i),No(this.eViewport,i),No(this.eContainer,i),this.setDisplayed(t,{skipAriaHidden:!0})}onRowContainerHeightChanged(e){const n=e.getGridBodyCtrl().eBodyViewport,r=this.getScrollPosition(),i=n.scrollTop;r!=i&&this.setScrollPosition(i,!0)}getScrollPosition(){return this.eViewport.scrollTop}setScrollPosition(e,t){!t&&!qo(this.eViewport)&&this.attemptSettingScrollPosition(e),this.eViewport.scrollTop=e}},ade={selector:"AG-FAKE-VERTICAL-SCROLL",component:k7},lde="ag-column-first",cde="ag-column-last";function A7(e,t,n,r){return Kt(e)?[]:dde(e.headerClass,e,t,n,r)}function P7(e,t,n){e.toggleCss(lde,n.isColAtEdge(t,"first")),e.toggleCss(cde,n.isColAtEdge(t,"last"))}function ude(e,t,n,r){return _e(t,{colDef:e,column:n,columnGroup:r})}function dde(e,t,n,r,i){if(Kt(e))return[];let s;if(typeof e=="function"){const o=ude(t,n,r,i);s=e(o)}else s=e;return typeof s=="string"?[s]:Array.isArray(s)?[...s]:[]}function hde(e,t,n){t.addManagedElementListeners(n,{keydown:r=>{if(!r.defaultPrevented&&r.key===re.TAB){const i=r.shiftKey;bd(e,n,!1,i)||af(e,i)&&r.preventDefault()}}})}function fde(e,t){return e.ctrlsSvc.get("gridCtrl").focusInnerElement(t)}function Bu(e){return e.gos.get("suppressHeaderFocus")||!!e.overlays?.isExclusive()}function gx(e){return e.gos.get("suppressCellFocus")||!!e.overlays?.isExclusive()}function af(e,t,n=!1){const r=e.ctrlsSvc.get("gridCtrl");return!n&&r.focusNextInnerContainer(t)?!0:((n||!t&&!r.isDetailGrid())&&r.forceFocusOutOfContainer(t),!1)}function To(e){return e.ctrlsSvc.getHeaderRowContainerCtrl()?.getRowCount()??0}function OA(e){const t=[],n=e.ctrlsSvc.getHeaderRowContainerCtrls();for(const r of n){if(!r)continue;const i=r.getGroupRowCount()||0;for(let s=0;s<i;s++){const o=r.getGroupRowCtrlAtIndex(s),a=t[s];if(o){const l=pde(e,o);(a==null||l>a)&&(t[s]=l)}}}return t}function pde(e,t){let r=e.colModel.isPivotMode()?mde(e):O7(e);const i=t.getHeaderCellCtrls();for(const s of i){const{column:o}=s,a=o.getAutoHeaderHeight();a!=null&&a>r&&o.isAutoHeaderHeight()&&(r=a)}return r}function FA(e){let n=e.colModel.isPivotMode()?gde(e):Zm(e);return e.colModel.forAllCols(r=>{const i=r.getAutoHeaderHeight();i!=null&&i>n&&r.isAutoHeaderHeight()&&(n=i)}),n}function Zm(e){return e.gos.get("headerHeight")??e.environment.getDefaultHeaderHeight()}function N7(e){return e.gos.get("floatingFiltersHeight")??Zm(e)}function O7(e){return e.gos.get("groupHeaderHeight")??Zm(e)}function gde(e){return e.gos.get("pivotHeaderHeight")??Zm(e)}function mde(e){return e.gos.get("pivotGroupHeaderHeight")??O7(e)}function vde(e,t){return e.headerRowIndex===t.headerRowIndex&&e.column===t.column}var F7=class extends le{setComp(e,t,n){this.comp=e,this.eGui=t;const{beans:r}=this,{headerNavigation:i,touchSvc:s,ctrlsSvc:o}=r;i&&this.createManagedBean(new zf(n,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedEventListeners({columnPivotModeChanged:this.onPivotModeChanged.bind(this,r),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this,r)}),this.onPivotModeChanged(r),this.setupHeaderHeight();const a=this.onHeaderContextMenu.bind(this);this.addManagedElementListeners(this.eGui,{contextmenu:a}),s?.mockHeaderContextMenu(this,a),o.register("gridHeaderCtrl",this)}setupHeaderHeight(){const e=this.setHeaderHeight.bind(this);e(),this.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],e),this.addManagedEventListeners({headerRowsChanged:e,columnHeaderHeightChanged:e,columnGroupHeaderHeightChanged:()=>ul(this.beans,()=>e()),gridStylesChanged:e,advancedFilterEnabledChanged:e})}setHeaderHeight(){const{beans:e}=this;let t=0;const n=OA(e).reduce((s,o)=>s+o,0),r=FA(e);if(e.filterManager?.hasFloatingFilters()&&(t+=N7(e)),t+=n,t+=r,this.headerHeight===t)return;this.headerHeight=t;const i=`${t+1}px`;this.comp.setHeightAndMinHeight(i),this.eventSvc.dispatchEvent({type:"headerHeightChanged"})}onPivotModeChanged(e){const t=e.colModel.isPivotMode();this.comp.toggleCss("ag-pivot-on",t),this.comp.toggleCss("ag-pivot-off",!t)}onDisplayedColumnsChanged(e){const n=e.visibleCols.allCols.some(r=>r.isSpanHeaderHeight());this.comp.toggleCss("ag-header-allow-overflow",n)}onTabKeyDown(e){const t=this.gos.get("enableRtl"),n=e.shiftKey,r=n!==t?"LEFT":"RIGHT",{beans:i}=this,{headerNavigation:s,focusSvc:o}=i;(s.navigateHorizontally(r,!0,e)||!n&&o.focusOverlay(!1)||af(i,n,!0))&&e.preventDefault()}handleKeyDown(e){let t=null;const{headerNavigation:n}=this.beans;switch(e.key){case re.LEFT:t="LEFT";case re.RIGHT:{De(t)||(t="RIGHT"),n.navigateHorizontally(t,!1,e)&&e.preventDefault();break}case re.UP:t="UP";case re.DOWN:{De(t)||(t="DOWN"),n.navigateVertically(t,e)&&e.preventDefault();break}default:return}}onFocusOut(e){const{relatedTarget:t}=e,{eGui:n,beans:r}=this;!t&&n.contains(sn(r))||n.contains(t)||(r.focusSvc.focusedHeader=null)}onHeaderContextMenu(e,t,n){const{menuSvc:r,ctrlsSvc:i}=this.beans;if(!e&&!n||!r?.isHeaderContextMenuEnabled())return;const{target:s}=e??t;(s===this.eGui||s===i.getHeaderRowContainerCtrl()?.eViewport)&&r.showHeaderContextMenu(void 0,e,n)}},IA=class extends yt{constructor(e,t){super(e),this.ctrl=t}getCtrl(){return this.ctrl}},yde={tag:"div",cls:"ag-header-cell",role:"columnheader",children:[{tag:"div",ref:"eResize",cls:"ag-header-cell-resize",role:"presentation"},{tag:"div",ref:"eHeaderCompWrapper",cls:"ag-header-cell-comp-wrapper",role:"presentation"}]},wde=class extends IA{constructor(t){super(yde,t),this.eResize=Ee,this.eHeaderCompWrapper=Ee,this.headerCompVersion=0}postConstruct(){const t=this.getGui(),n=()=>{const i=this.ctrl.getSelectAllGui();i&&(this.eResize.insertAdjacentElement("afterend",i),this.addDestroyFunc(()=>i.remove()))},r={setWidth:i=>t.style.width=i,toggleCss:(i,s)=>this.toggleCss(i,s),setUserStyles:i=>Ym(t,i),setAriaSort:i=>i?qG(t,i):KG(t),setUserCompDetails:i=>this.setUserCompDetails(i),getUserCompInstance:()=>this.headerComp,refreshSelectAllGui:n,removeSelectAllGui:()=>this.ctrl.getSelectAllGui()?.remove()};this.ctrl.setComp(r,this.getGui(),this.eResize,this.eHeaderCompWrapper,void 0),n()}destroy(){this.destroyHeaderComp(),super.destroy()}destroyHeaderComp(){this.headerComp&&(this.headerCompGui?.remove(),this.headerComp=this.destroyBean(this.headerComp),this.headerCompGui=void 0)}setUserCompDetails(t){this.headerCompVersion++;const n=this.headerCompVersion;t.newAgStackInstance().then(r=>this.afterCompCreated(n,r))}afterCompCreated(t,n){if(t!=this.headerCompVersion||!this.isAlive()){this.destroyBean(n);return}this.destroyHeaderComp(),this.headerComp=n,this.headerCompGui=n.getGui(),this.eHeaderCompWrapper.appendChild(this.headerCompGui),this.ctrl.setDragSource(this.getGui())}},bde={tag:"div",cls:"ag-header-group-cell",role:"columnheader",children:[{tag:"div",ref:"eHeaderCompWrapper",cls:"ag-header-cell-comp-wrapper",role:"presentation"},{tag:"div",ref:"eResize",cls:"ag-header-cell-resize",role:"presentation"}]},Cde=class extends IA{constructor(t){super(bde,t),this.eResize=Ee,this.eHeaderCompWrapper=Ee}postConstruct(){const t=this.getGui(),n=(i,s)=>s!=null?t.setAttribute(i,s):t.removeAttribute(i),r={toggleCss:(i,s)=>this.toggleCss(i,s),setUserStyles:i=>Ym(t,i),setHeaderWrapperHidden:i=>{i?this.eHeaderCompWrapper.style.setProperty("display","none"):this.eHeaderCompWrapper.style.removeProperty("display")},setHeaderWrapperMaxHeight:i=>{i!=null?this.eHeaderCompWrapper.style.setProperty("max-height",`${i}px`):this.eHeaderCompWrapper.style.removeProperty("max-height"),this.eHeaderCompWrapper.classList.toggle("ag-header-cell-comp-wrapper-limited-height",i!=null)},setResizableDisplayed:i=>Wt(this.eResize,i),setWidth:i=>t.style.width=i,setAriaExpanded:i=>n("aria-expanded",i),setUserCompDetails:i=>this.setUserCompDetails(i),getUserCompInstance:()=>this.headerGroupComp};this.ctrl.setComp(r,t,this.eResize,this.eHeaderCompWrapper,void 0)}setUserCompDetails(t){t.newAgStackInstance().then(n=>this.afterHeaderCompCreated(n))}afterHeaderCompCreated(t){const n=()=>this.destroyBean(t);if(!this.isAlive()){n();return}const r=this.getGui(),i=t.getGui();this.eHeaderCompWrapper.appendChild(i),this.addDestroyFunc(n),this.headerGroupComp=t,this.ctrl.setDragSource(r)}},xde={tag:"div",cls:"ag-header-cell ag-floating-filter",role:"gridcell",children:[{tag:"div",ref:"eFloatingFilterBody",role:"presentation"},{tag:"div",ref:"eButtonWrapper",cls:"ag-floating-filter-button ag-hidden",role:"presentation",children:[{tag:"button",ref:"eButtonShowMainFilter",cls:"ag-button ag-floating-filter-button-button",attrs:{type:"button",tabindex:"-1"}}]}]},Sde=class extends IA{constructor(t){super(xde,t),this.eFloatingFilterBody=Ee,this.eButtonWrapper=Ee,this.eButtonShowMainFilter=Ee}postConstruct(){const t=this.getGui(),n={toggleCss:(r,i)=>this.toggleCss(r,i),setUserStyles:r=>Ym(t,r),addOrRemoveBodyCssClass:(r,i)=>this.eFloatingFilterBody.classList.toggle(r,i),setButtonWrapperDisplayed:r=>Wt(this.eButtonWrapper,r),setCompDetails:r=>this.setCompDetails(r),getFloatingFilterComp:()=>this.compPromise,setWidth:r=>t.style.width=r,setMenuIcon:r=>this.eButtonShowMainFilter.appendChild(r)};this.ctrl.setComp(n,t,this.eButtonShowMainFilter,this.eFloatingFilterBody,void 0)}setCompDetails(t){if(!t){this.destroyFloatingFilterComp(),this.compPromise=null;return}this.compPromise=t.newAgStackInstance(),this.compPromise.then(n=>this.afterCompCreated(n))}destroy(){this.destroyFloatingFilterComp(),super.destroy()}destroyFloatingFilterComp(){this.floatingFilterComp&&(this.floatingFilterComp.getGui().remove(),this.floatingFilterComp=this.destroyBean(this.floatingFilterComp))}afterCompCreated(t){if(t){if(!this.isAlive()){this.destroyBean(t);return}this.destroyFloatingFilterComp(),this.floatingFilterComp=t,this.eFloatingFilterBody.appendChild(t.getGui()),t.afterGuiAttached&&t.afterGuiAttached()}}},Ede=class extends yt{constructor(t){super({tag:"div",cls:t.headerRowClass,role:"row"}),this.ctrl=t,this.headerComps={}}postConstruct(){this.getGui().setAttribute("tabindex",String(this.gos.get("tabIndex"))),Pw(this.getGui(),this.ctrl.getAriaRowIndex());const n={setHeight:r=>this.getGui().style.height=r,setTop:r=>this.getGui().style.top=r,setHeaderCtrls:(r,i)=>this.setHeaderCtrls(r,i),setWidth:r=>this.getGui().style.width=r,setRowIndex:r=>Pw(this.getGui(),r)};this.ctrl.setComp(n,void 0)}destroy(){this.setHeaderCtrls([],!1),super.destroy()}setHeaderCtrls(t,n){if(!this.isAlive())return;const r=this.headerComps;this.headerComps={};for(const i of t){const s=i.instanceId;let o=r[s];delete r[s],o==null&&(o=this.createHeaderComp(i),this.getGui().appendChild(o.getGui())),this.headerComps[s]=o}if(Object.values(r).forEach(i=>{i.getGui().remove(),this.destroyBean(i)}),n){const i=Object.values(this.headerComps);i.sort((o,a)=>{const l=o.getCtrl().column.getLeft(),c=a.getCtrl().column.getLeft();return l-c});const s=i.map(o=>o.getGui());tV(this.getGui(),s)}}createHeaderComp(t){let n;switch(this.ctrl.type){case"group":n=new Cde(t);break;case"filter":n=new Sde(t);break;default:n=new wde(t);break}return this.createBean(n),n.setParentComponent(this),n}},LA=class extends le{constructor(e,t,n,r){super(),this.columnOrGroup=e,this.eCell=t,this.colsSpanning=r,this.columnOrGroup=e,this.ariaEl=t.querySelector("[role=columnheader]")||t,this.beans=n}setColsSpanning(e){this.colsSpanning=e,this.onLeftChanged()}getColumnOrGroup(){const{beans:e,colsSpanning:t}=this;return e.gos.get("enableRtl")&&t?Ft(t):this.columnOrGroup}postConstruct(){const e=this.onLeftChanged.bind(this);this.addManagedListeners(this.columnOrGroup,{leftChanged:e}),this.setLeftFirstTime(),this.addManagedEventListeners({displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}setLeftFirstTime(){const{gos:e,colAnimation:t}=this.beans,n=e.get("suppressColumnMoveAnimation"),r=De(this.columnOrGroup.getOldLeft());t?.isActive()&&r&&!n?this.animateInLeft():this.onLeftChanged()}animateInLeft(){const e=this.getColumnOrGroup(),t=this.modifyLeftForPrintLayout(e,e.getOldLeft()),n=this.modifyLeftForPrintLayout(e,e.getLeft());this.setLeft(t),this.actualLeft=n,this.beans.colAnimation.executeNextVMTurn(()=>{this.actualLeft===n&&this.setLeft(n)})}onLeftChanged(){const e=this.getColumnOrGroup(),t=e.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(e,t),this.setLeft(this.actualLeft)}modifyLeftForPrintLayout(e,t){const{gos:n,visibleCols:r}=this.beans;if(!Sr(n,"print")||e.getPinned()==="left")return t;const s=r.getColsLeftWidth();if(e.getPinned()==="right"){const o=r.bodyWidth;return s+o+t}return s+t}setLeft(e){if(De(e)&&(this.eCell.style.left=`${e}px`),Mn(this.columnOrGroup)){const t=this.columnOrGroup.getLeafColumns();if(!t.length)return;t.length>1&&zoe(this.ariaEl,t.length)}}},Dde=0,I7="headerCtrl",_A=class extends le{constructor(e,t){super(),this.column=e,this.rowCtrl=t,this.resizeToggleTimeout=0,this.resizeMultiplier=1,this.resizeFeature=null,this.lastFocusEvent=null,this.dragSource=null,this.reAttemptToFocus=!1,this.instanceId=e.getUniqueId()+"-"+Dde++}postConstruct(){const e=this.refreshTabIndex.bind(this);this.addManagedPropertyListeners(["suppressHeaderFocus"],e),this.addManagedEventListeners({overlayExclusiveChanged:e})}setComp(e,t,n,r,i){t.setAttribute("col-id",this.column.colIdSanitised),this.wireComp(e,t,n,r,i),this.reAttemptToFocus&&(this.reAttemptToFocus=!1,this.focus(this.lastFocusEvent??void 0))}shouldStopEventPropagation(e){const{headerRowIndex:t,column:n}=this.beans.focusSvc.focusedHeader,r=n.getDefinition(),i=r?.suppressHeaderKeyboardEvent;if(!De(i))return!1;const s=_e(this.gos,{colDef:r,column:n,headerRowIndex:t,event:e});return!!i(s)}getWrapperHasFocus(){return sn(this.beans)===this.eGui}setGui(e,t){this.eGui=e,this.addDomData(t),t.addManagedListeners(this.beans.eventSvc,{displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this)}),t.addManagedElementListeners(this.eGui,{focus:this.onGuiFocus.bind(this)}),this.onDisplayedColumnsChanged(),this.refreshTabIndex()}refreshHeaderStyles(){const e=this.column.getDefinition();if(!e)return;const{headerStyle:t}=e;let n;if(typeof t=="function"){const r=this.getHeaderClassParams();n=t(r)}else n=t;n&&this.comp.setUserStyles(n)}onGuiFocus(){this.eventSvc.dispatchEvent({type:"headerFocused",column:this.column})}setupAutoHeight(e){const{wrapperElement:t,checkMeasuringCallback:n,compBean:r}=e,{beans:i}=this,s=f=>{if(!this.isAlive()||!r.isAlive())return;const{paddingTop:p,paddingBottom:v,borderBottomWidth:y,borderTopWidth:b}=yd(this.eGui),x=p+v+y+b,M=t.offsetHeight+x;if(f<5){const T=!Wn(i)?.contains(t),k=M==0;if(T||k){R2(()=>s(f+1),"raf",i);return}}this.setColHeaderHeight(this.column,M)};let o=!1,a;const l=()=>{const f=this.column.isAutoHeaderHeight();f&&!o&&c(),!f&&o&&d()},c=()=>{o=!0,this.comp.toggleCss("ag-header-cell-auto-height",!0),s(0),a=so(this.beans,t,()=>s(0))},d=()=>{o=!1,a&&a(),this.comp.toggleCss("ag-header-cell-auto-height",!1),a=void 0};l(),r.addDestroyFunc(()=>d()),r.addManagedListeners(this.column,{widthChanged:()=>o&&s(0)}),r.addManagedEventListeners({sortChanged:()=>{o&&window.setTimeout(()=>s(0))}}),n&&n(l)}onDisplayedColumnsChanged(){const{comp:e,column:t,beans:n,eGui:r}=this;!e||!t||!r||(P7(e,t,n.visibleCols),$G(r,n.visibleCols.getAriaColIndex(t)))}addResizeAndMoveKeyboardListeners(e){e.addManagedListeners(this.eGui,{keydown:this.onGuiKeyDown.bind(this),keyup:this.onGuiKeyUp.bind(this)})}refreshTabIndex(){const e=Bu(this.beans);this.eGui&&Wi(this.eGui,"tabindex",e?null:"-1")}onGuiKeyDown(e){const t=sn(this.beans),n=e.key===re.LEFT||e.key===re.RIGHT;if(this.isResizing&&(e.preventDefault(),e.stopImmediatePropagation()),t!==this.eGui||!e.shiftKey&&!e.altKey||((this.isResizing||n)&&(e.preventDefault(),e.stopImmediatePropagation()),!n))return;const i=e.key===re.LEFT!==this.gos.get("enableRtl")?"left":"right";if(e.altKey){this.isResizing=!0,this.resizeMultiplier+=1;const s=this.getViewportAdjustedResizeDiff(e);this.resizeHeader(s,e.shiftKey),this.resizeFeature?.toggleColumnResizing(!0)}else this.moveHeader(i)}moveHeader(e){this.beans.colMoves?.moveHeader(e,this.eGui,this.column,this.rowCtrl.pinned,this)}getViewportAdjustedResizeDiff(e){const t=this.getResizeDiff(e),{pinnedCols:n}=this.beans;return n?n.getHeaderResizeDiff(t,this.column):t}getResizeDiff(e){const{gos:t,column:n}=this;let r=e.key===re.LEFT!==t.get("enableRtl");const i=n.getPinned(),s=t.get("enableRtl");return i&&s!==(i==="right")&&(r=!r),(r?-1:1)*this.resizeMultiplier}onGuiKeyUp(){this.isResizing&&(this.resizeToggleTimeout&&(window.clearTimeout(this.resizeToggleTimeout),this.resizeToggleTimeout=0),this.isResizing=!1,this.resizeMultiplier=1,this.resizeToggleTimeout=window.setTimeout(()=>{this.resizeFeature?.toggleColumnResizing(!1)},150))}handleKeyDown(e){const t=this.getWrapperHasFocus();switch(e.key){case re.PAGE_DOWN:case re.PAGE_UP:case re.PAGE_HOME:case re.PAGE_END:t&&e.preventDefault()}}addDomData(e){const t=I7,{eGui:n,gos:r}=this;td(r,n,t,this),e.addDestroyFunc(()=>td(r,n,t,null))}focus(e){if(!this.isAlive())return!1;const{eGui:t}=this;return t?(t.focus(),this.lastFocusEvent=e||null):this.reAttemptToFocus=!0,!0}focusThis(){this.beans.focusSvc.focusedHeader={headerRowIndex:this.rowCtrl.rowIndex,column:this.column}}removeDragSource(){this.dragSource&&(this.beans.dragAndDrop?.removeDragSource(this.dragSource),this.dragSource=null)}handleContextMenuMouseEvent(e,t,n){const r=e??t,{menuSvc:i,gos:s}=this.beans;s.get("preventDefaultOnContextMenu")&&r.preventDefault(),i?.isHeaderContextMenuEnabled(n)&&i.showHeaderContextMenu(n,e,t),this.dispatchColumnMouseEvent("columnHeaderContextMenu",n)}dispatchColumnMouseEvent(e,t){this.eventSvc.dispatchEvent({type:e,column:t})}setColHeaderHeight(e,t){if(!e.setAutoHeaderHeight(t))return;const{eventSvc:n}=this;e.isColumn?n.dispatchEvent({type:"columnHeaderHeightChanged",column:e,columns:[e],source:"autosizeColumnHeaderHeight"}):n.dispatchEvent({type:"columnGroupHeaderHeightChanged",columnGroup:e,source:"autosizeColumnGroupHeaderHeight"})}clearComponent(){this.removeDragSource(),this.resizeFeature=null,this.comp=null,this.eGui=null}destroy(){super.destroy(),this.column=null,this.lastFocusEvent=null,this.rowCtrl=null}},Rde=class extends _A{constructor(){super(...arguments),this.refreshFunctions={},this.userHeaderClasses=new Set,this.ariaDescriptionProperties=new Map}wireComp(e,t,n,r,i){this.comp=e;const{rowCtrl:s,column:o,beans:a}=this,{colResize:l,context:c,colHover:d,rangeSvc:f}=a,p=Xm(this,c,i);this.setGui(t,p),this.updateState(),this.setupWidth(p),this.setupMovingCss(p),this.setupMenuClass(p),this.setupSortableClass(p),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight({wrapperElement:r,checkMeasuringCallback:y=>this.setRefreshFunction("measuring",y),compBean:p}),this.addColumnHoverListener(p),this.setupFilterClass(p),this.setupStylesFromColDef(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(p),this.setupSelectAll(p),this.setupUserComp(),this.refreshAria(),l?this.resizeFeature=p.createManagedBean(l.createResizeFeature(s.pinned,o,n,e,this)):Wt(n,!1),d?.createHoverFeature(p,[o],t),f?.createRangeHighlightFeature(p,o,e),p.createManagedBean(new LA(o,t,a)),p.createManagedBean(new zf(t,{shouldStopEventPropagation:y=>this.shouldStopEventPropagation(y),onTabKeyDown:()=>null,handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addResizeAndMoveKeyboardListeners(p),p.addManagedPropertyListeners(["suppressMovableColumns","suppressMenuHide","suppressAggFuncInHeader","enableAdvancedFilter"],()=>this.refresh()),p.addManagedListeners(o,{colDefChanged:()=>this.refresh()}),p.addManagedListeners(o,{headerHighlightChanged:this.onHeaderHighlightChanged.bind(this)});const v=()=>this.checkDisplayName();p.addManagedEventListeners({columnValueChanged:v,columnRowGroupChanged:v,columnPivotChanged:v,headerHeightChanged:this.onHeaderHeightChanged.bind(this)}),p.addDestroyFunc(()=>{this.refreshFunctions={},this.selectAllFeature=null,this.dragSourceElement=void 0,this.userCompDetails=null,this.userHeaderClasses.clear(),this.ariaDescriptionProperties.clear(),this.clearComponent()})}resizeHeader(e,t){this.beans.colResize?.resizeHeader(this.column,e,t)}getHeaderClassParams(){const{column:e,beans:t}=this,n=e.colDef;return _e(t.gos,{colDef:n,column:e,floatingFilter:!1})}setupUserComp(){const e=this.lookupUserCompDetails();e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setUserCompDetails(e)}lookupUserCompDetails(){const e=this.createParams(),t=this.column.getColDef();return Ile(this.beans.userCompFactory,t,e)}createParams(){const{menuSvc:e,sortSvc:t,colFilter:n,gos:r}=this.beans;return _e(r,{column:this.column,displayName:this.displayName,enableSorting:this.column.isSortable(),enableMenu:this.menuEnabled,enableFilterButton:this.openFilterEnabled&&!!e?.isHeaderFilterButtonEnabled(this.column),enableFilterIcon:!!n&&(!this.openFilterEnabled||Ui(this.gos)),showColumnMenu:(s,o)=>{e?.showColumnMenu({column:this.column,buttonElement:s,positionBy:"button",onClosedCallback:o})},showColumnMenuAfterMouseClick:(s,o)=>{e?.showColumnMenu({column:this.column,mouseEvent:s,positionBy:"mouse",onClosedCallback:o})},showFilter:s=>{e?.showFilterMenu({column:this.column,buttonElement:s,containerType:"columnFilter",positionBy:"button"})},progressSort:s=>{t?.progressSort(this.column,!!s,"uiColumnSorted")},setSort:(s,o)=>{t?.setSortForColumn(this.column,s,!!o,"uiColumnSorted")},eGridHeader:this.eGui,setTooltip:(s,o)=>{r.assertModuleRegistered("Tooltip",3),this.setupTooltip(s,o)}})}setupSelectAll(e){const{selectionSvc:t}=this.beans;t&&(this.selectAllFeature=e.createOptionalManagedBean(t.createSelectAllFeature(this.column)),this.selectAllFeature?.setComp(this),e.addManagedPropertyListener("rowSelection",()=>{const n=t.createSelectAllFeature(this.column);n&&!this.selectAllFeature?(this.selectAllFeature=e.createManagedBean(n),this.selectAllFeature?.setComp(this),this.comp.refreshSelectAllGui()):this.selectAllFeature&&!n&&(this.comp.removeSelectAllGui(),this.selectAllFeature=this.destroyBean(this.selectAllFeature))}))}getSelectAllGui(){return this.selectAllFeature?.getCheckboxGui()}handleKeyDown(e){super.handleKeyDown(e),e.key===re.SPACE&&this.selectAllFeature?.onSpaceKeyDown(e),e.key===re.ENTER&&this.onEnterKeyDown(e),e.key===re.DOWN&&e.altKey&&this.showMenuOnKeyPress(e,!1)}onEnterKeyDown(e){e.ctrlKey||e.metaKey?this.showMenuOnKeyPress(e,!0):this.sortable&&this.beans.sortSvc?.progressSort(this.column,e.shiftKey,"uiColumnSorted")}showMenuOnKeyPress(e,t){const n=this.comp.getUserCompInstance();Y4(n)&&n.onMenuKeyboardShortcut(t)&&e.preventDefault()}onFocusIn(e){this.eGui.contains(e.relatedTarget)||(this.focusThis(),this.announceAriaDescription()),sce()&&this.setActiveHeader(!0)}onFocusOut(e){this.eGui.contains(e.relatedTarget)||this.setActiveHeader(!1)}setupTooltip(e,t){this.tooltipFeature=this.beans.tooltipSvc?.setupHeaderTooltip(this.tooltipFeature,this,e,t)}setupStylesFromColDef(){this.setRefreshFunction("headerStyles",this.refreshHeaderStyles.bind(this)),this.refreshHeaderStyles()}setupClassesFromColDef(){const e=()=>{const t=this.column.getColDef(),n=A7(t,this.gos,this.column,null),r=this.userHeaderClasses;this.userHeaderClasses=new Set(n);for(const i of n)r.has(i)?r.delete(i):this.comp.toggleCss(i,!0);for(const i of r)this.comp.toggleCss(i,!1)};this.setRefreshFunction("headerClasses",e),e()}setDragSource(e){this.dragSourceElement=e,this.removeDragSource(),!(!e||!this.draggable)&&(this.dragSource=this.beans.colMoves?.setDragSourceForHeader(e,this.column,this.displayName)??null)}updateState(){const{menuSvc:e}=this.beans;this.menuEnabled=!!e?.isColumnMenuInHeaderEnabled(this.column),this.openFilterEnabled=!!e?.isFilterMenuInHeaderEnabled(this.column),this.sortable=this.column.isSortable(),this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()}setRefreshFunction(e,t){this.refreshFunctions[e]=t}refresh(){this.updateState(),this.refreshHeaderComp(),this.refreshAria();for(const e of Object.values(this.refreshFunctions))e()}refreshHeaderComp(){const e=this.lookupUserCompDetails();if(!e)return;(this.comp.getUserCompInstance()!=null&&this.userCompDetails.componentClass==e.componentClass?this.attemptHeaderCompRefresh(e.params):!1)?this.setDragSource(this.dragSourceElement):this.setCompDetails(e)}attemptHeaderCompRefresh(e){const t=this.comp.getUserCompInstance();return!t||!t.refresh?!1:t.refresh(e)}calculateDisplayName(){return this.beans.colNames.getDisplayNameForColumn(this.column,"header",!0)}checkDisplayName(){this.displayName!==this.calculateDisplayName()&&this.refresh()}workOutDraggable(){const e=this.column.getColDef();return!!(!this.gos.get("suppressMovableColumns")&&!e.suppressMovable&&!e.lockPosition)||!!e.enableRowGroup||!!e.enablePivot}setupWidth(e){const t=()=>{const n=this.column.getActualWidth();this.comp.setWidth(`${n}px`)};e.addManagedListeners(this.column,{widthChanged:t}),t()}setupMovingCss(e){const t=()=>{this.comp.toggleCss("ag-header-cell-moving",this.column.isMoving())};e.addManagedListeners(this.column,{movingChanged:t}),t()}setupMenuClass(e){const t=()=>{this.comp?.toggleCss("ag-column-menu-visible",this.column.isMenuVisible())};e.addManagedListeners(this.column,{menuVisibleChanged:t}),t()}setupSortableClass(e){const t=()=>{this.comp.toggleCss("ag-header-cell-sortable",!!this.sortable)};t(),this.setRefreshFunction("updateSortable",t),e.addManagedEventListeners({sortChanged:this.refreshAriaSort.bind(this)})}setupFilterClass(e){const t=()=>{const n=this.column.isFilterActive();this.comp.toggleCss("ag-header-cell-filtered",n),this.refreshAria()};e.addManagedListeners(this.column,{filterActiveChanged:t}),t()}setupWrapTextClass(){const e=()=>{const t=!!this.column.getColDef().wrapHeaderText;this.comp.toggleCss("ag-header-cell-wrap-text",t)};e(),this.setRefreshFunction("wrapText",e)}onHeaderHighlightChanged(){const e=this.column.getHighlighted(),t=e===0,n=e===1;this.comp.toggleCss("ag-header-highlight-before",t),this.comp.toggleCss("ag-header-highlight-after",n)}onDisplayedColumnsChanged(){super.onDisplayedColumnsChanged(),this.isAlive()&&this.onHeaderHeightChanged()}onHeaderHeightChanged(){this.refreshSpanHeaderHeight()}refreshSpanHeaderHeight(){const{eGui:e,column:t,comp:n,beans:r}=this,i=OA(this.beans),s=i.reduce((p,v)=>p+v,0)===0;if(n.toggleCss("ag-header-parent-hidden",s),!t.isSpanHeaderHeight()){e.style.removeProperty("top"),e.style.removeProperty("height"),n.toggleCss("ag-header-span-height",!1),n.toggleCss("ag-header-span-total",!1);return}const{numberOfParents:o,isSpanningTotal:a}=this.column.getColumnGroupPaddingInfo();n.toggleCss("ag-header-span-height",o>0);const l=FA(r);if(o===0){n.toggleCss("ag-header-span-total",!1),e.style.setProperty("top","0px"),e.style.setProperty("height",`${l}px`);return}n.toggleCss("ag-header-span-total",a);const c=(this.column.getFirstRealParent()?.getLevel()??-1)+1,d=i.length-c;let f=0;for(let p=0;p<d;p++)f+=i[i.length-1-p];e.style.setProperty("top",`${-f}px`),e.style.setProperty("height",`${l+f}px`)}refreshAriaSort(){if(this.sortable){const e=this.getLocaleTextFunc(),t=this.beans.sortSvc?.getDisplaySortForColumn(this.column)||null;this.comp.setAriaSort(Aoe(t)),this.setAriaDescriptionProperty("sort",e("ariaSortableColumn","Press ENTER to sort"))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)}refreshAriaMenu(){if(this.menuEnabled){const e=this.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",e("ariaMenuColumn","Press ALT DOWN to open column menu"))}else this.setAriaDescriptionProperty("menu",null)}refreshAriaFilterButton(){if(this.openFilterEnabled&&!Ui(this.gos)){const e=this.getLocaleTextFunc();this.setAriaDescriptionProperty("filterButton",e("ariaFilterColumn","Press CTRL ENTER to open filter"))}else this.setAriaDescriptionProperty("filterButton",null)}refreshAriaFiltered(){const e=this.getLocaleTextFunc();this.column.isFilterActive()?this.setAriaDescriptionProperty("filter",e("ariaColumnFiltered","Column Filtered")):this.setAriaDescriptionProperty("filter",null)}setAriaDescriptionProperty(e,t){t!=null?this.ariaDescriptionProperties.set(e,t):this.ariaDescriptionProperties.delete(e)}announceAriaDescription(){if(!this.eGui.contains(sn(this.beans)))return;const e=Array.from(this.ariaDescriptionProperties.keys()).sort((t,n)=>t==="filter"?-1:n.charCodeAt(0)-t.charCodeAt(0)).map(t=>this.ariaDescriptionProperties.get(t)).join(". ");this.beans.ariaAnnounce?.announceValue(e,"columnHeader")}refreshAria(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaFilterButton(),this.refreshAriaFiltered()}addColumnHoverListener(e){this.beans.colHover?.addHeaderColumnHoverListener(e,this.comp,this.column)}addActiveHeaderMouseListeners(e){const t=i=>this.handleMouseOverChange(i.type==="mouseenter"),n=()=>{this.setActiveHeader(!0),this.dispatchColumnMouseEvent("columnHeaderClicked",this.column)},r=i=>this.handleContextMenuMouseEvent(i,void 0,this.column);e.addManagedListeners(this.eGui,{mouseenter:t,mouseleave:t,click:n,contextmenu:r})}handleMouseOverChange(e){this.setActiveHeader(e),this.eventSvc.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column})}setActiveHeader(e){this.comp.toggleCss("ag-header-active",e)}getAnchorElementForMenu(e){const t=this.comp.getUserCompInstance();return Y4(t)?t.getAnchorElementForMenu(e):this.eGui}destroy(){this.tooltipFeature=this.destroyBean(this.tooltipFeature),super.destroy()}};function Y4(e){return typeof e?.getAnchorElementForMenu=="function"&&typeof e.onMenuKeyboardShortcut=="function"}var Mde=0,TD=class extends le{constructor(e,t,n){super(),this.rowIndex=e,this.pinned=t,this.type=n,this.instanceId=Mde++,this.comp=null,this.allCtrls=[];let r="ag-header-row-column";n==="group"?r="ag-header-row-group":n==="filter"&&(r="ag-header-row-filter"),this.headerRowClass=`ag-header-row ${r}`}setRowIndex(e){this.rowIndex=e,this.comp?.setRowIndex(this.getAriaRowIndex()),this.onRowHeightChanged()}postConstruct(){this.isPrintLayout=Sr(this.gos,"print"),this.isEnsureDomOrder=this.gos.get("ensureDomOrder")}areCellsRendered(){return this.comp?this.allCtrls.every(e=>e.eGui!=null):!1}setComp(e,t,n=!0){this.comp=e,t=Xm(this,this.beans.context,t),n&&(this.setRowIndex(this.rowIndex),this.onVirtualColumnsChanged()),this.setWidth(),this.addEventListeners(t)}getAriaRowIndex(){return this.rowIndex+1}addEventListeners(e){const t=this.onRowHeightChanged.bind(this),n=this.onDisplayedColumnsChanged.bind(this);e.addManagedEventListeners({columnResized:this.setWidth.bind(this),displayedColumnsChanged:n,virtualColumnsChanged:r=>this.onVirtualColumnsChanged(r.afterScroll),columnGroupHeaderHeightChanged:t,columnHeaderHeightChanged:t,gridStylesChanged:t,advancedFilterEnabledChanged:t}),e.addManagedPropertyListener("domLayout",n),e.addManagedPropertyListener("ensureDomOrder",r=>this.isEnsureDomOrder=r.currentValue),e.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],t)}onDisplayedColumnsChanged(){this.isPrintLayout=Sr(this.gos,"print"),this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()}setWidth(){if(!this.comp)return;const e=this.getWidthForRow();this.comp.setWidth(`${e}px`)}getWidthForRow(){const{visibleCols:e}=this.beans;return this.isPrintLayout?this.pinned!=null?0:e.getContainerWidth("right")+e.getContainerWidth("left")+e.getContainerWidth(null):e.getContainerWidth(this.pinned)}onRowHeightChanged(){if(!this.comp)return;const{topOffset:e,rowHeight:t}=this.getTopAndHeight();this.comp.setTop(e+"px"),this.comp.setHeight(t+"px")}getTopAndHeight(){let e=0;const t=OA(this.beans);for(let i=0;i<t.length;i++){if(i===this.rowIndex&&this.type==="group")return{topOffset:e,rowHeight:t[i]};e+=t[i]}const n=FA(this.beans);if(this.type==="column")return{topOffset:e,rowHeight:n};e+=n;const r=N7(this.beans);return{topOffset:e,rowHeight:r}}onVirtualColumnsChanged(e=!1){if(!this.comp)return;const t=this.getUpdatedHeaderCtrls(),n=this.isEnsureDomOrder||this.isPrintLayout;this.comp.setHeaderCtrls(t,n,e)}getUpdatedHeaderCtrls(){const e=this.ctrlsById;this.ctrlsById=new Map;const t=this.getColumnsInViewport();for(const r of t)this.recycleAndCreateHeaderCtrls(r,this.ctrlsById,e);const n=r=>{const{focusSvc:i,visibleCols:s}=this.beans;return i.isHeaderWrapperFocused(r)?s.isVisible(r.column):!1};if(e)for(const[r,i]of e)n(i)?this.ctrlsById.set(r,i):this.destroyBean(i);return this.allCtrls=Array.from(this.ctrlsById.values()),this.allCtrls}getHeaderCellCtrls(){return this.allCtrls}recycleAndCreateHeaderCtrls(e,t,n){if(e.isEmptyGroup())return;const r=e.getUniqueId();let i;if(n&&(i=n.get(r),n.delete(r)),i&&i.column!=e&&(this.destroyBean(i),i=void 0),i==null)switch(this.type){case"filter":{i=this.createBean(this.beans.registry.createDynamicBean("headerFilterCellCtrl",!0,e,this));break}case"group":i=this.createBean(this.beans.registry.createDynamicBean("headerGroupCellCtrl",!0,e,this));break;default:i=this.createBean(new Rde(e,this));break}t.set(r,i)}getColumnsInViewport(){if(!this.isPrintLayout)return this.getComponentsToRender();if(this.pinned)return[];const e=[];for(const t of["left",null,"right"])e.push(...this.getComponentsToRender(t));return e}getComponentsToRender(e=this.pinned){return this.type==="group"?this.beans.colViewport.getHeadersToRender(e,this.rowIndex):this.beans.colViewport.getColumnHeadersToRender(e)}focusHeader(e,t){const n=this.allCtrls.find(i=>i.column==e);return n?n.focus(t):!1}destroy(){this.allCtrls=this.destroyBeans(this.allCtrls),this.ctrlsById=void 0,this.comp=null,super.destroy()}},L7=class extends le{constructor(e){super(),this.pinned=e,this.hidden=!1,this.includeFloatingFilter=!1,this.groupsRowCtrls=[]}setComp(e,t){this.comp=e,this.eViewport=t;const{pinnedCols:n,ctrlsSvc:r,colModel:i,colMoves:s}=this.beans;this.setupCenterWidth(),n?.setupHeaderPinnedWidth(this),this.setupDragAndDrop(s,this.eViewport);const o=this.refresh.bind(this,!0);this.addManagedEventListeners({displayedColumnsChanged:o,advancedFilterEnabledChanged:o});const a=`${typeof this.pinned=="string"?this.pinned:"center"}Header`;r.register(a,this),i.ready&&this.refresh()}getAllCtrls(){const e=[...this.groupsRowCtrls];return this.columnsRowCtrl&&e.push(this.columnsRowCtrl),this.filtersRowCtrl&&e.push(this.filtersRowCtrl),e}refresh(e=!1){const{focusSvc:t,filterManager:n,visibleCols:r}=this.beans;let i=0;const s=t.getFocusHeaderToUseAfterRefresh(),o=()=>{const f=r.headerGroupRowCount;i=f,e||(this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls));const p=this.groupsRowCtrls.length;if(p!==f){if(p>f){for(let v=f;v<p;v++)this.destroyBean(this.groupsRowCtrls[v]);this.groupsRowCtrls.length=f;return}for(let v=p;v<f;v++){const y=this.createBean(new TD(v,this.pinned,"group"));this.groupsRowCtrls.push(y)}}},a=()=>{const f=i++;if(this.hidden){this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl);return}this.columnsRowCtrl==null||!e?(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl),this.columnsRowCtrl=this.createBean(new TD(f,this.pinned,"column"))):this.columnsRowCtrl.rowIndex!==f&&this.columnsRowCtrl.setRowIndex(f)},l=()=>{this.includeFloatingFilter=!!n?.hasFloatingFilters()&&!this.hidden;const f=()=>{this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)};if(!this.includeFloatingFilter){f();return}e||f();const p=i++;this.filtersRowCtrl?this.filtersRowCtrl.rowIndex!==p&&this.filtersRowCtrl.setRowIndex(p):this.filtersRowCtrl=this.createBean(new TD(p,this.pinned,"filter"))},c=this.getAllCtrls();o(),a(),l();const d=this.getAllCtrls();this.comp.setCtrls(d),this.restoreFocusOnHeader(t,s),c.length!==d.length&&this.beans.eventSvc.dispatchEvent({type:"headerRowsChanged"})}getHeaderCtrlForColumn(e){const t=n=>n?.getHeaderCellCtrls().find(r=>r.column===e);if(Dc(e))return t(this.columnsRowCtrl);if(this.groupsRowCtrls.length!==0)for(let n=0;n<this.groupsRowCtrls.length;n++){const r=t(this.groupsRowCtrls[n]);if(r)return r}}getHtmlElementForColumnHeader(e){return this.getHeaderCtrlForColumn(e)?.eGui??null}getRowType(e){return this.getAllCtrls()[e]?.type}focusHeader(e,t,n){const i=this.getAllCtrls()[e];return i?i.focusHeader(t,n):!1}getGroupRowCount(){return this.groupsRowCtrls.length}getGroupRowCtrlAtIndex(e){return this.groupsRowCtrls[e]}getRowCount(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)}setHorizontalScroll(e){this.comp.setViewportScrollLeft(e)}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}destroy(){this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl),this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl),this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls),super.destroy()}setupDragAndDrop(e,t){const n=e?.createBodyDropTarget(this.pinned,t);n&&this.createManagedBean(n)}restoreFocusOnHeader(e,t){if(!t)return;const{column:n}=t;n.getPinned()==this.pinned&&e.focusHeaderPosition({headerPosition:t,scroll:!1})}setupCenterWidth(){this.pinned==null&&this.createManagedBean(new AA(e=>this.comp.setCenterWidth(`${e}px`),!0))}},Tde=class extends le{constructor(){super(...arguments),this.beanName="menuSvc"}postConstruct(){const{enterpriseMenuFactory:e,filterMenuFactory:t}=this.beans;this.activeMenuFactory=e??t}showColumnMenu(e){this.showColumnMenuCommon(this.activeMenuFactory,e,"columnMenu")}showFilterMenu(e){this.showColumnMenuCommon(X4(this.beans),e,e.containerType,!0)}showHeaderContextMenu(e,t,n){this.activeMenuFactory?.showMenuAfterContextMenuEvent(e,t,n)}hidePopupMenu(){this.beans.contextMenuSvc?.hideActiveMenu(),this.activeMenuFactory?.hideActiveMenu()}hideFilterMenu(){X4(this.beans)?.hideActiveMenu()}isColumnMenuInHeaderEnabled(e){const{suppressHeaderMenuButton:t}=e.getColDef();return!t&&!!this.activeMenuFactory?.isMenuEnabled(e)&&(Ui(this.gos)||!!this.beans.enterpriseMenuFactory)}isFilterMenuInHeaderEnabled(e){return!e.getColDef().suppressHeaderFilterButton&&!!this.beans.filterManager?.isFilterAllowed(e)}isHeaderContextMenuEnabled(e){return!(e&&Dc(e)?e.getColDef():e?.getColGroupDef())?.suppressHeaderContextMenu&&this.gos.get("columnMenu")==="new"}isHeaderMenuButtonAlwaysShowEnabled(){return this.isSuppressMenuHide()}isHeaderMenuButtonEnabled(){const e=!this.isSuppressMenuHide();return!(ju()&&e)}isHeaderFilterButtonEnabled(e){return this.isFilterMenuInHeaderEnabled(e)&&!Ui(this.gos)&&!this.isFloatingFilterButtonDisplayed(e)}isFilterMenuItemEnabled(e){return!!this.beans.filterManager?.isFilterAllowed(e)&&!Ui(this.gos)&&!this.isFilterMenuInHeaderEnabled(e)&&!this.isFloatingFilterButtonDisplayed(e)}isFloatingFilterButtonEnabled(e){return!e.getColDef().suppressFloatingFilterButton}isFloatingFilterButtonDisplayed(e){return!!e.getColDef().floatingFilter&&this.isFloatingFilterButtonEnabled(e)}isSuppressMenuHide(){const e=this.gos,t=e.get("suppressMenuHide");return Ui(e)?e.exists("suppressMenuHide")?t:!1:t}showColumnMenuCommon(e,t,n,r){const{positionBy:i,onClosedCallback:s}=t,o=t.column;if(i==="button"){const{buttonElement:a}=t;e?.showMenuAfterButtonClick(o,a,n,s,r)}else if(i==="mouse"){const{mouseEvent:a}=t;e?.showMenuAfterMouseEvent(o,a,n,s,r)}else if(o){const a=this.beans,l=a.ctrlsSvc;l.getScrollFeature().ensureColumnVisible(o,"auto"),ul(a,()=>{const c=l.getHeaderRowContainerCtrl(o.getPinned())?.getHeaderCtrlForColumn(o);c&&e?.showMenuAfterButtonClick(o,c.getAnchorElementForMenu(r),n,s,r)})}}};function Q4(e,t,n){e.menuVisible!==t&&(e.menuVisible=t,e.dispatchColEvent("menuVisibleChanged",n))}function X4(e){const{enterpriseMenuFactory:t,filterMenuFactory:n,gos:r}=e;return t&&Ui(r)?t:n}var mx=class extends yA{constructor(){super(...arguments),this.errorMessages=null}init(e){this.params=e,this.initialiseEditor(e),this.eEditor.onValueChange(()=>e.validate())}destroy(){this.errorMessages=null}},_7=class extends yt{constructor(){super()}},kde={tag:"span",cls:"ag-overlay-loading-center"},Ade=class extends _7{init(){const e=Fa(this.gos.get("overlayLoadingTemplate")?.trim());if(this.setTemplate(e??kde),!e){const n=this.getLocaleTextFunc()("loadingOoo","Loading...");this.getGui().textContent=n,this.beans.ariaAnnounce.announceValue(n,"overlay")}}},Pde={tag:"span",cls:"ag-overlay-no-rows-center"},Nde=class extends _7{init(){const e=Fa(this.gos.get("overlayNoRowsTemplate")?.trim());if(this.setTemplate(e??Pde),!e){const n=this.getLocaleTextFunc()("noRowsToShow","No Rows To Show");this.getGui().textContent=n,this.beans.ariaAnnounce.announceValue(n,"overlay")}}};function Ode(e,t,n){const r=$i(e,t,n);if(r){const{className:s}=r;if(typeof s=="string"&&s.includes("ag-icon")||typeof s=="object"&&s["ag-icon"])return r}const i=Tn({tag:"span"});return i.appendChild(r),i}function $i(e,t,n){let r=null;e==="smallDown"?ve(262):e==="smallLeft"?ve(263):e==="smallRight"&&ve(264);const i=n?.getColDef().icons;if(i&&(r=i[e]),t.gos&&!r){const s=t.gos.get("icons");s&&(r=s[e])}if(r){let s;if(typeof r=="function")s=r();else if(typeof r=="string")s=r;else{ve(38,{iconName:e});return}if(typeof s=="string")return oA(s);if(cA(s))return s;ve(133,{iconName:e});return}else{const s=t.registry.getIcon(e);return s||t.validation?.validateIcon(e),Tn({tag:"span",cls:`ag-icon ag-icon-${s??e}`,role:"presentation",attrs:{unselectable:"on"}})}}var Fde=".ag-dnd-ghost{align-items:center;background-color:var(--ag-drag-and-drop-image-background-color);border:var(--ag-drag-and-drop-image-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-drag-and-drop-image-shadow);color:var(--ag-text-color);cursor:move;display:flex;font-weight:500;gap:var(--ag-cell-widget-spacing);height:var(--ag-header-height);overflow:hidden;padding-left:var(--ag-cell-horizontal-padding);padding-right:var(--ag-cell-horizontal-padding);text-overflow:ellipsis;transform:translateY(calc(var(--ag-spacing)*2));white-space:nowrap}.ag-dnd-ghost-not-allowed{border:var(--ag-drag-and-drop-image-not-allowed-border)}",Ide={tag:"div",children:[{tag:"div",ref:"eGhost",cls:"ag-dnd-ghost ag-unselectable",children:[{tag:"span",ref:"eIcon",cls:"ag-dnd-ghost-icon ag-shake-left-to-right"},{tag:"div",ref:"eLabel",cls:"ag-dnd-ghost-label"}]}]},Lde=class extends yt{constructor(){super(),this.dragSource=null,this.eIcon=Ee,this.eLabel=Ee,this.eGhost=Ee,this.registerCSS(Fde)}postConstruct(){const e=t=>Ode(t,this.beans,null);this.dropIconMap={pinned:e("columnMovePin"),hide:e("columnMoveHide"),move:e("columnMoveMove"),left:e("columnMoveLeft"),right:e("columnMoveRight"),group:e("columnMoveGroup"),aggregate:e("columnMoveValue"),pivot:e("columnMovePivot"),notAllowed:e("dropNotAllowed")}}init(e){this.dragSource=e.dragSource,this.setTemplate(Ide),this.beans.environment.applyThemeClasses(this.eGhost)}destroy(){this.dragSource=null,super.destroy()}setIcon(e,t){const{eGhost:n,eIcon:r,dragSource:i,dropIconMap:s,gos:o}=this;xr(r);let a=null;e||(e=i?.getDefaultIconName?i.getDefaultIconName():"notAllowed"),a=s[e],n.classList.toggle("ag-dnd-ghost-not-allowed",e==="notAllowed"),r.classList.toggle("ag-shake-left-to-right",t),!(a===s.hide&&o.get("suppressDragLeaveHidesColumns"))&&a&&r.appendChild(a)}setLabel(e){this.eLabel.textContent=e}},_de=".ag-checkbox-cell{height:100%}",jde={tag:"div",cls:"ag-cell-wrapper ag-checkbox-cell",role:"presentation",children:[{tag:"ag-checkbox",ref:"eCheckbox",role:"presentation"}]},Bde=class extends yt{constructor(){super(jde,[CA]),this.eCheckbox=Ee,this.registerCSS(_de)}init(e){this.refresh(e);const{eCheckbox:t,beans:n}=this,r=t.getInputElement();r.setAttribute("tabindex","-1"),GG(r,"polite"),this.addManagedListeners(r,{click:i=>{if(Mc(i),t.isDisabled())return;const s=t.getValue();this.onCheckboxChanged(s)},dblclick:i=>{Mc(i)}}),this.addManagedElementListeners(e.eGridCell,{keydown:i=>{if(i.key===re.SPACE&&!t.isDisabled()){e.eGridCell===sn(n)&&t.toggle();const s=t.getValue();this.onCheckboxChanged(s),i.preventDefault()}}})}refresh(e){return this.params=e,this.updateCheckbox(e),!0}updateCheckbox(e){let t,n=!0;const{value:r,column:i,node:s}=e;if(s.group&&i)if(typeof r=="boolean")t=r;else{const f=i.getColId();f.startsWith(dx)?t=r==null||r===""?void 0:r==="true":s.aggData&&s.aggData[f]!==void 0||s.sourceRowIndex>=0?t=r??void 0:n=!1}else t=r??void 0;const{eCheckbox:o}=this;if(!n){o.setDisplayed(!1);return}o.setValue(t);const a=e.disabled??!i?.isCellEditable(s);o.setDisabled(a);const l=this.getLocaleTextFunc(),c=lx(l,t),d=a?c:`${l("ariaToggleCellValue","Press SPACE to toggle cell value")} (${c})`;o.setInputAriaLabel(d)}onCheckboxChanged(e){const{params:t}=this,{column:n,node:r,value:i}=t;this.beans?.editSvc?.setEditingCells([{column:n,colId:n.getColId(),rowIndex:r.rowIndex,rowPinned:r.rowPinned,state:"changed",oldValue:i,newValue:i}],{update:!0,forceRefreshOfEditCellsOnly:!0});const s=r.setDataValue(n,e,"renderer");this.beans.editSvc?.stopEditing({rowNode:r,column:n},{source:this.beans.editSvc?.isBatchEditing()?"ui":"api"}),s||this.updateCheckbox(t)}},J4=class{constructor(e,t){this.beans=e,this.floating=t,this.all=new Set,this.visible=new Set,this.order=[],this.queued=new Set}size(){return this.visible.size}add(e){const{all:t,visible:n,order:r}=this;t.has(e)||(t.add(e),n.add(e),r.push(e),this.sort())}delete(e){this.all.delete(e),this.visible.delete(e),this.queued.delete(e.id),Js(this.order,e)}has(e){return this.visible.has(e)}forEach(e){this.order.forEach(e)}getByIndex(e){return this.order[e]}getById(e){for(const t of this.visible)if(t.id==e)return t}clear(){const{all:e,visible:t,order:n,queued:r}=this;e.clear(),r.clear(),t.clear(),n.length=0}sort(){const{sortSvc:e,rowNodeSorter:t,gos:n}=this.beans,r=e?.getSortOptions()??[],i=Gde(this.order);if(this.order.sort((o,a)=>(o.pinnedSibling?.rowIndex??0)-(a.pinnedSibling?.rowIndex??0)),this.order=t?.doFullSort(this.order,r)??this.order,!i)return;const s=gA(n);s==="bottom"||s==="pinnedBottom"?this.order.push(i):this.order.unshift(i)}hide(e){const{all:t,visible:n}=this;t.forEach(r=>e(r)?n.delete(r):n.add(r)),this.order=Array.from(n),this.sort()}queue(e){this.queued.add(e)}unqueue(e){this.queued.delete(e)}forEachQueued(e){this.queued.forEach(e)}};function j7(e){if(e.level===-1)return!0;const t=e.parent;return t?.childrenAfterSort?.some(n=>n==e)?j7(t):!1}function kD(e,t){const{gos:n,rowModel:r,filterManager:i}=e;return Lo(n)?!r.getRowNode(t.id):i?.isAnyFilterPresent()?!j7(t):n.get("pivotMode")?!t.group:!1}function Hde(e){return!!e.footer&&e.level===-1}function zde(e){return!!e.pinnedSibling&&Hde(e.pinnedSibling)}function Gde(e){const t=e.findIndex(zde);if(t>-1)return e.splice(t,1)?.[0]}var Z4=class extends le{postConstruct(){const{gos:e,beans:t}=this;this.top=new J4(t,"top"),this.bottom=new J4(t,"bottom");const n=i=>kD(t,i.pinnedSibling),r=()=>{const i=e.get("isRowPinned");i&&e.get("enableRowPinning")&&t.rowModel.forEachNode(s=>this.pinRow(s,i(s)),!0),this.refreshRowPositions(),this.dispatchRowPinnedEvents()};this.addManagedEventListeners({gridStylesChanged:this.onGridStylesChanges.bind(this),modelUpdated:({keepRenderedRows:i})=>{this.tryToEmptyQueues(),this.pinGrandTotalRow(),this.forContainers(o=>o.hide(n));const s=this.refreshRowPositions();(!i||s)&&this.dispatchRowPinnedEvents()},columnRowGroupChanged:()=>{this.forContainers(Wde),this.refreshRowPositions()},rowNodeDataChanged:({node:i})=>{(e.get("isRowPinnable")?.(i)??!0)||this.pinRow(i,null)},firstDataRendered:r}),this.addManagedPropertyListener("pivotMode",()=>{this.forContainers(i=>i.hide(n)),this.dispatchRowPinnedEvents()}),this.addManagedPropertyListener("grandTotalRow",({currentValue:i})=>{this._grandTotalPinned=i==="pinnedBottom"?"bottom":i==="pinnedTop"?"top":null}),this.addManagedPropertyListener("isRowPinned",r)}destroy(){this.reset(!1),super.destroy()}reset(e=!0){this.forContainers(t=>{const n=[];t.forEach(r=>n.push(r)),n.forEach(r=>this.pinRow(r,null)),t.clear()}),e&&this.dispatchRowPinnedEvents()}pinRow(e,t,n){if(e.footer&&e.level>-1)return;if(e.footer&&e.level===-1){this._grandTotalPinned=t,$de(this.beans);return}const r=e.rowPinned??e.pinnedSibling?.rowPinned;if(r!=null&&t!=null&&t!=r){const o=e.rowPinned?e:e.pinnedSibling,a=e.rowPinned?e.pinnedSibling:e;this.pinRow(o,null,n),this.pinRow(a,t,n);return}const s=n&&Ude(this.beans,e,n);if(s){s.forEach(o=>this.pinRow(o,t));return}if(t==null){const o=e.rowPinned?e:e.pinnedSibling,a=this.findPinnedRowNode(o);if(!a)return;a.delete(o);const l=o.pinnedSibling;AD(o),this.refreshRowPositions(t),this.dispatchRowPinnedEvents(l)}else{const o=e_(this.beans,e,t),a=this.getContainer(t);a.add(o),kD(this.beans,e)&&a.hide(l=>kD(this.beans,l.pinnedSibling)),this.refreshRowPositions(t),this.dispatchRowPinnedEvents(e)}}isManual(){return!0}isEmpty(e){return this.getContainer(e).size()===0}isRowsToRender(e){return!this.isEmpty(e)}ensureRowHeightsValid(){let e=!1,t=0;const n=r=>{if(r.rowHeightEstimated){const i=Ya(this.beans,r);r.setRowTop(t),r.setRowHeight(i.height),t+=i.height,e=!0}};return this.bottom.forEach(n),t=0,this.top.forEach(n),this.eventSvc.dispatchEvent({type:"pinnedHeightChanged"}),e}getPinnedTopTotalHeight(){return t_(this.top)}getPinnedBottomTotalHeight(){return t_(this.bottom)}getPinnedTopRowCount(){return this.top.size()}getPinnedBottomRowCount(){return this.bottom.size()}getPinnedTopRow(e){return this.top.getByIndex(e)}getPinnedBottomRow(e){return this.bottom.getByIndex(e)}getPinnedRowById(e,t){return this.getContainer(t).getById(e)}forEachPinnedRow(e,t){this.getContainer(e).forEach(t)}getPinnedState(){const e=t=>{const n=[];return this.forEachPinnedRow(t,r=>n.push(r.pinnedSibling.id)),n};return{top:e("top"),bottom:e("bottom")}}setPinnedState(e){this.forContainers((t,n)=>{for(const r of e[n]){const i=this.beans.rowModel.getRowNode(r);i?this.pinRow(i,n):t.queue(r)}})}getGrandTotalPinned(){return this._grandTotalPinned}setGrandTotalPinned(e){this._grandTotalPinned=e}tryToEmptyQueues(){this.forContainers((e,t)=>{const n=new Set;e.forEachQueued(r=>{const i=this.beans.rowModel.getRowNode(r);i&&n.add(i)});for(const r of n)e.unqueue(r.id),this.pinRow(r,t)})}pinGrandTotalRow(){const{gos:e,beans:t,_grandTotalPinned:n}=this,r=t.rowModel;if(!Xt(e))return;const i=r.rootNode?.sibling;if(!i)return;const s=i.pinnedSibling,o=s&&this.findPinnedRowNode(s);if(n){if(o&&o.floating!==n&&(o.delete(s),AD(s)),!o||o.floating!==n){const a=e_(t,i,n);this.getContainer(n).add(a)}}else{if(!o)return;o.delete(s),AD(s)}}onGridStylesChanges(e){e.rowHeightChanged&&this.forContainers(t=>t.forEach(n=>n.setRowHeight(n.rowHeight,!0)))}getContainer(e){return e==="top"?this.top:this.bottom}findPinnedRowNode(e){if(this.top.has(e))return this.top;if(this.bottom.has(e))return this.bottom}refreshRowPositions(e){const t=r=>Vde(this.beans,r);if(e)return t(this.getContainer(e));let n=!1;return this.forContainers(r=>{const i=t(r);n||(n=i)}),n}forContainers(e){e(this.top,"top"),e(this.bottom,"bottom")}dispatchRowPinnedEvents(e){this.eventSvc.dispatchEvent({type:"pinnedRowsChanged"}),e?.dispatchRowEvent("rowPinned")}};function Vde(e,t){let n=0,r=!1;return t.forEach((i,s)=>{if(r||(r=i.rowTop!==n),i.setRowTop(n),i.rowHeightEstimated||i.rowHeight==null){const o=Ya(e,i).height;r||(r=i.rowHeight!==o),i.setRowHeight(o)}i.setRowIndex(s),n+=i.rowHeight}),r}function e_(e,t,n){if(t.pinnedSibling)return t.pinnedSibling;const r=u7(t,e);r.setRowTop(null),r.setRowIndex(null),r.rowPinned=n;const i=n==="top"?RA:MA;return r.id=`${i}${n}-${t.id}`,r.pinnedSibling=t,t.pinnedSibling=r,r}function AD(e){if(!e.pinnedSibling)return;e.rowPinned=null,e.setRowTop(null),e.setRowIndex(null);const t=e.pinnedSibling;e.pinnedSibling=void 0,t&&(t.pinnedSibling=void 0,t.rowPinned=null)}function Wde(e){const t=new Set;e.forEach(n=>{n.group&&t.add(n)}),t.forEach(n=>e.delete(n))}function Ude(e,t,n){const{rowSpanSvc:r}=e,i=(n&&r?.isCellSpanning(n,t))??!1;if(n&&i)return r?.getCellSpan(n,t)?.spannedNodes}function t_(e){const t=e.size();if(t===0)return 0;const n=e.getByIndex(t-1);return n===void 0?0:n.rowTop+n.rowHeight}function $de({gos:e,rowModel:t}){Xt(e)&&t.refreshModel({step:"map"})}var n_=class extends le{constructor(){super(...arguments),this.nextId=0,this.pinnedTopRows={cache:{},order:[]},this.pinnedBottomRows={cache:{},order:[]}}postConstruct(){const e=this.gos;this.setPinnedRowData(e.get("pinnedTopRowData"),"top"),this.setPinnedRowData(e.get("pinnedBottomRowData"),"bottom"),this.addManagedPropertyListener("pinnedTopRowData",t=>this.setPinnedRowData(t.currentValue,"top")),this.addManagedPropertyListener("pinnedBottomRowData",t=>this.setPinnedRowData(t.currentValue,"bottom")),this.addManagedEventListeners({gridStylesChanged:this.onGridStylesChanges.bind(this)})}reset(){}isEmpty(e){return this.getCache(e).order.length===0}isRowsToRender(e){return!this.isEmpty(e)}isManual(){return!1}pinRow(e,t){}onGridStylesChanges(e){if(e.rowHeightChanged){const t=n=>{n.setRowHeight(n.rowHeight,!0)};Jp(this.pinnedBottomRows,t),Jp(this.pinnedTopRows,t)}}ensureRowHeightsValid(){let e=!1,t=0;const n=r=>{if(r.rowHeightEstimated){const i=Ya(this.beans,r);r.setRowTop(t),r.setRowHeight(i.height),t+=i.height,e=!0}};return Jp(this.pinnedBottomRows,n),t=0,Jp(this.pinnedTopRows,n),this.eventSvc.dispatchEvent({type:"pinnedHeightChanged"}),e}setPinnedRowData(e,t){this.updateNodesFromRowData(e,t),this.eventSvc.dispatchEvent({type:"pinnedRowDataChanged"})}updateNodesFromRowData(e,t){const n=this.getCache(t);if(e===void 0){n.order.length=0,n.cache={};return}const r=rf(this.gos),i=t==="top"?RA:MA,s=new Set(n.order),o=[],a=new Set;let l=0,c=-1;for(const d of e){const f=r?.({data:d,level:0,rowPinned:t})??i+this.nextId++;if(a.has(f)){ve(96,{id:f,data:d});continue}c++,a.add(f),o.push(f);const p=Og(n,f);if(p!==void 0)p.data!==d&&p.updateData(d),l+=this.setRowTopAndRowIndex(p,l,c),s.delete(f);else{const v=new Xa(this.beans);v.id=f,v.data=d,v.rowPinned=t,l+=this.setRowTopAndRowIndex(v,l,c),n.cache[f]=v,n.order.push(f)}}for(const d of s)Og(n,d)?.clearRowTopAndRowIndex(),delete n.cache[d];n.order=o}setRowTopAndRowIndex(e,t,n){return e.setRowTop(t),e.setRowHeight(Ya(this.beans,e).height),e.setRowIndex(n),e.rowHeight}getPinnedTopTotalHeight(){return r_(this.pinnedTopRows)}getPinnedBottomTotalHeight(){return r_(this.pinnedBottomRows)}getPinnedTopRowCount(){return $2(this.pinnedTopRows)}getPinnedBottomRowCount(){return $2(this.pinnedBottomRows)}getPinnedTopRow(e){return U2(this.pinnedTopRows,e)}getPinnedBottomRow(e){return U2(this.pinnedBottomRows,e)}getPinnedRowById(e,t){return Og(this.getCache(t),e)}forEachPinnedRow(e,t){return Jp(this.getCache(e),t)}getCache(e){return e==="top"?this.pinnedTopRows:this.pinnedBottomRows}getPinnedState(){return{top:[],bottom:[]}}setPinnedState(){}getGrandTotalPinned(){}setGrandTotalPinned(){}};function r_(e){const t=$2(e);if(t===0)return 0;const n=U2(e,t-1);return n===void 0?0:n.rowTop+n.rowHeight}function Og(e,t){return e.cache[t]}function U2(e,t){return Og(e,e.order[t])}function Jp(e,t){e.order.forEach((n,r)=>{const i=Og(e,n);i&&t(i,r)})}function $2(e){return e.order.length}var qde=class extends le{constructor(){super(...arguments),this.beanName="pinnedRowModel"}postConstruct(){const{gos:e}=this,t=()=>{const n=e.get("enableRowPinning"),r=gA(e),s=!!n||(r==="pinnedBottom"||r==="pinnedTop"),o=s?this.inner instanceof n_:this.inner instanceof Z4;this.inner&&o&&this.destroyBean(this.inner),(o||!this.inner)&&(this.inner=this.createManagedBean(s?new Z4:new n_))};this.addManagedPropertyListeners(["enableRowPinning","grandTotalRow"],t),t()}reset(){return this.inner.reset()}isEmpty(e){return this.inner.isEmpty(e)}isManual(){return this.inner.isManual()}isRowsToRender(e){return this.inner.isRowsToRender(e)}pinRow(e,t,n){return this.inner.pinRow(e,t,n)}ensureRowHeightsValid(){return this.inner.ensureRowHeightsValid()}getPinnedRowById(e,t){return this.inner.getPinnedRowById(e,t)}getPinnedTopTotalHeight(){return this.inner.getPinnedTopTotalHeight()}getPinnedBottomTotalHeight(){return this.inner.getPinnedBottomTotalHeight()}getPinnedTopRowCount(){return this.inner.getPinnedTopRowCount()}getPinnedBottomRowCount(){return this.inner.getPinnedBottomRowCount()}getPinnedTopRow(e){return this.inner.getPinnedTopRow(e)}getPinnedBottomRow(e){return this.inner.getPinnedBottomRow(e)}forEachPinnedRow(e,t){return this.inner.forEachPinnedRow(e,t)}getPinnedState(){return this.inner.getPinnedState()}setPinnedState(e){return this.inner.setPinnedState(e)}setGrandTotalPinned(e){return this.inner.setGrandTotalPinned(e)}getGrandTotalPinned(){return this.inner.getGrandTotalPinned()}};function ev(e){return!!(e.rowPinned&&e.pinnedSibling)}function ms(e,t,n,r){const i=t==="top";if(!n)return ms(e,t,i?e.getPinnedTopRow(0):e.getPinnedBottomRow(0),r);if(!r){const l=i?e.getPinnedTopRowCount():e.getPinnedBottomRowCount();return ms(e,t,n,i?e.getPinnedTopRow(l-1):e.getPinnedBottomRow(l-1))}let s=!1,o=!1;const a=[];return e.forEachPinnedRow(t,l=>{if(l===n&&!s){s=!0,a.push(l);return}if(s&&l===r){o=!0,a.push(l);return}s&&!o&&a.push(l)}),a}var Kde={tag:"div",cls:"ag-selection-checkbox",role:"presentation",children:[{tag:"ag-checkbox",ref:"eCheckbox",role:"presentation"}]},Yde=class extends yt{constructor(){super(Kde,[CA]),this.eCheckbox=Ee}postConstruct(){this.eCheckbox.setPassive(!0)}onDataChanged(){this.onSelectionChanged()}onSelectableChanged(){this.showOrHideSelect()}onSelectionChanged(){const e=this.getLocaleTextFunc(),{rowNode:t,eCheckbox:n}=this,r=t.isSelected(),i=lx(e,r),[s,o]=t.selectable?["ariaRowToggleSelection","Press Space to toggle row selection"]:["ariaRowSelectionDisabled","Row Selection is disabled for this row"],a=e(s,o);n.setValue(r,!0),n.setInputAriaLabel(`${a} (${i})`)}init(e){if(this.rowNode=e.rowNode,this.column=e.column,this.overrides=e.overrides,this.onSelectionChanged(),this.addManagedListeners(this.eCheckbox.getInputElement(),{dblclick:Mc,click:r=>{Mc(r),this.beans.selectionSvc?.handleSelectionEvent(r,this.rowNode,"checkboxSelected")}}),this.addManagedListeners(this.rowNode,{rowSelected:this.onSelectionChanged.bind(this),dataChanged:this.onDataChanged.bind(this),selectableChanged:this.onSelectableChanged.bind(this)}),this.addManagedPropertyListener("rowSelection",({currentValue:r,previousValue:i})=>{const s=typeof r=="object"?hD(r):void 0,o=typeof i=="object"?hD(i):void 0;s!==o&&this.onSelectableChanged()}),P2(this.gos)||typeof this.getIsVisible()=="function"){const r=this.showOrHideSelect.bind(this);this.addManagedEventListeners({displayedColumnsChanged:r}),this.addManagedListeners(this.rowNode,{dataChanged:r,cellChanged:r}),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")}showOrHideSelect(){const{column:e,rowNode:t,overrides:n,gos:r}=this,i=t.selectable,s=this.getIsVisible();let o;if(typeof s=="function"){const f=n?.callbackParams;if(!e)o=s({...f,node:t,data:t.data});else{const p=e.createColumnFunctionCallbackParams(t);o=s({...f,...p})}}else o=s??!1;const a=i&&!o||!i&&o,l=i||o,c=r.get("rowSelection"),d=c&&typeof c!="string"?!hD(c):!!e?.getColDef().showDisabledCheckboxes;this.setVisible(l&&(a?d:!0)),this.setDisplayed(l&&(a?d:!0)),l&&this.eCheckbox.setDisabled(a),n?.removeHidden&&this.setDisplayed(l)}getIsVisible(){const e=this.overrides;if(e)return e.isVisible;const t=this.gos.get("rowSelection");return t&&typeof t!="string"?_u(t):this.column?.getColDef()?.checkboxSelection}},Qde=class{constructor(e,t){this.rowModel=e,this.pinnedRowModel=t,this.selectAll=!1,this.rootId=null,this.endId=null,this.cachedRange=[]}reset(){this.rootId=null,this.endId=null,this.cachedRange.length=0}setRoot(e){this.rootId=e.id,this.endId=null,this.cachedRange.length=0}setEndRange(e){this.endId=e.id,this.cachedRange.length=0}getRange(){if(this.cachedRange.length===0){const e=this.getRoot(),t=this.getEnd();if(e==null||t==null)return this.cachedRange;this.cachedRange=this.getNodesInRange(e,t)??[]}return this.cachedRange}isInRange(e){return this.rootId===null?!1:this.getRange().some(t=>t.id===e.id)}getRoot(e){if(this.rootId)return this.getRowNode(this.rootId);if(e)return this.setRoot(e),e}getEnd(){if(this.endId)return this.getRowNode(this.endId)}getRowNode(e){let t;const{rowModel:n,pinnedRowModel:r}=this;return t??(t=n.getRowNode(e)),r?.isManual()&&(t??(t=r.getPinnedRowById(e,"top")),t??(t=r.getPinnedRowById(e,"bottom"))),t}truncate(e){const t=this.getRange();if(t.length===0)return{keep:[],discard:[]};const n=t[0].id===this.rootId,r=t.findIndex(i=>i.id===e.id);if(r>-1){const i=t.slice(0,r),s=t.slice(r+1);return this.setEndRange(e),n?{keep:i,discard:s}:{keep:s,discard:i}}else return{keep:t,discard:[]}}extend(e,t=!1){const n=this.getRoot();if(n==null){const i=this.getRange().slice();return t&&e.depthFirstSearch(s=>!s.group&&i.push(s)),i.push(e),this.setRoot(e),{keep:i,discard:[]}}const r=this.getNodesInRange(n,e);if(!r)return this.setRoot(e),{keep:[e],discard:[]};if(r.find(i=>i.id===this.endId))return this.setEndRange(e),{keep:this.getRange(),discard:[]};{const i=this.getRange().slice();return this.setEndRange(e),{keep:this.getRange(),discard:i}}}getNodesInRange(e,t){const{pinnedRowModel:n,rowModel:r}=this;if(!n?.isManual())return r.getNodesInRangeForSelection(e,t);if(e.rowPinned==="top"&&!t.rowPinned)return ms(n,"top",e,void 0).concat(r.getNodesInRangeForSelection(r.getRow(0),t)??[]);if(e.rowPinned==="bottom"&&!t.rowPinned){const i=ms(n,"bottom",void 0,e),s=r.getRowCount(),o=r.getRow(s-1);return(r.getNodesInRangeForSelection(t,o)??[]).concat(i)}if(!e.rowPinned&&!t.rowPinned)return r.getNodesInRangeForSelection(e,t);if(e.rowPinned==="top"&&t.rowPinned==="top")return ms(n,"top",e,t);if(e.rowPinned==="bottom"&&t.rowPinned==="top"){const i=ms(n,"top",t,void 0),s=ms(n,"bottom",void 0,e),o=r.getRow(0),a=r.getRow(r.getRowCount()-1);return i.concat(r.getNodesInRangeForSelection(o,a)??[]).concat(s)}if(!e.rowPinned&&t.rowPinned==="top")return ms(n,"top",t,void 0).concat(r.getNodesInRangeForSelection(r.getRow(0),e)??[]);if(e.rowPinned==="top"&&t.rowPinned==="bottom"){const i=ms(n,"top",e,void 0),s=ms(n,"bottom",void 0,t),o=r.getRow(0),a=r.getRow(r.getRowCount()-1);return i.concat(r.getNodesInRangeForSelection(o,a)??[]).concat(s)}if(e.rowPinned==="bottom"&&t.rowPinned==="bottom")return ms(n,"bottom",e,t);if(!e.rowPinned&&t.rowPinned==="bottom"){const i=ms(n,"bottom",void 0,t),s=r.getRow(r.getRowCount());return(r.getNodesInRangeForSelection(e,s)??[]).concat(i)}return null}},Xde=class extends le{constructor(e){super(),this.column=e,this.cbSelectAllVisible=!1,this.processingEventFromCheckbox=!1}onSpaceKeyDown(e){const t=this.cbSelectAll;t.isDisplayed()&&!t.getGui().contains(sn(this.beans))&&(e.preventDefault(),t.setValue(!t.getValue()))}getCheckboxGui(){return this.cbSelectAll.getGui()}setComp(e){this.headerCellCtrl=e;const t=this.createManagedBean(new bA);this.cbSelectAll=t,t.addCss("ag-header-select-all"),Ka(t.getGui(),"presentation"),this.showOrHideSelectAll();const n=this.updateStateOfCheckbox.bind(this);this.addManagedEventListeners({newColumnsLoaded:()=>this.showOrHideSelectAll(),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),selectionChanged:n,paginationChanged:n,modelUpdated:n}),this.addManagedPropertyListener("rowSelection",({currentValue:r,previousValue:i})=>{const s=o=>typeof o=="string"||!o||o.mode==="singleRow"?void 0:o.selectAll;s(r)!==s(i)&&this.showOrHideSelectAll(),this.updateStateOfCheckbox()}),this.addManagedListeners(t,{fieldValueChanged:this.onCbSelectAll.bind(this)}),t.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()}onDisplayedColumnsChanged(e){this.isAlive()&&this.showOrHideSelectAll(e.source==="uiColumnMoved")}showOrHideSelectAll(e=!1){const t=this.isCheckboxSelection();this.cbSelectAllVisible=t,this.cbSelectAll.setDisplayed(t),t&&(this.checkRightRowModelType("selectAllCheckbox"),this.checkSelectionType("selectAllCheckbox"),this.updateStateOfCheckbox()),this.refreshSelectAllLabel(e)}updateStateOfCheckbox(){if(!this.cbSelectAllVisible||this.processingEventFromCheckbox)return;this.processingEventFromCheckbox=!0;const e=this.getSelectAllMode(),t=this.beans.selectionSvc,n=this.cbSelectAll,r=t.getSelectAllState(e);n.setValue(r);const i=t.hasNodesToSelect(e);n.setDisabled(!i),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}refreshSelectAllLabel(e=!1){const t=this.getLocaleTextFunc(),{headerCellCtrl:n,cbSelectAll:r,cbSelectAllVisible:i}=this,s=r.getValue(),o=lx(t,s),a=t("ariaRowSelectAll","Press Space to toggle all rows selection");n.setAriaDescriptionProperty("selectAll",i?`${a} (${o})`:null),r.setInputAriaLabel(t("ariaHeaderSelection","Column with Header Selection")),e||n.announceAriaDescription()}checkSelectionType(e){return sm(this.gos)?!0:(ve(128,{feature:e}),!1)}checkRightRowModelType(e){const{gos:t,rowModel:n}=this.beans;return Xt(t)||Lo(t)?!0:(ve(129,{feature:e,rowModel:n.getType()}),!1)}onCbSelectAll(){if(this.processingEventFromCheckbox||!this.cbSelectAllVisible)return;const e=this.cbSelectAll.getValue(),t=this.getSelectAllMode();let n="uiSelectAll";t==="currentPage"?n="uiSelectAllCurrentPage":t==="filtered"&&(n="uiSelectAllFiltered");const r={source:n,selectAll:t},i=this.beans.selectionSvc;e?i.selectAllRowNodes(r):i.deselectAllRowNodes(r)}isCheckboxSelection(){const{column:e,gos:t,beans:n}=this,s=typeof t.get("rowSelection")=="object"?"headerCheckbox":"headerCheckboxSelection";return B7(n,e)&&this.checkRightRowModelType(s)&&this.checkSelectionType(s)}getSelectAllMode(){const e=DV(this.gos,!1);if(e)return e;const{headerCheckboxSelectionCurrentPageOnly:t,headerCheckboxSelectionFilteredOnly:n}=this.column.getColDef();return t?"currentPage":n?"filtered":"all"}destroy(){super.destroy(),this.cbSelectAll=void 0,this.headerCellCtrl=void 0}};function B7({gos:e,selectionColSvc:t},n){const r=e.get("rowSelection"),i=n.getColDef(),{headerCheckboxSelection:s}=i;let o=!1;if(typeof r=="object"){const l=dl(n),c=mA(n);(im(r)==="autoGroupColumn"&&c||l&&t?.isSelectionColumnEnabled())&&(o=Z0(r))}else typeof s=="function"?o=s(_e(e,{column:n,colDef:i})):o=!!s;return o}var Jde=class extends le{postConstruct(){const{gos:e,beans:t}=this;this.selectionCtx=new Qde(t.rowModel,t.pinnedRowModel),this.addManagedPropertyListeners(["isRowSelectable","rowSelection"],()=>{const n=P2(e);n!==this.isRowSelectable&&(this.isRowSelectable=n,this.updateSelectable())}),this.isRowSelectable=P2(e),this.addManagedEventListeners({cellValueChanged:n=>this.updateRowSelectable(n.node),rowNodeDataChanged:n=>this.updateRowSelectable(n.node)})}destroy(){super.destroy(),this.selectionCtx.reset()}createCheckboxSelectionComponent(){return new Yde}createSelectAllFeature(e){if(B7(this.beans,e))return new Xde(e)}isMultiSelect(){return sm(this.gos)}onRowCtrlSelected(e,t,n){const r=!!e.rowNode.isSelected();e.forEachGui(n,i=>{i.rowComp.toggleCss("ag-row-selected",r);const s=i.element;YG(s,r),s.contains(sn(this.beans))&&t(i)})}announceAriaRowSelection(e){if(this.isRowSelectionBlocked(e))return;const t=e.isSelected(),n=this.beans.editSvc?.isEditing({rowNode:e});if(!e.selectable||n)return;const i=this.getLocaleTextFunc()(t?"ariaRowDeselect":"ariaRowSelect",`Press SPACE to ${t?"deselect":"select"} this row`);this.beans.ariaAnnounce?.announceValue(i,"rowSelection")}isRowSelectionBlocked(e){return!e.selectable||e.rowPinned&&!ev(e)||!gc(this.gos)}updateRowSelectable(e,t){const n=e.rowPinned&&e.pinnedSibling?e.pinnedSibling.selectable:this.isRowSelectable?.(e)??!0;return this.setRowSelectable(e,n,t),n}setRowSelectable(e,t,n){if(e.selectable!==t){if(e.selectable=t,e.dispatchRowEvent("selectableChanged"),n)return;if(om(this.gos)){const i=this.calculateSelectedFromChildren(e);this.setNodesSelected({nodes:[e],newValue:i??!1,source:"selectableChanged"});return}e.isSelected()&&!e.selectable&&this.setNodesSelected({nodes:[e],newValue:!1,source:"selectableChanged"})}}calculateSelectedFromChildren(e){let t=!1,n=!1;if(!e.childrenAfterGroup?.length)return e.selectable?e.__selected:null;for(let r=0;r<e.childrenAfterGroup.length;r++){const i=e.childrenAfterGroup[r];let s=i.isSelected();if(!i.selectable){const o=this.calculateSelectedFromChildren(i);if(o===null)continue;s=o}switch(s){case!0:t=!0;break;case!1:n=!0;break;default:return}}if(!(t&&n))return t?!0:n?!1:e.selectable?e.__selected:null}selectRowNode(e,t,n,r="api"){const i=!e.selectable&&t,s=e.__selected===t;if(i||s)return!1;e.__selected=t,e.dispatchRowEvent("rowSelected");const o=e.sibling;o&&o.footer&&o.__localEventService&&o.dispatchRowEvent("rowSelected");const a=e.pinnedSibling;return a?.rowPinned&&a.__localEventService&&a.dispatchRowEvent("rowSelected"),this.eventSvc.dispatchEvent({...c7(e,this.gos,"rowSelected"),event:n||null,source:r}),!0}isCellCheckboxSelection(e,t){const n=this.gos.get("rowSelection");if(n&&typeof n!="string"){const r=dl(e)&&_u(n);return e.isColumnFunc(t,r)}else return e.isColumnFunc(t,e.colDef.checkboxSelection)}inferNodeSelections(e,t,n,r){const{gos:i,selectionCtx:s}=this,o=e.isSelected(),a=om(i),l=Oae(i),c=Fae(i),d=this.isMultiSelect(),f=r==="rowClicked";if(f&&!(l||c))return null;if(t&&n&&d){const p=s.getRoot();if(p)if(p.isSelected()){const v=s.isInRange(e)?s.truncate(e):s.extend(e,a);return{deselect:v.discard,select:v.keep,reset:!1}}else{const v=s.extend(e,a);return{select:[],deselect:v.keep,reset:!1}}else return null}else if(t&&d){const p=s.selectAll?this.beans.rowModel.getRow(0):void 0,v=s.getRoot(p),y=s.isInRange(e)?s.truncate(e):s.extend(e,a);return{select:y.keep,deselect:y.discard,reset:s.selectAll||!!(v&&!v.isSelected())}}else if(n){if(f){const p=!o;return p&&!l||!p&&!c?null:(s.setRoot(e),{node:e,newValue:p,clearSelection:!1})}return s.setRoot(e),{node:e,newValue:!o,clearSelection:!d}}else{s.setRoot(e);const p=Iae(i),v=Bw(i)==="filteredDescendants",y=f&&(!p||!l);if(v&&o===void 0&&Xt(i))return{node:e,newValue:!1,checkFilteredNodes:!0,clearSelection:!d||y};if(f){const b=o?!p:l;return b===o&&!y||b&&!l||!b&&!c?null:{node:e,newValue:b,clearSelection:!d||y,keepDescendants:e.group&&a}}return{node:e,newValue:!o,clearSelection:!d||y}}}},Uh={TAB_GUARD:"ag-tab-guard",TAB_GUARD_TOP:"ag-tab-guard-top",TAB_GUARD_BOTTOM:"ag-tab-guard-bottom"},H7=class extends le{constructor(e){super(),this.skipTabGuardFocus=!1,this.forcingFocusOut=!1,this.allowFocus=!1;const{comp:t,eTopGuard:n,eBottomGuard:r,focusTrapActive:i,forceFocusOutWhenTabGuardsAreEmpty:s,isFocusableContainer:o,focusInnerElement:a,onFocusIn:l,onFocusOut:c,shouldStopEventPropagation:d,onTabKeyDown:f,handleKeyDown:p,isEmpty:v,eFocusableElement:y}=e;this.comp=t,this.eTopGuard=n,this.eBottomGuard=r,this.providedFocusInnerElement=a,this.eFocusableElement=y,this.focusTrapActive=!!i,this.forceFocusOutWhenTabGuardsAreEmpty=!!s,this.isFocusableContainer=!!o,this.providedFocusIn=l,this.providedFocusOut=c,this.providedShouldStopEventPropagation=d,this.providedOnTabKeyDown=f,this.providedHandleKeyDown=p,this.providedIsEmpty=v}postConstruct(){this.createManagedBean(new zf(this.eFocusableElement,{shouldStopEventPropagation:()=>this.shouldStopEventPropagation(),onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e),onFocusIn:e=>this.onFocusIn(e),onFocusOut:e=>this.onFocusOut(e)})),this.activateTabGuards();for(const e of[this.eTopGuard,this.eBottomGuard])this.addManagedElementListeners(e,{focus:this.onFocus.bind(this)})}handleKeyDown(e){this.providedHandleKeyDown&&this.providedHandleKeyDown(e)}tabGuardsAreActive(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")}shouldStopEventPropagation(){return this.providedShouldStopEventPropagation?this.providedShouldStopEventPropagation():!1}activateTabGuards(){if(this.forcingFocusOut)return;const e=this.gos.get("tabIndex");this.comp.setTabIndex(e.toString())}deactivateTabGuards(){this.comp.setTabIndex()}onFocus(e){if(this.isFocusableContainer&&!this.eFocusableElement.contains(e.relatedTarget)&&!this.allowFocus){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.skipTabGuardFocus){this.skipTabGuardFocus=!1;return}if(this.forceFocusOutWhenTabGuardsAreEmpty&&(this.providedIsEmpty?this.providedIsEmpty():Vh(this.eFocusableElement,".ag-tab-guard").length===0)){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.isFocusableContainer&&this.eFocusableElement.contains(e.relatedTarget))return;const t=e.target===this.eBottomGuard;!(this.providedFocusInnerElement?this.providedFocusInnerElement(t):this.focusInnerElement(t))&&this.forceFocusOutWhenTabGuardsAreEmpty&&this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard)}findNextElementOutsideAndFocus(e){const t=Wn(this.beans),n=Vh(t.body,null,!0),r=n.indexOf(e?this.eTopGuard:this.eBottomGuard);if(r===-1)return;let i,s;e?(i=0,s=r):(i=r+1,s=n.length);const o=n.slice(i,s),a=this.gos.get("tabIndex");o.sort((l,c)=>{const d=Number.parseInt(l.getAttribute("tabindex")||"0"),f=Number.parseInt(c.getAttribute("tabindex")||"0");return f===a?1:d===a?-1:d===0?1:f===0?-1:d-f}),o[e?o.length-1:0]?.focus()}onFocusIn(e){this.focusTrapActive||this.forcingFocusOut||(this.providedFocusIn&&this.providedFocusIn(e),this.isFocusableContainer||this.deactivateTabGuards())}onFocusOut(e){this.focusTrapActive||(this.providedFocusOut&&this.providedFocusOut(e),this.eFocusableElement.contains(e.relatedTarget)||this.activateTabGuards())}onTabKeyDown(e){if(this.providedOnTabKeyDown){this.providedOnTabKeyDown(e);return}if(this.focusTrapActive||e.defaultPrevented)return;const t=this.tabGuardsAreActive();t&&this.deactivateTabGuards();const n=this.getNextFocusableElement(e.shiftKey);t&&setTimeout(()=>this.activateTabGuards(),0),n&&(n.focus(),e.preventDefault())}focusInnerElement(e=!1){const t=Vh(this.eFocusableElement);return this.tabGuardsAreActive()&&(t.splice(0,1),t.splice(t.length-1,1)),t.length?(t[e?t.length-1:0].focus({preventScroll:!0}),!0):!1}getNextFocusableElement(e){return bd(this.beans,this.eFocusableElement,!1,e)}forceFocusOutOfContainer(e=!1){if(this.forcingFocusOut)return;const t=e?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,this.forcingFocusOut=!0,t.focus(),window.setTimeout(()=>{this.forcingFocusOut=!1,this.activateTabGuards()})}isTabGuard(e,t){return e===this.eTopGuard&&!t||e===this.eBottomGuard&&(t??!0)}setAllowFocus(e){this.allowFocus=e}},Zde=class extends le{constructor(e){super(),this.comp=e}initialiseTabGuard(e){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.comp.getFocusableElement();const{eTopGuard:t,eBottomGuard:n,eFocusableElement:r}=this,i=[t,n],s={setTabIndex:x=>{for(const S of i)x!=null?S.setAttribute("tabindex",x):S.removeAttribute("tabindex")}};this.addTabGuards(t,n);const{focusTrapActive:o=!1,onFocusIn:a,onFocusOut:l,focusInnerElement:c,handleKeyDown:d,onTabKeyDown:f,shouldStopEventPropagation:p,isEmpty:v,forceFocusOutWhenTabGuardsAreEmpty:y,isFocusableContainer:b}=e;this.tabGuardCtrl=this.createManagedBean(new H7({comp:s,focusTrapActive:o,eTopGuard:t,eBottomGuard:n,eFocusableElement:r,onFocusIn:a,onFocusOut:l,focusInnerElement:c,handleKeyDown:d,onTabKeyDown:f,shouldStopEventPropagation:p,isEmpty:v,forceFocusOutWhenTabGuardsAreEmpty:y,isFocusableContainer:b}))}getTabGuardCtrl(){return this.tabGuardCtrl}createTabGuard(e){const t=Wn(this.beans).createElement("div"),n=e==="top"?Uh.TAB_GUARD_TOP:Uh.TAB_GUARD_BOTTOM;return t.classList.add(Uh.TAB_GUARD,n),Ka(t,"presentation"),t}addTabGuards(e,t){const n=this.eFocusableElement;n.insertAdjacentElement("afterbegin",e),n.insertAdjacentElement("beforeend",t)}removeAllChildrenExceptTabGuards(){const e=[this.eTopGuard,this.eBottomGuard];xr(this.comp.getFocusableElement()),this.addTabGuards(...e)}forceFocusOutOfContainer(e=!1){this.tabGuardCtrl.forceFocusOutOfContainer(e)}appendChild(e,t,n){cA(t)||(t=t.getGui());const{eBottomGuard:r}=this;r?r.insertAdjacentElement("beforebegin",t):e(t,n)}destroy(){const{eTopGuard:e,eBottomGuard:t}=this;Es(e),Es(t),super.destroy()}},z7=class extends yt{initialiseTabGuard(t){this.tabGuardFeature=this.createManagedBean(new Zde(this)),this.tabGuardFeature.initialiseTabGuard(t)}forceFocusOutOfContainer(t=!1){this.tabGuardFeature.forceFocusOutOfContainer(t)}appendChild(t,n){this.tabGuardFeature.appendChild(super.appendChild.bind(this),t,n)}},ehe=500,the=550,t0,nhe=e=>{if(!t0)t0=new WeakSet;else if(t0.has(e))return!1;return t0.add(e),!0},fu=class{constructor(e,t=!1){this.eElement=e,this.preventClick=t,this.startListener=null,this.handlers=[],this.eventSvc=void 0,this.touchStart=null,this.lastTapTime=null,this.longPressTimer=0,this.moved=!1}addEventListener(e,t){let n=this.eventSvc;if(!n){if(n===null)return;this.eventSvc=n=new ed;const r=this.onTouchStart.bind(this);this.startListener=r,this.eElement.addEventListener("touchstart",r,{passive:!0})}n.addEventListener(e,t)}removeEventListener(e,t){this.eventSvc?.removeEventListener(e,t)}onTouchStart(e){if(this.touchStart||!nhe(e))return;const t=e.touches[0];this.touchStart=t;const n=this.handlers;if(!n.length){const r=this.eElement,i=r.ownerDocument,s=this.onTouchMove.bind(this),o=this.onTouchEnd.bind(this),a=this.onTouchCancel.bind(this),l={passive:!0},c={passive:!1};X0(n,[r,"touchmove",s,l],[i,"touchcancel",a,l],[i,"touchend",o,c],[i,"contextmenu",ec,c])}this.clearLongPress(),this.longPressTimer=window.setTimeout(()=>{this.longPressTimer=0,this.touchStart===t&&!this.moved&&(this.moved=!0,this.eventSvc?.dispatchEvent({type:"longTap",touchStart:t,touchEvent:e}))},the)}onTouchMove(e){const{moved:t,touchStart:n}=this;if(!t&&n){const r=Ag(n,e.touches);r&&!sV(r,n,4)&&(this.clearLongPress(),this.moved=!0)}}onTouchEnd(e){const t=this.touchStart;!t||!Ag(t,e.changedTouches)||(this.moved||(this.eventSvc?.dispatchEvent({type:"tap",touchStart:t}),this.checkDoubleTap(t)),this.preventClick&&ec(e),this.cancel())}onTouchCancel(e){const t=this.touchStart;!t||!Ag(t,e.changedTouches)||(this.lastTapTime=null,this.cancel())}checkDoubleTap(e){let t=Date.now();const n=this.lastTapTime;n&&t-n>ehe&&(this.eventSvc?.dispatchEvent({type:"doubleTap",touchStart:e}),t=null),this.lastTapTime=t}cancel(){this.clearLongPress(),uA(this.handlers),this.touchStart=null}clearLongPress(){window.clearTimeout(this.longPressTimer),this.longPressTimer=0,this.moved=!1}destroy(){const e=this.startListener;e&&(this.startListener=null,this.eElement.removeEventListener("touchstart",e)),this.cancel(),this.eElement=null,this.eventSvc=null}},rhe=class{constructor(e){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=e.scrollContainer,this.scrollHorizontally=e.scrollAxis.includes("x"),this.scrollVertically=e.scrollAxis.includes("y"),this.scrollByTick=e.scrollByTick!=null?e.scrollByTick:20,e.onScrollCallback&&(this.onScrollCallback=e.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=e.getVerticalPosition,this.setVerticalPosition=e.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=e.getHorizontalPosition,this.setHorizontalPosition=e.setHorizontalPosition),this.shouldSkipVerticalScroll=e.shouldSkipVerticalScroll||(()=>!1),this.shouldSkipHorizontalScroll=e.shouldSkipHorizontalScroll||(()=>!1)}get scrolling(){return this.tickingInterval!==null}check(e,t=!1){const n=t||this.shouldSkipVerticalScroll();if(n&&this.shouldSkipHorizontalScroll())return;const r=this.scrollContainer.getBoundingClientRect(),i=this.scrollByTick;this.tickLeft=e.clientX<r.left+i,this.tickRight=e.clientX>r.right-i,this.tickUp=e.clientY<r.top+i&&!n,this.tickDown=e.clientY>r.bottom-i&&!n,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}ensureTickingStarted(){this.tickingInterval===null&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)}doTick(){this.tickCount++;const e=this.tickCount>20?200:this.tickCount>10?80:40;if(this.scrollVertically){const t=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(t-e),this.tickDown&&this.setVerticalPosition(t+e)}if(this.scrollHorizontally){const t=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(t-e),this.tickRight&&this.setHorizontalPosition(t+e)}this.onScrollCallback&&this.onScrollCallback()}ensureCleared(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)}},G7=class{constructor(e="javascript"){this.frameworkName=e,this.renderingEngine="vanilla",this.batchFrameworkComps=!1,this.wrapIncoming=t=>t(),this.wrapOutgoing=t=>t(),this.baseDocLink=`${uV}/${this.frameworkName}-data-grid`,wae(this.baseDocLink)}frameworkComponent(e){return null}isFrameworkComponent(e){return!1}getDocLink(e){return this.baseDocLink+(e?"/"+e:"")}};function ihe(e){return{beanName:"gridApi",bean:e.getBean("apiFunctionSvc").api}}var she=["licenseManager","environment","eventSvc","gos","paginationAutoPageSizeSvc","apiFunctionSvc","gridApi","registry","agCompUtils","userCompFactory","rowContainerHeight","horizontalResizeSvc","localeSvc","pinnedRowModel","dragSvc","colGroupSvc","visibleCols","popupSvc","selectionSvc","colFilter","quickFilter","filterManager","colModel","headerNavigation","pageBounds","pagination","pageBoundsListener","rowSpanSvc","stickyRowSvc","rowRenderer","expressionSvc","alignedGridsSvc","navigation","valueCache","valueSvc","autoWidthCalc","filterMenuFactory","dragAndDrop","focusSvc","cellNavigation","cellStyles","scrollVisibleSvc","sortSvc","colHover","colAnimation","autoColSvc","selectionColSvc","changeDetectionSvc","animationFrameSvc","undoRedo","colDefFactory","rowStyleSvc","rowNodeBlockLoader","rowNodeSorter","ctrlsSvc","pinnedCols","dataTypeSvc","syncSvc","overlays","stateSvc","expansionSvc","apiEventSvc","ariaAnnounce","menuSvc","colMoves","colAutosize","colFlex","colResize","pivotColsSvc","valueColsSvc","rowGroupColsSvc","colNames","colViewport","pivotResultCols","showRowGroupCols","validation"],i_=Object.fromEntries(she.map((e,t)=>[e,t]));function ohe(e,t){const n=(e.beanName?i_[e.beanName]:void 0)??Number.MAX_SAFE_INTEGER,r=(t.beanName?i_[t.beanName]:void 0)??Number.MAX_SAFE_INTEGER;return n-r}function ahe(e,t){return e?.beanName==="gridDestroySvc"?-1:t?.beanName==="gridDestroySvc"?1:0}var lhe={tag:"div",cls:"ag-pinned-left-header",role:"rowgroup"},che={tag:"div",cls:"ag-pinned-right-header",role:"rowgroup"},uhe={tag:"div",cls:"ag-header-viewport",role:"rowgroup",attrs:{tabindex:"-1"},children:[{tag:"div",ref:"eCenterContainer",cls:"ag-header-container",role:"presentation"}]},PD=class extends yt{constructor(t){super(),this.eCenterContainer=Ee,this.headerRowComps={},this.rowCompsList=[],this.pinned=t}postConstruct(){this.selectAndSetTemplate();const t={setDisplayed:r=>this.setDisplayed(r),setCtrls:r=>this.setCtrls(r),setCenterWidth:r=>this.eCenterContainer.style.width=r,setViewportScrollLeft:r=>this.getGui().scrollLeft=r,setPinnedContainerWidth:r=>{const i=this.getGui();i.style.width=r,i.style.maxWidth=r,i.style.minWidth=r}};this.createManagedBean(new L7(this.pinned)).setComp(t,this.getGui())}selectAndSetTemplate(){const t=this.pinned=="left",n=this.pinned=="right",r=t?lhe:n?che:uhe;this.setTemplate(r),this.eRowContainer=this.eCenterContainer!==Ee?this.eCenterContainer:this.getGui()}destroy(){this.setCtrls([]),super.destroy()}destroyRowComp(t){this.destroyBean(t),t.getGui().remove()}setCtrls(t){const n=this.headerRowComps;this.headerRowComps={},this.rowCompsList=[];let r;const i=s=>{const o=s.getGui();o.parentElement!=this.eRowContainer&&this.eRowContainer.appendChild(o),r&&eV(this.eRowContainer,o,r),r=o};for(const s of t){const o=s.instanceId,a=n[o];delete n[o];const l=a||this.createBean(new Ede(s));this.headerRowComps[o]=l,this.rowCompsList.push(l),i(l)}for(const s of Object.values(n))this.destroyRowComp(s)}},dhe={tag:"div",cls:"ag-header",role:"presentation"},hhe=class extends yt{constructor(){super(dhe)}postConstruct(){const t={toggleCss:(i,s)=>this.toggleCss(i,s),setHeightAndMinHeight:i=>{this.getGui().style.height=i,this.getGui().style.minHeight=i}};this.createManagedBean(new F7).setComp(t,this.getGui(),this.getFocusableElement());const r=i=>{this.createManagedBean(i),this.appendChild(i)};r(new PD("left")),r(new PD(null)),r(new PD("right"))}},fhe={selector:"AG-HEADER-ROOT",component:hhe},phe=class extends yt{constructor(t,n,r,i,s){super(),this.cellCtrl=n,this.rendererVersion=0,this.editorVersion=0,this.beans=t,this.gos=t.gos,this.column=n.column,this.rowNode=n.rowNode,this.eRow=i;const o=Tn({tag:"div",role:n.getCellAriaRole(),attrs:{"comp-id":`${this.getCompId()}`,"col-id":n.column.colIdSanitised}});this.eCell=o;let a;n.isCellSpanning()?(a=Tn({tag:"div",cls:"ag-spanned-cell-wrapper",role:"presentation"}),a.appendChild(o),this.setTemplateFromElement(a)):this.setTemplateFromElement(o),this.cellCssManager=new Hf(()=>o),this.forceWrapper=n.isForceWrapper(),this.refreshWrapper(!1);const l={toggleCss:(c,d)=>this.cellCssManager.toggleCss(c,d),setUserStyles:c=>Ym(o,c),getFocusableElement:()=>o,setIncludeSelection:c=>this.includeSelection=c,setIncludeRowDrag:c=>this.includeRowDrag=c,setIncludeDndSource:c=>this.includeDndSource=c,setRenderDetails:(c,d,f)=>this.setRenderDetails(c,d,f),setEditDetails:(c,d,f)=>this.setEditDetails(c,d,f),getCellEditor:()=>this.cellEditor||null,getCellRenderer:()=>this.cellRenderer||null,getParentOfValue:()=>this.getParentOfValue(),refreshEditStyles:(c,d)=>this.refreshEditStyles(c,d)};n.setComp(l,o,a,this.eCellWrapper,r,s,void 0)}getParentOfValue(){return this.eCellValue??this.eCellWrapper??this.eCell}setRenderDetails(t,n,r){if(this.cellEditor&&!this.cellEditorPopupWrapper)return;this.firstRender=this.firstRender==null;const s=this.refreshWrapper(!1);this.refreshEditStyles(!1),t?!(r||s)&&this.refreshCellRenderer(t)||(this.destroyRenderer(),this.createCellRendererInstance(t)):(this.destroyRenderer(),this.insertValueWithoutCellRenderer(n)),this.rowDraggingComp?.refreshVisibility()}setEditDetails(t,n,r){t?this.createCellEditorInstance(t,n,r):this.destroyEditor()}removeControls(){const t=this.beans.context;this.checkboxSelectionComp=t.destroyBean(this.checkboxSelectionComp),this.dndSourceComp=t.destroyBean(this.dndSourceComp),this.rowDraggingComp=t.destroyBean(this.rowDraggingComp)}refreshWrapper(t){const n=this.includeRowDrag||this.includeDndSource||this.includeSelection,r=n||this.forceWrapper,i=r&&this.eCellWrapper==null;i&&(this.eCellWrapper=Tn({tag:"div",cls:"ag-cell-wrapper",role:"presentation"}),this.eCell.appendChild(this.eCellWrapper));const s=!r&&this.eCellWrapper!=null;s&&(Es(this.eCellWrapper),this.eCellWrapper=void 0),this.cellCssManager.toggleCss("ag-cell-value",!r);const o=!t&&r,a=o&&this.eCellValue==null;if(a){const d=this.cellCtrl.getCellValueClass();this.eCellValue=Tn({tag:"span",cls:d,role:"presentation"}),this.eCellWrapper.appendChild(this.eCellValue)}const l=!o&&this.eCellValue!=null;l&&(Es(this.eCellValue),this.eCellValue=void 0);const c=i||s||a||l;return c&&this.removeControls(),!t&&n&&this.addControls(),c}addControls(){const{cellCtrl:t,eCellWrapper:n,eCellValue:r,includeRowDrag:i,includeDndSource:s,includeSelection:o}=this,a=l=>{l&&n.insertBefore(l.getGui(),r)};i&&this.rowDraggingComp==null&&(this.rowDraggingComp=t.createRowDragComp(),a(this.rowDraggingComp)),s&&this.dndSourceComp==null&&(this.dndSourceComp=t.createDndSource(),a(this.dndSourceComp)),o&&this.checkboxSelectionComp==null&&(this.checkboxSelectionComp=t.createSelectionCheckbox(),a(this.checkboxSelectionComp))}createCellEditorInstance(t,n,r){const i=this.editorVersion,s=t.newAgStackInstance(),{params:o}=t;s.then(l=>this.afterCellEditorCreated(i,l,o,n,r)),Kt(this.cellEditor)&&o.cellStartedEdit&&this.cellCtrl.focusCell(!0)}insertValueWithoutCellRenderer(t){const n=this.getParentOfValue();xr(n);const r=vd(t);r!=null&&(n.textContent=r)}destroyRenderer(){const{context:t}=this.beans;this.cellRenderer=t.destroyBean(this.cellRenderer),Es(this.cellRendererGui),this.cellRendererGui=null,this.rendererVersion++}destroyEditor(){const{context:t}=this.beans;(this.cellEditorPopupWrapper?.getGui().contains(sn(this.beans))||this.cellCtrl.hasBrowserFocus())&&this.eCell.focus({preventScroll:!0}),this.hideEditorPopup?.(),this.hideEditorPopup=void 0,this.cellEditor=t.destroyBean(this.cellEditor),this.cellEditorPopupWrapper=t.destroyBean(this.cellEditorPopupWrapper),Es(this.cellEditorGui),this.cellCtrl.disableEditorTooltipFeature(),this.cellEditorGui=null,this.editorVersion++}refreshCellRenderer(t){if(this.cellRenderer?.refresh==null||this.cellRendererClass!==t.componentClass)return!1;const n=this.cellRenderer.refresh(t.params);return n===!0||n===void 0}createCellRendererInstance(t){const n=this.rendererVersion,r=o=>a=>{if(this.rendererVersion!==n||!this.isAlive())return;const c=o.newAgStackInstance(),d=this.afterCellRendererCreated.bind(this,n,o.componentClass);c?.then(d)},{animationFrameSvc:i}=this.beans;let s;if(i?.active&&this.firstRender?s=(o,a=!1)=>{i.createTask(r(o),this.rowNode.rowIndex,"p2",o.componentFromFramework,a)}:s=o=>r(o)(),t.params?.deferRender&&!this.cellCtrl.rowNode.group){const{loadingComp:o,onReady:a}=this.cellCtrl.getDeferLoadingCellRenderer();o&&(s(o),a.then(()=>s(t,!0)))}else s(t)}afterCellRendererCreated(t,n,r){if(!this.isAlive()||t!==this.rendererVersion){this.beans.context.destroyBean(r);return}this.cellRenderer=r,this.cellRendererClass=n;const s=r.getGui();if(this.cellRendererGui=s,s!=null){const o=this.getParentOfValue();xr(o),o.appendChild(s)}}afterCellEditorCreated(t,n,r,i,s){const o=t!==this.editorVersion,{context:a}=this.beans;if(o){a.destroyBean(n);return}if(n.isCancelBeforeStart?.()){a.destroyBean(n),this.cellCtrl.stopEditing(!0);return}if(!n.getGui){ve(97,{colId:this.column.getId()}),a.destroyBean(n);return}this.cellEditor=n,this.cellEditorGui=n.getGui();const c=i||n.isPopup?.();c?this.addPopupCellEditor(r,s):this.addInCellEditor(),this.refreshEditStyles(!0,c),n.afterGuiAttached?.(),this.cellCtrl.enableEditorTooltipFeature(n),this.cellCtrl.cellEditorAttached()}refreshEditStyles(t,n){const{cellCssManager:r}=this;r.toggleCss("ag-cell-inline-editing",t&&!n),r.toggleCss("ag-cell-popup-editing",t&&!!n),r.toggleCss("ag-cell-not-inline-editing",!t||!!n)}addInCellEditor(){const{eCell:t}=this;t.contains(sn(this.beans))&&t.focus(),this.destroyRenderer(),this.refreshWrapper(!0),xr(this.getParentOfValue()),this.cellEditorGui&&this.getParentOfValue().appendChild(this.cellEditorGui)}addPopupCellEditor(t,n){const{gos:r,context:i,popupSvc:s,editSvc:o}=this.beans;r.get("editType")==="fullRow"&&ve(98);const a=this.cellEditorPopupWrapper=i.createBean(o.createPopupEditorWrapper(t)),{cellEditor:l,cellEditorGui:c,eCell:d,rowNode:f,column:p,cellCtrl:v}=this,y=a.getGui();c&&y.appendChild(c);const b=r.get("stopEditingWhenCellsLoseFocus"),x=n??l.getPopupPosition?.()??"over",S=r.get("enableRtl"),M={ePopup:y,column:p,rowNode:f,type:"popupCellEditor",eventSource:d,position:x,alignSide:S?"right":"left",keepWithinBounds:!0},R=s.positionPopupByComponent.bind(s,M),T=s.addPopup({modal:b,eChild:y,closeOnEsc:!0,closedCallback:()=>{v.onPopupEditorClosed()},anchorToElement:d,positionCallback:R,ariaOwns:d});T&&(this.hideEditorPopup=T.hideFunc)}detach(){this.getGui().remove()}destroy(){this.destroyRenderer(),this.destroyEditor(),this.removeControls(),super.destroy()}},ghe=class extends yt{constructor(t,n,r){super(),this.cellComps=new Map,this.beans=n,this.rowCtrl=t;const i=Tn({tag:"div",role:"row",attrs:{"comp-id":`${this.getCompId()}`}});this.setInitialStyle(i,r),this.setTemplateFromElement(i);const s=i.style;this.domOrder=this.rowCtrl.getDomOrder();const o={setDomOrder:a=>this.domOrder=a,setCellCtrls:a=>this.setCellCtrls(a),showFullWidth:a=>this.showFullWidth(a),getFullWidthCellRenderer:()=>this.fullWidthCellRenderer,getFullWidthCellRendererParams:()=>this.fullWidthCellRendererParams,toggleCss:(a,l)=>this.toggleCss(a,l),setUserStyles:a=>Ym(i,a),setTop:a=>s.top=a,setTransform:a=>s.transform=a,setRowIndex:a=>i.setAttribute("row-index",a),setRowId:a=>i.setAttribute("row-id",a),setRowBusinessKey:a=>i.setAttribute("row-business-key",a),refreshFullWidth:a=>{const l=a();return this.fullWidthCellRendererParams=l,this.fullWidthCellRenderer?.refresh?.(l)??!1}};t.setComp(o,this.getGui(),r,void 0),this.addDestroyFunc(()=>{t.unsetComp(r)})}setInitialStyle(t,n){const r=this.rowCtrl.getInitialTransform(n);if(r)t.style.setProperty("transform",r);else{const i=this.rowCtrl.getInitialRowTop(n);i&&t.style.setProperty("top",i)}}showFullWidth(t){const n=i=>{if(this.isAlive()){const s=i.getGui();this.getGui().appendChild(s),this.rowCtrl.setupDetailRowAutoHeight(s),this.setFullWidthRowComp(i,t.params)}else this.beans.context.destroyBean(i)};t.newAgStackInstance().then(n)}setCellCtrls(t){const n=new Map(this.cellComps);for(const r of t){const i=r.instanceId;this.cellComps.has(i)?n.delete(i):this.newCellComp(r)}this.destroyCells(n),this.ensureDomOrder(t)}ensureDomOrder(t){if(!this.domOrder)return;const n=[];for(const r of t){const i=this.cellComps.get(r.instanceId);i&&n.push(i.getGui())}tV(this.getGui(),n)}newCellComp(t){const n=this.beans.editSvc?.isEditing(t,{withOpenEditor:!0})??!1,r=new phe(this.beans,t,this.rowCtrl.printLayout,this.getGui(),n);this.cellComps.set(t.instanceId,r),this.getGui().appendChild(r.getGui())}destroy(){super.destroy(),this.destroyCells(this.cellComps)}setFullWidthRowComp(t,n){this.fullWidthCellRenderer=t,this.fullWidthCellRendererParams=n,this.addDestroyFunc(()=>{this.fullWidthCellRenderer=this.beans.context.destroyBean(this.fullWidthCellRenderer),this.fullWidthCellRendererParams=void 0})}destroyCells(t){for(const n of t.values()){if(!n)return;const r=n.cellCtrl.instanceId;if(this.cellComps.get(r)!==n)return;n.detach(),n.destroy(),this.cellComps.delete(r)}}};function mhe(e,t,n){const r=!!n.gos.get("enableCellSpan")&&!!t.getSpannedRowCtrls,i={tag:"div",ref:"eContainer",cls:Ng(e),role:"rowgroup"};if(t.type==="center"||r){const s={tag:"div",ref:"eSpannedContainer",cls:`ag-spanning-container ${C7(e)}`,role:"presentation"};return i.role="presentation",{tag:"div",ref:"eViewport",cls:`ag-viewport ${NA(e)}`,role:"rowgroup",children:[i,r?s:null]}}return i}var vhe=class extends yt{constructor(t){super(),this.eViewport=Ee,this.eContainer=Ee,this.eSpannedContainer=Ee,this.rowCompsNoSpan={},this.rowCompsWithSpan={},this.name=t?.name,this.options=Gf(this.name)}postConstruct(){this.setTemplate(mhe(this.name,this.options,this.beans));const t={setHorizontalScroll:r=>this.eViewport.scrollLeft=r,setViewportHeight:r=>this.eViewport.style.height=r,setRowCtrls:({rowCtrls:r})=>this.setRowCtrls(r),setSpannedRowCtrls:r=>this.setRowCtrls(r,!0),setDomOrder:r=>{this.domOrder=r},setContainerWidth:r=>{this.eContainer.style.width=r,this.eSpannedContainer&&(this.eSpannedContainer.style.width=r)},setOffsetTop:r=>{const i=`translateY(${r})`;this.eContainer.style.transform=i,this.eSpannedContainer&&(this.eSpannedContainer.style.transform=i)}};this.createManagedBean(new E7(this.name)).setComp(t,this.eContainer,this.eSpannedContainer,this.eViewport)}destroy(){this.setRowCtrls([]),this.setRowCtrls([],!0),super.destroy(),this.lastPlacedElement=null}setRowCtrls(t,n){const{beans:r,options:i}=this,s=n?this.eSpannedContainer:this.eContainer,o=n?{...this.rowCompsWithSpan}:{...this.rowCompsNoSpan},a={};n?this.rowCompsWithSpan=a:this.rowCompsNoSpan=a,this.lastPlacedElement=null;const l=[];for(const c of t){const d=c.instanceId,f=o[d];let p;if(f)p=f,delete o[d];else{if(!c.rowNode.displayed)continue;p=new ghe(c,r,i.type)}a[d]=p,l.push([p,!f])}this.removeOldRows(Object.values(o)),this.addRowNodes(l,s)}addRowNodes(t,n){const{domOrder:r}=this;for(const[i,s]of t){const o=i.getGui();r?this.ensureDomOrder(o,n):s&&n.appendChild(o)}}removeOldRows(t){for(const n of t)n.getGui().remove(),n.destroy()}ensureDomOrder(t,n){eV(n,t,this.lastPlacedElement),this.lastPlacedElement=t}},yhe={selector:"AG-ROW-CONTAINER",component:vhe};function Zp(e,t){return t.map(n=>{const r=`e${n[0].toUpperCase()+n.substring(1)}RowContainer`;return e[r]={name:n},{tag:"ag-row-container",ref:r,attrs:{name:n}}})}function whe(e){const t={},n={tag:"div",ref:"eGridRoot",cls:"ag-root ag-unselectable",children:[{tag:"ag-header-root"},{tag:"div",ref:"eTop",cls:"ag-floating-top",role:"presentation",children:Zp(t,["topLeft","topCenter","topRight","topFullWidth"])},{tag:"div",ref:"eBody",cls:"ag-body",role:"presentation",children:[{tag:"div",ref:"eBodyViewport",cls:"ag-body-viewport",role:"presentation",children:Zp(t,["left","center","right","fullWidth"])},{tag:"ag-fake-vertical-scroll"}]},{tag:"div",ref:"eStickyTop",cls:"ag-sticky-top",role:"presentation",children:Zp(t,["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"])},{tag:"div",ref:"eStickyBottom",cls:"ag-sticky-bottom",role:"presentation",children:Zp(t,["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"])},{tag:"div",ref:"eBottom",cls:"ag-floating-bottom",role:"presentation",children:Zp(t,["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"])},{tag:"ag-fake-horizontal-scroll"},e?{tag:"ag-overlay-wrapper"}:null]};return{paramsMap:t,elementParams:n}}var bhe=class extends yt{constructor(){super(...arguments),this.eGridRoot=Ee,this.eBodyViewport=Ee,this.eStickyTop=Ee,this.eStickyBottom=Ee,this.eTop=Ee,this.eBottom=Ee,this.eBody=Ee}postConstruct(){const{overlays:t,rangeSvc:n}=this.beans,r=t?.getOverlayWrapperSelector(),{paramsMap:i,elementParams:s}=whe(!!r);this.setTemplate(s,[...r?[r]:[],sde,ade,fhe,yhe],i);const o=(l,c)=>{const d=`${l}px`;c.style.minHeight=d,c.style.height=d},a={setRowAnimationCssOnBodyViewport:(l,c)=>this.setRowAnimationCssOnBodyViewport(l,c),setColumnCount:l=>UG(this.getGui(),l),setRowCount:l=>WG(this.getGui(),l),setTopHeight:l=>o(l,this.eTop),setBottomHeight:l=>o(l,this.eBottom),setTopInvisible:l=>this.eTop.classList.toggle("ag-invisible",l),setBottomInvisible:l=>this.eBottom.classList.toggle("ag-invisible",l),setStickyTopHeight:l=>this.eStickyTop.style.height=l,setStickyTopTop:l=>this.eStickyTop.style.top=l,setStickyTopWidth:l=>this.eStickyTop.style.width=l,setStickyBottomHeight:l=>{this.eStickyBottom.style.height=l,this.eStickyBottom.classList.toggle("ag-invisible",l==="0px")},setStickyBottomBottom:l=>this.eStickyBottom.style.bottom=l,setStickyBottomWidth:l=>this.eStickyBottom.style.width=l,setColumnMovingCss:(l,c)=>this.toggleCss(l,c),updateLayoutClasses:(l,c)=>{const d=[this.eBodyViewport.classList,this.eBody.classList];for(const f of d)f.toggle(zs.AUTO_HEIGHT,c.autoHeight),f.toggle(zs.NORMAL,c.normal),f.toggle(zs.PRINT,c.print);this.toggleCss(zs.AUTO_HEIGHT,c.autoHeight),this.toggleCss(zs.NORMAL,c.normal),this.toggleCss(zs.PRINT,c.print)},setAlwaysVerticalScrollClass:(l,c)=>this.eBodyViewport.classList.toggle(D7,c),registerBodyViewportResizeListener:l=>{const c=so(this.beans,this.eBodyViewport,l);this.addDestroyFunc(()=>c())},setPinnedTopBottomOverflowY:l=>this.eTop.style.overflowY=this.eBottom.style.overflowY=l,setCellSelectableCss:(l,c)=>{for(const d of[this.eTop,this.eBodyViewport,this.eBottom])d.classList.toggle(l,c)},setBodyViewportWidth:l=>this.eBodyViewport.style.width=l,setGridRootRole:l=>Ka(this.eGridRoot,l)};this.ctrl=this.createManagedBean(new R7),this.ctrl.setComp(a,this.getGui(),this.eBodyViewport,this.eTop,this.eBottom,this.eStickyTop,this.eStickyBottom),(n&&Qa(this.gos)||sm(this.gos))&&Boe(this.getGui(),!0)}setRowAnimationCssOnBodyViewport(t,n){const r=this.eBodyViewport.classList;r.toggle("ag-row-animation",n),r.toggle("ag-row-no-animation",!n)}},Che={selector:"AG-GRID-BODY",component:bhe},V7=class extends le{constructor(){super(...arguments),this.additionalFocusableContainers=new Set}setComp(e,t,n){this.view=e,this.eGridHostDiv=t,this.eGui=n,this.eGui.setAttribute("grid-id",this.beans.context.getId());const{dragAndDrop:r,ctrlsSvc:i}=this.beans;r?.registerGridDropTarget(()=>this.eGui,this),this.createManagedBean(new kA(this.view)),this.view.setRtlClass(this.gos.get("enableRtl")?"ag-rtl":"ag-ltr");const s=so(this.beans,this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(()=>s()),i.register("gridCtrl",this)}isDetailGrid(){return KV(this.getGui())?.getAttribute("row-id")?.startsWith("detail")||!1}getOptionalSelectors(){const e=this.beans;return{paginationSelector:e.pagination?.getPaginationSelector(),gridHeaderDropZonesSelector:e.registry?.getSelector("AG-GRID-HEADER-DROP-ZONES"),sideBarSelector:e.sideBar?.getSelector(),statusBarSelector:e.registry?.getSelector("AG-STATUS-BAR"),watermarkSelector:e.licenseManager?.getWatermarkSelector()}}onGridSizeChanged(){this.eventSvc.dispatchEvent({type:"gridSizeChanged",clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight})}destroyGridUi(){this.view.destroyGridUi()}getGui(){return this.eGui}setResizeCursor(e){const{view:t}=this;if(e===!1)t.setCursor(null);else{const n=e===1?"ew-resize":"ns-resize";t.setCursor(n)}}disableUserSelect(e){this.view.setUserSelect(e?"none":null)}focusNextInnerContainer(e){const t=this.getFocusableContainers(),{indexWithFocus:n,nextIndex:r}=this.getNextFocusableIndex(t,e);if(r<0||r>=t.length)return!1;if(r===0){if(n>0){const{visibleCols:i,focusSvc:s}=this.beans,o=i.allCols,a=Ft(o);if(s.focusGridView({column:a,backwards:!0}))return!0}return!1}return this.focusContainer(t[r],e)}focusInnerElement(e){if(this.gos.getCallback("focusGridInnerElement")?.({fromBottom:!!e}))return!0;const n=this.getFocusableContainers(),{focusSvc:r,visibleCols:i}=this.beans,s=i.allCols;if(e){if(n.length>1)return this.focusContainer(Ft(n),e);const o=Ft(s);if(r.focusGridView({column:o,backwards:e}))return!0}if(this.gos.get("headerHeight")===0||Bu(this.beans)){if(r.focusGridView({column:s[0],backwards:e}))return!0;for(let o=1;o<n.length;o++)if(Rc(n[o].getGui(),e))return!0;return!1}return r.focusFirstHeader()}forceFocusOutOfContainer(e=!1){this.view.forceFocusOutOfContainer(e)}addFocusableContainer(e){this.additionalFocusableContainers.add(e)}removeFocusableContainer(e){this.additionalFocusableContainers.delete(e)}allowFocusForNextCoreContainer(e){const t=this.view.getFocusableContainers(),{nextIndex:n,indexWithFocus:r}=this.getNextFocusableIndex(t,e);if(r===-1||n<0||n>=t.length)return;const i=t[n];i.setAllowFocus?.(!0),setTimeout(()=>{i.setAllowFocus?.(!1)})}isFocusable(){const e=this.beans;return!gx(e)||!Bu(e)||!!e.sideBar?.comp?.isDisplayed()}getNextFocusableIndex(e,t){const n=sn(this.beans),r=e.findIndex(s=>s.getGui().contains(n)),i=r+(t?-1:1);return{indexWithFocus:r,nextIndex:i}}focusContainer(e,t){e.setAllowFocus?.(!0);const n=Rc(e.getGui(),t,!1,!0);return e.setAllowFocus?.(!1),n}getFocusableContainers(){return[...this.view.getFocusableContainers(),...this.additionalFocusableContainers]}destroy(){this.additionalFocusableContainers.clear(),super.destroy()}},xhe=class extends z7{constructor(t){super(),this.gridBody=Ee,this.sideBar=Ee,this.pagination=Ee,this.rootWrapperBody=Ee,this.eGridDiv=t}postConstruct(){const t={destroyGridUi:()=>this.destroyBean(this),setRtlClass:o=>this.addCss(o),forceFocusOutOfContainer:this.forceFocusOutOfContainer.bind(this),updateLayoutClasses:this.updateLayoutClasses.bind(this),getFocusableContainers:this.getFocusableContainers.bind(this),setUserSelect:o=>{this.getGui().style.userSelect=o??"",this.getGui().style.webkitUserSelect=o??""},setCursor:o=>{this.getGui().style.cursor=o??""}},n=this.createManagedBean(new V7),r=n.getOptionalSelectors(),i=this.createTemplate(r),s=[Che,...Object.values(r).filter(o=>!!o)];this.setTemplate(i,s),n.setComp(t,this.eGridDiv,this.getGui()),this.insertGridIntoDom(),this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:o=>n.focusInnerElement(o),forceFocusOutWhenTabGuardsAreEmpty:!0,isEmpty:()=>!n.isFocusable()})}insertGridIntoDom(){const t=this.getGui();this.eGridDiv.appendChild(t),this.addDestroyFunc(()=>{t.remove(),Ec(this.gos,"Grid removed from DOM")})}updateLayoutClasses(t,n){const r=this.rootWrapperBody.classList,{AUTO_HEIGHT:i,NORMAL:s,PRINT:o}=zs,{autoHeight:a,normal:l,print:c}=n;r.toggle(i,a),r.toggle(s,l),r.toggle(o,c),this.toggleCss(i,a),this.toggleCss(s,l),this.toggleCss(o,c)}createTemplate(t){const n=t.gridHeaderDropZonesSelector?{tag:"ag-grid-header-drop-zones"}:null,r=t.sideBarSelector?{tag:"ag-side-bar",ref:"sideBar"}:null,i=t.statusBarSelector?{tag:"ag-status-bar"}:null,s=t.watermarkSelector?{tag:"ag-watermark"}:null,o=t.paginationSelector?{tag:"ag-pagination",ref:"pagination"}:null;return{tag:"div",cls:"ag-root-wrapper",role:"presentation",children:[n,{tag:"div",ref:"rootWrapperBody",cls:"ag-root-wrapper-body",role:"presentation",children:[{tag:"ag-grid-body",ref:"gridBody"},r]},i,o,s]}}getFocusableElement(){return this.rootWrapperBody}forceFocusOutOfContainer(t=!1){if(!t&&this.pagination?.isDisplayed()){this.pagination.forceFocusOutOfContainer(t);return}super.forceFocusOutOfContainer(t)}getFocusableContainers(){const t=[this.gridBody];for(const n of[this.sideBar,this.pagination])n&&t.push(n);return t.filter(n=>qo(n.getGui()))}},Ue=(e,t)=>{for(const n of Object.keys(t))t[n]=e;return t},s_={dispatchEvent:"CommunityCore",...Ue("CommunityCore",{destroy:0,getGridId:0,getGridOption:0,isDestroyed:0,setGridOption:0,updateGridOptions:0,isModuleRegistered:0}),...Ue("GridState",{getState:0,setState:0}),...Ue("SharedRowSelection",{setNodesSelected:0,selectAll:0,deselectAll:0,selectAllFiltered:0,deselectAllFiltered:0,selectAllOnCurrentPage:0,deselectAllOnCurrentPage:0,getSelectedNodes:0,getSelectedRows:0}),...Ue("RowApi",{redrawRows:0,setRowNodeExpanded:0,getRowNode:0,addRenderedRowListener:0,getRenderedNodes:0,forEachNode:0,getFirstDisplayedRowIndex:0,getLastDisplayedRowIndex:0,getDisplayedRowAtIndex:0,getDisplayedRowCount:0}),...Ue("ScrollApi",{getVerticalPixelRange:0,getHorizontalPixelRange:0,ensureColumnVisible:0,ensureIndexVisible:0,ensureNodeVisible:0}),...Ue("KeyboardNavigation",{getFocusedCell:0,clearFocusedCell:0,setFocusedCell:0,tabToNextCell:0,tabToPreviousCell:0,setFocusedHeader:0}),...Ue("EventApi",{addEventListener:0,addGlobalListener:0,removeEventListener:0,removeGlobalListener:0}),...Ue("ValueCache",{expireValueCache:0}),...Ue("CellApi",{getCellValue:0}),...Ue("SharedMenu",{showColumnMenu:0,hidePopupMenu:0}),...Ue("Sort",{onSortChanged:0}),...Ue("PinnedRow",{getPinnedTopRowCount:0,getPinnedBottomRowCount:0,getPinnedTopRow:0,getPinnedBottomRow:0,forEachPinnedRow:0}),...Ue("Overlay",{showLoadingOverlay:0,showNoRowsOverlay:0,hideOverlay:0}),...Ue("RenderApi",{setGridAriaProperty:0,refreshCells:0,refreshHeader:0,isAnimationFrameQueueEmpty:0,flushAllAnimationFrames:0,getSizesForCurrentTheme:0,getCellRendererInstances:0}),...Ue("HighlightChanges",{flashCells:0}),...Ue("RowDrag",{addRowDropZone:0,removeRowDropZone:0,getRowDropZoneParams:0,getRowDropPositionIndicator:0,setRowDropPositionIndicator:0}),...Ue("ColumnApi",{getColumnDefs:0,getColumnDef:0,getDisplayNameForColumn:0,getColumn:0,getColumns:0,applyColumnState:0,getColumnState:0,resetColumnState:0,isPinning:0,isPinningLeft:0,isPinningRight:0,getDisplayedColAfter:0,getDisplayedColBefore:0,setColumnsVisible:0,setColumnsPinned:0,getAllGridColumns:0,getDisplayedLeftColumns:0,getDisplayedCenterColumns:0,getDisplayedRightColumns:0,getAllDisplayedColumns:0,getAllDisplayedVirtualColumns:0}),...Ue("ColumnAutoSize",{sizeColumnsToFit:0,autoSizeColumns:0,autoSizeAllColumns:0}),...Ue("ColumnGroup",{setColumnGroupOpened:0,getColumnGroup:0,getProvidedColumnGroup:0,getDisplayNameForColumnGroup:0,getColumnGroupState:0,setColumnGroupState:0,resetColumnGroupState:0,getLeftDisplayedColumnGroups:0,getCenterDisplayedColumnGroups:0,getRightDisplayedColumnGroups:0,getAllDisplayedColumnGroups:0}),...Ue("ColumnMove",{moveColumnByIndex:0,moveColumns:0}),...Ue("ColumnResize",{setColumnWidths:0}),...Ue("ColumnHover",{isColumnHovered:0}),...Ue("EditCore",{getCellEditorInstances:0,getEditingCells:0,getEditRowValues:0,stopEditing:0,startEditingCell:0,isEditing:0,validateEdit:0}),...Ue("BatchEdit",{startBatchEdit:0,cancelBatchEdit:0,commitBatchEdit:0,isBatchEditing:0}),...Ue("UndoRedoEdit",{undoCellEditing:0,redoCellEditing:0,getCurrentUndoSize:0,getCurrentRedoSize:0}),...Ue("FilterCore",{isAnyFilterPresent:0,onFilterChanged:0}),...Ue("ColumnFilter",{isColumnFilterPresent:0,getColumnFilterInstance:0,destroyFilter:0,setFilterModel:0,getFilterModel:0,getColumnFilterModel:0,setColumnFilterModel:0,showColumnFilter:0,hideColumnFilter:0,getColumnFilterHandler:0,doFilterAction:0}),...Ue("QuickFilter",{isQuickFilterPresent:0,getQuickFilter:0,resetQuickFilter:0}),...Ue("Find",{findGetActiveMatch:0,findGetTotalMatches:0,findGoTo:0,findNext:0,findPrevious:0,findGetNumMatches:0,findGetParts:0,findClearActive:0,findRefresh:0}),...Ue("Pagination",{paginationIsLastPageFound:0,paginationGetPageSize:0,paginationGetCurrentPage:0,paginationGetTotalPages:0,paginationGetRowCount:0,paginationGoToNextPage:0,paginationGoToPreviousPage:0,paginationGoToFirstPage:0,paginationGoToLastPage:0,paginationGoToPage:0}),...Ue("CsrmSsrmSharedApi",{expandAll:0,collapseAll:0}),...Ue("SsrmInfiniteSharedApi",{setRowCount:0,getCacheBlockState:0,isLastRowIndexKnown:0}),...Ue("ClientSideRowModelApi",{onGroupExpandedOrCollapsed:0,refreshClientSideRowModel:0,isRowDataEmpty:0,forEachLeafNode:0,forEachNodeAfterFilter:0,forEachNodeAfterFilterAndSort:0,applyTransaction:0,applyTransactionAsync:0,flushAsyncTransactions:0,getBestCostNodeSelection:0,onRowHeightChanged:0,resetRowHeights:0}),...Ue("CsvExport",{getDataAsCsv:0,exportDataAsCsv:0}),...Ue("InfiniteRowModel",{refreshInfiniteCache:0,purgeInfiniteCache:0,getInfiniteRowCount:0}),...Ue("AdvancedFilter",{getAdvancedFilterModel:0,setAdvancedFilterModel:0,showAdvancedFilterBuilder:0,hideAdvancedFilterBuilder:0}),...Ue("IntegratedCharts",{getChartModels:0,getChartRef:0,getChartImageDataURL:0,downloadChart:0,openChartToolPanel:0,closeChartToolPanel:0,createRangeChart:0,createPivotChart:0,createCrossFilterChart:0,updateChart:0,restoreChart:0}),...Ue("Clipboard",{copyToClipboard:0,cutToClipboard:0,copySelectedRowsToClipboard:0,copySelectedRangeToClipboard:0,copySelectedRangeDown:0,pasteFromClipboard:0}),...Ue("ExcelExport",{getDataAsExcel:0,exportDataAsExcel:0,getSheetDataForExcel:0,getMultipleSheetsAsExcel:0,exportMultipleSheetsAsExcel:0}),...Ue("SharedMasterDetail",{addDetailGridInfo:0,removeDetailGridInfo:0,getDetailGridInfo:0,forEachDetailGridInfo:0}),...Ue("ContextMenu",{showContextMenu:0}),...Ue("ColumnMenu",{showColumnChooser:0,hideColumnChooser:0}),...Ue("CellSelection",{getCellRanges:0,addCellRange:0,clearRangeSelection:0,clearCellSelection:0}),...Ue("SharedRowGrouping",{setRowGroupColumns:0,removeRowGroupColumns:0,addRowGroupColumns:0,getRowGroupColumns:0,moveRowGroupColumn:0}),...Ue("SharedAggregation",{addAggFuncs:0,clearAggFuncs:0,setColumnAggFunc:0}),...Ue("SharedPivot",{isPivotMode:0,getPivotResultColumn:0,setValueColumns:0,getValueColumns:0,removeValueColumns:0,addValueColumns:0,setPivotColumns:0,removePivotColumns:0,addPivotColumns:0,getPivotColumns:0,setPivotResultColumns:0,getPivotResultColumns:0}),...Ue("ServerSideRowModelApi",{getServerSideSelectionState:0,setServerSideSelectionState:0,applyServerSideTransaction:0,applyServerSideTransactionAsync:0,applyServerSideRowData:0,retryServerSideLoads:0,flushServerSideAsyncTransactions:0,refreshServerSide:0,getServerSideGroupLevelState:0,onRowHeightChanged:0,resetRowHeights:0}),...Ue("SideBar",{isSideBarVisible:0,setSideBarVisible:0,setSideBarPosition:0,openToolPanel:0,closeToolPanel:0,getOpenedToolPanel:0,refreshToolPanel:0,isToolPanelShowing:0,getToolPanelInstance:0,getSideBar:0}),...Ue("StatusBar",{getStatusPanel:0}),...Ue("AiToolkit",{getStructuredSchema:0})},ND={isDestroyed:()=>!0,destroy(){},preConstruct(){},postConstruct(){},preWireBeans(){},wireBeans(){}},She=(e,t)=>e.eventSvc.dispatchEvent(t),W7=class{};Reflect.defineProperty(W7,"name",{value:"GridApi"});var Ehe=class extends le{constructor(){super(),this.beanName="apiFunctionSvc",this.api=new W7,this.fns={...ND,dispatchEvent:She},this.preDestroyLink="";const{api:e}=this;for(const t of Object.keys(s_))e[t]=this.makeApi(t)[t]}postConstruct(){this.preDestroyLink=this.beans.frameworkOverrides.getDocLink("grid-lifecycle/#grid-pre-destroyed")}addFunction(e,t){const{fns:n,beans:r}=this;n!==ND&&(n[e]=r?.validation?.validateApiFunction(e,t)??t)}makeApi(e){return{[e]:(...t)=>{const{beans:n,fns:{[e]:r}}=this;return r?r(n,...t):this.apiNotFound(e)}}}apiNotFound(e){const{beans:t,gos:n,preDestroyLink:r}=this;if(!t)ve(26,{fnName:e,preDestroyLink:r});else{const i=s_[e];n.assertModuleRegistered(i,`api.${e}`)&&ve(27,{fnName:e,module:i})}}destroy(){super.destroy(),this.fns=ND,this.beans=null}};function Dhe(e){return e.context.getId()}function Rhe(e){e.gridDestroySvc.destroy()}function Mhe(e){return e.gridDestroySvc.destroyCalled}function The(e,t){return e.gos.get(t)}function khe(e,t,n){U7(e,{[t]:n})}function U7(e,t){e.gos.updateGridOptions({options:t})}function Ahe(e,t){const n=t.replace(/Module$/,"");return e.gos.isModuleRegistered(n)}var Phe={tag:"div",cls:"ag-drag-handle ag-row-drag",attrs:{draggable:"true"}},Nhe=class extends yt{constructor(e,t,n){super(Phe),this.rowNode=e,this.column=t,this.eCell=n}postConstruct(){this.getGui().appendChild($i("rowDrag",this.beans,null)),this.addGuiEventListener("mousedown",t=>{t.stopPropagation()}),this.addDragSource(),this.checkVisibility()}addDragSource(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))}onDragStart(e){const{rowNode:t,column:n,eCell:r,gos:i}=this,s=n.getColDef().dndSourceOnRowDrag,o=e.dataTransfer;if(o.setDragImage(r,0,0),s){const a=_e(i,{rowNode:t,dragEvent:e});s(a)}else try{const a=JSON.stringify(t.data);o.setData("application/json",a),o.setData("text/plain",a)}catch{}}checkVisibility(){const e=this.column.isDndSource(this.rowNode);this.setDisplayed(e)}};function Ohe(e,t){e.rowDragSvc?.rowDragFeature?.addRowDropZone(t)}function Fhe(e,t){const n=e.dragAndDrop?.findExternalZone(t.getContainer());n&&e.dragAndDrop?.removeDropTarget(n)}function Ihe(e,t){return e.rowDragSvc?.rowDragFeature?.getRowDropZone(t)}function Lhe(e){const t=e.rowDropHighlightSvc;return t?{row:t.row,dropIndicatorPosition:t.position}:{row:null,dropIndicatorPosition:"none"}}function _he(e,t){const n=e.rowDropHighlightSvc;if(!n)return;const r=t?.row;let i=t?.dropIndicatorPosition;i!=="above"&&i!=="below"&&i!=="inside"&&(i="none");const s=r?.rowIndex;s==null||i==="none"?n.clear():n.set(r,i)}var jhe=class extends cue{shouldPreventMouseEvent(e){return this.gos.get("enableCellTextSelection")&&super.shouldPreventMouseEvent(e)}},Bhe=class extends le{constructor(){super(...arguments),this.beanName="horizontalResizeSvc"}addResizeBar(e){const t={dragStartPixels:e.dragStartPixels||0,eElement:e.eResizeBar,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this,e),onDragging:this.onDragging.bind(this,e),onDragCancel:this.onDragStop.bind(this,e),includeTouch:!0,stopPropagationForTouch:!0},{dragSvc:n}=this.beans;return n.addDragSource(t),()=>n.removeDragSource(t)}onDragStart(e,t){this.dragStartX=t.clientX,this.setResizeIcons();const n=t instanceof MouseEvent&&t.shiftKey===!0;e.onResizeStart(n)}setResizeIcons(){const e=this.beans.ctrlsSvc.get("gridCtrl");e.setResizeCursor(1),e.disableUserSelect(!0)}onDragStop(e){e.onResizeEnd(this.resizeAmount),this.resetIcons()}resetIcons(){const e=this.beans.ctrlsSvc.get("gridCtrl");e.setResizeCursor(!1),e.disableUserSelect(!1)}onDragging(e,t){this.resizeAmount=t.clientX-this.dragStartX,e.onResizing(this.resizeAmount)}},Hhe={tag:"div",cls:"ag-drag-handle ag-row-drag",attrs:{"aria-hidden":"true"}},zhe=class extends yt{constructor(e,t,n,r,i,s=!1){super(),this.cellValueFn=e,this.rowNode=t,this.column=n,this.customGui=r,this.dragStartPixels=i,this.alwaysVisible=s,this.dragSource=null}isCustomGui(){return this.customGui!=null}postConstruct(){const{beans:e,customGui:t}=this;t?this.setDragElement(t,this.dragStartPixels):(this.setTemplate(Hhe),this.getGui().appendChild($i("rowDrag",e,null)),this.addDragSource()),this.alwaysVisible||this.initCellDrag()}initCellDrag(){const{beans:e,gos:t,rowNode:n}=this,r=this.refreshVisibility.bind(this);this.addManagedPropertyListener("suppressRowDrag",r),this.addManagedListeners(n,{dataChanged:r,cellChanged:r}),this.addManagedListeners(e.eventSvc,t.get("rowDragManaged")?{sortChanged:r,filterChanged:r,columnRowGroupChanged:r,newColumnsLoaded:r}:{newColumnsLoaded:r})}setDragElement(e,t){this.setTemplateFromElement(e,void 0,void 0,!0),this.addDragSource(t)}refreshVisibility(){if(this.alwaysVisible)return;const e={skipAriaHidden:!0};if(this.isNeverDisplayed()){this.setDisplayed(!1,e);return}const t=this.column;let n=typeof t?.getColDef().rowDrag=="function",r=!t||this.isCustomGui()||t.isRowDrag(this.rowNode);r&&this.rowNode.footer&&this.gos.get("rowDragManaged")&&(r=!1,n=!0),this.setDisplayed(n||r,e),this.setVisible(r,e)}isNeverDisplayed(){const{gos:e,beans:t}=this;return!!(e.get("suppressRowDrag")||e.get("rowDragManaged")&&t.rowDragSvc.rowDragFeature?.shouldPreventRowMove()&&!t.dragAndDrop?.hasExternalDropZones())}getSelectedNodes(){const e=this.rowNode;if(!this.gos.get("rowDragMultiRow"))return[e];const n=this.beans.selectionSvc?.getSelectedNodes()??[];return n.indexOf(e)!==-1?n:[e]}getDragItem(){const{column:e,rowNode:t}=this;return{rowNode:t,rowNodes:this.getSelectedNodes(),columns:e?[e]:void 0,defaultTextValue:this.cellValueFn()}}getRowDragText(e){if(e){const t=e.getColDef();if(t.rowDragText)return t.rowDragText}return this.gos.get("rowDragText")}addDragSource(e=4){if(this.dragSource&&this.removeDragSource(),this.gos.get("rowDragManaged")&&this.rowNode.footer)return;const t=this.getGui();this.gos.get("enableCellTextSelection")&&(this.removeMouseDownListener(),this.mouseDownListener=this.addManagedElementListeners(t,{mousedown:r=>{r?.preventDefault()}})[0]);const n=this.getLocaleTextFunc();this.dragSource={type:2,eElement:t,dragItemName:r=>{const i=r?.dragItem||this.getDragItem(),s=(r?.dropTarget?.rows.length??i.rowNodes?.length)||1,o=this.getRowDragText(this.column);return o?o(i,s):s===1?this.cellValueFn():`${s} ${n("rowDragRows","rows")}`},getDragItem:()=>this.getDragItem(),dragStartPixels:e,dragSourceDomDataKey:this.gos.getDomDataKey()},this.beans.dragAndDrop.addDragSource(this.dragSource,!0)}destroy(){this.removeDragSource(),this.removeMouseDownListener(),super.destroy()}removeDragSource(){this.dragSource&&(this.beans.dragAndDrop.removeDragSource(this.dragSource),this.dragSource=null)}removeMouseDownListener(){this.mouseDownListener&&(this.mouseDownListener(),this.mouseDownListener=void 0)}},iw=class{constructor(){this.reordered=!1,this.removals=new Set,this.updates=new Set,this.adds=new Set}};function Ghe(e){const{rowIndex:t,rowPinned:n,column:r}=e;return`${t}.${n??"null"}.${r.getId()}`}function $7(e,t){const n=e.column===t.column,r=e.rowPinned===t.rowPinned,i=e.rowIndex===t.rowIndex;return n&&r&&i}function Vhe(e,t){switch(e.rowPinned){case"top":if(t.rowPinned!=="top")return!0;break;case"bottom":if(t.rowPinned!=="bottom")return!1;break;default:if(De(t.rowPinned))return t.rowPinned!=="top";break}return e.rowIndex<t.rowIndex}function q7(e,t){return!e&&!t?!0:e&&!t||!e&&t?!1:e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned}function Whe(e){let t=0,n;const{pinnedRowModel:r,rowModel:i,pageBounds:s}=e;return r?.getPinnedTopRowCount()?n="top":i.getRowCount()?(n=null,t=s.getFirstRow()):r?.getPinnedBottomRowCount()&&(n="bottom"),n===void 0?null:{rowIndex:t,rowPinned:n}}function Uhe(e){let t,n=null;const{pinnedRowModel:r,pageBounds:i}=e,s=r?.getPinnedBottomRowCount(),o=r?.getPinnedTopRowCount();return s?(n="bottom",t=s-1):e.rowModel.getRowCount()?t=i.getLastRow():o&&(n="top",t=o-1),t===void 0?null:{rowIndex:t,rowPinned:n}}function Ja(e,t){switch(t.rowPinned){case"top":return e.pinnedRowModel?.getPinnedTopRow(t.rowIndex);case"bottom":return e.pinnedRowModel?.getPinnedBottomRow(t.rowIndex);default:return e.rowModel.getRow(t.rowIndex)}}function Fh(e,t){const n=e.spannedRowRenderer?.getCellByPosition(t);if(n)return n;const r=e.rowRenderer.getRowByPosition(t);return r?r.getCellCtrl(t.column):null}function $he(e,t,n){const{rowModel:r,pinnedRowModel:i}=e;let s;return s??(s=r?.getRowNode(t)),n?s??(s=i?.getPinnedRowById(t,n)):(s??(s=i?.getPinnedRowById(t,"top")),s??(s=i?.getPinnedRowById(t,"bottom"))),s}function Yw(e,t,n=!1){const{rowIndex:r,rowPinned:i}=t,{pageBounds:s,pinnedRowModel:o,rowModel:a}=e;if(r===0)return i==="top"?null:i==="bottom"&&a.isRowsToRender()?{rowIndex:s.getLastRow(),rowPinned:null}:o?.isRowsToRender("top")?{rowIndex:o.getPinnedTopRowCount()-1,rowPinned:"top"}:null;if(n){const l=i?void 0:a.getRow(r);return K7(e,l,!0)??{rowIndex:r-1,rowPinned:i}}return{rowIndex:r-1,rowPinned:i}}function o_(e,t,n=!1){const{rowIndex:r,rowPinned:i}=t,{pageBounds:s,pinnedRowModel:o,rowModel:a}=e;if(qhe(e,t))return i==="bottom"?null:i==="top"&&a.isRowsToRender()?{rowIndex:s.getFirstRow(),rowPinned:null}:o?.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;if(n){const l=i?void 0:a.getRow(r);return K7(e,l)??{rowIndex:r+1,rowPinned:i}}return{rowIndex:r+1,rowPinned:i}}function K7(e,t,n=!1){const{gos:r,rowRenderer:i}=e;if(!t?.sticky||!ux(r))return;const s=i.getStickyTopRowCtrls(),o=i.getStickyBottomRowCtrls(),a=!o.some(f=>f.rowNode.rowIndex===t.rowIndex),l=a?s:o,c=(n?-1:1)*(a?-1:1);let d;for(let f=0;f<l.length;f++)if(l[f].rowNode.rowIndex===t.rowIndex){d=l[f+c];break}return d?{rowIndex:d.rowNode.rowIndex,rowPinned:null}:void 0}function qhe(e,t){const{rowPinned:n,rowIndex:r}=t,{pinnedRowModel:i,pageBounds:s}=e;return n==="top"?(i?.getPinnedTopRowCount()??0)-1<=r:n==="bottom"?(i?.getPinnedBottomRowCount()??0)-1<=r:s.getLastRow()<=r}var cm=class{constructor(e,t){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=e,this.pathRoot={rowNode:t,children:null},this.mapToItems[t.id]=this.pathRoot}depthFirstSearchChangedPath(e,t){const{rowNode:n,children:r}=e;if(r)for(let i=0;i<r.length;++i)this.depthFirstSearchChangedPath(r[i],t);t(n)}depthFirstSearchEverything(e,t,n){const r=e.childrenAfterGroup;if(r)for(let i=0,s=r.length;i<s;++i){const o=r[i];o.childrenAfterGroup?this.depthFirstSearchEverything(o,t,n):n&&t(o)}t(e)}forEachChangedNodeDepthFirst(e,t=!1,n=!1){this.active&&!n?this.depthFirstSearchChangedPath(this.pathRoot,e):this.depthFirstSearchEverything(this.pathRoot.rowNode,e,t)}executeFromRootNode(e){e(this.pathRoot.rowNode)}createPathItems(e){let t=e,n=0;for(;!this.mapToItems[t.id];){const r={rowNode:t,children:null};this.mapToItems[t.id]=r,n++,t=t.parent}return n}populateColumnsMap(e,t){if(!this.keepingColumns||!t)return;let n=e;for(;n;){this.nodeIdsToColumns[n.id]||(this.nodeIdsToColumns[n.id]={});for(const r of t)this.nodeIdsToColumns[n.id][r.getId()]=!0;n=n.parent}}linkPathItems(e,t){let n=e;for(let r=0;r<t;r++){const i=this.mapToItems[n.id],s=this.mapToItems[n.parent.id];s.children||(s.children=[]),s.children.push(i),n=n.parent}}addParentNode(e,t){if(!e||e.isRowPinned())return;const n=this.createPathItems(e);this.linkPathItems(e,n),this.populateColumnsMap(e,t)}canSkip(e){return this.active&&!this.mapToItems[e.id]}getValueColumnsForNode(e,t){if(!this.keepingColumns)return t;const n=this.nodeIdsToColumns[e.id];return t.filter(i=>n[i.getId()])}getNotValueColumnsForNode(e,t){if(!this.keepingColumns)return null;const n=this.nodeIdsToColumns[e.id];return t.filter(i=>!n[i.getId()])}},Khe=class{constructor(e,t){this.beans=e,this.groupThrottled=!1,this.scrollChanged=!1,this.scrollChanging=!1,this.oldVScroll=null,this.groupTimer=null,this.groupTarget=null,this.onGroupThrottle=()=>{this.groupTimer=null,this.groupThrottled=!0,this.beans.dragAndDrop?.nudge()};const n=()=>t.scrollFeature.getVScrollPosition().top;this.autoScroll=new rhe({scrollContainer:t.eBodyViewport,scrollAxis:"y",getVerticalPosition:n,setVerticalPosition:r=>t.scrollFeature.setVerticalScrollPosition(r),onScrollCallback:()=>{const r=n();if(this.oldVScroll!==r){this.oldVScroll=r,this.scrollChanging=!0;return}const i=this.scrollChanging;this.scrollChanged=i,this.scrollChanging=!1,i&&(this.beans.dragAndDrop?.nudge(),this.scrollChanged=!1)}})}updateGroup(e,t){this.groupTarget&&this.groupTarget!==e&&this.clearGroup(),e&&(t&&this.groupThrottled&&!e.expanded&&e.childrenAfterSort?.length&&e.isExpandable()&&e.setExpanded(!0,void 0,!0),e.expanded&&e.childrenAfterSort?.length&&(this.groupThrottled=!0,this.groupTarget=e))}startGroup(e){this.groupTarget=e,this.groupTimer===null&&(this.groupTimer=window.setTimeout(this.onGroupThrottle,this.beans.gos.get("rowDragInsertDelay")))}clearGroup(){this.groupThrottled=!1,this.groupTarget=null;const e=this.groupTimer;e!==null&&(this.groupTimer=null,window.clearTimeout(e))}clear(){this.clearGroup(),this.autoScroll.ensureCleared(),this.oldVScroll=null,this.scrollChanged=!1,this.scrollChanging=!1}},Yhe=class extends le{constructor(e){super(),this.eContainer=e,this.lastDraggingEvent=null,this.nudger=null}postConstruct(){const e=this.beans;e.ctrlsSvc.whenReady(this,t=>{this.nudger=new Khe(e,t.gridBodyCtrl)})}destroy(){super.destroy(),this.nudger?.clear(),this.nudger=null,this.lastDraggingEvent=null,this.eContainer=null}getContainer(){return this.eContainer}isInterestedIn(e){return e===2}getIconName(e){return e?.dropTarget?.allowed===!1||this.gos.get("rowDragManaged")&&this.shouldPreventRowMove()?"notAllowed":"move"}shouldPreventRowMove(){const{rowGroupColsSvc:e,filterManager:t,sortSvc:n}=this.beans;return!!((e?.columns??[]).length||t?.isAnyFilterPresent()||n?.isSortActive())}getRowNodes(e){if(!this.isFromThisGrid(e))return e.dragItem.rowNodes||[];const t=e.dragItem.rowNode;if(this.gos.get("rowDragMultiRow")){const n=this.beans.selectionSvc?.getSelectedNodes();if(n&&n.indexOf(t)>=0)return n.slice().sort(Jhe)}return[t]}onDragEnter(e){this.dragging(e,!0)}onDragging(e){this.dragging(e,!1)}dragging(e,t){const{lastDraggingEvent:n,beans:r}=this;if(t){const o=this.getRowNodes(e);e.dragItem.rowNodes=o,c_(o,!0)}this.lastDraggingEvent=e;const i=e.fromNudge,s=this.makeRowsDrop(n,e,i,!1);r.rowDropHighlightSvc?.fromDrag(e),t&&this.dispatchGridEvent("rowDragEnter",e),this.dispatchGridEvent("rowDragMove",e),s?.rowDragManaged&&s.moved&&s.allowed&&s.sameGrid&&!s.suppressMoveWhenRowDragging&&(!i&&!this.nudger?.autoScroll.scrolling||this.nudger?.scrollChanged)&&this.dropRows(s),this.nudger?.autoScroll.check(e.event)}isFromThisGrid(e){return e.dragSource.dragSourceDomDataKey===this.gos.getDomDataKey()}makeRowsDrop(e,t,n,r){const{beans:i,gos:s}=this,o=this.newRowsDrop(t,r),a=i.rowModel;if(t.dropTarget=o,t.changed=!1,!o)return null;let{sameGrid:l,rootNode:c,source:d,target:f,rows:p}=o;f??(f=a.getRow(a.getRowCount()-1)??null);const v=!!this.beans.groupStage?.treeData&&l;let y=null;if(f?.footer){const R=sw(a,-1,f)??sw(a,1,f);y=f.sibling??c,f=R??null}f?.detail&&(f=f.parent),o.moved&&(o.moved=d!==f);let b=.5;if(f&&(l&&o.moved&&(y||!v)?b=d.rowIndex>f.rowIndex?-.5:.5:b=(o.y-f.rowTop-f.rowHeight/2)/f.rowHeight||0),!v&&l&&f&&o.moved&&Xt(s)){const R=Zhe(a,o);R&&(b=d.rowIndex>R.rowIndex?-.5:.5,f=R,o.moved&&(o.moved=d!==f))}const x=this.nudger;x?.updateGroup(f,n),v&&!y&&x&&(!f||b>=.5&&f.rowIndex===i.pageBounds.getLastRow()?y=c:o.moved&&this.targetShouldBeParent(f,b,p)&&(x.groupThrottled&&(y=f),!n&&(!y||f&&!f.expanded&&f.childrenAfterSort?.length)&&x.startGroup(f)),y??(y=f?.parent??c));let S=!1;if(y){if(y===f&&y!==c){const R=y.expanded?sw(a,1,f):null;R?.parent===y?(f=R,b=-.5):S=!0}if(f&&!S){let R=f;for(;R&&R!==c&&R!==y;)f=R,R=R.parent}}o.target=f,o.newParent=y,o.moved&&(o.moved=d!==f);const M=b<0?"above":"below";return o.position=o.moved?S?"inside":M:"none",this.validateRowsDrop(o,v,M,r),t.changed||(t.changed=Xhe(e?.dropTarget,o)),o}newRowsDrop(e,t){const{beans:n,gos:r}=this,i=n.rowModel.rootNode,s=Xt(r)?r.get("rowDragManaged"):!1,o=r.get("suppressMoveWhenRowDragging"),a=this.isFromThisGrid(e);let{rowNode:l,rowNodes:c}=e.dragItem;if(c||(c=l?[l]:[]),l||(l=c[0]),!l||!i)return null;const d=this.beans.dragAndDrop.isDropZoneWithinThisGrid(e);let f=!0;s&&(!c.length||this.shouldPreventRowMove()||(o||!a)&&!d)&&(f=!1);const p=K4(n,e).y,v=this.getOverNode(p);return{api:n.gridApi,context:n.gridOptions.context,draggingEvent:e,rowDragManaged:s,suppressMoveWhenRowDragging:o,sameGrid:a,withinGrid:d,rootNode:i,moved:l!==v,y:p,overNode:v,overIndex:v?.rowIndex??-1,position:"none",source:l,target:v??null,newParent:null,rows:c,allowed:f,highlight:!t&&s&&o&&(d||!a)}}validateRowsDrop(e,t,n,r){const{rowDragManaged:i,suppressMoveWhenRowDragging:s}=e;t||(e.newParent=null),s&&!e.moved&&(e.allowed=!1);const o=(!i||e.allowed)&&this.gos.get("isRowValidDropPosition");if(o){t&&e.newParent&&a_(e.rows,e.newParent)&&(e.newParent=null);const a=o(e);if(!a)e.allowed=!1;else if(typeof a=="object"){a.rows!==void 0&&(e.rows=a.rows??[]),t&&a.newParent!==void 0&&(e.newParent=a.newParent),a.target!==void 0&&(e.target=a.target),a.position&&(e.position=a.position),a.allowed!==void 0?e.allowed=a.allowed:i||(e.allowed=!0);const l=e.draggingEvent;a.changed&&l&&(l.changed=!0),!r&&a.highlight!==void 0&&(e.highlight=a.highlight)}}i&&(e.rows=this.filterRows(e)),t&&e.newParent&&a_(e.rows,e.newParent)&&(e.newParent=null),s&&(!e.rows.length||e.position==="none")&&(e.allowed=!1),(!e.allowed||!e.newParent)&&e.position==="inside"&&(e.position=n)}targetShouldBeParent(e,t,n){const r=e.rowIndex,i=.25;if(t<-.5+i)return!1;if(t<.5-i)return!0;let s,o=r+1;const a=this.beans.rowModel;do s=a.getRow(o++);while(s?.footer);const l=e.childrenAfterGroup;if(s&&s.parent===e&&l?.length){const c=new Set(n);for(const d of l)if(d.rowIndex!==null&&!c.has(d))return!0}return!1}addRowDropZone(e){if(!e.getContainer()){ve(55);return}const t=this.beans.dragAndDrop;if(t.findExternalZone(e.getContainer())){ve(56);return}const n=e.fromGrid?e:{getContainer:e.getContainer,onDragEnter:e.onDragEnter&&(i=>e.onDragEnter(this.rowDragEvent("rowDragEnter",i))),onDragLeave:e.onDragLeave&&(i=>e.onDragLeave(this.rowDragEvent("rowDragLeave",i))),onDragging:e.onDragging&&(i=>e.onDragging(this.rowDragEvent("rowDragMove",i))),onDragStop:e.onDragStop&&(i=>e.onDragStop(this.rowDragEvent("rowDragEnd",i))),onDragCancel:e.onDragCancel&&(i=>e.onDragCancel(this.rowDragEvent("rowDragCancel",i)))},r={isInterestedIn:i=>i===2,getIconName:()=>"move",external:!0,...n};t.addDropTarget(r),this.addDestroyFunc(()=>t.removeDropTarget(r))}getRowDropZone(e){return{getContainer:this.getContainer.bind(this),onDragEnter:n=>{this.onDragEnter(n),e?.onDragEnter?.(this.rowDragEvent("rowDragEnter",n))},onDragLeave:n=>{this.onDragLeave(n),e?.onDragLeave?.(this.rowDragEvent("rowDragLeave",n))},onDragging:n=>{this.onDragging(n),e?.onDragging?.(this.rowDragEvent("rowDragMove",n))},onDragStop:n=>{this.onDragStop(n),e?.onDragStop?.(this.rowDragEvent("rowDragEnd",n))},onDragCancel:n=>{this.onDragCancel(n),e?.onDragCancel?.(this.rowDragEvent("rowDragCancel",n))},fromGrid:!0}}getOverNode(e){const{pageBounds:t,rowModel:n}=this.beans,i=e>t.getCurrentPagePixelRange().pageLastPixel?-1:n.getRowIndexAtPixel(e);return i>=0?n.getRow(i):void 0}rowDragEvent(e,t){const n=this.beans,{dragItem:r,dropTarget:i,event:s,vDirection:o}=t,a=i?.rootNode===n.rowModel.rootNode,l=a?i.y:K4(n,t).y,c=a?i.overNode:this.getOverNode(l),d=a?i.overIndex:c?.rowIndex??-1;return{api:n.gridApi,context:n.gridOptions.context,type:e,event:s,node:r.rowNode,nodes:r.rowNodes,overIndex:d,overNode:c,y:l,vDirection:o,rowsDrop:i}}dispatchGridEvent(e,t){const n=this.rowDragEvent(e,t);this.eventSvc.dispatchEvent(n)}onDragLeave(e){this.dispatchGridEvent("rowDragLeave",e),this.stopDragging(e)}onDragStop(e){const t=this.makeRowsDrop(this.lastDraggingEvent,e,!1,!0);this.dispatchGridEvent("rowDragEnd",e),t?.allowed&&t.rowDragManaged&&(t.suppressMoveWhenRowDragging||!t.sameGrid||this.nudger?.autoScroll.scrolling)&&this.dropRows(t),this.stopDragging(e)}onDragCancel(e){this.dispatchGridEvent("rowDragCancel",e),this.stopDragging(e)}stopDragging(e){this.nudger?.clear(),this.beans.rowDropHighlightSvc?.fromDrag(null),c_(e.dragItem.rowNodes,!1)}dropRows(e){return e.sameGrid?this.csrmMoveRows(e):this.csrmAddRows(e)}csrmAddRows({position:e,target:t,rows:n}){const r=rf(this.gos),i=this.beans.rowModel,s=n.filter(({data:a,rowPinned:l})=>!i.getRowNode(r?.({data:a,level:0,rowPinned:l})??a.id)).map(({data:a})=>a);if(s.length===0)return!1;const o=t?l_(t)+(e==="above"?0:1):void 0;return i.updateRowData({add:s,addIndex:o}),!0}filterRows({newParent:e,rows:t}){let n;for(let r=0,i=t.length;r<i;++r){let s=!0;const o=t[r];(!o||o.footer||o.rowTop===null&&o!==this.beans.rowModel.getRowNode(o.id)||e&&o.parent!==e&&Qhe(o,e)||!q2(o))&&(s=!1),s?n?.push(o):n??(n=t.slice(0,r))}return n??t}csrmMoveRows({position:e,target:t,rows:n,newParent:r,rootNode:i}){let s=!1;const o=new Set;for(const p of n){r&&p.parent!==r&&(p.treeParent=r,s=!0);const v=q2(p);v&&o.add(v)}if(!s&&o.size===0)return!1;const a=this.beans.focusSvc,l=a.getFocusedCell(),c=l&&Fh(this.beans,l);if(o.size&&this.reorderLeafChildren(o,...this.getMoveRowsBounds(o,t,e==="above"))&&(s=!0),!s)return!1;const d=this.beans.rowModel,f=new iw;return f.reordered=!0,d.refreshModel({step:"group",keepRenderedRows:!0,animate:!this.gos.get("suppressAnimationFrame"),changedPath:new cm(!1,i),changedRowNodes:f}),c?c.focusCell():a.clearFocusedCell(),!0}getMoveRowsBounds(e,t,n){const r=this.beans.rowModel.rootNode?._leafs?.length??0;let i=t?l_(t):-1;i<0||i>=r?i=r:n||++i;let s=i,o=Math.min(i,r-1);for(const a of e){const l=a.sourceRowIndex;l<s&&(s=l),l>o&&(o=l)}return[s,i,o]}reorderLeafChildren(e,t,n,r){let i=!1;const s=this.beans.rowModel.rootNode?._leafs;if(!e.size||!s)return!1;let o=t;for(let l=t;l<n;++l){const c=s[l];e.has(c)||(c.sourceRowIndex!==o&&(c.sourceRowIndex=o,s[o]=c,i=!0),++o)}let a=r;for(let l=r;l>=n;--l){const c=s[l];e.has(c)||(c.sourceRowIndex!==a&&(c.sourceRowIndex=a,s[a]=c,i=!0),--a)}for(const l of e)l.sourceRowIndex!==o&&(l.sourceRowIndex=o,s[o]=l,i=!0),++o;return i}},sw=(e,t,n)=>{if(n){const r=e.getRowCount();let i=n.rowIndex+t;for(;i>=0&&i<r;){const s=e.getRow(i);if(!s||!s.footer&&!s.detail)return s;i+=t}}},Qhe=(e,t)=>{let n=t;for(;n;){if(n===e)return!0;n=n.parent}return!1},a_=(e,t)=>{for(let n=0,r=e.length;n<r;++n)if(e[n].parent!==t)return!1;return!0},l_=e=>{const t=q2(e);return t!==void 0?t.sourceRowIndex:-1},q2=e=>e.data?e:d7(e.childrenAfterGroup),Xhe=(e,t)=>e!==t&&(!e||e.sameGrid!==t.sameGrid||e.allowed!==t.allowed||e.position!==t.position||e.target!==t.target||e.source!==t.source||e.newParent!==t.newParent||!Lc(e.rows,t.rows)),Jhe=({rowIndex:e},{rowIndex:t})=>e!==null&&t!==null?e-t:0,c_=(e,t)=>{for(let n=0,r=e?.length||0;n<r;++n){const i=e[n];i.dragging!==t&&(i.dragging=t,i.dispatchRowEvent("draggingChanged"))}},Zhe=(e,t)=>{let n=null,r=t.target;if(r&&t.rows.indexOf(r)<0)return null;const i=t.source;if(!r||!i)return null;let s=r.rowIndex-i.rowIndex;const o=s<0?-1:1;s=t.suppressMoveWhenRowDragging?Math.abs(s):1;const a=new Set(t.rows);do{const l=sw(e,o,r);if(!l)break;a.has(l)||(n=l,--s),r=l}while(s>0);return n},efe=class extends le{constructor(){super(...arguments),this.beanName="rowDragSvc"}setupRowDrag(e,t){const n=t.createManagedBean(new Yhe(e)),r=this.beans.dragAndDrop;r.addDropTarget(n),t.addDestroyFunc(()=>r.removeDropTarget(n)),this.rowDragFeature=n}createRowDragComp(e,t,n,r,i,s){return new zhe(e,t,n,r,i,s)}createRowDragCompForRow(e,t){if(Qa(this.gos))return;const n=this.getLocaleTextFunc();return this.createRowDragComp(()=>`1 ${n("rowDragRow","row")}`,e,void 0,t,void 0,!0)}createRowDragCompForCell(e,t,n,r,i,s){const o=this.gos;return o.get("rowDragManaged")&&(!Xt(o)||o.get("pagination"))?void 0:this.createRowDragComp(n,e,t,r,i,s)}},tfe=class extends le{constructor(){super(...arguments),this.beanName="rowDropHighlightSvc",this.uiLevel=0,this.dragging=!1,this.row=null,this.position="none"}postConstruct(){this.addManagedEventListeners({modelUpdated:this.onModelUpdated.bind(this)})}onModelUpdated(){const e=this.row,t=this.dragging;!e||e?.rowIndex===null||this.position==="none"?this.clear():this.set(e,this.position),this.dragging=t}destroy(){this.clear(),super.destroy()}clear(){const e=this.row;this.dragging=!1,e&&(this.uiLevel=0,this.position="none",this.row=null,e.dispatchRowEvent("rowHighlightChanged"))}set(e,t){const n=e!==this.row,r=e.uiLevel,i=t!==this.position,s=r!==this.uiLevel;this.dragging=!1,(n||i||s)&&(n&&this.clear(),this.uiLevel=r,this.position=t,this.row=e,e.dispatchRowEvent("rowHighlightChanged"))}fromDrag(e){const t=e?.dropTarget;if(t){const{highlight:n,target:r,position:i}=t;if(n&&r&&i!=="none"){this.set(r,i),this.dragging=!0;return}}this.dragging&&this.clear()}},Y7={moduleName:"Drag",version:Re,beans:[jhe]},nfe={moduleName:"DragAndDrop",version:Re,dynamicBeans:{dndSourceComp:Nhe},icons:{rowDrag:"grip"}},Q7={moduleName:"SharedDragAndDrop",version:Re,beans:[due],dependsOn:[Y7],userComponents:{agDragAndDropImage:Lde},icons:{columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",rowDrag:"grip"}},rfe={moduleName:"RowDrag",version:Re,beans:[tfe,efe],apiFunctions:{addRowDropZone:Ohe,removeRowDropZone:Fhe,getRowDropZoneParams:Ihe,getRowDropPositionIndicator:Lhe,setRowDropPositionIndicator:_he},dependsOn:[Q7]},ife={moduleName:"HorizontalResize",version:Re,beans:[Bhe],dependsOn:[Y7]},sfe=":where(.ag-ltr) :where(.ag-column-moving){.ag-cell,.ag-header-cell,.ag-spanned-cell-wrapper{transition:left .2s}.ag-header-group-cell{transition:left .2s,width .2s}}:where(.ag-rtl) :where(.ag-column-moving){.ag-cell,.ag-header-cell,.ag-spanned-cell-wrapper{transition:right .2s}.ag-header-group-cell{transition:right .2s,width .2s}}",ofe=class extends le{constructor(){super(...arguments),this.beanName="colAnimation",this.executeNextFuncs=[],this.executeLaterFuncs=[],this.active=!1,this.activeNext=!1,this.suppressAnimation=!1,this.animationThreadCount=0}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>this.gridBodyCtrl=e.gridBodyCtrl)}isActive(){return this.active&&!this.suppressAnimation}setSuppressAnimation(e){this.suppressAnimation=e}start(){if(this.active)return;const{gos:e}=this;e.get("suppressColumnMoveAnimation")||e.get("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0,this.activeNext=!0)}finish(){this.active&&this.flush(()=>this.activeNext=!1,()=>this.active=!1)}executeNextVMTurn(e){this.activeNext?this.executeNextFuncs.push(e):e()}executeLaterVMTurn(e){this.active?this.executeLaterFuncs.push(e):e()}ensureAnimationCssClassPresent(){this.animationThreadCount++;const e=this.animationThreadCount,{gridBodyCtrl:t}=this;t.setColumnMovingCss(!0),this.executeLaterFuncs.push(()=>{this.animationThreadCount===e&&t.setColumnMovingCss(!1)})}flush(e,t){const{executeNextFuncs:n,executeLaterFuncs:r}=this;if(n.length===0&&r.length===0){e(),t();return}const i=s=>{for(;s.length;){const o=s.pop();o&&o()}};this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e(),i(n)},0),window.setTimeout(()=>{t(),i(r)},200)})}};function afe(e,t,n){e.colMoves?.moveColumnByIndex(t,n,"api")}function lfe(e,t,n){e.colMoves?.moveColumns(t,n,"api")}var cfe=class extends le{constructor(e){super(),this.pinned=e,this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[]}onDragEnter(e){if(this.clearColumnsList(),this.gos.get("functionsReadOnly"))return;const t=e.dragItem.columns;if(t)for(const n of t)n.isPrimary()&&(n.isAnyFunctionActive()||(n.isAllowValue()?this.columnsToAggregate.push(n):n.isAllowRowGroup()?this.columnsToGroup.push(n):n.isAllowPivot()&&this.columnsToPivot.push(n)))}getIconName(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?"pinned":"move":null}onDragLeave(e){this.clearColumnsList()}clearColumnsList(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0}onDragging(e){}onDragStop(e){const{valueColsSvc:t,rowGroupColsSvc:n,pivotColsSvc:r}=this.beans;this.columnsToAggregate.length>0&&t?.addColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&n?.addColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&r?.addColumns(this.columnsToPivot,"toolPanelDragAndDrop")}onDragCancel(){this.clearColumnsList()}};function ufe(e,t){!t||t.length<=1||t.filter(r=>e.indexOf(r)<0).length>0||t.sort((r,i)=>{const s=e.indexOf(r),o=e.indexOf(i);return s-o})}function dfe(e){const t=[...e];for(const n of e){let r=null,i=n.getParent();for(;i!=null&&i.getDisplayedLeafColumns().length===1;)r=i,i=i.getParent();if(r!=null){const o=!!r.getColGroupDef()?.marryChildren?r.getProvidedColumnGroup().getLeafColumns():r.getLeafColumns();for(const a of o)t.includes(a)||t.push(a)}}return t}function hfe(e,t,n,r){const i=r.allCols;let s=null,o=null;for(let a=0;a<e.length;a++){const l=e[a],c=n.getProposedColumnOrder(t,l);if(!n.doesOrderPassRules(c))continue;const d=c.filter(p=>i.includes(p));if(o===null)o=d;else if(!Lc(d,o))break;const f=pfe(c);(s===null||f<s.fragCount)&&(s={move:l,fragCount:f})}return s}function X7(e){const{isFromHeader:t,fromLeft:n,xPosition:r,fromEnter:i,fakeEvent:s,pinned:o,gos:a,colModel:l,colMoves:c,visibleCols:d}=e;let{allMovingColumns:f}=e;t&&(f=dfe(f));const p=f.slice();ufe(l.getCols(),p);const v=mfe({movingCols:p,draggingRight:n,xPosition:r,pinned:o,gos:a,colModel:l,visibleCols:d}),y=ffe(p,l);if(v.length===0)return;const b=v[0];if(y!==null&&(t||!i)&&!s&&(!n&&b>=y||n&&b<=y))return;const S=hfe(v,p,c,d);if(!S)return;const M=S.move;if(!(M>l.getCols().length-p.length))return{columns:p,toIndex:M}}function J7(e){const{columns:t,toIndex:n}=X7(e)||{},{finished:r,colMoves:i}=e;return!t||n==null?null:(i.moveColumns(t,n,"uiColumnMoved",r),r?null:{columns:t,toIndex:n})}function ffe(e,t){const n=t.getCols(),r=e.map(l=>n.indexOf(l)).sort((l,c)=>l-c),i=r[0];return Ft(r)-i!==r.length-1?null:i}function pfe(e){function t(r){const i=[];let s=r.getOriginalParent();for(;s!=null;)i.push(s),s=s.getOriginalParent();return i}let n=0;for(let r=0;r<e.length-1;r++){let i=t(e[r]),s=t(e[r+1]);[i,s]=i.length>s.length?[i,s]:[s,i];for(const o of i)s.indexOf(o)===-1&&n++}return n}function gfe(e,t){switch(t){case"left":return e.leftCols;case"right":return e.rightCols;default:return e.centerCols}}function mfe(e){const{movingCols:t,draggingRight:n,xPosition:r,pinned:i,gos:s,colModel:o,visibleCols:a}=e;if(s.get("suppressMovableColumns")||t.some(R=>R.getColDef().suppressMovable))return[];const c=gfe(a,i),d=o.getCols(),f=c.filter(R=>t.includes(R)),p=c.filter(R=>!t.includes(R)),v=d.filter(R=>!t.includes(R));let y=0,b=r;if(n){let R=0;for(const T of f)R+=T.getActualWidth();b-=R}if(b>0){for(let R=0;R<p.length;R++){const T=p[R];if(b-=T.getActualWidth(),b<0)break;y++}n&&y++}let x;if(y>0){const R=p[y-1];x=v.indexOf(R)+1}else x=v.indexOf(p[0]),x===-1&&(x=0);const S=[x],M=(R,T)=>R-T;if(n){let R=x+1;const T=d.length-1;for(;R<=T;)S.push(R),R++;S.sort(M)}else{let R=x;const T=d.length-1;let k=d[R];for(;R<=T&&c.indexOf(k)<0;)R++,S.push(R),k=d[R];R=x-1;const P=0;for(;R>=P;)S.push(R),R--;S.sort(M).reverse()}return S}function K2(e){const{pinned:t,fromKeyboard:n,gos:r,ctrlsSvc:i,useHeaderRow:s,skipScrollPadding:o}=e;let a=i.getHeaderRowContainerCtrl(t)?.eViewport,{x:l}=e;return a?(n&&(l-=a.getBoundingClientRect().left),r.get("enableRtl")&&(s&&(a=a.querySelector(".ag-header-row")),l=a.clientWidth-l),t==null&&!o&&(l+=i.get("center").getCenterViewportScrollLeft()),l):0}function OD(e,t){for(const n of e)n.moving=t,n.dispatchColEvent("movingChanged","uiColumnMoved")}var u_=7,Y2=100,n0=Y2/2,vfe=5,yfe=100,wfe=class extends le{constructor(e){super(),this.pinned=e,this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.isCenterContainer=!De(e)}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}getIconName(){const{pinned:e,lastDraggingEvent:t}=this,{dragItem:n}=t||{},r=n?.columns??[];for(const i of r){const s=i.getPinned();if(i.getColDef().lockPinned){if(s==e)return"move";continue}const o=n?.containerType;if(o===e||!e)return"move";if(e&&(!s||o!==e))return"pinned"}return"notAllowed"}onDragEnter(e){const t=e.dragItem,n=t.columns;if(e.dragSource.type===0)this.setColumnsVisible(n,!0,"uiColumnDragged");else{const i=t.visibleState,s=(n||[]).filter(o=>i[o.getId()]&&!o.isVisible());this.setColumnsVisible(s,!0,"uiColumnDragged")}this.gos.get("suppressMoveWhenColumnDragging")||this.attemptToPinColumns(n,this.pinned),this.onDragging(e,!0,!0)}onDragging(e=this.lastDraggingEvent,t=!1,n=!1,r=!1){const{gos:i,ctrlsSvc:s}=this.beans,o=i.get("suppressMoveWhenColumnDragging");if(r&&!o){this.finishColumnMoving();return}if(this.lastDraggingEvent=e,!e||!r&&Kt(e.hDirection))return;const a=K2({x:e.x,pinned:this.pinned,gos:i,ctrlsSvc:s});t||this.checkCenterForScrolling(a),o?this.handleColumnDragWhileSuppressingMovement(e,t,n,a,r):this.handleColumnDragWhileAllowingMovement(e,t,n,a,r)}onDragLeave(){this.ensureIntervalCleared(),this.clearHighlighted(),this.updateDragItemContainerType(),this.lastMovedInfo=null}onDragStop(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null}onDragCancel(){this.clearHighlighted(),this.ensureIntervalCleared(),this.lastMovedInfo=null}setColumnsVisible(e,t,n){if(!e?.length)return;const r=e.filter(i=>!i.getColDef().lockVisible);r.length&&this.beans.colModel.setColsVisible(r,t,n)}finishColumnMoving(){this.clearHighlighted();const e=this.lastMovedInfo;if(!e)return;const{columns:t,toIndex:n}=e;this.beans.colMoves.moveColumns(t,n,"uiColumnMoved",!0)}updateDragItemContainerType(){const{lastDraggingEvent:e}=this;if(this.gos.get("suppressMoveWhenColumnDragging")||!e)return;const t=e.dragItem;t&&(t.containerType=this.pinned)}handleColumnDragWhileSuppressingMovement(e,t,n,r,i){const s=this.getAllMovingColumns(e,!0);if(i){const o=this.isAttemptingToPin(s);o&&this.attemptToPinColumns(s,void 0,!0);const{fromLeft:a,xPosition:l}=this.getNormalisedXPositionInfo(s,o)||{};if(a==null||l==null){this.finishColumnMoving();return}this.moveColumnsAfterHighlight({allMovingColumns:s,xPosition:l,fromEnter:t,fakeEvent:n,fromLeft:a})}else{if(!this.beans.dragAndDrop.isDropZoneWithinThisGrid(e))return;this.highlightHoveredColumn(s,r)}}handleColumnDragWhileAllowingMovement(e,t,n,r,i){const s=this.getAllMovingColumns(e),o=this.normaliseDirection(e.hDirection)==="right",a=e.dragSource.type===1,l=this.getMoveColumnParams({allMovingColumns:s,isFromHeader:a,xPosition:r,fromLeft:o,fromEnter:t,fakeEvent:n}),c=J7({...l,finished:i});c&&(this.lastMovedInfo=c)}getAllMovingColumns(e,t=!1){const n=e.dragSource.getDragItem();let r=null;t?(r=n.columnsInSplit,r||(r=n.columns)):r=n.columns;const i=s=>s.getColDef().lockPinned?s.getPinned()==this.pinned:!0;return r?r.filter(i):[]}getMoveColumnParams(e){const{allMovingColumns:t,isFromHeader:n,xPosition:r,fromLeft:i,fromEnter:s,fakeEvent:o}=e,{gos:a,colModel:l,colMoves:c,visibleCols:d}=this.beans;return{allMovingColumns:t,isFromHeader:n,fromLeft:i,xPosition:r,pinned:this.pinned,fromEnter:s,fakeEvent:o,gos:a,colModel:l,colMoves:c,visibleCols:d}}highlightHoveredColumn(e,t){const{gos:n,colModel:r}=this.beans,i=n.get("enableRtl"),s=r.getCols().filter(d=>d.isVisible()&&d.getPinned()===this.pinned);let o=null,a=null,l=null;for(const d of s){if(a=d.getActualWidth(),o=this.getNormalisedColumnLeft(d,0,i),o!=null){const f=o+a;if(o<=t&&f>=t){l=d;break}}o=null,a=null}if(l)e.indexOf(l)!==-1&&(l=null);else{for(let d=s.length-1;d>=0;d--){const f=s[d],p=s[d].getParent();if(!p){l=f;break}const v=p?.getDisplayedLeafColumns();if(v.length){l=Ft(v);break}}if(!l)return;o=this.getNormalisedColumnLeft(l,0,i),a=l.getActualWidth()}if(this.lastHighlightedColumn?.column!==l&&this.clearHighlighted(),l==null||o==null||a==null)return;let c;t-o<a/2!==i?c=0:c=1,d_(l,c),this.lastHighlightedColumn={column:l,position:c}}getNormalisedXPositionInfo(e,t){const{gos:n,visibleCols:r}=this.beans,i=n.get("enableRtl"),{firstMovingCol:s,column:o,position:a}=this.getColumnMoveAndTargetInfo(e,t,i);if(!s||!o||a==null)return;const l=r.allCols,c=l.indexOf(s),d=l.indexOf(o),f=a===0!==i,p=c<d||c===d&&!f;let v=0;if(f?p&&(v-=1):p||(v+=1),d+v===c)return;const y=l[d+v];if(!y)return;const b=this.getNormalisedColumnLeft(y,20,i);return{fromLeft:p,xPosition:b}}getColumnMoveAndTargetInfo(e,t,n){const r=this.lastHighlightedColumn||{},{firstMovingCol:i,lastMovingCol:s}=bfe(e);if(!i||!s||r.column||!t)return{firstMovingCol:i,...r};const a=this.getPinDirection()==="left";return{firstMovingCol:i,position:a?1:0,column:a!==n?i:s}}normaliseDirection(e){if(this.gos.get("enableRtl"))switch(e){case"left":return"right";case"right":return"left"}return e}getNormalisedColumnLeft(e,t,n){const{gos:r,ctrlsSvc:i}=this.beans,s=e.getLeft();if(s==null)return null;const o=e.getActualWidth();return K2({x:n?s+o-t:s+t,pinned:e.getPinned(),useHeaderRow:n,skipScrollPadding:!0,gos:r,ctrlsSvc:i})}isAttemptingToPin(e){const t=this.needToMoveLeft||this.needToMoveRight,n=this.failedMoveAttempts>u_;return t&&n||e.some(r=>r.getPinned()!==this.pinned)}moveColumnsAfterHighlight(e){const{allMovingColumns:t,xPosition:n,fromEnter:r,fakeEvent:i,fromLeft:s}=e,o=this.getMoveColumnParams({allMovingColumns:t,isFromHeader:!0,xPosition:n,fromLeft:s,fromEnter:r,fakeEvent:i}),{columns:a,toIndex:l}=X7(o)||{};a&&l!=null&&(this.lastMovedInfo={columns:a,toIndex:l}),this.finishColumnMoving()}clearHighlighted(){const{lastHighlightedColumn:e}=this;e&&(d_(e.column,null),this.lastHighlightedColumn=null)}checkCenterForScrolling(e){if(!this.isCenterContainer)return;const t=this.beans.ctrlsSvc.get("center"),n=t.getCenterViewportScrollLeft(),r=n+t.getCenterWidth();let i,s;this.gos.get("enableRtl")?(i=e<n+n0,s=e>r-n0):(s=e<n+n0,i=e>r-n0),this.needToMoveRight=i,this.needToMoveLeft=s,s||i?this.ensureIntervalStarted():this.ensureIntervalCleared()}ensureIntervalStarted(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),yfe),this.beans.dragAndDrop.setDragImageCompIcon(this.needToMoveLeft?"left":"right",!0))}ensureIntervalCleared(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.failedMoveAttempts=0,this.beans.dragAndDrop.setDragImageCompIcon(this.getIconName()))}moveInterval(){let e;this.intervalCount++,e=10+this.intervalCount*vfe,e>Y2&&(e=Y2);let t=null;const n=this.gridBodyCon.scrollFeature;if(this.needToMoveLeft?t=n.scrollHorizontally(-e):this.needToMoveRight&&(t=n.scrollHorizontally(e)),t!==0)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;const{pinnedCols:r,dragAndDrop:i,gos:s}=this.beans;if(this.failedMoveAttempts<=u_+1||!r)return;if(i.setDragImageCompIcon("pinned"),!s.get("suppressMoveWhenColumnDragging")){const o=this.lastDraggingEvent?.dragItem.columns;this.attemptToPinColumns(o,void 0,!0)}}}getPinDirection(){if(this.needToMoveLeft||this.pinned==="left")return"left";if(this.needToMoveRight||this.pinned==="right")return"right"}attemptToPinColumns(e,t,n=!1){const r=(e||[]).filter(o=>!o.getColDef().lockPinned);if(!r.length)return 0;n&&(t=this.getPinDirection());const{pinnedCols:i,dragAndDrop:s}=this.beans;return i?.setColsPinned(r,t,"uiColumnDragged"),n&&s.nudge(),r.length}destroy(){super.destroy(),this.lastDraggingEvent=null,this.clearHighlighted(),this.lastMovedInfo=null}};function d_(e,t){e.highlighted!==t&&(e.highlighted=t,e.dispatchColEvent("headerHighlightChanged","uiColumnMoved"))}function bfe(e){const t=e.length;let n,r;for(let i=0;i<t;i++){if(!n){const s=e[i];s.getLeft()!=null&&(n=s)}if(!r){const s=e[t-1-i];s.getLeft()!=null&&(r=s)}if(n&&r)break}return{firstMovingCol:n,lastMovingCol:r}}var Cfe=class extends le{constructor(e,t){super(),this.pinned=e,this.eContainer=t}postConstruct(){const{ctrlsSvc:e,dragAndDrop:t}=this.beans,n=this.pinned;e.whenReady(this,r=>{let i;const s=r.gridBodyCtrl.eBodyViewport;switch(n){case"left":i=[[s,r.left.eContainer],[r.bottomLeft.eContainer],[r.topLeft.eContainer]];break;case"right":i=[[s,r.right.eContainer],[r.bottomRight.eContainer],[r.topRight.eContainer]];break;default:i=[[s,r.center.eViewport],[r.bottomCenter.eViewport],[r.topCenter.eViewport]];break}this.eSecondaryContainers=i}),this.moveColumnFeature=this.createManagedBean(new wfe(n)),this.bodyDropPivotTarget=this.createManagedBean(new cfe(n)),t.addDropTarget(this),this.addDestroyFunc(()=>t.removeDropTarget(this))}isInterestedIn(e){return e===1||e===0&&this.gos.get("allowDragFromColumnsToolPanel")}getSecondaryContainers(){return this.eSecondaryContainers}getContainer(){return this.eContainer}getIconName(){return this.currentDropListener.getIconName()}isDropColumnInPivotMode(e){return this.beans.colModel.isPivotMode()&&e.dragSource.type===0}onDragEnter(e){this.currentDropListener=this.isDropColumnInPivotMode(e)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(e)}onDragLeave(e){this.currentDropListener.onDragLeave(e)}onDragging(e){this.currentDropListener.onDragging(e)}onDragStop(e){this.currentDropListener.onDragStop(e)}onDragCancel(){this.currentDropListener.onDragCancel()}},xfe=class extends le{constructor(){super(...arguments),this.beanName="colMoves"}moveColumnByIndex(e,t,n){const r=this.beans.colModel.getCols();if(!r)return;const i=r[e];this.moveColumns([i],t,n)}moveColumns(e,t,n,r=!0){const{colModel:i,colAnimation:s,visibleCols:o,eventSvc:a}=this.beans,l=i.getCols();if(!l)return;if(t>l.length-e.length){ve(30,{toIndex:t});return}s?.start();const c=i.getColsForKeys(e);this.doesMovePassRules(c,t)&&(P4(i.getCols(),c,t),o.refresh(n),a.dispatchEvent({type:"columnMoved",columns:c,column:c.length===1?c[0]:null,toIndex:t,finished:r,source:n})),s?.finish()}doesMovePassRules(e,t){const n=this.getProposedColumnOrder(e,t);return this.doesOrderPassRules(n)}doesOrderPassRules(e){const{colModel:t,gos:n}=this.beans;return!(!OV(e,t.getColTree())||!(i=>{const s=c=>c?c==="left"||c===!0?-1:1:0,o=n.get("enableRtl");let a=o?1:-1,l=!0;for(const c of i){const d=s(c.getColDef().lockPosition);o?d>a&&(l=!1):d<a&&(l=!1),a=d}return l})(e))}getProposedColumnOrder(e,t){const r=this.beans.colModel.getCols().slice();return P4(r,e,t),r}createBodyDropTarget(e,t){return new Cfe(e,t)}moveHeader(e,t,n,r,i){const{ctrlsSvc:s,gos:o,colModel:a,visibleCols:l,focusSvc:c}=this.beans,d=t.getBoundingClientRect(),f=d.left,p=Mn(n),v=p?d.width:n.getActualWidth(),y=e==="left"!==o.get("enableRtl"),b=K2({x:y?f-20:f+v+20,pinned:r,fromKeyboard:!0,gos:o,ctrlsSvc:s}),x=c.focusedHeader;J7({allMovingColumns:p?n.getLeafColumns():[n],isFromHeader:!0,fromLeft:e==="right",xPosition:b,pinned:r,fromEnter:!1,fakeEvent:!1,gos:o,colModel:a,colMoves:this,visibleCols:l,finished:!0});let S;if(p){const M=n.getDisplayedLeafColumns();S=y?M[0]:Ft(M)}else S=n;if(s.getScrollFeature().ensureColumnVisible(S,"auto"),(!i.isAlive()||o.get("ensureDomOrder"))&&x){let M;if(p){const R=n.getGroupId(),T=n.getLeafColumns();if(!T.length)return;const k=T[0].getParent();if(!k)return;M=Sfe(k,R)}else M=n;M&&c.focusHeaderPosition({headerPosition:{...x,column:M}})}}setDragSourceForHeader(e,t,n){const{gos:r,colModel:i,dragAndDrop:s,visibleCols:o}=this.beans;let a=!r.get("suppressDragLeaveHidesColumns");const l=Mn(t),c=l?t.getProvidedColumnGroup().getLeafColumns():[t],f={type:1,eElement:e,getDefaultIconName:()=>a?"hide":"notAllowed",getDragItem:l?()=>Dfe(t,o.allCols):()=>Efe(t),dragItemName:n,onDragStarted:()=>{a=!r.get("suppressDragLeaveHidesColumns"),OD(c,!0)},onDragStopped:()=>OD(c,!1),onDragCancelled:()=>OD(c,!1),onGridEnter:p=>{if(a){const{columns:v=[],visibleState:y}=p??{},b=l?S=>!y||y[S.getColId()]:()=>!0,x=v.filter(S=>!S.getColDef().lockVisible&&b(S));i.setColsVisible(x,!0,"uiColumnMoved")}},onGridExit:p=>{if(a){const v=p?.columns?.filter(y=>!y.getColDef().lockVisible)||[];i.setColsVisible(v,!1,"uiColumnMoved")}}};return s.addDragSource(f,!0),f}};function Sfe(e,t){for(;e;){if(e.getGroupId()===t)return e;e=e.getParent()}}function Efe(e){const t={};return t[e.getId()]=e.isVisible(),{columns:[e],visibleState:t,containerType:e.pinned}}function Dfe(e,t){const n=e.getProvidedColumnGroup().getLeafColumns(),r={};for(const a of n)r[a.getId()]=a.isVisible();const i=[];for(const a of t)n.indexOf(a)>=0&&(i.push(a),Js(n,a));for(const a of n)i.push(a);const s=[],o=e.getLeafColumns();for(const a of i)o.indexOf(a)!==-1&&s.push(a);return{columns:i,columnsInSplit:s,visibleState:r,containerType:s[0]?.pinned}}var Rfe={moduleName:"ColumnMove",version:Re,beans:[xfe,ofe],apiFunctions:{moveColumnByIndex:afe,moveColumns:lfe},dependsOn:[Q7],css:[sfe]},Mfe=class extends le{constructor(){super(...arguments),this.beanName="autoWidthCalc"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.centerRowContainerCtrl=e.center})}getPreferredWidthForColumn(e,t){const n=this.getHeaderCellForColumn(e);if(!n)return-1;const r=this.beans.rowRenderer.getAllCellsNotSpanningForColumn(e);return t||r.push(n),this.getPreferredWidthForElements(r)}getPreferredWidthForColumnGroup(e){const t=this.getHeaderCellForColumn(e);return t?this.getPreferredWidthForElements([t]):-1}getPreferredWidthForElements(e,t){const n=document.createElement("form");n.style.position="fixed";const r=this.centerRowContainerCtrl.eContainer;for(const s of e)this.cloneItemIntoDummy(s,n);r.appendChild(n);const i=n.offsetWidth;return n.remove(),t=t??this.gos.get("autoSizePadding"),i+t}getHeaderCellForColumn(e){let t=null;for(const n of this.beans.ctrlsSvc.getHeaderRowContainerCtrls()){const r=n.getHtmlElementForColumnHeader(e);r!=null&&(t=r)}return t}cloneItemIntoDummy(e,t){const n=e.cloneNode(!0);n.style.width="",n.style.position="static",n.style.left="";const r=document.createElement("div"),i=r.classList;["ag-header-cell","ag-header-group-cell"].some(a=>n.classList.contains(a))?(i.add("ag-header","ag-header-row"),r.style.position="static"):i.add("ag-row");let o=e.parentElement;for(;o;){if(["ag-header-row","ag-row"].some(l=>o.classList.contains(l))){for(let l=0;l<o.classList.length;l++){const c=o.classList[l];c!="ag-row-position-absolute"&&i.add(c)}break}o=o.parentElement}r.appendChild(n),t.appendChild(r)}},Z7={moduleName:"AutoWidth",version:Re,beans:[Mfe]};function Tfe(e,t,n=!0,r="api"){e.colResize?.setColumnWidths(t,!1,n,r)}var kfe=class extends le{constructor(e,t,n,r){super(),this.comp=e,this.eResize=t,this.pinned=n,this.columnGroup=r}postConstruct(){if(!this.columnGroup.isResizable()){this.comp.setResizableDisplayed(!1);return}const{horizontalResizeSvc:e,gos:t,colAutosize:n}=this.beans,r=e.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});this.addDestroyFunc(r),!t.get("suppressAutoSize")&&n&&this.addDestroyFunc(n.addColumnGroupResize(this.eResize,this.columnGroup,()=>this.resizeLeafColumnsToFit("uiColumnResized")))}onResizeStart(e){const{columnsToResize:t,resizeStartWidth:n,resizeRatios:r,groupAfterColumns:i,groupAfterStartWidth:s,groupAfterRatios:o}=this.getInitialValues(e);this.resizeCols=t,this.resizeStartWidth=n,this.resizeRatios=r,this.resizeTakeFromCols=i,this.resizeTakeFromStartWidth=s,this.resizeTakeFromRatios=o,this.toggleColumnResizing(!0)}onResizing(e,t,n="uiColumnResized"){const r=this.normaliseDragChange(t),i=this.resizeStartWidth+r;this.resizeColumnsFromLocalValues(i,n,e)}getInitialValues(e){const t=l=>l.reduce((c,d)=>c+d.getActualWidth(),0),n=(l,c)=>l.map(d=>d.getActualWidth()/c),r=this.getColumnsToResize(),i=t(r),s=n(r,i),o={columnsToResize:r,resizeStartWidth:i,resizeRatios:s};let a=null;if(e&&(a=this.beans.colGroupSvc?.getGroupAtDirection(this.columnGroup,"After")??null),a){const l=a.getDisplayedLeafColumns(),c=o.groupAfterColumns=l.filter(f=>f.isResizable()),d=o.groupAfterStartWidth=t(c);o.groupAfterRatios=n(c,d)}else o.groupAfterColumns=void 0,o.groupAfterStartWidth=void 0,o.groupAfterRatios=void 0;return o}resizeLeafColumnsToFit(e){const t=this.beans.autoWidthCalc.getPreferredWidthForColumnGroup(this.columnGroup),n=this.getInitialValues();t>n.resizeStartWidth&&this.resizeColumns(n,t,e,!0)}resizeColumnsFromLocalValues(e,t,n=!0){if(!this.resizeCols||!this.resizeRatios)return;const r={columnsToResize:this.resizeCols,resizeStartWidth:this.resizeStartWidth,resizeRatios:this.resizeRatios,groupAfterColumns:this.resizeTakeFromCols,groupAfterStartWidth:this.resizeTakeFromStartWidth,groupAfterRatios:this.resizeTakeFromRatios};this.resizeColumns(r,e,t,n)}resizeColumns(e,t,n,r=!0){const{columnsToResize:i,resizeStartWidth:s,resizeRatios:o,groupAfterColumns:a,groupAfterStartWidth:l,groupAfterRatios:c}=e,d=[];if(d.push({columns:i,ratios:o,width:t}),a){const f=t-s;d.push({columns:a,ratios:c,width:l-f})}this.beans.colResize?.resizeColumnSets({resizeSets:d,finished:r,source:n}),r&&this.toggleColumnResizing(!1)}toggleColumnResizing(e){this.comp.toggleCss("ag-column-resizing",e)}getColumnsToResize(){return this.columnGroup.getDisplayedLeafColumns().filter(t=>t.isResizable())}normaliseDragChange(e){let t=e;return this.gos.get("enableRtl")?this.pinned!=="left"&&(t*=-1):this.pinned==="right"&&(t*=-1),t}destroy(){super.destroy(),this.resizeCols=void 0,this.resizeRatios=void 0,this.resizeTakeFromCols=void 0,this.resizeTakeFromRatios=void 0}},Afe=class extends le{constructor(e,t,n,r,i){super(),this.pinned=e,this.column=t,this.eResize=n,this.comp=r,this.ctrl=i}postConstruct(){const e=[];let t,n;const r=()=>{if(Wt(this.eResize,t),!t)return;const{horizontalResizeSvc:o,colAutosize:a}=this.beans,l=o.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});e.push(l),n&&a&&e.push(a.addColumnAutosizeListeners(this.eResize,this.column))},i=()=>{for(const o of e)o();e.length=0},s=()=>{const o=this.column.isResizable(),a=!this.gos.get("suppressAutoSize")&&!this.column.getColDef().suppressAutoSize;(o!==t||a!==n)&&(t=o,n=a,i(),r())};s(),this.addDestroyFunc(i),this.ctrl.setRefreshFunction("resize",s)}onResizing(e,t){const{column:n,lastResizeAmount:r,resizeStartWidth:i,beans:s}=this,o=this.normaliseResizeAmount(t),a=i+o,l=[{key:n,newWidth:a}],{pinnedCols:c,ctrlsSvc:d,colResize:f}=s;if(this.column.getPinned()){const p=c?.leftWidth??0,v=c?.rightWidth??0,y=tm(d.getGridBodyCtrl().eBodyViewport)-50;if(p+v+(o-r)>y)return}this.lastResizeAmount=o,f?.setColumnWidths(l,this.resizeWithShiftKey,e,"uiColumnResized"),e&&this.toggleColumnResizing(!1)}onResizeStart(e){this.resizeStartWidth=this.column.getActualWidth(),this.lastResizeAmount=0,this.resizeWithShiftKey=e,this.toggleColumnResizing(!0)}toggleColumnResizing(e){this.column.resizing=e,this.comp.toggleCss("ag-column-resizing",e)}normaliseResizeAmount(e){let t=e;const n=this.pinned!=="left",r=this.pinned==="right";return this.gos.get("enableRtl")?n&&(t*=-1):r&&(t*=-1),t}},Pfe=class extends le{constructor(){super(...arguments),this.beanName="colResize"}setColumnWidths(e,t,n,r){const i=[],{colModel:s,gos:o,visibleCols:a}=this.beans;for(const l of e){const c=s.getColDefCol(l.key)||s.getCol(l.key);if(!c)continue;if(i.push({width:l.newWidth,ratios:[1],columns:[c]}),o.get("colResizeDefault")==="shift"&&(t=!t),t){const f=a.getColAfter(c);if(!f)continue;const p=c.getActualWidth()-l.newWidth,v=f.getActualWidth()+p;i.push({width:v,ratios:[1],columns:[f]})}}i.length!==0&&this.resizeColumnSets({resizeSets:i,finished:n,source:r})}resizeColumnSets(e){const{resizeSets:t,finished:n,source:r}=e;if(!(!t||t.every(d=>Nfe(d)))){if(n){const d=t&&t.length>0?t[0].columns:null;sf(this.eventSvc,d,n,r)}return}const s=[],o=[];for(const d of t){const{width:f,columns:p,ratios:v}=d,y={},b={};for(const M of p)o.push(M);let x=!0,S=0;for(;x;){if(S++,S>1e3){Dt(31);break}x=!1;const M=[];let R=0,T=f;p.forEach((P,A)=>{if(b[P.getId()])T-=y[P.getId()];else{M.push(P);const B=v[A];R+=B}});const k=1/R;M.forEach((P,A)=>{const O=A===M.length-1;let B;O?B=T:(B=Math.round(v[A]*f*k),T-=B);const U=P.getMinWidth(),_=P.getMaxWidth();B<U?(B=U,b[P.getId()]=!0,x=!0):_>0&&B>_&&(B=_,b[P.getId()]=!0,x=!0),y[P.getId()]=B})}for(const M of p){const R=y[M.getId()];M.getActualWidth()!==R&&(M.setActualWidth(R,r),s.push(M))}}const a=s.length>0;let l=[];if(a){const{colFlex:d,visibleCols:f,colViewport:p}=this.beans;l=d?.refreshFlexedColumns({resizingCols:o,skipSetLeft:!0})??[],f.setLeftValues(r),f.updateBodyWidths(),p.checkViewportColumns()}const c=o.concat(l);(a||n)&&sf(this.eventSvc,c,n,r,l)}resizeHeader(e,t,n){if(!e.isResizable())return;const r=e.getActualWidth(),i=e.getMinWidth(),s=e.getMaxWidth(),o=Math.min(Math.max(r+t,i),s);this.setColumnWidths([{key:e,newWidth:o}],n,!0,"uiColumnResized")}createResizeFeature(e,t,n,r,i){return new Afe(e,t,n,r,i)}createGroupResizeFeature(e,t,n,r){return new kfe(e,t,n,r)}};function Nfe(e){const{columns:t,width:n}=e;let r=0,i=0,s=!0;for(const l of t){const c=l.getMinWidth();r+=c||0;const d=l.getMaxWidth();d>0?i+=d:s=!1}const o=n>=r,a=!s||n<=i;return o&&a}var Ofe={moduleName:"ColumnResize",version:Re,beans:[Pfe],apiFunctions:{setColumnWidths:Tfe},dependsOn:[ife,Z7]},Ffe=class extends le{constructor(e,t){super(),this.removeChildListenersFuncs=[],this.columnGroup=t,this.comp=e}postConstruct(){this.addListenersToChildrenColumns(),this.addManagedListeners(this.columnGroup,{displayedChildrenChanged:this.onDisplayedChildrenChanged.bind(this)}),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))}addListenersToChildrenColumns(){this.removeListenersOnChildrenColumns();const e=this.onWidthChanged.bind(this);for(const t of this.columnGroup.getLeafColumns())t.__addEventListener("widthChanged",e),t.__addEventListener("visibleChanged",e),this.removeChildListenersFuncs.push(()=>{t.__removeEventListener("widthChanged",e),t.__removeEventListener("visibleChanged",e)})}removeListenersOnChildrenColumns(){for(const e of this.removeChildListenersFuncs)e();this.removeChildListenersFuncs=[]}onDisplayedChildrenChanged(){this.addListenersToChildrenColumns(),this.onWidthChanged()}onWidthChanged(){const e=this.columnGroup.getActualWidth();this.comp.setWidth(`${e}px`),this.comp.toggleCss("ag-hidden",e===0)}},Ife=class extends _A{constructor(){super(...arguments),this.onSuppressColMoveChange=()=>{!this.isAlive()||this.isSuppressMoving()?this.removeDragSource():this.dragSource||this.setDragSource(this.eGui)}}wireComp(e,t,n,r,i){const{column:s,beans:o}=this,{context:a,colNames:l,colHover:c,rangeSvc:d,colResize:f}=o;this.comp=e,i=Xm(this,a,i),this.setGui(t,i),this.displayName=l.getDisplayNameForColumnGroup(s,"header"),this.refreshHeaderStyles(),this.addClasses(),this.setupMovingCss(i),this.setupExpandable(i),this.setupTooltip(),this.setupAutoHeight({wrapperElement:r,compBean:i}),this.setupUserComp(),this.addHeaderMouseListeners(i),this.addManagedPropertyListener("groupHeaderHeight",this.refreshMaxHeaderHeight.bind(this)),this.refreshMaxHeaderHeight();const p=this.rowCtrl.pinned,v=s.getProvidedColumnGroup().getLeafColumns();c?.createHoverFeature(i,v,t),d?.createRangeHighlightFeature(i,s,e),i.createManagedBean(new LA(s,t,o)),i.createManagedBean(new Ffe(e,s)),f?this.resizeFeature=i.createManagedBean(f.createGroupResizeFeature(e,n,p,s)):e.setResizableDisplayed(!1),i.createManagedBean(new zf(t,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:()=>{},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)})),this.addHighlightListeners(i,v),i.addManagedPropertyListener("suppressMovableColumns",this.onSuppressColMoveChange),this.addResizeAndMoveKeyboardListeners(i),i.addDestroyFunc(()=>this.clearComponent())}getHeaderClassParams(){const{column:e,beans:t}=this,n=e.getDefinition();return _e(t.gos,{colDef:n,columnGroup:e,floatingFilter:!1})}refreshMaxHeaderHeight(){const{gos:e,comp:t}=this,n=e.get("groupHeaderHeight");n!=null?n===0?t.setHeaderWrapperHidden(!0):t.setHeaderWrapperMaxHeight(n):(t.setHeaderWrapperHidden(!1),t.setHeaderWrapperMaxHeight(null))}addHighlightListeners(e,t){if(this.beans.gos.get("suppressMoveWhenColumnDragging"))for(const n of t)e.addManagedListeners(n,{headerHighlightChanged:this.onLeafColumnHighlightChanged.bind(this,n)})}onLeafColumnHighlightChanged(e){const t=this.column.getDisplayedLeafColumns(),n=t[0]===e,r=Ft(t)===e;if(!n&&!r)return;const i=e.getHighlighted(),s=!!this.rowCtrl.getHeaderCellCtrls().find(l=>l.column.isMoving());let o=!1,a=!1;if(s){const l=this.beans.gos.get("enableRtl"),c=i===1,d=i===0;n&&(l?a=c:o=d),r&&(l?o=d:a=c)}this.comp.toggleCss("ag-header-highlight-before",o),this.comp.toggleCss("ag-header-highlight-after",a)}resizeHeader(e,t){const{resizeFeature:n}=this;if(!n)return;const r=n.getInitialValues(t);n.resizeColumns(r,r.resizeStartWidth+e,"uiColumnResized",!0)}resizeLeafColumnsToFit(e){this.resizeFeature?.resizeLeafColumnsToFit(e)}setupUserComp(){const{colGroupSvc:e,userCompFactory:t,gos:n,enterpriseMenuFactory:r}=this.beans,i=this.column,s=i.getProvidedColumnGroup(),o=_e(n,{displayName:this.displayName,columnGroup:i,setExpanded:l=>{e.setColumnGroupOpened(s,l,"gridInitializing")},setTooltip:(l,c)=>{n.assertModuleRegistered("Tooltip",3),this.setupTooltip(l,c)},showColumnMenu:(l,c)=>r?.showMenuAfterButtonClick(s,l,"columnMenu",c),showColumnMenuAfterMouseClick:(l,c)=>r?.showMenuAfterMouseEvent(s,l,"columnMenu",c),eGridHeader:this.eGui}),a=_le(t,o);a&&this.comp.setUserCompDetails(a)}addHeaderMouseListeners(e){const t=i=>this.handleMouseOverChange(i.type==="mouseenter"),n=()=>this.dispatchColumnMouseEvent("columnHeaderClicked",this.column.getProvidedColumnGroup()),r=i=>this.handleContextMenuMouseEvent(i,void 0,this.column.getProvidedColumnGroup());e.addManagedListeners(this.eGui,{mouseenter:t,mouseleave:t,click:n,contextmenu:r})}handleMouseOverChange(e){this.eventSvc.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column.getProvidedColumnGroup()})}setupTooltip(e,t){this.tooltipFeature=this.beans.tooltipSvc?.setupHeaderGroupTooltip(this.tooltipFeature,this,e,t)}setupExpandable(e){const t=this.column.getProvidedColumnGroup();this.refreshExpanded();const n=this.refreshExpanded.bind(this);e.addManagedListeners(t,{expandedChanged:n,expandableChanged:n})}refreshExpanded(){const{column:e}=this;this.expandable=e.isExpandable();const t=e.isExpanded();this.expandable?this.comp.setAriaExpanded(t?"true":"false"):this.comp.setAriaExpanded(void 0),this.refreshHeaderStyles()}addClasses(){const{column:e}=this,t=e.getColGroupDef(),n=A7(t,this.gos,null,e);e.isPadding()?(n.push("ag-header-group-cell-no-group"),e.getLeafColumns().every(i=>i.isSpanHeaderHeight())&&n.push("ag-header-span-height")):(n.push("ag-header-group-cell-with-group"),t?.wrapHeaderText&&n.push("ag-header-cell-wrap-text"));for(const r of n)this.comp.toggleCss(r,!0)}setupMovingCss(e){const{column:t}=this,r=t.getProvidedColumnGroup().getLeafColumns(),i=()=>this.comp.toggleCss("ag-header-cell-moving",t.isMoving());for(const s of r)e.addManagedListeners(s,{movingChanged:i});i()}onFocusIn(e){this.eGui.contains(e.relatedTarget)||this.focusThis()}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();if(!(!this.expandable||!t)&&e.key===re.ENTER){const n=this.column,r=!n.isExpanded();this.beans.colGroupSvc.setColumnGroupOpened(n.getProvidedColumnGroup(),r,"uiColumnExpanded")}}setDragSource(e){!this.isAlive()||this.isSuppressMoving()||(this.removeDragSource(),e&&(this.dragSource=this.beans.colMoves?.setDragSourceForHeader(e,this.column,this.displayName)??null))}isSuppressMoving(){return this.gos.get("suppressMovableColumns")||this.column.getLeafColumns().some(e=>e.getColDef().suppressMovable||e.getColDef().lockPosition)}destroy(){this.tooltipFeature=this.destroyBean(this.tooltipFeature),super.destroy()}};function Lfe(e,t,n){e.colGroupSvc?.setColumnGroupOpened(t,n,"api")}function _fe(e,t,n){return e.colGroupSvc?.getColumnGroup(t,n)??null}function jfe(e,t){return e.colGroupSvc?.getProvidedColGroup(t)??null}function Bfe(e,t,n){return e.colNames.getDisplayNameForColumnGroup(t,n)||""}function Hfe(e){return e.colGroupSvc?.getColumnGroupState()??[]}function zfe(e,t){e.colGroupSvc?.setColumnGroupState(t,"api")}function Gfe(e){e.colGroupSvc?.resetColumnGroupState("api")}function Vfe(e){return e.visibleCols.treeLeft}function Wfe(e){return e.visibleCols.treeCenter}function Ufe(e){return e.visibleCols.treeRight}function $fe(e){return e.visibleCols.getAllTrees()}function qfe(e,t){for(let n=0;n<t.length;n++){const r=e.indexOf(t[n]);r>=0&&(e[r]=e[e.length-1],e.pop())}}var Kfe=class extends le{constructor(){super(...arguments),this.beanName="visibleCols",this.colsAndGroupsMap={},this.leftCols=[],this.rightCols=[],this.centerCols=[],this.allCols=[],this.headerGroupRowCount=0,this.bodyWidth=0,this.leftWidth=0,this.rightWidth=0,this.isBodyWidthDirty=!0}refresh(e,t=!1){const{colFlex:n,colModel:r,colGroupSvc:i,colViewport:s,selectionColSvc:o}=this.beans;t||this.buildTrees(r,i),i?.updateOpenClosedVisibility(),this.leftCols=FD(this.treeLeft),this.centerCols=FD(this.treeCenter),this.rightCols=FD(this.treeRight),o?.refreshVisibility(this.leftCols,this.centerCols,this.rightCols),this.joinColsAriaOrder(r),this.joinCols(),this.headerGroupRowCount=this.getHeaderRowCount(),this.setLeftValues(e),this.autoHeightCols=this.allCols.filter(a=>a.isAutoHeight()),n?.refreshFlexedColumns(),this.updateBodyWidths(),this.setFirstRightAndLastLeftPinned(r,this.leftCols,this.rightCols,e),s.checkViewportColumns(!1),this.eventSvc.dispatchEvent({type:"displayedColumnsChanged",source:e})}getHeaderRowCount(){if(!this.gos.get("hidePaddedHeaderRows"))return this.beans.colModel.cols.treeDepth;let e=0;for(const t of this.allCols){let n=t.getParent();for(;n;){if(!n.isPadding()){const r=n.getProvidedColumnGroup().getLevel()+1;r>e&&(e=r);break}n=n.getParent()}}return e}updateBodyWidths(){const e=Sa(this.centerCols),t=Sa(this.leftCols),n=Sa(this.rightCols);this.isBodyWidthDirty=this.bodyWidth!==e,(this.bodyWidth!==e||this.leftWidth!==t||this.rightWidth!==n)&&(this.bodyWidth=e,this.leftWidth=t,this.rightWidth=n,this.eventSvc.dispatchEvent({type:"columnContainerWidthChanged"}),this.eventSvc.dispatchEvent({type:"displayedColumnsWidthChanged"}))}setLeftValues(e){this.setLeftValuesOfCols(e),this.setLeftValuesOfGroups()}setFirstRightAndLastLeftPinned(e,t,n,r){let i,s;this.gos.get("enableRtl")?(i=t?t[0]:null,s=n?Ft(n):null):(i=t?Ft(t):null,s=n?n[0]:null);for(const o of e.getCols())o.setLastLeftPinned(o===i,r),o.setFirstRightPinned(o===s,r)}buildTrees(e,t){const n=e.getColsToShow(),r=n.filter(l=>l.getPinned()=="left"),i=n.filter(l=>l.getPinned()=="right"),s=n.filter(l=>l.getPinned()!="left"&&l.getPinned()!="right"),o=new jV,a=l=>t?t.createColumnGroups(l):l.columns;this.treeLeft=a({columns:r,idCreator:o,pinned:"left",oldDisplayedGroups:this.treeLeft}),this.treeRight=a({columns:i,idCreator:o,pinned:"right",oldDisplayedGroups:this.treeRight}),this.treeCenter=a({columns:s,idCreator:o,pinned:null,oldDisplayedGroups:this.treeCenter}),this.updateColsAndGroupsMap()}clear(){this.leftCols=[],this.rightCols=[],this.centerCols=[],this.allCols=[],this.ariaOrderColumns=[]}joinColsAriaOrder(e){const t=e.getCols(),n=[],r=[],i=[];for(const s of t){const o=s.getPinned();o?o===!0||o==="left"?n.push(s):i.push(s):r.push(s)}this.ariaOrderColumns=n.concat(r).concat(i)}getAriaColIndex(e){let t;return Mn(e)?t=e.getLeafColumns()[0]:t=e,this.ariaOrderColumns.indexOf(t)+1}setLeftValuesOfGroups(){for(const e of[this.treeLeft,this.treeRight,this.treeCenter])for(const t of e)Mn(t)&&t.checkLeft()}setLeftValuesOfCols(e){const{colModel:t}=this.beans;if(!t.getColDefCols())return;const r=t.getCols().slice(0),i=this.gos.get("enableRtl");for(const s of[this.leftCols,this.rightCols,this.centerCols]){if(i){let o=Sa(s);for(const a of s)o-=a.getActualWidth(),a.setLeft(o,e)}else{let o=0;for(const a of s)a.setLeft(o,e),o+=a.getActualWidth()}qfe(r,s)}for(const s of r)s.setLeft(null,e)}joinCols(){this.gos.get("enableRtl")?this.allCols=this.rightCols.concat(this.centerCols).concat(this.leftCols):this.allCols=this.leftCols.concat(this.centerCols).concat(this.rightCols)}getAllTrees(){return this.treeLeft&&this.treeRight&&this.treeCenter?this.treeLeft.concat(this.treeCenter).concat(this.treeRight):null}isColDisplayed(e){return this.allCols.indexOf(e)>=0}getLeftColsForRow(e){const{leftCols:t,beans:{colModel:n}}=this;return n.colSpanActive?this.getColsForRow(e,t):t}getRightColsForRow(e){const{rightCols:t,beans:{colModel:n}}=this;return n.colSpanActive?this.getColsForRow(e,t):t}getColsForRow(e,t,n,r){const i=[];let s=null;for(let o=0;o<t.length;o++){const a=t[o],l=t.length-o,c=Math.min(a.getColSpan(e),l),d=[a];if(c>1){const p=c-1;for(let v=1;v<=p;v++)d.push(t[o+v]);o+=p}let f;if(n){f=!1;for(const p of d)n(p)&&(f=!0)}else f=!0;f&&(i.length===0&&s&&(r&&r(a))&&i.push(s),i.push(a)),s=a}return i}getContainerWidth(e){switch(e){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}}getColBefore(e){const t=this.allCols,n=t.indexOf(e);return n>0?t[n-1]:null}isPinningLeft(){return this.leftCols.length>0}isPinningRight(){return this.rightCols.length>0}updateColsAndGroupsMap(){this.colsAndGroupsMap={};const e=t=>{this.colsAndGroupsMap[t.getUniqueId()]=t};Hu(this.treeCenter,!1,e),Hu(this.treeLeft,!1,e),Hu(this.treeRight,!1,e)}isVisible(e){return this.colsAndGroupsMap[e.getUniqueId()]===e}getFirstColumn(){const e=this.gos.get("enableRtl"),t=["leftCols","centerCols","rightCols"];e&&t.reverse();for(let n=0;n<t.length;n++){const r=this[t[n]];if(r.length)return e?Ft(r):r[0]}return null}getColAfter(e){const t=this.allCols,n=t.indexOf(e);return n<t.length-1?t[n+1]:null}getColsLeftWidth(){return Sa(this.leftCols)}getDisplayedColumnsRightWidth(){return Sa(this.rightCols)}isColAtEdge(e,t){const n=this.allCols;if(!n.length)return!1;const r=t==="first";let i;if(Mn(e)){const s=e.getDisplayedLeafColumns();if(!s.length)return!1;i=r?s[0]:Ft(s)}else i=e;return(r?n[0]:Ft(n))===i}};function Hu(e,t,n){if(e)for(let r=0;r<e.length;r++){const i=e[r];if(Mn(i)){const s=t?i.getDisplayedChildren():i.getChildren();Hu(s,t,n)}n(i)}}function FD(e){const t=[];return Hu(e,!0,n=>{Dc(n)&&t.push(n)}),t}var Yfe=class extends le{constructor(){super(...arguments),this.beanName="colGroupSvc"}getColumnGroupState(){const e=[],t=this.beans.colModel.getColTree();return La(null,t,n=>{kr(n)&&e.push({groupId:n.getGroupId(),open:n.isExpanded()})}),e}resetColumnGroupState(e){const t=this.beans.colModel.getColDefColTree();if(!t)return;const n=[];La(null,t,r=>{if(kr(r)){const i=r.getColGroupDef(),s={groupId:r.getGroupId(),open:i?i.openByDefault:void 0};n.push(s)}}),this.setColumnGroupState(n,e)}setColumnGroupState(e,t){const{colModel:n,colAnimation:r,visibleCols:i,eventSvc:s}=this.beans;if(!n.getColTree().length)return;r?.start();const a=[];for(const l of e){const c=l.groupId,d=l.open,f=this.getProvidedColGroup(c);f&&f.isExpanded()!==d&&(f.setExpanded(d),a.push(f))}i.refresh(t,!0),a.length&&s.dispatchEvent({type:"columnGroupOpened",columnGroup:a.length===1?a[0]:void 0,columnGroups:a}),r?.finish()}setColumnGroupOpened(e,t,n){let r;kr(e)?r=e.getId():r=e||"",this.setColumnGroupState([{groupId:r,open:t}],n)}getProvidedColGroup(e){let t=null;return La(null,this.beans.colModel.getColTree(),n=>{kr(n)&&n.getId()===e&&(t=n)}),t}getGroupAtDirection(e,t){const n=e.getProvidedColumnGroup().getLevel()+e.getPaddingLevel(),r=e.getDisplayedLeafColumns(),i=t==="After"?Ft(r):r[0],s=`getCol${t}`;for(;;){const o=this.beans.visibleCols[s](i);if(!o)return null;const a=this.getColGroupAtLevel(o,n);if(a!==e)return a}}getColGroupAtLevel(e,t){let n=e.getParent(),r,i;for(;r=n.getProvidedColumnGroup().getLevel(),i=n.getPaddingLevel(),!(r+i<=t);)n=n.getParent();return n}updateOpenClosedVisibility(){const e=this.beans.visibleCols.getAllTrees();Hu(e,!1,t=>{Mn(t)&&t.calculateDisplayedColumns()})}getColumnGroup(e,t){if(!e)return null;if(Mn(e))return e;const n=this.beans.visibleCols.getAllTrees(),r=typeof t=="number";let i=null;return Hu(n,!1,s=>{if(Mn(s)){const o=s;let a;r?a=e===o.getGroupId()&&t===o.getPartId():a=e===o.getGroupId(),a&&(i=o)}}),i}createColumnGroups(e){const{columns:t,idCreator:n,pinned:r,oldDisplayedGroups:i,isStandaloneStructure:s}=e,o=this.mapOldGroupsById(i),a=[];let l=t;for(;l.length;){const c=l;l=[];let d=0;const f=p=>{const v=d;d=p;const y=c[v],x=(Mn(y)?y.getProvidedColumnGroup():y).getOriginalParent();if(x==null){for(let M=v;M<p;M++)a.push(c[M]);return}const S=this.createColumnGroup(x,n,o,r,s);for(let M=v;M<p;M++)S.addChild(c[M]);l.push(S)};for(let p=1;p<c.length;p++){const v=c[p],b=(Mn(v)?v.getProvidedColumnGroup():v).getOriginalParent(),x=c[d],M=(Mn(x)?x.getProvidedColumnGroup():x).getOriginalParent();b!==M&&f(p)}d<c.length&&f(c.length)}return s||this.setupParentsIntoCols(a,null),a}createProvidedColumnGroup(e,t,n,r,i,s,o){const a=i.getUniqueKey(t.groupId||null,null),l=A4(this.beans,t,a),c=new tw(l,a,!1,n);this.createBean(c);const d=this.findExistingGroup(t,s);d&&s.splice(d.idx,1);const f=d?.group;f&&c.setExpanded(f.isExpanded());const p=AV(this.beans,l.children,n+1,e,r,i,s,o);return c.setChildren(p),c}balanceColumnTree(e,t,n,r){const i=[];for(let s=0;s<e.length;s++){const o=e[s];if(kr(o)){const a=o,l=this.balanceColumnTree(a.getChildren(),t+1,n,r);a.setChildren(l),i.push(a)}else{let a,l;for(let c=t;c<n;c++){const d=r.getUniqueKey(null,null),f=A4(this.beans,null,d),p=new tw(f,d,!0,c);this.createBean(p),l&&l.setChildren([p]),l=p,a||(a=l)}if(a&&l)if(i.push(a),e.some(d=>kr(d))){l.setChildren([o]);continue}else{l.setChildren(e);break}i.push(o)}}return i}findDepth(e){let t=0,n=e;for(;n?.[0]&&kr(n[0]);)t++,n=n[0].getChildren();return t}findMaxDepth(e,t){let n=t;for(let r=0;r<e.length;r++){const i=e[r];if(kr(i)){const s=i,o=this.findMaxDepth(s.getChildren(),t+1);n<o&&(n=o)}}return n}balanceTreeForAutoCols(e,t){const n=[];for(const r of e){let i=r;for(let s=t-1;s>=0;s--){const o=new tw(null,`FAKE_PATH_${r.getId()}}_${s}`,!0,s);this.createBean(o),o.setChildren([i]),i.originalParent=o,i=o}t===0&&(r.originalParent=null),n.push(i)}return n}findExistingGroup(e,t){if(e.groupId!=null)for(let r=0;r<t.length;r++){const i=t[r];if(i.getColGroupDef()&&i.getId()===e.groupId)return{idx:r,group:i}}}createColumnGroup(e,t,n,r,i){const s=e.getGroupId(),o=t.getInstanceIdForKey(s),a=l7(s,o);let l=n[a];return l&&l.getProvidedColumnGroup()!==e&&(l=null),De(l)?l.reset():(l=new lm(e,s,o,r),i||this.createBean(l)),l}mapOldGroupsById(e){const t={},n=r=>{for(const i of r)if(Mn(i)){const s=i;t[i.getUniqueId()]=s,n(s.getChildren())}};return e&&n(e),t}setupParentsIntoCols(e,t){for(const n of e??[])if(n.parent!==t&&(this.beans.colViewport.colsWithinViewportHash=""),n.parent=t,Mn(n)){const r=n;this.setupParentsIntoCols(r.getChildren(),r)}}},Qfe={moduleName:"ColumnGroup",version:Re,dynamicBeans:{headerGroupCellCtrl:Ife},beans:[Yfe],apiFunctions:{getAllDisplayedColumnGroups:$fe,getCenterDisplayedColumnGroups:Wfe,getColumnGroup:_fe,getColumnGroupState:Hfe,getDisplayNameForColumnGroup:Bfe,getLeftDisplayedColumnGroups:Vfe,getProvidedColumnGroup:jfe,getRightDisplayedColumnGroups:Ufe,resetColumnGroupState:Gfe,setColumnGroupOpened:Lfe,setColumnGroupState:zfe}},Xfe={tag:"div",cls:"ag-skeleton-container"},Jfe=class extends yt{constructor(){super(Xfe)}init(t){const n=`ag-cell-skeleton-renderer-${this.getCompId()}`;this.getGui().setAttribute("id",n),this.addDestroyFunc(()=>Jg(t.eParentOfValue)),Jg(t.eParentOfValue,n),t.deferRender?this.setupLoading(t):t.node.failedLoad?this.setupFailed():this.setupLoading(t)}setupFailed(){const t=this.getLocaleTextFunc();this.getGui().textContent=t("loadingError","ERR");const n=t("ariaSkeletonCellLoadingFailed","Row failed to load");nf(this.getGui(),n)}setupLoading(t){const n=Tn({tag:"div",cls:"ag-skeleton-effect"}),r=t.node.rowIndex;if(r!=null){const o=75+25*(r%2===0?Math.sin(r):Math.cos(r));n.style.width=`${o}%`}this.getGui().appendChild(n);const i=this.getLocaleTextFunc(),s=t.deferRender?i("ariaDeferSkeletonCellLoading","Cell is loading"):i("ariaSkeletonCellLoading","Row data is loading");nf(this.getGui(),s)}refresh(t){return!1}},Zfe={moduleName:"CheckboxCellRenderer",version:Re,userComponents:{agCheckboxCellRenderer:Bde}},epe={moduleName:"SkeletonCellRenderer",version:Re,userComponents:{agSkeletonCellRenderer:Jfe}};function tpe(e,t){const n=e.colModel.getColDefCol(t);return n?n.getColDef():null}function npe(e){return e.colModel.getColumnDefs(!0)}function rpe(e,t,n){return e.colNames.getDisplayNameForColumn(t,n)||""}function ipe(e,t){return e.colModel.getColDefCol(t)}function spe(e){return e.colModel.getColDefCols()}function ope(e,t){return qs(e,t,"api")}function ape(e){return Gw(e)}function lpe(e){ale(e,"api")}function cpe(e){return e.visibleCols.isPinningLeft()||e.visibleCols.isPinningRight()}function upe(e){return e.visibleCols.isPinningLeft()}function dpe(e){return e.visibleCols.isPinningRight()}function hpe(e,t){return e.visibleCols.getColAfter(t)}function fpe(e,t){return e.visibleCols.getColBefore(t)}function ppe(e,t,n){e.colModel.setColsVisible(t,n,"api")}function gpe(e,t,n){e.pinnedCols?.setColsPinned(t,n,"api")}function mpe(e){return e.colModel.getCols()}function vpe(e){return e.visibleCols.leftCols}function ype(e){return e.visibleCols.centerCols}function wpe(e){return e.visibleCols.rightCols}function bpe(e){return e.visibleCols.allCols}function Cpe(e){return e.colViewport.getViewportColumns()}function Q2(e,t){if(!e)return;const n=e,r={};for(const i of Object.keys(n)){if(t&&t.indexOf(i)>=0||aV.has(i))continue;const s=n[i];typeof s=="object"&&s!==null&&s.constructor===Object?r[i]=Q2(s):r[i]=s}return r}var xpe=class extends le{constructor(){super(...arguments),this.beanName="colDefFactory"}wireBeans(e){this.rowGroupColsSvc=e.rowGroupColsSvc,this.pivotColsSvc=e.pivotColsSvc}getColumnDefs(e,t,n,r,i=!1){const s=e.slice();t?s.sort((l,c)=>n.indexOf(l)-n.indexOf(c)):(n||i)&&s.sort((l,c)=>r.indexOf(l)-r.indexOf(c));const o=this.rowGroupColsSvc?.columns,a=this.pivotColsSvc?.columns;return this.buildColumnDefs(s,o,a)}buildColumnDefs(e,t=[],n=[]){const r=[],i={};for(const s of e){const o=this.createDefFromColumn(s,t,n);let a=!0,l=o,c=s.getOriginalParent(),d=null;for(;c;){let f=null;if(c.isPadding()){c=c.getOriginalParent();continue}const p=i[c.getGroupId()];if(p){p.children.push(l),a=!1;break}if(f=this.createDefFromGroup(c),f&&(f.children=[l],i[f.groupId]=f,l=f,c=c.getOriginalParent()),c!=null&&d===c){a=!1;break}d=c}a&&r.push(l)}return r}createDefFromGroup(e){const t=Q2(e.getColGroupDef(),["children"]);return t&&(t.groupId=e.getGroupId()),t}createDefFromColumn(e,t,n){const r=Q2(e.getColDef());return r.colId=e.getColId(),r.width=e.getActualWidth(),r.rowGroup=e.isRowGroupActive(),r.rowGroupIndex=e.isRowGroupActive()?t.indexOf(e):null,r.pivot=e.isPivotActive(),r.pivotIndex=e.isPivotActive()?n.indexOf(e):null,r.aggFunc=e.isValueActive()?e.getAggFunc():null,r.hide=e.isVisible()?void 0:!0,r.pinned=e.isPinned()?e.getPinned():null,r.sort=e.getSort()?e.getSort():null,r.sortIndex=e.getSortIndex()!=null?e.getSortIndex():null,r}},Spe=class extends le{constructor(){super(...arguments),this.beanName="colFlex",this.columnsHidden=!1}refreshFlexedColumns(e={}){const t=e.source??"flex";e.viewportWidth!=null&&(this.flexViewportWidth=e.viewportWidth);const n=this.flexViewportWidth,{visibleCols:r,colDelayRenderSvc:i}=this.beans,s=r.centerCols;let o=-1;if(e.resizingCols){const b=new Set(e.resizingCols);for(let x=s.length-1;x>=0;x--)if(b.has(s[x])){o=x;break}}let a=!1;const l=s.map((b,x)=>{const S=b.getFlex(),M=S!=null&&S>0&&x>o;return a||(a=M),{col:b,isFlex:M,flex:Math.max(0,S??0),initialSize:b.getActualWidth(),min:b.getMinWidth(),max:b.getMaxWidth(),targetSize:0}});if(a?(i?.hideColumns("colFlex"),this.columnsHidden=!0):this.columnsHidden&&this.revealColumns(i),!n||!a)return[];let c=l.length,d=l.reduce((b,x)=>b+x.flex,0),f=n;const p=(b,x)=>{b.frozenSize=x,b.col.setActualWidth(x,t),f-=x,d-=b.flex,c-=1},v=b=>b.frozenSize!=null;for(const b of l)b.isFlex||p(b,b.initialSize);for(;c>0;){const b=Math.round(d<1?f*d:f);let x,S=0,M=0;for(const k of l){if(v(k))continue;x=k,M+=b*(k.flex/d);const P=M-S,A=Math.round(P);k.targetSize=A,S+=A}x&&(x.targetSize+=b-S);let R=0;for(const k of l){if(v(k))continue;const P=k.targetSize,A=Math.min(Math.max(P,k.min),k.max);R+=A-P,k.violationType=A===P?void 0:A<P?"max":"min",k.targetSize=A}const T=R===0?"all":R>0?"min":"max";for(const k of l)v(k)||(T==="all"||k.violationType===T)&&p(k,k.targetSize)}e.skipSetLeft||r.setLeftValues(t),e.updateBodyWidths&&r.updateBodyWidths();const y=l.filter(b=>b.isFlex&&!b.violationType).map(b=>b.col);if(e.fireResizedEvent){const b=l.filter(S=>S.initialSize!==S.frozenSize).map(S=>S.col),x=l.filter(S=>S.flex).map(S=>S.col);sf(this.eventSvc,b,!0,t,x)}return this.revealColumns(i),y}revealColumns(e){this.columnsHidden&&(e?.revealColumns("colFlex"),this.columnsHidden=!1)}initCol(e){const{flex:t,initialFlex:n}=e.colDef;t!==void 0?e.flex=t:n!==void 0&&(e.flex=n)}setColFlex(e,t){e.flex=t??null,e.dispatchStateUpdatedEvent("flex")}};function Fg(e,t,n){if(!t||!e)return;if(!n)return e[t];const r=t.split(".");let i=e;for(let s=0;s<r.length;s++){if(i==null)return;i=i[r[s]]}return i}var Epe=["dateTimeString","dateString","text","number","boolean","date"],Dpe=class extends le{constructor(){super(...arguments),this.beanName="dataTypeSvc",this.dataTypeDefinitions={},this.isPendingInference=!1,this.isColumnTypeOverrideInDataTypeDefinitions=!1,this.columnStateUpdatesPendingInference={},this.columnStateUpdateListenerDestroyFuncs=[],this.columnDefinitionPropsPerDataType={number(){return{cellEditor:"agNumberCellEditor"}},boolean(){return{cellEditor:"agCheckboxCellEditor",cellRenderer:"agCheckboxCellRenderer",getFindText:()=>null,suppressKeyboardEvent:e=>!!e.colDef.editable&&e.event.key===re.SPACE}},date({formatValue:e}){return{cellEditor:"agDateCellEditor",keyCreator:e}},dateString({formatValue:e}){return{cellEditor:"agDateStringCellEditor",keyCreator:e}},dateTime(e){return this.date(e)},dateTimeString(e){return this.dateString(e)},object({formatValue:e,colModel:t,colId:n}){return{cellEditorParams:{useFormatter:!0},comparator:(r,i)=>{const s=t.getColDefCol(n),o=s?.getColDef();if(!s||!o)return 0;const a=r==null?"":e({column:s,node:null,value:r}),l=i==null?"":e({column:s,node:null,value:i});return a===l?0:a>l?1:-1},keyCreator:e}},text(){return{}}}}wireBeans(e){this.colModel=e.colModel}postConstruct(){this.processDataTypeDefinitions(),this.addManagedPropertyListener("dataTypeDefinitions",e=>{this.processDataTypeDefinitions(),this.colModel.recreateColumnDefs(e)})}processDataTypeDefinitions(){const e=this.getDefaultDataTypes(),t={},n={},r=d=>f=>{const{column:p,node:v,value:y}=f;let b=p.getColDef().valueFormatter;return b===d.groupSafeValueFormatter&&(b=d.valueFormatter),this.beans.valueSvc.formatValue(p,v,y,b)};for(const d of Object.keys(e)){const f=e[d],p={...f,groupSafeValueFormatter:p_(f,this.gos)};t[d]=p,n[d]=r(p)}const i=this.gos.get("dataTypeDefinitions")??{},s={};for(const d of Object.keys(i)){const f=i[d],p=this.processDataTypeDefinition(f,i,[d],e);p&&(t[d]=p,f.dataTypeMatcher&&(s[d]=f.dataTypeMatcher),n[d]=r(p))}const{valueParser:o,valueFormatter:a}=e.object,{valueParser:l,valueFormatter:c}=t.object;this.hasObjectValueParser=l!==o,this.hasObjectValueFormatter=c!==a,this.formatValueFuncs=n,this.dataTypeDefinitions=t,this.dataTypeMatchers=this.sortKeysInMatchers(s,e)}sortKeysInMatchers(e,t){const n={...e};for(const r of Epe)delete n[r],n[r]=e[r]??t[r].dataTypeMatcher;return n}processDataTypeDefinition(e,t,n,r){let i;const s=e.extendsDataType;if(e.columnTypes&&(this.isColumnTypeOverrideInDataTypeDefinitions=!0),e.extendsDataType===e.baseDataType){let o=r[s];const a=t[s];if(o&&a&&(o=a),!f_(e,o,s))return;i=h_(o,e)}else{if(n.includes(s)){ve(44);return}const o=t[s];if(!f_(e,o,s))return;const a=this.processDataTypeDefinition(o,t,[...n,s],r);if(!a)return;i=h_(a,e)}return{...i,groupSafeValueFormatter:p_(i,this.gos)}}updateColDefAndGetColumnType(e,t,n){let{cellDataType:r}=t;const{field:i}=t;if(r===void 0&&(r=e.cellDataType),(r==null||r===!0)&&(r=this.canInferCellDataType(e,t)?this.inferCellDataType(i,n):!1),!r){e.cellDataType=!1;return}const s=this.dataTypeDefinitions[r];if(!s){ve(47,{cellDataType:r});return}return e.cellDataType=r,s.groupSafeValueFormatter&&(e.valueFormatter=s.groupSafeValueFormatter),s.valueParser&&(e.valueParser=s.valueParser),s.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(e,r,s,n),s.columnTypes}addColumnListeners(e){if(!this.isPendingInference)return;const t=this.columnStateUpdatesPendingInference[e.getColId()];if(!t)return;const n=r=>{t.add(r.key)};e.__addEventListener("columnStateUpdated",n),this.columnStateUpdateListenerDestroyFuncs.push(()=>e.__removeEventListener("columnStateUpdated",n))}canInferCellDataType(e,t){const{gos:n}=this;if(!Xt(n))return!1;const r={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if(ID(t,r))return!1;const i=t.type===null?e.type:t.type;if(i){const s=n.get("columnTypes")??{};if(zw(i).some(a=>{const l=s[a.trim()];return l&&ID(l,r)}))return!1}return!ID(e,r)}inferCellDataType(e,t){if(!e)return;let n;const r=this.getInitialData();if(r){const s=e.includes(".")&&!this.gos.get("suppressFieldDotNotation");n=Fg(r,e,s)}else this.initWaitForRowData(t);return n==null?void 0:Object.keys(this.dataTypeMatchers).find(s=>this.dataTypeMatchers[s](n))??"object"}getInitialData(){const e=this.gos.get("rowData");if(e?.length)return e[0];if(this.initialData)return this.initialData;{const t=this.beans.rowModel.rootNode?._leafs;if(t?.length)return t[0].data}return null}initWaitForRowData(e){if(this.columnStateUpdatesPendingInference[e]=new Set,this.isPendingInference)return;this.isPendingInference=!0;const t=this.isColumnTypeOverrideInDataTypeDefinitions,{colAutosize:n,eventSvc:r}=this.beans;t&&n&&(n.shouldQueueResizeOperations=!0);const[i]=this.addManagedEventListeners({rowDataUpdateStarted:s=>{const{firstRowData:o}=s;o&&(i?.(),this.isPendingInference=!1,this.processColumnsPendingInference(o,t),this.columnStateUpdatesPendingInference={},t&&n?.processResizeOperations(),r.dispatchEvent({type:"dataTypesInferred"}))}})}processColumnsPendingInference(e,t){this.initialData=e;const n=[];this.destroyColumnStateUpdateListeners();const r={},i={};for(const s of Object.keys(this.columnStateUpdatesPendingInference)){const o=this.columnStateUpdatesPendingInference[s],a=this.colModel.getCol(s);if(!a)return;const l=a.getColDef();if(!this.resetColDefIntoCol(a,"cellDataTypeInferred"))return;const c=a.getColDef();if(t&&c.type&&c.type!==l.type){const d=Mpe(a,o);d.rowGroup&&d.rowGroupIndex==null&&(r[s]=d),d.pivot&&d.pivotIndex==null&&(i[s]=d),n.push(d)}}t&&n.push(...this.generateColumnStateForRowGroupAndPivotIndexes(r,i)),n.length&&qs(this.beans,{state:n},"cellDataTypeInferred"),this.initialData=null}generateColumnStateForRowGroupAndPivotIndexes(e,t){const n={},{rowGroupColsSvc:r,pivotColsSvc:i}=this.beans;return r?.restoreColumnOrder(n,e),i?.restoreColumnOrder(n,t),Object.values(n)}resetColDefIntoCol(e,t){const n=e.getUserProvidedColDef();if(!n)return!1;const r=N2(this.beans,n,e.getColId());return e.setColDef(r,n,t),!0}getDateStringTypeDefinition(e){const{dateString:t}=this.dataTypeDefinitions;return e?this.getDataTypeDefinition(e)??t:t}getDateParserFunction(e){return this.getDateStringTypeDefinition(e).dateParser}getDateFormatterFunction(e){return this.getDateStringTypeDefinition(e).dateFormatter}getDateIncludesTimeFlag(e){return e==="dateTime"||e==="dateTimeString"}getDataTypeDefinition(e){const t=e.getColDef();if(t.cellDataType)return this.dataTypeDefinitions[t.cellDataType]}getBaseDataType(e){return this.getDataTypeDefinition(e)?.baseDataType}checkType(e,t){if(t==null)return!0;const n=this.getDataTypeDefinition(e)?.dataTypeMatcher;return n?n(t):!0}validateColDef(e){const t=n=>ve(48,{property:n});if(e.cellDataType==="object"){const{object:n}=this.dataTypeDefinitions;e.valueFormatter===n.groupSafeValueFormatter&&!this.hasObjectValueFormatter&&t("Formatter"),e.editable&&e.valueParser===n.valueParser&&!this.hasObjectValueParser&&t("Parser")}}postProcess(e){const t=e.cellDataType;if(!t||typeof t!="string")return;const{dataTypeDefinitions:n,beans:r,formatValueFuncs:i}=this,s=n[t];s&&r.colFilter?.setColDefPropsForDataType(e,s,i[t])}getFormatValue(e){return this.formatValueFuncs[e]}isColPendingInference(e){return this.isPendingInference&&!!this.columnStateUpdatesPendingInference[e]}setColDefPropertiesForBaseDataType(e,t,n,r){const i=this.formatValueFuncs[t],s=this.columnDefinitionPropsPerDataType[n.baseDataType]({colDef:e,cellDataType:t,colModel:this.colModel,dataTypeDefinition:n,colId:r,formatValue:i});Object.assign(e,s)}getDateObjectTypeDef(e){const t=this.getLocaleTextFunc(),n=this.getDateIncludesTimeFlag(e);return{baseDataType:e,valueParser:r=>Ci(r.newValue&&String(r.newValue)),valueFormatter:r=>r.value==null?"":!(r.value instanceof Date)||isNaN(r.value.getTime())?t("invalidDate","Invalid Date"):Ki(r.value,n)??"",dataTypeMatcher:r=>r instanceof Date}}getDateStringTypeDef(e){const t=this.getDateIncludesTimeFlag(e);return{baseDataType:e,dateParser:n=>Ci(n)??void 0,dateFormatter:n=>Ki(n??null,t)??void 0,valueParser:n=>nw(String(n.newValue))?n.newValue:null,valueFormatter:n=>nw(String(n.value))?String(n.value):"",dataTypeMatcher:n=>typeof n=="string"&&nw(n)}}getDefaultDataTypes(){const e=this.getLocaleTextFunc();return{number:{baseDataType:"number",valueParser:t=>t.newValue?.trim?.()===""?null:Number(t.newValue),valueFormatter:t=>t.value==null?"":typeof t.value!="number"||isNaN(t.value)?e("invalidNumber","Invalid Number"):String(t.value),dataTypeMatcher:t=>typeof t=="number"},text:{baseDataType:"text",valueParser:t=>t.newValue===""?null:E2(t.newValue),dataTypeMatcher:t=>typeof t=="string"},boolean:{baseDataType:"boolean",valueParser:t=>t.newValue==null?t.newValue:t.newValue?.trim?.()===""?null:String(t.newValue).toLowerCase()==="true",valueFormatter:t=>t.value==null?"":String(t.value),dataTypeMatcher:t=>typeof t=="boolean"},date:this.getDateObjectTypeDef("date"),dateString:this.getDateStringTypeDef("dateString"),dateTime:this.getDateObjectTypeDef("dateTime"),dateTimeString:{...this.getDateStringTypeDef("dateTimeString"),dataTypeMatcher:t=>typeof t=="string"&&ece(t)},object:{baseDataType:"object",valueParser:()=>null,valueFormatter:t=>E2(t.value)??""}}}destroyColumnStateUpdateListeners(){for(const e of this.columnStateUpdateListenerDestroyFuncs)e();this.columnStateUpdateListenerDestroyFuncs=[]}destroy(){this.dataTypeDefinitions={},this.dataTypeMatchers={},this.formatValueFuncs={},this.columnStateUpdatesPendingInference={},this.destroyColumnStateUpdateListeners(),super.destroy()}};function h_(e,t){const n={...e,...t};return e.columnTypes&&t.columnTypes&&t.appendColumnTypes&&(n.columnTypes=[...zw(e.columnTypes),...zw(t.columnTypes)]),n}function f_(e,t,n){return t?t.baseDataType!==e.baseDataType?(ve(46),!1):!0:(ve(45,{parentCellDataType:n}),!1)}function p_(e,t){if(e.valueFormatter)return n=>{if(n.node?.group){const r=(n.colDef.pivotValueColumn??n.column).getAggFunc();if(r){if(r==="first"||r==="last")return e.valueFormatter(n);if(e.baseDataType==="number"&&r!=="count"){if(typeof n.value=="number")return e.valueFormatter(n);if(typeof n.value=="object"){if(!n.value)return;if("toNumber"in n.value)return e.valueFormatter({...n,value:n.value.toNumber()});if("value"in n.value)return e.valueFormatter({...n,value:n.value.value})}}return}}else if(t.get("groupHideOpenParents")&&n.column.isRowGroupActive()&&typeof n.value=="string"&&!e.dataTypeMatcher?.(n.value))return;return e.valueFormatter(n)}}function Rpe(e,t,n,r){if(!t[n])return!1;const i=e[n];return i===null?(t[n]=!1,!1):r===void 0?!!i:i===r}function ID(e,t){return[["cellRenderer","agSparklineCellRenderer"],["valueGetter",void 0],["valueParser",void 0],["refData",void 0]].some(([n,r])=>Rpe(e,t,n,r))}function Mpe(e,t){const n=_V(e);for(const r of t)delete n[r],r==="rowGroup"?delete n.rowGroupIndex:r==="pivot"&&delete n.pivotIndex;return n}var Tpe={moduleName:"DataType",version:Re,beans:[Dpe],dependsOn:[Zfe]},kpe={moduleName:"ColumnFlex",version:Re,beans:[Spe]},eW={moduleName:"ColumnApi",version:Re,beans:[xpe],apiFunctions:{getColumnDef:tpe,getDisplayNameForColumn:rpe,getColumn:ipe,getColumns:spe,applyColumnState:ope,getColumnState:ape,resetColumnState:lpe,isPinning:cpe,isPinningLeft:upe,isPinningRight:dpe,getDisplayedColAfter:hpe,getDisplayedColBefore:fpe,setColumnsVisible:ppe,setColumnsPinned:gpe,getAllGridColumns:mpe,getDisplayedLeftColumns:vpe,getDisplayedCenterColumns:ype,getDisplayedRightColumns:wpe,getAllDisplayedColumns:bpe,getAllDisplayedVirtualColumns:Cpe,getColumnDefs:npe}};function Ape(e){if(!e||e==null)return null;const t=/([a-z])([A-Z])/g,n=/([A-Z]+)([A-Z])([a-z])/g;return e.replace(t,"$1 $2").replace(n,"$1 $2$3").replace(/\./g," ").split(" ").map(i=>i.substring(0,1).toUpperCase()+(i.length>1?i.substring(1,i.length):"")).join(" ")}var Ppe=class extends le{constructor(){super(...arguments),this.beanName="colNames"}getDisplayNameForColumn(e,t,n=!1){if(!e)return null;const r=this.getHeaderName(e.getColDef(),e,null,null,t),{aggColNameSvc:i}=this.beans;return n&&i?i.getHeaderName(e,r):r}getDisplayNameForProvidedColumnGroup(e,t,n){const r=t?.getColGroupDef();return r?this.getHeaderName(r,null,e,t,n):null}getDisplayNameForColumnGroup(e,t){return this.getDisplayNameForProvidedColumnGroup(e,e.getProvidedColumnGroup(),t)}getHeaderName(e,t,n,r,i){const s=e.headerValueGetter;if(s){const o=_e(this.gos,{colDef:e,column:t,columnGroup:n,providedColumnGroup:r,location:i});return typeof s=="function"?s(o):typeof s=="string"?this.beans.expressionSvc?.evaluate(s,o)??null:""}else{if(e.headerName!=null)return e.headerName;if(e.field)return Ape(e.field)}return""}},Npe=class extends le{constructor(){super(...arguments),this.beanName="colViewport",this.colsWithinViewport=[],this.headerColsWithinViewport=[],this.colsWithinViewportHash="",this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={},this.columnsToRenderLeft=[],this.columnsToRenderRight=[],this.columnsToRenderCenter=[]}wireBeans(e){this.visibleCols=e.visibleCols,this.colModel=e.colModel}postConstruct(){this.suppressColumnVirtualisation=this.gos.get("suppressColumnVirtualisation")}setScrollPosition(e,t,n=!1){const{visibleCols:r}=this,i=r.isBodyWidthDirty;if(!(e===this.scrollWidth&&t===this.scrollPosition&&!i)){if(this.scrollWidth=e,this.scrollPosition=t,r.isBodyWidthDirty=!0,this.gos.get("enableRtl")){const o=r.bodyWidth;this.viewportLeft=o-t-e,this.viewportRight=o-t}else this.viewportLeft=t,this.viewportRight=e+t;this.colModel.ready&&this.checkViewportColumns(n)}}getColumnHeadersToRender(e){switch(e){case"left":return this.columnsToRenderLeft;case"right":return this.columnsToRenderRight;default:return this.columnsToRenderCenter}}getHeadersToRender(e,t){let n;switch(e){case"left":n=this.rowsOfHeadersToRenderLeft[t];break;case"right":n=this.rowsOfHeadersToRenderRight[t];break;default:n=this.rowsOfHeadersToRenderCenter[t];break}return n??[]}extractViewportColumns(){const e=this.visibleCols.centerCols;this.isColumnVirtualisationSuppressed()?(this.colsWithinViewport=e,this.headerColsWithinViewport=e):(this.colsWithinViewport=e.filter(this.isColumnInRowViewport.bind(this)),this.headerColsWithinViewport=e.filter(this.isColumnInHeaderViewport.bind(this)))}isColumnVirtualisationSuppressed(){return this.suppressColumnVirtualisation||this.viewportRight===0}clear(){this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={},this.colsWithinViewportHash=""}isColumnInHeaderViewport(e){return e.isAutoHeaderHeight()||Ope(e)?!0:this.isColumnInRowViewport(e)}isColumnInRowViewport(e){if(e.isAutoHeight())return!0;const t=e.getLeft()||0,n=t+e.getActualWidth(),r=this.viewportLeft-200,i=this.viewportRight+200,s=t<r&&n<r,o=t>i&&n>i;return!s&&!o}getViewportColumns(){const{leftCols:e,rightCols:t}=this.visibleCols;return this.colsWithinViewport.concat(e).concat(t)}getColsWithinViewport(e){if(!this.colModel.colSpanActive)return this.colsWithinViewport;const t=s=>{const o=s.getLeft();return De(o)&&o>this.viewportLeft},n=this.isColumnVirtualisationSuppressed()?void 0:this.isColumnInRowViewport.bind(this),{visibleCols:r}=this,i=r.centerCols;return r.getColsForRow(e,i,n,t)}checkViewportColumns(e=!1){this.extractViewport()&&this.eventSvc.dispatchEvent({type:"virtualColumnsChanged",afterScroll:e})}calculateHeaderRows(){const{leftCols:e,rightCols:t}=this.visibleCols;this.columnsToRenderLeft=e,this.columnsToRenderRight=t,this.columnsToRenderCenter=this.colsWithinViewport;const n=r=>{const i=new Set,s={};for(const o of r){let a=o.getParent();const l=o.isSpanHeaderHeight();for(;a&&!i.has(a);){if(l&&a.isPadding()){a=a.getParent();continue}const d=a.getProvidedColumnGroup().getLevel();s[d]??(s[d]=[]),s[d].push(a),i.add(a),a=a.getParent()}}return s};this.rowsOfHeadersToRenderLeft=n(e),this.rowsOfHeadersToRenderRight=n(t),this.rowsOfHeadersToRenderCenter=n(this.headerColsWithinViewport)}extractViewport(){const e=r=>`${r.getId()}-${r.getPinned()||"normal"}`;this.extractViewportColumns();const t=this.getViewportColumns().map(e).join("#"),n=this.colsWithinViewportHash!==t;return n&&(this.colsWithinViewportHash=t,this.calculateHeaderRows()),n}};function Ope(e){for(;e;){if(e.isAutoHeaderHeight())return!0;e=e.getParent()}return!1}var Fpe=class extends le{constructor(){super(...arguments),this.beanName="agCompUtils"}adaptFunction(e,t){if(!e.cellRenderer)return null;class n{refresh(){return!1}getGui(){return this.eGui}init(i){const s=t(i),o=typeof s;if(o==="string"||o==="number"||o==="boolean"){this.eGui=oA("<span>"+s+"</span>");return}if(s==null){this.eGui=Tn({tag:"span"});return}this.eGui=s}}return n}},Ipe={moduleName:"CellRendererFunction",version:Re,beans:[Fpe]},Lpe=class extends Xce{constructor(){super(...arguments),this.agGridDefaults={},this.agGridDefaultOverrides={},this.jsComps={},this.selectors={},this.icons={}}postConstruct(){const e=this.gos.get("components");if(e!=null)for(const t of Object.keys(e))this.jsComps[t]=e[t]}registerModule(e){const{icons:t,userComponents:n,dynamicBeans:r,selectors:i}=e;if(n){const s=(o,a,l,c)=>{this.agGridDefaults[o]=a,(l||c)&&(this.agGridDefaultOverrides[o]={params:l,processParams:c})};for(const o of Object.keys(n)){let a=n[o];if(Yle(a)&&(a=a.getComp(this.beans)),typeof a=="object"){const{classImp:l,params:c,processParams:d}=a;s(o,l,c,d)}else s(o,a)}}this.registerDynamicBeans(r);for(const s of i??[])this.selectors[s.selector]=s;if(t)for(const s of Object.keys(t))this.icons[s]=t[s]}getUserComponent(e,t){const n=(a,l,c,d)=>({componentFromFramework:l,component:a,params:c,processParams:d}),{frameworkOverrides:r}=this.beans,i=r.frameworkComponent(t,this.gos.get("components"));if(i!=null)return n(i,!0);const s=this.jsComps[t];if(s){const a=r.isFrameworkComponent(s);return n(s,a)}const o=this.agGridDefaults[t];if(o){const a=this.agGridDefaultOverrides[t];return n(o,!1,a?.params,a?.processParams)}return this.beans.validation?.missingUserComponent(e,t,this.agGridDefaults,this.jsComps),null}getSelector(e){return this.selectors[e]}getIcon(e){return this.icons[e]}getDynamicError(e,t){return t?Oo(279,{name:e}):this.beans.validation?.missingDynamicBean(e)??Oo(256)}},_pe=23,jpe=class extends le{constructor(){super(...arguments),this.beanName="ctrlsSvc",this.params={},this.ready=!1,this.readyCallbacks=[]}postConstruct(){this.addEventListener("ready",()=>{if(this.updateReady(),this.ready){for(const e of this.readyCallbacks)e(this.params);this.readyCallbacks.length=0}},this.beans.frameworkOverrides.runWhenReadyAsync?.()??!1)}updateReady(){const e=Object.values(this.params);this.ready=e.length===_pe&&e.every(t=>t?.isAlive()??!1)}whenReady(e,t){this.ready?t(this.params):this.readyCallbacks.push(t),e.addDestroyFunc(()=>{const n=this.readyCallbacks.indexOf(t);n>=0&&this.readyCallbacks.splice(n,1)})}register(e,t){this.params[e]=t,this.updateReady(),this.ready&&this.dispatchLocalEvent({type:"ready"}),t.addDestroyFunc(()=>{this.updateReady()})}get(e){return this.params[e]}getGridBodyCtrl(){return this.params.gridBodyCtrl}getHeaderRowContainerCtrls(){const{leftHeader:e,centerHeader:t,rightHeader:n}=this.params;return[e,n,t]}getHeaderRowContainerCtrl(e){const t=this.params;switch(e){case"left":return t.leftHeader;case"right":return t.rightHeader;default:return t.centerHeader}}getScrollFeature(){return this.getGridBodyCtrl().scrollFeature}},Bpe='.ag-aria-description-container{border:0;z-index:9999;clip:rect(1px,1px,1px,1px);height:1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px}.ag-unselectable{-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-selectable{-webkit-user-select:text;-moz-user-select:text;user-select:text}.ag-tab-guard{display:block;height:0;position:absolute;width:0}:where(.ag-virtual-list-viewport) .ag-tab-guard{position:sticky}.ag-tab-guard-top{top:1px}.ag-tab-guard-bottom{bottom:1px}.ag-shake-left-to-right{animation-direction:alternate;animation-duration:.2s;animation-iteration-count:infinite;animation-name:ag-shake-left-to-right}@keyframes ag-shake-left-to-right{0%{padding-left:6px;padding-right:2px}to{padding-left:2px;padding-right:6px}}.ag-body-horizontal-scroll-viewport,.ag-body-vertical-scroll-viewport,.ag-body-viewport,.ag-center-cols-viewport,.ag-floating-bottom-viewport,.ag-floating-top-viewport,.ag-header-viewport,.ag-sticky-bottom-viewport,.ag-sticky-top-viewport,.ag-virtual-list-viewport{flex:1 1 auto;height:100%;min-width:0;overflow:hidden;position:relative}.ag-viewport{position:relative}.ag-spanning-container{position:absolute;top:0;z-index:1}.ag-body-viewport,.ag-center-cols-viewport,.ag-floating-bottom-viewport,.ag-floating-top-viewport,.ag-header-viewport,.ag-sticky-bottom-viewport,.ag-sticky-top-viewport{overflow-x:auto;-ms-overflow-style:none!important;scrollbar-width:none!important;&::-webkit-scrollbar{display:none!important}}.ag-body-viewport{display:flex;overflow-x:hidden;&:where(.ag-layout-normal){overflow-y:auto;-webkit-overflow-scrolling:touch}}.ag-floating-bottom-container,.ag-floating-top-container,.ag-sticky-bottom-container,.ag-sticky-top-container{min-height:1px}.ag-center-cols-viewport{min-height:100%;width:100%}.ag-body-horizontal-scroll-viewport{overflow-x:scroll}.ag-body-vertical-scroll-viewport{overflow-y:scroll}.ag-virtual-list-viewport{overflow:auto;width:100%}.ag-body-container,.ag-body-horizontal-scroll-container,.ag-body-vertical-scroll-container,.ag-center-cols-container,.ag-floating-bottom-container,.ag-floating-bottom-full-width-container,.ag-floating-top-container,.ag-full-width-container,.ag-header-container,.ag-pinned-left-cols-container,.ag-pinned-right-cols-container,.ag-sticky-bottom-container,.ag-sticky-top-container,.ag-virtual-list-container{position:relative}.ag-floating-bottom-container,.ag-floating-top-container,.ag-header-container,.ag-pinned-left-floating-bottom,.ag-pinned-left-floating-top,.ag-pinned-right-floating-bottom,.ag-pinned-right-floating-top,.ag-sticky-bottom-container,.ag-sticky-top-container{height:100%;white-space:nowrap}.ag-center-cols-container,.ag-pinned-right-cols-container{display:block}.ag-body-horizontal-scroll-container{height:100%}.ag-body-vertical-scroll-container{width:100%}.ag-floating-bottom-full-width-container,.ag-floating-top-full-width-container,.ag-full-width-container,.ag-sticky-bottom-full-width-container,.ag-sticky-top-full-width-container{pointer-events:none;position:absolute;top:0}:where(.ag-ltr) .ag-floating-bottom-full-width-container,:where(.ag-ltr) .ag-floating-top-full-width-container,:where(.ag-ltr) .ag-full-width-container,:where(.ag-ltr) .ag-sticky-bottom-full-width-container,:where(.ag-ltr) .ag-sticky-top-full-width-container{left:0}:where(.ag-rtl) .ag-floating-bottom-full-width-container,:where(.ag-rtl) .ag-floating-top-full-width-container,:where(.ag-rtl) .ag-full-width-container,:where(.ag-rtl) .ag-sticky-bottom-full-width-container,:where(.ag-rtl) .ag-sticky-top-full-width-container{right:0}.ag-full-width-container{width:100%}.ag-floating-bottom-full-width-container,.ag-floating-top-full-width-container{display:inline-block;height:100%;overflow:hidden;width:100%}.ag-virtual-list-container{overflow:hidden}.ag-body{display:flex;flex:1 1 auto;flex-direction:row!important;min-height:0;position:relative}.ag-body-horizontal-scroll,.ag-body-vertical-scroll{display:flex;min-height:0;min-width:0;position:relative;&:where(.ag-scrollbar-invisible){bottom:0;position:absolute;&:where(.ag-apple-scrollbar){opacity:0;transition:opacity .4s;visibility:hidden;&:where(.ag-scrollbar-scrolling,.ag-scrollbar-active){opacity:1;visibility:visible}}}}.ag-body-horizontal-scroll{width:100%;&:where(.ag-scrollbar-invisible){left:0;right:0}}.ag-body-vertical-scroll{height:100%;&:where(.ag-scrollbar-invisible){top:0;z-index:10}}:where(.ag-ltr) .ag-body-vertical-scroll{&:where(.ag-scrollbar-invisible){right:0}}:where(.ag-rtl) .ag-body-vertical-scroll{&:where(.ag-scrollbar-invisible){left:0}}.ag-force-vertical-scroll{overflow-y:scroll!important}.ag-horizontal-left-spacer,.ag-horizontal-right-spacer{height:100%;min-width:0;overflow-x:scroll;&:where(.ag-scroller-corner){overflow-x:hidden}}:where(.ag-row-animation) .ag-row{transition:transform .4s,top .4s,opacity .2s;&:where(.ag-after-created){transition:transform .4s,top .4s,height .4s,opacity .2s}}:where(.ag-row-animation.ag-prevent-animation) .ag-row{transition:none!important;&:where(.ag-row.ag-after-created){transition:none!important}}:where(.ag-row-no-animation) .ag-row{transition:none}.ag-row-loading{align-items:center;display:flex}.ag-row-position-absolute{position:absolute}.ag-row-position-relative{position:relative}.ag-full-width-row{overflow:hidden;pointer-events:all}.ag-row-inline-editing{z-index:1}.ag-row-dragging{z-index:2}.ag-stub-cell{align-items:center;display:flex}.ag-cell{display:inline-block;height:100%;position:absolute;white-space:nowrap;&:focus-visible{box-shadow:none}}.ag-cell-value{flex:1 1 auto}.ag-cell-value:not(.ag-allow-overflow),.ag-group-value{overflow:hidden;text-overflow:ellipsis}.ag-cell-wrap-text{white-space:normal;word-break:break-word}:where(.ag-cell) .ag-icon{display:inline-block;vertical-align:middle}.ag-floating-top{display:flex;overflow:hidden;position:relative;white-space:nowrap;width:100%}:where(.ag-floating-top:not(.ag-invisible)){border-bottom:var(--ag-pinned-row-border)}.ag-floating-bottom{display:flex;overflow:hidden;position:relative;white-space:nowrap;width:100%}:where(.ag-floating-bottom:not(.ag-invisible)){border-top:var(--ag-pinned-row-border)}.ag-sticky-bottom,.ag-sticky-top{background-color:var(--ag-data-background-color);display:flex;height:0;overflow:hidden;position:absolute;width:100%;z-index:1}.ag-opacity-zero{opacity:0!important}.ag-cell-label-container{align-items:center;display:flex;flex-direction:row-reverse;height:100%;justify-content:space-between;width:100%}:where(.ag-right-aligned-header){.ag-cell-label-container{flex-direction:row}.ag-header-cell-text{text-align:end}}.ag-column-group-icons{display:block;>*{cursor:pointer}}:where(.ag-ltr){direction:ltr;.ag-body,.ag-body-horizontal-scroll,.ag-body-viewport,.ag-floating-bottom,.ag-floating-top,.ag-header,.ag-sticky-bottom,.ag-sticky-top{flex-direction:row}}:where(.ag-rtl){direction:rtl;text-align:right;.ag-body,.ag-body-horizontal-scroll,.ag-body-viewport,.ag-floating-bottom,.ag-floating-top,.ag-header,.ag-sticky-bottom,.ag-sticky-top{flex-direction:row-reverse}.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{display:block}}:where(.ag-rtl){.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{transform:rotate(180deg)}}:where(.ag-rtl){.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{transform:rotate(-180deg)}}.ag-measurement-container{height:0;overflow:hidden;visibility:hidden;width:0}.ag-measurement-element-border{display:inline-block;&:before{border-left:var(--ag-internal-measurement-border);content:"";display:block}}.ag-group{position:relative;width:100%}.ag-group-title-bar{align-items:center;display:flex;padding:var(--ag-spacing)}.ag-group-title{display:inline;min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:where(.ag-group-title-bar) .ag-group-title{cursor:default}.ag-group-toolbar{align-items:center;display:flex;padding:var(--ag-spacing)}.ag-group-container{display:flex}.ag-disabled .ag-group-container{pointer-events:none}.ag-disabled-group-container,.ag-disabled-group-title-bar{opacity:.5}.ag-group-container-horizontal{flex-flow:row wrap}.ag-group-container-vertical{flex-direction:column}.ag-group-title-bar-icon{cursor:pointer;flex:none}:where(.ag-ltr) .ag-group-title-bar-icon{margin-right:var(--ag-spacing)}:where(.ag-rtl) .ag-group-title-bar-icon{margin-left:var(--ag-spacing)}:where(.ag-group-item-alignment-stretch) .ag-group-item{align-items:stretch}:where(.ag-group-item-alignment-start) .ag-group-item{align-items:flex-start}:where(.ag-group-item-alignment-end) .ag-group-item{align-items:flex-end}:where(.ag-ltr) .ag-row:not(.ag-row-level-0) .ag-pivot-leaf-group{margin-left:var(--ag-row-group-indent-size)}:where(.ag-rtl) .ag-row:not(.ag-row-level-0) .ag-pivot-leaf-group{margin-right:var(--ag-row-group-indent-size)}:where(.ag-ltr) .ag-row-group-leaf-indent{margin-left:calc(var(--ag-cell-widget-spacing) + var(--ag-icon-size))}:where(.ag-rtl) .ag-row-group-leaf-indent{margin-right:calc(var(--ag-cell-widget-spacing) + var(--ag-icon-size))}.ag-value-change-delta{padding:0 2px}.ag-value-change-delta-up{color:var(--ag-value-change-delta-up-color)}.ag-value-change-delta-down{color:var(--ag-value-change-delta-down-color)}.ag-value-change-value{background-color:transparent;border-radius:1px;padding-left:1px;padding-right:1px;transition:background-color 1s}.ag-value-change-value-highlight{background-color:var(--ag-value-change-value-highlight-background-color);transition:background-color .1s}.ag-cell-data-changed{background-color:var(--ag-value-change-value-highlight-background-color)!important}.ag-cell-data-changed-animation{background-color:transparent}.ag-cell-highlight{background-color:var(--ag-range-selection-highlight-color)!important}.ag-row,.ag-spanned-row{color:var(--ag-cell-text-color);font-family:var(--ag-cell-font-family);font-size:var(--ag-data-font-size);white-space:nowrap;--ag-internal-content-line-height:calc(min(var(--ag-row-height), var(--ag-line-height, 1000px)) - var(--ag-internal-row-border-width, 1px) - 2px)}.ag-row{background-color:var(--ag-data-background-color);border-bottom:var(--ag-row-border);height:var(--ag-row-height);width:100%;&.ag-row-editing-invalid{background-color:var(--ag-full-row-edit-invalid-background-color)}}:where(.ag-body-vertical-content-no-gap>div>div>div,.ag-body-vertical-content-no-gap>div>div>div>div)>.ag-row-last{border-bottom-color:transparent}.ag-sticky-bottom{border-top:var(--ag-row-border);box-sizing:content-box!important}.ag-group-contracted,.ag-group-expanded{cursor:pointer}.ag-cell,.ag-full-width-row .ag-cell-wrapper.ag-row-group{border:1px solid transparent;line-height:var(--ag-internal-content-line-height);-webkit-font-smoothing:subpixel-antialiased}:where(.ag-ltr) .ag-cell{border-right:var(--ag-column-border)}:where(.ag-rtl) .ag-cell{border-left:var(--ag-column-border)}.ag-spanned-cell-wrapper{background-color:var(--ag-data-background-color);position:absolute}.ag-spanned-cell-wrapper>.ag-spanned-cell{display:block;position:relative}:where(.ag-ltr) :where(.ag-body-horizontal-content-no-gap) .ag-column-last{border-right-color:transparent}:where(.ag-rtl) :where(.ag-body-horizontal-content-no-gap) .ag-column-last{border-left-color:transparent}.ag-cell-wrapper{align-items:center;display:flex;>:where(:not(.ag-cell-value,.ag-group-value)){align-items:center;display:flex;height:var(--ag-internal-content-line-height)}&:where(.ag-row-group){align-items:flex-start}:where(.ag-full-width-row) &:where(.ag-row-group){align-items:center;height:100%}}:where(.ag-ltr) .ag-cell-wrapper{padding-left:calc(var(--ag-indentation-level)*var(--ag-row-group-indent-size))}:where(.ag-rtl) .ag-cell-wrapper{padding-right:calc(var(--ag-indentation-level)*var(--ag-row-group-indent-size))}:where(.ag-cell-wrap-text:not(.ag-cell-auto-height)) .ag-cell-wrapper{align-items:normal;height:100%;:where(.ag-cell-value){height:100%}}:where(.ag-ltr) .ag-row>.ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}:where(.ag-rtl) .ag-row>.ag-cell-wrapper.ag-row-group{padding-right:calc(var(--ag-cell-horizontal-padding) + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}.ag-cell-focus:not(.ag-cell-range-selected):focus-within,.ag-cell-range-single-cell,.ag-cell-range-single-cell.ag-cell-range-handle,.ag-context-menu-open .ag-cell-focus:not(.ag-cell-range-selected),.ag-context-menu-open .ag-full-width-row.ag-row-focus .ag-cell-wrapper.ag-row-group,.ag-full-width-row.ag-row-focus:focus .ag-cell-wrapper.ag-row-group{border:1px solid;border-color:var(--ag-range-selection-border-color);border-style:var(--ag-range-selection-border-style);outline:initial}.ag-full-width-row.ag-row-focus:focus{box-shadow:none}:where(.ag-ltr) .ag-group-contracted,:where(.ag-ltr) .ag-group-expanded,:where(.ag-ltr) .ag-row-drag,:where(.ag-ltr) .ag-selection-checkbox{margin-right:var(--ag-cell-widget-spacing)}:where(.ag-rtl) .ag-group-contracted,:where(.ag-rtl) .ag-group-expanded,:where(.ag-rtl) .ag-row-drag,:where(.ag-rtl) .ag-selection-checkbox{margin-left:var(--ag-cell-widget-spacing)}:where(.ag-ltr) .ag-group-child-count{margin-left:3px}:where(.ag-rtl) .ag-group-child-count{margin-right:3px}.ag-row-highlight-above:after,.ag-row-highlight-below:after,.ag-row-highlight-inside:after{background-color:var(--ag-range-selection-border-color);content:"";height:1px;pointer-events:none;position:absolute;width:calc(100% - 1px)}:where(.ag-ltr) .ag-row-highlight-above:after,:where(.ag-ltr) .ag-row-highlight-below:after,:where(.ag-ltr) .ag-row-highlight-inside:after{left:1px}:where(.ag-rtl) .ag-row-highlight-above:after,:where(.ag-rtl) .ag-row-highlight-below:after,:where(.ag-rtl) .ag-row-highlight-inside:after{right:1px}.ag-row-highlight-above:after{top:0}.ag-row-highlight-below:after{bottom:0}.ag-row-highlight-indent:after{display:block;width:auto}:where(.ag-ltr) .ag-row-highlight-indent:after{left:calc((var(--ag-cell-widget-spacing) + var(--ag-icon-size))*2 + var(--ag-cell-horizontal-padding) + var(--ag-row-highlight-level)*var(--ag-row-group-indent-size));right:1px}:where(.ag-rtl) .ag-row-highlight-indent:after{left:1px;right:calc((var(--ag-cell-widget-spacing) + var(--ag-icon-size))*2 + var(--ag-cell-horizontal-padding) + var(--ag-row-highlight-level)*var(--ag-row-group-indent-size))}.ag-row-highlight-inside:after{background-color:var(--ag-selected-row-background-color);border:1px solid var(--ag-range-selection-border-color);display:block;height:auto;inset:0;width:auto}.ag-body,.ag-floating-bottom,.ag-floating-top{background-color:var(--ag-data-background-color)}.ag-row-odd{background-color:var(--ag-odd-row-background-color)}.ag-row-selected:before{background-color:var(--ag-selected-row-background-color);content:"";display:block;inset:0;pointer-events:none;position:absolute}.ag-row-hover.ag-full-width-row.ag-row-group:before,.ag-row-hover:not(.ag-full-width-row):before{background-color:var(--ag-row-hover-color);content:"";display:block;inset:0;pointer-events:none;position:absolute}.ag-row-hover.ag-row-selected:before{background-color:var(--ag-row-hover-color);background-image:linear-gradient(var(--ag-selected-row-background-color),var(--ag-selected-row-background-color))}.ag-row.ag-full-width-row.ag-row-group>*{position:relative}.ag-column-hover{background-color:var(--ag-column-hover-color)}.ag-header-range-highlight{background-color:var(--ag-range-header-highlight-color)}.ag-right-aligned-cell{font-variant-numeric:tabular-nums}:where(.ag-ltr) .ag-right-aligned-cell{text-align:right}:where(.ag-rtl) .ag-right-aligned-cell{text-align:left}.ag-right-aligned-cell .ag-cell-value,.ag-right-aligned-cell .ag-group-value{margin-left:auto}:where(.ag-ltr) .ag-cell:not(.ag-cell-inline-editing),:where(.ag-ltr) .ag-full-width-row .ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px + var(--ag-row-group-indent-size)*var(--ag-indentation-level));padding-right:calc(var(--ag-cell-horizontal-padding) - 1px)}:where(.ag-rtl) .ag-cell:not(.ag-cell-inline-editing),:where(.ag-rtl) .ag-full-width-row .ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px);padding-right:calc(var(--ag-cell-horizontal-padding) - 1px + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}.ag-row>.ag-cell-wrapper{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px);padding-right:calc(var(--ag-cell-horizontal-padding) - 1px)}.ag-row-dragging{cursor:move;opacity:.5}.ag-details-row{background-color:var(--ag-data-background-color);padding:calc(var(--ag-spacing)*3.75)}.ag-layout-auto-height,.ag-layout-print{.ag-center-cols-container,.ag-center-cols-viewport{min-height:150px}}.ag-overlay-loading-wrapper{background-color:var(--ag-modal-overlay-background-color)}.ag-skeleton-container{align-content:center;height:100%;width:100%}.ag-skeleton-effect{animation:ag-skeleton-loading 1.5s ease-in-out .5s infinite;background-color:var(--ag-row-loading-skeleton-effect-color);border-radius:.25rem;height:1em;width:100%}:where(.ag-ltr) .ag-right-aligned-cell .ag-skeleton-effect{margin-left:auto}:where(.ag-rtl) .ag-right-aligned-cell .ag-skeleton-effect{margin-right:auto}@keyframes ag-skeleton-loading{0%{background-color:var(--ag-row-loading-skeleton-effect-color)}50%{background-color:color-mix(in srgb,transparent,var(--ag-row-loading-skeleton-effect-color) 40%)}to{background-color:var(--ag-row-loading-skeleton-effect-color)}}.ag-loading{align-items:center;display:flex;height:100%}:where(.ag-ltr) .ag-loading{padding-left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-loading{padding-right:var(--ag-cell-horizontal-padding)}:where(.ag-ltr) .ag-loading-icon{padding-right:var(--ag-cell-widget-spacing)}:where(.ag-rtl) .ag-loading-icon{padding-left:var(--ag-cell-widget-spacing)}.ag-icon-loading{animation-duration:1s;animation-iteration-count:infinite;animation-name:spin;animation-timing-function:linear}@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.ag-header{background-color:var(--ag-header-background-color);border-bottom:var(--ag-header-row-border);color:var(--ag-header-text-color);display:flex;font-family:var(--ag-header-font-family);font-size:var(--ag-header-font-size);font-weight:var(--ag-header-font-weight);overflow:hidden;white-space:nowrap;width:100%}.ag-header-row{height:var(--ag-header-height);position:absolute}.ag-floating-filter-button-button,.ag-header-cell-filter-button,.ag-header-cell-menu-button,.ag-header-expand-icon,.ag-panel-title-bar-button,:where(.ag-header-cell-sortable) .ag-header-cell-label{cursor:pointer}:where(.ag-ltr) .ag-header-expand-icon{margin-left:4px}:where(.ag-rtl) .ag-header-expand-icon{margin-right:4px}.ag-header-row:where(:not(:first-child)){:where(.ag-header-cell:not(.ag-header-span-height.ag-header-span-total,.ag-header-parent-hidden),.ag-header-group-cell.ag-header-group-cell-with-group){border-top:var(--ag-header-row-border)}}.ag-header-row:where(:not(.ag-header-row-column-group)){overflow:hidden}:where(.ag-header.ag-header-allow-overflow) .ag-header-row{overflow:visible}.ag-header-cell{display:inline-flex;overflow:hidden}.ag-header-group-cell{contain:paint;display:flex}.ag-header-cell,.ag-header-group-cell{align-items:center;gap:var(--ag-cell-widget-spacing);height:100%;padding:0 var(--ag-cell-horizontal-padding);position:absolute}@property --ag-internal-moving-color{syntax:"<color>";inherits:false;initial-value:transparent}@property --ag-internal-hover-color{syntax:"<color>";inherits:false;initial-value:transparent}.ag-header-cell:where(:not(.ag-floating-filter)),.ag-header-group-cell{&:before{background-image:linear-gradient(var(--ag-internal-hover-color),var(--ag-internal-hover-color)),linear-gradient(var(--ag-internal-moving-color),var(--ag-internal-moving-color));content:"";inset:0;position:absolute;--ag-internal-moving-color:transparent;--ag-internal-hover-color:transparent;transition:--ag-internal-moving-color var(--ag-header-cell-background-transition-duration),--ag-internal-hover-color var(--ag-header-cell-background-transition-duration)}&:where(:hover):before{--ag-internal-hover-color:var(--ag-header-cell-hover-background-color)}&:where(.ag-header-cell-moving):before{--ag-internal-moving-color:var(--ag-header-cell-moving-background-color);--ag-internal-hover-color:var(--ag-header-cell-hover-background-color)}}:where(.ag-header-cell:not(.ag-floating-filter) *,.ag-header-group-cell *){position:relative;z-index:1}.ag-header-cell-menu-button:where(:not(.ag-header-menu-always-show)){opacity:0;transition:opacity .2s}.ag-header-cell-filter-button,:where(.ag-header-cell.ag-header-active) .ag-header-cell-menu-button{opacity:1}.ag-header-cell-label,.ag-header-group-cell-label{align-items:center;align-self:stretch;display:flex;flex:1 1 auto;overflow:hidden;padding:5px 0}:where(.ag-ltr) .ag-sort-indicator-icon{padding-left:var(--ag-spacing)}:where(.ag-rtl) .ag-sort-indicator-icon{padding-right:var(--ag-spacing)}.ag-header-cell-label{text-overflow:ellipsis}.ag-header-group-cell-label.ag-sticky-label{flex:none;max-width:100%;overflow:visible;position:sticky}:where(.ag-ltr) .ag-header-group-cell-label.ag-sticky-label{left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-header-group-cell-label.ag-sticky-label{right:var(--ag-cell-horizontal-padding)}.ag-header-cell-text,.ag-header-group-text{overflow:hidden;text-overflow:ellipsis}.ag-header-cell-text{word-break:break-word}.ag-header-cell-comp-wrapper{width:100%}:where(.ag-header-group-cell) .ag-header-cell-comp-wrapper{display:flex}:where(.ag-header-cell:not(.ag-header-cell-auto-height)) .ag-header-cell-comp-wrapper{align-items:center;display:flex;height:100%}.ag-header-cell-wrap-text .ag-header-cell-comp-wrapper{white-space:normal}.ag-header-cell-comp-wrapper-limited-height>*{overflow:hidden}:where(.ag-right-aligned-header) .ag-header-cell-label{flex-direction:row-reverse}:where(.ag-ltr) :where(.ag-header-cell:not(.ag-right-aligned-header)){.ag-header-label-icon,.ag-header-menu-icon{margin-left:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-header-cell:not(.ag-right-aligned-header)){.ag-header-label-icon,.ag-header-menu-icon{margin-right:var(--ag-spacing)}}:where(.ag-ltr) :where(.ag-header-cell.ag-right-aligned-header){.ag-header-label-icon,.ag-header-menu-icon{margin-right:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-header-cell.ag-right-aligned-header){.ag-header-label-icon,.ag-header-menu-icon{margin-left:var(--ag-spacing)}}.ag-header-cell:after,.ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{content:"";height:var(--ag-header-column-border-height);position:absolute;top:calc(50% - var(--ag-header-column-border-height)*.5);z-index:1}:where(.ag-ltr) .ag-header-cell:after,:where(.ag-ltr) .ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{border-right:var(--ag-header-column-border);right:0}:where(.ag-rtl) .ag-header-cell:after,:where(.ag-rtl) .ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{border-left:var(--ag-header-column-border);left:0}.ag-header-highlight-after:after,.ag-header-highlight-before:after{background-color:var(--ag-accent-color);content:"";height:100%;position:absolute;width:1px}:where(.ag-ltr) .ag-header-highlight-before:after{left:0}:where(.ag-rtl) .ag-header-highlight-before:after{right:0}:where(.ag-ltr) .ag-header-highlight-after:after{right:0;:where(.ag-pinned-left-header) &{right:1px}}:where(.ag-rtl) .ag-header-highlight-after:after{left:0;:where(.ag-pinned-left-header) &{left:1px}}.ag-header-cell-resize{align-items:center;cursor:ew-resize;display:flex;height:100%;position:absolute;top:0;width:8px;z-index:2;&:after{background-color:var(--ag-header-column-resize-handle-color);content:"";height:var(--ag-header-column-resize-handle-height);position:absolute;top:calc(50% - var(--ag-header-column-resize-handle-height)*.5);width:var(--ag-header-column-resize-handle-width);z-index:1}}:where(.ag-ltr) .ag-header-cell-resize{right:-3px;&:after{left:calc(50% - var(--ag-header-column-resize-handle-width))}}:where(.ag-rtl) .ag-header-cell-resize{left:-3px;&:after{right:calc(50% - var(--ag-header-column-resize-handle-width))}}:where(.ag-header-cell.ag-header-span-height) .ag-header-cell-resize:after{height:calc(100% - var(--ag-spacing)*4);top:calc(var(--ag-spacing)*2)}.ag-header-group-cell-no-group:where(.ag-header-span-height){display:none}.ag-sort-indicator-container{display:flex;gap:var(--ag-spacing)}.ag-layout-print{&.ag-body{display:block;height:unset}&.ag-root-wrapper{display:inline-block}.ag-body-horizontal-scroll,.ag-body-vertical-scroll{display:none}&.ag-force-vertical-scroll{overflow-y:visible!important}}@media print{.ag-root-wrapper.ag-layout-print{display:table;.ag-body-horizontal-scroll-viewport,.ag-body-viewport,.ag-center-cols-container,.ag-center-cols-viewport,.ag-root,.ag-root-wrapper-body,.ag-virtual-list-viewport{display:block!important;height:auto!important;overflow:hidden!important}.ag-cell,.ag-row{-moz-column-break-inside:avoid;break-inside:avoid}}}ag-grid,ag-grid-angular{display:block}.ag-root-wrapper{border:var(--ag-wrapper-border);border-radius:var(--ag-wrapper-border-radius);display:flex;flex-direction:column;overflow:hidden;position:relative;&.ag-layout-normal{height:100%}}.ag-root-wrapper-body{display:flex;flex-direction:row;&.ag-layout-normal{flex:1 1 auto;height:0;min-height:0}}.ag-root{display:flex;flex-direction:column;position:relative;&.ag-layout-auto-height,&.ag-layout-normal{flex:1 1 auto;overflow:hidden;width:0}&.ag-layout-normal{height:100%}}.ag-virtual-list-item{height:var(--ag-list-item-height);position:absolute;width:100%}.ag-list-item-hovered:after{background-color:var(--ag-accent-color);content:"";height:1px;left:0;position:absolute;right:0}.ag-item-highlight-top:after{top:0}.ag-item-highlight-bottom:after{bottom:0}.ag-drag-handle{color:var(--ag-drag-handle-color);cursor:grab;:where(.ag-icon){color:var(--ag-drag-handle-color)}}.ag-chart-menu-icon,.ag-chart-settings-next,.ag-chart-settings-prev,.ag-column-group-icons,.ag-column-select-header-icon,.ag-filter-toolpanel-expand,.ag-floating-filter-button-button,.ag-group-title-bar-icon,.ag-header-cell-filter-button,.ag-header-cell-menu-button,.ag-header-expand-icon,.ag-panel-title-bar-button,.ag-panel-title-bar-button-icon,.ag-set-filter-group-icons,:where(.ag-group-contracted) .ag-icon,:where(.ag-group-expanded) .ag-icon{background-color:var(--ag-icon-button-background-color);border-radius:var(--ag-icon-button-border-radius);box-shadow:0 0 0 var(--ag-icon-button-background-spread) var(--ag-icon-button-background-color);color:var(--ag-icon-button-color);&:hover{background-color:var(--ag-icon-button-hover-background-color);box-shadow:0 0 0 var(--ag-icon-button-background-spread) var(--ag-icon-button-hover-background-color);color:var(--ag-icon-button-hover-color)}}.ag-filter-active{background-image:linear-gradient(var(--ag-icon-button-active-background-color),var(--ag-icon-button-active-background-color));border-radius:1px;outline:solid var(--ag-icon-button-background-spread) var(--ag-icon-button-active-background-color);position:relative;&:after{background-color:var(--ag-icon-button-active-indicator-color);border-radius:50%;content:"";height:6px;position:absolute;top:-1px;width:6px}:where(.ag-icon-filter){clip-path:path("M8,0C8,4.415 11.585,8 16,8L16,16L0,16L0,0L8,0Z");color:var(--ag-icon-button-active-color)}}:where(.ag-ltr) .ag-filter-active{&:after{right:-1px}}:where(.ag-rtl) .ag-filter-active{&:after{left:-1px}}.ag-menu{background-color:var(--ag-menu-background-color);border:var(--ag-menu-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-menu-shadow);color:var(--ag-menu-text-color);max-height:100%;overflow-y:auto;position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}',Hpe={wrapperBorder:!0,rowBorder:!0,headerRowBorder:!0,footerRowBorder:{ref:"rowBorder"},columnBorder:{style:"solid",width:1,color:"transparent"},headerColumnBorder:!1,headerColumnBorderHeight:"100%",pinnedColumnBorder:!0,pinnedRowBorder:!0,sidePanelBorder:!0,sideBarPanelWidth:250,sideBarBackgroundColor:{ref:"chromeBackgroundColor"},sideButtonBarBackgroundColor:{ref:"sideBarBackgroundColor"},sideButtonBarTopPadding:0,sideButtonSelectedUnderlineWidth:2,sideButtonSelectedUnderlineColor:"transparent",sideButtonSelectedUnderlineTransitionDuration:0,sideButtonBackgroundColor:"transparent",sideButtonTextColor:{ref:"textColor"},sideButtonHoverBackgroundColor:{ref:"sideButtonBackgroundColor"},sideButtonHoverTextColor:{ref:"sideButtonTextColor"},sideButtonSelectedBackgroundColor:_n,sideButtonSelectedTextColor:{ref:"sideButtonTextColor"},sideButtonBorder:"solid 1px transparent",sideButtonSelectedBorder:!0,sideButtonLeftPadding:{ref:"spacing"},sideButtonRightPadding:{ref:"spacing"},sideButtonVerticalPadding:{calc:"spacing * 3"},headerBackgroundColor:{ref:"chromeBackgroundColor"},headerFontFamily:{ref:"fontFamily"},cellFontFamily:{ref:"fontFamily"},headerFontWeight:500,headerFontSize:{ref:"fontSize"},dataFontSize:{ref:"fontSize"},headerTextColor:{ref:"textColor"},headerCellHoverBackgroundColor:"transparent",headerCellMovingBackgroundColor:{ref:"headerCellHoverBackgroundColor"},headerCellBackgroundTransitionDuration:"0.2s",cellTextColor:{ref:"textColor"},rangeSelectionBorderStyle:"solid",rangeSelectionBorderColor:xs,rangeSelectionBackgroundColor:bo(.2),rangeSelectionChartBackgroundColor:"#0058FF1A",rangeSelectionChartCategoryBackgroundColor:"#00FF841A",rangeSelectionHighlightColor:bo(.5),rangeHeaderHighlightColor:Pce(.08),rowNumbersSelectedColor:bo(.5),rowHoverColor:bo(.08),columnHoverColor:bo(.05),selectedRowBackgroundColor:bo(.12),modalOverlayBackgroundColor:{ref:"backgroundColor",mix:.66},dataBackgroundColor:_n,oddRowBackgroundColor:{ref:"dataBackgroundColor"},wrapperBorderRadius:8,cellHorizontalPadding:{calc:"spacing * 2 * cellHorizontalPaddingScale"},cellWidgetSpacing:{calc:"spacing * 1.5"},cellHorizontalPaddingScale:1,rowGroupIndentSize:{calc:"cellWidgetSpacing + iconSize"},valueChangeDeltaUpColor:"#43a047",valueChangeDeltaDownColor:"#e53935",valueChangeValueHighlightBackgroundColor:"#16a08580",rowHeight:{calc:"max(iconSize, dataFontSize) + spacing * 3.25 * rowVerticalPaddingScale"},rowVerticalPaddingScale:1,headerHeight:{calc:"max(iconSize, dataFontSize) + spacing * 4 * headerVerticalPaddingScale"},headerVerticalPaddingScale:1,paginationPanelHeight:{ref:"rowHeight",calc:"max(rowHeight, 22px)"},dragHandleColor:Gr(.7),headerColumnResizeHandleHeight:"30%",headerColumnResizeHandleWidth:2,headerColumnResizeHandleColor:{ref:"borderColor"},widgetContainerHorizontalPadding:{calc:"spacing * 1.5"},widgetContainerVerticalPadding:{calc:"spacing * 1.5"},widgetHorizontalSpacing:{calc:"spacing * 1.5"},widgetVerticalSpacing:{ref:"spacing"},iconButtonColor:{ref:"iconColor"},iconButtonBackgroundColor:"transparent",iconButtonBackgroundSpread:4,iconButtonBorderRadius:1,iconButtonHoverColor:{ref:"iconButtonColor"},iconButtonHoverBackgroundColor:Gr(.1),iconButtonActiveColor:xs,iconButtonActiveBackgroundColor:bo(.28),iconButtonActiveIndicatorColor:xs,menuBorder:{color:Gr(.2)},menuBackgroundColor:wr(.03),menuTextColor:wr(.95),menuShadow:{ref:"popupShadow"},menuSeparatorColor:{ref:"borderColor"},setFilterIndentSize:{ref:"iconSize"},chartMenuPanelWidth:260,chartMenuLabelColor:Gr(.8),dialogShadow:{ref:"popupShadow"},cellEditingBorder:{color:xs},cellEditingShadow:{ref:"cardShadow"},fullRowEditInvalidBackgroundColor:{ref:"invalidColor",onto:"backgroundColor",mix:.25},dialogBorder:{color:Gr(.2)},panelBackgroundColor:_n,panelTitleBarHeight:{ref:"headerHeight"},panelTitleBarBackgroundColor:{ref:"headerBackgroundColor"},panelTitleBarIconColor:{ref:"headerTextColor"},panelTitleBarTextColor:{ref:"headerTextColor"},panelTitleBarFontWeight:{ref:"headerFontWeight"},panelTitleBarBorder:!0,columnSelectIndentSize:{ref:"iconSize"},toolPanelSeparatorBorder:!0,columnDropCellBackgroundColor:Gr(.07),columnDropCellTextColor:{ref:"textColor"},columnDropCellDragHandleColor:{ref:"textColor"},columnDropCellBorder:{color:Gr(.13)},selectCellBackgroundColor:Gr(.07),selectCellBorder:{color:Gr(.13)},advancedFilterBuilderButtonBarBorder:!0,advancedFilterBuilderIndentSize:{calc:"spacing * 2 + iconSize"},advancedFilterBuilderJoinPillColor:"#f08e8d",advancedFilterBuilderColumnPillColor:"#a6e194",advancedFilterBuilderOptionPillColor:"#f3c08b",advancedFilterBuilderValuePillColor:"#85c0e4",filterPanelApplyButtonColor:_n,filterPanelApplyButtonBackgroundColor:xs,filterPanelCardSubtleColor:{ref:"textColor",mix:.7},filterPanelCardSubtleHoverColor:{ref:"textColor"},findMatchColor:Ma,findMatchBackgroundColor:"#ffff00",findActiveMatchColor:Ma,findActiveMatchBackgroundColor:"#ffa500",filterToolPanelGroupIndent:{ref:"spacing"},rowLoadingSkeletonEffectColor:Gr(.15),statusBarLabelColor:Ma,statusBarLabelFontWeight:500,statusBarValueColor:Ma,statusBarValueFontWeight:500,pinnedSourceRowTextColor:{ref:"textColor"},pinnedSourceRowBackgroundColor:{ref:"dataBackgroundColor"},pinnedSourceRowFontWeight:600,pinnedRowFontWeight:600,pinnedRowBackgroundColor:{ref:"dataBackgroundColor"},pinnedRowTextColor:{ref:"textColor"}},zpe=".ag-cell-batch-edit{background-color:var(--ag-cell-batch-edit-background-color);color:var(--ag-cell-batch-edit-text-color);display:inherit}.ag-row-batch-edit{background-color:var(--ag-row-batch-edit-background-color);color:var(--ag-row-batch-edit-text-color)}",tW={cellBatchEditBackgroundColor:"rgba(220 181 139 / 16%)",cellBatchEditTextColor:"#422f00",rowBatchEditBackgroundColor:{ref:"cellBatchEditBackgroundColor"},rowBatchEditTextColor:{ref:"cellBatchEditTextColor"}},Gpe={...tW,cellBatchEditTextColor:"#f3d0b3"},Vpe=()=>xi({feature:"batchEditStyle",params:tW,css:zpe}),Wpe=Vpe(),nW=":where(.ag-button){background:none;border:none;color:inherit;cursor:pointer;font-family:inherit;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;margin:0;padding:0;text-indent:inherit;text-shadow:inherit;text-transform:inherit;word-spacing:inherit;&:disabled{cursor:default}&:focus-visible{box-shadow:var(--ag-focus-shadow);outline:none}}.ag-standard-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:var(--ag-button-background-color);border:var(--ag-button-border);border-radius:var(--ag-button-border-radius);color:var(--ag-button-text-color);cursor:pointer;font-weight:var(--ag-button-font-weight);padding:var(--ag-button-vertical-padding) var(--ag-button-horizontal-padding);&:hover{background-color:var(--ag-button-hover-background-color);border:var(--ag-button-hover-border);color:var(--ag-button-hover-text-color)}&:active{background-color:var(--ag-button-active-background-color);border:var(--ag-button-active-border);color:var(--ag-button-active-text-color)}&:disabled{background-color:var(--ag-button-disabled-background-color);border:var(--ag-button-disabled-border);color:var(--ag-button-disabled-text-color)}}",rW={buttonTextColor:"inherit",buttonFontWeight:"normal",buttonBackgroundColor:"transparent",buttonBorder:!1,buttonBorderRadius:{ref:"borderRadius"},buttonHorizontalPadding:{calc:"spacing * 2"},buttonVerticalPadding:{ref:"spacing"},buttonHoverTextColor:{ref:"buttonTextColor"},buttonHoverBackgroundColor:{ref:"buttonBackgroundColor"},buttonHoverBorder:{ref:"buttonBorder"},buttonActiveTextColor:{ref:"buttonHoverTextColor"},buttonActiveBackgroundColor:{ref:"buttonHoverBackgroundColor"},buttonActiveBorder:{ref:"buttonHoverBorder"},buttonDisabledTextColor:{ref:"inputDisabledTextColor"},buttonDisabledBackgroundColor:{ref:"inputDisabledBackgroundColor"},buttonDisabledBorder:{ref:"inputDisabledBorder"}},Upe=()=>xi({feature:"buttonStyle",params:{...rW,buttonBackgroundColor:_n,buttonBorder:!0,buttonHoverBackgroundColor:{ref:"rowHoverColor"},buttonActiveBorder:{color:xs}},css:nW}),$pe=Upe(),qpe=()=>xi({feature:"buttonStyle",params:{...rW,buttonBorder:{color:Ma,width:2,style:"outset"},buttonActiveBorder:{color:Ma,width:2,style:"inset"},buttonBackgroundColor:wr(.07),buttonHoverBackgroundColor:_n,buttonVerticalPadding:{calc:"spacing * 0.5"}},css:nW}),Kpe=qpe(),Ype=".ag-column-drop-vertical-empty-message{align-items:center;border:dashed var(--ag-border-width);border-color:var(--ag-border-color);display:flex;inset:0;justify-content:center;margin:calc(var(--ag-spacing)*1.5) calc(var(--ag-spacing)*2);overflow:hidden;padding:calc(var(--ag-spacing)*2);position:absolute}",Qpe=".ag-column-drop-vertical-empty-message{color:var(--ag-subtle-text-color);font-size:calc(var(--ag-font-size) - 1px);font-weight:600;padding-top:var(--ag-spacing)}:where(.ag-ltr) .ag-column-drop-vertical-empty-message{padding-left:calc(var(--ag-icon-size) + var(--ag-spacing) + var(--ag-widget-horizontal-spacing));padding-right:var(--ag-spacing)}:where(.ag-rtl) .ag-column-drop-vertical-empty-message{padding-left:var(--ag-spacing);padding-right:calc(var(--ag-icon-size) + var(--ag-spacing) + var(--ag-widget-horizontal-spacing))}",Xpe=()=>xi({feature:"columnDropStyle",css:Ype}),iW=Xpe(),Jpe=()=>xi({feature:"columnDropStyle",css:Qpe}),Zpe=Jpe(),ege={warn:(...e)=>{ve(e[0],e[1])},error:(...e)=>{Dt(e[0],e[1])},preInitErr:(...e)=>{yg(e[0],e[2],e[1])}},sW=()=>Gce(ege).withParams(Hpe).withPart($pe).withPart(iW).withPart(Wpe),tge='.ag-checkbox-input-wrapper,.ag-radio-button-input-wrapper{background-color:var(--ag-checkbox-unchecked-background-color);border:solid var(--ag-checkbox-border-width) var(--ag-checkbox-unchecked-border-color);flex:none;height:var(--ag-icon-size);position:relative;width:var(--ag-icon-size);:where(input){-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:block;height:var(--ag-icon-size);margin:0;opacity:0;width:var(--ag-icon-size)}&:after{content:"";display:block;inset:0;-webkit-mask-position:center;mask-position:center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;pointer-events:none;position:absolute}&:where(.ag-checked){background-color:var(--ag-checkbox-checked-background-color);border-color:var(--ag-checkbox-checked-border-color);&:after{background-color:var(--ag-checkbox-checked-shape-color)}}&:where(:focus-within,:active){box-shadow:var(--ag-focus-shadow)}&:where(.ag-disabled){filter:grayscale();opacity:.5}}.ag-checkbox-input-wrapper{border-radius:var(--ag-checkbox-border-radius);&:where(.ag-checked):after{-webkit-mask-image:var(--ag-checkbox-checked-shape-image);mask-image:var(--ag-checkbox-checked-shape-image)}&:where(.ag-indeterminate){background-color:var(--ag-checkbox-indeterminate-background-color);border-color:var(--ag-checkbox-indeterminate-border-color);&:after{background-color:var(--ag-checkbox-indeterminate-shape-color);-webkit-mask-image:var(--ag-checkbox-indeterminate-shape-image);mask-image:var(--ag-checkbox-indeterminate-shape-image)}}}.ag-cell-editing-error .ag-checkbox-input-wrapper:focus-within{box-shadow:var(--ag-focus-error-shadow)}.ag-radio-button-input-wrapper{border-radius:100%;&:where(.ag-checked):after{-webkit-mask-image:var(--ag-radio-checked-shape-image);mask-image:var(--ag-radio-checked-shape-image)}}',nge=()=>xi({feature:"checkboxStyle",params:{checkboxBorderWidth:1,checkboxBorderRadius:{ref:"borderRadius"},checkboxUncheckedBackgroundColor:_n,checkboxUncheckedBorderColor:wr(.3),checkboxCheckedBackgroundColor:xs,checkboxCheckedBorderColor:{ref:"checkboxCheckedBackgroundColor"},checkboxCheckedShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="10" height="7" fill="none"><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.75" d="M1 3.5 3.5 6l5-5"/></svg>'},checkboxCheckedShapeColor:_n,checkboxIndeterminateBackgroundColor:wr(.3),checkboxIndeterminateBorderColor:{ref:"checkboxIndeterminateBackgroundColor"},checkboxIndeterminateShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="10" height="2" fill="none"><rect width="10" height="2" fill="#000" rx="1"/></svg>'},checkboxIndeterminateShapeColor:_n,radioCheckedShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="6" height="6" fill="none"><circle cx="3" cy="3" r="3" fill="#000"/></svg>'}},css:tge}),oW=nge(),aW=()=>({...$w,...Gpe,backgroundColor:"hsl(217, 0%, 17%)",foregroundColor:"#FFF",chromeBackgroundColor:wr(.05),rowHoverColor:bo(.15),selectedRowBackgroundColor:bo(.2),menuBackgroundColor:wr(.1),browserColorScheme:"dark",popupShadow:"0 0px 20px #000A",cardShadow:"0 1px 4px 1px #000A",advancedFilterBuilderJoinPillColor:"#7a3a37",advancedFilterBuilderColumnPillColor:"#355f2d",advancedFilterBuilderOptionPillColor:"#5a3168",advancedFilterBuilderValuePillColor:"#374c86",filterPanelApplyButtonColor:Ma,findMatchColor:_n,findActiveMatchColor:_n,checkboxUncheckedBorderColor:wr(.4),toggleButtonOffBackgroundColor:wr(.4),rowBatchEditBackgroundColor:wr(.1)}),rge=()=>({...aW(),backgroundColor:"#1f2836"}),ige=()=>xi({feature:"colorScheme",params:$w,modeParams:{light:$w,dark:aW(),"dark-blue":rge()}}),lW=ige(),sge=`.ag-icon-aggregation:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eaggregation%3C/title%3E%3Cpath d='M25.128 2.002c2.56.096 4.772 2.292 4.87 4.87a712 712 0 0 1 0 18.256c-.096 2.56-2.292 4.772-4.87 4.87a712 712 0 0 1-18.256 0c-2.558-.096-4.772-2.29-4.87-4.87a712 712 0 0 1 0-18.256c.096-2.56 2.292-4.772 4.87-4.87a712 712 0 0 1 18.256 0M7.006 4c-1.57.02-2.946 1.348-3.004 2.922-.078 6.078-.23 12.16.002 18.234.094 1.484 1.354 2.746 2.84 2.84 6.1.232 12.212.232 18.312 0 1.48-.094 2.746-1.35 2.84-2.84.232-6.1.232-12.212 0-18.312-.094-1.48-1.35-2.746-2.84-2.84C19.11 3.774 13.056 4 7.006 4M22 12h-2v-2h-8v.092c.056 1.352 3.426 2.598 4.472 4.404.682 1.174.438 2.754-.572 3.72C14.29 19.618 12 20.924 12 22h8v-2h2v4H10c0-1.586-.098-3.304 1.016-4.314 1.904-1.632 4.89-3.108 3.54-4.42-1.918-1.68-4.464-2.936-4.554-5.12L10 8h12z'/%3E%3C/svg%3E")}.ag-icon-arrows:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Earrows%3C/title%3E%3Cpath d='m6.414 17 2.294 2.292-1.416 1.416L2.586 16l4.706-4.708 1.416 1.416L6.414 15H15V6.414l-2.292 2.294-1.416-1.416L16 2.586l4.708 4.706-1.416 1.416L17 6.414V15h8.586l-2.294-2.292 1.416-1.416L29.414 16l-4.706 4.708-1.416-1.416L25.586 17H17v8.586l2.292-2.294 1.416 1.416L16 29.414l-4.708-4.706 1.416-1.416L15 25.586V17z'/%3E%3C/svg%3E")}.ag-icon-asc:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Easc%3C/title%3E%3Cpath d='m15 10.621-4.292 4.294-1.416-1.416L16 6.793l6.708 6.706-1.416 1.416L17 10.621v14.586h-2z'/%3E%3C/svg%3E")}.ag-icon-cancel:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Ecancel%3C/title%3E%3Cpath d='M16 4C9.378 4 4 9.378 4 16s5.378 12 12 12 12-5.378 12-12S22.622 4 16 4m0 2c5.52 0 10 4.48 10 10s-4.48 10-10 10S6 21.52 6 16 10.48 6 16 6m0 8.586 5.292-5.294 1.416 1.416L17.414 16l5.294 5.292-1.416 1.416L16 17.414l-5.292 5.294-1.416-1.416L14.586 16l-5.294-5.292 1.416-1.416z'/%3E%3C/svg%3E")}.ag-icon-chart:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Echart%3C/title%3E%3Cpath d='M6.667 12.267h4v13.067h-4zm7.466-5.6h3.733v18.667h-3.733zM21.6 17.333h3.733v8H21.6z'/%3E%3C/svg%3E")}.ag-icon-color-picker:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Ecolor-picker%3C/title%3E%3Cpath d='M23.907 17.587 10.574 4.254l-1.88 1.88 3.173 3.173-8.28 8.28 10.16 10.16zm-16.547 0 6.387-6.387 6.387 6.387H7.361zm18.387 2s-2.667 2.893-2.667 4.667c0 1.467 1.2 2.667 2.667 2.667s2.667-1.2 2.667-2.667c0-1.773-2.667-4.667-2.667-4.667'/%3E%3C/svg%3E")}.ag-icon-columns:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Ecolumns%3C/title%3E%3Cpath d='M14 25h-2V7h2zm6 0h-2V7h2zm6 0h-2V7h2zM8 25H6V7h2z'/%3E%3C/svg%3E")}.ag-icon-contracted:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Econtracted%3C/title%3E%3Cpath d='m21.061 16-8.706 8.708-1.416-1.416L18.233 16l-7.294-7.292 1.416-1.416z'/%3E%3C/svg%3E")}.ag-icon-copy:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Ecopy%3C/title%3E%3Cpath d='M21.929 27.999h-7.828a5.09 5.09 0 0 1-5.086-5.086v-9.812a5.087 5.087 0 0 1 5.086-5.086h7.828a5.09 5.09 0 0 1 5.086 5.086v9.812a5.087 5.087 0 0 1-5.086 5.086m.16-17.984h-8.088a2.94 2.94 0 0 0-2.938 2.938v10.132a2.94 2.94 0 0 0 2.938 2.938h8.088a2.94 2.94 0 0 0 2.936-2.938V12.953a2.94 2.94 0 0 0-2.936-2.938M7.041 26.013h-2.05a4 4 0 0 1-.006-.228V9.065a5.07 5.07 0 0 1 5.064-5.064h12.812q.069 0 .134.002v2.012H9.915a2.876 2.876 0 0 0-2.874 2.874z'/%3E%3C/svg%3E")}.ag-icon-cross:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='4 4 24 24'%3E%3Ctitle%3Ecross%3C/title%3E%3Cpath d='m16 14.586 5.292-5.294 1.416 1.416L17.414 16l5.294 5.292-1.416 1.416L16 17.414l-5.292 5.294-1.416-1.416L14.586 16l-5.294-5.292 1.416-1.416z'/%3E%3C/svg%3E")}.ag-icon-csv:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M384 131.9c-7.753-8.433-110.425-128.473-114.9-133L48-.1C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48zm-35.9 2.1H257V27.9zM30 479V27h200l1 105c0 13.3-1.3 29 12 29h111l1 318z' style='fill-rule:nonzero' transform='translate(3.934 -.054)scale(.06285)'/%3E%3Cpath d='M.688-.226a.2.2 0 0 1-.017.074.28.28 0 0 1-.145.14.412.412 0 0 1-.234.013.28.28 0 0 1-.202-.168.468.468 0 0 1-.04-.19q0-.086.025-.155a.319.319 0 0 1 .182-.191.4.4 0 0 1 .134-.025q.087 0 .155.035a.3.3 0 0 1 .104.085.17.17 0 0 1 .036.097.06.06 0 0 1-.018.044.06.06 0 0 1-.042.019.06.06 0 0 1-.042-.013.2.2 0 0 1-.031-.046.2.2 0 0 0-.066-.079.16.16 0 0 0-.095-.027.17.17 0 0 0-.142.068.3.3 0 0 0-.053.193.4.4 0 0 0 .023.139.2.2 0 0 0 .067.083.2.2 0 0 0 .1.027q.063 0 .106-.031a.2.2 0 0 0 .065-.091.2.2 0 0 1 .023-.046q.014-.018.044-.018a.06.06 0 0 1 .044.018.06.06 0 0 1 .019.045' style='fill-rule:nonzero' transform='matrix(8.39799 0 0 12.455 7.122 25.977)'/%3E%3Cpath d='M.622-.215a.2.2 0 0 1-.033.117.23.23 0 0 1-.098.081.4.4 0 0 1-.153.029.34.34 0 0 1-.175-.04.23.23 0 0 1-.079-.077.17.17 0 0 1-.031-.093q0-.027.019-.045a.06.06 0 0 1 .046-.019.06.06 0 0 1 .039.014.1.1 0 0 1 .027.044.3.3 0 0 0 .03.057q.015.023.044.038.03.015.076.015.065 0 .105-.03a.09.09 0 0 0 .04-.075.08.08 0 0 0-.022-.058.14.14 0 0 0-.056-.034 1 1 0 0 0-.092-.025.7.7 0 0 1-.129-.042.2.2 0 0 1-.083-.066.17.17 0 0 1-.03-.104q0-.058.032-.105a.2.2 0 0 1 .093-.07.4.4 0 0 1 .144-.025q.066 0 .114.016a.3.3 0 0 1 .08.044.2.2 0 0 1 .046.057q.015.03.015.058a.07.07 0 0 1-.018.046.06.06 0 0 1-.046.021q-.025 0-.038-.012a.2.2 0 0 1-.028-.041.2.2 0 0 0-.047-.063Q.387-.625.326-.625a.15.15 0 0 0-.09.025q-.035.024-.035.059 0 .021.012.037a.1.1 0 0 0 .032.027.4.4 0 0 0 .111.036q.06.015.11.031.048.018.083.042a.2.2 0 0 1 .054.062.2.2 0 0 1 .019.091' style='fill-rule:nonzero' transform='matrix(8.39799 0 0 12.455 13.339 25.977)'/%3E%3Cpath d='m.184-.633.162.48.163-.483q.013-.038.019-.053a.062.062 0 0 1 .061-.039q.018 0 .034.009a.1.1 0 0 1 .025.025q.009.015.009.031L.654-.64l-.007.025-.009.024-.173.468-.019.051a.2.2 0 0 1-.021.042.1.1 0 0 1-.033.03.1.1 0 0 1-.049.012.1.1 0 0 1-.05-.011A.1.1 0 0 1 .26-.03a.2.2 0 0 1-.021-.042L.22-.123.05-.587.041-.612.033-.638.03-.662q0-.025.02-.046a.07.07 0 0 1 .05-.02q.037 0 .053.023.015.023.031.072' style='fill-rule:nonzero' transform='matrix(8.39799 0 0 12.455 18.94 25.977)'/%3E%3C/svg%3E")}.ag-icon-cut:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M14.703 15.096 6.215 4.719a1 1 0 1 1 1.548-1.267l13.058 15.965A5.001 5.001 0 0 1 28 23.916a5 5 0 0 1-4.999 4.999 5 5 0 0 1-4.999-4.999 4.98 4.98 0 0 1 1.23-3.283l-3.238-3.958-3.272 4.001a4.98 4.98 0 0 1 1.265 3.323 5 5 0 0 1-4.999 4.999 5 5 0 0 1-4.999-4.999 5 5 0 0 1 7.13-4.522zM8.991 20.8a3.1 3.1 0 0 0-3.1 3.1c0 1.711 1.389 3.1 3.1 3.1s3.1-1.389 3.1-3.1-1.389-3.1-3.1-3.1M23 20.8a3.1 3.1 0 0 0-3.1 3.1c0 1.711 1.389 3.1 3.1 3.1s3.1-1.389 3.1-3.1-1.389-3.1-3.1-3.1m-5.723-8.852 1.292 1.579 7.205-8.808a1 1 0 0 0-1.548-1.267z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-desc:before,.ag-icon-down:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Edesc%3C/title%3E%3Cpath d='m17 21.379 4.292-4.294 1.416 1.416L16 25.207l-6.708-6.706 1.416-1.416L15 21.379V6.793h2z'/%3E%3C/svg%3E")}.ag-icon-excel:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M384 131.9c-7.753-8.433-110.425-128.473-114.9-133L48-.1C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48zm-35.9 2.1H257V27.9zM30 479V27h200l1 105c0 13.3-1.3 29 12 29h111l1 318z' style='fill-rule:nonzero' transform='translate(3.934 -.054)scale(.06285)'/%3E%3Cpath d='m.052-.139.16-.234-.135-.208a.4.4 0 0 1-.028-.052.1.1 0 0 1-.01-.042.05.05 0 0 1 .018-.037.07.07 0 0 1 .045-.016q.03 0 .047.018a1 1 0 0 1 .047.066l.107.174.115-.174.024-.038.019-.026.021-.015a.1.1 0 0 1 .027-.005.06.06 0 0 1 .044.016.05.05 0 0 1 .018.039q0 .033-.038.089l-.141.211.152.234a.3.3 0 0 1 .03.051.1.1 0 0 1 .009.038.1.1 0 0 1-.008.031.1.1 0 0 1-.024.023.1.1 0 0 1-.034.008.1.1 0 0 1-.035-.008.1.1 0 0 1-.023-.022L.427-.067.301-.265l-.134.204-.022.034-.016.019a.1.1 0 0 1-.022.015.1.1 0 0 1-.03.005.06.06 0 0 1-.044-.016.06.06 0 0 1-.017-.047q0-.036.036-.088' style='fill-rule:nonzero' transform='matrix(17.82892 0 0 16.50777 10.371 25.928)'/%3E%3C/svg%3E")}.ag-icon-expanded:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eexpanded%3C/title%3E%3Cpath d='M21.061 8.708 13.767 16l7.294 7.292-1.416 1.416L10.939 16l8.706-8.708z'/%3E%3C/svg%3E")}.ag-icon-eye-slash:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eeye-slash%3C/title%3E%3Cpath d='M9.304 7.89a15.2 15.2 0 0 1 6.404-1.638c.294-.002.292-.002.584 0 5.956.174 11.328 4.088 13.62 9.748 0 0-1.318 3.178-3.224 5.174a13.6 13.6 0 0 1-2.226 1.874L26.414 25 25 26.414l-2.336-2.336C17.866 26.396 11.776 26.15 7.36 22.96a14.9 14.9 0 0 1-4.168-4.612c-.41-.71-.694-1.336-1.104-2.348 0 0 .898-2.218 2.002-3.718a14.6 14.6 0 0 1 3.442-3.334L5.586 7 7 5.586zm-.3 2.528c-2.038 1.344-3.708 3.246-4.724 5.508L4.248 16c2.46 5.762 9.622 9.064 15.63 7.15q.688-.219 1.342-.516l-.912-.912a6.96 6.96 0 0 1-4.19 1.394c-3.862 0-7-3.136-7-7 0-1.57.52-3.022 1.394-4.19zm14.032 11.204a13.25 13.25 0 0 0 4.684-5.548l.032-.074c-1.984-4.646-6.834-7.798-12.006-7.748-1.712.05-3.386.458-4.922 1.158l1.102 1.102a6.97 6.97 0 0 1 4.192-1.396 7.003 7.003 0 0 1 5.606 11.192zm-11.09-8.262a5.003 5.003 0 0 0 6.928 6.928zm8.342 5.514a5.002 5.002 0 0 0-6.928-6.928z'/%3E%3C/svg%3E")}.ag-icon-eye:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eeye%3C/title%3E%3Cpath d='M16.292 6.32c5.956.174 11.328 4.086 13.62 9.746 0 0-1.318 3.18-3.224 5.176-4.862 5.088-13.534 5.97-19.328 1.784a14.9 14.9 0 0 1-4.168-4.612c-.41-.71-.694-1.336-1.104-2.348 0 0 .898-2.216 2.002-3.716 2.678-3.64 7.03-5.896 11.618-6.03.294-.004.292-.004.584 0m-.546 2c-4.896.142-9.458 3.202-11.466 7.672l-.032.074c2.46 5.762 9.622 9.066 15.63 7.152 3.458-1.102 6.342-3.738 7.842-7.076l.032-.076C25.768 11.42 20.918 8.27 15.746 8.32m.254.946c3.754 0 6.8 3.048 6.8 6.8 0 3.754-3.046 6.8-6.8 6.8s-6.8-3.046-6.8-6.8c0-3.752 3.046-6.8 6.8-6.8m5 6.768V16c0-2.76-2.24-5-5-5s-5 2.24-5 5v.066c0 2.76 2.24 5 5 5s5-2.24 5-5z'/%3E%3C/svg%3E")}.ag-icon-filter:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Efilter%3C/title%3E%3Cpath d='M26 8.184c-.066 2.658-4.058 5.154-6.742 7.974a1.05 1.05 0 0 0-.258.682v3.66L13 25c0-2.74.066-5.482-.002-8.222a1.05 1.05 0 0 0-.256-.62C10.026 13.304 6.06 10.61 6 8.184V6h20zM8 8c0 .304.06.612.258.842 2.716 2.854 6.682 5.548 6.742 7.974V21l2-1.5v-2.684c.066-2.658 4.058-5.154 6.742-7.974.198-.23.258-.538.258-.842z'/%3E%3C/svg%3E")}.ag-icon-first:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Efirst%3C/title%3E%3Cpath d='M24.354 8.708 17.06 16l7.294 7.292-1.416 1.416L14.232 16l8.706-8.708zM9.646 8v16h-2V8z'/%3E%3C/svg%3E")}.ag-icon-group:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Egroup%3C/title%3E%3Cpath d='M25.128 2.002c2.56.096 4.772 2.292 4.87 4.87a712 712 0 0 1 0 18.256c-.096 2.56-2.292 4.772-4.87 4.87a712 712 0 0 1-18.256 0c-2.558-.096-4.772-2.29-4.87-4.87a712 712 0 0 1 0-18.256c.096-2.56 2.292-4.772 4.87-4.87a712 712 0 0 1 18.256 0M7.006 4c-1.57.02-2.946 1.348-3.004 2.922-.078 6.078-.23 12.16.002 18.234.094 1.484 1.354 2.746 2.84 2.84 6.1.232 12.212.232 18.312 0 1.48-.094 2.746-1.35 2.84-2.84.232-6.1.232-12.212 0-18.312-.094-1.48-1.35-2.746-2.84-2.84C19.11 3.774 13.056 4 7.006 4M14 21h-4v-2h4zm12 0H16v-2h10zm-12-4h-4v-2h4zm12 0H16v-2h10zm-16-4H6v-2h4zm16 0H12v-2h14z'/%3E%3C/svg%3E")}.ag-icon-last:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Elast%3C/title%3E%3Cpath d='m17.768 16-8.706 8.708-1.416-1.416L14.94 16 7.646 8.708l1.416-1.416zm6.586 8h-2V8h2z'/%3E%3C/svg%3E")}.ag-icon-left:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eleft%3C/title%3E%3Cpath d='m17.621 11-2 2h12.586v6H15.621l2 2-4.414 4.414L3.793 16l9.414-9.414zm-11 5 6.586 6.586L14.793 21l-4-4h15.414v-2H10.793l4-4-1.586-1.586z'/%3E%3C/svg%3E")}.ag-icon-linked:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Elinked%3C/title%3E%3Cpath d='M17.138 13.418a1.03 1.03 0 0 0-.298.658s.125.096.226.178c1.372 1.114 2.033 3.039 1.582 4.796a4.7 4.7 0 0 1-1.205 2.123c-1.145 1.151-2.296 2.294-3.445 3.441-1.241 1.232-3.185 1.691-4.864 1.105-1.546-.54-2.756-1.938-3.048-3.572-.267-1.496.246-3.108 1.319-4.186l.578-.578-.03-.092a10.5 10.5 0 0 1-.452-2.3v-.005c-.776.775-1.621 1.489-2.275 2.396-1.817 2.522-1.643 6.323.706 8.669 1.813 1.811 4.708 2.462 7.171 1.517a6.75 6.75 0 0 0 2.336-1.518l3.427-3.424c1.939-1.954 2.533-5.126 1.294-7.674a6.8 6.8 0 0 0-2.071-2.481l-.003-.002zM21.265 4a6.8 6.8 0 0 0-4.734 1.964l-3.427 3.424c-1.961 1.977-2.52 5.092-1.32 7.619a6.8 6.8 0 0 0 2.098 2.537l.003.002c.32-.32.643-.637.96-.96.167-.172.27-.401.286-.64l-.204-.167c-1.603-1.287-2.215-3.68-1.316-5.616a4.7 4.7 0 0 1 .918-1.32c1.145-1.151 2.296-2.294 3.445-3.441 1.239-1.23 3.178-1.694 4.864-1.105 1.83.639 3.16 2.498 3.12 4.493a4.8 4.8 0 0 1-1.391 3.265l-.578.578.03.092c.235.743.387 1.519.452 2.3v.005c.732-.731 1.521-1.406 2.162-2.244 1.192-1.559 1.643-3.651 1.204-5.575a6.8 6.8 0 0 0-3.98-4.703 6.8 6.8 0 0 0-2.529-.506h-.061z'/%3E%3C/svg%3E")}.ag-icon-loading:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eloading%3C/title%3E%3Cpath d='M17 29h-2v-8h2zm-3.586-9L7 26.414 5.586 25 12 18.586zm13 5L25 26.414 18.586 20 20 18.586zM29 17h-8v-2h8zm-18 0H3v-2h8zm2.414-5L12 13.414 5.586 7 7 5.586zm13-5L20 13.414 18.586 12 25 5.586zM17 11h-2V3h2z'/%3E%3C/svg%3E")}.ag-icon-maximize:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='3 3 26 26'%3E%3Ctitle%3Emaximize%3C/title%3E%3Cpath d='m7.54 17.4.1 6.98 6.96.1-2.24-2.24L16 18.6 13.4 16l-3.64 3.64zm16.92-2.8-.1-6.98-6.96-.1 2.24 2.24L16 13.4l2.6 2.6 3.64-3.64z'/%3E%3C/svg%3E")}.ag-icon-menu:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Emenu%3C/title%3E%3Cpath d='M26 23H6v-2h20zm0-6H6v-2h20zm0-6H6V9h20z'/%3E%3C/svg%3E")}.ag-icon-menu-alt:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' fill='none'%3E%3Cpath fill='%23000' d='M16 18a2 2 0 1 0 0-4 2 2 0 0 0 0 4m0-7a2 2 0 1 0 0-4 2 2 0 0 0 0 4m0 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4'/%3E%3C/svg%3E")}.ag-icon-minimize:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='3 3 26 26'%3E%3Ctitle%3Eminimize%3C/title%3E%3Cpath d='m14.8 24.26-.1-6.96-6.96-.1 2.24 2.24-3.64 3.64 2.6 2.6 3.64-3.64zm2.4-16.52.1 6.96 6.96.1-2.24-2.24 3.64-3.64-2.6-2.6-3.64 3.64z'/%3E%3C/svg%3E")}.ag-icon-minus:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M7.515 7.515c-4.683 4.682-4.683 12.288 0 16.97 4.682 4.683 12.288 4.683 16.97 0 4.683-4.682 4.683-12.288 0-16.97-4.682-4.683-12.288-4.683-16.97 0m1.414 1.414c3.903-3.903 10.239-3.903 14.142 0s3.903 10.239 0 14.142-10.239 3.903-14.142 0-3.903-10.239 0-14.142m-1.414 6.07h16.97v2.002H7.515z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-next:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Enext%3C/title%3E%3Cpath d='m21.061 16-8.706 8.708-1.416-1.416L18.233 16l-7.294-7.292 1.416-1.416z'/%3E%3C/svg%3E")}.ag-icon-none:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Enone%3C/title%3E%3Cpath d='m10.044 21.258 4.478-4.198L16 18.444 9 25l-7-6.556 1.478-1.384 4.478 4.198V7h2.088zm14 3.742h-2.088V10.742l-4.478 4.198L16 13.556 23 7q3.5 3.28 7 6.556l-1.478 1.384-4.478-4.198z'/%3E%3C/svg%3E")}.ag-icon-not-allowed:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Enot-allowed%3C/title%3E%3Cpath d='M16.186 3.646c8.188.154 14.898 9.796 11.17 17.78-3.298 7.066-13.932 9.374-19.848 3.87-3.9-3.632-5.076-9.896-2.684-14.708 2.082-4.19 6.588-6.974 11.362-6.942m-.298 1.998c-6.922.132-12.578 8.308-9.33 15.052 3.342 6.934 15.246 7.646 18.932 0 3.076-6.386-1.988-15.1-9.602-15.052m7.596 6.422c2.864 5.33-1.744 13.186-8.306 12.536a8.6 8.6 0 0 1-3.232-.998l-1.266-.706L22.778 10.8q.351.633.706 1.266m-9.422 10.276c3.296 1.028 7.246-1.006 8.216-4.418a6.6 6.6 0 0 0-.056-3.742zm2.104-14.696a8.8 8.8 0 0 1 3.936 1.038l1.266.706L9.27 21.488c-3.018-5.41-.99-13.37 6.318-13.834q.289-.01.578-.008m-.31 2c-4.06.154-7.23 4.614-6.03 8.46l8.16-8.16a6.8 6.8 0 0 0-2.13-.3'/%3E%3C/svg%3E")}.ag-icon-paste:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Epaste%3C/title%3E%3Cpath d='M20 6.5c0-1-1-3-4-3s-4 2-4 3H8c-2.21 0-4 1.79-4 4v14c0 2.21 1.79 4 4 4h16c2.21 0 4-1.79 4-4v-14c0-2.21-1.79-4-4-4zm-4 .546c.734 0 1.334.572 1.334 1.272S16.734 9.59 16 9.59s-1.334-.572-1.334-1.272.6-1.272 1.334-1.272M24 26.5H8a2 2 0 0 1-2-2v-14a2 2 0 0 1 2-2h2v4h12v-4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2'/%3E%3C/svg%3E")}.ag-icon-pin:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Epin%3C/title%3E%3Cpath d='m10.78 19.777-4.668-4.666s.032-1 .67-1.87c1.366-1.86 4.052-1.96 6.056-1.572l3.158-3.108c-.7-2.342 3.352-5.046 3.352-5.046l9.166 9.168q-.334.447-.67.894c-1.074 1.426-2.538 2.63-4.272 2.338l-3.32 3.218c.046.344.042.03.118 1.152.144 2.13-.64 4.324-2.632 5.34l-.746.364-4.798-4.798-7.292 7.294-1.416-1.416zm8.24-13.672c-.688.568-1.416 1.45-1.024 2.072l.49.722-4.986 4.988c-1.988-.506-4.346-.636-5.156.614l9.02 9.032q.14-.099.272-.21c1.226-1.08.764-3.04.498-4.9l4.79-4.79s1.47.938 2.936-.776l-6.79-6.79q-.026.019-.05.038'/%3E%3C/svg%3E")}.ag-icon-pivot:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Epivot%3C/title%3E%3Cpath d='M25.128 2.002c2.56.096 4.772 2.292 4.87 4.87a712 712 0 0 1 0 18.256c-.096 2.56-2.292 4.772-4.87 4.87a712 712 0 0 1-18.256 0c-2.558-.096-4.772-2.29-4.87-4.87a712 712 0 0 1 0-18.256c.096-2.56 2.292-4.772 4.87-4.87a712 712 0 0 1 18.256 0m2.966 7.954H9.892v18.136c5.086.13 10.18.098 15.264-.096 1.48-.094 2.746-1.35 2.84-2.84.192-5.064.226-10.134.098-15.2M3.968 24.1q.015.528.036 1.056c.094 1.484 1.354 2.746 2.84 2.84l1.012.036V24.1zM22 15.414l-.292.294-1.416-1.416L23 11.586l2.708 2.706-1.416 1.416-.292-.294v3.592c-.032 2.604-2.246 4.892-4.872 4.992L15.414 24l.294.292-1.416 1.416L11.586 23l2.706-2.708 1.416 1.416-.322.32c3.372.03 6.578-.164 6.614-3.034zM3.88 18.038c.002 1.346.012 2.694.038 4.04h3.938v-4.04zm.05-6.062a681 681 0 0 0-.044 4.042h3.97v-4.042zm5.962-7.99Q8.449 3.999 7.006 4c-1.57.02-2.946 1.348-3.004 2.922q-.02 1.517-.042 3.034h3.896v-2.02h2.036zm14.244-.016v3.966h3.898q-.017-.546-.038-1.092c-.094-1.48-1.35-2.746-2.84-2.84q-.51-.019-1.02-.034m-8.14-.054q-2.035.022-4.07.048v3.972h4.07zm6.106.008c-1.358-.022-2.714-.026-4.07-.022v4.034h4.07z'/%3E%3C/svg%3E")}.ag-icon-plus:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M7.515 7.515c-4.683 4.682-4.683 12.288 0 16.97 4.682 4.683 12.288 4.683 16.97 0 4.683-4.682 4.683-12.288 0-16.97-4.682-4.683-12.288-4.683-16.97 0m1.414 1.414c3.903-3.903 10.239-3.903 14.142 0s3.903 10.239 0 14.142-10.239 3.903-14.142 0-3.903-10.239 0-14.142M15 15l-.001-7.485h2.002L17 15l7.485-.001v2.002L17 17l.001 7.485h-2.002L15 17l-7.485.001v-2.002z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-previous:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eprevious%3C/title%3E%3Cpath d='M21.061 8.708 13.767 16l7.294 7.292-1.416 1.416L10.939 16l8.706-8.708z'/%3E%3C/svg%3E")}.ag-icon-right:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eright%3C/title%3E%3Cpath d='m28.207 16-9.414 9.414L14.379 21l2-2H3.793v-6h12.586l-2-2 4.414-4.414zm-11-5 4 4H5.793v2h15.414l-4 4 1.586 1.586L25.379 16l-6.586-6.586z'/%3E%3C/svg%3E")}.ag-icon-save:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Esave%3C/title%3E%3Cpath d='M25.333 16v9.333H6.666V16H3.999v9.333C3.999 26.8 5.199 28 6.666 28h18.667C26.8 28 28 26.8 28 25.333V16zm-8 .893 3.453-3.44 1.88 1.88L15.999 22l-6.667-6.667 1.88-1.88 3.453 3.44V4h2.667v12.893z'/%3E%3C/svg%3E")}.ag-icon-small-down:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Esmall-down%3C/title%3E%3Cpath d='M24.708 12.355 16 21.061l-8.708-8.706 1.416-1.416L16 18.233l7.292-7.294z'/%3E%3C/svg%3E")}.ag-icon-small-left:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Esmall-left%3C/title%3E%3Cpath d='M21.061 8.708 13.767 16l7.294 7.292-1.416 1.416L10.939 16l8.706-8.708z'/%3E%3C/svg%3E")}.ag-icon-small-right:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Esmall-right%3C/title%3E%3Cpath d='m21.061 16-8.706 8.708-1.416-1.416L18.233 16l-7.294-7.292 1.416-1.416z'/%3E%3C/svg%3E")}.ag-icon-small-up:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Esmall-up%3C/title%3E%3Cpath d='m24.708 19.645-1.416 1.416L16 13.767l-7.292 7.294-1.416-1.416L16 10.939z'/%3E%3C/svg%3E")}.ag-icon-tick:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Etick%3C/title%3E%3Cpath d='M24.708 10.855 13 22.561l-5.708-5.706 1.416-1.416L13 19.733 23.292 9.439z'/%3E%3C/svg%3E")}.ag-icon-tree-closed:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Etree-closed%3C/title%3E%3Cpath d='m21.061 16-8.706 8.708-1.416-1.416L18.233 16l-7.294-7.292 1.416-1.416z'/%3E%3C/svg%3E")}.ag-icon-tree-indeterminate:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Etree-indeterminate%3C/title%3E%3Cpath d='M6 15h20v2H6z'/%3E%3C/svg%3E")}.ag-icon-tree-open:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Etree-open%3C/title%3E%3Cpath d='M24.708 12.355 16 21.061l-8.708-8.706 1.416-1.416L16 18.233l7.292-7.294z'/%3E%3C/svg%3E")}.ag-icon-unlinked:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eunlinked%3C/title%3E%3Cpath d='M5.35 3.999a.2.2 0 0 0-.14.058c-.388.38-.768.768-1.152 1.152a.21.21 0 0 0-.002.288c7.459 7.506 14.965 14.965 22.447 22.447a.21.21 0 0 0 .288.002q.576-.574 1.151-1.151a.21.21 0 0 0 .002-.288C20.484 19.002 12.979 11.542 5.497 4.06a.2.2 0 0 0-.146-.061zm.611 12.548c-1.933 1.939-2.538 5.119-1.289 7.688a6.79 6.79 0 0 0 4.891 3.672 6.82 6.82 0 0 0 5.893-1.866l1.984-1.984-1.438-1.438-1.986 1.986c-1.486 1.476-3.993 1.81-5.834.629a4.73 4.73 0 0 1-2.024-2.853 4.76 4.76 0 0 1 1.241-4.393l1.986-1.986-1.438-1.438-1.984 1.984zM21.273 3.999a6.78 6.78 0 0 0-4.727 1.963l-1.984 1.984L16 9.384l1.985-1.985a4.74 4.74 0 0 1 2.776-1.338c1.974-.224 4.045.926 4.845 2.834.712 1.699.329 3.778-1.004 5.12L22.616 16l1.439 1.438q1-1 2-2c2.012-2.031 2.557-5.368 1.112-7.982-1.144-2.07-3.432-3.441-5.834-3.459h-.061z'/%3E%3C/svg%3E")}.ag-icon-up:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Easc%3C/title%3E%3Cpath d='m15 10.621-4.292 4.294-1.416-1.416L16 6.793l6.708 6.706-1.416 1.416L17 10.621v14.586h-2z'/%3E%3C/svg%3E")}.ag-icon-grip:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Egrip%3C/title%3E%3Cpath d='M8 24H6v-4h2zm6 0h-2v-4h2zm6 0h-2v-4h2zm6 0h-2v-4h2zM8 18H6v-4h2zm6 0h-2v-4h2zm6 0h-2v-4h2zm6 0h-2v-4h2zM8 12H6V8h2zm6 0h-2V8h2zm6 0h-2V8h2zm6 0h-2V8h2z'/%3E%3C/svg%3E")}.ag-icon-settings:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' fill='none' viewBox='0 0 32 32'%3E%3Cpath fill='%23000' d='M30 8h-4.1c-.5-2.3-2.5-4-4.9-4s-4.4 1.7-4.9 4H2v2h14.1c.5 2.3 2.5 4 4.9 4s4.4-1.7 4.9-4H30zm-9 4c-1.7 0-3-1.3-3-3s1.3-3 3-3 3 1.3 3 3-1.3 3-3 3M2 24h4.1c.5 2.3 2.5 4 4.9 4s4.4-1.7 4.9-4H30v-2H15.9c-.5-2.3-2.5-4-4.9-4s-4.4 1.7-4.9 4H2zm9-4c1.7 0 3 1.3 3 3s-1.3 3-3 3-3-1.3-3-3 1.3-3 3-3'/%3E%3C/svg%3E")}.ag-icon-column-arrow:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 32 32'%3E%3Cpath fill='currentColor' fill-rule='evenodd' d='M11 4a1 1 0 0 1 1 1v22a1 1 0 1 1-2 0V5a1 1 0 0 1 1-1' clip-rule='evenodd'/%3E%3Cpath fill='currentColor' fill-rule='evenodd' d='M2 13a1 1 0 0 1 1-1h23.5a1 1 0 1 1 0 2H3a1 1 0 0 1-1-1' clip-rule='evenodd'/%3E%3Cpath fill='currentColor' fill-rule='evenodd' d='M2 4h18v24H2zm2 2v20h14V6zM26.793 13 23 9.207l1.414-1.414L29.621 13l-5.207 5.207L23 16.793z' clip-rule='evenodd'/%3E%3C/svg%3E")}.ag-icon-un-pin:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' fill='none' viewBox='0 0 32 32'%3E%3Cpath fill='currentColor' fill-rule='evenodd' d='m6.112 15.111 3.272 3.271 1.436-1.402-2.476-2.479c.81-1.25 3.168-1.12 5.156-.614l4.986-4.988-.49-.722c-.392-.622.336-1.504 1.024-2.072l.008-.007.01-.006.032-.025 1.447 1.447 1.432-1.397-2.601-2.602s-4.052 2.704-3.352 5.046l-3.158 3.108c-2.004-.388-4.69-.288-6.056 1.572-.638.87-.67 1.87-.67 1.87m.581 11.582.014.014 5.502-5.501 4.783 4.783.746-.364c1.992-1.016 2.776-3.21 2.632-5.34-.055-.805-.068-.87-.088-.97-.008-.04-.017-.085-.03-.182l3.32-3.218c1.734.292 3.198-.912 4.272-2.338q.337-.447.67-.894l-.001-.001-.007-.007-.007-.007-.007-.007-3.87-3.87 1.585-1.584-1.414-1.414-14.381 14.38-1.237 1.209-5.69 5.687 1.417 1.416zM23.21 10.206l2.65 2.651c-1.465 1.714-2.935.776-2.935.776l-4.79 4.79q.041.291.087.583c.257 1.676.513 3.35-.585 4.317a4 4 0 0 1-.272.21l-3.739-3.744z' clip-rule='evenodd'/%3E%3C/svg%3E")}.ag-icon-pinned-top:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' fill='none' viewBox='0 0 32 32'%3E%3Cpath fill='currentColor' d='m16.708 10.878 8.708 8.706L24 21l-6.292-6.294V27h-2V14.706L9.416 21 8 19.584q4.348-4.344 8.691-8.69zM25 6H8v2h17z'/%3E%3C/svg%3E")}.ag-icon-pinned-bottom:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' fill='none' viewBox='0 0 32 32'%3E%3Cpath fill='currentColor' d='M16.708 22.122 8 13.416 9.416 12l6.292 6.294V6h2v12.294L24 12l1.416 1.416-8.691 8.69zM7.416 28h17v-2h-17z'/%3E%3C/svg%3E")}.ag-icon-chevron-up:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='none' viewBox='0 0 16 16'%3E%3Cpath fill='currentColor' fill-rule='evenodd' d='M3.479 10.521a.75.75 0 0 1 0-1.06l4-4a.75.75 0 0 1 1.06 0l4 4a.75.75 0 0 1-1.06 1.06l-3.47-3.47-3.47 3.47a.75.75 0 0 1-1.06 0' clip-rule='evenodd'/%3E%3C/svg%3E")}.ag-icon-chevron-down:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='none' viewBox='0 0 16 16'%3E%3Cpath fill='currentColor' fill-rule='evenodd' d='M12.521 5.461a.75.75 0 0 1 0 1.06l-4 4a.75.75 0 0 1-1.06 0l-4-4a.75.75 0 0 1 1.06-1.06l3.47 3.47 3.47-3.47a.75.75 0 0 1 1.06 0' clip-rule='evenodd'/%3E%3C/svg%3E")}.ag-icon-chevron-left:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='none' viewBox='0 0 16 16'%3E%3Cpath fill='currentColor' fill-rule='evenodd' d='M10.53 12.512a.75.75 0 0 1-1.06 0l-4-4a.75.75 0 0 1 0-1.06l4-4a.75.75 0 0 1 1.06 1.06l-3.47 3.47 3.47 3.47a.75.75 0 0 1 0 1.06' clip-rule='evenodd'/%3E%3C/svg%3E")}.ag-icon-chevron-right:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='none' viewBox='0 0 16 16'%3E%3Cpath fill='currentColor' fill-rule='evenodd' d='M5.47 3.47a.75.75 0 0 1 1.06 0l4 4a.75.75 0 0 1 0 1.06l-4 4a.75.75 0 0 1-1.06-1.06L8.94 8 5.47 4.53a.75.75 0 0 1 0-1.06' clip-rule='evenodd'/%3E%3C/svg%3E")}.ag-icon-filter-add:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' fill='none' viewBox='0 0 32 32'%3E%3Cpath fill='currentColor' d='M19.834 8H8c0 .304.06.612.258.842 2.716 2.854 6.682 5.548 6.742 7.974V21l2-1.5v-2.684c.056-2.267 2.968-4.417 5.49-6.75v3.087c-1.081.974-2.245 1.968-3.232 3.005a1.05 1.05 0 0 0-.258.682v3.66L13 25c0-2.74.066-5.482-.002-8.222a1.05 1.05 0 0 0-.256-.62C10.026 13.304 6.06 10.61 6 8.184V6h13.834z'/%3E%3Cpath fill='currentColor' d='M26 6h2.946v2.002H26v3.313h-2.002V8.002h-2.946V6h2.946V3.04H26z'/%3E%3C/svg%3E")}.ag-icon-edit:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' fill='none' viewBox='0 0 32 32'%3E%3Cpath fill='currentColor' d='M23.182 5a3.82 3.82 0 0 1 2.83 6.383l-.131.137-2.09 2.088a1 1 0 0 1-.084.099 1 1 0 0 1-.098.084L12.533 24.869a3 3 0 0 1-1.245.746l-4.353 1.32-.003.002a1.5 1.5 0 0 1-1.87-1.867l.003-.004 1.32-4.352v-.003l.06-.174c.13-.344.321-.661.565-.936l.126-.135L18.209 8.39a1 1 0 0 1 .18-.181l2.092-2.09.137-.132A3.82 3.82 0 0 1 23.182 5M8.548 20.883a1 1 0 0 0-.25.415l-1.049 3.451 3.457-1.048.114-.042q.17-.076.301-.206l10.458-10.46-2.572-2.572zM23.182 7c-.482 0-.946.19-1.287.531v.001l-1.474 1.475 2.572 2.572 1.474-1.474.121-.133A1.82 1.82 0 0 0 23.182 7'/%3E%3C/svg%3E")}`,oge=xi({feature:"iconSet",css:sge}),cW={aggregation:'<path d="M18 7V4H6l6 8-6 8h12v-3"/>',arrows:'<polyline points="5 9 2 12 5 15"/><polyline points="9 5 12 2 15 5"/><polyline points="15 19 12 22 9 19"/><polyline points="19 9 22 12 19 15"/><line x1="2" x2="22" y1="12" y2="12"/><line x1="12" x2="12" y1="2" y2="22"/>',asc:'<path d="m5 12 7-7 7 7"/><path d="M12 19V5"/>',cancel:'<path d="m18 6-12 12"/><path d="m6 6 12 12"/>',chart:'<line x1="18" x2="18" y1="20" y2="10"/><line x1="12" x2="12" y1="20" y2="4"/><line x1="6" x2="6" y1="20" y2="14"/>',"color-picker":'<path d="m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z"/><path d="m5 2 5 5"/><path d="M2 13h15"/><path d="M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z"/>',columns:'<path d="M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18"/>',contracted:'<path d="m9 18 6-6-6-6"/>',copy:'<rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/>',cross:'<path d="M18 6 6 18"/><path d="m6 6 12 12"/>',csv:'<path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><path d="M8 13h2"/><path d="M8 17h2"/><path d="M14 13h2"/><path d="M14 17h2"/>',cut:'<circle cx="6" cy="6" r="3"/><path d="M8.12 8.12 12 12"/><path d="M20 4 8.12 15.88"/><circle cx="6" cy="18" r="3"/><path d="M14.8 14.8 20 20"/>',desc:'<path d="M12 5v14"/><path d="m19 12-7 7-7-7"/>',down:'<path d="M12 5v14"/><path d="m19 12-7 7-7-7"/>',excel:'<path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><path d="M8 13h2"/><path d="M8 17h2"/><path d="M14 13h2"/><path d="M14 17h2"/>',expanded:'<path d="m15 18-6-6 6-6"/>',"eye-slash":'<path d="M9.88 9.88a3 3 0 1 0 4.24 4.24"/><path d="M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"/><path d="M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"/><line x1="2" x2="22" y1="2" y2="22"/>',eye:'<path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"/><circle cx="12" cy="12" r="3"/>',filter:'<path d="M3 6h18"/><path d="M7 12h10"/><path d="M10 18h4"/>',first:'<path d="m17 18-6-6 6-6"/><path d="M7 6v12"/>',group:'<path d="M16 12H3"/><path d="M16 18H3"/><path d="M10 6H3"/><path d="M21 18V8a2 2 0 0 0-2-2h-5"/><path d="m16 8-2-2 2-2"/>',last:'<path d="m7 18 6-6-6-6"/><path d="M17 6v12"/>',left:'<path d="m12 19-7-7 7-7"/><path d="M19 12H5"/>',linked:'<path d="M9 17H7A5 5 0 0 1 7 7h2"/><path d="M15 7h2a5 5 0 1 1 0 10h-2"/><line x1="8" x2="16" y1="12" y2="12"/>',loading:'<line x1="12" x2="12" y1="2" y2="6"/><line x1="12" x2="12" y1="18" y2="22"/><line x1="4.93" x2="7.76" y1="4.93" y2="7.76"/><line x1="16.24" x2="19.07" y1="16.24" y2="19.07"/><line x1="2" x2="6" y1="12" y2="12"/><line x1="18" x2="22" y1="12" y2="12"/><line x1="4.93" x2="7.76" y1="19.07" y2="16.24"/><line x1="16.24" x2="19.07" y1="7.76" y2="4.93"/>',maximize:'<polyline points="15 3 21 3 21 9"/><polyline points="9 21 3 21 3 15"/><line x1="21" x2="14" y1="3" y2="10"/><line x1="3" x2="10" y1="21" y2="14"/>',menu:'<line x1="4" x2="20" y1="12" y2="12"/><line x1="4" x2="20" y1="6" y2="6"/><line x1="4" x2="20" y1="18" y2="18"/>',"menu-alt":'<circle cx="12" cy="5" r="0.75" fill="#D9D9D9"/><circle cx="12" cy="12" r="0.75" fill="#D9D9D9"/><circle cx="12" cy="19" r="0.75" fill="#D9D9D9"/>',minimize:'<polyline points="4 14 10 14 10 20"/><polyline points="20 10 14 10 14 4"/><line x1="14" x2="21" y1="10" y2="3"/><line x1="3" x2="10" y1="21" y2="14"/>',minus:'<circle cx="12" cy="12" r="10"/><path d="M8 12h8"/>',next:'<path d="m9 18 6-6-6-6"/>',none:'<path d="m7 15 5 5 5-5"/><path d="m7 9 5-5 5 5"/>',"not-allowed":'<circle cx="12" cy="12" r="10"/><path d="m4.9 4.9 14.2 14.2"/>',paste:'<path d="M15 2H9a1 1 0 0 0-1 1v2c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V3c0-.6-.4-1-1-1Z"/><path d="M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2M16 4h2a2 2 0 0 1 2 2v2M11 14h10"/><path d="m17 10 4 4-4 4"/>',pin:'<line x1="12" x2="12" y1="17" y2="22"/><path d="M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z"/>',pivot:'<path d="M15 3v18"/><rect width="18" height="18" x="3" y="3" rx="2"/><path d="M21 9H3"/><path d="M21 15H3"/>',plus:'<circle cx="12" cy="12" r="10"/><path d="M8 12h8"/><path d="M12 8v8"/>',previous:'<path d="m15 18-6-6 6-6"/>',right:'<path d="M5 12h14"/><path d="m12 5 7 7-7 7"/>',save:'<path d="M12 17V3"/><path d="m6 11 6 6 6-6"/><path d="M19 21H5"/>',"small-left":'<path d="m15 18-6-6 6-6"/>',"small-right":'<path d="m9 18 6-6-6-6"/>',tick:'<path d="M20 6 9 17l-5-5"/>',"tree-closed":'<path d="m9 18 6-6-6-6"/>',"tree-indeterminate":'<path d="M5 12h14"/>',"tree-open":'<path d="m6 9 6 6 6-6"/>',unlinked:'<path d="M9 17H7A5 5 0 0 1 7 7"/><path d="M15 7h2a5 5 0 0 1 4 8"/><line x1="8" x2="12" y1="12" y2="12"/><line x1="2" x2="22" y1="2" y2="22"/>',up:'<path d="m5 12 7-7 7 7"/><path d="M12 19V5"/>',grip:'<circle cx="5" cy="8" r="0.5"/><circle cx="12" cy="8" r="0.5"/><circle cx="19" cy="8" r="0.5"/><circle cx="5" cy="16" r="0.5"/><circle cx="12" cy="16" r="0.5"/><circle cx="19" cy="16" r="0.5"/><g stroke="none" fill="currentColor"><circle cx="5" cy="8" r="1"/><circle cx="12" cy="8" r="1"/><circle cx="19" cy="8" r="1"/><circle cx="5" cy="16" r="1"/><circle cx="12" cy="16" r="1"/><circle cx="19" cy="16" r="1"/></g>',settings:'<path d="M20 7h-9"/><path d="M14 17H5"/><circle cx="17" cy="17" r="3"/><circle cx="7" cy="7" r="3"/>'},uW={"column-arrow":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="none" viewBox="0 0 32 32"><path fill-rule="evenodd" clip-rule="evenodd" d="M0 26C0 28.2092 1.79086 30 4 30H14C16.2091 30 18 28.2092 18 26V15H25.8786L24.4394 16.4393C23.8536 17.0251 23.8536 17.9749 24.4394 18.5607C25.0252 19.1464 25.9748 19.1464 26.5606 18.5607L30.5606 14.5607C31.1464 13.9749 31.1464 13.0251 30.5606 12.4393L26.5606 8.43934C25.9748 7.85356 25.0252 7.85356 24.4394 8.43934C23.8536 9.02512 23.8536 9.97488 24.4394 10.5607L25.8786 12H18V6C18 3.79086 16.2091 2 14 2H4C1.79086 2 0 3.79086 0 6V26ZM14 5H10.5V12H15V6C15 5.44772 14.5523 5 14 5ZM4 5H7.5V12H3V6C3 5.44772 3.44772 5 4 5ZM10.5 15H15V26C15 26.5522 14.5523 27 14 27H10.5V15ZM4 27H7.5V15H3V26C3 26.5522 3.44772 27 4 27Z" fill="currentColor"/></svg>',"small-down":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="black" stroke="none" viewBox="0 0 32 32"><path d="M7.334 10.667 16 21.334l8.667-10.667H7.334Z"/></svg>',"small-up":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="black" stroke="none" viewBox="0 0 32 32"><path d="M7.334 21.333 16 10.666l8.667 10.667H7.334Z"/></svg>',"pinned-top":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="none" viewBox="0 0 16 16"><path fill="currentColor" d="M12.53 3.72A.75.75 0 0 1 12 5H4a.75.75 0 0 1 0-1.5h8a.75.75 0 0 1 .53.22ZM3.269 10.744a.75.75 0 0 1 .2-.524l4-4a.75.75 0 0 1 1.06 0l4 4a.75.75 0 1 1-1.06 1.06L8.75 8.56V14a.75.75 0 0 1-1.5 0V8.56l-2.72 2.72a.75.75 0 0 1-1.26-.536Z"/></svg>',"pinned-bottom":'<svg xmlns="http://www.w3.org/2000/svg" fill="none" class="ag-icon" viewBox="0 0 16 16"><path fill="currentColor" d="M3.47 12.28A.75.75 0 0 1 4 11h8a.75.75 0 0 1 0 1.5H4a.75.75 0 0 1-.53-.22ZM12.731 5.256a.75.75 0 0 1-.2.524l-4 4a.75.75 0 0 1-1.06 0l-4-4a.75.75 0 1 1 1.06-1.06l2.72 2.72V2a.75.75 0 0 1 1.5 0v5.44l2.72-2.72a.75.75 0 0 1 1.26.536Z"/></svg>',"un-pin":'<svg xmlns="http://www.w3.org/2000/svg" fill="none" class="ag-icon" viewBox="0 0 16 16"><path fill="currentColor" d="M8 11a.75.75 0 0 0-.75.75v3.333a.75.75 0 1 0 1.5 0V11.75A.75.75 0 0 0 8 11Z"/><path fill="currentColor" d="M13.11 1.436a.75.75 0 0 0-1.22-.872l-10 14a.75.75 0 1 0 1.22.872L5.207 12.5h7.376a.75.75 0 0 0 .75-.75v-1.174a2.08 2.08 0 0 0-1.153-1.863l-1.185-.599-.005-.002a.58.58 0 0 1-.323-.522V5.165a2.083 2.083 0 0 0 1.854-2.904l.589-.825Zm-3.943 5.52v.634a2.08 2.08 0 0 0 1.153 1.863l1.185.6.005.002a.58.58 0 0 1 .323.522V11H6.28l2.887-4.044ZM9.277 1H5.25a2.084 2.084 0 0 0-.083 4.165v1.676l1.5-2.132v-.292a.75.75 0 0 0-.75-.75H5.25a.584.584 0 0 1 0-1.167h2.972L9.277 1Z"/></svg>',"chevron-down":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 6L8 10L4 6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>',"chevron-up":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4 10L8 6L12 10" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>',"chevron-left":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10 12L6 8L10 4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>',"chevron-right":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M6 12L10 8L6 4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>',"filter-add":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M5.12126 7.75L10.8517 7.75" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/><path d="M6.65934 11.748L9.32778 11.748" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/><path d="M12.2943 1.04872V6.19184M14.9886 3.74341H9.68478" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/><path d="M8.25488 3C8.04799 3.18323 7.91706 3.45099 7.91699 3.74902C7.91713 4.04868 8.04988 4.31681 8.25879 4.5H2C1.58579 4.5 1.25 4.16421 1.25 3.75C1.25 3.33579 1.58579 3 2 3H8.25488Z" fill="currentColor"/></svg>',edit:'<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 10.6262V12.5012H5.375L10.905 6.97122L9.03 5.09622L3.5 10.6262ZM12.355 5.52122C12.4014 5.47497 12.4381 5.42002 12.4632 5.35953C12.4883 5.29905 12.5012 5.23421 12.5012 5.16872C12.5012 5.10324 12.4883 5.0384 12.4632 4.97791C12.4381 4.91742 12.4014 4.86248 12.355 4.81622L11.185 3.64622C11.1387 3.59987 11.0838 3.5631 11.0233 3.53801C10.9628 3.51291 10.898 3.5 10.8325 3.5C10.767 3.5 10.7022 3.51291 10.6417 3.53801C10.5812 3.5631 10.5263 3.59987 10.48 3.64622L9.565 4.56122L11.44 6.43622L12.355 5.52122Z" fill="currentColor"/></svg>'},age=(e={})=>{let t="";for(const n of[...Object.keys(cW),...Object.keys(uW)]){const r=lge(n,e.strokeWidth);t+=`.ag-icon-${n}::before { mask-image: url('data:image/svg+xml,${encodeURIComponent(r)}'); }
`}return t},lge=(e,t=1.5)=>{const n=uW[e];if(n)return n;const r=cW[e];if(!r)throw new Error(`Missing icon data for ${e}`);return`<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke="black" stroke-width="${t}" viewBox="0 0 24 24"><style>* { vector-effect: non-scaling-stroke; }</style>`+r+"</svg>"},cge=(e={})=>xi({feature:"iconSet",css:()=>age(e)}),uge=cge(),dge=':where(.ag-input-field-input[type=number]:not(.ag-number-field-input-stepper)){-webkit-appearance:textfield;-moz-appearance:textfield;appearance:textfield;&::-webkit-inner-spin-button,&::-webkit-outer-spin-button{-webkit-appearance:none;appearance:none;margin:0}}.ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){background-color:var(--ag-input-background-color);border:var(--ag-input-border);border-radius:var(--ag-input-border-radius);color:var(--ag-input-text-color);font-family:inherit;font-size:inherit;line-height:inherit;margin:0;min-height:var(--ag-input-height);padding:0;&:where(:disabled){background-color:var(--ag-input-disabled-background-color);border:var(--ag-input-disabled-border);color:var(--ag-input-disabled-text-color)}&:where(:focus){background-color:var(--ag-input-focus-background-color);border:var(--ag-input-focus-border);box-shadow:var(--ag-input-focus-shadow);color:var(--ag-input-focus-text-color);outline:none}&:where(:invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&:where(.invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&::-moz-placeholder{color:var(--ag-input-placeholder-text-color)}&::placeholder{color:var(--ag-input-placeholder-text-color)}}:where(.ag-ltr) .ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){padding-left:var(--ag-input-padding-start)}:where(.ag-rtl) .ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){padding-right:var(--ag-input-padding-start)}:where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter,.ag-filter-add-select){.ag-input-wrapper:before{background-color:currentcolor;color:var(--ag-input-icon-color);content:"";display:block;height:12px;-webkit-mask-image:url("data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS41Ij48cGF0aCBkPSJNNS4zIDlhMy43IDMuNyAwIDEgMCAwLTcuNSAzLjcgMy43IDAgMCAwIDAgNy41Wk0xMC41IDEwLjUgOC4zIDguMiIvPjwvc3ZnPg==");mask-image:url("data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS41Ij48cGF0aCBkPSJNNS4zIDlhMy43IDMuNyAwIDEgMCAwLTcuNSAzLjcgMy43IDAgMCAwIDAgNy41Wk0xMC41IDEwLjUgOC4zIDguMiIvPjwvc3ZnPg==");-webkit-mask-position:center;mask-position:center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;opacity:.5;position:absolute;width:12px}}:where(.ag-ltr) :where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter,.ag-filter-add-select){.ag-input-wrapper:before{margin-left:var(--ag-spacing)}.ag-number-field-input,.ag-text-field-input{padding-left:calc(var(--ag-spacing)*1.5 + 12px)}}:where(.ag-rtl) :where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter,.ag-filter-add-select){.ag-input-wrapper:before{margin-right:var(--ag-spacing)}.ag-number-field-input,.ag-text-field-input{padding-right:calc(var(--ag-spacing)*1.5 + 12px)}}',hge=".ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){&:focus{box-shadow:var(--ag-focus-shadow);&:where(.invalid),&:where(:invalid){box-shadow:var(--ag-focus-error-shadow)}}}",fge={inputBackgroundColor:"transparent",inputBorder:!1,inputBorderRadius:0,inputTextColor:{ref:"textColor"},inputPlaceholderTextColor:{ref:"inputTextColor",mix:.5},inputPaddingStart:0,inputHeight:{calc:"max(iconSize, fontSize) + spacing * 2"},inputFocusBackgroundColor:{ref:"inputBackgroundColor"},inputFocusBorder:{ref:"inputBorder"},inputFocusShadow:"none",inputFocusTextColor:{ref:"inputTextColor"},inputDisabledBackgroundColor:{ref:"inputBackgroundColor"},inputDisabledBorder:{ref:"inputBorder"},inputDisabledTextColor:{ref:"inputTextColor"},inputInvalidBackgroundColor:{ref:"inputBackgroundColor"},inputInvalidBorder:{ref:"inputBorder"},inputInvalidTextColor:{ref:"inputTextColor"},inputIconColor:{ref:"inputTextColor"},pickerButtonBorder:!1,pickerButtonFocusBorder:{ref:"inputFocusBorder"},pickerButtonBackgroundColor:{ref:"backgroundColor"},pickerButtonFocusBackgroundColor:{ref:"backgroundColor"},pickerListBorder:!1,pickerListBackgroundColor:{ref:"backgroundColor"},colorPickerThumbSize:18,colorPickerTrackSize:12,colorPickerThumbBorderWidth:3,colorPickerTrackBorderRadius:12,colorPickerColorBorderRadius:4},pge=()=>xi({feature:"inputStyle",params:{...fge,inputBackgroundColor:_n,inputBorder:!0,inputBorderRadius:{ref:"borderRadius"},inputPaddingStart:{ref:"spacing"},inputFocusBorder:{color:xs},inputFocusShadow:{ref:"focusShadow"},inputDisabledBackgroundColor:wr(.06),inputDisabledTextColor:{ref:"textColor",mix:.5},inputInvalidBorder:{color:{ref:"invalidColor"}},pickerButtonBorder:!0,pickerListBorder:!0},css:()=>dge+hge}),dW=pge(),hW='.ag-tabs-header{background-color:var(--ag-tab-bar-background-color);border-bottom:var(--ag-tab-bar-border);display:flex;flex:1;gap:var(--ag-tab-spacing);padding:var(--ag-tab-bar-top-padding) var(--ag-tab-bar-horizontal-padding) 0}.ag-tabs-header-wrapper{display:flex}.ag-tabs-close-button-wrapper{align-items:center;border:0;display:flex;padding:var(--ag-spacing)}:where(.ag-ltr) .ag-tabs-close-button-wrapper{border-right:solid var(--ag-border-width) var(--ag-border-color)}:where(.ag-rtl) .ag-tabs-close-button-wrapper{border-left:solid var(--ag-border-width) var(--ag-border-color)}.ag-tabs-close-button{background-color:unset;border:0;cursor:pointer;padding:0}.ag-tab{align-items:center;background-color:var(--ag-tab-background-color);border-left:var(--ag-tab-selected-border-width) solid transparent;border-right:var(--ag-tab-selected-border-width) solid transparent;color:var(--ag-tab-text-color);cursor:pointer;display:flex;flex:1;justify-content:center;padding:var(--ag-tab-top-padding) var(--ag-tab-horizontal-padding) var(--ag-tab-bottom-padding);position:relative;&:hover{background-color:var(--ag-tab-hover-background-color);color:var(--ag-tab-hover-text-color)}&.ag-tab-selected{background-color:var(--ag-tab-selected-background-color);color:var(--ag-tab-selected-text-color)}&:after{background-color:var(--ag-tab-selected-underline-color);bottom:0;content:"";display:block;height:var(--ag-tab-selected-underline-width);left:0;opacity:0;position:absolute;right:0;transition:opacity var(--ag-tab-selected-underline-transition-duration)}&.ag-tab-selected:after{opacity:1}}:where(.ag-ltr) .ag-tab{&.ag-tab-selected{&:where(:not(:first-of-type)){border-left-color:var(--ag-tab-selected-border-color)}&:where(:not(:last-of-type)){border-right-color:var(--ag-tab-selected-border-color)}}}:where(.ag-rtl) .ag-tab{&.ag-tab-selected{&:where(:not(:first-of-type)){border-right-color:var(--ag-tab-selected-border-color)}&:where(:not(:last-of-type)){border-left-color:var(--ag-tab-selected-border-color)}}}',gge=".ag-tab{border-left:var(--ag-tab-selected-border-width) solid transparent;border-right:var(--ag-tab-selected-border-width) solid transparent;border-top:var(--ag-tab-selected-border-width) solid transparent;flex:none;&.ag-tab-selected{border-left-color:var(--ag-tab-selected-border-color);border-right-color:var(--ag-tab-selected-border-color);border-top-color:var(--ag-tab-selected-border-color);margin-bottom:-1px;padding-bottom:calc(var(--ag-tab-bottom-padding) + 1px)}}",fW={tabBarBackgroundColor:"transparent",tabBarHorizontalPadding:0,tabBarTopPadding:0,tabBackgroundColor:"transparent",tabTextColor:{ref:"textColor"},tabHorizontalPadding:{ref:"spacing"},tabTopPadding:{ref:"spacing"},tabBottomPadding:{ref:"spacing"},tabSpacing:"0",tabHoverBackgroundColor:{ref:"tabBackgroundColor"},tabHoverTextColor:{ref:"tabTextColor"},tabSelectedBackgroundColor:{ref:"tabBackgroundColor"},tabSelectedTextColor:{ref:"tabTextColor"},tabSelectedBorderWidth:{ref:"borderWidth"},tabSelectedBorderColor:"transparent",tabSelectedUnderlineColor:"transparent",tabSelectedUnderlineWidth:0,tabSelectedUnderlineTransitionDuration:0,tabBarBorder:!1},mge=()=>xi({feature:"tabStyle",params:{...fW,tabBarBorder:!0,tabBarBackgroundColor:Gr(.05),tabTextColor:{ref:"textColor",mix:.7},tabSelectedTextColor:{ref:"textColor"},tabHoverTextColor:{ref:"textColor"},tabSelectedBorderColor:{ref:"borderColor"},tabSelectedBackgroundColor:_n},css:hW}),vge=mge(),yge=()=>xi({feature:"tabStyle",params:{...fW,tabBarBackgroundColor:{ref:"chromeBackgroundColor"},tabBarHorizontalPadding:{ref:"spacing"},tabBarTopPadding:{ref:"spacing"},tabBarBorder:!0,tabHorizontalPadding:{calc:"spacing * 2"},tabTopPadding:{ref:"spacing"},tabBottomPadding:{ref:"spacing"},tabSpacing:{ref:"spacing"},tabSelectedBorderColor:{ref:"borderColor"},tabSelectedBackgroundColor:_n},css:()=>hW+gge}),wge=yge(),bge=()=>sW().withPart(oW).withPart(lW).withPart(uge).withPart(vge).withPart(dW).withPart(iW).withParams({fontFamily:[{googleFont:"IBM Plex Sans"},"-apple-system","BlinkMacSystemFont","Segoe UI","Roboto","Oxygen-Sans","Ubuntu"]}),Cge=bge(),xge=()=>sW().withPart(Kpe).withPart(oW).withPart(lW).withPart(oge).withPart(wge).withPart(dW).withPart(Zpe).withParams({accentColor:"#0091ea",borderColor:Gr(.2),spacing:4,widgetVerticalSpacing:{calc:"max(8px, spacing)"},borderRadius:2,wrapperBorderRadius:2,headerColumnResizeHandleColor:"transparent",headerColumnBorder:!0,headerColumnBorderHeight:"50%",oddRowBackgroundColor:{ref:"chromeBackgroundColor",mix:.5},checkboxBorderRadius:2,checkboxBorderWidth:1,checkboxUncheckedBackgroundColor:_n,checkboxUncheckedBorderColor:wr(.5),checkboxCheckedBackgroundColor:_n,checkboxCheckedBorderColor:xs,checkboxCheckedShapeColor:xs,checkboxIndeterminateBackgroundColor:_n,checkboxIndeterminateBorderColor:wr(.5),checkboxIndeterminateShapeColor:wr(.5),focusShadow:{radius:2,spread:1,color:xs},headerTextColor:Gr(.6),iconButtonHoverBackgroundColor:"transparent",iconButtonActiveBackgroundColor:"transparent",fontSize:12,tabSelectedBackgroundColor:_n,headerFontWeight:"bold",toggleButtonWidth:32,toggleButtonHeight:16,toggleButtonSwitchInset:1,toggleButtonOffBackgroundColor:wr(.5),sideButtonBorder:!0,sideButtonBarTopPadding:{calc:"spacing * 4"},popupShadow:"5px 5px 10px rgba(0, 0, 0, 0.3)",statusBarLabelColor:Gr(.54),statusBarLabelFontWeight:600,statusBarValueFontWeight:600,panelTitleBarIconColor:Ma,colorPickerThumbSize:13,colorPickerTrackSize:11,colorPickerThumbBorderWidth:2,colorPickerTrackBorderRadius:2,colorPickerColorBorderRadius:2}),Sge=xge(),Ege={cssName:"--ag-cell-horizontal-padding",changeKey:"cellHorizontalPaddingChanged",defaultValue:16},Dge={cssName:"--ag-indentation-level",changeKey:"indentationLevelChanged",defaultValue:0,noWarn:!0,cacheDefault:!0},Rge={cssName:"--ag-row-group-indent-size",changeKey:"rowGroupIndentSizeChanged",defaultValue:0},g_={cssName:"--ag-row-height",changeKey:"rowHeightChanged",defaultValue:42},m_={cssName:"--ag-header-height",changeKey:"headerHeightChanged",defaultValue:48},v_={cssName:"--ag-list-item-height",changeKey:"listItemHeightChanged",defaultValue:24},LD={cssName:"--ag-row-border",changeKey:"rowBorderWidthChanged",defaultValue:1,border:!0},y_={cssName:"--ag-pinned-row-border",changeKey:"pinnedRowBorderWidthChanged",defaultValue:1,border:!0};function Mge(e,t){for(const n of t.sort((r,i)=>r.moduleName.localeCompare(i.moduleName))){const r=n.css;r&&e.set(`module-${n.moduleName}`,r)}}var Tge=class extends Qce{constructor(){super(...arguments),this.sizeEls=new Map,this.lastKnownValues=new Map,this.sizesMeasured=!1}initVariables(){this.addManagedPropertyListener("rowHeight",()=>this.refreshRowHeightVariable()),this.getSizeEl(g_),this.getSizeEl(m_),this.getSizeEl(v_),this.getSizeEl(LD),this.getSizeEl(y_),this.refreshRowBorderWidthVariable()}getPinnedRowBorderWidth(){return this.getCSSVariablePixelValue(y_)}getRowBorderWidth(){return this.getCSSVariablePixelValue(LD)}getDefaultRowHeight(){return this.getCSSVariablePixelValue(g_)}getDefaultHeaderHeight(){return this.getCSSVariablePixelValue(m_)}getDefaultCellHorizontalPadding(){return this.getCSSVariablePixelValue(Ege)}getCellPaddingLeft(){const e=this.getDefaultCellHorizontalPadding(),t=this.getCSSVariablePixelValue(Dge),n=this.getCSSVariablePixelValue(Rge);return e-1+n*t}getCellPadding(){const e=this.getDefaultCellHorizontalPadding()-1;return this.getCellPaddingLeft()+e}getDefaultColumnMinWidth(){return Math.min(36,this.getDefaultRowHeight())}getDefaultListItemHeight(){return this.getCSSVariablePixelValue(v_)}refreshRowHeightVariable(){const{eRootDiv:e}=this,t=e.style.getPropertyValue("--ag-line-height").trim(),n=this.gos.get("rowHeight");if(n==null||isNaN(n)||!isFinite(n))return t!==null&&e.style.setProperty("--ag-line-height",null),-1;const r=`${n}px`;return t!=r?(e.style.setProperty("--ag-line-height",r),n):t!=""?Number.parseFloat(t):-1}getCSSVariablePixelValue(e){const t=this.lastKnownValues.get(e);if(t!=null)return t;const n=this.measureSizeEl(e);return n==="detached"||n==="no-styles"?(e.cacheDefault&&this.lastKnownValues.set(e,e.defaultValue),e.defaultValue):(this.lastKnownValues.set(e,n),n)}measureSizeEl(e){const t=this.getSizeEl(e);if(t.offsetParent==null)return"detached";const n=t.offsetWidth;return n===_D?"no-styles":(this.sizesMeasured=!0,n)}getMeasurementContainer(){let e=this.eMeasurementContainer;return e||(e=this.eMeasurementContainer=Tn({tag:"div",cls:"ag-measurement-container"}),this.eRootDiv.appendChild(e)),e}getSizeEl(e){let t=this.sizeEls.get(e);if(t)return t;const n=this.getMeasurementContainer();t=Tn({tag:"div"});const{border:r,noWarn:i}=e;r?(t.className="ag-measurement-element-border",t.style.setProperty("--ag-internal-measurement-border",`var(${e.cssName}, solid ${_D}px)`)):t.style.width=`var(${e.cssName}, ${_D}px)`,n.appendChild(t),this.sizeEls.set(e,t);let s=this.measureSizeEl(e);s==="no-styles"&&!i&&ve(9,{variable:e});const o=so(this.beans,t,()=>{const a=this.measureSizeEl(e);a==="detached"||a==="no-styles"||(this.lastKnownValues.set(e,a),a!==s&&(s=a,this.fireStylesChangedEvent(e.changeKey)))});return this.addDestroyFunc(()=>o()),t}fireStylesChangedEvent(e){e==="rowBorderWidthChanged"&&this.refreshRowBorderWidthVariable(),this.eventSvc.dispatchEvent({type:"gridStylesChanged",[e]:!0})}refreshRowBorderWidthVariable(){const e=this.getCSSVariablePixelValue(LD);this.eRootDiv.style.setProperty("--ag-internal-row-border-width",`${e}px`)}postProcessThemeChange(e,t){e&&getComputedStyle(this.getMeasurementContainer()).getPropertyValue("--ag-legacy-styles-loaded")&&Dt(t?106:239)}getAdditionalCss(){const e=new Map;return e.set("core",[Bpe]),Mge(e,Array.from(gae())),e}getDefaultTheme(){return Cge}themeError(e){Dt(240,{theme:e})}},_D=15538,kge=class extends Jce{postConstruct(){const{globalListener:e,globalSyncListener:t}=this.beans;e&&this.addGlobalListener(e,!0),t&&this.addGlobalListener(t,!1)}};function pW(e,t,n){const r=e.visibleCols.headerGroupRowCount;if(n>=r)return{column:t,headerRowIndex:n};let i=t.getParent();for(;i&&i.getProvidedColumnGroup().getLevel()>n;)i=i.getParent();const s=t.isSpanHeaderHeight();return!i||s&&i.isPadding()?{column:t,headerRowIndex:r}:{column:i,headerRowIndex:i.getProvidedColumnGroup().getLevel()}}var Age=class extends le{constructor(){super(...arguments),this.beanName="headerNavigation",this.currentHeaderRowWithoutSpan=-1}postConstruct(){const e=this.beans;e.ctrlsSvc.whenReady(this,n=>{this.gridBodyCon=n.gridBodyCtrl});const t=Wn(e);this.addManagedElementListeners(t,{mousedown:()=>{this.currentHeaderRowWithoutSpan=-1}})}getHeaderPositionForColumn(e,t){let n;const{colModel:r,colGroupSvc:i,ctrlsSvc:s}=this.beans;if(typeof e=="string"?(n=r.getCol(e),n||(n=i?.getColumnGroup(e)??null)):n=e,!n)return null;const a=s.getHeaderRowContainerCtrl()?.getAllCtrls(),l=Ft(a||[]).type==="filter",c=To(this.beans)-1;let d=-1,f=n;for(;f;)d++,f=f.getParent();let p=d;return t&&l&&p===c-1&&p++,p===-1?null:{headerRowIndex:p,column:n}}navigateVertically(e,t){const{focusSvc:n,visibleCols:r}=this.beans,{focusedHeader:i}=n;if(!i)return!1;const{headerRowIndex:s}=i,o=i.column,a=To(this.beans),l=this.getHeaderRowType(s),c=r.headerGroupRowCount;let{headerRowIndex:d,column:f,headerRowIndexWithoutSpan:p}=e==="UP"?Pge(l,o,s):Nge(o,s,c),v=!1;return d<0&&(d=0,f=o,v=!0),d>=a?(d=-1,this.currentHeaderRowWithoutSpan=-1):p!==void 0&&(this.currentHeaderRowWithoutSpan=p),!v&&!f?!1:n.focusHeaderPosition({headerPosition:{headerRowIndex:d,column:f},allowUserOverride:!0,event:t})}navigateHorizontally(e,t=!1,n){const{focusSvc:r,gos:i}=this.beans,s={...r.focusedHeader};let o,a;this.currentHeaderRowWithoutSpan!==-1?s.headerRowIndex=this.currentHeaderRowWithoutSpan:this.currentHeaderRowWithoutSpan=s.headerRowIndex,e==="LEFT"!==i.get("enableRtl")?(a="Before",o=this.findHeader(s,a)):(a="After",o=this.findHeader(s,a));const l=i.getCallback("tabToNextHeader");if(t&&l){const c=r.focusHeaderPositionFromUserFunc({userFunc:l,headerPosition:o,direction:a});if(c){const{headerRowIndex:d}=r.focusedHeader||{};d!=null&&d!=s.headerRowIndex&&(this.currentHeaderRowWithoutSpan=d)}return c}return o||!t?r.focusHeaderPosition({headerPosition:o,direction:a,fromTab:t,allowUserOverride:!0,event:n}):this.focusNextHeaderRow(s,a,n)}focusNextHeaderRow(e,t,n){const r=this.beans,i=e.headerRowIndex;let s=null,o;const a=To(r),l=this.beans.visibleCols.allCols;if(t==="Before"){if(i<=0)return!1;s=Ft(l),o=i-1,this.currentHeaderRowWithoutSpan-=1}else s=l[0],o=i+1,this.currentHeaderRowWithoutSpan<a?this.currentHeaderRowWithoutSpan+=1:this.currentHeaderRowWithoutSpan=-1;let{column:c,headerRowIndex:d}=pW(this.beans,s,o);return d>=a&&(d=-1),r.focusSvc.focusHeaderPosition({headerPosition:{column:c,headerRowIndex:d},direction:t,fromTab:!0,allowUserOverride:!0,event:n})}scrollToColumn(e,t="After"){if(e.getPinned())return;let n;if(Mn(e)){const r=e.getDisplayedLeafColumns();n=t==="Before"?Ft(r):r[0]}else n=e;this.gridBodyCon.scrollFeature.ensureColumnVisible(n)}findHeader(e,t){const{colGroupSvc:n,visibleCols:r}=this.beans;let i=e.column;if(i instanceof lm){const l=i.getDisplayedLeafColumns();i=t==="Before"?l[0]:l[l.length-1]}const s=t==="Before"?r.getColBefore(i):r.getColAfter(i);if(!s)return;const o=r.headerGroupRowCount;if(e.headerRowIndex>=o)return{headerRowIndex:e.headerRowIndex,column:s};const a=n?.getColGroupAtLevel(s,e.headerRowIndex);return a?a.isPadding()&&s.isSpanHeaderHeight()?{headerRowIndex:r.headerGroupRowCount,column:s}:{headerRowIndex:e.headerRowIndex,column:a??s}:{headerRowIndex:s instanceof wd&&s.isSpanHeaderHeight()?r.headerGroupRowCount:e.headerRowIndex,column:s}}getHeaderRowType(e){const t=this.beans.ctrlsSvc.getHeaderRowContainerCtrl();if(t)return t.getRowType(e)}};function Pge(e,t,n){const r=n-1;if(e!=="filter"){const i=t instanceof wd&&t.isSpanHeaderHeight();let s=t.getParent();for(;s&&(s.getProvidedColumnGroup().getLevel()>r||i&&s.isPadding());)s=s.getParent();if(s)return i?{column:s,headerRowIndex:s.getProvidedColumnGroup().getLevel(),headerRowIndexWithoutSpan:r}:{column:s,headerRowIndex:r,headerRowIndexWithoutSpan:r}}return{column:t,headerRowIndex:r,headerRowIndexWithoutSpan:r}}function Nge(e,t,n){const r=t+1,i={column:e,headerRowIndex:r,headerRowIndexWithoutSpan:r};if(e instanceof lm){if(r>=n)return{column:e.getDisplayedLeafColumns()[0],headerRowIndex:n,headerRowIndexWithoutSpan:r};let o=e.getDisplayedChildren()[0];if(o instanceof lm&&o.isPadding()){const l=o.getDisplayedLeafColumns()[0];l.isSpanHeaderHeight()&&(o=l)}i.column=o,o instanceof wd&&o.isSpanHeaderHeight()&&(i.headerRowIndex=n,i.headerRowIndexWithoutSpan=r)}return i}var Oge=class extends le{constructor(){super(...arguments),this.beanName="focusSvc",this.focusFallbackTimeout=null,this.needsFocusRestored=!1}wireBeans(e){this.colModel=e.colModel,this.visibleCols=e.visibleCols,this.rowRenderer=e.rowRenderer,this.navigation=e.navigation,this.filterManager=e.filterManager,this.overlays=e.overlays}postConstruct(){const e=this.clearFocusedCell.bind(this);this.addManagedEventListeners({columnPivotModeChanged:e,newColumnsLoaded:this.onColumnEverythingChanged.bind(this),columnGroupOpened:e,columnRowGroupChanged:e}),this.addDestroyFunc(ice(this.beans))}attemptToRecoverFocus(){this.needsFocusRestored=!0,this.focusFallbackTimeout!=null&&clearTimeout(this.focusFallbackTimeout),this.focusFallbackTimeout=window.setTimeout(this.setFocusRecovered.bind(this),100)}setFocusRecovered(){this.needsFocusRestored=!1,this.focusFallbackTimeout!=null&&(clearTimeout(this.focusFallbackTimeout),this.focusFallbackTimeout=null)}shouldTakeFocus(){return this.gos.get("suppressFocusAfterRefresh")?(this.setFocusRecovered(),!1):this.needsFocusRestored?(this.setFocusRecovered(),!0):this.doesRowOrCellHaveBrowserFocus()}onColumnEverythingChanged(){if(!this.focusedCell)return;const e=this.focusedCell.column,t=this.colModel.getCol(e.getId());e!==t&&this.clearFocusedCell()}getFocusCellToUseAfterRefresh(){const{gos:e,focusedCell:t}=this;return e.get("suppressFocusAfterRefresh")||e.get("suppressCellFocus")||!t||!this.doesRowOrCellHaveBrowserFocus()?null:t}getFocusHeaderToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedHeader||!this.isDomDataPresentInHierarchy(sn(this.beans),I7)?null:this.focusedHeader}doesRowOrCellHaveBrowserFocus(){const e=sn(this.beans);return this.isDomDataPresentInHierarchy(e,qw)?!0:this.isDomDataPresentInHierarchy(e,Kw)}isDomDataPresentInHierarchy(e,t){let n=e;for(;n;){if(CV(this.gos,n,t))return!0;n=n.parentNode}return!1}getFocusedCell(){return this.focusedCell}getFocusEventParams(e){const{rowIndex:t,rowPinned:n,column:r}=e,i={rowIndex:t,rowPinned:n,column:r,isFullWidthCell:!1},s=this.rowRenderer.getRowByPosition({rowIndex:t,rowPinned:n});return s&&(i.isFullWidthCell=s.isFullWidth()),i}clearFocusedCell(){if(this.focusedCell==null)return;const e=this.getFocusEventParams(this.focusedCell);this.focusedCell=null,this.eventSvc.dispatchEvent({type:"cellFocusCleared",...e})}setFocusedCell(e){this.setFocusRecovered();const{column:t,rowIndex:n,rowPinned:r,forceBrowserFocus:i=!1,preventScrollOnBrowserFocus:s=!1,sourceEvent:o}=e,a=this.colModel.getCol(t);if(!a){this.focusedCell=null;return}this.focusedCell={rowIndex:n,rowPinned:Fa(r),column:a};const l=this.getFocusEventParams(this.focusedCell);this.eventSvc.dispatchEvent({type:"cellFocused",...l,...this.previousCellFocusParams&&{previousParams:this.previousCellFocusParams},forceBrowserFocus:i,preventScrollOnBrowserFocus:s,sourceEvent:o}),this.previousCellFocusParams=l}isCellFocused(e){return this.focusedCell==null?!1:$7(e,this.focusedCell)}isHeaderWrapperFocused(e){if(this.focusedHeader==null)return!1;const{column:t,rowCtrl:{rowIndex:n,pinned:r}}=e,{column:i,headerRowIndex:s}=this.focusedHeader;return t===i&&n===s&&r==i.getPinned()}focusHeaderPosition(e){if(this.setFocusRecovered(),Bu(this.beans))return!1;const{direction:t,fromTab:n,allowUserOverride:r,event:i,fromCell:s,rowWithoutSpanValue:o,scroll:a=!0}=e;let{headerPosition:l}=e;if(s&&this.filterManager?.isAdvFilterHeaderActive())return this.focusAdvancedFilter(l);if(r){const c=this.focusedHeader,d=To(this.beans);if(n){const f=this.gos.getCallback("tabToNextHeader");f&&(l=this.getHeaderPositionFromUserFunc({userFunc:f,direction:t,currentPosition:c,headerPosition:l,headerRowCount:d}))}else{const f=this.gos.getCallback("navigateToNextHeader");if(f&&i){const p={key:i.key,previousHeaderPosition:c,nextHeaderPosition:l,headerRowCount:d,event:i};l=f(p)}}}return l?this.focusProvidedHeaderPosition({headerPosition:l,direction:t,event:i,fromCell:s,rowWithoutSpanValue:o,scroll:a}):!1}focusHeaderPositionFromUserFunc(e){if(Bu(this.beans))return!1;const{userFunc:t,headerPosition:n,direction:r,event:i}=e,s=this.focusedHeader,o=To(this.beans),a=this.getHeaderPositionFromUserFunc({userFunc:t,direction:r,currentPosition:s,headerPosition:n,headerRowCount:o});return!!a&&this.focusProvidedHeaderPosition({headerPosition:a,direction:r,event:i})}getHeaderPositionFromUserFunc(e){const{userFunc:t,direction:n,currentPosition:r,headerPosition:i,headerRowCount:s}=e,a=t({backwards:n==="Before",previousHeaderPosition:r,nextHeaderPosition:i,headerRowCount:s});return a===!0?r:a===!1?null:a}focusProvidedHeaderPosition(e){const{headerPosition:t,direction:n,fromCell:r,rowWithoutSpanValue:i,event:s,scroll:o=!0}=e,{column:a,headerRowIndex:l}=t,{filterManager:c,ctrlsSvc:d,headerNavigation:f}=this.beans;if(this.focusedHeader&&vde(e.headerPosition,this.focusedHeader))return!1;if(l===-1)return c?.isAdvFilterHeaderActive()?this.focusAdvancedFilter(t):this.focusGridView({column:a,event:s});o&&f?.scrollToColumn(a,n);const v=d.getHeaderRowContainerCtrl(a.getPinned())?.focusHeader(t.headerRowIndex,a,s)||!1;return f&&v&&(i!=null||r)&&(f.currentHeaderRowWithoutSpan=i??-1),v}focusFirstHeader(){if(this.overlays?.isExclusive()&&this.focusOverlay())return!0;const e=this.visibleCols.allCols[0];if(!e)return!1;const t=pW(this.beans,e,0);return this.focusHeaderPosition({headerPosition:t,rowWithoutSpanValue:0})}focusLastHeader(e){if(this.overlays?.isExclusive()&&this.focusOverlay(!0))return!0;const t=To(this.beans)-1,n=Ft(this.visibleCols.allCols);return this.focusHeaderPosition({headerPosition:{headerRowIndex:t,column:n},rowWithoutSpanValue:-1,event:e})}focusPreviousFromFirstCell(e){return this.filterManager?.isAdvFilterHeaderActive()?this.focusAdvancedFilter(null):this.focusLastHeader(e)}isAnyCellFocused(){return!!this.focusedCell}isRowFocused(e,t){return this.focusedCell==null?!1:this.focusedCell.rowIndex===e&&this.focusedCell.rowPinned===Fa(t)}focusOverlay(e){const t=this.overlays?.isVisible()&&this.overlays.eWrapper?.getGui();return!!t&&Rc(t,e)}focusGridView(e){const{backwards:t=!1,canFocusOverlay:n=!0,event:r}=e;if(this.overlays?.isExclusive())return n&&this.focusOverlay(t);if(gx(this.beans))return t&&!Bu(this.beans)?this.focusLastHeader():n&&this.focusOverlay(t)?!0:t?!1:af(this.beans,t);const i=t?Uhe(this.beans):Whe(this.beans);if(i){const s=e.column??this.focusedHeader?.column,{rowIndex:o,rowPinned:a}=i,l=Ja(this.beans,i);if(!s||!l||o==null)return!1;if(s.isSuppressNavigable(l)){const c=this.gos.get("enableRtl");let d;return!r||r.key===re.TAB?d=c?re.LEFT:re.RIGHT:d=r.key,this.beans.navigation?.navigateToNextCell(null,d,{rowIndex:o,column:s,rowPinned:a||null},!0),!0}return this.navigation?.ensureCellVisible({rowIndex:o,column:s,rowPinned:a}),t&&this.rowRenderer.getRowByPosition(i)?.isFullWidth()&&this.navigation?.tryToFocusFullWidthRow(i,t)||(this.setFocusedCell({rowIndex:o,column:s,rowPinned:Fa(a),forceBrowserFocus:!0}),this.beans.rangeSvc?.setRangeToCell({rowIndex:o,rowPinned:a,column:s})),!0}return!!(n&&this.focusOverlay(t)||t&&this.focusLastHeader())}focusAdvancedFilter(e){return this.advFilterFocusColumn=e?.column,this.beans.advancedFilter?.getCtrl().focusHeaderComp()??!1}focusNextFromAdvancedFilter(e,t){const n=(t?void 0:this.advFilterFocusColumn)??this.visibleCols.allCols?.[0];return e?this.focusHeaderPosition({headerPosition:{column:n,headerRowIndex:To(this.beans)-1}}):this.focusGridView({column:n})}clearAdvancedFilterColumn(){this.advFilterFocusColumn=void 0}},Fge=class extends le{constructor(){super(...arguments),this.beanName="scrollVisibleSvc"}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.colAnimation=e.colAnimation}postConstruct(){this.horizontalScrollShowing=this.gos.get("alwaysShowHorizontalScroll")===!0,this.verticalScrollShowing=this.gos.get("alwaysShowVerticalScroll")===!0,this.getScrollbarWidth(),this.addManagedEventListeners({displayedColumnsChanged:this.updateScrollVisible.bind(this),displayedColumnsWidthChanged:this.updateScrollVisible.bind(this)})}updateScrollVisible(){const{colAnimation:e}=this;e?.isActive()?e.executeLaterVMTurn(()=>{e.executeLaterVMTurn(()=>this.updateScrollVisibleImpl())}):this.updateScrollVisibleImpl()}updateScrollVisibleImpl(){const e=this.ctrlsSvc.get("center");if(!e||this.colAnimation?.isActive())return;const t={horizontalScrollShowing:e.isHorizontalScrollShowing(),verticalScrollShowing:this.verticalScrollShowing};this.setScrollsVisible(t),this.updateScrollGap()}updateScrollGap(){const e=this.ctrlsSvc.get("center"),t=e.hasHorizontalScrollGap(),n=e.hasVerticalScrollGap();(this.horizontalScrollGap!==t||this.verticalScrollGap!==n)&&(this.horizontalScrollGap=t,this.verticalScrollGap=n,this.eventSvc.dispatchEvent({type:"scrollGapChanged"}))}setScrollsVisible(e){(this.horizontalScrollShowing!==e.horizontalScrollShowing||this.verticalScrollShowing!==e.verticalScrollShowing)&&(this.horizontalScrollShowing=e.horizontalScrollShowing,this.verticalScrollShowing=e.verticalScrollShowing,this.eventSvc.dispatchEvent({type:"scrollVisibilityChanged"}))}getScrollbarWidth(){if(this.scrollbarWidth==null){const e=this.gos.get("scrollbarWidth"),n=typeof e=="number"&&e>=0?e:Xle();n!=null&&(this.scrollbarWidth=n,this.eventSvc.dispatchEvent({type:"scrollbarWidthChanged"}))}return this.scrollbarWidth}},Ige=class extends le{constructor(){super(...arguments),this.beanName="gridDestroySvc",this.destroyCalled=!1}destroy(){if(this.destroyCalled)return;const{stateSvc:e,ctrlsSvc:t,context:n}=this.beans;this.eventSvc.dispatchEvent({type:"gridPreDestroyed",state:e?.getState()??{}}),this.destroyCalled=!0,t.get("gridCtrl")?.destroyGridUi(),n.destroy(),super.destroy()}},ow=new Set(["gridPreDestroyed","fillStart","pasteStart"]),Lge=["columnEverythingChanged","newColumnsLoaded","columnPivotModeChanged","pivotMaxColumnsExceeded","columnRowGroupChanged","expandOrCollapseAll","columnPivotChanged","gridColumnsChanged","columnValueChanged","columnMoved","columnVisible","columnPinned","columnGroupOpened","columnResized","displayedColumnsChanged","virtualColumnsChanged","columnHeaderMouseOver","columnHeaderMouseLeave","columnHeaderClicked","columnHeaderContextMenu","asyncTransactionsFlushed","rowGroupOpened","rowDataUpdated","pinnedRowDataChanged","pinnedRowsChanged","rangeSelectionChanged","cellSelectionChanged","chartCreated","chartRangeSelectionChanged","chartOptionsChanged","chartDestroyed","toolPanelVisibleChanged","toolPanelSizeChanged","modelUpdated","cutStart","cutEnd","pasteStart","pasteEnd","fillStart","fillEnd","cellSelectionDeleteStart","cellSelectionDeleteEnd","rangeDeleteStart","rangeDeleteEnd","undoStarted","undoEnded","redoStarted","redoEnded","cellClicked","cellDoubleClicked","cellMouseDown","cellContextMenu","cellValueChanged","cellEditRequest","rowValueChanged","headerFocused","cellFocused","rowSelected","selectionChanged","tooltipShow","tooltipHide","cellKeyDown","cellMouseOver","cellMouseOut","filterChanged","filterModified","filterUiChanged","filterOpened","floatingFilterUiChanged","advancedFilterBuilderVisibleChanged","sortChanged","virtualRowRemoved","rowClicked","rowDoubleClicked","gridReady","gridPreDestroyed","gridSizeChanged","viewportChanged","firstDataRendered","dragStarted","dragStopped","dragCancelled","rowEditingStarted","rowEditingStopped","cellEditingStarted","cellEditingStopped","bodyScroll","bodyScrollEnd","paginationChanged","componentStateChanged","storeRefreshed","stateUpdated","columnMenuVisibleChanged","contextMenuVisibleChanged","rowDragEnter","rowDragMove","rowDragLeave","rowDragEnd","rowDragCancel","findChanged","rowResizeStarted","rowResizeEnded","columnsReset","bulkEditingStarted","bulkEditingStopped","batchEditingStarted","batchEditingStopped"],jA=Lge.reduce((e,t)=>(e[t]=Bae(t),e),{}),eg=(e,t)=>({tag:"span",ref:`eSort${e}`,cls:`ag-sort-indicator-icon ag-sort-${t} ag-hidden`,attrs:{"aria-hidden":"true"}}),_ge={tag:"span",cls:"ag-sort-indicator-container",children:[eg("Order","order"),eg("Asc","ascending-icon"),eg("Desc","descending-icon"),eg("Mixed","mixed-icon"),eg("None","none-icon")]},BA=class extends yt{constructor(e){super(),this.eSortOrder=Ee,this.eSortAsc=Ee,this.eSortDesc=Ee,this.eSortMixed=Ee,this.eSortNone=Ee,e||this.setTemplate(_ge)}attachCustomElements(e,t,n,r,i){this.eSortOrder=e,this.eSortAsc=t,this.eSortDesc=n,this.eSortMixed=r,this.eSortNone=i}setupSort(e,t=!1){if(this.column=e,this.suppressOrder=t,this.setupMultiSortIndicator(),!e.isSortable()&&!e.getColDef().showRowGroup)return;this.addInIcon("sortAscending",this.eSortAsc,e),this.addInIcon("sortDescending",this.eSortDesc,e),this.addInIcon("sortUnSort",this.eSortNone,e);const n=this.updateIcons.bind(this),r=this.onSortChanged.bind(this);this.addManagedPropertyListener("unSortIcon",n),this.addManagedEventListeners({newColumnsLoaded:n,sortChanged:r,columnRowGroupChanged:r}),this.onSortChanged()}addInIcon(e,t,n){if(t==null)return;const r=$i(e,this.beans,n);r&&t.appendChild(r)}onSortChanged(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()}updateIcons(){const{eSortAsc:e,eSortDesc:t,eSortNone:n,column:r,gos:i,beans:s}=this,o=s.sortSvc.getDisplaySortForColumn(r);if(e&&Wt(e,o==="asc",{skipAriaHidden:!0}),t&&Wt(t,o==="desc",{skipAriaHidden:!0}),n){const a=!r.getColDef().unSortIcon&&!i.get("unSortIcon"),l=o==null;Wt(n,!a&&l,{skipAriaHidden:!0})}}setupMultiSortIndicator(){const{eSortMixed:e,column:t,gos:n}=this;this.addInIcon("sortUnSort",e,t);const r=t.getColDef().showRowGroup;So(n)&&r&&(this.addManagedEventListeners({sortChanged:this.updateMultiSortIndicator.bind(this),columnRowGroupChanged:this.updateMultiSortIndicator.bind(this)}),this.updateMultiSortIndicator())}updateMultiSortIndicator(){const{eSortMixed:e,beans:t,column:n}=this;if(e){const r=t.sortSvc.getDisplaySortForColumn(n)==="mixed";Wt(e,r,{skipAriaHidden:!0})}}updateSortOrder(){const{eSortOrder:e,column:t,beans:{sortSvc:n}}=this;if(!e)return;const r=n.getColumnsWithSortingOrdered(),i=n.getDisplaySortIndexForColumn(t)??-1,s=r.some(a=>n.getDisplaySortIndexForColumn(a)??!1),o=i>=0&&s;Wt(e,o,{skipAriaHidden:!0}),i>=0?e.textContent=(i+1).toString():xr(e)}},jge={selector:"AG-SORT-INDICATOR",component:BA},um=["asc","desc",null],Bge=class extends le{constructor(){super(...arguments),this.beanName="sortSvc"}progressSort(e,t,n){const r=this.getNextSortDirection(e);this.setSortForColumn(e,r,t,n)}progressSortFromEvent(e,t){const r=this.gos.get("multiSortKey")==="ctrl"?t.ctrlKey||t.metaKey:t.shiftKey;this.progressSort(e,r,"uiColumnSorted")}setSortForColumn(e,t,n,r){t!=="asc"&&t!=="desc"&&(t=null);const{gos:i,showRowGroupCols:s}=this.beans,o=So(i);let a=[e];if(o&&e.getColDef().showRowGroup){const f=s?.getSourceColumnsForGroupColumn?.(e)?.filter(p=>p.isSortable());f&&(a=[e,...f])}for(const d of a)this.setColSort(d,t,r);const l=(n||i.get("alwaysMultiSort"))&&!i.get("suppressMultiSort"),c=[];if(!l){const d=this.clearSortBarTheseColumns(a,r);c.push(...d)}this.updateSortIndex(e),c.push(...a),this.dispatchSortChangedEvents(r,c)}updateSortIndex(e){const{gos:t,colModel:n,showRowGroupCols:r}=this.beans,i=So(t),s=r?.getShowRowGroupCol(e.getId()),o=i&&s||e,a=this.getColumnsWithSortingOrdered();n.forAllCols(d=>this.setColSortIndex(d,null));const l=a.filter(d=>i&&d.getColDef().showRowGroup?!1:d!==o);(o.getSort()?[...l,o]:l).forEach((d,f)=>this.setColSortIndex(d,f))}onSortChanged(e,t){this.dispatchSortChangedEvents(e,t)}isSortActive(){let e=!1;return this.beans.colModel.forAllCols(t=>{t.getSort()&&(e=!0)}),e}dispatchSortChangedEvents(e,t){const n={type:"sortChanged",source:e};t&&(n.columns=t),this.eventSvc.dispatchEvent(n)}clearSortBarTheseColumns(e,t){const n=[];return this.beans.colModel.forAllCols(r=>{e.includes(r)||(r.getSort()&&n.push(r),this.setColSort(r,void 0,t))}),n}getNextSortDirection(e){const t=e.getColDef().sortingOrder??this.gos.get("sortingOrder")??um,n=t.indexOf(e.getSort()),r=n<0,i=n==t.length-1;return r||i?t[0]:t[n+1]}getIndexedSortMap(){const{gos:e,colModel:t,showRowGroupCols:n,rowGroupColsSvc:r}=this.beans;let i=[];if(t.forAllCols(c=>{c.getSort()&&i.push(c)}),t.isPivotMode()){const c=So(e);i=i.filter(d=>{const f=!!d.getAggFunc(),p=!d.isPrimary(),v=c?n?.getShowRowGroupCol(d.getId()):d.getColDef().showRowGroup;return f||p||v})}const s=r?.columns.filter(c=>!!c.getSort())??[],o={};i.forEach((c,d)=>o[c.getId()]=d),i.sort((c,d)=>{const f=c.getSortIndex(),p=d.getSortIndex();if(f!=null&&p!=null)return f-p;if(f==null&&p==null){const v=o[c.getId()],y=o[d.getId()];return v>y?1:-1}else return p==null?-1:1});const a=So(e)&&!!s.length;a&&(i=[...new Set(i.map(c=>n?.getShowRowGroupCol(c.getId())??c))]);const l=new Map;if(i.forEach((c,d)=>l.set(c,d)),a)for(const c of s){const d=n.getShowRowGroupCol(c.getId());l.set(c,l.get(d))}return l}getColumnsWithSortingOrdered(){return[...this.getIndexedSortMap().entries()].sort(([,e],[,t])=>e-t).map(([e])=>e)}getSortModel(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),colId:e.getId()}))}getSortOptions(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),column:e}))}canColumnDisplayMixedSort(e){const t=So(this.gos),n=!!e.getColDef().showRowGroup;return t&&n}getDisplaySortForColumn(e){const t=this.beans.showRowGroupCols?.getSourceColumnsForGroupColumn(e);if(!this.canColumnDisplayMixedSort(e)||!t?.length)return e.getSort();const r=e.getColDef().field!=null||!!e.getColDef().valueGetter?[e,...t]:t,i=r[0].getSort();return r.every(o=>o.getSort()==i)?i:"mixed"}getDisplaySortIndexForColumn(e){return this.getIndexedSortMap().get(e)}setupHeader(e,t,n){let r=0;e.addManagedListeners(t,{movingChanged:()=>{r=Date.now()}}),n&&e.addManagedElementListeners(n,{click:s=>{const o=t.isMoving(),l=Date.now()-r<50;o||l||this.progressSortFromEvent(t,s)}});const i=()=>{const s=t.getSort();if(e.toggleCss("ag-header-cell-sorted-asc",s==="asc"),e.toggleCss("ag-header-cell-sorted-desc",s==="desc"),e.toggleCss("ag-header-cell-sorted-none",!s),t.getColDef().showRowGroup){const l=!this.beans.showRowGroupCols?.getSourceColumnsForGroupColumn(t)?.every(c=>t.getSort()==c.getSort());e.toggleCss("ag-header-cell-sorted-mixed",l)}};e.addManagedEventListeners({sortChanged:i,columnRowGroupChanged:i})}initCol(e){const{sort:t,initialSort:n,sortIndex:r,initialSortIndex:i}=e.colDef;t!==void 0?(t==="asc"||t==="desc")&&(e.sort=t):(n==="asc"||n==="desc")&&(e.sort=n),r!==void 0?r!==null&&(e.sortIndex=r):i!==null&&(e.sortIndex=i)}updateColSort(e,t,n){t!==void 0&&(t==="desc"||t==="asc"?this.setColSort(e,t,n):this.setColSort(e,void 0,n))}setColSort(e,t,n){e.sort!==t&&(e.sort=t,e.dispatchColEvent("sortChanged",n)),e.dispatchStateUpdatedEvent("sort")}setColSortIndex(e,t){e.sortIndex=t,e.dispatchStateUpdatedEvent("sortIndex")}createSortIndicator(e){return new BA(e)}getSortIndicatorSelector(){return jge}},$h={agSetColumnFilter:"SetFilter",agSetColumnFloatingFilter:"SetFilter",agMultiColumnFilter:"MultiFilter",agMultiColumnFloatingFilter:"MultiFilter",agGroupColumnFilter:"GroupFilter",agGroupColumnFloatingFilter:"GroupFilter",agGroupCellRenderer:"GroupCellRenderer",agGroupRowRenderer:"GroupCellRenderer",agRichSelect:"RichSelect",agRichSelectCellEditor:"RichSelect",agDetailCellRenderer:"SharedMasterDetail",agSparklineCellRenderer:"Sparklines",agDragAndDropImage:"SharedDragAndDrop",agColumnHeader:"ColumnHeaderComp",agColumnGroupHeader:"ColumnGroupHeaderComp",agSortIndicator:"Sort",agAnimateShowChangeCellRenderer:"HighlightChanges",agAnimateSlideCellRenderer:"HighlightChanges",agLoadingCellRenderer:"LoadingCellRenderer",agSkeletonCellRenderer:"SkeletonCellRenderer",agCheckboxCellRenderer:"CheckboxCellRenderer",agLoadingOverlay:"Overlay",agNoRowsOverlay:"Overlay",agTooltipComponent:"Tooltip",agReadOnlyFloatingFilter:"CustomFilter",agTextColumnFilter:"TextFilter",agNumberColumnFilter:"NumberFilter",agDateColumnFilter:"DateFilter",agDateInput:"DateFilter",agTextColumnFloatingFilter:"TextFilter",agNumberColumnFloatingFilter:"NumberFilter",agDateColumnFloatingFilter:"DateFilter",agCellEditor:"TextEditor",agSelectCellEditor:"SelectEditor",agTextCellEditor:"TextEditor",agNumberCellEditor:"NumberEditor",agDateCellEditor:"DateEditor",agDateStringCellEditor:"DateEditor",agCheckboxCellEditor:"CheckboxEditor",agLargeTextCellEditor:"LargeTextEditor",agMenuItem:"MenuItem",agColumnsToolPanel:"ColumnsToolPanel",agFiltersToolPanel:"FiltersToolPanel",agNewFiltersToolPanel:"NewFiltersToolPanel",agAggregationComponent:"StatusBar",agSelectedRowCountComponent:"StatusBar",agTotalRowCountComponent:"StatusBar",agFilteredRowCountComponent:"StatusBar",agTotalAndFilteredRowCountComponent:"StatusBar",agFindCellRenderer:"Find"};function w_(e){return`"${e}"`}var Hge=()=>({checkboxSelection:{version:"32.2",message:"Use `rowSelection.checkboxes` in `GridOptions` instead."},headerCheckboxSelection:{version:"32.2",message:"Use `rowSelection.headerCheckbox = true` in `GridOptions` instead."},headerCheckboxSelectionFilteredOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "filtered"` in `GridOptions` instead.'},headerCheckboxSelectionCurrentPageOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "currentPage"` in `GridOptions` instead.'},showDisabledCheckboxes:{version:"32.2",message:"Use `rowSelection.hideDisabledCheckboxes = true` in `GridOptions` instead."},rowGroupingHierarchy:{version:"34.3",message:"Use `colDef.groupHierarchy` instead."}}),zge={aggFunc:"SharedAggregation",autoHeight:"RowAutoHeight",cellClass:"CellStyle",cellClassRules:"CellStyle",cellEditor:({cellEditor:e,editable:t})=>t?typeof e=="string"?$h[e]??"CustomEditor":"CustomEditor":null,cellRenderer:({cellRenderer:e})=>typeof e!="string"?null:$h[e],cellStyle:"CellStyle",columnChooserParams:"ColumnMenu",contextMenuItems:"ContextMenu",dndSource:"DragAndDrop",dndSourceOnRowDrag:"DragAndDrop",editable:({editable:e,cellEditor:t})=>e&&!t?"TextEditor":null,enableCellChangeFlash:"HighlightChanges",enablePivot:"SharedPivot",enableRowGroup:"SharedRowGrouping",enableValue:"SharedAggregation",filter:({filter:e})=>e&&typeof e!="string"&&typeof e!="boolean"?"CustomFilter":typeof e=="string"?$h[e]??"ColumnFilter":"ColumnFilter",floatingFilter:"ColumnFilter",getQuickFilterText:"QuickFilter",headerTooltip:"Tooltip",headerTooltipValueGetter:"Tooltip",mainMenuItems:"ColumnMenu",menuTabs:e=>{const t=["columnsMenuTab","generalMenuTab"];return e.menuTabs?.some(n=>t.includes(n))?"ColumnMenu":null},pivot:"SharedPivot",pivotIndex:"SharedPivot",rowDrag:"RowDrag",rowGroup:"SharedRowGrouping",rowGroupIndex:"SharedRowGrouping",tooltipField:"Tooltip",tooltipValueGetter:"Tooltip",tooltipComponentSelector:"Tooltip",spanRows:"CellSpan",groupHierarchy:"SharedRowGrouping"},Gge=()=>({autoHeight:{supportedRowModels:["clientSide","serverSide"],validate:(t,{paginationAutoPageSize:n})=>n?"colDef.autoHeight is not supported with paginationAutoPageSize.":null},cellRendererParams:{validate:t=>(t.rowGroup!=null||t.rowGroupIndex!=null||t.cellRenderer==="agGroupCellRenderer")&&"checkbox"in t.cellRendererParams?'Since v33.0, `cellRendererParams.checkbox` has been deprecated. Use `rowSelection.checkboxLocation = "autoGroupColumn"` instead.':null},flex:{validate:(t,n)=>n.autoSizeStrategy?"colDef.flex is not supported with gridOptions.autoSizeStrategy":null},headerCheckboxSelection:{supportedRowModels:["clientSide","serverSide"],validate:(t,{rowSelection:n})=>n==="multiple"?null:"headerCheckboxSelection is only supported with rowSelection=multiple"},headerCheckboxSelectionCurrentPageOnly:{supportedRowModels:["clientSide"],validate:(t,{rowSelection:n})=>n==="multiple"?null:"headerCheckboxSelectionCurrentPageOnly is only supported with rowSelection=multiple"},headerCheckboxSelectionFilteredOnly:{supportedRowModels:["clientSide"],validate:(t,{rowSelection:n})=>n==="multiple"?null:"headerCheckboxSelectionFilteredOnly is only supported with rowSelection=multiple"},headerValueGetter:{validate:t=>{const n=t.headerValueGetter;return typeof n=="function"||typeof n=="string"?null:"headerValueGetter must be a function or a valid string expression"}},icons:{validate:({icons:t})=>{if(t){if(t.smallDown)return Oo(262);if(t.smallLeft)return Oo(263);if(t.smallRight)return Oo(264)}return null}},sortingOrder:{validate:t=>{const n=t.sortingOrder;if(Array.isArray(n)&&n.length>0){const r=n.filter(i=>!um.includes(i));if(r.length>0)return`sortingOrder must be an array with elements from [${um.map(_w).join()}], currently it includes [${r.map(_w).join()}]`}else if(!Array.isArray(n)||n.length<=0)return`sortingOrder must be an array with at least one element, currently it's ${n}`;return null}},type:{validate:t=>{const n=t.type;return n instanceof Array?n.some(i=>typeof i!="string")?"if colDef.type is supplied an array it should be of type 'string[]'":null:typeof n=="string"?null:"colDef.type should be of type 'string' | 'string[]'"}},rowSpan:{validate:(t,{suppressRowTransform:n})=>n?null:"colDef.rowSpan requires suppressRowTransform to be enabled."},spanRows:{dependencies:{editable:{required:[!1,void 0]},rowDrag:{required:[!1,void 0]},colSpan:{required:[void 0]},rowSpan:{required:[void 0]}},validate:(t,{rowSelection:n,cellSelection:r,suppressRowTransform:i,enableCellSpan:s,rowDragEntireRow:o,enableCellTextSelection:a})=>typeof n=="object"&&n?.mode==="singleRow"&&n?.enableClickSelection?"colDef.spanRows is not supported with rowSelection.clickSelection":r?"colDef.spanRows is not supported with cellSelection.":i?"colDef.spanRows is not supported with suppressRowTransform.":s?o?"colDef.spanRows is not supported with rowDragEntireRow.":a?"colDef.spanRows is not supported with enableCellTextSelection.":null:"colDef.spanRows requires enableCellSpan to be enabled."},groupHierarchy:{validate(t,{groupHierarchyConfig:n={}},r){const i=new Set(["year","quarter","month","formattedMonth","day","hour","minute","second"]),s=[];for(const o of t.groupHierarchy??[]){if(typeof o=="object"){r.validation?.validateColDef(o);continue}!i.has(o)&&!(o in n)&&s.push(w_(o))}if(s.length>0){const o=`The following parts of colDef.groupHierarchy are not recognised: ${s.join(", ")}.`,a=`Choose one of ${[...i].map(w_).join(", ")}, or define your own parts in gridOptions.groupHierarchyConfig.`;return`${o}
${a}`}return null}}}),Vge={headerName:void 0,columnGroupShow:void 0,headerStyle:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,cellDataType:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,headerTooltipValueGetter:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellAriaRole:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellEditor:void 0,cellEditorParams:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,tooltipComponentParams:void 0,refData:void 0,columnChooserParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,suppressStickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressHeaderMenuButton:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,spanRows:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,tooltipComponentSelector:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,suppressSpanHeaderHeight:void 0,useValueFormatterForExport:void 0,useValueParserForImport:void 0,mainMenuItems:void 0,contextMenuItems:void 0,suppressFloatingFilterButton:void 0,suppressHeaderFilterButton:void 0,suppressHeaderContextMenu:void 0,loadingCellRenderer:void 0,loadingCellRendererParams:void 0,loadingCellRendererSelector:void 0,context:void 0,dateComponent:void 0,dateComponentParams:void 0,getFindText:void 0,rowGroupingHierarchy:void 0,groupHierarchy:void 0},Wge=()=>Object.keys(Vge),Uge=()=>({objectName:"colDef",allProperties:Wge(),docsUrl:"column-properties/",deprecations:Hge(),validations:Gge()}),$ge=["overlayLoadingTemplate","overlayNoRowsTemplate","gridId","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","groupDisplayType","treeDataDisplayType","treeDataChildrenField","treeDataParentIdField","colResizeDefault","tooltipTrigger","serverSidePivotResultFieldSeparator","columnMenu","tooltipShowMode","invalidEditValueMode","grandTotalRow","themeCssLayer","findSearchValue","styleNonce","renderingMode"],qge=["components","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","dragAndDropImageComponentParams","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","themeStyleContainer","statusBar","chartThemeOverrides","customChartThemes","chartToolPanelsDef","dataTypeDefinitions","advancedFilterParent","advancedFilterBuilderParams","advancedFilterParams","initialState","autoSizeStrategy","selectionColumnDef","findOptions","filterHandlers","groupHierarchyConfig"],Kge=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass","paginationPageSizeSelector"],gW=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","groupLockGroupColumns","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","pivotDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDuration","cellFadeDuration","tabIndex","pivotMaxGeneratedColumns","rowDragInsertDelay"],Yge=["theme","rowSelection"],Qge=["cellSelection","sideBar","rowNumbers","suppressGroupChangesColumnVisibility","groupAggFiltering","suppressStickyTotalRow","groupHideParentOfSingleChild","enableRowPinning"],mW=["loadThemeGoogleFonts","suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellFocus","suppressHeaderFocus","suppressHorizontalScroll","groupSelectsChildren","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressColumnMoveAnimation","suppressMoveWhenColumnDragging","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","allowContextMenuWithControlKey","suppressContextMenu","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","alwaysAggregateAtRootLevel","suppressFocusAfterRefresh","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","enableCellSpan","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","includeHiddenColumnsInQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","includeHiddenColumnsInAdvancedFilter","suppressMultiRangeSelection","enterNavigatesVerticallyAfterEdit","enterNavigatesVertically","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","tooltipInteraction","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideSortAllLevels","serverSideEnableClientSideSort","serverSideOnlyRefreshFilteredGroups","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","groupMaintainOrder","columnHoverHighlight","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","suppressGroupRowsSticky","suppressCutToClipboard","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","enableAdvancedFilter","masterDetail","treeData","reactiveCustomComponents","applyQuickFilterBeforePivotOrAgg","suppressServerSideFullWidthLoadingRow","suppressAdvancedFilterEval","loading","maintainColumnOrder","enableStrictPivotColumnOrder","suppressSetFilterByDefault","enableFilterHandlers","suppressStartEditOnTab","hidePaddedHeaderRows","ssrmExpandAllAffectsAllRows"],Xge=["doesExternalFilterPass","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","rowDragText","groupRowRenderer","dragAndDropImageComponent","fullWidthCellRenderer","loadingCellRenderer","loadingOverlayComponent","noRowsOverlayComponent","detailCellRenderer","quickFilterParser","quickFilterMatcher","getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getFullRowEditValidationErrors","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","isFullWidthRow","sendToClipboard","focusGridInnerElement","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processUnpinnedColumns","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","loadingCellRendererSelector","getRowId","chartMenuItems","groupTotalRow","alwaysPassFilter","isRowPinnable","isRowPinned","isRowValidDropPosition"],Jge=()=>[...Kge,...qge,...$ge,...gW,...Xge,...mW,...Qge,...Yge],Zge=()=>({suppressLoadingOverlay:{version:"32",message:"Use `loading`=false instead."},enableFillHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeSelection:{version:"32.2",message:"Use `cellSelection = true` instead."},suppressMultiRangeSelection:{version:"32.2",message:"Use `cellSelection.suppressMultiRanges` instead."},suppressClearOnFillReduction:{version:"32.2",message:"Use `cellSelection.handle.suppressClearOnFillReduction` instead."},fillHandleDirection:{version:"32.2",message:"Use `cellSelection.handle.direction` instead."},fillOperation:{version:"32.2",message:"Use `cellSelection.handle.setFillValue` instead."},suppressRowClickSelection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},suppressRowDeselection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},rowMultiSelectWithClick:{version:"32.2",message:"Use `rowSelection.enableSelectionWithoutKeys` instead."},groupSelectsChildren:{version:"32.2",message:'Use `rowSelection.groupSelects = "descendants"` instead.'},groupSelectsFiltered:{version:"32.2",message:'Use `rowSelection.groupSelects = "filteredDescendants"` instead.'},isRowSelectable:{version:"32.2",message:"Use `selectionOptions.isRowSelectable` instead."},suppressCopySingleCellRanges:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},suppressCopyRowsToClipboard:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},onRangeSelectionChanged:{version:"32.2",message:"Use `onCellSelectionChanged` instead."},onRangeDeleteStart:{version:"32.2",message:"Use `onCellSelectionDeleteStart` instead."},onRangeDeleteEnd:{version:"32.2",message:"Use `onCellSelectionDeleteEnd` instead."},suppressBrowserResizeObserver:{version:"32.2",message:"The grid always uses the browser's ResizeObserver, this grid option has no effect."},onColumnEverythingChanged:{version:"32.2",message:"Either use `onDisplayedColumnsChanged` which is fired at the same time, or use one of the more specific column events."},groupRemoveSingleChildren:{version:"33",message:"Use `groupHideParentOfSingleChild` instead."},groupRemoveLowestSingleChildren:{version:"33",message:'Use `groupHideParentOfSingleChild: "leafGroupsOnly"` instead.'},suppressRowGroupHidesColumns:{version:"33",message:'Use `suppressGroupChangesColumnVisibility: "suppressHideOnGroup"` instead.'},suppressMakeColumnVisibleAfterUnGroup:{version:"33",message:'Use `suppressGroupChangesColumnVisibility: "suppressShowOnUngroup"` instead.'},unSortIcon:{version:"33",message:"Use `defaultColDef.unSortIcon` instead."},sortingOrder:{version:"33",message:"Use `defaultColDef.sortingOrder` instead."},suppressPropertyNamesCheck:{version:"33",message:"`gridOptions` and `columnDefs` both have a `context` property that should be used for arbitrary user data. This means that column definitions and gridOptions should only contain valid properties making this property redundant."},suppressAdvancedFilterEval:{version:"34",message:"Advanced filter no longer uses function evaluation, so this option has no effect."}});function po(e,t,n){return typeof t=="number"||t==null?t==null||t>=n?null:`${e}: value should be greater than or equal to ${n}`:`${e}: value should be a number`}var eme={alignedGrids:"AlignedGrids",allowContextMenuWithControlKey:"ContextMenu",autoSizeStrategy:"ColumnAutoSize",cellSelection:"CellSelection",columnHoverHighlight:"ColumnHover",datasource:"InfiniteRowModel",doesExternalFilterPass:"ExternalFilter",editType:"EditCore",invalidEditValueMode:"EditCore",enableAdvancedFilter:"AdvancedFilter",enableCellSpan:"CellSpan",enableCharts:"IntegratedCharts",enableRangeSelection:"CellSelection",enableRowPinning:"PinnedRow",findSearchValue:"Find",getFullRowEditValidationErrors:"EditCore",getContextMenuItems:"ContextMenu",getLocaleText:"Locale",getMainMenuItems:"ColumnMenu",getRowClass:"RowStyle",getRowStyle:"RowStyle",groupTotalRow:"SharedRowGrouping",grandTotalRow:"ClientSideRowModelHierarchy",initialState:"GridState",isExternalFilterPresent:"ExternalFilter",isRowPinnable:"PinnedRow",isRowPinned:"PinnedRow",localeText:"Locale",masterDetail:"SharedMasterDetail",pagination:"Pagination",pinnedBottomRowData:"PinnedRow",pinnedTopRowData:"PinnedRow",pivotMode:"SharedPivot",pivotPanelShow:"RowGroupingPanel",quickFilterText:"QuickFilter",rowClass:"RowStyle",rowClassRules:"RowStyle",rowData:"ClientSideRowModel",rowDragManaged:"RowDrag",rowGroupPanelShow:"RowGroupingPanel",rowNumbers:"RowNumbers",rowSelection:"SharedRowSelection",rowStyle:"RowStyle",serverSideDatasource:"ServerSideRowModel",sideBar:"SideBar",statusBar:"StatusBar",treeData:"SharedTreeData",undoRedoCellEditing:"UndoRedoEdit",valueCache:"ValueCache",viewportDatasource:"ViewportRowModel"},tme=()=>{const e={autoSizePadding:{validate({autoSizePadding:n}){return po("autoSizePadding",n,0)}},cacheBlockSize:{supportedRowModels:["serverSide","infinite"],validate({cacheBlockSize:n}){return po("cacheBlockSize",n,1)}},cacheOverflowSize:{validate({cacheOverflowSize:n}){return po("cacheOverflowSize",n,1)}},datasource:{supportedRowModels:["infinite"]},domLayout:{validate:n=>{const r=n.domLayout,i=["autoHeight","normal","print"];return r&&!i.includes(r)?`domLayout must be one of [${i.join()}], currently it's ${r}`:null}},enableFillHandle:{dependencies:{enableRangeSelection:{required:[!0]}}},enableRangeHandle:{dependencies:{enableRangeSelection:{required:[!0]}}},enableRangeSelection:{dependencies:{rowDragEntireRow:{required:[!1,void 0]}}},enableRowPinning:{supportedRowModels:["clientSide"],validate({enableRowPinning:n,pinnedTopRowData:r,pinnedBottomRowData:i}){return n&&(r||i)?"Manual row pinning cannot be used together with pinned row data. Either set `enableRowPinning` to `false`, or remove `pinnedTopRowData` and `pinnedBottomRowData`.":null}},isRowPinnable:{supportedRowModels:["clientSide"],validate({enableRowPinning:n,isRowPinnable:r,pinnedTopRowData:i,pinnedBottomRowData:s}){return r&&(i||s)?"Manual row pinning cannot be used together with pinned row data. Either remove `isRowPinnable`, or remove `pinnedTopRowData` and `pinnedBottomRowData`.":!n&&r?"`isRowPinnable` requires `enableRowPinning` to be set.":null}},isRowPinned:{supportedRowModels:["clientSide"],validate({enableRowPinning:n,isRowPinned:r,pinnedTopRowData:i,pinnedBottomRowData:s}){return r&&(i||s)?"Manual row pinning cannot be used together with pinned row data. Either remove `isRowPinned`, or remove `pinnedTopRowData` and `pinnedBottomRowData`.":!n&&r?"`isRowPinned` requires `enableRowPinning` to be set.":null}},groupDefaultExpanded:{supportedRowModels:["clientSide"]},groupHideOpenParents:{supportedRowModels:["clientSide","serverSide"],dependencies:{groupTotalRow:{required:[void 0,"bottom"]},treeData:{required:[void 0,!1],reason:"Tree Data has values at the group level so it doesn't make sense to hide them."}}},groupHideParentOfSingleChild:{dependencies:{groupHideOpenParents:{required:[void 0,!1]}}},groupRemoveLowestSingleChildren:{dependencies:{groupHideOpenParents:{required:[void 0,!1]},groupRemoveSingleChildren:{required:[void 0,!1]}}},groupRemoveSingleChildren:{dependencies:{groupHideOpenParents:{required:[void 0,!1]},groupRemoveLowestSingleChildren:{required:[void 0,!1]}}},groupSelectsChildren:{dependencies:{rowSelection:{required:["multiple"]}}},groupHierarchyConfig:{validate({groupHierarchyConfig:n={}},r,i){for(const s of Object.keys(n))i.validation?.validateColDef(n[s]);return null}},icons:{validate:({icons:n})=>{if(n){if(n.smallDown)return Oo(262);if(n.smallLeft)return Oo(263);if(n.smallRight)return Oo(264)}return null}},infiniteInitialRowCount:{validate({infiniteInitialRowCount:n}){return po("infiniteInitialRowCount",n,1)}},initialGroupOrderComparator:{supportedRowModels:["clientSide"]},ssrmExpandAllAffectsAllRows:{validate:n=>{if(typeof n.ssrmExpandAllAffectsAllRows=="boolean"){if(n.rowModelType!=="serverSide")return"'ssrmExpandAllAffectsAllRows' is only supported with the Server Side Row Model.";if(n.ssrmExpandAllAffectsAllRows&&typeof n.getRowId!="function")return"'getRowId' callback must be provided for Server Side Row Model grouping to work correctly."}return null}},keepDetailRowsCount:{validate({keepDetailRowsCount:n}){return po("keepDetailRowsCount",n,1)}},paginationPageSize:{validate({paginationPageSize:n}){return po("paginationPageSize",n,1)}},paginationPageSizeSelector:{validate:n=>{const r=n.paginationPageSizeSelector;return typeof r=="boolean"||r==null||r.length?null:`'paginationPageSizeSelector' cannot be an empty array.
                    If you want to hide the page size selector, set paginationPageSizeSelector to false.`}},pivotMode:{dependencies:{treeData:{required:[!1,void 0],reason:"Pivot Mode is not supported with Tree Data."}}},quickFilterText:{supportedRowModels:["clientSide"]},rowBuffer:{validate({rowBuffer:n}){return po("rowBuffer",n,0)}},rowClass:{validate:n=>typeof n.rowClass=="function"?"rowClass should not be a function, please use getRowClass instead":null},rowData:{supportedRowModels:["clientSide"]},rowDragManaged:{supportedRowModels:["clientSide"],dependencies:{pagination:{required:[!1,void 0]}}},rowSelection:{validate({rowSelection:n}){return n&&typeof n=="string"?'As of version 32.2.1, using `rowSelection` with the values "single" or "multiple" has been deprecated. Use the object value instead.':n&&typeof n!="object"?"Expected `RowSelectionOptions` object for the `rowSelection` property.":n&&n.mode!=="multiRow"&&n.mode!=="singleRow"?`Selection mode "${n.mode}" is invalid. Use one of 'singleRow' or 'multiRow'.`:null}},rowStyle:{validate:n=>{const r=n.rowStyle;return r&&typeof r=="function"?"rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead":null}},serverSideDatasource:{supportedRowModels:["serverSide"]},serverSideInitialRowCount:{supportedRowModels:["serverSide"],validate({serverSideInitialRowCount:n}){return po("serverSideInitialRowCount",n,1)}},serverSideOnlyRefreshFilteredGroups:{supportedRowModels:["serverSide"]},serverSideSortAllLevels:{supportedRowModels:["serverSide"]},sortingOrder:{validate:n=>{const r=n.sortingOrder;if(Array.isArray(r)&&r.length>0){const i=r.filter(s=>!um.includes(s));if(i.length>0)return`sortingOrder must be an array with elements from [${um.map(_w).join()}], currently it includes [${i.map(_w).join()}]`}else if(!Array.isArray(r)||r.length<=0)return`sortingOrder must be an array with at least one element, currently it's ${r}`;return null}},tooltipHideDelay:{validate:n=>n.tooltipHideDelay&&n.tooltipHideDelay<0?"tooltipHideDelay should not be lower than 0":null},tooltipShowDelay:{validate:n=>n.tooltipShowDelay&&n.tooltipShowDelay<0?"tooltipShowDelay should not be lower than 0":null},treeData:{supportedRowModels:["clientSide","serverSide"],validate:n=>{const r=n.rowModelType??"clientSide";switch(r){case"clientSide":{const{treeDataChildrenField:i,treeDataParentIdField:s,getDataPath:o,getRowId:a}=n;if(!i&&!s&&!o)return"treeData requires either 'treeDataChildrenField' or 'treeDataParentIdField' or 'getDataPath' in the clientSide row model.";if(i){if(o)return"Cannot use both 'treeDataChildrenField' and 'getDataPath' at the same time.";if(s)return"Cannot use both 'treeDataChildrenField' and 'treeDataParentIdField' at the same time."}if(s){if(!a)return"getRowId callback not provided, tree data with parent id cannot be built.";if(o)return"Cannot use both 'treeDataParentIdField' and 'getDataPath' at the same time."}return null}case"serverSide":{const i=`treeData requires 'isServerSideGroup' and 'getServerSideGroupKey' in the ${r} row model.`;return n.isServerSideGroup&&n.getServerSideGroupKey?null:i}}return null}},viewportDatasource:{supportedRowModels:["viewport"]},viewportRowModelBufferSize:{validate({viewportRowModelBufferSize:n}){return po("viewportRowModelBufferSize",n,0)}},viewportRowModelPageSize:{validate({viewportRowModelPageSize:n}){return po("viewportRowModelPageSize",n,1)}},rowDragEntireRow:{dependencies:{cellSelection:{required:[void 0]}}},autoGroupColumnDef:{validate({autoGroupColumnDef:n,showOpenedGroup:r}){return n?.field&&r?"autoGroupColumnDef.field and showOpenedGroup are not supported when used together.":n?.valueGetter&&r?"autoGroupColumnDef.valueGetter and showOpenedGroup are not supported when used together.":null}},renderingMode:{validate:n=>{const r=n.renderingMode,i=["default","legacy"];return r&&!i.includes(r)?`renderingMode must be one of [${i.join()}], currently it's ${r}`:null}},autoSizeStrategy:{validate:({autoSizeStrategy:n})=>{if(!n)return null;const r=["fitCellContents","fitGridWidth","fitProvidedWidth"],i=n.type;return i!=="fitCellContents"&&i!=="fitGridWidth"&&i!=="fitProvidedWidth"?`Invalid Auto-size strategy. \`autoSizeStrategy\` must be one of ${r.map(s=>'"'+s+'"').join(", ")}, currently it's ${i}`:i==="fitProvidedWidth"&&typeof n.width!="number"?`When using the 'fitProvidedWidth' auto-size strategy, must provide a numeric \`width\`. You provided ${n.width}`:null}}},t={};for(const n of mW)t[n]={expectedType:"boolean"};for(const n of gW)t[n]={expectedType:"number"};return Qr(t,e),t},nme=()=>({objectName:"gridOptions",allProperties:[...Jge(),...Object.values(jA)],propertyExceptions:["api"],docsUrl:"grid-options/",deprecations:Zge(),validations:tme()}),rme=0,ime=0,b_="__ag_grid_instance",sme=class extends le{constructor(){super(...arguments),this.beanName="gos",this.domDataKey="__AG_"+Math.random().toString(),this.instanceId=ime++,this.gridReadyFired=!1,this.queueEvents=[],this.propEventSvc=new ed,this.globalEventHandlerFactory=e=>(t,n)=>{if(!this.isAlive())return;const r=ow.has(t);if(r&&!e||!r&&e||!ome(t))return;const i=(s,o)=>{const a=jA[s],l=this.gridOptions[a];typeof l=="function"&&this.beans.frameworkOverrides.wrapOutgoing(()=>l(o))};if(this.gridReadyFired)i(t,n);else if(t==="gridReady"){i(t,n),this.gridReadyFired=!0;for(const s of this.queueEvents)i(s.eventName,s.event);this.queueEvents=[]}else this.queueEvents.push({eventName:t,event:n})}}wireBeans(e){this.gridOptions=e.gridOptions,this.validation=e.validation,this.api=e.gridApi,this.gridId=e.context.getId()}get gridOptionsContext(){return this.gridOptions.context}postConstruct(){this.validateGridOptions(this.gridOptions),this.eventSvc.addGlobalListener(this.globalEventHandlerFactory().bind(this),!0),this.eventSvc.addGlobalListener(this.globalEventHandlerFactory(!0).bind(this),!1),this.propEventSvc.setFrameworkOverrides(this.beans.frameworkOverrides),this.addManagedEventListeners({gridOptionsChanged:({options:e})=>{this.updateGridOptions({options:e,force:!0,source:"optionsUpdated"})}})}destroy(){super.destroy(),this.queueEvents=[]}get(e){return this.gridOptions[e]??cV[e]}getCallback(e){return this.mergeGridCommonParams(this.gridOptions[e])}exists(e){return De(this.gridOptions[e])}mergeGridCommonParams(e){return e&&(n=>e(this.addCommon(n)))}updateGridOptions({options:e,force:t,source:n="api"}){const r={id:rme++,properties:[]},i=[],{gridOptions:s,validation:o}=this;for(const a of Object.keys(e)){const l=fA.applyGlobalGridOption(a,e[a]);o?.warnOnInitialPropertyUpdate(n,a);const c=t||typeof l=="object"&&n==="api",d=s[a];if(c||d!==l){s[a]=l;const f={type:a,currentValue:l,previousValue:d,changeSet:r,source:n};i.push(f)}}this.validateGridOptions(this.gridOptions),r.properties=i.map(a=>a.type);for(const a of i)Ec(this,`Updated property ${a.type} from`,a.previousValue," to ",a.currentValue),this.propEventSvc.dispatchEvent(a)}addPropertyEventListener(e,t){this.propEventSvc.addEventListener(e,t)}removePropertyEventListener(e,t){this.propEventSvc.removeEventListener(e,t)}getDomDataKey(){return this.domDataKey}addCommon(e){return e.api=this.api,e.context=this.gridOptionsContext,e}validateOptions(e,t){for(const n of Object.keys(e)){const r=e[n];if(r==null||r===!1)continue;let i=t[n];typeof i=="function"&&(i=i(e,this.gridOptions,this.beans)),i&&this.assertModuleRegistered(i,n)}}validateGridOptions(e){this.validateOptions(e,eme),this.validation?.processGridOptions(e)}validateColDef(e,t,n){(n||!this.beans.dataTypeSvc?.isColPendingInference(t))&&(this.validateOptions(e,zge),this.validation?.validateColDef(e))}assertModuleRegistered(e,t){const n=Array.isArray(e)?e.some(r=>this.isModuleRegistered(r)):this.isModuleRegistered(e);return n||Dt(200,{...this.getModuleErrorParams(),moduleName:e,reasonOrId:t}),n}getModuleErrorParams(){return{gridId:this.gridId,gridScoped:pA(),rowModelType:this.get("rowModelType"),isUmd:vae()}}isModuleRegistered(e){return M2(e,this.gridId,this.get("rowModelType"))}setInstanceDomData(e){e[b_]=this.instanceId}isElementInThisInstance(e){let t=e;for(;t;){const n=t[b_];if(De(n))return n===this.instanceId;t=t.parentElement}return!1}};function ome(e){return!!jA[e]}function vW(e){const t={"aria-hidden":"true"};return{tag:"div",cls:"ag-cell-label-container",role:"presentation",children:[{tag:"span",ref:"eMenu",cls:"ag-header-icon ag-header-cell-menu-button",attrs:t},{tag:"span",ref:"eFilterButton",cls:"ag-header-icon ag-header-cell-filter-button",attrs:t},{tag:"div",ref:"eLabel",cls:"ag-header-cell-label",role:"presentation",children:[{tag:"span",ref:"eText",cls:"ag-header-cell-text"},{tag:"span",ref:"eFilter",cls:"ag-header-icon ag-header-label-icon ag-filter-icon",attrs:t},e?{tag:"ag-sort-indicator",ref:"eSortIndicator"}:null]}]}}var ame=vW(!0),lme=vW(!1),cme=class extends yt{constructor(){super(...arguments),this.eFilter=Ee,this.eFilterButton=Ee,this.eSortIndicator=Ee,this.eMenu=Ee,this.eLabel=Ee,this.eText=Ee,this.eSortOrder=Ee,this.eSortAsc=Ee,this.eSortDesc=Ee,this.eSortMixed=Ee,this.eSortNone=Ee,this.isLoadingInnerComponent=!1}refresh(e){const t=this.params;if(this.params=e,this.workOutTemplate(e,!!this.beans?.sortSvc)!=this.currentTemplate||this.workOutShowMenu()!=this.currentShowMenu||e.enableSorting!=this.currentSort||this.currentSuppressMenuHide!=null&&this.shouldSuppressMenuHide()!=this.currentSuppressMenuHide||t.enableFilterButton!=e.enableFilterButton||t.enableFilterIcon!=e.enableFilterIcon)return!1;if(this.innerHeaderComponent){const n={...e};Qr(n,e.innerHeaderComponentParams),this.innerHeaderComponent.refresh?.(n)}else this.setDisplayName(e);return!0}workOutTemplate(e,t){const n=e.template;return n?n?.trim?n.trim():n:t?ame:lme}init(e){this.params=e;const{sortSvc:t,touchSvc:n,rowNumbersSvc:r,userCompFactory:i}=this.beans,s=t?.getSortIndicatorSelector();this.currentTemplate=this.workOutTemplate(e,!!s),this.setTemplate(this.currentTemplate,s?[s]:void 0),n?.setupForHeader(this),this.setMenu(),this.setupSort(),r?.setupForHeader(this),this.setupFilterIcon(),this.setupFilterButton(),this.workOutInnerHeaderComponent(i,e),this.setDisplayName(e)}workOutInnerHeaderComponent(e,t){const n=Lle(e,t,t);n&&(this.isLoadingInnerComponent=!0,n.newAgStackInstance().then(r=>{this.isLoadingInnerComponent=!1,r&&(this.isAlive()?(this.innerHeaderComponent=r,this.eText&&this.eText.appendChild(r.getGui())):this.destroyBean(r))}))}setDisplayName(e){const{displayName:t}=e,n=this.currentDisplayName;this.currentDisplayName=t,!(!this.eText||n===t||this.innerHeaderComponent||this.isLoadingInnerComponent)&&(this.eText.textContent=vd(t))}addInIcon(e,t,n){const r=$i(e,this.beans,n);r&&t.appendChild(r)}workOutShowMenu(){return this.params.enableMenu&&!!this.beans.menuSvc?.isHeaderMenuButtonEnabled()}shouldSuppressMenuHide(){return!!this.beans.menuSvc?.isHeaderMenuButtonAlwaysShowEnabled()}setMenu(){if(!this.eMenu)return;if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu){Es(this.eMenu),this.eMenu=void 0;return}const{gos:e,eMenu:t,params:n}=this,r=Ui(e);this.addInIcon(r?"menu":"menuAlt",t,n.column),t.classList.toggle("ag-header-menu-icon",!r);const i=this.shouldSuppressMenuHide();this.currentSuppressMenuHide=i,this.addManagedElementListeners(t,{click:()=>this.showColumnMenu(this.eMenu)}),this.toggleMenuAlwaysShow(i)}toggleMenuAlwaysShow(e){this.eMenu?.classList.toggle("ag-header-menu-always-show",e)}showColumnMenu(e){const{currentSuppressMenuHide:t,params:n}=this;t||this.toggleMenuAlwaysShow(!0),n.showColumnMenu(e,()=>{t||this.toggleMenuAlwaysShow(!1)})}onMenuKeyboardShortcut(e){const{params:t,gos:n,beans:r,eMenu:i,eFilterButton:s}=this,o=t.column,a=Ui(n);if(e&&!a){if(r.menuSvc?.isFilterMenuInHeaderEnabled(o))return t.showFilter(s??i??this.getGui()),!0}else if(t.enableMenu)return this.showColumnMenu(i??s??this.getGui()),!0;return!1}setupSort(){const{sortSvc:e}=this.beans;if(!e)return;const{enableSorting:t,column:n}=this.params;if(this.currentSort=t,!this.eSortIndicator){this.eSortIndicator=this.createBean(e.createSortIndicator(!0));const{eSortIndicator:r,eSortOrder:i,eSortAsc:s,eSortDesc:o,eSortMixed:a,eSortNone:l}=this;r.attachCustomElements(i,s,o,a,l)}this.eSortIndicator.setupSort(n),this.currentSort&&e.setupHeader(this,n,this.eLabel)}setupFilterIcon(){const{eFilter:e,params:t}=this;if(!e)return;const n=()=>{const r=t.column.isFilterActive();Wt(e,r,{skipAriaHidden:!0})};this.configureFilter(t.enableFilterIcon,e,n,"filterActive")}setupFilterButton(){const{eFilterButton:e,params:t}=this;if(!e)return;this.configureFilter(t.enableFilterButton,e,this.onFilterChangedButton.bind(this),"filter")?this.addManagedElementListeners(e,{click:()=>t.showFilter(e)}):this.eFilterButton=void 0}configureFilter(e,t,n,r){if(!e)return Es(t),!1;const i=this.params.column;return this.addInIcon(r,t,i),this.addManagedListeners(i,{filterChanged:n}),n(),!0}onFilterChangedButton(){const e=this.params.column.isFilterActive();this.eFilterButton.classList.toggle("ag-filter-active",e)}getAnchorElementForMenu(e){const{eFilterButton:t,eMenu:n}=this;return e?t??n??this.getGui():n??t??this.getGui()}destroy(){super.destroy(),this.innerHeaderComponent&&(this.destroyBean(this.innerHeaderComponent),this.innerHeaderComponent=void 0)}},ume={tag:"div",cls:"ag-header-group-cell-label",role:"presentation",children:[{tag:"span",ref:"agLabel",cls:"ag-header-group-text",role:"presentation"},{tag:"span",ref:"agOpened",cls:"ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"},{tag:"span",ref:"agClosed",cls:"ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"}]},dme=class extends yt{constructor(){super(ume),this.agOpened=Ee,this.agClosed=Ee,this.agLabel=Ee,this.isLoadingInnerComponent=!1}init(e){const{userCompFactory:t,touchSvc:n}=this.beans;this.params=e,this.checkWarnings(),this.workOutInnerHeaderGroupComponent(t,e),this.setupLabel(e),this.addGroupExpandIcon(e),this.setupExpandIcons(),n?.setupForHeaderGroup(this)}checkWarnings(){this.params.template&&ve(89)}workOutInnerHeaderGroupComponent(e,t){const n=jle(e,t,t);n&&(this.isLoadingInnerComponent=!0,n.newAgStackInstance().then(r=>{this.isLoadingInnerComponent=!1,r&&(this.isAlive()?(this.innerHeaderGroupComponent=r,this.agLabel.appendChild(r.getGui())):this.destroyBean(r))}))}setupExpandIcons(){const{agOpened:e,agClosed:t,params:{columnGroup:n},beans:r}=this;this.addInIcon("columnGroupOpened",e),this.addInIcon("columnGroupClosed",t);const i=l=>{if(Ks(l))return;const c=!n.isExpanded();r.colGroupSvc.setColumnGroupOpened(n.getProvidedColumnGroup(),c,"uiColumnExpanded")};this.addTouchAndClickListeners(r,t,i),this.addTouchAndClickListeners(r,e,i);const s=l=>{Mc(l)};this.addManagedElementListeners(t,{dblclick:s}),this.addManagedElementListeners(e,{dblclick:s}),this.addManagedElementListeners(this.getGui(),{dblclick:i}),this.updateIconVisibility();const o=n.getProvidedColumnGroup(),a=this.updateIconVisibility.bind(this);this.addManagedListeners(o,{expandedChanged:a,expandableChanged:a})}addTouchAndClickListeners(e,t,n){e.touchSvc?.setupForHeaderGroupElement(this,t,n),this.addManagedElementListeners(t,{click:n})}updateIconVisibility(){const{agOpened:e,agClosed:t,params:{columnGroup:n}}=this;if(n.isExpandable()){const r=n.isExpanded();Wt(e,r),Wt(t,!r)}else Wt(e,!1),Wt(t,!1)}addInIcon(e,t){const n=$i(e,this.beans,null);n&&t.appendChild(n)}addGroupExpandIcon(e){if(!e.columnGroup.isExpandable()){const{agOpened:t,agClosed:n}=this;Wt(t,!1),Wt(n,!1)}}setupLabel(e){const{displayName:t,columnGroup:n}=e,r=this.innerHeaderGroupComponent||this.isLoadingInnerComponent;De(t)&&!r&&(this.agLabel.textContent=vd(t)),this.toggleCss("ag-sticky-label",!n.getColGroupDef()?.suppressStickyLabel)}destroy(){super.destroy(),this.innerHeaderGroupComponent&&(this.destroyBean(this.innerHeaderGroupComponent),this.innerHeaderGroupComponent=void 0)}},hme={moduleName:"ColumnHeaderComp",version:Re,userComponents:{agColumnHeader:cme},icons:{menu:"menu",menuAlt:"menu-alt"}},fme={moduleName:"ColumnGroupHeaderComp",version:Re,userComponents:{agColumnGroupHeader:dme},icons:{columnGroupOpened:"expanded",columnGroupClosed:"contracted"}},pme=class extends le{constructor(){super(...arguments),this.beanName="animationFrameSvc",this.p1={list:[],sorted:!1},this.p2={list:[],sorted:!1},this.f1={list:[],sorted:!1},this.destroyTasks=[],this.ticking=!1,this.scrollGoingDown=!0,this.lastScrollTop=0,this.taskCount=0}setScrollTop(e){this.scrollGoingDown=e>=this.lastScrollTop,e===0&&(this.scrollGoingDown=!0),this.lastScrollTop=e}postConstruct(){this.active=!this.gos.get("suppressAnimationFrame"),this.batchFrameworkComps=this.beans.frameworkOverrides.batchFrameworkComps}verify(){this.active===!1&&ve(92)}createTask(e,t,n,r,i=!1){this.verify();let s=n;r&&this.batchFrameworkComps&&(s="f1");const o={task:e,index:t,createOrder:++this.taskCount,deferred:i};this.addTaskToList(this[s],o),this.schedule()}addTaskToList(e,t){e.list.push(t),e.sorted=!1}sortTaskList(e){if(e.sorted)return;const t=this.scrollGoingDown?1:-1;e.list.sort((n,r)=>n.deferred!==r.deferred?n.deferred?-1:1:n.index!==r.index?t*(r.index-n.index):r.createOrder-n.createOrder),e.sorted=!0}addDestroyTask(e){this.verify(),this.destroyTasks.push(e),this.schedule()}executeFrame(e){const{p1:t,p2:n,f1:r,destroyTasks:i,beans:s}=this,{ctrlsSvc:o,frameworkOverrides:a}=s,l=t.list,c=n.list,d=r.list,f=Date.now();let p=0;const v=e<=0,y=o.getScrollFeature();for(;v||p<e;){if(!y.scrollGridIfNeeded()){let x;if(l.length)this.sortTaskList(t),x=l.pop().task;else if(c.length)this.sortTaskList(n),x=c.pop().task;else if(d.length)a.wrapOutgoing(()=>{for(;(v||p<e)&&!y.scrollGridIfNeeded();){if(d.length)this.sortTaskList(r),x=d.pop().task,x();else break;p=Date.now()-f}}),x=()=>{};else if(i.length)x=i.pop();else break;x()}p=Date.now()-f}l.length||c.length||d.length||i.length?this.requestFrame():this.ticking=!1}flushAllFrames(){this.active&&this.executeFrame(-1)}schedule(){this.active&&(this.ticking||(this.ticking=!0,this.requestFrame()))}requestFrame(){const e=this.executeFrame.bind(this,60);ul(this.beans,e)}isQueueEmpty(){return!this.ticking}},gme={moduleName:"AnimationFrame",version:Re,beans:[pme]},mme=class extends le{constructor(){super(...arguments),this.beanName="iconSvc"}createIconNoSpan(e,t){return $i(e,this.beans,t?.column)}},vme=class extends le{constructor(){super(...arguments),this.beanName="touchSvc"}mockBodyContextMenu(e,t){this.mockContextMenu(e,e.eBodyViewport,t)}mockHeaderContextMenu(e,t){this.mockContextMenu(e,e.eGui,t)}mockRowContextMenu(e){if(!ju())return;const t=(n,r,i)=>{const{rowCtrl:s,cellCtrl:o}=e.getControlsForEventTarget(i?.target??null);o?.column&&o.dispatchCellContextMenuEvent(i??null),this.beans.contextMenuSvc?.handleContextMenuMouseEvent(void 0,i,s,o)};this.mockContextMenu(e,e.element,t)}handleCellDoubleClick(e,t){return(()=>{if(!ju()||iV("dblclick"))return!1;const r=Date.now(),i=r-e.lastIPadMouseClickEvent<200;return e.lastIPadMouseClickEvent=r,i})()?(e.onCellDoubleClicked(t),t.preventDefault(),!0):!1}setupForHeader(e){const{gos:t,sortSvc:n,menuSvc:r}=this.beans;if(t.get("suppressTouch"))return;const{params:i,eMenu:s,eFilterButton:o}=e,a=new fu(e.getGui(),!0);e.addDestroyFunc(()=>a.destroy());const l=e.shouldSuppressMenuHide(),c=l&&De(s)&&i.enableMenu;let d=a;if(c&&(d=new fu(s,!0),e.addDestroyFunc(()=>d.destroy())),i.enableMenu||r?.isHeaderContextMenuEnabled(i.column)){const f=c?"tap":"longTap",p=v=>i.showColumnMenuAfterMouseClick(v.touchStart);e.addManagedListeners(d,{[f]:p}),e.addManagedListeners(a,{longTap:p})}if(i.enableSorting){const f=p=>{const v=p.touchStart.target;l&&(s?.contains(v)||o?.contains(v))||n?.progressSort(i.column,!1,"uiColumnSorted")};e.addManagedListeners(a,{tap:f})}if(i.enableFilterButton&&o){const f=new fu(o,!0);e.addManagedListeners(f,{tap:()=>i.showFilter(o)}),e.addDestroyFunc(()=>f.destroy())}}setupForHeaderGroup(e){const t=e.params;if(this.beans.menuSvc?.isHeaderContextMenuEnabled(t.columnGroup.getProvidedColumnGroup())){const n=new fu(t.eGridHeader,!0),r=i=>t.showColumnMenuAfterMouseClick(i.touchStart);e.addManagedListeners(n,{longTap:r}),e.addDestroyFunc(()=>n.destroy())}}setupForHeaderGroupElement(e,t,n){const r=new fu(t,!0);e.addManagedListeners(r,{tap:n}),e.addDestroyFunc(()=>r.destroy())}mockContextMenu(e,t,n){if(!ju())return;const r=new fu(t),i=s=>{nm(this.beans,s.touchEvent)&&n(void 0,s.touchStart,s.touchEvent)};e.addManagedListeners(r,{longTap:i}),e.addDestroyFunc(()=>r.destroy())}},yme={moduleName:"Touch",version:Re,beans:[vme]},wme=class extends le{constructor(){super(...arguments),this.beanName="cellNavigation"}wireBeans(e){this.rowSpanSvc=e.rowSpanSvc}getNextCellToFocus(e,t,n=!1){return n?this.getNextCellToFocusWithCtrlPressed(e,t):this.getNextCellToFocusWithoutCtrlPressed(e,t)}getNextCellToFocusWithCtrlPressed(e,t){const n=e===re.UP,r=e===re.DOWN,i=e===re.LEFT;let s,o;const{pageBounds:a,gos:l,visibleCols:c,pinnedRowModel:d}=this.beans,{rowPinned:f}=t;if(n||r)f&&d?n?o=0:o=f==="top"?d.getPinnedTopRowCount()-1:d.getPinnedBottomRowCount()-1:o=n?a.getFirstRow():a.getLastRow(),s=t.column;else{const p=l.get("enableRtl");o=t.rowIndex,s=(i!==p?c.allCols:[...c.allCols].reverse()).find(y=>this.isCellGoodToFocusOn({rowIndex:o,rowPinned:null,column:y}))}return s?{rowIndex:o,rowPinned:f,column:s}:null}getNextCellToFocusWithoutCtrlPressed(e,t){let n=t,r=!1;for(;!r;){switch(e){case re.UP:n=this.getCellAbove(n);break;case re.DOWN:n=this.getCellBelow(n);break;case re.RIGHT:n=this.gos.get("enableRtl")?this.getCellToLeft(n):this.getCellToRight(n);break;case re.LEFT:n=this.gos.get("enableRtl")?this.getCellToRight(n):this.getCellToLeft(n);break;default:n=null,ve(8,{key:e});break}n?r=this.isCellGoodToFocusOn(n):r=!0}return n}isCellGoodToFocusOn(e){const t=e.column;let n;const{pinnedRowModel:r,rowModel:i}=this.beans;switch(e.rowPinned){case"top":n=r?.getPinnedTopRow(e.rowIndex);break;case"bottom":n=r?.getPinnedBottomRow(e.rowIndex);break;default:n=i.getRow(e.rowIndex);break}return n?!this.isSuppressNavigable(t,n):!1}getCellToLeft(e){if(!e)return null;const t=this.beans.visibleCols.getColBefore(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getCellToRight(e){if(!e)return null;const t=this.beans.visibleCols.getColAfter(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getCellBelow(e){if(!e)return null;const t=this.rowSpanSvc?.getCellEnd(e)??e,n=o_(this.beans,t,!0);return n?{rowIndex:n.rowIndex,column:e.column,rowPinned:n.rowPinned}:null}getCellAbove(e){if(!e)return null;const t=this.rowSpanSvc?.getCellStart(e)??e,n=Yw(this.beans,{rowIndex:t.rowIndex,rowPinned:t.rowPinned},!0);return n?{rowIndex:n.rowIndex,column:e.column,rowPinned:n.rowPinned}:null}getNextTabbedCell(e,t){return t?this.getNextTabbedCellBackwards(e):this.getNextTabbedCellForwards(e)}getNextTabbedCellForwards(e){const{visibleCols:t,pagination:n}=this.beans,r=t.allCols;let i=e.rowIndex,s=e.rowPinned,o=t.getColAfter(e.column);if(!o){o=r[0];const a=o_(this.beans,e,!0);if(Kt(a)||!a.rowPinned&&!(n?.isRowInPage(a.rowIndex)??!0))return null;i=a?a.rowIndex:null,s=a?a.rowPinned:null}return{rowIndex:i,column:o,rowPinned:s}}getNextTabbedCellBackwards(e){const{beans:t}=this,{visibleCols:n,pagination:r}=t,i=n.allCols;let s=e.rowIndex,o=e.rowPinned,a=n.getColBefore(e.column);if(!a){a=Ft(i);const l=Yw(t,{rowIndex:e.rowIndex,rowPinned:e.rowPinned},!0);if(Kt(l)||!l.rowPinned&&!(r?.isRowInPage(l.rowIndex)??!0))return null;s=l?l.rowIndex:null,o=l?l.rowPinned:null}return{rowIndex:s,column:a,rowPinned:o}}isSuppressNavigable(e,t){const{suppressNavigable:n}=e.colDef;if(typeof n=="boolean")return n;if(typeof n=="function"){const r=e.createColumnFunctionCallbackParams(t);return n(r)}return!1}};function bme(e){return e.focusSvc.getFocusedCell()}function Cme(e){return e.focusSvc.clearFocusedCell()}function xme(e,t,n,r){e.focusSvc.setFocusedCell({rowIndex:t,column:n,rowPinned:r,forceBrowserFocus:!0})}function Sme(e,t){return e.navigation?.tabToNextCell(!1,t)??!1}function Eme(e,t){return e.navigation?.tabToNextCell(!0,t)??!1}function Dme(e,t,n=!1){const r=e.headerNavigation?.getHeaderPositionForColumn(t,n);r&&e.focusSvc.focusHeaderPosition({headerPosition:r})}var Rme=class extends le{constructor(){super(...arguments),this.beanName="editModelSvc",this.edits=new Map,this.cellValidations=new yW,this.rowValidations=new wW,this.suspendEdits=!1}suspend(e){this.suspendEdits=e}removeEdits({rowNode:e,column:t}){if(!this.hasEdits({rowNode:e})||!e)return;const n=this.getEditRow(e);t?n.delete(t):n.clear(),n.size===0&&this.edits.delete(e)}getEditRow(e,t={}){if(this.suspendEdits||this.edits.size===0)return;const n=e&&this.edits.get(e);if(n)return n;if(t.checkSiblings){const r=e.pinnedSibling;if(r)return this.getEditRow(r)}}getEditRowDataValue(e,{checkSiblings:t}={}){if(!e||this.edits.size===0)return;const n=this.getEditRow(e),r=e.pinnedSibling,i=t&&r&&this.getEditRow(r);if(!n&&!i)return;const s=Object.assign({},e.data),o=(a,l)=>a.forEach(({pendingValue:c},d)=>{c!==ks&&(l[d.getColId()]=c)});return n&&o(n,s),i&&o(i,s),s}getEdit(e,t){const n=this._getEdit(e);return t&&n?{...n}:n}_getEdit(e){if(!this.suspendEdits&&this.edits.size!==0)return e.rowNode&&e.column&&this.getEditRow(e.rowNode)?.get(e.column)}getEditMap(e=!0){if(this.suspendEdits||this.edits.size===0)return new Map;if(!e)return this.edits;const t=new Map;return this.edits.forEach((n,r)=>{const i=new Map;n.forEach(({editorState:s,...o},a)=>i.set(a,{...o})),t.set(r,i)}),t}setEditMap(e){this.edits.clear(),e.forEach((t,n)=>{const r=new Map;t.forEach((i,s)=>r.set(s,{...i})),this.edits.set(n,r)})}setEdit(e,t){(this.edits.size===0||!this.edits.has(e.rowNode))&&this.edits.set(e.rowNode,new Map);const n=this._getEdit(e),r=Object.assign({editorState:{isCancelAfterEnd:void 0,isCancelBeforeStart:void 0},...n,...t});return this.getEditRow(e.rowNode).set(e.column,r),r}clearEditValue(e){const{rowNode:t,column:n}=e;if(t)if(n){const r=this._getEdit(e);r&&(r.editorValue=void 0,r.pendingValue=r.sourceValue,r.state="changed")}else this.getEditRow(t)?.forEach(r=>{r.editorValue=void 0,r.pendingValue=r.sourceValue,r.state="changed"})}getState(e){if(!this.suspendEdits)return this.getEdit(e)?.state}getEditPositions(e){if(this.suspendEdits||(e??this.edits).size===0)return[];const t=[];return(e??this.edits).forEach((n,r)=>{for(const i of n.keys()){const{editorState:s,...o}=n.get(i);t.push({rowNode:r,column:i,...o})}}),t}hasRowEdits(e,t){return this.suspendEdits||this.edits.size===0?!1:!!this.getEditRow(e,t)}hasEdits(e={},t={}){if(this.suspendEdits||this.edits.size===0)return!1;const{rowNode:n,column:r}=e,{withOpenEditor:i}=t;if(n){const s=this.getEditRow(n,t);return s?r?i?this.getEdit(e)?.state==="editing":s.has(r)??!1:s.size!==0?i?Array.from(s.values()).some(({state:o})=>o==="editing"):!0:!1:!1}return i?this.getEditPositions().some(({state:s})=>s==="editing"):this.edits.size>0}start(e){const t=this.getEditRow(e.rowNode)??new Map,{rowNode:n,column:r}=e;r&&!t.has(r)&&t.set(r,{editorValue:void 0,pendingValue:ks,sourceValue:this.beans.valueSvc.getValue(r,n,!1,"api"),state:"editing",editorState:{isCancelAfterEnd:void 0,isCancelBeforeStart:void 0}}),this.edits.set(n,t)}stop(e){this.hasEdits(e)&&(e?this.removeEdits(e):this.clear())}clear(){for(const e of this.edits.values())e.clear();this.edits.clear()}getCellValidationModel(){return this.cellValidations}getRowValidationModel(){return this.rowValidations}setCellValidationModel(e){this.cellValidations=e}setRowValidationModel(e){this.rowValidations=e}destroy(){super.destroy(),this.clear()}},yW=class{constructor(){this.cellValidations=new Map}getCellValidation(e){const{rowNode:t,column:n}=e||{};return this.cellValidations?.get(t)?.get(n)}hasCellValidation(e){return!e?.rowNode||!e.column?this.cellValidations.size>0:!!this.getCellValidation(e)}setCellValidation(e,t){const{rowNode:n,column:r}=e;this.cellValidations.has(n)||this.cellValidations.set(n,new Map),this.cellValidations.get(n).set(r,t)}clearCellValidation(e){const{rowNode:t,column:n}=e;this.cellValidations.get(t)?.delete(n)}setCellValidationMap(e){this.cellValidations=e}getCellValidationMap(){return this.cellValidations}clearCellValidationMap(){this.cellValidations.clear()}},wW=class{constructor(){this.rowValidations=new Map}getRowValidation(e){const{rowNode:t}=e||{};return this.rowValidations.get(t)}hasRowValidation(e){return e?.rowNode?!!this.getRowValidation(e):this.rowValidations.size>0}setRowValidation({rowNode:e},t){this.rowValidations.set(e,t)}clearRowValidation({rowNode:e}){this.rowValidations.delete(e)}setRowValidationMap(e){this.rowValidations=e}getRowValidationMap(){return this.rowValidations}clearRowValidationMap(){this.rowValidations.clear()}};function HA(e,t={}){const{rowIndex:n,rowId:r,rowCtrl:i,rowPinned:s}=t;if(i)return i;const{rowModel:o,rowRenderer:a}=e;let{rowNode:l}=t;return l||(r?l=$he(e,r,s):n!=null&&(l=o.getRow(n))),a.getRowCtrls(l?[l]:[])?.[0]}function an(e,t={}){const{cellCtrl:n,colId:r,columnId:i,column:s}=t;if(n)return n;const o=e.colModel.getCol(r??i??X2(s)),a=t.rowCtrl??HA(e,t),l=a?.getCellCtrl(o)??void 0;if(l)return l;const c=t.rowNode??a?.rowNode;if(c)return e.rowRenderer.getCellCtrls([c],[o])?.[0]}function C_(e){const{editSvc:t}=e;t?.isBatchEditing()?qh(e):t?.stopEditing(void 0,{source:"api"})}function Mme(e,t,n){const{gos:r,popupSvc:i}=t;if(!r.get("stopEditingWhenCellsLoseFocus"))return;const s=o=>{const a=o.relatedTarget;if(I2(a)===null){C_(t);return}let l=n.some(c=>c.contains(a))&&r.isElementInThisInstance(a);l||(l=!!i&&(i.getActivePopups().some(c=>c.contains(a))||i.isElementWithinCustomPopup(a))),l||C_(t)};for(const o of n)e.addManagedElementListeners(o,{focusout:s})}function X2(e){if(e)return typeof e=="string"?e:e.getColId()}var ks=Symbol("unedited");function bW(e,t={}){const n=[],r=e.rowRenderer.getCellCtrls(t.rowNodes,t.columns);for(const i of r){const s=i.comp?.getCellEditor();s&&n.push({ctrl:i,editor:am(s)})}return n}var Tme=(e,t={})=>bW(e,t).map(n=>n.editor);function kme(e,t,n,r,i,s){t.length===0&&n?.rowNode&&n?.column&&lf(e,n,{key:r,event:i,cellStartedEdit:s});const{valueSvc:o,editSvc:a,editModelSvc:l}=e,{rowNode:c,column:d}=n??{};for(const f of t){const{rowNode:p,column:v}=f,y=an(e,f);if(!y){if(p&&v){const x=o.getValue(v,p,void 0,"api"),R=(n?.rowNode===p&&n?.column===v&&r||void 0)??a?.getCellDataValue(f,!1)??o.getValueForDisplay(v,p)?.value??x??ks;l?.setEdit(f,{pendingValue:R,sourceValue:x,state:"editing"})}continue}const b=s&&c===y.rowNode&&y.column===d;lf(e,{rowNode:c,column:y.column},{key:b?r:null,event:b?i:null,cellStartedEdit:b&&s})}}function Ta({pendingValue:e,sourceValue:t}){return e===ks&&(e=t),e!==t}function lf(e,t,n){const r=e.gos.get("enableGroupEdit"),{key:i,event:s,cellStartedEdit:o,silent:a}=n??{},l=an(e,t),c=l?.comp?.getCellEditor(),d=xW(e,t,i,o&&!a),f=e.editModelSvc?.getEdit(t);let p=d.value;if(p===void 0&&(p=f?.sourceValue),e.editModelSvc?.setEdit(t,{editorValue:p,state:"editing"}),c){c.refresh?.(d);return}const v=t.column.getColDef(),y=zV(e.userCompFactory,v,d),b=y?.popupFromSelector!=null?y.popupFromSelector:!!v.cellEditorPopup,x=y?.popupPositionFromSelector!=null?y.popupPositionFromSelector:v.cellEditorPopupPosition;if(SW(y.params,s),l){l.editCompDetails=y,l.onEditorAttachedFuncs.push(()=>l.rangeFeature?.unsetComp()),l.comp?.setEditDetails(y,b,x,e.gos.get("reactiveCustomComponents")),l?.rowCtrl?.refreshRow({suppressFlash:!0});const S=e.editModelSvc?.getEdit(t,!0);!a&&!S?.editorState?.cellStartedEditing&&(e.editSvc?.dispatchCellEvent(t,s,"cellEditingStarted",r?{value:p}:{}),e.editModelSvc?.setEdit(t,{editorState:{cellStartedEditing:!0}}))}}function CW(e,t,n){const r={editorValueExists:!1};if(zA(e)&&(t.getValidationErrors?.()?.length??0)>0||n?.isCancelling)return r;if(n?.isStopping){const s=t?.isCancelAfterEnd?.();if(s)return{...r,isCancelAfterEnd:s}}return{editorValue:t.getValue(),editorValueExists:!0}}function xW(e,t,n,r){const{valueSvc:i,gos:s,editSvc:o}=e,a=e.gos.get("enableGroupEdit"),l=an(e,t),c=t.rowNode?.rowIndex??void 0,d=o?.isBatchEditing(),f=e.colModel.getCol(t.column.getId()),{rowNode:p,column:v}=t,y=l.comp?.getCellEditor(),b=o?.getCellDataValue(t,!1),x=b===void 0?y?CW(e,y)?.editorValue:void 0:b,S=x===ks?i.getValueForDisplay(f,p)?.value:x;return _e(s,{value:a?x:S,eventKey:n??null,column:v,colDef:v.getColDef(),rowIndex:c,node:p,data:p.data,cellStartedEdit:r??!1,onKeyDown:l?.onKeyDown.bind(l),stopEditing:M=>{o.stopEditing(t,{source:d?"ui":"api",suppressNavigateAfterEdit:M}),Qw(e,t)},eGridCell:l?.eGui,parseValue:M=>i.parseValue(f,p,M,l?.value),formatValue:l?.formatValue.bind(l),validate:()=>{o?.validateEdit()}})}function J2(e,t){const{editModelSvc:n}=e;n?.getEditMap().forEach((r,i)=>{r.forEach((s,o)=>{!t&&(s.state==="editing"||s.pendingValue===ks)||!Ta(s)&&(s.state!=="editing"||t)&&n?.removeEdits({rowNode:i,column:o})})})}function Ame(e,t){const n=t.comp?.getCellEditor();if(!n?.refresh)return;const{eventKey:r,cellStartedEdit:i}=t.editCompDetails.params,{column:s}=t,o=xW(e,t,r,i),a=s.getColDef(),l=zV(e.userCompFactory,a,o);n.refresh(SW(l.params,r))}function SW(e,t){return t instanceof KeyboardEvent&&e.column.getColDef().cellEditor==="agNumberCellEditor"?e.suppressPreventDefault=["-","+",".","e"].includes(t?.key??"")||e.suppressPreventDefault:t?.preventDefault?.(),e}function Su(e,t){for(const n of e.editModelSvc?.getEditPositions()??[]){const r=an(e,n);if(!r)continue;const i=r.comp?.getCellEditor();if(!i)continue;const{editorValue:s,editorValueExists:o,isCancelAfterEnd:a}=CW(e,i,t);a&&e.editModelSvc?.setEdit(n,{editorState:{isCancelAfterEnd:a}}),aw(e,n,s,void 0,!o,t)}}function aw(e,t,n,r,i,s){const{editModelSvc:o,valueSvc:a}=e;if(!o)return;const{rowNode:l,column:c}=t;if(!(l&&c))return;let d=o.getEdit(t,!0);d?.sourceValue||(d=o.setEdit(t,{sourceValue:a.getValue(c,l,void 0,"api"),pendingValue:d?d.editorValue:ks})),o.setEdit(t,{editorValue:i?d.sourceValue:n}),s?.persist&&Pme(e,t)}function Pme(e,t){const{editModelSvc:n}=e,r=n?.getEdit(t,!0);n?.setEdit(t,{pendingValue:r?.editorValue})}function qh(e,t,n){t||(t=e.editModelSvc?.getEditPositions());for(const r of t??[])Qw(e,r,n)}function Qw(e,t,n){const r=e.gos.get("enableGroupEdit"),{editModelSvc:i}=e,s=an(e,t),o=i?.getEdit(t,!0);if(!s){o&&i?.setEdit(t,{state:"changed"});return}const{comp:a}=s;if(a&&!a.getCellEditor()){if(s?.refreshCell(),o){i?.setEdit(t,{state:"changed"});const c=r?x_(n,o):{valueChanged:!1,newValue:void 0,oldValue:o.sourceValue};S_(e,t,c,n)}return}if(zA(e)){const c=a?.getCellEditor()?.getValidationErrors?.(),d=i?.getCellValidationModel();c?.length?d?.setCellValidation(t,{errorMessages:c}):d?.clearCellValidation(t)}i?.setEdit(t,{state:"changed"}),a?.setEditDetails(),a?.refreshEditStyles(!1,!1),s?.refreshCell({force:!0,suppressFlash:!0});const l=i?.getEdit(t);if(l&&l.state==="changed"){const c=r?x_(n,l):{valueChanged:Ta(l)&&!n?.cancel,newValue:n?.cancel||l.editorState.isCancelAfterEnd?void 0:l?.editorValue??o?.pendingValue,oldValue:l?.sourceValue};S_(e,t,c,n)}}function x_(e,t){return e?.cancel?{valueChanged:!1,oldValue:t.sourceValue,newValue:void 0,value:t.sourceValue}:{valueChanged:!1,oldValue:t.sourceValue,newValue:t.pendingValue,value:t.sourceValue}}function S_(e,t,n,{silent:r,event:i}={}){const{editSvc:s,editModelSvc:o}=e,a=o?.getEdit(t),{editorState:l}=a||{},{isCancelBeforeStart:c}=l||{};!r&&!c&&(s?.dispatchCellEvent(t,i,"cellEditingStopped",n),o?.setEdit(t,{editorState:{cellStoppedEditing:!0}}))}function zA(e){const{gos:t,colModel:n}=e,r=!!t.get("getFullRowEditValidationErrors"),i=n.getColumnDefs()?.filter(o=>o.editable).some(({cellEditorParams:o})=>{const{minLength:a,maxLength:l,getValidationErrors:c,min:d,max:f}=o||{};return a!==void 0||l!==void 0||c!==void 0||d!==void 0||f!==void 0}),s=e.gridApi.getCellEditorInstances().some(o=>o.getValidationElement||o.getValidationErrors);return i||r||s}function nd(e,t){if(!(t||zA(e)))return;const n=bW(e),r=new yW,{ariaAnnounce:i,localeSvc:s,editModelSvc:o,gos:a}=e,l=a.get("editType")==="fullRow",d=oV(s)("ariaValidationErrorPrefix","Cell Editor Validation");for(const p of n){const{ctrl:v,editor:y}=p,{rowNode:b,column:x}=v,S=y.getValidationErrors?.()??[],M=y.getValidationElement?.(!1)||!y.isPopup?.()&&v.eGui;if(M){const R=S!=null&&S.length>0,T=R?S.join(". "):"";Foe(M,R),R&&i.announceValue(`${d} ${S}`,"editorValidation"),M instanceof HTMLInputElement?M.setCustomValidity(T):M.classList.toggle("invalid",R)}S?.length>0&&r.setCellValidation({rowNode:b,column:x},{errorMessages:S})}Su(e,{persist:!1}),o?.setCellValidationModel(r);const f=new Set;for(const{ctrl:p}of n)f.add(p.rowCtrl);if(l){const p=Nme(e);o?.setRowValidationModel(p)}for(const p of f.values()){p.rowEditStyleFeature?.applyRowStyles();for(const v of p.getAllCellCtrls())v.tooltipFeature?.refreshTooltip(!0),v.editorTooltipFeature?.refreshTooltip(!0),v.editStyleFeature?.applyCellStyles?.()}}var Nme=e=>{const t=new wW,n=e.gos.get("getFullRowEditValidationErrors"),r=e.editModelSvc?.getEditMap();if(!r)return t;for(const i of r.keys()){const s=r.get(i);if(!s)continue;const o=[],{rowIndex:a,rowPinned:l}=i;for(const d of s.keys()){const f=s.get(d);if(!f)continue;const{editorValue:p,pendingValue:v,sourceValue:y}=f,b=p??(v===ks?void 0:v)??y;o.push({column:d,colId:d.getColId(),rowIndex:a,rowPinned:l,oldValue:y,newValue:b})}const c=n?.({editorsState:o})??[];c.length>0&&t.setRowValidation({rowNode:i},{errorMessages:c})}return t};function Ome(e){nd(e,!0);const t=e.editModelSvc?.getCellValidationModel().getCellValidationMap();if(!t)return null;const n=[];return t.forEach((r,i)=>{r.forEach(({errorMessages:s},o)=>{n.push({column:o,rowIndex:i.rowIndex,rowPinned:i.rowPinned,messages:s??null})})}),n}function Fme(e,t,n,{rowNode:r,column:i},s){return _e(e.gos,{type:n,node:r,data:r.data,value:s,column:i,colDef:i.getColDef(),rowPinned:r.rowPinned,event:t,rowIndex:r.rowIndex})}function Ime(e,t=!1){return e===re.DELETE?!0:!t&&e===re.BACKSPACE?WV():!1}var Lme=class extends le{constructor(e,t,n,r){super(),this.cellCtrl=e,this.rowNode=n,this.rowCtrl=r,this.beans=t}init(){this.eGui=this.cellCtrl.eGui}onKeyDown(e){const t=e.key;switch(t){case re.ENTER:this.onEnterKeyDown(e);break;case re.F2:this.onF2KeyDown(e);break;case re.ESCAPE:this.onEscapeKeyDown(e);break;case re.TAB:this.onTabKeyDown(e);break;case re.BACKSPACE:case re.DELETE:this.onBackspaceOrDeleteKeyDown(t,e);break;case re.DOWN:case re.UP:case re.RIGHT:case re.LEFT:this.onNavigationKeyDown(e,t);break}}onNavigationKeyDown(e,t){const{cellCtrl:n,beans:r}=this;if(!r.editSvc?.isEditing(n,{withOpenEditor:!0})){if(e.shiftKey&&n.isRangeSelectionEnabled())this.onShiftRangeSelect(e);else{const i=n.getFocusedCellPosition();r.navigation?.navigateToNextCell(e,t,i,!0)}e.preventDefault()}}onShiftRangeSelect(e){const{rangeSvc:t,navigation:n}=this.beans;if(!t)return;const r=t.extendLatestRangeInDirection(e);r&&(e.key===re.LEFT||e.key===re.RIGHT?n?.ensureColumnVisible(r.column):n?.ensureRowVisible(r.rowIndex))}onTabKeyDown(e){this.beans.navigation?.onTabKeyDown(this.cellCtrl,e)}onBackspaceOrDeleteKeyDown(e,t){const{cellCtrl:n,beans:r,rowNode:i}=this,{gos:s,rangeSvc:o,eventSvc:a,editSvc:l}=r;if(a.dispatchEvent({type:"keyShortcutChangedCellStart"}),Ime(e,s.get("enableCellEditingOnBackspace"))&&!l?.isEditing(n,{withOpenEditor:!0})){if(o&&Qa(s))o.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:"deleteKey"});else if(n.isCellEditable()){const{column:c}=n,d=this.beans.valueSvc.getDeleteValue(c,i);i.setDataValue(c,d,"cellClear")}}else l?.isEditing(n,{withOpenEditor:!0})||r.editSvc?.startEditing(n,{startedEdit:!0,event:t});a.dispatchEvent({type:"keyShortcutChangedCellEnd"})}onEnterKeyDown(e){const{cellCtrl:t,beans:n}=this,{editSvc:r,navigation:i}=n,s=r?.isEditing(t,{withOpenEditor:!0}),o=t.rowNode,a=r?.isRowEditing(o,{withOpenEditor:!0}),l=c=>{r?.startEditing(c,{startedEdit:!0,event:e,source:"edit"})&&e.preventDefault()};if(s||a){if(this.isCtrlEnter(e)){r?.applyBulkEdit(t,n?.rangeSvc?.getCellRanges()||[]);return}if(nd(n),r?.checkNavWithValidation(void 0,e)==="block-stop")return;r?.isEditing(t,{withOpenEditor:!0})?r?.stopEditing(t,{event:e,source:"edit"}):a&&!t.isCellEditable()?r?.stopEditing({rowNode:o},{event:e,source:"edit"}):l(t)}else if(n.gos.get("enterNavigatesVertically")){const c=e.shiftKey?re.UP:re.DOWN;i?.navigateToNextCell(null,c,t.cellPosition,!1)}else{if(r?.hasValidationErrors())return;r?.hasValidationErrors(t)&&r.revertSingleCellEdit(t,!0),l(t)}}isCtrlEnter(e){return(e.ctrlKey||e.metaKey)&&e.key===re.ENTER}onF2KeyDown(e){const{cellCtrl:t,beans:{editSvc:n}}=this;n?.isEditing()&&(nd(this.beans),n?.checkNavWithValidation(void 0,e)==="block-stop")||n?.startEditing(t,{startedEdit:!0,event:e})}onEscapeKeyDown(e){const{cellCtrl:t,beans:{editSvc:n}}=this;n?.checkNavWithValidation(t,e)==="block-stop"&&n.revertSingleCellEdit(t),n?.stopEditing(t,{event:e,cancel:!0})}processCharacter(e){const n=e.target!==this.eGui,{beans:{editSvc:r},cellCtrl:i}=this;if(n||r?.isEditing(i,{withOpenEditor:!0}))return;if(e.key===re.SPACE)this.onSpaceKeyDown(e);else if(r?.isCellEditable(i,"ui")){if(r?.hasValidationErrors()&&!r?.hasValidationErrors(i))return;r?.startEditing(i,{startedEdit:!0,event:e,source:"api"}),!i.editCompDetails?.params?.suppressPreventDefault&&e.preventDefault()}}onSpaceKeyDown(e){const{gos:t,editSvc:n}=this.beans,{rowNode:r}=this.cellCtrl;!n?.isEditing(this.cellCtrl,{withOpenEditor:!0})&&gc(t)&&this.beans.selectionSvc?.handleSelectionEvent(e,r,"spaceKey"),e.preventDefault()}},_me=class extends le{constructor(e,t,n){super(),this.cellCtrl=e,this.column=n,this.beans=t}onMouseEvent(e,t){if(!Ks(t))switch(e){case"click":this.onCellClicked(t);break;case"mousedown":case"touchstart":this.onMouseDown(t);break;case"dblclick":this.onCellDoubleClicked(t);break;case"mouseout":this.onMouseOut(t);break;case"mouseover":this.onMouseOver(t);break}}onCellClicked(e){if(this.beans.touchSvc?.handleCellDoubleClick(this,e))return;const{eventSvc:t,rangeSvc:n,editSvc:r,editModelSvc:i,frameworkOverrides:s,gos:o}=this.beans,a=e.ctrlKey||e.metaKey,{cellCtrl:l}=this,{column:c,cellPosition:d,rowNode:f}=l,p=rw(o,c,f,e);n&&a&&!p&&n.getCellRangeCount(d)>1&&n.intersectLastRange(!0);const v=l.createEvent(e,"cellClicked");v.isEventHandlingSuppressed=p,t.dispatchEvent(v);const y=c.getColDef();if(y.onCellClicked&&window.setTimeout(()=>{s.wrapOutgoing(()=>{y.onCellClicked(v)})},0),!p&&i?.getState(l)!=="editing"){const b=r?.isEditing(),x=i?.getCellValidationModel().getCellValidationMap().size??0,S=i?.getRowValidationModel().getRowValidationMap().size??0;if(b&&(x>0||S>0))return;r?.shouldStartEditing(l,e)?r?.startEditing(l,{event:e}):r?.shouldStopEditing(l,e)&&(this.beans.gos.get("editType")==="fullRow"?r?.stopEditing(l,{event:e,source:"edit"}):r?.stopEditing(void 0,{event:e,source:"edit"}))}}onCellDoubleClicked(e){const{column:t,beans:n,cellCtrl:r}=this,{eventSvc:i,frameworkOverrides:s,editSvc:o,editModelSvc:a,gos:l}=n,c=rw(l,r.column,r.rowNode,e),d=t.getColDef(),f=r.createEvent(e,"cellDoubleClicked");if(f.isEventHandlingSuppressed=c,i.dispatchEvent(f),typeof d.onCellDoubleClicked=="function"&&window.setTimeout(()=>{s.wrapOutgoing(()=>{d.onCellDoubleClicked(f)})},0),!c&&o?.shouldStartEditing(r,e)&&a?.getState(r)!=="editing"){const p=o?.isEditing(),v=a?.getCellValidationModel().getCellValidationMap().size??0,y=a?.getRowValidationModel().getRowValidationMap().size??0;if(p&&(v>0||y>0))return;o?.startEditing(r,{event:e})}}onMouseDown(e){const{ctrlKey:t,metaKey:n,shiftKey:r}=e,i=e.target,{cellCtrl:s,beans:o}=this,{eventSvc:a,rangeSvc:l,rowNumbersSvc:c,focusSvc:d,gos:f,editSvc:p}=o,{column:v,rowNode:y,cellPosition:b}=s,x=rw(f,v,y,e),S=()=>{const k=s.createEvent(e,"cellMouseDown");k.isEventHandlingSuppressed=x,a.dispatchEvent(k)};if(x){S();return}if(this.isRightClickInExistingRange(e))return;const M=l&&!l.isEmpty(),R=this.containsWidget(i),T=Ia(v);if(c&&T&&!c.handleMouseDownOnCell(b,e)){l&&e.preventDefault(),e.stopImmediatePropagation();return}if(!r||!M){const k=p?.isEditing(s),A=f.get("enableCellTextSelection")&&e.defaultPrevented,O=(_c()||A)&&!k&&!Tg(i)&&!R;s.focusCell(O,e)}if(r&&M&&!d.isCellFocused(b)){e.preventDefault();const k=d.getFocusedCell();if(k){const{column:P,rowIndex:A,rowPinned:O}=k;p?.isEditing(k)&&p?.stopEditing(k),d.setFocusedCell({column:P,rowIndex:A,rowPinned:O,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,sourceEvent:e})}}if(!R){if(l){T&&e.preventDefault();const k=k4(o,e)&&T;if(r)l.extendLatestRangeToCell(b);else if(!k){const P=t||n;l.setRangeToCell(b,P)}}S()}}isRightClickInExistingRange(e){const{rangeSvc:t}=this.beans;if(t){const n=t.isCellInAnyRange(this.cellCtrl.cellPosition),r=k4(this.beans,e);if(n&&r)return!0}return!1}containsWidget(e){return Fu(e,"ag-selection-checkbox",3)||Fu(e,"ag-drag-handle",3)}onMouseOut(e){if(this.mouseStayingInsideCell(e))return;const{eventSvc:t,colHover:n}=this.beans;t.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOut")),n?.clearMouseOver()}onMouseOver(e){if(this.mouseStayingInsideCell(e))return;const{eventSvc:t,colHover:n}=this.beans;t.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOver")),n?.setMouseOver([this.column])}mouseStayingInsideCell(e){if(!e.target||!e.relatedTarget)return!1;const t=this.cellCtrl.eGui,n=t.contains(e.target),r=t.contains(e.relatedTarget);return n&&r}},jme=class extends le{constructor(e,t){super(),this.cellCtrl=e,this.beans=t,this.column=e.column,this.rowNode=e.rowNode}setupRowSpan(){this.rowSpan=this.column.getRowSpan(this.rowNode),this.addManagedListeners(this.beans.eventSvc,{newColumnsLoaded:()=>this.onNewColumnsLoaded()})}init(){this.eSetLeft=this.cellCtrl.getRootElement(),this.eContent=this.cellCtrl.eGui;const e=this.cellCtrl.getCellSpan();if(e||(this.setupColSpan(),this.setupRowSpan()),this.onLeftChanged(),this.onWidthChanged(),e||this._legacyApplyRowSpan(),e){const t=this.refreshSpanHeight.bind(this,e);t(),this.addManagedListeners(this.beans.eventSvc,{paginationChanged:t,recalculateRowBounds:t,pinnedHeightChanged:t})}}refreshSpanHeight(e){const t=e.getCellHeight();t!=null&&(this.eContent.style.height=`${t}px`)}onNewColumnsLoaded(){const e=this.column.getRowSpan(this.rowNode);this.rowSpan!==e&&(this.rowSpan=e,this._legacyApplyRowSpan(!0))}onDisplayColumnsChanged(){const e=this.getColSpanningList();Lc(this.colsSpanning,e)||(this.colsSpanning=e,this.onWidthChanged(),this.onLeftChanged())}setupColSpan(){this.column.getColDef().colSpan!=null&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListeners(this.beans.eventSvc,{displayedColumnsChanged:this.onDisplayColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onWidthChanged.bind(this)}))}onWidthChanged(){if(!this.eContent)return;const e=this.getCellWidth();this.eContent.style.width=`${e}px`}getCellWidth(){return this.colsSpanning?this.colsSpanning.reduce((e,t)=>e+t.getActualWidth(),0):this.column.getActualWidth()}getColSpanningList(){const{column:e,rowNode:t}=this,n=e.getColSpan(t),r=[];if(n===1)r.push(e);else{let i=e;const s=e.getPinned();for(let o=0;i&&o<n&&(r.push(i),i=this.beans.visibleCols.getColAfter(i),!(!i||Kt(i)||s!==i.getPinned()));o++);}return r}onLeftChanged(){if(!this.eSetLeft)return;const e=this.modifyLeftForPrintLayout(this.getCellLeft());this.eSetLeft.style.left=e+"px"}getCellLeft(){let e;return this.beans.gos.get("enableRtl")&&this.colsSpanning?e=Ft(this.colsSpanning):e=this.column,e.getLeft()}modifyLeftForPrintLayout(e){if(!this.cellCtrl.printLayout||this.column.getPinned()==="left")return e;const{visibleCols:t}=this.beans,n=t.getColsLeftWidth();if(this.column.getPinned()==="right"){const r=t.bodyWidth;return n+r+(e||0)}return n+(e||0)}_legacyApplyRowSpan(e){if(this.rowSpan===1&&!e)return;const n=Lu(this.beans)*this.rowSpan;this.eContent.style.height=`${n}px`,this.eContent.style.zIndex="1"}destroy(){super.destroy()}},Bme="ag-cell",Hme="ag-cell-auto-height",zme="ag-cell-normal-height",Gme="ag-cell-focus",Vme="ag-cell-first-right-pinned",Wme="ag-cell-last-left-pinned",Ume="ag-cell-not-inline-editing",$me="ag-cell-wrap-text",qme=0,Kh=class extends le{constructor(e,t,n,r){super(),this.column=e,this.rowNode=t,this.rowCtrl=r,this.rangeFeature=void 0,this.rowResizeFeature=void 0,this.positionFeature=void 0,this.customStyleFeature=void 0,this.editStyleFeature=void 0,this.mouseListener=void 0,this.keyboardListener=void 0,this.suppressRefreshCell=!1,this.onCompAttachedFuncs=[],this.onEditorAttachedFuncs=[],this.focusEventWhileNotReady=null,this.hasBeenFocused=!1,this.hasEdit=!1,this.tooltipFeature=void 0,this.editorTooltipFeature=void 0,this.beans=n,this.gos=n.gos,this.editSvc=n.editSvc,this.hasEdit=!!n.editSvc;const{colId:i}=e;this.instanceId=i+"-"+qme++,this.createCellPosition(),this.updateAndFormatValue(!1)}addFeatures(){const{beans:e}=this;this.positionFeature=new jme(this,e),this.customStyleFeature=e.cellStyles?.createCellCustomStyleFeature(this,e),this.editStyleFeature=e.editSvc?.createCellStyleFeature(this,e),this.mouseListener=new _me(this,e,this.column),this.keyboardListener=new Lme(this,e,this.rowNode,this.rowCtrl),this.enableTooltipFeature();const{rangeSvc:t}=e;t&&Qa(e.gos)&&(this.rangeFeature=t.createCellRangeFeature(e,this)),Ia(this.column)&&(this.rowResizeFeature=this.beans.rowNumbersSvc.createRowNumbersRowResizerFeature(e,this))}isCellSpanning(){return!1}getCellSpan(){}removeFeatures(){const e=this.beans.context;this.positionFeature=e.destroyBean(this.positionFeature),this.editorTooltipFeature=e.destroyBean(this.editorTooltipFeature),this.customStyleFeature=e.destroyBean(this.customStyleFeature),this.editStyleFeature=e.destroyBean(this.editStyleFeature),this.mouseListener=e.destroyBean(this.mouseListener),this.keyboardListener=e.destroyBean(this.keyboardListener),this.rangeFeature=e.destroyBean(this.rangeFeature),this.rowResizeFeature=e.destroyBean(this.rowResizeFeature),this.disableTooltipFeature()}enableTooltipFeature(e,t){this.tooltipFeature=this.beans.tooltipSvc?.enableCellTooltipFeature(this,e,t)}disableTooltipFeature(){this.tooltipFeature=this.beans.context.destroyBean(this.tooltipFeature)}enableEditorTooltipFeature(e){this.editorTooltipFeature&&this.disableEditorTooltipFeature(),this.editorTooltipFeature=this.beans.tooltipSvc?.setupCellEditorTooltip(this,e),nd(this.beans)}disableEditorTooltipFeature(){this.editorTooltipFeature=this.beans.context.destroyBean(this.editorTooltipFeature)}setComp(e,t,n,r,i,s,o){if(this.comp=e,this.eGui=t,this.printLayout=i,o??(o=this),this.addDomData(o),this.addFeatures(),o.addDestroyFunc(()=>this.removeFeatures()),this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.setupFocus(),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAutoHeight(r,o),this.refreshFirstAndLastStyles(),this.refreshAriaColIndex(),this.positionFeature?.init(),this.customStyleFeature?.setComp(e),this.editStyleFeature?.setComp(e),this.tooltipFeature?.refreshTooltip(),this.keyboardListener?.init(),this.rangeFeature?.setComp(e),this.rowResizeFeature?.refreshRowResizer(),s&&this.isCellEditable()||this.hasEdit&&this.editSvc?.isEditing(this,{withOpenEditor:!0})?this.editSvc?.startEditing(this,{startedEdit:!1,source:"api",silent:!0,continueEditing:!0}):this.showValue(!1,!0),this.onCompAttachedFuncs.length){for(const a of this.onCompAttachedFuncs)a();this.onCompAttachedFuncs=[]}}setupAutoHeight(e,t){this.isAutoHeight=this.beans.rowAutoHeight?.setupCellAutoHeight(this,e,t)??!1}getCellAriaRole(){return this.column.getColDef().cellAriaRole??"gridcell"}isCellRenderer(){const e=this.column.getColDef();return e.cellRenderer!=null||e.cellRendererSelector!=null}getValueToDisplay(){return this.valueFormatted??this.value}getDeferLoadingCellRenderer(){const{beans:e,column:t}=this,{userCompFactory:n,ctrlsSvc:r,eventSvc:i}=e,s=t.getColDef(),o=this.createCellRendererParams();o.deferRender=!0;const a=F4(n,s,o);if(r.getGridBodyCtrl()?.scrollFeature?.isScrolling()){let l;const c=new vt(f=>{l=f}),[d]=this.addManagedListeners(i,{bodyScrollEnd:()=>{l(),d()}});return{loadingComp:a,onReady:c}}return{loadingComp:a,onReady:vt.resolve()}}showValue(e,t){const{beans:n,column:r,rowNode:i,rangeFeature:s}=this,{userCompFactory:o}=n;let a=this.getValueToDisplay(),l;const c=i.stub&&i.groupData?.[r.getId()]==null,d=r.getColDef();if(c||this.isCellRenderer()){const f=this.createCellRendererParams();!c||Ia(r)?l=Vw(o,d,f):l=F4(o,d,f)}if(!l&&!c&&n.findSvc?.isMatch(i,r)){const f=this.createCellRendererParams();l=Vw(o,{...r.getColDef(),cellRenderer:"agFindCellRenderer"},f)}if(this.hasEdit&&this.editSvc.isBatchEditing()&&this.editSvc.isRowEditing(i,{checkSiblings:!0})){const f=this.editSvc.prepDetailsDuringBatch(this,{compDetails:l,valueToDisplay:a});f&&(f.compDetails?l=f.compDetails:f.valueToDisplay&&(a=f.valueToDisplay))}this.comp.setRenderDetails(l,a,e),this.customRowDragComp?.refreshVisibility(),!t&&s&&ul(n,()=>s?.refreshHandle()),this.rowResizeFeature?.refreshRowResizer()}setupControlComps(){const e=this.column.getColDef();this.includeSelection=this.isIncludeControl(this.isCheckboxSelection(e),!0),this.includeRowDrag=this.isIncludeControl(e.rowDrag),this.includeDndSource=this.isIncludeControl(e.dndSource),this.comp.setIncludeSelection(this.includeSelection),this.comp.setIncludeDndSource(this.includeDndSource),this.comp.setIncludeRowDrag(this.includeRowDrag)}isForceWrapper(){return this.beans.gos.get("enableCellTextSelection")||this.column.isAutoHeight()}getCellValueClass(){const e="ag-cell-value",t=this.column.getColDef().cellRenderer==="agCheckboxCellRenderer";let n="";return t&&(n=" ag-allow-overflow"),`${e}${n}`}isIncludeControl(e,t=!1){return(this.rowNode.rowPinned==null||t&&ev(this.rowNode))&&!!e}isCheckboxSelection(e){const{rowSelection:t,groupDisplayType:n}=this.beans.gridOptions,r=im(t),i=dl(this.column);return n==="custom"&&r!=="selectionColumn"&&i?!1:e.checkboxSelection||i&&typeof t=="object"&&_u(t)}refreshShouldDestroy(){const e=this.column.getColDef(),t=this.includeSelection!=this.isIncludeControl(this.isCheckboxSelection(e),!0),n=this.includeRowDrag!=this.isIncludeControl(e.rowDrag),r=this.includeDndSource!=this.isIncludeControl(e.dndSource),i=this.isAutoHeight!=this.column.isAutoHeight();return t||n||r||i}onPopupEditorClosed(){const{editSvc:e}=this.beans;e?.isEditing(this,{withOpenEditor:!0})&&e?.stopEditing(this,{source:e?.isBatchEditing()?"ui":"api"})}stopEditing(e=!1){const{editSvc:t}=this.beans;return t?.stopEditing(this,{cancel:e,source:t?.isBatchEditing()?"ui":"api"})??!1}createCellRendererParams(){const{value:e,valueFormatted:t,column:n,rowNode:r,comp:i,eGui:s,beans:{valueSvc:o,gos:a,editSvc:l}}=this;return _e(a,{value:e,valueFormatted:t,getValue:()=>o.getValueForDisplay(n,r).value,setValue:d=>l?.setDataValue({rowNode:r,column:n},d)||r.setDataValue(n,d),formatValue:this.formatValue.bind(this),data:r.data,node:r,pinned:n.getPinned(),colDef:n.getColDef(),column:n,refreshCell:this.refreshCell.bind(this),eGridCell:s,eParentOfValue:i.getParentOfValue(),registerRowDragger:(d,f,p,v)=>this.registerRowDragger(d,f,v),setTooltip:(d,f)=>{a.assertModuleRegistered("Tooltip",3),this.tooltipFeature&&this.disableTooltipFeature(),this.enableTooltipFeature(d,f),this.tooltipFeature?.refreshTooltip()}})}onCellChanged(e){e.column===this.column&&this.refreshCell({})}refreshOrDestroyCell(e){if(this.refreshShouldDestroy()?this.rowCtrl?.recreateCell(this):this.refreshCell(e),this.hasEdit&&this.editCompDetails){const{editSvc:t,comp:n}=this;!n?.getCellEditor()&&t.isEditing(this,{withOpenEditor:!0})&&t.startEditing(this,{startedEdit:!1,source:"api",silent:!0})}}refreshCell({force:e,suppressFlash:t,newData:n}={}){const{editStyleFeature:r,customStyleFeature:i,rowCtrl:{rowEditStyleFeature:s},beans:{cellFlashSvc:o,filterManager:a},column:l,comp:c,suppressRefreshCell:d,tooltipFeature:f}=this;if(d)return;const{field:p,valueGetter:v,showRowGroup:y,enableCellChangeFlash:b}=l.getColDef(),x=p==null&&v==null&&y==null,S=e||x||n,M=!!c,R=this.updateAndFormatValue(M),T=S||R;if(M){if(T){this.showValue(!!n,!1);const k=a?.isSuppressFlashingCellsBecauseFiltering();!t&&!k&&b&&o?.flashCell(this),r?.applyCellStyles?.(),i?.applyUserStyles(),i?.applyClassesFromColDef(),s?.applyRowStyles()}f?.refreshTooltip(),i?.applyCellClassRules()}}isCellEditable(){return this.column.isCellEditable(this.rowNode)}formatValue(e){return this.callValueFormatter(e)??e}callValueFormatter(e){return this.beans.valueSvc.formatValue(this.column,this.rowNode,e)}updateAndFormatValue(e){const t=this.value,n=this.valueFormatted,{value:r,valueFormatted:i}=this.beans.valueSvc.getValueForDisplay(this.column,this.rowNode,!0);return this.value=r,this.valueFormatted=i,e?!this.valuesAreEqual(t,this.value)||this.valueFormatted!=n:!0}valuesAreEqual(e,t){const n=this.column.getColDef();return n.equals?n.equals(e,t):e===t}addDomData(e){const t=this.eGui;td(this.beans.gos,t,qw,this),e.addDestroyFunc(()=>td(this.beans.gos,t,qw,null))}createEvent(e,t){const{rowNode:n,column:r,value:i,beans:s}=this;return Fme(s,e,t,{rowNode:n,column:r},i)}processCharacter(e){this.keyboardListener?.processCharacter(e)}onKeyDown(e){this.keyboardListener?.onKeyDown(e)}onMouseEvent(e,t){this.mouseListener?.onMouseEvent(e,t)}getColSpanningList(){return this.positionFeature?.getColSpanningList()??[]}onLeftChanged(){this.comp&&this.positionFeature?.onLeftChanged()}onDisplayedColumnsChanged(){this.eGui&&(this.refreshAriaColIndex(),this.refreshFirstAndLastStyles())}refreshFirstAndLastStyles(){const{comp:e,column:t,beans:n}=this;P7(e,t,n.visibleCols)}refreshAriaColIndex(){const e=this.beans.visibleCols.getAriaColIndex(this.column);$G(this.eGui,e)}onWidthChanged(){return this.positionFeature?.onWidthChanged()}getRowPosition(){const{rowIndex:e,rowPinned:t}=this.cellPosition;return{rowIndex:e,rowPinned:t}}updateRangeBordersIfRangeCount(){this.comp&&this.rangeFeature?.updateRangeBordersIfRangeCount()}onCellSelectionChanged(){this.comp&&this.rangeFeature?.onCellSelectionChanged()}isRangeSelectionEnabled(){return this.rangeFeature!=null}focusCell(e=!1,t){const n=this.editSvc?.allowedFocusTargetOnValidation(this);n&&n!==this||this.beans.focusSvc.setFocusedCell({...this.getFocusedCellPosition(),forceBrowserFocus:e,sourceEvent:t})}restoreFocus(e=!1){const{beans:{editSvc:t,focusSvc:n},comp:r}=this;if(!r||t?.isEditing(this)||!this.isCellFocused()||!n.shouldTakeFocus())return;const i=()=>{if(!this.isAlive())return;const s=r.getFocusableElement();this.isCellFocused()&&s.focus({preventScroll:!0})};if(e){setTimeout(i,0);return}i()}onRowIndexChanged(){this.createCellPosition(),this.onCellFocused(),this.restoreFocus(),this.rangeFeature?.onCellSelectionChanged(),this.rowResizeFeature?.refreshRowResizer()}onSuppressCellFocusChanged(e){const t=this.eGui;t&&(Ia(this.column)&&(e=!0),Wi(t,"tabindex",e?void 0:-1))}onFirstRightPinnedChanged(){if(!this.comp)return;const e=this.column.isFirstRightPinned();this.comp.toggleCss(Vme,e)}onLastLeftPinnedChanged(){if(!this.comp)return;const e=this.column.isLastLeftPinned();this.comp.toggleCss(Wme,e)}checkCellFocused(){return this.beans.focusSvc.isCellFocused(this.cellPosition)}isCellFocused(){const e=this.checkCellFocused();return this.hasBeenFocused||(this.hasBeenFocused=e),e}setupFocus(){this.restoreFocus(!0),this.onCellFocused(this.focusEventWhileNotReady??void 0)}onCellFocused(e){const{beans:t}=this;if(gx(t))return;if(!this.comp){e&&(this.focusEventWhileNotReady=e);return}const n=this.isCellFocused(),r=t.editSvc?.isEditing(this)??!1;if(this.comp.toggleCss(Gme,n),n&&e?.forceBrowserFocus){let i=this.comp.getFocusableElement();if(r){const s=Vh(i,null,!0);s.length&&(i=s[0])}i.focus({preventScroll:!!e.preventScrollOnBrowserFocus})}n&&e&&this.rowCtrl.announceDescription()}createCellPosition(){const{rowIndex:e,rowPinned:t}=this.rowNode;this.cellPosition={rowIndex:e,rowPinned:Fa(t),column:this.column}}applyStaticCssClasses(){const{comp:e}=this;e.toggleCss(Bme,!0),e.toggleCss(Ume,!0);const t=this.column.isAutoHeight()==!0;e.toggleCss(Hme,t),e.toggleCss(zme,!t)}onColumnHover(){this.beans.colHover?.onCellColumnHover(this.column,this.comp)}onColDefChanged(){this.comp&&(this.column.isTooltipEnabled()?(this.disableTooltipFeature(),this.enableTooltipFeature()):this.disableTooltipFeature(),this.setWrapText(),this.editSvc?.isEditing(this)?this.editSvc?.handleColDefChanged(this):this.refreshOrDestroyCell({force:!0,suppressFlash:!0}))}setWrapText(){const e=this.column.getColDef().wrapText==!0;this.comp.toggleCss($me,e)}dispatchCellContextMenuEvent(e){const t=this.column.getColDef(),n=this.createEvent(e,"cellContextMenu"),{beans:r}=this;r.eventSvc.dispatchEvent(n),t.onCellContextMenu&&window.setTimeout(()=>{r.frameworkOverrides.wrapOutgoing(()=>{t.onCellContextMenu(n)})},0)}getCellRenderer(){return this.comp?.getCellRenderer()??null}destroy(){this.onCompAttachedFuncs=[],this.onEditorAttachedFuncs=[],this.isCellFocused()&&this.hasBrowserFocus()&&this.beans.focusSvc.attemptToRecoverFocus(),super.destroy()}hasBrowserFocus(){return this.eGui?.contains(sn(this.beans))??!1}createSelectionCheckbox(){const e=this.beans.selectionSvc?.createCheckboxSelectionComponent();if(e)return this.beans.context.createBean(e),e.init({rowNode:this.rowNode,column:this.column}),e}createDndSource(){const e=this.beans.registry.createDynamicBean("dndSourceComp",!1,this.rowNode,this.column,this.eGui);return e&&this.beans.context.createBean(e),e}registerRowDragger(e,t,n){if(this.customRowDragComp){this.customRowDragComp.setDragElement(e,t);return}const r=this.createRowDragComp(e,t,n);r&&(this.customRowDragComp=r,this.addDestroyFunc(()=>{this.beans.context.destroyBean(r),this.customRowDragComp=null}),r.refreshVisibility())}createRowDragComp(e,t,n){const r=this.beans.rowDragSvc?.createRowDragCompForCell(this.rowNode,this.column,()=>this.value,e,t,n);if(r)return this.beans.context.createBean(r),r}cellEditorAttached(){for(const e of this.onEditorAttachedFuncs)e();this.onEditorAttachedFuncs=[]}setFocusedCellPosition(e){}getFocusedCellPosition(){return this.cellPosition}refreshAriaRowIndex(){}getRootElement(){return this.eGui}};function GA(e,t,n,r,i,s){if(n==null&&t==null)return;const o={},a={},l=(c,d)=>{for(const f of c.split(" "))f.trim()!=""&&d(f)};if(n){const c=Object.keys(n);for(let d=0;d<c.length;d++){const f=c[d],p=n[f];let v;typeof p=="string"?v=e?e.evaluate(p,r):!0:typeof p=="function"&&(v=p(r)),l(f,y=>{v?o[y]=!0:a[y]=!0})}}if(t&&s)for(const c of Object.keys(t))l(c,d=>{o[d]||(a[d]=!0)});s&&Object.keys(a).forEach(s),Object.keys(o).forEach(i)}function E_(e){if(e.group)return e.level;const t=e.parent;return t?t.level+1:0}var Kme=class extends le{constructor(){super(...arguments),this.beanName="rowStyleSvc"}processClassesFromGridOptions(e,t){const n=this.gos,r=o=>{if(typeof o=="string")e.push(o);else if(Array.isArray(o))for(const a of o)e.push(a)},i=n.get("rowClass");i&&r(i);const s=n.getCallback("getRowClass");if(s){const o={data:t.data,node:t,rowIndex:t.rowIndex},a=s(o);r(a)}}preProcessRowClassRules(e,t){this.processRowClassRules(t,n=>{e.push(n)},()=>{})}processRowClassRules(e,t,n){const{gos:r,expressionSvc:i}=this.beans,s=_e(r,{data:e.data,node:e,rowIndex:e.rowIndex});GA(i,void 0,r.get("rowClassRules"),s,t,n)}processStylesFromGridOptions(e){const t=this.gos,n=t.get("rowStyle"),r=t.getCallback("getRowStyle");let i;if(r){const s={data:e.data,node:e,rowIndex:e.rowIndex};i=r(s)}if(i||n)return Object.assign({},n,i)}},Yme=0,Xw=class extends le{constructor(e,t,n,r,i){super(),this.rowNode=e,this.useAnimationFrameForCreate=r,this.printLayout=i,this.allRowGuis=[],this.active=!0,this.centerCellCtrls={list:[],map:{}},this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}},this.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.rowDragComps=[],this.lastMouseDownOnDragger=!1,this.emptyStyle={},this.updateColumnListsPending=!1,this.rowId=null,this.businessKey=null,this.beans=t,this.gos=t.gos,this.paginationPage=t.pagination?.getCurrentPage()??0,this.suppressRowTransform=this.gos.get("suppressRowTransform"),this.instanceId=e.id+"-"+Yme++,this.rowId=Mg(e.id),this.initRowBusinessKey(),this.rowFocused=t.focusSvc.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned),this.rowLevel=E_(this.rowNode),this.setRowType(),this.setAnimateFlags(n),this.rowStyles=this.processStylesFromGridOptions(),this.rowEditStyleFeature=t.editSvc?.createRowStyleFeature(this,t),this.addListeners()}initRowBusinessKey(){this.businessKeyForNodeFunc=this.gos.get("getBusinessKeyForNode"),this.updateRowBusinessKey()}updateRowBusinessKey(){if(typeof this.businessKeyForNodeFunc!="function")return;const e=this.businessKeyForNodeFunc(this.rowNode);this.businessKey=Mg(e)}updateGui(e,t){e==="left"?this.leftGui=t:e==="right"?this.rightGui=t:e==="fullWidth"?this.fullWidthGui=t:this.centerGui=t}setComp(e,t,n,r){const{context:i,focusSvc:s}=this.beans;r=Xm(this,i,r);const o={rowComp:e,element:t,containerType:n,compBean:r};this.allRowGuis.push(o),this.updateGui(n,o),this.initialiseRowComp(o);const a=this.rowNode,l=this.rowType==="FullWidthLoading"||a.stub,c=!a.data&&this.beans.rowModel.getType()==="infinite";!l&&!c&&!a.rowPinned&&this.beans.rowRenderer.dispatchFirstDataRenderedEvent();const d=this.fullWidthGui?.element;d&&!this.beans.editSvc?.isEditing(this)&&s.isRowFocused(a.rowIndex,a.rowPinned)&&s.shouldTakeFocus()&&setTimeout(()=>d.focus({preventScroll:!0}),0)}unsetComp(e){this.allRowGuis=this.allRowGuis.filter(t=>t.containerType!==e),this.updateGui(e,void 0)}isCacheable(){return this.rowType==="FullWidthDetail"&&this.gos.get("keepDetailRows")}setCached(e){const t=e?"none":"";for(const n of this.allRowGuis)n.element.style.display=t}initialiseRowComp(e){const t=this.gos;this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.listenOnDomOrder(e),this.onRowHeightChanged(e),this.updateRowIndexes(e),this.setFocusedClasses(e),this.setStylesFromGridOptions(!1,e),gc(t)&&this.rowNode.selectable&&this.onRowSelected(e),this.updateColumnLists(!this.useAnimationFrameForCreate);const n=e.rowComp,r=this.getInitialRowClasses(e.containerType);for(const i of r)n.toggleCss(i,!0);this.executeSlideAndFadeAnimations(e),this.rowNode.group&&Zg(e.element,this.rowNode.expanded==!0),this.setRowCompRowId(n),this.setRowCompRowBusinessKey(n),td(t,e.element,Kw,this),e.compBean.addDestroyFunc(()=>td(t,e.element,Kw,null)),this.useAnimationFrameForCreate?this.beans.animationFrameSvc.createTask(this.addHoverFunctionality.bind(this,e),this.rowNode.rowIndex,"p2",!1):this.addHoverFunctionality(e),this.isFullWidth()&&this.setupFullWidth(e),t.get("rowDragEntireRow")&&this.addRowDraggerToRow(e),this.useAnimationFrameForCreate&&this.beans.animationFrameSvc.addDestroyTask(()=>{this.isAlive()&&e.rowComp.toggleCss("ag-after-created",!0)}),this.executeProcessRowPostCreateFunc()}setRowCompRowBusinessKey(e){this.businessKey!=null&&e.setRowBusinessKey(this.businessKey)}setRowCompRowId(e){const t=Mg(this.rowNode.id);this.rowId=t,t!=null&&e.setRowId(t)}executeSlideAndFadeAnimations(e){const{containerType:t}=e;this.slideInAnimation[t]&&(R2(()=>{this.onTopChanged()}),this.slideInAnimation[t]=!1),this.fadeInAnimation[t]&&(R2(()=>{e.rowComp.toggleCss("ag-opacity-zero",!1)}),this.fadeInAnimation[t]=!1)}addRowDraggerToRow(e){const t=this.beans.rowDragSvc?.createRowDragCompForRow(this.rowNode,e.element);if(!t)return;const n=this.createBean(t,this.beans.context);this.rowDragComps.push(n),e.compBean.addDestroyFunc(()=>{this.rowDragComps=this.rowDragComps.filter(r=>r!==n),this.rowEditStyleFeature=this.destroyBean(this.rowEditStyleFeature,this.beans.context),this.destroyBean(n,this.beans.context)})}setupFullWidth(e){const t=this.getPinnedForContainer(e.containerType),n=this.createFullWidthCompDetails(e.element,t);e.rowComp.showFullWidth(n)}getFullWidthCellRenderers(){return this.gos.get("embedFullWidthRows")?this.allRowGuis.map(e=>e?.rowComp?.getFullWidthCellRenderer()):[this.fullWidthGui?.rowComp?.getFullWidthCellRenderer()]}executeProcessRowPostCreateFunc(){const e=this.gos.getCallback("processRowPostCreate");if(!e||!this.areAllContainersReady())return;const t={eRow:this.centerGui.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)};e(t)}areAllContainersReady(){const{leftGui:e,centerGui:t,rightGui:n,beans:{visibleCols:r}}=this,i=!!e||!r.isPinningLeft(),s=!!t,o=!!n||!r.isPinningRight();return i&&s&&o}isNodeFullWidthCell(){if(this.rowNode.detail)return!0;const e=this.beans.gos.getCallback("isFullWidthRow");return e?e({rowNode:this.rowNode}):!1}setRowType(){const e=this.rowNode.stub&&!this.gos.get("suppressServerSideFullWidthLoadingRow")&&!this.gos.get("groupHideOpenParents"),t=this.isNodeFullWidthCell(),n=this.gos.get("masterDetail")&&this.rowNode.detail,r=this.beans.colModel.isPivotMode(),i=SV(this.gos,this.rowNode,r);e?this.rowType="FullWidthLoading":n?this.rowType="FullWidthDetail":t?this.rowType="FullWidth":i?this.rowType="FullWidthGroup":this.rowType="Normal"}updateColumnLists(e=!1,t=!1){if(this.isFullWidth())return;const{animationFrameSvc:n}=this.beans;if(!n?.active||e||this.printLayout){this.updateColumnListsImpl(t);return}this.updateColumnListsPending||(n.createTask(()=>{this.active&&this.updateColumnListsImpl(!0)},this.rowNode.rowIndex,"p1",!1),this.updateColumnListsPending=!0)}getNewCellCtrl(e){if(!this.beans.rowSpanSvc?.isCellSpanning(e,this.rowNode))return new Kh(e,this.rowNode,this.beans,this)}isCorrectCtrlForSpan(e){return!this.beans.rowSpanSvc?.isCellSpanning(e.column,this.rowNode)}createCellCtrls(e,t,n=null){const r={list:[],map:{}},i=(c,d,f)=>{f!=null?r.list.splice(f,0,d):r.list.push(d),r.map[c]=d},s=[];for(const c of t){const d=c.getInstanceId();let f=e.map[d];f&&!this.isCorrectCtrlForSpan(f)&&(f.destroy(),f=void 0),f||(f=this.getNewCellCtrl(c)),f&&i(d,f)}for(const c of e.list){const d=c.column.getInstanceId();if(r.map[d]!=null)continue;!this.isCellEligibleToBeRemoved(c,n)?s.push([d,c]):c.destroy()}if(s.length)for(const[c,d]of s){const f=r.list.findIndex(v=>v.column.getLeft()>d.column.getLeft()),p=f===-1?void 0:Math.max(f-1,0);i(c,d,p)}const{focusSvc:o,visibleCols:a}=this.beans,l=o.getFocusedCell();if(l&&l.column.getPinned()==n){const c=l.column.getInstanceId();if(!r.map[c]&&a.allCols.includes(l.column)){const f=this.createFocusedCellCtrl();if(f){const p=r.list.findIndex(y=>y.column.getLeft()>f.column.getLeft()),v=p===-1?void 0:Math.max(p-1,0);i(c,f,v)}}}return r}createFocusedCellCtrl(){const{focusSvc:e,rowSpanSvc:t}=this.beans,n=e.getFocusedCell();if(!n)return;const r=t?.getCellSpan(n.column,this.rowNode);if(r){if(r.firstNode!==this.rowNode||!r.doesSpanContain(n))return}else if(!e.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned))return;return this.getNewCellCtrl(n.column)}updateColumnListsImpl(e){this.updateColumnListsPending=!1,this.createAllCellCtrls(),this.setCellCtrls(e)}setCellCtrls(e){for(const t of this.allRowGuis){const n=this.getCellCtrlsForContainer(t.containerType);t.rowComp.setCellCtrls(n,e)}}getCellCtrlsForContainer(e){switch(e){case"left":return this.leftCellCtrls.list;case"right":return this.rightCellCtrls.list;case"fullWidth":return[];case"center":return this.centerCellCtrls.list}}createAllCellCtrls(){const e=this.beans.colViewport,t=this.beans.visibleCols;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,t.allCols),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{const n=e.getColsWithinViewport(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,n);const r=t.getLeftColsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,r,"left");const i=t.getRightColsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,i,"right")}}isCellEligibleToBeRemoved(e,t){const{column:i}=e;if(i.getPinned()!=t||!this.isCorrectCtrlForSpan(e))return!0;const{visibleCols:s,editSvc:o}=this.beans,a=o?.isEditing(e),l=e.isCellFocused();return a||l?!(s.allCols.indexOf(i)>=0):!0}getDomOrder(){return this.gos.get("ensureDomOrder")||Sr(this.gos,"print")}listenOnDomOrder(e){const t=()=>{e.rowComp.setDomOrder(this.getDomOrder())};e.compBean.addManagedPropertyListeners(["domLayout","ensureDomOrder"],t)}setAnimateFlags(e){if(this.rowNode.sticky||!e)return;const t=De(this.rowNode.oldRowTop),{visibleCols:n}=this.beans,r=n.isPinningLeft(),i=n.isPinningRight();if(t){const{slideInAnimation:s}=this;if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){s.fullWidth=!0;return}s.center=!0,s.left=r,s.right=i}else{const{fadeInAnimation:s}=this;if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){s.fullWidth=!0;return}s.center=!0,s.left=r,s.right=i}}isFullWidth(){return this.rowType!=="Normal"}refreshFullWidth(){const e=(o,a)=>o?o.rowComp.refreshFullWidth(()=>this.createFullWidthCompDetails(o.element,a).params):!0,t=e(this.fullWidthGui,null),n=e(this.centerGui,null),r=e(this.leftGui,"left"),i=e(this.rightGui,"right");return t&&n&&r&&i}addListeners(){const{beans:e,gos:t,rowNode:n}=this,{expansionSvc:r,eventSvc:i,context:s,rowSpanSvc:o}=e;this.addManagedListeners(this.rowNode,{heightChanged:()=>this.onRowHeightChanged(),rowSelected:()=>this.onRowSelected(),rowIndexChanged:this.onRowIndexChanged.bind(this),topChanged:this.onTopChanged.bind(this),...r?.getRowExpandedListeners(this)??{}}),n.detail&&this.addManagedListeners(n.parent,{dataChanged:this.onRowNodeDataChanged.bind(this)}),this.addManagedListeners(n,{dataChanged:this.onRowNodeDataChanged.bind(this),cellChanged:this.postProcessCss.bind(this),rowHighlightChanged:this.onRowNodeHighlightChanged.bind(this),draggingChanged:this.postProcessRowDragging.bind(this),uiLevelChanged:this.onUiLevelChanged.bind(this),rowPinned:this.onRowPinned.bind(this)}),this.addManagedListeners(i,{paginationPixelOffsetChanged:this.onPaginationPixelOffsetChanged.bind(this),heightScaleChanged:this.onTopChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),virtualColumnsChanged:this.onVirtualColumnsChanged.bind(this),cellFocused:this.onCellFocusChanged.bind(this),cellFocusCleared:this.onCellFocusChanged.bind(this),paginationChanged:this.onPaginationChanged.bind(this),modelUpdated:this.refreshFirstAndLastRowStyles.bind(this),columnMoved:()=>this.updateColumnLists()}),o&&this.addManagedListeners(o,{spannedCellsUpdated:({pinned:a})=>{a&&!n.rowPinned||this.updateColumnLists()}}),this.addDestroyFunc(()=>{this.rowDragComps=this.destroyBeans(this.rowDragComps,s),this.tooltipFeature=this.destroyBean(this.tooltipFeature,s),this.rowEditStyleFeature=this.destroyBean(this.rowEditStyleFeature,s)}),this.addManagedPropertyListeners(["rowStyle","getRowStyle","rowClass","getRowClass","rowClassRules"],this.postProcessCss.bind(this)),this.addManagedPropertyListener("rowDragEntireRow",()=>{if(t.get("rowDragEntireRow")){for(const l of this.allRowGuis)this.addRowDraggerToRow(l);return}this.rowDragComps=this.destroyBeans(this.rowDragComps,s)}),this.addListenersForCellComps()}addListenersForCellComps(){this.addManagedListeners(this.rowNode,{rowIndexChanged:()=>{for(const e of this.getAllCellCtrls())e.onRowIndexChanged()},cellChanged:e=>{for(const t of this.getAllCellCtrls())t.onCellChanged(e)}})}onRowPinned(){for(const e of this.allRowGuis)e.rowComp.toggleCss("ag-row-pinned-source",!!this.rowNode.pinnedSibling)}onRowNodeDataChanged(e){this.refreshRow({suppressFlash:!e.update,newData:!e.update})}refreshRow(e){if(this.isFullWidth()!==!!this.isNodeFullWidthCell()){this.beans.rowRenderer.redrawRow(this.rowNode);return}if(this.isFullWidth()){this.refreshFullWidth()||this.beans.rowRenderer.redrawRow(this.rowNode);return}for(const n of this.getAllCellCtrls())n.refreshCell(e);for(const n of this.allRowGuis)this.setRowCompRowId(n.rowComp),this.updateRowBusinessKey(),this.setRowCompRowBusinessKey(n.rowComp);this.onRowSelected(),this.postProcessCss()}postProcessCss(){this.setStylesFromGridOptions(!0),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.rowEditStyleFeature?.applyRowStyles(),this.postProcessRowDragging()}onRowNodeHighlightChanged(){const e=this.beans.rowDropHighlightSvc,t=e?.row===this.rowNode?e.position:"none",n=t==="above",r=t==="inside",i=t==="below",o=this.gos.get("treeData")&&(i||n),a=this.rowNode.uiLevel.toString();for(const l of this.allRowGuis){const c=l.rowComp;c.toggleCss("ag-row-highlight-above",n),c.toggleCss("ag-row-highlight-inside",r),c.toggleCss("ag-row-highlight-below",i),c.toggleCss("ag-row-highlight-indent",o),o?l.element.style.setProperty("--ag-row-highlight-level",a):l.element.style.removeProperty("--ag-row-highlight-level")}}postProcessRowDragging(){const e=this.rowNode.dragging;for(const t of this.allRowGuis)t.rowComp.toggleCss("ag-row-dragging",e)}onDisplayedColumnsChanged(){this.updateColumnLists(!0),this.beans.rowAutoHeight?.requestCheckAutoHeight()}onVirtualColumnsChanged(){this.updateColumnLists(!1,!0)}getRowPosition(){return{rowPinned:Fa(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}}onKeyboardNavigate(e){const t=this.findFullWidthInfoForEvent(e);if(!t)return;const{rowGui:n,column:r}=t;if(!(n.element===e.target))return;const o=this.rowNode,{focusSvc:a,navigation:l}=this.beans,c=a.getFocusedCell(),d={rowIndex:o.rowIndex,rowPinned:o.rowPinned,column:c?.column??r};l?.navigateToNextCell(e,e.key,d,!0),e.preventDefault()}onTabKeyDown(e){if(e.defaultPrevented||Ks(e))return;const t=this.allRowGuis.find(a=>a.element.contains(e.target)),n=t?t.element:null,r=n===e.target,i=sn(this.beans);let s=!1;n&&i&&(s=n.contains(i)&&i.classList.contains("ag-cell"));let o=null;!r&&!s&&(o=bd(this.beans,n,!1,e.shiftKey)),(this.isFullWidth()&&r||!o)&&this.beans.navigation?.onTabKeyDown(this,e)}getFullWidthElement(){return this.fullWidthGui?this.fullWidthGui.element:null}getRowYPosition(){const e=this.allRowGuis.find(t=>qo(t.element))?.element;return e?e.getBoundingClientRect().top:0}onSuppressCellFocusChanged(e){const t=this.isFullWidth()&&e?void 0:this.gos.get("tabIndex");for(const n of this.allRowGuis)Wi(n.element,"tabindex",t)}onFullWidthRowFocused(e){const t=this.rowNode,n=e?this.isFullWidth()&&e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned:!1;let r;if(this.fullWidthGui)r=this.fullWidthGui.element;else{const s=this.beans.colModel.getCol(e?.column)?.pinned;s?r=s==="right"?this.rightGui?.element:this.leftGui?.element:r=this.centerGui?.element}r&&(r.classList.toggle("ag-full-width-focus",n),n&&e?.forceBrowserFocus&&r.focus({preventScroll:!0}))}recreateCell(e){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,e),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,e),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,e),e.destroy(),this.updateColumnLists()}removeCellCtrl(e,t){const n={list:[],map:{}};for(const r of e.list)r!==t&&(n.list.push(r),n.map[r.column.getInstanceId()]=r);return n}onMouseEvent(e,t){switch(e){case"dblclick":this.onRowDblClick(t);break;case"click":this.onRowClick(t);break;case"touchstart":case"mousedown":this.onRowMouseDown(t);break}}createRowEvent(e,t){const{rowNode:n}=this;return _e(this.gos,{type:e,node:n,data:n.data,rowIndex:n.rowIndex,rowPinned:n.rowPinned,event:t})}createRowEventWithSource(e,t){const n=this.createRowEvent(e,t);return n.source=this,n}onRowDblClick(e){if(Ks(e))return;const t=this.createRowEventWithSource("rowDoubleClicked",e);t.isEventHandlingSuppressed=this.isSuppressMouseEvent(e),this.beans.eventSvc.dispatchEvent(t)}findFullWidthInfoForEvent(e){if(!e)return;const t=this.findFullWidthRowGui(e.target),n=this.getColumnForFullWidth(t);if(!(!t||!n))return{rowGui:t,column:n}}findFullWidthRowGui(e){return this.allRowGuis.find(t=>t.element.contains(e))}getColumnForFullWidth(e){const{visibleCols:t}=this.beans;switch(e?.containerType){case"center":return t.centerCols[0];case"left":return t.leftCols[0];case"right":return t.rightCols[0];default:return t.allCols[0]}}onRowMouseDown(e){if(this.lastMouseDownOnDragger=Fu(e.target,"ag-row-drag",3),!this.isFullWidth()||this.isSuppressMouseEvent(e))return;const{rangeSvc:t,focusSvc:n}=this.beans;t?.removeAllCellRanges();const r=this.findFullWidthInfoForEvent(e);if(!r)return;const{rowGui:i,column:s}=r,o=i.element,a=e.target,l=this.rowNode;let c=e.defaultPrevented||_c();o&&o.contains(a)&&Tg(a)&&(c=!1),n.setFocusedCell({rowIndex:l.rowIndex,column:s,rowPinned:l.rowPinned,forceBrowserFocus:c})}isSuppressMouseEvent(e){const{gos:t,rowNode:n}=this;if(this.isFullWidth()){const i=this.findFullWidthRowGui(e.target);return Fue(t,i?.rowComp.getFullWidthCellRendererParams(),n,e)}const r=PA(t,e.target);return r!=null&&rw(t,r.column,n,e)}onRowClick(e){if(Ks(e)||this.lastMouseDownOnDragger)return;const n=this.isSuppressMouseEvent(e),{eventSvc:r,selectionSvc:i}=this.beans,s=this.createRowEventWithSource("rowClicked",e);s.isEventHandlingSuppressed=n,r.dispatchEvent(s),!n&&i?.handleSelectionEvent(e,this.rowNode,"rowClicked")}setupDetailRowAutoHeight(e){this.rowType==="FullWidthDetail"&&this.beans.masterDetailSvc?.setupDetailRowAutoHeight(this,e)}createFullWidthCompDetails(e,t){const{gos:n,rowNode:r}=this,i=_e(n,{fullWidth:!0,data:r.data,node:r,value:r.key,valueFormatted:r.key,eGridCell:e,eParentOfValue:e,pinned:t,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:(o,a,l,c)=>this.addFullWidthRowDragging(o,a,l,c),setTooltip:(o,a)=>{n.assertModuleRegistered("Tooltip",3),this.setupFullWidthRowTooltip(o,a)}}),s=this.beans.userCompFactory;switch(this.rowType){case"FullWidthDetail":return Gle(s,i);case"FullWidthGroup":{const{value:o,valueFormatted:a}=this.beans.valueSvc.getValueForDisplay(void 0,this.rowNode,!0);return i.value=o,i.valueFormatted=a,zle(s,i)}case"FullWidthLoading":return Hle(s,i);default:return Ble(s,i)}}setupFullWidthRowTooltip(e,t){this.fullWidthGui&&(this.tooltipFeature=this.beans.tooltipSvc?.setupFullWidthRowTooltip(this.tooltipFeature,this,e,t))}addFullWidthRowDragging(e,t,n="",r){const{rowDragSvc:i,context:s}=this.beans;if(!i||!this.isFullWidth())return;const o=i.createRowDragComp(()=>n,this.rowNode,void 0,e,t,r);this.createBean(o,s),this.addDestroyFunc(()=>{this.destroyBean(o,s)})}onUiLevelChanged(){const e=E_(this.rowNode);if(this.rowLevel!=e){const t="ag-row-level-"+e,n="ag-row-level-"+this.rowLevel;for(const r of this.allRowGuis)r.rowComp.toggleCss(t,!0),r.rowComp.toggleCss(n,!1)}this.rowLevel=e}isFirstRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBounds.getFirstRow()}isLastRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBounds.getLastRow()}refreshFirstAndLastRowStyles(){const e=this.isFirstRowOnPage(),t=this.isLastRowOnPage();if(this.firstRowOnPage!==e){this.firstRowOnPage=e;for(const n of this.allRowGuis)n.rowComp.toggleCss("ag-row-first",e)}if(this.lastRowOnPage!==t){this.lastRowOnPage=t;for(const n of this.allRowGuis)n.rowComp.toggleCss("ag-row-last",t)}}getAllCellCtrls(){return this.leftCellCtrls.list.length===0&&this.rightCellCtrls.list.length===0?this.centerCellCtrls.list:[...this.centerCellCtrls.list,...this.leftCellCtrls.list,...this.rightCellCtrls.list]}postProcessClassesFromGridOptions(){const e=[];if(this.beans.rowStyleSvc?.processClassesFromGridOptions(e,this.rowNode),!!e.length)for(const t of e)for(const n of this.allRowGuis)n.rowComp.toggleCss(t,!0)}postProcessRowClassRules(){this.beans.rowStyleSvc?.processRowClassRules(this.rowNode,e=>{for(const t of this.allRowGuis)t.rowComp.toggleCss(e,!0)},e=>{for(const t of this.allRowGuis)t.rowComp.toggleCss(e,!1)})}setStylesFromGridOptions(e,t){e&&(this.rowStyles=this.processStylesFromGridOptions()),this.forEachGui(t,n=>n.rowComp.setUserStyles(this.rowStyles))}getPinnedForContainer(e){return e==="left"||e==="right"?e:null}getInitialRowClasses(e){const t=this.getPinnedForContainer(e),n=this.isFullWidth(),{rowNode:r,beans:i}=this,s=[];s.push("ag-row"),s.push(this.rowFocused?"ag-row-focus":"ag-row-no-focus"),this.fadeInAnimation[e]&&s.push("ag-opacity-zero"),s.push(r.rowIndex%2===0?"ag-row-even":"ag-row-odd"),r.isRowPinned()&&(s.push("ag-row-pinned"),i.pinnedRowModel?.isManual()&&s.push("ag-row-pinned-manual")),!r.isRowPinned()&&r.pinnedSibling&&s.push("ag-row-pinned-source"),r.isSelected()&&s.push("ag-row-selected"),r.footer&&s.push("ag-row-footer"),s.push("ag-row-level-"+this.rowLevel),r.stub&&s.push("ag-row-loading"),n&&s.push("ag-full-width-row"),i.expansionSvc?.addExpandedCss(s,r),r.dragging&&s.push("ag-row-dragging");const{rowStyleSvc:o}=i;return o&&(o.processClassesFromGridOptions(s,r),o.preProcessRowClassRules(s,r)),s.push(this.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),this.isFirstRowOnPage()&&s.push("ag-row-first"),this.isLastRowOnPage()&&s.push("ag-row-last"),n&&(t==="left"&&s.push("ag-cell-last-left-pinned"),t==="right"&&s.push("ag-cell-first-right-pinned")),s}processStylesFromGridOptions(){return this.beans.rowStyleSvc?.processStylesFromGridOptions(this.rowNode)??this.emptyStyle}onRowSelected(e){this.beans.selectionSvc?.onRowCtrlSelected(this,t=>{(t===this.centerGui||t===this.fullWidthGui)&&this.announceDescription()},e)}announceDescription(){this.beans.selectionSvc?.announceAriaRowSelection(this.rowNode)}addHoverFunctionality(e){if(!this.active)return;const{element:t,compBean:n}=e,{rowNode:r,beans:i,gos:s}=this;n.addManagedListeners(t,{pointerenter:o=>{o.pointerType==="mouse"&&r.dispatchRowEvent("mouseEnter")},pointerleave:o=>{o.pointerType==="mouse"&&r.dispatchRowEvent("mouseLeave")}}),n.addManagedListeners(r,{mouseEnter:()=>{!i.dragSvc?.dragging&&!s.get("suppressRowHoverHighlight")&&(t.classList.add("ag-row-hover"),r.setHovered(!0))},mouseLeave:()=>{this.resetHoveredStatus(t)}})}resetHoveredStatus(e){const t=e?[e]:this.allRowGuis.map(n=>n.element);for(const n of t)n.classList.remove("ag-row-hover");this.rowNode.setHovered(!1)}roundRowTopToBounds(e){const t=this.beans.ctrlsSvc.getScrollFeature().getApproximateVScollPosition(),n=this.applyPaginationOffset(t.top,!0)-100,r=this.applyPaginationOffset(t.bottom,!0)+100;return Math.min(Math.max(n,e),r)}forEachGui(e,t){if(e)t(e);else for(const n of this.allRowGuis)t(n)}isRowRendered(){return this.allRowGuis.length>0}onRowHeightChanged(e){if(this.rowNode.rowHeight==null)return;const t=this.rowNode.rowHeight,n=this.beans.environment.getDefaultRowHeight(),i=bV(this.gos)?Ya(this.beans,this.rowNode).height:void 0,s=i?`${Math.min(n,i)-2}px`:void 0;this.forEachGui(e,o=>{o.element.style.height=`${t}px`,s&&o.element.style.setProperty("--ag-line-height",s)})}destroyFirstPass(e=!1){this.active=!1;const{rowNode:t}=this;if(!e&&zh(this.gos)&&!t.sticky)if(t.rowTop!=null){const i=this.roundRowTopToBounds(t.rowTop);this.setRowTop(i)}else for(const i of this.allRowGuis)i.rowComp.toggleCss("ag-opacity-zero",!0);this.fullWidthGui?.element.contains(sn(this.beans))&&this.beans.focusSvc.attemptToRecoverFocus(),t.setHovered(!1);const n=this.createRowEvent("virtualRowRemoved");this.dispatchLocalEvent(n),this.beans.eventSvc.dispatchEvent(n),super.destroy()}destroySecondPass(){this.allRowGuis.length=0;const e=t=>{for(const n of t.list)n.destroy();return{list:[],map:{}}};this.centerCellCtrls=e(this.centerCellCtrls),this.leftCellCtrls=e(this.leftCellCtrls),this.rightCellCtrls=e(this.rightCellCtrls)}setFocusedClasses(e){this.forEachGui(e,t=>{t.rowComp.toggleCss("ag-row-focus",this.rowFocused),t.rowComp.toggleCss("ag-row-no-focus",!this.rowFocused)})}onCellFocusChanged(){const{focusSvc:e}=this.beans,t=e.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);t!==this.rowFocused&&(this.rowFocused=t,this.setFocusedClasses())}onPaginationChanged(){const e=this.beans.pagination?.getCurrentPage()??0;this.paginationPage!==e&&(this.paginationPage=e,this.onTopChanged()),this.refreshFirstAndLastRowStyles()}onTopChanged(){this.setRowTop(this.rowNode.rowTop)}onPaginationPixelOffsetChanged(){this.onTopChanged()}applyPaginationOffset(e,t=!1){if(this.rowNode.isRowPinned()||this.rowNode.sticky)return e;const n=this.beans.pageBounds.getPixelOffset();return e+n*(t?1:-1)}setRowTop(e){if(!this.printLayout&&De(e)){const t=this.applyPaginationOffset(e),i=`${this.rowNode.isRowPinned()||this.rowNode.sticky?t:this.beans.rowContainerHeight.getRealPixelPosition(t)}px`;this.setRowTopStyle(i)}}getInitialRowTop(e){return this.suppressRowTransform?this.getInitialRowTopShared(e):void 0}getInitialTransform(e){return this.suppressRowTransform?void 0:`translateY(${this.getInitialRowTopShared(e)})`}getInitialRowTopShared(e){if(this.printLayout)return"";const t=this.rowNode;let n;if(t.sticky)n=t.stickyRowTop;else{const r=this.slideInAnimation[e]?this.roundRowTopToBounds(t.oldRowTop):t.rowTop,i=this.applyPaginationOffset(r);n=t.isRowPinned()?i:this.beans.rowContainerHeight.getRealPixelPosition(i)}return n+"px"}setRowTopStyle(e){for(const t of this.allRowGuis)this.suppressRowTransform?t.rowComp.setTop(e):t.rowComp.setTransform(`translateY(${e})`)}getCellCtrl(e,t=!1){let n=null;for(const r of this.getAllCellCtrls())r.column==e&&(n=r);if(n!=null||t)return n;for(const r of this.getAllCellCtrls())r?.getColSpanningList().indexOf(e)>=0&&(n=r);return n}onRowIndexChanged(){this.rowNode.rowIndex!=null&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())}updateRowIndexes(e){const t=this.rowNode.getRowIndexString();if(t===null)return;const n=(this.beans.ctrlsSvc.getHeaderRowContainerCtrl()?.getRowCount()??0)+(this.beans.filterManager?.getHeaderRowCount()??0),r=this.rowNode.rowIndex%2===0,i=n+this.rowNode.rowIndex+1;this.forEachGui(e,s=>{s.rowComp.setRowIndex(t),s.rowComp.toggleCss("ag-row-even",r),s.rowComp.toggleCss("ag-row-odd",!r),Pw(s.element,i)})}},Qme=class extends le{constructor(){super(),this.beanName="navigation",this.onPageDown=E4(this.onPageDown,100),this.onPageUp=E4(this.onPageUp,100)}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}handlePageScrollingKey(e,t=!1){const n=e.key,r=e.altKey,i=e.ctrlKey||e.metaKey,s=!!this.beans.rangeSvc&&e.shiftKey,o=rde(this.gos,e);let a=!1;switch(n){case re.PAGE_HOME:case re.PAGE_END:!i&&!r&&(this.onHomeOrEndKey(n),a=!0);break;case re.LEFT:case re.RIGHT:case re.UP:case re.DOWN:if(!o)return!1;i&&!r&&!s&&(this.onCtrlUpDownLeftRight(n,o),a=!0);break;case re.PAGE_DOWN:case re.PAGE_UP:!i&&!r&&(a=this.handlePageUpDown(n,o,t));break}return a&&e.preventDefault(),a}handlePageUpDown(e,t,n){return n&&(t=this.beans.focusSvc.getFocusedCell()),t?(e===re.PAGE_UP?this.onPageUp(t):this.onPageDown(t),!0):!1}navigateTo({scrollIndex:e,scrollType:t,scrollColumn:n,focusIndex:r,focusColumn:i,isAsync:s,rowPinned:o}){const{scrollFeature:a}=this.gridBodyCon;De(n)&&!n.isPinned()&&a.ensureColumnVisible(n),De(e)&&a.ensureIndexVisible(e,t),s||a.ensureIndexVisible(r);const{focusSvc:l,rangeSvc:c}=this.beans;l.setFocusedCell({rowIndex:r,column:i,rowPinned:o,forceBrowserFocus:!0}),c?.setRangeToCell({rowIndex:r,rowPinned:o,column:i})}onPageDown(e){const t=this.beans,n=jD(t),r=this.getViewportHeight(),{pageBounds:i,rowModel:s,rowAutoHeight:o}=t,a=i.getPixelOffset(),l=n.top+r,c=s.getRowIndexAtPixel(l+a);o?.active?this.navigateToNextPageWithAutoHeight(e,c):this.navigateToNextPage(e,c)}onPageUp(e){const t=this.beans,n=jD(t),{pageBounds:r,rowModel:i,rowAutoHeight:s}=t,o=r.getPixelOffset(),a=n.top,l=i.getRowIndexAtPixel(a+o);s?.active?this.navigateToNextPageWithAutoHeight(e,l,!0):this.navigateToNextPage(e,l,!0)}navigateToNextPage(e,t,n=!1){const{pageBounds:r,rowModel:i}=this.beans,s=this.getViewportHeight(),o=r.getFirstRow(),a=r.getLastRow(),l=r.getPixelOffset(),c=i.getRow(e.rowIndex),d=n?c?.rowHeight-s-l:s-l,f=c?.rowTop+d;let p=i.getRowIndexAtPixel(f+l);if(p===e.rowIndex){const y=n?-1:1;t=p=e.rowIndex+y}let v;n?(v="bottom",p<o&&(p=o),t<o&&(t=o)):(v="top",p>a&&(p=a),t>a&&(t=a)),this.isRowTallerThanView(i.getRow(p))&&(t=p,v="top"),this.navigateTo({scrollIndex:t,scrollType:v,scrollColumn:null,focusIndex:p,focusColumn:e.column})}navigateToNextPageWithAutoHeight(e,t,n=!1){this.navigateTo({scrollIndex:t,scrollType:n?"bottom":"top",scrollColumn:null,focusIndex:t,focusColumn:e.column}),setTimeout(()=>{const r=this.getNextFocusIndexForAutoHeight(e,n);this.navigateTo({scrollIndex:t,scrollType:n?"bottom":"top",scrollColumn:null,focusIndex:r,focusColumn:e.column,isAsync:!0})},50)}getNextFocusIndexForAutoHeight(e,t=!1){const n=t?-1:1,r=this.getViewportHeight(),{pageBounds:i,rowModel:s}=this.beans,o=i.getLastRow();let a=0,l=e.rowIndex;for(;l>=0&&l<=o;){const c=s.getRow(l);if(c){const d=c.rowHeight??0;if(a+d>r)break;a+=d}l+=n}return Math.max(0,Math.min(l,o))}getViewportHeight(){const e=this.beans,t=jD(e),n=this.beans.scrollVisibleSvc.getScrollbarWidth();let r=t.bottom-t.top;return e.ctrlsSvc.get("center").isHorizontalScrollShowing()&&(r-=n),r}isRowTallerThanView(e){if(!e)return!1;const t=e.rowHeight;return typeof t!="number"?!1:t>this.getViewportHeight()}onCtrlUpDownLeftRight(e,t){const n=this.beans.cellNavigation.getNextCellToFocus(e,t,!0),r=this.getNormalisedPosition(n),{rowIndex:i,rowPinned:s,column:o}=r??n,a=o;this.navigateTo({scrollIndex:i,scrollType:null,scrollColumn:a,focusIndex:i,focusColumn:a,rowPinned:s})}onHomeOrEndKey(e){const t=e===re.PAGE_HOME,{visibleCols:n,pageBounds:r,rowModel:i}=this.beans,s=n.allCols,o=t?r.getFirstRow():r.getLastRow(),a=i.getRow(o);if(!a)return;const l=(t?s:[...s].reverse()).find(c=>!c.isSuppressNavigable(a));l&&this.navigateTo({scrollIndex:o,scrollType:null,scrollColumn:l,focusIndex:o,focusColumn:l})}onTabKeyDown(e,t){const n=t.shiftKey,r=this.tabToNextCellCommon(e,n,t),i=this.beans,{ctrlsSvc:s,pageBounds:o,focusSvc:a,gos:l}=i;if(r!==!1){r?t.preventDefault():r===null&&s.get("gridCtrl").allowFocusForNextCoreContainer(n);return}if(n){const{rowIndex:c,rowPinned:d}=e.getRowPosition();(d?c===0:c===o.getFirstRow())&&(l.get("headerHeight")===0||Bu(i)?af(i,!0,!0):(t.preventDefault(),a.focusPreviousFromFirstCell(t)))}else e instanceof Kh&&e.focusCell(!0),(a.focusOverlay(!1)||af(i,n))&&t.preventDefault()}tabToNextCell(e,t){const n=this.beans,{focusSvc:r,rowRenderer:i}=n,s=r.getFocusedCell();if(!s)return!1;let o=Fh(n,s);return!o&&(o=i.getRowByPosition(s),!o?.isFullWidth())?!1:!!this.tabToNextCellCommon(o,e,t,"api")}tabToNextCellCommon(e,t,n,r="ui"){const{editSvc:i,focusSvc:s}=this.beans;let o;const a=e instanceof Kh?e:e.getAllCellCtrls()?.[0];return i?.isEditing()?o=i?.moveToNextCell(a,t,n,r):o=this.moveToNextCellNotEditing(e,t,n),o===null?o:o||!!s.focusedHeader}moveToNextCellNotEditing(e,t,n){const r=this.beans.visibleCols.allCols;let i;if(e instanceof Xw){if(i={...e.getRowPosition(),column:t?r[0]:Ft(r)},this.gos.get("embedFullWidthRows")&&n){const o=e.findFullWidthInfoForEvent(n);o&&(i.column=o.column)}}else i=e.getFocusedCellPosition();const s=this.findNextCellToFocusOn(i,{backwards:t,startEditing:!1});if(s===!1)return null;if(s instanceof Kh)s.focusCell(!0);else if(s)return this.tryToFocusFullWidthRow(s,t);return De(s)}findNextCellToFocusOn(e,{backwards:t,startEditing:n,skipToNextEditableCell:r}){let i=e;const s=this.beans,{cellNavigation:o,gos:a,focusSvc:l,rowRenderer:c,rangeSvc:d}=s;for(;;){e!==i&&(e=i),t||(i=this.getLastCellOfColSpan(i)),i=o.getNextTabbedCell(i,t);const f=a.getCallback("tabToNextCell");if(De(f)){const b=f({backwards:t,editing:n,previousCellPosition:e,nextCellPosition:i||null});if(b===!0)i=e;else{if(b===!1)return!1;i={rowIndex:b.rowIndex,column:b.column,rowPinned:b.rowPinned}}}if(!i)return null;if(i.rowIndex<0){const y=To(s);return l.focusHeaderPosition({headerPosition:{headerRowIndex:y+i.rowIndex,column:i.column},fromCell:!0}),null}const p=a.get("editType")==="fullRow";if(n&&(!p||r)&&!this.isCellEditable(i))continue;this.ensureCellVisible(i);const v=Fh(s,i);if(!v){const y=c.getRowByPosition(i);if(!y||!y.isFullWidth()||n)continue;return{...y.getRowPosition(),column:i?.column}}if(!o.isSuppressNavigable(v.column,v.rowNode))return v.setFocusedCellPosition(i),d?.setRangeToCell(i),v}}isCellEditable(e){const t=this.lookupRowNodeForCell(e);return t?e.column.isCellEditable(t):!1}lookupRowNodeForCell({rowIndex:e,rowPinned:t}){const{pinnedRowModel:n,rowModel:r}=this.beans;return t==="top"?n?.getPinnedTopRow(e):t==="bottom"?n?.getPinnedBottomRow(e):r.getRow(e)}navigateToNextCell(e,t,n,r){let i=n,s=!1;const o=this.beans,{cellNavigation:a,focusSvc:l,gos:c}=o;for(;i&&(i===n||!this.isValidNavigateCell(i));)c.get("enableRtl")?t===re.LEFT&&(i=this.getLastCellOfColSpan(i)):t===re.RIGHT&&(i=this.getLastCellOfColSpan(i)),i=a.getNextCellToFocus(t,i),s=Kt(i);if(s&&e&&e.key===re.UP&&(i={rowIndex:-1,rowPinned:null,column:n.column}),r){const f=c.getCallback("navigateToNextCell");if(De(f)){const v=f({key:t,previousCellPosition:n,nextCellPosition:i||null,event:e});De(v)?i={rowPinned:v.rowPinned,rowIndex:v.rowIndex,column:v.column}:i=null}}if(!i)return;if(i.rowIndex<0){const f=To(o);l.focusHeaderPosition({headerPosition:{headerRowIndex:f+i.rowIndex,column:n.column},event:e||void 0,fromCell:!0});return}const d=this.getNormalisedPosition(i);d?this.focusPosition(d):this.tryToFocusFullWidthRow(i)}getNormalisedPosition(e){if(!!this.beans.spannedRowRenderer?.getCellByPosition(e))return e;this.ensureCellVisible(e);const n=Fh(this.beans,e);return n?(e=n.getFocusedCellPosition(),this.ensureCellVisible(e),e):null}tryToFocusFullWidthRow(e,t){const{visibleCols:n,rowRenderer:r,focusSvc:i,eventSvc:s}=this.beans,o=n.allCols;if(!r.getRowByPosition(e)?.isFullWidth())return!1;const l=i.getFocusedCell(),c={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column||(t?Ft(o):o[0])};this.focusPosition(c);const d=t??(l!=null&&Vhe(c,l));return s.dispatchEvent({type:"fullWidthRowFocused",rowIndex:c.rowIndex,rowPinned:c.rowPinned,column:c.column,isFullWidthCell:!0,fromBelow:d}),!0}focusPosition(e){const{focusSvc:t,rangeSvc:n}=this.beans;t.setFocusedCell({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0}),n?.setRangeToCell(e)}isValidNavigateCell(e){return!!Ja(this.beans,e)}getLastCellOfColSpan(e){const t=Fh(this.beans,e);if(!t)return e;const n=t.getColSpanningList();return n.length===1?e:{rowIndex:e.rowIndex,column:Ft(n),rowPinned:e.rowPinned}}ensureCellVisible(e){const t=ux(this.gos),n=this.beans.rowModel.getRow(e.rowIndex),r=t&&n?.sticky,{scrollFeature:i}=this.gridBodyCon;!r&&Kt(e.rowPinned)&&i.ensureIndexVisible(e.rowIndex),e.column.isPinned()||i.ensureColumnVisible(e.column)}ensureColumnVisible(e){const t=this.gridBodyCon.scrollFeature;e.isPinned()||t.ensureColumnVisible(e)}ensureRowVisible(e){this.gridBodyCon.scrollFeature.ensureIndexVisible(e)}};function jD(e){return e.ctrlsSvc.getScrollFeature().getVScrollPosition()}var Xme={moduleName:"KeyboardNavigation",version:Re,beans:[Qme,wme,Age],apiFunctions:{getFocusedCell:bme,clearFocusedCell:Cme,setFocusedCell:xme,setFocusedHeader:Dme,tabToNextCell:Sme,tabToPreviousCell:Eme}},Jme=class extends le{constructor(){super(...arguments),this.beanName="pageBoundsListener"}postConstruct(){this.addManagedEventListeners({modelUpdated:this.onModelUpdated.bind(this),recalculateRowBounds:this.calculatePages.bind(this)}),this.onModelUpdated()}onModelUpdated(e){this.calculatePages(),this.eventSvc.dispatchEvent({type:"paginationChanged",animate:e?.animate??!1,newData:e?.newData??!1,newPage:e?.newPage??!1,newPageSize:e?.newPageSize??!1,keepRenderedRows:e?.keepRenderedRows??!1})}calculatePages(){const{pageBounds:e,pagination:t,rowModel:n}=this.beans;t?t.calculatePages():e.calculateBounds(0,n.getRowCount()-1)}},Zme=class extends le{constructor(){super(...arguments),this.beanName="pageBounds",this.pixelOffset=0}getFirstRow(){return this.topRowBounds?.rowIndex??-1}getLastRow(){return this.bottomRowBounds?.rowIndex??-1}getCurrentPageHeight(){const{topRowBounds:e,bottomRowBounds:t}=this;return!e||!t?0:Math.max(t.rowTop+t.rowHeight-e.rowTop,0)}getCurrentPagePixelRange(){const{topRowBounds:e,bottomRowBounds:t}=this,n=e?.rowTop??0,r=t?t.rowTop+t.rowHeight:0;return{pageFirstPixel:n,pageLastPixel:r}}calculateBounds(e,t){const{rowModel:n}=this.beans,r=n.getRowBounds(e);r&&(r.rowIndex=e),this.topRowBounds=r;const i=n.getRowBounds(t);i&&(i.rowIndex=t),this.bottomRowBounds=i,this.calculatePixelOffset()}getPixelOffset(){return this.pixelOffset}calculatePixelOffset(){const e=this.topRowBounds?.rowTop??0;this.pixelOffset!==e&&(this.pixelOffset=e,this.eventSvc.dispatchEvent({type:"paginationPixelOffsetChanged"}))}},eve=".ag-pinned-left-floating-bottom,.ag-pinned-left-floating-top,.ag-pinned-right-floating-bottom,.ag-pinned-right-floating-top{min-width:0;overflow:hidden;position:relative}.ag-pinned-left-sticky-top,.ag-pinned-right-sticky-top{height:100%;overflow:hidden;position:relative}.ag-sticky-bottom-full-width-container,.ag-sticky-top-full-width-container{height:100%;overflow:hidden;width:100%}.ag-pinned-left-header,.ag-pinned-right-header{display:inline-block;height:100%;overflow:hidden;position:relative}.ag-body-horizontal-scroll:not(.ag-scrollbar-invisible){.ag-horizontal-left-spacer:not(.ag-scroller-corner){border-right:var(--ag-pinned-column-border)}.ag-horizontal-right-spacer:not(.ag-scroller-corner){border-left:var(--ag-pinned-column-border)}}.ag-pinned-right-header{border-left:var(--ag-pinned-column-border)}.ag-pinned-left-header{border-right:var(--ag-pinned-column-border)}.ag-cell.ag-cell-first-right-pinned:not(.ag-cell-range-left,.ag-cell-range-single-cell,.ag-cell-focus:not(.ag-cell-range-selected):focus-within){border-left:var(--ag-pinned-column-border)}.ag-cell.ag-cell-last-left-pinned:not(.ag-cell-range-right,.ag-cell-range-single-cell,.ag-cell-focus:not(.ag-cell-range-selected):focus-within){border-right:var(--ag-pinned-column-border)}.ag-pinned-left-header .ag-header-cell-resize:after{left:calc(50% - var(--ag-header-column-resize-handle-width))}.ag-pinned-right-header .ag-header-cell-resize:after{left:50%}.ag-pinned-left-header .ag-header-cell-resize{right:-3px}.ag-pinned-right-header .ag-header-cell-resize{left:-3px}",tve=class extends le{constructor(e,t){super(),this.isLeft=e,this.elements=t,this.getWidth=e?()=>this.beans.pinnedCols.leftWidth:()=>this.beans.pinnedCols.rightWidth}postConstruct(){this.addManagedEventListeners({[`${this.isLeft?"left":"right"}PinnedWidthChanged`]:this.onPinnedWidthChanged.bind(this)})}onPinnedWidthChanged(){const e=this.getWidth(),t=e>0;for(const n of this.elements)n&&(Wt(n,t),No(n,e))}},nve=class extends le{constructor(){super(...arguments),this.beanName="pinnedCols"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,t=>{this.gridBodyCtrl=t.gridBodyCtrl});const e=this.checkContainerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}checkContainerWidths(){const{gos:e,visibleCols:t,eventSvc:n}=this.beans,r=Sr(e,"print"),i=r?0:t.getColsLeftWidth(),s=r?0:t.getDisplayedColumnsRightWidth();i!=this.leftWidth&&(this.leftWidth=i,n.dispatchEvent({type:"leftPinnedWidthChanged"})),s!=this.rightWidth&&(this.rightWidth=s,n.dispatchEvent({type:"rightPinnedWidthChanged"}))}keepPinnedColumnsNarrowerThanViewport(){const e=this.gridBodyCtrl.eBodyViewport,t=tm(e);if(t<=50)return;const n=this.getPinnedColumnsOverflowingViewport(t-50),r=this.gos.getCallback("processUnpinnedColumns"),{columns:i,hasLockedPinned:s}=n;let o=i;!o.length&&!s||(r&&(o=r({columns:o,viewportWidth:t})),o?.length&&(o=o.filter(a=>!Ia(a)),this.setColsPinned(o,null,"viewportSizeFeature")))}createPinnedWidthFeature(e,...t){return new tve(e,t)}setColsPinned(e,t,n){const{colModel:r,colAnimation:i,visibleCols:s,gos:o}=this.beans;if(!r.cols||!e?.length)return;if(Sr(o,"print")){ve(37);return}i?.start();let a;t===!0||t==="left"?a="left":t==="right"?a="right":a=null;const l=[];for(const c of e){if(!c)continue;const d=r.getCol(c);d&&d.getPinned()!==a&&(this.setColPinned(d,a),l.push(d))}l.length&&(s.refresh(n),IV(this.eventSvc,l,n)),i?.finish()}initCol(e){const{pinned:t,initialPinned:n}=e.colDef;t!==void 0?this.setColPinned(e,t):this.setColPinned(e,n)}setColPinned(e,t){t===!0||t==="left"?e.pinned="left":t==="right"?e.pinned="right":e.pinned=null,e.dispatchStateUpdatedEvent("pinned")}setupHeaderPinnedWidth(e){const{scrollVisibleSvc:t}=this.beans;if(e.pinned==null)return;const n=e.pinned==="left",r=e.pinned==="right";e.hidden=!0;const i=()=>{const s=n?this.leftWidth:this.rightWidth;if(s==null)return;const o=s==0,a=e.hidden!==o,l=this.gos.get("enableRtl"),c=t.getScrollbarWidth(),f=t.verticalScrollShowing&&(l&&n||!l&&r)?s+c:s;e.comp.setPinnedContainerWidth(`${f}px`),e.comp.setDisplayed(!o),a&&(e.hidden=o,e.refresh())};e.addManagedEventListeners({leftPinnedWidthChanged:i,rightPinnedWidthChanged:i,scrollVisibilityChanged:i,scrollbarWidthChanged:i})}getHeaderResizeDiff(e,t){if(t.getPinned()){const{leftWidth:r,rightWidth:i}=this,s=tm(this.beans.ctrlsSvc.getGridBodyCtrl().eBodyViewport)-50;if(r+i+e>s)if(s>r+i)e=s-r-i;else return 0}return e}getPinnedColumnsOverflowingViewport(e){const t=this.rightWidth??0,n=this.leftWidth??0,r=t+n;let i=!1;if(r<e)return{columns:[],hasLockedPinned:i};const{visibleCols:s}=this.beans,o=[...s.leftCols],a=[...s.rightCols];let l=0,c=0;const d=0,f=[];let p=r-d-e;for(;(c<o.length||l<a.length)&&p>0;){if(l<a.length){const v=a[l++];if(v.colDef.lockPinned){i=!0;continue}p-=v.getActualWidth(),f.push(v)}if(c<o.length&&p>0){const v=o[c++];if(v.colDef.lockPinned){i=!0;continue}p-=v.getActualWidth(),f.push(v)}}return{columns:f,hasLockedPinned:i}}},rve={moduleName:"PinnedColumn",version:Re,beans:[nve],css:[eve]},ive=class extends le{constructor(){super(),this.beanName="ariaAnnounce",this.descriptionContainer=null,this.pendingAnnouncements=new Map,this.lastAnnouncement="",this.updateAnnouncement=br(this,this.updateAnnouncement.bind(this),200)}postConstruct(){const e=this.beans,t=Wn(e),n=this.descriptionContainer=t.createElement("div");n.classList.add("ag-aria-description-container"),GG(n,"polite"),Ooe(n,"additions text"),Noe(n,!0),e.eGridDiv.appendChild(n)}announceValue(e,t){this.pendingAnnouncements.set(t,e),this.updateAnnouncement()}updateAnnouncement(){if(!this.descriptionContainer)return;const e=Array.from(this.pendingAnnouncements.values()).join(". ");this.pendingAnnouncements.clear(),this.descriptionContainer.textContent="",setTimeout(()=>{this.handleAnnouncementUpdate(e)},50)}handleAnnouncementUpdate(e){if(!this.isAlive()||!this.descriptionContainer)return;let t=e;if(t==null||t.replace(/[ .]/g,"")==""){this.lastAnnouncement="";return}this.lastAnnouncement===t&&(t=`${t}`),this.lastAnnouncement=t,this.descriptionContainer.textContent=t}destroy(){super.destroy();const{descriptionContainer:e}=this;e&&(xr(e),e.remove()),this.descriptionContainer=null,this.pendingAnnouncements.clear()}},sve={moduleName:"Aria",version:Re,beans:[ive]},ove=":where(.ag-delay-render){.ag-cell,.ag-header-cell,.ag-header-group-cell,.ag-row,.ag-spanned-cell-wrapper{visibility:hidden}}",D_="ag-delay-render",ave=class extends le{constructor(){super(...arguments),this.beanName="colDelayRenderSvc",this.hideRequested=!1,this.alreadyRevealed=!1,this.timesRetried=0,this.requesters=new Set}hideColumns(e){this.alreadyRevealed||this.requesters.has(e)||(this.requesters.add(e),this.hideRequested||(this.beans.ctrlsSvc.whenReady(this,t=>{t.gridBodyCtrl.eGridBody.classList.add(D_)}),this.hideRequested=!0))}revealColumns(e){if(this.alreadyRevealed||!this.isAlive()||(this.requesters.delete(e),this.requesters.size>0))return;const{renderStatus:t,ctrlsSvc:n}=this.beans;if(t){if(!t.areHeaderCellsRendered()&&this.timesRetried<5){this.timesRetried++,setTimeout(()=>this.revealColumns(e));return}this.timesRetried=0}n.getGridBodyCtrl().eGridBody.classList.remove(D_),this.alreadyRevealed=!0}},lve={moduleName:"ColumnDelayRender",version:Re,beans:[ave],css:[ove]};function cve(e){e.overlays?.showLoadingOverlay()}function uve(e){e.overlays?.showNoRowsOverlay()}function dve(e){e.overlays?.hideOverlay()}var hve=".ag-overlay{inset:0;pointer-events:none;position:absolute;z-index:2}.ag-overlay-panel,.ag-overlay-wrapper{display:flex;height:100%;width:100%}.ag-overlay-wrapper{align-items:center;flex:none;justify-content:center;text-align:center}.ag-overlay-loading-wrapper{pointer-events:all}.ag-overlay-loading-center{background:var(--ag-background-color);border:solid var(--ag-border-width) var(--ag-border-color);border-radius:var(--ag-border-radius);box-shadow:var(--ag-popup-shadow);padding:var(--ag-spacing)}",fve={tag:"div",cls:"ag-overlay",role:"presentation",children:[{tag:"div",cls:"ag-overlay-panel",role:"presentation",children:[{tag:"div",ref:"eOverlayWrapper",cls:"ag-overlay-wrapper",role:"presentation"}]}]},EW=class extends yt{constructor(){super(fve),this.eOverlayWrapper=Ee,this.activePromise=null,this.activeOverlay=null,this.updateListenerDestroyFunc=null,this.activeCssClass=null,this.elToFocusAfter=null,this.registerCSS(hve)}handleKeyDown(e){if(e.key!==re.TAB||e.defaultPrevented||Ks(e))return;const t=this.beans;if(bd(t,this.eOverlayWrapper,!1,e.shiftKey))return;let r=!1;e.shiftKey?r=t.focusSvc.focusGridView({column:Ft(t.visibleCols.allCols),backwards:!0,canFocusOverlay:!1}):r=af(t,!1),r&&e.preventDefault()}updateLayoutClasses(e,t){const n=this.eOverlayWrapper.classList,{AUTO_HEIGHT:r,NORMAL:i,PRINT:s}=zs;n.toggle(r,t.autoHeight),n.toggle(i,t.normal),n.toggle(s,t.print)}postConstruct(){this.createManagedBean(new kA(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.beans.overlays.setOverlayWrapperComp(this),this.addManagedElementListeners(this.getFocusableElement(),{keydown:this.handleKeyDown.bind(this)})}setWrapperTypeClass(e){const t=this.eOverlayWrapper.classList;this.activeCssClass&&t.toggle(this.activeCssClass,!1),this.activeCssClass=e,t.toggle(e,!0)}showOverlay(e,t,n,r){if(this.setWrapperTypeClass(t),this.destroyActiveOverlay(),this.elToFocusAfter=null,this.activePromise=e,!!e){if(this.setDisplayed(!0,{skipAriaHidden:!0}),n&&this.isGridFocused()){const i=sn(this.beans);i&&!BG(this.beans)&&(this.elToFocusAfter=i)}e.then(i=>{if(this.activePromise!==e){this.activeOverlay!==i&&(this.destroyBean(i),i=null);return}if(this.activePromise=null,!!i){if(this.activeOverlay!==i&&(this.eOverlayWrapper.appendChild(i.getGui()),this.activeOverlay=i,r)){const s=i;this.updateListenerDestroyFunc=this.addManagedPropertyListener(r,({currentValue:o})=>{s.refresh?.(_e(this.gos,{...o??{}}))})}n&&this.isGridFocused()&&Rc(this.eOverlayWrapper)}})}}updateOverlayWrapperPaddingTop(e){this.eOverlayWrapper.style.setProperty("padding-top",`${e}px`)}destroyActiveOverlay(){this.activePromise=null;const e=this.activeOverlay;if(!e)return;let t=this.elToFocusAfter;this.activeOverlay=null,this.elToFocusAfter=null,t&&!this.isGridFocused()&&(t=null);const n=this.updateListenerDestroyFunc;n&&(n(),this.updateListenerDestroyFunc=null),this.destroyBean(e),xr(this.eOverlayWrapper),t?.focus?.({preventScroll:!0})}hideOverlay(){this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})}isGridFocused(){const e=sn(this.beans);return!!e&&this.beans.eGridDiv.contains(e)}destroy(){this.elToFocusAfter=null,this.destroyActiveOverlay(),this.beans.overlays.setOverlayWrapperComp(void 0),super.destroy()}},pve={selector:"AG-OVERLAY-WRAPPER",component:EW},gve=class extends le{constructor(){super(...arguments),this.beanName="overlays",this.state=0,this.showInitialOverlay=!0,this.wrapperPadding=0}postConstruct(){this.isClientSide=Xt(this.gos),this.isServerSide=!this.isClientSide&&Lo(this.gos);const e=()=>this.updateOverlayVisibility();this.addManagedEventListeners({newColumnsLoaded:e,rowDataUpdated:e,gridSizeChanged:this.refreshWrapperPadding.bind(this),rowCountReady:()=>{this.showInitialOverlay=!1,this.updateOverlayVisibility()}}),this.addManagedPropertyListener("loading",e)}setOverlayWrapperComp(e){this.eWrapper=e,this.updateOverlayVisibility()}isVisible(){return this.state!==0&&!!this.eWrapper}isExclusive(){return this.state===1&&!!this.eWrapper}showLoadingOverlay(){this.showInitialOverlay=!1;const e=this.gos,t=e.get("loading");!t&&(t!==void 0||e.get("suppressLoadingOverlay"))||this.doShowLoadingOverlay()}showNoRowsOverlay(){this.showInitialOverlay=!1;const e=this.gos;e.get("loading")||e.get("suppressNoRowsOverlay")||this.doShowNoRowsOverlay()}hideOverlay(){if(this.showInitialOverlay=!1,this.gos.get("loading")){ve(99);return}this.doHideOverlay()}getOverlayWrapperSelector(){return pve}getOverlayWrapperCompClass(){return EW}updateOverlayVisibility(){if(!this.eWrapper){this.state=0;return}const{state:e,isClientSide:t,isServerSide:n,beans:{gos:r,colModel:i,rowModel:s}}=this;let o=this.gos.get("loading");o!==void 0&&(this.showInitialOverlay=!1),this.showInitialOverlay&&o===void 0&&!r.get("suppressLoadingOverlay")&&(o=!r.get("columnDefs")||!i.ready||!r.get("rowData")&&t),o?e!==1&&this.doShowLoadingOverlay():(this.showInitialOverlay=!1,t&&s.isEmpty()&&!r.get("suppressNoRowsOverlay")?e!==2&&this.doShowNoRowsOverlay():(e===1||!n&&e!==0)&&this.doHideOverlay())}doShowLoadingOverlay(){this.eWrapper&&(this.state=1,this.showOverlay(Ule(this.beans.userCompFactory,_e(this.gos,{})),"ag-overlay-loading-wrapper","loadingOverlayComponentParams"),this.updateExclusive())}doShowNoRowsOverlay(){this.eWrapper&&(this.state=2,this.showOverlay($le(this.beans.userCompFactory,_e(this.gos,{})),"ag-overlay-no-rows-wrapper","noRowsOverlayComponentParams"),this.updateExclusive())}doHideOverlay(){this.eWrapper&&(this.state=0,this.eWrapper.hideOverlay(),this.updateExclusive())}showOverlay(e,t,n){const r=e?.newAgStackInstance()??null;this.eWrapper?.showOverlay(r,t,this.isExclusive(),n),this.refreshWrapperPadding()}updateExclusive(){const e=this.exclusive;this.exclusive=this.isExclusive(),this.exclusive!==e&&this.eventSvc.dispatchEvent({type:"overlayExclusiveChanged"})}refreshWrapperPadding(){const e=this.eWrapper;if(!e)return;let t=0;this.state===2&&(t=this.beans.ctrlsSvc.get("gridHeaderCtrl")?.headerHeight||0),this.wrapperPadding!==t&&(this.wrapperPadding=t,e.updateOverlayWrapperPaddingTop(t))}},mve={moduleName:"Overlay",version:Re,userComponents:{agLoadingOverlay:Ade,agNoRowsOverlay:Nde},apiFunctions:{showLoadingOverlay:cve,showNoRowsOverlay:uve,hideOverlay:dve},beans:[gve]},vve=class extends le{constructor(){super(...arguments),this.beanName="rowContainerHeight",this.scrollY=0,this.uiBodyHeight=0}postConstruct(){this.addManagedEventListeners({bodyHeightChanged:this.updateOffset.bind(this)}),this.maxDivHeight=Qle(),Ec(this.gos,"RowContainerHeightService - maxDivHeight = "+this.maxDivHeight)}updateOffset(){if(!this.stretching)return;const e=this.beans.ctrlsSvc.getScrollFeature().getVScrollPosition().top,t=this.getUiBodyHeight();(e!==this.scrollY||t!==this.uiBodyHeight)&&(this.scrollY=e,this.uiBodyHeight=t,this.calculateOffset())}calculateOffset(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;const e=this.scrollY/this.maxScrollY,t=e*this.pixelsToShave;Ec(this.gos,`RowContainerHeightService - Div Stretch Offset = ${t} (${this.pixelsToShave} * ${e})`),this.setDivStretchOffset(t)}setUiContainerHeight(e){e!==this.uiContainerHeight&&(this.uiContainerHeight=e,this.eventSvc.dispatchEvent({type:"rowContainerHeightChanged"}))}clearOffset(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)}setDivStretchOffset(e){const t=typeof e=="number"?Math.floor(e):null;this.divStretchOffset!==t&&(this.divStretchOffset=t,this.eventSvc.dispatchEvent({type:"heightScaleChanged"}))}setModelHeight(e){this.modelHeight=e,this.stretching=e!=null&&this.maxDivHeight>0&&e>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()}getRealPixelPosition(e){return e-this.divStretchOffset}getUiBodyHeight(){const e=this.beans.ctrlsSvc.getScrollFeature().getVScrollPosition();return e.bottom-e.top}getScrollPositionForPixel(e){if(this.pixelsToShave<=0)return e;const t=this.modelHeight-this.getUiBodyHeight(),n=e/t;return this.maxScrollY*n}},yve=400,wve=class extends le{constructor(){super(...arguments),this.beanName="rowRenderer",this.destroyFuncsForColumnListeners=[],this.rowCtrlsByRowIndex={},this.zombieRowCtrls={},this.allRowCtrls=[],this.topRowCtrls=[],this.bottomRowCtrls=[],this.refreshInProgress=!1,this.dataFirstRenderedFired=!1,this.setupRangeSelectionListeners=()=>{const e=()=>{for(const s of this.getAllCellCtrls())s.onCellSelectionChanged()},t=()=>{for(const s of this.getAllCellCtrls())s.updateRangeBordersIfRangeCount()},n=()=>{this.eventSvc.addListener("cellSelectionChanged",e),this.eventSvc.addListener("columnMoved",t),this.eventSvc.addListener("columnPinned",t),this.eventSvc.addListener("columnVisible",t)},r=()=>{this.eventSvc.removeListener("cellSelectionChanged",e),this.eventSvc.removeListener("columnMoved",t),this.eventSvc.removeListener("columnPinned",t),this.eventSvc.removeListener("columnVisible",t)};this.addDestroyFunc(()=>r()),this.addManagedPropertyListeners(["enableRangeSelection","cellSelection"],()=>{Qa(this.gos)?n():r()}),Qa(this.gos)&&n()}}wireBeans(e){this.pageBounds=e.pageBounds,this.colModel=e.colModel,this.pinnedRowModel=e.pinnedRowModel,this.rowModel=e.rowModel,this.focusSvc=e.focusSvc,this.rowContainerHeight=e.rowContainerHeight,this.ctrlsSvc=e.ctrlsSvc,this.editSvc=e.editSvc}postConstruct(){this.ctrlsSvc.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.initialise()})}initialise(){this.addManagedEventListeners({paginationChanged:this.onPageLoaded.bind(this),pinnedRowDataChanged:this.onPinnedRowDataChanged.bind(this),pinnedRowsChanged:this.onPinnedRowsChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),bodyScroll:this.onBodyScroll.bind(this),bodyHeightChanged:this.redraw.bind(this,{})}),this.addManagedPropertyListeners(["domLayout","embedFullWidthRows"],()=>this.onDomLayoutChanged()),this.addManagedPropertyListeners(["suppressMaxRenderedRowRestriction","rowBuffer"],()=>this.redraw()),this.addManagedPropertyListener("suppressCellFocus",r=>this.onSuppressCellFocusChanged(r.currentValue)),this.addManagedPropertyListeners(["groupSuppressBlankHeader","getBusinessKeyForNode","fullWidthCellRenderer","fullWidthCellRendererParams","suppressStickyTotalRow","groupRowRenderer","groupRowRendererParams","loadingCellRenderer","loadingCellRendererParams","detailCellRenderer","detailCellRendererParams","enableRangeSelection","enableCellTextSelection"],()=>this.redrawRows()),this.addManagedPropertyListener("cellSelection",({currentValue:r,previousValue:i})=>{(!i&&r||i&&!r)&&this.redrawRows()});const{stickyRowSvc:e,gos:t,showRowGroupCols:n}=this.beans;if(n&&this.addManagedPropertyListener("showOpenedGroup",()=>{const r=n.getShowRowGroupCols();r.length&&this.refreshCells({columns:r,force:!0})}),e)this.stickyRowFeature=e.createStickyRowFeature(this,this.createRowCon.bind(this),this.destroyRowCtrls.bind(this));else{const r=this.gridBodyCtrl;r.setStickyTopHeight(0),r.setStickyBottomHeight(0)}this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=Sr(t,"print"),this.embedFullWidthRows=this.printLayout||t.get("embedFullWidthRows"),this.redrawAfterModelUpdate()}initialiseCache(){if(this.gos.get("keepDetailRows")){const e=this.getKeepDetailRowsCount(),t=e??3;this.cachedRowCtrls=new bve(t)}}getKeepDetailRowsCount(){return this.gos.get("keepDetailRowsCount")}getStickyTopRowCtrls(){return this.stickyRowFeature?.stickyTopRowCtrls??[]}getStickyBottomRowCtrls(){return this.stickyRowFeature?.stickyBottomRowCtrls??[]}updateAllRowCtrls(){const e=Object.values(this.rowCtrlsByRowIndex),t=Object.values(this.zombieRowCtrls),n=this.cachedRowCtrls?.getEntries()??[];t.length>0||n.length>0?this.allRowCtrls=[...e,...t,...n]:this.allRowCtrls=e}isCellBeingRendered(e,t){const n=this.rowCtrlsByRowIndex[e];return!t||!n?!!n:n.isFullWidth()?!0:!!this.beans.spannedRowRenderer?.getCellByPosition({rowIndex:e,column:t,rowPinned:null})||!!n.getCellCtrl(t)||!n.isRowRendered()}updateCellFocus(e){for(const t of this.getAllCellCtrls())t.onCellFocused(e);for(const t of this.getFullWidthRowCtrls())t.onFullWidthRowFocused(e)}onCellFocusChanged(e){if(e?.rowIndex!=null&&!e.rowPinned){const t=this.beans.colModel.getCol(e.column)??void 0;this.isCellBeingRendered(e.rowIndex,t)||this.redraw()}this.updateCellFocus(e)}onSuppressCellFocusChanged(e){for(const t of this.getAllCellCtrls())t.onSuppressCellFocusChanged(e);for(const t of this.getFullWidthRowCtrls())t.onSuppressCellFocusChanged(e)}registerCellEventListeners(){this.addManagedEventListeners({cellFocused:e=>this.onCellFocusChanged(e),cellFocusCleared:()=>this.updateCellFocus(),flashCells:e=>{const{cellFlashSvc:t}=this.beans;if(t)for(const n of this.getAllCellCtrls())t.onFlashCells(n,e)},columnHoverChanged:()=>{for(const e of this.getAllCellCtrls())e.onColumnHover()},displayedColumnsChanged:()=>{for(const e of this.getAllCellCtrls())e.onDisplayedColumnsChanged()},displayedColumnsWidthChanged:()=>{if(this.printLayout)for(const e of this.getAllCellCtrls())e.onLeftChanged()}}),this.setupRangeSelectionListeners(),this.refreshListenersToColumnsForCellComps(),this.addManagedEventListeners({gridColumnsChanged:this.refreshListenersToColumnsForCellComps.bind(this)}),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))}removeGridColumnListeners(){for(const e of this.destroyFuncsForColumnListeners)e();this.destroyFuncsForColumnListeners.length=0}refreshListenersToColumnsForCellComps(){this.removeGridColumnListeners();const e=this.colModel.getCols();for(const t of e){const n=l=>{for(const c of this.getAllCellCtrls())c.column===t&&l(c)},r=()=>{n(l=>l.onLeftChanged())},i=()=>{n(l=>l.onWidthChanged())},s=()=>{n(l=>l.onFirstRightPinnedChanged())},o=()=>{n(l=>l.onLastLeftPinnedChanged())},a=()=>{n(l=>l.onColDefChanged())};t.__addEventListener("leftChanged",r),t.__addEventListener("widthChanged",i),t.__addEventListener("firstRightPinnedChanged",s),t.__addEventListener("lastLeftPinnedChanged",o),t.__addEventListener("colDefChanged",a),this.destroyFuncsForColumnListeners.push(()=>{t.__removeEventListener("leftChanged",r),t.__removeEventListener("widthChanged",i),t.__removeEventListener("firstRightPinnedChanged",s),t.__removeEventListener("lastLeftPinnedChanged",o),t.__removeEventListener("colDefChanged",a)})}}onDomLayoutChanged(){const e=Sr(this.gos,"print"),t=e||this.gos.get("embedFullWidthRows"),n=t!==this.embedFullWidthRows||this.printLayout!==e;this.printLayout=e,this.embedFullWidthRows=t,n&&this.redrawAfterModelUpdate({domLayoutChanged:!0})}datasourceChanged(){this.firstRenderedRow=0,this.lastRenderedRow=-1;const e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)}onPageLoaded(e){const t={recycleRows:e.keepRenderedRows,animate:e.animate,newData:e.newData,newPage:e.newPage,onlyBody:!0};this.redrawAfterModelUpdate(t)}getAllCellsNotSpanningForColumn(e){const t=[];for(const n of this.getAllRowCtrls()){const r=n.getCellCtrl(e,!0)?.eGui;r&&t.push(r)}return t}refreshFloatingRowComps(e=!0){this.refreshFloatingRows(this.topRowCtrls,"top",e),this.refreshFloatingRows(this.bottomRowCtrls,"bottom",e)}refreshFloatingRows(e,t,n){const{pinnedRowModel:r,beans:i,printLayout:s}=this,o=Object.fromEntries(e.map(l=>[l.rowNode.id,l]));r?.forEachPinnedRow(t,(l,c)=>{const d=e[c];d&&r.getPinnedRowById(d.rowNode.id,t)===void 0&&(d.destroyFirstPass(),d.destroySecondPass()),l.id in o&&n?(e[c]=o[l.id],delete o[l.id]):e[c]=new Xw(l,i,!1,!1,s)});const a=(t==="top"?r?.getPinnedTopRowCount():r?.getPinnedBottomRowCount())??0;e.length=a}onPinnedRowDataChanged(){const e={recycleRows:!0};this.redrawAfterModelUpdate(e)}onPinnedRowsChanged(){this.redrawAfterModelUpdate({recycleRows:!0})}redrawRow(e,t=!1){if(e.sticky)this.stickyRowFeature?.refreshStickyNode(e);else if(this.cachedRowCtrls?.has(e)){this.cachedRowCtrls.removeRow(e);return}else{const n=r=>{const i=r[e.rowIndex];i&&i.rowNode===e&&(i.destroyFirstPass(),i.destroySecondPass(),r[e.rowIndex]=this.createRowCon(e,!1,!1))};switch(e.rowPinned){case"top":n(this.topRowCtrls);break;case"bottom":n(this.bottomRowCtrls);break;default:n(this.rowCtrlsByRowIndex),this.updateAllRowCtrls()}}t||this.dispatchDisplayedRowsChanged(!1)}redrawRows(e){const{editSvc:t}=this.beans;if(t?.isEditing()&&(t.isBatchEditing()?t.cleanupEditors():t.stopEditing(void 0,{source:"api"})),e!=null){for(const r of e??[])this.redrawRow(r,!0);this.dispatchDisplayedRowsChanged(!1);return}this.redrawAfterModelUpdate()}redrawAfterModelUpdate(e={}){this.getLockOnRefresh();const t=this.beans.focusSvc?.getFocusCellToUseAfterRefresh();this.updateContainerHeights(),this.scrollToTopIfNewData(e);const n=!e.domLayoutChanged&&!!e.recycleRows,r=e.animate&&zh(this.gos),i=n?this.getRowsToRecycle():null;n||this.removeAllRowComps(),this.workOutFirstAndLastRowsToRender();const{stickyRowFeature:s,gos:o}=this;if(s){s.checkStickyRows();const a=s.extraTopHeight+s.extraBottomHeight;a&&this.updateContainerHeights(a)}this.recycleRows(i,r),this.gridBodyCtrl.updateRowCount(),e.onlyBody||this.refreshFloatingRowComps(o.get("enableRowPinning")?n:void 0),this.dispatchDisplayedRowsChanged(),t!=null&&this.restoreFocusedCell(t),this.releaseLockOnRefresh()}scrollToTopIfNewData(e){const t=e.newData||e.newPage,n=this.gos.get("suppressScrollOnNewData");t&&!n&&(this.gridBodyCtrl.scrollFeature.scrollToTop(),this.stickyRowFeature?.resetOffsets())}updateContainerHeights(e=0){const{rowContainerHeight:t}=this;if(this.printLayout){t.setModelHeight(null);return}let n=this.pageBounds.getCurrentPageHeight();n===0&&(n=1),t.setModelHeight(n+e)}getLockOnRefresh(){if(this.refreshInProgress)throw new Error(Oo(252));this.refreshInProgress=!0,this.beans.frameworkOverrides.getLockOnRefresh?.()}releaseLockOnRefresh(){this.refreshInProgress=!1,this.beans.frameworkOverrides.releaseLockOnRefresh?.()}isRefreshInProgress(){return this.refreshInProgress}restoreFocusedCell(e){if(!e)return;const t=this.beans.focusSvc,n=this.findPositionToFocus(e);if(!n){t.focusHeaderPosition({headerPosition:{headerRowIndex:To(this.beans)-1,column:e.column}});return}if(e.rowIndex!==n.rowIndex||e.rowPinned!=n.rowPinned){t.setFocusedCell({...n,preventScrollOnBrowserFocus:!0,forceBrowserFocus:!0});return}t.doesRowOrCellHaveBrowserFocus()||this.updateCellFocus(_e(this.gos,{...n,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,type:"cellFocused"}))}findPositionToFocus(e){const{pagination:t,pageBounds:n}=this.beans;let r=e;for(r.rowPinned==null&&t&&n&&!t.isRowInPage(r.rowIndex)&&(r={rowPinned:null,rowIndex:n.getFirstRow()});r;){if(r.rowPinned==null&&n)if(r.rowIndex<n.getFirstRow()){if(r=Yw(this.beans,{rowPinned:null,rowIndex:0}),!r)return null}else r.rowIndex>n.getLastRow()&&(r={rowPinned:null,rowIndex:n.getLastRow()});const i=this.getRowByPosition(r);if(i?.isAlive())return{...i.getRowPosition(),column:e.column};r=Yw(this.beans,r)}return null}getAllCellCtrls(){const e=[],t=this.getAllRowCtrls(),n=t.length;for(let r=0;r<n;r++){const i=t[r].getAllCellCtrls(),s=i.length;for(let o=0;o<s;o++)e.push(i[o])}return e}getAllRowCtrls(){const{spannedRowRenderer:e}=this.beans,t=this.getStickyTopRowCtrls(),n=this.getStickyBottomRowCtrls();return[...this.topRowCtrls,...this.bottomRowCtrls,...t,...n,...e?.getCtrls("top")??[],...e?.getCtrls("bottom")??[],...e?.getCtrls("center")??[],...Object.values(this.rowCtrlsByRowIndex)]}addRenderedRowListener(e,t,n){const r=this.rowCtrlsByRowIndex[t];r&&r.addEventListener(e,n)}refreshCells({rowNodes:e,columns:t,force:n,suppressFlash:r}={}){const i={force:n,newData:!1,suppressFlash:r};for(const s of this.getCellCtrls(e,t))s.refreshOrDestroyCell(i);this.refreshFullWidth(e)}refreshRows(e={}){for(const t of this.getRowCtrls(e.rowNodes))t.refreshRow(e);this.refreshFullWidth(e.rowNodes)}refreshFullWidth(e){if(!e)return;let t=!1;for(const n of this.getRowCtrls(e)){if(!n.isFullWidth())continue;n.refreshFullWidth()||(t=!0,this.redrawRow(n.rowNode,!0))}t&&this.dispatchDisplayedRowsChanged(!1)}getRowCtrls(e){const t=Z2(e),n=this.getAllRowCtrls();return!e||!t?n:n.filter(r=>{const i=r.rowNode;return eT(i,t)})}getCellCtrls(e,t){let n;De(t)&&(n={},t.forEach(i=>{const s=this.colModel.getCol(i);De(s)&&(n[s.getId()]=!0)}));const r=[];for(const i of this.getRowCtrls(e))for(const s of i.getAllCellCtrls()){const o=s.column.getId();n&&!n[o]||r.push(s)}return r}destroy(){this.removeAllRowComps(!0),super.destroy()}removeAllRowComps(e=!1){const t=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(t,e),this.stickyRowFeature?.destroyStickyCtrls()}getRowsToRecycle(){const e=[];for(const n of Object.keys(this.rowCtrlsByRowIndex))this.rowCtrlsByRowIndex[n].rowNode.id==null&&e.push(n);this.removeRowCtrls(e);const t={};for(const n of Object.values(this.rowCtrlsByRowIndex)){const r=n.rowNode;t[r.id]=n}return this.rowCtrlsByRowIndex={},t}removeRowCtrls(e,t=!1){for(const n of e){const r=this.rowCtrlsByRowIndex[n];r&&(r.destroyFirstPass(t),r.destroySecondPass()),delete this.rowCtrlsByRowIndex[n]}}onBodyScroll(e){e.direction==="vertical"&&this.redraw({afterScroll:!0})}redraw(e={}){const{focusSvc:t,animationFrameSvc:n}=this.beans,{afterScroll:r}=e;let i;const s=this.stickyRowFeature;s&&(i=t?.getFocusCellToUseAfterRefresh()||void 0);const o=this.firstRenderedRow,a=this.lastRenderedRow;this.workOutFirstAndLastRowsToRender();let l=!1;if(s){l=s.checkStickyRows();const d=s.extraTopHeight+s.extraBottomHeight;d&&this.updateContainerHeights(d)}const c=this.firstRenderedRow!==o||this.lastRenderedRow!==a;if(!(r&&!l&&!c)&&(this.getLockOnRefresh(),this.recycleRows(null,!1,r),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(r&&!l),i!=null)){const d=t?.getFocusCellToUseAfterRefresh();i!=null&&d==null&&(n?.flushAllFrames(),this.restoreFocusedCell(i))}}removeRowCompsNotToDraw(e,t){const n={};for(const s of e)n[s]=!0;const i=Object.keys(this.rowCtrlsByRowIndex).filter(s=>!n[s]);this.removeRowCtrls(i,t)}calculateIndexesToDraw(e){const t=[];for(let o=this.firstRenderedRow;o<=this.lastRenderedRow;o++)t.push(o);const n=this.beans.pagination,r=this.beans.focusSvc?.getFocusedCell()?.rowIndex;r!=null&&(r<this.firstRenderedRow||r>this.lastRenderedRow)&&(!n||n.isRowInPage(r))&&r<this.rowModel.getRowCount()&&t.push(r);const i=o=>{const a=o.rowNode.rowIndex;a==null||a===r||(a<this.firstRenderedRow||a>this.lastRenderedRow)&&this.doNotUnVirtualiseRow(o)&&t.push(a)};for(const o of Object.values(this.rowCtrlsByRowIndex))i(o);if(e)for(const o of Object.values(e))i(o);t.sort((o,a)=>o-a);const s=[];for(let o=0;o<t.length;o++){const a=t[o],l=this.rowModel.getRow(a);l&&!l.sticky&&s.push(a)}return s}recycleRows(e,t=!1,n=!1){const r=this.calculateIndexesToDraw(e);(this.printLayout||n)&&(t=!1),this.removeRowCompsNotToDraw(r,!t);for(const i of r)this.createOrUpdateRowCtrl(i,e,t,n);if(e){const{animationFrameSvc:i}=this.beans;i?.active&&n&&!this.printLayout?i.addDestroyTask(()=>{this.destroyRowCtrls(e,t),this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}):this.destroyRowCtrls(e,t)}this.updateAllRowCtrls()}dispatchDisplayedRowsChanged(e=!1){this.eventSvc.dispatchEvent({type:"displayedRowsChanged",afterScroll:e})}onDisplayedColumnsChanged(){const{visibleCols:e}=this.beans,t=e.isPinningLeft(),n=e.isPinningRight();(this.pinningLeft!==t||n!==this.pinningRight)&&(this.pinningLeft=t,this.pinningRight=n,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())}redrawFullWidthEmbeddedRows(){const e=[];for(const t of this.getFullWidthRowCtrls()){const n=t.rowNode.rowIndex;e.push(n.toString())}this.refreshFloatingRowComps(),this.removeRowCtrls(e),this.redraw({afterScroll:!0})}getFullWidthRowCtrls(e){const t=Z2(e);return this.getAllRowCtrls().filter(n=>{if(!n.isFullWidth())return!1;const r=n.rowNode;return!(t!=null&&!eT(r,t))})}createOrUpdateRowCtrl(e,t,n,r){let i,s=this.rowCtrlsByRowIndex[e];if(s||(i=this.rowModel.getRow(e),De(i)&&De(t)&&t[i.id]&&i.alreadyRendered&&(s=t[i.id],t[i.id]=null)),!s)if(i||(i=this.rowModel.getRow(e)),De(i))s=this.createRowCon(i,n,r);else return;i&&(i.alreadyRendered=!0),this.rowCtrlsByRowIndex[e]=s}destroyRowCtrls(e,t){const n=[];if(e){for(const r of Object.values(e))if(r){if(this.cachedRowCtrls&&r.isCacheable()){this.cachedRowCtrls.addRow(r);continue}if(r.destroyFirstPass(!t),t){const i=r.instanceId;this.zombieRowCtrls[i]=r,n.push(()=>{r.destroySecondPass(),delete this.zombieRowCtrls[i]})}else r.destroySecondPass()}}t&&(n.push(()=>{this.isAlive()&&(this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged())}),window.setTimeout(()=>{for(const r of n)r()},yve))}getRowBuffer(){return this.gos.get("rowBuffer")}getRowBufferInPixels(){const e=this.getRowBuffer(),t=Lu(this.beans);return e*t}workOutFirstAndLastRowsToRender(){const{rowContainerHeight:e,pageBounds:t,rowModel:n}=this;e.updateOffset();let r,i;if(!n.isRowsToRender())r=0,i=-1;else if(this.printLayout)this.beans.environment.refreshRowHeightVariable(),r=t.getFirstRow(),i=t.getLastRow();else{const d=this.getRowBufferInPixels(),f=this.ctrlsSvc.getScrollFeature(),p=this.gos.get("suppressRowVirtualisation");let v=!1,y,b;do{const T=t.getPixelOffset(),{pageFirstPixel:k,pageLastPixel:P}=t.getCurrentPagePixelRange(),A=e.divStretchOffset,O=f.getVScrollPosition(),B=O.top,U=O.bottom;p?(y=k+A,b=P+A):(y=Math.max(B+T-d,k)+A,b=Math.min(U+T+d,P)+A),this.firstVisibleVPixel=Math.max(B+T,k)+A,this.lastVisibleVPixel=Math.min(U+T,P)+A,v=this.ensureAllRowsInRangeHaveHeightsCalculated(y,b)}while(v);let x=n.getRowIndexAtPixel(y),S=n.getRowIndexAtPixel(b);const M=t.getFirstRow(),R=t.getLastRow();x<M&&(x=M),S>R&&(S=R),r=x,i=S}const s=Sr(this.gos,"normal"),o=this.gos.get("suppressMaxRenderedRowRestriction"),a=Math.max(this.getRowBuffer(),500);s&&!o&&i-r>a&&(i=r+a);const l=r!==this.firstRenderedRow,c=i!==this.lastRenderedRow;(l||c)&&(this.firstRenderedRow=r,this.lastRenderedRow=i,this.eventSvc.dispatchEvent({type:"viewportChanged",firstRow:r,lastRow:i}))}dispatchFirstDataRenderedEvent(){this.dataFirstRenderedFired||(this.dataFirstRenderedFired=!0,ul(this.beans,()=>{this.beans.eventSvc.dispatchEvent({type:"firstDataRendered",firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow})}))}ensureAllRowsInRangeHaveHeightsCalculated(e,t){const n=this.pinnedRowModel?.ensureRowHeightsValid(),r=this.stickyRowFeature?.ensureRowHeightsValid(),{pageBounds:i,rowModel:s}=this,o=s.ensureRowHeightsValid(e,t,i.getFirstRow(),i.getLastRow());return(o||r)&&this.eventSvc.dispatchEvent({type:"recalculateRowBounds"}),r||o||n?(this.updateContainerHeights(),!0):!1}doNotUnVirtualiseRow(e){const r=e.rowNode,i=this.focusSvc.isRowFocused(r.rowIndex,r.rowPinned),s=this.editSvc?.isEditing(e),o=r.detail;return i||s||o?!!this.isRowPresent(r):!1}isRowPresent(e){return this.rowModel.isRowPresent(e)?this.beans.pagination?.isRowInPage(e.rowIndex)??!0:!1}createRowCon(e,t,n){const r=this.cachedRowCtrls?.getRow(e)??null;if(r)return r;const i=n&&!this.printLayout&&!!this.beans.animationFrameSvc?.active;return new Xw(e,this.beans,t,i,this.printLayout)}getRenderedNodes(){const e=Object.values(this.rowCtrlsByRowIndex).map(r=>r.rowNode),t=this.getStickyTopRowCtrls().map(r=>r.rowNode),n=this.getStickyBottomRowCtrls().map(r=>r.rowNode);return[...t,...e,...n]}getRowByPosition(e){let t;const{rowIndex:n}=e;switch(e.rowPinned){case"top":t=this.topRowCtrls[n];break;case"bottom":t=this.bottomRowCtrls[n];break;default:t=this.rowCtrlsByRowIndex[n],t||(t=this.getStickyTopRowCtrls().find(r=>r.rowNode.rowIndex===n)||null,t||(t=this.getStickyBottomRowCtrls().find(r=>r.rowNode.rowIndex===n)||null));break}return t}isRangeInRenderedViewport(e,t){if(e==null||t==null)return!1;const r=e>this.lastRenderedRow;return!(t<this.firstRenderedRow)&&!r}},bve=class{constructor(e){this.entriesMap={},this.entriesList=[],this.maxCount=e}addRow(e){if(this.entriesMap[e.rowNode.id]=e,this.entriesList.push(e),e.setCached(!0),this.entriesList.length>this.maxCount){const t=this.entriesList[0];t.destroyFirstPass(),t.destroySecondPass(),this.removeFromCache(t)}}getRow(e){if(e?.id==null)return null;const t=this.entriesMap[e.id];return t?(this.removeFromCache(t),t.setCached(!1),t.rowNode!=e?null:t):null}has(e){return this.entriesMap[e.id]!=null}removeRow(e){const t=e.id,n=this.entriesMap[t];delete this.entriesMap[t],Js(this.entriesList,n)}removeFromCache(e){const t=e.rowNode.id;delete this.entriesMap[t],Js(this.entriesList,e)}getEntries(){return this.entriesList}};function Z2(e){if(!e)return;const t={top:{},bottom:{},normal:{}};for(const n of e){const r=n.id;switch(n.rowPinned){case"top":t.top[r]=n;break;case"bottom":t.bottom[r]=n;break;default:t.normal[r]=n;break}}return t}function eT(e,t){const n=e.id;switch(e.rowPinned){case"top":return t.top[n]!=null;case"bottom":return t.bottom[n]!=null;default:return t.normal[n]!=null}}var Cve=class extends le{constructor(){super(...arguments),this.beanName="rowNodeSorter"}postConstruct(){const{gos:e}=this;this.isAccentedSort=e.get("accentedSort"),this.primaryColumnsSortGroups=So(e),this.addManagedPropertyListener("accentedSort",t=>this.isAccentedSort=t.currentValue),this.addManagedPropertyListener("autoGroupColumnDef",()=>this.primaryColumnsSortGroups=So(e))}doFullSort(e,t){const n=e.map((r,i)=>({currentPos:i,rowNode:r}));return n.sort(this.compareRowNodes.bind(this,t)),n.map(r=>r.rowNode)}compareRowNodes(e,t,n){const r=t.rowNode,i=n.rowNode;for(let s=0,o=e.length;s<o;s++){const a=e[s],l=a.sort==="desc",c=this.getValue(r,a.column),d=this.getValue(i,a.column);let f;const p=this.getComparator(a,r);if(p?f=p(c,d,r,i,l):f=Doe(c,d,this.isAccentedSort),!isNaN(f)&&f!==0)return a.sort==="asc"?f:f*-1}return t.currentPos-n.currentPos}getComparator(e,t){const n=e.column,r=n.getColDef().comparator;if(r!=null)return r;if(!n.getColDef().showRowGroup)return;const i=!t.group&&n.getColDef().field;if(!i)return;const s=this.beans.colModel.getColDefCol(i);if(s)return s.getColDef().comparator}getValue(e,t){const{valueSvc:n,colModel:r,showRowGroupCols:i,gos:s}=this.beans;if(!this.primaryColumnsSortGroups)return n.getValue(t,e,!1);if(e.rowGroupColumn===t){if(xV(s,r.isPivotActive())){const c=e.data?e:d7(e.childrenAfterGroup);return c&&n.getValue(t,c,!1)}const l=i?.getShowRowGroupCol(t.getId());return l?e.groupData?.[l.getId()]:void 0}if(!(e.group&&t.getColDef().showRowGroup))return n.getValue(t,e,!1)}};function xve(e){e.sortSvc?.onSortChanged("api")}var DW={moduleName:"Sort",version:Re,beans:[Bge,Cve],apiFunctions:{onSortChanged:xve},userComponents:{agSortIndicator:BA},icons:{sortAscending:"asc",sortDescending:"desc",sortUnSort:"none"}},Sve=class extends le{constructor(){super(...arguments),this.beanName="syncSvc",this.waitingForColumns=!1}postConstruct(){this.addManagedPropertyListener("columnDefs",e=>this.setColumnDefs(e))}start(){this.beans.ctrlsSvc.whenReady(this,()=>{const e=this.gos.get("columnDefs");e?this.setColumnsAndData(e):this.waitingForColumns=!0,this.gridReady()})}setColumnsAndData(e){const{colModel:t,rowModel:n}=this.beans;t.setColumnDefs(e??[],"gridInitializing"),n.start()}gridReady(){const{eventSvc:e,gos:t}=this;e.dispatchEvent({type:"gridReady"}),Ec(t,`initialised successfully, enterprise = ${t.isModuleRegistered("EnterpriseCore")}`)}setColumnDefs(e){const t=this.gos.get("columnDefs");if(t){if(this.waitingForColumns){this.waitingForColumns=!1,this.setColumnsAndData(t);return}this.beans.colModel.setColumnDefs(t,Gh(e.source))}}};function Eve(e){e.valueCache?.expire()}function Dve(e,t){const{colKey:n,rowNode:r,useFormatter:i}=t,s=e.colModel.getColDefCol(n)??e.colModel.getCol(n);if(Kt(s))return null;const o=e.valueSvc.getValueForDisplay(s,r,i);return i?o.valueFormatted??vd(o.value):o.value}var Rve="paste",Mve=class extends le{constructor(){super(...arguments),this.beanName="changeDetectionSvc",this.clientSideRowModel=null}postConstruct(){const{gos:e,rowModel:t}=this.beans;Xt(e)&&(this.clientSideRowModel=t),this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this)})}onCellValueChanged(e){const{gos:t,rowRenderer:n}=this.beans;if(e.source===Rve||t.get("suppressChangeDetection"))return;const r=e.node,i=[r],s=this.clientSideRowModel,o=s?.rootNode;if(o&&!r.isRowPinned()){const a=t.get("aggregateOnlyChangedColumns"),l=new cm(a,o);l.addParentNode(r.parent,[e.column]),s.doAggregate(l),l.forEachChangedNodeDepthFirst(c=>{i.push(c),c.sibling&&i.push(c.sibling)})}n.refreshCells({rowNodes:i})}},Tve=class extends le{constructor(){super(...arguments),this.beanName="expressionSvc",this.cache={}}evaluate(e,t){if(typeof e=="string")return this.evaluateExpression(e,t);Dt(15,{expression:e})}evaluateExpression(e,t){try{return this.createExpressionFunction(e)(t.value,t.context,t.oldValue,t.newValue,t.value,t.node,t.data,t.colDef,t.rowIndex,t.api,t.getValue,t.column,t.columnGroup)}catch(n){return Dt(16,{expression:e,params:t,e:n}),null}}createExpressionFunction(e){const t=this.cache;if(t[e])return t[e];const n=this.createFunctionBody(e),r=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, getValue, column, columnGroup",n);return t[e]=r,r}createFunctionBody(e){return e.includes("return")?e:"return "+e+";"}},kve=class extends le{constructor(){super(...arguments),this.beanName="valueCache",this.cacheVersion=0}postConstruct(){const e=this.gos;this.active=e.get("valueCache"),this.neverExpires=e.get("valueCacheNeverExpires")}onDataChanged(){this.neverExpires||this.expire()}expire(){this.cacheVersion++}setValue(e,t,n){if(this.active){const r=this.cacheVersion;e.__cacheVersion!==r&&(e.__cacheVersion=r,e.__cacheData={}),e.__cacheData[t]=n}}getValue(e,t){if(!(!this.active||e.__cacheVersion!==this.cacheVersion))return e.__cacheData[t]}},Ave={moduleName:"ValueCache",version:Re,beans:[kve],apiFunctions:{expireValueCache:Eve}},Pve={moduleName:"Expression",version:Re,beans:[Tve]},Nve={moduleName:"ChangeDetection",version:Re,beans:[Mve]},Ove={moduleName:"CellApi",version:Re,apiFunctions:{getCellValue:Dve}},Fve=class extends le{constructor(){super(...arguments),this.beanName="valueSvc",this.hasEditSvc=!1,this.initialised=!1,this.isSsrm=!1}wireBeans(e){this.expressionSvc=e.expressionSvc,this.colModel=e.colModel,this.valueCache=e.valueCache,this.dataTypeSvc=e.dataTypeSvc,this.editSvc=e.editSvc,this.hasEditSvc=!!e.editSvc}postConstruct(){this.initialised||this.init()}init(){this.executeValueGetter=this.valueCache?this.executeValueGetterWithValueCache.bind(this):this.executeValueGetterWithoutValueCache.bind(this),this.isSsrm=Lo(this.gos),this.cellExpressions=this.gos.get("enableCellExpressions"),this.isTreeData=this.gos.get("treeData"),this.initialised=!0;const e=t=>this.callColumnCellValueChangedHandler(t);this.eventSvc.addListener("cellValueChanged",e,!0),this.addDestroyFunc(()=>this.eventSvc.removeListener("cellValueChanged",e,!0)),this.addManagedPropertyListener("treeData",t=>this.isTreeData=t.currentValue)}getValueForDisplay(e,t,n=!1,r=!1,i="ui"){const{showRowGroupColValueSvc:s}=this.beans,o=!e&&t.group,a=e?.colDef.showRowGroup,l=!this.isTreeData||t.footer;if(s&&l&&(o||a)){const b=s.getGroupValue(t,e);if(b==null)return{value:null,valueFormatted:null};if(!n)return{value:b.value,valueFormatted:null};const x=s.formatAndPrefixGroupColValue(b,e,r);return{value:b.value,valueFormatted:x}}if(!e)return{value:t.key,valueFormatted:null};const c=t.leafGroup&&this.colModel.isPivotMode(),d=t.group&&t.expanded&&!t.footer&&!c,f=this.gos.get("groupSuppressBlankHeader")||!t.sibling,p=d&&!f,v=this.getValue(e,t,p,i),y=n&&!(r&&e.colDef.useValueFormatterForExport===!1);return{value:v,valueFormatted:y?this.formatValue(e,t,v):null}}getValue(e,t,n=!1,r="ui"){if(this.initialised||this.init(),!t)return;const i=e.getColDef(),s=i.field,o=e.getColId(),a=t.data;if(this.hasEditSvc&&r==="ui"){const b=this.editSvc;if(b.isEditing()){const x=b.getCellDataValue({rowNode:t,column:e},!0);if(x!==void 0)return x}}let l;const c=i.showRowGroup;if(typeof c=="string"&&(this.beans.rowGroupColsSvc?.getColumnIndex(c)??-1)>t.level)return null;const d=typeof c!="string"||!t.group,f=t.groupData&&o in t.groupData,p=!n&&t.aggData&&t.aggData[o]!==void 0,v=this.isSsrm&&n&&!!i.aggFunc,y=this.isSsrm&&t.footer&&t.field&&(i.showRowGroup===!0||i.showRowGroup===t.field);if(this.isTreeData&&p)l=t.aggData[o];else if(this.isTreeData&&i.valueGetter)l=this.executeValueGetter(i.valueGetter,a,e,t);else if(this.isTreeData&&s&&a)l=Fg(a,s,e.isFieldContainsDots());else if(f)l=t.groupData[o];else if(p)l=t.aggData[o];else if(i.valueGetter&&!v){if(!d)return l;l=this.executeValueGetter(i.valueGetter,a,e,t)}else if(y)l=Fg(a,t.field,e.isFieldContainsDots());else if(s&&a&&!v){if(!d)return l;l=Fg(a,s,e.isFieldContainsDots())}if(this.cellExpressions&&typeof l=="string"&&l.indexOf("=")===0){const b=l.substring(1);l=this.executeValueGetter(b,a,e,t)}return l}parseValue(e,t,n,r){const i=e.getColDef(),s=i.valueParser;if(De(s)){const o=_e(this.gos,{node:t,data:t?.data,oldValue:r,newValue:n,colDef:i,column:e});return typeof s=="function"?s(o):this.expressionSvc?.evaluate(s,o)}return n}getDeleteValue(e,t){return De(e.getColDef().valueParser)?this.parseValue(e,t,"",this.getValueForDisplay(e,t).value)??null:null}formatValue(e,t,n,r,i=!0){const{expressionSvc:s}=this.beans;let o=null,a;const l=e.getColDef();if(r?a=r:i&&(a=l.valueFormatter),a){const c=t?t.data:null,d=_e(this.gos,{value:n,node:t,data:c,colDef:l,column:e});typeof a=="function"?o=a(d):o=s?s.evaluate(a,d):null}else if(l.refData)return l.refData[n]||"";return o==null&&Array.isArray(n)&&(o=n.join(", ")),o}setValue(e,t,n,r){const i=this.colModel.getColDefCol(t);if(!e||!i)return!1;Kt(e.data)&&(e.data={});const{field:s,valueSetter:o}=i.getColDef();if(Kt(s)&&Kt(o))return ve(17),!1;if(this.dataTypeSvc&&!this.dataTypeSvc.checkType(i,n))return ve(135),!1;const a=_e(this.gos,{node:e,data:e.data,oldValue:this.getValue(i,e,void 0,r),newValue:n,colDef:i.getColDef(),column:i});a.newValue=n;let l;if(De(o)?typeof o=="function"?l=o(a):l=this.expressionSvc?.evaluate(o,a):l=this.setValueUsingField(e.data,s,n,i.isFieldContainsDots()),l===void 0&&(l=!0),!l)return!1;e.resetQuickFilterAggregateText(),this.valueCache?.onDataChanged();const c=this.getValue(i,e);return this.dispatchCellValueChangedEvent(e,a,c,r),e.pinnedSibling&&this.dispatchCellValueChangedEvent(e.pinnedSibling,a,c,r),!0}dispatchCellValueChangedEvent(e,t,n,r){this.eventSvc.dispatchEvent({type:"cellValueChanged",event:null,rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:t.column,colDef:t.colDef,data:e.data,node:e,oldValue:t.oldValue,newValue:n,value:n,source:r})}callColumnCellValueChangedHandler(e){const t=e.colDef.onCellValueChanged;typeof t=="function"&&this.beans.frameworkOverrides.wrapOutgoing(()=>{t({node:e.node,data:e.data,oldValue:e.oldValue,newValue:e.newValue,colDef:e.colDef,column:e.column,api:e.api,context:e.context})})}setValueUsingField(e,t,n,r){if(!t)return!1;let i=!1;if(!r)i=e[t]===n,i||(e[t]=n);else{const s=t.split(".");let o=e;for(;s.length>0&&o;){const a=s.shift();s.length===0?(i=o[a]===n,i||(o[a]=n)):o=o[a]}}return!i}executeValueGetterWithValueCache(e,t,n,r){const i=n.getColId(),s=this.valueCache.getValue(r,i);if(s!==void 0)return s;const o=this.executeValueGetterWithoutValueCache(e,t,n,r);return this.valueCache.setValue(r,i,o),o}executeValueGetterWithoutValueCache(e,t,n,r){const i=_e(this.gos,{data:t,node:r,column:n,colDef:n.getColDef(),getValue:this.getValueCallback.bind(this,r)});let s;return typeof e=="function"?s=e(i):s=this.expressionSvc?.evaluate(e,i),s}getValueCallback(e,t){const n=this.colModel.getColDefCol(t);return n?this.getValue(n,e):null}getKeyForNode(e,t){const n=this.getValue(e,t),r=e.getColDef().keyCreator;let i=n;if(r){const s=_e(this.gos,{value:n,colDef:e.getColDef(),column:e,node:t,data:t.data});i=r(s)}return typeof i=="string"||i==null||(i=String(i),i==="[object Object]"&&ve(121)),i}},Ive={moduleName:"CommunityCore",version:Re,beans:[Ige,Ehe,Lpe,gle,vve,Kfe,kge,sme,dle,Zme,Jme,wve,Fve,Oge,Tge,Fge,jpe,Sve,Ppe,Npe,mme],icons:{selectOpen:"small-down",smallDown:"small-down",colorPicker:"color-picker",smallUp:"small-up",checkboxChecked:"small-up",checkboxIndeterminate:"checkbox-indeterminate",checkboxUnchecked:"checkbox-unchecked",radioButtonOn:"radio-button-on",radioButtonOff:"radio-button-off",smallLeft:"small-left",smallRight:"small-right"},apiFunctions:{getGridId:Dhe,destroy:Rhe,isDestroyed:Mhe,getGridOption:The,setGridOption:khe,updateGridOptions:U7,isModuleRegistered:Ahe},dependsOn:[Tpe,Rfe,Ofe,DW,hme,Qfe,fme,mve,Nve,gme,Xme,rve,sve,yme,Ipe,kpe,Pve,epe,lve]},RW={AdvancedFilter:1,AiToolkit:1,AllEnterprise:1,BatchEdit:1,CellSelection:1,Clipboard:1,ColumnMenu:1,ColumnsToolPanel:1,ContextMenu:1,ExcelExport:1,FiltersToolPanel:1,Find:1,GridCharts:1,IntegratedCharts:1,GroupFilter:1,MasterDetail:1,Menu:1,MultiFilter:1,NewFiltersToolPanel:1,Pivot:1,RangeSelection:1,RichSelect:1,RowNumbers:1,RowGrouping:1,RowGroupingPanel:1,ServerSideRowModelApi:1,ServerSideRowModel:1,SetFilter:1,SideBar:1,Sparklines:1,StatusBar:1,TreeData:1,ViewportRowModel:1},BD=["TextFilter","NumberFilter","DateFilter","SetFilter","MultiFilter","GroupFilter","CustomFilter"],Lve={EditCore:["TextEditor","NumberEditor","DateEditor","CheckboxEditor","LargeTextEditor","SelectEditor","RichSelect","CustomEditor"],CheckboxCellRenderer:["AllCommunity"],ClientSideRowModelHierarchy:["RowGrouping","Pivot","TreeData"],ColumnFilter:BD,ColumnGroupHeaderComp:["AllCommunity"],ColumnGroup:["AllCommunity"],ColumnHeaderComp:["AllCommunity"],ColumnMove:["AllCommunity"],ColumnResize:["AllCommunity"],CommunityCore:["AllCommunity"],CsrmSsrmSharedApi:["ClientSideRowModelApi","ServerSideRowModelApi"],RowModelSharedApi:["ClientSideRowModelApi","ServerSideRowModelApi"],EnterpriseCore:["AllEnterprise"],FilterCore:[...BD,"QuickFilter","ExternalFilter","AdvancedFilter"],GroupCellRenderer:["RowGrouping","Pivot","TreeData","MasterDetail","ServerSideRowModel"],KeyboardNavigation:["AllCommunity"],LoadingCellRenderer:["ServerSideRowModel"],MenuCore:["ColumnMenu","ContextMenu"],MenuItem:["ColumnMenu","ContextMenu","MultiFilter","IntegratedCharts","ColumnsToolPanel"],Overlay:["AllCommunity"],PinnedColumn:["AllCommunity"],SharedAggregation:["RowGrouping","Pivot","TreeData","ServerSideRowModel"],SharedDragAndDrop:["AllCommunity"],SharedMasterDetail:["MasterDetail","ServerSideRowModel"],SharedMenu:[...BD,"ColumnMenu","ContextMenu"],SharedPivot:["Pivot","ServerSideRowModel"],SharedRowGrouping:["RowGrouping","ServerSideRowModel"],SharedRowSelection:["RowSelection","ServerSideRowModel"],SkeletonCellRenderer:["ServerSideRowModel"],Sort:["AllCommunity"],SsrmInfiniteSharedApi:["InfiniteRowModel","ServerSideRowModelApi"],SharedTreeData:["TreeData","ServerSideRowModel"]},_ve={InfiniteRowModel:"infinite",ClientSideRowModelApi:"clientSide",ClientSideRowModel:"clientSide",ServerSideRowModelApi:"serverSide",ServerSideRowModel:"serverSide",ViewportRowModel:"viewport"};function jve(e,t){const n=[];for(const r of Array.isArray(e)?e:[e]){const i=Lve[r];if(i)for(const s of i){const o=_ve[s];(!o||o===t)&&n.push(s)}else n.push(r)}return n}var MW=()=>`No AG Grid modules are registered! It is recommended to start with all Community features via the AllCommunityModule:
                    
    import { ModuleRegistry, AllCommunityModule } from 'ag-grid-community';
    
    ModuleRegistry.registerModules([ AllCommunityModule ]);
    `,Bve=e=>{const t=e.map(r=>`import { ${Ig(r)} } from '${RW[r]?"ag-grid-enterprise":"ag-grid-community"}';`);return e.some(r=>r==="IntegratedCharts"||r==="Sparklines")&&t.push("import { AgChartsEnterpriseModule } from 'ag-charts-enterprise';"),`import { ModuleRegistry } from 'ag-grid-community'; 
${t.join(` 
`)} 

ModuleRegistry.registerModules([ ${e.map(r=>Ig(r,!0)).join(", ")} ]); 

For more info see: ${Hh}/modules/`};function Ig(e,t=!1){return t&&(e==="IntegratedCharts"||e==="Sparklines")?`${e}Module.with(AgChartsEnterpriseModule)`:`${e}Module`}function Hve(e,t){const n=t.filter(s=>s==="IntegratedCharts"||s==="Sparklines");let r="";return!globalThis?.agCharts&&n.length>0?r=`Unable to use ${e} as either the ag-charts-community or ag-charts-enterprise script needs to be included alongside ag-grid-enterprise.
`:t.some(s=>RW[s])&&(r=r+`Unable to use ${e} as that requires the ag-grid-enterprise script to be included.
`),r}function TW({moduleName:e,rowModelType:t}){return`To use the ${e}Module you must set the gridOption "rowModelType='${t}'"`}var R_=({reasonOrId:e,moduleName:t,gridScoped:n,gridId:r,rowModelType:i,additionalText:s,isUmd:o})=>{const a=jve(t,i),l=typeof e=="string"?e:Wve[e];if(o)return Hve(l,a);const c=a.filter(p=>p==="IntegratedCharts"||p==="Sparklines"),d=c.length>0?`${c.map(p=>Ig(p)).join()} must be initialised with an AG Charts module. One of 'AgChartsCommunityModule' / 'AgChartsEnterpriseModule'.`:"";return`${`Unable to use ${l} as ${a.length>1?"one of "+a.map(p=>Ig(p)).join(", "):Ig(a[0])} is not registered${n?" for gridId: "+r:""}. ${d} Check if you have registered the module:
`}
${Bve(a)}`+(s?` 

${s}`:"")},M_=e=>`${e} must be initialised with an AG Charts module. One of 'AgChartsCommunityModule' / 'AgChartsEnterpriseModule'.

import { AgChartsEnterpriseModule } from 'ag-charts-enterprise';
import { ModuleRegistry } from 'ag-grid-community';
import { ${e} } from 'ag-grid-enterprise';
    
ModuleRegistry.registerModules([${e}.with(AgChartsEnterpriseModule)]);
    `,zve=e=>`AG Grid: Unable to use the Clipboard API (navigator.clipboard.${e}()). The reason why it could not be used has been logged in the previous line. For this reason the grid has defaulted to using a workaround which doesn't perform as well. Either fix why Clipboard API is blocked, OR stop this message from appearing by setting grid property suppressClipboardApi=true (which will default the grid to using the workaround rather than the API.`,Gve={1:()=>"`rowData` must be an array",2:({nodeId:e})=>`Duplicate node id '${e}' detected from getRowId callback, this could cause issues in your grid.`,3:()=>"Calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.",4:({id:e})=>`Could not find row id=${e}, data item was not found for this id`,5:({data:e})=>["Could not find data item as object was not found.",e," Consider using getRowId to help the Grid find matching row data"],6:()=>"'groupHideOpenParents' only works when specifying specific columns for 'colDef.showRowGroup'",7:()=>"Pivoting is not supported with aligned grids as it may produce different columns in each grid.",8:({key:e})=>`Unknown key for navigation ${e}`,9:({variable:e})=>`No value for ${e?.cssName}. This usually means that the grid has been initialised before styles have been loaded. The default value of ${e?.defaultValue} will be used and updated when styles load.`,10:({eventType:e})=>`As of v33, the '${e}' event is deprecated. Use the global 'modelUpdated' event to determine when row children have changed.`,11:()=>"No gridOptions provided to createGrid",12:({colKey:e})=>["column ",e," not found"],13:()=>"Could not find rowIndex, this means tasks are being executed on a rowNode that has been removed from the grid.",14:({groupPrefix:e})=>`Row IDs cannot start with ${e}, this is a reserved prefix for AG Grid's row grouping feature.`,15:({expression:e})=>["value should be either a string or a function",e],16:({expression:e,params:t,e:n})=>["Processing of the expression failed","Expression = ",e,"Params = ",t,"Exception = ",n],17:()=>"you need either field or valueSetter set on colDef for editing to work",18:()=>"alignedGrids contains an undefined option.",19:()=>"alignedGrids - No api found on the linked grid.",20:()=>`You may want to configure via a callback to avoid setup race conditions:
                     "alignedGrids: () => [linkedGrid]"`,21:()=>"pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.",22:({key:e})=>`${e} is an initial property and cannot be updated.`,23:()=>"The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead.",24:()=>"row height must be a number if not using standard row model",25:({id:e})=>["The getRowId callback must return a string. The ID ",e," is being cast to a string."],26:({fnName:e,preDestroyLink:t})=>`Grid API function ${e}() cannot be called as the grid has been destroyed.
 Either clear local references to the grid api, when it is destroyed, or check gridApi.isDestroyed() to avoid calling methods against a destroyed grid.
 To run logic when the grid is about to be destroyed use the gridPreDestroy event. See: ${t}`,27:({fnName:e,module:t})=>`API function '${e}' not registered to module '${t}'`,28:()=>"setRowCount cannot be used while using row grouping.",29:()=>"tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?",30:({toIndex:e})=>["tried to insert columns in invalid location, toIndex = ",e,"remember that you should not count the moving columns when calculating the new index"],31:()=>"infinite loop in resizeColumnSets",32:()=>"applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state.",33:()=>"stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON.",34:({key:e})=>`the column type '${e}' is a default column type and cannot be overridden.`,35:()=>"Column type definitions 'columnTypes' with a 'type' attribute are not supported because a column type cannot refer to another column type. Only column definitions 'columnDefs' can use the 'type' attribute to refer to a column type.",36:({t:e})=>"colDef.type '"+e+"' does not correspond to defined gridOptions.columnTypes",37:()=>"Changing the column pinning status is not allowed with domLayout='print'",38:({iconName:e})=>`provided icon '${e}' needs to be a string or a function`,39:()=>"Applying column order broke a group where columns should be married together. Applying new order has been discarded.",40:({e,method:t})=>`${e}
${zve(t)}`,41:()=>"Browser did not allow document.execCommand('copy'). Ensure 'api.copySelectedRowsToClipboard() is invoked via a user event, i.e. button click, otherwise the browser will prevent it for security reasons.",42:()=>"Browser does not support document.execCommand('copy') for clipboard operations",43:({iconName:e})=>`As of v33, icon '${e}' is deprecated. Use the icon CSS name instead.`,44:()=>'Data type definition hierarchies (via the "extendsDataType" property) cannot contain circular references.',45:({parentCellDataType:e})=>`The data type definition ${e} does not exist.`,46:()=>'The "baseDataType" property of a data type definition must match that of its parent.',47:({cellDataType:e})=>`Missing data type definition - "${e}"`,48:({property:e})=>`Cell data type is "object" but no Value ${e} has been provided. Please either provide an object data type definition with a Value ${e}, or set "colDef.value${e}"`,49:({methodName:e})=>`Framework component is missing the method ${e}()`,50:({compName:e})=>`Could not find component ${e}, did you forget to configure this component?`,51:()=>"Export cancelled. Export is not allowed as per your configuration.",52:()=>"There is no `window` associated with the current `document`",53:()=>"unknown value type during csv conversion",54:()=>"Could not find document body, it is needed for drag and drop and context menu.",55:()=>"addRowDropZone - A container target needs to be provided",56:()=>"addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.",57:()=>"unable to show popup filter, filter instantiation failed",58:()=>"no values found for select cellEditor",59:()=>"cannot select pinned rows",60:()=>"cannot select node until it has finished loading",61:()=>"since version v32.2.0, rowNode.isFullWidthCell() has been deprecated. Instead check `rowNode.detail` followed by the user provided `isFullWidthRow` grid option.",62:({colId:e})=>`setFilterModel() - no column found for colId: ${e}`,63:({colId:e})=>`setFilterModel() - unable to fully apply model, filtering disabled for colId: ${e}`,64:({colId:e})=>`setFilterModel() - unable to fully apply model, unable to create filter for colId: ${e}`,65:()=>"filter missing setModel method, which is needed for setFilterModel",66:()=>"filter API missing getModel method, which is needed for getFilterModel",67:()=>"Filter is missing isFilterActive() method",68:()=>"Column Filter API methods have been disabled as Advanced Filters are enabled.",69:({guiFromFilter:e})=>`getGui method from filter returned ${e}; it should be a DOM element.`,70:({newFilter:e})=>`Grid option quickFilterText only supports string inputs, received: ${typeof e}`,71:()=>"debounceMs is ignored when apply button is present",72:({keys:e})=>["ignoring FilterOptionDef as it doesn't contain one of ",e],73:()=>"invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'",74:()=>"no filter options for filter",75:()=>"Unknown button type specified",76:({filterModelType:e})=>['Unexpected type of filter "',e,'", it looks like the filter was configured with incorrect Filter Options'],77:()=>"Filter model is missing 'conditions'",78:()=>'Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.',79:()=>'"filterParams.maxNumConditions" must be greater than or equal to zero.',80:()=>'"filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.',81:()=>'"filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".',82:({param:e})=>`DateFilter ${e} is not a number`,83:()=>"DateFilter minValidYear should be <= maxValidYear",84:()=>"DateFilter minValidDate should be <= maxValidDate",85:()=>"DateFilter should not have both minValidDate and minValidYear parameters set at the same time! minValidYear will be ignored.",86:()=>"DateFilter should not have both maxValidDate and maxValidYear parameters set at the same time! maxValidYear will be ignored.",87:()=>"DateFilter parameter minValidDate should always be lower than or equal to parameter maxValidDate.",88:({index:e})=>`Invalid row index for ensureIndexVisible: ${e}`,89:()=>"A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)",90:()=>"datasource is missing getRows method",91:()=>"Filter is missing method doesFilterPass",92:()=>"AnimationFrameService called but animation frames are off",93:()=>"cannot add multiple ranges when `cellSelection.suppressMultiRanges = true`",94:({paginationPageSizeOption:e,pageSizeSet:t,pageSizesSet:n,pageSizeOptions:r})=>`'paginationPageSize=${e}'${t?"":" (default value)"}, but ${e} is not included in${n?"":" the default"} paginationPageSizeSelector=[${r?.join(", ")}].`,95:({paginationPageSizeOption:e,paginationPageSizeSelector:t})=>`Either set '${t}' to an array that includes ${e} or to 'false' to disable the page size selector.`,96:({id:e,data:t})=>["Duplicate ID",e,"found for pinned row with data",t,"When `getRowId` is defined, it must return unique IDs for all pinned rows. Use the `rowPinned` parameter."],97:({colId:e})=>`cellEditor for column ${e} is missing getGui() method`,98:()=>"popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.",99:()=>"Since v32, `api.hideOverlay()` does not hide the loading overlay when `loading=true`. Set `loading=false` instead.",101:({propertyName:e,componentName:t,agGridDefaults:n,jsComps:r})=>{const i=[],s=[...Object.keys(n??[]).filter(a=>!["agCellEditor","agGroupRowRenderer","agSortIndicator"].includes(a)),...Object.keys(r??[]).filter(a=>!!r[a])],o=j2({inputValue:t,allSuggestions:s,hideIrrelevant:!0,filterByPercentageOfBestMatch:.8}).values;return i.push(`Could not find '${t}' component. It was configured as "${e}: '${t}'" but it wasn't found in the list of registered components.
`),o.length>0&&i.push(`         Did you mean: [${o.slice(0,3)}]?
`),i.push("If using a custom component check it has been registered correctly."),i},102:()=>"selectAll: 'filtered' only works when gridOptions.rowModelType='clientSide'",103:()=>"Invalid selection state. When using client-side row model, the state must conform to `string[]`.",104:({value:e,param:t})=>`Numeric value ${e} passed to ${t} param will be interpreted as ${e} seconds. If this is intentional use "${e}s" to silence this warning.`,105:({e})=>["chart rendering failed",e],106:()=>`Theming API and Legacy Themes are both used in the same page. A Theming API theme has been provided to the 'theme' grid option, but the file (ag-grid.css) is also included and will cause styling issues. Remove ag-grid.css from the page. See the migration guide: ${Hh}/theming-migration/`,107:({key:e,value:t})=>`Invalid value for theme param ${e} - ${t}`,108:({e})=>["chart update failed",e],109:({inputValue:e,allSuggestions:t})=>{const n=j2({inputValue:e,allSuggestions:t,hideIrrelevant:!0,filterByPercentageOfBestMatch:.8}).values;return[`Could not find '${e}' aggregate function. It was configured as "aggFunc: '${e}'" but it wasn't found in the list of registered aggregations.`,n.length>0?`         Did you mean: [${n.slice(0,3)}]?`:"","If using a custom aggregation function check it has been registered correctly."].join(`
`)},110:()=>"groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup",111:()=>"Invalid selection state. When `groupSelects` is enabled, the state must conform to `IServerSideGroupSelectionState`.",113:()=>"Set Filter cannot initialise because you are using a row model that does not contain all rows in the browser. Either use a different filter type, or configure Set Filter such that you provide it with values",114:({component:e})=>`Could not find component with name of ${e}. Is it in Vue.components?`,116:()=>"Invalid selection state. The state must conform to `IServerSideSelectionState`.",117:()=>"selectAll must be of boolean type.",118:()=>"Infinite scrolling must be enabled in order to set the row count.",119:()=>"Unable to instantiate filter",120:()=>"MultiFloatingFilterComp expects MultiFilter as its parent",121:()=>"a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (see AG Grid docs) or b) to toString() on the object to return a key",122:()=>"could not find the document, document is empty",123:()=>"Advanced Filter is only supported with the Client-Side Row Model or Server-Side Row Model.",124:()=>"No active charts to update.",125:({chartId:e})=>`Unable to update chart. No active chart found with ID: ${e}.`,126:()=>"unable to restore chart as no chart model is provided",127:({allRange:e})=>`unable to create chart as ${e?"there are no columns in the grid":"no range is selected"}.`,128:({feature:e})=>`${e} is only available if using 'multiRow' selection mode.`,129:({feature:e,rowModel:t})=>`${e} is only available if using 'clientSide' or 'serverSide' rowModelType, you are using ${t}.`,130:()=>'cannot multi select unless selection mode is "multiRow"',132:()=>"Row selection features are not available unless `rowSelection` is enabled.",133:({iconName:e})=>`icon '${e}' function should return back a string or a dom object`,134:({iconName:e})=>`Did not find icon '${e}'`,135:()=>"Data type of the new value does not match the cell data type of the column",136:()=>"Unable to update chart as the 'type' is missing. It must be either 'rangeChartUpdate', 'pivotChartUpdate', or 'crossFilterChartUpdate'.",137:({type:e,currentChartType:t})=>`Unable to update chart as a '${e}' update type is not permitted on a ${t}.`,138:({chartType:e})=>`invalid chart type supplied: ${e}`,139:({customThemeName:e})=>`a custom chart theme with the name ${e} has been supplied but not added to the 'chartThemes' list`,140:({name:e})=>`no stock theme exists with the name '${e}' and no custom chart theme with that name was supplied to 'customChartThemes'`,141:()=>"cross filtering with row grouping is not supported.",142:()=>"cross filtering is only supported in the client side row model.",143:({panel:e})=>`'${e}' is not a valid Chart Tool Panel name`,144:({type:e})=>`Invalid charts data panel group name supplied: '${e}'`,145:({group:e})=>`As of v32, only one charts customize panel group can be expanded at a time. '${e}' will not be expanded.`,146:({comp:e})=>`Unable to instantiate component '${e}' as its module hasn't been loaded. Add 'ValidationModule' to see which module is required.`,147:({group:e})=>`Invalid charts customize panel group name supplied: '${e}'`,148:({group:e})=>`invalid chartGroupsDef config '${e}'`,149:({group:e,chartType:t})=>`invalid chartGroupsDef config '${e}.${t}'`,150:()=>"'seriesChartTypes' are required when the 'customCombo' chart type is specified.",151:({chartType:e})=>`invalid chartType '${e}' supplied in 'seriesChartTypes', converting to 'line' instead.`,152:({colId:e})=>`no 'seriesChartType' found for colId = '${e}', defaulting to 'line'.`,153:({chartDataType:e})=>`unexpected chartDataType value '${e}' supplied, instead use 'category', 'series' or 'excluded'`,154:({colId:e})=>`cross filtering requires a 'agSetColumnFilter' or 'agMultiColumnFilter' to be defined on the column with id: ${e}`,155:({option:e})=>`'${e}' is not a valid Chart Toolbar Option`,156:({panel:e})=>`Invalid panel in chartToolPanelsDef.panels: '${e}'`,157:({unrecognisedGroupIds:e})=>["unable to find group(s) for supplied groupIds:",e],158:()=>"can not expand a column item that does not represent a column group header",159:()=>"Invalid params supplied to createExcelFileForExcel() - `ExcelExportParams.data` is empty.",160:()=>"Export cancelled. Export is not allowed as per your configuration.",161:()=>"The Excel Exporter is currently on Multi Sheet mode. End that operation by calling 'api.getMultipleSheetAsExcel()' or 'api.exportMultipleSheetsAsExcel()'",162:({id:e,dataType:t})=>`Unrecognized data type for excel export [${e}.dataType=${t}]`,163:({featureName:e})=>`Excel table export does not work with ${e}. The exported Excel file will not contain any Excel tables.
 Please turn off ${e} to enable Excel table exports.`,164:()=>"Unable to add data table to Excel sheet: A table already exists.",165:()=>"Unable to add data table to Excel sheet: Missing required parameters.",166:({unrecognisedGroupIds:e})=>["unable to find groups for these supplied groupIds:",e],167:({unrecognisedColIds:e})=>["unable to find columns for these supplied colIds:",e],168:()=>"detailCellRendererParams.template should be function or string",169:()=>'Reference to eDetailGrid was missing from the details template. Please add data-ref="eDetailGrid" to the template.',170:({providedStrategy:e})=>`invalid cellRendererParams.refreshStrategy = ${e} supplied, defaulting to refreshStrategy = 'rows'.`,171:()=>"could not find detail grid options for master detail, please set gridOptions.detailCellRendererParams.detailGridOptions",172:()=>"could not find getDetailRowData for master / detail, please set gridOptions.detailCellRendererParams.getDetailRowData",173:({group:e})=>`invalid chartGroupsDef config '${e}'`,174:({group:e,chartType:t})=>`invalid chartGroupsDef config '${e}.${t}'`,175:({menuTabName:e,itemsToConsider:t})=>[`Trying to render an invalid menu item '${e}'. Check that your 'menuTabs' contains one of `,t],176:({key:e})=>`unknown menu item type ${e}`,177:()=>"valid values for cellSelection.handle.direction are 'x', 'y' and 'xy'. Default to 'xy'.",178:({colId:e})=>`column ${e} is not visible`,179:()=>"totalValueGetter should be either a function or a string (expression)",180:()=>"agRichSelectCellEditor requires cellEditorParams.values to be set",181:()=>"agRichSelectCellEditor cannot have `multiSelect` and `allowTyping` set to `true`. AllowTyping has been turned off.",182:()=>'you cannot mix groupDisplayType = "multipleColumns" with treeData, only one column can be used to display groups when doing tree data',183:()=>"Group Column Filter only works on group columns. Please use a different filter.",184:({parentGroupData:e,childNodeData:t})=>["duplicate group keys for row data, keys should be unique",[e,t]],185:({data:e})=>["getDataPath() should not return an empty path",[e]],186:({rowId:e,rowData:t,duplicateRowsData:n})=>["duplicate group keys for row data, keys should be unique",e,t,...n??[]],187:({rowId:e,firstData:t,secondData:n})=>[`Duplicate node id ${e}. Row IDs are provided via the getRowId() callback. Please modify the getRowId() callback code to provide unique row id values.`,"first instance",t,"second instance",n],188:e=>`getRowId callback must be provided for Server Side Row Model ${e?.feature||"selection"} to work correctly.`,189:({startRow:e})=>`invalid value ${e} for startRow, the value should be >= 0`,190:({rowGroupId:e,data:t})=>["null and undefined values are not allowed for server side row model keys",e?`column = ${e}`:"","data is ",t],194:({method:e})=>`calling gridApi.${e}() is only possible when using rowModelType=\`clientSide\`.`,195:({justCurrentPage:e})=>`selecting just ${e?"current page":"filtered"} only works when gridOptions.rowModelType='clientSide'`,196:({key:e})=>`Provided ids must be of string type. Invalid id provided: ${e}`,197:()=>"`toggledNodes` must be an array of string ids.",199:()=>"getSelectedNodes and getSelectedRows functions cannot be used with select all functionality with the server-side row model. Use `api.getServerSideSelectionState()` instead.",200:R_,201:({rowModelType:e})=>`Could not find row model for rowModelType = ${e}`,202:()=>"`getSelectedNodes` and `getSelectedRows` functions cannot be used with `groupSelectsChildren` and the server-side row model. Use `api.getServerSideSelectionState()` instead.",203:()=>"Server Side Row Model does not support Dynamic Row Height and Cache Purging. Either a) remove getRowHeight() callback or b) remove maxBlocksInCache property. Purging has been disabled.",204:()=>"Server Side Row Model does not support Auto Row Height and Cache Purging. Either a) remove colDef.autoHeight or b) remove maxBlocksInCache property. Purging has been disabled.",205:({duplicateIdText:e})=>`Unable to display rows as duplicate row ids (${e}) were returned by the getRowId callback. Please modify the getRowId callback to provide unique ids.`,206:()=>"getRowId callback must be implemented for transactions to work. Transaction was ignored.",207:()=>'The Set Filter Parameter "defaultToNothingSelected" value was ignored because it does not work when "excelMode" is used.',208:()=>"Set Filter Value Formatter must return string values. Please ensure the Set Filter Value Formatter returns string values for complex objects.",209:()=>`Set Filter Key Creator is returning null for provided values and provided values are primitives. Please provide complex objects. See ${Hh}/filter-set-filter-list/#filter-value-types`,210:()=>"Set Filter has a Key Creator, but provided values are primitives. Did you mean to provide complex objects?",211:()=>"property treeList=true for Set Filter params, but you did not provide a treeListPathGetter or values of type Date.",212:()=>"please review all your toolPanel components, it seems like at least one of them doesn't have an id",213:()=>"Advanced Filter does not work with Filters Tool Panel. Filters Tool Panel has been disabled.",214:({key:e})=>`unable to lookup Tool Panel as invalid key supplied: ${e}`,215:({key:e,defaultByKey:t})=>`the key ${e} is not a valid key for specifying a tool panel, valid keys are: ${Object.keys(t??{}).join(",")}`,216:({name:e})=>`Missing component for '${e}'`,217:({invalidColIds:e})=>["unable to find grid columns for the supplied colDef(s):",e],218:({property:e,defaultOffset:t})=>`${e} must be a number, the value you provided is not a valid number. Using the default of ${t}px.`,219:({property:e})=>`Property ${e} does not exist on the target object.`,220:({lineDash:e})=>`'${e}' is not a valid 'lineDash' option.`,221:()=>"agAggregationComponent should only be used with the client and server side row model.",222:()=>"agFilteredRowCountComponent should only be used with the client side row model.",223:()=>"agSelectedRowCountComponent should only be used with the client and server side row model.",224:()=>"agTotalAndFilteredRowCountComponent should only be used with the client side row model.",225:()=>"agTotalRowCountComponent should only be used with the client side row model.",226:()=>"viewport is missing init method.",227:()=>"menu item icon must be DOM node or string",228:({menuItemOrString:e})=>`unrecognised menu item ${e}`,229:({index:e})=>["invalid row index for ensureIndexVisible: ",e],230:()=>"detailCellRendererParams.template is not supported by AG Grid React. To change the template, provide a Custom Detail Cell Renderer. See https://www.ag-grid.com/react-data-grid/master-detail-custom-detail/",231:()=>"As of v32, using custom components with `reactiveCustomComponents = false` is deprecated.",232:()=>"Using both rowData and v-model. rowData will be ignored.",233:({methodName:e})=>`Framework component is missing the method ${e}()`,234:()=>'Group Column Filter does not work with the colDef property "field". This property will be ignored.',235:()=>'Group Column Filter does not work with the colDef property "filterValueGetter". This property will be ignored.',236:()=>'Group Column Filter does not work with the colDef property "filterParams". This property will be ignored.',237:()=>"Group Column Filter does not work with Tree Data enabled. Please disable Tree Data, or use a different filter.",238:()=>"setRowCount can only accept a positive row count.",239:()=>'Theming API and CSS File Themes are both used in the same page. In v33 we released the Theming API as the new default method of styling the grid. See the migration docs https://www.ag-grid.com/react-data-grid/theming-migration/. Because no value was provided to the `theme` grid option it defaulted to themeQuartz. But the file (ag-grid.css) is also included and will cause styling issues. Either pass the string "legacy" to the theme grid option to use v32 style themes, or remove ag-grid.css from the page to use Theming API.',240:({theme:e})=>`theme grid option must be a Theming API theme object or the string "legacy", received: ${e}`,243:()=>"Failed to deserialize state - each provided state object must be an object.",244:()=>"Failed to deserialize state - `selectAllChildren` must be a boolean value or undefined.",245:()=>"Failed to deserialize state - `toggledNodes` must be an array.",246:()=>"Failed to deserialize state - Every `toggledNode` requires an associated string id.",247:()=>`Row selection state could not be parsed due to invalid data. Ensure all child state has toggledNodes or does not conform with the parent rule. 
Please rebuild the selection state and reapply it.`,248:()=>"SetFloatingFilter expects SetFilter as its parent",249:()=>"Must supply a Value Formatter in Set Filter params when using a Key Creator",250:()=>"Must supply a Key Creator in Set Filter params when `treeList = true` on a group column, and Tree Data or Row Grouping is enabled.",251:({chartType:e})=>`AG Grid: Unable to create chart as an invalid chartType = '${e}' was supplied.`,252:()=>`cannot get grid to draw rows when it is in the middle of drawing rows. 
Your code probably called a grid API method while the grid was in the render stage. 
To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). 
To see what part of your code that caused the refresh check this stacktrace.`,253:({version:e})=>["Illegal version string: ",e],254:()=>"Cannot create chart: no chart themes available.",255:({point:e})=>`Lone surrogate U+${e?.toString(16).toUpperCase()} is not a scalar value`,256:()=>"Unable to initialise. See validation error, or load ValidationModule if missing.",257:()=>M_("IntegratedChartsModule"),258:()=>M_("SparklinesModule"),259:({part:e})=>`the argument to theme.withPart must be a Theming API part object, received: ${e}`,260:({propName:e,compName:t,gridScoped:n,gridId:r,rowModelType:i})=>R_({reasonOrId:`AG Grid '${e}' component: ${t}`,moduleName:$h[t],gridId:r,gridScoped:n,rowModelType:i}),261:()=>"As of v33, `column.isHovered()` is deprecated. Use `api.isColumnHovered(column)` instead.",262:()=>'As of v33, icon key "smallDown" is deprecated. Use "advancedFilterBuilderSelect" for Advanced Filter Builder dropdown, "selectOpen" for Select cell editor and dropdowns (e.g. Integrated Charts menu), "richSelectOpen" for Rich Select cell editor.',263:()=>'As of v33, icon key "smallLeft" is deprecated. Use "panelDelimiterRtl" for Row Group Panel / Pivot Panel, "subMenuOpenRtl" for sub-menus.',264:()=>'As of v33, icon key "smallRight" is deprecated. Use "panelDelimiter" for Row Group Panel / Pivot Panel, "subMenuOpen" for sub-menus.',265:({colId:e})=>`Unable to infer chart data type for column '${e}' if first data entry is null. Please specify "chartDataType", or a "cellDataType" in the column definition. For more information, see ${Hh}/integrated-charts-range-chart#coldefchartdatatype .`,266:()=>'As of v33.1, using "keyCreator" with the Rich Select Editor has been deprecated. It now requires the "formatValue" callback to convert complex data to strings.',267:()=>"Detail grids can not use a different theme to the master grid, the `theme` detail grid option will be ignored.",268:()=>"Transactions aren't supported with tree data when using treeDataChildrenField",269:()=>"When `masterSelects: 'detail'`, detail grids must be configured with multi-row selection",270:({id:e,parentId:t})=>`Cycle detected for row with id='${e}' and parent id='${t}'. Resetting the parent for row with id='${e}' and showing it as a root-level node.`,271:({id:e,parentId:t})=>`Parent row not found for row with id='${e}' and parent id='${t}'. Showing row with id='${e}' as a root-level node.`,272:()=>MW(),273:({providedId:e,usedId:t})=>`Provided column id '${e}' was already in use, ensure all column and group ids are unique. Using '${t}' instead.`,274:({prop:e})=>{let t=`Since v33, ${e} has been deprecated.`;switch(e){case"maxComponentCreationTimeMs":t+=" This property is no longer required and so will be removed in a future version.";break;case"setGridApi":t+=" This method is not called by AG Grid. To access the GridApi see: https://ag-grid.com/react-data-grid/grid-interface/#grid-api ";break;case"children":t+=" For multiple versions AgGridReact does not support children.";break}return t},275:TW,276:()=>"Row Numbers Row Resizer cannot be used when Grid Columns have `autoHeight` enabled.",277:({colId:e})=>`'enableFilterHandlers' is set to true, but column '${e}' does not have 'filter.doesFilterPass' or 'filter.handler' set.`,278:({colId:e})=>`Unable to create filter handler for column '${e}'`,279:e=>{},280:({colId:e})=>`'name' must be provided for custom filter components for column '${e}`,281:({colId:e})=>`Filter for column '${e}' does not have 'filterParams.buttons', but the new Filters Tool Panel has buttons configured. Either configure buttons for the filter, or disable buttons on the Filters Tool Panel.`,282:()=>"New filter tool panel requires `enableFilterHandlers: true`.",283:()=>"As of v34, use the same method on the filter handler (`api.getColumnFilterHandler(colKey)`) instead.",284:()=>"As of v34, filters are active when they have a model. Use `api.getColumnFilterModel()` instead.",285:()=>"As of v34, use (`api.getColumnFilterModel()`) instead.",286:()=>"As of v34, use (`api.setColumnFilterModel()`) instead.",287:()=>"`api.doFilterAction()` requires `enableFilterHandlers = true",288:()=>"`api.getColumnFilterModel(key, true)` requires `enableFilterHandlers = true",289:({rowModelType:e})=>`Row Model '${e}' is not supported with Batch Editing`,290:({rowIndex:e,rowPinned:t})=>`Row with index '${e}' and pinned state '${t}' not found`,291:()=>"License Key being set multiple times with different values. This can result in an incorrect license key being used,",292:({colId:e})=>`The Multi Filter for column '${e}' has buttons configured against the child filters. When 'enableFilterHandlers=true', buttons must instead be provided against the parent Multi Filter params. The child filter buttons will be ignored.`};function Vve(e,t){const n=Gve[e];if(!n)return[`Missing error text for error id ${e}!`];const r=n(t),s=`
See ${yV(e,t)}`;return Array.isArray(r)?r.concat(s):[r,s]}var Wve={1:"Charting Aggregation",2:"pivotResultFields",3:"setTooltip"},T_=new WeakMap,k_=new WeakMap;function Uve(e,t,n){if(!t)return Dt(11),{};const r=n;let i;if(!r?.setThemeOnGridDiv){const o=Tn({tag:"div"});o.style.height="100%",e.appendChild(o),e=o,i=()=>e.remove()}return new kW().create(e,t,o=>{const a=new xhe(e);o.createBean(a)},void 0,n,i)}var $ve=1,kW=class{create(e,t,n,r,i,s){const o=fA.applyGlobalGridOptions(t),a=o.gridId??String($ve++),l=this.getRegisteredModules(i,a,o.rowModelType),c=this.createBeansList(o.rowModelType,l,a),d=this.createProvidedBeans(e,o,i);if(!c)return;const p={providedBeanInstances:d,beanClasses:c,id:a,beanInitComparator:ohe,beanDestroyComparator:ahe,derivedBeans:[ihe],destroyCallback:()=>{k_.delete(y),T_.delete(e),fae(a),s?.()}},v=new Kce(p);this.registerModuleFeatures(v,l),n(v),v.getBean("syncSvc").start(),r?.(v);const y=v.getBean("gridApi");return T_.set(e,y),k_.set(y,e),y}getRegisteredModules(e,t,n){return rm(Ive,void 0,!0),e?.modules?.forEach(r=>rm(r,t)),pae(t,A_(n))}registerModuleFeatures(e,t){const n=e.getBean("registry"),r=e.getBean("apiFunctionSvc");for(const i of t){n.registerModule(i);const s=i.apiFunctions;if(s){const o=Object.keys(s);for(const a of o)r?.addFunction(a,s[a])}}}createProvidedBeans(e,t,n){let r=n?n.frameworkOverrides:null;Kt(r)&&(r=new G7);const i={gridOptions:t,eGridDiv:e,eRootDiv:e,globalListener:n?n.globalListener:null,globalSyncListener:n?n.globalSyncListener:null,frameworkOverrides:r};return n?.providedBeanInstances&&Object.assign(i,n.providedBeanInstances),i}createBeansList(e,t,n){const r={clientSide:"ClientSideRowModel",infinite:"InfiniteRowModel",serverSide:"ServerSideRowModel",viewport:"ViewportRowModel"},i=A_(e),s=r[i];if(!s){yg(201,{rowModelType:i},`Unknown rowModelType ${i}.`);return}if(!mae()){yg(272,void 0,MW());return}if(!e){const a=Object.entries(r).filter(([l,c])=>M2(c,n,l));if(a.length==1){const[l,c]=a[0];if(l!==i){const d={moduleName:c,rowModelType:l};yg(275,d,TW(d));return}}}if(!M2(s,n,i)){yg(200,{reasonOrId:`rowModelType = '${i}'`,moduleName:s,gridScoped:pA(),gridId:n,rowModelType:i},`Missing module ${s}Module for rowModelType ${i}.`);return}const o=new Set;for(const a of t)for(const l of a.beans??[])o.add(l);return Array.from(o)}};function A_(e){return e??"clientSide"}function hl(e){const t=e.rowModel;return t.getType()==="clientSide"?t:void 0}function vx(e){const t=e.rowModel;return t.getType()==="infinite"?t:void 0}function qve(e){const t=e.rowModel;return t.getType()==="serverSide"?t:void 0}var Kve=class extends le{constructor(){super(...arguments),this.beanName="localeSvc"}getLocaleTextFunc(){const e=this.gos,t=e.getCallback("getLocaleText");return t?nae(t):rae(e.get("localeText"))}};function Yve(e,t=!1){const n=[],r=[],i=[],s=[],o=[],a=[],l=[],c=[],d=[];let f=0;for(let p=0;p<e.length;p++){const{colId:v,sort:y,sortIndex:b,rowGroup:x,rowGroupIndex:S,aggFunc:M,pivot:R,pivotIndex:T,pinned:k,hide:P,width:A,flex:O}=e[p];d.push(v),y&&(n[b??f++]={colId:v,sort:y}),x&&(r[S??0]=v),typeof M=="string"&&i.push({colId:v,aggFunc:M}),R&&(s[T??0]=v),k&&(k==="right"?a:o).push(v),P&&l.push(v),(O!=null||A)&&c.push({colId:v,flex:O??void 0,width:A})}return{sort:n.length?{sortModel:HD(n)}:void 0,rowGroup:r.length?{groupColIds:HD(r)}:void 0,aggregation:i.length?{aggregationModel:i}:void 0,pivot:s.length||t?{pivotMode:t,pivotColIds:HD(s)}:void 0,columnPinning:o.length||a.length?{leftColIds:o,rightColIds:a}:void 0,columnVisibility:l.length?{hiddenColIds:l}:void 0,columnSizing:c.length?{columnSizingModel:c}:void 0,columnOrder:d.length?{orderedColIds:d}:void 0}}function HD(e){return e.filter(t=>t!=null)}function Qve(e){const t=[];for(const{groupId:n,open:r}of e)r&&t.push(n);return t.length?{openColumnGroupIds:t}:void 0}var Xve=class{wrap(e,t,n,r){const i=this.createWrapper(e,r);for(const s of t??[])this.createMethod(i,s,!0);for(const s of n??[])this.createMethod(i,s,!1);return i}createMethod(e,t,n){e.addMethod(t,this.createMethodProxy(e,t,n))}createMethodProxy(e,t,n){return function(){return e.hasMethod(t)?e.callMethod(t,arguments):(n&&ve(49,{methodName:t}),null)}}};function zD(e){return e.get("tooltipShowMode")==="whenTruncated"}function Jve(e,t){if(typeof e!="number")return"";const n=t(),r=n("thousandSeparator",","),i=n("decimalSeparator",".");return e.toString().replace(".",i).replace(/(\d)(?=(\d{3})+(?!\d))/g,`$1${r}`)}var Zve=class extends le{getFileName(e){const t=this.getDefaultFileExtension();return e?.length||(e=this.getDefaultFileName()),e.includes(".")?e:`${e}.${t}`}getData(e){const t=this.createSerializingSession(e);return this.beans.gridSerializer.serialize(t,e)}getDefaultFileName(){return`export.${this.getDefaultFileExtension()}`}},eye=class{constructor(e){const{colModel:t,rowGroupColsSvc:n,colNames:r,valueSvc:i,gos:s,processCellCallback:o,processHeaderCallback:a,processGroupHeaderCallback:l,processRowGroupCallback:c}=e;this.colModel=t,this.rowGroupColsSvc=n,this.colNames=r,this.valueSvc=i,this.gos=s,this.processCellCallback=o,this.processHeaderCallback=a,this.processGroupHeaderCallback=l,this.processRowGroupCallback=c}prepare(e){}extractHeaderValue(e){return this.getHeaderName(this.processHeaderCallback,e)??""}extractRowCellValue(e,t,n,r,i){const s=t===0&&SV(this.gos,i,this.colModel.isPivotMode());if(this.processRowGroupCallback&&(this.gos.get("treeData")||i.group)&&(e.isRowGroupDisplayed(i.rowGroupColumn?.getColId()??"")||s))return{value:this.processRowGroupCallback(_e(this.gos,{column:e,node:i}))??""};if(this.processCellCallback)return{value:this.processCellCallback(_e(this.gos,{accumulatedRowIndex:n,column:e,node:i,value:this.valueSvc.getValueForDisplay(e,i,void 0,void 0).value,type:r,parseValue:p=>this.valueSvc.parseValue(e,i,p,this.valueSvc.getValue(e,i,void 0)),formatValue:p=>this.valueSvc.formatValue(e,i,p)??p}))??""};const o=this.gos.get("treeData"),a=this.valueSvc,l=i.level===-1&&i.footer,c=e.colDef.showRowGroup===!0&&(i.group||o);if(!l&&(s||c)){let p="",v=i;for(;v&&v.level!==-1;){const{value:y,valueFormatted:b}=a.getValueForDisplay(s?void 0:e,v,!0,!0);p=` -> ${b??y??""}${p}`,v=v.parent}return{value:p,valueFormatted:p}}const{value:d,valueFormatted:f}=a.getValueForDisplay(e,i,!0,!0);return{value:d??"",valueFormatted:f}}getHeaderName(e,t){return e?e(_e(this.gos,{column:t})):this.colNames.getDisplayNameForColumn(t,"csv",!0)}};function tye(e,t){const n=document.defaultView||window;if(!n){ve(52);return}const r=document.createElement("a"),i=n.URL.createObjectURL(t);r.setAttribute("href",i),r.setAttribute("download",e),r.style.display="none",document.body.appendChild(r),r.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:n})),r.remove(),n.setTimeout(()=>{n.URL.revokeObjectURL(i)},0)}var nye={enableBrowserTooltips:!0,tooltipTrigger:!0,tooltipMouseTrack:!0,tooltipShowMode:!0,tooltipInteraction:!0,defaultColGroupDef:!0,suppressAutoSize:!0,skipHeaderOnAutoSize:!0,autoSizeStrategy:!0,components:!0,stopEditingWhenCellsLoseFocus:!0,undoRedoCellEditing:!0,undoRedoCellEditingLimit:!0,excelStyles:!0,cacheQuickFilter:!0,customChartThemes:!0,chartThemeOverrides:!0,chartToolPanelsDef:!0,loadingCellRendererSelector:!0,localeText:!0,keepDetailRows:!0,keepDetailRowsCount:!0,detailRowHeight:!0,detailRowAutoHeight:!0,tabIndex:!0,valueCache:!0,valueCacheNeverExpires:!0,enableCellExpressions:!0,suppressTouch:!0,suppressBrowserResizeObserver:!0,suppressPropertyNamesCheck:!0,debug:!0,dragAndDropImageComponent:!0,loadingOverlayComponent:!0,suppressLoadingOverlay:!0,noRowsOverlayComponent:!0,paginationPageSizeSelector:!0,paginateChildRows:!0,pivotPanelShow:!0,pivotSuppressAutoColumn:!0,suppressExpandablePivotGroups:!0,aggFuncs:!0,allowShowChangeAfterFilter:!0,ensureDomOrder:!0,enableRtl:!0,suppressColumnVirtualisation:!0,suppressMaxRenderedRowRestriction:!0,suppressRowVirtualisation:!0,rowDragText:!0,groupLockGroupColumns:!0,suppressGroupRowsSticky:!0,rowModelType:!0,cacheOverflowSize:!0,infiniteInitialRowCount:!0,serverSideInitialRowCount:!0,maxBlocksInCache:!0,maxConcurrentDatasourceRequests:!0,blockLoadDebounceMillis:!0,serverSideOnlyRefreshFilteredGroups:!0,serverSidePivotResultFieldSeparator:!0,viewportRowModelPageSize:!0,viewportRowModelBufferSize:!0,debounceVerticalScrollbar:!0,suppressAnimationFrame:!0,suppressPreventDefaultOnMouseWheel:!0,scrollbarWidth:!0,icons:!0,suppressRowTransform:!0,gridId:!0,enableGroupEdit:!0,initialState:!0,processUnpinnedColumns:!0,createChartContainer:!0,getLocaleText:!0,getRowId:!0,reactiveCustomComponents:!0,renderingMode:!0,columnMenu:!0,suppressSetFilterByDefault:!0,getDataPath:!0,enableCellSpan:!0,enableFilterHandlers:!0,filterHandlers:!0},hi="clientSide",Rr="serverSide",gh="infinite",rye={onGroupExpandedOrCollapsed:[hi],refreshClientSideRowModel:[hi],isRowDataEmpty:[hi],forEachLeafNode:[hi],forEachNodeAfterFilter:[hi],forEachNodeAfterFilterAndSort:[hi],resetRowHeights:[hi,Rr],applyTransaction:[hi],applyTransactionAsync:[hi],flushAsyncTransactions:[hi],getBestCostNodeSelection:[hi],getServerSideSelectionState:[Rr],setServerSideSelectionState:[Rr],applyServerSideTransaction:[Rr],applyServerSideTransactionAsync:[Rr],applyServerSideRowData:[Rr],retryServerSideLoads:[Rr],flushServerSideAsyncTransactions:[Rr],refreshServerSide:[Rr],getServerSideGroupLevelState:[Rr],refreshInfiniteCache:[gh],purgeInfiniteCache:[gh],getInfiniteRowCount:[gh],isLastRowIndexKnown:[gh,Rr],expandAll:[hi,Rr],collapseAll:[hi,Rr],onRowHeightChanged:[hi,Rr],setRowCount:[gh,Rr],getCacheBlockState:[gh,Rr]},iye={showLoadingOverlay:{version:"v32",message:'`showLoadingOverlay` is deprecated. Use the grid option "loading"=true instead or setGridOption("loading", true).'},clearRangeSelection:{version:"v32.2",message:"Use `clearCellSelection` instead."},getInfiniteRowCount:{version:"v32.2",old:"getInfiniteRowCount()",new:"getDisplayedRowCount()"},selectAllFiltered:{version:"v33",old:"selectAllFiltered()",new:'selectAll("filtered")'},deselectAllFiltered:{version:"v33",old:"deselectAllFiltered()",new:'deselectAll("filtered")'},selectAllOnCurrentPage:{version:"v33",old:"selectAllOnCurrentPage()",new:'selectAll("currentPage")'},deselectAllOnCurrentPage:{version:"v33",old:"deselectAllOnCurrentPage()",new:'deselectAll("currentPage")'}};function sye(e,t,n){const r=iye[e];if(r){const{version:s,new:o,old:a,message:l}=r,c=a??e;return(...d)=>{const f=o?`Please use ${o} instead. `:"";return jh(`Since ${s} api.${c} is deprecated. ${f}${l??""}`),t.apply(t,d)}}const i=rye[e];return i?(...s)=>{const o=n.rowModel.getType();if(!i.includes(o)){Bh(`api.${e} can only be called when gridOptions.rowModelType is ${i.join(" or ")}`);return}return t.apply(t,s)}:t}var oye={detailCellRendererCtrl:"SharedMasterDetail",dndSourceComp:"DragAndDrop",fillHandle:"CellSelection",groupCellRendererCtrl:"GroupCellRenderer",headerFilterCellCtrl:"ColumnFilter",headerGroupCellCtrl:"ColumnGroup",rangeHandle:"CellSelection",tooltipFeature:"Tooltip",highlightTooltipFeature:"Tooltip",tooltipStateManager:"Tooltip",groupStrategy:"RowGrouping",treeGroupStrategy:"TreeData",rowNumberRowResizer:"RowNumbers",singleCell:"EditCore",fullRow:"EditCore",agSetColumnFilterHandler:"SetFilter",agMultiColumnFilterHandler:"MultiFilter",agGroupColumnFilterHandler:"GroupFilter",agNumberColumnFilterHandler:"NumberFilter",agDateColumnFilterHandler:"DateFilter",agTextColumnFilterHandler:"TextFilter"},aye={expanded:1,contracted:1,"tree-closed":1,"tree-open":1,"tree-indeterminate":1,pin:1,"eye-slash":1,arrows:1,left:1,right:1,group:1,aggregation:1,pivot:1,"not-allowed":1,chart:1,cross:1,cancel:1,tick:1,first:1,previous:1,next:1,last:1,linked:1,unlinked:1,"color-picker":1,loading:1,menu:1,"menu-alt":1,filter:1,"filter-add":1,columns:1,maximize:1,minimize:1,copy:1,cut:1,paste:1,grip:1,save:1,csv:1,excel:1,"small-down":1,"small-left":1,"small-right":1,"small-up":1,asc:1,desc:1,none:1,up:1,down:1,plus:1,minus:1,settings:1,"checkbox-checked":1,"checkbox-indeterminate":1,"checkbox-unchecked":1,"radio-button-on":1,"radio-button-off":1,eye:1,"column-arrow":1,"un-pin":1,"pinned-top":1,"pinned-bottom":1,"chevron-up":1,"chevron-down":1,"chevron-left":1,"chevron-right":1,edit:1},lye={chart:"MenuCore",cancel:"EnterpriseCore",first:"Pagination",previous:"Pagination",next:"Pagination",last:"Pagination",linked:"IntegratedCharts",loadingMenuItems:"MenuCore",unlinked:"IntegratedCharts",menu:"ColumnHeaderComp",legacyMenu:"ColumnMenu",filter:"ColumnFilter",filterActive:"ColumnFilter",filterAdd:"NewFiltersToolPanel",filterCardCollapse:"NewFiltersToolPanel",filterCardExpand:"NewFiltersToolPanel",filterCardEditing:"NewFiltersToolPanel",filterTab:"ColumnMenu",filtersToolPanel:"FiltersToolPanel",columns:["MenuCore"],columnsToolPanel:["ColumnsToolPanel"],maximize:"EnterpriseCore",minimize:"EnterpriseCore",save:"MenuCore",columnGroupOpened:"ColumnGroupHeaderComp",columnGroupClosed:"ColumnGroupHeaderComp",accordionOpen:"EnterpriseCore",accordionClosed:"EnterpriseCore",accordionIndeterminate:"EnterpriseCore",columnSelectClosed:["ColumnsToolPanel","ColumnMenu"],columnSelectOpen:["ColumnsToolPanel","ColumnMenu"],columnSelectIndeterminate:["ColumnsToolPanel","ColumnMenu"],columnMovePin:"SharedDragAndDrop",columnMoveHide:"SharedDragAndDrop",columnMoveMove:"SharedDragAndDrop",columnMoveLeft:"SharedDragAndDrop",columnMoveRight:"SharedDragAndDrop",columnMoveGroup:"SharedDragAndDrop",columnMoveValue:"SharedDragAndDrop",columnMovePivot:"SharedDragAndDrop",dropNotAllowed:"SharedDragAndDrop",ensureColumnVisible:["ColumnsToolPanel","ColumnMenu"],groupContracted:"GroupCellRenderer",groupExpanded:"GroupCellRenderer",setFilterGroupClosed:"SetFilter",setFilterGroupOpen:"SetFilter",setFilterGroupIndeterminate:"SetFilter",setFilterLoading:"SetFilter",close:"EnterpriseCore",check:"MenuItem",colorPicker:"CommunityCore",groupLoading:"LoadingCellRenderer",menuAlt:"ColumnHeaderComp",menuPin:"MenuCore",menuValue:"MenuCore",menuAddRowGroup:["MenuCore","ColumnsToolPanel"],menuRemoveRowGroup:["MenuCore","ColumnsToolPanel"],clipboardCopy:"MenuCore",clipboardCut:"MenuCore",clipboardPaste:"MenuCore",pivotPanel:["ColumnsToolPanel","RowGroupingPanel"],rowGroupPanel:["ColumnsToolPanel","RowGroupingPanel"],valuePanel:"ColumnsToolPanel",columnDrag:"EnterpriseCore",rowDrag:["RowDrag","DragAndDrop"],csvExport:"MenuCore",excelExport:"MenuCore",smallDown:"CommunityCore",selectOpen:"CommunityCore",richSelectOpen:"RichSelect",richSelectRemove:"RichSelect",smallLeft:"CommunityCore",smallRight:"CommunityCore",subMenuOpen:"MenuItem",subMenuOpenRtl:"MenuItem",panelDelimiter:"RowGroupingPanel",panelDelimiterRtl:"RowGroupingPanel",smallUp:"CommunityCore",sortAscending:["MenuCore","Sort"],sortDescending:["MenuCore","Sort"],sortUnSort:["MenuCore","Sort"],advancedFilterBuilder:"AdvancedFilter",advancedFilterBuilderDrag:"AdvancedFilter",advancedFilterBuilderInvalid:"AdvancedFilter",advancedFilterBuilderMoveUp:"AdvancedFilter",advancedFilterBuilderMoveDown:"AdvancedFilter",advancedFilterBuilderAdd:"AdvancedFilter",advancedFilterBuilderRemove:"AdvancedFilter",advancedFilterBuilderSelectOpen:"AdvancedFilter",chartsMenu:"IntegratedCharts",chartsMenuEdit:"IntegratedCharts",chartsMenuAdvancedSettings:"IntegratedCharts",chartsMenuAdd:"IntegratedCharts",chartsColorPicker:"IntegratedCharts",chartsThemePrevious:"IntegratedCharts",chartsThemeNext:"IntegratedCharts",chartsDownload:"IntegratedCharts",checkboxChecked:"CommunityCore",checkboxIndeterminate:"CommunityCore",checkboxUnchecked:"CommunityCore",radioButtonOn:"CommunityCore",radioButtonOff:"CommunityCore",rowPin:"PinnedRow",rowUnpin:"PinnedRow",rowPinBottom:"PinnedRow",rowPinTop:"PinnedRow"},cye=new Set(["colorPicker","smallUp","checkboxChecked","checkboxIndeterminate","checkboxUnchecked","radioButtonOn","radioButtonOff","smallDown","smallLeft","smallRight"]),uye=class extends le{constructor(){super(...arguments),this.beanName="validation"}wireBeans(e){this.gridOptions=e.gridOptions,yae(Vve)}warnOnInitialPropertyUpdate(e,t){e==="api"&&nye[t]&&ve(22,{key:t})}processGridOptions(e){this.processOptions(e,nme())}validateApiFunction(e,t){return sye(e,t,this.beans)}missingUserComponent(e,t,n,r){const i=$h[t];i?this.gos.assertModuleRegistered(i,`AG Grid '${e}' component: ${t}`):ve(101,{propertyName:e,componentName:t,agGridDefaults:n,jsComps:r})}missingDynamicBean(e){const t=oye[e];return t?Oo(200,{...this.gos.getModuleErrorParams(),moduleName:t,reasonOrId:e}):void 0}checkRowEvents(e){hye.has(e)&&ve(10,{eventType:e})}validateIcon(e){if(cye.has(e)&&ve(43,{iconName:e}),aye[e])return;const t=lye[e];if(t){Dt(200,{reasonOrId:`icon '${e}'`,moduleName:t,gridScoped:pA(),gridId:this.beans.context.getId(),rowModelType:this.gos.get("rowModelType"),additionalText:"Alternatively, use the CSS icon name directly."});return}ve(134,{iconName:e})}isProvidedUserComp(e){return!!$h[e]}validateColDef(e){this.processOptions(e,Uge())}processOptions(e,t){const{validations:n,deprecations:r,allProperties:i,propertyExceptions:s,objectName:o,docsUrl:a}=t;i&&this.gridOptions.suppressPropertyNamesCheck!==!0&&this.checkProperties(e,[...s??[],...Object.keys(r)],i,o,a);const l=new Set;if(Object.keys(e).forEach(d=>{const f=r[d];if(f){const{message:M,version:R}=f;l.add(`As of v${R}, ${String(d)} is deprecated. ${M??""}`)}const p=e[d];if(p==null||p===!1)return;const v=n[d];if(!v)return;const{dependencies:y,validate:b,supportedRowModels:x,expectedType:S}=v;if(S){const M=typeof p;if(M!==S){l.add(`${String(d)} should be of type '${S}' but received '${M}' (${p}).`);return}}if(x){const M=this.gridOptions.rowModelType??"clientSide";if(!x.includes(M)){l.add(`${String(d)} is not supported with the '${M}' row model. It is only valid with: ${x.join(", ")}.`);return}}if(y){const M=this.checkForRequiredDependencies(d,y,e);if(M){l.add(M);return}}if(b){const M=b(e,this.gridOptions,this.beans);if(M){l.add(M);return}}}),l.size>0)for(const d of l)jh(d)}checkForRequiredDependencies(e,t,n){const i=Object.entries(t).filter(([s,o])=>{const a=n[s];return!o.required.includes(a)});return i.length===0?null:i.map(([s,o])=>`'${String(e)}' requires '${s}' to be one of [${o.required.map(a=>a===null?"null":a===void 0?"undefined":a).join(", ")}]. ${o.reason??""}`).join(`
           `)}checkProperties(e,t,n,r,i){const s=["__ob__","__v_skip","__metadata__"],o=dye(Object.getOwnPropertyNames(e),[...s,...t,...n],n),a=Object.keys(o);for(const l of a){const c=o[l];let d=`invalid ${r} property '${l}' did you mean any of these: ${c.slice(0,8).join(", ")}.`;n.includes("context")&&(d+=`
If you are trying to annotate ${r} with application data, use the '${r}.context' property instead.`),jh(d)}if(a.length>0&&i){const l=this.beans.frameworkOverrides.getDocLink(i);jh(`to see all the valid ${r} properties please check: ${l}`)}}};function dye(e,t,n){const r={},i=e.filter(s=>!t.some(o=>o===s));if(i.length>0)for(const s of i)r[s]=j2({inputValue:s,allSuggestions:n}).values;return r}var hye=new Set(["firstChildChanged","lastChildChanged","childIndexChanged"]),fye={moduleName:"Validation",version:Re,beans:[uye]};function AW(e){const t=e.sibling;t&&(t.childrenAfterFilter=e.childrenAfterFilter)}var pye=class extends le{constructor(){super(...arguments),this.beanName="filterStage",this.step="filter",this.refreshProps=["excludeChildrenWhenTreeDataFiltering"]}wireBeans(e){this.filterManager=e.filterManager}execute(e){const{changedPath:t}=e;this.filter(t)}filter(e){const t=!!this.filterManager?.isChildFilterPresent();this.filterNodes(t,e)}filterNodes(e,t){const n=(r,i)=>{r.hasChildren()&&e&&!i?r.childrenAfterFilter=r.childrenAfterGroup.filter(s=>{const o=s.childrenAfterFilter&&s.childrenAfterFilter.length>0,a=s.data&&this.filterManager.doesRowPassFilter({rowNode:s});return o||a}):r.childrenAfterFilter=r.childrenAfterGroup,AW(r)};if(this.doingTreeDataFiltering()){const r=(s,o)=>{if(s.childrenAfterGroup)for(let a=0;a<s.childrenAfterGroup.length;a++){const l=s.childrenAfterGroup[a],c=o||this.filterManager.doesRowPassFilter({rowNode:l});l.childrenAfterGroup?r(s.childrenAfterGroup[a],c):n(l,c)}n(s,o)},i=s=>r(s,!1);t.executeFromRootNode(i)}else{const r=i=>n(i,!1);t.forEachChangedNodeDepthFirst(r,!0)}}doingTreeDataFiltering(){return this.gos.get("treeData")&&!this.gos.get("excludeChildrenWhenTreeDataFiltering")}},gye=class extends _A{constructor(){super(...arguments),this.iconCreated=!1}wireComp(e,t,n,r,i){this.comp=e;const s=Xm(this,this.beans.context,i);this.eButtonShowMainFilter=n,this.eFloatingFilterBody=r,this.setGui(t,s),this.setupActive(),this.refreshHeaderStyles(),this.setupWidth(s),this.setupLeft(s),this.setupHover(s),this.setupFocus(s),this.setupAria(),this.setupFilterButton(),this.setupUserComp(),this.setupSyncWithFilter(s),this.setupUi(),s.addManagedElementListeners(this.eButtonShowMainFilter,{click:this.showParentFilter.bind(this)}),this.setupFilterChangedListener(s);const o=()=>this.onColDefChanged(s);s.addManagedListeners(this.column,{colDefChanged:o}),s.addManagedEventListeners({filterSwitched:({column:a})=>{a===this.column&&o()}}),s.addDestroyFunc(()=>{this.eButtonShowMainFilter=null,this.eFloatingFilterBody=null,this.userCompDetails=null,this.clearComponent()})}resizeHeader(){}moveHeader(){}getHeaderClassParams(){const{column:e,beans:t}=this,n=e.colDef;return _e(t.gos,{colDef:n,column:e,floatingFilter:!0})}setupActive(){const e=this.column.getColDef(),t=!!e.filter,n=!!e.floatingFilter;this.active=t&&n}setupUi(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton),!this.active||this.iconCreated)return;const e=$i("filter",this.beans,this.column);e&&(this.iconCreated=!0,this.eButtonShowMainFilter.appendChild(e))}setupFocus(e){e.createManagedBean(new zf(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))}setupAria(){const e=this.getLocaleTextFunc();nf(this.eButtonShowMainFilter,e("ariaFilterMenuOpen","Open Filter Menu"))}onTabKeyDown(e){const{beans:t}=this;if(sn(t)===this.eGui)return;const i=bd(t,this.eGui,null,e.shiftKey);if(i){t.headerNavigation?.scrollToColumn(this.column),e.preventDefault(),i.focus();return}const s=this.findNextColumnWithFloatingFilter(e.shiftKey);s&&t.focusSvc.focusHeaderPosition({headerPosition:{headerRowIndex:this.rowCtrl.rowIndex,column:s},event:e})&&e.preventDefault()}findNextColumnWithFloatingFilter(e){const t=this.beans.visibleCols;let n=this.column;do if(n=e?t.getColBefore(n):t.getColAfter(n),!n)break;while(!n.getColDef().filter||!n.getColDef().floatingFilter);return n}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();switch(e.key){case re.UP:case re.DOWN:case re.LEFT:case re.RIGHT:if(t)return;Mc(e);case re.ENTER:t&&Rc(this.eGui)&&e.preventDefault();break;case re.ESCAPE:t||this.eGui.focus()}}onFocusIn(e){if(this.eGui.contains(e.relatedTarget))return;const n=!!e.relatedTarget&&!e.relatedTarget.classList.contains("ag-floating-filter"),r=!!e.relatedTarget&&Fu(e.relatedTarget,"ag-floating-filter");if(n&&r&&e.target===this.eGui){const i=this.lastFocusEvent,s=!!(i&&i.key===re.TAB);if(i&&s){const o=i.shiftKey;Rc(this.eGui,o)}}this.focusThis()}setupHover(e){this.beans.colHover?.addHeaderFilterColumnHoverListener(e,this.comp,this.column,this.eGui)}setupLeft(e){const t=new LA(this.column,this.eGui,this.beans);e.createManagedBean(t)}setupFilterButton(){this.suppressFilterButton=!this.beans.menuSvc?.isFloatingFilterButtonEnabled(this.column),this.highlightFilterButtonWhenActive=!Ui(this.gos)}setupUserComp(){if(!this.active)return;const e=this.beans.colFilter?.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter());e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setCompDetails(e)}showParentFilter(){const e=this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter;this.beans.menuSvc?.showFilterMenu({column:this.column,buttonElement:e,containerType:"floatingFilter",positionBy:"button"})}setupSyncWithFilter(e){if(!this.active)return;const{beans:{colFilter:t},column:n,gos:r}=this,i=s=>{if(s?.source==="filterDestroyed"&&(!this.isAlive()||!t?.isAlive()))return;const o=this.comp.getFloatingFilterComp();o&&o.then(a=>{if(a){if(r.get("enableFilterHandlers")){const d=s;let f="filter";d?.afterFloatingFilter?f="ui":d?.afterDataChange?f="dataChanged":s?.source==="api"&&(f="api"),this.updateFloatingFilterParams(this.userCompDetails,f);return}const l=t?.getCurrentFloatingFilterParentModel(n),c=s?{...s,columns:s.columns??[],source:s.source==="api"?"api":"columnFilter"}:null;a.onParentModelChanged(l,c)}})};[this.destroySyncListener]=e.addManagedListeners(n,{filterChanged:i}),t?.isFilterActive(n)&&i(null)}setupWidth(e){const t=()=>{const n=`${this.column.getActualWidth()}px`;this.comp.setWidth(n)};e.addManagedListeners(this.column,{widthChanged:t}),t()}setupFilterChangedListener(e){this.active&&([this.destroyFilterChangedListener]=e.addManagedListeners(this.column,{filterChanged:this.updateFilterButton.bind(this)}),this.updateFilterButton())}updateFilterButton(){if(!this.suppressFilterButton&&this.comp){const e=!!this.beans.filterManager?.isFilterAllowed(this.column);this.comp.setButtonWrapperDisplayed(e),this.highlightFilterButtonWhenActive&&e&&this.eButtonShowMainFilter.classList.toggle("ag-filter-active",this.column.isFilterActive())}}onColDefChanged(e){const t=this.active;this.setupActive();const n=!t&&this.active;t&&!this.active&&(this.destroySyncListener(),this.destroyFilterChangedListener());const r=this.beans.colFilter,i=this.active?r?.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter()):null,s=this.comp.getFloatingFilterComp();!s||!i?this.updateCompDetails(e,i,n):s.then(o=>{!o||r?.areFilterCompsDifferent(this.userCompDetails??null,i)?this.updateCompDetails(e,i,n):this.updateFloatingFilterParams(i,"colDef")})}updateCompDetails(e,t,n){this.isAlive()&&(this.setCompDetails(t),this.setupFilterButton(),this.setupUi(),n&&(this.setupSyncWithFilter(e),this.setupFilterChangedListener(e)))}updateFloatingFilterParams(e,t){if(!e)return;let n=e.params;this.comp.getFloatingFilterComp()?.then(r=>{typeof r?.refresh=="function"&&(this.gos.get("enableFilterHandlers")&&(n={...n,model:Jn(this.beans.colFilter?.model??{},this.column.getColId()),source:t}),r.refresh(n))})}addResizeAndMoveKeyboardListeners(){}destroy(){super.destroy(),this.destroySyncListener=null,this.destroyFilterChangedListener=null}};function mye(e,t){const n=e.colModel.getCol(t);if(!n){Dt(12,{colKey:t});return}e.menuSvc?.showColumnMenu({column:n,positionBy:"auto"})}function vye(e){e.menuSvc?.hidePopupMenu()}var yye={moduleName:"SharedMenu",version:Re,beans:[Tde],apiFunctions:{showColumnMenu:mye,hidePopupMenu:vye}},wye=class extends iue{postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridCtrl=e.gridCtrl}),this.addManagedEventListeners({gridStylesChanged:this.handleThemeChange.bind(this)})}getDefaultPopupParent(){return this.gridCtrl.getGui()}positionPopupForMenu(e){const{eventSource:t,ePopup:n,event:r}=e,i=t.getBoundingClientRect(),s=this.getParentRect();this.setAlignedTo(t,n);let o=!1;const a=()=>{const l=this.keepXYWithinBounds(n,i.top-s.top,0),c=n.clientWidth>0?n.clientWidth:200;o||(n.style.minWidth=`${c}px`,o=!0);const f=s.right-s.left-c;let p;return this.gos.get("enableRtl")?(p=y(),p<0&&(p=v(),this.setAlignedStyles(n,"left")),p>f&&(p=0,this.setAlignedStyles(n,"right"))):(p=v(),p>f&&(p=y(),this.setAlignedStyles(n,"right")),p<0&&(p=0,this.setAlignedStyles(n,"left"))),{x:p,y:l};function v(){return i.right-s.left-2}function y(){return i.left-s.left-c}};this.positionPopup({ePopup:n,keepWithinBounds:!0,updatePosition:a,postProcessCallback:()=>this.callPostProcessPopup(e,"subMenu",n,t,r instanceof MouseEvent?r:void 0)})}callPostProcessPopup(e,t,n,r,i){const s=this.gos.getCallback("postProcessPopup");if(s){const{column:o,rowNode:a}=e;s({column:o,rowNode:a,ePopup:n,type:t,eventSource:r,mouseEvent:i})}}getActivePopups(){return this.popupList.map(e=>e.element)}handleThemeChange(e){if(e.themeChanged){const t=this.beans.environment;for(const n of this.popupList)t.applyThemeClasses(n.wrapper)}}hasAnchoredPopup(){return this.popupList.some(e=>e.isAnchored)}isStopPropagation(e){return Ks(e)}},yx={moduleName:"Popup",version:Re,beans:[wye]},bye=".ag-set-filter{--ag-indentation-level:0}.ag-set-filter-item{align-items:center;display:flex;height:100%}:where(.ag-ltr) .ag-set-filter-item{padding-left:calc(var(--ag-widget-container-horizontal-padding) + var(--ag-indentation-level)*var(--ag-set-filter-indent-size))}:where(.ag-rtl) .ag-set-filter-item{padding-right:calc(var(--ag-widget-container-horizontal-padding) + var(--ag-indentation-level)*var(--ag-set-filter-indent-size))}.ag-set-filter-item-checkbox{display:flex;height:100%;width:100%}.ag-set-filter-group-icons{display:block;>*{cursor:pointer}}:where(.ag-ltr) .ag-set-filter-group-icons{margin-right:var(--ag-widget-container-horizontal-padding)}:where(.ag-rtl) .ag-set-filter-group-icons{margin-left:var(--ag-widget-container-horizontal-padding)}.ag-filter-body-wrapper{display:flex;flex-direction:column}:where(.ag-menu:not(.ag-tabs) .ag-filter) .ag-filter-body-wrapper,:where(.ag-menu:not(.ag-tabs) .ag-filter)>:not(.ag-filter-wrapper){min-width:180px}.ag-filter-filter{flex:1 1 0px}.ag-filter-condition{display:flex;justify-content:center}.ag-floating-filter-body{display:flex;flex:1 1 auto;height:100%;position:relative}.ag-floating-filter-full-body{align-items:center;display:flex;flex:1 1 auto;height:100%;overflow:hidden;width:100%}:where(.ag-floating-filter-full-body)>div{flex:1 1 auto}.ag-floating-filter-input{align-items:center;display:flex;width:100%;>*{flex:1 1 auto}:where(.ag-input-field-input[type=date]),:where(.ag-input-field-input[type=datetime-local]){width:1px}}.ag-floating-filter-button{display:flex;flex:none}.ag-date-floating-filter-wrapper{display:flex}.ag-set-floating-filter-input :where(input)[disabled]{pointer-events:none}.ag-floating-filter-button-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:none;height:var(--ag-icon-size);width:var(--ag-icon-size)}.ag-filter-loading{align-items:unset;background-color:var(--ag-chrome-background-color);height:100%;padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);position:absolute;width:100%;z-index:1;:where(.ag-menu) &{background-color:var(--ag-menu-background-color)}}.ag-filter-separator{border-top:solid var(--ag-border-width) var(--menu-separator-color)}:where(.ag-filter-select) .ag-picker-field-wrapper{width:0}.ag-filter-condition-operator{height:17px}:where(.ag-ltr) .ag-filter-condition-operator-or{margin-left:calc(var(--ag-spacing)*2)}:where(.ag-rtl) .ag-filter-condition-operator-or{margin-right:calc(var(--ag-spacing)*2)}.ag-set-filter-select-all{padding-top:var(--ag-widget-container-vertical-padding)}.ag-filter-no-matches,.ag-set-filter-list{height:calc(var(--ag-list-item-height)*6)}.ag-filter-no-matches{padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}.ag-set-filter-tree-list{height:calc(var(--ag-list-item-height)*10)}.ag-set-filter-filter{margin-left:var(--ag-widget-container-horizontal-padding);margin-right:var(--ag-widget-container-horizontal-padding);margin-top:var(--ag-widget-container-vertical-padding)}.ag-filter-to{margin-top:var(--ag-widget-vertical-spacing)}.ag-mini-filter{margin:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}:where(.ag-ltr) .ag-set-filter-add-group-indent{margin-left:calc(var(--ag-icon-size) + var(--ag-widget-container-horizontal-padding))}:where(.ag-rtl) .ag-set-filter-add-group-indent{margin-right:calc(var(--ag-icon-size) + var(--ag-widget-container-horizontal-padding))}:where(.ag-filter-menu) .ag-set-filter-list{min-width:200px}.ag-filter-virtual-list-item:focus-visible{box-shadow:inset var(--ag-focus-shadow)}.ag-filter-apply-panel{display:flex;justify-content:flex-end;overflow:hidden;padding:var(--ag-widget-vertical-spacing) var(--ag-widget-container-horizontal-padding) var(--ag-widget-container-vertical-padding)}.ag-filter-apply-panel-button{line-height:1.5}:where(.ag-ltr) .ag-filter-apply-panel-button{margin-left:calc(var(--ag-spacing)*2)}:where(.ag-rtl) .ag-filter-apply-panel-button{margin-right:calc(var(--ag-spacing)*2)}.ag-simple-filter-body-wrapper{display:flex;flex-direction:column;min-height:calc(var(--ag-list-item-height) + var(--ag-widget-container-vertical-padding) + var(--ag-widget-vertical-spacing));overflow-y:auto;padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);padding-bottom:calc(var(--ag-widget-container-vertical-padding) - var(--ag-widget-vertical-spacing));&>*{margin-bottom:var(--ag-widget-vertical-spacing)}:where(.ag-resizer-wrapper){margin:0}}.ag-multi-filter-menu-item{margin:var(--ag-spacing) 0}.ag-multi-filter-group-title-bar{background-color:transparent;color:var(--ag-header-text-color);font-weight:500;padding:calc(var(--ag-spacing)*1.5) var(--ag-spacing)}.ag-group-filter-field-select-wrapper{display:flex;flex-direction:column;gap:var(--ag-widget-vertical-spacing);padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}";function Cye(e){const t=e.filterManager;return!!t?.isColumnFilterPresent()||!!t?.isAggregateFilterPresent()}function xye(e,t){return e.filterManager?.getColumnFilterInstance(t)??Promise.resolve(void 0)}function Sye(e,t){const n=e.colModel.getColDefCol(t);if(n)return e.colFilter?.destroyFilter(n,"api")}function Eye(e,t){e.frameworkOverrides.wrapIncoming(()=>e.filterManager?.setFilterModel(t))}function Dye(e){return e.filterManager?.getFilterModel()??{}}function Rye(e,t,n){const{gos:r,colModel:i,colFilter:s}=e;n&&!r.get("enableFilterHandlers")&&(ve(288),n=!1);const o=i.getColDefCol(t);return o?s?.getModelForColumn(o,n)??null:null}function Mye(e,t,n){return e.filterManager?.setColumnFilterModel(t,n)??Promise.resolve()}function Tye(e,t){const n=e.colModel.getCol(t);if(!n){Dt(12,{colKey:t});return}e.menuSvc?.showFilterMenu({column:n,containerType:"columnFilter",positionBy:"auto"})}function kye(e){e.menuSvc?.hideFilterMenu()}function Aye(e,t){const n=e.colModel.getCol(t);if(!n){Dt(12,{colKey:t});return}return e.colFilter?.getHandler(n,!0)}function Pye(e,t){const{colModel:n,colFilter:r,gos:i}=e;if(!i.get("enableFilterHandlers")){ve(287);return}const{colId:s,action:o}=t;if(s){const a=n.getColById(s);a&&r?.updateModel(a,o)}else r?.updateAllModels(o)}var Nye={filterHandler:()=>({doesFilterPass:()=>!0})},Oye=class extends le{constructor(){super(...arguments),this.beanName="colFilter",this.allColumnFilters=new Map,this.allColumnListeners=new Map,this.activeAggregateFilters=[],this.activeColumnFilters=[],this.processingFilterChange=!1,this.modelUpdates=[],this.columnModelUpdates=[],this.state=new Map,this.handlerMap={...h7},this.isGlobalButtons=!1,this.activeFilterComps=new Set}postConstruct(){this.addManagedEventListeners({gridColumnsChanged:this.onColumnsChanged.bind(this),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)});const e=this.gos,t={...e.get("initialState")?.filter?.filterModel??{}};this.initialModel=t,this.model={...t},e.get("enableFilterHandlers")||delete this.handlerMap.agMultiColumnFilter}refreshModel(){this.onNewRowsLoaded("rowDataUpdated")}setModel(e,t="api",n){const{colModel:r,dataTypeSvc:i,filterManager:s}=this.beans;if(i?.isPendingInference){this.modelUpdates.push({model:e,source:t});return}const o=[],a=this.getModel(!0);if(e){const l=new Set(Object.keys(e));this.allColumnFilters.forEach((c,d)=>{const f=e[d];o.push(this.setModelOnFilterWrapper(c,f)),l.delete(d)}),l.forEach(c=>{const d=r.getColDefCol(c)||r.getCol(c);if(!d){ve(62,{colId:c});return}if(!d.isFilterAllowed()){ve(63,{colId:c});return}const f=this.getOrCreateFilterWrapper(d,!0);if(!f){ve(64,{colId:c});return}o.push(this.setModelOnFilterWrapper(f,e[c],!0))})}else this.model={},this.allColumnFilters.forEach(l=>{o.push(this.setModelOnFilterWrapper(l,null))});vt.all(o).then(()=>{const l=this.getModel(!0),c=[];this.allColumnFilters.forEach((d,f)=>{const p=a?a[f]:null,v=l?l[f]:null;Xg(p,v)||c.push(d.column)}),c.length>0?s?.onFilterChanged({columns:c,source:t}):n&&this.updateActive("filterChanged")})}getModel(e){const t={},{allColumnFilters:n,initialModel:r,beans:{colModel:i}}=this;if(n.forEach((s,o)=>{const a=this.getModelFromFilterWrapper(s);De(a)&&(t[o]=a)}),!e)for(const s of Object.keys(r)){const o=r[s];De(o)&&!n.has(s)&&i.getCol(s)?.isFilterAllowed()&&(t[s]=o)}return t}setState(e,t,n="api"){if(this.state.clear(),t)for(const r of Object.keys(t)){const i=t[r];this.state.set(r,{model:Jn(this.model,r),state:i})}this.setModel(e,n,!0)}getState(){const e=this.state;if(!e.size)return;const t={};let n=!1;return e.forEach((r,i)=>{const s=r.state;s!=null&&(n=!0,t[i]=s)}),n?t:void 0}getModelFromFilterWrapper(e){const n=e.column.getColId();if(e.isHandler)return Jn(this.model,n);const r=e.filter;return r?typeof r.getModel!="function"?(ve(66),null):r.getModel():Jn(this.initialModel,n)}isFilterPresent(){return this.activeColumnFilters.length>0}isAggFilterPresent(){return!!this.activeAggregateFilters.length}disableFilters(){this.initialModel={};const{allColumnFilters:e}=this;return e.size?(e.forEach(t=>this.disposeFilterWrapper(t,"advancedFilterEnabled")),!0):!1}updateActiveFilters(){const e=c=>c?c.isFilterActive?c.isFilterActive():(ve(67),!1):!1,{colModel:t,gos:n}=this.beans,r=!!A2(n),i=c=>{if(!c.isPrimary())return!0;const f=!t.isPivotActive();return!c.isValueActive()||!f?!1:t.isPivotMode()?!0:r},s=[],o=[],a=(c,d,f)=>{d&&(i(c)?s.push(f):o.push(f))},l=[];return this.allColumnFilters.forEach(c=>{const d=c.column,f=d.getColId();if(c.isHandler)l.push(vt.resolve().then(()=>{a(d,this.isHandlerActive(d),{colId:f,isHandler:!0,handler:c.handler,handlerParams:c.handlerParams})}));else{const p=ql(c);p&&l.push(p.then(v=>{a(d,e(v),{colId:f,isHandler:!1,comp:v})}))}}),vt.all(l).then(()=>{this.activeAggregateFilters=s,this.activeColumnFilters=o})}updateFilterFlagInColumns(e,t){const n=[];return this.allColumnFilters.forEach(r=>{const i=r.column;if(r.isHandler)n.push(vt.resolve().then(()=>{this.setColFilterActive(i,this.isHandlerActive(i),e,t)}));else{const s=ql(r);s&&n.push(s.then(o=>{this.setColFilterActive(i,o.isFilterActive(),e,t)}))}}),this.beans.groupFilter?.updateFilterFlags(e,t),vt.all(n)}doFiltersPass(e,t,n){const{data:r,aggData:i}=e,s=n?this.activeAggregateFilters:this.activeColumnFilters,o=n?i:r,a=this.model;for(let l=0;l<s.length;l++){const c=s[l],{colId:d,isHandler:f}=c;if(d!==t)if(f){const{handler:p,handlerParams:v}=c;if(!p.doesFilterPass({node:e,data:o,model:Jn(a,d),handlerParams:v}))return!1}else{const p=c.comp;if(typeof p.doesFilterPass!="function"){Dt(91);continue}if(!p.doesFilterPass({node:e,data:o}))return!1}}return!0}getHandlerParams(e){const t=this.allColumnFilters.get(e.getColId());return t?.isHandler?t.handlerParams:void 0}callOnFilterChangedOutsideRenderCycle(e){const{rowRenderer:t,filterManager:n}=this.beans,r=()=>{this.isAlive()&&n?.onFilterChanged(e)};t.isRefreshInProgress()?setTimeout(r,0):r()}updateBeforeFilterChanged(e={}){const{column:t,additionalEventAttributes:n}=e,r=t?.getColId();return this.updateActiveFilters().then(()=>this.updateFilterFlagInColumns("filterChanged",n).then(()=>{this.allColumnFilters.forEach(i=>{const{column:s,isHandler:o}=i;r!==s.getColId()&&(o&&i.handler.onAnyFilterChanged?.(),ql(i,o)?.then(a=>{typeof a?.onAnyFilterChanged=="function"&&a.onAnyFilterChanged()}))}),this.processingFilterChange=!0}))}updateAfterFilterChanged(){this.processingFilterChange=!1}isSuppressFlashingCellsBecauseFiltering(){return!(this.gos.get("allowShowChangeAfterFilter")??!1)&&this.processingFilterChange}onNewRowsLoaded(e){const t=[];this.allColumnFilters.forEach(n=>{const r=n.isHandler;r&&n.handler.onNewRowsLoaded?.();const i=ql(n,r);i&&t.push(i.then(s=>{s.onNewRowsLoaded?.()}))}),vt.all(t).then(()=>this.updateActive(e,{afterDataChange:!0}))}updateActive(e,t){this.updateFilterFlagInColumns(e,t).then(()=>this.updateActiveFilters())}createGetValue(e,t){const{filterValueSvc:n,colModel:r}=this.beans;return(i,s)=>{const o=s?r.getCol(s):e;return o?n.getValue(o,i,t):void 0}}isFilterActive(e){const t=this.cachedFilter(e);if(t?.isHandler)return this.isHandlerActive(e);const n=t?.filter;return n?n.isFilterActive():Jn(this.initialModel,e.getColId())!=null}isHandlerActive(e){const t=De(Jn(this.model,e.getColId()));if(t)return t;const n=this.beans.groupFilter;return n?.isGroupFilter(e)?n.isFilterActive(e):!1}getOrCreateFilterUi(e){const t=this.getOrCreateFilterWrapper(e,!0);return t?ql(t):null}getFilterUiForDisplay(e){const t=this.getOrCreateFilterWrapper(e,!0);if(!t)return null;const n=ql(t);return n?n.then(r=>({comp:r,params:t.filterUi.filterParams,isHandler:t.isHandler})):null}getHandler(e,t){const n=this.getOrCreateFilterWrapper(e,t);return n?.isHandler?n.handler:void 0}getOrCreateFilterWrapper(e,t){if(!e.isFilterAllowed())return;let n=this.cachedFilter(e);return!n&&t&&(n=this.createFilterWrapper(e),this.setColumnFilterWrapper(e,n)),n}cachedFilter(e){return this.allColumnFilters.get(e.getColId())}getDefaultFilter(e,t=!1){return this.getDefaultFilterFromDataType(()=>this.beans.dataTypeSvc?.getBaseDataType(e),t)}getDefaultFilterFromDataType(e,t=!1){return _ae(this.gos)?t?"agSetColumnFloatingFilter":"agSetColumnFilter":Rue(e(),t)}getDefaultFloatingFilter(e){return this.getDefaultFilter(e,!0)}createFilterComp(e,t,n,r,i,s){const o=()=>{const c=this.createFilterCompParams(e,i,s),d=r(c,i);return Vle(this.beans.userCompFactory,t,d,n)},a=o();return a?{compDetails:a,createFilterUi:c=>(c?o():a).newAgStackInstance()}:null}createFilterInstance(e,t,n,r){const i=this.beans.selectableFilter;i?.isSelectable(t)&&(t=i.getFilterDef(e,t));const{handler:s,handlerParams:o,handlerGenerator:a}=this.createHandler(e,t,n)??{},l=this.createFilterComp(e,t,n,r,!!s,"init");if(!l)return{compDetails:null,createFilterUi:null,handler:s,handlerGenerator:a,handlerParams:o};const{compDetails:c,createFilterUi:d}=l;return this.isGlobalButtons&&(c.params?.buttons?.length||ve(281,{colId:e.getColId()})),{compDetails:c,handler:s,handlerGenerator:a,handlerParams:o,createFilterUi:d}}createBaseFilterParams(e,t){const{filterManager:n,rowModel:r}=this.beans;return _e(this.gos,{column:e,colDef:e.getColDef(),getValue:this.createGetValue(e),doesRowPassOtherFilter:t?()=>!0:i=>n?.doesRowPassOtherFilters(e.getColId(),i)??!0,rowModel:r})}createFilterCompParams(e,t,n,r){const i=this.filterChangedCallbackFactory(e),s=this.createBaseFilterParams(e,r);if(s.filterChangedCallback=i,s.filterModifiedCallback=r?()=>{}:o=>this.filterModified(e,o),t){const o=s,a=e.getColId(),l=Jn(this.model,a);o.model=l,o.state=this.state.get(a)??{model:l},o.onModelChange=(c,d)=>{this.updateStoredModel(a,c),this.refreshHandlerAndUi(e,c,"ui",!1,d).then(()=>{i({...d,source:"columnFilter"})})},o.onStateChange=c=>{this.updateState(e,c),this.updateOrRefreshFilterUi(e)},o.onAction=(c,d,f)=>{this.updateModel(e,c,d),this.dispatchLocalEvent({type:"filterAction",column:e,action:c,event:f})},o.getHandler=()=>this.getHandler(e,!0),o.onUiChange=c=>this.filterUiChanged(e,c),o.source=n}return s}createFilterUiForHandler(e,t){return t?{created:!1,create:t,filterParams:e.params,compDetails:e}:null}createFilterUiLegacy(e,t,n){const r=t(),i={created:!0,create:t,filterParams:e.params,compDetails:e,promise:r};return r.then(n),i}createFilterWrapper(e){const{compDetails:t,handler:n,handlerGenerator:r,handlerParams:i,createFilterUi:s}=this.createFilterInstance(e,e.getColDef(),this.getDefaultFilter(e),a=>a),o=e.getColId();if(n)return delete this.initialModel[o],n.init?.({...i,source:"init",model:Jn(this.model,o)}),{column:e,isHandler:!0,handler:n,handlerGenerator:r,handlerParams:i,filterUi:this.createFilterUiForHandler(t,s)};if(s){const a={column:e,filterUi:null,isHandler:!1};return a.filterUi=this.createFilterUiLegacy(t,s,l=>{a.filter=l??void 0}),a}return{column:e,filterUi:null,isHandler:!1}}createHandlerFunc(e,t,n){const{gos:r,frameworkOverrides:i,registry:s}=this.beans;let o;const a=v=>{const y=v.filter;if(BV(y)){const b=y.handler;return b||(o=y.doesFilterPass,o?()=>({doesFilterPass:o}):void 0)}return typeof y=="string"?y:void 0},l=r.get("enableFilterHandlers"),c=l?a(t):void 0,d=v=>()=>this.createBean(s.createDynamicBean(v,!0));let f,p;if(typeof c=="string"){const v=r.get("filterHandlers")?.[c];v!=null?f=v:pue.has(c)&&(f=d(c),p=c)}else f=c;if(!f){let v;const{compName:y,jsComp:b,fwComp:x}=GV(i,t);y?v=y:b==null&&x==null&&t.filter===!0&&(v=n),p=this.handlerMap[v],p&&(f=d(p))}return f?{filterHandler:f,handlerNameOrCallback:o??p}:l?(Xt(r)&&ve(277,{colId:e.getColId()}),Nye):void 0}createHandler(e,t,n){const r=this.createHandlerFunc(e,t,n);if(!r)return;const i=fD(this.beans.userCompFactory,t,this.createFilterCompParams(e,!0,"init")),{handlerNameOrCallback:s,filterHandler:o}=r,{handler:a,handlerParams:l}=this.createHandlerFromFunc(e,o,i);return{handler:a,handlerParams:l,handlerGenerator:s??o}}createHandlerFromFunc(e,t,n){const r=e.getColDef(),i=t(_e(this.gos,{column:e,colDef:r})),s=this.createHandlerParams(e,n);return{handler:i,handlerParams:s}}createHandlerParams(e,t){const n=e.getColDef(),r=e.getColId(),i=this.filterChangedCallbackFactory(e);return _e(this.gos,{colDef:n,column:e,getValue:this.createGetValue(e),doesRowPassOtherFilter:s=>this.beans.filterManager?.doesRowPassOtherFilters(r,s)??!0,onModelChange:(s,o)=>{this.updateStoredModel(r,s),this.refreshHandlerAndUi(e,s,"handler",!1,o).then(()=>{i({...o,source:"columnFilter"})})},filterParams:t})}onColumnsChanged(){const e=[],{colModel:t,filterManager:n,groupFilter:r}=this.beans;this.allColumnFilters.forEach((s,o)=>{let a;s.column.isPrimary()?a=t.getColDefCol(o):a=t.getCol(o),!(a&&a===s.column)&&(e.push(s.column),this.disposeFilterWrapper(s,"columnChanged"),this.disposeColumnListener(o))});const i=r&&e.every(s=>r.isGroupFilter(s));e.length>0&&!i&&n?.onFilterChanged({columns:e,source:"api"})}isFilterAllowed(e){if(!e.isFilterAllowed())return!1;const n=this.beans.groupFilter;return n?.isGroupFilter(e)?n.isFilterAllowed(e):!0}getFloatingFilterCompDetails(e,t){const{userCompFactory:n,frameworkOverrides:r,selectableFilter:i}=this.beans,s=p=>{const v=this.getOrCreateFilterUi(e);v?.then(y=>{p(am(y))})},o=e.getColDef(),a=i?.isSelectable(o)?i.getFilterDef(e,o):o,l=Pue(r,a,()=>this.getDefaultFloatingFilter(e))??"agReadOnlyFloatingFilter",c=this.gos.get("enableFilterHandlers"),d=fD(n,a,this.createFilterCompParams(e,c,"init",!0)),f=_e(this.gos,{column:e,filterParams:d,currentParentModel:()=>this.getCurrentFloatingFilterParentModel(e),parentFilterInstance:s,showParentFilter:t});if(c){const p=f,v=e.getColId(),y=this.filterChangedCallbackFactory(e);p.onUiChange=b=>this.floatingFilterUiChanged(e,b),p.model=Jn(this.model,v),p.onModelChange=(b,x)=>{this.updateStoredModel(v,b),this.refreshHandlerAndUi(e,b,"floating",!0,x).then(()=>{y({...x,source:"columnFilter"})})},p.getHandler=()=>this.getHandler(e,!0),p.source="init"}return Kle(n,o,f,l)}getCurrentFloatingFilterParentModel(e){return this.getModelFromFilterWrapper(this.cachedFilter(e)??{column:e})}destroyFilterUi(e,t,n,r){const i="paramsUpdated";if(e.isHandler){const s=t.getColId();delete this.initialModel[s],this.state.delete(s);const o=e.filterUi,a=this.createFilterUiForHandler(n,r);e.filterUi=a;const l=this.eventSvc;o?.created?o.promise.then(c=>{this.destroyBean(c),l.dispatchEvent({type:"filterDestroyed",source:i,column:t})}):l.dispatchEvent({type:"filterHandlerDestroyed",source:i,column:t})}else this.destroyFilter(t,i)}destroyFilter(e,t="api"){const n=e.getColId(),r=this.allColumnFilters.get(n);this.disposeColumnListener(n),delete this.initialModel[n],r&&this.disposeFilterWrapper(r,t).then(i=>{i&&this.isAlive()&&this.beans.filterManager?.onFilterChanged({columns:[e],source:"api"})})}disposeColumnListener(e){const t=this.allColumnListeners.get(e);t&&(this.allColumnListeners.delete(e),t())}disposeFilterWrapper(e,t){let n=!1;const{column:r,isHandler:i,filterUi:s}=e,o=r.getColId();i&&(n=this.isHandlerActive(r),this.destroyBean(e.handler),delete this.model[o],this.state.delete(o));const a=()=>{this.setColFilterActive(r,!1,"filterDestroyed"),this.allColumnFilters.delete(o),this.eventSvc.dispatchEvent({type:"filterDestroyed",source:t,column:r})};if(s){if(s.created)return s.promise.then(l=>(n=i?n:!!l?.isFilterActive(),this.destroyBean(l),a(),n));a()}return vt.resolve(n)}filterChangedCallbackFactory(e){return t=>{this.callOnFilterChangedOutsideRenderCycle({additionalEventAttributes:t,columns:[e],column:e,source:t?.source??"columnFilter"})}}filterParamsChanged(e,t="api"){const n=this.allColumnFilters.get(e);if(!n)return;const r=this.beans,i=n.column,s=i.getColDef(),o=i.isFilterAllowed(),a=this.getDefaultFilter(i),l=r.selectableFilter,c=l?.isSelectable(s)?l.getFilterDef(i,s):s,d=o?this.createHandlerFunc(i,c,this.getDefaultFilter(i)):void 0,f=!!d,p=n.isHandler;if(p!=f){this.destroyFilter(i,"paramsUpdated");return}const{compDetails:v,createFilterUi:y}=(o?this.createFilterComp(i,c,a,x=>x,f,"colDef"):null)??{compDetails:null,createFilterUi:null},b=v?.params??fD(r.userCompFactory,c,this.createFilterCompParams(i,f,"colDef"));if(p){const x=d?.handlerNameOrCallback??d?.filterHandler,S=Jn(this.model,e);if(n.handlerGenerator!=x){const M=n.handler,{handler:R,handlerParams:T}=this.createHandlerFromFunc(i,d.filterHandler,b);n.handler=R,n.handlerParams=T,n.handlerGenerator=x,delete this.model[e],R.init?.({...T,source:"init",model:null}),this.destroyBean(M),S!=null&&this.beans.filterManager?.onFilterChanged({columns:[i],source:t})}else{const M=this.createHandlerParams(i,v?.params);n.handlerParams=M,n.handler.refresh?.({...M,source:"colDef",model:S})}}if(this.areFilterCompsDifferent(n.filterUi?.compDetails??null,v)||!n.filterUi||!v){this.destroyFilterUi(n,i,v,y);return}n.filterUi.filterParams=b,ql(n,p)?.then(x=>{(x?.refresh?x.refresh(b):!0)===!1?this.destroyFilterUi(n,i,v,y):this.dispatchLocalEvent({type:"filterParamsChanged",column:i,params:b})})}refreshHandlerAndUi(e,t,n,r,i){const s=this.cachedFilter(e);if(!s)return r&&this.getOrCreateFilterWrapper(e,!0),vt.resolve();if(!s.isHandler)return vt.resolve();const{filterUi:o,handler:a,handlerParams:l}=s;return gue(()=>{if(o){const{created:c,filterParams:d}=o;if(c)return o.promise.then(f=>f?{filter:f,filterParams:d}:void 0);o.refreshed=!0}return vt.resolve(void 0)},a,l,t,this.state.get(e.getColId())??{model:t},n,i)}setColumnFilterWrapper(e,t){const n=e.getColId();this.allColumnFilters.set(n,t),this.allColumnListeners.set(n,this.addManagedListeners(e,{colDefChanged:()=>this.filterParamsChanged(n)})[0])}areFilterCompsDifferent(e,t){if(!t||!e)return!0;const{componentClass:n}=e,{componentClass:r}=t;return!(n===r||n?.render&&r?.render&&n.render===r.render)}hasFloatingFilters(){return this.beans.colModel.getCols().some(t=>t.getColDef().floatingFilter)}getFilterInstance(e){const t=this.beans.colModel.getColDefCol(e);if(!t)return Promise.resolve(void 0);const n=this.getOrCreateFilterUi(t);return n?new Promise(r=>{n.then(i=>{r(am(i))})}):Promise.resolve(null)}processFilterModelUpdateQueue(){this.modelUpdates.forEach(({model:e,source:t})=>this.setModel(e,t)),this.modelUpdates=[],this.columnModelUpdates.forEach(({key:e,model:t,resolve:n})=>{this.setModelForColumn(e,t).then(()=>n())}),this.columnModelUpdates=[]}getModelForColumn(e,t){if(t){const{state:r,model:i}=this,s=e.getColId(),o=r.get(s);return o?o.model??null:Jn(i,s)}const n=this.cachedFilter(e);return n?this.getModelFromFilterWrapper(n):null}setModelForColumn(e,t){if(this.beans.dataTypeSvc?.isPendingInference){let n=()=>{};const r=new Promise(i=>{n=i});return this.columnModelUpdates.push({key:e,model:t,resolve:n}),r}return new Promise(n=>{this.setModelForColumnLegacy(e,t).then(r=>n(r))})}getStateForColumn(e){return this.state.get(e)??{model:Jn(this.model,e)}}setModelForColumnLegacy(e,t){const n=this.beans.colModel.getColDefCol(e),r=n?this.getOrCreateFilterWrapper(n,!0):null;return r?this.setModelOnFilterWrapper(r,t):vt.resolve()}setColDefPropsForDataType(e,t,n){const r=e.filter,i=r===!0?this.getDefaultFilterFromDataType(()=>t.baseDataType):r;if(typeof i!="string")return;let s,o;const a=this.beans,{filterParams:l,filterValueGetter:c}=e;i==="agMultiColumnFilter"?{filterParams:s,filterValueGetter:o}=a.multiFilter?.getParamsForDataType(l,c,t,n)??{}:{filterParams:s,filterValueGetter:o}=Sue(i,l,c,t,n,a,this.getLocaleTextFunc()),e.filterParams=s,o&&(e.filterValueGetter=o)}setColFilterActive(e,t,n,r){e.filterActive!==t&&(e.filterActive=t,e.dispatchColEvent("filterActiveChanged",n)),e.dispatchColEvent("filterChanged",n,r)}setModelOnFilterWrapper(e,t,n){return new vt(r=>{if(e.isHandler){const s=e.column,o=s.getColId(),a=this.model[o];if(this.updateStoredModel(o,t),n&&t===a){r();return}this.refreshHandlerAndUi(s,t,"api").then(()=>r());return}const i=ql(e);if(i){i.then(s=>{if(typeof s?.setModel!="function"){ve(65),r();return}(s.setModel(t)||vt.resolve()).then(()=>r())});return}r()})}updateStoredModel(e,t){De(t)?this.model[e]=t:delete this.model[e];const n=this.state.get(e),r={model:t,state:n?.state};this.state.set(e,r)}filterModified(e,t){this.getOrCreateFilterUi(e)?.then(n=>{this.eventSvc.dispatchEvent({type:"filterModified",column:e,filterInstance:n,...t})})}filterUiChanged(e,t){this.gos.get("enableFilterHandlers")&&this.eventSvc.dispatchEvent({type:"filterUiChanged",column:e,...t})}floatingFilterUiChanged(e,t){this.gos.get("enableFilterHandlers")&&this.eventSvc.dispatchEvent({type:"floatingFilterUiChanged",column:e,...t})}updateModel(e,t,n){const r=e.getColId(),i=this.cachedFilter(e),s=()=>i?.filterUi;G4(t,s,()=>Jn(this.model,r),()=>this.state.get(r),o=>this.updateState(e,o),o=>s()?.filterParams?.onModelChange(o,n),i?.isHandler?i.handler.processModelToApply?.bind(i.handler):void 0)}updateAllModels(e,t){const n=[];this.allColumnFilters.forEach((r,i)=>{const s=this.beans.colModel.getColDefCol(i);s&&G4(e,()=>r.filterUi,()=>Jn(this.model,i),()=>this.state.get(i),o=>this.updateState(s,o),o=>{this.updateStoredModel(i,o),this.dispatchLocalEvent({type:"filterAction",column:s,action:e}),n.push(this.refreshHandlerAndUi(s,o,"ui"))},r?.isHandler?r.handler.processModelToApply?.bind(r.handler):void 0)}),n.length&&vt.all(n).then(()=>{this.callOnFilterChangedOutsideRenderCycle({source:"columnFilter",additionalEventAttributes:t,columns:[]})})}updateOrRefreshFilterUi(e){const t=e.getColId();p7(()=>this.cachedFilter(e)?.filterUi,()=>Jn(this.model,t),()=>this.state.get(t))}updateState(e,t){this.state.set(e.getColId(),t),this.dispatchLocalEvent({type:"filterStateChanged",column:e,state:t})}canApplyAll(){const{state:e,model:t,activeFilterComps:n}=this;for(const i of n)if(i.source==="COLUMN_MENU")return!1;let r=!1;for(const i of e.keys()){const s=e.get(i);if(s.valid===!1)return!1;(s.model??null)!==Jn(t,i)&&(r=!0)}return r}hasUnappliedModel(e){const{model:t,state:n}=this;return(n.get(e)?.model??null)!==Jn(t,e)}setGlobalButtons(e){this.isGlobalButtons=e,this.dispatchLocalEvent({type:"filterGlobalButtons",isGlobal:e})}shouldKeepStateOnDetach(e,t){if(t==="newFiltersToolPanel")return!0;const n=this.beans.filterPanelSvc;return n?.isActive?!!n.getState(e.getColId()):!1}destroy(){super.destroy(),this.allColumnFilters.forEach(e=>this.disposeFilterWrapper(e,"gridDestroyed")),this.allColumnListeners.clear(),this.state.clear(),this.activeFilterComps.clear()}};function Fye(e){return!!e.filterManager?.isAnyFilterPresent()}function Iye(e,t="api"){e.filterManager?.onFilterChanged({source:t})}var Lye=class extends le{constructor(){super(...arguments),this.beanName="filterManager",this.advFilterModelUpdateQueue=[]}wireBeans(e){this.quickFilter=e.quickFilter,this.advancedFilter=e.advancedFilter,this.colFilter=e.colFilter}postConstruct(){const e=this.refreshFiltersForAggregations.bind(this),t=this.updateAdvFilterColumns.bind(this);this.addManagedEventListeners({columnValueChanged:e,columnPivotChanged:e,columnPivotModeChanged:e,newColumnsLoaded:t,columnVisible:t,advancedFilterEnabledChanged:({enabled:r})=>this.onAdvFilterEnabledChanged(r),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.addManagedPropertyListeners(["isExternalFilterPresent","doesExternalFilterPass"],()=>{this.onFilterChanged({source:"api"})}),this.updateAggFiltering(),this.addManagedPropertyListener("groupAggFiltering",()=>{this.updateAggFiltering(),this.onFilterChanged()}),this.quickFilter&&this.addManagedListeners(this.quickFilter,{quickFilterChanged:()=>this.onFilterChanged({source:"quickFilter"})});const{gos:n}=this;this.alwaysPassFilter=n.get("alwaysPassFilter"),this.addManagedPropertyListener("alwaysPassFilter",()=>{this.alwaysPassFilter=n.get("alwaysPassFilter"),this.onFilterChanged({source:"api"})})}isExternalFilterPresentCallback(){const e=this.gos.getCallback("isExternalFilterPresent");return typeof e=="function"&&e({})}doesExternalFilterPass(e){const t=this.gos.get("doesExternalFilterPass");return typeof t=="function"&&t(e)}setFilterState(e,t,n="api"){this.isAdvFilterEnabled()||this.colFilter?.setState(e,t,n)}setFilterModel(e,t="api",n){if(this.isAdvFilterEnabled()){n||this.warnAdvFilters();return}this.colFilter?.setModel(e,t)}getFilterModel(){return this.colFilter?.getModel()??{}}getFilterState(){return this.colFilter?.getState()}isColumnFilterPresent(){return!!this.colFilter?.isFilterPresent()}isAggregateFilterPresent(){return!!this.colFilter?.isAggFilterPresent()}isChildFilterPresent(){return this.isColumnFilterPresent()||this.isQuickFilterPresent()||this.externalFilterPresent||this.isAdvFilterPresent()}isAnyFilterPresent(){return this.isChildFilterPresent()||this.isAggregateFilterPresent()}isAdvFilterPresent(){return this.isAdvFilterEnabled()&&this.advancedFilter.isFilterPresent()}onAdvFilterEnabledChanged(e){e?this.colFilter?.disableFilters()&&this.onFilterChanged({source:"advancedFilter"}):this.advancedFilter?.isFilterPresent()&&(this.advancedFilter.setModel(null),this.onFilterChanged({source:"advancedFilter"}))}isAdvFilterEnabled(){return!!this.advancedFilter?.isEnabled()}isAdvFilterHeaderActive(){return this.isAdvFilterEnabled()&&this.advancedFilter.isHeaderActive()}refreshFiltersForAggregations(){A2(this.gos)&&this.isAnyFilterPresent()&&this.onFilterChanged()}onFilterChanged(e={}){const{source:t,additionalEventAttributes:n,columns:r=[]}=e;this.externalFilterPresent=this.isExternalFilterPresentCallback(),(this.colFilter?this.colFilter.updateBeforeFilterChanged(e):vt.resolve()).then(()=>{const i={source:t,type:"filterChanged",columns:r};n&&Qr(i,n),this.eventSvc.dispatchEvent(i),this.colFilter?.updateAfterFilterChanged()})}isSuppressFlashingCellsBecauseFiltering(){return!!this.colFilter?.isSuppressFlashingCellsBecauseFiltering()}isQuickFilterPresent(){return!!this.quickFilter?.isFilterPresent()}updateAggFiltering(){this.aggFiltering=!!A2(this.gos)}isAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&this.shouldApplyQuickFilterAfterAgg()}isNonAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&!this.shouldApplyQuickFilterAfterAgg()}shouldApplyQuickFilterAfterAgg(){return(this.aggFiltering||this.beans.colModel.isPivotMode())&&!this.gos.get("applyQuickFilterBeforePivotOrAgg")}doesRowPassOtherFilters(e,t){return this.doesRowPassFilter({rowNode:t,colIdToSkip:e})}doesRowPassAggregateFilters(e){const{rowNode:t}=e;return this.alwaysPassFilter?.(t)?!0:!(this.isAggregateQuickFilterPresent()&&!this.quickFilter.doesRowPass(t)||this.isAggregateFilterPresent()&&!this.colFilter.doFiltersPass(t,e.colIdToSkip,!0))}doesRowPassFilter(e){const{rowNode:t}=e;return this.alwaysPassFilter?.(t)?!0:!(this.isNonAggregateQuickFilterPresent()&&!this.quickFilter.doesRowPass(t)||this.externalFilterPresent&&!this.doesExternalFilterPass(t)||this.isColumnFilterPresent()&&!this.colFilter.doFiltersPass(t,e.colIdToSkip)||this.isAdvFilterPresent()&&!this.advancedFilter.doesFilterPass(t))}isFilterAllowed(e){return this.isAdvFilterEnabled()?!1:!!this.colFilter?.isFilterAllowed(e)}getAdvFilterModel(){return this.isAdvFilterEnabled()?this.advancedFilter.getModel():null}setAdvFilterModel(e,t="api"){if(this.isAdvFilterEnabled()){if(this.beans.dataTypeSvc?.isPendingInference){this.advFilterModelUpdateQueue.push(e);return}this.advancedFilter.setModel(e??null),this.onFilterChanged({source:t})}}toggleAdvFilterBuilder(e,t){this.isAdvFilterEnabled()&&this.advancedFilter.getCtrl().toggleFilterBuilder({source:t,force:e})}updateAdvFilterColumns(){this.isAdvFilterEnabled()&&this.advancedFilter.updateValidity()&&this.onFilterChanged({source:"advancedFilter"})}hasFloatingFilters(){return this.isAdvFilterEnabled()?!1:!!this.colFilter?.hasFloatingFilters()}getColumnFilterInstance(e){return this.isAdvFilterEnabled()?(this.warnAdvFilters(),Promise.resolve(void 0)):this.colFilter?.getFilterInstance(e)??Promise.resolve(void 0)}warnAdvFilters(){ve(68)}setupAdvFilterHeaderComp(e){this.advancedFilter?.getCtrl().setupHeaderComp(e)}getHeaderRowCount(){return this.isAdvFilterHeaderActive()?1:0}getHeaderHeight(){return this.isAdvFilterHeaderActive()?this.advancedFilter.getCtrl().getHeaderHeight():0}processFilterModelUpdateQueue(){for(const e of this.advFilterModelUpdateQueue)this.setAdvFilterModel(e);this.advFilterModelUpdateQueue=[]}setColumnFilterModel(e,t){return this.isAdvFilterEnabled()?(this.warnAdvFilters(),Promise.resolve()):this.colFilter?.setModelForColumn(e,t)??Promise.resolve()}},_ye=class extends le{constructor(){super(...arguments),this.beanName="filterMenuFactory"}wireBeans(e){this.popupSvc=e.popupSvc}hideActiveMenu(){this.hidePopup?.()}showMenuAfterMouseEvent(e,t,n,r){e&&!e.isColumn||this.showPopup(e,i=>{this.popupSvc?.positionPopupUnderMouseEvent({column:e,type:n,mouseEvent:t,ePopup:i})},n,t.target,Ui(this.gos),r)}showMenuAfterButtonClick(e,t,n,r){if(e&&!e.isColumn)return;let i=-1,s="left";const o=Ui(this.gos);!o&&this.gos.get("enableRtl")&&(i=1,s="right");const a=o?void 0:4*i,l=o?void 0:4;this.showPopup(e,c=>{this.popupSvc?.positionPopupByComponent({type:n,eventSource:t,ePopup:c,nudgeX:a,nudgeY:l,alignSide:s,keepWithinBounds:!0,position:"under",column:e})},n,t,o,r)}showPopup(e,t,n,r,i,s){const o=e?this.createBean(new Cue(e,"COLUMN_MENU")):void 0;if(this.activeMenu=o,!o?.hasFilter()||!e){Dt(57);return}const a=Tn({tag:"div",cls:`ag-menu${i?"":" ag-filter-menu"}`,role:"presentation"});[this.tabListener]=this.addManagedElementListeners(a,{keydown:b=>this.trapFocusWithin(b,a)}),a.appendChild(o?.getGui());let l;const c=()=>o?.afterGuiDetached(),d=jae(this.gos)?r??this.beans.ctrlsSvc.getGridBodyCtrl().eGridBody:void 0,f=b=>{Q4(e,!1,"contextMenu");const x=b instanceof KeyboardEvent;this.tabListener&&(this.tabListener=this.tabListener()),x&&r&&qo(r)&&KV(r)?.focus({preventScroll:!0}),c(),this.destroyBean(this.activeMenu),this.dispatchVisibleChangedEvent(!1,n,e),s?.()},p=this.getLocaleTextFunc(),v=i&&n!=="columnFilter"?p("ariaLabelColumnMenu","Column Menu"):p("ariaLabelColumnFilter","Column Filter"),y=this.popupSvc?.addPopup({modal:!0,eChild:a,closeOnEsc:!0,closedCallback:f,positionCallback:()=>t(a),anchorToElement:d,ariaLabel:v});y&&(this.hidePopup=l=y.hideFunc),o.afterInit().then(()=>{t(a),o.afterGuiAttached({container:n,hidePopup:l})}),Q4(e,!0,"contextMenu"),this.dispatchVisibleChangedEvent(!0,n,e)}trapFocusWithin(e,t){e.key!==re.TAB||e.defaultPrevented||bd(this.beans,t,!1,e.shiftKey)||(e.preventDefault(),Rc(t,e.shiftKey))}dispatchVisibleChangedEvent(e,t,n){this.eventSvc.dispatchEvent({type:"columnMenuVisibleChanged",visible:e,switchingTab:!1,key:t,column:n??null,columnGroup:null})}isMenuEnabled(e){return e.isFilterAllowed()&&(e.getColDef().menuTabs??["filterMenuTab"]).includes("filterMenuTab")}showMenuAfterContextMenuEvent(){}destroy(){this.destroyBean(this.activeMenu),super.destroy()}},jye=class extends le{constructor(){super(...arguments),this.beanName="filterValueSvc"}getValue(e,t,n){if(!t)return;const r=e.getColDef(),{selectableFilter:i,valueSvc:s}=this.beans,o=n??i?.getFilterValueGetter(e.getColId())??r.filterValueGetter;return o?this.executeFilterValueGetter(o,t.data,e,t,r):s.getValue(e,t)}executeFilterValueGetter(e,t,n,r,i){const{expressionSvc:s,valueSvc:o}=this.beans,a=_e(this.gos,{data:t,node:r,column:n,colDef:i,getValue:o.getValueCallback.bind(o,r)});return typeof e=="function"?e(a):s?.evaluate(e,a)}},Bye={tag:"div",cls:"ag-floating-filter-input",role:"presentation",children:[{tag:"ag-input-text-field",ref:"eFloatingFilterText"}]},Hye=class extends yt{constructor(){super(Bye,[hx]),this.eFloatingFilterText=Ee}init(e){this.params=e;const t=this.beans.colNames.getDisplayNameForColumn(e.column,"header",!0);if(this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(`${t} ${this.getLocaleTextFunc()("ariaFilterInput","Filter Input")}`),this.gos.get("enableFilterHandlers")){const n=e,r=n.getHandler();if(r.getModelAsString){const i=r.getModelAsString(n.model);this.eFloatingFilterText.setValue(i)}}}onParentModelChanged(e){if(e==null){this.eFloatingFilterText.setValue("");return}this.params.parentFilterInstance(t=>{if(t.getModelAsString){const n=t.getModelAsString(e);this.eFloatingFilterText.setValue(n)}})}refresh(e){this.init(e)}},VA=class{constructor(){this.customFilterOptions={}}init(e,t){this.filterOptions=e.filterOptions??t,this.mapCustomOptions(),this.defaultOption=this.getDefaultItem(e.defaultOption)}refresh(e,t){const n=e.filterOptions??t;this.filterOptions!==n&&(this.filterOptions=n,this.customFilterOptions={},this.mapCustomOptions()),this.defaultOption=this.getDefaultItem(e.defaultOption)}mapCustomOptions(){const{filterOptions:e}=this;if(e)for(const t of e){if(typeof t=="string")continue;const n=[["displayKey"],["displayName"],["predicate","test"]],r=i=>i.some(s=>t[s]!=null)?!0:(ve(72,{keys:i}),!1);if(!n.every(r)){this.filterOptions=e.filter(i=>i===t)||[];continue}this.customFilterOptions[t.displayKey]=t}}getDefaultItem(e){const{filterOptions:t}=this;if(e)return e;if(t.length>=1){const n=t[0];if(typeof n=="string")return n;if(n.displayKey)return n.displayKey;ve(73)}else ve(74)}getCustomOption(e){return this.customFilterOptions[e]}};function Lg(e,t,n){return n==null?e.splice(t):e.splice(t,n)}function Jw(e){return e==null||typeof e=="string"&&e.trim().length===0}function zye(e){return e==="AND"||e==="OR"?e:"AND"}function Gye(e,t,n){if(e==null)return;const{predicate:r}=e;if(r!=null&&!t.some(i=>i==null))return r(t,n)}function Vye(e,t){let n=e.length;return n>t&&(e.splice(t),ve(78),n=t),n}function dm(e,t){const n=t.getCustomOption(e);if(n){const{numberOfInputs:i}=n;return i??1}return e&&["empty","notBlank","blank"].indexOf(e)>=0?0:e==="inRange"?2:1}var WA=class extends Aue{constructor(e,t,n){super(e,"simple-filter"),this.mapValuesFromModel=t,this.defaultOptions=n,this.eTypes=[],this.eJoinPanels=[],this.eJoinAnds=[],this.eJoinOrs=[],this.eConditionBodies=[],this.listener=()=>this.onUiChanged(),this.lastUiCompletePosition=null,this.joinOperatorId=0}setParams(e){super.setParams(e);const t=new VA;this.optionsFactory=t,t.init(e,this.defaultOptions),this.commonUpdateSimpleParams(e),this.createOption(),this.createMissingConditionsAndOperators()}updateParams(e,t){this.optionsFactory.refresh(e,this.defaultOptions),super.updateParams(e,t),this.commonUpdateSimpleParams(e)}commonUpdateSimpleParams(e){this.setNumConditions(e),this.defaultJoinOperator=zye(e.defaultJoinOperator),this.filterPlaceholder=e.filterPlaceholder,this.createFilterListOptions();const t=this.getGui();this.isReadOnly()?t.setAttribute("tabindex","-1"):t.removeAttribute("tabindex")}onFloatingFilterChanged(e,t){this.setTypeFromFloatingFilter(e),this.setValueFromFloatingFilter(t),this.onUiChanged("immediately",!0)}setTypeFromFloatingFilter(e){this.eTypes.forEach((t,n)=>{const r=n===0?e:this.optionsFactory.defaultOption;t.setValue(r,!0)})}getModelFromUi(){const e=this.getUiCompleteConditions();return e.length===0?null:this.maxNumConditions>1&&e.length>1?{filterType:this.filterType,operator:this.getJoinOperator(),conditions:e}:e[0]}getConditionTypes(){return this.eTypes.map(e=>e.getValue())}getConditionType(e){return this.eTypes[e].getValue()}getJoinOperator(){const{eJoinOrs:e,defaultJoinOperator:t}=this;return e.length===0?t:e[0].getValue()===!0?"OR":"AND"}areNonNullModelsEqual(e,t){const n=!e.operator,r=!t.operator;if(!n&&r||n&&!r)return!1;let s;if(n){const o=e,a=t;s=this.areSimpleModelsEqual(o,a)}else{const o=e,a=t;s=o.operator===a.operator&&Lc(o.conditions,a.conditions,(l,c)=>this.areSimpleModelsEqual(l,c))}return s}setModelIntoUi(e,t){if(e==null)return this.resetUiToDefaults(t),vt.resolve();if(e.operator){const r=e;let i=r.conditions;i==null&&(i=[],ve(77));const s=Vye(i,this.maxNumConditions),o=this.getNumConditions();if(s<o)this.removeConditionsAndOperators(s);else if(s>o)for(let l=o;l<s;l++)this.createJoinOperatorPanel(),this.createOption();const a=r.operator==="OR";this.eJoinAnds.forEach(l=>l.setValue(!a,!0)),this.eJoinOrs.forEach(l=>l.setValue(a,!0)),i.forEach((l,c)=>{this.eTypes[c].setValue(l.type,!0),this.setConditionIntoUi(l,c)})}else{const r=e;this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(r.type,!0),this.setConditionIntoUi(r,0)}return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.updateUiVisibility(),t||this.params.onUiChange(this.getUiChangeEventParams()),vt.resolve()}setNumConditions(e){let t=e.maxNumConditions??2;t<1&&(ve(79),t=1),this.maxNumConditions=t;let n=e.numAlwaysVisibleConditions??1;n<1&&(ve(80),n=1),n>t&&(ve(81),n=t),this.numAlwaysVisibleConditions=n}createOption(){const e=this.getGui(),t=this.createManagedBean(new SA);this.eTypes.push(t),t.addCss("ag-filter-select"),e.appendChild(t.getGui());const n=this.createEValue();this.eConditionBodies.push(n),e.appendChild(n),this.putOptionsIntoDropdown(t),this.resetType(t);const r=this.getNumConditions()-1;this.forEachPositionInput(r,i=>this.resetInput(i)),this.addChangedListeners(t,r)}createJoinOperatorPanel(){const e=Tn({tag:"div",cls:"ag-filter-condition"});this.eJoinPanels.push(e);const t=this.createJoinOperator(this.eJoinAnds,e,"and"),n=this.createJoinOperator(this.eJoinOrs,e,"or");this.getGui().appendChild(e);const r=this.eJoinPanels.length-1,i=this.joinOperatorId++;this.resetJoinOperatorAnd(t,r,i),this.resetJoinOperatorOr(n,r,i),this.isReadOnly()||(t.onValueChange(this.listener),n.onValueChange(this.listener))}createJoinOperator(e,t,n){const r=this.createManagedBean(new cce);e.push(r);const i="ag-filter-condition-operator";return r.addCss(i),r.addCss(`${i}-${n}`),t.appendChild(r.getGui()),r}createFilterListOptions(){this.filterListOptions=this.optionsFactory.filterOptions.map(e=>typeof e=="string"?this.createBoilerplateListOption(e):this.createCustomListOption(e))}putOptionsIntoDropdown(e){const{filterListOptions:t}=this;for(const n of t)e.addOption(n);e.setDisabled(t.length<=1)}createBoilerplateListOption(e){return{value:e,text:this.translate(e)}}createCustomListOption(e){const{displayKey:t}=e,n=this.optionsFactory.getCustomOption(e.displayKey);return{value:t,text:n?this.getLocaleTextFunc()(n.displayKey,n.displayName):this.translate(t)}}createBodyTemplate(){return null}getAgComponents(){return[]}updateUiVisibility(){const e=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,e)}updateNumConditions(){let e=-1,t=!0;for(let n=0;n<this.getNumConditions();n++)this.isConditionUiComplete(n)?e=n:t=!1;if(this.shouldAddNewConditionAtEnd(t))this.createJoinOperatorPanel(),this.createOption();else{const n=this.lastUiCompletePosition??this.getNumConditions()-2;if(e<n){this.removeConditionsAndOperators(n+1);const r=e+1,i=n-r;i>0&&this.removeConditionsAndOperators(r,i),this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=e}updateConditionStatusesAndValues(e,t){this.eTypes.forEach((r,i)=>{const s=this.isConditionDisabled(i,e);r.setDisabled(s||this.filterListOptions.length<=1),i===1&&(em(this.eJoinPanels[0],s),this.eJoinAnds[0].setDisabled(s),this.eJoinOrs[0].setDisabled(s))}),this.eConditionBodies.forEach((r,i)=>{Wt(r,this.isConditionBodyVisible(i))});const n=(t??this.getJoinOperator())==="OR";for(const r of this.eJoinAnds)r.setValue(!n,!0);for(const r of this.eJoinOrs)r.setValue(n,!0);this.forEachInput((r,i,s,o)=>{this.setElementDisplayed(r,i<o),this.setElementDisabled(r,this.isConditionDisabled(s,e))}),this.resetPlaceholder()}shouldAddNewConditionAtEnd(e){return e&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()}removeConditionsAndOperators(e,t){if(e>=this.getNumConditions())return;const{eTypes:n,eConditionBodies:r,eJoinPanels:i,eJoinAnds:s,eJoinOrs:o}=this;this.removeComponents(n,e,t),this.removeElements(r,e,t),this.removeEValues(e,t);const a=Math.max(e-1,0);this.removeElements(i,a,t),this.removeComponents(s,a,t),this.removeComponents(o,a,t)}removeElements(e,t,n){const r=Lg(e,t,n);for(const i of r)Es(i)}removeComponents(e,t,n){const r=Lg(e,t,n);for(const i of r)Es(i.getGui()),this.destroyBean(i)}afterGuiAttached(e){if(super.afterGuiAttached(e),this.resetPlaceholder(),!e?.suppressFocus){let t;if(!this.isReadOnly()){const n=this.getInputs(0)[0];n instanceof xu&&this.isConditionBodyVisible(0)?t=n.getInputElement():t=this.eTypes[0]?.getFocusableElement()}(t??this.getGui()).focus({preventScroll:!0})}}afterGuiDetached(){super.afterGuiDetached();const e=this.params;if(this.beans.colFilter?.shouldKeepStateOnDetach(e.column))return;e.onStateChange({model:e.model});let t=-1,n=-1,r=!1;const i=this.getJoinOperator();for(let o=this.getNumConditions()-1;o>=0;o--)if(this.isConditionUiComplete(o))t===-1&&(t=o,n=o);else{const a=o>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(o-1),l=o<t;(a||l)&&(this.removeConditionsAndOperators(o,1),r=!0,l&&n--)}let s=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),s=!0),this.shouldAddNewConditionAtEnd(n===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),s=!0),s&&this.updateConditionStatusesAndValues(n,i),r&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=n}getModelAsString(e){return this.params.getHandler()?.getModelAsString?.(e)??""}getPlaceholderText(e,t){let n=this.translate(e);if(typeof this.filterPlaceholder=="function"){const r=this.eTypes[t].getValue(),i=this.translate(r);n=this.filterPlaceholder({filterOptionKey:r,filterOption:i,placeholder:n})}else typeof this.filterPlaceholder=="string"&&(n=this.filterPlaceholder);return n}resetPlaceholder(){const e=this.getLocaleTextFunc();this.forEachInput((t,n,r,i)=>{if(!(t instanceof xu))return;const s=n===0&&i>1?"inRangeStart":n===0?"filterOoo":"inRangeEnd",o=n===0&&i>1?e("ariaFilterFromValue","Filter from value"):n===0?e("ariaFilterValue","Filter Value"):e("ariaFilterToValue","Filter to Value");t.setInputPlaceholder(this.getPlaceholderText(s,r)),t.setInputAriaLabel(o)})}setElementValue(e,t,n){e instanceof xu&&e.setValue(t!=null?String(t):null,!0)}setElementDisplayed(e,t){O4(e)&&Wt(e.getGui(),t)}setElementDisabled(e,t){O4(e)&&em(e.getGui(),t)}attachElementOnChange(e,t){e instanceof xu&&e.onValueChange(t)}forEachInput(e){this.getConditionTypes().forEach((t,n)=>{this.forEachPositionTypeInput(n,t,e)})}forEachPositionInput(e,t){const n=this.getConditionType(e);this.forEachPositionTypeInput(e,n,t)}forEachPositionTypeInput(e,t,n){const r=dm(t,this.optionsFactory),i=this.getInputs(e);for(let s=0;s<i.length;s++){const o=i[s];o!=null&&n(o,s,e,r)}}isConditionDisabled(e,t){return this.isReadOnly()?!0:e===0?!1:e>t+1}isConditionBodyVisible(e){const t=this.getConditionType(e);return dm(t,this.optionsFactory)>0}isConditionUiComplete(e){return!(e>=this.getNumConditions()||this.getConditionType(e)==="empty"||this.getValues(e).some(n=>n==null))}getNumConditions(){return this.eTypes.length}getUiCompleteConditions(){const e=[];for(let t=0;t<this.getNumConditions();t++)this.isConditionUiComplete(t)&&e.push(this.createCondition(t));return e}createMissingConditionsAndOperators(){if(!this.isReadOnly())for(let e=this.getNumConditions();e<this.numAlwaysVisibleConditions;e++)this.createJoinOperatorPanel(),this.createOption()}resetUiToDefaults(e){this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach(t=>this.resetType(t)),this.eJoinAnds.forEach((t,n)=>this.resetJoinOperatorAnd(t,n,this.joinOperatorId+n)),this.eJoinOrs.forEach((t,n)=>this.resetJoinOperatorOr(t,n,this.joinOperatorId+n)),this.joinOperatorId++,this.forEachInput(t=>this.resetInput(t)),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,this.updateUiVisibility(),e||this.params.onUiChange(this.getUiChangeEventParams())}resetType(e){const n=this.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator");e.setValue(this.optionsFactory.defaultOption,!0).setAriaLabel(n).setDisabled(this.isReadOnly()||this.filterListOptions.length<=1)}resetJoinOperatorAnd(e,t,n){this.resetJoinOperator(e,t,this.defaultJoinOperator==="AND",this.translate("andCondition"),n)}resetJoinOperatorOr(e,t,n){this.resetJoinOperator(e,t,this.defaultJoinOperator==="OR",this.translate("orCondition"),n)}resetJoinOperator(e,t,n,r,i){this.updateJoinOperatorDisabled(e.setValue(n,!0).setName(`ag-simple-filter-and-or-${this.getCompId()}-${i}`).setLabel(r),t)}updateJoinOperatorsDisabled(){const e=(t,n)=>this.updateJoinOperatorDisabled(t,n);this.eJoinAnds.forEach(e),this.eJoinOrs.forEach(e)}updateJoinOperatorDisabled(e,t){e.setDisabled(this.isReadOnly()||t>0)}resetInput(e){this.setElementValue(e,null),this.setElementDisabled(e,this.isReadOnly())}setConditionIntoUi(e,t){const n=this.mapValuesFromModel(e,this.optionsFactory);this.forEachInput((r,i,s)=>{s===t&&this.setElementValue(r,n[i]!=null?n[i]:null)})}setValueFromFloatingFilter(e){this.forEachInput((t,n,r)=>{this.setElementValue(t,n===0&&r===0?e:null,!0)})}addChangedListeners(e,t){this.isReadOnly()||(e.onValueChange(this.listener),this.forEachPositionInput(t,n=>{this.attachElementOnChange(n,this.listener)}))}hasInvalidInputs(){return!1}isReadOnly(){return!!this.params.readOnly}},PW=class{constructor(e,t,n,r,i,s){this.alive=!0,this.context=e,this.eParent=i;const o=Wle(t,n,r);o&&o.newAgStackInstance().then(a=>{if(!this.alive){e.destroyBean(a);return}if(this.dateComp=a,!a)return;i.appendChild(a.getGui()),a?.afterGuiAttached?.();const{tempValue:l,disabled:c}=this;l&&a.setDate(l),c!=null&&a.setDisabled?.(c),s?.(this)})}destroy(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)}getDate(){return this.dateComp?this.dateComp.getDate():this.tempValue}setDate(e){const t=this.dateComp;t?t.setDate(e):this.tempValue=e}setDisabled(e){const t=this.dateComp;t?t.setDisabled?.(e):this.disabled=e}setDisplayed(e){Wt(this.eParent,e)}setInputPlaceholder(e){this.dateComp?.setInputPlaceholder?.(e)}setInputAriaLabel(e){this.dateComp?.setInputAriaLabel?.(e)}afterGuiAttached(e){this.dateComp?.afterGuiAttached?.(e)}updateParams(e){this.dateComp?.refresh?.(e)}},UA=["equals","notEqual","lessThan","greaterThan","inRange","blank","notBlank"];function NW(e,t){const{dateFrom:n,dateTo:r,type:i}=e||{};return[n&&Ci(n,void 0,!0)||null,r&&Ci(r,void 0,!0)||null].slice(0,dm(i,t))}var P_=1e3,N_=1/0,Wye=class extends WA{constructor(){super("dateFilter",NW,UA),this.eConditionPanelsFrom=[],this.eConditionPanelsTo=[],this.dateConditionFromComps=[],this.dateConditionToComps=[],this.minValidYear=P_,this.maxValidYear=N_,this.minValidDate=null,this.maxValidDate=null,this.filterType="date"}afterGuiAttached(e){super.afterGuiAttached(e),this.dateConditionFromComps[0].afterGuiAttached(e)}commonUpdateSimpleParams(e){super.commonUpdateSimpleParams(e);const t=(l,c)=>{const d=e[l];if(d!=null)if(isNaN(d))ve(82,{param:l});else return d==null?c:Number(d);return c},n=t("minValidYear",P_),r=t("maxValidYear",N_);this.minValidYear=n,this.maxValidYear=r,n>r&&ve(83);const{minValidDate:i,maxValidDate:s}=e,o=i instanceof Date?i:Ci(i);this.minValidDate=o;const a=s instanceof Date?s:Ci(s);this.maxValidDate=a,o&&a&&o>a&&ve(84)}createDateCompWrapper(e){const{beans:{userCompFactory:t,context:n,gos:r},params:i}=this,s=new PW(n,t,i.colDef,_e(r,{onDateChanged:()=>this.onUiChanged(),filterParams:i,location:"filter"}),e);return this.addDestroyFunc(()=>s.destroy()),s}setElementValue(e,t){e.setDate(t)}setElementDisplayed(e,t){e.setDisplayed(t)}setElementDisabled(e,t){e.setDisabled(t)}createEValue(){const e=Tn({tag:"div",cls:"ag-filter-body"});return this.createFromToElement(e,this.eConditionPanelsFrom,this.dateConditionFromComps,"from"),this.createFromToElement(e,this.eConditionPanelsTo,this.dateConditionToComps,"to"),e}createFromToElement(e,t,n,r){const i=Tn({tag:"div",cls:`ag-filter-${r} ag-filter-date-${r}`});t.push(i),e.appendChild(i),n.push(this.createDateCompWrapper(i))}removeEValues(e,t){this.removeDateComps(this.dateConditionFromComps,e,t),this.removeDateComps(this.dateConditionToComps,e,t),Lg(this.eConditionPanelsFrom,e,t),Lg(this.eConditionPanelsTo,e,t)}removeDateComps(e,t,n){const r=Lg(e,t,n);for(const i of r)i.destroy()}isValidDateValue(e){if(e===null)return!1;const{minValidDate:t,maxValidDate:n,minValidYear:r,maxValidYear:i}=this;if(t){if(e<t)return!1}else if(e.getUTCFullYear()<r)return!1;if(n){if(e>n)return!1}else if(e.getUTCFullYear()>i)return!1;return!0}isConditionUiComplete(e){if(!super.isConditionUiComplete(e))return!1;let t=!0;return this.forEachInput((n,r,i,s)=>{i!==e||!t||r>=s||(t=t&&this.isValidDateValue(n.getDate()))}),t}areSimpleModelsEqual(e,t){return e.dateFrom===t.dateFrom&&e.dateTo===t.dateTo&&e.type===t.type}createCondition(e){const t=this.getConditionType(e),n={},r=this.getValues(e),i=this.params.useIsoSeparator?"T":" ";return r.length>0&&(n.dateFrom=Ki(r[0],!0,i)),r.length>1&&(n.dateTo=Ki(r[1],!0,i)),{dateFrom:null,dateTo:null,filterType:this.filterType,type:t,...n}}resetPlaceholder(){const e=this.getLocaleTextFunc(),t=this.translate("dateFormatOoo"),n=e("ariaFilterValue","Filter Value");this.forEachInput(r=>{r.setInputPlaceholder(t),r.setInputAriaLabel(n)})}getInputs(e){const{dateConditionFromComps:t,dateConditionToComps:n}=this;return e>=t.length?[null,null]:[t[e],n[e]]}getValues(e){const t=[];return this.forEachPositionInput(e,(n,r,i,s)=>{r<s&&t.push(n.getDate())}),t}translate(e){return e==="lessThan"?super.translate("before"):e==="greaterThan"?super.translate("after"):super.translate(e)}},OW=class extends le{constructor(e,t){super(),this.mapValuesFromModel=e,this.defaultOptions=t}init(e){const t=e.filterParams,n=new VA;this.optionsFactory=n,n.init(t,this.defaultOptions),this.filterModelFormatter=this.createManagedBean(new this.FilterModelFormatterClass(n,t)),this.updateParams(e),this.validateModel(e)}refresh(e){if(e.source==="colDef"){const t=e.filterParams,n=this.optionsFactory;n.refresh(t,this.defaultOptions),this.filterModelFormatter.updateParams({optionsFactory:n,filterParams:t}),this.updateParams(e)}this.validateModel(e)}updateParams(e){this.params=e}doesFilterPass(e){const t=e.model;if(t==null)return!0;const{operator:n}=t,r=[];if(n){const o=t;r.push(...o.conditions??[])}else r.push(t);const i=n&&n==="OR"?"some":"every",s=this.params.getValue(e.node);return r[i](o=>this.individualConditionPasses(e,o,s))}getModelAsString(e,t){return this.filterModelFormatter.getModelAsString(e,t)??""}validateModel(e){const{model:t,filterParams:{filterOptions:n,maxNumConditions:r}}=e;if(t==null)return;let s=v7(t)?t.conditions:[t];const o=n?.map(d=>typeof d=="string"?d:d.displayKey)??this.defaultOptions;if(!(!s||s.every(d=>o.find(f=>f===d.type)!==void 0))){this.params={...e,model:null},e.onModelChange(null);return}let l=!1;const c=this.filterType;if((s&&!s.every(d=>d.filterType===c)||t.filterType!==c)&&(s=s.map(d=>({...d,filterType:c})),l=!0),typeof r=="number"&&s&&s.length>r&&(s=s.slice(0,r),l=!0),l){const d=s.length>1?{...t,filterType:c,conditions:s}:{...s[0],filterType:c};this.params={...e,model:d},e.onModelChange(d)}}individualConditionPasses(e,t,n){const r=this.optionsFactory,i=this.mapValuesFromModel(t,r),s=r.getCustomOption(t.type),o=Gye(s,i,n);return o??(n==null?this.evaluateNullValue(t.type):this.evaluateNonNullValue(i,n,t,e))}},FW=class extends OW{evaluateNullValue(e){const{includeBlanksInEquals:t,includeBlanksInNotEqual:n,includeBlanksInGreaterThan:r,includeBlanksInLessThan:i,includeBlanksInRange:s}=this.params.filterParams;switch(e){case"equals":if(t)return!0;break;case"notEqual":if(n)return!0;break;case"greaterThan":case"greaterThanOrEqual":if(r)return!0;break;case"lessThan":case"lessThanOrEqual":if(i)return!0;break;case"inRange":if(s)return!0;break;case"blank":return!0;case"notBlank":return!1}return!1}evaluateNonNullValue(e,t,n){const r=n.type;if(!this.isValid(t))return r==="notEqual"||r==="notBlank";const i=this.comparator(),s=e[0]!=null?i(e[0],t):0;switch(r){case"equals":return s===0;case"notEqual":return s!==0;case"greaterThan":return s>0;case"greaterThanOrEqual":return s>=0;case"lessThan":return s<0;case"lessThanOrEqual":return s<=0;case"inRange":{const o=i(e[1],t);return this.params.filterParams.inRangeInclusive?s>=0&&o<=0:s>0&&o<0}case"blank":return Jw(t);case"notBlank":return!Jw(t);default:return ve(76,{filterModelType:r}),!0}}},IW={equals:"Equals",notEqual:"NotEqual",greaterThan:"GreaterThan",greaterThanOrEqual:"GreaterThanOrEqual",lessThan:"LessThan",lessThanOrEqual:"LessThanOrEqual",inRange:"InRange"},Uye={contains:"Contains",notContains:"NotContains",equals:"TextEquals",notEqual:"TextNotEqual",startsWith:"StartsWith",endsWith:"EndsWith",inRange:"InRange"},$A=class extends le{constructor(e,t,n){super(),this.optionsFactory=e,this.filterParams=t,this.valueFormatter=n}getModelAsString(e,t){const n=this.getLocaleTextFunc(),r=t==="filterToolPanel";if(!e)return r?ac(this,"filterSummaryInactive"):null;if(e.operator!=null){const s=e,a=(s.conditions??[]).map(c=>this.getModelAsString(c,t)),l=s.operator==="AND"?"andCondition":"orCondition";return a.join(` ${ac(this,l)} `)}else{if(e.type==="blank"||e.type==="notBlank")return r?ac(this,e.type==="blank"?"filterSummaryBlank":"filterSummaryNotBlank"):n(e.type,e.type);{const s=e,o=this.optionsFactory.getCustomOption(s.type),{displayKey:a,displayName:l,numberOfInputs:c}=o||{};return a&&l&&c===0?n(a,l):this.conditionToString(s,r,s.type==="inRange"||c===2,a,l)}}}updateParams(e){const{optionsFactory:t,filterParams:n}=e;this.optionsFactory=t,this.filterParams=n}conditionForToolPanel(e,t,n,r,i,s){let o;const a=this.getTypeKey(e);return a&&(o=ac(this,a)),i&&s&&(o=this.getLocaleTextFunc()(i,s)),o!=null?t?`${o} ${ac(this,"filterSummaryInRangeValues",[n(),r()])}`:`${o} ${n()}`:null}getTypeKey(e){const t=this.filterTypeKeys[e];return t?`filterSummary${t}`:null}formatValue(e){const t=this.valueFormatter;return t?t(e??null)??"":String(e)}},LW=class extends $A{constructor(e,t){super(e,t,n=>{const{dataTypeSvc:r,valueSvc:i}=this.beans,s=t.column,o=r?.getDateFormatterFunction(s),a=o?o(n??void 0):n;return i.formatValue(s,null,a)}),this.filterTypeKeys=IW}conditionToString(e,t,n,r,i){const{type:s}=e,o=Ci(e.dateFrom),a=Ci(e.dateTo),l=this.filterParams.inRangeFloatingFilterDateFormat,c=t?this.formatValue.bind(this):p=>_2(p,l),d=()=>o!==null?c(o):"null",f=()=>a!==null?c(a):"null";if(t){const p=this.conditionForToolPanel(s,n,d,f,r,i);if(p!=null)return p}return n?`${d()}-${f()}`:o!=null?c(o):`${s}`}};function $ye(e,t){const n=t;return n<e?-1:n>e?1:0}var qye=class extends FW{constructor(){super(NW,UA),this.filterType="date",this.FilterModelFormatterClass=LW}comparator(){return this.params.filterParams.comparator??$ye}isValid(e){const t=this.params.filterParams.isValidDate;return!t||t(e)}},_W=class extends yt{constructor(){super(...arguments),this.defaultDebounceMs=0}setLastTypeFromModel(e){if(!e){this.lastType=this.optionsFactory.defaultOption;return}const t=e.operator;let n;t?n=e.conditions[0]:n=e,this.lastType=n.type}canWeEditAfterModelFromParentFilter(e){if(!e)return this.isTypeEditable(this.lastType);if(e.operator)return!1;const n=e;return this.isTypeEditable(n.type)}init(e){this.params=e;const t=this.gos.get("enableFilterHandlers");if(this.reactive=t,this.setParams(e),t){const n=e;this.onModelUpdated(n.model)}}setParams(e){const t=new VA;this.optionsFactory=t,t.init(e.filterParams,this.defaultOptions),this.filterModelFormatter=this.createManagedBean(new this.FilterModelFormatterClass(t,e.filterParams)),this.setSimpleParams(e,!1)}setSimpleParams(e,t=!0){const n=this.optionsFactory.defaultOption;t||(this.lastType=n),this.readOnly=!!e.filterParams.readOnly;const r=this.isTypeEditable(n);this.setEditable(r)}refresh(e){this.params=e;const t=e,n=this.reactive;if((!n||t.source==="colDef")&&this.updateParams(e),n){const{source:r,model:i}=t;if(r==="dataChanged"||r==="ui")return;this.onModelUpdated(i)}}updateParams(e){const t=this.optionsFactory;t.refresh(e.filterParams,this.defaultOptions),this.setSimpleParams(e),this.filterModelFormatter.updateParams({optionsFactory:t,filterParams:e.filterParams})}onParentModelChanged(e,t){t?.afterFloatingFilter||t?.afterDataChange||this.onModelUpdated(e)}hasSingleInput(e){const t=this.optionsFactory.getCustomOption(e)?.numberOfInputs;return t==null||t==1}isTypeEditable(e){const t=["inRange","empty","blank","notBlank"];return!!e&&!this.readOnly&&this.hasSingleInput(e)&&t.indexOf(e)<0}getAriaLabel(e){return`${this.beans.colNames.getDisplayNameForColumn(e.column,"header",!0)} ${this.getLocaleTextFunc()("ariaFilterInput","Filter Input")}`}},Kye={tag:"div",cls:"ag-floating-filter-input",role:"presentation",children:[{tag:"ag-input-text-field",ref:"eReadOnlyText"},{tag:"div",ref:"eDateWrapper",cls:"ag-date-floating-filter-wrapper"}]},Yye=class extends _W{constructor(){super(Kye,[hx]),this.eReadOnlyText=Ee,this.eDateWrapper=Ee,this.FilterModelFormatterClass=LW,this.filterType="date",this.defaultOptions=UA}setParams(e){super.setParams(e),this.createDateComponent();const t=this.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(t("ariaDateFilterInput","Date Filter Input"))}updateParams(e){super.updateParams(e),this.dateComp.updateParams(this.getDateComponentParams()),this.updateCompOnModelChange(e.currentParentModel())}updateCompOnModelChange(e){const t=!this.readOnly&&this.canWeEditAfterModelFromParentFilter(e);if(this.setEditable(t),t){const n=e?Ci(e.dateFrom):null;this.dateComp.setDate(n),this.eReadOnlyText.setValue("")}else this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(e)),this.dateComp.setDate(null)}setEditable(e){Wt(this.eDateWrapper,e),Wt(this.eReadOnlyText.getGui(),!e)}onModelUpdated(e){super.setLastTypeFromModel(e),this.updateCompOnModelChange(e)}onDateChanged(){const e=this.dateComp.getDate();if(this.reactive){const t=this.params;t.onUiChange();const n=t.model,r=Ki(e),i=r==null?null:{...n??{filterType:this.filterType,type:this.lastType??this.optionsFactory.defaultOption},dateFrom:r};t.onModelChange(i,{afterFloatingFilter:!0})}else this.params.parentFilterInstance(t=>{t?.onFloatingFilterChanged(this.lastType||null,e)})}getDateComponentParams(){const{filterParams:e}=this.params,t=TA(e,this.defaultDebounceMs);return _e(this.gos,{onDateChanged:br(this,this.onDateChanged.bind(this),t),filterParams:e,location:"floatingFilter"})}createDateComponent(){const{beans:{context:e,userCompFactory:t},eDateWrapper:n,params:r}=this;this.dateComp=new PW(e,t,r.column.getColDef(),this.getDateComponentParams(),n,i=>{i.setInputAriaLabel(this.getAriaLabel(r))}),this.addDestroyFunc(()=>this.dateComp.destroy())}},Qye={tag:"div",cls:"ag-filter-filter",children:[{tag:"ag-input-text-field",ref:"eDateInput",cls:"ag-date-filter"}]},Xye=class extends yt{constructor(){super(Qye,[hx]),this.eDateInput=Ee,this.isApply=!1,this.applyOnFocusOut=!1}init(e){this.params=e,this.setParams(e);const t=this.eDateInput.getInputElement();this.addManagedListeners(t,{mouseDown:()=>{this.eDateInput.isDisabled()||this.usingSafariDatePicker||t.focus({preventScroll:!0})},input:this.handleInput.bind(this,!1),change:this.handleInput.bind(this,!0),focusout:this.handleFocusOut.bind(this)})}handleInput(e){if(!this.eDateInput.isDisabled()){if(this.isApply){this.applyOnFocusOut=!e,e&&this.params.onDateChanged();return}e||this.params.onDateChanged()}}handleFocusOut(){this.applyOnFocusOut&&(this.applyOnFocusOut=!1,this.params.onDateChanged())}setParams(e){const t=this.eDateInput.getInputElement(),n=this.shouldUseBrowserDatePicker(e);this.usingSafariDatePicker=n&&_c();const{minValidYear:r,maxValidYear:i,minValidDate:s,maxValidDate:o,buttons:a,includeTime:l,colDef:c}=e.filterParams||{},d=this.beans.dataTypeSvc,f=l??d?.getDateIncludesTimeFlag?.(c.cellDataType)??!1;if(n?f?(t.type="datetime-local",t.step="1"):t.type="date":t.type="text",s&&r&&ve(85),o&&i&&ve(86),s&&o){const[p,v]=[s,o].map(y=>y instanceof Date?y:Ci(y));p&&v&&p.getTime()>v.getTime()&&ve(87)}s?s instanceof Date?t.min=_2(s):t.min=s:r&&(t.min=`${r}-01-01`),o?o instanceof Date?t.max=_2(o):t.max=o:i&&(t.max=`${i}-12-31`),this.isApply=e.location==="floatingFilter"&&!!a?.includes("apply")}refresh(e){this.params=e,this.setParams(e)}getDate(){return Ci(this.eDateInput.getValue())}setDate(e){const t=this.params.filterParams.colDef.cellDataType,n=this.beans.dataTypeSvc?.getDateIncludesTimeFlag(t)??!1;this.eDateInput.setValue(Ki(e,n))}setInputPlaceholder(e){this.eDateInput.setInputPlaceholder(e)}setInputAriaLabel(e){this.eDateInput.setAriaLabel(e)}setDisabled(e){this.eDateInput.setDisabled(e)}afterGuiAttached(e){e?.suppressFocus||this.eDateInput.getInputElement().focus({preventScroll:!0})}shouldUseBrowserDatePicker(e){return e?.filterParams?.browserDatePicker??!0}},qA=["equals","notEqual","greaterThan","greaterThanOrEqual","lessThan","lessThanOrEqual","inRange","blank","notBlank"];function tT(e){const{allowedCharPattern:t}=e??{};return t??null}function nT(e){return e==null||isNaN(e)?null:e}function jW(e,t){const{filter:n,filterTo:r,type:i}=e||{};return[nT(n),nT(r)].slice(0,dm(i,t))}var Jye=class extends WA{constructor(){super("numberFilter",jW,qA),this.eValuesFrom=[],this.eValuesTo=[],this.filterType="number",this.defaultDebounceMs=500}setElementValue(e,t,n){const{numberFormatter:r}=this.params,i=!n&&r?r(t??null):t;super.setElementValue(e,i)}createEValue(){const e=tT(this.params),t=Tn({tag:"div",cls:"ag-filter-body",role:"presentation"});return this.createFromToElement(t,this.eValuesFrom,"from",e),this.createFromToElement(t,this.eValuesTo,"to",e),t}createFromToElement(e,t,n,r){const i=this.createManagedBean(r?new Cd({allowedCharPattern:r}):new xA);i.addCss(`ag-filter-${n}`),i.addCss("ag-filter-filter"),t.push(i),e.appendChild(i.getGui())}removeEValues(e,t){const n=r=>this.removeComponents(r,e,t);n(this.eValuesFrom),n(this.eValuesTo)}getValues(e){const t=[];return this.forEachPositionInput(e,(n,r,i,s)=>{r<s&&t.push(nT(this.stringToFloat(n.getValue())))}),t}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}stringToFloat(e){if(typeof e=="number")return e;let t=Fa(e);t!=null&&t.trim()===""&&(t=null);const n=this.params.numberParser;return n?n(t):t==null||t.trim()==="-"?null:Number.parseFloat(t)}createCondition(e){const t=this.getConditionType(e),n={filterType:this.filterType,type:t},r=this.getValues(e);return r.length>0&&(n.filter=r[0]),r.length>1&&(n.filterTo=r[1]),n}getInputs(e){const{eValuesFrom:t,eValuesTo:n}=this;return e>=t.length?[null,null]:[t[e],n[e]]}hasInvalidInputs(){let e=!1;return this.forEachInput(t=>{t.getInputElement().validity.valid||(e=!0)}),e}},BW=class extends $A{constructor(e,t){super(e,t,t.numberFormatter),this.filterTypeKeys=IW}conditionToString(e,t,n,r,i){const{filter:s,filterTo:o,type:a}=e,l=this.formatValue.bind(this);if(t){const c=this.conditionForToolPanel(a,n,()=>l(s),()=>l(o),r,i);if(c!=null)return c}return n?`${l(s)}-${l(o)}`:s!=null?l(s):`${a}`}},Zye=class extends FW{constructor(){super(jW,qA),this.filterType="number",this.FilterModelFormatterClass=BW}comparator(){return(e,t)=>e===t?0:e<t?1:-1}isValid(e){return!isNaN(e)}},HW=class extends le{constructor(e){super(),this.params=e,this.eInput=Ee,this.onValueChanged=()=>{}}setupGui(e){this.eInput=this.createManagedBean(new Cd(this.params?.config));const t=this.eInput.getGui();e.appendChild(t);const n=r=>this.onValueChanged(r);this.addManagedListeners(t,{input:n,keydown:n})}setEditable(e){this.eInput.setDisabled(!e)}getValue(){return this.eInput.getValue()}setValue(e,t){this.eInput.setValue(e,t)}setValueChangedListener(e){this.onValueChanged=e}setParams({ariaLabel:e,autoComplete:t}){const{eInput:n}=this;n.setInputAriaLabel(e),t!==void 0&&n.setAutoComplete(t)}};function rT(e){const t=e?.trim();return t===""?e:t}function zW(e,t){const{filter:n,filterTo:r,type:i}=e||{};return[n||null,r||null].slice(0,dm(i,t))}var e0e={tag:"div",ref:"eFloatingFilterInputContainer",cls:"ag-floating-filter-input",role:"presentation"},GW=class extends _W{constructor(){super(...arguments),this.eFloatingFilterInputContainer=Ee,this.defaultDebounceMs=500}postConstruct(){this.setTemplate(e0e)}onModelUpdated(e){this.setLastTypeFromModel(e),this.setEditable(this.canWeEditAfterModelFromParentFilter(e)),this.inputSvc.setValue(this.filterModelFormatter.getModelAsString(e))}setParams(e){this.setupFloatingFilterInputService(e),super.setParams(e),this.setTextInputParams(e)}setupFloatingFilterInputService(e){this.inputSvc=this.createFloatingFilterInputService(e),this.inputSvc.setupGui(this.eFloatingFilterInputContainer)}setTextInputParams(e){const t=e.browserAutoComplete??!1,{inputSvc:n,defaultDebounceMs:r,readOnly:i}=this;if(n.setParams({ariaLabel:this.getAriaLabel(e),autoComplete:t}),this.applyActive=px(e.filterParams),!i){const s=TA(e.filterParams,r),o=br(this,this.syncUpWithParentFilter.bind(this),s);n.setValueChangedListener(o)}}updateParams(e){super.updateParams(e),this.setTextInputParams(e)}recreateFloatingFilterInputService(e){const{inputSvc:t}=this,n=t.getValue();xr(this.eFloatingFilterInputContainer),this.destroyBean(t),this.setupFloatingFilterInputService(e),t.setValue(n,!0)}syncUpWithParentFilter(e){const t=e.key===re.ENTER,n=this.reactive;if(n&&this.params.onUiChange(),this.applyActive&&!t)return;const{inputSvc:r,params:i,lastType:s}=this;let o=r.getValue();if(i.filterParams.trimInput&&(o=rT(o),r.setValue(o,!0)),n){const a=i,l=a.model,c=this.convertValue(o),d=c==null?null:{...l??{filterType:this.filterType,type:s??this.optionsFactory.defaultOption},filter:c};a.onModelChange(d,{afterFloatingFilter:!0})}else i.parentFilterInstance(a=>{a?.onFloatingFilterChanged(s||null,o||null)})}convertValue(e){return e||null}setEditable(e){this.inputSvc.setEditable(e)}},t0e=class extends le{constructor(){super(...arguments),this.onValueChanged=()=>{},this.numberInputActive=!0}setupGui(e){this.eNumberInput=this.createManagedBean(new xA),this.eTextInput=this.createManagedBean(new Cd),this.eTextInput.setDisabled(!0);const t=this.eNumberInput.getGui(),n=this.eTextInput.getGui();e.appendChild(t),e.appendChild(n),this.setupListeners(t,r=>this.onValueChanged(r)),this.setupListeners(n,r=>this.onValueChanged(r))}setEditable(e){this.numberInputActive=e,this.eNumberInput.setDisplayed(this.numberInputActive),this.eTextInput.setDisplayed(!this.numberInputActive)}setAutoComplete(e){this.eNumberInput.setAutoComplete(e),this.eTextInput.setAutoComplete(e)}getValue(){return this.getActiveInputElement().getValue()}setValue(e,t){this.getActiveInputElement().setValue(e,t)}getActiveInputElement(){return this.numberInputActive?this.eNumberInput:this.eTextInput}setValueChangedListener(e){this.onValueChanged=e}setupListeners(e,t){this.addManagedListeners(e,{input:t,keydown:t})}setParams(e){this.setAriaLabel(e.ariaLabel),e.autoComplete!==void 0&&this.setAutoComplete(e.autoComplete)}setAriaLabel(e){this.eNumberInput.setInputAriaLabel(e),this.eTextInput.setInputAriaLabel(e)}},n0e=class extends GW{constructor(){super(...arguments),this.FilterModelFormatterClass=BW,this.filterType="number",this.defaultOptions=qA}updateParams(e){tT(e.filterParams)!==this.allowedCharPattern&&this.recreateFloatingFilterInputService(e),super.updateParams(e)}createFloatingFilterInputService(e){return this.allowedCharPattern=tT(e.filterParams),this.allowedCharPattern?this.createManagedBean(new HW({config:{allowedCharPattern:this.allowedCharPattern}})):this.createManagedBean(new t0e)}convertValue(e){return e?Number(e):null}},KA=["contains","notContains","equals","notEqual","startsWith","endsWith","blank","notBlank"],r0e=class extends WA{constructor(){super("textFilter",zW,KA),this.filterType="text",this.eValuesFrom=[],this.eValuesTo=[],this.defaultDebounceMs=500}createCondition(e){const t=this.getConditionType(e),n={filterType:this.filterType,type:t},r=this.getValues(e);return r.length>0&&(n.filter=r[0]),r.length>1&&(n.filterTo=r[1]),n}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}getInputs(e){const{eValuesFrom:t,eValuesTo:n}=this;return e>=t.length?[null,null]:[t[e],n[e]]}getValues(e){const t=[];return this.forEachPositionInput(e,(n,r,i,s)=>{r<s&&t.push(Fa(n.getValue()))}),t}createEValue(){const e=Tn({tag:"div",cls:"ag-filter-body",role:"presentation"}),{eValuesFrom:t,eValuesTo:n}=this;return this.createFromToElement(e,t,"from"),this.createFromToElement(e,n,"to"),e}createFromToElement(e,t,n){const r=this.createManagedBean(new Cd);r.addCss(`ag-filter-${n}`),r.addCss("ag-filter-filter"),t.push(r),e.appendChild(r.getGui())}removeEValues(e,t){const n=s=>this.removeComponents(s,e,t),{eValuesFrom:r,eValuesTo:i}=this;n(r),n(i)}},VW=class extends $A{constructor(){super(...arguments),this.filterTypeKeys=Uye}conditionToString(e,t,n,r,i){const{filter:s,filterTo:o,type:a}=e;if(t){const l=d=>()=>ac(this,"filterSummaryTextQuote",[d]),c=this.conditionForToolPanel(a,n,l(s),l(o),r,i);if(c!=null)return c}return n?`${s}-${o}`:s!=null?`${s}`:`${a}`}},i0e=({filterOption:e,value:t,filterText:n})=>{if(n==null)return!1;switch(e){case"contains":return t.includes(n);case"notContains":return!t.includes(n);case"equals":return t===n;case"notEqual":return t!=n;case"startsWith":return t.indexOf(n)===0;case"endsWith":{const r=t.lastIndexOf(n);return r>=0&&r===t.length-n.length}default:return!1}},s0e=e=>e,o0e=e=>e==null?null:e.toString().toLowerCase(),a0e=class extends OW{constructor(){super(zW,KA),this.filterType="text",this.FilterModelFormatterClass=VW}updateParams(e){super.updateParams(e);const t=e.filterParams;this.matcher=t.textMatcher??i0e,this.formatter=t.textFormatter??(t.caseSensitive?s0e:o0e)}evaluateNullValue(e){return e?["notEqual","notContains","blank"].indexOf(e)>=0:!1}evaluateNonNullValue(e,t,n,r){const i=e.map(p=>this.formatter(p))||[],s=this.formatter(t),{api:o,colDef:a,column:l,context:c,filterParams:{textFormatter:d}}=this.params;if(n.type==="blank")return Jw(t);if(n.type==="notBlank")return!Jw(t);const f={api:o,colDef:a,column:l,context:c,node:r.node,data:r.data,filterOption:n.type,value:s,textFormatter:d};return i.some(p=>this.matcher({...f,filterText:p}))}processModelToApply(e){if(e&&this.params.filterParams.trimInput){const t=n=>{const r={...n},{filter:i,filterTo:s}=n;return i&&(r.filter=rT(i)??null),s&&(r.filterTo=rT(s)??null),r};return v7(e)?{...e,conditions:e.conditions.map(t)}:t(e)}return e}},l0e=class extends GW{constructor(){super(...arguments),this.FilterModelFormatterClass=VW,this.filterType="text",this.defaultOptions=KA}createFloatingFilterInputService(){return this.createManagedBean(new HW)}};function c0e(e){return!!e.quickFilter?.isFilterPresent()}function u0e(e){return e.quickFilter?.getText()}function d0e(e){e.quickFilter?.resetCache()}var h0e=class extends le{constructor(){super(...arguments),this.beanName="quickFilter",this.quickFilter=null,this.quickFilterParts=null}postConstruct(){const e=this.resetCache.bind(this),t=this.gos;this.addManagedEventListeners({columnPivotModeChanged:e,newColumnsLoaded:e,columnRowGroupChanged:e,columnVisible:()=>{t.get("includeHiddenColumnsInQuickFilter")||this.resetCache()}}),this.addManagedPropertyListener("quickFilterText",n=>this.setFilter(n.currentValue)),this.addManagedPropertyListeners(["includeHiddenColumnsInQuickFilter","applyQuickFilterBeforePivotOrAgg"],()=>this.onColumnConfigChanged()),this.quickFilter=this.parseFilter(t.get("quickFilterText")),this.parser=t.get("quickFilterParser"),this.matcher=t.get("quickFilterMatcher"),this.setFilterParts(),this.addManagedPropertyListeners(["quickFilterMatcher","quickFilterParser"],()=>this.setParserAndMatcher())}refreshCols(){const{autoColSvc:e,colModel:t,gos:n,pivotResultCols:r}=this.beans,i=t.isPivotMode(),s=e?.getColumns(),o=t.getColDefCols();let a=(i&&!n.get("applyQuickFilterBeforePivotOrAgg")?r?.getPivotResultCols()?.list:o)??[];s&&(a=a.concat(s)),this.colsToUse=n.get("includeHiddenColumnsInQuickFilter")?a:a.filter(l=>l.isVisible()||l.isRowGroupActive())}isFilterPresent(){return this.quickFilter!==null}doesRowPass(e){const t=this.gos.get("cacheQuickFilter");return this.matcher?this.doesRowPassMatcher(t,e):this.quickFilterParts.every(n=>t?this.doesRowPassCache(e,n):this.doesRowPassNoCache(e,n))}resetCache(){this.beans.rowModel.forEachNode(e=>e.quickFilterAggregateText=null)}getText(){return this.gos.get("quickFilterText")}setFilterParts(){const{quickFilter:e,parser:t}=this;e?this.quickFilterParts=t?t(e):e.split(" "):this.quickFilterParts=null}parseFilter(e){return De(e)?e.toUpperCase():null}setFilter(e){if(e!=null&&typeof e!="string"){ve(70,{newFilter:e});return}const t=this.parseFilter(e);this.quickFilter!==t&&(this.quickFilter=t,this.setFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}setParserAndMatcher(){const e=this.gos.get("quickFilterParser"),t=this.gos.get("quickFilterMatcher"),n=e!==this.parser||t!==this.matcher;this.parser=e,this.matcher=t,n&&(this.setFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}onColumnConfigChanged(){this.refreshCols(),this.resetCache(),this.isFilterPresent()&&this.dispatchLocalEvent({type:"quickFilterChanged"})}doesRowPassNoCache(e,t){return this.colsToUse.some(n=>{const r=this.getTextForColumn(n,e);return De(r)&&r.includes(t)})}doesRowPassCache(e,t){return this.checkGenerateAggText(e),e.quickFilterAggregateText.includes(t)}doesRowPassMatcher(e,t){let n;e?(this.checkGenerateAggText(t),n=t.quickFilterAggregateText):n=this.getAggText(t);const{quickFilterParts:r,matcher:i}=this;return i(r,n)}checkGenerateAggText(e){e.quickFilterAggregateText||(e.quickFilterAggregateText=this.getAggText(e))}getTextForColumn(e,t){let n=this.beans.filterValueSvc.getValue(e,t);const r=e.getColDef();if(r.getQuickFilterText){const i=_e(this.gos,{value:n,node:t,data:t.data,column:e,colDef:r});n=r.getQuickFilterText(i)}return De(n)?n.toString().toUpperCase():null}getAggText(e){const t=[];for(const n of this.colsToUse){const r=this.getTextForColumn(n,e);De(r)&&t.push(r)}return t.join(`
`)}},f0e={moduleName:"ClientSideRowModelFilter",version:Re,rowModels:["clientSide"],beans:[pye]},YA={moduleName:"FilterCore",version:Re,beans:[Lye],apiFunctions:{isAnyFilterPresent:Fye,onFilterChanged:Iye},css:[bye],dependsOn:[f0e]},WW={moduleName:"FilterValue",version:Re,beans:[jye]},wx={moduleName:"ColumnFilter",version:Re,beans:[Oye,_ye],dynamicBeans:{headerFilterCellCtrl:gye},icons:{filter:"filter",filterActive:"filter"},apiFunctions:{isColumnFilterPresent:Cye,getColumnFilterInstance:xye,destroyFilter:Sye,setFilterModel:Eye,getFilterModel:Dye,getColumnFilterModel:Rye,setColumnFilterModel:Mye,showColumnFilter:Tye,hideColumnFilter:kye,getColumnFilterHandler:Aye,doFilterAction:Pye},dependsOn:[YA,yx,WW,yye]},p0e={moduleName:"CustomFilter",version:Re,userComponents:{agReadOnlyFloatingFilter:Hye},dependsOn:[wx]},g0e={moduleName:"TextFilter",version:Re,dependsOn:[wx],userComponents:{agTextColumnFilter:{classImp:r0e,params:{useForm:!0}},agTextColumnFloatingFilter:l0e},dynamicBeans:{agTextColumnFilterHandler:a0e}},m0e={moduleName:"NumberFilter",version:Re,dependsOn:[wx],userComponents:{agNumberColumnFilter:{classImp:Jye,params:{useForm:!0}},agNumberColumnFloatingFilter:n0e},dynamicBeans:{agNumberColumnFilterHandler:Zye}},v0e={moduleName:"DateFilter",version:Re,dependsOn:[wx],userComponents:{agDateColumnFilter:{classImp:Wye,params:{useForm:!0}},agDateInput:Xye,agDateColumnFloatingFilter:Yye},dynamicBeans:{agDateColumnFilterHandler:qye}},y0e={moduleName:"QuickFilterCore",version:Re,rowModels:["clientSide"],beans:[h0e],dependsOn:[YA,WW]},w0e={moduleName:"QuickFilter",version:Re,apiFunctions:{isQuickFilterPresent:c0e,getQuickFilter:u0e,resetQuickFilter:d0e},dependsOn:[y0e]},b0e={moduleName:"ExternalFilter",version:Re,dependsOn:[YA]},C0e=".ag-tooltip{background-color:var(--ag-tooltip-background-color);border:var(--ag-tooltip-border);border-radius:var(--ag-border-radius);color:var(--ag-tooltip-text-color);padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);position:absolute;white-space:normal;z-index:99999;&:where(.ag-cell-editor-tooltip){background-color:var(--ag-tooltip-error-background-color);border:var(--ag-tooltip-error-border);color:var(--ag-tooltip-error-text-color);font-weight:500}}.ag-tooltip-custom{position:absolute;z-index:99999}.ag-tooltip-custom:where(:not(.ag-tooltip-interactive)),.ag-tooltip:where(:not(.ag-tooltip-interactive)){pointer-events:none}.ag-tooltip-animate{transition:opacity 1s;&:where(.ag-tooltip-hiding){opacity:0}}",GD=(e,t,n)=>{const{editModelSvc:r}=e,i=r?.getCellValidationModel()?.getCellValidation(t)?.errorMessages,s=r?.getRowValidationModel().getRowValidation(t)?.errorMessages,o=i||s;return o?.length?o.join(n("tooltipValidationErrorSeparator",". ")):void 0},x0e=class extends le{constructor(){super(...arguments),this.beanName="tooltipSvc"}setupHeaderTooltip(e,t,n,r){e&&t.destroyBean(e);const i=this.gos,s=zD(i),{column:o,eGui:a}=t,l=o.getColDef();!r&&s&&!l.headerComponent&&(r=Q0(()=>a.querySelector(".ag-header-cell-text")));const c="header",f=this.beans.colNames.getDisplayNameForColumn(o,"header",!0),p=n??f,v={getGui:()=>a,getLocation:()=>c,getTooltipValue:()=>n??l?.headerTooltipValueGetter?.(_e(i,{location:c,colDef:l,column:o,value:p,valueFormatted:f}))??l?.headerTooltip,shouldDisplayTooltip:r,getAdditionalParams:()=>({column:o,colDef:o.getColDef()})};let y=this.createTooltipFeature(v);return y&&(y=t.createBean(y),t.setRefreshFunction("tooltip",()=>y.refreshTooltip())),y}setupHeaderGroupTooltip(e,t,n,r){e&&t.destroyBean(e);const i=this.gos,s=zD(i),{column:o,eGui:a}=t,l=o.getColGroupDef();!r&&s&&!l?.headerGroupComponent&&(r=Q0(()=>a.querySelector(".ag-header-group-text")));const c="headerGroup",f=this.beans.colNames.getDisplayNameForColumnGroup(o,"header"),p=n??f,v={getGui:()=>a,getLocation:()=>c,getTooltipValue:()=>n??l?.headerTooltipValueGetter?.(_e(i,{location:c,colDef:l,column:o,value:p,valueFormatted:f}))??l?.headerTooltip,shouldDisplayTooltip:r,getAdditionalParams:()=>{const b={column:o};return l&&(b.colDef=l),b}},y=this.createTooltipFeature(v);return y&&t.createBean(y)}enableCellTooltipFeature(e,t,n){const{beans:r}=this,{gos:i,editSvc:s}=r,{column:o,rowNode:a}=e;let l="cell";const c=()=>{const v=!!!s?.isEditing(e)&&GD(r,e,this.getLocaleTextFunc());if(v)return l="cellEditor",v;l="cell";const y=o.getColDef(),b=a.data;if(y.tooltipField&&De(b))return Fg(b,y.tooltipField,o.isTooltipFieldContainsDots());const x=y.tooltipValueGetter;return x?x(_e(i,{location:"cell",colDef:o.getColDef(),column:o,rowIndex:e.cellPosition.rowIndex,node:a,data:a.data,value:e.value,valueFormatted:e.valueFormatted})):null},d=zD(i);n||(d&&!e.isCellRenderer()?n=()=>{const p=!!s?.isEditing(e);if(!p&&GD(r,e,this.getLocaleTextFunc()))return!0;if(!o.isTooltipEnabled())return!1;const b=Q0(()=>{const x=e.eGui;return x.children.length===0?x:x.querySelector(".ag-cell-value")});return!p&&b()}:n=()=>!s?.isEditing(e));const f={getGui:()=>e.eGui,getLocation:()=>l,getTooltipValue:t!=null?()=>t:c,shouldDisplayTooltip:n,getAdditionalParams:()=>({column:o,colDef:o.getColDef(),rowIndex:e.cellPosition.rowIndex,node:a,data:a.data,valueFormatted:e.valueFormatted})};return this.createTooltipFeature(f,r)}setupFullWidthRowTooltip(e,t,n,r){const i={getGui:()=>t.getFullWidthElement(),getTooltipValue:()=>n,getLocation:()=>"fullWidthRow",shouldDisplayTooltip:r},s=this.beans,o=s.context;e&&t.destroyBean(e,o);const a=this.createTooltipFeature(i,s);if(a)return t.createBean(a,o)}setupCellEditorTooltip(e,t){const{beans:n}=this,{context:r}=n,i=t.getValidationElement?.(!0)||!t.isPopup?.()&&e.eGui;if(!i)return;const s={getGui:()=>i,getTooltipValue:()=>GD(n,e,this.getLocaleTextFunc()),getLocation:()=>"cellEditor",shouldDisplayTooltip:()=>{const{editModelSvc:a}=n,l=a?.getRowValidationModel()?.getRowValidationMap(),c=a?.getCellValidationModel()?.getCellValidationMap(),d=!!l&&l.size>0,f=!!c&&c.size>0;return d||f}},o=this.createTooltipFeature(s,n);if(o)return e.createBean(o,r)}initCol(e){const{colDef:t}=e;e.tooltipEnabled=De(t.tooltipField)||De(t.tooltipValueGetter)||De(t.tooltipComponent)}createTooltipFeature(e,t){return this.beans.registry.createDynamicBean("tooltipFeature",!1,e,t)}},S0e=class extends tue{createTooltipComp(e,t){qle(this.beans.userCompFactory,e)?.newAgStackInstance().then(t)}setEventHandlers(e){[this.onColumnMovedEventCallback]=this.addManagedEventListeners({columnMoved:e})}clearEventHandlers(){this.onColumnMovedEventCallback?.(),this.onColumnMovedEventCallback=void 0}},UW={moduleName:"Tooltip",version:Re,beans:[x0e],dynamicBeans:{tooltipFeature:s7,highlightTooltipFeature:nue,tooltipStateManager:S0e},userComponents:{agTooltipComponent:sue},dependsOn:[yx],css:[C0e]},Dh=class{constructor(e){this.cellValueChanges=e}},VD=class extends Dh{constructor(e,t,n,r){super(e),this.initialRange=t,this.finalRange=n,this.ranges=r}},E0e=10,O_=class{constructor(e){this.actionStack=[],this.maxStackSize=e||E0e,this.actionStack=new Array(this.maxStackSize)}pop(){return this.actionStack.pop()}push(e){e.cellValueChanges&&e.cellValueChanges.length>0&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(e))}clear(){this.actionStack=[]}getCurrentStackSize(){return this.actionStack.length}},D0e=class extends le{constructor(){super(...arguments),this.beanName="undoRedo",this.cellValueChanges=[],this.activeCellEdit=null,this.activeRowEdit=null,this.isPasting=!1,this.isRangeInAction=!1,this.batchEditing=!1,this.bulkEditing=!1,this.onCellValueChanged=e=>{const t={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned},n=this.activeCellEdit!==null&&$7(this.activeCellEdit,t),r=this.activeRowEdit!==null&&q7(this.activeRowEdit,t);if(!(n||r||this.isPasting||this.isRangeInAction))return;const{rowPinned:s,rowIndex:o,column:a,oldValue:l,value:c}=e,d={rowPinned:s,rowIndex:o,columnId:a.getColId(),newValue:c,oldValue:l};this.cellValueChanges.push(d)},this.clearStacks=()=>{this.undoStack.clear(),this.redoStack.clear()}}postConstruct(){const{gos:e,ctrlsSvc:t}=this.beans;if(!e.get("undoRedoCellEditing"))return;const n=e.get("undoRedoCellEditingLimit");if(n<=0)return;this.undoStack=new O_(n),this.redoStack=new O_(n),this.addListeners();const r=this.clearStacks.bind(this);this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this),modelUpdated:i=>{i.keepUndoRedoStack||this.clearStacks()},columnPivotModeChanged:r,newColumnsLoaded:r,columnGroupOpened:r,columnRowGroupChanged:r,columnMoved:r,columnPinned:r,columnVisible:r,rowDragEnd:r}),t.whenReady(this,i=>{this.gridBodyCtrl=i.gridBodyCtrl})}getCurrentUndoStackSize(){return this.undoStack?.getCurrentStackSize()??0}getCurrentRedoStackSize(){return this.redoStack?.getCurrentStackSize()??0}undo(e){const{eventSvc:t,undoStack:n,redoStack:r}=this;t.dispatchEvent({type:"undoStarted",source:e});const i=this.undoRedo(n,r,"initialRange","oldValue","undo");t.dispatchEvent({type:"undoEnded",source:e,operationPerformed:i})}redo(e){const{eventSvc:t,undoStack:n,redoStack:r}=this;t.dispatchEvent({type:"redoStarted",source:e});const i=this.undoRedo(r,n,"finalRange","newValue","redo");t.dispatchEvent({type:"redoEnded",source:e,operationPerformed:i})}undoRedo(e,t,n,r,i){if(!e)return!1;const s=e.pop();return s?.cellValueChanges?(this.processAction(s,o=>o[r],i),s instanceof VD?this.processRange(s.ranges||[s[n]]):this.processCell(s.cellValueChanges),t.push(s),!0):!1}processAction(e,t,n){for(const r of e.cellValueChanges){const{rowIndex:i,rowPinned:s,columnId:o}=r,a={rowIndex:i,rowPinned:s},l=Ja(this.beans,a);l.displayed&&l.setDataValue(o,t(r),n)}}processRange(e){let t;const n=this.beans.rangeSvc;n.removeAllCellRanges(!0),e.forEach((r,i)=>{if(!r)return;const s=r.startRow,o=r.endRow;i===e.length-1&&(t={rowPinned:s.rowPinned,rowIndex:s.rowIndex,columnId:r.startColumn.getColId()},this.setLastFocusedCell(t));const a={rowStartIndex:s.rowIndex,rowStartPinned:s.rowPinned,rowEndIndex:o.rowIndex,rowEndPinned:o.rowPinned,columnStart:r.startColumn,columns:r.columns};n.addCellRange(a)})}processCell(e){const t=e[0],{rowIndex:n,rowPinned:r}=t,i={rowIndex:n,rowPinned:r},s=Ja(this.beans,i),o={rowPinned:t.rowPinned,rowIndex:s.rowIndex,columnId:t.columnId};this.setLastFocusedCell(o)}setLastFocusedCell(e){const{rowIndex:t,columnId:n,rowPinned:r}=e,{colModel:i,focusSvc:s,rangeSvc:o}=this.beans,a=i.getCol(n);if(!a)return;const{scrollFeature:l}=this.gridBodyCtrl;l.ensureIndexVisible(t),l.ensureColumnVisible(a);const c={rowIndex:t,column:a,rowPinned:r};s.setFocusedCell({...c,forceBrowserFocus:!0}),o?.setRangeToCell(c)}addListeners(){this.addManagedEventListeners({rowEditingStarted:e=>{this.activeRowEdit={rowIndex:e.rowIndex,rowPinned:e.rowPinned}},rowEditingStopped:()=>{const e=new Dh(this.cellValueChanges);this.pushActionsToUndoStack(e),this.activeRowEdit=null},cellEditingStarted:e=>{this.activeCellEdit={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned}},cellEditingStopped:e=>{if(this.activeCellEdit=null,e.valueChanged&&!this.activeRowEdit&&!this.isPasting&&!this.isRangeInAction){const n=new Dh(this.cellValueChanges);this.pushActionsToUndoStack(n)}},pasteStart:()=>{this.isPasting=!0},pasteEnd:()=>{const e=new Dh(this.cellValueChanges);this.pushActionsToUndoStack(e),this.isPasting=!1},fillStart:()=>{this.isRangeInAction=!0},fillEnd:e=>{const t=new VD(this.cellValueChanges,e.initialRange,e.finalRange);this.pushActionsToUndoStack(t),this.isRangeInAction=!1},keyShortcutChangedCellStart:()=>{this.isRangeInAction=!0},keyShortcutChangedCellEnd:()=>{let e;const{rangeSvc:t,gos:n}=this.beans;t&&Qa(n)?e=new VD(this.cellValueChanges,void 0,void 0,[...t.getCellRanges()]):e=new Dh(this.cellValueChanges),this.pushActionsToUndoStack(e),this.isRangeInAction=!1},batchEditingStarted:()=>this.startBigChange("batchEditing"),batchEditingStopped:({changes:e})=>this.stopBigChange("batchEditing",e),bulkEditingStarted:()=>this.startBigChange("bulkEditing"),bulkEditingStopped:({changes:e})=>this.stopBigChange("bulkEditing",e)})}startBigChange(e){this.updateBigChange(e,!0)}updateBigChange(e,t){e==="bulkEditing"?this.bulkEditing=t:this.batchEditing=t}stopBigChange(e,t){if(e==="bulkEditing"&&!this.bulkEditing||e==="batchEditing"&&!this.batchEditing||(this.updateBigChange(e,!1),t?.length===0))return;const n=new Dh(t??[]);this.pushActionsToUndoStack(n),this.cellValueChanges=[]}pushActionsToUndoStack(e){this.undoStack.push(e),this.cellValueChanges=[],this.redoStack.clear()}},R0e=".ag-cell-inline-editing{border:var(--ag-cell-editing-border)!important;border-radius:var(--ag-border-radius);box-shadow:var(--ag-cell-editing-shadow);padding:0;z-index:1;.ag-cell-edit-wrapper,.ag-cell-editor,.ag-cell-wrapper,:where(.ag-cell-editor) .ag-input-field-input,:where(.ag-cell-editor) .ag-wrapper{height:100%;line-height:normal;min-height:100%;width:100%}&.ag-cell-editing-error{border-color:var(--ag-invalid-color)!important}}:where(.ag-popup-editor) .ag-large-text{background-color:var(--ag-background-color);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dropdown-shadow);padding:0}.ag-large-text-input{display:block;height:auto;padding:var(--ag-cell-horizontal-padding)}:where(.ag-rtl .ag-large-text-input) textarea{resize:none}:where(.ag-ltr) .ag-checkbox-edit{padding-left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-checkbox-edit{padding-right:var(--ag-cell-horizontal-padding)}:where(.ag-row.ag-row-editing-invalid .ag-cell-inline-editing){opacity:.8}.ag-popup-editor{position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}",M0e={tag:"div",cls:"ag-cell-wrapper ag-cell-edit-wrapper ag-checkbox-edit",children:[{tag:"ag-checkbox",ref:"eEditor",role:"presentation"}]},T0e=class extends mx{constructor(){super(M0e,[CA]),this.eEditor=Ee}initialiseEditor(e){const t=e.value??void 0,n=this.eEditor;n.setValue(t),n.getInputElement().setAttribute("tabindex","-1"),this.setAriaLabel(t),this.addManagedListeners(n,{fieldValueChanged:i=>this.setAriaLabel(i.selected)})}getValue(){return this.eEditor.getValue()}focusIn(){this.eEditor.getFocusableElement().focus()}afterGuiAttached(){this.params.cellStartedEdit&&this.focusIn()}isPopup(){return!1}setAriaLabel(e){const t=this.getLocaleTextFunc(),n=lx(t,e),r=t("ariaToggleCellValue","Press SPACE to toggle cell value");this.eEditor.setInputAriaLabel(`${r} (${n})`)}getValidationElement(e){return e?this.params.eGridCell:this.eEditor.getInputElement()}getValidationErrors(){const{params:e}=this,{getValidationErrors:t}=e,n=this.getValue();return t?t({value:n,internalErrors:null,cellEditorParams:e}):null}},bx=class extends mx{constructor(e){super(),this.cellEditorInput=e,this.eEditor=Ee}initialiseEditor(e){const{cellEditorInput:t}=this;this.setTemplate({tag:"div",cls:"ag-cell-edit-wrapper",children:[t.getTemplate()]},t.getAgComponents());const{eEditor:n}=this,{cellStartedEdit:r,eventKey:i,suppressPreventDefault:s}=e;n.getInputElement().setAttribute("title",""),t.init(n,e);let o,a=!0;r?(this.focusAfterAttached=!0,i===re.BACKSPACE||i===re.DELETE?o="":i&&i.length===1?s?a=!1:o=i:(o=t.getStartValue(),i!==re.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,o=t.getStartValue()),a&&o!=null&&n.setStartValue(o),this.addGuiEventListener("keydown",l=>{const{key:c}=l;(c===re.PAGE_UP||c===re.PAGE_DOWN)&&l.preventDefault()})}afterGuiAttached(){const e=this.getLocaleTextFunc(),t=this.eEditor;if(t.setInputAriaLabel(e("ariaInputEditor","Input Editor")),!this.focusAfterAttached)return;_c()||t.getFocusableElement().focus();const n=t.getInputElement();this.highlightAllOnFocus?n.select():this.cellEditorInput.setCaret?.()}focusIn(){const{eEditor:e}=this,t=e.getFocusableElement(),n=e.getInputElement();t.focus(),n.select()}getValue(){return this.cellEditorInput.getValue()}isPopup(){return!1}getValidationElement(){return this.eEditor.getInputElement()}getValidationErrors(){return this.cellEditorInput.getValidationErrors()}},k0e={tag:"ag-input-date-field",ref:"eEditor",cls:"ag-cell-editor"},A0e=class{constructor(e,t){this.getDataTypeService=e,this.getLocaleTextFunc=t}getTemplate(){return k0e}getAgComponents(){return[QV]}init(e,t){this.eEditor=e,this.params=t;const{min:n,max:r,step:i,colDef:s}=t;n!=null&&e.setMin(n),r!=null&&e.setMax(r),i!=null&&e.setStep(i),this.includeTime=t.includeTime??this.getDataTypeService()?.getDateIncludesTimeFlag?.(s.cellDataType),this.includeTime!=null&&e.setIncludeTime(this.includeTime)}getValidationErrors(){const t=this.eEditor.getInputElement().valueAsDate,{params:n}=this,{min:r,max:i,getValidationErrors:s}=n;let o=[];const a=this.getLocaleTextFunc();if(t instanceof Date&&!isNaN(t.getTime())){if(r){const l=r instanceof Date?r:new Date(r);if(t<l){const c=l.toLocaleDateString();o.push(a("minDateValidation",`Date must be after ${c}`,[c]))}}if(i){const l=i instanceof Date?i:new Date(i);if(t>l){const c=l.toLocaleDateString();o.push(a("maxDateValidation",`Date must be before ${c}`,[c]))}}}return o.length||(o=null),s?s({value:t,cellEditorParams:n,internalErrors:o}):o}getValue(){const{eEditor:e,params:t}=this,n=e.getDate();return!De(n)&&!De(t.value)?t.value:n??null}getStartValue(){const{value:e}=this.params;if(e instanceof Date)return Ki(e,this.includeTime??!1)}},P0e=class extends bx{constructor(){super(new A0e(()=>this.beans.dataTypeSvc,()=>this.getLocaleTextFunc()))}},N0e={tag:"ag-input-date-field",ref:"eEditor",cls:"ag-cell-editor"},O0e=class{constructor(e,t){this.getDataTypeService=e,this.getLocaleTextFunc=t}getTemplate(){return N0e}getAgComponents(){return[QV]}init(e,t){this.eEditor=e,this.params=t;const{min:n,max:r,step:i,colDef:s}=t;n!=null&&e.setMin(n),r!=null&&e.setMax(r),i!=null&&e.setStep(i),this.includeTime=t.includeTime??this.getDataTypeService()?.getDateIncludesTimeFlag?.(s.cellDataType),this.includeTime!=null&&e.setIncludeTime(this.includeTime)}getValidationErrors(){const{eEditor:e,params:t}=this,n=e.getInputElement().value,r=this.formatDate(this.parseDate(n??void 0)),{min:i,max:s,getValidationErrors:o}=t;let a=[];if(r){const l=new Date(r),c=this.getLocaleTextFunc();if(i){const d=new Date(i);if(l<d){const f=d.toLocaleDateString();a.push(c("minDateValidation",`Date must be after ${f}`,[f]))}}if(s){const d=new Date(s);if(l>d){const f=d.toLocaleDateString();a.push(c("maxDateValidation",`Date must be before ${f}`,[f]))}}}return a.length||(a=null),o?o({value:this.getValue(),cellEditorParams:t,internalErrors:a}):a}getValue(){const{params:e,eEditor:t}=this,n=this.formatDate(t.getDate());return!De(n)&&!De(e.value)?e.value:e.parseValue(n??"")}getStartValue(){return Ki(this.parseDate(this.params.value??void 0)??null,this.includeTime??!1)}parseDate(e){const t=this.getDataTypeService();return t?t.getDateParserFunction(this.params.column)(e):Ci(e)??void 0}formatDate(e){const t=this.getDataTypeService();return t?t.getDateFormatterFunction(this.params.column)(e):Ki(e??null,this.includeTime??!1)??void 0}},F0e=class extends bx{constructor(){super(new O0e(()=>this.beans.dataTypeSvc,()=>this.getLocaleTextFunc()))}},I0e={tag:"div",cls:"ag-large-text",children:[{tag:"ag-input-text-area",ref:"eEditor",cls:"ag-large-text-input"}]},L0e=class extends mx{constructor(){super(I0e,[dce]),this.eEditor=Ee}initialiseEditor(e){const{eEditor:t}=this,{cellStartedEdit:n,eventKey:r,maxLength:i,cols:s,rows:o}=e;this.focusAfterAttached=n,t.getInputElement().setAttribute("title",""),t.setMaxLength(i||200).setCols(s||60).setRows(o||10);let a;n?(this.focusAfterAttached=!0,r===re.BACKSPACE||r===re.DELETE?a="":r&&r.length===1?a=r:(a=this.getStartValue(e),r!==re.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,a=this.getStartValue(e)),a!=null&&t.setValue(a,!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.activateTabIndex()}getStartValue(e){const{value:t}=e;return t?.toString()??t}onKeyDown(e){const t=e.key;(t===re.LEFT||t===re.UP||t===re.RIGHT||t===re.DOWN||e.shiftKey&&t===re.ENTER)&&e.stopPropagation()}afterGuiAttached(){const{eEditor:e,focusAfterAttached:t,highlightAllOnFocus:n}=this,r=this.getLocaleTextFunc();e.setInputAriaLabel(r("ariaInputEditor","Input Editor")),t&&(e.getFocusableElement().focus(),n&&e.getInputElement().select())}getValue(){const{eEditor:e,params:t}=this,{value:n}=t,r=e.getValue();return!De(r)&&!De(n)?n:t.parseValue(r)}getValidationElement(){return this.eEditor.getInputElement()}getValidationErrors(){const{params:e}=this,{maxLength:t,getValidationErrors:n}=e,r=this.getLocaleTextFunc(),i=this.getValue();let s=[];return typeof i=="string"&&t!=null&&i.length>t&&s.push(r("maxLengthValidation",`Must be ${t} characters or fewer.`,[String(t)])),s.length||(s=null),n?n({value:i,internalErrors:s,cellEditorParams:e}):s}},_0e={tag:"ag-input-number-field",ref:"eEditor",cls:"ag-cell-editor"},j0e=class{constructor(e){this.getLocaleTextFunc=e}getTemplate(){return _0e}getAgComponents(){return[hce]}init(e,t){this.eEditor=e,this.params=t;const{max:n,min:r,precision:i,step:s}=t;n!=null&&e.setMax(n),r!=null&&e.setMin(r),i!=null&&e.setPrecision(i),s!=null&&e.setStep(s);const o=e.getInputElement();t.preventStepping?e.addManagedElementListeners(o,{keydown:this.preventStepping}):t.showStepperButtons&&o.classList.add("ag-number-field-input-stepper")}getValidationErrors(){const{params:e}=this,{min:t,max:n,getValidationErrors:r}=e,s=this.eEditor.getInputElement().valueAsNumber,o=this.getLocaleTextFunc();let a=[];return typeof s=="number"&&(t!=null&&s<t&&a.push(o("minValueValidation",`Must be greater than or equal to ${t}.`,[String(t)])),n!=null&&s>n&&a.push(o("maxValueValidation",`Must be less than or equal to ${n}.`,[String(n)]))),a.length||(a=null),r?r({value:s,cellEditorParams:e,internalErrors:a}):a}preventStepping(e){(e.key===re.UP||e.key===re.DOWN)&&e.preventDefault()}getValue(){const{eEditor:e,params:t}=this,n=e.getValue();if(!De(n)&&!De(t.value))return t.value;let r=t.parseValue(n);if(r==null)return r;if(typeof r=="string"){if(r==="")return null;r=Number(r)}return isNaN(r)?null:r}getStartValue(){return this.params.value}setCaret(){_c()&&this.eEditor.getInputElement().focus({preventScroll:!0})}},B0e=class extends bx{constructor(){super(new j0e(()=>this.getLocaleTextFunc()))}},H0e={tag:"div",cls:"ag-cell-edit-wrapper",children:[{tag:"ag-select",ref:"eEditor",cls:"ag-cell-editor"}]},z0e=class extends mx{constructor(){super(H0e,[Sce]),this.eEditor=Ee,this.startedByEnter=!1}wireBeans(e){this.valueSvc=e.valueSvc}initialiseEditor(e){this.focusAfterAttached=e.cellStartedEdit;const{eEditor:t,valueSvc:n,gos:r}=this,{values:i,value:s,eventKey:o}=e;if(Kt(i)){ve(58);return}this.startedByEnter=o!=null?o===re.ENTER:!1;let a=!1;i.forEach(f=>{const p={value:f},v=n.formatValue(e.column,null,f),y=v!=null;p.text=y?v:f,t.addOption(p),a=a||s===f}),a?t.setValue(e.value,!0):e.values.length&&t.setValue(e.values[0],!0);const{valueListGap:l,valueListMaxWidth:c,valueListMaxHeight:d}=e;l!=null&&t.setPickerGap(l),d!=null&&t.setPickerMaxHeight(d),c!=null&&t.setPickerMaxWidth(c),r.get("editType")!=="fullRow"&&this.addManagedListeners(this.eEditor,{selectedItem:()=>e.stopEditing()})}afterGuiAttached(){this.focusAfterAttached&&this.eEditor.getFocusableElement().focus(),this.startedByEnter&&setTimeout(()=>{this.isAlive()&&this.eEditor.showPicker()})}focusIn(){this.eEditor.getFocusableElement().focus()}getValue(){return this.eEditor.getValue()}isPopup(){return!1}getValidationElement(){return this.eEditor.getAriaElement()}getValidationErrors(){const{params:e}=this,{values:t,getValidationErrors:n}=e,r=this.getValue();let i=[];if(t&&!t.includes(r)){const s=this.getLocaleTextFunc();i.push(s("invalidSelectionValidation","Invalid selection."))}else i=null;return n?n({value:r,internalErrors:i,cellEditorParams:e}):i}},G0e={tag:"ag-input-text-field",ref:"eEditor",cls:"ag-cell-editor"},V0e=class{constructor(e){this.getLocaleTextFunc=e}getTemplate(){return G0e}getAgComponents(){return[hx]}init(e,t){this.eEditor=e,this.params=t;const n=t.maxLength;n!=null&&e.setMaxLength(n)}getValidationErrors(){const{params:e}=this,{maxLength:t,getValidationErrors:n}=e,r=this.getValue(),i=this.getLocaleTextFunc();let s=[];return t!=null&&typeof r=="string"&&r.length>t&&s.push(i("maxLengthValidation",`Must be ${t} characters or fewer.`,[String(t)])),s.length||(s=null),n?n({value:r,cellEditorParams:e,internalErrors:s}):s}getValue(){const{eEditor:e,params:t}=this,n=e.getValue();return!De(n)&&!De(t.value)?t.value:t.parseValue(n)}getStartValue(){const e=this.params;return e.useFormatter||e.column.getColDef().refData?e.formatValue(e.value):e.value}setCaret(){_c()&&this.eEditor.getInputElement().focus({preventScroll:!0});const e=this.eEditor,t=e.getValue(),n=De(t)&&t.length||0;n&&e.getInputElement().setSelectionRange(n,n)}},F_=class extends bx{constructor(){super(new V0e(()=>this.getLocaleTextFunc()))}};function W0e(e){return e.ctrlsSvc.getScrollFeature().getVScrollPosition()}function U0e(e){return e.ctrlsSvc.getScrollFeature().getHScrollPosition()}function $W(e,t,n="auto"){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureColumnVisible(t,n),"ensureVisible")}function qW(e,t,n){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureIndexVisible(t,n),"ensureVisible")}function $0e(e,t,n=null){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureNodeVisible(t,n),"ensureVisible")}function q0e(e){e.undoRedo?.undo("api")}function K0e(e){e.undoRedo?.redo("api")}function Y0e(e,t){return e.editModelSvc?.getEditRowDataValue(t,{checkSiblings:!0})}function Q0e(e){const t=e.editModelSvc?.getEditMap(),n=[];return t?.forEach((r,i)=>{const{rowIndex:s,rowPinned:o}=i;r.forEach((a,l)=>{const{editorValue:c,pendingValue:d,sourceValue:f,state:p}=a,v=Ta(a);let y=c??d;y===ks&&(y=void 0);const b={newValue:y,oldValue:f,state:p,column:l,colId:l.getColId(),colKey:l.getColId(),rowIndex:s,rowPinned:o};(p==="editing"||p==="changed"&&v)&&n.push(b)})}),n}function X0e(e,t=!1){const{editSvc:n}=e;if(n?.isBatchEditing()){if(t)for(const r of e.editModelSvc?.getEditPositions()??[])r.state==="editing"&&n.revertSingleCellEdit(r);else Su(e,{persist:!0});qh(e,void 0,{cancel:t})}else n?.stopEditing(void 0,{cancel:t,source:"edit",forceStop:!t,forceCancel:t})}function J0e(e,t){const n=an(e,t);return e.editSvc?.isEditing(n)??!1}function Z0e(e,t){const{key:n,colKey:r,rowIndex:i,rowPinned:s}=t,{editSvc:o,colModel:a}=e,l=a.getCol(r);if(!l){ve(12,{colKey:r});return}const d=Ja(e,{rowIndex:i,rowPinned:s||null});if(!d){ve(290,{rowIndex:i,rowPinned:s});return}if(!l.isCellEditable(d))return;s==null&&qW(e,i),$W(e,r),o?.startEditing({rowNode:d,column:l},{event:n?new KeyboardEvent("keydown",{key:n}):void 0,source:"api"})}function ewe(e){return e.editSvc?.validateEdit()||null}function twe(e){return e.undoRedo?.getCurrentUndoStackSize()??0}function nwe(e){return e.undoRedo?.getCurrentRedoStackSize()??0}var rwe={tag:"div",cls:"ag-popup-editor",attrs:{tabindex:"-1"}},iwe=class extends yA{constructor(e){super(rwe),this.params=e}postConstruct(){td(this.gos,this.getGui(),"popupEditorWrapper",!0),this.addKeyDownListener()}addKeyDownListener(){const e=this.getGui(),t=this.params,n=r=>{W2(this.gos,r,t.node,t.column,!0)||t.onKeyDown(r)};this.addManagedElementListeners(e,{keydown:n})}};function swe(e,{column:t},n,r,i="ui"){if(n instanceof KeyboardEvent&&(n.key===re.TAB||n.key===re.ENTER||n.key===re.F2||n.key===re.BACKSPACE&&r))return!0;if(n?.shiftKey&&e.rangeSvc?.getCellRanges().length!=0)return!1;const o=t?.getColDef(),a=owe(e.gos,o),l=n?.type;return l==="click"&&n?.detail===1&&a===1||l==="dblclick"&&n?.detail===2&&a===2?!0:i==="api"?r??!1:!1}function owe(e,t){return e.get("suppressClickEdit")===!0?0:e.get("singleClickEdit")===!0||t?.singleClickEdit?1:2}function iT(e,{rowNode:t,column:n},r="ui"){const i=n.getColDef().editable,s=e.editModelSvc;return n.isColumnFunc(t,i)||!!s&&s.hasEdits({rowNode:t,column:n},{withOpenEditor:!0})}function awe(e,t,n="ui"){const r=iT(e,t,n);return r===!0||n==="ui"?r:e.colModel.getCols().some(s=>iT(e,{rowNode:t.rowNode,column:s},n))}var Zw=(e,t=!1)=>{if(e!==void 0)return Ta(e)||t&&e.state==="editing"};function KW(e,t,n=!1){return Zw(e.editModelSvc?.getEdit(t),n)}var YW=(e,t,n)=>{if(e)for(let r=0,i=e.length;r<i;++r){const s=e[r];if(s.data&&(Zw(t?.getEdit({rowNode:s,column:n}))||Zw(t?.getEdit({rowNode:s.pinnedSibling,column:n})))||YW(s.childrenAfterGroup,t,n))return!0}};function QW(e,t){const{column:n,rowNode:r}=t;return e.gos.get("groupTotalRow")&&!r?.footer?!1:YW(r?.childrenAfterGroup,e.editModelSvc,n)}function XW(e,{rowNode:t,column:n}){if(t=t.pinnedSibling,!!t)return Zw(e.editModelSvc?.getEdit({rowNode:t,column:n}))}var lwe=class extends le{constructor(e,t){super(),this.cellCtrl=e,this.beans=t,this.editSvc=t.editSvc,this.editModelSvc=t.editModelSvc}setComp(e){this.cellComp=e,this.applyCellStyles()}applyCellStyles(){const{cellCtrl:e,editSvc:t,beans:n}=this;if(t?.isBatchEditing()&&t.isEditing()){const i=KW(n,e)||QW(n,e)||XW(n,e);this.applyBatchingStyle(i)}else this.applyBatchingStyle(!1);const r=!!this.editModelSvc?.getCellValidationModel().hasCellValidation(this.cellCtrl);this.cellComp.toggleCss("ag-cell-editing-error",r)}applyBatchingStyle(e){this.cellComp.toggleCss("ag-cell-editing",e??!1),this.cellComp.toggleCss("ag-cell-batch-edit",(e&&this.editSvc?.isBatchEditing())??!1)}},cwe=class extends le{constructor(e,t){super(),this.rowCtrl=e,this.beans=t,this.gos=t.gos,this.editSvc=t.editSvc,this.editModelSvc=t.editModelSvc}applyRowStyles(){const{rowCtrl:e,editModelSvc:t,beans:n}=this;let r=e.rowNode,i=t?.getEditRow(r);const s=this.editModelSvc?.getRowValidationModel().hasRowValidation({rowNode:r});if(!i&&r.pinnedSibling&&(r=r.pinnedSibling,i=t?.getEditRow(r)),i){const o=Array.from(i.keys()).some(a=>{const l={rowNode:r,column:a};return KW(n,l,!0)||QW(n,l)||XW(n,l)});this.applyStyle(s,o);return}this.applyStyle(s)}applyStyle(e=!1,t=!1){const n=this.editSvc?.isBatchEditing()??!1,r=this.gos.get("editType")==="fullRow";this.rowCtrl?.forEachGui(void 0,({rowComp:i})=>{i.toggleCss("ag-row-editing",r&&t),i.toggleCss("ag-row-batch-edit",r&&t&&n),i.toggleCss("ag-row-inline-editing",t),i.toggleCss("ag-row-not-inline-editing",!t),i.toggleCss("ag-row-editing-invalid",r&&t&&e)})}},uwe=({rowModel:e,pinnedRowModel:t,editModelSvc:n},r)=>{const i=new Set;e.forEachNode(s=>r.has(s)&&i.add(s)),t?.forEachPinnedRow("top",s=>r.has(s)&&i.add(s)),t?.forEachPinnedRow("bottom",s=>r.has(s)&&i.add(s));for(const s of r)i.has(s)||n.removeEdits({rowNode:s});return i},dwe=({editModelSvc:e},t,n)=>{for(const r of t)e?.getEditRow(r)?.forEach((i,s)=>!n.has(s)&&e.removeEdits({rowNode:r,column:s}))},hwe=e=>()=>{const t=new Set(e.colModel.getCols()),n=e.editModelSvc.getEditMap(!0),r=new Set(n.keys());dwe(e,uwe(e,r),t)},fwe=new Set(["undo","redo","paste","bulk","rangeSvc"]),pwe=new Set(["ui","api"]),JW={paste:"api",rangeSvc:"api",fillHandle:"api",cellClear:"api",bulk:"api"},gwe=new Set(Object.keys(JW)),mwe=new Set(["paste","rangeSvc","renderer","cellClear","redo","undo"]),r0={cancel:!0,source:"api"},vwe={cancel:!1,source:"api"},mh={checkSiblings:!0},tg={force:!0,suppressFlash:!0},ywe=class extends le{constructor(){super(...arguments),this.beanName="editSvc",this.batch=!1,this.stopping=!1,this.committing=!1}postConstruct(){const{beans:e}=this;this.model=e.editModelSvc,this.valueSvc=e.valueSvc,this.rangeSvc=e.rangeSvc,this.addManagedPropertyListener("editType",({currentValue:r})=>{this.stopEditing(void 0,r0),this.createStrategy(r)});const t=hwe(e),n=()=>{const r=this.model.getCellValidationModel().getCellValidationMap().size>0,i=this.model.getRowValidationModel().getRowValidationMap().size>0;return r||i?this.stopEditing(void 0,r0):this.isEditing()&&(this.isBatchEditing()?qh(e,this.model.getEditPositions()):this.stopEditing(void 0,vwe)),!1};this.addManagedEventListeners({columnPinned:t,columnVisible:t,columnRowGroupChanged:t,rowExpansionStateChanged:t,pinnedRowsChanged:t,displayedRowsChanged:t,sortChanged:n,filterChanged:n,cellFocused:this.onCellFocused.bind(this)})}isBatchEditing(){return this.batch}setBatchEditing(e){e?(this.batch=!0,this.stopEditing(void 0,r0)):(this.stopEditing(void 0,r0),this.batch=!1)}createStrategy(e){const{beans:t,gos:n,strategy:r}=this,i=I_(n,e);if(r){if(r.beanName===i)return r;this.destroyStrategy()}return this.strategy=this.createOptionalManagedBean(t.registry.createDynamicBean(i,!0))}destroyStrategy(){this.strategy&&(this.strategy.destroy(),this.strategy=this.destroyBean(this.strategy))}shouldStartEditing(e,t,n,r="ui"){const i=swe(this.beans,e,t,n,r);return i&&(this.strategy??(this.strategy=this.createStrategy())),i}shouldStopEditing(e,t,n="ui"){return this.strategy?.shouldStop(e,t,n)??null}shouldCancelEditing(e,t,n="ui"){return this.strategy?.shouldCancel(e,t,n)??null}validateEdit(){return Ome(this.beans)}isEditing(e,t){return this.model.hasEdits(e,t??mh)}isRowEditing(e,t){return(e&&this.model.hasRowEdits(e,t))??!1}startEditing(e,t){const{startedEdit:n=!0,event:r=null,source:i="ui",ignoreEventKey:s=!1,silent:o}=t;if(this.strategy??(this.strategy=this.createStrategy()),!this.isCellEditable(e,"api"))return;const a=an(this.beans,e);if(a&&!a.comp){a.onCompAttachedFuncs.push(()=>this.startEditing(e,t));return}const l=this.shouldStartEditing(e,r,n,i);if(l===!1&&i!=="api"){this.isEditing(e)&&this.stopEditing();return}!this.batch&&this.shouldStopEditing(e,void 0,i)&&!t.continueEditing&&this.stopEditing(void 0,{source:i}),l&&this.isBatchEditing()&&this.dispatchBatchEvent("batchEditingStarted",new Map),this.strategy.start({position:e,event:r,source:i,ignoreEventKey:s,startedEdit:n,silent:o})}stopEditing(e,t){const{event:n,cancel:r,source:i="ui",forceCancel:s,forceStop:o}=t||{},{beans:a,model:l}=this;if(gwe.has(i)&&this.isBatchEditing())return this.bulkRefresh(e),!1;const c=this.committing?JW[i]:i;if(!(this.committing||this.isEditing(e)||this.isBatchEditing()&&l.hasEdits(e,mh))||!this.strategy||this.stopping)return!1;this.stopping=!0;const f=an(a,e);f&&(f.onEditorAttachedFuncs=[]);let p=l.getEditMap(!0),v=!1;const y=!r&&(!!this.shouldStopEditing(e,n,c)||this.committing&&!this.batch)||(o??!1),b=r&&!!this.shouldCancelEditing(e,n,c)||(s??!1);if(y||b){Su(a,{persist:!0,isCancelling:b||r,isStopping:y});const x=l.getEditMap(),S=this.processEdits(x,r,i);this.strategy?.stop(r,n);for(const M of S)l.clearEditValue(M);this.bulkRefresh(void 0,p);for(const M of l.getEditPositions(x)){const R=an(a,M),T=Ta(M);R?.refreshCell({force:!0,suppressFlash:!T})}p=x,v||(v=y)}else if(n instanceof KeyboardEvent&&this.batch&&this.strategy?.midBatchInputsAllowed(e)&&this.isEditing(e,{withOpenEditor:!0})){const{key:x}=n,S=x===re.ENTER,M=x===re.ESCAPE,R=x===re.TAB;(S||R||M)&&(S||R?Su(a,{persist:!0}):M&&this.revertSingleCellEdit(f),this.isBatchEditing()?this.strategy?.cleanupEditors():qh(a,l.getEditPositions(),{event:n,cancel:M}),n.preventDefault(),this.bulkRefresh(e,p,{suppressFlash:!0}),p=l.getEditMap())}else Su(a,{persist:!0}),p=l.getEditMap();return v&&e&&this.model.removeEdits(e),this.navigateAfterEdit(t,f?.cellPosition),J2(a),this.model.hasEdits()||(this.model.getCellValidationModel().clearCellValidationMap(),this.model.getRowValidationModel().clearRowValidationMap()),this.bulkRefresh(),b&&this.beans.rowRenderer.refreshRows({rowNodes:Array.from(p.keys())}),this.isBatchEditing()&&(this.beans.rowRenderer.refreshRows({suppressFlash:!0,force:!0}),v&&y&&this.dispatchBatchEvent("batchEditingStopped",p)),this.stopping=!1,v}navigateAfterEdit(e,t){if(!e||!t)return;const{event:n,suppressNavigateAfterEdit:r}=e;if(!(n instanceof KeyboardEvent)||r)return;const{key:s,shiftKey:o}=n,a=this.gos.get("enterNavigatesVerticallyAfterEdit");if(s!==re.ENTER||!a)return;const l=o?re.UP:re.DOWN;this.beans.navigation?.navigateToNextCell(null,l,t,!1)}processEdits(e,t=!1,n){const r=Array.from(e.keys()),i=this.model.getCellValidationModel().getCellValidationMap().size>0||this.model.getRowValidationModel().getRowValidationMap().size>0,s=[];for(const o of r){const a=e.get(o);for(const l of a.keys()){const c=a.get(l),d={rowNode:o,column:l},f=Ta(c);!t&&f&&!i&&(this.setNodeDataValue(o,l,c.pendingValue,void 0,n)||s.push(d))}}return s}setNodeDataValue(e,t,n,r,i="edit"){const{beans:s}=this,o=an(s,{rowNode:e,column:t}),a=pwe.has(i)?"edit":i;o&&(o.suppressRefreshCell=!0),this.commitNextEdit();const l=e.setDataValue(t,n,a);return o&&(o.suppressRefreshCell=!1),r&&o?.refreshCell(tg),l}setEditMap(e,t){this.strategy??(this.strategy=this.createStrategy()),this.strategy?.setEditMap(e,t),this.bulkRefresh();let n=tg;t?.forceRefreshOfEditCellsOnly&&(n={...wwe(e),...tg}),this.beans.rowRenderer.refreshCells(n)}dispatchEditValuesChanged({rowNode:e,column:t},n={}){if(!e||!t||!n)return;const{pendingValue:r,sourceValue:i}=n,{rowIndex:s,rowPinned:o,data:a}=e;this.beans.eventSvc.dispatchEvent({type:"cellEditValuesChanged",node:e,rowIndex:s,rowPinned:o,column:t,source:"api",data:a,newValue:r,oldValue:i,value:r,colDef:t.getColDef()})}bulkRefresh(e={},t,n={}){const{beans:r,gos:i}=this,{editModelSvc:s,rowModel:o}=r;Xt(i)&&(e.rowNode&&e.column?this.refCell(e,this.model.getEdit(e),n):t&&s?.getEditMap(!1)?.forEach((a,l)=>{for(const c of a.keys())this.refCell({rowNode:l,column:c},a.get(c),n)}))}refCell({rowNode:e,column:t},n,r={}){const{beans:i,gos:s}=this,o=new Set([e]),a=new Set,l=e.pinnedSibling;l&&o.add(l);const c=e.sibling;c&&a.add(c);let d=e.parent;for(;d;)d.sibling?.footer&&s.get("groupTotalRow")||!d.parent&&d.sibling&&s.get("grandTotalRow")?a.add(d.sibling):a.add(d),d=d.parent;for(const f of o)this.dispatchEditValuesChanged({rowNode:f,column:t},n);for(const f of o)an(i,{rowNode:f,column:t})?.refreshCell(r);for(const f of a)an(i,{rowNode:f,column:t})?.refreshCell(r)}stopAllEditing(e=!1,t="ui"){this.isEditing()&&this.stopEditing(void 0,{cancel:e,source:t})}isCellEditable(e,t="ui"){const{rowNode:n}=e,{gos:r,beans:i}=this;if(n.group){if(r.get("treeData")){if(!n.data&&!r.get("enableGroupEdit"))return!1}else if(!r.get("enableGroupEdit"))return!1}const s=I_(r)==="fullRow"?awe(i,e,t):iT(i,e,t);return s&&(this.strategy??(this.strategy=this.createStrategy())),s}cellEditingInvalidCommitBlocks(){return this.gos.get("invalidEditValueMode")==="block"}checkNavWithValidation(e,t,n=!0){if(this.hasValidationErrors(e)){const r=an(this.beans,e);return this.cellEditingInvalidCommitBlocks()?(t?.preventDefault?.(),n&&(!r?.hasBrowserFocus()&&r?.focusCell(),r?.comp?.getCellEditor()?.focusIn?.()),"block-stop"):(r&&this.revertSingleCellEdit(r),"revert-continue")}return"continue"}revertSingleCellEdit(e,t=!1){const n=an(this.beans,e);n?.comp?.getCellEditor()&&(qh(this.beans,[e],{silent:!0}),this.model.clearEditValue(e),lf(this.beans,e,{silent:!0}),nd(this.beans),n?.refreshCell(tg),t&&(n?.focusCell(),n?.comp?.getCellEditor()?.focusIn?.()))}hasValidationErrors(e){nd(this.beans);const t=an(this.beans,e);t&&(t.refreshCell(tg),t.rowCtrl.rowEditStyleFeature?.applyRowStyles());let n=!1;return e?.rowNode?(n||(n=this.model.getRowValidationModel().hasRowValidation({rowNode:e.rowNode})),e.column&&(n||(n=this.model.getCellValidationModel().hasCellValidation({rowNode:e.rowNode,column:e.column})))):(n||(n=this.model.getCellValidationModel().getCellValidationMap().size>0),n||(n=this.model.getRowValidationModel().getRowValidationMap().size>0)),n}moveToNextCell(e,t,n,r="ui"){let i;const s=this.isEditing(),o=s&&this.checkNavWithValidation(void 0,n)==="block-stop";return e instanceof Kh&&s&&(i=this.strategy?.moveToNextEditingCell(e,t,n,r,o)),i===null||(i=i||!!this.beans.focusSvc.focusedHeader,i===!1&&!o&&this.stopEditing()),i}getCellDataValue({rowNode:e,column:t},n=!0){if(!e||!t)return;let r=this.model.getEdit({rowNode:e,column:t});const i=e.pinnedSibling;if(i){const o=this.model.getEdit({rowNode:i,column:t});o&&(r=o)}const s=n?r?.editorValue??r?.pendingValue:r?.pendingValue;return s===ks||!r?r?.sourceValue??this.valueSvc.getValue(t,e,!1,"api"):s}addStopEditingWhenGridLosesFocus(e){Mme(this,this.beans,e)}createPopupEditorWrapper(e){return new iwe(e)}commitNextEdit(){this.committing=!0}setDataValue(e,t,n){try{if((!this.isEditing()||this.committing)&&!mwe.has(n))return;const{beans:r}=this;this.strategy??(this.strategy=this.createStrategy());const i=this.isBatchEditing()?"ui":this.committing?n??"api":"api";if(!n||fwe.has(n))return aw(r,e,t,n,void 0,{persist:!0}),this.setNodeDataValue(e.rowNode,e.column,t,!0,n);const s=this.model.getEdit(e);if(s){if(s.pendingValue===t)return!1;if(s.sourceValue!==t)return aw(r,e,t,n,void 0,{persist:!0}),this.stopEditing(e,{source:i,suppressNavigateAfterEdit:!0}),!0;if(s.sourceValue===t)return r.editModelSvc?.removeEdits(e),this.dispatchEditValuesChanged(e,{...s,pendingValue:t}),!0}return aw(r,e,t,n,void 0,{persist:!0}),this.stopEditing(e,{source:i,suppressNavigateAfterEdit:!0}),!0}finally{this.committing=!1}}handleColDefChanged(e){Ame(this.beans,e)}destroy(){this.model.clear(),this.destroyStrategy(),super.destroy()}prepDetailsDuringBatch(e,t){if(!this.batch||!this.model.hasRowEdits(e.rowNode,mh))return;const{rowNode:r,column:i}=e,{compDetails:s,valueToDisplay:o}=t;if(s){const{params:l}=s;return l.data=this.model.getEditRowDataValue(r,mh),{compDetails:s}}const a=this.model.getEditRow(e.rowNode,mh);if(o!==void 0&&a?.has(i))return{valueToDisplay:this.valueSvc.getValue(i,r)}}cleanupEditors(){this.strategy?.cleanupEditors()}dispatchCellEvent(e,t,n,r){this.strategy?.dispatchCellEvent(e,t,n,r)}dispatchBatchEvent(e,t){this.eventSvc.dispatchEvent(this.createBatchEditEvent(e,t))}createBatchEditEvent(e,t){return _e(this.gos,{type:e,...e==="batchEditingStopped"?{changes:this.toEventChangeList(t)}:{}})}toEventChangeList(e){return this.model.getEditPositions(e).map(t=>({rowIndex:t.rowNode.rowIndex,rowPinned:t.rowNode.rowPinned,columnId:t.column.getColId(),newValue:t.pendingValue,oldValue:t.sourceValue}))}applyBulkEdit({rowNode:e,column:t},n){if(!n||n.length===0)return;const{beans:r,rangeSvc:i,valueSvc:s}=this;Su(r,{persist:!0});const o=this.model.getEditMap(!0),a=o.get(e)?.get(t)?.pendingValue;this.batch||this.eventSvc.dispatchEvent({type:"bulkEditingStarted"}),n.forEach(c=>{if(i?.forEachRowInRange(c,d=>{const f=Ja(r,d);if(f===void 0)return;const p=o.get(f)??new Map;for(const v of c.columns)if(v&&this.isCellEditable({rowNode:f,column:v},"api")){const y=s.getValue(v,f,!0,"api");let b=s.parseValue(v,f??null,a,y);Number.isNaN(b)&&(b=null),p.set(v,{editorValue:void 0,pendingValue:b,sourceValue:y,state:"changed",editorState:{isCancelAfterEnd:void 0,isCancelBeforeStart:void 0}})}p.size>0&&o.set(f,p)}),this.setEditMap(o),this.batch){this.cleanupEditors(),J2(r),this.bulkRefresh();return}this.commitNextEdit(),this.stopEditing(void 0,{source:"bulk"}),this.eventSvc.dispatchEvent({type:"bulkEditingStopped",changes:this.toEventChangeList(o)})}),this.bulkRefresh();const l=an(r,{rowNode:e,column:t});l&&l.focusCell(!0)}createCellStyleFeature(e,t){return new lwe(e,t)}createRowStyleFeature(e,t){return new cwe(e,t)}setEditingCells(e,t){const{beans:n}=this,{colModel:r,valueSvc:i}=n,s=new Map;for(let{colId:o,column:a,colKey:l,rowIndex:c,rowPinned:d,newValue:f,state:p}of e){const v=o?r.getCol(o):l?r.getCol(l):a;if(!v)continue;const y=Ja(n,{rowIndex:c,rowPinned:d});if(!y)continue;const b=i.getValue(v,y,!0,"api");if(!t?.forceRefreshOfEditCellsOnly&&!Ta({pendingValue:f,sourceValue:b})&&p!=="editing")continue;let x=s.get(y);x||(x=new Map,s.set(y,x)),f===void 0&&(f=ks),x.set(v,{editorValue:void 0,pendingValue:f,sourceValue:b,state:p??"changed",editorState:{isCancelAfterEnd:void 0,isCancelBeforeStart:void 0}})}this.setEditMap(s,t)}onCellFocused(e){const t=an(this.beans,e);if(!t||!this.isEditing(t,mh))return;const n=this.model.getEdit(t);if(!n||!Ta(n))return;const i=this.getLocaleTextFunc()("ariaPendingChange","Pending Change");this.beans.ariaAnnounce?.announceValue(i,"pendingChange")}allowedFocusTargetOnValidation(e){return an(this.beans,e)}};function wwe(e){return{rowNodes:e?Array.from(e.keys()):void 0,columns:e?[...new Set(Array.from(e.values()).flatMap(t=>Array.from(t.keys())))]:void 0}}function I_(e,t){return t??e.get("editType")??"singleCell"}var ZW=class extends le{postConstruct(){this.model=this.beans.editModelSvc,this.editSvc=this.beans.editSvc,this.addManagedEventListeners({cellFocused:this.onCellFocusChanged?.bind(this),cellFocusCleared:this.onCellFocusChanged?.bind(this)})}clearEdits(e){this.model.clearEditValue(e)}onCellFocusChanged(e){let t;const n=e.previousParams,{editSvc:r,beans:i}=this,s=e.type==="cellFocused"?e.sourceEvent:null;n&&(t=an(i,n));const{gos:o,editModelSvc:a}=i,l=e.type==="cellFocusCleared";if(r.isEditing(void 0,{withOpenEditor:!0})){const{column:c,rowIndex:d,rowPinned:f}=e,p={column:c,rowNode:Ja(i,{rowIndex:d,rowPinned:f})},v=o.get("invalidEditValueMode")==="block";if(v)return;const y=!v,b=!!a?.getCellValidationModel().hasCellValidation(p),x=y&&b;(n||l?r.stopEditing(void 0,{cancel:x,source:l&&y?"api":void 0,event:s}):!0)||(r.isBatchEditing()?r.cleanupEditors():r.stopEditing(void 0,{source:"api"}))}t?.refreshCell({suppressFlash:!0,force:!0})}stop(e,t){const n=this.model.getEditPositions(),r={all:[],pass:[],fail:[]};for(const i of n){if(r.all.push(i),(this.model.getCellValidationModel().getCellValidation(i)?.errorMessages?.length??0)>0){r.fail.push(i);continue}r.pass.push(i)}if(e)for(const i of n)Qw(this.beans,i,{cancel:e}),this.model.stop(i);else{const i=this.processValidationResults(r);if(i.destroy.length>0)for(const s of i.destroy)Qw(this.beans,s,{event:t,cancel:e}),this.model.stop(s);if(i.keep.length>0)for(const s of i.keep){const o=an(this.beans,s);this.editSvc?.cellEditingInvalidCommitBlocks()||o&&this.editSvc.revertSingleCellEdit(o)}}return!0}cleanupEditors({rowNode:e}={},t){Su(this.beans,{persist:!1});const n=this.model.getEditPositions(),r=[];if(e)for(const i of n)i.rowNode!==e&&r.push(i);else for(const i of n)r.push(i);qh(this.beans,r),J2(this.beans,t)}setFocusOutOnEditor(e){e.comp?.getCellEditor()?.focusOut?.()}setFocusInOnEditor(e){const t=e.comp,n=t?.getCellEditor();if(n?.focusIn)n.focusIn();else{const r=this.beans.gos.get("editType")==="fullRow";e.focusCell(r),e.onEditorAttachedFuncs.push(()=>t?.getCellEditor()?.focusIn?.())}}setupEditors(e){const{event:t,ignoreEventKey:n=!1,startedEdit:r,position:i,cells:s=this.model.getEditPositions()}=e,o=t instanceof KeyboardEvent&&!n&&t.key||void 0;kme(this.beans,s,i,o,t,r)}dispatchCellEvent(e,t,n,r){const i=an(this.beans,e);i&&this.eventSvc.dispatchEvent({...i.createEvent(t??null,n),...r})}dispatchRowEvent(e,t,n){if(n)return;const r=HA(this.beans,e);r&&this.eventSvc.dispatchEvent(r.createRowEvent(t))}shouldStop(e,t,n="ui"){const r=this.editSvc.isBatchEditing();return r&&n==="api"?!0:r&&(n==="ui"||n==="edit")?!1:n==="api"?!0:t instanceof KeyboardEvent&&!r?t.key===re.ENTER:null}shouldCancel(e,t,n="ui"){const r=this.editSvc.isBatchEditing();return!!(t instanceof KeyboardEvent&&!r&&t.key===re.ESCAPE||r&&n==="api"||n==="api")}setEditMap(e,t){t?.update||this.editSvc.stopEditing(void 0,{cancel:!0,source:"api"});const n=[];if(e.forEach((r,i)=>{r.forEach((s,o)=>{s.state==="editing"&&n.push({...s,rowNode:i,column:o})})}),t?.update&&(e=new Map([...this.model.getEditMap(),...e])),this.model?.setEditMap(e),n.length>0){const r=n.at(-1),i=r.pendingValue===ks?void 0:r.pendingValue;this.start({position:r,event:new KeyboardEvent("keydown",{key:i}),source:"api"});const s=an(this.beans,r);s&&this.setFocusInOnEditor(s)}}destroy(){this.cleanupEditors(),super.destroy()}},bwe=class extends ZW{constructor(){super(...arguments),this.beanName="fullRow",this.startedRows=[]}shouldStop(e,t,n="ui"){const{rowNode:r}=e||{};if(!HA(this.beans,{rowNode:this.rowNode}))return!0;const s=super.shouldStop({rowNode:this.rowNode},t,n);return s!==null?s:this.rowNode?r!==this.rowNode:!1}midBatchInputsAllowed({rowNode:e}){return e?this.model.hasEdits({rowNode:e}):!1}clearEdits(e){this.model.clearEditValue(e)}start(e){const{position:t,silent:n,startedEdit:r,event:i,ignoreEventKey:s}=e,{rowNode:o}=t;this.rowNode!==o&&super.cleanupEditors(t);const a=this.beans.visibleCols.allCols,l=[],c=[];for(const d of a)d.isCellEditable(o)&&c.push(d);if(c.length!=0){this.dispatchRowEvent({rowNode:o},"rowEditingStarted",n),this.startedRows.push(o);for(const d of c){const f={rowNode:o,column:d};l.push(f),this.model.hasEdits(f)||this.model.start(f)}this.rowNode=o,this.setupEditors({cells:l,position:t,startedEdit:r,event:i,ignoreEventKey:s})}}processValidationResults(e){return e.fail.length>0&&this.editSvc.cellEditingInvalidCommitBlocks()?{destroy:[],keep:e.all}:{destroy:e.all,keep:[]}}stop(e,t){const{rowNode:n}=this;if(n&&!this.model.hasRowEdits(n))return!1;const r=[];if(e||this.model.getEditMap().forEach((i,s)=>{if(!(!i||i.size===0)){for(const o of i.values())if(Ta(o)){r.push(s);break}}}),nd(this.beans),!e&&this.editSvc?.checkNavWithValidation({rowNode:n})==="block-stop")return!1;super.stop(e,t);for(const i of r)this.dispatchRowEvent({rowNode:i},"rowValueChanged");return this.cleanupEditors({rowNode:n},!0),this.rowNode=void 0,!0}onCellFocusChanged(e){const{rowIndex:t}=e,n=e.previousParams;if(n?.rowIndex===t||e.sourceEvent instanceof KeyboardEvent)return;const r=an(this.beans,n);this.gos.get("invalidEditValueMode")==="block"&&r&&(this.model.getCellValidationModel().getCellValidation(r)||this.model.getRowValidationModel().getRowValidation(r))||super.onCellFocusChanged(e)}cleanupEditors(e={},t){super.cleanupEditors(e,t);for(const n of this.startedRows)this.dispatchRowEvent({rowNode:n},"rowEditingStopped");this.startedRows.length=0}moveToNextEditingCell(e,t,n,r="ui",i=!1){const s=e.cellPosition;let o;this.model.suspend(!0);try{o=this.beans.navigation?.findNextCellToFocusOn(s,{backwards:t,startEditing:!0,skipToNextEditableCell:!1})}finally{this.model.suspend(!1)}if(o===!1)return null;if(o==null)return!1;const a=o.cellPosition,l=e.isCellEditable(),c=o.isCellEditable(),d=a&&s.rowIndex===a.rowIndex&&s.rowPinned===a.rowPinned;l&&this.setFocusOutOnEditor(e),this.restoreEditors();const f=this.gos.get("suppressStartEditOnTab");return c&&!i?f?o.focusCell(!0,n):(o.comp?.getCellEditor()||lf(this.beans,o,{event:n,cellStartedEdit:!0}),this.setFocusInOnEditor(o),o.focusCell(!1,n)):(c&&i&&this.setFocusInOnEditor(o),o.focusCell(!0,n)),!d&&!i&&(this.editSvc?.stopEditing({rowNode:e.rowNode},{event:n}),this.cleanupEditors(o,!0),f?o.focusCell(!0,n):this.editSvc.startEditing(o,{startedEdit:!0,event:n,source:r,ignoreEventKey:!0})),e.rowCtrl?.refreshRow({suppressFlash:!0,force:!0}),!0}restoreEditors(){this.model.getEditMap().forEach((e,t)=>e.forEach(({state:n},r)=>{if(n!=="editing")return;const i=an(this.beans,{rowNode:t,column:r});i&&!i.comp?.getCellEditor()&&lf(this.beans,i,{silent:!0})}))}destroy(){super.destroy(),this.rowNode=void 0,this.startedRows.length=0}},Cwe=class extends ZW{constructor(){super(...arguments),this.beanName="singleCell"}shouldStop(e,t,n="ui"){const r=super.shouldStop(e,t,n);if(r!==null)return r;const{rowNode:i,column:s}=e||{};return(!this.rowNode||!this.column)&&i&&s?null:this.rowNode!==i||this.column!==s}midBatchInputsAllowed(e){return this.model.hasEdits(e)}start(e){const{position:t,startedEdit:n,event:r,ignoreEventKey:i}=e;(this.rowNode!==t.rowNode||this.column!==t.column)&&super.cleanupEditors(),this.rowNode=t.rowNode,this.column=t.column,this.model.start(t),this.setupEditors({cells:[t],position:t,startedEdit:n,event:r,ignoreEventKey:i})}dispatchRowEvent(e,t,n){}processValidationResults(e){return e.fail.length>0&&this.editSvc.cellEditingInvalidCommitBlocks()?{destroy:[],keep:e.all}:{destroy:e.all,keep:[]}}stop(e,t){return super.stop(e,t),this.rowNode=void 0,this.column=void 0,!0}onCellFocusChanged(e){const{colModel:t,editSvc:n}=this.beans,{rowIndex:r,column:i,rowPinned:s}=e,o=Ja(this.beans,{rowIndex:r,rowPinned:s}),a=X2(i),l=t.getCol(a),c=e.previousParams;if(c){const d=X2(c.column);if(c?.rowIndex===r&&d===a&&c?.rowPinned===s)return}n?.isEditing({rowNode:o,column:l},{withOpenEditor:!0})&&e.type==="cellFocused"||super.onCellFocusChanged(e)}moveToNextEditingCell(e,t,n,r="ui",i=!1){const s=this.beans.focusSvc.getFocusedCell();s&&(e=Fh(this.beans,s)??e);const o=e.cellPosition;let a;const l=this.beans.gos.get("editType")==="fullRow";l&&this.model.suspend(!0),i||(e.eGui.focus(),this.editSvc?.stopEditing(e,{source:this.editSvc?.isBatchEditing()?"ui":"api",event:n}));try{a=this.beans.navigation?.findNextCellToFocusOn(o,{backwards:t,startEditing:!0})}finally{l&&this.model.suspend(!1)}if(a===!1)return null;if(a==null)return!1;const c=a.cellPosition,d=e.isCellEditable(),f=a.isCellEditable(),p=c&&o.rowIndex===c.rowIndex&&o.rowPinned===c.rowPinned;d&&!i&&this.setFocusOutOnEditor(e);const v=this.gos.get("suppressStartEditOnTab");if(!p&&!i&&(super.cleanupEditors(a,!0),v?a.focusCell(!0,n):this.editSvc.startEditing(a,{startedEdit:!0,event:n,source:r,ignoreEventKey:!0})),f&&!i){if(a.focusCell(!1,n),v)a.focusCell(!0,n);else if(!a.comp?.getCellEditor()){const y=this.editSvc?.isEditing(a,{withOpenEditor:!0});lf(this.beans,a,{event:n,cellStartedEdit:!0,silent:y}),this.setFocusInOnEditor(a),this.cleanupEditors(a)}}else f&&i&&this.setFocusInOnEditor(a),a.focusCell(!0,n);return e.rowCtrl?.refreshRow({suppressFlash:!0,force:!0}),!0}destroy(){super.destroy(),this.rowNode=void 0,this.column=void 0}},jc={moduleName:"EditCore",version:Re,beans:[Rme,ywe],apiFunctions:{getEditingCells:Q0e,getEditRowValues:Y0e,getCellEditorInstances:Tme,startEditingCell:Z0e,stopEditing:X0e,isEditing:J0e,validateEdit:ewe},dynamicBeans:{singleCell:Cwe,fullRow:bwe},dependsOn:[yx,UW],css:[R0e]},xwe={moduleName:"UndoRedoEdit",version:Re,beans:[D0e],apiFunctions:{undoCellEditing:q0e,redoCellEditing:K0e,getCurrentUndoSize:twe,getCurrentRedoSize:nwe},dependsOn:[jc]},Swe={moduleName:"TextEditor",version:Re,userComponents:{agCellEditor:F_,agTextCellEditor:F_},dependsOn:[jc]},Ewe={moduleName:"NumberEditor",version:Re,userComponents:{agNumberCellEditor:{classImp:B0e}},dependsOn:[jc]},Dwe={moduleName:"DateEditor",version:Re,userComponents:{agDateCellEditor:P0e,agDateStringCellEditor:F0e},dependsOn:[jc]},Rwe={moduleName:"CheckboxEditor",version:Re,userComponents:{agCheckboxCellEditor:T0e},dependsOn:[jc]},Mwe={moduleName:"SelectEditor",version:Re,userComponents:{agSelectCellEditor:z0e},dependsOn:[jc]},Twe={moduleName:"LargeTextEditor",version:Re,userComponents:{agLargeTextCellEditor:L0e},dependsOn:[jc]},kwe={moduleName:"CustomEditor",version:Re,dependsOn:[jc]},Awe=class extends le{constructor(){super(...arguments),this.beanName="selectionColSvc"}postConstruct(){this.addManagedPropertyListener("rowSelection",e=>{this.onSelectionOptionsChanged(e.currentValue,e.previousValue,Gh(e.source))}),this.addManagedPropertyListener("selectionColumnDef",this.updateColumns.bind(this))}addColumns(e){const t=this.columns;t!=null&&(e.list=t.list.concat(e.list),e.tree=t.tree.concat(e.tree),Kae(e))}createColumns(e,t){const n=()=>{Hw(this.beans,this.columns?.tree),this.columns=null},r=e.treeDepth,s=(this.columns?.treeDepth??-1)==r,o=this.generateSelectionCols();if(qae(o,this.columns?.list??[])&&s)return;n();const{colGroupSvc:l}=this.beans,c=l?.findDepth(e.tree)??0,d=l?.balanceTreeForAutoCols(o,c)??[];this.columns={list:o,tree:d,treeDepth:c,map:{}},t(p=>{if(!p)return null;const v=p.filter(y=>!dl(y));return[...o,...v]})}updateColumns(e){const t=Gh(e.source);for(const n of this.columns?.list??[]){const r=this.createSelectionColDef(e.currentValue);n.setColDef(r,null,t),qs(this.beans,{state:[{...r,colId:n.getColId()}]},t)}}getColumn(e){return this.columns?.list.find(t=>Pg(t,e))??null}getColumns(){return this.columns?.list??null}isSelectionColumnEnabled(){const{gos:e,beans:t}=this,n=e.get("rowSelection");if(typeof n!="object"||!gc(e))return!1;const r=(t.autoColSvc?.getColumns()?.length??0)>0;if(n.checkboxLocation==="autoGroupColumn"&&r)return!1;const i=!!_u(n),s=Z0(n);return i||s}createSelectionColDef(e){const{gos:t}=this,n=e??t.get("selectionColumnDef"),r=t.get("enableRtl"),{rowSpan:i,spanRows:s,...o}=n??{};return{width:50,resizable:!1,suppressHeaderMenuButton:!0,sortable:!1,suppressMovable:!0,lockPosition:r?"right":"left",comparator(a,l,c,d){const f=c.isSelected(),p=d.isSelected();return f===p?0:f?1:-1},editable:!1,suppressFillHandle:!0,pinned:null,...o,colId:MV,chartDataType:"excluded"}}generateSelectionCols(){if(!this.isSelectionColumnEnabled())return[];const e=this.createSelectionColDef(),t=e.colId;this.gos.validateColDef(e,t,!0);const n=new wd(e,null,t,!1);return this.createBean(n),[n]}onSelectionOptionsChanged(e,t,n){const r=t&&typeof t!="string"?_u(t):void 0,i=e&&typeof e!="string"?_u(e):void 0,s=r!==i,o=t&&typeof t!="string"?Z0(t):void 0,a=e&&typeof e!="string"?Z0(e):void 0,l=o!==a,c=im(e),d=im(t);(s||l||c!==d)&&this.beans.colModel.refreshAll(n)}destroy(){Hw(this.beans,this.columns?.tree),super.destroy()}refreshVisibility(e,t,n){if(!this.columns?.list.length)return;const r=e.length+t.length+n.length;if(r===0)return;const i=this.columns.list[0];if(!i.isVisible())return;const s=()=>{let l;switch(i.pinned){case"left":case!0:l=e;break;case"right":l=n;break;default:l=t}l&&Js(l,i)};(this.beans.rowNumbersSvc?.getColumn(TV)?2:1)===r&&s()}};function Pwe(e,t){if(!t.nodes.every(o=>o.rowPinned&&!ev(o)?(ve(59),!1):o.id===void 0?(ve(60),!1):!0))return;const{nodes:r,source:i,newValue:s}=t;e.selectionSvc?.setNodesSelected({nodes:r,source:i??"api",newValue:s})}function Nwe(e,t,n="apiSelectAll"){e.selectionSvc?.selectAllRowNodes({source:n,selectAll:t})}function Owe(e,t,n="apiSelectAll"){e.selectionSvc?.deselectAllRowNodes({source:n,selectAll:t})}function Fwe(e,t="apiSelectAllFiltered"){e.selectionSvc?.selectAllRowNodes({source:t,selectAll:"filtered"})}function Iwe(e,t="apiSelectAllFiltered"){e.selectionSvc?.deselectAllRowNodes({source:t,selectAll:"filtered"})}function Lwe(e,t="apiSelectAllCurrentPage"){e.selectionSvc?.selectAllRowNodes({source:t,selectAll:"currentPage"})}function _we(e,t="apiSelectAllCurrentPage"){e.selectionSvc?.deselectAllRowNodes({source:t,selectAll:"currentPage"})}function jwe(e){return e.selectionSvc?.getSelectedNodes()??[]}function Bwe(e){return e.selectionSvc?.getSelectedRows()??[]}var Hwe=class extends Jde{constructor(){super(...arguments),this.beanName="selectionSvc",this.selectedNodes=new Map,this.detailSelection=new Map,this.masterSelectsDetail=!1}postConstruct(){super.postConstruct();const{gos:e}=this;this.mode=jw(e),this.groupSelectsDescendants=om(e),this.groupSelectsFiltered=Bw(e)==="filteredDescendants",this.masterSelectsDetail=T4(e)==="detail",this.addManagedPropertyListeners(["groupSelectsChildren","groupSelectsFiltered","rowSelection"],()=>{const t=om(e),n=jw(e),r=Bw(e)==="filteredDescendants";this.masterSelectsDetail=T4(e)==="detail",(t!==this.groupSelectsDescendants||r!==this.groupSelectsFiltered||n!==this.mode)&&(this.deselectAllRowNodes({source:"api"}),this.groupSelectsDescendants=t,this.groupSelectsFiltered=r,this.mode=n)}),this.addManagedEventListeners({rowSelected:this.onRowSelected.bind(this)})}destroy(){super.destroy(),this.resetNodes()}handleSelectionEvent(e,t,n){if(this.isRowSelectionBlocked(t))return 0;const r=this.inferNodeSelections(t,e.shiftKey,e.metaKey||e.ctrlKey,n);if(r==null)return 0;if(this.selectionCtx.selectAll=!1,"select"in r)return r.reset?this.resetNodes():this.selectRange(r.deselect,!1,n),this.selectRange(r.select,!0,n);{const i=r.checkFilteredNodes?tU(r.node):r.newValue;return this.setNodesSelected({nodes:[r.node],newValue:i,clearSelection:r.clearSelection,keepDescendants:r.keepDescendants,event:e,source:n})}}setNodesSelected({newValue:e,clearSelection:t,suppressFinishActions:n,nodes:r,event:i,source:s,keepDescendants:o=!1}){if(r.length===0)return 0;const{gos:a}=this;if(!gc(a)&&e)return ve(132),0;if(r.length>1&&!this.isMultiSelect())return ve(130),0;let l=0;for(let c=0;c<r.length;c++){const d=r[c],f=vh(d);if(f.rowPinned&&!ev(f)){ve(59);continue}if(f.id===void 0){ve(60);continue}this.groupSelectsFiltered&&f.group&&!a.get("treeData")||this.selectRowNode(f,e,i,s)&&(this.detailSelection.delete(f.id),l++),this.groupSelectsDescendants&&f.childrenAfterGroup?.length&&(l+=this.selectChildren(f,e,s))}return n||(r.length===1&&s==="api"&&this.selectionCtx.setRoot(vh(r[0])),e&&(t||!this.isMultiSelect())&&(l+=this.clearOtherNodes(vh(r[0]),o,s)),l>0&&(this.updateGroupsFromChildrenSelections(s),this.dispatchSelectionChanged(s))),l}selectRange(e,t,n){let r=0;return e.forEach(i=>{const s=vh(i);if(s.group&&this.groupSelectsDescendants)return;this.selectRowNode(s,t,void 0,n)&&r++}),r>0&&(this.updateGroupsFromChildrenSelections(n),this.dispatchSelectionChanged(n)),r}selectChildren(e,t,n){const r=this.groupSelectsFiltered?e.childrenAfterAggFilter:e.childrenAfterGroup;return r?this.setNodesSelected({newValue:t,clearSelection:!1,suppressFinishActions:!0,source:n,nodes:r}):0}getSelectedNodes(){return Array.from(this.selectedNodes.values())}getSelectedRows(){const e=[];return this.selectedNodes.forEach(t=>t.data&&e.push(t.data)),e}getSelectionCount(){return this.selectedNodes.size}filterFromSelection(e){const t=new Map;this.selectedNodes.forEach((n,r)=>{e(n)&&t.set(r,n)}),this.selectedNodes=t}updateGroupsFromChildrenSelections(e,t){if(!this.groupSelectsDescendants)return!1;const{gos:n,rowModel:r}=this.beans;if(!Xt(n))return!1;const i=r.rootNode;if(!i)return!1;t||(t=new cm(!0,i),t.active=!1);let s=!1;return t.forEachChangedNodeDepthFirst(o=>{if(o!==i){const a=this.calculateSelectedFromChildren(o);s=this.selectRowNode(o,a===null?!1:a,void 0,e)||s}}),s}clearOtherNodes(e,t,n){const r=new Map;let i=0;return this.selectedNodes.forEach(s=>{const o=s.id==e.id;if((t?!Gwe(e,s):!0)&&!o){const l=this.selectedNodes.get(s.id);i+=this.setNodesSelected({nodes:[l],newValue:!1,clearSelection:!1,suppressFinishActions:!0,source:n}),this.groupSelectsDescendants&&s.parent&&r.set(s.parent.id,s.parent)}}),r.forEach(s=>{const o=this.calculateSelectedFromChildren(s);this.selectRowNode(s,o===null?!1:o,void 0,n)}),i}onRowSelected(e){const t=e.node;this.groupSelectsDescendants&&t.group||(t.isSelected()?this.selectedNodes.set(t.id,t):this.selectedNodes.delete(t.id))}syncInRowNode(e,t){this.syncInOldRowNode(e,t),this.syncInNewRowNode(e)}createDaemonNode(e){if(!e.id)return;const t=new Xa(this.beans);return t.id=e.id,t.data=e.data,t.__selected=e.__selected,t.level=e.level,t}syncInOldRowNode(e,t){t&&e.id!==t.id&&this.selectedNodes.get(t.id)==e&&this.selectedNodes.set(t.id,t)}syncInNewRowNode(e){this.selectedNodes.has(e.id)?(e.__selected=!0,this.selectedNodes.set(e.id,e)):e.__selected=!1}reset(e){const t=this.getSelectionCount();this.resetNodes(),t&&this.dispatchSelectionChanged(e)}resetNodes(){this.selectedNodes.forEach(e=>{this.selectRowNode(e,!1)}),this.selectedNodes.clear()}getBestCostNodeSelection(){const{gos:e,rowModel:t}=this.beans;if(!Xt(e))return;const n=t.getTopLevelNodes();if(n===null)return;const r=[];function i(s){for(let o=0,a=s.length;o<a;o++){const l=s[o];l.isSelected()?r.push(l):l.group&&l.childrenAfterGroup&&i(l.childrenAfterGroup)}}return i(n),r}isEmpty(){return this.getSelectionCount()===0}deselectAllRowNodes({source:e,selectAll:t}){const n=Xt(this.gos);let r=!1;const i=s=>{const o=this.selectRowNode(vh(s),!1,void 0,e);r||(r=o)};if(t==="currentPage"||t==="filtered"){if(!n){Dt(102);return}this.getNodesToSelect(t).forEach(i)}else this.selectedNodes.forEach(i),this.reset(e);if(this.selectionCtx.selectAll=!1,n&&this.groupSelectsDescendants){const s=this.updateGroupsFromChildrenSelections(e);r||(r=s)}r&&this.dispatchSelectionChanged(e)}getSelectedCounts(e){let t=0,n=0;return this.getNodesToSelect(e).forEach(r=>{this.groupSelectsDescendants&&r.group||(r.isSelected()?t++:r.selectable&&n++)}),{selectedCount:t,notSelectedCount:n}}getSelectAllState(e){const{selectedCount:t,notSelectedCount:n}=this.getSelectedCounts(e);return eU(t,n)??null}hasNodesToSelect(e){return this.getNodesToSelect(e).filter(t=>t.selectable).length>0}getNodesToSelect(e){if(!this.canSelectAll())return[];const t=[],n=i=>t.push(i);if(e==="currentPage")return this.forEachNodeOnPage(i=>{if(!i.group){n(i);return}if(!i.expanded&&!i.footer){const s=o=>{n(o),o.childrenAfterFilter?.forEach(s)};s(i);return}this.groupSelectsDescendants||n(i)}),t;const r=this.beans.rowModel;return e==="filtered"?(r.forEachNodeAfterFilter(n),t):(r.forEachNode(n),t)}forEachNodeOnPage(e){const{pageBounds:t,rowModel:n}=this.beans,r=t.getFirstRow(),i=t.getLastRow();for(let s=r;s<=i;s++){const o=n.getRow(s);o&&e(o)}}selectAllRowNodes(e){const{gos:t,selectionCtx:n}=this;if(!gc(t)){ve(132);return}if(Nae(t)&&!sm(t)){ve(130);return}if(!this.canSelectAll())return;const{source:r,selectAll:i}=e;let s=!1;if(this.getNodesToSelect(i).forEach(o=>{const a=this.selectRowNode(vh(o),!0,void 0,r);s||(s=a)}),n.selectAll=!0,Xt(t)&&this.groupSelectsDescendants){const o=this.updateGroupsFromChildrenSelections(r);s||(s=o)}s&&this.dispatchSelectionChanged(r)}getSelectionState(){return this.isEmpty()?null:Array.from(this.selectedNodes.keys())}setSelectionState(e,t,n){if(e||(e=[]),!Array.isArray(e)){Dt(103);return}const r=new Set(e),i=[];this.beans.rowModel.forEachNode(s=>{r.has(s.id)&&i.push(s)}),n&&this.resetNodes(),this.setNodesSelected({newValue:!0,nodes:i,source:t})}canSelectAll(){return Xt(this.beans.gos)}updateSelectable(e){const{gos:t,rowModel:n}=this.beans;if(!gc(t))return;const r="selectableChanged",i=e!==void 0,s=Xt(t)&&this.groupSelectsDescendants,o=[],a=l=>{if(i&&!l.group)return;if(s&&l.group){const d=l.childrenAfterGroup?.some(f=>f.selectable)??!1;this.setRowSelectable(l,d,!0);return}!this.updateRowSelectable(l,!0)&&l.isSelected()&&o.push(l)};if(s){if(e===void 0){const l=n.rootNode;e=l?new cm(!1,l):void 0}e?.forEachChangedNodeDepthFirst(a,!i,!i)}else n.forEachNode(a);o.length&&this.setNodesSelected({nodes:o,newValue:!1,source:r}),!i&&s&&this.updateGroupsFromChildrenSelections?.(r)}updateSelectableAfterGrouping(e){this.updateSelectable(e),this.groupSelectsDescendants&&this.updateGroupsFromChildrenSelections?.("rowGroupChanged",e)&&this.dispatchSelectionChanged("rowGroupChanged")}refreshMasterNodeState(e,t){if(!this.masterSelectsDetail)return;const n=e.detailNode?.detailGridInfo?.api;if(!n)return;const r=zwe(n);if(e.isSelected()!==r&&this.selectRowNode(e,r,t,"masterDetail")&&this.dispatchSelectionChanged("masterDetail"),!r){const s=this.detailSelection.get(e.id)??new Set;for(const o of n.getSelectedNodes())s.add(o.id);this.detailSelection.set(e.id,s)}}setDetailSelectionState(e,t,n){if(this.masterSelectsDetail){if(!sm(t)){ve(269);return}switch(e.isSelected()){case!0:{n.selectAll();break}case!1:{n.deselectAll();break}case void 0:{const r=this.detailSelection.get(e.id);if(r){const i=[];for(const s of r){const o=n.getRowNode(s);o&&i.push(o)}n.setNodesSelected({nodes:i,newValue:!0,source:"masterDetail"})}break}}}}dispatchSelectionChanged(e){this.eventSvc.dispatchEvent({type:"selectionChanged",source:e,selectedNodes:this.getSelectedNodes(),serverSideState:null})}};function vh(e){return ev(e)?e.pinnedSibling:e.footer?e.sibling:e}function zwe(e){let t=0,n=0;return e.forEachNode(r=>{r.isSelected()?t++:r.selectable&&n++}),eU(t,n)}function eU(e,t){if(e===0&&t===0)return!1;if(!(e>0&&t>0))return e>0}function Gwe(e,t){let n=t.parent;for(;n;){if(n===e)return!0;n=n.parent}return!1}function tU(e){const t=e.isSelected()===!1,n=e.childrenAfterFilter?.some(tU)??!1;return t||n}var Vwe={moduleName:"SharedRowSelection",version:Re,beans:[Awe],apiFunctions:{setNodesSelected:Pwe,selectAll:Nwe,deselectAll:Owe,selectAllFiltered:Fwe,deselectAllFiltered:Iwe,selectAllOnCurrentPage:Lwe,deselectAllOnCurrentPage:_we,getSelectedNodes:jwe,getSelectedRows:Bwe}},Wwe={moduleName:"RowSelection",version:Re,rowModels:["clientSide","infinite","viewport"],beans:[Hwe],dependsOn:[Vwe]};function Uwe(e){e.expansionSvc?.expandAll(!0)}function $we(e){e.expansionSvc?.expandAll(!1)}function nU(e){e.rowModel?.onRowHeightChanged()}function rU(e){if(e.rowAutoHeight?.active){ve(3);return}e.rowModel?.resetRowHeights()}function qwe(e,t,n){const r=qve(e);if(r){if(e.rowGroupColsSvc?.columns.length===0){if(t<0){Dt(238);return}r.setRowCount(t,n);return}Dt(28);return}vx(e)?.setRowCount(t,n)}function Kwe(e){return Lo(e.gos)?e.rowModel.getBlockStates():e.rowNodeBlockLoader?.getBlockState()??{}}function Ywe(e){return e.rowModel.isLastRowIndexKnown()}var Qwe={moduleName:"CsrmSsrmSharedApi",version:Re,apiFunctions:{expandAll:Uwe,collapseAll:$we}},Xwe={moduleName:"RowModelSharedApi",version:Re,apiFunctions:{onRowHeightChanged:nU,resetRowHeights:rU}},Jwe={moduleName:"SsrmInfiniteSharedApi",version:Re,apiFunctions:{setRowCount:qwe,getCacheBlockState:Kwe,isLastRowIndexKnown:Ywe}},Zwe=class extends le{constructor(){super(...arguments),this.beanName="alignedGridsSvc",this.consuming=!1}getAlignedGridApis(){let e=this.gos.get("alignedGrids")??[];const t=typeof e=="function";return typeof e=="function"&&(e=e()),e.map(r=>{if(!r){Dt(18),t||Dt(20);return}if(this.isGridApi(r))return r;const i=r;return"current"in i?i.current?.api:(i.api||Dt(19),i.api)}).filter(r=>!!r&&!r.isDestroyed())}isGridApi(e){return!!e&&!!e.dispatchEvent}postConstruct(){const e=this.fireColumnEvent.bind(this);this.addManagedEventListeners({columnMoved:e,columnVisible:e,columnPinned:e,columnGroupOpened:e,columnResized:e,bodyScroll:this.fireScrollEvent.bind(this),alignedGridColumn:({event:t})=>this.onColumnEvent(t),alignedGridScroll:({event:t})=>this.onScrollEvent(t)})}fireEvent(e){if(!this.consuming)for(const t of this.getAlignedGridApis())t.isDestroyed()||t.dispatchEvent(e)}onEvent(e){this.consuming=!0,e(),this.consuming=!1}fireColumnEvent(e){this.fireEvent({type:"alignedGridColumn",event:e})}fireScrollEvent(e){e.direction==="horizontal"&&this.fireEvent({type:"alignedGridScroll",event:e})}onScrollEvent(e){this.onEvent(()=>{this.beans.ctrlsSvc.getScrollFeature().setHorizontalScrollPosition(e.left,!0)})}extractDataFromEvent(e,t){const n=[];return e.columns?e.columns.forEach(r=>{n.push(t(r))}):e.column&&n.push(t(e.column)),n}getMasterColumns(e){return this.extractDataFromEvent(e,t=>t)}getColumnIds(e){return this.extractDataFromEvent(e,t=>t.getColId())}onColumnEvent(e){this.onEvent(()=>{switch(e.type){case"columnMoved":case"columnVisible":case"columnPinned":case"columnResized":{this.processColumnEvent(e);break}case"columnGroupOpened":{this.processGroupOpenedEvent(e);break}case"columnPivotChanged":ve(21);break}})}processGroupOpenedEvent(e){const{colGroupSvc:t}=this.beans;if(t)for(const n of e.columnGroups){let r=null;n&&(r=t.getProvidedColGroup(n.getGroupId())),!(n&&!r)&&t.setColumnGroupOpened(r,n.isExpanded(),"alignedGridChanged")}}processColumnEvent(e){const t=e.column;let n=null;const r=this.beans,{colResize:i,ctrlsSvc:s,colModel:o}=r;if(t&&(n=o.getColDefCol(t.getColId())),t&&!n)return;const a=this.getMasterColumns(e);switch(e.type){case"columnMoved":{const f=e.api.getColumnState().map(p=>({colId:p.colId}));qs(r,{state:f,applyOrder:!0},"alignedGridChanged")}break;case"columnVisible":{const f=e.api.getColumnState().map(p=>({colId:p.colId,hide:p.hide}));qs(r,{state:f},"alignedGridChanged")}break;case"columnPinned":{const f=e.api.getColumnState().map(p=>({colId:p.colId,pinned:p.pinned}));qs(r,{state:f},"alignedGridChanged")}break;case"columnResized":{const d=e,f={};for(const p of a)f[p.getId()]={key:p.getColId(),newWidth:p.getActualWidth()};for(const p of d.flexColumns??[])f[p.getId()]&&delete f[p.getId()];i?.setColumnWidths(Object.values(f),!1,d.finished,"alignedGridChanged");break}}const c=s.getGridBodyCtrl().isVerticalScrollShowing();for(const d of this.getAlignedGridApis())d.setGridOption("alwaysShowVerticalScroll",c)}},ebe={moduleName:"AlignedGrids",version:Re,beans:[Zwe],dependsOn:[eW]},tbe=class extends le{constructor(e){super(),this.rootNode=e,this.nextId=0,this.allNodesMap={},L_(e)}getRowNode(e){return this.allNodesMap[e]}setNewRowData(e){const{selectionSvc:t,pinnedRowModel:n,groupStage:r}=this.beans;t?.reset("rowDataChanged"),n?.isManual()&&n.reset(),this.dispatchRowDataUpdateStarted(e),this.allNodesMap=Object.create(null),this.nextId=0;const i=L_(this.rootNode),s=new Array(e.length);i._leafs=s;let o=0;const a=r?.getNestedDataGetter(),l=a?new Set:null,c=(d,f)=>{const p=d.level+1;for(let v=0,y=f.length;v<y;++v){const b=f[v];if(!b)continue;const x=this.createRowNode(b,p);if(x.sourceRowIndex=o,s[o++]=x,l&&!l.has(b)){l.add(b),x.treeParent=d;const S=a(b);S&&c(x,S)}}};c(i,e),s.length=o}setImmutableRowData(e,t){const{rootNode:n,gos:r}=this;this.dispatchRowDataUpdateStarted(t);const i=rf(r),s=e.changedRowNodes,{adds:o,updates:a}=s,l=new Set,c=[],d=this.beans.groupStage?.getNestedDataGetter();let f=r.get("suppressMaintainUnsortedOrder")?void 0:!1,p=-1,v=!1;const y=(S,M)=>{if(!f&&f!==void 0){const R=S.sourceRowIndex;f=R<=p,p=R}S.data!==M&&(S.updateData(M),o.has(S)||a.add(S),!S.selectable&&S.isSelected()&&c.push(S))},b=(S,M,R)=>{for(let T=0,k=M.length;T<k;++T){const P=M[T];if(!P)continue;let A=this.getRowNode(i({data:P,level:R}));if(A?(y(A,P),v||(v=!!d&&A.treeParent!==S)):(A=this.createRowNode(P,R),o.add(A)),!d||l.has(A)){l.add(A);continue}l.add(A),A.treeParent=S;const O=d(P);O&&b(A,O,R+1)}};b(n,t,0);const x=this.deleteUnusedNodes(l,s,c)||f||o.size>0;if(x){const S=n._leafs??(n._leafs=[]);f===void 0?obe(S,l,s):sbe(S,l)&&(s.reordered=!0)}(x||v||a.size)&&(e.rowDataUpdated=!0,this.deselect(c))}deleteUnusedNodes(e,{removals:t},n){const r=this.rootNode._leafs;for(let i=0,s=r.length;i<s;i++){const o=r[i];e.has(o)||(t.add(o),o.isSelected()&&n.push(o),this.deleteNode(o))}return t.size>0}updateRowData(e,t){if(this.dispatchRowDataUpdateStarted(e.add),this.beans.groupStage?.getNestedDataGetter())return ve(268),{remove:[],update:[],add:[]};const n=[],r=rf(this.gos),i=this.executeRemove(r,e,t,n),s=this.executeUpdate(r,e,t,n),o=this.executeAdd(e,t);return this.deselect(n),{remove:i,update:s,add:o}}executeRemove(e,{remove:t},{adds:n,updates:r,removals:i},s){const o=this.rootNode._leafs,a=o?.length,l=t?.length;if(!l||!a)return[];let c=0,d=a,f=0,p;const v=new Array(l);for(let y=0;y<l;++y){const b=this.lookupNode(e,t[y]);if(!b)continue;const x=b.sourceRowIndex;x<d&&(d=x),x>f&&(f=x),b.isSelected()&&s.push(b),this.deleteNode(b),n.delete(b)?(p??(p=new Set),p.add(b)):(r.delete(b),i.add(b)),v[c++]=b}return v.length=c,c&&ibe(o,d,f,i,p),v}executeUpdate(e,{update:t},{adds:n,updates:r},i){const s=t?.length;if(!s)return[];const o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=t[l],d=this.lookupNode(e,c);d&&(d.updateData(c),!d.selectable&&d.isSelected()&&i.push(d),o[a++]=d,n.has(d)||r.add(d))}return o.length=a,o}executeAdd(e,t){var n;const r=(n=this.rootNode)._leafs??(n._leafs=[]),i=r.length,s=e.add,o=s?.length;if(!o)return[];const a=i+o;let l=this.sanitizeAddIndex(r,e.addIndex);if(l<i){for(let f=i-1,p=a-1;f>=l;--f){const v=r[f];v.sourceRowIndex=p,r[p--]=v}t.reordered=!0}r.length=a;const c=new Array(o),d=t.adds;for(let f=0;f<o;f++){const p=this.createRowNode(s[f],0);d.add(p),p.sourceRowIndex=l,r[l]=p,c[f]=p,l++}return c}dispatchRowDataUpdateStarted(e){this.eventSvc.dispatchEvent({type:"rowDataUpdateStarted",firstRowData:e?.length?e[0]:null})}deselect(e){const t="rowDataChanged",n=this.beans.selectionSvc;e.length&&n?.setNodesSelected({newValue:!1,nodes:e,suppressFinishActions:!0,source:t}),n?.updateGroupsFromChildrenSelections?.(t),e.length&&this.eventSvc.dispatchEvent({type:"selectionChanged",source:t,selectedNodes:n?.getSelectedNodes()??null,serverSideState:null})}createRowNode(e,t){const n=new Xa(this.beans);n.parent=this.rootNode,n.level=t,n.group=!1,n.expanded=!1,n.setDataAndId(e,String(this.nextId++));const r=n.id,i=this.allNodesMap;return i[r]&&ve(2,{nodeId:r}),i[r]=n,n}deleteNode(e){e.clearRowTopAndRowIndex();const t=e.id,n=this.allNodesMap;n[t]===e&&delete n[t];const r=e.pinnedSibling;r&&this.beans.pinnedRowModel?.pinRow(r,null)}lookupNode(e,t){if(!e)return rbe(this.rootNode._leafs,t);const n=e({data:t,level:0}),r=this.allNodesMap[n];return r||(Dt(4,{id:n}),null)}sanitizeAddIndex(e,t){const n=e.length;if(typeof t!="number"||t<0||t>=n||Number.isNaN(t))return n;t=Math.ceil(t);const r=this.gos;return t>0&&r.get("treeData")&&r.get("getDataPath")&&(t=nbe(e,t)),t}},nbe=(e,t)=>{for(let n=0,r=e.length;n<r;n++)if(e[n]?.rowIndex==t-1)return n+1;return t},L_=e=>{e.group=!0,e.level=-1,e.id="ROOT_NODE_ID",e._leafs?.length!==0&&(e._leafs=[]);const t=[],n=[],r=[],i=[];e.childrenAfterGroup=t,e.childrenAfterSort=n,e.childrenAfterAggFilter=r,e.childrenAfterFilter=i;const s=e.sibling;return s&&(s.childrenAfterGroup=t,s.childrenAfterSort=n,s.childrenAfterAggFilter=r,s.childrenAfterFilter=i,s.childrenMapped=e.childrenMapped),e.updateHasChildren(),e},rbe=(e,t)=>{if(e)for(let n=0,r=e.length;n<r;n++){const i=e[n];if(i.data===t)return i}return Dt(5,{data:t}),null},ibe=(e,t,n,r,i)=>{t=Math.max(0,t);for(let s=t,o=e.length;s<o;++s){const a=e[s];s<=n&&(r.has(a)||i?.has(a))||(a.sourceRowIndex=t,e[t++]=a)}e.length=t},sbe=(e,t)=>{const n=t.size;e.length=n;let r=0,i=!1,s=!1;for(const o of t){const a=o.sourceRowIndex;a===r?s||(s=i):(a>=0?s=!0:i=!0,o.sourceRowIndex=r,e[r]=o),++r}return s},obe=(e,t,{removals:n,adds:r})=>{const i=e.length;e.length=t.size;let s=0;for(let o=0;o<i;++o){const a=e[o];n.has(a)||(s!==o&&(a.sourceRowIndex=s,e[s]=a),++s)}for(const o of r)o.sourceRowIndex<0&&(o.sourceRowIndex=s,e[s++]=o);e.length=s},iU=e=>{const t=e.childrenAfterSort,n=e.sibling;if(n&&(n.childrenAfterSort=t),!!t)for(let r=0,i=t.length-1;r<=i;r++){const s=t[r],o=r===0,a=r===i;s.firstChild!==o&&(s.firstChild=o,s.dispatchRowEvent("firstChildChanged")),s.lastChild!==a&&(s.lastChild=a,s.dispatchRowEvent("lastChildChanged")),s.childIndex!==r&&(s.childIndex=r,s.dispatchRowEvent("childIndexChanged"))}},abe=class extends le{constructor(){super(...arguments),this.beanName="sortStage",this.step="sort",this.refreshProps=["postSortRows","groupDisplayType","accentedSort"]}execute(e){const t=this.beans.sortSvc.getSortOptions(),n=t.length>0&&!!e.changedRowNodes&&this.gos.get("deltaSort");this.sort(t,n,e.changedRowNodes,e.changedPath)}sort(e,t,n,r){const{gos:i,colModel:s,rowGroupColsSvc:o,rowNodeSorter:a,rowRenderer:l,showRowGroupCols:c}=this.beans,d=i.get("groupMaintainOrder"),f=s.getCols().some(M=>M.isRowGroupActive()),p=o?.columns,v=s.isPivotMode(),y=i.getCallback("postSortRows");let b=!1,x;const S=M=>{const R=v&&M.leafGroup;let T=d&&f&&!M.leafGroup;T&&(x??(x=this.shouldSortContainsGroupCols(e)),T&&(T=!x));let k=null;if(T){let P=!1;if(p){const A=M.level+1;A<p.length&&(P=p[A].getSort()===null)}P||(k=ube(M))}else!e.length||R||(t&&n?k=lbe(a,M,n,r,e):k=a.doFullSort(M.childrenAfterAggFilter,e));if(k||(k=M.childrenAfterAggFilter?.slice(0)??[]),b||(b=M.childrenAfterSort?.[0]!==k[0]),M.childrenAfterSort=k,iU(M),y){const P={nodes:M.childrenAfterSort};y(P)}};if(r?.forEachChangedNodeDepthFirst(S),b&&i.get("groupHideOpenParents")){const M=c?.getShowRowGroupCols();M?.length&&l.refreshCells({columns:M,force:!0})}}shouldSortContainsGroupCols(e){const t=e.length;if(!t)return!1;if(So(this.gos)){for(let n=0;n<t;++n){const r=e[n].column;if(r.isPrimary()&&r.isRowGroupActive())return!0}return!1}for(let n=0;n<t;++n)if(e[n].column.getColDef().showRowGroup)return!0;return!1}},lbe=(e,t,n,r,i)=>{const s=t.childrenAfterAggFilter,o=t.childrenAfterSort;if(!o)return e.doFullSort(s,i);const a=new Set,l=[],{updates:c,adds:d}=n;for(let p=0,v=s.length;p<v;++p){const y=s[p];c.has(y)||d.has(y)||r&&!r.canSkip(y)?l.push({currentPos:l.length,rowNode:y}):a.add(y)}const f=o.filter(p=>a.has(p)).map((p,v)=>({currentPos:v,rowNode:p}));return l.sort((p,v)=>e.compareRowNodes(i,p,v)),cbe(e,i,l,f)},cbe=(e,t,n,r)=>{let i=0,s=0;const o=n.length,a=r.length,l=new Array(o+a);let c=0;for(;i<o&&s<a;){const d=n[i],f=r[s];e.compareRowNodes(t,d,f)<0?(l[c++]=d.rowNode,++i):(l[c++]=f.rowNode,++s)}for(;i<o;)l[c++]=n[i++].rowNode;for(;s<a;)l[c++]=r[s++].rowNode;return l},ube=e=>{const t=e.childrenAfterSort,n=e.childrenAfterAggFilter,r=t?.length,i=n?.length;if(!r||!i)return null;const s=new Array(i),o=new Set;for(let l=0;l<i;++l)o.add(n[l]);let a=0;for(let l=0;l<r;++l){const c=t[l];o.delete(c)&&(s[a++]=c)}if(o.size===0&&a===r)return t;for(const l of o)s[a++]=l;return s.length=a,s},dbe=class extends le{constructor(){super(...arguments),this.beanName="rowModel",this.rootNode=null,this.rowCountReady=!1,this.nodeManager=void 0,this.rowsToDisplay=[],this.rowDataUpdatedPending=!1,this.asyncTransactions=null,this.asyncTransactionsTimer=0,this.started=!1,this.refreshingModel=!1,this.rowNodesCountReady=!1,this.stages=[],this.stagesRefreshProps=new Map,this.onRowHeightChanged_debounced=br(this,this.onRowHeightChanged.bind(this),100)}postConstruct(){const e=this.beans,t=new Xa(e);this.rootNode=t,this.nodeManager=this.createBean(new tbe(t));const n=this.refreshModel.bind(this,{step:"group"}),r=this.refreshModel.bind(this,{step:"group",afterColumnsChanged:!0,keepRenderedRows:!0,animate:!this.gos.get("suppressAnimationFrame")});this.addManagedEventListeners({newColumnsLoaded:r,columnRowGroupChanged:n,columnValueChanged:this.onValueChanged.bind(this),columnPivotChanged:this.refreshModel.bind(this,{step:"pivot"}),filterChanged:this.onFilterChanged.bind(this),sortChanged:this.onSortChanged.bind(this),columnPivotModeChanged:n,gridStylesChanged:this.onGridStylesChanges.bind(this),gridReady:this.onGridReady.bind(this),rowExpansionStateChanged:this.onRowGroupOpened.bind(this)}),this.addPropertyListeners()}addPropertyListeners(){const{beans:e,stagesRefreshProps:t}=this,n=[e.groupStage,e.filterStage,e.pivotStage,e.aggStage,e.sortStage,e.filterAggStage,e.flattenStage].filter(r=>!!r);this.stages=n;for(let r=n.length-1;r>=0;--r)for(const i of n[r].refreshProps)t.set(i,r);this.addManagedPropertyListeners([...t.keys()],r=>{const i=r.changeSet?.properties;i&&this.onPropChange(i)}),this.addManagedPropertyListener("rowData",()=>this.onPropChange(["rowData"])),this.addManagedPropertyListener("rowHeight",()=>this.resetRowHeights())}start(){this.started=!0,this.rowNodesCountReady?this.refreshModel({step:"group",rowDataUpdated:!0,newData:!0}):this.setInitialData()}setInitialData(){this.gos.get("rowData")&&this.onPropChange(["rowData"])}ensureRowHeightsValid(e,t,n,r){let i,s=!1;do{i=!1;const o=this.getRowIndexAtPixel(e),a=this.getRowIndexAtPixel(t),l=Math.max(o,n),c=Math.min(a,r);for(let d=l;d<=c;d++){const f=this.getRow(d);if(f.rowHeightEstimated){const p=Ya(this.beans,f);f.setRowHeight(p.height),i=!0,s=!0}}i&&this.setRowTopAndRowIndex()}while(i);return s}onPropChange(e){const{nodeManager:t,gos:n,beans:r}=this,i=r.groupStage;if(!t)return;const s=new Set(e),o=i?.onPropChange(s);let a;s.has("rowData")?a=n.get("rowData"):o&&(a=i?.extractData()),a&&!Array.isArray(a)&&(a=null,ve(1));const l={step:"nothing",changedProps:s};a&&(!o&&!this.isEmpty()&&a.length>0&&n.exists("getRowId")&&!n.get("resetRowDataOnUpdate")?(l.keepRenderedRows=!0,l.animate=!n.get("suppressAnimationFrame"),l.changedRowNodes=new iw,t.setImmutableRowData(l,a)):(l.rowDataUpdated=!0,l.newData=!0,t.setNewRowData(a),this.rowNodesCountReady=!0));const c=l.rowDataUpdated?"group":this.getRefreshedStage(e);c&&(l.step=c,this.refreshModel(l))}getRefreshedStage(e){const{stages:t,stagesRefreshProps:n}=this,r=t.length;let i=r;for(let s=0,o=e.length;s<o&&i;++s)i=Math.min(i,n.get(e[s])??i);return i<r?t[i].step:null}setRowTopAndRowIndex(e){const{beans:t,rowsToDisplay:n}=this,r=t.environment.getDefaultRowHeight();let i=0;const s=Sr(this.gos,"normal");for(let o=0,a=n.length;o<a;++o){const l=n[o],c=l.id;if(c!=null&&e?.add(c),l.rowHeight==null){const d=Ya(t,l,s,r);l.setRowHeight(d.height,d.estimated)}l.setRowTop(i),l.setRowIndex(o),i+=l.rowHeight}}clearRowTopAndRowIndex(e,t){const n=e.active,r=o=>{o?.id!=null&&!t.has(o.id)&&o.clearRowTopAndRowIndex()},i=o=>{r(o),r(o.detailNode),r(o.sibling);const a=o.childrenAfterGroup;if(!o.hasChildren()||!a)return;const l=o.level==-1;if(!(n&&!l&&!o.expanded))for(let d=0,f=a.length;d<f;++d)i(a[d])},s=this.rootNode;s&&i(s)}isLastRowIndexKnown(){return!0}getRowCount(){return this.rowsToDisplay.length}getTopLevelRowCount(){const{rootNode:e,rowsToDisplay:t}=this;if(!e||!t.length)return 0;if(t[0]===e)return 1;const r=e.sibling?.displayed?1:0;return(e.childrenAfterSort?.length??0)+r}getTopLevelRowDisplayedIndex(e){const{beans:t,rootNode:n,rowsToDisplay:r}=this;if(!n||!r.length||r[0]===n)return e;const s=n.childrenAfterSort,o=l=>{let c=s[l];if(this.gos.get("groupHideOpenParents"))for(;c.expanded&&c.childrenAfterSort&&c.childrenAfterSort.length>0;)c=c.childrenAfterSort[0];return c.rowIndex},a=t.footerSvc;return a?a?.getTopDisplayIndex(r,e,s,o):o(e)}getTopLevelIndexFromDisplayedIndex(e){const{rootNode:t,rowsToDisplay:n}=this;if(!t||!n.length||n[0]===t)return e;let i=this.getRow(e);i.footer&&(i=i.sibling);let s=i.parent;for(;s&&s!==t;)i=s,s=i.parent;const o=t.childrenAfterSort?.indexOf(i)??-1;return o>=0?o:e}getRowBounds(e){const t=this.rowsToDisplay[e];return t?{rowTop:t.rowTop,rowHeight:t.rowHeight}:null}onRowGroupOpened(){this.refreshModel({step:"map",keepRenderedRows:!0,animate:zh(this.gos)})}onFilterChanged({afterDataChange:e,columns:t}){if(!e){const r=t.length===0||t.some(i=>i.isPrimary())?"filter":"filter_aggregates";this.refreshModel({step:r,keepRenderedRows:!0,animate:zh(this.gos)})}}onSortChanged(){this.refreshModel({step:"sort",keepRenderedRows:!0,animate:zh(this.gos)})}getType(){return"clientSide"}onValueChanged(){this.refreshModel({step:this.beans.colModel.isPivotActive()?"pivot":"aggregate"})}createChangePath(e){const t=new cm(!1,this.rootNode);return t.active=e,t}isSuppressModelUpdateAfterUpdateTransaction(e){if(!this.gos.get("suppressModelUpdateAfterUpdateTransaction"))return!1;const{changedRowNodes:t,newData:n,rowDataUpdated:r}=e;return!(!t||n||!r||t.removals.size||t.adds.size)}refreshModel(e){const{nodeManager:t,beans:n,eventSvc:r,started:i,refreshingModel:s}=this;if(!t)return;const o=!!e.rowDataUpdated,a=e.changedPath??(e.changedPath=this.createChangePath(!e.newData&&o));if(i&&o&&r.dispatchEvent({type:"rowDataUpdated"}),!i||s||n.colModel.changeEventsDispatching||this.isSuppressModelUpdateAfterUpdateTransaction(e)){this.rowDataUpdatedPending||(this.rowDataUpdatedPending=o);return}switch(this.rowDataUpdatedPending&&(this.rowDataUpdatedPending=!1,e.step="group"),this.refreshingModel=!0,n.masterDetailSvc?.refreshModel(e),o&&e.step!=="group"&&n.colFilter?.refreshModel(),e.step){case"group":this.doGrouping(e);case"filter":this.doFilter(a);case"pivot":this.doPivot(a);case"aggregate":this.doAggregate(a);case"filter_aggregates":this.doFilterAggregates(a);case"sort":this.doSort(e.changedRowNodes,a);case"map":this.doRowsToDisplay()}const l=new Set;this.setRowTopAndRowIndex(l),this.clearRowTopAndRowIndex(a,l),this.refreshingModel=!1,r.dispatchEvent({type:"modelUpdated",animate:e.animate,keepRenderedRows:e.keepRenderedRows,newData:e.newData,newPage:!1,keepUndoRedoStack:e.keepUndoRedoStack})}isEmpty(){return!this.rootNode?._leafs?.length||!this.beans.colModel?.ready}isRowsToRender(){return this.rowsToDisplay.length>0}getNodesInRangeForSelection(e,t){let n=!1,r=!1;const i=[],s=om(this.gos);return this.forEachNodeAfterFilterAndSort(o=>{if(r)return;if(n&&(o===t||o===e)&&(r=!0,s&&o.group)){sU(i,o);return}if(!n){if(o!==t&&o!==e)return;n=!0,t===e&&(r=!0)}(!o.group||!s)&&i.push(o)}),i}getTopLevelNodes(){return this.rootNode?.childrenAfterGroup??null}getRow(e){return this.rowsToDisplay[e]}isRowPresent(e){return this.rowsToDisplay.indexOf(e)>=0}getRowIndexAtPixel(e){const t=this.rowsToDisplay,n=t.length;if(this.isEmpty()||n===0)return-1;let r=0,i=n-1;if(e<=0)return 0;if(t[i].rowTop<=e)return i;let o=-1,a=-1;for(;;){const l=Math.floor((r+i)/2),c=t[l];if(this.isRowInPixel(c,e)||(c.rowTop<e?r=l+1:c.rowTop>e&&(i=l-1),o===r&&a===i))return l;o=r,a=i}}isRowInPixel(e,t){const n=e.rowTop,r=n+e.rowHeight;return n<=t&&r>t}forEachLeafNode(e){const t=this.rootNode?._leafs;if(t)for(let n=0,r=t.length;n<r;++n)e(t[n],n)}forEachNode(e,t=!1){this.depthFirstSearchRowNodes(e,t)}forEachDisplayedNode(e){const t=this.rowsToDisplay;for(let n=0,r=t.length;n<r;++n)e(t[n],n)}forEachNodeAfterFilter(e,t=!1){this.depthFirstSearchRowNodes(e,t,n=>n.childrenAfterAggFilter)}forEachNodeAfterFilterAndSort(e,t=!1){this.depthFirstSearchRowNodes(e,t,n=>n.childrenAfterSort)}forEachPivotNode(e,t,n){const{colModel:r,rowGroupColsSvc:i}=this.beans;if(!r.isPivotMode())return;if(!i?.columns.length){e(this.rootNode,0);return}const s=n?"childrenAfterSort":"childrenAfterGroup";this.depthFirstSearchRowNodes(e,t,o=>o.leafGroup?null:o[s])}depthFirstSearchRowNodes(e,t=!1,n=s=>s.childrenAfterGroup,r=this.rootNode,i=0){let s=i;if(!r)return s;const o=r===this.rootNode;if(o||e(r,s++),r.hasChildren()&&!r.footer){const a=n(r);if(a){const l=this.beans.footerSvc;s=l?.addTotalRows(s,r,e,t,o,"top")??s;for(const c of a)s=this.depthFirstSearchRowNodes(e,t,n,c,s);return l?.addTotalRows(s,r,e,t,o,"bottom")??s}}return s}doAggregate(e){const t=this.rootNode;t&&this.beans.aggStage?.execute({rowNode:t,changedPath:e})}doFilterAggregates(e){const t=this.rootNode,n=this.beans.filterAggStage;if(n){n.execute({rowNode:t,changedPath:e});return}t.childrenAfterAggFilter=t.childrenAfterFilter}doSort(e,t){const n=this.beans.sortStage;if(n){n.execute({rowNode:this.rootNode,changedRowNodes:e,changedPath:t});return}t.forEachChangedNodeDepthFirst(r=>{r.childrenAfterSort=r.childrenAfterAggFilter.slice(0),iU(r)})}doGrouping(e){const t=this.rootNode,r=this.beans.groupStage?.execute({rowNode:t,changedRowNodes:e.changedRowNodes,changedPath:e.changedPath,afterColumnsChanged:!!e.afterColumnsChanged});if(r===void 0){const i=t._leafs;t.childrenAfterGroup=i,t.updateHasChildren();const s=t.sibling;s&&(s.childrenAfterGroup=i)}(r||e.rowDataUpdated)&&this.beans.colFilter?.refreshModel(),!this.rowCountReady&&this.rowNodesCountReady&&(this.rowCountReady=!0,this.eventSvc.dispatchEventOnce({type:"rowCountReady"}))}doFilter(e){const t=this.beans.filterStage;if(t){t.execute({rowNode:this.rootNode,changedPath:e});return}e.forEachChangedNodeDepthFirst(n=>{n.childrenAfterFilter=n.childrenAfterGroup,AW(n)},!0)}doPivot(e){this.beans.pivotStage?.execute({rowNode:this.rootNode,changedPath:e})}getRowNode(e){const t=this.nodeManager?.getRowNode(e);return typeof t=="object"?t:typeof e=="string"&&e.indexOf(z2)===0?this.beans.groupStage?.getNode(e):void 0}batchUpdateRowData(e,t){if(!this.asyncTransactionsTimer){this.asyncTransactions=[];const n=this.gos.get("asyncTransactionWaitMillis");this.asyncTransactionsTimer=setTimeout(()=>this.executeBatchUpdateRowData(),n)}this.asyncTransactions.push({rowDataTransaction:e,callback:t})}flushAsyncTransactions(){const e=this.asyncTransactionsTimer;e&&(clearTimeout(e),this.executeBatchUpdateRowData())}executeBatchUpdateRowData(){const{nodeManager:e,beans:t,eventSvc:n,asyncTransactions:r}=this;if(!e)return;t.valueCache?.onDataChanged();const i=[],s=[],o=new iw;for(const{rowDataTransaction:a,callback:l}of r??[]){this.rowNodesCountReady=!0;const c=e.updateRowData(a,o);i.push(c),l&&s.push(l.bind(null,c))}this.commitTransactions(o),s.length>0&&setTimeout(()=>{for(let a=0,l=s.length;a<l;a++)s[a]()},0),i.length>0&&n.dispatchEvent({type:"asyncTransactionsFlushed",results:i}),this.asyncTransactionsTimer=0,this.asyncTransactions=null}updateRowData(e){const t=this.nodeManager;if(!t)return null;this.beans.valueCache?.onDataChanged(),this.rowNodesCountReady=!0;const n=new iw,r=t.updateRowData(e,n);return this.commitTransactions(n),r}commitTransactions(e){this.refreshModel({step:"group",rowDataUpdated:!0,keepRenderedRows:!0,animate:!this.gos.get("suppressAnimationFrame"),changedRowNodes:e,changedPath:this.createChangePath(!0)})}doRowsToDisplay(){const{beans:e,rootNode:t}=this,n=e.flattenStage;if(n){this.rowsToDisplay=n.execute({rowNode:t});return}const r=this.rootNode.childrenAfterSort??[];for(const i of r)i.setUiLevel(0);this.rowsToDisplay=r}onRowHeightChanged(){this.refreshModel({step:"map",keepRenderedRows:!0,keepUndoRedoStack:!0})}resetRowHeights(){const e=this.rootNode;if(!e)return;const t=this.resetRowHeightsForAllRowNodes();e.setRowHeight(e.rowHeight,!0);const n=e.sibling;n?.setRowHeight(n.rowHeight,!0),t&&this.onRowHeightChanged()}resetRowHeightsForAllRowNodes(){let e=!1;return this.forEachNode(t=>{t.setRowHeight(t.rowHeight,!0);const n=t.detailNode;n?.setRowHeight(n.rowHeight,!0);const r=t.sibling;r?.setRowHeight(r.rowHeight,!0),e=!0}),e}onGridStylesChanges(e){e.rowHeightChanged&&!this.beans.rowAutoHeight?.active&&this.resetRowHeights()}onGridReady(){this.started||this.setInitialData()}destroy(){super.destroy(),this.nodeManager=this.destroyBean(this.nodeManager),this.started=!1,this.rootNode=null,this.rowsToDisplay=[],this.asyncTransactions=null,clearTimeout(this.asyncTransactionsTimer)}onRowHeightChangedDebounced(){this.onRowHeightChanged_debounced()}},sU=(e,t)=>{const n=t.childrenAfterGroup;if(n)for(let r=0,i=n.length;r<i;++r){const s=n[r];s.data&&e.push(s),s.group&&sU(e,s)}};function hbe(e){e.expansionSvc?.onGroupExpandedOrCollapsed()}function fbe(e,t){const n=hl(e);n&&((!t||t==="everything")&&(t="group"),n.refreshModel({step:t,keepRenderedRows:!0,animate:!e.gos.get("suppressAnimationFrame")}))}function pbe(e){return hl(e)?.isEmpty()??!0}function gbe(e,t){hl(e)?.forEachLeafNode(t)}function mbe(e,t){hl(e)?.forEachNodeAfterFilter(t)}function vbe(e,t){hl(e)?.forEachNodeAfterFilterAndSort(t)}function ybe(e,t){return e.frameworkOverrides.wrapIncoming(()=>hl(e)?.updateRowData(t))}function wbe(e,t,n){e.frameworkOverrides.wrapIncoming(()=>hl(e)?.batchUpdateRowData(t,n))}function bbe(e){e.frameworkOverrides.wrapIncoming(()=>hl(e)?.flushAsyncTransactions())}function Cbe(e){return e.selectionSvc?.getBestCostNodeSelection()}var xbe={moduleName:"ClientSideRowModel",version:Re,rowModels:["clientSide"],beans:[dbe,abe],dependsOn:[DW]},Sbe={moduleName:"ClientSideRowModelApi",version:Re,apiFunctions:{onGroupExpandedOrCollapsed:hbe,refreshClientSideRowModel:fbe,isRowDataEmpty:pbe,forEachLeafNode:gbe,forEachNodeAfterFilter:mbe,forEachNodeAfterFilterAndSort:vbe,applyTransaction:ybe,applyTransactionAsync:wbe,flushAsyncTransactions:bbe,getBestCostNodeSelection:Cbe,resetRowHeights:rU,onRowHeightChanged:nU},dependsOn:[Qwe,Xwe]},Ebe=class extends le{constructor(){super(...arguments),this.beanName="gridSerializer"}wireBeans(e){this.visibleCols=e.visibleCols,this.colModel=e.colModel,this.rowModel=e.rowModel,this.pinnedRowModel=e.pinnedRowModel}serialize(e,t={}){const{allColumns:n,columnKeys:r,skipRowGroups:i,exportRowNumbers:s}=t,o=this.getColumnsToExport({allColumns:n,skipRowGroups:i,columnKeys:r,exportRowNumbers:s});return[this.prepareSession(o),this.prependContent(t),this.exportColumnGroups(t,o),this.exportHeaders(t,o),this.processPinnedTopRows(t,o),this.processRows(t,o),this.processPinnedBottomRows(t,o),this.appendContent(t)].reduce((a,l)=>l(a),e).parse()}processRow(e,t,n,r){const i=t.shouldRowBeSkipped||(()=>!1),o=t.rowPositions!=null||!!t.onlySelected,a=this.gos.get("groupHideOpenParents")&&!o,l=this.colModel.isPivotMode()?r.leafGroup:!r.group,c=!!r.footer,d=r.allChildrenCount===1&&r.childrenAfterGroup?.length===1&&Aae(this.gos,r);if(!l&&!c&&(t.skipRowGroups||d||a)||t.onlySelected&&!r.isSelected()||t.skipPinnedTop&&r.rowPinned==="top"||t.skipPinnedBottom&&r.rowPinned==="bottom"||r.stub||r.level===-1&&!l&&!c||i(_e(this.gos,{node:r})))return;const v=e.onNewBodyRow(r);if(n.forEach((y,b)=>{v.onColumn(y,b,r)}),t.getCustomContentBelowRow){const y=t.getCustomContentBelowRow(_e(this.gos,{node:r}));y&&e.addCustomContent(y)}}appendContent(e){return t=>{const n=e.appendContent;return n&&t.addCustomContent(n),t}}prependContent(e){return t=>{const n=e.prependContent;return n&&t.addCustomContent(n),t}}prepareSession(e){return t=>(t.prepare(e),t)}exportColumnGroups(e,t){return n=>{if(!e.skipColumnGroupHeaders){const r=new jV,{colGroupSvc:i}=this.beans,s=i?i.createColumnGroups({columns:t,idCreator:r,pinned:null,isStandaloneStructure:!0}):t;this.recursivelyAddHeaderGroups(s,n,e.processGroupHeaderCallback)}return n}}exportHeaders(e,t){return n=>{if(!e.skipColumnHeaders){const r=n.onNewHeaderRow();t.forEach((i,s)=>{r.onColumn(i,s,void 0)})}return n}}processPinnedTopRows(e,t){return n=>{const r=this.processRow.bind(this,n,e,t);return e.rowPositions?e.rowPositions.filter(i=>i.rowPinned==="top").sort((i,s)=>i.rowIndex-s.rowIndex).map(i=>this.pinnedRowModel?.getPinnedTopRow(i.rowIndex)).forEach(r):this.pinnedRowModel?.isManual()||this.pinnedRowModel?.forEachPinnedRow("top",r),n}}processRows(e,t){return n=>{const r=this.rowModel,i=Xt(this.gos),s=Lo(this.gos),o=!i&&e.onlySelected,a=this.processRow.bind(this,n,e,t),{exportedRows:l="filteredAndSorted"}=e;if(e.rowPositions)e.rowPositions.filter(c=>c.rowPinned==null).sort((c,d)=>c.rowIndex-d.rowIndex).map(c=>r.getRow(c.rowIndex)).forEach(a);else if(this.colModel.isPivotMode())i?r.forEachPivotNode(a,!0,l==="filteredAndSorted"):s?r.forEachNodeAfterFilterAndSort(a,!0):r.forEachNode(a);else if(e.onlySelectedAllPages||o){const c=this.beans.selectionSvc?.getSelectedNodes()??[];this.replicateSortedOrder(c),c.forEach(a)}else l==="all"?r.forEachNode(a):i||s?r.forEachNodeAfterFilterAndSort(a,!0):r.forEachNode(a);return n}}replicateSortedOrder(e){const{sortSvc:t,rowNodeSorter:n}=this.beans;if(!t||!n)return;const r=t.getSortOptions(),i=(s,o)=>s.rowIndex!=null&&o.rowIndex!=null?s.rowIndex-o.rowIndex:s.level===o.level?s.parent?.id===o.parent?.id?n.compareRowNodes(r,{rowNode:s,currentPos:s.rowIndex??-1},{rowNode:o,currentPos:o.rowIndex??-1}):i(s.parent,o.parent):s.level>o.level?i(s.parent,o):i(s,o.parent);e.sort(i)}processPinnedBottomRows(e,t){return n=>{const r=this.processRow.bind(this,n,e,t);return e.rowPositions?e.rowPositions.filter(i=>i.rowPinned==="bottom").sort((i,s)=>i.rowIndex-s.rowIndex).map(i=>this.pinnedRowModel?.getPinnedBottomRow(i.rowIndex)).forEach(r):this.pinnedRowModel?.isManual()||this.pinnedRowModel?.forEachPinnedRow("bottom",r),n}}getColumnsToExport(e){const{allColumns:t=!1,skipRowGroups:n=!1,exportRowNumbers:r=!1,columnKeys:i}=e,{colModel:s,gos:o,visibleCols:a}=this,l=s.isPivotMode(),c=p=>dl(p)?!1:!Ia(p)||r;if(i?.length)return s.getColsForKeys(i).filter(c);const d=o.get("treeData");let f=[];return t&&!l?f=s.getCols():f=a.allCols,f=f.filter(p=>c(p)&&(n&&!d?!mA(p):!0)),f}recursivelyAddHeaderGroups(e,t,n){const r=[];for(const i of e){const s=i;if(s.getChildren)for(const o of s.getChildren()??[])r.push(o)}e.length>0&&Mn(e[0])&&this.doAddHeaderHeader(t,e,n),r&&r.length>0&&this.recursivelyAddHeaderGroups(r,t,n)}doAddHeaderHeader(e,t,n){const r=e.onNewHeaderGroupingRow();let i=0;for(const s of t){const o=s;let a;n?a=n(_e(this.gos,{columnGroup:o})):a=this.beans.colNames.getDisplayNameForColumnGroup(o,"header");const c=(o.isExpandable()?o.getLeafColumns():[]).reduce((d,f,p,v)=>{let y=Ft(d);return f.getColumnGroupShow()==="open"?(!y||y[1]!=null)&&(y=[p],d.push(y)):y&&y[1]==null&&(y[1]=p-1),p===v.length-1&&y&&y[1]==null&&(y[1]=p),d},[]);r.onColumn(o,a||"",i++,o.getLeafColumns().length-1,c)}}},Dbe={moduleName:"SharedExport",version:Re,beans:[Ebe]},__=`\r
`,Rbe=class extends eye{constructor(e){super(e),this.config=e,this.isFirstLine=!0,this.result="";const{suppressQuotes:t,columnSeparator:n}=e;this.suppressQuotes=t,this.columnSeparator=n}addCustomContent(e){e&&(typeof e=="string"?(/^\s*\n/.test(e)||this.beginNewLine(),e=e.replace(/\r?\n/g,__),this.result+=e):e.forEach(t=>{this.beginNewLine(),t.forEach((n,r)=>{r!==0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(n.data.value||""),n.mergeAcross&&this.appendEmptyCells(n.mergeAcross)})}))}onNewHeaderGroupingRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}}onNewHeaderGroupingRowColumn(e,t,n,r){n!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(t),this.appendEmptyCells(r)}appendEmptyCells(e){for(let t=1;t<=e;t++)this.result+=this.columnSeparator+this.putInQuotes("")}onNewHeaderRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}}onNewHeaderRowColumn(e,t){t!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(e))}onNewBodyRow(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}}onNewBodyRowColumn(e,t,n){t!=0&&(this.result+=this.columnSeparator);const r=this.extractRowCellValue(e,t,t,"csv",n);this.result+=this.putInQuotes(r.valueFormatted??r.value)}putInQuotes(e){if(this.suppressQuotes)return e;if(e==null)return'""';let t;return typeof e=="string"?t=e:typeof e.toString=="function"?t=e.toString():(ve(53),t=""),'"'+t.replace(/"/g,'""')+'"'}parse(){return this.result}beginNewLine(){this.isFirstLine||(this.result+=__),this.isFirstLine=!1}},Mbe=class extends Zve{constructor(){super(...arguments),this.beanName="csvCreator"}wireBeans(e){this.colModel=e.colModel,this.colNames=e.colNames,this.rowGroupColsSvc=e.rowGroupColsSvc,this.valueSvc=e.valueSvc}getMergedParams(e){const t=this.gos.get("defaultCsvExportParams");return Object.assign({},t,e)}export(e){if(this.isExportSuppressed()){ve(51);return}const t=this.getMergedParams(e),n=this.getData(t),r=new Blob(["\uFEFF",n],{type:"text/plain"}),i=typeof t.fileName=="function"?t.fileName(_e(this.gos,{})):t.fileName;tye(this.getFileName(i),r)}exportDataAsCsv(e){this.export(e)}getDataAsCsv(e,t=!1){const n=t?Object.assign({},e):this.getMergedParams(e);return this.getData(n)}getDefaultFileExtension(){return"csv"}createSerializingSession(e){const{colModel:t,colNames:n,rowGroupColsSvc:r,valueSvc:i,gos:s}=this,{processCellCallback:o,processHeaderCallback:a,processGroupHeaderCallback:l,processRowGroupCallback:c,suppressQuotes:d,columnSeparator:f}=e;return new Rbe({colModel:t,colNames:n,valueSvc:i,gos:s,processCellCallback:o||void 0,processHeaderCallback:a||void 0,processGroupHeaderCallback:l||void 0,processRowGroupCallback:c||void 0,suppressQuotes:d||!1,columnSeparator:f||",",rowGroupColsSvc:r})}isExportSuppressed(){return this.gos.get("suppressCsvExport")}};function Tbe(e,t){return e.csvCreator?.getDataAsCsv(t)}function kbe(e,t){e.csvCreator?.exportDataAsCsv(t)}var Abe={moduleName:"CsvExport",version:Re,beans:[Mbe],apiFunctions:{getDataAsCsv:Tbe,exportDataAsCsv:kbe},dependsOn:[Dbe]},Pbe=class extends le{constructor(e,t,n){super(),this.id=e,this.parentCache=t,this.params=n,this.state="needsLoading",this.version=0,this.startRow=e*n.blockSize,this.endRow=this.startRow+n.blockSize}load(){this.state="loading",this.loadFromDatasource()}setStateWaitingToLoad(){this.version++,this.state="needsLoading"}pageLoadFailed(e){this.isRequestMostRecentAndLive(e)&&(this.state="failed"),this.dispatchLocalEvent({type:"loadComplete"})}pageLoaded(e,t,n){this.successCommon(e,{rowData:t,rowCount:n})}isRequestMostRecentAndLive(e){const t=e===this.version,n=this.isAlive();return t&&n}successCommon(e,t){this.dispatchLocalEvent({type:"loadComplete"}),this.isRequestMostRecentAndLive(e)&&(this.state="loaded",this.processServerResult(t))}postConstruct(){this.rowNodes=[];const{params:{blockSize:e,rowHeight:t},startRow:n,beans:r,rowNodes:i}=this;for(let s=0;s<e;s++){const o=n+s,a=new Xa(r);a.setRowHeight(t),a.uiLevel=0,a.setRowIndex(o),a.setRowTop(t*o),i.push(a)}}getBlockStateJson(){const{id:e,startRow:t,endRow:n,state:r}=this;return{id:""+e,state:{blockNumber:e,startRow:t,endRow:n,pageStatus:r}}}setDataAndId(e,t,n){De(t)?e.setDataAndId(t,n.toString()):e.setDataAndId(void 0,void 0)}loadFromDatasource(){const e=this.createLoadParams();if(Kt(this.params.datasource.getRows)){ve(90);return}window.setTimeout(()=>{this.params.datasource.getRows(e)},0)}createLoadParams(){const{startRow:e,endRow:t,version:n,params:{sortModel:r,filterModel:i},gos:s}=this;return{startRow:e,endRow:t,successCallback:this.pageLoaded.bind(this,n),failCallback:this.pageLoadFailed.bind(this,n),sortModel:r,filterModel:i,context:_e(s,{}).context}}forEachNode(e,t,n){this.rowNodes.forEach((r,i)=>{this.startRow+i<n&&e(r,t.value++)})}getRow(e,t=!1){t||(this.lastAccessed=this.params.lastAccessedSequence.value++);const n=e-this.startRow;return this.rowNodes[n]}processServerResult(e){const{rowNodes:t,beans:n}=this;t.forEach((i,s)=>{const o=e.rowData?e.rowData[s]:void 0;!i.id&&i.alreadyRendered&&o&&(t[s]=new Xa(n),t[s].setRowIndex(i.rowIndex),t[s].setRowTop(i.rowTop),t[s].setRowHeight(i.rowHeight),i.clearRowTopAndRowIndex()),this.setDataAndId(t[s],o,this.startRow+s)});const r=e.rowCount!=null&&e.rowCount>=0?e.rowCount:void 0;this.parentCache.pageLoaded(this,r)}destroy(){for(const e of this.rowNodes)e.clearRowTopAndRowIndex();super.destroy()}},Nbe=2,Obe=class extends le{constructor(e){super(),this.params=e,this.lastRowIndexKnown=!1,this.blocks={},this.blockCount=0,this.rowCount=e.initialRowCount}getRow(e,t=!1){const n=Math.floor(e/this.params.blockSize);let r=this.blocks[n];if(!r){if(t)return;r=this.createBlock(n)}return r.getRow(e)}createBlock(e){const t=this.params,n=this.createBean(new Pbe(e,this,t));return this.blocks[n.id]=n,this.blockCount++,this.purgeBlocksIfNeeded(n),t.rowNodeBlockLoader.addBlock(n),n}refreshCache(){if(this.blockCount==0){this.purgeCache();return}for(const t of this.getBlocksInOrder())t.setStateWaitingToLoad();this.params.rowNodeBlockLoader.checkBlockToLoad()}destroy(){for(const e of this.getBlocksInOrder())this.destroyBlock(e);super.destroy()}getRowCount(){return this.rowCount}isLastRowIndexKnown(){return this.lastRowIndexKnown}pageLoaded(e,t){this.isAlive()&&(Ec(this.gos,`InfiniteCache - onPageLoaded: page = ${e.id}, lastRow = ${t}`),this.checkRowCount(e,t),this.onCacheUpdated())}purgeBlocksIfNeeded(e){const t=this.getBlocksInOrder().filter(o=>o!=e),n=(o,a)=>a.lastAccessed-o.lastAccessed;t.sort(n);const r=this.params.maxBlocksInCache>0,i=r?this.params.maxBlocksInCache-1:null,s=Nbe-1;t.forEach((o,a)=>{const l=o.state==="needsLoading"&&a>=s,c=r?a>=i:!1;if(l||c){if(this.isBlockCurrentlyDisplayed(o)||this.isBlockFocused(o))return;this.removeBlockFromCache(o)}})}isBlockFocused(e){const t=this.beans.focusSvc.getFocusCellToUseAfterRefresh();if(!t||t.rowPinned!=null)return!1;const{startRow:n,endRow:r}=e;return t.rowIndex>=n&&t.rowIndex<r}isBlockCurrentlyDisplayed(e){const{startRow:t,endRow:n}=e;return this.beans.rowRenderer.isRangeInRenderedViewport(t,n-1)}removeBlockFromCache(e){e&&this.destroyBlock(e)}checkRowCount(e,t){if(typeof t=="number"&&t>=0)this.rowCount=t,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){const{blockSize:n,overflowSize:r}=this.params,s=(e.id+1)*n+r;this.rowCount<s&&(this.rowCount=s)}}setRowCount(e,t){this.rowCount=e,De(t)&&(this.lastRowIndexKnown=t),this.lastRowIndexKnown||this.rowCount%this.params.blockSize===0&&this.rowCount++,this.onCacheUpdated()}forEachNodeDeep(e){const t={value:0};for(const n of this.getBlocksInOrder())n.forEachNode(e,t,this.rowCount)}getBlocksInOrder(){const e=(n,r)=>n.id-r.id;return Object.values(this.blocks).sort(e)}destroyBlock(e){delete this.blocks[e.id],this.destroyBean(e),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(e)}onCacheUpdated(){this.isAlive()&&(this.destroyAllBlocksPastVirtualRowCount(),this.eventSvc.dispatchEvent({type:"storeUpdated"}))}destroyAllBlocksPastVirtualRowCount(){const e=[];for(const t of this.getBlocksInOrder())t.id*this.params.blockSize>=this.rowCount&&e.push(t);if(e.length>0)for(const t of e)this.destroyBlock(t)}purgeCache(){for(const e of this.getBlocksInOrder())this.removeBlockFromCache(e);this.lastRowIndexKnown=!1,this.rowCount===0&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()}getRowNodesInRange(e,t){const n=[];let r=-1,i=!1;const s={value:0};let o=!1;for(const l of this.getBlocksInOrder())if(!o){if(i&&r+1!==l.id){o=!0;continue}r=l.id,l.forEachNode(c=>{const d=c===e||c===t;(i||d)&&n.push(c),d&&(i=!i)},s,this.rowCount)}return o||i?[]:n}},Fbe=class extends le{constructor(){super(...arguments),this.beanName="rowModel",this.rootNode=null}getRowBounds(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}}ensureRowHeightsValid(){return!1}postConstruct(){if(this.gos.get("rowModelType")!=="infinite")return;const e=this.beans,t=new Xa(e);this.rootNode=t,t.level=-1,this.rowHeight=Lu(e),this.addEventListeners(),this.addDestroyFunc(()=>this.destroyCache())}start(){this.setDatasource(this.gos.get("datasource"))}destroy(){this.destroyDatasource(),super.destroy(),this.rootNode=null}destroyDatasource(){this.datasource&&(this.destroyBean(this.datasource),this.beans.rowRenderer.datasourceChanged(),this.datasource=null)}addEventListeners(){this.addManagedEventListeners({filterChanged:this.reset.bind(this),sortChanged:this.reset.bind(this),newColumnsLoaded:this.onColumnEverything.bind(this),storeUpdated:this.dispatchModelUpdatedEvent.bind(this)}),this.addManagedPropertyListener("datasource",()=>this.setDatasource(this.gos.get("datasource"))),this.addManagedPropertyListener("cacheBlockSize",()=>this.resetCache()),this.addManagedPropertyListener("rowHeight",()=>{this.rowHeight=Lu(this.beans),this.cacheParams.rowHeight=this.rowHeight,this.updateRowHeights()})}onColumnEverything(){let e;this.cacheParams?e=!Xg(this.cacheParams.sortModel,this.beans.sortSvc?.getSortModel()??[]):e=!0,e&&this.reset()}getType(){return"infinite"}setDatasource(e){this.destroyDatasource(),this.datasource=e,e&&this.reset()}isEmpty(){return!this.infiniteCache}isRowsToRender(){return!!this.infiniteCache}getNodesInRangeForSelection(e,t){return this.infiniteCache?.getRowNodesInRange(e,t)??[]}reset(){if(!this.datasource)return;rf(this.gos)!=null||this.beans.selectionSvc?.reset("rowDataChanged"),this.resetCache()}dispatchModelUpdatedEvent(){this.eventSvc.dispatchEvent({type:"modelUpdated",newPage:!1,newPageSize:!1,newData:!1,keepRenderedRows:!0,animate:!1})}resetCache(){this.destroyCache();const e=this.beans,{filterManager:t,sortSvc:n,rowNodeBlockLoader:r,eventSvc:i,gos:s}=e;this.cacheParams={datasource:this.datasource,filterModel:t?.getFilterModel()??{},sortModel:n?.getSortModel()??[],rowNodeBlockLoader:r,initialRowCount:s.get("infiniteInitialRowCount"),maxBlocksInCache:s.get("maxBlocksInCache"),rowHeight:Lu(e),overflowSize:s.get("cacheOverflowSize"),blockSize:s.get("cacheBlockSize"),lastAccessedSequence:{value:0}},this.infiniteCache=this.createBean(new Obe(this.cacheParams)),i.dispatchEventOnce({type:"rowCountReady"}),this.dispatchModelUpdatedEvent()}updateRowHeights(){this.forEachNode(e=>{e.setRowHeight(this.rowHeight),e.setRowTop(this.rowHeight*e.rowIndex)}),this.dispatchModelUpdatedEvent()}destroyCache(){this.infiniteCache=this.destroyBean(this.infiniteCache)}getRow(e){const t=this.infiniteCache;if(t&&!(e>=t.getRowCount()))return t.getRow(e)}getRowNode(e){let t;return this.forEachNode(n=>{n.id===e&&(t=n)}),t}forEachNode(e){this.infiniteCache?.forEachNodeDeep(e)}getTopLevelRowCount(){return this.getRowCount()}getTopLevelRowDisplayedIndex(e){return e}getRowIndexAtPixel(e){if(this.rowHeight!==0){const t=Math.floor(e/this.rowHeight),n=this.getRowCount()-1;return t>n?n:t}return 0}getRowCount(){return this.infiniteCache?this.infiniteCache.getRowCount():0}isRowPresent(e){return!!this.getRowNode(e.id)}refreshCache(){this.infiniteCache?.refreshCache()}purgeCache(){this.infiniteCache?.purgeCache()}isLastRowIndexKnown(){return this.infiniteCache?.isLastRowIndexKnown()??!1}setRowCount(e,t){this.infiniteCache?.setRowCount(e,t)}resetRowHeights(){}onRowHeightChanged(){}};function Ibe(e){vx(e)?.refreshCache()}function Lbe(e){vx(e)?.purgeCache()}function _be(e){return vx(e)?.getRowCount()}var jbe=class extends le{constructor(){super(...arguments),this.beanName="rowNodeBlockLoader",this.activeBlockLoadsCount=0,this.blocks=[],this.active=!0}postConstruct(){this.maxConcurrentRequests=Pae(this.gos);const e=this.gos.get("blockLoadDebounceMillis");e&&e>0&&(this.checkBlockToLoadDebounce=br(this,this.performCheckBlocksToLoad.bind(this),e))}addBlock(e){this.blocks.push(e),e.addEventListener("loadComplete",this.loadComplete.bind(this)),this.checkBlockToLoad()}removeBlock(e){Js(this.blocks,e)}destroy(){super.destroy(),this.active=!1}loadComplete(){this.activeBlockLoadsCount--,this.checkBlockToLoad()}checkBlockToLoad(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()}performCheckBlocksToLoad(){if(!this.active)return;if(this.printCacheStatus(),this.maxConcurrentRequests!=null&&this.activeBlockLoadsCount>=this.maxConcurrentRequests){Ec(this.gos,"RowNodeBlockLoader - checkBlockToLoad: max loads exceeded");return}const e=this.maxConcurrentRequests!=null?this.maxConcurrentRequests-this.activeBlockLoadsCount:1,t=this.blocks.filter(n=>n.state==="needsLoading").slice(0,e);this.activeBlockLoadsCount+=t.length;for(const n of t)n.load();this.printCacheStatus()}getBlockState(){const e={};return this.blocks.forEach(t=>{const{id:n,state:r}=t.getBlockStateJson();e[n]=r}),e}printCacheStatus(){Ec(this.gos,`RowNodeBlockLoader - printCacheStatus: activePageLoadsCount = ${this.activeBlockLoadsCount}, blocks = ${JSON.stringify(this.getBlockState())}`)}},Bbe={moduleName:"InfiniteRowModelCore",version:Re,rowModels:["infinite"],beans:[Fbe,jbe]},Hbe={moduleName:"InfiniteRowModel",version:Re,apiFunctions:{refreshInfiniteCache:Ibe,purgeInfiniteCache:Lbe,getInfiniteRowCount:_be},dependsOn:[Bbe,Jwe]},zbe="",Gbe="",Vbe={tag:"span",children:[{tag:"span",ref:"eDelta",cls:"ag-value-change-delta"},{tag:"span",ref:"eValue",cls:"ag-value-change-value"}]},Wbe=class extends yt{constructor(){super(Vbe),this.eValue=Ee,this.eDelta=Ee,this.refreshCount=0}init(e){this.refresh(e,!0)}showDelta(e,t){const n=Math.abs(t),r=e.formatValue(n),i=De(r)?r:n,s=t>=0,o=this.eDelta;s?o.textContent=zbe+i:o.textContent=Gbe+i,o.classList.toggle("ag-value-change-delta-up",s),o.classList.toggle("ag-value-change-delta-down",!s)}setTimerToRemoveDelta(){this.refreshCount++;const e=this.refreshCount;this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.hideDeltaValue()},2e3)})}hideDeltaValue(){this.eValue.classList.remove("ag-value-change-value-highlight"),xr(this.eDelta)}refresh(e,t=!1){const{value:n,valueFormatted:r}=e,{eValue:i,lastValue:s,beans:o}=this;if(n===s||(De(r)?i.textContent=r:De(n)?i.textContent=n:xr(i),o.filterManager?.isSuppressFlashingCellsBecauseFiltering()))return!1;const a=n&&typeof n=="object"&&"toNumber"in n?n.toNumber():n,l=s&&typeof s=="object"&&"toNumber"in s?s.toNumber():s;if(a===l)return!1;if(typeof a=="number"&&typeof l=="number"){const c=a-l;this.showDelta(e,c)}return s&&i.classList.add("ag-value-change-value-highlight"),t||this.setTimerToRemoveDelta(),this.lastValue=n,!0}},Ube=".ag-value-slide-out{opacity:1}:where(.ag-ltr) .ag-value-slide-out{margin-right:5px;transition:opacity 3s,margin-right 3s}:where(.ag-rtl) .ag-value-slide-out{margin-left:5px;transition:opacity 3s,margin-left 3s}:where(.ag-ltr,.ag-rtl) .ag-value-slide-out{transition-timing-function:linear}.ag-value-slide-out-end{opacity:0}:where(.ag-ltr) .ag-value-slide-out-end{margin-right:10px}:where(.ag-rtl) .ag-value-slide-out-end{margin-left:10px}",$be={tag:"span",children:[{tag:"span",ref:"eCurrent",cls:"ag-value-slide-current"}]},qbe=class extends yt{constructor(){super($be),this.eCurrent=Ee,this.refreshCount=0,this.registerCSS(Ube)}init(e){this.refresh(e,!0)}addSlideAnimation(){this.refreshCount++;const e=this.refreshCount;this.ePrevious?.remove();const{beans:t,eCurrent:n}=this,r=Tn({tag:"span",cls:"ag-value-slide-previous ag-value-slide-out"});this.ePrevious=r,r.textContent=n.textContent,this.getGui().insertBefore(r,n),t.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(()=>{e===this.refreshCount&&(this.ePrevious?.remove(),this.ePrevious=null)},3e3)})}refresh(e,t=!1){let n=e.value;if(Kt(n)&&(n=""),n===this.lastValue||this.beans.filterManager?.isSuppressFlashingCellsBecauseFiltering())return!1;t||this.addSlideAnimation(),this.lastValue=n;const r=this.eCurrent;return De(e.valueFormatted)?r.textContent=e.valueFormatted:De(e.value)?r.textContent=n:xr(r),!0}},Kbe=class extends le{constructor(){super(...arguments),this.beanName="cellFlashSvc",this.nextAnimationTime=null,this.nextAnimationCycle=null,this.animations={highlight:new Map,"data-changed":new Map}}animateCell(e,t,n=this.beans.gos.get("cellFlashDuration"),r=this.beans.gos.get("cellFadeDuration")){const i=this.animations[t];i.delete(e);const s=Date.now(),o=s+n,a=s+n+r,l={phase:"flash",flashEndTime:o,fadeEndTime:a};i.set(e,l);const c=`ag-cell-${t}`,d=`${c}-animation`,{comp:f,eGui:{style:p}}=e;f.toggleCss(c,!0),f.toggleCss(d,!1),p.removeProperty("transition"),p.removeProperty("transition-delay"),this.nextAnimationTime&&o+15<this.nextAnimationTime&&(clearTimeout(this.nextAnimationCycle),this.nextAnimationCycle=null,this.nextAnimationTime=null),this.nextAnimationCycle||(this.beans.frameworkOverrides.wrapIncoming(()=>{this.nextAnimationCycle=setTimeout(this.advanceAnimations.bind(this),n)}),this.nextAnimationTime=o)}advanceAnimations(){const e=Date.now();let t=null;for(const n of Object.keys(this.animations)){const r=this.animations[n],i=`ag-cell-${n}`,s=`${i}-animation`;for(const[o,a]of r){if(!o.isAlive()||!o.comp){r.delete(o);continue}const{phase:l,flashEndTime:c,fadeEndTime:d}=a,f=l==="flash"?c:d;if(!(e+15>=f)){t=Math.min(f,t??1/0);continue}const{comp:v,eGui:{style:y}}=o;switch(l){case"flash":v.toggleCss(i,!1),v.toggleCss(s,!0),y.transition=`background-color ${d-c}ms`,y.transitionDelay=`${c-e}ms`,t=Math.min(d,t??1/0),a.phase="fade";break;case"fade":v.toggleCss(i,!1),v.toggleCss(s,!1),y.removeProperty("transition"),y.removeProperty("transition-delay"),r.delete(o);break}}}t==null?(this.nextAnimationTime=null,this.nextAnimationCycle=null):t&&(this.nextAnimationCycle=setTimeout(this.advanceAnimations.bind(this),t-e),this.nextAnimationTime=t)}onFlashCells(e,t){if(!e.comp)return;const n=Ghe(e.cellPosition);t.cells[n]&&this.animateCell(e,"highlight")}flashCell(e,t){this.animateCell(e,"data-changed",t?.flashDuration,t?.fadeDuration)}destroy(){for(const e of Object.keys(this.animations))this.animations[e].clear()}};function Ybe(e,t={}){const{cellFlashSvc:n}=e;n&&e.frameworkOverrides.wrapIncoming(()=>{for(const r of e.rowRenderer.getCellCtrls(t.rowNodes,t.columns))n.flashCell(r,t)})}var Qbe={moduleName:"HighlightChanges",version:Re,beans:[Kbe],userComponents:{agAnimateShowChangeCellRenderer:Wbe,agAnimateSlideCellRenderer:qbe},apiFunctions:{flashCells:Ybe}};function Xbe(e){return e.stateSvc?.getState()??{}}function Jbe(e,t,n){return e.stateSvc?.setState(t,n)}function j_(e){return e={...e},e.version||(e.version="32.1.0"),e.version==="32.1.0"&&(e=Zbe(e)),e.version=Re,e}function Zbe(e){return e.cellSelection=eCe(e,"rangeSelection"),e}function eCe(e,t){if(e&&typeof e=="object")return e[t]}var tCe=class extends le{constructor(){super(...arguments),this.beanName="stateSvc",this.updateRowGroupExpansionStateTimer=0,this.suppressEvents=!0,this.queuedUpdateSources=new Set,this.dispatchStateUpdateEventDebounced=br(this,()=>this.dispatchQueuedStateUpdateEvents(),0),this.onRowGroupOpenedDebounced=br(this,()=>{this.beans.gos.get("ssrmExpandAllAffectsAllRows")?(this.updateCachedState("ssrmRowGroupExpansion",this.getRowGroupExpansionState()),this.updateCachedState("rowGroupExpansion",void 0)):(this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState()),this.updateCachedState("ssrmRowGroupExpansion",void 0))},0),this.onRowSelectedDebounced=br(this,()=>{this.staleStateKeys.delete("rowSelection"),this.updateCachedState("rowSelection",this.getRowSelectionState())},0),this.staleStateKeys=new Set}postConstruct(){const{gos:e,ctrlsSvc:t,colDelayRenderSvc:n}=this.beans;this.isClientSideRowModel=Xt(e);const r=j_(e.get("initialState")??{}),i=r.partialColumnState;delete r.partialColumnState,this.cachedState=r;const s=this.suppressEventsAndDispatchInitEvent.bind(this);t.whenReady(this,()=>s(()=>this.setupStateOnGridReady(r))),(r.columnOrder||r.columnVisibility||r.columnSizing||r.columnPinning||r.columnGroup)&&n?.hideColumns("columnState");const[o,a,l]=this.addManagedEventListeners({newColumnsLoaded:({source:c})=>{c==="gridInitializing"&&(o(),s(()=>{this.setupStateOnColumnsInitialised(r,!!i),n?.revealColumns("columnState")}))},rowCountReady:()=>{a?.(),s(()=>this.setupStateOnRowCountReady(r))},firstDataRendered:()=>{l?.(),s(()=>this.setupStateOnFirstDataRendered(r))}})}destroy(){super.destroy(),clearTimeout(this.updateRowGroupExpansionStateTimer),this.queuedUpdateSources.clear()}getState(){return this.staleStateKeys.size&&this.refreshStaleState(),this.cachedState}setState(e,t){const n=j_(e);delete n.partialColumnState,this.cachedState=n,this.startSuppressEvents();const r="api",i=t?new Set(t):void 0;this.setGridReadyState(n,r,i),this.setColumnsInitialisedState(n,r,!!i,i),this.setRowCountState(n,r,i),setTimeout(()=>{this.isAlive()&&this.setFirstDataRenderedState(n,r,i),this.stopSuppressEvents(r)})}setGridReadyState(e,t,n){t==="api"&&!n?.has("sideBar")&&this.beans.sideBar?.comp?.setState(e.sideBar),this.updateCachedState("sideBar",this.getSideBarState())}setupStateOnGridReady(e){this.setGridReadyState(e,"gridInitializing");const t=()=>this.updateCachedState("sideBar",this.getSideBarState());this.addManagedEventListeners({toolPanelVisibleChanged:t,sideBarUpdated:t})}updateColumnAndGroupState(){this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","rowGroup","sort"]),this.updateCachedState("columnGroup",this.getColumnGroupState())}setColumnsInitialisedState(e,t,n,r){this.setColumnState(e,t,n,r),this.setColumnGroupState(e,t,r),this.updateColumnAndGroupState()}setupStateOnColumnsInitialised(e,t){this.setColumnsInitialisedState(e,"gridInitializing",t);const n=r=>()=>this.updateColumnState([r]);this.addManagedEventListeners({columnValueChanged:n("aggregation"),columnMoved:n("columnOrder"),columnPinned:n("columnPinning"),columnResized:n("columnSizing"),columnVisible:n("columnVisibility"),columnPivotChanged:n("pivot"),columnPivotModeChanged:n("pivot"),columnRowGroupChanged:n("rowGroup"),sortChanged:n("sort"),newColumnsLoaded:this.updateColumnAndGroupState.bind(this),columnGroupOpened:()=>this.updateCachedState("columnGroup",this.getColumnGroupState())})}setRowCountState(e,t,n){const{filter:r,rowGroupExpansion:i,ssrmRowGroupExpansion:s,rowSelection:o,pagination:a}=e,l=(d,f)=>!n?.has(d)&&(f||t==="api");l("filter",r)&&this.setFilterState(r),l("rowGroupExpansion",i)&&this.setRowGroupExpansionState(s,i,t),l("rowSelection",o)&&this.setRowSelectionState(o,t),l("pagination",a)&&this.setPaginationState(a,t);const c=this.updateCachedState.bind(this);c("filter",this.getFilterState()),this.beans.gos.get("ssrmExpandAllAffectsAllRows")?(c("ssrmRowGroupExpansion",this.getRowGroupExpansionState()),c("rowGroupExpansion",void 0)):(c("rowGroupExpansion",this.getRowGroupExpansionState()),c("ssrmRowGroupExpansion",void 0)),c("rowSelection",this.getRowSelectionState()),c("pagination",this.getPaginationState())}setupStateOnRowCountReady(e){this.setRowCountState(e,"gridInitializing");const t=this.updateCachedState.bind(this),n=()=>{this.updateRowGroupExpansionStateTimer=0,this.beans.gos.get("ssrmExpandAllAffectsAllRows")?(t("ssrmRowGroupExpansion",this.getRowGroupExpansionState()),t("rowGroupExpansion",void 0)):(t("rowGroupExpansion",this.getRowGroupExpansionState()),t("ssrmRowGroupExpansion",void 0))},r=()=>t("filter",this.getFilterState()),{gos:i,colFilter:s}=this.beans;this.addManagedEventListeners({filterChanged:r,rowExpansionStateChanged:this.onRowGroupOpenedDebounced,expandOrCollapseAll:n,columnRowGroupChanged:n,rowDataUpdated:()=>{(i.get("groupDefaultExpanded")!==0||i.get("isGroupOpenByDefault"))&&(this.updateRowGroupExpansionStateTimer||(this.updateRowGroupExpansionStateTimer=setTimeout(n)))},selectionChanged:()=>{this.staleStateKeys.add("rowSelection"),this.onRowSelectedDebounced()},paginationChanged:o=>{(o.newPage||o.newPageSize)&&t("pagination",this.getPaginationState())}}),s&&this.addManagedListeners(s,{filterStateChanged:r})}setFirstDataRenderedState(e,t,n){const{scroll:r,cellSelection:i,focusedCell:s,columnOrder:o,rowPinning:a}=e,l=(f,p)=>!n?.has(f)&&(p||t==="api");l("focusedCell",s)&&this.setFocusedCellState(s),l("cellSelection",i)&&this.setCellSelectionState(i),l("scroll",r)&&this.setScrollState(r),l("rowPinning",a)&&this.setRowPinningState(a),this.setColumnPivotState(!!o?.orderedColIds,t);const c=this.updateCachedState.bind(this);c("sideBar",this.getSideBarState()),c("focusedCell",this.getFocusedCellState());const d=this.getRangeSelectionState();c("rangeSelection",d),c("cellSelection",d),c("scroll",this.getScrollState())}setupStateOnFirstDataRendered(e){this.setFirstDataRenderedState(e,"gridInitializing");const t=this.updateCachedState.bind(this),n=()=>t("focusedCell",this.getFocusedCellState());this.addManagedEventListeners({cellFocused:n,cellFocusCleared:n,cellSelectionChanged:r=>{if(r.finished){const i=this.getRangeSelectionState();t("rangeSelection",i),t("cellSelection",i)}},bodyScrollEnd:()=>t("scroll",this.getScrollState()),pinnedRowsChanged:()=>t("rowPinning",this.getRowPinningState())})}getColumnState(){const e=this.beans;return Yve(Gw(e),e.colModel.isPivotMode())}setColumnState(e,t,n,r){const{sort:i,rowGroup:s,aggregation:o,pivot:a,columnPinning:l,columnVisibility:c,columnSizing:d,columnOrder:f}=e;let p=!1;const v=(_,I)=>{const V=!r?.has(_)&&!!(I||t==="api");return p||(p=V),V},y={},b=_=>{let I=y[_];return I||(I={colId:_},y[_]=I,I)},x={},S=v("sort",i);S&&i?.sortModel.forEach(({colId:_,sort:I},V)=>{const F=b(_);F.sort=I,F.sortIndex=V}),(S||!n)&&(x.sort=null,x.sortIndex=null);const M=v("rowGroup",s);M&&s?.groupColIds.forEach((_,I)=>{const V=b(_);V.rowGroup=!0,V.rowGroupIndex=I}),(M||!n)&&(x.rowGroup=null,x.rowGroupIndex=null);const R=v("aggregation",o);R&&o?.aggregationModel.forEach(({colId:_,aggFunc:I})=>{b(_).aggFunc=I}),(R||!n)&&(x.aggFunc=null);const T=v("pivot",a);T&&(a?.pivotColIds.forEach((_,I)=>{const V=b(_);V.pivot=!0,V.pivotIndex=I}),this.gos.updateGridOptions({options:{pivotMode:!!a?.pivotMode},source:t})),(T||!n)&&(x.pivot=null,x.pivotIndex=null);const k=v("columnPinning",l);if(k){for(const _ of l?.leftColIds??[])b(_).pinned="left";for(const _ of l?.rightColIds??[])b(_).pinned="right"}(k||!n)&&(x.pinned=null);const P=v("columnVisibility",c);if(P)for(const _ of c?.hiddenColIds??[])b(_).hide=!0;(P||!n)&&(x.hide=null);const A=v("columnSizing",d);if(A)for(const{colId:_,flex:I,width:V}of d?.columnSizingModel??[]){const F=b(_);F.flex=I??null,F.width=V}(A||!n)&&(x.flex=null);const O=f?.orderedColIds,B=!!O?.length&&!r?.has("columnOrder"),U=B?O.map(_=>b(_)):Object.values(y);(U.length||p)&&(this.columnStates=U,qs(this.beans,{state:U,applyOrder:B,defaultState:x},t))}setColumnPivotState(e,t){const n=this.columnStates;this.columnStates=void 0;const r=this.columnGroupStates;this.columnGroupStates=void 0;const i=this.beans,{pivotResultCols:s,colGroupSvc:o}=i;if(s?.isPivotResultColsPresent()){if(n){const a=[];for(const l of n)s.getPivotResultCol(l.colId)&&a.push(l);qs(i,{state:a,applyOrder:e},t)}r&&o?.setColumnGroupState(r,t)}}getColumnGroupState(){const e=this.beans.colGroupSvc;if(!e)return;const t=e.getColumnGroupState();return Qve(t)}setColumnGroupState(e,t,n){const r=this.beans.colGroupSvc;if(!r||n?.has("columnGroup")||t!=="api"&&!Object.prototype.hasOwnProperty.call(e,"columnGroup"))return;const i=new Set(e.columnGroup?.openColumnGroupIds),o=r.getColumnGroupState().map(({groupId:a})=>{const l=i.has(a);return l&&i.delete(a),{groupId:a,open:l}});for(const a of i)o.push({groupId:a,open:!0});o.length&&(this.columnGroupStates=o),r.setColumnGroupState(o,t)}getFilterState(){const e=this.beans.filterManager;let t=e?.getFilterModel();t&&Object.keys(t).length===0&&(t=void 0);const n=e?.getFilterState(),r=e?.getAdvFilterModel()??void 0;return t||r||n?{filterModel:t,columnFilterState:n,advancedFilterModel:r}:void 0}setFilterState(e){const t=this.beans.filterManager,{filterModel:n,columnFilterState:r,advancedFilterModel:i}=e??{filterModel:null,columnFilterState:null,advancedFilterModel:null};(n!==void 0||r!==void 0)&&t?.setFilterState(n??null,r??null,"columnFilter"),i!==void 0&&t?.setAdvFilterModel(i??null,"advancedFilter")}getRangeSelectionState(){const e=this.beans.rangeSvc?.getCellRanges().map(t=>{const{id:n,type:r,startRow:i,endRow:s,columns:o,startColumn:a}=t;return{id:n,type:r,startRow:i,endRow:s,colIds:o.map(l=>l.getColId()),startColId:a.getColId()}});return e?.length?{cellRanges:e}:void 0}setCellSelectionState(e){const{gos:t,rangeSvc:n,colModel:r,visibleCols:i}=this.beans;if(!Qa(t)||!n)return;const s=[];for(const o of e?.cellRanges??[]){const a=[];for(const c of o.colIds){const d=r.getCol(c);d&&a.push(d)}if(!a.length)continue;let l=r.getCol(o.startColId);if(!l){const c=i.allCols,d=new Set(a);l=c.find(f=>d.has(f))}s.push({...o,columns:a,startColumn:l})}n.setCellRanges(s)}getScrollState(){if(!this.isClientSideRowModel)return;const e=this.beans.ctrlsSvc.getScrollFeature(),{left:t}=e?.getHScrollPosition()??{left:0},{top:n}=e?.getVScrollPosition()??{top:0};return n||t?{top:n,left:t}:void 0}setScrollState(e){if(!this.isClientSideRowModel)return;const{top:t,left:n}=e??{top:0,left:0},{frameworkOverrides:r,rowRenderer:i,animationFrameSvc:s,ctrlsSvc:o}=this.beans;r.wrapIncoming(()=>{o.get("center").setCenterViewportScrollLeft(n),o.getScrollFeature()?.setVerticalScrollPosition(t),i.redraw({afterScroll:!0}),s?.flushAllFrames()})}getSideBarState(){return this.beans.sideBar?.comp?.getState()}getFocusedCellState(){if(!this.isClientSideRowModel)return;const e=this.beans.focusSvc.getFocusedCell();if(e){const{column:t,rowIndex:n,rowPinned:r}=e;return{colId:t.getColId(),rowIndex:n,rowPinned:r}}}setFocusedCellState(e){if(!this.isClientSideRowModel)return;const{focusSvc:t,colModel:n}=this.beans;if(!e){t.clearFocusedCell();return}const{colId:r,rowIndex:i,rowPinned:s}=e;t.setFocusedCell({column:n.getCol(r),rowIndex:i,rowPinned:s,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}getPaginationState(){const{pagination:e,gos:t}=this.beans;if(!e)return;const n=e.getCurrentPage(),r=t.get("paginationAutoPageSize")?void 0:e.getPageSize();if(!(!n&&!r))return{page:n,pageSize:r}}setPaginationState(e,t){const{pagination:n,gos:r}=this.beans;if(!n)return;const{pageSize:i,page:s}=e??{page:0,pageSize:r.get("paginationPageSize")},o=t==="gridInitializing";i&&!r.get("paginationAutoPageSize")&&n.setPageSize(i,o?"initialState":"pageSizeSelector"),typeof s=="number"&&(o?n.setPage(s):n.goToPage(s))}getRowSelectionState(){const e=this.beans.selectionSvc;if(!e)return;const t=e.getSelectionState();return!t||!Array.isArray(t)&&(t.selectAll===!1||t.selectAllChildren===!1)&&!t?.toggledNodes?.length?void 0:t}setRowSelectionState(e,t){this.beans.selectionSvc?.setSelectionState(e,t,t==="api")}getRowGroupExpansionState(){const{expansionSvc:e}=this.beans;if(e)return e.getExpansionState()}getRowPinningState(){return this.beans.pinnedRowModel?.getPinnedState()}setRowPinningState(e){const t=this.beans.pinnedRowModel;e?t?.setPinnedState(e):t?.reset()}setRowGroupExpansionState(e,t,n){const r=this.beans.expansionSvc;if(!r)return;const i=t??{expandedRowGroupIds:[],collapsedRowGroupIds:[]};r.setExpansionState(i,n)}updateColumnState(e){const t=this.getColumnState();let n=!1;const r=this.cachedState;for(const i of Object.keys(t)){const s=t[i];Xg(s,r[i])||(n=!0)}this.cachedState={...r,...t},n&&this.dispatchStateUpdateEvent(e)}updateCachedState(e,t){const n=this.cachedState[e];this.setCachedStateValue(e,t),Xg(t,n)||this.dispatchStateUpdateEvent([e])}setCachedStateValue(e,t){this.cachedState={...this.cachedState,[e]:t}}refreshStaleState(){const e=this.staleStateKeys;for(const t of e)t==="rowSelection"&&this.setCachedStateValue(t,this.getRowSelectionState());e.clear()}dispatchStateUpdateEvent(e){if(!this.suppressEvents){for(const t of e)this.queuedUpdateSources.add(t);this.dispatchStateUpdateEventDebounced()}}dispatchQueuedStateUpdateEvents(){const e=this.queuedUpdateSources,t=Array.from(e);e.clear(),this.eventSvc.dispatchEvent({type:"stateUpdated",sources:t,state:this.cachedState})}startSuppressEvents(){this.suppressEvents=!0,this.beans.colAnimation?.setSuppressAnimation(!0)}stopSuppressEvents(e){setTimeout(()=>{this.suppressEvents=!1,this.queuedUpdateSources.clear(),this.isAlive()&&(this.beans.colAnimation?.setSuppressAnimation(!1),this.dispatchStateUpdateEvent([e]))})}suppressEventsAndDispatchInitEvent(e){this.startSuppressEvents(),e(),this.stopSuppressEvents("gridInitializing")}},nCe={moduleName:"GridState",version:Re,beans:[tCe],apiFunctions:{getState:Xbe,setState:Jbe}};function rCe(e){return e.rowModel.isLastRowIndexKnown()}function iCe(e){return e.pagination?.getPageSize()??100}function sCe(e){return e.pagination?.getCurrentPage()??0}function oCe(e){return e.pagination?.getTotalPages()??1}function aCe(e){return e.pagination?e.pagination.getMasterRowCount():e.rowModel.getRowCount()}function lCe(e){e.pagination?.goToNextPage()}function cCe(e){e.pagination?.goToPreviousPage()}function uCe(e){e.pagination?.goToFirstPage()}function dCe(e){e.pagination?.goToLastPage()}function hCe(e,t){e.pagination?.goToPage(t)}var fCe=class extends le{constructor(){super(...arguments),this.beanName="paginationAutoPageSizeSvc"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.centerRowsCtrl=e.center;const t=this.checkPageSize.bind(this);this.addManagedEventListeners({bodyHeightChanged:t,scrollVisibilityChanged:t}),this.addManagedPropertyListener("paginationAutoPageSize",this.onPaginationAutoSizeChanged.bind(this)),this.checkPageSize()})}notActive(){return!this.gos.get("paginationAutoPageSize")||this.centerRowsCtrl==null}onPaginationAutoSizeChanged(){this.notActive()?this.beans.pagination.unsetAutoCalculatedPageSize():this.checkPageSize()}checkPageSize(){if(this.notActive())return;const e=this.centerRowsCtrl.viewportSizeFeature.getBodyHeight();if(e>0){const t=this.beans,n=()=>{const r=Math.max(Lu(t),1),i=Math.floor(e/r);t.pagination.setPageSize(i,"autoCalculated")};this.isBodyRendered?br(this,n,50)():(n(),this.isBodyRendered=!0)}else this.isBodyRendered=!1}},ng="paginationPageSizeSelector",pCe={tag:"span",cls:"ag-paging-page-size"},gCe=class extends yt{constructor(){super(pCe),this.hasEmptyOption=!1,this.handlePageSizeItemSelected=()=>{if(!this.selectPageSizeComp)return;const e=this.selectPageSizeComp.getValue();if(!e)return;const t=Number(e);isNaN(t)||t<1||t===this.pagination.getPageSize()||(this.pagination.setPageSize(t,"pageSizeSelector"),this.hasEmptyOption&&this.toggleSelectDisplay(!0),this.selectPageSizeComp.getFocusableElement().focus())}}wireBeans(e){this.pagination=e.pagination}postConstruct(){this.addManagedPropertyListener(ng,()=>{this.onPageSizeSelectorValuesChange()}),this.addManagedEventListeners({paginationChanged:e=>this.handlePaginationChanged(e)})}handlePaginationChanged(e){if(!this.selectPageSizeComp||!e?.newPageSize)return;const t=this.pagination.getPageSize();this.getPageSizeSelectorValues().includes(t)?this.selectPageSizeComp.setValue(t.toString()):this.hasEmptyOption?this.selectPageSizeComp.setValue(""):this.toggleSelectDisplay(!0)}toggleSelectDisplay(e){this.selectPageSizeComp&&!e&&this.reset(),e&&(this.reloadPageSizesSelector(),this.selectPageSizeComp)}reset(){xr(this.getGui()),this.selectPageSizeComp&&(this.selectPageSizeComp=this.destroyBean(this.selectPageSizeComp))}onPageSizeSelectorValuesChange(){this.selectPageSizeComp&&this.shouldShowPageSizeSelector()&&this.reloadPageSizesSelector()}shouldShowPageSizeSelector(){return this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel")&&!this.gos.get("paginationAutoPageSize")&&this.gos.get(ng)!==!1}reloadPageSizesSelector(){const e=this.getPageSizeSelectorValues(),t=this.pagination.getPageSize(),n=!t||!e.includes(t);if(n){const i=this.gos.exists("paginationPageSize"),s=this.gos.get(ng)!==!0;ve(94,{pageSizeSet:i,pageSizesSet:s,pageSizeOptions:e,paginationPageSizeOption:t}),s||ve(95,{paginationPageSizeOption:t,paginationPageSizeSelector:ng}),e.unshift("")}const r=String(n?"":t);this.selectPageSizeComp?(Lc(this.pageSizeOptions,e)||(this.selectPageSizeComp.clearOptions().addOptions(this.createPageSizeSelectOptions(e)),this.pageSizeOptions=e),this.selectPageSizeComp.setValue(r,!0)):this.createPageSizeSelectorComp(e,r),this.hasEmptyOption=n}createPageSizeSelectOptions(e){return e.map(t=>({value:String(t)}))}createPageSizeSelectorComp(e,t){const n=this.getLocaleTextFunc(),r=n("pageSizeSelectorLabel","Page Size:"),i=n("ariaPageSizeSelectorLabel","Page Size");this.selectPageSizeComp=this.createManagedBean(new SA).addOptions(this.createPageSizeSelectOptions(e)).setValue(t).setAriaLabel(i).setLabel(r).onValueChange(()=>this.handlePageSizeItemSelected()),this.appendChild(this.selectPageSizeComp)}getPageSizeSelectorValues(){const e=[20,50,100],t=this.gos.get(ng);return!Array.isArray(t)||!t?.length?e:[...t].sort((n,r)=>n-r)}destroy(){this.toggleSelectDisplay(!1),super.destroy()}},mCe={selector:"AG-PAGE-SIZE-SELECTOR",component:gCe},vCe=".ag-paging-panel{align-items:center;border-top:var(--ag-footer-row-border);display:flex;gap:calc(var(--ag-spacing)*4);height:var(--ag-pagination-panel-height);justify-content:flex-end;padding:0 var(--ag-cell-horizontal-padding)}:where(.ag-paging-page-size) .ag-wrapper{min-width:50px}.ag-paging-page-summary-panel{align-items:center;display:flex;gap:var(--ag-cell-widget-spacing);.ag-disabled &{pointer-events:none}}.ag-paging-button{cursor:pointer;position:relative;&.ag-disabled{cursor:default;opacity:.5}}.ag-paging-number,.ag-paging-row-summary-panel-number{font-weight:500}",yCe=class extends z7{constructor(){super(),this.btFirst=Ee,this.btPrevious=Ee,this.btNext=Ee,this.btLast=Ee,this.lbRecordCount=Ee,this.lbFirstRowOnPage=Ee,this.lbLastRowOnPage=Ee,this.lbCurrent=Ee,this.lbTotal=Ee,this.pageSizeComp=Ee,this.previousAndFirstButtonsDisabled=!1,this.nextButtonDisabled=!1,this.lastButtonDisabled=!1,this.areListenersSetup=!1,this.allowFocusInnerElement=!1,this.registerCSS(vCe)}wireBeans(e){this.rowModel=e.rowModel,this.pagination=e.pagination,this.ariaAnnounce=e.ariaAnnounce}postConstruct(){const e=this.gos.get("enableRtl");this.setTemplate(this.getTemplate(),[mCe]);const{btFirst:t,btPrevious:n,btNext:r,btLast:i}=this;this.activateTabIndex([t,n,r,i]),t.insertAdjacentElement("afterbegin",$i(e?"last":"first",this.beans)),n.insertAdjacentElement("afterbegin",$i(e?"next":"previous",this.beans)),r.insertAdjacentElement("afterbegin",$i(e?"previous":"next",this.beans)),i.insertAdjacentElement("afterbegin",$i(e?"first":"last",this.beans)),this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this)),this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this)),this.addManagedPropertyListeners(["paginationPageSizeSelector","paginationAutoPageSize","suppressPaginationPanel"],()=>this.onPageSizeRelatedOptionsChange()),this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector()),this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:s=>this.allowFocusInnerElement?this.tabGuardFeature.getTabGuardCtrl().focusInnerElement(s):fde(this.beans,s),forceFocusOutWhenTabGuardsAreEmpty:!0}),this.onPaginationChanged()}setAllowFocus(e){this.allowFocusInnerElement=e}onPaginationChanged(){const t=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel");this.setDisplayed(t),t&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateLabels(),this.onPageSizeRelatedOptionsChange())}onPageSizeRelatedOptionsChange(){this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector())}setupListeners(){if(!this.areListenersSetup){this.addManagedEventListeners({paginationChanged:this.onPaginationChanged.bind(this)});for(const e of[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}]){const{el:t,fn:n}=e;this.addManagedListeners(t,{click:n,keydown:r=>{(r.key===re.ENTER||r.key===re.SPACE)&&(r.preventDefault(),n())}})}hde(this.beans,this,this.getGui()),this.areListenersSetup=!0}}onBtFirst(){this.previousAndFirstButtonsDisabled||this.pagination.goToFirstPage()}formatNumber(e){const t=this.gos.getCallback("paginationNumberFormatter");return t?t({value:e}):Jve(e,this.getLocaleTextFunc.bind(this))}getTemplate(){const e=this.getLocaleTextFunc(),t=`ag-${this.getCompId()}`;return{tag:"div",cls:"ag-paging-panel ag-unselectable",attrs:{id:`${t}`},children:[{tag:"ag-page-size-selector",ref:"pageSizeComp"},{tag:"span",cls:"ag-paging-row-summary-panel",children:[{tag:"span",ref:"lbFirstRowOnPage",cls:"ag-paging-row-summary-panel-number",attrs:{id:`${t}-first-row`}},{tag:"span",attrs:{id:`${t}-to`},children:e("to","to")},{tag:"span",ref:"lbLastRowOnPage",cls:"ag-paging-row-summary-panel-number",attrs:{id:`${t}-last-row`}},{tag:"span",attrs:{id:`${t}-of`},children:e("of","of")},{tag:"span",ref:"lbRecordCount",cls:"ag-paging-row-summary-panel-number",attrs:{id:`${t}-row-count`}}]},{tag:"span",cls:"ag-paging-page-summary-panel",role:"presentation",children:[{tag:"div",ref:"btFirst",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("firstPage","First Page")}},{tag:"div",ref:"btPrevious",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("previousPage","Previous Page")}},{tag:"span",cls:"ag-paging-description",children:[{tag:"span",attrs:{id:`${t}-start-page`},children:e("page","Page")},{tag:"span",ref:"lbCurrent",cls:"ag-paging-number",attrs:{id:`${t}-start-page-number`}},{tag:"span",attrs:{id:`${t}-of-page`},children:e("of","of")},{tag:"span",ref:"lbTotal",cls:"ag-paging-number",attrs:{id:`${t}-of-page-number`}}]},{tag:"div",ref:"btNext",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("nextPage","Next Page")}},{tag:"div",ref:"btLast",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("lastPage","Last Page")}}]}]}}onBtNext(){this.nextButtonDisabled||this.pagination.goToNextPage()}onBtPrevious(){this.previousAndFirstButtonsDisabled||this.pagination.goToPreviousPage()}onBtLast(){this.lastButtonDisabled||this.pagination.goToLastPage()}enableOrDisableButtons(){const e=this.pagination.getCurrentPage(),t=this.rowModel.isLastRowIndexKnown(),n=this.pagination.getTotalPages();this.previousAndFirstButtonsDisabled=e===0,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);const r=this.isZeroPagesToDisplay(),i=e===n-1;this.nextButtonDisabled=i||r,this.lastButtonDisabled=!t||r||e===n-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)}toggleButtonDisabled(e,t){Ioe(e,t),e.classList.toggle("ag-disabled",t)}isZeroPagesToDisplay(){const e=this.rowModel.isLastRowIndexKnown(),t=this.pagination.getTotalPages();return e&&t===0}updateLabels(){const e=this.rowModel.isLastRowIndexKnown(),t=this.pagination.getTotalPages(),n=this.pagination.getMasterRowCount(),r=e?n:null,i=this.pagination.getCurrentPage(),s=this.pagination.getPageSize();let o,a;this.isZeroPagesToDisplay()?o=a=0:(o=s*i+1,a=o+s-1,e&&a>r&&(a=r));const l=o+s-1,c=!e&&n<l,d=this.formatNumber(o);this.lbFirstRowOnPage.textContent=d;let f;const p=this.getLocaleTextFunc();c?f=p("pageLastRowUnknown","?"):f=this.formatNumber(a),this.lbLastRowOnPage.textContent=f;const y=t>0?i+1:0,b=this.formatNumber(y);this.lbCurrent.textContent=b;let x,S;if(e)x=this.formatNumber(t),S=this.formatNumber(r);else{const M=p("more","more");x=M,S=M}this.lbTotal.textContent=x,this.lbRecordCount.textContent=S,this.announceAriaStatus(d,f,S,b,x)}announceAriaStatus(e,t,n,r,i){const s=this.getLocaleTextFunc(),o=s("page","Page"),a=s("to","to"),l=s("of","of"),c=`${e} ${a} ${t} ${l} ${n}`,d=`${o} ${r} ${l} ${i}`;c!==this.ariaRowStatus&&(this.ariaRowStatus=c,this.ariaAnnounce?.announceValue(c,"paginationRow")),d!==this.ariaPageStatus&&(this.ariaPageStatus=d,this.ariaAnnounce?.announceValue(d,"paginationPage"))}},wCe={selector:"AG-PAGINATION",component:yCe},bCe=class extends le{constructor(){super(...arguments),this.beanName="pagination",this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=0,this.masterRowCount=0}postConstruct(){const e=this.gos;this.active=e.get("pagination"),this.pageSizeFromGridOptions=e.get("paginationPageSize"),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedPropertyListener("pagination",this.onPaginationGridOptionChanged.bind(this)),this.addManagedPropertyListener("paginationPageSize",this.onPageSizeGridOptionChanged.bind(this))}getPaginationSelector(){return wCe}isPaginateChildRows(){const e=this.gos;return e.get("groupHideParentOfSingleChild")||e.get("groupRemoveSingleChildren")||e.get("groupRemoveLowestSingleChildren")?!0:e.get("paginateChildRows")}onPaginationGridOptionChanged(){this.active=this.gos.get("pagination"),this.calculatePages(),this.dispatchPaginationChangedEvent({keepRenderedRows:!0})}onPageSizeGridOptionChanged(){this.setPageSize(this.gos.get("paginationPageSize"),"gridOptions")}goToPage(e){const t=this.currentPage;if(!this.active||t===e||typeof t!="number")return;const{editSvc:n}=this.beans;n?.isEditing()&&(n.isBatchEditing()?n.cleanupEditors():n.stopEditing(void 0,{source:"api"})),this.currentPage=e,this.calculatePages(),this.dispatchPaginationChangedEvent({newPage:!0})}goToPageWithIndex(e){if(!this.active)return;let t=e;this.paginateChildRows||(t=this.beans.rowModel.getTopLevelIndexFromDisplayedIndex?.(e)??e),this.goToPage(Math.floor(t/this.pageSize))}isRowInPage(e){return this.active?e>=this.topDisplayedRowIndex&&e<=this.bottomDisplayedRowIndex:!0}getCurrentPage(){return this.currentPage}goToNextPage(){this.goToPage(this.currentPage+1)}goToPreviousPage(){this.goToPage(this.currentPage-1)}goToFirstPage(){this.goToPage(0)}goToLastPage(){const e=this.beans.rowModel.getRowCount(),t=Math.floor(e/this.pageSize);this.goToPage(t)}getPageSize(){return this.pageSize}getTotalPages(){return this.totalPages}setPage(e){this.currentPage=e}get pageSize(){return De(this.pageSizeAutoCalculated)&&this.gos.get("paginationAutoPageSize")?this.pageSizeAutoCalculated:De(this.pageSizeFromPageSizeSelector)?this.pageSizeFromPageSizeSelector:De(this.pageSizeFromInitialState)?this.pageSizeFromInitialState:De(this.pageSizeFromGridOptions)?this.pageSizeFromGridOptions:this.defaultPageSize}calculatePages(){this.active?this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly():this.calculatedPagesNotActive(),this.beans.pageBounds.calculateBounds(this.topDisplayedRowIndex,this.bottomDisplayedRowIndex)}unsetAutoCalculatedPageSize(){if(this.pageSizeAutoCalculated===void 0)return;const e=this.pageSizeAutoCalculated;this.pageSizeAutoCalculated=void 0,this.pageSize!==e&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0}))}setPageSize(e,t){const n=this.pageSize;switch(t){case"autoCalculated":this.pageSizeAutoCalculated=e;break;case"pageSizeSelector":this.pageSizeFromPageSizeSelector=e,this.currentPage!==0&&this.goToFirstPage();break;case"initialState":this.pageSizeFromInitialState=e;break;case"gridOptions":this.pageSizeFromGridOptions=e,this.pageSizeFromInitialState=void 0,this.pageSizeFromPageSizeSelector=void 0,this.currentPage!==0&&this.goToFirstPage();break}n!==this.pageSize&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0,keepRenderedRows:!0}))}setZeroRows(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0}adjustCurrentPageIfInvalid(){const e=this.totalPages;this.currentPage>=e&&(this.currentPage=e-1);const t=this.currentPage;(!isFinite(t)||isNaN(t)||t<0)&&(this.currentPage=0)}calculatePagesMasterRowsOnly(){const e=this.beans.rowModel,t=e.getTopLevelRowCount();if(this.masterRowCount=t,t<=0){this.setZeroRows();return}const n=this.pageSize,r=t-1;this.totalPages=Math.floor(r/n)+1,this.adjustCurrentPageIfInvalid();const i=this.currentPage,s=n*i;let o=n*(i+1)-1;if(o>r&&(o=r),this.topDisplayedRowIndex=e.getTopLevelRowDisplayedIndex(s),o===r)this.bottomDisplayedRowIndex=e.getRowCount()-1;else{const a=e.getTopLevelRowDisplayedIndex(o+1);this.bottomDisplayedRowIndex=a-1}}getMasterRowCount(){return this.masterRowCount}calculatePagesAllRows(){const e=this.beans.rowModel.getRowCount();if(this.masterRowCount=e,e===0){this.setZeroRows();return}const{pageSize:t,currentPage:n}=this,r=e-1;this.totalPages=Math.floor(r/t)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=t*n,this.bottomDisplayedRowIndex=t*(n+1)-1,this.bottomDisplayedRowIndex>r&&(this.bottomDisplayedRowIndex=r)}calculatedPagesNotActive(){this.setPageSize(void 0,"autoCalculated"),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.beans.rowModel.getRowCount()-1}dispatchPaginationChangedEvent(e){const{keepRenderedRows:t=!1,newPage:n=!1,newPageSize:r=!1}=e;this.eventSvc.dispatchEvent({type:"paginationChanged",animate:!1,newData:!1,newPage:n,newPageSize:r,keepRenderedRows:t})}},CCe={moduleName:"Pagination",version:Re,beans:[bCe,fCe],icons:{first:"first",previous:"previous",next:"next",last:"last"},apiFunctions:{paginationIsLastPageFound:rCe,paginationGetPageSize:iCe,paginationGetCurrentPage:sCe,paginationGetTotalPages:oCe,paginationGetRowCount:aCe,paginationGoToNextPage:lCe,paginationGoToPreviousPage:cCe,paginationGoToFirstPage:uCe,paginationGoToLastPage:dCe,paginationGoToPage:hCe},dependsOn:[yx]};function xCe(e,t={}){const n=t?t.rowNodes:void 0;e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.redrawRows(n))}function oU(e,t,n,r,i){t&&(r&&t.parent&&t.parent.level!==-1&&oU(e,t.parent,n,r,i),t.setExpanded(n,void 0,i))}function SCe(e,t){return e.rowModel.getRowNode(t)}function ECe(e,t,n,r){e.rowRenderer.addRenderedRowListener(t,n,r)}function DCe(e){return e.rowRenderer.getRenderedNodes()}function RCe(e,t,n){e.rowModel.forEachNode(t,n)}function MCe(e){return e.rowRenderer.firstRenderedRow}function TCe(e){return e.rowRenderer.lastRenderedRow}function kCe(e,t){return e.rowModel.getRow(t)}function ACe(e){return e.rowModel.getRowCount()}var PCe={moduleName:"RowApi",version:Re,apiFunctions:{redrawRows:xCe,setRowNodeExpanded:oU,getRowNode:SCe,addRenderedRowListener:ECe,getRenderedNodes:DCe,forEachNode:RCe,getFirstDisplayedRowIndex:MCe,getLastDisplayedRowIndex:TCe,getDisplayedRowAtIndex:kCe,getDisplayedRowCount:ACe}},NCe={moduleName:"ScrollApi",version:Re,apiFunctions:{getVerticalPixelRange:W0e,getHorizontalPixelRange:U0e,ensureColumnVisible:$W,ensureIndexVisible:qW,ensureNodeVisible:$0e}};function OCe(e,t,n){if(!t)return;const r=e.ctrlsSvc.getGridBodyCtrl().eGridBody,i=`aria-${t}`;n===null?r.removeAttribute(i):r.setAttribute(i,n)}function FCe(e,t={}){e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.refreshCells(t))}function ICe(e){e.frameworkOverrides.wrapIncoming(()=>{for(const t of e.ctrlsSvc.getHeaderRowContainerCtrls())t.refresh()})}function LCe(e){return e.animationFrameSvc?.isQueueEmpty()??!0}function _Ce(e){e.animationFrameSvc?.flushAllFrames()}function jCe(e){return{rowHeight:Lu(e),headerHeight:Zm(e)}}function BCe(e,t={}){const n=[];for(const s of e.rowRenderer.getCellCtrls(t.rowNodes,t.columns)){const o=s.getCellRenderer();o!=null&&n.push(am(o))}if(t.columns?.length)return n;const r=[],i=Z2(t.rowNodes);for(const s of e.rowRenderer.getAllRowCtrls()){if(i&&!eT(s.rowNode,i)||!s.isFullWidth())continue;const o=s.getFullWidthCellRenderers();for(let a=0;a<o.length;a++){const l=o[a];l!=null&&r.push(am(l))}}return[...r,...n]}var HCe={moduleName:"RenderApi",version:Re,apiFunctions:{setGridAriaProperty:OCe,refreshCells:FCe,refreshHeader:ICe,isAnimationFrameQueueEmpty:LCe,flushAllAnimationFrames:_Ce,getSizesForCurrentTheme:jCe,getCellRendererInstances:BCe}};function zCe(e,t){typeof t=="number"?e.colAutosize?.sizeColumnsToFit(t,"api"):e.colAutosize?.sizeColumnsToFitGridBody(t)}function aU({colAutosize:e,visibleCols:t},n,r){Array.isArray(n)?e?.autoSizeCols({colKeys:n,skipHeader:r,source:"api"}):e?.autoSizeCols({...n,colKeys:n.colIds??t.allCols,source:"api"})}function GCe(e,t){t&&typeof t=="object"?aU(e,t):e.colAutosize?.autoSizeAllColumns({source:"api",skipHeader:t})}var VCe=class extends le{constructor(){super(...arguments),this.beanName="colAutosize",this.timesDelayed=0,this.shouldQueueResizeOperations=!1,this.resizeOperationQueue=[]}postConstruct(){const{gos:e}=this,t=e.get("autoSizeStrategy");if(t){let n=!1;const r=t.type;if(r==="fitGridWidth"||r==="fitProvidedWidth")n=!0;else if(r==="fitCellContents"){this.addManagedEventListeners({firstDataRendered:()=>this.onFirstDataRendered(t)});const i=e.get("rowData");n=i!=null&&i.length>0&&Xt(e)}n&&this.beans.colDelayRenderSvc?.hideColumns(r)}}autoSizeCols(e){const{eventSvc:t,visibleCols:n}=this.beans;this.innerAutoSizeCols(e).then(r=>{const i=c=>sf(t,Array.from(c),!0,"autosizeColumns");if(!e.scaleUpToFitGridWidth)return i(r);const s=B_(this.beans),o=c=>n.leftCols.some(d=>Pg(d,c)),a=c=>n.rightCols.some(d=>Pg(d,c)),l=e.colKeys.filter(c=>!dl(c)&&!Ia(c)&&!o(c)&&!a(c));this.sizeColumnsToFit(s,e.source,!0,{defaultMaxWidth:e.defaultMaxWidth,defaultMinWidth:e.defaultMinWidth,columnLimits:e.columnLimits?.map(c=>({...c,key:c.colId})),colKeys:l,onlyScaleUp:!0}),i(r)})}innerAutoSizeCols(e){return new Promise((t,n)=>{if(this.shouldQueueResizeOperations)return this.pushResizeOperation(()=>this.innerAutoSizeCols(e).then(t,n));const{colKeys:r,skipHeader:i,skipHeaderGroups:s,stopAtGroup:o,defaultMaxWidth:a,defaultMinWidth:l,columnLimits:c=[],source:d="api"}=e,{animationFrameSvc:f,renderStatus:p,colModel:v,autoWidthCalc:y,visibleCols:b}=this.beans;if(f?.flushAllFrames(),this.timesDelayed<5&&p&&(!p.areHeaderCellsRendered()||!p.areCellsRendered())){this.timesDelayed++,setTimeout(()=>{this.isAlive()&&this.innerAutoSizeCols(e).then(t,n)});return}this.timesDelayed=0;const x=new Set;let S=-1;const M=Object.fromEntries(c.map(({colId:k,...P})=>[k,P])),R=i??this.gos.get("skipHeaderOnAutoSize"),T=s??R;for(;S!==0;){S=0;const k=[];for(const P of r){if(!P||$ae(P))continue;const A=v.getCol(P);if(!A||x.has(A))continue;const O=y.getPreferredWidthForColumn(A,R);if(O>0){const B=M[A.colId]??{};B.minWidth??(B.minWidth=l),B.maxWidth??(B.maxWidth=a);const U=WCe(A,O,B);A.setActualWidth(U,d),x.add(A),S++}k.push(A)}k.length&&b.refresh(d)}T||this.autoSizeColumnGroupsByColumns(r,d,o),t(x)})}autoSizeColumn(e,t,n){this.autoSizeCols({colKeys:[e],skipHeader:n,skipHeaderGroups:!0,source:t})}autoSizeColumnGroupsByColumns(e,t,n){const{colModel:r,ctrlsSvc:i}=this.beans,s=new Set,o=r.getColsForKeys(e);for(const l of o){let c=l.getParent();for(;c&&c!=n;)c.isPadding()||s.add(c),c=c.getParent()}let a;for(const l of s){for(const c of i.getHeaderRowContainerCtrls())if(a=c.getHeaderCtrlForColumn(l),a)break;a?.resizeLeafColumnsToFit(t)}}autoSizeAllColumns(e){if(this.shouldQueueResizeOperations){this.pushResizeOperation(()=>this.autoSizeAllColumns(e));return}this.autoSizeCols({colKeys:this.beans.visibleCols.allCols,...e})}addColumnAutosizeListeners(e,t){const n=this.gos.get("skipHeaderOnAutoSize"),r=()=>{this.autoSizeColumn(t,"uiColumnResized",n)};e.addEventListener("dblclick",r);const i=new fu(e);return i.addEventListener("doubleTap",r),()=>{e.removeEventListener("dblclick",r),i.destroy()}}addColumnGroupResize(e,t,n){const r=this.gos.get("skipHeaderOnAutoSize"),i=()=>{const s=[],o=t.getDisplayedLeafColumns();for(const a of o)a.getColDef().suppressAutoSize||s.push(a.getColId());s.length>0&&this.autoSizeCols({colKeys:s,skipHeader:r,stopAtGroup:t,source:"uiColumnResized"}),n()};return e.addEventListener("dblclick",i),()=>e.removeEventListener("dblclick",i)}sizeColumnsToFitGridBody(e,t){if(!this.isAlive())return;const n=B_(this.beans);if(n>0){this.sizeColumnsToFit(n,"sizeColumnsToFit",!1,e);return}t===void 0?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,100)},0):t===100?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,500)},100):t===500?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,-1)},500):ve(29)}sizeColumnsToFit(e,t="sizeColumnsToFit",n,r){if(this.shouldQueueResizeOperations){this.pushResizeOperation(()=>this.sizeColumnsToFit(e,t,n,r));return}const i={};for(const{key:y,...b}of r?.columnLimits??[])i[typeof y=="string"?y:y.getColId()]=b;const s=this.beans.visibleCols.allCols;if(e<=0||!s.length)return;const o=Sa(s);if(r?.onlyScaleUp&&o>e||e===o&&s.every(b=>{if(b.colDef.suppressSizeToFit)return!0;const x=i?.[b.getId()],S=x?.minWidth??r?.defaultMinWidth,M=x?.maxWidth??r?.defaultMaxWidth,R=b.getActualWidth();return(S==null||R>=S)&&(M==null||R<=M)}))return;const l=[],c=[];for(const y of s){const b=r?.colKeys?.some(x=>Pg(y,x))??!0;y.getColDef().suppressSizeToFit||!b?c.push(y):l.push(y)}const d=l.slice(0);let f=!1;const p=y=>{Js(l,y),c.push(y)};for(const y of l){y.resetActualWidth(t);const b=i?.[y.getId()],x=b?.minWidth??r?.defaultMinWidth,S=b?.maxWidth??r?.defaultMaxWidth,M=y.getActualWidth();typeof x=="number"&&M<x?y.setActualWidth(x,t,!0):typeof S=="number"&&M>S&&y.setActualWidth(S,t,!0)}for(;!f;){f=!0;const y=e-Sa(c);if(y<=0)for(const b of l){const x=i?.[b.getId()]?.minWidth??r?.defaultMinWidth??b.minWidth;b.setActualWidth(x,t,!0)}else{const b=y/Sa(l);let x=y;for(let S=l.length-1;S>=0;S--){const M=l[S],R=i?.[M.getId()],T=R?.minWidth??r?.defaultMinWidth,k=R?.maxWidth??r?.defaultMaxWidth,P=M.getMinWidth(),A=M.getMaxWidth(),O=typeof T=="number"&&T>P?T:P,B=typeof k=="number"&&k<A?k:A;let U=Math.round(M.getActualWidth()*b);U<O?(U=O,p(M),f=!1):U>B?(U=B,p(M),f=!1):S===0&&(U=x),M.setActualWidth(U,t,!0),x-=U}}}for(const y of d)y.fireColumnWidthChangedEvent(t);const v=this.beans.visibleCols;v.setLeftValues(t),v.updateBodyWidths(),!n&&sf(this.eventSvc,d,!0,t)}applyAutosizeStrategy(){const{gos:e,colDelayRenderSvc:t}=this.beans,n=e.get("autoSizeStrategy");n?.type!=="fitGridWidth"&&n?.type!=="fitProvidedWidth"||setTimeout(()=>{if(!this.isAlive())return;const r=n.type;if(r==="fitGridWidth"){const{columnLimits:i,defaultMinWidth:s,defaultMaxWidth:o}=n,a=i?.map(({colId:l,minWidth:c,maxWidth:d})=>({key:l,minWidth:c,maxWidth:d}));this.sizeColumnsToFitGridBody({defaultMinWidth:s,defaultMaxWidth:o,columnLimits:a})}else r==="fitProvidedWidth"&&this.sizeColumnsToFit(n.width,"sizeColumnsToFit");t?.revealColumns(r)})}onFirstDataRendered({colIds:e,...t}){setTimeout(()=>{if(!this.isAlive())return;const n="autosizeColumns";e?this.autoSizeCols({...t,source:n,colKeys:e}):this.autoSizeAllColumns({...t,source:n}),this.beans.colDelayRenderSvc?.revealColumns(t.type)})}processResizeOperations(){this.shouldQueueResizeOperations=!1;for(const e of this.resizeOperationQueue)e();this.resizeOperationQueue=[]}pushResizeOperation(e){this.resizeOperationQueue.push(e)}destroy(){this.resizeOperationQueue.length=0,super.destroy()}};function WCe(e,t,n={}){const r=n.minWidth??e.getMinWidth();t<r&&(t=r);const i=n.maxWidth??e.getMaxWidth();return t>i&&(t=i),t}function B_({ctrlsSvc:e,scrollVisibleSvc:t}){const n=e.getGridBodyCtrl(),i=n.isVerticalScrollShowing()?t.getScrollbarWidth():0;return tm(n.eGridBody)-i}var UCe={moduleName:"ColumnAutoSize",version:Re,beans:[VCe],apiFunctions:{sizeColumnsToFit:zCe,autoSizeColumns:aU,autoSizeAllColumns:GCe},dependsOn:[Z7]},$Ce=".ag-row-pinned-source{background-color:var(--ag-pinned-source-row-background-color);color:var(--ag-pinned-source-row-text-color);font-weight:var(--ag-pinned-source-row-font-weight)}.ag-row-pinned-manual{background-color:var(--ag-pinned-row-background-color);color:var(--ag-pinned-row-text-color);font-weight:var(--ag-pinned-row-font-weight)}";function qCe(e){return e.pinnedRowModel?.getPinnedTopRowCount()??0}function KCe(e){return e.pinnedRowModel?.getPinnedBottomRowCount()??0}function YCe(e,t){return e.pinnedRowModel?.getPinnedTopRow(t)}function QCe(e,t){return e.pinnedRowModel?.getPinnedBottomRow(t)}function XCe(e,t,n){return e.pinnedRowModel?.forEachPinnedRow(t,n)}var JCe={moduleName:"PinnedRow",version:Re,beans:[qde],css:[$Ce],apiFunctions:{getPinnedTopRowCount:qCe,getPinnedBottomRowCount:KCe,getPinnedTopRow:YCe,getPinnedBottomRow:QCe,forEachPinnedRow:XCe},icons:{rowPin:"pin",rowPinTop:"pinned-top",rowPinBottom:"pinned-bottom",rowUnpin:"un-pin"}},ZCe=class{constructor(e,t){this.col=e,this.firstNode=t,this.cellSpan=!0,this.spannedNodes=new Set,this.addSpannedNode(t)}reset(){this.spannedNodes.clear(),this.addSpannedNode(this.firstNode)}addSpannedNode(e){this.spannedNodes.add(e),this.lastNode=e}getLastNode(){return this.lastNode}getCellHeight(){return this.lastNode.rowTop+this.lastNode.rowHeight-this.firstNode.rowTop-1}doesSpanContain(e){return e.column!==this.col||e.rowPinned!=this.firstNode.rowPinned?!1:this.firstNode.rowIndex<=e.rowIndex&&e.rowIndex<=this.lastNode.rowIndex}getLastNodeAutoHeight(){const e=this.firstNode.__autoHeights?.[this.col.getColId()];if(e==null)return;let t=0;for(const n of this.spannedNodes)n!==this.lastNode&&(t+=n.rowHeight);return e-t}},exe=class extends le{constructor(e){super(),this.column=e}buildCache(e){const{column:t,beans:{gos:n,pinnedRowModel:r,rowModel:i,valueSvc:s,pagination:o}}=this,{colDef:a}=t,l=this.getNodeMap(e),c=new Map,d=n.getCallback("isFullWidthRow"),f=a.equals,p=a.spanRows,v=typeof p=="function";let y=null,b=null,x;const S=(R,T)=>{y=R,b=null,x=T},M=R=>{const T=!R.isExpandable()&&!R.group&&!R.detail&&(d?!d({rowNode:R}):!0);if(R.rowIndex==null||!T){S(null,null);return}if(y==null||R.level!==y.level||R.footer||b&&R.rowIndex-1!==b?.getLastNode().rowIndex){S(R,s.getValue(t,R));return}const k=s.getValue(t,R);if(v){const P=_e(n,{valueA:x,nodeA:y,valueB:k,nodeB:R,column:t,colDef:a});if(!p(P)){S(R,k);return}}else if(f?!f(x,k):x!==k){S(R,k);return}if(!b){const P=l?.get(y);P?.firstNode===y?(P.reset(),b=P):b=new ZCe(t,y),c.set(y,b)}b.addSpannedNode(R),c.set(R,b)};switch(e){case"center":i.forEachDisplayedNode?.(R=>{(!o||o.isRowInPage(R.rowIndex))&&M(R)}),this.centerValueNodeMap=c;break;case"top":r?.forEachPinnedRow("top",M),this.topValueNodeMap=c;break;case"bottom":r?.forEachPinnedRow("bottom",M),this.bottomValueNodeMap=c;break}}isCellSpanning(e){return!!this.getCellSpan(e)}getCellSpan(e){return this.getNodeMap(e.rowPinned).get(e)}getNodeMap(e){switch(e){case"top":return this.topValueNodeMap;case"bottom":return this.bottomValueNodeMap;default:return this.centerValueNodeMap}}},txe=class extends le{constructor(){super(...arguments),this.beanName="rowSpanSvc",this.spanningColumns=new Map,this.debouncePinnedEvent=br(this,this.dispatchCellsUpdatedEvent.bind(this,!0),0),this.debounceModelEvent=br(this,this.dispatchCellsUpdatedEvent.bind(this,!1),0),this.pinnedTimeout=null,this.modelTimeout=null}postConstruct(){const e=this.onRowDataUpdated.bind(this),t=this.buildPinnedCaches.bind(this);this.addManagedEventListeners({paginationChanged:this.buildModelCaches.bind(this),pinnedRowDataChanged:t,pinnedRowsChanged:t,rowNodeDataChanged:e,cellValueChanged:e})}register(e){const{gos:t}=this.beans;if(!t.get("enableCellSpan")||this.spanningColumns.has(e))return;const n=this.createManagedBean(new exe(e));this.spanningColumns.set(e,n),n.buildCache("top"),n.buildCache("bottom"),n.buildCache("center"),this.debouncePinnedEvent(),this.debounceModelEvent()}dispatchCellsUpdatedEvent(e){this.dispatchLocalEvent({type:"spannedCellsUpdated",pinned:e})}deregister(e){this.spanningColumns.delete(e)}onRowDataUpdated({node:e}){const{spannedRowRenderer:t}=this.beans;if(e.rowPinned){if(this.pinnedTimeout!=null)return;this.pinnedTimeout=window.setTimeout(()=>{this.pinnedTimeout=null,this.buildPinnedCaches(),t?.createCtrls("top"),t?.createCtrls("bottom")},0);return}this.modelTimeout==null&&(this.modelTimeout=window.setTimeout(()=>{this.modelTimeout=null,this.buildModelCaches(),t?.createCtrls("center")},0))}buildModelCaches(){this.modelTimeout!=null&&clearTimeout(this.modelTimeout),this.spanningColumns.forEach(e=>e.buildCache("center")),this.debounceModelEvent()}buildPinnedCaches(){this.pinnedTimeout!=null&&clearTimeout(this.pinnedTimeout),this.spanningColumns.forEach(e=>{e.buildCache("top"),e.buildCache("bottom")}),this.debouncePinnedEvent()}isCellSpanning(e,t){const n=this.spanningColumns.get(e);return n?n.isCellSpanning(t):!1}getCellSpanByPosition(e){const{pinnedRowModel:t,rowModel:n}=this.beans,r=e.column,i=e.rowIndex,s=this.spanningColumns.get(r);if(!s)return;let o;switch(e.rowPinned){case"top":o=t?.getPinnedTopRow(i);break;case"bottom":o=t?.getPinnedBottomRow(i);break;default:o=n.getRow(i)}if(o)return s.getCellSpan(o)}getCellStart(e){const t=this.getCellSpanByPosition(e);return t?{...e,rowIndex:t.firstNode.rowIndex}:e}getCellEnd(e){const t=this.getCellSpanByPosition(e);return t?{...e,rowIndex:t.getLastNode().rowIndex}:e}getCellSpan(e,t){const n=this.spanningColumns.get(e);if(n)return n.getCellSpan(t)}forEachSpannedColumn(e,t){for(const[n,r]of this.spanningColumns)if(r.isCellSpanning(e)){const i=r.getCellSpan(e);t(n,i)}}destroy(){super.destroy(),this.spanningColumns.clear()}},nxe=class extends Kh{constructor(e,t,n){super(e.col,e.firstNode,n,t),this.cellSpan=e,this.SPANNED_CELL_CSS_CLASS="ag-spanned-cell"}setComp(e,t,n,r,i,s,o){this.eWrapper=n,super.setComp(e,t,n,r,i,s,o),this.setAriaRowSpan(),this.refreshAriaRowIndex()}isCellSpanning(){return!0}getCellSpan(){return this.cellSpan}refreshAriaRowIndex(){const{eGui:e,rowNode:t}=this;!e||t.rowIndex==null||Pw(e,t.rowIndex)}setAriaRowSpan(){Hoe(this.eGui,this.cellSpan.spannedNodes.size)}setFocusedCellPosition(e){this.focusedCellPosition=e}getFocusedCellPosition(){return this.focusedCellPosition??this.cellPosition}checkCellFocused(){const e=this.beans.focusSvc.getFocusedCell();return!!e&&this.cellSpan.doesSpanContain(e)}applyStaticCssClasses(){super.applyStaticCssClasses(),this.comp.toggleCss(this.SPANNED_CELL_CSS_CLASS,!0)}onCellFocused(e){const{beans:t}=this;if(gx(t)){this.focusedCellPosition=void 0;return}const n=this.isCellFocused();n||(this.focusedCellPosition=void 0),e&&n&&(this.focusedCellPosition={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column}),super.onCellFocused(e)}getRootElement(){return this.eWrapper}},rxe=class extends Xw{onRowIndexChanged(){super.onRowIndexChanged();for(const e of this.getAllCellCtrls())e.refreshAriaRowIndex()}getInitialRowClasses(e){return["ag-spanned-row"]}getNewCellCtrl(e){const t=this.beans.rowSpanSvc?.getCellSpan(e,this.rowNode);if(!(!t||t.firstNode!==this.rowNode))return new nxe(t,this,this.beans)}isCorrectCtrlForSpan(e){const t=this.beans.rowSpanSvc?.getCellSpan(e.column,this.rowNode);return!t||t.firstNode!==this.rowNode?!1:e.getCellSpan()===t}onRowHeightChanged(){}refreshFirstAndLastRowStyles(){}addHoverFunctionality(){}resetHoveredStatus(){}},ixe=class extends le{constructor(){super(...arguments),this.beanName="spannedRowRenderer",this.topCtrls=new Map,this.bottomCtrls=new Map,this.centerCtrls=new Map}postConstruct(){this.addManagedEventListeners({displayedRowsChanged:this.createAllCtrls.bind(this)})}createAllCtrls(){this.createCtrls("top"),this.createCtrls("bottom"),this.createCtrls("center")}createCtrls(e){const{rowSpanSvc:t}=this.beans,n=this.getCtrlsMap(e),r=n.size,i=this.getAllRelevantRowControls(e),s=new Map;let o=!1;for(const l of i)l.isAlive()&&t?.forEachSpannedColumn(l.rowNode,(c,d)=>{if(s.has(d.firstNode))return;const f=n.get(d.firstNode);if(f){s.set(d.firstNode,f),n.delete(d.firstNode);return}o=!0;const p=new rxe(d.firstNode,this.beans,!1,!1,!1);s.set(d.firstNode,p)});this.setCtrlsMap(e,s);const a=s.size===r;if(!(!o&&a)){for(const l of n.values())l.destroyFirstPass(!0),l.destroySecondPass();this.dispatchLocalEvent({type:"spannedRowsUpdated",ctrlsKey:e})}}getAllRelevantRowControls(e){const{rowRenderer:t}=this.beans;switch(e){case"top":return t.topRowCtrls;case"bottom":return t.bottomRowCtrls;case"center":return t.allRowCtrls}}getCellByPosition(e){const{rowSpanSvc:t}=this.beans,n=t?.getCellSpanByPosition(e);if(!n)return;const r=this.getCtrlsMap(e.rowPinned).get(n.firstNode);if(r)return r.getAllCellCtrls().find(i=>i.column===e.column)}getCtrls(e){return[...this.getCtrlsMap(e).values()]}destroyRowCtrls(e){for(const t of this.getCtrlsMap(e).values())t.destroyFirstPass(!0),t.destroySecondPass();this.setCtrlsMap(e,new Map)}getCtrlsMap(e){switch(e){case"top":return this.topCtrls;case"bottom":return this.bottomCtrls;default:return this.centerCtrls}}setCtrlsMap(e,t){switch(e){case"top":this.topCtrls=t;break;case"bottom":this.bottomCtrls=t;break;default:this.centerCtrls=t;break}}destroy(){super.destroy(),this.destroyRowCtrls("top"),this.destroyRowCtrls("bottom"),this.destroyRowCtrls("center")}},sxe={moduleName:"CellSpan",version:Re,beans:[txe,ixe]},oxe=class extends le{constructor(e,t){super(),this.cellCtrl=e,this.staticClasses=[],this.beans=t,this.column=e.column}setComp(e){this.cellComp=e,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()}applyCellClassRules(){const{column:e,cellComp:t}=this,n=e.colDef,r=n.cellClassRules,i=this.getCellClassParams(e,n);GA(this.beans.expressionSvc,r===this.cellClassRules?void 0:this.cellClassRules,r,i,s=>t.toggleCss(s,!0),s=>t.toggleCss(s,!1)),this.cellClassRules=r}applyUserStyles(){const e=this.column,t=e.colDef,n=t.cellStyle;if(!n)return;let r;if(typeof n=="function"){const i=this.getCellClassParams(e,t);r=n(i)}else r=n;r&&this.cellComp.setUserStyles(r)}applyClassesFromColDef(){const{column:e,cellComp:t}=this,n=e.colDef,r=this.getCellClassParams(e,n);for(const s of this.staticClasses)t.toggleCss(s,!1);const i=this.beans.cellStyles.getStaticCellClasses(n,r);this.staticClasses=i;for(const s of i)t.toggleCss(s,!0)}getCellClassParams(e,t){const{value:n,rowNode:r}=this.cellCtrl;return _e(this.beans.gos,{value:n,data:r.data,node:r,colDef:t,column:e,rowIndex:r.rowIndex})}},axe=class extends le{constructor(){super(...arguments),this.beanName="cellStyles"}processAllCellClasses(e,t,n,r){GA(this.beans.expressionSvc,void 0,e.cellClassRules,t,n,r),this.processStaticCellClasses(e,t,n)}getStaticCellClasses(e,t){const{cellClass:n}=e;if(!n)return[];let r;return typeof n=="function"?r=n(t):r=n,typeof r=="string"&&(r=[r]),r||[]}createCellCustomStyleFeature(e,t){return new oxe(e,t)}processStaticCellClasses(e,t,n){this.getStaticCellClasses(e,t).forEach(i=>{n(i)})}},lxe={moduleName:"CellStyle",version:Re,beans:[axe]},cxe={moduleName:"RowStyle",version:Re,beans:[Kme]};function uxe(e,t){return!!e.colHover?.isHovered(t)}var dxe=class extends le{constructor(e,t){super(),this.columns=e,this.element=t,this.destroyManagedListeners=[],this.enableFeature=n=>{const{beans:r,gos:i,element:s,columns:o}=this,a=r.colHover;if(n??!!i.get("columnHoverHighlight"))this.destroyManagedListeners=this.addManagedElementListeners(s,{mouseover:a.setMouseOver.bind(a,o),mouseout:a.clearMouseOver.bind(a)});else{for(const c of this.destroyManagedListeners)c();this.destroyManagedListeners=[]}}}postConstruct(){this.addManagedPropertyListener("columnHoverHighlight",({currentValue:e})=>{this.enableFeature(e)}),this.enableFeature()}destroy(){super.destroy(),this.destroyManagedListeners=null}},hxe="ag-column-hover",fxe=class extends le{constructor(){super(...arguments),this.beanName="colHover"}postConstruct(){this.addManagedPropertyListener("columnHoverHighlight",({currentValue:e})=>{e||this.clearMouseOver()})}setMouseOver(e){this.updateState(e)}clearMouseOver(){this.updateState(null)}isHovered(e){if(!this.gos.get("columnHoverHighlight"))return!1;const t=this.selectedColumns;return!!t&&t.indexOf(e)>=0}addHeaderColumnHoverListener(e,t,n){const r=()=>{const i=this.isHovered(n);t.toggleCss("ag-column-hover",i)};e.addManagedEventListeners({columnHoverChanged:r}),r()}onCellColumnHover(e,t){if(!t)return;const n=this.isHovered(e);t.toggleCss(hxe,n)}addHeaderFilterColumnHoverListener(e,t,n,r){this.createHoverFeature(e,[n],r);const i=()=>{const s=this.isHovered(n);t.toggleCss("ag-column-hover",s)};e.addManagedEventListeners({columnHoverChanged:i}),i()}createHoverFeature(e,t,n){e.createManagedBean(new dxe(t,n))}updateState(e){this.selectedColumns=e,this.eventSvc.dispatchEvent({type:"columnHoverChanged"})}},pxe={moduleName:"ColumnHover",version:Re,beans:[fxe],apiFunctions:{isColumnHovered:uxe}},gxe=class extends le{constructor(){super(...arguments),this.beanName="apiEventSvc",this.syncListeners=new Map,this.asyncListeners=new Map,this.syncGlobalListeners=new Set,this.globalListenerPairs=new Map}postConstruct(){this.wrapSvc=this.beans.frameworkOverrides.createGlobalEventListenerWrapper?.()}addListener(e,t){const n=this.wrapSvc?.wrap(e,t)??t,r=!ow.has(e),i=r?this.asyncListeners:this.syncListeners;i.has(e)||i.set(e,new Set),i.get(e).add(n),this.eventSvc.addListener(e,n,r)}removeListener(e,t){const n=this.wrapSvc?.unwrap(e,t)??t,i=!!this.asyncListeners.get(e)?.delete(n);i||this.syncListeners.get(e)?.delete(n),this.eventSvc.removeListener(e,n,i)}addGlobalListener(e){const t=this.wrapSvc?.wrapGlobal(e)??e,n=(s,o)=>{ow.has(s)&&t(s,o)},r=(s,o)=>{ow.has(s)||t(s,o)};this.globalListenerPairs.set(e,{syncListener:n,asyncListener:r});const i=this.eventSvc;i.addGlobalListener(n,!1),i.addGlobalListener(r,!0)}removeGlobalListener(e){const{eventSvc:t,wrapSvc:n,globalListenerPairs:r}=this,i=n?.unwrapGlobal(e)??e;if(r.has(i)){const{syncListener:o,asyncListener:a}=r.get(i);t.removeGlobalListener(o,!1),t.removeGlobalListener(a,!0),r.delete(e)}else this.syncGlobalListeners.delete(i),t.removeGlobalListener(i,!1)}destroyEventListeners(e,t){e.forEach((n,r)=>{n.forEach(i=>this.eventSvc.removeListener(r,i,t)),n.clear()}),e.clear()}destroyGlobalListeners(e,t){for(const n of e)this.eventSvc.removeGlobalListener(n,t);e.clear()}destroy(){super.destroy(),this.destroyEventListeners(this.syncListeners,!1),this.destroyEventListeners(this.asyncListeners,!0),this.destroyGlobalListeners(this.syncGlobalListeners,!1);const{globalListenerPairs:e,eventSvc:t}=this;e.forEach(({syncListener:n,asyncListener:r})=>{t.removeGlobalListener(n,!1),t.removeGlobalListener(r,!0)}),e.clear()}};function mxe(e,t,n){e.apiEventSvc?.addListener(t,n)}function vxe(e,t,n){e.apiEventSvc?.removeListener(t,n)}function yxe(e,t){e.apiEventSvc?.addGlobalListener(t)}function wxe(e,t){e.apiEventSvc?.removeGlobalListener(t)}var lU={moduleName:"EventApi",version:Re,apiFunctions:{addEventListener:mxe,addGlobalListener:yxe,removeEventListener:vxe,removeGlobalListener:wxe},beans:[gxe]},bxe={moduleName:"Locale",version:Re,beans:[Kve]},Cxe=class extends le{constructor(){super(...arguments),this.beanName="rowAutoHeight",this.wasEverActive=!1,this._debouncedCalculateRowHeights=br(this,this.calculateRowHeights.bind(this),1)}requestCheckAutoHeight(){this.wasEverActive&&this._debouncedCalculateRowHeights()}calculateRowHeights(){const{visibleCols:e,rowModel:t,rowSpanSvc:n,pinnedRowModel:r}=this.beans,i=e.autoHeightCols;let s=!1;const o=a=>{const l=a.__autoHeights;let c=Ya(this.beans,a).height;for(const d of i){let f=l?.[d.getColId()];const p=n?.getCellSpan(d,a);if(p){if(p.getLastNode()!==a)continue;if(f=n?.getCellSpan(d,a)?.getLastNodeAutoHeight(),!f)return}if(f==null){if(this.colSpanSkipCell(d,a))continue;return}c=Math.max(f,c)}c!==a.rowHeight&&(a.setRowHeight(c),s=!0)};r?.forEachPinnedRow?.("top",o),r?.forEachPinnedRow?.("bottom",o),t.forEachDisplayedNode?.(o),s&&t.onRowHeightChanged?.()}setRowAutoHeight(e,t,n){if(e.__autoHeights??(e.__autoHeights={}),t==null){delete e.__autoHeights[n.getId()];return}const r=e.__autoHeights[n.getId()];e.__autoHeights[n.getId()]=t,r!==t&&this.requestCheckAutoHeight()}colSpanSkipCell(e,t){const{colModel:n,colViewport:r,visibleCols:i}=this.beans;if(!n.colSpanActive)return!1;let s=[];switch(e.getPinned()){case"left":s=i.getLeftColsForRow(t);break;case"right":s=i.getRightColsForRow(t);break;case null:s=r.getColsWithinViewport(t);break}return!s.includes(e)}setupCellAutoHeight(e,t,n){if(!e.column.isAutoHeight()||!t)return!1;this.wasEverActive=!0;const r=t.parentElement,{rowNode:i,column:s}=e,o=this.beans,a=d=>{if(this.beans.editSvc?.isEditing(e)||!e.isAlive()||!n.isAlive())return;const{paddingTop:f,paddingBottom:p,borderBottomWidth:v,borderTopWidth:y}=yd(r),b=f+p+v+y,S=t.offsetHeight+b;if(d<5){const R=!Wn(o)?.contains(t),T=S==0;if(R||T){window.setTimeout(()=>a(d+1),0);return}}this.setRowAutoHeight(i,S,s)},l=()=>a(0);l();const c=so(o,t,l);return n.addDestroyFunc(()=>{c(),this.setRowAutoHeight(i,void 0,s)}),!0}setAutoHeightActive(e){this.active=e.list.some(t=>t.isVisible()&&t.isAutoHeight())}areRowsMeasured(){if(!this.active)return!0;const e=this.beans.rowRenderer.getAllRowCtrls();let t=null;for(const{rowNode:n}of e)if((!t||this.beans.colModel.colSpanActive)&&(t=this.beans.colViewport.getColsWithinViewport(n).filter(i=>i.isAutoHeight())),t.length!==0){if(!n.__autoHeights)return!1;for(const r of t){const i=n.__autoHeights[r.getColId()];if(!i||n.rowHeight<i)return!1}}return!0}},xxe={moduleName:"RowAutoHeight",version:Re,beans:[Cxe]},Bc={moduleName:"AllCommunity",version:Re,dependsOn:[xbe,Abe,Hbe,fye,Swe,Ewe,Dwe,Rwe,Mwe,Twe,kwe,xwe,g0e,m0e,v0e,p0e,w0e,b0e,nCe,ebe,CCe,eW,PCe,NCe,HCe,UCe,rfe,JCe,Wwe,Ave,lxe,pxe,cxe,lU,Ove,Qbe,UW,bxe,xxe,nfe,Sbe,sxe]},Lr=q.createContext({}),cU=q.createContext("default"),tv=(e,t,n,r)=>{if(!e||e.componentFromFramework||t.isDestroyed())return;const s=e.newAgStackInstance();let o,a,l=!1;return s.then(c=>{if(l){t.destroyBean(c);return}o=c,a=o.getGui(),n.appendChild(a),H_(r,o)}),()=>{l=!0,o&&(a?.remove(),t.destroyBean(o),r&&H_(r,void 0))}},H_=(e,t)=>{if(e)if(e instanceof Function)e(t);else{const n=e;n.current=t}},ws=(...e)=>e.filter(n=>n!=null&&n!=="").join(" "),Ds=class uU{constructor(...t){this.classesMap={};for(const n of t)this.classesMap[n]=!0}setClass(t,n){if(!!this.classesMap[t]==n)return this;const i=new uU;return i.classesMap={...this.classesMap},i.classesMap[t]=n,i}toString(){return Object.keys(this.classesMap).filter(n=>this.classesMap[n]).join(" ")}},Vf=e=>{const t=()=>typeof Symbol=="function"&&Symbol.for,n=()=>t()?Symbol.for("react.memo"):60115;return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===n()},sT=q.version?.split(".")[0],dU=sT==="16"||sT==="17";function Sxe(){return sT==="19"}var lw=!1;function Exe(e){return lw||setTimeout(()=>lw=!1,0),lw=!0,e()}var hm=(e,t)=>{!dU&&e&&!lw?Qk.flushSync(t):t()},Dxe=e=>{dU?e():q.startTransition(e)};function Rxe(e,t,n){return q.useSyncExternalStore?q.useSyncExternalStore(e,t):n}function eb(e,t,n){if(t==null||e==null)return t;if(e===t||t.length===0&&e.length===0)return e;if(n||e.length===0&&t.length>0||e.length>0&&t.length===0)return t;const r=[],i=[],s=new Map,o=new Map;for(let a=0;a<t.length;a++){const l=t[a];o.set(l.instanceId,l)}for(let a=0;a<e.length;a++){const l=e[a];s.set(l.instanceId,l),o.has(l.instanceId)&&r.push(l)}for(let a=0;a<t.length;a++){const l=t[a],c=l.instanceId;s.has(c)||i.push(l)}return r.length===e.length&&i.length===0?e:r.length===0&&i.length===t.length?t:r.length===0?i:i.length===0?r:[...r,...i]}var hU=C.forwardRef((e,t)=>{const{registry:n,context:r}=C.useContext(Lr),i=C.useRef(null),s=C.useRef(null),o=C.useRef(null),a=C.useRef(null),l=C.useRef(null),c=C.useRef(),[d,f]=C.useState(),[p,v]=C.useState(),[y,b]=C.useState(),[x,S]=C.useState(()=>new Ds),[M,R]=C.useState(()=>new Ds("ag-hidden")),[T,k]=C.useState(()=>new Ds("ag-hidden")),[P,A]=C.useState(()=>new Ds("ag-invisible"));C.useImperativeHandle(t,()=>({refresh(){return!1}})),C.useLayoutEffect(()=>tv(d,r,s.current),[d]);const O=C.useCallback(j=>{if(i.current=j,!j||r.isDestroyed()){c.current=r.destroyBean(c.current);return}const $={setInnerRenderer:(K,H)=>{f(K),b(H)},setChildCount:K=>v(K),toggleCss:(K,H)=>S(Y=>Y.setClass(K,H)),setContractedDisplayed:K=>k(H=>H.setClass("ag-hidden",!K)),setExpandedDisplayed:K=>R(H=>H.setClass("ag-hidden",!K)),setCheckboxVisible:K=>A(H=>H.setClass("ag-invisible",!K)),setCheckboxSpacing:K=>A(H=>H.setClass("ag-group-checkbox-spacing",K))},W=n.createDynamicBean("groupCellRendererCtrl",!0);W&&(c.current=r.createBean(W),c.current.init($,j,o.current,a.current,l.current,hU,e))},[]),B=C.useMemo(()=>`ag-cell-wrapper ${x.toString()}`,[x]),U=C.useMemo(()=>`ag-group-expanded ${M.toString()}`,[M]),_=C.useMemo(()=>`ag-group-contracted ${T.toString()}`,[T]),I=C.useMemo(()=>`ag-group-checkbox ${P.toString()}`,[P]),V=d?.componentFromFramework,F=V?d.componentClass:void 0,L=d==null&&y!=null,z=vd(y);return q.createElement("span",{className:B,ref:O,...e.colDef?{}:{role:c.current?.getCellAriaRole()}},q.createElement("span",{className:U,ref:a}),q.createElement("span",{className:_,ref:l}),q.createElement("span",{className:I,ref:o}),q.createElement("span",{className:"ag-group-value",ref:s},L?z:V?q.createElement(F,{...d.params}):null),q.createElement("span",{className:"ag-group-child-count"},p))}),z_=hU,QA=C.createContext({setMethods:()=>{}}),Mxe=e=>{const{initialProps:t,addUpdateCallback:n,CustomComponentClass:r,setMethods:i}=e,[{key:s,...o},a]=C.useState(t);return C.useEffect(()=>{n(l=>a(l))},[]),q.createElement(QA.Provider,{value:{setMethods:i}},q.createElement(r,{key:s,...o}))},Txe=C.memo(Mxe),kxe=0;function G_(){return`agPortalKey_${++kxe}`}var fU=class{constructor(e,t,n,r){this.portal=null,this.oldPortal=null,this.reactComponent=e,this.portalManager=t,this.componentType=n,this.suppressFallbackMethods=!!r,this.statelessComponent=this.isStateless(this.reactComponent),this.key=G_(),this.portalKey=G_(),this.instanceCreated=this.isStatelessComponent()?vt.resolve(!1):new vt(i=>{this.resolveInstanceCreated=i})}getGui(){return this.eParentElement}getRootElement(){return this.eParentElement.firstChild}destroy(){this.componentInstance&&typeof this.componentInstance.destroy=="function"&&this.componentInstance.destroy();const e=this.portal;e&&this.portalManager.destroyPortal(e)}createParentElement(e){const t=this.portalManager.getComponentWrappingElement(),n=document.createElement(t||"div");return n.classList.add("ag-react-container"),e.reactContainer=n,n}statelessComponentRendered(){return this.eParentElement.childElementCount>0||this.eParentElement.childNodes.length>0}getFrameworkComponentInstance(){return this.componentInstance}isStatelessComponent(){return this.statelessComponent}getReactComponentName(){return this.reactComponent.name}getMemoType(){return this.hasSymbol()?Symbol.for("react.memo"):60115}hasSymbol(){return typeof Symbol=="function"&&Symbol.for}isStateless(e){return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===this.getMemoType()}hasMethod(e){const t=this.getFrameworkComponentInstance();return!!t&&t[e]!=null||this.fallbackMethodAvailable(e)}callMethod(e,t){const n=this.getFrameworkComponentInstance();if(this.isStatelessComponent())return this.fallbackMethod(e,t&&t[0]?t[0]:{});if(!n){setTimeout(()=>this.callMethod(e,t));return}const r=n[e];if(r)return r.apply(n,t);if(this.fallbackMethodAvailable(e))return this.fallbackMethod(e,t&&t[0]?t[0]:{})}addMethod(e,t){this[e]=t}init(e){return this.eParentElement=this.createParentElement(e),this.createOrUpdatePortal(e),new vt(t=>this.createReactComponent(t))}createOrUpdatePortal(e){this.isStatelessComponent()||(this.ref=t=>{this.componentInstance=t,this.resolveInstanceCreated?.(!0),this.resolveInstanceCreated=void 0},e.ref=this.ref),this.reactElement=this.createElement(this.reactComponent,{...e,key:this.key}),this.portal=md.createPortal(this.reactElement,this.eParentElement,this.portalKey)}createElement(e,t){return C.createElement(e,t)}createReactComponent(e){this.portalManager.mountReactPortal(this.portal,this,e)}rendered(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!!(!this.isStatelessComponent()&&this.getFrameworkComponentInstance())}refreshComponent(e){this.oldPortal=this.portal,this.createOrUpdatePortal(e),this.portalManager.updateReactPortal(this.oldPortal,this.portal)}fallbackMethod(e,t){const n=this[`${e}Component`];if(!this.suppressFallbackMethods&&n)return n.bind(this)(t)}fallbackMethodAvailable(e){return this.suppressFallbackMethods?!1:!!this[`${e}Component`]}};function Cx(e,t,n){for(const r of e){const i=t[r];i&&(n[r]=i)}}var Zi=class extends fU{constructor(){super(...arguments),this.awaitUpdateCallback=new vt(e=>{this.resolveUpdateCallback=e}),this.wrapperComponent=Txe}init(e){return this.sourceParams=e,super.init(this.getProps())}addMethod(){}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}getFrameworkComponentInstance(){return this}createElement(e,t){return super.createElement(this.wrapperComponent,{initialProps:t,CustomComponentClass:e,setMethods:n=>this.setMethods(n),addUpdateCallback:n=>{this.updateCallback=()=>(n(this.getProps()),new vt(r=>{setTimeout(()=>{r()})})),this.resolveUpdateCallback()}})}setMethods(e){this.providedMethods=e,Cx(this.getOptionalMethods(),this.providedMethods,this)}getOptionalMethods(){return[]}getProps(){return{...this.sourceParams,key:this.key,ref:this.ref}}refreshProps(){return this.updateCallback?this.updateCallback():new vt(e=>this.awaitUpdateCallback.then(()=>{this.updateCallback().then(()=>e())}))}},Axe=class extends Zi{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},Pxe=class extends Zi{constructor(){super(...arguments),this.date=null,this.onDateChange=e=>this.updateDate(e)}getDate(){return this.date}setDate(e){this.date=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled"]}updateDate(e){this.setDate(e),this.sourceParams.onDateChanged()}getProps(){const e=super.getProps();return e.date=this.date,e.onDateChange=this.onDateChange,delete e.onDateChanged,e}},Nxe=class extends Zi{constructor(){super(...arguments),this.label="",this.icon=null,this.shake=!1}setIcon(e,t){this.icon=e,this.shake=t,this.refreshProps()}setLabel(e){this.label=e,this.refreshProps()}getProps(){const e=super.getProps(),{label:t,icon:n,shake:r}=this;return e.label=t,e.icon=n,e.shake=r,e}},Oxe=class extends Zi{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e),this.onUiChange=()=>this.sourceParams.filterModifiedCallback(),this.expectingNewMethods=!0,this.hasBeenActive=!1,this.awaitSetMethodsCallback=new vt(e=>{this.resolveSetMethodsCallback=e})}isFilterActive(){return this.model!=null}doesFilterPass(e){return this.providedMethods.doesFilterPass(e)}getModel(){return this.model}setModel(e){return this.expectingNewMethods=!0,this.model=e,this.hasBeenActive||(this.hasBeenActive=this.isFilterActive()),this.refreshProps()}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}afterGuiAttached(e){const t=this.providedMethods;t?t.afterGuiAttached?.(e):this.awaitSetMethodsCallback.then(()=>this.providedMethods?.afterGuiAttached?.(e))}getOptionalMethods(){return["afterGuiDetached","onNewRowsLoaded","getModelAsString","onAnyFilterChanged"]}setMethods(e){this.expectingNewMethods===!1&&this.hasBeenActive&&this.providedMethods?.doesFilterPass!==e?.doesFilterPass&&setTimeout(()=>{this.sourceParams.filterChangedCallback()}),this.expectingNewMethods=!1,super.setMethods(e),this.resolveSetMethodsCallback(),this.resolveFilterPassCallback?.(),this.resolveFilterPassCallback=void 0}updateModel(e){this.resolveFilterPassCallback?.();const t=new vt(n=>{this.resolveFilterPassCallback=n});this.setModel(e).then(()=>{t.then(()=>{this.sourceParams.filterChangedCallback()})})}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e.onUiChange=this.onUiChange,delete e.filterChangedCallback,e}},Fxe=class extends Zi{constructor(){super(...arguments),this.awaitSetMethodsCallback=new vt(e=>{this.resolveSetMethodsCallback=e})}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}afterGuiAttached(e){const t=this.providedMethods;t?t.afterGuiAttached?.(e):this.awaitSetMethodsCallback.then(()=>this.providedMethods?.afterGuiAttached?.(e))}getOptionalMethods(){return["afterGuiDetached","onNewRowsLoaded","onAnyFilterChanged"]}setMethods(e){super.setMethods(e),this.resolveSetMethodsCallback()}};function pU(e,t){e.parentFilterInstance(n=>{(n.setModel(t)||vt.resolve()).then(()=>{e.filterParams.filterChangedCallback()})})}var Ixe=class{constructor(e,t){this.floatingFilterParams=e,this.refreshProps=t,this.model=null,this.onModelChange=n=>this.updateModel(n)}getProps(){return{...this.floatingFilterParams,model:this.model,onModelChange:this.onModelChange}}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.floatingFilterParams=e,this.refreshProps()}setMethods(e){Cx(this.getOptionalMethods(),e,this)}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),pU(this.floatingFilterParams,e)}},Lxe=class extends Zi{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e)}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),pU(this.sourceParams,e)}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e}},_xe=class extends Zi{refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}},jxe=class extends Zi{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},Bxe=class extends Zi{refresh(e){this.sourceParams=e,this.refreshProps()}},Hxe=class extends Zi{constructor(){super(...arguments),this.active=!1,this.expanded=!1,this.onActiveChange=e=>this.updateActive(e)}setActive(e){this.awaitSetActive(e)}setExpanded(e){this.expanded=e,this.refreshProps()}getOptionalMethods(){return["select","configureDefaults"]}awaitSetActive(e){return this.active=e,this.refreshProps()}updateActive(e){const t=this.awaitSetActive(e);e&&t.then(()=>this.sourceParams.onItemActivated())}getProps(){const e=super.getProps();return e.active=this.active,e.expanded=this.expanded,e.onActiveChange=this.onActiveChange,delete e.onItemActivated,e}},zxe=class extends Zi{refresh(e){this.sourceParams=e,this.refreshProps()}},Gxe=class extends Zi{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},Vxe=class extends Zi{constructor(){super(...arguments),this.onStateChange=e=>this.updateState(e)}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getState(){return this.state}updateState(e){this.state=e,this.refreshProps(),this.sourceParams.onStateUpdated()}getProps(){const e=super.getProps();return e.state=this.state,e.onStateChange=this.onStateChange,e}};function XA(){ve(231)}var Wxe=1e3,Uxe=class{constructor(e,t,n){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=t||"div",this.refresher=e,this.maxComponentCreationTimeMs=n||Wxe}getPortals(){return this.portals}destroy(){this.destroyed=!0}destroyPortal(e){this.portals=this.portals.filter(t=>t!==e),this.batchUpdate()}getComponentWrappingElement(){return this.wrappingElement}mountReactPortal(e,t,n){this.portals=[...this.portals,e],this.waitForInstance(t,n),this.batchUpdate()}updateReactPortal(e,t){this.portals[this.portals.indexOf(e)]=t,this.batchUpdate()}batchUpdate(){this.hasPendingPortalUpdate||(setTimeout(()=>{this.destroyed||(this.refresher(),this.hasPendingPortalUpdate=!1)}),this.hasPendingPortalUpdate=!0)}waitForInstance(e,t,n=Date.now()){if(this.destroyed){t(null);return}if(e.rendered())t(e);else{if(Date.now()-n>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate){hm(!0,()=>this.refresher()),e.rendered()&&t(e);return}window.setTimeout(()=>{this.waitForInstance(e,t,n)})}}},$xe=({ctrl:e})=>{const t=e.isAlive(),{context:n}=C.useContext(Lr),[r,i]=C.useState(),[s,o]=C.useState(),a=C.useRef(),l=C.useRef(null),c=C.useRef(null),d=C.useRef(null),f=C.useRef(),p=C.useRef();t&&!p.current&&(p.current=new Hf(()=>l.current));const v=C.useCallback(S=>{if(l.current=S,!S||!e.isAlive()||n.isDestroyed()){a.current=n.destroyBean(a.current);return}a.current=n.createBean(new Bf);const M=()=>{const T=e.getSelectAllGui();T&&(c.current?.insertAdjacentElement("afterend",T),a.current.addDestroyFunc(()=>T.remove()))},R={setWidth:T=>{l.current&&(l.current.style.width=T)},toggleCss:(T,k)=>p.current.toggleCss(T,k),setUserStyles:T=>o(T),setAriaSort:T=>{l.current&&(T?qG(l.current,T):KG(l.current))},setUserCompDetails:T=>i(T),getUserCompInstance:()=>f.current||void 0,refreshSelectAllGui:M,removeSelectAllGui:()=>e.getSelectAllGui()?.remove()};e.setComp(R,S,c.current,d.current,a.current),M()},[]);C.useLayoutEffect(()=>tv(r,n,d.current,f),[r]),C.useEffect(()=>{e.setDragSource(l.current)},[r]);const y=C.useMemo(()=>!!(r?.componentFromFramework&&Vf(r.componentClass)),[r]),b=r?.componentFromFramework,x=r?.componentClass;return q.createElement("div",{ref:v,style:s,className:"ag-header-cell",role:"columnheader"},q.createElement("div",{ref:c,className:"ag-header-cell-resize",role:"presentation"}),q.createElement("div",{ref:d,className:"ag-header-cell-comp-wrapper",role:"presentation"},b?y?q.createElement(x,{...r.params}):q.createElement(x,{...r.params,ref:f}):null))},qxe=C.memo($xe),Kxe=class{constructor(e,t){this.floatingFilterParams=e,this.refreshProps=t}getProps(){return this.floatingFilterParams}refresh(e){this.floatingFilterParams=e,this.refreshProps()}setMethods(e){Cx(this.getOptionalMethods(),e,this)}getOptionalMethods(){return["afterGuiAttached"]}},Yxe=({ctrl:e})=>{const{context:t,gos:n}=C.useContext(Lr),[r,i]=C.useState(),[s,o]=C.useState(()=>new Ds("ag-header-cell","ag-floating-filter")),[a,l]=C.useState(()=>new Ds),[c,d]=C.useState(()=>new Ds("ag-floating-filter-button","ag-hidden")),[f,p]=C.useState("false"),[v,y]=C.useState(),[,b]=C.useState(1),x=C.useRef(),S=C.useRef(null),M=C.useRef(null),R=C.useRef(null),T=C.useRef(null),k=C.useRef(),P=C.useRef(),A=K=>{K!=null&&k.current&&k.current(K)},O=C.useCallback(K=>{if(S.current=K,!K||!e.isAlive()||t.isDestroyed()){x.current=t.destroyBean(x.current);return}x.current=t.createBean(new Bf),P.current=new vt(Y=>{k.current=Y});const H={toggleCss:(Y,Z)=>o(X=>X.setClass(Y,Z)),setUserStyles:Y=>i(Y),addOrRemoveBodyCssClass:(Y,Z)=>l(X=>X.setClass(Y,Z)),setButtonWrapperDisplayed:Y=>{d(Z=>Z.setClass("ag-hidden",!Y)),p(Y?"false":"true")},setWidth:Y=>{S.current&&(S.current.style.width=Y)},setCompDetails:Y=>y(Y),getFloatingFilterComp:()=>P.current?P.current:null,setMenuIcon:Y=>T.current?.appendChild(Y)};e.setComp(H,K,T.current,M.current,x.current)},[]);C.useLayoutEffect(()=>tv(v,t,M.current,A),[v]);const B=C.useMemo(()=>s.toString(),[s]),U=C.useMemo(()=>a.toString(),[a]),_=C.useMemo(()=>c.toString(),[c]),I=C.useMemo(()=>!!(v&&v.componentFromFramework&&Vf(v.componentClass)),[v]),V=C.useMemo(()=>n.get("reactiveCustomComponents"),[]),F=C.useMemo(()=>n.get("enableFilterHandlers"),[]),[L,z]=C.useState();C.useEffect(()=>{if(v?.componentFromFramework)if(V){const K=F?Kxe:Ixe,H=new K(v.params,()=>b(Y=>Y+1));A(H),z(H)}else XA()},[v]);const j=L?.getProps(),$=v?.componentFromFramework,W=v?.componentClass;return q.createElement("div",{ref:O,style:r,className:B,role:"gridcell"},q.createElement("div",{ref:M,className:U,role:"presentation"},$?V?j&&q.createElement(QA.Provider,{value:{setMethods:K=>L.setMethods(K)}},q.createElement(W,{...j})):q.createElement(W,{...v.params,ref:I?()=>{}:A}):null),q.createElement("div",{ref:R,"aria-hidden":f,className:_,role:"presentation"},q.createElement("button",{ref:T,type:"button",className:"ag-button ag-floating-filter-button-button",tabIndex:-1})))},Qxe=C.memo(Yxe),Xxe=({ctrl:e})=>{const{context:t}=C.useContext(Lr),[n,r]=C.useState(),[i,s]=C.useState(()=>new Ds),[o,a]=C.useState(()=>new Ds),[l,c]=C.useState("false"),[d,f]=C.useState(),[p,v]=C.useState(),y=C.useRef(),b=C.useRef(null),x=C.useRef(null),S=C.useRef(null),M=C.useRef(),R=C.useCallback(B=>{if(b.current=B,!B||!e.isAlive()||t.isDestroyed()){y.current=t.destroyBean(y.current);return}y.current=t.createBean(new Bf);const U={setWidth:_=>{b.current&&(b.current.style.width=_)},toggleCss:(_,I)=>s(V=>V.setClass(_,I)),setUserStyles:_=>r(_),setHeaderWrapperHidden:_=>{const I=S.current;I&&(_?I.style.setProperty("display","none"):I.style.removeProperty("display"))},setHeaderWrapperMaxHeight:_=>{const I=S.current;I&&(_!=null?I.style.setProperty("max-height",`${_}px`):I.style.removeProperty("max-height"),I.classList.toggle("ag-header-cell-comp-wrapper-limited-height",_!=null))},setUserCompDetails:_=>v(_),setResizableDisplayed:_=>{a(I=>I.setClass("ag-hidden",!_)),c(_?"false":"true")},setAriaExpanded:_=>f(_),getUserCompInstance:()=>M.current||void 0};e.setComp(U,B,x.current,S.current,y.current)},[]);C.useLayoutEffect(()=>tv(p,t,S.current),[p]),C.useEffect(()=>{b.current&&e.setDragSource(b.current)},[p]);const T=C.useMemo(()=>!!(p?.componentFromFramework&&Vf(p.componentClass)),[p]),k=C.useMemo(()=>"ag-header-group-cell "+i.toString(),[i]),P=C.useMemo(()=>"ag-header-cell-resize "+o.toString(),[o]),A=p?.componentFromFramework,O=p?.componentClass;return q.createElement("div",{ref:R,style:n,className:k,role:"columnheader","aria-expanded":d},q.createElement("div",{ref:S,className:"ag-header-cell-comp-wrapper",role:"presentation"},A?T?q.createElement(O,{...p.params}):q.createElement(O,{...p.params,ref:M}):null),q.createElement("div",{ref:x,"aria-hidden":l,className:P}))},Jxe=C.memo(Xxe),Zxe=({ctrl:e})=>{const{gos:t,context:n}=C.useContext(Lr),{topOffset:r,rowHeight:i}=C.useMemo(()=>e.getTopAndHeight(),[]),s=C.useMemo(()=>t.get("tabIndex"),[]),[o,a]=C.useState(()=>e.getAriaRowIndex()),l=e.headerRowClass,[c,d]=C.useState(()=>i+"px"),[f,p]=C.useState(()=>r+"px"),v=C.useRef(null),[y,b]=C.useState(()=>e.getUpdatedHeaderCtrls()),x=C.useRef(),S=C.useRef(null),M=C.useCallback(k=>{if(S.current=k,!k||!e.isAlive()||n.isDestroyed()){x.current=n.destroyBean(x.current);return}x.current=n.createBean(new Bf);const P={setHeight:A=>d(A),setTop:A=>p(A),setHeaderCtrls:(A,O,B)=>{const U=v.current,_=eb(U,A,O);_!==U&&(v.current=_,hm(B,()=>b(_)))},setWidth:A=>{S.current&&(S.current.style.width=A)},setRowIndex:A=>{a(A)}};e.setComp(P,x.current,!1)},[]),R=C.useMemo(()=>({height:c,top:f}),[c,f]),T=C.useCallback(k=>{switch(e.type){case"group":return q.createElement(Jxe,{ctrl:k,key:k.instanceId});case"filter":return q.createElement(Qxe,{ctrl:k,key:k.instanceId});default:return q.createElement(qxe,{ctrl:k,key:k.instanceId})}},[]);return q.createElement("div",{ref:M,className:l,role:"row",style:R,tabIndex:s,"aria-rowindex":o},y.map(T))},eSe=C.memo(Zxe),tSe=({pinned:e})=>{const[t,n]=C.useState(!0),[r,i]=C.useState([]),{context:s}=C.useContext(Lr),o=C.useRef(null),a=C.useRef(null),l=C.useRef(),c=e==="left",d=e==="right",f=!c&&!d,p=C.useCallback(b=>{if(o.current=b,!b||s.isDestroyed()){l.current=s.destroyBean(l.current);return}l.current=s.createBean(new L7(e));const x={setDisplayed:n,setCtrls:S=>i(S),setCenterWidth:S=>{a.current&&(a.current.style.width=S)},setViewportScrollLeft:S=>{o.current&&(o.current.scrollLeft=S)},setPinnedContainerWidth:S=>{o.current&&(o.current.style.width=S,o.current.style.minWidth=S,o.current.style.maxWidth=S)}};l.current.setComp(x,o.current)},[]),v=t?"":"ag-hidden",y=()=>r.map(b=>q.createElement(eSe,{ctrl:b,key:b.instanceId}));return c?q.createElement("div",{ref:p,className:"ag-pinned-left-header "+v,"aria-hidden":!t,role:"rowgroup"},y()):d?q.createElement("div",{ref:p,className:"ag-pinned-right-header "+v,"aria-hidden":!t,role:"rowgroup"},y()):f?q.createElement("div",{ref:p,className:"ag-header-viewport "+v,role:"rowgroup",tabIndex:-1},q.createElement("div",{ref:a,className:"ag-header-container",role:"presentation"},y())):null},WD=C.memo(tSe),nSe=()=>{const[e,t]=C.useState(()=>new Ds),[n,r]=C.useState(),{context:i}=C.useContext(Lr),s=C.useRef(null),o=C.useRef(),a=C.useCallback(d=>{if(s.current=d,!d||i.isDestroyed()){o.current=i.destroyBean(o.current);return}o.current=i.createBean(new F7);const f={toggleCss:(p,v)=>t(y=>y.setClass(p,v)),setHeightAndMinHeight:p=>r(p)};o.current.setComp(f,d,d)},[]),l=C.useMemo(()=>"ag-header "+e.toString(),[e]),c=C.useMemo(()=>({height:n,minHeight:n}),[n]);return q.createElement("div",{ref:a,className:l,style:c,role:"presentation"},q.createElement(WD,{pinned:"left"}),q.createElement(WD,{pinned:null}),q.createElement(WD,{pinned:"right"}))},rSe=C.memo(nSe),iSe=(e,t)=>{C.useEffect(()=>{const n=t.current;if(n){const r=n.parentElement;if(r){const i=document.createComment(e);return r.insertBefore(i,n),()=>{i.remove()}}}},[e])},wu=iSe,sSe=class{constructor(e,t){this.cellEditorParams=e,this.refreshProps=t,this.instanceCreated=new vt(n=>{this.resolveInstanceCreated=n}),this.onValueChange=n=>this.updateValue(n),this.value=e.value}getProps(){return{...this.cellEditorParams,initialValue:this.cellEditorParams.value,value:this.value,onValueChange:this.onValueChange}}getValue(){return this.value}refresh(e){this.cellEditorParams=e,this.refreshProps()}setMethods(e){Cx(this.getOptionalMethods(),e,this)}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}setRef(e){this.componentInstance=e,this.resolveInstanceCreated?.(),this.resolveInstanceCreated=void 0}getOptionalMethods(){return["isCancelBeforeStart","isCancelAfterEnd","focusIn","focusOut","afterGuiAttached","getValidationErrors","getValidationElement"]}updateValue(e){this.value=e,this.refreshProps()}},oSe=e=>{const t=C.useRef(e),n=C.useRef(),r=C.useRef(!1),i=C.useRef(!1),[,s]=C.useState(0);r.current&&(i.current=!0),C.useEffect(()=>(r.current||(n.current=t.current(),r.current=!0),s(o=>o+1),()=>{i.current&&n.current?.()}),[])},aSe=e=>{const[t,n]=C.useState(),r=C.useContext(Lr),{context:i,popupSvc:s,gos:o,editSvc:a}=r,{editDetails:l,cellCtrl:c,eParentCell:d}=e;return oSe(()=>{const{compDetails:f}=l,p=o.get("stopEditingWhenCellsLoseFocus");let v,y;if(!i.isDestroyed()){y=i.createBean(a.createPopupEditorWrapper(f.params));const b=y.getGui();if(e.jsChildComp){const k=e.jsChildComp.getGui();k&&b.appendChild(k)}const{column:x,rowNode:S}=c,M={column:x,rowNode:S,type:"popupCellEditor",eventSource:d,ePopup:b,position:l.popupPosition,keepWithinBounds:!0},R=s?.positionPopupByComponent.bind(s,M),T=s?.addPopup({modal:p,eChild:b,closeOnEsc:!0,closedCallback:()=>{c.onPopupEditorClosed()},anchorToElement:d,positionCallback:R,ariaOwns:d});v=T?T.hideFunc:void 0,n(y),e.jsChildComp?.afterGuiAttached?.()}return()=>{v?.(),i.destroyBean(y)}}),C.useLayoutEffect(()=>()=>{c.isCellFocused()&&t?.getGui().contains(sn(r))&&d.focus({preventScroll:!0})},[t]),t&&e.wrappedContent?md.createPortal(e.wrappedContent,t.getGui()):null},V_=C.memo(aSe),lSe=(e,t,n)=>{const{compProxy:r}=e;n(r);const i=r.getProps(),s=Vf(t);return q.createElement(QA.Provider,{value:{setMethods:o=>r.setMethods(o)}},s?q.createElement(t,{...i}):q.createElement(t,{...i,ref:o=>r.setRef(o)}))},W_=(e,t,n)=>e.compProxy?lSe(e,t,n):q.createElement(t,{...e.compDetails.params,ref:n}),cSe=(e,t,n,r,i)=>{const s=e.compDetails,o=s.componentClass,a=s.componentFromFramework&&!e.popup,l=s.componentFromFramework&&e.popup,c=!s.componentFromFramework&&e.popup;return a?W_(e,o,t):l?q.createElement(V_,{editDetails:e,cellCtrl:r,eParentCell:n,wrappedContent:W_(e,o,t)}):c&&i?q.createElement(V_,{editDetails:e,cellCtrl:r,eParentCell:n,jsChildComp:i}):null},uSe=(e,t,n,r,i,s)=>{const{context:o}=C.useContext(Lr),a=C.useCallback(()=>{const l=i.current;if(!l)return;const c=l.getGui();c&&c.parentElement&&c.remove(),o.destroyBean(l),i.current=void 0},[]);C.useEffect(()=>{const l=e!=null,c=e?.compDetails&&!e.compDetails.componentFromFramework,d=t&&n==null;if(!(l&&c&&!d)){a();return}const p=e.compDetails;if(i.current){const y=i.current,x=y.refresh!=null&&e.force==!1?y.refresh(p.params):!1;if(x===!0||x===void 0)return;a()}p.newAgStackInstance().then(y=>{if(!y)return;const b=y.getGui();if(!b)return;(t?n:s.current).appendChild(b),i.current=y})},[e,t,r]),C.useEffect(()=>a,[])},gU=uSe,dSe=({cellCtrl:e,parent:t})=>{const n=C.useRef(),r=C.useMemo(()=>{const{loadingComp:i}=e.getDeferLoadingCellRenderer();return i?{value:void 0,compDetails:i,force:!1}:void 0},[e]);if(gU(r,!1,void 0,1,n,t),r?.compDetails?.componentFromFramework){const i=r.compDetails.componentClass;return q.createElement(i,{...r.compDetails.params})}return q.createElement(q.Fragment,null)},hSe=({cellCtrl:e,printLayout:t,editingCell:n})=>{const r=C.useContext(Lr),{context:i}=r,{column:{colIdSanitised:s},instanceId:o}=e,a=C.useRef(),[l,c]=C.useState(()=>e.isCellRenderer()?void 0:{compDetails:void 0,value:e.getValueToDisplay(),force:!1}),[d,f]=C.useState(),[p,v]=C.useState(1),[y,b]=C.useState(),[x,S]=C.useState(!1),[M,R]=C.useState(!1),[T,k]=C.useState(!1),[P,A]=C.useState(),O=C.useMemo(()=>e.isForceWrapper(),[e]),B=C.useMemo(()=>e.getCellAriaRole(),[e]),U=C.useRef(null),_=C.useRef(null),I=C.useRef(null),V=C.useRef(),F=C.useRef(),L=C.useRef(),z=C.useRef([]),j=C.useRef(),$=C.useRef(),[W,K]=C.useState(0),H=C.useCallback(Ne=>{$.current=Ne,K(rt=>rt+1)},[]),Y=l!=null&&(x||T||M)&&(d==null||!!d.popup),Z=O||Y,X=C.useMemo(()=>e.getCellValueClass(),[e]),fe=C.useCallback(Ne=>{if(F.current=Ne,Ne){const rt=Ne.isCancelBeforeStart&&Ne.isCancelBeforeStart();setTimeout(()=>{rt?(e.stopEditing(!0),e.focusCell(!0)):(e.cellEditorAttached(),e.enableEditorTooltipFeature(Ne))})}},[e]),pe=C.useRef();pe.current||(pe.current=new Hf(()=>U.current)),gU(l,Z,$.current,W,V,U);const Ce=C.useRef();C.useLayoutEffect(()=>{const Ne=Ce.current,rt=l;if(Ce.current=l,Ne==null||Ne.compDetails==null||rt==null||rt.compDetails==null)return;j.current?.refreshVisibility();const Mt=Ne.compDetails,Jt=rt.compDetails;if(Mt.componentClass!=Jt.componentClass||I.current?.refresh==null)return;I.current.refresh(Jt.params)!=!0&&v(ot=>ot+1)},[l]),C.useLayoutEffect(()=>{if(!(d&&!d.compDetails.componentFromFramework)||i.isDestroyed())return;const rt=d.compDetails,Mt=d.popup===!0,Jt=rt.newAgStackInstance();return Jt.then(qe=>{if(!qe)return;const ot=qe.getGui();fe(qe),Mt||((O?L:U).current?.appendChild(ot),qe.afterGuiAttached?.()),A(qe)}),()=>{Jt.then(qe=>{const ot=qe.getGui();e.disableEditorTooltipFeature(),i.destroyBean(qe),fe(void 0),A(void 0),ot?.remove()})}},[d]);const je=C.useCallback(Ne=>{if(L.current=Ne,!Ne||i.isDestroyed()||!e.isAlive()){const Jt=z.current;z.current=[];for(const qe of Jt)qe();return}let rt;const Mt=Jt=>{Jt&&(Ne.insertAdjacentElement("afterbegin",Jt.getGui()),z.current.push(()=>{Es(Jt.getGui()),i.destroyBean(Jt),j.current===rt&&(j.current=void 0)}))};x&&Mt(e.createSelectionCheckbox()),T&&Mt(e.createDndSource()),M&&(rt=e.createRowDragComp(),j.current=rt,rt&&(Mt(rt),rt.refreshVisibility()))},[e,i,T,M,x]),oe=C.useCallback(()=>{const Ne=!e.isCellSpanning()||_.current,rt=U.current;if(!rt||!Ne||!e||!e.isAlive()||i.isDestroyed()){a.current=i.destroyBean(a.current);return}a.current=i.createBean(new Bf);const Mt={toggleCss:(qe,ot)=>pe.current.toggleCss(qe,ot),setUserStyles:qe=>b(qe),getFocusableElement:()=>U.current,setIncludeSelection:qe=>S(qe),setIncludeRowDrag:qe=>R(qe),setIncludeDndSource:qe=>k(qe),getCellEditor:()=>F.current??null,getCellRenderer:()=>I.current??V.current,getParentOfValue:()=>$.current??L.current??U.current,setRenderDetails:(qe,ot,Sn)=>{const Pi=()=>{c(gt=>gt?.compDetails!==qe||gt?.value!==ot||gt?.force!==Sn?{value:ot,compDetails:qe,force:Sn}:gt)};if(qe?.params?.deferRender&&!e.rowNode.group){const{loadingComp:gt,onReady:ii}=e.getDeferLoadingCellRenderer();if(gt){c({value:void 0,compDetails:gt,force:!1}),ii.then(()=>Dxe(Pi));return}}Pi()},setEditDetails:(qe,ot,Sn,Pi)=>{if(qe){let gt;qe.componentFromFramework&&(Pi?gt=new sSe(qe.params,()=>v(ii=>ii+1)):XA()),f({compDetails:qe,popup:ot,popupPosition:Sn,compProxy:gt}),ot||c(void 0)}else e.hasBrowserFocus()&&Mt.getFocusableElement().focus({preventScroll:!0}),F.current=void 0,f(void 0)},refreshEditStyles:(qe,ot)=>{if(!U.current)return;const{current:Sn}=pe;Sn.toggleCss("ag-cell-value",!Z),Sn.toggleCss("ag-cell-inline-editing",!!qe&&!ot),Sn.toggleCss("ag-cell-popup-editing",!!qe&&!!ot),Sn.toggleCss("ag-cell-not-inline-editing",!qe||!!ot)}},Jt=L.current||void 0;e.setComp(Mt,rt,_.current??void 0,Jt,t,n,a.current)},[]),de=C.useCallback(Ne=>{U.current=Ne,oe()},[]),Me=C.useCallback(Ne=>{_.current=Ne,oe()},[]),ue=C.useMemo(()=>!!(l?.compDetails?.componentFromFramework&&Vf(l.compDetails.componentClass)),[l]);C.useLayoutEffect(()=>{if(!U.current)return;const{current:Ne}=pe;Ne.toggleCss("ag-cell-value",!Z),Ne.toggleCss("ag-cell-inline-editing",!!d&&!d.popup),Ne.toggleCss("ag-cell-popup-editing",!!d&&!!d.popup),Ne.toggleCss("ag-cell-not-inline-editing",!d||!!d.popup)});const Ve=()=>{const{compDetails:Ne,value:rt}=l;if(!Ne)return rt?.toString?.()??rt;if(Ne.componentFromFramework){const Mt=Ne.componentClass;return q.createElement(C.Suspense,{fallback:q.createElement(dSe,{cellCtrl:e,parent:U})},ue?q.createElement(Mt,{...Ne.params,key:p}):q.createElement(Mt,{...Ne.params,key:p,ref:I}))}},Ge=()=>{const Ne=()=>l==null?null:Z?q.createElement("span",{role:"presentation",id:`cell-${o}`,className:X,ref:H},Ve()):Ve(),rt=Mt=>cSe(Mt,fe,U.current,e,P);return d!=null?d.popup?q.createElement(q.Fragment,null,Ne(),rt(d)):rt(d):Ne()},Xe=()=>q.createElement("div",{ref:de,style:y,role:B,"col-id":s},Z?q.createElement("div",{className:"ag-cell-wrapper",role:"presentation",ref:je},Ge()):Ge());return e.isCellSpanning()?q.createElement("div",{ref:Me,className:"ag-spanned-cell-wrapper",role:"presentation"},Xe()):Xe()},fSe=C.memo(hSe),pSe=({rowCtrl:e,containerType:t})=>{const{context:n,gos:r,editSvc:i}=C.useContext(Lr),s=C.useContext(cU)==="default",o=C.useRef(),a=C.useRef(e.getDomOrder()),l=e.isFullWidth(),c=e.rowNode.displayed,[d,f]=C.useState(()=>c?e.rowNode.getRowIndexString():null),[p,v]=C.useState(()=>e.rowId),[y,b]=C.useState(()=>e.businessKey),[x,S]=C.useState(()=>e.rowStyles),M=C.useRef(null),[R,T]=C.useState(()=>null),[k,P]=C.useState(),[A,O]=C.useState(()=>c?e.getInitialRowTop(t):void 0),[B,U]=C.useState(()=>c?e.getInitialTransform(t):void 0),_=C.useRef(null),I=C.useRef(),V=C.useRef(),F=C.useRef(!1),[L,z]=C.useState(0);C.useEffect(()=>{if(F.current||!k||L>10)return;const de=_.current?.firstChild;de?(e.setupDetailRowAutoHeight(de),F.current=!0):z(Me=>Me+1)},[k,L]);const j=C.useRef();j.current||(j.current=new Hf(()=>_.current));const $=C.useRef(()=>{}),W=C.useCallback(de=>($.current=de,()=>{$.current=()=>{}}),[]),K=Rxe(W,()=>M.current,[]),H=s?K:R,Y=C.useCallback(de=>{if(_.current=de,o.current=de?n.createBean(new Bf):n.destroyBean(o.current),!de){e.unsetComp(t);return}if(!e.isAlive()||n.isDestroyed())return;const Me={setTop:O,setTransform:U,toggleCss:(ue,Ve)=>j.current.toggleCss(ue,Ve),setDomOrder:ue=>a.current=ue,setRowIndex:f,setRowId:v,setRowBusinessKey:b,setUserStyles:S,setCellCtrls:(ue,Ve)=>{const Ge=M.current,Xe=eb(Ge,ue,a.current);Xe!==Ge&&(M.current=Xe,s?$.current():hm(Ve,()=>T(Xe)))},showFullWidth:ue=>{V.current=ue.params,P(ue)},getFullWidthCellRenderer:()=>I.current,getFullWidthCellRendererParams:()=>V.current,refreshFullWidth:ue=>{const Ve=ue();return V.current=Ve,Ce.current?(P(Ge=>({...Ge,params:Ve})),!0):!I.current||!I.current.refresh?!1:I.current.refresh(Ve)}};e.setComp(Me,de,t,o.current)},[]);C.useLayoutEffect(()=>tv(k,n,_.current,I),[k]);const Z=C.useMemo(()=>{const de={top:A,transform:B};return Object.assign(de,x),de},[A,B,x]),X=l&&k?.componentFromFramework,fe=!l&&H!=null,pe=C.useMemo(()=>!!(k?.componentFromFramework&&Vf(k.componentClass)),[k]),Ce=C.useRef(!1);C.useEffect(()=>{Ce.current=pe&&!!k&&!!r.get("reactiveCustomComponents")},[pe,k]);const je=()=>H?.map(de=>q.createElement(fSe,{cellCtrl:de,editingCell:i?.isEditing(de,{withOpenEditor:!0})??!1,printLayout:e.printLayout,key:de.instanceId})),oe=()=>{const de=k.componentClass;return pe?q.createElement(de,{...k.params}):q.createElement(de,{...k.params,ref:I})};return q.createElement("div",{ref:Y,role:"row",style:Z,"row-index":d,"row-id":p,"row-business-key":y},fe?je():X?oe():null)},U_=C.memo(pSe),gSe=({name:e})=>{const{context:t,gos:n}=C.useContext(Lr),r=C.useMemo(()=>Gf(e),[e]),i=C.useRef(null),s=C.useRef(null),o=C.useRef(null),a=C.useRef([]),l=C.useRef([]),[c,d]=C.useState(()=>[]),f=!!n.get("enableCellSpan")&&!!r.getSpannedRowCtrls,p=C.useRef([]),v=C.useRef([]),[y,b]=C.useState(()=>[]),x=C.useRef(!1),S=C.useRef(),M=C.useMemo(()=>ws("ag-viewport",NA(e)),[e]),R=C.useMemo(()=>ws(Ng(e)),[e]),T=C.useMemo(()=>ws("ag-spanning-container",C7(e)),[e]),k=r.type==="center"||f,P=k?i:s;wu(" AG Row Container "+e+" ",P);const A=C.useCallback(()=>{const L=!k||i.current!=null,z=s.current!=null,j=!f||o.current!=null;return L&&z&&j},[]),O=C.useCallback(()=>i.current==null&&s.current==null&&o.current==null,[]),B=C.useCallback(()=>{if(O()&&(S.current=t.destroyBean(S.current)),!t.isDestroyed()&&A()){const L=$=>{const W=eb(l.current,a.current,x.current);W!==l.current&&(l.current=W,hm($,()=>d(W)))},z=$=>{const W=eb(v.current,p.current,x.current);W!==v.current&&(v.current=W,hm($,()=>b(W)))},j={setHorizontalScroll:$=>{i.current&&(i.current.scrollLeft=$)},setViewportHeight:$=>{i.current&&(i.current.style.height=$)},setRowCtrls:({rowCtrls:$,useFlushSync:W})=>{const K=!!W&&a.current.length>0&&$.length>0;a.current=$,L(K)},setSpannedRowCtrls:($,W)=>{const K=!!W&&p.current.length>0&&$.length>0;p.current=$,z(K)},setDomOrder:$=>{x.current!=$&&(x.current=$,L(!1))},setContainerWidth:$=>{s.current&&(s.current.style.width=$)},setOffsetTop:$=>{s.current&&(s.current.style.transform=`translateY(${$})`)}};S.current=t.createBean(new E7(e)),S.current.setComp(j,s.current,o.current??void 0,i.current)}},[A,O]),U=C.useCallback(L=>{s.current=L,B()},[B]),_=C.useCallback(L=>{o.current=L,B()},[B]),I=C.useCallback(L=>{i.current=L,B()},[B]),V=()=>q.createElement("div",{className:R,ref:U,role:k?"presentation":"rowgroup"},c.map(L=>q.createElement(U_,{rowCtrl:L,containerType:r.type,key:L.instanceId})));if(!k)return V();const F=()=>q.createElement("div",{className:T,ref:_,role:"presentation"},y.map(L=>q.createElement(U_,{rowCtrl:L,containerType:r.type,key:L.instanceId})));return q.createElement("div",{className:M,ref:I,role:"rowgroup"},V(),f?F():null)},mSe=C.memo(gSe),vSe=()=>{const e=C.useContext(Lr),{context:t,overlays:n}=e,[r,i]=C.useState(""),[s,o]=C.useState(0),[a,l]=C.useState(0),[c,d]=C.useState("0px"),[f,p]=C.useState("0px"),[v,y]=C.useState("100%"),[b,x]=C.useState("0px"),[S,M]=C.useState("0px"),[R,T]=C.useState("100%"),[k,P]=C.useState(!0),[A,O]=C.useState(!0),[B,U]=C.useState(null),[_,I]=C.useState(""),[V,F]=C.useState(null),[L,z]=C.useState("ag-layout-normal"),j=C.useRef();j.current||(j.current=new Hf(()=>$.current));const $=C.useRef(null),W=C.useRef(null),K=C.useRef(null),H=C.useRef(null),Y=C.useRef(null),Z=C.useRef(null),X=C.useRef(null),fe=C.useRef([]),pe=C.useRef([]);wu(" AG Grid Body ",$),wu(" AG Pinned Top ",W),wu(" AG Sticky Top ",K),wu(" AG Middle ",Z),wu(" AG Pinned Bottom ",X);const Ce=C.useCallback(ot=>{if($.current=ot,!ot||t.isDestroyed()){fe.current=t.destroyBeans(fe.current);for(const Tt of pe.current)Tt();pe.current=[];return}const Sn=(Tt,lr)=>{Tt.appendChild(lr),pe.current.push(()=>lr.remove())},Pi=Tt=>{const lr=t.createBean(new Tt);return fe.current.push(lr),lr},gt=(Tt,lr,Uc)=>{Sn(Tt,document.createComment(Uc)),Sn(Tt,Pi(lr).getGui())};gt(ot,T7," AG Fake Horizontal Scroll ");const ii=n?.getOverlayWrapperCompClass();ii&&gt(ot,ii," AG Overlay Wrapper "),Y.current&&gt(Y.current,k7," AG Fake Vertical Scroll ");const Md={setRowAnimationCssOnBodyViewport:i,setColumnCount:Tt=>{$.current&&UG($.current,Tt)},setRowCount:Tt=>{$.current&&WG($.current,Tt)},setTopHeight:o,setBottomHeight:l,setStickyTopHeight:d,setStickyTopTop:p,setStickyTopWidth:y,setTopInvisible:P,setBottomInvisible:O,setColumnMovingCss:(Tt,lr)=>j.current.toggleCss(Tt,lr),updateLayoutClasses:z,setAlwaysVerticalScrollClass:U,setPinnedTopBottomOverflowY:I,setCellSelectableCss:(Tt,lr)=>F(lr?Tt:null),setBodyViewportWidth:Tt=>{Z.current&&(Z.current.style.width=Tt)},registerBodyViewportResizeListener:Tt=>{if(Z.current){const lr=so(e,Z.current,Tt);pe.current.push(()=>lr())}},setStickyBottomHeight:x,setStickyBottomBottom:M,setStickyBottomWidth:T,setGridRootRole:Tt=>ot.setAttribute("role",Tt)},xl=t.createBean(new R7);fe.current.push(xl),xl.setComp(Md,ot,Z.current,W.current,X.current,K.current,H.current)},[]),je=C.useMemo(()=>ws("ag-root","ag-unselectable",L),[L]),oe=C.useMemo(()=>ws("ag-body-viewport",r,L,B,V),[r,L,B,V]),de=C.useMemo(()=>ws("ag-body",L),[L]),Me=C.useMemo(()=>ws("ag-floating-top",k?"ag-invisible":null,V),[V,k]),ue=C.useMemo(()=>ws("ag-sticky-top",V),[V]),Ve=C.useMemo(()=>ws("ag-sticky-bottom",b==="0px"?"ag-invisible":null,V),[V,b]),Ge=C.useMemo(()=>ws("ag-floating-bottom",A?"ag-invisible":null,V),[V,A]),Xe=C.useMemo(()=>({height:s,minHeight:s,overflowY:_}),[s,_]),Ne=C.useMemo(()=>({height:c,top:f,width:v}),[c,f,v]),rt=C.useMemo(()=>({height:b,bottom:S,width:R}),[b,S,R]),Mt=C.useMemo(()=>({height:a,minHeight:a,overflowY:_}),[a,_]),Jt=ot=>q.createElement(mSe,{name:ot,key:`${ot}-container`}),qe=({section:ot,children:Sn,className:Pi,style:gt})=>q.createElement("div",{ref:ot,className:Pi,role:"presentation",style:gt},Sn.map(Jt));return q.createElement("div",{ref:Ce,className:je},q.createElement(rSe,null),qe({section:W,className:Me,style:Xe,children:["topLeft","topCenter","topRight","topFullWidth"]}),q.createElement("div",{className:de,ref:Y,role:"presentation"},qe({section:Z,className:oe,children:["left","center","right","fullWidth"]})),qe({section:K,className:ue,style:Ne,children:["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"]}),qe({section:H,className:Ve,style:rt,children:["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"]}),qe({section:X,className:Ge,style:Mt,children:["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"]}))},ySe=C.memo(vSe),wSe=(e,t)=>{const{children:n,eFocusableElement:r,onTabKeyDown:i,gridCtrl:s,forceFocusOutWhenTabGuardsAreEmpty:o,isEmpty:a}=e,{context:l}=C.useContext(Lr),c=C.useRef(null),d=C.useRef(null),f=C.useRef(),p=S=>{const M=S==null?void 0:parseInt(S,10).toString();for(const R of[c,d])M===void 0?R.current?.removeAttribute("tabindex"):R.current?.setAttribute("tabindex",M)};C.useImperativeHandle(t,()=>({forceFocusOutOfContainer(S){f.current?.forceFocusOutOfContainer(S)}}));const v=C.useCallback(()=>{const S=c.current,M=d.current;if(!S&&!M||l.isDestroyed()){f.current=l.destroyBean(f.current);return}if(S&&M){const R={setTabIndex:p};f.current=l.createBean(new H7({comp:R,eTopGuard:S,eBottomGuard:M,eFocusableElement:r,onTabKeyDown:i,forceFocusOutWhenTabGuardsAreEmpty:o,focusInnerElement:T=>s.focusInnerElement(T),isEmpty:a}))}},[]),y=C.useCallback(S=>{c.current=S,v()},[v]),b=C.useCallback(S=>{d.current=S,v()},[v]),x=S=>{const M=S==="top"?Uh.TAB_GUARD_TOP:Uh.TAB_GUARD_BOTTOM;return q.createElement("div",{className:`${Uh.TAB_GUARD} ${M}`,role:"presentation",ref:S==="top"?y:b})};return q.createElement(q.Fragment,null,x("top"),n,x("bottom"))},bSe=C.forwardRef(wSe),CSe=C.memo(bSe),xSe=({context:e})=>{const[t,n]=C.useState(""),[r,i]=C.useState(""),[s,o]=C.useState(null),[a,l]=C.useState(null),[c,d]=C.useState(!1),[f,p]=C.useState(),v=C.useRef(),y=C.useRef(null),b=C.useRef(),[x,S]=C.useState(null),M=C.useRef(()=>{}),R=C.useRef(),T=C.useRef([]),k=C.useCallback(()=>{},[]);wu(" AG Grid ",y);const P=C.useCallback(I=>{if(y.current=I,v.current=I?e.createBean(new V7):e.destroyBean(v.current),!I||e.isDestroyed())return;const V=v.current;M.current=V.focusInnerElement.bind(V);const F={destroyGridUi:()=>{},setRtlClass:n,forceFocusOutOfContainer:L=>{if(!L&&R.current?.isDisplayed()){R.current.forceFocusOutOfContainer(L);return}b.current?.forceFocusOutOfContainer(L)},updateLayoutClasses:i,getFocusableContainers:()=>{const L=[],z=y.current?.querySelector(".ag-root");z&&L.push({getGui:()=>z});for(const j of T.current)j.isDisplayed()&&L.push(j);return L},setCursor:o,setUserSelect:l};V.setComp(F,I,I),d(!0)},[]);C.useEffect(()=>{const I=v.current,V=y.current;if(!f||!I||!x||!V||e.isDestroyed())return;const F=[],{watermarkSelector:L,paginationSelector:z,sideBarSelector:j,statusBarSelector:$,gridHeaderDropZonesSelector:W}=I.getOptionalSelectors(),K=[];if(W){const Y=e.createBean(new W.component),Z=Y.getGui();V.insertAdjacentElement("afterbegin",Z),K.push(Z),F.push(Y)}if(j){const Y=e.createBean(new j.component),Z=Y.getGui(),X=x.querySelector(".ag-tab-guard-bottom");X&&(X.insertAdjacentElement("beforebegin",Z),K.push(Z)),F.push(Y),T.current.push(Y)}const H=Y=>{const Z=e.createBean(new Y),X=Z.getGui();return V.insertAdjacentElement("beforeend",X),K.push(X),F.push(Z),Z};if($&&H($.component),z){const Y=H(z.component);R.current=Y,T.current.push(Y)}return L&&H(L.component),()=>{e.destroyBeans(F);for(const Y of K)Y.remove()}},[f,x,e]);const A=C.useMemo(()=>ws("ag-root-wrapper",t,r),[t,r]),O=C.useMemo(()=>ws("ag-root-wrapper-body","ag-focus-managed",r),[r]),B=C.useMemo(()=>({userSelect:a??"",WebkitUserSelect:a??"",cursor:s??""}),[a,s]),U=C.useCallback(I=>{b.current=I,p(I!==null)},[]),_=C.useCallback(()=>!v.current?.isFocusable(),[]);return q.createElement("div",{ref:P,className:A,style:B,role:"presentation"},q.createElement("div",{className:O,ref:S,role:"presentation"},c&&x&&!e.isDestroyed()&&q.createElement(Lr.Provider,{value:e.getBeans()},q.createElement(CSe,{ref:U,eFocusableElement:x,onTabKeyDown:k,gridCtrl:v.current,forceFocusOutWhenTabGuardsAreEmpty:!0,isEmpty:_},q.createElement(ySe,null)))))},SSe=C.memo(xSe),ESe=class extends le{postConstruct(){if(this.beans.colAutosize){const e=this.queueResizeOperationsForTick.bind(this);this.addManagedEventListeners({rowExpansionStateChanged:e,expandOrCollapseAll:e,cellValueChanged:e,rowNodeDataChanged:e,rowDataUpdated:e})}}queueResizeOperationsForTick(){const e=this.beans.colAutosize;e.shouldQueueResizeOperations=!0,setTimeout(()=>{e.processResizeOperations()},0)}areHeaderCellsRendered(){return this.beans.ctrlsSvc.getHeaderRowContainerCtrls().every(e=>e.getAllCtrls().every(t=>t.areCellsRendered()))}areCellsRendered(){return this.beans.rowRenderer.getAllRowCtrls().every(e=>e.isRowRendered()&&e.getAllCellCtrls().every(t=>!!t.eGui))}},mU={setGridApi:void 0,maxComponentCreationTimeMs:void 0,children:void 0},DSe={gridOptions:void 0,modules:void 0,containerStyle:void 0,className:void 0,passGridApi:void 0,componentWrappingElement:void 0,...mU},vU=new Set(Object.keys(DSe)),RSe=new Set(Object.keys(mU)),yU=e=>{const t=C.useRef(),n=C.useRef(null),r=C.useRef(null),i=C.useRef([]),s=C.useRef([]),o=C.useRef(e),a=C.useRef(),l=C.useRef(),c=C.useRef(!1),[d,f]=C.useState(void 0),[,p]=C.useState(0),v=C.useCallback(S=>{if(n.current=S,!S){for(const _ of i.current)_();i.current.length=0;return}const M=e.modules||[];r.current||(r.current=new Uxe(()=>p(_=>_+1),e.componentWrappingElement,e.maxComponentCreationTimeMs),i.current.push(()=>{r.current?.destroy(),r.current=null}));const R=Hae(e.gridOptions,e,Object.keys(e).filter(_=>!vU.has(_))),T=()=>{if(c.current){const _=()=>a.current?.shouldQueueUpdates()?void 0:s.current.shift();let I=_();for(;I;)I(),I=_()}},k=new ASe(T);a.current=k;const P=new ESe,A={providedBeanInstances:{frameworkCompWrapper:new TSe(r.current,R),renderStatus:P},modules:M,frameworkOverrides:k,setThemeOnGridDiv:!0},O=_=>{f(_),_.createBean(P),i.current.push(()=>{_.destroy()}),_.getBean("ctrlsSvc").whenReady({addDestroyFunc:I=>{i.current.push(I)}},()=>{if(_.isDestroyed())return;const I=t.current;I&&e.passGridApi?.(I)})},B=_=>{_.getBean("ctrlsSvc").whenReady({addDestroyFunc:I=>{i.current.push(I)}},()=>{for(const I of s.current)I();s.current.length=0,c.current=!0})},U=new kW;R.gridId??(R.gridId=l.current),t.current=U.create(S,R,O,B,A),i.current.push(()=>{t.current=void 0}),t.current&&(l.current=t.current.getGridId())},[]),y=C.useMemo(()=>({height:"100%",...e.containerStyle||{}}),[e.containerStyle]),b=C.useCallback(S=>{c.current&&!a.current?.shouldQueueUpdates()?S():s.current.push(S)},[]);C.useEffect(()=>{const S=MSe(o.current,e);o.current=e,b(()=>{t.current&&zae(S,t.current)})},[e]);const x=!q.useSyncExternalStore||ew(e,"renderingMode")==="legacy"?"legacy":"default";return q.createElement("div",{style:y,className:e.className,ref:v},q.createElement(cU.Provider,{value:x},d&&!d.isDestroyed()?q.createElement(SSe,{key:d.instanceId,context:d}):null,r.current?.getPortals()??null))};function MSe(e,t){const n={};for(const r of Object.keys(t)){if(vU.has(r)){RSe.has(r)&&ve(274,{prop:r});continue}const i=t[r];e[r]!==i&&(n[r]=i)}return n}var TSe=class extends Xve{constructor(e,t){super(),this.parent=e,this.gridOptions=t}createWrapper(e,t){const n=this.gridOptions;if(ew(n,"reactiveCustomComponents")){const o=(a=>{switch(a){case"filter":return ew(n,"enableFilterHandlers")?Fxe:Oxe;case"floatingFilterComponent":return ew(n,"enableFilterHandlers")?_xe:Lxe;case"dateComponent":return Pxe;case"dragAndDropImageComponent":return Nxe;case"loadingOverlayComponent":return Bxe;case"noRowsOverlayComponent":return zxe;case"statusPanel":return Gxe;case"toolPanel":return Vxe;case"menuItem":return Hxe;case"cellRenderer":return Axe;case"innerHeaderComponent":return jxe}})(t.name);if(o)return new o(e,this.parent,t)}else switch(t.name){case"filter":case"floatingFilterComponent":case"dateComponent":case"dragAndDropImageComponent":case"loadingOverlayComponent":case"noRowsOverlayComponent":case"statusPanel":case"toolPanel":case"menuItem":case"cellRenderer":XA();break}const i=!t.cellRenderer&&t.name!=="toolPanel";return new fU(e,this.parent,t,i)}},kSe=C.forwardRef((e,t)=>{const n=C.useContext(Lr),{registry:r,context:i,gos:s,rowModel:o}=n,[a,l]=C.useState(()=>new Ds),[c,d]=C.useState(()=>new Ds),[f,p]=C.useState(),[v,y]=C.useState(),b=C.useRef(),x=C.useRef(null),S=C.useRef(),M=C.useMemo(()=>pV(e.api.getGridId(),f?.rowModelType??"clientSide"),[e]),R=C.useMemo(()=>a.toString()+" ag-details-row",[a]),T=C.useMemo(()=>c.toString()+" ag-details-grid",[c]);t&&C.useImperativeHandle(t,()=>({refresh(){return b.current?.refresh()??!1}})),e.template&&ve(230);const k=C.useCallback(A=>{if(x.current=A,!A||i.isDestroyed()){b.current=i.destroyBean(b.current),S.current?.();return}const O={toggleCss:(U,_)=>l(I=>I.setClass(U,_)),toggleDetailGridCss:(U,_)=>d(I=>I.setClass(U,_)),setDetailGrid:U=>p(U),setRowData:U=>y(U),getGui:()=>x.current},B=r.createDynamicBean("detailCellRendererCtrl",!0);if(B&&(i.createBean(B),B.init(O,e),b.current=B,s.get("detailRowAutoHeight"))){const U=()=>{if(x.current==null)return;const _=x.current.clientHeight;_!=null&&_>0&&setTimeout(()=>{e.node.setRowHeight(_),(Xt(s)||Lo(s))&&o.onRowHeightChanged()},0)};S.current=so(n,A,U),U()}},[]),P=C.useCallback(A=>{b.current?.registerDetailWithMaster(A)},[]);return q.createElement("div",{className:R,ref:k},f&&q.createElement(yU,{className:T,...f,modules:M,rowData:v,passGridApi:P}))}),ASe=class extends G7{constructor(e){super("react"),this.processQueuedUpdates=e,this.queueUpdates=!1,this.renderingEngine="react",this.frameworkComponents={agGroupCellRenderer:z_,agGroupRowRenderer:z_,agDetailCellRenderer:kSe},this.wrapIncoming=(t,n)=>n==="ensureVisible"?Exe(t):t()}frameworkComponent(e){return this.frameworkComponents[e]}isFrameworkComponent(e){if(!e)return!1;const t=e.prototype;return!(t&&"getGui"in t)}getLockOnRefresh(){this.queueUpdates=!0}releaseLockOnRefresh(){this.queueUpdates=!1,this.processQueuedUpdates()}shouldQueueUpdates(){return this.queueUpdates}runWhenReadyAsync(){return Sxe()}},zt=class extends C.Component{constructor(){super(...arguments),this.apiListeners=[],this.setGridApi=e=>{this.api=e;for(const t of this.apiListeners)t(e)}}registerApiListener(e){this.apiListeners.push(e)}componentWillUnmount(){this.apiListeners.length=0}render(){return q.createElement(yU,{...this.props,passGridApi:this.setGridApi})}};function PSe(e){return xn({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M192 0c-41.8 0-77.4 26.7-90.5 64L64 64C28.7 64 0 92.7 0 128L0 448c0 35.3 28.7 64 64 64l256 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64l-37.5 0C269.4 26.7 233.8 0 192 0zm0 64a32 32 0 1 1 0 64 32 32 0 1 1 0-64zM72 272a24 24 0 1 1 48 0 24 24 0 1 1 -48 0zm104-16l128 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-128 0c-8.8 0-16-7.2-16-16s7.2-16 16-16zM72 368a24 24 0 1 1 48 0 24 24 0 1 1 -48 0zm88 0c0-8.8 7.2-16 16-16l128 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-128 0c-8.8 0-16-7.2-16-16z"},child:[]}]})(e)}function _r({value:e,onChange:t,placeholder:n="Search...",className:r=""}){return m.jsx("input",{type:"text",placeholder:n,value:e,onChange:i=>t(i.target.value),className:`border px-4 py-2 rounded w-64 ${r}`})}var NSe=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function JA(e){if(typeof e!="string")return!1;var t=NSe;return t.includes(e)}var OSe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],FSe=new Set(OSe);function wU(e){return typeof e!="string"?!1:FSe.has(e)}function bU(e){return typeof e=="string"&&e.startsWith("data-")}function Za(e){if(typeof e!="object"||e===null)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(wU(n)||bU(n))&&(t[n]=e[n]);return t}function ZA(e){if(e==null)return null;if(C.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Za(t)}return typeof e=="object"&&!Array.isArray(e)?Za(e):null}function As(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(wU(n)||bU(n)||JA(n))&&(t[n]=e[n]);return t}var ISe=["children","width","height","viewBox","className","style","title","desc"];function oT(){return oT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oT.apply(null,arguments)}function LSe(e,t){if(e==null)return{};var n,r,i=_Se(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function _Se(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var eP=C.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:s,className:o,style:a,title:l,desc:c}=e,d=LSe(e,ISe),f=s||{width:r,height:i,x:0,y:0},p=$e("recharts-surface",o);return C.createElement("svg",oT({},As(d),{className:p,width:r,height:i,style:a,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),C.createElement("title",null,l),C.createElement("desc",null,c),n)}),jSe=["children","className"];function aT(){return aT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},aT.apply(null,arguments)}function BSe(e,t){if(e==null)return{};var n,r,i=HSe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function HSe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var el=C.forwardRef((e,t)=>{var{children:n,className:r}=e,i=BSe(e,jSe),s=$e("recharts-layer",r);return C.createElement("g",aT({className:s},As(i),{ref:t}),n)}),CU=C.createContext(null),zSe=()=>C.useContext(CU);function Qt(e){return function(){return e}}const xU=Math.cos,tb=Math.sin,oo=Math.sqrt,nb=Math.PI,xx=2*nb,lT=Math.PI,cT=2*lT,pu=1e-6,GSe=cT-pu;function SU(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function VSe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return SU;const n=10**t;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class WSe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?SU:VSe(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,s,o){this._append`C${+t},${+n},${+r},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(t,n,r,i,s){if(t=+t,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,a=this._y1,l=r-t,c=i-n,d=o-t,f=a-n,p=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(p>pu)if(!(Math.abs(f*l-c*d)>pu)||!s)this._append`L${this._x1=t},${this._y1=n}`;else{let v=r-o,y=i-a,b=l*l+c*c,x=v*v+y*y,S=Math.sqrt(b),M=Math.sqrt(p),R=s*Math.tan((lT-Math.acos((b+p-x)/(2*S*M)))/2),T=R/M,k=R/S;Math.abs(T-1)>pu&&this._append`L${t+T*d},${n+T*f}`,this._append`A${s},${s},0,0,${+(f*v>d*y)},${this._x1=t+k*l},${this._y1=n+k*c}`}}arc(t,n,r,i,s,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),l=r*Math.sin(i),c=t+a,d=n+l,f=1^o,p=o?i-s:s-i;this._x1===null?this._append`M${c},${d}`:(Math.abs(this._x1-c)>pu||Math.abs(this._y1-d)>pu)&&this._append`L${c},${d}`,r&&(p<0&&(p=p%cT+cT),p>GSe?this._append`A${r},${r},0,1,${f},${t-a},${n-l}A${r},${r},0,1,${f},${this._x1=c},${this._y1=d}`:p>pu&&this._append`A${r},${r},0,${+(p>=lT)},${f},${this._x1=t+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function tP(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new WSe(t)}function nP(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function EU(e){this._context=e}EU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Sx(e){return new EU(e)}function DU(e){return e[0]}function RU(e){return e[1]}function MU(e,t){var n=Qt(!0),r=null,i=Sx,s=null,o=tP(a);e=typeof e=="function"?e:e===void 0?DU:Qt(e),t=typeof t=="function"?t:t===void 0?RU:Qt(t);function a(l){var c,d=(l=nP(l)).length,f,p=!1,v;for(r==null&&(s=i(v=o())),c=0;c<=d;++c)!(c<d&&n(f=l[c],c,l))===p&&((p=!p)?s.lineStart():s.lineEnd()),p&&s.point(+e(f,c,l),+t(f,c,l));if(v)return s=null,v+""||null}return a.x=function(l){return arguments.length?(e=typeof l=="function"?l:Qt(+l),a):e},a.y=function(l){return arguments.length?(t=typeof l=="function"?l:Qt(+l),a):t},a.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Qt(!!l),a):n},a.curve=function(l){return arguments.length?(i=l,r!=null&&(s=i(r)),a):i},a.context=function(l){return arguments.length?(l==null?r=s=null:s=i(r=l),a):r},a}function i0(e,t,n){var r=null,i=Qt(!0),s=null,o=Sx,a=null,l=tP(c);e=typeof e=="function"?e:e===void 0?DU:Qt(+e),t=typeof t=="function"?t:Qt(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?RU:Qt(+n);function c(f){var p,v,y,b=(f=nP(f)).length,x,S=!1,M,R=new Array(b),T=new Array(b);for(s==null&&(a=o(M=l())),p=0;p<=b;++p){if(!(p<b&&i(x=f[p],p,f))===S)if(S=!S)v=p,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),y=p-1;y>=v;--y)a.point(R[y],T[y]);a.lineEnd(),a.areaEnd()}S&&(R[p]=+e(x,p,f),T[p]=+t(x,p,f),a.point(r?+r(x,p,f):R[p],n?+n(x,p,f):T[p]))}if(M)return a=null,M+""||null}function d(){return MU().defined(i).curve(o).context(s)}return c.x=function(f){return arguments.length?(e=typeof f=="function"?f:Qt(+f),r=null,c):e},c.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Qt(+f),c):e},c.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Qt(+f),c):r},c.y=function(f){return arguments.length?(t=typeof f=="function"?f:Qt(+f),n=null,c):t},c.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Qt(+f),c):t},c.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Qt(+f),c):n},c.lineX0=c.lineY0=function(){return d().x(e).y(t)},c.lineY1=function(){return d().x(e).y(n)},c.lineX1=function(){return d().x(r).y(t)},c.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Qt(!!f),c):i},c.curve=function(f){return arguments.length?(o=f,s!=null&&(a=o(s)),c):o},c.context=function(f){return arguments.length?(f==null?s=a=null:a=o(s=f),c):s},c}class TU{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function USe(e){return new TU(e,!0)}function $Se(e){return new TU(e,!1)}const rP={draw(e,t){const n=oo(t/nb);e.moveTo(n,0),e.arc(0,0,n,0,xx)}},qSe={draw(e,t){const n=oo(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},kU=oo(1/3),KSe=kU*2,YSe={draw(e,t){const n=oo(t/KSe),r=n*kU;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},QSe={draw(e,t){const n=oo(t),r=-n/2;e.rect(r,r,n,n)}},XSe=.8908130915292852,AU=tb(nb/10)/tb(7*nb/10),JSe=tb(xx/10)*AU,ZSe=-xU(xx/10)*AU,e1e={draw(e,t){const n=oo(t*XSe),r=JSe*n,i=ZSe*n;e.moveTo(0,-n),e.lineTo(r,i);for(let s=1;s<5;++s){const o=xx*s/5,a=xU(o),l=tb(o);e.lineTo(l*n,-a*n),e.lineTo(a*r-l*i,l*r+a*i)}e.closePath()}},UD=oo(3),t1e={draw(e,t){const n=-oo(t/(UD*3));e.moveTo(0,n*2),e.lineTo(-UD*n,-n),e.lineTo(UD*n,-n),e.closePath()}},ds=-.5,hs=oo(3)/2,uT=1/oo(12),n1e=(uT/2+1)*3,r1e={draw(e,t){const n=oo(t/n1e),r=n/2,i=n*uT,s=r,o=n*uT+n,a=-s,l=o;e.moveTo(r,i),e.lineTo(s,o),e.lineTo(a,l),e.lineTo(ds*r-hs*i,hs*r+ds*i),e.lineTo(ds*s-hs*o,hs*s+ds*o),e.lineTo(ds*a-hs*l,hs*a+ds*l),e.lineTo(ds*r+hs*i,ds*i-hs*r),e.lineTo(ds*s+hs*o,ds*o-hs*s),e.lineTo(ds*a+hs*l,ds*l-hs*a),e.closePath()}};function i1e(e,t){let n=null,r=tP(i);e=typeof e=="function"?e:Qt(e||rP),t=typeof t=="function"?t:Qt(t===void 0?64:+t);function i(){let s;if(n||(n=s=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(e=typeof s=="function"?s:Qt(s),i):e},i.size=function(s){return arguments.length?(t=typeof s=="function"?s:Qt(+s),i):t},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function rb(){}function ib(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function PU(e){this._context=e}PU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ib(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ib(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function s1e(e){return new PU(e)}function NU(e){this._context=e}NU.prototype={areaStart:rb,areaEnd:rb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:ib(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function o1e(e){return new NU(e)}function OU(e){this._context=e}OU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:ib(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function a1e(e){return new OU(e)}function FU(e){this._context=e}FU.prototype={areaStart:rb,areaEnd:rb,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function l1e(e){return new FU(e)}function $_(e){return e<0?-1:1}function q_(e,t,n){var r=e._x1-e._x0,i=t-e._x1,s=(e._y1-e._y0)/(r||i<0&&-0),o=(n-e._y1)/(i||r<0&&-0),a=(s*i+o*r)/(r+i);return($_(s)+$_(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(a))||0}function K_(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function $D(e,t,n){var r=e._x0,i=e._y0,s=e._x1,o=e._y1,a=(s-r)/3;e._context.bezierCurveTo(r+a,i+a*t,s-a,o-a*n,s,o)}function sb(e){this._context=e}sb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:$D(this,this._t0,K_(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,$D(this,K_(this,n=q_(this,e,t)),n);break;default:$D(this,this._t0,n=q_(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function IU(e){this._context=new LU(e)}(IU.prototype=Object.create(sb.prototype)).point=function(e,t){sb.prototype.point.call(this,t,e)};function LU(e){this._context=e}LU.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,s){this._context.bezierCurveTo(t,e,r,n,s,i)}};function c1e(e){return new sb(e)}function u1e(e){return new IU(e)}function _U(e){this._context=e}_U.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=Y_(e),i=Y_(t),s=0,o=1;o<n;++s,++o)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Y_(e){var t,n=e.length-1,r,i=new Array(n),s=new Array(n),o=new Array(n);for(i[0]=0,s[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,s[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,s[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/s[t-1],s[t]-=r,o[t]-=r*o[t-1];for(i[n-1]=o[n-1]/s[n-1],t=n-2;t>=0;--t)i[t]=(o[t]-i[t+1])/s[t];for(s[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)s[t]=2*e[t+1]-i[t+1];return[i,s]}function d1e(e){return new _U(e)}function Ex(e,t){this._context=e,this._t=t}Ex.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function h1e(e){return new Ex(e,.5)}function f1e(e){return new Ex(e,0)}function p1e(e){return new Ex(e,1)}function cf(e,t){if((o=e.length)>1)for(var n=1,r,i,s=e[t[0]],o,a=s.length;n<o;++n)for(i=s,s=e[t[n]],r=0;r<a;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function dT(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function g1e(e,t){return e[t]}function m1e(e){const t=[];return t.key=e,t}function v1e(){var e=Qt([]),t=dT,n=cf,r=g1e;function i(s){var o=Array.from(e.apply(this,arguments),m1e),a,l=o.length,c=-1,d;for(const f of s)for(a=0,++c;a<l;++a)(o[a][c]=[0,+r(f,o[a].key,c,s)]).data=f;for(a=0,d=nP(t(o));a<l;++a)o[d[a]].index=a;return n(o,d),o}return i.keys=function(s){return arguments.length?(e=typeof s=="function"?s:Qt(Array.from(s)),i):e},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:Qt(+s),i):r},i.order=function(s){return arguments.length?(t=s==null?dT:typeof s=="function"?s:Qt(Array.from(s)),i):t},i.offset=function(s){return arguments.length?(n=s??cf,i):n},i}function y1e(e,t){if((r=e.length)>0){for(var n,r,i=0,s=e[0].length,o;i<s;++i){for(o=n=0;n<r;++n)o+=e[n][i][1]||0;if(o)for(n=0;n<r;++n)e[n][i][1]/=o}cf(e,t)}}function w1e(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,s=r.length;n<s;++n){for(var o=0,a=0;o<i;++o)a+=e[o][n][1]||0;r[n][1]+=r[n][0]=-a/2}cf(e,t)}}function b1e(e,t){if(!(!((o=e.length)>0)||!((s=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,s,o;r<s;++r){for(var a=0,l=0,c=0;a<o;++a){for(var d=e[t[a]],f=d[r][1]||0,p=d[r-1][1]||0,v=(f-p)/2,y=0;y<a;++y){var b=e[t[y]],x=b[r][1]||0,S=b[r-1][1]||0;v+=x-S}l+=f,c+=v*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=c/l)}i[r-1][1]+=i[r-1][0]=n,cf(e,t)}}var qD={},KD={},Q_;function C1e(){return Q_||(Q_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(KD)),KD}var YD={},X_;function jU(){return X_||(X_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(YD)),YD}var QD={},J_;function iP(){return J_||(J_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}e.toKey=t})(QD)),QD}var XD={},JD={},Z_;function x1e(){return Z_||(Z_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(JD)),JD}var ej;function sP(){return ej||(ej=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=x1e(),n=iP();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const s=[],o=i.length;if(o===0)return s;let a=0,l="",c="",d=!1;for(i.charCodeAt(0)===46&&(s.push(""),a++);a<o;){const f=i[a];c?f==="\\"&&a+1<o?(a++,l+=i[a]):f===c?c="":l+=f:d?f==='"'||f==="'"?c=f:f==="]"?(d=!1,s.push(l),l=""):l+=f:f==="["?(d=!0,l&&(s.push(l),l="")):f==="."?l&&(s.push(l),l=""):l+=f,a++}return l&&s.push(l),s}e.toPath=r})(XD)),XD}var tj;function oP(){return tj||(tj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=C1e(),n=jU(),r=iP(),i=sP();function s(a,l,c){if(a==null)return c;switch(typeof l){case"string":{if(t.isUnsafeProperty(l))return c;const d=a[l];return d===void 0?n.isDeepKey(l)?s(a,i.toPath(l),c):c:d}case"number":case"symbol":{typeof l=="number"&&(l=r.toKey(l));const d=a[l];return d===void 0?c:d}default:{if(Array.isArray(l))return o(a,l,c);if(Object.is(l?.valueOf(),-0)?l="-0":l=String(l),t.isUnsafeProperty(l))return c;const d=a[l];return d===void 0?c:d}}}function o(a,l,c){if(l.length===0)return c;let d=a;for(let f=0;f<l.length;f++){if(d==null||t.isUnsafeProperty(l[f]))return c;d=d[l[f]]}return d===void 0?c:d}e.get=s})(qD)),qD}var ZD,nj;function S1e(){return nj||(nj=1,ZD=oP().get),ZD}var E1e=S1e();const uf=Fs(E1e);var mi=e=>e===0?0:e>0?1:-1,Zs=e=>typeof e=="number"&&e!=+e,tl=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Ie=e=>(typeof e=="number"||e instanceof Number)&&!Zs(e),jo=e=>Ie(e)||typeof e=="string",D1e=0,fm=e=>{var t=++D1e;return"".concat(e||"").concat(t)},eo=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ie(t)&&typeof t!="string")return r;var s;if(tl(t)){if(n==null)return r;var o=t.indexOf("%");s=n*parseFloat(t.slice(0,o))/100}else s=+t;return Zs(s)&&(s=r),i&&n!=null&&s>n&&(s=n),s},BU=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[e[r]])n[e[r]]=!0;else return!0;return!1};function mr(e,t,n){return Ie(e)&&Ie(t)?e+n*(t-e):t}function R1e(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):uf(r,t))===n)}var sr=e=>e===null||typeof e>"u",nv=e=>sr(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function M1e(e){return e!=null}function rv(){}var T1e=["type","size","sizeType"];function hT(){return hT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hT.apply(null,arguments)}function rj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ij(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rj(Object(n),!0).forEach(function(r){k1e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function k1e(e,t,n){return(t=A1e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A1e(e){var t=P1e(e,"string");return typeof t=="symbol"?t:t+""}function P1e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function N1e(e,t){if(e==null)return{};var n,r,i=O1e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function O1e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var HU={symbolCircle:rP,symbolCross:qSe,symbolDiamond:YSe,symbolSquare:QSe,symbolStar:e1e,symbolTriangle:t1e,symbolWye:r1e},F1e=Math.PI/180,I1e=e=>{var t="symbol".concat(nv(e));return HU[t]||rP},L1e=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*F1e;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},_1e=(e,t)=>{HU["symbol".concat(nv(e))]=t},aP=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,i=N1e(e,T1e),s=ij(ij({},i),{},{type:t,size:n,sizeType:r}),o="circle";typeof t=="string"&&(o=t);var a=()=>{var p=I1e(o),v=i1e().type(p).size(L1e(n,r,o)),y=v();if(y!==null)return y},{className:l,cx:c,cy:d}=s,f=As(s);return Ie(c)&&Ie(d)&&Ie(n)?C.createElement("path",hT({},f,{className:$e("recharts-symbols",l),transform:"translate(".concat(c,", ").concat(d,")"),d:a()})):null};aP.registerSymbol=_1e;var zU=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,j1e=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(C.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{JA(i)&&(r[i]=(s=>n[i](n,s)))}),r},B1e=(e,t,n)=>r=>(e(t,n,r),null),Dx=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var s=e[i];JA(i)&&typeof s=="function"&&(r||(r={}),r[i]=B1e(s,t,n))}),r};function sj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function H1e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sj(Object(n),!0).forEach(function(r){z1e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function z1e(e,t,n){return(t=G1e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function G1e(e){var t=V1e(e,"string");return typeof t=="symbol"?t:t+""}function V1e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ni(e,t){var n=H1e({},e),r=t,i=Object.keys(t),s=i.reduce((o,a)=>(o[a]===void 0&&r[a]!==void 0&&(o[a]=r[a]),o),n);return s}function ob(){return ob=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ob.apply(null,arguments)}function oj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function W1e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oj(Object(n),!0).forEach(function(r){U1e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function U1e(e,t,n){return(t=$1e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $1e(e){var t=q1e(e,"string");return typeof t=="symbol"?t:t+""}function q1e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vs=32,K1e={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function Y1e(e){var{data:t,iconType:n,inactiveColor:r}=e,i=vs/2,s=vs/6,o=vs/3,a=t.inactive?r:t.color,l=n??t.type;if(l==="none")return null;if(l==="plainline"){var c;return C.createElement("line",{strokeWidth:4,fill:"none",stroke:a,strokeDasharray:(c=t.payload)===null||c===void 0?void 0:c.strokeDasharray,x1:0,y1:i,x2:vs,y2:i,className:"recharts-legend-icon"})}if(l==="line")return C.createElement("path",{strokeWidth:4,fill:"none",stroke:a,d:"M0,".concat(i,"h").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*o,",").concat(i,`
            H`).concat(vs,"M").concat(2*o,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(o,",").concat(i),className:"recharts-legend-icon"});if(l==="rect")return C.createElement("path",{stroke:"none",fill:a,d:"M0,".concat(vs/8,"h").concat(vs,"v").concat(vs*3/4,"h").concat(-vs,"z"),className:"recharts-legend-icon"});if(C.isValidElement(t.legendIcon)){var d=W1e({},t);return delete d.legendIcon,C.cloneElement(t.legendIcon,d)}return C.createElement(aP,{fill:a,cx:i,cy:i,size:vs,sizeType:"diameter",type:l})}function Q1e(e){var{payload:t,iconSize:n,layout:r,formatter:i,inactiveColor:s,iconType:o}=e,a={x:0,y:0,width:vs,height:vs},l={display:r==="horizontal"?"inline-block":"block",marginRight:10},c={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((d,f)=>{var p=d.formatter||i,v=$e({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:d.inactive});if(d.type==="none")return null;var y=d.inactive?s:d.color,b=p?p(d.value,d,f):d.value;return C.createElement("li",ob({className:v,style:l,key:"legend-item-".concat(f)},Dx(e,d,f)),C.createElement(eP,{width:n,height:n,viewBox:a,style:c,"aria-label":"".concat(b," legend icon")},C.createElement(Y1e,{data:d,iconType:o,inactiveColor:s})),C.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},b))})}var X1e=e=>{var t=ni(e,K1e),{payload:n,layout:r,align:i}=t;if(!n||!n.length)return null;var s={padding:0,margin:0,textAlign:r==="horizontal"?i:"left"};return C.createElement("ul",{className:"recharts-default-legend",style:s},C.createElement(Q1e,ob({},t,{payload:n})))},eR={},tR={},aj;function J1e(){return aj||(aj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let s=0;s<n.length;s++){const o=n[s],a=r(o);i.has(a)||i.set(a,o)}return Array.from(i.values())}e.uniqBy=t})(tR)),tR}var nR={},lj;function GU(){return lj||(lj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(nR)),nR}var rR={},iR={},sR={},cj;function Z1e(){return cj||(cj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(sR)),sR}var uj;function lP(){return uj||(uj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Z1e();function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(iR)),iR}var oR={},dj;function eEe(){return dj||(dj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(oR)),oR}var hj;function tEe(){return hj||(hj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lP(),n=eEe();function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(rR)),rR}var aR={},lR={},fj;function nEe(){return fj||(fj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oP();function n(r){return function(i){return t.get(i,r)}}e.property=n})(lR)),lR}var cR={},uR={},dR={},hR={},pj;function VU(){return pj||(pj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(hR)),hR}var fR={},gj;function WU(){return gj||(gj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(fR)),fR}var pR={},mj;function UU(){return mj||(mj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.eq=t})(pR)),pR}var vj;function rEe(){return vj||(vj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=VU(),n=WU(),r=UU();function i(d,f,p){return typeof p!="function"?i(d,f,()=>{}):s(d,f,function v(y,b,x,S,M,R){const T=p(y,b,x,S,M,R);return T!==void 0?!!T:s(y,b,v,R)},new Map)}function s(d,f,p,v){if(f===d)return!0;switch(typeof f){case"object":return o(d,f,p,v);case"function":return Object.keys(f).length>0?s(d,{...f},p,v):r.eq(d,f);default:return t.isObject(d)?typeof f=="string"?f==="":!0:r.eq(d,f)}}function o(d,f,p,v){if(f==null)return!0;if(Array.isArray(f))return l(d,f,p,v);if(f instanceof Map)return a(d,f,p,v);if(f instanceof Set)return c(d,f,p,v);const y=Object.keys(f);if(d==null)return y.length===0;if(y.length===0)return!0;if(v?.has(f))return v.get(f)===d;v?.set(f,d);try{for(let b=0;b<y.length;b++){const x=y[b];if(!n.isPrimitive(d)&&!(x in d)||f[x]===void 0&&d[x]!==void 0||f[x]===null&&d[x]!==null||!p(d[x],f[x],x,d,f,v))return!1}return!0}finally{v?.delete(f)}}function a(d,f,p,v){if(f.size===0)return!0;if(!(d instanceof Map))return!1;for(const[y,b]of f.entries()){const x=d.get(y);if(p(x,b,y,d,f,v)===!1)return!1}return!0}function l(d,f,p,v){if(f.length===0)return!0;if(!Array.isArray(d))return!1;const y=new Set;for(let b=0;b<f.length;b++){const x=f[b];let S=!1;for(let M=0;M<d.length;M++){if(y.has(M))continue;const R=d[M];let T=!1;if(p(R,x,b,d,f,v)&&(T=!0),T){y.add(M),S=!0;break}}if(!S)return!1}return!0}function c(d,f,p,v){return f.size===0?!0:d instanceof Set?l([...d],[...f],p,v):!1}e.isMatchWith=i,e.isSetMatch=c})(dR)),dR}var yj;function $U(){return yj||(yj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rEe();function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n})(uR)),uR}var gR={},mR={},vR={},wj;function iEe(){return wj||(wj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(vR)),vR}var yR={},bj;function qU(){return bj||(bj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(yR)),yR}var wR={},Cj;function KU(){return Cj||(Cj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",s="[object Arguments]",o="[object Symbol]",a="[object Date]",l="[object Map]",c="[object Set]",d="[object Array]",f="[object Function]",p="[object ArrayBuffer]",v="[object Object]",y="[object Error]",b="[object DataView]",x="[object Uint8Array]",S="[object Uint8ClampedArray]",M="[object Uint16Array]",R="[object Uint32Array]",T="[object BigUint64Array]",k="[object Int8Array]",P="[object Int16Array]",A="[object Int32Array]",O="[object BigInt64Array]",B="[object Float32Array]",U="[object Float64Array]";e.argumentsTag=s,e.arrayBufferTag=p,e.arrayTag=d,e.bigInt64ArrayTag=O,e.bigUint64ArrayTag=T,e.booleanTag=i,e.dataViewTag=b,e.dateTag=a,e.errorTag=y,e.float32ArrayTag=B,e.float64ArrayTag=U,e.functionTag=f,e.int16ArrayTag=P,e.int32ArrayTag=A,e.int8ArrayTag=k,e.mapTag=l,e.numberTag=r,e.objectTag=v,e.regexpTag=t,e.setTag=c,e.stringTag=n,e.symbolTag=o,e.uint16ArrayTag=M,e.uint32ArrayTag=R,e.uint8ArrayTag=x,e.uint8ClampedArrayTag=S})(wR)),wR}var bR={},xj;function sEe(){return xj||(xj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(bR)),bR}var Sj;function YU(){return Sj||(Sj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iEe(),n=qU(),r=KU(),i=WU(),s=sEe();function o(d,f){return a(d,void 0,d,new Map,f)}function a(d,f,p,v=new Map,y=void 0){const b=y?.(d,f,p,v);if(b!==void 0)return b;if(i.isPrimitive(d))return d;if(v.has(d))return v.get(d);if(Array.isArray(d)){const x=new Array(d.length);v.set(d,x);for(let S=0;S<d.length;S++)x[S]=a(d[S],S,p,v,y);return Object.hasOwn(d,"index")&&(x.index=d.index),Object.hasOwn(d,"input")&&(x.input=d.input),x}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const x=new RegExp(d.source,d.flags);return x.lastIndex=d.lastIndex,x}if(d instanceof Map){const x=new Map;v.set(d,x);for(const[S,M]of d)x.set(S,a(M,S,p,v,y));return x}if(d instanceof Set){const x=new Set;v.set(d,x);for(const S of d)x.add(a(S,void 0,p,v,y));return x}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(s.isTypedArray(d)){const x=new(Object.getPrototypeOf(d)).constructor(d.length);v.set(d,x);for(let S=0;S<d.length;S++)x[S]=a(d[S],S,p,v,y);return x}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const x=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return v.set(d,x),l(x,d,p,v,y),x}if(typeof File<"u"&&d instanceof File){const x=new File([d],d.name,{type:d.type});return v.set(d,x),l(x,d,p,v,y),x}if(typeof Blob<"u"&&d instanceof Blob){const x=new Blob([d],{type:d.type});return v.set(d,x),l(x,d,p,v,y),x}if(d instanceof Error){const x=new d.constructor;return v.set(d,x),x.message=d.message,x.name=d.name,x.stack=d.stack,x.cause=d.cause,l(x,d,p,v,y),x}if(d instanceof Boolean){const x=new Boolean(d.valueOf());return v.set(d,x),l(x,d,p,v,y),x}if(d instanceof Number){const x=new Number(d.valueOf());return v.set(d,x),l(x,d,p,v,y),x}if(d instanceof String){const x=new String(d.valueOf());return v.set(d,x),l(x,d,p,v,y),x}if(typeof d=="object"&&c(d)){const x=Object.create(Object.getPrototypeOf(d));return v.set(d,x),l(x,d,p,v,y),x}return d}function l(d,f,p=d,v,y){const b=[...Object.keys(f),...t.getSymbols(f)];for(let x=0;x<b.length;x++){const S=b[x],M=Object.getOwnPropertyDescriptor(d,S);(M==null||M.writable)&&(d[S]=a(f[S],S,p,v,y))}}function c(d){switch(n.getTag(d)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=a,e.copyProperties=l})(mR)),mR}var Ej;function oEe(){return Ej||(Ej=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=YU();function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(gR)),gR}var Dj;function aEe(){return Dj||(Dj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$U(),n=oEe();function r(i){return i=n.cloneDeep(i),s=>t.isMatch(s,i)}e.matches=r})(cR)),cR}var CR={},xR={},SR={},Rj;function lEe(){return Rj||(Rj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=YU(),n=KU();function r(i,s){return t.cloneDeepWith(i,(o,a,l,c)=>{const d=s?.(o,a,l,c);if(d!==void 0)return d;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const f=new i.constructor(i?.valueOf());return t.copyProperties(f,i),f}case n.argumentsTag:{const f={};return t.copyProperties(f,i),f.length=i.length,f[Symbol.iterator]=i[Symbol.iterator],f}default:return}})}e.cloneDeepWith=r})(SR)),SR}var Mj;function cEe(){return Mj||(Mj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lEe();function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(xR)),xR}var ER={},DR={},Tj;function QU(){return Tj||(Tj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(DR)),DR}var RR={},kj;function uEe(){return kj||(kj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qU();function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(RR)),RR}var Aj;function dEe(){return Aj||(Aj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jU(),n=QU(),r=uEe(),i=sP();function s(o,a){let l;if(Array.isArray(a)?l=a:typeof a=="string"&&t.isDeepKey(a)&&o?.[a]==null?l=i.toPath(a):l=[a],l.length===0)return!1;let c=o;for(let d=0;d<l.length;d++){const f=l[d];if((c==null||!Object.hasOwn(c,f))&&!((Array.isArray(c)||r.isArguments(c))&&n.isIndex(f)&&f<c.length))return!1;c=c[f]}return!0}e.has=s})(ER)),ER}var Pj;function hEe(){return Pj||(Pj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$U(),n=iP(),r=cEe(),i=oP(),s=dEe();function o(a,l){switch(typeof a){case"object":{Object.is(a?.valueOf(),-0)&&(a="-0");break}case"number":{a=n.toKey(a);break}}return l=r.cloneDeep(l),function(c){const d=i.get(c,a);return d===void 0?s.has(c,a):l===void 0?d===void 0:t.isMatch(d,l)}}e.matchesProperty=o})(CR)),CR}var Nj;function fEe(){return Nj||(Nj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=GU(),n=nEe(),r=aEe(),i=hEe();function s(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?i.matchesProperty(o[0],o[1]):r.matches(o);case"string":case"symbol":case"number":return n.property(o)}}e.iteratee=s})(aR)),aR}var Oj;function pEe(){return Oj||(Oj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=J1e(),n=GU(),r=tEe(),i=fEe();function s(o,a=n.identity){return r.isArrayLikeObject(o)?t.uniqBy(Array.from(o),i.iteratee(a)):[]}e.uniqBy=s})(eR)),eR}var MR,Fj;function gEe(){return Fj||(Fj=1,MR=pEe().uniqBy),MR}var mEe=gEe();const Ij=Fs(mEe);function XU(e,t,n){return t===!0?Ij(e,n):typeof t=="function"?Ij(e,t):e}var TR={exports:{}},kR={},AR={exports:{}},PR={};var Lj;function vEe(){if(Lj)return PR;Lj=1;var e=Fc();function t(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,s=e.useLayoutEffect,o=e.useDebugValue;function a(f,p){var v=p(),y=r({inst:{value:v,getSnapshot:p}}),b=y[0].inst,x=y[1];return s(function(){b.value=v,b.getSnapshot=p,l(b)&&x({inst:b})},[f,v,p]),i(function(){return l(b)&&x({inst:b}),f(function(){l(b)&&x({inst:b})})},[f]),o(v),v}function l(f){var p=f.getSnapshot;f=f.value;try{var v=p();return!n(f,v)}catch{return!0}}function c(f,p){return p()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:a;return PR.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:d,PR}var _j;function JU(){return _j||(_j=1,AR.exports=vEe()),AR.exports}var jj;function yEe(){if(jj)return kR;jj=1;var e=Fc(),t=JU();function n(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var r=typeof Object.is=="function"?Object.is:n,i=t.useSyncExternalStore,s=e.useRef,o=e.useEffect,a=e.useMemo,l=e.useDebugValue;return kR.useSyncExternalStoreWithSelector=function(c,d,f,p,v){var y=s(null);if(y.current===null){var b={hasValue:!1,value:null};y.current=b}else b=y.current;y=a(function(){function S(P){if(!M){if(M=!0,R=P,P=p(P),v!==void 0&&b.hasValue){var A=b.value;if(v(A,P))return T=A}return T=P}if(A=T,r(R,P))return A;var O=p(P);return v!==void 0&&v(A,O)?(R=P,A):(R=P,T=O)}var M=!1,R,T,k=f===void 0?null:f;return[function(){return S(d())},k===null?void 0:function(){return S(k())}]},[d,f,p,v]);var x=i(c,y[0],y[1]);return o(function(){b.hasValue=!0,b.value=x},[x]),l(x),x},kR}var Bj;function wEe(){return Bj||(Bj=1,TR.exports=yEe()),TR.exports}var ZU=wEe(),cP=C.createContext(null),bEe=e=>e,gn=()=>{var e=C.useContext(cP);return e?e.store.dispatch:bEe},cw=()=>{},CEe=()=>cw,xEe=(e,t)=>e===t;function Le(e){var t=C.useContext(cP);return ZU.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:CEe,t?t.store.getState:cw,t?t.store.getState:cw,t?e:cw,xEe)}function SEe(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function EEe(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function DEe(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var Hj=e=>Array.isArray(e)?e:[e];function REe(e){const t=Array.isArray(e[0])?e[0]:e;return DEe(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function MEe(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var TEe=class{constructor(e){this.value=e}deref(){return this.value}},kEe=typeof WeakRef<"u"?WeakRef:TEe,AEe=0,zj=1;function s0(){return{s:AEe,v:void 0,o:null,p:null}}function e9(e,t={}){let n=s0();const{resultEqualityCheck:r}=t;let i,s=0;function o(){let a=n;const{length:l}=arguments;for(let f=0,p=l;f<p;f++){const v=arguments[f];if(typeof v=="function"||typeof v=="object"&&v!==null){let y=a.o;y===null&&(a.o=y=new WeakMap);const b=y.get(v);b===void 0?(a=s0(),y.set(v,a)):a=b}else{let y=a.p;y===null&&(a.p=y=new Map);const b=y.get(v);b===void 0?(a=s0(),y.set(v,a)):a=b}}const c=a;let d;if(a.s===zj)d=a.v;else if(d=e.apply(null,arguments),s++,r){const f=i?.deref?.()??i;f!=null&&r(f,d)&&(d=f,s!==0&&s--),i=typeof d=="object"&&d!==null||typeof d=="function"?new kEe(d):d}return c.s=zj,c.v=d,d}return o.clearCache=()=>{n=s0(),o.resetResultsCount()},o.resultsCount=()=>s,o.resetResultsCount=()=>{s=0},o}function PEe(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let s=0,o=0,a,l={},c=i.pop();typeof c=="object"&&(l=c,c=i.pop()),SEe(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const d={...n,...l},{memoize:f,memoizeOptions:p=[],argsMemoize:v=e9,argsMemoizeOptions:y=[]}=d,b=Hj(p),x=Hj(y),S=REe(i),M=f(function(){return s++,c.apply(null,arguments)},...b),R=v(function(){o++;const k=MEe(S,arguments);return a=M.apply(null,k),a},...x);return Object.assign(R,{resultFunc:c,memoizedResultFunc:M,dependencies:S,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>a,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:f,argsMemoize:v})};return Object.assign(r,{withTypes:()=>r}),r}var ce=PEe(e9),NEe=Object.assign((e,t=ce)=>{EEe(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(s=>e[s]);return t(r,(...s)=>s.reduce((o,a,l)=>(o[n[l]]=a,o),{}))},{withTypes:()=>NEe}),NR={},OR={},FR={},Gj;function OEe(){return Gj||(Gj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,s)=>{if(r!==i){const o=t(r),a=t(i);if(o===a&&o===0){if(r<i)return s==="desc"?1:-1;if(r>i)return s==="desc"?-1:1}return s==="desc"?a-o:o-a}return 0};e.compareValues=n})(FR)),FR}var IR={},LR={},Vj;function t9(){return Vj||(Vj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(LR)),LR}var Wj;function FEe(){return Wj||(Wj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=t9(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,o){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||t.isSymbol(s)?!0:typeof s=="string"&&(r.test(s)||!n.test(s))||o!=null&&Object.hasOwn(o,s)}e.isKey=i})(IR)),IR}var Uj;function IEe(){return Uj||(Uj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=OEe(),n=FEe(),r=sP();function i(s,o,a,l){if(s==null)return[];a=l?void 0:a,Array.isArray(s)||(s=Object.values(s)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(a)||(a=a==null?[]:[a]),a=a.map(v=>String(v));const c=(v,y)=>{let b=v;for(let x=0;x<y.length&&b!=null;++x)b=b[y[x]];return b},d=(v,y)=>y==null||v==null?y:typeof v=="object"&&"key"in v?Object.hasOwn(y,v.key)?y[v.key]:c(y,v.path):typeof v=="function"?v(y):Array.isArray(v)?c(y,v):typeof y=="object"?y[v]:y,f=o.map(v=>(Array.isArray(v)&&v.length===1&&(v=v[0]),v==null||typeof v=="function"||Array.isArray(v)||n.isKey(v)?v:{key:v,path:r.toPath(v)}));return s.map(v=>({original:v,criteria:f.map(y=>d(y,v))})).slice().sort((v,y)=>{for(let b=0;b<f.length;b++){const x=t.compareValues(v.criteria[b],y.criteria[b],a[b]);if(x!==0)return x}return 0}).map(v=>v.original)}e.orderBy=i})(OR)),OR}var _R={},$j;function LEe(){return $j||($j=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],s=Math.floor(r),o=(a,l)=>{for(let c=0;c<a.length;c++){const d=a[c];Array.isArray(d)&&l<s?o(d,l+1):i.push(d)}};return o(n,0),i}e.flatten=t})(_R)),_R}var jR={},qj;function n9(){return qj||(qj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=QU(),n=lP(),r=VU(),i=UU();function s(o,a,l){return r.isObject(l)&&(typeof a=="number"&&n.isArrayLike(l)&&t.isIndex(a)&&a<l.length||typeof a=="string"&&a in l)?i.eq(l[a],o):!1}e.isIterateeCall=s})(jR)),jR}var Kj;function _Ee(){return Kj||(Kj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=IEe(),n=LEe(),r=n9();function i(s,...o){const a=o.length;return a>1&&r.isIterateeCall(s,o[0],o[1])?o=[]:a>2&&r.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(s,n.flatten(o),["asc"])}e.sortBy=i})(NR)),NR}var BR,Yj;function jEe(){return Yj||(Yj=1,BR=_Ee().sortBy),BR}var BEe=jEe();const Rx=Fs(BEe);var r9=e=>e.legend.settings,HEe=e=>e.legend.size,zEe=e=>e.legend.payload,GEe=ce([zEe,r9],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?Rx(r,n):r});function VEe(){return Le(GEe)}var o0=1;function i9(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=C.useState({height:0,left:0,top:0,width:0}),r=C.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),o={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(o.height-t.height)>o0||Math.abs(o.left-t.left)>o0||Math.abs(o.top-t.top)>o0||Math.abs(o.width-t.width)>o0)&&n({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function pr(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var WEe=typeof Symbol=="function"&&Symbol.observable||"@@observable",Qj=WEe,HR=()=>Math.random().toString(36).substring(7).split("").join("."),UEe={INIT:`@@redux/INIT${HR()}`,REPLACE:`@@redux/REPLACE${HR()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${HR()}`},ab=UEe;function uP(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function s9(e,t,n){if(typeof e!="function")throw new Error(pr(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(pr(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(pr(1));return n(s9)(e,t)}let r=e,i=t,s=new Map,o=s,a=0,l=!1;function c(){o===s&&(o=new Map,s.forEach((x,S)=>{o.set(S,x)}))}function d(){if(l)throw new Error(pr(3));return i}function f(x){if(typeof x!="function")throw new Error(pr(4));if(l)throw new Error(pr(5));let S=!0;c();const M=a++;return o.set(M,x),function(){if(S){if(l)throw new Error(pr(6));S=!1,c(),o.delete(M),s=null}}}function p(x){if(!uP(x))throw new Error(pr(7));if(typeof x.type>"u")throw new Error(pr(8));if(typeof x.type!="string")throw new Error(pr(17));if(l)throw new Error(pr(9));try{l=!0,i=r(i,x)}finally{l=!1}return(s=o).forEach(M=>{M()}),x}function v(x){if(typeof x!="function")throw new Error(pr(10));r=x,p({type:ab.REPLACE})}function y(){const x=f;return{subscribe(S){if(typeof S!="object"||S===null)throw new Error(pr(11));function M(){const T=S;T.next&&T.next(d())}return M(),{unsubscribe:x(M)}},[Qj](){return this}}}return p({type:ab.INIT}),{dispatch:p,subscribe:f,getState:d,replaceReducer:v,[Qj]:y}}function $Ee(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:ab.INIT})>"u")throw new Error(pr(12));if(typeof n(void 0,{type:ab.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(pr(13))})}function o9(e){const t=Object.keys(e),n={};for(let s=0;s<t.length;s++){const o=t[s];typeof e[o]=="function"&&(n[o]=e[o])}const r=Object.keys(n);let i;try{$Ee(n)}catch(s){i=s}return function(o={},a){if(i)throw i;let l=!1;const c={};for(let d=0;d<r.length;d++){const f=r[d],p=n[f],v=o[f],y=p(v,a);if(typeof y>"u")throw a&&a.type,new Error(pr(14));c[f]=y,l=l||y!==v}return l=l||r.length!==Object.keys(o).length,l?c:o}}function lb(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function qEe(...e){return t=>(n,r)=>{const i=t(n,r);let s=()=>{throw new Error(pr(15))};const o={getState:i.getState,dispatch:(l,...c)=>s(l,...c)},a=e.map(l=>l(o));return s=lb(...a)(i.dispatch),{...i,dispatch:s}}}function a9(e){return uP(e)&&"type"in e&&typeof e.type=="string"}var l9=Symbol.for("immer-nothing"),Xj=Symbol.for("immer-draftable"),Xr=Symbol.for("immer-state");function Gs(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var qi=Object,df=qi.getPrototypeOf,cb="constructor",Mx="prototype",fT="configurable",ub="enumerable",uw="writable",pm="value",nl=e=>!!e&&!!e[Xr];function Bo(e){return e?c9(e)||Tx(e)||!!e[Xj]||!!e[cb]?.[Xj]||kx(e)||Ax(e):!1}var KEe=qi[Mx][cb].toString(),Jj=new WeakMap;function c9(e){if(!e||!dP(e))return!1;const t=df(e);if(t===null||t===qi[Mx])return!0;const n=qi.hasOwnProperty.call(t,cb)&&t[cb];if(n===Object)return!0;if(!Rh(n))return!1;let r=Jj.get(n);return r===void 0&&(r=Function.toString.call(n),Jj.set(n,r)),r===KEe}function iv(e,t,n=!0){sv(e)===0?(n?Reflect.ownKeys(e):qi.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function sv(e){const t=e[Xr];return t?t.type_:Tx(e)?1:kx(e)?2:Ax(e)?3:0}var Zj=(e,t,n=sv(e))=>n===2?e.has(t):qi[Mx].hasOwnProperty.call(e,t),pT=(e,t,n=sv(e))=>n===2?e.get(t):e[t],db=(e,t,n,r=sv(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function YEe(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Tx=Array.isArray,kx=e=>e instanceof Map,Ax=e=>e instanceof Set,dP=e=>typeof e=="object",Rh=e=>typeof e=="function",zR=e=>typeof e=="boolean",Ea=e=>e.copy_||e.base_,hP=e=>e.modified_?e.copy_:e.base_;function gT(e,t){if(kx(e))return new Map(e);if(Ax(e))return new Set(e);if(Tx(e))return Array[Mx].slice.call(e);const n=c9(e);if(t===!0||t==="class_only"&&!n){const r=qi.getOwnPropertyDescriptors(e);delete r[Xr];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const o=i[s],a=r[o];a[uw]===!1&&(a[uw]=!0,a[fT]=!0),(a.get||a.set)&&(r[o]={[fT]:!0,[uw]:!0,[ub]:a[ub],[pm]:e[o]})}return qi.create(df(e),r)}else{const r=df(e);if(r!==null&&n)return{...e};const i=qi.create(r);return qi.assign(i,e)}}function fP(e,t=!1){return Px(e)||nl(e)||(sv(e)>1&&qi.defineProperties(e,{set:a0,add:a0,clear:a0,delete:a0}),qi.freeze(e),t&&iv(e,(n,r)=>{fP(r,!0)},!1)),e}function QEe(){Gs(2)}var a0={[pm]:QEe};function Px(e){return e===null||!dP(e)?!0:qi.isFrozen(e)}var hb="MapSet",mT="Patches",u9={};function hf(e){const t=u9[e];return t||Gs(0,e),t}var XEe=e=>!!u9[e],gm,d9=()=>gm,JEe=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:XEe(hb)?hf(hb):void 0});function e6(e,t){t&&(e.patchPlugin_=hf(mT),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function vT(e){yT(e),e.drafts_.forEach(ZEe),e.drafts_=null}function yT(e){e===gm&&(gm=e.parent_)}var t6=e=>gm=JEe(gm,e);function ZEe(e){const t=e[Xr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function n6(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[Xr].modified_&&(vT(t),Gs(4)),Bo(e)&&(e=r6(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(n[Xr].base_,e,t)}else e=r6(t,n);return eDe(t,e,!0),vT(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==l9?e:void 0}function r6(e,t){if(Px(t))return t;const n=t[Xr];if(!n)return pP(t,e.handledSet_,e);if(!Nx(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(e);p9(n,e)}return n.copy_}function eDe(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&fP(t,n)}function h9(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var Nx=(e,t)=>e.scope_===t,tDe=[];function f9(e,t,n,r){const i=Ea(e),s=e.type_;if(r!==void 0&&pT(i,r,s)===t){db(i,r,n,s);return}if(!e.draftLocations_){const a=e.draftLocations_=new Map;iv(i,(l,c)=>{if(nl(c)){const d=a.get(c)||[];d.push(l),a.set(c,d)}})}const o=e.draftLocations_.get(t)??tDe;for(const a of o)db(i,a,n,s)}function nDe(e,t,n){e.callbacks_.push(function(i){const s=t;if(!s||!Nx(s,i))return;i.mapSetPlugin_?.fixSetContents(s);const o=hP(s);f9(e,s.draft_??s,o,n),p9(s,i)})}function p9(e,t){if(e.modified_&&!e.finalized_&&(e.type_===3||(e.assigned_?.size??0)>0)){const{patchPlugin_:r}=t;if(r){const i=r.getPath(e);i&&r.generatePatches_(e,i,t)}h9(e)}}function rDe(e,t,n){const{scope_:r}=e;if(nl(n)){const i=n[Xr];Nx(i,r)&&i.callbacks_.push(function(){dw(e);const o=hP(i);f9(e,n,o,t)})}else Bo(n)&&e.callbacks_.push(function(){const s=Ea(e);pT(s,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&pP(pT(e.copy_,t,e.type_),r.handledSet_,r)})}function pP(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||nl(e)||t.has(e)||!Bo(e)||Px(e)||(t.add(e),iv(e,(r,i)=>{if(nl(i)){const s=i[Xr];if(Nx(s,n)){const o=hP(s);db(e,r,o,e.type_),h9(s)}}else Bo(i)&&pP(i,t,n)})),e}function iDe(e,t){const n=Tx(e),r={type_:n?1:0,scope_:t?t.scope_:d9(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,s=gP;n&&(i=[r],s=mm);const{revoke:o,proxy:a}=Proxy.revocable(i,s);return r.draft_=a,r.revoke_=o,[a,r]}var gP={get(e,t){if(t===Xr)return e;const n=Ea(e);if(!Zj(n,t,e.type_))return sDe(e,n,t);const r=n[t];if(e.finalized_||!Bo(r))return r;if(r===GR(e.base_,t)){dw(e);const i=e.type_===1?+t:t,s=bT(e.scope_,r,e,i);return e.copy_[i]=s}return r},has(e,t){return t in Ea(e)},ownKeys(e){return Reflect.ownKeys(Ea(e))},set(e,t,n){const r=g9(Ea(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=GR(Ea(e),t),s=i?.[Xr];if(s&&s.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(YEe(n,i)&&(n!==void 0||Zj(e.base_,t,e.type_)))return!0;dw(e),wT(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),rDe(e,t,n)),!0},deleteProperty(e,t){return dw(e),GR(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),wT(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Ea(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[uw]:!0,[fT]:e.type_!==1||t!=="length",[ub]:r[ub],[pm]:n[t]}},defineProperty(){Gs(11)},getPrototypeOf(e){return df(e.base_)},setPrototypeOf(){Gs(12)}},mm={};iv(gP,(e,t)=>{mm[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}});mm.deleteProperty=function(e,t){return mm.set.call(this,e,t,void 0)};mm.set=function(e,t,n){return gP.set.call(this,e[0],t,n,e[0])};function GR(e,t){const n=e[Xr];return(n?Ea(n):e)[t]}function sDe(e,t,n){const r=g9(t,n);return r?pm in r?r[pm]:r.get?.call(e.draft_):void 0}function g9(e,t){if(!(t in e))return;let n=df(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=df(n)}}function wT(e){e.modified_||(e.modified_=!0,e.parent_&&wT(e.parent_))}function dw(e){e.copy_||(e.assigned_=new Map,e.copy_=gT(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var oDe=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(Rh(n)&&!Rh(r)){const o=r;r=n;const a=this;return function(c=o,...d){return a.produce(c,f=>r.call(this,f,...d))}}Rh(r)||Gs(6),i!==void 0&&!Rh(i)&&Gs(7);let s;if(Bo(n)){const o=t6(this),a=bT(o,n,void 0);let l=!0;try{s=r(a),l=!1}finally{l?vT(o):yT(o)}return e6(o,i),n6(s,o)}else if(!n||!dP(n)){if(s=r(n),s===void 0&&(s=n),s===l9&&(s=void 0),this.autoFreeze_&&fP(s,!0),i){const o=[],a=[];hf(mT).generateReplacementPatches_(n,s,{patches_:o,inversePatches_:a}),i(o,a)}return s}else Gs(1,n)},this.produceWithPatches=(n,r)=>{if(Rh(n))return(a,...l)=>this.produceWithPatches(a,c=>n(c,...l));let i,s;return[this.produce(n,r,(a,l)=>{i=a,s=l}),i,s]},zR(t?.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),zR(t?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),zR(t?.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Bo(t)||Gs(8),nl(t)&&(t=Ys(t));const n=t6(this),r=bT(n,t,void 0);return r[Xr].isManual_=!0,yT(n),r}finishDraft(t,n){const r=t&&t[Xr];(!r||!r.isManual_)&&Gs(9);const{scope_:i}=r;return e6(i,n),n6(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,n){let r;for(r=n.length-1;r>=0;r--){const s=n[r];if(s.path.length===0&&s.op==="replace"){t=s.value;break}}r>-1&&(n=n.slice(r+1));const i=hf(mT).applyPatches_;return nl(t)?i(t,n):this.produce(t,s=>i(s,n))}};function bT(e,t,n,r){const[i,s]=kx(t)?hf(hb).proxyMap_(t,n):Ax(t)?hf(hb).proxySet_(t,n):iDe(t,n);return(n?.scope_??d9()).drafts_.push(i),s.callbacks_=n?.callbacks_??[],s.key_=r,n&&r!==void 0?nDe(n,s,r):s.callbacks_.push(function(l){l.mapSetPlugin_?.fixSetContents(s);const{patchPlugin_:c}=l;s.modified_&&c&&c.generatePatches_(s,[],l)}),i}function Ys(e){return nl(e)||Gs(10,e),m9(e)}function m9(e){if(!Bo(e)||Px(e))return e;const t=e[Xr];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=gT(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=gT(e,!0);return iv(n,(i,s)=>{db(n,i,m9(s))},r),t&&(t.finalized_=!1),n}var aDe=new oDe,v9=aDe.produce;function y9(e){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,e):i(s)}var lDe=y9(),cDe=y9,uDe=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?lb:lb.apply(null,arguments)};function Ps(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(Yi(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>a9(r)&&r.type===e,n}var w9=class bg extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,bg.prototype)}static get[Symbol.species](){return bg}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new bg(...t[0].concat(this)):new bg(...t.concat(this))}};function i6(e){return Bo(e)?v9(e,()=>{}):e}function l0(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function dDe(e){return typeof e=="boolean"}var hDe=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=t??{};let o=new w9;return n&&(dDe(n)?o.push(lDe):o.push(cDe(n.extraArgument))),o},b9="RTK_autoBatch",ln=()=>e=>({payload:e,meta:{[b9]:!0}}),s6=e=>t=>{setTimeout(t,e)},C9=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,s=!1,o=!1;const a=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:s6(10):e.type==="callback"?e.queueNotification:s6(e.timeout),c=()=>{o=!1,s&&(s=!1,a.forEach(d=>d()))};return Object.assign({},r,{subscribe(d){const f=()=>i&&d(),p=r.subscribe(f);return a.add(d),()=>{p(),a.delete(d)}},dispatch(d){try{return i=!d?.meta?.[b9],s=!i,s&&(o||(o=!0,l(c))),r.dispatch(d)}finally{i=!0}}})},fDe=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new w9(e);return r&&i.push(C9(typeof r=="object"?r:void 0)),i};function pDe(e){const t=hDe(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:o=void 0}=e||{};let a;if(typeof n=="function")a=n;else if(uP(n))a=o9(n);else throw new Error(Yi(1));let l;typeof r=="function"?l=r(t):l=t();let c=lb;i&&(c=uDe({trace:!1,...typeof i=="object"&&i}));const d=qEe(...l),f=fDe(d);let p=typeof o=="function"?o(f):f();const v=c(...p);return s9(a,s,v)}function x9(e){const t={},n=[];let r;const i={addCase(s,o){const a=typeof s=="string"?s:s.type;if(!a)throw new Error(Yi(28));if(a in t)throw new Error(Yi(29));return t[a]=o,i},addAsyncThunk(s,o){return o.pending&&(t[s.pending.type]=o.pending),o.rejected&&(t[s.rejected.type]=o.rejected),o.fulfilled&&(t[s.fulfilled.type]=o.fulfilled),o.settled&&n.push({matcher:s.settled,reducer:o.settled}),i},addMatcher(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase(s){return r=s,i}};return e(i),[t,n,r]}function gDe(e){return typeof e=="function"}function mDe(e,t){let[n,r,i]=x9(t),s;if(gDe(e))s=()=>i6(e());else{const a=i6(e);s=()=>a}function o(a=s(),l){let c=[n[l.type],...r.filter(({matcher:d})=>d(l)).map(({reducer:d})=>d)];return c.filter(d=>!!d).length===0&&(c=[i]),c.reduce((d,f)=>{if(f)if(nl(d)){const v=f(d,l);return v===void 0?d:v}else{if(Bo(d))return v9(d,p=>f(p,l));{const p=f(d,l);if(p===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return p}}return d},a)}return o.getInitialState=s,o}var vDe="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",yDe=(e=21)=>{let t="",n=e;for(;n--;)t+=vDe[Math.random()*64|0];return t},wDe=Symbol.for("rtk-slice-createasyncthunk");function bDe(e,t){return`${e}/${t}`}function CDe({creators:e}={}){const t=e?.asyncThunk?.[wDe];return function(r){const{name:i,reducerPath:s=i}=r;if(!i)throw new Error(Yi(11));const o=(typeof r.reducers=="function"?r.reducers(SDe()):r.reducers)||{},a=Object.keys(o),l={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},c={addCase(R,T){const k=typeof R=="string"?R:R.type;if(!k)throw new Error(Yi(12));if(k in l.sliceCaseReducersByType)throw new Error(Yi(13));return l.sliceCaseReducersByType[k]=T,c},addMatcher(R,T){return l.sliceMatchers.push({matcher:R,reducer:T}),c},exposeAction(R,T){return l.actionCreators[R]=T,c},exposeCaseReducer(R,T){return l.sliceCaseReducersByName[R]=T,c}};a.forEach(R=>{const T=o[R],k={reducerName:R,type:bDe(i,R),createNotation:typeof r.reducers=="function"};DDe(T)?MDe(k,T,c,t):EDe(k,T,c)});function d(){const[R={},T=[],k=void 0]=typeof r.extraReducers=="function"?x9(r.extraReducers):[r.extraReducers],P={...R,...l.sliceCaseReducersByType};return mDe(r.initialState,A=>{for(let O in P)A.addCase(O,P[O]);for(let O of l.sliceMatchers)A.addMatcher(O.matcher,O.reducer);for(let O of T)A.addMatcher(O.matcher,O.reducer);k&&A.addDefaultCase(k)})}const f=R=>R,p=new Map,v=new WeakMap;let y;function b(R,T){return y||(y=d()),y(R,T)}function x(){return y||(y=d()),y.getInitialState()}function S(R,T=!1){function k(A){let O=A[R];return typeof O>"u"&&T&&(O=l0(v,k,x)),O}function P(A=f){const O=l0(p,T,()=>new WeakMap);return l0(O,A,()=>{const B={};for(const[U,_]of Object.entries(r.selectors??{}))B[U]=xDe(_,A,()=>l0(v,A,x),T);return B})}return{reducerPath:R,getSelectors:P,get selectors(){return P(k)},selectSlice:k}}const M={name:i,reducer:b,actions:l.actionCreators,caseReducers:l.sliceCaseReducersByName,getInitialState:x,...S(s),injectInto(R,{reducerPath:T,...k}={}){const P=T??s;return R.inject({reducerPath:P,reducer:b},k),{...M,...S(P,!0)}}};return M}}function xDe(e,t,n,r){function i(s,...o){let a=t(s);return typeof a>"u"&&r&&(a=n()),e(a,...o)}return i.unwrapped=e,i}var Ei=CDe();function SDe(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function EDe({type:e,reducerName:t,createNotation:n},r,i){let s,o;if("reducer"in r){if(n&&!RDe(r))throw new Error(Yi(17));s=r.reducer,o=r.prepare}else s=r;i.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,o?Ps(e,o):Ps(e))}function DDe(e){return e._reducerDefinitionType==="asyncThunk"}function RDe(e){return e._reducerDefinitionType==="reducerWithPrepare"}function MDe({type:e,reducerName:t},n,r,i){if(!i)throw new Error(Yi(18));const{payloadCreator:s,fulfilled:o,pending:a,rejected:l,settled:c,options:d}=n,f=i(e,s,d);r.exposeAction(t,f),o&&r.addCase(f.fulfilled,o),a&&r.addCase(f.pending,a),l&&r.addCase(f.rejected,l),c&&r.addMatcher(f.settled,c),r.exposeCaseReducer(t,{fulfilled:o||c0,pending:a||c0,rejected:l||c0,settled:c||c0})}function c0(){}var TDe="task",S9="listener",E9="completed",mP="cancelled",kDe=`task-${mP}`,ADe=`task-${E9}`,CT=`${S9}-${mP}`,PDe=`${S9}-${E9}`,Ox=class{constructor(e){this.code=e,this.message=`${TDe} ${mP} (reason: ${e})`}name="TaskAbortError";message},vP=(e,t)=>{if(typeof e!="function")throw new TypeError(Yi(32))},fb=()=>{},D9=(e,t=fb)=>(e.catch(t),e),R9=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),zu=(e,t)=>{const n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Gu=e=>{if(e.aborted){const{reason:t}=e;throw new Ox(t)}};function M9(e,t){let n=fb;return new Promise((r,i)=>{const s=()=>i(new Ox(e.reason));if(e.aborted){s();return}n=R9(e,s),t.finally(()=>n()).then(r,i)}).finally(()=>{n=fb})}var NDe=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof Ox?"cancelled":"rejected",error:n}}finally{t?.()}},pb=e=>t=>D9(M9(e,t).then(n=>(Gu(e),n))),T9=e=>{const t=pb(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:Yh}=Object,o6={},Fx="listenerMiddleware",ODe=(e,t)=>{const n=r=>R9(e,()=>zu(r,e.reason));return(r,i)=>{vP(r);const s=new AbortController;n(s);const o=NDe(async()=>{Gu(e),Gu(s.signal);const a=await r({pause:pb(s.signal),delay:T9(s.signal),signal:s.signal});return Gu(s.signal),a},()=>zu(s,ADe));return i?.autoJoin&&t.push(o.catch(fb)),{result:pb(e)(o),cancel(){zu(s,kDe)}}}},FDe=(e,t)=>{const n=async(r,i)=>{Gu(t);let s=()=>{};const a=[new Promise((l,c)=>{let d=e({predicate:r,effect:(f,p)=>{p.unsubscribe(),l([f,p.getState(),p.getOriginalState()])}});s=()=>{d(),c()}})];i!=null&&a.push(new Promise(l=>setTimeout(l,i,null)));try{const l=await M9(t,Promise.race(a));return Gu(t),l}finally{s()}};return(r,i)=>D9(n(r,i))},k9=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:s}=e;if(t)i=Ps(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Yi(21));return vP(s),{predicate:i,type:t,effect:s}},A9=Yh(e=>{const{type:t,predicate:n,effect:r}=k9(e);return{id:yDe(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Yi(22))}}},{withTypes:()=>A9}),a6=(e,t)=>{const{type:n,effect:r,predicate:i}=k9(t);return Array.from(e.values()).find(s=>(typeof n=="string"?s.type===n:s.predicate===i)&&s.effect===r)},xT=e=>{e.pending.forEach(t=>{zu(t,CT)})},IDe=(e,t)=>()=>{for(const n of t.keys())xT(n);e.clear()},l6=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},P9=Yh(Ps(`${Fx}/add`),{withTypes:()=>P9}),LDe=Ps(`${Fx}/removeAll`),N9=Yh(Ps(`${Fx}/remove`),{withTypes:()=>N9}),_De=(...e)=>{console.error(`${Fx}/error`,...e)},ov=(e={})=>{const t=new Map,n=new Map,r=v=>{const y=n.get(v)??0;n.set(v,y+1)},i=v=>{const y=n.get(v)??1;y===1?n.delete(v):n.set(v,y-1)},{extra:s,onError:o=_De}=e;vP(o);const a=v=>(v.unsubscribe=()=>t.delete(v.id),t.set(v.id,v),y=>{v.unsubscribe(),y?.cancelActive&&xT(v)}),l=v=>{const y=a6(t,v)??A9(v);return a(y)};Yh(l,{withTypes:()=>l});const c=v=>{const y=a6(t,v);return y&&(y.unsubscribe(),v.cancelActive&&xT(y)),!!y};Yh(c,{withTypes:()=>c});const d=async(v,y,b,x)=>{const S=new AbortController,M=FDe(l,S.signal),R=[];try{v.pending.add(S),r(v),await Promise.resolve(v.effect(y,Yh({},b,{getOriginalState:x,condition:(T,k)=>M(T,k).then(Boolean),take:M,delay:T9(S.signal),pause:pb(S.signal),extra:s,signal:S.signal,fork:ODe(S.signal,R),unsubscribe:v.unsubscribe,subscribe:()=>{t.set(v.id,v)},cancelActiveListeners:()=>{v.pending.forEach((T,k,P)=>{T!==S&&(zu(T,CT),P.delete(T))})},cancel:()=>{zu(S,CT),v.pending.delete(S)},throwIfCancelled:()=>{Gu(S.signal)}})))}catch(T){T instanceof Ox||l6(o,T,{raisedBy:"effect"})}finally{await Promise.all(R),zu(S,PDe),i(v),v.pending.delete(S)}},f=IDe(t,n);return{middleware:v=>y=>b=>{if(!a9(b))return y(b);if(P9.match(b))return l(b.payload);if(LDe.match(b)){f();return}if(N9.match(b))return c(b.payload);let x=v.getState();const S=()=>{if(x===o6)throw new Error(Yi(23));return x};let M;try{if(M=y(b),t.size>0){const R=v.getState(),T=Array.from(t.values());for(const k of T){let P=!1;try{P=k.predicate(b,R,x)}catch(A){P=!1,l6(o,A,{raisedBy:"predicate"})}P&&d(k,b,v,S)}}}finally{x=o6}return M},startListening:l,stopListening:c,clearListeners:f}};function Yi(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var jDe={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},O9=Ei({name:"chartLayout",initialState:jDe,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,s;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(s=t.payload.left)!==null&&s!==void 0?s:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:BDe,setLayout:HDe,setChartSize:zDe,setScale:GDe}=O9.actions,VDe=O9.reducer;function F9(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function c6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ih(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?c6(Object(n),!0).forEach(function(r){WDe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function WDe(e,t,n){return(t=UDe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UDe(e){var t=$De(e,"string");return typeof t=="symbol"?t:t+""}function $De(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fr(e,t,n){return sr(e)||sr(t)?n:jo(t)?uf(e,t,n):typeof t=="function"?t(e):n}var qDe=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:s,verticalAlign:o,layout:a}=t;if((a==="vertical"||a==="horizontal"&&o==="middle")&&s!=="center"&&Ie(e[s]))return Ih(Ih({},e),{},{[s]:e[s]+(r||0)});if((a==="horizontal"||a==="vertical"&&s==="center")&&o!=="middle"&&Ie(e[o]))return Ih(Ih({},e),{},{[o]:e[o]+(i||0)})}return e},xd=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",I9=(e,t,n,r)=>{if(r)return e.map(a=>a.coordinate);var i,s,o=e.map(a=>(a.coordinate===t&&(i=!0),a.coordinate===n&&(s=!0),a.coordinate));return i||o.push(t),s||o.push(n),o},L9=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:s,scale:o,realScaleType:a,isCategorical:l,categoricalDomain:c,tickCount:d,ticks:f,niceTicks:p,axisType:v}=e;if(!o)return null;var y=a==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,b=i==="category"&&o.bandwidth?o.bandwidth()/y:0;if(b=v==="angleAxis"&&s&&s.length>=2?mi(s[0]-s[1])*2*b:b,f||p){var x=(f||p||[]).map((S,M)=>{var R=r?r.indexOf(S):S;return{coordinate:o(R)+b,value:S,offset:b,index:M}});return x.filter(S=>!Zs(S.coordinate))}return l&&c?c.map((S,M)=>({coordinate:o(S)+b,value:S,index:M,offset:b})):o.ticks&&d!=null?o.ticks(d).map((S,M)=>({coordinate:o(S)+b,value:S,offset:b,index:M})):o.domain().map((S,M)=>({coordinate:o(S)+b,value:r?r[S]:S,index:M,offset:b}))},u6=1e-4,KDe=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-u6,s=Math.max(r[0],r[1])+u6,o=e(t[0]),a=e(t[n-1]);(o<i||o>s||a<i||a>s)&&e.domain([t[0],t[n-1]])}},YDe=(e,t)=>{if(!t||t.length!==2||!Ie(t[0])||!Ie(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!Ie(e[0])||e[0]<n)&&(i[0]=n),(!Ie(e[1])||e[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},QDe=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,s=0,o=0;o<t;++o){var a=Zs(e[o][n][1])?e[o][n][0]:e[o][n][1];a>=0?(e[o][n][0]=i,e[o][n][1]=i+a,i=e[o][n][1]):(e[o][n][0]=s,e[o][n][1]=s+a,s=e[o][n][1])}},XDe=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,s=0;s<t;++s){var o=Zs(e[s][n][1])?e[s][n][0]:e[s][n][1];o>=0?(e[s][n][0]=i,e[s][n][1]=i+o,i=e[s][n][1]):(e[s][n][0]=0,e[s][n][1]=0)}},JDe={sign:QDe,expand:y1e,none:cf,silhouette:w1e,wiggle:b1e,positive:XDe},ZDe=(e,t,n)=>{var r=JDe[n],i=v1e().keys(t).value((s,o)=>Number(Fr(s,o,0))).order(dT).offset(r);return i(e)};function eRe(e){return e==null?void 0:String(e)}var d6=e=>{var{axis:t,ticks:n,offset:r,bandSize:i,entry:s,index:o}=e;if(t.type==="category")return n[o]?n[o].coordinate+r:null;var a=Fr(s,t.dataKey,t.scale.domain()[o]);return sr(a)?null:t.scale(a)-i/2+r},tRe=e=>{var{numericAxis:t}=e,n=t.scale.domain();if(t.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},nRe=e=>{var t=e.flat(2).filter(Ie);return[Math.min(...t),Math.max(...t)]},rRe=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],iRe=(e,t,n)=>{if(e!=null)return rRe(Object.keys(e).reduce((r,i)=>{var s=e[i],{stackedData:o}=s,a=o.reduce((l,c)=>{var d=F9(c,t,n),f=nRe(d);return[Math.min(l[0],f[0]),Math.max(l[1],f[1])]},[1/0,-1/0]);return[Math.min(a[0],r[0]),Math.max(a[1],r[1])]},[1/0,-1/0]))},h6=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,f6=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,gb=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=Rx(t,d=>d.coordinate),s=1/0,o=1,a=i.length;o<a;o++){var l=i[o],c=i[o-1];s=Math.min((l.coordinate||0)-(c.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0};function p6(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:s}=e;return Ih(Ih({},t),{},{dataKey:n,payload:r,value:i,name:s})}function _9(e,t){if(e)return String(e);if(typeof t=="string")return t}var sRe=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},oRe=(e,t)=>t==="centric"?e.angle:e.radius,fl=e=>e.layout.width,pl=e=>e.layout.height,aRe=e=>e.layout.scale,j9=e=>e.layout.margin,Ix=ce(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Lx=ce(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),lRe="data-recharts-item-index",cRe="data-recharts-item-data-key",av=60;function g6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function u0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?g6(Object(n),!0).forEach(function(r){uRe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uRe(e,t,n){return(t=dRe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dRe(e){var t=hRe(e,"string");return typeof t=="symbol"?t:t+""}function hRe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fRe=e=>e.brush.height;function pRe(e){var t=Lx(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:av;return n+i}return n},0)}function gRe(e){var t=Lx(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:av;return n+i}return n},0)}function mRe(e){var t=Ix(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function vRe(e){var t=Ix(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var or=ce([fl,pl,j9,fRe,pRe,gRe,mRe,vRe,r9,HEe],(e,t,n,r,i,s,o,a,l,c)=>{var d={left:(n.left||0)+i,right:(n.right||0)+s},f={top:(n.top||0)+o,bottom:(n.bottom||0)+a},p=u0(u0({},f),d),v=p.bottom;p.bottom+=r,p=qDe(p,l,c);var y=e-p.left-p.right,b=t-p.top-p.bottom;return u0(u0({brushBottom:v},p),{},{width:Math.max(y,0),height:Math.max(b,0)})}),yRe=ce(or,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),yP=ce(fl,pl,(e,t)=>({x:0,y:0,width:e,height:t})),wRe=C.createContext(null),Di=()=>C.useContext(wRe)!=null,_x=e=>e.brush,jx=ce([_x,or,j9],(e,t,n)=>({height:e.height,x:Ie(e.x)?e.x:t.left,y:Ie(e.y)?e.y:t.top+t.height+t.brushBottom-(n?.bottom||0),width:Ie(e.width)?e.width:t.width})),VR={},WR={},UR={},m6;function bRe(){return m6||(m6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:s}={}){let o,a=null;const l=s!=null&&s.includes("leading"),c=s==null||s.includes("trailing"),d=()=>{a!==null&&(n.apply(o,a),o=void 0,a=null)},f=()=>{c&&d(),b()};let p=null;const v=()=>{p!=null&&clearTimeout(p),p=setTimeout(()=>{p=null,f()},r)},y=()=>{p!==null&&(clearTimeout(p),p=null)},b=()=>{y(),o=void 0,a=null},x=()=>{d()},S=function(...M){if(i?.aborted)return;o=this,a=M;const R=p==null;v(),l&&R&&d()};return S.schedule=v,S.cancel=b,S.flush=x,i?.addEventListener("abort",b,{once:!0}),S}e.debounce=t})(UR)),UR}var v6;function CRe(){return v6||(v6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bRe();function n(r,i=0,s={}){typeof s!="object"&&(s={});const{leading:o=!1,trailing:a=!0,maxWait:l}=s,c=Array(2);o&&(c[0]="leading"),a&&(c[1]="trailing");let d,f=null;const p=t.debounce(function(...b){d=r.apply(this,b),f=null},i,{edges:c}),v=function(...b){return l!=null&&(f===null&&(f=Date.now()),Date.now()-f>=l)?(d=r.apply(this,b),f=Date.now(),p.cancel(),p.schedule(),d):(p.apply(this,b),d)},y=()=>(p.flush(),d);return v.cancel=p.cancel,v.flush=y,v}e.debounce=n})(WR)),WR}var y6;function xRe(){return y6||(y6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=CRe();function n(r,i=0,s={}){const{leading:o=!0,trailing:a=!0}=s;return t.debounce(r,i,{leading:o,maxWait:i,trailing:a})}e.throttle=n})(VR)),VR}var $R,w6;function SRe(){return w6||(w6=1,$R=xRe().throttle),$R}var ERe=SRe();const DRe=Fs(ERe);var mb=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;console.warn(n.replace(/%s/g,()=>i[o++]))}},B9=(e,t,n)=>{var{width:r="100%",height:i="100%",aspect:s,maxHeight:o}=n,a=tl(r)?e:Number(r),l=tl(i)?t:Number(i);return s&&s>0&&(a?l=a/s:l&&(a=l*s),o&&l!=null&&l>o&&(l=o)),{calculatedWidth:a,calculatedHeight:l}},RRe={width:0,height:0,overflow:"visible"},MRe={width:0,overflowX:"visible"},TRe={height:0,overflowY:"visible"},kRe={},ARe=e=>{var{width:t,height:n}=e,r=tl(t),i=tl(n);return r&&i?RRe:r?MRe:i?TRe:kRe};function PRe(e){var{width:t,height:n,aspect:r}=e,i=t,s=n;return i===void 0&&s===void 0?(i="100%",s="100%"):i===void 0?i=r&&r>0?void 0:"100%":s===void 0&&(s=r&&r>0?void 0:"100%"),{width:i,height:s}}function Pn(e){return Number.isFinite(e)}function Ho(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function ST(){return ST=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ST.apply(null,arguments)}function b6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function C6(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?b6(Object(n),!0).forEach(function(r){NRe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function NRe(e,t,n){return(t=ORe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ORe(e){var t=FRe(e,"string");return typeof t=="symbol"?t:t+""}function FRe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var H9=C.createContext({width:-1,height:-1});function IRe(e){return Ho(e.width)&&Ho(e.height)}function z9(e){var{children:t,width:n,height:r}=e,i=C.useMemo(()=>({width:n,height:r}),[n,r]);return IRe(i)?C.createElement(H9.Provider,{value:i},t):null}var wP=()=>C.useContext(H9),LRe=C.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:s,minWidth:o=0,minHeight:a,maxHeight:l,children:c,debounce:d=0,id:f,className:p,onResize:v,style:y={}}=e,b=C.useRef(null),x=C.useRef();x.current=v,C.useImperativeHandle(t,()=>b.current);var[S,M]=C.useState({containerWidth:r.width,containerHeight:r.height}),R=C.useCallback((O,B)=>{M(U=>{var _=Math.round(O),I=Math.round(B);return U.containerWidth===_&&U.containerHeight===I?U:{containerWidth:_,containerHeight:I}})},[]);C.useEffect(()=>{if(b.current==null||typeof ResizeObserver>"u")return rv;var O=I=>{var V,{width:F,height:L}=I[0].contentRect;R(F,L),(V=x.current)===null||V===void 0||V.call(x,F,L)};d>0&&(O=DRe(O,d,{trailing:!0,leading:!1}));var B=new ResizeObserver(O),{width:U,height:_}=b.current.getBoundingClientRect();return R(U,_),B.observe(b.current),()=>{B.disconnect()}},[R,d]);var{containerWidth:T,containerHeight:k}=S;mb(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:P,calculatedHeight:A}=B9(T,k,{width:i,height:s,aspect:n,maxHeight:l});return mb(P!=null&&P>0||A!=null&&A>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,P,A,i,s,o,a,n),C.createElement("div",{id:f?"".concat(f):void 0,className:$e("recharts-responsive-container",p),style:C6(C6({},y),{},{width:i,height:s,minWidth:o,minHeight:a,maxHeight:l}),ref:b},C.createElement("div",{style:ARe({width:i,height:s})},C.createElement(z9,{width:P,height:A},c)))}),G9=C.forwardRef((e,t)=>{var n=wP();if(Ho(n.width)&&Ho(n.height))return e.children;var{width:r,height:i}=PRe({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:s,calculatedHeight:o}=B9(void 0,void 0,{width:r,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return Ie(s)&&Ie(o)?C.createElement(z9,{width:s,height:o},e.children):C.createElement(LRe,ST({},e,{width:r,height:i,ref:t}))});function V9(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Bx=()=>{var e,t=Di(),n=Le(yRe),r=Le(jx),i=(e=Le(_x))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},_Re={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},W9=()=>{var e;return(e=Le(or))!==null&&e!==void 0?e:_Re},bP=()=>Le(fl),CP=()=>Le(pl),jRe=()=>Le(e=>e.layout.margin),Lt=e=>e.layout.layoutType,Hx=()=>Le(Lt),BRe=()=>{var e=Hx();return e!==void 0},zx=e=>{var t=gn(),n=Di(),{width:r,height:i}=e,s=wP(),o=r,a=i;return s&&(o=s.width>0?s.width:r,a=s.height>0?s.height:i),C.useEffect(()=>{!n&&Ho(o)&&Ho(a)&&t(zDe({width:o,height:a}))},[t,n,o,a]),null},U9=Symbol.for("immer-nothing"),x6=Symbol.for("immer-draftable"),Ji=Symbol.for("immer-state");function Vs(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var vm=Object.getPrototypeOf;function ff(e){return!!e&&!!e[Ji]}function rd(e){return e?$9(e)||Array.isArray(e)||!!e[x6]||!!e.constructor?.[x6]||lv(e)||Vx(e):!1}var HRe=Object.prototype.constructor.toString(),S6=new WeakMap;function $9(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=S6.get(n);return r===void 0&&(r=Function.toString.call(n),S6.set(n,r)),r===HRe}function vb(e,t,n=!0){Gx(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function Gx(e){const t=e[Ji];return t?t.type_:Array.isArray(e)?1:lv(e)?2:Vx(e)?3:0}function ET(e,t){return Gx(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function q9(e,t,n){const r=Gx(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function zRe(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function lv(e){return e instanceof Map}function Vx(e){return e instanceof Set}function gu(e){return e.copy_||e.base_}function DT(e,t){if(lv(e))return new Map(e);if(Vx(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=$9(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[Ji];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const o=i[s],a=r[o];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(r[o]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[o]})}return Object.create(vm(e),r)}else{const r=vm(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function xP(e,t=!1){return Wx(e)||ff(e)||!rd(e)||(Gx(e)>1&&Object.defineProperties(e,{set:d0,add:d0,clear:d0,delete:d0}),Object.freeze(e),t&&Object.values(e).forEach(n=>xP(n,!0))),e}function GRe(){Vs(2)}var d0={value:GRe};function Wx(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var VRe={};function id(e){const t=VRe[e];return t||Vs(0,e),t}var ym;function K9(){return ym}function WRe(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function E6(e,t){t&&(id("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function RT(e){MT(e),e.drafts_.forEach(URe),e.drafts_=null}function MT(e){e===ym&&(ym=e.parent_)}function D6(e){return ym=WRe(ym,e)}function URe(e){const t=e[Ji];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function R6(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Ji].modified_&&(RT(t),Vs(4)),rd(e)&&(e=yb(t,e),t.parent_||wb(t,e)),t.patches_&&id("Patches").generateReplacementPatches_(n[Ji].base_,e,t.patches_,t.inversePatches_)):e=yb(t,n,[]),RT(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==U9?e:void 0}function yb(e,t,n){if(Wx(t))return t;const r=e.immer_.shouldUseStrictIteration(),i=t[Ji];if(!i)return vb(t,(s,o)=>M6(e,i,t,s,o,n),r),t;if(i.scope_!==e)return t;if(!i.modified_)return wb(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const s=i.copy_;let o=s,a=!1;i.type_===3&&(o=new Set(s),s.clear(),a=!0),vb(o,(l,c)=>M6(e,i,s,l,c,n,a),r),wb(e,s,!1),n&&e.patches_&&id("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function M6(e,t,n,r,i,s,o){if(i==null||typeof i!="object"&&!o)return;const a=Wx(i);if(!(a&&!o)){if(ff(i)){const l=s&&t&&t.type_!==3&&!ET(t.assigned_,r)?s.concat(r):void 0,c=yb(e,i,l);if(q9(n,r,c),ff(c))e.canAutoFreeze_=!1;else return}else o&&n.add(i);if(rd(i)&&!a){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===i&&a)return;yb(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(lv(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&wb(e,i)}}}function wb(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&xP(t,n)}function $Re(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:K9(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=SP;n&&(i=[r],s=wm);const{revoke:o,proxy:a}=Proxy.revocable(i,s);return r.draft_=a,r.revoke_=o,a}var SP={get(e,t){if(t===Ji)return e;const n=gu(e);if(!ET(n,t))return qRe(e,n,t);const r=n[t];return e.finalized_||!rd(r)?r:r===qR(e.base_,t)?(KR(e),e.copy_[t]=kT(r,e)):r},has(e,t){return t in gu(e)},ownKeys(e){return Reflect.ownKeys(gu(e))},set(e,t,n){const r=Y9(gu(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=qR(gu(e),t),s=i?.[Ji];if(s&&s.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(zRe(n,i)&&(n!==void 0||ET(e.base_,t)))return!0;KR(e),TT(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return qR(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,KR(e),TT(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=gu(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Vs(11)},getPrototypeOf(e){return vm(e.base_)},setPrototypeOf(){Vs(12)}},wm={};vb(SP,(e,t)=>{wm[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});wm.deleteProperty=function(e,t){return wm.set.call(this,e,t,void 0)};wm.set=function(e,t,n){return SP.set.call(this,e[0],t,n,e[0])};function qR(e,t){const n=e[Ji];return(n?gu(n):e)[t]}function qRe(e,t,n){const r=Y9(t,n);return r?"value"in r?r.value:r.get?.call(e.draft_):void 0}function Y9(e,t){if(!(t in e))return;let n=vm(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=vm(n)}}function TT(e){e.modified_||(e.modified_=!0,e.parent_&&TT(e.parent_))}function KR(e){e.copy_||(e.copy_=DT(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var KRe=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const s=n;n=t;const o=this;return function(l=s,...c){return o.produce(l,d=>n.call(this,d,...c))}}typeof n!="function"&&Vs(6),r!==void 0&&typeof r!="function"&&Vs(7);let i;if(rd(t)){const s=D6(this),o=kT(t,void 0);let a=!0;try{i=n(o),a=!1}finally{a?RT(s):MT(s)}return E6(s,r),R6(i,s)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===U9&&(i=void 0),this.autoFreeze_&&xP(i,!0),r){const s=[],o=[];id("Patches").generateReplacementPatches_(t,i,s,o),r(s,o)}return i}else Vs(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(o,...a)=>this.produceWithPatches(o,l=>t(l,...a));let r,i;return[this.produce(t,n,(o,a)=>{r=o,i=a}),r,i]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){rd(e)||Vs(8),ff(e)&&(e=YRe(e));const t=D6(this),n=kT(e,void 0);return n[Ji].isManual_=!0,MT(t),n}finishDraft(e,t){const n=e&&e[Ji];(!n||!n.isManual_)&&Vs(9);const{scope_:r}=n;return E6(r,t),R6(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=id("Patches").applyPatches_;return ff(e)?r(e,t):this.produce(e,i=>r(i,t))}};function kT(e,t){const n=lv(e)?id("MapSet").proxyMap_(e,t):Vx(e)?id("MapSet").proxySet_(e,t):$Re(e,t);return(t?t.scope_:K9()).drafts_.push(n),n}function YRe(e){return ff(e)||Vs(10,e),Q9(e)}function Q9(e){if(!rd(e)||Wx(e))return e;const t=e[Ji];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=DT(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=DT(e,!0);return vb(n,(i,s)=>{q9(n,i,Q9(s))},r),t&&(t.finalized_=!1),n}var QRe=new KRe;QRe.produce;var XRe={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},X9=Ei({name:"legend",initialState:XRe,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:ln()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Ys(e).payload.indexOf(n);i>-1&&(e.payload[i]=r)},prepare:ln()},removeLegendPayload:{reducer(e,t){var n=Ys(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:ln()}}}),{setLegendSize:T6,setLegendSettings:JRe,addLegendPayload:ZRe,replaceLegendPayload:eMe,removeLegendPayload:tMe}=X9.actions,nMe=X9.reducer,rMe=["contextPayload"];function AT(){return AT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},AT.apply(null,arguments)}function k6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function pf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?k6(Object(n),!0).forEach(function(r){iMe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function iMe(e,t,n){return(t=sMe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sMe(e){var t=oMe(e,"string");return typeof t=="symbol"?t:t+""}function oMe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aMe(e,t){if(e==null)return{};var n,r,i=lMe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function lMe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function cMe(e){return e.value}function uMe(e){var{contextPayload:t}=e,n=aMe(e,rMe),r=XU(t,e.payloadUniqBy,cMe),i=pf(pf({},n),{},{payload:r});return C.isValidElement(e.content)?C.cloneElement(e.content,i):typeof e.content=="function"?C.createElement(e.content,i):C.createElement(X1e,i)}function dMe(e,t,n,r,i,s){var{layout:o,align:a,verticalAlign:l}=t,c,d;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(a==="center"&&o==="vertical"?c={left:((r||0)-s.width)/2}:c=a==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(l==="middle"?d={top:((i||0)-s.height)/2}:d=l==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),pf(pf({},c),d)}function hMe(e){var t=gn();return C.useEffect(()=>{t(JRe(e))},[t,e]),null}function fMe(e){var t=gn();return C.useEffect(()=>(t(T6(e)),()=>{t(T6({width:0,height:0}))}),[t,e]),null}function pMe(e,t,n,r){return e==="vertical"&&Ie(t)?{height:t}:e==="horizontal"?{width:n||r}:null}var gMe={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function EP(e){var t=ni(e,gMe),n=VEe(),r=zSe(),i=jRe(),{width:s,height:o,wrapperStyle:a,portal:l}=t,[c,d]=i9([n]),f=bP(),p=CP();if(f==null||p==null)return null;var v=f-(i?.left||0)-(i?.right||0),y=pMe(t.layout,o,s,v),b=l?a:pf(pf({position:"absolute",width:y?.width||s||"auto",height:y?.height||o||"auto"},dMe(a,t,i,f,p,c)),a),x=l??r;if(x==null||n==null)return null;var S=C.createElement("div",{className:"recharts-legend-wrapper",style:b,ref:d},C.createElement(hMe,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!l&&C.createElement(fMe,{width:c.width,height:c.height}),C.createElement(uMe,AT({},t,y,{margin:i,chartWidth:f,chartHeight:p,contextPayload:n})));return md.createPortal(S,x)}EP.displayName="Legend";function PT(){return PT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},PT.apply(null,arguments)}function A6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function YR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?A6(Object(n),!0).forEach(function(r){mMe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mMe(e,t,n){return(t=vMe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vMe(e){var t=yMe(e,"string");return typeof t=="symbol"?t:t+""}function yMe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wMe(e){return Array.isArray(e)&&jo(e[0])&&jo(e[1])?e.join(" ~ "):e}var bMe=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:s,formatter:o,itemSorter:a,wrapperClassName:l,labelClassName:c,label:d,labelFormatter:f,accessibilityLayer:p=!1}=e,v=()=>{if(s&&s.length){var k={padding:0,margin:0},P=(a?Rx(s,a):s).map((A,O)=>{if(A.type==="none")return null;var B=A.formatter||o||wMe,{value:U,name:_}=A,I=U,V=_;if(B){var F=B(U,_,A,O,s);if(Array.isArray(F))[I,V]=F;else if(F!=null)I=F;else return null}var L=YR({display:"block",paddingTop:4,paddingBottom:4,color:A.color||"#000"},r);return C.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(O),style:L},jo(V)?C.createElement("span",{className:"recharts-tooltip-item-name"},V):null,jo(V)?C.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,C.createElement("span",{className:"recharts-tooltip-item-value"},I),C.createElement("span",{className:"recharts-tooltip-item-unit"},A.unit||""))});return C.createElement("ul",{className:"recharts-tooltip-item-list",style:k},P)}return null},y=YR({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),b=YR({margin:0},i),x=!sr(d),S=x?d:"",M=$e("recharts-default-tooltip",l),R=$e("recharts-tooltip-label",c);x&&f&&s!==void 0&&s!==null&&(S=f(d,s));var T=p?{role:"status","aria-live":"assertive"}:{};return C.createElement("div",PT({className:M,style:y},T),C.createElement("p",{className:R,style:b},C.isValidElement(S)?S:"".concat(S)),v())},rg="recharts-tooltip-wrapper",CMe={visibility:"hidden"};function xMe(e){var{coordinate:t,translateX:n,translateY:r}=e;return $e(rg,{["".concat(rg,"-right")]:Ie(n)&&t&&Ie(t.x)&&n>=t.x,["".concat(rg,"-left")]:Ie(n)&&t&&Ie(t.x)&&n<t.x,["".concat(rg,"-bottom")]:Ie(r)&&t&&Ie(t.y)&&r>=t.y,["".concat(rg,"-top")]:Ie(r)&&t&&Ie(t.y)&&r<t.y})}function P6(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:s,reverseDirection:o,tooltipDimension:a,viewBox:l,viewBoxDimension:c}=e;if(s&&Ie(s[r]))return s[r];var d=n[r]-a-(i>0?i:0),f=n[r]+i;if(t[r])return o[r]?d:f;var p=l[r];if(p==null)return 0;if(o[r]){var v=d,y=p;return v<y?Math.max(f,p):Math.max(d,p)}if(c==null)return 0;var b=f+a,x=p+c;return b>x?Math.max(d,p):Math.max(f,p)}function SMe(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function EMe(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:s,tooltipBox:o,useTranslate3d:a,viewBox:l}=e,c,d,f;return o.height>0&&o.width>0&&n?(d=P6({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),f=P6({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),c=SMe({translateX:d,translateY:f,useTranslate3d:a})):c=CMe,{cssProperties:c,cssClasses:xMe({translateX:d,translateY:f,coordinate:n})}}function N6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function h0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?N6(Object(n),!0).forEach(function(r){NT(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function NT(e,t,n){return(t=DMe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DMe(e){var t=RMe(e,"string");return typeof t=="symbol"?t:t+""}function RMe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class MMe extends C.PureComponent{constructor(){super(...arguments),NT(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),NT(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:s,coordinate:o,hasPayload:a,isAnimationActive:l,offset:c,position:d,reverseDirection:f,useTranslate3d:p,viewBox:v,wrapperStyle:y,lastBoundingBox:b,innerRef:x,hasPortalFromProps:S}=this.props,{cssClasses:M,cssProperties:R}=EMe({allowEscapeViewBox:n,coordinate:o,offsetTopLeft:c,position:d,reverseDirection:f,tooltipBox:{height:b.height,width:b.width},useTranslate3d:p,viewBox:v}),T=S?{}:h0(h0({transition:l&&t?"transform ".concat(r,"ms ").concat(i):void 0},R),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&a?"visible":"hidden",position:"absolute",top:0,left:0}),k=h0(h0({},T),{},{visibility:!this.state.dismissed&&t&&a?"visible":"hidden"},y);return C.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:M,style:k,ref:x},s)}}var TMe=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Wf={devToolsEnabled:!1,isSsr:TMe()},J9=()=>{var e;return(e=Le(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function OT(){return OT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},OT.apply(null,arguments)}function O6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function F6(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?O6(Object(n),!0).forEach(function(r){kMe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kMe(e,t,n){return(t=AMe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AMe(e){var t=PMe(e,"string");return typeof t=="symbol"?t:t+""}function PMe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var I6={curveBasisClosed:o1e,curveBasisOpen:a1e,curveBasis:s1e,curveBumpX:USe,curveBumpY:$Se,curveLinearClosed:l1e,curveLinear:Sx,curveMonotoneX:c1e,curveMonotoneY:u1e,curveNatural:d1e,curveStep:h1e,curveStepAfter:p1e,curveStepBefore:f1e},bb=e=>Pn(e.x)&&Pn(e.y),L6=e=>e.base!=null&&bb(e.base)&&bb(e),ig=e=>e.x,sg=e=>e.y,NMe=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(nv(e));return(n==="curveMonotone"||n==="curveBump")&&t?I6["".concat(n).concat(t==="vertical"?"Y":"X")]:I6[n]||Sx},OMe=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:i,connectNulls:s=!1}=e,o=NMe(t,i),a=s?n.filter(bb):n,l;if(Array.isArray(r)){var c=n.map((v,y)=>F6(F6({},v),{},{base:r[y]}));i==="vertical"?l=i0().y(sg).x1(ig).x0(v=>v.base.x):l=i0().x(ig).y1(sg).y0(v=>v.base.y);var d=l.defined(L6).curve(o),f=s?c.filter(L6):c;return d(f)}i==="vertical"&&Ie(r)?l=i0().y(sg).x1(ig).x0(r):Ie(r)?l=i0().x(ig).y1(sg).y0(r):l=MU().x(ig).y(sg);var p=l.defined(bb).curve(o);return p(a)},Z9=e=>{var{className:t,points:n,path:r,pathRef:i}=e;if((!n||!n.length)&&!r)return null;var s=n&&n.length?OMe(e):r;return C.createElement("path",OT({},Za(e),j1e(e),{className:$e("recharts-curve",t),d:s===null?void 0:s,ref:i}))},FMe=["x","y","top","left","width","height","className"];function FT(){return FT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},FT.apply(null,arguments)}function _6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function IMe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_6(Object(n),!0).forEach(function(r){LMe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function LMe(e,t,n){return(t=_Me(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _Me(e){var t=jMe(e,"string");return typeof t=="symbol"?t:t+""}function jMe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function BMe(e,t){if(e==null)return{};var n,r,i=HMe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function HMe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var zMe=(e,t,n,r,i,s)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(s,",").concat(t,"h").concat(n),GMe=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:s=0,height:o=0,className:a}=e,l=BMe(e,FMe),c=IMe({x:t,y:n,top:r,left:i,width:s,height:o},l);return!Ie(t)||!Ie(n)||!Ie(s)||!Ie(o)||!Ie(r)||!Ie(i)?null:C.createElement("path",FT({},As(c),{className:$e("recharts-cross",a),d:zMe(t,n,s,o,r,i)}))};function VMe(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function j6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function B6(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?j6(Object(n),!0).forEach(function(r){WMe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function WMe(e,t,n){return(t=UMe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UMe(e){var t=$Me(e,"string");return typeof t=="symbol"?t:t+""}function $Me(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qMe=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),e$=(e,t,n)=>e.map(r=>"".concat(qMe(r)," ").concat(t,"ms ").concat(n)).join(","),KMe=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),bm=(e,t)=>Object.keys(t).reduce((n,r)=>B6(B6({},n),{},{[r]:e(r,t[r])}),{});function H6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Vn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?H6(Object(n),!0).forEach(function(r){YMe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function YMe(e,t,n){return(t=QMe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QMe(e){var t=XMe(e,"string");return typeof t=="symbol"?t:t+""}function XMe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Cb=(e,t,n)=>e+(t-e)*n,IT=e=>{var{from:t,to:n}=e;return t!==n},t$=(e,t,n)=>{var r=bm((i,s)=>{if(IT(s)){var[o,a]=e(s.from,s.to,s.velocity);return Vn(Vn({},s),{},{from:o,velocity:a})}return s},t);return n<1?bm((i,s)=>IT(s)?Vn(Vn({},s),{},{velocity:Cb(s.velocity,r[i].velocity,n),from:Cb(s.from,r[i].from,n)}):s,t):t$(e,r,n-1)};function JMe(e,t,n,r,i,s){var o,a=r.reduce((p,v)=>Vn(Vn({},p),{},{[v]:{from:e[v],velocity:0,to:t[v]}}),{}),l=()=>bm((p,v)=>v.from,a),c=()=>!Object.values(a).filter(IT).length,d=null,f=p=>{o||(o=p);var v=p-o,y=v/n.dt;a=t$(n,a,y),i(Vn(Vn(Vn({},e),t),l())),o=p,c()||(d=s.setTimeout(f))};return()=>(d=s.setTimeout(f),()=>{var p;(p=d)===null||p===void 0||p()})}function ZMe(e,t,n,r,i,s,o){var a=null,l=i.reduce((f,p)=>Vn(Vn({},f),{},{[p]:[e[p],t[p]]}),{}),c,d=f=>{c||(c=f);var p=(f-c)/r,v=bm((b,x)=>Cb(...x,n(p)),l);if(s(Vn(Vn(Vn({},e),t),v)),p<1)a=o.setTimeout(d);else{var y=bm((b,x)=>Cb(...x,n(1)),l);s(Vn(Vn(Vn({},e),t),y))}};return()=>(a=o.setTimeout(d),()=>{var f;(f=a)===null||f===void 0||f()})}const e2e=(e,t,n,r,i,s)=>{var o=KMe(e,t);return n==null?()=>(i(Vn(Vn({},e),t)),()=>{}):n.isStepper===!0?JMe(e,t,n,o,i,s):ZMe(e,t,n,r,o,i,s)};var xb=1e-4,n$=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],r$=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),z6=(e,t)=>n=>{var r=n$(e,t);return r$(r,n)},t2e=(e,t)=>n=>{var r=n$(e,t),i=[...r.map((s,o)=>s*o).slice(1),0];return r$(i,n)},n2e=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i,s=n[0].split("(");if(s[0]==="cubic-bezier"&&((i=s[1])===null||i===void 0?void 0:i.split(")")[0].split(",").length)===4){var o=s[1].split(")")[0].split(",").map(a=>parseFloat(a));return[o[0],o[1],o[2],o[3]]}}}return n.length===4?n:[0,0,1,1]},r2e=(e,t,n,r)=>{var i=z6(e,n),s=z6(t,r),o=t2e(e,n),a=c=>c>1?1:c<0?0:c,l=c=>{for(var d=c>1?1:c,f=d,p=0;p<8;++p){var v=i(f)-d,y=o(f);if(Math.abs(v-d)<xb||y<xb)return s(f);f=a(f-v/y)}return s(f)};return l.isStepper=!1,l},G6=function(){return r2e(...n2e(...arguments))},i2e=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,s=(o,a,l)=>{var c=-(o-a)*n,d=l*r,f=l+(c-d)*i/1e3,p=l*i/1e3+o;return Math.abs(p-a)<xb&&Math.abs(f)<xb?[a,0]:[p,f]};return s.isStepper=!0,s.dt=i,s},s2e=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return G6(e);case"spring":return i2e();default:if(e.split("(")[0]==="cubic-bezier")return G6(e)}return typeof e=="function"?e:null};function o2e(e){var t,n=()=>null,r=!1,i=null,s=o=>{if(!r){if(Array.isArray(o)){if(!o.length)return;var a=o,[l,...c]=a;if(typeof l=="number"){i=e.setTimeout(s.bind(null,c),l);return}s(l),i=e.setTimeout(s.bind(null,c));return}typeof o=="string"&&(t=o,n(t)),typeof o=="object"&&(t=o,n(t)),typeof o=="function"&&o()}};return{stop:()=>{r=!0},start:o=>{r=!1,i&&(i(),i=null),s(o)},subscribe:o=>(n=o,()=>{n=()=>null}),getTimeoutController:()=>e}}class a2e{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,s=o=>{o-r>=n?t(o):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{i!=null&&cancelAnimationFrame(i)}}}function l2e(){return o2e(new a2e)}var c2e=C.createContext(l2e);function u2e(e,t){var n=C.useContext(c2e);return C.useMemo(()=>t??n(e),[e,t,n])}var d2e={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},V6={t:0},QR={t:1};function DP(e){var t=ni(e,d2e),{isActive:n,canBegin:r,duration:i,easing:s,begin:o,onAnimationEnd:a,onAnimationStart:l,children:c}=t,d=n==="auto"?!Wf.isSsr:n,f=u2e(t.animationId,t.animationManager),[p,v]=C.useState(d?V6:QR),y=C.useRef(null);return C.useEffect(()=>{d||v(QR)},[d]),C.useEffect(()=>{if(!d||!r)return rv;var b=e2e(V6,QR,s2e(s),i,v,f.getTimeoutController()),x=()=>{y.current=b()};return f.start([l,o,x,i,a]),()=>{f.stop(),y.current&&y.current(),a()}},[d,r,i,s,o,l,a,f]),c(p.t)}function RP(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=C.useRef(fm(t)),r=C.useRef(e);return r.current!==e&&(n.current=fm(t),r.current=e),n.current}var h2e=["radius"],f2e=["radius"];function W6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function U6(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?W6(Object(n),!0).forEach(function(r){p2e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function p2e(e,t,n){return(t=g2e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g2e(e){var t=m2e(e,"string");return typeof t=="symbol"?t:t+""}function m2e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sb(){return Sb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sb.apply(null,arguments)}function $6(e,t){if(e==null)return{};var n,r,i=v2e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function v2e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var q6=(e,t,n,r,i)=>{var s=Math.min(Math.abs(n)/2,Math.abs(r)/2),o=r>=0?1:-1,a=n>=0?1:-1,l=r>=0&&n>=0||r<0&&n<0?1:0,c;if(s>0&&i instanceof Array){for(var d=[0,0,0,0],f=0,p=4;f<p;f++)d[f]=i[f]>s?s:i[f];c="M".concat(e,",").concat(t+o*d[0]),d[0]>0&&(c+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(l,",").concat(e+a*d[0],",").concat(t)),c+="L ".concat(e+n-a*d[1],",").concat(t),d[1]>0&&(c+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(l,`,
        `).concat(e+n,",").concat(t+o*d[1])),c+="L ".concat(e+n,",").concat(t+r-o*d[2]),d[2]>0&&(c+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(l,`,
        `).concat(e+n-a*d[2],",").concat(t+r)),c+="L ".concat(e+a*d[3],",").concat(t+r),d[3]>0&&(c+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(l,`,
        `).concat(e,",").concat(t+r-o*d[3])),c+="Z"}else if(s>0&&i===+i&&i>0){var v=Math.min(s,i);c="M ".concat(e,",").concat(t+o*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(l,",").concat(e+a*v,",").concat(t,`
            L `).concat(e+n-a*v,",").concat(t,`
            A `).concat(v,",").concat(v,",0,0,").concat(l,",").concat(e+n,",").concat(t+o*v,`
            L `).concat(e+n,",").concat(t+r-o*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(l,",").concat(e+n-a*v,",").concat(t+r,`
            L `).concat(e+a*v,",").concat(t+r,`
            A `).concat(v,",").concat(v,",0,0,").concat(l,",").concat(e,",").concat(t+r-o*v," Z")}else c="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return c},K6={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},i$=e=>{var t=ni(e,K6),n=C.useRef(null),[r,i]=C.useState(-1);C.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var j=n.current.getTotalLength();j&&i(j)}catch{}},[]);var{x:s,y:o,width:a,height:l,radius:c,className:d}=t,{animationEasing:f,animationDuration:p,animationBegin:v,isAnimationActive:y,isUpdateAnimationActive:b}=t,x=C.useRef(a),S=C.useRef(l),M=C.useRef(s),R=C.useRef(o),T=C.useMemo(()=>({x:s,y:o,width:a,height:l,radius:c}),[s,o,a,l,c]),k=RP(T,"rectangle-");if(s!==+s||o!==+o||a!==+a||l!==+l||a===0||l===0)return null;var P=$e("recharts-rectangle",d);if(!b){var A=As(t),{radius:O}=A,B=$6(A,h2e);return C.createElement("path",Sb({},B,{radius:typeof c=="number"?c:void 0,className:P,d:q6(s,o,a,l,c)}))}var U=x.current,_=S.current,I=M.current,V=R.current,F="0px ".concat(r===-1?1:r,"px"),L="".concat(r,"px 0px"),z=e$(["strokeDasharray"],p,typeof f=="string"?f:K6.animationEasing);return C.createElement(DP,{animationId:k,key:k,canBegin:r>0,duration:p,easing:f,isActive:b,begin:v},j=>{var $=mr(U,a,j),W=mr(_,l,j),K=mr(I,s,j),H=mr(V,o,j);n.current&&(x.current=$,S.current=W,M.current=K,R.current=H);var Y;y?j>0?Y={transition:z,strokeDasharray:L}:Y={strokeDasharray:F}:Y={strokeDasharray:L};var Z=As(t),{radius:X}=Z,fe=$6(Z,f2e);return C.createElement("path",Sb({},fe,{radius:typeof c=="number"?c:void 0,className:P,d:q6(K,H,$,W,c),ref:n,style:U6(U6({},Y),t.style)}))})};function Y6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Q6(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Y6(Object(n),!0).forEach(function(r){y2e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function y2e(e,t,n){return(t=w2e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w2e(e){var t=b2e(e,"string");return typeof t=="symbol"?t:t+""}function b2e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Eb=Math.PI/180,C2e=e=>e*180/Math.PI,Cr=(e,t,n,r)=>({x:e+Math.cos(-Eb*r)*n,y:t+Math.sin(-Eb*r)*n}),x2e=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},S2e=(e,t)=>{var{x:n,y:r}=e,{x:i,y:s}=t;return Math.sqrt((n-i)**2+(r-s)**2)},E2e=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:s}=t,o=S2e({x:n,y:r},{x:i,y:s});if(o<=0)return{radius:o,angle:0};var a=(n-i)/o,l=Math.acos(a);return r>s&&(l=2*Math.PI-l),{radius:o,angle:C2e(l),angleInRadian:l}},D2e=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),s=Math.min(r,i);return{startAngle:t-s*360,endAngle:n-s*360}},R2e=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),s=Math.floor(r/360),o=Math.min(i,s);return e+o*360},M2e=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:i,angle:s}=E2e({x:n,y:r},t),{innerRadius:o,outerRadius:a}=t;if(i<o||i>a||i===0)return null;var{startAngle:l,endAngle:c}=D2e(t),d=s,f;if(l<=c){for(;d>c;)d-=360;for(;d<l;)d+=360;f=d>=l&&d<=c}else{for(;d>l;)d-=360;for(;d<c;)d+=360;f=d>=c&&d<=l}return f?Q6(Q6({},t),{},{radius:i,angle:R2e(d,t)}):null};function s$(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:s}=e,o=Cr(t,n,r,i),a=Cr(t,n,r,s);return{points:[o,a],cx:t,cy:n,radius:r,startAngle:i,endAngle:s}}function LT(){return LT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},LT.apply(null,arguments)}var T2e=(e,t)=>{var n=mi(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},f0=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:s,isExternal:o,cornerRadius:a,cornerIsExternal:l}=e,c=a*(o?1:-1)+r,d=Math.asin(a/c)/Eb,f=l?i:i+s*d,p=Cr(t,n,c,f),v=Cr(t,n,r,f),y=l?i-s*d:i,b=Cr(t,n,c*Math.cos(d*Eb),y);return{center:p,circleTangency:v,lineTangency:b,theta:d}},o$=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:s,endAngle:o}=e,a=T2e(s,o),l=s+a,c=Cr(t,n,i,s),d=Cr(t,n,i,l),f="M ".concat(c.x,",").concat(c.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(a)>180),",").concat(+(s>l),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(r>0){var p=Cr(t,n,r,s),v=Cr(t,n,r,l);f+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(a)>180),",").concat(+(s<=l),`,
            `).concat(p.x,",").concat(p.y," Z")}else f+="L ".concat(t,",").concat(n," Z");return f},k2e=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:a,startAngle:l,endAngle:c}=e,d=mi(c-l),{circleTangency:f,lineTangency:p,theta:v}=f0({cx:t,cy:n,radius:i,angle:l,sign:d,cornerRadius:s,cornerIsExternal:a}),{circleTangency:y,lineTangency:b,theta:x}=f0({cx:t,cy:n,radius:i,angle:c,sign:-d,cornerRadius:s,cornerIsExternal:a}),S=a?Math.abs(l-c):Math.abs(l-c)-v-x;if(S<0)return o?"M ".concat(p.x,",").concat(p.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):o$({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:l,endAngle:c});var M="M ".concat(p.x,",").concat(p.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(S>180),",").concat(+(d<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(b.x,",").concat(b.y,`
  `);if(r>0){var{circleTangency:R,lineTangency:T,theta:k}=f0({cx:t,cy:n,radius:r,angle:l,sign:d,isExternal:!0,cornerRadius:s,cornerIsExternal:a}),{circleTangency:P,lineTangency:A,theta:O}=f0({cx:t,cy:n,radius:r,angle:c,sign:-d,isExternal:!0,cornerRadius:s,cornerIsExternal:a}),B=a?Math.abs(l-c):Math.abs(l-c)-k-O;if(B<0&&s===0)return"".concat(M,"L").concat(t,",").concat(n,"Z");M+="L".concat(A.x,",").concat(A.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(P.x,",").concat(P.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(B>180),",").concat(+(d>0),",").concat(R.x,",").concat(R.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(T.x,",").concat(T.y,"Z")}else M+="L".concat(t,",").concat(n,"Z");return M},A2e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},a$=e=>{var t=ni(e,A2e),{cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:o,forceCornerRadius:a,cornerIsExternal:l,startAngle:c,endAngle:d,className:f}=t;if(s<i||c===d)return null;var p=$e("recharts-sector",f),v=s-i,y=eo(o,v,0,!0),b;return y>0&&Math.abs(c-d)<360?b=k2e({cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:Math.min(y,v/2),forceCornerRadius:a,cornerIsExternal:l,startAngle:c,endAngle:d}):b=o$({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:c,endAngle:d}),C.createElement("path",LT({},As(t),{className:p,d:b}))};function P2e(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(zU(t)){if(e==="centric"){var{cx:r,cy:i,innerRadius:s,outerRadius:o,angle:a}=t,l=Cr(r,i,s,a),c=Cr(r,i,o,a);return[{x:l.x,y:l.y},{x:c.x,y:c.y}]}return s$(t)}}var XR={},JR={},ZR={},X6;function N2e(){return X6||(X6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=t9();function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(ZR)),ZR}var J6;function O2e(){return J6||(J6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=N2e();function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(JR)),JR}var Z6;function F2e(){return Z6||(Z6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=n9(),n=O2e();function r(i,s,o){o&&typeof o!="number"&&t.isIterateeCall(i,s,o)&&(s=o=void 0),i=n.toFinite(i),s===void 0?(s=i,i=0):s=n.toFinite(s),o=o===void 0?i<s?1:-1:n.toFinite(o);const a=Math.max(Math.ceil((s-i)/(o||1)),0),l=new Array(a);for(let c=0;c<a;c++)l[c]=i,i+=o;return l}e.range=r})(XR)),XR}var eM,e5;function I2e(){return e5||(e5=1,eM=F2e().range),eM}var L2e=I2e();const l$=Fs(L2e);function mc(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function _2e(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function MP(e){let t,n,r;e.length!==2?(t=mc,n=(a,l)=>mc(e(a),l),r=(a,l)=>e(a)-l):(t=e===mc||e===_2e?e:j2e,n=e,r=e);function i(a,l,c=0,d=a.length){if(c<d){if(t(l,l)!==0)return d;do{const f=c+d>>>1;n(a[f],l)<0?c=f+1:d=f}while(c<d)}return c}function s(a,l,c=0,d=a.length){if(c<d){if(t(l,l)!==0)return d;do{const f=c+d>>>1;n(a[f],l)<=0?c=f+1:d=f}while(c<d)}return c}function o(a,l,c=0,d=a.length){const f=i(a,l,c,d-1);return f>c&&r(a[f-1],l)>-r(a[f],l)?f-1:f}return{left:i,center:o,right:s}}function j2e(){return 0}function c$(e){return e===null?NaN:+e}function*B2e(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const H2e=MP(mc),cv=H2e.right;MP(c$).center;class t5 extends Map{constructor(t,n=V2e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(n5(this,t))}has(t){return super.has(n5(this,t))}set(t,n){return super.set(z2e(this,t),n)}delete(t){return super.delete(G2e(this,t))}}function n5({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function z2e({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function G2e({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function V2e(e){return e!==null&&typeof e=="object"?e.valueOf():e}function W2e(e=mc){if(e===mc)return u$;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function u$(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const U2e=Math.sqrt(50),$2e=Math.sqrt(10),q2e=Math.sqrt(2);function Db(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),o=s>=U2e?10:s>=$2e?5:s>=q2e?2:1;let a,l,c;return i<0?(c=Math.pow(10,-i)/o,a=Math.round(e*c),l=Math.round(t*c),a/c<e&&++a,l/c>t&&--l,c=-c):(c=Math.pow(10,i)*o,a=Math.round(e/c),l=Math.round(t/c),a*c<e&&++a,l*c>t&&--l),l<a&&.5<=n&&n<2?Db(e,t,n*2):[a,l,c]}function _T(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,s,o]=r?Db(t,e,n):Db(e,t,n);if(!(s>=i))return[];const a=s-i+1,l=new Array(a);if(r)if(o<0)for(let c=0;c<a;++c)l[c]=(s-c)/-o;else for(let c=0;c<a;++c)l[c]=(s-c)*o;else if(o<0)for(let c=0;c<a;++c)l[c]=(i+c)/-o;else for(let c=0;c<a;++c)l[c]=(i+c)*o;return l}function jT(e,t,n){return t=+t,e=+e,n=+n,Db(e,t,n)[2]}function BT(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?jT(t,e,n):jT(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function r5(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function i5(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function d$(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?u$:W2e(i);r>n;){if(r-n>600){const l=r-n+1,c=t-n+1,d=Math.log(l),f=.5*Math.exp(2*d/3),p=.5*Math.sqrt(d*f*(l-f)/l)*(c-l/2<0?-1:1),v=Math.max(n,Math.floor(t-c*f/l+p)),y=Math.min(r,Math.floor(t+(l-c)*f/l+p));d$(e,t,v,y,i)}const s=e[t];let o=n,a=r;for(og(e,n,t),i(e[r],s)>0&&og(e,n,r);o<a;){for(og(e,o,a),++o,--a;i(e[o],s)<0;)++o;for(;i(e[a],s)>0;)--a}i(e[n],s)===0?og(e,n,a):(++a,og(e,a,r)),a<=t&&(n=a+1),t<=a&&(r=a-1)}return e}function og(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function K2e(e,t,n){if(e=Float64Array.from(B2e(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return i5(e);if(t>=1)return r5(e);var r,i=(r-1)*t,s=Math.floor(i),o=r5(d$(e,s).subarray(0,s+1)),a=i5(e.subarray(s+1));return o+(a-o)*(i-s)}}function Y2e(e,t,n=c$){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,s=Math.floor(i),o=+n(e[s],s,e),a=+n(e[s+1],s+1,e);return o+(a-o)*(i-s)}}function Q2e(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,s=new Array(i);++r<i;)s[r]=e+r*n;return s}function Ls(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function gl(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const HT=Symbol("implicit");function TP(){var e=new t5,t=[],n=[],r=HT;function i(s){let o=e.get(s);if(o===void 0){if(r!==HT)return r;e.set(s,o=t.push(s)-1)}return n[o%n.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new t5;for(const o of s)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return TP(t,n).unknown(r)},Ls.apply(i,arguments),i}function kP(){var e=TP().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,s,o,a=!1,l=0,c=0,d=.5;delete e.unknown;function f(){var p=t().length,v=i<r,y=v?i:r,b=v?r:i;s=(b-y)/Math.max(1,p-l+c*2),a&&(s=Math.floor(s)),y+=(b-y-s*(p-l))*d,o=s*(1-l),a&&(y=Math.round(y),o=Math.round(o));var x=Q2e(p).map(function(S){return y+s*S});return n(v?x.reverse():x)}return e.domain=function(p){return arguments.length?(t(p),f()):t()},e.range=function(p){return arguments.length?([r,i]=p,r=+r,i=+i,f()):[r,i]},e.rangeRound=function(p){return[r,i]=p,r=+r,i=+i,a=!0,f()},e.bandwidth=function(){return o},e.step=function(){return s},e.round=function(p){return arguments.length?(a=!!p,f()):a},e.padding=function(p){return arguments.length?(l=Math.min(1,c=+p),f()):l},e.paddingInner=function(p){return arguments.length?(l=Math.min(1,p),f()):l},e.paddingOuter=function(p){return arguments.length?(c=+p,f()):c},e.align=function(p){return arguments.length?(d=Math.max(0,Math.min(1,p)),f()):d},e.copy=function(){return kP(t(),[r,i]).round(a).paddingInner(l).paddingOuter(c).align(d)},Ls.apply(f(),arguments)}function h$(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return h$(t())},e}function X2e(){return h$(kP.apply(null,arguments).paddingInner(1))}function AP(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function f$(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function uv(){}var Cm=.7,Rb=1/Cm,Qh="\\s*([+-]?\\d+)\\s*",xm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Fo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",J2e=/^#([0-9a-f]{3,8})$/,Z2e=new RegExp(`^rgb\\(${Qh},${Qh},${Qh}\\)$`),eTe=new RegExp(`^rgb\\(${Fo},${Fo},${Fo}\\)$`),tTe=new RegExp(`^rgba\\(${Qh},${Qh},${Qh},${xm}\\)$`),nTe=new RegExp(`^rgba\\(${Fo},${Fo},${Fo},${xm}\\)$`),rTe=new RegExp(`^hsl\\(${xm},${Fo},${Fo}\\)$`),iTe=new RegExp(`^hsla\\(${xm},${Fo},${Fo},${xm}\\)$`),s5={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};AP(uv,Sm,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:o5,formatHex:o5,formatHex8:sTe,formatHsl:oTe,formatRgb:a5,toString:a5});function o5(){return this.rgb().formatHex()}function sTe(){return this.rgb().formatHex8()}function oTe(){return p$(this).formatHsl()}function a5(){return this.rgb().formatRgb()}function Sm(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=J2e.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?l5(t):n===3?new vi(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?p0(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?p0(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Z2e.exec(e))?new vi(t[1],t[2],t[3],1):(t=eTe.exec(e))?new vi(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=tTe.exec(e))?p0(t[1],t[2],t[3],t[4]):(t=nTe.exec(e))?p0(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=rTe.exec(e))?d5(t[1],t[2]/100,t[3]/100,1):(t=iTe.exec(e))?d5(t[1],t[2]/100,t[3]/100,t[4]):s5.hasOwnProperty(e)?l5(s5[e]):e==="transparent"?new vi(NaN,NaN,NaN,0):null}function l5(e){return new vi(e>>16&255,e>>8&255,e&255,1)}function p0(e,t,n,r){return r<=0&&(e=t=n=NaN),new vi(e,t,n,r)}function aTe(e){return e instanceof uv||(e=Sm(e)),e?(e=e.rgb(),new vi(e.r,e.g,e.b,e.opacity)):new vi}function zT(e,t,n,r){return arguments.length===1?aTe(e):new vi(e,t,n,r??1)}function vi(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}AP(vi,zT,f$(uv,{brighter(e){return e=e==null?Rb:Math.pow(Rb,e),new vi(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Cm:Math.pow(Cm,e),new vi(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new vi(Vu(this.r),Vu(this.g),Vu(this.b),Mb(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:c5,formatHex:c5,formatHex8:lTe,formatRgb:u5,toString:u5}));function c5(){return`#${Eu(this.r)}${Eu(this.g)}${Eu(this.b)}`}function lTe(){return`#${Eu(this.r)}${Eu(this.g)}${Eu(this.b)}${Eu((isNaN(this.opacity)?1:this.opacity)*255)}`}function u5(){const e=Mb(this.opacity);return`${e===1?"rgb(":"rgba("}${Vu(this.r)}, ${Vu(this.g)}, ${Vu(this.b)}${e===1?")":`, ${e})`}`}function Mb(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Vu(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Eu(e){return e=Vu(e),(e<16?"0":"")+e.toString(16)}function d5(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Ws(e,t,n,r)}function p$(e){if(e instanceof Ws)return new Ws(e.h,e.s,e.l,e.opacity);if(e instanceof uv||(e=Sm(e)),!e)return new Ws;if(e instanceof Ws)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),s=Math.max(t,n,r),o=NaN,a=s-i,l=(s+i)/2;return a?(t===s?o=(n-r)/a+(n<r)*6:n===s?o=(r-t)/a+2:o=(t-n)/a+4,a/=l<.5?s+i:2-s-i,o*=60):a=l>0&&l<1?0:o,new Ws(o,a,l,e.opacity)}function cTe(e,t,n,r){return arguments.length===1?p$(e):new Ws(e,t,n,r??1)}function Ws(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}AP(Ws,cTe,f$(uv,{brighter(e){return e=e==null?Rb:Math.pow(Rb,e),new Ws(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Cm:Math.pow(Cm,e),new Ws(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new vi(tM(e>=240?e-240:e+120,i,r),tM(e,i,r),tM(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Ws(h5(this.h),g0(this.s),g0(this.l),Mb(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Mb(this.opacity);return`${e===1?"hsl(":"hsla("}${h5(this.h)}, ${g0(this.s)*100}%, ${g0(this.l)*100}%${e===1?")":`, ${e})`}`}}));function h5(e){return e=(e||0)%360,e<0?e+360:e}function g0(e){return Math.max(0,Math.min(1,e||0))}function tM(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const PP=e=>()=>e;function uTe(e,t){return function(n){return e+n*t}}function dTe(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function hTe(e){return(e=+e)==1?g$:function(t,n){return n-t?dTe(t,n,e):PP(isNaN(t)?n:t)}}function g$(e,t){var n=t-e;return n?uTe(e,n):PP(isNaN(e)?t:e)}const f5=(function e(t){var n=hTe(t);function r(i,s){var o=n((i=zT(i)).r,(s=zT(s)).r),a=n(i.g,s.g),l=n(i.b,s.b),c=g$(i.opacity,s.opacity);return function(d){return i.r=o(d),i.g=a(d),i.b=l(d),i.opacity=c(d),i+""}}return r.gamma=e,r})(1);function fTe(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=e[i]*(1-s)+t[i]*s;return r}}function pTe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function gTe(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),s=new Array(n),o;for(o=0;o<r;++o)i[o]=Uf(e[o],t[o]);for(;o<n;++o)s[o]=t[o];return function(a){for(o=0;o<r;++o)s[o]=i[o](a);return s}}function mTe(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Tb(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function vTe(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Uf(e[i],t[i]):r[i]=t[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var GT=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,nM=new RegExp(GT.source,"g");function yTe(e){return function(){return e}}function wTe(e){return function(t){return e(t)+""}}function bTe(e,t){var n=GT.lastIndex=nM.lastIndex=0,r,i,s,o=-1,a=[],l=[];for(e=e+"",t=t+"";(r=GT.exec(e))&&(i=nM.exec(t));)(s=i.index)>n&&(s=t.slice(n,s),a[o]?a[o]+=s:a[++o]=s),(r=r[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,l.push({i:o,x:Tb(r,i)})),n=nM.lastIndex;return n<t.length&&(s=t.slice(n),a[o]?a[o]+=s:a[++o]=s),a.length<2?l[0]?wTe(l[0].x):yTe(t):(t=l.length,function(c){for(var d=0,f;d<t;++d)a[(f=l[d]).i]=f.x(c);return a.join("")})}function Uf(e,t){var n=typeof t,r;return t==null||n==="boolean"?PP(t):(n==="number"?Tb:n==="string"?(r=Sm(t))?(t=r,f5):bTe:t instanceof Sm?f5:t instanceof Date?mTe:pTe(t)?fTe:Array.isArray(t)?gTe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?vTe:Tb)(e,t)}function NP(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function CTe(e,t){t===void 0&&(t=e,e=Uf);for(var n=0,r=t.length-1,i=t[0],s=new Array(r<0?0:r);n<r;)s[n]=e(i,i=t[++n]);return function(o){var a=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return s[a](o-a)}}function xTe(e){return function(){return e}}function kb(e){return+e}var p5=[0,1];function $r(e){return e}function VT(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:xTe(isNaN(t)?NaN:.5)}function STe(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function ETe(e,t,n){var r=e[0],i=e[1],s=t[0],o=t[1];return i<r?(r=VT(i,r),s=n(o,s)):(r=VT(r,i),s=n(s,o)),function(a){return s(r(a))}}function DTe(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),s=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=VT(e[o],e[o+1]),s[o]=n(t[o],t[o+1]);return function(a){var l=cv(e,a,1,r)-1;return s[l](i[l](a))}}function dv(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Ux(){var e=p5,t=p5,n=Uf,r,i,s,o=$r,a,l,c;function d(){var p=Math.min(e.length,t.length);return o!==$r&&(o=STe(e[0],e[p-1])),a=p>2?DTe:ETe,l=c=null,f}function f(p){return p==null||isNaN(p=+p)?s:(l||(l=a(e.map(r),t,n)))(r(o(p)))}return f.invert=function(p){return o(i((c||(c=a(t,e.map(r),Tb)))(p)))},f.domain=function(p){return arguments.length?(e=Array.from(p,kb),d()):e.slice()},f.range=function(p){return arguments.length?(t=Array.from(p),d()):t.slice()},f.rangeRound=function(p){return t=Array.from(p),n=NP,d()},f.clamp=function(p){return arguments.length?(o=p?!0:$r,d()):o!==$r},f.interpolate=function(p){return arguments.length?(n=p,d()):n},f.unknown=function(p){return arguments.length?(s=p,f):s},function(p,v){return r=p,i=v,d()}}function OP(){return Ux()($r,$r)}function RTe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Ab(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function gf(e){return e=Ab(Math.abs(e)),e?e[1]:NaN}function MTe(e,t){return function(n,r){for(var i=n.length,s=[],o=0,a=e[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),s.push(n.substring(i-=a,i+a)),!((l+=a+1)>r));)a=e[o=(o+1)%e.length];return s.reverse().join(t)}}function TTe(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var kTe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Em(e){if(!(t=kTe.exec(e)))throw new Error("invalid format: "+e);var t;return new FP({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Em.prototype=FP.prototype;function FP(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}FP.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function ATe(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var m$;function PTe(e,t){var n=Ab(e,t);if(!n)return e+"";var r=n[0],i=n[1],s=i-(m$=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return s===o?r:s>o?r+new Array(s-o+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+Ab(e,Math.max(0,t+s-1))[0]}function g5(e,t){var n=Ab(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const m5={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:RTe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>g5(e*100,t),r:g5,s:PTe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function v5(e){return e}var y5=Array.prototype.map,w5=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function NTe(e){var t=e.grouping===void 0||e.thousands===void 0?v5:MTe(y5.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?v5:TTe(y5.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(f){f=Em(f);var p=f.fill,v=f.align,y=f.sign,b=f.symbol,x=f.zero,S=f.width,M=f.comma,R=f.precision,T=f.trim,k=f.type;k==="n"?(M=!0,k="g"):m5[k]||(R===void 0&&(R=12),T=!0,k="g"),(x||p==="0"&&v==="=")&&(x=!0,p="0",v="=");var P=b==="$"?n:b==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",A=b==="$"?r:/[%p]/.test(k)?o:"",O=m5[k],B=/[defgprs%]/.test(k);R=R===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,R)):Math.max(0,Math.min(20,R));function U(_){var I=P,V=A,F,L,z;if(k==="c")V=O(_)+V,_="";else{_=+_;var j=_<0||1/_<0;if(_=isNaN(_)?l:O(Math.abs(_),R),T&&(_=ATe(_)),j&&+_==0&&y!=="+"&&(j=!1),I=(j?y==="("?y:a:y==="-"||y==="("?"":y)+I,V=(k==="s"?w5[8+m$/3]:"")+V+(j&&y==="("?")":""),B){for(F=-1,L=_.length;++F<L;)if(z=_.charCodeAt(F),48>z||z>57){V=(z===46?i+_.slice(F+1):_.slice(F))+V,_=_.slice(0,F);break}}}M&&!x&&(_=t(_,1/0));var $=I.length+_.length+V.length,W=$<S?new Array(S-$+1).join(p):"";switch(M&&x&&(_=t(W+_,W.length?S-V.length:1/0),W=""),v){case"<":_=I+_+V+W;break;case"=":_=I+W+_+V;break;case"^":_=W.slice(0,$=W.length>>1)+I+_+V+W.slice($);break;default:_=W+I+_+V;break}return s(_)}return U.toString=function(){return f+""},U}function d(f,p){var v=c((f=Em(f),f.type="f",f)),y=Math.max(-8,Math.min(8,Math.floor(gf(p)/3)))*3,b=Math.pow(10,-y),x=w5[8+y/3];return function(S){return v(b*S)+x}}return{format:c,formatPrefix:d}}var m0,IP,v$;OTe({thousands:",",grouping:[3],currency:["$",""]});function OTe(e){return m0=NTe(e),IP=m0.format,v$=m0.formatPrefix,m0}function FTe(e){return Math.max(0,-gf(Math.abs(e)))}function ITe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(gf(t)/3)))*3-gf(Math.abs(e)))}function LTe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,gf(t)-gf(e))+1}function y$(e,t,n,r){var i=BT(e,t,n),s;switch(r=Em(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(s=ITe(i,o))&&(r.precision=s),v$(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=LTe(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=FTe(i))&&(r.precision=s-(r.type==="%")*2);break}}return IP(r)}function Hc(e){var t=e.domain;return e.ticks=function(n){var r=t();return _T(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return y$(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,s=r.length-1,o=r[i],a=r[s],l,c,d=10;for(a<o&&(c=o,o=a,a=c,c=i,i=s,s=c);d-- >0;){if(c=jT(o,a,n),c===l)return r[i]=o,r[s]=a,t(r);if(c>0)o=Math.floor(o/c)*c,a=Math.ceil(a/c)*c;else if(c<0)o=Math.ceil(o*c)/c,a=Math.floor(a*c)/c;else break;l=c}return e},e}function w$(){var e=OP();return e.copy=function(){return dv(e,w$())},Ls.apply(e,arguments),Hc(e)}function b$(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,kb),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return b$(e).unknown(t)},e=arguments.length?Array.from(e,kb):[0,1],Hc(n)}function C$(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],s=e[r],o;return s<i&&(o=n,n=r,r=o,o=i,i=s,s=o),e[n]=t.floor(i),e[r]=t.ceil(s),e}function b5(e){return Math.log(e)}function C5(e){return Math.exp(e)}function _Te(e){return-Math.log(-e)}function jTe(e){return-Math.exp(-e)}function BTe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function HTe(e){return e===10?BTe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function zTe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function x5(e){return(t,n)=>-e(-t,n)}function LP(e){const t=e(b5,C5),n=t.domain;let r=10,i,s;function o(){return i=zTe(r),s=HTe(r),n()[0]<0?(i=x5(i),s=x5(s),e(_Te,jTe)):e(b5,C5),t}return t.base=function(a){return arguments.length?(r=+a,o()):r},t.domain=function(a){return arguments.length?(n(a),o()):n()},t.ticks=a=>{const l=n();let c=l[0],d=l[l.length-1];const f=d<c;f&&([c,d]=[d,c]);let p=i(c),v=i(d),y,b;const x=a==null?10:+a;let S=[];if(!(r%1)&&v-p<x){if(p=Math.floor(p),v=Math.ceil(v),c>0){for(;p<=v;++p)for(y=1;y<r;++y)if(b=p<0?y/s(-p):y*s(p),!(b<c)){if(b>d)break;S.push(b)}}else for(;p<=v;++p)for(y=r-1;y>=1;--y)if(b=p>0?y/s(-p):y*s(p),!(b<c)){if(b>d)break;S.push(b)}S.length*2<x&&(S=_T(c,d,x))}else S=_T(p,v,Math.min(v-p,x)).map(s);return f?S.reverse():S},t.tickFormat=(a,l)=>{if(a==null&&(a=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Em(l)).precision==null&&(l.trim=!0),l=IP(l)),a===1/0)return l;const c=Math.max(1,r*a/t.ticks().length);return d=>{let f=d/s(Math.round(i(d)));return f*r<r-.5&&(f*=r),f<=c?l(d):""}},t.nice=()=>n(C$(n(),{floor:a=>s(Math.floor(i(a))),ceil:a=>s(Math.ceil(i(a)))})),t}function x$(){const e=LP(Ux()).domain([1,10]);return e.copy=()=>dv(e,x$()).base(e.base()),Ls.apply(e,arguments),e}function S5(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function E5(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function _P(e){var t=1,n=e(S5(t),E5(t));return n.constant=function(r){return arguments.length?e(S5(t=+r),E5(t)):t},Hc(n)}function S$(){var e=_P(Ux());return e.copy=function(){return dv(e,S$()).constant(e.constant())},Ls.apply(e,arguments)}function D5(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function GTe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function VTe(e){return e<0?-e*e:e*e}function jP(e){var t=e($r,$r),n=1;function r(){return n===1?e($r,$r):n===.5?e(GTe,VTe):e(D5(n),D5(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},Hc(t)}function BP(){var e=jP(Ux());return e.copy=function(){return dv(e,BP()).exponent(e.exponent())},Ls.apply(e,arguments),e}function WTe(){return BP.apply(null,arguments).exponent(.5)}function R5(e){return Math.sign(e)*e*e}function UTe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function E$(){var e=OP(),t=[0,1],n=!1,r;function i(s){var o=UTe(e(s));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(s){return e.invert(R5(s))},i.domain=function(s){return arguments.length?(e.domain(s),i):e.domain()},i.range=function(s){return arguments.length?(e.range((t=Array.from(s,kb)).map(R5)),i):t.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(e.clamp(s),i):e.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return E$(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Ls.apply(i,arguments),Hc(i)}function D$(){var e=[],t=[],n=[],r;function i(){var o=0,a=Math.max(1,t.length);for(n=new Array(a-1);++o<a;)n[o-1]=Y2e(e,o/a);return s}function s(o){return o==null||isNaN(o=+o)?r:t[cv(n,o)]}return s.invertExtent=function(o){var a=t.indexOf(o);return a<0?[NaN,NaN]:[a>0?n[a-1]:e[0],a<n.length?n[a]:e[e.length-1]]},s.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let a of o)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(mc),i()},s.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},s.unknown=function(o){return arguments.length?(r=o,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return D$().domain(e).range(t).unknown(r)},Ls.apply(s,arguments)}function R$(){var e=0,t=1,n=1,r=[.5],i=[0,1],s;function o(l){return l!=null&&l<=l?i[cv(r,l,0,n)]:s}function a(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*t-(l-n)*e)/(n+1);return o}return o.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,a()):[e,t]},o.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,a()):i.slice()},o.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,r[0]]:c>=n?[r[n-1],t]:[r[c-1],r[c]]},o.unknown=function(l){return arguments.length&&(s=l),o},o.thresholds=function(){return r.slice()},o.copy=function(){return R$().domain([e,t]).range(i).unknown(s)},Ls.apply(Hc(o),arguments)}function M$(){var e=[.5],t=[0,1],n,r=1;function i(s){return s!=null&&s<=s?t[cv(e,s,0,r)]:n}return i.domain=function(s){return arguments.length?(e=Array.from(s),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(s){return arguments.length?(t=Array.from(s),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(s){var o=t.indexOf(s);return[e[o-1],e[o]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return M$().domain(e).range(t).unknown(n)},Ls.apply(i,arguments)}const rM=new Date,iM=new Date;function Un(e,t,n,r){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(e(s=new Date(+s)),s),i.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),i.round=s=>{const o=i(s),a=i.ceil(s);return s-o<a-s?o:a},i.offset=(s,o)=>(t(s=new Date(+s),o==null?1:Math.floor(o)),s),i.range=(s,o,a)=>{const l=[];if(s=i.ceil(s),a=a==null?1:Math.floor(a),!(s<o)||!(a>0))return l;let c;do l.push(c=new Date(+s)),t(s,a),e(s);while(c<s&&s<o);return l},i.filter=s=>Un(o=>{if(o>=o)for(;e(o),!s(o);)o.setTime(o-1)},(o,a)=>{if(o>=o)if(a<0)for(;++a<=0;)for(;t(o,-1),!s(o););else for(;--a>=0;)for(;t(o,1),!s(o););}),n&&(i.count=(s,o)=>(rM.setTime(+s),iM.setTime(+o),e(rM),e(iM),Math.floor(n(rM,iM))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?o=>r(o)%s===0:o=>i.count(0,o)%s===0):i)),i}const Pb=Un(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Pb.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Un(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Pb);Pb.range;const ka=1e3,Rs=ka*60,Aa=Rs*60,rl=Aa*24,HP=rl*7,M5=rl*30,sM=rl*365,Du=Un(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ka)},(e,t)=>(t-e)/ka,e=>e.getUTCSeconds());Du.range;const zP=Un(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ka)},(e,t)=>{e.setTime(+e+t*Rs)},(e,t)=>(t-e)/Rs,e=>e.getMinutes());zP.range;const GP=Un(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Rs)},(e,t)=>(t-e)/Rs,e=>e.getUTCMinutes());GP.range;const VP=Un(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ka-e.getMinutes()*Rs)},(e,t)=>{e.setTime(+e+t*Aa)},(e,t)=>(t-e)/Aa,e=>e.getHours());VP.range;const WP=Un(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Aa)},(e,t)=>(t-e)/Aa,e=>e.getUTCHours());WP.range;const hv=Un(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Rs)/rl,e=>e.getDate()-1);hv.range;const $x=Un(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/rl,e=>e.getUTCDate()-1);$x.range;const T$=Un(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/rl,e=>Math.floor(e/rl));T$.range;function Sd(e){return Un(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Rs)/HP)}const qx=Sd(0),Nb=Sd(1),$Te=Sd(2),qTe=Sd(3),mf=Sd(4),KTe=Sd(5),YTe=Sd(6);qx.range;Nb.range;$Te.range;qTe.range;mf.range;KTe.range;YTe.range;function Ed(e){return Un(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/HP)}const Kx=Ed(0),Ob=Ed(1),QTe=Ed(2),XTe=Ed(3),vf=Ed(4),JTe=Ed(5),ZTe=Ed(6);Kx.range;Ob.range;QTe.range;XTe.range;vf.range;JTe.range;ZTe.range;const UP=Un(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());UP.range;const $P=Un(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());$P.range;const il=Un(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());il.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Un(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});il.range;const sl=Un(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());sl.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Un(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});sl.range;function k$(e,t,n,r,i,s){const o=[[Du,1,ka],[Du,5,5*ka],[Du,15,15*ka],[Du,30,30*ka],[s,1,Rs],[s,5,5*Rs],[s,15,15*Rs],[s,30,30*Rs],[i,1,Aa],[i,3,3*Aa],[i,6,6*Aa],[i,12,12*Aa],[r,1,rl],[r,2,2*rl],[n,1,HP],[t,1,M5],[t,3,3*M5],[e,1,sM]];function a(c,d,f){const p=d<c;p&&([c,d]=[d,c]);const v=f&&typeof f.range=="function"?f:l(c,d,f),y=v?v.range(c,+d+1):[];return p?y.reverse():y}function l(c,d,f){const p=Math.abs(d-c)/f,v=MP(([,,x])=>x).right(o,p);if(v===o.length)return e.every(BT(c/sM,d/sM,f));if(v===0)return Pb.every(Math.max(BT(c,d,f),1));const[y,b]=o[p/o[v-1][2]<o[v][2]/p?v-1:v];return y.every(b)}return[a,l]}const[eke,tke]=k$(sl,$P,Kx,T$,WP,GP),[nke,rke]=k$(il,UP,qx,hv,VP,zP);function oM(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function aM(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function ag(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function ike(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,s=e.days,o=e.shortDays,a=e.months,l=e.shortMonths,c=lg(i),d=cg(i),f=lg(s),p=cg(s),v=lg(o),y=cg(o),b=lg(a),x=cg(a),S=lg(l),M=cg(l),R={a:j,A:$,b:W,B:K,c:null,d:O5,e:O5,f:Mke,g:_ke,G:Bke,H:Eke,I:Dke,j:Rke,L:A$,m:Tke,M:kke,p:H,q:Y,Q:L5,s:_5,S:Ake,u:Pke,U:Nke,V:Oke,w:Fke,W:Ike,x:null,X:null,y:Lke,Y:jke,Z:Hke,"%":I5},T={a:Z,A:X,b:fe,B:pe,c:null,d:F5,e:F5,f:Wke,g:eAe,G:nAe,H:zke,I:Gke,j:Vke,L:N$,m:Uke,M:$ke,p:Ce,q:je,Q:L5,s:_5,S:qke,u:Kke,U:Yke,V:Qke,w:Xke,W:Jke,x:null,X:null,y:Zke,Y:tAe,Z:rAe,"%":I5},k={a:U,A:_,b:I,B:V,c:F,d:P5,e:P5,f:bke,g:A5,G:k5,H:N5,I:N5,j:mke,L:wke,m:gke,M:vke,p:B,q:pke,Q:xke,s:Ske,S:yke,u:cke,U:uke,V:dke,w:lke,W:hke,x:L,X:z,y:A5,Y:k5,Z:fke,"%":Cke};R.x=P(n,R),R.X=P(r,R),R.c=P(t,R),T.x=P(n,T),T.X=P(r,T),T.c=P(t,T);function P(oe,de){return function(Me){var ue=[],Ve=-1,Ge=0,Xe=oe.length,Ne,rt,Mt;for(Me instanceof Date||(Me=new Date(+Me));++Ve<Xe;)oe.charCodeAt(Ve)===37&&(ue.push(oe.slice(Ge,Ve)),(rt=T5[Ne=oe.charAt(++Ve)])!=null?Ne=oe.charAt(++Ve):rt=Ne==="e"?" ":"0",(Mt=de[Ne])&&(Ne=Mt(Me,rt)),ue.push(Ne),Ge=Ve+1);return ue.push(oe.slice(Ge,Ve)),ue.join("")}}function A(oe,de){return function(Me){var ue=ag(1900,void 0,1),Ve=O(ue,oe,Me+="",0),Ge,Xe;if(Ve!=Me.length)return null;if("Q"in ue)return new Date(ue.Q);if("s"in ue)return new Date(ue.s*1e3+("L"in ue?ue.L:0));if(de&&!("Z"in ue)&&(ue.Z=0),"p"in ue&&(ue.H=ue.H%12+ue.p*12),ue.m===void 0&&(ue.m="q"in ue?ue.q:0),"V"in ue){if(ue.V<1||ue.V>53)return null;"w"in ue||(ue.w=1),"Z"in ue?(Ge=aM(ag(ue.y,0,1)),Xe=Ge.getUTCDay(),Ge=Xe>4||Xe===0?Ob.ceil(Ge):Ob(Ge),Ge=$x.offset(Ge,(ue.V-1)*7),ue.y=Ge.getUTCFullYear(),ue.m=Ge.getUTCMonth(),ue.d=Ge.getUTCDate()+(ue.w+6)%7):(Ge=oM(ag(ue.y,0,1)),Xe=Ge.getDay(),Ge=Xe>4||Xe===0?Nb.ceil(Ge):Nb(Ge),Ge=hv.offset(Ge,(ue.V-1)*7),ue.y=Ge.getFullYear(),ue.m=Ge.getMonth(),ue.d=Ge.getDate()+(ue.w+6)%7)}else("W"in ue||"U"in ue)&&("w"in ue||(ue.w="u"in ue?ue.u%7:"W"in ue?1:0),Xe="Z"in ue?aM(ag(ue.y,0,1)).getUTCDay():oM(ag(ue.y,0,1)).getDay(),ue.m=0,ue.d="W"in ue?(ue.w+6)%7+ue.W*7-(Xe+5)%7:ue.w+ue.U*7-(Xe+6)%7);return"Z"in ue?(ue.H+=ue.Z/100|0,ue.M+=ue.Z%100,aM(ue)):oM(ue)}}function O(oe,de,Me,ue){for(var Ve=0,Ge=de.length,Xe=Me.length,Ne,rt;Ve<Ge;){if(ue>=Xe)return-1;if(Ne=de.charCodeAt(Ve++),Ne===37){if(Ne=de.charAt(Ve++),rt=k[Ne in T5?de.charAt(Ve++):Ne],!rt||(ue=rt(oe,Me,ue))<0)return-1}else if(Ne!=Me.charCodeAt(ue++))return-1}return ue}function B(oe,de,Me){var ue=c.exec(de.slice(Me));return ue?(oe.p=d.get(ue[0].toLowerCase()),Me+ue[0].length):-1}function U(oe,de,Me){var ue=v.exec(de.slice(Me));return ue?(oe.w=y.get(ue[0].toLowerCase()),Me+ue[0].length):-1}function _(oe,de,Me){var ue=f.exec(de.slice(Me));return ue?(oe.w=p.get(ue[0].toLowerCase()),Me+ue[0].length):-1}function I(oe,de,Me){var ue=S.exec(de.slice(Me));return ue?(oe.m=M.get(ue[0].toLowerCase()),Me+ue[0].length):-1}function V(oe,de,Me){var ue=b.exec(de.slice(Me));return ue?(oe.m=x.get(ue[0].toLowerCase()),Me+ue[0].length):-1}function F(oe,de,Me){return O(oe,t,de,Me)}function L(oe,de,Me){return O(oe,n,de,Me)}function z(oe,de,Me){return O(oe,r,de,Me)}function j(oe){return o[oe.getDay()]}function $(oe){return s[oe.getDay()]}function W(oe){return l[oe.getMonth()]}function K(oe){return a[oe.getMonth()]}function H(oe){return i[+(oe.getHours()>=12)]}function Y(oe){return 1+~~(oe.getMonth()/3)}function Z(oe){return o[oe.getUTCDay()]}function X(oe){return s[oe.getUTCDay()]}function fe(oe){return l[oe.getUTCMonth()]}function pe(oe){return a[oe.getUTCMonth()]}function Ce(oe){return i[+(oe.getUTCHours()>=12)]}function je(oe){return 1+~~(oe.getUTCMonth()/3)}return{format:function(oe){var de=P(oe+="",R);return de.toString=function(){return oe},de},parse:function(oe){var de=A(oe+="",!1);return de.toString=function(){return oe},de},utcFormat:function(oe){var de=P(oe+="",T);return de.toString=function(){return oe},de},utcParse:function(oe){var de=A(oe+="",!0);return de.toString=function(){return oe},de}}}var T5={"-":"",_:" ",0:"0"},ar=/^\s*\d+/,ske=/^%/,oke=/[\\^$*+?|[\]().{}]/g;function Ct(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(t)+i:i)}function ake(e){return e.replace(oke,"\\$&")}function lg(e){return new RegExp("^(?:"+e.map(ake).join("|")+")","i")}function cg(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function lke(e,t,n){var r=ar.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function cke(e,t,n){var r=ar.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function uke(e,t,n){var r=ar.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function dke(e,t,n){var r=ar.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function hke(e,t,n){var r=ar.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function k5(e,t,n){var r=ar.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function A5(e,t,n){var r=ar.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function fke(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function pke(e,t,n){var r=ar.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function gke(e,t,n){var r=ar.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function P5(e,t,n){var r=ar.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function mke(e,t,n){var r=ar.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function N5(e,t,n){var r=ar.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function vke(e,t,n){var r=ar.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function yke(e,t,n){var r=ar.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function wke(e,t,n){var r=ar.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function bke(e,t,n){var r=ar.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Cke(e,t,n){var r=ske.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function xke(e,t,n){var r=ar.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Ske(e,t,n){var r=ar.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function O5(e,t){return Ct(e.getDate(),t,2)}function Eke(e,t){return Ct(e.getHours(),t,2)}function Dke(e,t){return Ct(e.getHours()%12||12,t,2)}function Rke(e,t){return Ct(1+hv.count(il(e),e),t,3)}function A$(e,t){return Ct(e.getMilliseconds(),t,3)}function Mke(e,t){return A$(e,t)+"000"}function Tke(e,t){return Ct(e.getMonth()+1,t,2)}function kke(e,t){return Ct(e.getMinutes(),t,2)}function Ake(e,t){return Ct(e.getSeconds(),t,2)}function Pke(e){var t=e.getDay();return t===0?7:t}function Nke(e,t){return Ct(qx.count(il(e)-1,e),t,2)}function P$(e){var t=e.getDay();return t>=4||t===0?mf(e):mf.ceil(e)}function Oke(e,t){return e=P$(e),Ct(mf.count(il(e),e)+(il(e).getDay()===4),t,2)}function Fke(e){return e.getDay()}function Ike(e,t){return Ct(Nb.count(il(e)-1,e),t,2)}function Lke(e,t){return Ct(e.getFullYear()%100,t,2)}function _ke(e,t){return e=P$(e),Ct(e.getFullYear()%100,t,2)}function jke(e,t){return Ct(e.getFullYear()%1e4,t,4)}function Bke(e,t){var n=e.getDay();return e=n>=4||n===0?mf(e):mf.ceil(e),Ct(e.getFullYear()%1e4,t,4)}function Hke(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ct(t/60|0,"0",2)+Ct(t%60,"0",2)}function F5(e,t){return Ct(e.getUTCDate(),t,2)}function zke(e,t){return Ct(e.getUTCHours(),t,2)}function Gke(e,t){return Ct(e.getUTCHours()%12||12,t,2)}function Vke(e,t){return Ct(1+$x.count(sl(e),e),t,3)}function N$(e,t){return Ct(e.getUTCMilliseconds(),t,3)}function Wke(e,t){return N$(e,t)+"000"}function Uke(e,t){return Ct(e.getUTCMonth()+1,t,2)}function $ke(e,t){return Ct(e.getUTCMinutes(),t,2)}function qke(e,t){return Ct(e.getUTCSeconds(),t,2)}function Kke(e){var t=e.getUTCDay();return t===0?7:t}function Yke(e,t){return Ct(Kx.count(sl(e)-1,e),t,2)}function O$(e){var t=e.getUTCDay();return t>=4||t===0?vf(e):vf.ceil(e)}function Qke(e,t){return e=O$(e),Ct(vf.count(sl(e),e)+(sl(e).getUTCDay()===4),t,2)}function Xke(e){return e.getUTCDay()}function Jke(e,t){return Ct(Ob.count(sl(e)-1,e),t,2)}function Zke(e,t){return Ct(e.getUTCFullYear()%100,t,2)}function eAe(e,t){return e=O$(e),Ct(e.getUTCFullYear()%100,t,2)}function tAe(e,t){return Ct(e.getUTCFullYear()%1e4,t,4)}function nAe(e,t){var n=e.getUTCDay();return e=n>=4||n===0?vf(e):vf.ceil(e),Ct(e.getUTCFullYear()%1e4,t,4)}function rAe(){return"+0000"}function I5(){return"%"}function L5(e){return+e}function _5(e){return Math.floor(+e/1e3)}var yh,F$,I$;iAe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function iAe(e){return yh=ike(e),F$=yh.format,yh.parse,I$=yh.utcFormat,yh.utcParse,yh}function sAe(e){return new Date(e)}function oAe(e){return e instanceof Date?+e:+new Date(+e)}function qP(e,t,n,r,i,s,o,a,l,c){var d=OP(),f=d.invert,p=d.domain,v=c(".%L"),y=c(":%S"),b=c("%I:%M"),x=c("%I %p"),S=c("%a %d"),M=c("%b %d"),R=c("%B"),T=c("%Y");function k(P){return(l(P)<P?v:a(P)<P?y:o(P)<P?b:s(P)<P?x:r(P)<P?i(P)<P?S:M:n(P)<P?R:T)(P)}return d.invert=function(P){return new Date(f(P))},d.domain=function(P){return arguments.length?p(Array.from(P,oAe)):p().map(sAe)},d.ticks=function(P){var A=p();return e(A[0],A[A.length-1],P??10)},d.tickFormat=function(P,A){return A==null?k:c(A)},d.nice=function(P){var A=p();return(!P||typeof P.range!="function")&&(P=t(A[0],A[A.length-1],P??10)),P?p(C$(A,P)):d},d.copy=function(){return dv(d,qP(e,t,n,r,i,s,o,a,l,c))},d}function aAe(){return Ls.apply(qP(nke,rke,il,UP,qx,hv,VP,zP,Du,F$).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function lAe(){return Ls.apply(qP(eke,tke,sl,$P,Kx,$x,WP,GP,Du,I$).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Yx(){var e=0,t=1,n,r,i,s,o=$r,a=!1,l;function c(f){return f==null||isNaN(f=+f)?l:o(i===0?.5:(f=(s(f)-n)*i,a?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([e,t]=f,n=s(e=+e),r=s(t=+t),i=n===r?0:1/(r-n),c):[e,t]},c.clamp=function(f){return arguments.length?(a=!!f,c):a},c.interpolator=function(f){return arguments.length?(o=f,c):o};function d(f){return function(p){var v,y;return arguments.length?([v,y]=p,o=f(v,y),c):[o(0),o(1)]}}return c.range=d(Uf),c.rangeRound=d(NP),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return s=f,n=f(e),r=f(t),i=n===r?0:1/(r-n),c}}function zc(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function L$(){var e=Hc(Yx()($r));return e.copy=function(){return zc(e,L$())},gl.apply(e,arguments)}function _$(){var e=LP(Yx()).domain([1,10]);return e.copy=function(){return zc(e,_$()).base(e.base())},gl.apply(e,arguments)}function j$(){var e=_P(Yx());return e.copy=function(){return zc(e,j$()).constant(e.constant())},gl.apply(e,arguments)}function KP(){var e=jP(Yx());return e.copy=function(){return zc(e,KP()).exponent(e.exponent())},gl.apply(e,arguments)}function cAe(){return KP.apply(null,arguments).exponent(.5)}function B$(){var e=[],t=$r;function n(r){if(r!=null&&!isNaN(r=+r))return t((cv(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(mc),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>K2e(e,s/r))},n.copy=function(){return B$(t).domain(e)},gl.apply(n,arguments)}function Qx(){var e=0,t=.5,n=1,r=1,i,s,o,a,l,c=$r,d,f=!1,p;function v(b){return isNaN(b=+b)?p:(b=.5+((b=+d(b))-s)*(r*b<r*s?a:l),c(f?Math.max(0,Math.min(1,b)):b))}v.domain=function(b){return arguments.length?([e,t,n]=b,i=d(e=+e),s=d(t=+t),o=d(n=+n),a=i===s?0:.5/(s-i),l=s===o?0:.5/(o-s),r=s<i?-1:1,v):[e,t,n]},v.clamp=function(b){return arguments.length?(f=!!b,v):f},v.interpolator=function(b){return arguments.length?(c=b,v):c};function y(b){return function(x){var S,M,R;return arguments.length?([S,M,R]=x,c=CTe(b,[S,M,R]),v):[c(0),c(.5),c(1)]}}return v.range=y(Uf),v.rangeRound=y(NP),v.unknown=function(b){return arguments.length?(p=b,v):p},function(b){return d=b,i=b(e),s=b(t),o=b(n),a=i===s?0:.5/(s-i),l=s===o?0:.5/(o-s),r=s<i?-1:1,v}}function H$(){var e=Hc(Qx()($r));return e.copy=function(){return zc(e,H$())},gl.apply(e,arguments)}function z$(){var e=LP(Qx()).domain([.1,1,10]);return e.copy=function(){return zc(e,z$()).base(e.base())},gl.apply(e,arguments)}function G$(){var e=_P(Qx());return e.copy=function(){return zc(e,G$()).constant(e.constant())},gl.apply(e,arguments)}function YP(){var e=jP(Qx());return e.copy=function(){return zc(e,YP()).exponent(e.exponent())},gl.apply(e,arguments)}function uAe(){return YP.apply(null,arguments).exponent(.5)}const Cg=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:kP,scaleDiverging:H$,scaleDivergingLog:z$,scaleDivergingPow:YP,scaleDivergingSqrt:uAe,scaleDivergingSymlog:G$,scaleIdentity:b$,scaleImplicit:HT,scaleLinear:w$,scaleLog:x$,scaleOrdinal:TP,scalePoint:X2e,scalePow:BP,scaleQuantile:D$,scaleQuantize:R$,scaleRadial:E$,scaleSequential:L$,scaleSequentialLog:_$,scaleSequentialPow:KP,scaleSequentialQuantile:B$,scaleSequentialSqrt:cAe,scaleSequentialSymlog:j$,scaleSqrt:WTe,scaleSymlog:S$,scaleThreshold:M$,scaleTime:aAe,scaleUtc:lAe,tickFormat:y$},Symbol.toStringTag,{value:"Module"}));var Gc=e=>e.chartData,dAe=ce([Gc],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),QP=(e,t,n,r)=>r?dAe(e):Gc(e);function Tc(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(Pn(t)&&Pn(n))return!0}return!1}function j5(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function V$(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,s;if(Pn(n))i=n;else if(typeof n=="function")return;if(Pn(r))s=r;else if(typeof r=="function")return;var o=[i,s];if(Tc(o))return o}}function hAe(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(Tc(r))return j5(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,s]=e,o,a;if(i==="auto")t!=null&&(o=Math.min(...t));else if(Ie(i))o=i;else if(typeof i=="function")try{t!=null&&(o=i(t?.[0]))}catch{}else if(typeof i=="string"&&h6.test(i)){var l=h6.exec(i);if(l==null||t==null)o=void 0;else{var c=+l[1];o=t[0]-c}}else o=t?.[0];if(s==="auto")t!=null&&(a=Math.max(...t));else if(Ie(s))a=s;else if(typeof s=="function")try{t!=null&&(a=s(t?.[1]))}catch{}else if(typeof s=="string"&&f6.test(s)){var d=f6.exec(s);if(d==null||t==null)a=void 0;else{var f=+d[1];a=t[1]+f}}else a=t?.[1];var p=[o,a];if(Tc(p))return t==null?p:j5(p,t,n)}}}var $f=1e9,fAe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},JP,cn=!0,Ns="[DecimalError] ",Wu=Ns+"Invalid argument: ",XP=Ns+"Exponent out of range: ",qf=Math.floor,mu=Math.pow,pAe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Gi,tr=1e7,nn=7,W$=9007199254740991,Fb=qf(W$/nn),Ae={};Ae.absoluteValue=Ae.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Ae.comparedTo=Ae.cmp=function(e){var t,n,r,i,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(r=s.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};Ae.decimalPlaces=Ae.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*nn;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};Ae.dividedBy=Ae.div=function(e){return _a(this,new this.constructor(e))};Ae.dividedToIntegerBy=Ae.idiv=function(e){var t=this,n=t.constructor;return qt(_a(t,new n(e),0,1),n.precision)};Ae.equals=Ae.eq=function(e){return!this.cmp(e)};Ae.exponent=function(){return Bn(this)};Ae.greaterThan=Ae.gt=function(e){return this.cmp(e)>0};Ae.greaterThanOrEqualTo=Ae.gte=function(e){return this.cmp(e)>=0};Ae.isInteger=Ae.isint=function(){return this.e>this.d.length-2};Ae.isNegative=Ae.isneg=function(){return this.s<0};Ae.isPositive=Ae.ispos=function(){return this.s>0};Ae.isZero=function(){return this.s===0};Ae.lessThan=Ae.lt=function(e){return this.cmp(e)<0};Ae.lessThanOrEqualTo=Ae.lte=function(e){return this.cmp(e)<1};Ae.logarithm=Ae.log=function(e){var t,n=this,r=n.constructor,i=r.precision,s=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(Gi))throw Error(Ns+"NaN");if(n.s<1)throw Error(Ns+(n.s?"NaN":"-Infinity"));return n.eq(Gi)?new r(0):(cn=!1,t=_a(Dm(n,s),Dm(e,s),s),cn=!0,qt(t,i))};Ae.minus=Ae.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?q$(t,e):U$(t,(e.s=-e.s,e))};Ae.modulo=Ae.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(Ns+"NaN");return n.s?(cn=!1,t=_a(n,e,0,1).times(e),cn=!0,n.minus(t)):qt(new r(n),i)};Ae.naturalExponential=Ae.exp=function(){return $$(this)};Ae.naturalLogarithm=Ae.ln=function(){return Dm(this)};Ae.negated=Ae.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Ae.plus=Ae.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?U$(t,e):q$(t,(e.s=-e.s,e))};Ae.precision=Ae.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Wu+e);if(t=Bn(i)+1,r=i.d.length-1,n=r*nn+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};Ae.squareRoot=Ae.sqrt=function(){var e,t,n,r,i,s,o,a=this,l=a.constructor;if(a.s<1){if(!a.s)return new l(0);throw Error(Ns+"NaN")}for(e=Bn(a),cn=!1,i=Math.sqrt(+a),i==0||i==1/0?(t=ko(a.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=qf((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new l(t)):r=new l(i.toString()),n=l.precision,i=o=n+3;;)if(s=r,r=s.plus(_a(a,s,o+2)).times(.5),ko(s.d).slice(0,o)===(t=ko(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(qt(s,n+1,0),s.times(s).eq(a)){r=s;break}}else if(t!="9999")break;o+=4}return cn=!0,qt(r,n)};Ae.times=Ae.mul=function(e){var t,n,r,i,s,o,a,l,c,d=this,f=d.constructor,p=d.d,v=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,n=d.e+e.e,l=p.length,c=v.length,l<c&&(s=p,p=v,v=s,o=l,l=c,c=o),s=[],o=l+c,r=o;r--;)s.push(0);for(r=c;--r>=0;){for(t=0,i=l+r;i>r;)a=s[i]+v[r]*p[i-r-1]+t,s[i--]=a%tr|0,t=a/tr|0;s[i]=(s[i]+t)%tr|0}for(;!s[--o];)s.pop();return t?++n:s.shift(),e.d=s,e.e=n,cn?qt(e,f.precision):e};Ae.toDecimalPlaces=Ae.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(zo(e,0,$f),t===void 0?t=r.rounding:zo(t,0,8),qt(n,e+Bn(n)+1,t))};Ae.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=sd(r,!0):(zo(e,0,$f),t===void 0?t=i.rounding:zo(t,0,8),r=qt(new i(r),e+1,t),n=sd(r,!0,e+1)),n};Ae.toFixed=function(e,t){var n,r,i=this,s=i.constructor;return e===void 0?sd(i):(zo(e,0,$f),t===void 0?t=s.rounding:zo(t,0,8),r=qt(new s(i),e+Bn(i)+1,t),n=sd(r.abs(),!1,e+Bn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Ae.toInteger=Ae.toint=function(){var e=this,t=e.constructor;return qt(new t(e),Bn(e)+1,t.rounding)};Ae.toNumber=function(){return+this};Ae.toPower=Ae.pow=function(e){var t,n,r,i,s,o,a=this,l=a.constructor,c=12,d=+(e=new l(e));if(!e.s)return new l(Gi);if(a=new l(a),!a.s){if(e.s<1)throw Error(Ns+"Infinity");return a}if(a.eq(Gi))return a;if(r=l.precision,e.eq(Gi))return qt(a,r);if(t=e.e,n=e.d.length-1,o=t>=n,s=a.s,o){if((n=d<0?-d:d)<=W$){for(i=new l(Gi),t=Math.ceil(r/nn+4),cn=!1;n%2&&(i=i.times(a),H5(i.d,t)),n=qf(n/2),n!==0;)a=a.times(a),H5(a.d,t);return cn=!0,e.s<0?new l(Gi).div(i):qt(i,r)}}else if(s<0)throw Error(Ns+"NaN");return s=s<0&&e.d[Math.max(t,n)]&1?-1:1,a.s=1,cn=!1,i=e.times(Dm(a,r+c)),cn=!0,i=$$(i),i.s=s,i};Ae.toPrecision=function(e,t){var n,r,i=this,s=i.constructor;return e===void 0?(n=Bn(i),r=sd(i,n<=s.toExpNeg||n>=s.toExpPos)):(zo(e,1,$f),t===void 0?t=s.rounding:zo(t,0,8),i=qt(new s(i),e,t),n=Bn(i),r=sd(i,e<=n||n<=s.toExpNeg,e)),r};Ae.toSignificantDigits=Ae.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(zo(e,1,$f),t===void 0?t=r.rounding:zo(t,0,8)),qt(new r(n),e,t)};Ae.toString=Ae.valueOf=Ae.val=Ae.toJSON=Ae[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Bn(e),n=e.constructor;return sd(e,t<=n.toExpNeg||t>=n.toExpPos)};function U$(e,t){var n,r,i,s,o,a,l,c,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),cn?qt(t,f):t;if(l=e.d,c=t.d,o=e.e,i=t.e,l=l.slice(),s=o-i,s){for(s<0?(r=l,s=-s,a=c.length):(r=c,i=o,a=l.length),o=Math.ceil(f/nn),a=o>a?o+1:a+1,s>a&&(s=a,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(a=l.length,s=c.length,a-s<0&&(s=a,r=c,c=l,l=r),n=0;s;)n=(l[--s]=l[s]+c[s]+n)/tr|0,l[s]%=tr;for(n&&(l.unshift(n),++i),a=l.length;l[--a]==0;)l.pop();return t.d=l,t.e=i,cn?qt(t,f):t}function zo(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Wu+e)}function ko(e){var t,n,r,i=e.length-1,s="",o=e[0];if(i>0){for(s+=o,t=1;t<i;t++)r=e[t]+"",n=nn-r.length,n&&(s+=nc(n)),s+=r;o=e[t],r=o+"",n=nn-r.length,n&&(s+=nc(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var _a=(function(){function e(r,i){var s,o=0,a=r.length;for(r=r.slice();a--;)s=r[a]*i+o,r[a]=s%tr|0,o=s/tr|0;return o&&r.unshift(o),r}function t(r,i,s,o){var a,l;if(s!=o)l=s>o?1:-1;else for(a=l=0;a<s;a++)if(r[a]!=i[a]){l=r[a]>i[a]?1:-1;break}return l}function n(r,i,s){for(var o=0;s--;)r[s]-=o,o=r[s]<i[s]?1:0,r[s]=o*tr+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,o){var a,l,c,d,f,p,v,y,b,x,S,M,R,T,k,P,A,O,B=r.constructor,U=r.s==i.s?1:-1,_=r.d,I=i.d;if(!r.s)return new B(r);if(!i.s)throw Error(Ns+"Division by zero");for(l=r.e-i.e,A=I.length,k=_.length,v=new B(U),y=v.d=[],c=0;I[c]==(_[c]||0);)++c;if(I[c]>(_[c]||0)&&--l,s==null?M=s=B.precision:o?M=s+(Bn(r)-Bn(i))+1:M=s,M<0)return new B(0);if(M=M/nn+2|0,c=0,A==1)for(d=0,I=I[0],M++;(c<k||d)&&M--;c++)R=d*tr+(_[c]||0),y[c]=R/I|0,d=R%I|0;else{for(d=tr/(I[0]+1)|0,d>1&&(I=e(I,d),_=e(_,d),A=I.length,k=_.length),T=A,b=_.slice(0,A),x=b.length;x<A;)b[x++]=0;O=I.slice(),O.unshift(0),P=I[0],I[1]>=tr/2&&++P;do d=0,a=t(I,b,A,x),a<0?(S=b[0],A!=x&&(S=S*tr+(b[1]||0)),d=S/P|0,d>1?(d>=tr&&(d=tr-1),f=e(I,d),p=f.length,x=b.length,a=t(f,b,p,x),a==1&&(d--,n(f,A<p?O:I,p))):(d==0&&(a=d=1),f=I.slice()),p=f.length,p<x&&f.unshift(0),n(b,f,x),a==-1&&(x=b.length,a=t(I,b,A,x),a<1&&(d++,n(b,A<x?O:I,x))),x=b.length):a===0&&(d++,b=[0]),y[c++]=d,a&&b[0]?b[x++]=_[T]||0:(b=[_[T]],x=1);while((T++<k||b[0]!==void 0)&&M--)}return y[0]||y.shift(),v.e=l,qt(v,o?s+Bn(v)+1:s)}})();function $$(e,t){var n,r,i,s,o,a,l=0,c=0,d=e.constructor,f=d.precision;if(Bn(e)>16)throw Error(XP+Bn(e));if(!e.s)return new d(Gi);for(cn=!1,a=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),c+=5;for(r=Math.log(mu(2,c))/Math.LN10*2+5|0,a+=r,n=i=s=new d(Gi),d.precision=a;;){if(i=qt(i.times(e),a),n=n.times(++l),o=s.plus(_a(i,n,a)),ko(o.d).slice(0,a)===ko(s.d).slice(0,a)){for(;c--;)s=qt(s.times(s),a);return d.precision=f,t==null?(cn=!0,qt(s,f)):s}s=o}}function Bn(e){for(var t=e.e*nn,n=e.d[0];n>=10;n/=10)t++;return t}function lM(e,t,n){if(t>e.LN10.sd())throw cn=!0,n&&(e.precision=n),Error(Ns+"LN10 precision limit exceeded");return qt(new e(e.LN10),t)}function nc(e){for(var t="";e--;)t+="0";return t}function Dm(e,t){var n,r,i,s,o,a,l,c,d,f=1,p=10,v=e,y=v.d,b=v.constructor,x=b.precision;if(v.s<1)throw Error(Ns+(v.s?"NaN":"-Infinity"));if(v.eq(Gi))return new b(0);if(t==null?(cn=!1,c=x):c=t,v.eq(10))return t==null&&(cn=!0),lM(b,c);if(c+=p,b.precision=c,n=ko(y),r=n.charAt(0),s=Bn(v),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)v=v.times(e),n=ko(v.d),r=n.charAt(0),f++;s=Bn(v),r>1?(v=new b("0."+n),s++):v=new b(r+"."+n.slice(1))}else return l=lM(b,c+2,x).times(s+""),v=Dm(new b(r+"."+n.slice(1)),c-p).plus(l),b.precision=x,t==null?(cn=!0,qt(v,x)):v;for(a=o=v=_a(v.minus(Gi),v.plus(Gi),c),d=qt(v.times(v),c),i=3;;){if(o=qt(o.times(d),c),l=a.plus(_a(o,new b(i),c)),ko(l.d).slice(0,c)===ko(a.d).slice(0,c))return a=a.times(2),s!==0&&(a=a.plus(lM(b,c+2,x).times(s+""))),a=_a(a,new b(f),c),b.precision=x,t==null?(cn=!0,qt(a,x)):a;a=l,i+=2}}function B5(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=qf(n/nn),e.d=[],r=(n+1)%nn,n<0&&(r+=nn),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=nn;r<i;)e.d.push(+t.slice(r,r+=nn));t=t.slice(r),r=nn-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),cn&&(e.e>Fb||e.e<-Fb))throw Error(XP+n)}else e.s=0,e.e=0,e.d=[0];return e}function qt(e,t,n){var r,i,s,o,a,l,c,d,f=e.d;for(o=1,s=f[0];s>=10;s/=10)o++;if(r=t-o,r<0)r+=nn,i=t,c=f[d=0];else{if(d=Math.ceil((r+1)/nn),s=f.length,d>=s)return e;for(c=s=f[d],o=1;s>=10;s/=10)o++;r%=nn,i=r-nn+o}if(n!==void 0&&(s=mu(10,o-i-1),a=c/s%10|0,l=t<0||f[d+1]!==void 0||c%s,l=n<4?(a||l)&&(n==0||n==(e.s<0?3:2)):a>5||a==5&&(n==4||l||n==6&&(r>0?i>0?c/mu(10,o-i):0:f[d-1])%10&1||n==(e.s<0?8:7))),t<1||!f[0])return l?(s=Bn(e),f.length=1,t=t-s-1,f[0]=mu(10,(nn-t%nn)%nn),e.e=qf(-t/nn)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(r==0?(f.length=d,s=1,d--):(f.length=d+1,s=mu(10,nn-r),f[d]=i>0?(c/mu(10,o-i)%mu(10,i)|0)*s:0),l)for(;;)if(d==0){(f[0]+=s)==tr&&(f[0]=1,++e.e);break}else{if(f[d]+=s,f[d]!=tr)break;f[d--]=0,s=1}for(r=f.length;f[--r]===0;)f.pop();if(cn&&(e.e>Fb||e.e<-Fb))throw Error(XP+Bn(e));return e}function q$(e,t){var n,r,i,s,o,a,l,c,d,f,p=e.constructor,v=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),cn?qt(t,v):t;if(l=e.d,f=t.d,r=t.e,c=e.e,l=l.slice(),o=c-r,o){for(d=o<0,d?(n=l,o=-o,a=f.length):(n=f,r=c,a=l.length),i=Math.max(Math.ceil(v/nn),a)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=l.length,a=f.length,d=i<a,d&&(a=i),i=0;i<a;i++)if(l[i]!=f[i]){d=l[i]<f[i];break}o=0}for(d&&(n=l,l=f,f=n,t.s=-t.s),a=l.length,i=f.length-a;i>0;--i)l[a++]=0;for(i=f.length;i>o;){if(l[--i]<f[i]){for(s=i;s&&l[--s]===0;)l[s]=tr-1;--l[s],l[i]+=tr}l[i]-=f[i]}for(;l[--a]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(t.d=l,t.e=r,cn?qt(t,v):t):new p(0)}function sd(e,t,n){var r,i=Bn(e),s=ko(e.d),o=s.length;return t?(n&&(r=n-o)>0?s=s.charAt(0)+"."+s.slice(1)+nc(r):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+nc(-i-1)+s,n&&(r=n-o)>0&&(s+=nc(r))):i>=o?(s+=nc(i+1-o),n&&(r=n-i-1)>0&&(s=s+"."+nc(r))):((r=i+1)<o&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(s+="."),s+=nc(r))),e.s<0?"-"+s:s}function H5(e,t){if(e.length>t)return e.length=t,!0}function K$(e){var t,n,r;function i(s){var o=this;if(!(o instanceof i))return new i(s);if(o.constructor=i,s instanceof i){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Wu+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return B5(o,s.toString())}else if(typeof s!="string")throw Error(Wu+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,pAe.test(s))B5(o,s);else throw Error(Wu+s)}if(i.prototype=Ae,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=K$,i.config=i.set=gAe,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function gAe(e){if(!e||typeof e!="object")throw Error(Ns+"Object expected");var t,n,r,i=["precision",1,$f,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(qf(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(Wu+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Wu+n+": "+r);return this}var JP=K$(fAe);Gi=new JP(1);const Ot=JP;var mAe=e=>e,Y$={},Q$=e=>e===Y$,z5=e=>function t(){return arguments.length===0||arguments.length===1&&Q$(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},X$=(e,t)=>e===1?t:z5(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var s=r.filter(o=>o!==Y$).length;return s>=e?t(...r):X$(e-s,z5(function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];var c=r.map(d=>Q$(d)?a.shift():d);return t(...c,...a)}))}),vAe=e=>X$(e.length,e),WT=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},yAe=vAe((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),wAe=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return mAe;var i=n.reverse(),s=i[0],o=i.slice(1);return function(){return o.reduce((a,l)=>l(a),s(...arguments))}},UT=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join("");function J$(e){var t;return e===0?t=1:t=Math.floor(new Ot(e).abs().log(10).toNumber())+1,t}function Z$(e,t,n){for(var r=new Ot(e),i=0,s=[];r.lt(t)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}var eq=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},tq=(e,t,n)=>{if(e.lte(0))return new Ot(0);var r=J$(e.toNumber()),i=new Ot(10).pow(r),s=e.div(i),o=r!==1?.05:.1,a=new Ot(Math.ceil(s.div(o).toNumber())).add(n).mul(o),l=a.mul(i);return t?new Ot(l.toNumber()):new Ot(Math.ceil(l.toNumber()))},bAe=(e,t,n)=>{var r=new Ot(1),i=new Ot(e);if(!i.isint()&&n){var s=Math.abs(e);s<1?(r=new Ot(10).pow(J$(e)-1),i=new Ot(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new Ot(Math.floor(e)))}else e===0?i=new Ot(Math.floor((t-1)/2)):n||(i=new Ot(Math.floor(e)));var o=Math.floor((t-1)/2),a=wAe(yAe(l=>i.add(new Ot(l-o).mul(r)).toNumber()),WT);return a(0,t)},nq=function(t,n,r,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new Ot(0),tickMin:new Ot(0),tickMax:new Ot(0)};var o=tq(new Ot(n).sub(t).div(r-1),i,s),a;t<=0&&n>=0?a=new Ot(0):(a=new Ot(t).add(n).div(2),a=a.sub(new Ot(a).mod(o)));var l=Math.ceil(a.sub(t).div(o).toNumber()),c=Math.ceil(new Ot(n).sub(a).div(o).toNumber()),d=l+c+1;return d>r?nq(t,n,r,i,s+1):(d<r&&(c=n>0?c+(r-d):c,l=n>0?l:l+(r-d)),{step:o,tickMin:a.sub(new Ot(l).mul(o)),tickMax:a.add(new Ot(c).mul(o))})},CAe=function(t){var[n,r]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),[a,l]=eq([n,r]);if(a===-1/0||l===1/0){var c=l===1/0?[a,...WT(0,i-1).map(()=>1/0)]:[...WT(0,i-1).map(()=>-1/0),l];return n>r?UT(c):c}if(a===l)return bAe(a,i,s);var{step:d,tickMin:f,tickMax:p}=nq(a,l,o,s,0),v=Z$(f,p.add(new Ot(.1).mul(d)),d);return n>r?UT(v):v},xAe=function(t,n){var[r,i]=t,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,a]=eq([r,i]);if(o===-1/0||a===1/0)return[r,i];if(o===a)return[o];var l=Math.max(n,2),c=tq(new Ot(a).sub(o).div(l-1),s,0),d=[...Z$(new Ot(o),new Ot(a),c),a];return s===!1&&(d=d.map(f=>Math.round(f))),r>i?UT(d):d},rq=e=>e.rootProps.maxBarSize,SAe=e=>e.rootProps.barGap,iq=e=>e.rootProps.barCategoryGap,EAe=e=>e.rootProps.barSize,Xx=e=>e.rootProps.stackOffset,sq=e=>e.rootProps.reverseStackOrder,ZP=e=>e.options.chartName,eN=e=>e.rootProps.syncId,oq=e=>e.rootProps.syncMethod,tN=e=>e.options.eventEmitter,qr={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Da={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},zi={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Jx=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},DAe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Da.angleAxisId,includeHidden:!1,name:void 0,reversed:Da.reversed,scale:Da.scale,tick:Da.tick,tickCount:void 0,ticks:void 0,type:Da.type,unit:void 0},RAe={allowDataOverflow:zi.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:zi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:zi.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:zi.scale,tick:zi.tick,tickCount:zi.tickCount,ticks:void 0,type:zi.type,unit:void 0},MAe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Da.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Da.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Da.scale,tick:Da.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},TAe={allowDataOverflow:zi.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:zi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:zi.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:zi.scale,tick:zi.tick,tickCount:zi.tickCount,ticks:void 0,type:"category",unit:void 0},nN=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?MAe:DAe,rN=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?TAe:RAe,Zx=e=>e.polarOptions,iN=ce([fl,pl,or],x2e),aq=ce([Zx,iN],(e,t)=>{if(e!=null)return eo(e.innerRadius,t,0)}),lq=ce([Zx,iN],(e,t)=>{if(e!=null)return eo(e.outerRadius,t,t*.8)}),kAe=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},cq=ce([Zx],kAe);ce([nN,cq],Jx);var uq=ce([iN,aq,lq],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});ce([rN,uq],Jx);var dq=ce([Lt,Zx,aq,lq,fl,pl],(e,t,n,r,i,s)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:o,cy:a,startAngle:l,endAngle:c}=t;return{cx:eo(o,i,i/2),cy:eo(a,s,s/2),innerRadius:n,outerRadius:r,startAngle:l,endAngle:c,clockWise:!1}}}),$n=(e,t)=>t,eS=(e,t,n)=>n;function sN(e){return e?.id}function hq(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:s}=n,o=new Map;return e.forEach(a=>{var l,c=(l=a.data)!==null&&l!==void 0?l:r;if(!(c==null||c.length===0)){var d=sN(a);c.forEach((f,p)=>{var v=s==null||i?p:String(Fr(f,s,null)),y=Fr(f,a.dataKey,0),b;o.has(v)?b=o.get(v):b={},Object.assign(b,{[d]:y}),o.set(v,b)})}}),Array.from(o.values())}function tS(e){return e.stackId!=null&&e.dataKey!=null}var nS=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function rS(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function AAe(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var qn=e=>{var t=Lt(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Kf=e=>e.tooltip.settings.axisId;function G5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ib(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?G5(Object(n),!0).forEach(function(r){PAe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function PAe(e,t,n){return(t=NAe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NAe(e){var t=OAe(e,"string");return typeof t=="symbol"?t:t+""}function OAe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $T=[0,"auto"],Zn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},fq=(e,t)=>e.cartesianAxis.xAxis[t],ml=(e,t)=>{var n=fq(e,t);return n??Zn},er={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:$T,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:av},pq=(e,t)=>e.cartesianAxis.yAxis[t],vl=(e,t)=>{var n=pq(e,t);return n??er},FAe={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},oN=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??FAe},ri=(e,t,n)=>{switch(t){case"xAxis":return ml(e,n);case"yAxis":return vl(e,n);case"zAxis":return oN(e,n);case"angleAxis":return nN(e,n);case"radiusAxis":return rN(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},IAe=(e,t,n)=>{switch(t){case"xAxis":return ml(e,n);case"yAxis":return vl(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},fv=(e,t,n)=>{switch(t){case"xAxis":return ml(e,n);case"yAxis":return vl(e,n);case"angleAxis":return nN(e,n);case"radiusAxis":return rN(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},gq=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function mq(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var aN=e=>e.graphicalItems.cartesianItems,LAe=ce([$n,eS],mq),vq=(e,t,n)=>e.filter(n).filter(r=>t?.includeHidden===!0?!0:!r.hide),pv=ce([aN,ri,LAe],vq,{memoizeOptions:{resultEqualityCheck:rS}}),yq=ce([pv],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(tS)),wq=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),_Ae=ce([pv],wq),bq=e=>e.map(t=>t.data).filter(Boolean).flat(1),jAe=ce([pv],bq,{memoizeOptions:{resultEqualityCheck:rS}}),Cq=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},lN=ce([jAe,QP],Cq),xq=(e,t,n)=>t?.dataKey!=null?e.map(r=>({value:Fr(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:Fr(i,r)}))):e.map(r=>({value:r})),iS=ce([lN,ri,pv],xq);function Sq(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function hw(e){if(jo(e)||e instanceof Date){var t=Number(e);if(Pn(t))return t}}function V5(e){if(Array.isArray(e)){var t=[hw(e[0]),hw(e[1])];return Tc(t)?t:void 0}var n=hw(e);if(n!=null)return[n,n]}function ol(e){return e.map(hw).filter(M1e)}function BAe(e,t,n){return!n||typeof t!="number"||Zs(t)?[]:n.length?ol(n.flatMap(r=>{var i=Fr(e,r.dataKey),s,o;if(Array.isArray(i)?[s,o]=i:s=o=i,!(!Pn(s)||!Pn(o)))return[t-s,t+o]})):[]}var Kn=e=>{var t=qn(e),n=Kf(e);return fv(e,t,n)},gv=ce([Kn],e=>e?.dataKey),HAe=ce([yq,QP,Kn],hq),Eq=(e,t,n,r)=>{var i={},s=t.reduce((o,a)=>(a.stackId==null||(o[a.stackId]==null&&(o[a.stackId]=[]),o[a.stackId].push(a)),o),i);return Object.fromEntries(Object.entries(s).map(o=>{var[a,l]=o,c=r?[...l].reverse():l,d=c.map(sN);return[a,{stackedData:ZDe(e,d,n),graphicalItems:c}]}))},qT=ce([HAe,yq,Xx,sq],Eq),Dq=(e,t,n,r)=>{var{dataStartIndex:i,dataEndIndex:s}=t;if(r==null&&n!=="zAxis"){var o=iRe(e,i,s);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},zAe=ce([ri],e=>e.allowDataOverflow),cN=e=>{var t;if(e==null||!("domain"in e))return $T;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var n=ol(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:$T},Rq=ce([ri],cN),Mq=ce([Rq,zAe],V$),GAe=ce([qT,Gc,$n,Mq],Dq,{memoizeOptions:{resultEqualityCheck:nS}}),uN=e=>e.errorBars,VAe=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>Sq(n,r)),Lb=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var s=i.flat(),o=Math.min(...s),a=Math.max(...s);return[o,a]}},Tq=(e,t,n,r,i)=>{var s,o;if(n.length>0&&e.forEach(a=>{n.forEach(l=>{var c,d,f=(c=r[l.id])===null||c===void 0?void 0:c.filter(S=>Sq(i,S)),p=Fr(a,(d=t.dataKey)!==null&&d!==void 0?d:l.dataKey),v=BAe(a,p,f);if(v.length>=2){var y=Math.min(...v),b=Math.max(...v);(s==null||y<s)&&(s=y),(o==null||b>o)&&(o=b)}var x=V5(p);x!=null&&(s=s==null?x[0]:Math.min(s,x[0]),o=o==null?x[1]:Math.max(o,x[1]))})}),t?.dataKey!=null&&e.forEach(a=>{var l=V5(Fr(a,t.dataKey));l!=null&&(s=s==null?l[0]:Math.min(s,l[0]),o=o==null?l[1]:Math.max(o,l[1]))}),Pn(s)&&Pn(o))return[s,o]},WAe=ce([lN,ri,_Ae,uN,$n],Tq,{memoizeOptions:{resultEqualityCheck:nS}});function UAe(e){var{value:t}=e;if(jo(t)||t instanceof Date)return t}var $Ae=(e,t,n)=>{var r=e.map(UAe).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&BU(r))?l$(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},kq=e=>e.referenceElements.dots,Yf=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),qAe=ce([kq,$n,eS],Yf),Aq=e=>e.referenceElements.areas,KAe=ce([Aq,$n,eS],Yf),Pq=e=>e.referenceElements.lines,YAe=ce([Pq,$n,eS],Yf),Nq=(e,t)=>{var n=ol(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},QAe=ce(qAe,$n,Nq),Oq=(e,t)=>{var n=ol(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},XAe=ce([KAe,$n],Oq);function JAe(e){var t;if(e.x!=null)return ol([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return n==null||n.length===0?[]:ol(n)}function ZAe(e){var t;if(e.y!=null)return ol([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return n==null||n.length===0?[]:ol(n)}var Fq=(e,t)=>{var n=e.flatMap(r=>t==="xAxis"?JAe(r):ZAe(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},ePe=ce([YAe,$n],Fq),tPe=ce(QAe,ePe,XAe,(e,t,n)=>Lb(e,n,t)),Iq=(e,t,n,r,i,s,o,a)=>{if(n!=null)return n;var l=o==="vertical"&&a==="xAxis"||o==="horizontal"&&a==="yAxis",c=l?Lb(r,s,i):Lb(s,i);return hAe(t,c,e.allowDataOverflow)},nPe=ce([ri,Rq,Mq,GAe,WAe,tPe,Lt,$n],Iq,{memoizeOptions:{resultEqualityCheck:nS}}),rPe=[0,1],Lq=(e,t,n,r,i,s,o)=>{if(!((e==null||n==null||n.length===0)&&o===void 0)){var{dataKey:a,type:l}=e,c=xd(t,s);if(c&&a==null){var d;return l$(0,(d=n?.length)!==null&&d!==void 0?d:0)}return l==="category"?$Ae(r,e,c):i==="expand"?rPe:o}},dN=ce([ri,Lt,lN,iS,Xx,$n,nPe],Lq),_q=(e,t,n,r,i)=>{if(e!=null){var{scale:s,type:o}=e;if(s==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":o==="category"?"band":"linear";if(typeof s=="string"){var a="scale".concat(nv(s));return a in Cg?a:"point"}}},mv=ce([ri,Lt,gq,ZP,$n],_q);function iPe(e){if(e!=null){if(e in Cg)return Cg[e]();var t="scale".concat(nv(e));if(t in Cg)return Cg[t]()}}function hN(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var i=iPe(t);if(i!=null){var s=i.domain(n).range(r);return KDe(s),s}}}var jq=(e,t,n)=>{var r=cN(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Tc(e))return CAe(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Tc(e))return xAe(e,t.tickCount,t.allowDecimals)}},fN=ce([dN,fv,mv],jq),Bq=(e,t,n,r)=>{if(r!=="angleAxis"&&e?.type==="number"&&Tc(t)&&Array.isArray(n)&&n.length>0){var i=t[0],s=n[0],o=t[1],a=n[n.length-1];return[Math.min(i,s),Math.max(o,a)]}return t},sPe=ce([ri,dN,fN,$n],Bq),oPe=ce(iS,ri,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(ol(e.map(a=>a.value))).sort((a,l)=>a-l);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var s=0;s<r.length-1;s++){var o=r[s+1]-r[s];n=Math.min(n,o)}return n/i}}),Hq=ce(oPe,Lt,iq,or,(e,t,n,r)=>r,(e,t,n,r,i)=>{if(!Pn(e))return 0;var s=t==="vertical"?r.height:r.width;if(i==="gap")return e*s/2;if(i==="no-gap"){var o=eo(n,e*s),a=e*s/2;return a-o-(a-o)/s*o}return 0}),aPe=(e,t)=>{var n=ml(e,t);return n==null||typeof n.padding!="string"?0:Hq(e,"xAxis",t,n.padding)},lPe=(e,t)=>{var n=vl(e,t);return n==null||typeof n.padding!="string"?0:Hq(e,"yAxis",t,n.padding)},cPe=ce(ml,aPe,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),uPe=ce(vl,lPe,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),dPe=ce([or,cPe,jx,_x,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:s}=r;return i?[s.left,n.width-s.right]:[e.left+t.left,e.left+e.width-t.right]}),hPe=ce([or,Lt,uPe,jx,_x,(e,t,n)=>n],(e,t,n,r,i,s)=>{var{padding:o}=i;return s?[r.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),vv=(e,t,n,r)=>{var i;switch(t){case"xAxis":return dPe(e,n,r);case"yAxis":return hPe(e,n,r);case"zAxis":return(i=oN(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return cq(e);case"radiusAxis":return uq(e,n);default:return}},zq=ce([ri,vv],Jx),Qf=ce([ri,mv,sPe,zq],hN);ce([pv,uN,$n],VAe);function Gq(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var sS=(e,t)=>t,oS=(e,t,n)=>n,fPe=ce(Ix,sS,oS,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(Gq)),pPe=ce(Lx,sS,oS,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(Gq)),Vq=(e,t)=>({width:e.width,height:t.height}),gPe=(e,t)=>{var n=typeof t.width=="number"?t.width:av;return{width:n,height:e.height}},Wq=ce(or,ml,Vq),mPe=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},vPe=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},yPe=ce(pl,or,fPe,sS,oS,(e,t,n,r,i)=>{var s={},o;return n.forEach(a=>{var l=Vq(t,a);o==null&&(o=mPe(t,r,e));var c=r==="top"&&!i||r==="bottom"&&i;s[a.id]=o-Number(c)*l.height,o+=(c?-1:1)*l.height}),s}),wPe=ce(fl,or,pPe,sS,oS,(e,t,n,r,i)=>{var s={},o;return n.forEach(a=>{var l=gPe(t,a);o==null&&(o=vPe(t,r,e));var c=r==="left"&&!i||r==="right"&&i;s[a.id]=o-Number(c)*l.width,o+=(c?-1:1)*l.width}),s}),bPe=(e,t)=>{var n=ml(e,t);if(n!=null)return yPe(e,n.orientation,n.mirror)},CPe=ce([or,ml,bPe,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n?.[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),xPe=(e,t)=>{var n=vl(e,t);if(n!=null)return wPe(e,n.orientation,n.mirror)},SPe=ce([or,vl,xPe,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n?.[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),Uq=ce(or,vl,(e,t)=>{var n=typeof t.width=="number"?t.width:av;return{width:n,height:e.height}}),W5=(e,t,n)=>{switch(t){case"xAxis":return Wq(e,n).width;case"yAxis":return Uq(e,n).height;default:return}},$q=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:s,dataKey:o}=n,a=xd(e,r),l=t.map(c=>c.value);if(o&&a&&s==="category"&&i&&BU(l))return l}},pN=ce([Lt,iS,ri,$n],$q),qq=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:s}=n,o=xd(e,r);if(o&&(i==="number"||s!=="auto"))return t.map(a=>a.value)}},gN=ce([Lt,iS,fv,$n],qq),U5=ce([Lt,IAe,mv,Qf,pN,gN,vv,fN,$n],(e,t,n,r,i,s,o,a,l)=>{if(t!=null){var c=xd(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:s,duplicateDomain:i,isCategorical:c,niceTicks:a,range:o,realScaleType:n,scale:r}}}),EPe=(e,t,n,r,i,s,o,a,l)=>{if(!(t==null||r==null)){var c=xd(e,l),{type:d,ticks:f,tickCount:p}=t,v=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,y=d==="category"&&r.bandwidth?r.bandwidth()/v:0;y=l==="angleAxis"&&s!=null&&s.length>=2?mi(s[0]-s[1])*2*y:y;var b=f||i;if(b){var x=b.map((S,M)=>{var R=o?o.indexOf(S):S;return{index:M,coordinate:r(R)+y,value:S,offset:y}});return x.filter(S=>Pn(S.coordinate))}return c&&a?a.map((S,M)=>({coordinate:r(S)+y,value:S,index:M,offset:y})).filter(S=>Pn(S.coordinate)):r.ticks?r.ticks(p).map(S=>({coordinate:r(S)+y,value:S,offset:y})):r.domain().map((S,M)=>({coordinate:r(S)+y,value:o?o[S]:S,index:M,offset:y}))}},Kq=ce([Lt,fv,mv,Qf,fN,vv,pN,gN,$n],EPe),DPe=(e,t,n,r,i,s,o)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var a=xd(e,o),{tickCount:l}=t,c=0;return c=o==="angleAxis"&&r?.length>=2?mi(r[0]-r[1])*2*c:c,a&&s?s.map((d,f)=>({coordinate:n(d)+c,value:d,index:f,offset:c})):n.ticks?n.ticks(l).map(d=>({coordinate:n(d)+c,value:d,offset:c})):n.domain().map((d,f)=>({coordinate:n(d)+c,value:i?i[d]:d,index:f,offset:c}))}},yf=ce([Lt,fv,Qf,vv,pN,gN,$n],DPe),wf=ce(ri,Qf,(e,t)=>{if(!(e==null||t==null))return Ib(Ib({},e),{},{scale:t})}),RPe=ce([ri,mv,dN,zq],hN);ce((e,t,n)=>oN(e,n),RPe,(e,t)=>{if(!(e==null||t==null))return Ib(Ib({},e),{},{scale:t})});var MPe=ce([Lt,Ix,Lx],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),Yq=e=>e.options.defaultTooltipEventType,Qq=e=>e.options.validateTooltipEventTypes;function Xq(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function mN(e,t){var n=Yq(e),r=Qq(e);return Xq(t,n,r)}function TPe(e){return Le(t=>mN(t,e))}var Jq=(e,t)=>{var n,r=Number(t);if(!(Zs(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},kPe=e=>e.tooltip.settings,lc={active:!1,index:null,dataKey:void 0,coordinate:void 0},APe={itemInteraction:{click:lc,hover:lc},axisInteraction:{click:lc,hover:lc},keyboardInteraction:lc,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},Zq=Ei({name:"tooltip",initialState:APe,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:ln()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Ys(e).tooltipItemPayloads.indexOf(n);i>-1&&(e.tooltipItemPayloads[i]=r)},prepare:ln()},removeTooltipEntrySettings:{reducer(e,t){var n=Ys(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:ln()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:PPe,replaceTooltipEntrySettings:NPe,removeTooltipEntrySettings:OPe,setTooltipSettingsState:FPe,setActiveMouseOverItemIndex:eK,mouseLeaveItem:IPe,mouseLeaveChart:tK,setActiveClickItemIndex:LPe,setMouseOverAxisIndex:nK,setMouseClickAxisIndex:_Pe,setSyncInteraction:KT,setKeyboardInteraction:YT}=Zq.actions,jPe=Zq.reducer;function $5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function v0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$5(Object(n),!0).forEach(function(r){BPe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function BPe(e,t,n){return(t=HPe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HPe(e){var t=zPe(e,"string");return typeof t=="symbol"?t:t+""}function zPe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function GPe(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function VPe(e){return e.index!=null}var rK=(e,t,n,r)=>{if(t==null)return lc;var i=GPe(e,t,n);if(i==null)return lc;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var s=e.settings.active===!0;if(VPe(i)){if(s)return v0(v0({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return v0(v0({},lc),{},{coordinate:i.coordinate})};function WPe(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function UPe(e,t){var n=WPe(e),r=t[0],i=t[1];if(n===void 0)return!1;var s=Math.min(r,i),o=Math.max(r,i);return n>=s&&n<=o}function $Pe(e,t,n){if(n==null||t==null)return!0;var r=Fr(e,t);return r==null||!Tc(n)?!0:UPe(r,n)}var vN=(e,t,n,r)=>{var i=e?.index;if(i==null)return null;var s=Number(i);if(!Pn(s))return i;var o=0,a=1/0;t.length>0&&(a=t.length-1);var l=Math.max(o,Math.min(s,a)),c=t[l];return c==null||$Pe(c,n,r)?String(l):null},iK=(e,t,n,r,i,s,o,a)=>{if(!(s==null||a==null)){var l=o[0],c=l==null?void 0:a(l.positions,s);if(c!=null)return c;var d=i?.[Number(s)];if(d)switch(n){case"horizontal":return{x:d.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:d.coordinate}}}},sK=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&r!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(s=>{var o;return((o=s.settings)===null||o===void 0?void 0:o.dataKey)===i})},yv=e=>e.options.tooltipPayloadSearcher,Xf=e=>e.tooltip;function q5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function K5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?q5(Object(n),!0).forEach(function(r){qPe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qPe(e,t,n){return(t=KPe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KPe(e){var t=YPe(e,"string");return typeof t=="symbol"?t:t+""}function YPe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function QPe(e,t){return e??t}var oK=(e,t,n,r,i,s,o)=>{if(!(t==null||s==null)){var{chartData:a,computedData:l,dataStartIndex:c,dataEndIndex:d}=n,f=[];return e.reduce((p,v)=>{var y,{dataDefinedOnItem:b,settings:x}=v,S=QPe(b,a),M=Array.isArray(S)?F9(S,c,d):S,R=(y=x?.dataKey)!==null&&y!==void 0?y:r,T=x?.nameKey,k;if(r&&Array.isArray(M)&&!Array.isArray(M[0])&&o==="axis"?k=R1e(M,r,i):k=s(M,t,l,T),Array.isArray(k))k.forEach(A=>{var O=K5(K5({},x),{},{name:A.name,unit:A.unit,color:void 0,fill:void 0});p.push(p6({tooltipEntrySettings:O,dataKey:A.dataKey,payload:A.payload,value:Fr(A.payload,A.dataKey),name:A.name}))});else{var P;p.push(p6({tooltipEntrySettings:x,dataKey:R,payload:k,value:Fr(k,R),name:(P=Fr(k,T))!==null&&P!==void 0?P:x?.name}))}return p},f)}},yN=ce([Kn,Lt,gq,ZP,qn],_q),XPe=ce([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),JPe=ce([qn,Kf],mq),wv=ce([XPe,Kn,JPe],vq,{memoizeOptions:{resultEqualityCheck:rS}}),ZPe=ce([wv],e=>e.filter(tS)),eNe=ce([wv],bq,{memoizeOptions:{resultEqualityCheck:rS}}),Jf=ce([eNe,Gc],Cq),tNe=ce([ZPe,Gc,Kn],hq),wN=ce([Jf,Kn,wv],xq),aK=ce([Kn],cN),nNe=ce([Kn],e=>e.allowDataOverflow),lK=ce([aK,nNe],V$),rNe=ce([wv],e=>e.filter(tS)),iNe=ce([tNe,rNe,Xx,sq],Eq),sNe=ce([iNe,Gc,qn,lK],Dq),oNe=ce([wv],wq),aNe=ce([Jf,Kn,oNe,uN,qn],Tq,{memoizeOptions:{resultEqualityCheck:nS}}),lNe=ce([kq,qn,Kf],Yf),cNe=ce([lNe,qn],Nq),uNe=ce([Aq,qn,Kf],Yf),dNe=ce([uNe,qn],Oq),hNe=ce([Pq,qn,Kf],Yf),fNe=ce([hNe,qn],Fq),pNe=ce([cNe,fNe,dNe],Lb),gNe=ce([Kn,aK,lK,sNe,aNe,pNe,Lt,qn],Iq),bv=ce([Kn,Lt,Jf,wN,Xx,qn,gNe],Lq),mNe=ce([bv,Kn,yN],jq),vNe=ce([Kn,bv,mNe,qn],Bq),cK=e=>{var t=qn(e),n=Kf(e),r=!1;return vv(e,t,n,r)},uK=ce([Kn,cK],Jx),dK=ce([Kn,yN,vNe,uK],hN),yNe=ce([Lt,wN,Kn,qn],$q),wNe=ce([Lt,wN,Kn,qn],qq),bNe=(e,t,n,r,i,s,o,a)=>{if(t){var{type:l}=t,c=xd(e,a);if(r){var d=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,f=l==="category"&&r.bandwidth?r.bandwidth()/d:0;return f=a==="angleAxis"&&i!=null&&i?.length>=2?mi(i[0]-i[1])*2*f:f,c&&o?o.map((p,v)=>({coordinate:r(p)+f,value:p,index:v,offset:f})):r.domain().map((p,v)=>({coordinate:r(p)+f,value:s?s[p]:p,index:v,offset:f}))}}},yl=ce([Lt,Kn,yN,dK,cK,yNe,wNe,qn],bNe),bN=ce([Yq,Qq,kPe],(e,t,n)=>Xq(n.shared,e,t)),hK=e=>e.tooltip.settings.trigger,CN=e=>e.tooltip.settings.defaultIndex,aS=ce([Xf,bN,hK,CN],rK),bf=ce([aS,Jf,gv,bv],vN),fK=ce([yl,bf],Jq),pK=ce([aS],e=>{if(e)return e.dataKey}),gK=ce([Xf,bN,hK,CN],sK),CNe=ce([fl,pl,Lt,or,yl,CN,gK,yv],iK),xNe=ce([aS,CNe],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),SNe=ce([aS],e=>e.active),ENe=ce([gK,bf,Gc,gv,fK,yv,bN],oK);ce([ENe],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function Y5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Q5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Y5(Object(n),!0).forEach(function(r){DNe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function DNe(e,t,n){return(t=RNe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RNe(e){var t=MNe(e,"string");return typeof t=="symbol"?t:t+""}function MNe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var TNe=()=>Le(Kn),kNe=()=>{var e=TNe(),t=Le(yl),n=Le(dK);return gb(!e||!n?void 0:Q5(Q5({},e),{},{scale:n}),t)};function X5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?X5(Object(n),!0).forEach(function(r){ANe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ANe(e,t,n){return(t=PNe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PNe(e){var t=NNe(e,"string");return typeof t=="symbol"?t:t+""}function NNe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ONe=(e,t,n,r)=>{var i=t.find(s=>s&&s.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},FNe=(e,t,n,r)=>{var i=t.find(c=>c&&c.index===n);if(i){if(e==="centric"){var s=i.coordinate,{radius:o}=r;return wh(wh(wh({},r),Cr(r.cx,r.cy,o,s)),{},{angle:s,radius:o})}var a=i.coordinate,{angle:l}=r;return wh(wh(wh({},r),Cr(r.cx,r.cy,a,l)),{},{angle:l,radius:a})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function INe(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var mK=(e,t,n,r,i)=>{var s,o=-1,a=(s=t?.length)!==null&&s!==void 0?s:0;if(a<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var l=0;l<a;l++){var c=l>0?n[l-1].coordinate:n[a-1].coordinate,d=n[l].coordinate,f=l>=a-1?n[0].coordinate:n[l+1].coordinate,p=void 0;if(mi(d-c)!==mi(f-d)){var v=[];if(mi(f-d)===mi(i[1]-i[0])){p=f;var y=d+i[1]-i[0];v[0]=Math.min(y,(y+c)/2),v[1]=Math.max(y,(y+c)/2)}else{p=c;var b=f+i[1]-i[0];v[0]=Math.min(d,(b+d)/2),v[1]=Math.max(d,(b+d)/2)}var x=[Math.min(d,(p+d)/2),Math.max(d,(p+d)/2)];if(e>x[0]&&e<=x[1]||e>=v[0]&&e<=v[1]){({index:o}=n[l]);break}}else{var S=Math.min(c,f),M=Math.max(c,f);if(e>(S+d)/2&&e<=(M+d)/2){({index:o}=n[l]);break}}}else if(t){for(var R=0;R<a;R++)if(R===0&&e<=(t[R].coordinate+t[R+1].coordinate)/2||R>0&&R<a-1&&e>(t[R].coordinate+t[R-1].coordinate)/2&&e<=(t[R].coordinate+t[R+1].coordinate)/2||R===a-1&&e>(t[R].coordinate+t[R-1].coordinate)/2){({index:o}=t[R]);break}}return o},LNe=()=>Le(ZP),xN=(e,t)=>t,vK=(e,t,n)=>n,SN=(e,t,n,r)=>r,_Ne=ce(yl,e=>Rx(e,t=>t.coordinate)),EN=ce([Xf,xN,vK,SN],rK),DN=ce([EN,Jf,gv,bv],vN),jNe=(e,t,n)=>{if(t!=null){var r=Xf(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},yK=ce([Xf,xN,vK,SN],sK),_b=ce([fl,pl,Lt,or,yl,SN,yK,yv],iK),BNe=ce([EN,_b],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),wK=ce([yl,DN],Jq),HNe=ce([yK,DN,Gc,gv,wK,yv,xN],oK),zNe=ce([EN,DN],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),GNe=(e,t,n,r,i,s,o)=>{if(!(!e||!n||!r||!i)&&INe(e,o)){var a=sRe(e,t),l=mK(a,s,i,n,r),c=ONe(t,i,l,e);return{activeIndex:String(l),activeCoordinate:c}}},VNe=(e,t,n,r,i,s,o)=>{if(!(!e||!r||!i||!s||!n)){var a=M2e(e,n);if(a){var l=oRe(a,t),c=mK(l,o,s,r,i),d=FNe(t,s,c,a);return{activeIndex:String(c),activeCoordinate:d}}}},WNe=(e,t,n,r,i,s,o,a)=>{if(!(!e||!t||!r||!i||!s))return t==="horizontal"||t==="vertical"?GNe(e,t,r,i,s,o,a):VNe(e,t,n,r,i,s,o)},UNe=ce(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElementId:r.elementId}}),$Ne=ce(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(qr)),n=Array.from(new Set(t));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:AAe}});function J5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Z5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?J5(Object(n),!0).forEach(function(r){qNe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qNe(e,t,n){return(t=KNe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KNe(e){var t=YNe(e,"string");return typeof t=="symbol"?t:t+""}function YNe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var QNe={},XNe={zIndexMap:Object.values(qr).reduce((e,t)=>Z5(Z5({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),QNe)},JNe=new Set(Object.values(qr));function ZNe(e){return JNe.has(e)}var bK=Ei({name:"zIndex",initialState:XNe,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:ln()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!ZNe(n)&&delete e.zIndexMap[n])},prepare:ln()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:n,elementId:r,isPanorama:i}=t.payload;e.zIndexMap[n]?i?e.zIndexMap[n].panoramaElementId=r:e.zIndexMap[n].elementId=r:e.zIndexMap[n]={consumers:0,elementId:i?void 0:r,panoramaElementId:i?r:void 0}},prepare:ln()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElementId=void 0:e.zIndexMap[n].elementId=void 0)},prepare:ln()}}}),{registerZIndexPortal:eOe,unregisterZIndexPortal:tOe,registerZIndexPortalId:nOe,unregisterZIndexPortalId:rOe}=bK.actions,iOe=bK.reducer;function wl(e){var{zIndex:t,children:n}=e,r=BRe(),i=r&&t!==void 0&&t!==0,s=Di(),o=gn();C.useLayoutEffect(()=>i?(o(eOe({zIndex:t})),()=>{o(tOe({zIndex:t}))}):rv,[o,t,i]);var a=Le(c=>UNe(c,t,s));if(!i)return n;if(!a)return null;var l=document.getElementById(a);return l?md.createPortal(n,l):null}function QT(){return QT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},QT.apply(null,arguments)}function eB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function y0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eB(Object(n),!0).forEach(function(r){sOe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sOe(e,t,n){return(t=oOe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oOe(e){var t=aOe(e,"string");return typeof t=="symbol"?t:t+""}function aOe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lOe(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return C.isValidElement(t)?C.cloneElement(t,r):C.createElement(n,r)}function cOe(e){var t,{coordinate:n,payload:r,index:i,offset:s,tooltipAxisBandSize:o,layout:a,cursor:l,tooltipEventType:c,chartName:d}=e,f=n,p=r,v=i;if(!l||!f||d!=="ScatterChart"&&c!=="axis")return null;var y,b,x;if(d==="ScatterChart")y=f,b=GMe,x=qr.cursorLine;else if(d==="BarChart")y=VMe(a,f,s,o),b=i$,x=qr.cursorRectangle;else if(a==="radial"&&zU(f)){var{cx:S,cy:M,radius:R,startAngle:T,endAngle:k}=s$(f);y={cx:S,cy:M,startAngle:T,endAngle:k,innerRadius:R,outerRadius:R},b=a$,x=qr.cursorLine}else y={points:P2e(a,f,s)},b=Z9,x=qr.cursorLine;var P=typeof l=="object"&&"className"in l?l.className:void 0,A=y0(y0(y0(y0({stroke:"#ccc",pointerEvents:"none"},s),y),ZA(l)),{},{payload:p,payloadIndex:v,className:$e("recharts-tooltip-cursor",P)});return C.createElement(wl,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:x},C.createElement(lOe,{cursor:l,cursorComp:b,cursorProps:A}))}function uOe(e){var t=kNe(),n=W9(),r=Hx(),i=LNe();return t==null||n==null||r==null||i==null?null:C.createElement(cOe,QT({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var CK=C.createContext(null),dOe=()=>C.useContext(CK),cM={exports:{}},tB;function hOe(){return tB||(tB=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function s(l,c,d,f,p){if(typeof d!="function")throw new TypeError("The listener must be a function");var v=new i(d,f||l,p),y=n?n+c:c;return l._events[y]?l._events[y].fn?l._events[y]=[l._events[y],v]:l._events[y].push(v):(l._events[y]=v,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],d,f;if(this._eventsCount===0)return c;for(f in d=this._events)t.call(d,f)&&c.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},a.prototype.listeners=function(c){var d=n?n+c:c,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var p=0,v=f.length,y=new Array(v);p<v;p++)y[p]=f[p].fn;return y},a.prototype.listenerCount=function(c){var d=n?n+c:c,f=this._events[d];return f?f.fn?1:f.length:0},a.prototype.emit=function(c,d,f,p,v,y){var b=n?n+c:c;if(!this._events[b])return!1;var x=this._events[b],S=arguments.length,M,R;if(x.fn){switch(x.once&&this.removeListener(c,x.fn,void 0,!0),S){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,d),!0;case 3:return x.fn.call(x.context,d,f),!0;case 4:return x.fn.call(x.context,d,f,p),!0;case 5:return x.fn.call(x.context,d,f,p,v),!0;case 6:return x.fn.call(x.context,d,f,p,v,y),!0}for(R=1,M=new Array(S-1);R<S;R++)M[R-1]=arguments[R];x.fn.apply(x.context,M)}else{var T=x.length,k;for(R=0;R<T;R++)switch(x[R].once&&this.removeListener(c,x[R].fn,void 0,!0),S){case 1:x[R].fn.call(x[R].context);break;case 2:x[R].fn.call(x[R].context,d);break;case 3:x[R].fn.call(x[R].context,d,f);break;case 4:x[R].fn.call(x[R].context,d,f,p);break;default:if(!M)for(k=1,M=new Array(S-1);k<S;k++)M[k-1]=arguments[k];x[R].fn.apply(x[R].context,M)}}return!0},a.prototype.on=function(c,d,f){return s(this,c,d,f,!1)},a.prototype.once=function(c,d,f){return s(this,c,d,f,!0)},a.prototype.removeListener=function(c,d,f,p){var v=n?n+c:c;if(!this._events[v])return this;if(!d)return o(this,v),this;var y=this._events[v];if(y.fn)y.fn===d&&(!p||y.once)&&(!f||y.context===f)&&o(this,v);else{for(var b=0,x=[],S=y.length;b<S;b++)(y[b].fn!==d||p&&!y[b].once||f&&y[b].context!==f)&&x.push(y[b]);x.length?this._events[v]=x.length===1?x[0]:x:o(this,v)}return this},a.prototype.removeAllListeners=function(c){var d;return c?(d=n?n+c:c,this._events[d]&&o(this,d)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a})(cM)),cM.exports}var fOe=hOe();const pOe=Fs(fOe);var Rm=new pOe,XT="recharts.syncEvent.tooltip",nB="recharts.syncEvent.brush";function gOe(e,t){if(t){var n=Number.parseInt(t,10);if(!Zs(n))return e?.[n]}}var mOe={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},xK=Ei({name:"options",initialState:mOe,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),vOe=xK.reducer,{createEventEmitter:yOe}=xK.actions;function wOe(e){return e.tooltip.syncInteraction}var bOe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},SK=Ei({name:"chartData",initialState:bOe,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:rB,setDataStartEndIndexes:COe,setComputedData:j$e}=SK.actions,xOe=SK.reducer,SOe=["x","y"];function iB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function bh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iB(Object(n),!0).forEach(function(r){EOe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function EOe(e,t,n){return(t=DOe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DOe(e){var t=ROe(e,"string");return typeof t=="symbol"?t:t+""}function ROe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function MOe(e,t){if(e==null)return{};var n,r,i=TOe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function TOe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function kOe(){var e=Le(eN),t=Le(tN),n=gn(),r=Le(oq),i=Le(yl),s=Hx(),o=Bx(),a=Le(l=>l.rootProps.className);C.useEffect(()=>{if(e==null)return rv;var l=(c,d,f)=>{if(t!==f&&e===c){if(r==="index"){var p;if(o&&d!==null&&d!==void 0&&(p=d.payload)!==null&&p!==void 0&&p.coordinate&&d.payload.sourceViewBox){var v=d.payload.coordinate,{x:y,y:b}=v,x=MOe(v,SOe),{x:S,y:M,width:R,height:T}=d.payload.sourceViewBox,k=bh(bh({},x),{},{x:o.x+(R?(y-S)/R:0)*o.width,y:o.y+(T?(b-M)/T:0)*o.height});n(bh(bh({},d),{},{payload:bh(bh({},d.payload),{},{coordinate:k})}))}else n(d);return}if(i!=null){var P;if(typeof r=="function"){var A={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},O=r(i,A);P=i[O]}else r==="value"&&(P=i.find(z=>String(z.value)===d.payload.label));var{coordinate:B}=d.payload;if(P==null||d.payload.active===!1||B==null||o==null){n(KT({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:U,y:_}=B,I=Math.min(U,o.x+o.width),V=Math.min(_,o.y+o.height),F={x:s==="horizontal"?P.coordinate:I,y:s==="horizontal"?V:P.coordinate},L=KT({active:d.payload.active,coordinate:F,dataKey:d.payload.dataKey,index:String(P.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox});n(L)}}};return Rm.on(XT,l),()=>{Rm.off(XT,l)}},[a,n,t,e,r,i,s,o])}function AOe(){var e=Le(eN),t=Le(tN),n=gn();C.useEffect(()=>{if(e==null)return rv;var r=(i,s,o)=>{t!==o&&e===i&&n(COe(s))};return Rm.on(nB,r),()=>{Rm.off(nB,r)}},[n,t,e])}function POe(){var e=gn();C.useEffect(()=>{e(yOe())},[e]),kOe(),AOe()}function NOe(e,t,n,r,i,s){var o=Le(v=>jNe(v,e,t)),a=Le(tN),l=Le(eN),c=Le(oq),d=Le(wOe),f=d?.active,p=Bx();C.useEffect(()=>{if(!f&&l!=null&&a!=null){var v=KT({active:s,coordinate:n,dataKey:o,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:p});Rm.emit(XT,l,v,a)}},[f,n,o,i,r,a,l,c,s,p])}function sB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function oB(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sB(Object(n),!0).forEach(function(r){OOe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function OOe(e,t,n){return(t=FOe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FOe(e){var t=IOe(e,"string");return typeof t=="symbol"?t:t+""}function IOe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function LOe(e){return e.dataKey}function _Oe(e,t){return C.isValidElement(e)?C.cloneElement(e,t):typeof e=="function"?C.createElement(e,t):C.createElement(bMe,t)}var aB=[],jOe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Wf.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function EK(e){var t,n,r=ni(e,jOe),{active:i,allowEscapeViewBox:s,animationDuration:o,animationEasing:a,content:l,filterNull:c,isAnimationActive:d,offset:f,payloadUniqBy:p,position:v,reverseDirection:y,useTranslate3d:b,wrapperStyle:x,cursor:S,shared:M,trigger:R,defaultIndex:T,portal:k,axisId:P}=r,A=gn(),O=typeof T=="number"?String(T):T;C.useEffect(()=>{A(FPe({shared:M,trigger:R,axisId:P,active:i,defaultIndex:O}))},[A,M,R,P,i,O]);var B=Bx(),U=J9(),_=TPe(M),{activeIndex:I,isActive:V}=(t=Le(Ce=>zNe(Ce,_,R,O)))!==null&&t!==void 0?t:{},F=Le(Ce=>HNe(Ce,_,R,O)),L=Le(Ce=>wK(Ce,_,R,O)),z=Le(Ce=>BNe(Ce,_,R,O)),j=F,$=dOe(),W=(n=i??V)!==null&&n!==void 0?n:!1,[K,H]=i9([j,W]),Y=_==="axis"?L:void 0;NOe(_,R,z,Y,I,W);var Z=k??$;if(Z==null||B==null||_==null)return null;var X=j??aB;W||(X=aB),c&&X.length&&(X=XU(X.filter(Ce=>Ce.value!=null&&(Ce.hide!==!0||r.includeHidden)),p,LOe));var fe=X.length>0,pe=C.createElement(MMe,{allowEscapeViewBox:s,animationDuration:o,animationEasing:a,isAnimationActive:d,active:W,coordinate:z,hasPayload:fe,offset:f,position:v,reverseDirection:y,useTranslate3d:b,viewBox:B,wrapperStyle:x,lastBoundingBox:K,innerRef:H,hasPortalFromProps:!!k},_Oe(l,oB(oB({},r),{},{payload:X,label:Y,active:W,activeIndex:I,coordinate:z,accessibilityLayer:U})));return C.createElement(C.Fragment,null,md.createPortal(pe,Z),W&&C.createElement(uOe,{cursor:S,tooltipEventType:_,coordinate:z,payload:X,index:I}))}var DK=e=>null;DK.displayName="Cell";function BOe(e,t,n){return(t=HOe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HOe(e){var t=zOe(e,"string");return typeof t=="symbol"?t:t+""}function zOe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class GOe{constructor(t){BOe(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function lB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function VOe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lB(Object(n),!0).forEach(function(r){WOe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function WOe(e,t,n){return(t=UOe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UOe(e){var t=$Oe(e,"string");return typeof t=="symbol"?t:t+""}function $Oe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qOe={cacheSize:2e3,enableCache:!0},RK=VOe({},qOe),cB=new GOe(RK.cacheSize),KOe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},uB="recharts_measurement_span";function YOe(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",s=t.fontStyle||"",o=t.letterSpacing||"",a=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(s,"|").concat(o,"|").concat(a)}var dB=(e,t)=>{try{var n=document.getElementById(uB);n||(n=document.createElement("span"),n.setAttribute("id",uB),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,KOe,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},_g=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Wf.isSsr)return{width:0,height:0};if(!RK.enableCache)return dB(t,n);var r=YOe(t,n),i=cB.get(r);if(i)return i;var s=dB(t,n);return cB.set(r,s),s},hB=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,fB=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,QOe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,XOe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,MK={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},JOe=Object.keys(MK),Lh="NaN";function ZOe(e,t){return e*MK[t]}class pi{static parse(t){var n,[,r,i]=(n=XOe.exec(t))!==null&&n!==void 0?n:[];return new pi(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,Zs(t)&&(this.unit=""),n!==""&&!QOe.test(n)&&(this.num=NaN,this.unit=""),JOe.includes(n)&&(this.num=ZOe(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new pi(NaN,""):new pi(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new pi(NaN,""):new pi(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new pi(NaN,""):new pi(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new pi(NaN,""):new pi(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Zs(this.num)}}function TK(e){if(e.includes(Lh))return Lh;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,s]=(n=hB.exec(t))!==null&&n!==void 0?n:[],o=pi.parse(r??""),a=pi.parse(s??""),l=i==="*"?o.multiply(a):o.divide(a);if(l.isNaN())return Lh;t=t.replace(hB,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var c,[,d,f,p]=(c=fB.exec(t))!==null&&c!==void 0?c:[],v=pi.parse(d??""),y=pi.parse(p??""),b=f==="+"?v.add(y):v.subtract(y);if(b.isNaN())return Lh;t=t.replace(fB,b.toString())}return t}var pB=/\(([^()]*)\)/;function eFe(e){for(var t=e,n;(n=pB.exec(t))!=null;){var[,r]=n;t=t.replace(pB,TK(r))}return t}function tFe(e){var t=e.replace(/\s+/g,"");return t=eFe(t),t=TK(t),t}function nFe(e){try{return tFe(e)}catch{return Lh}}function uM(e){var t=nFe(e.slice(5,-1));return t===Lh?"":t}var rFe=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],iFe=["dx","dy","angle","className","breakAll"];function JT(){return JT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},JT.apply(null,arguments)}function gB(e,t){if(e==null)return{};var n,r,i=sFe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function sFe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var kK=/[ \f\n\r\t\v\u2028\u2029]+/,AK=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];sr(t)||(n?i=t.toString().split(""):i=t.toString().split(kK));var s=i.map(a=>({word:a,width:_g(a,r).width})),o=n?0:_g("",r).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}};function oFe(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var PK=(e,t,n,r)=>e.reduce((i,s)=>{var{word:o,width:a}=s,l=i[i.length-1];if(l&&a!=null&&(t==null||r||l.width+a+n<Number(t)))l.words.push(o),l.width+=a+n;else{var c={words:[o],width:a};i.push(c)}return i},[]),NK=e=>e.reduce((t,n)=>t.width>n.width?t:n),aFe="",mB=(e,t,n,r,i,s,o,a)=>{var l=e.slice(0,t),c=AK({breakAll:n,style:r,children:l+aFe});if(!c)return[!1,[]];var d=PK(c.wordsWithComputedWidth,s,o,a),f=d.length>i||NK(d).width>Number(s);return[f,d]},lFe=(e,t,n,r,i)=>{var{maxLines:s,children:o,style:a,breakAll:l}=e,c=Ie(s),d=String(o),f=PK(t,r,n,i);if(!c||i)return f;var p=f.length>s||NK(f).width>Number(r);if(!p)return f;for(var v=0,y=d.length-1,b=0,x;v<=y&&b<=d.length-1;){var S=Math.floor((v+y)/2),M=S-1,[R,T]=mB(d,M,l,a,s,r,n,i),[k]=mB(d,S,l,a,s,r,n,i);if(!R&&!k&&(v=S+1),R&&k&&(y=S-1),!R&&k){x=T;break}b++}return x||f},vB=e=>{var t=sr(e)?[]:e.toString().split(kK);return[{words:t,width:void 0}]},cFe=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:s,maxLines:o}=e;if((t||n)&&!Wf.isSsr){var a,l,c=AK({breakAll:s,children:r,style:i});if(c){var{wordsWithComputedWidth:d,spaceWidth:f}=c;a=d,l=f}else return vB(r);return lFe({breakAll:s,children:r,maxLines:o,style:i},a,l,t,!!n)}return vB(r)},OK="#808080",uFe={angle:0,breakAll:!1,capHeight:"0.71em",fill:OK,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},RN=C.forwardRef((e,t)=>{var n=ni(e,uFe),{x:r,y:i,lineHeight:s,capHeight:o,fill:a,scaleToFit:l,textAnchor:c,verticalAnchor:d}=n,f=gB(n,rFe),p=C.useMemo(()=>cFe({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:l,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,l,f.style,f.width]),{dx:v,dy:y,angle:b,className:x,breakAll:S}=f,M=gB(f,iFe);if(!jo(r)||!jo(i)||p.length===0)return null;var R=Number(r)+(Ie(v)?v:0),T=Number(i)+(Ie(y)?y:0);if(!Pn(R)||!Pn(T))return null;var k;switch(d){case"start":k=uM("calc(".concat(o,")"));break;case"middle":k=uM("calc(".concat((p.length-1)/2," * -").concat(s," + (").concat(o," / 2))"));break;default:k=uM("calc(".concat(p.length-1," * -").concat(s,")"));break}var P=[];if(l){var A=p[0].width,{width:O}=f;P.push("scale(".concat(Ie(O)&&Ie(A)?O/A:1,")"))}return b&&P.push("rotate(".concat(b,", ").concat(R,", ").concat(T,")")),P.length&&(M.transform=P.join(" ")),C.createElement("text",JT({},As(M),{ref:t,x:R,y:T,className:$e("recharts-text",x),textAnchor:c,fill:a.includes("url")?OK:a}),p.map((B,U)=>{var _=B.words.join(S?"":" ");return C.createElement("tspan",{x:R,dy:U===0?k:s,key:"".concat(_,"-").concat(U)},_)}))});RN.displayName="Text";var dFe=["labelRef"];function hFe(e,t){if(e==null)return{};var n,r,i=fFe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function fFe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function yB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Rn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yB(Object(n),!0).forEach(function(r){pFe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pFe(e,t,n){return(t=gFe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gFe(e){var t=mFe(e,"string");return typeof t=="symbol"?t:t+""}function mFe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ra(){return Ra=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ra.apply(null,arguments)}var FK=C.createContext(null),vFe=e=>{var{x:t,y:n,upperWidth:r,lowerWidth:i,width:s,height:o,children:a}=e,l=C.useMemo(()=>({x:t,y:n,upperWidth:r,lowerWidth:i,width:s,height:o}),[t,n,r,i,s,o]);return C.createElement(FK.Provider,{value:l},a)},IK=()=>{var e=C.useContext(FK),t=Bx();return e||V9(t)},yFe=C.createContext(null),wFe=()=>{var e=C.useContext(yFe),t=Le(dq);return e||t},bFe=e=>{var{value:t,formatter:n}=e,r=sr(e.children)?t:e.children;return typeof n=="function"?n(r):r},MN=e=>e!=null&&typeof e=="function",CFe=(e,t)=>{var n=mi(t-e),r=Math.min(Math.abs(t-e),360);return n*r},xFe=(e,t,n,r,i)=>{var{offset:s,className:o}=e,{cx:a,cy:l,innerRadius:c,outerRadius:d,startAngle:f,endAngle:p,clockWise:v}=i,y=(c+d)/2,b=CFe(f,p),x=b>=0?1:-1,S,M;switch(t){case"insideStart":S=f+x*s,M=v;break;case"insideEnd":S=p-x*s,M=!v;break;case"end":S=p+x*s,M=v;break;default:throw new Error("Unsupported position ".concat(t))}M=b<=0?M:!M;var R=Cr(a,l,y,S),T=Cr(a,l,y,S+(M?1:-1)*359),k="M".concat(R.x,",").concat(R.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(M?0:1,`,
    `).concat(T.x,",").concat(T.y),P=sr(e.id)?fm("recharts-radial-line-"):e.id;return C.createElement("text",Ra({},r,{dominantBaseline:"central",className:$e("recharts-radial-bar-label",o)}),C.createElement("defs",null,C.createElement("path",{id:P,d:k})),C.createElement("textPath",{xlinkHref:"#".concat(P)},n))},SFe=(e,t,n)=>{var{cx:r,cy:i,innerRadius:s,outerRadius:o,startAngle:a,endAngle:l}=e,c=(a+l)/2;if(n==="outside"){var{x:d,y:f}=Cr(r,i,o+t,c);return{x:d,y:f,textAnchor:d>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var p=(s+o)/2,{x:v,y}=Cr(r,i,p,c);return{x:v,y,textAnchor:"middle",verticalAnchor:"middle"}},ZT=e=>"cx"in e&&Ie(e.cx),EFe=(e,t)=>{var{parentViewBox:n,offset:r,position:i}=e,s;n!=null&&!ZT(n)&&(s=n);var{x:o,y:a,upperWidth:l,lowerWidth:c,height:d}=t,f=o,p=o+(l-c)/2,v=(f+p)/2,y=(l+c)/2,b=f+l/2,x=d>=0?1:-1,S=x*r,M=x>0?"end":"start",R=x>0?"start":"end",T=l>=0?1:-1,k=T*r,P=T>0?"end":"start",A=T>0?"start":"end";if(i==="top"){var O={x:f+l/2,y:a-S,textAnchor:"middle",verticalAnchor:M};return Rn(Rn({},O),s?{height:Math.max(a-s.y,0),width:l}:{})}if(i==="bottom"){var B={x:p+c/2,y:a+d+S,textAnchor:"middle",verticalAnchor:R};return Rn(Rn({},B),s?{height:Math.max(s.y+s.height-(a+d),0),width:c}:{})}if(i==="left"){var U={x:v-k,y:a+d/2,textAnchor:P,verticalAnchor:"middle"};return Rn(Rn({},U),s?{width:Math.max(U.x-s.x,0),height:d}:{})}if(i==="right"){var _={x:v+y+k,y:a+d/2,textAnchor:A,verticalAnchor:"middle"};return Rn(Rn({},_),s?{width:Math.max(s.x+s.width-_.x,0),height:d}:{})}var I=s?{width:y,height:d}:{};return i==="insideLeft"?Rn({x:v+k,y:a+d/2,textAnchor:A,verticalAnchor:"middle"},I):i==="insideRight"?Rn({x:v+y-k,y:a+d/2,textAnchor:P,verticalAnchor:"middle"},I):i==="insideTop"?Rn({x:f+l/2,y:a+S,textAnchor:"middle",verticalAnchor:R},I):i==="insideBottom"?Rn({x:p+c/2,y:a+d-S,textAnchor:"middle",verticalAnchor:M},I):i==="insideTopLeft"?Rn({x:f+k,y:a+S,textAnchor:A,verticalAnchor:R},I):i==="insideTopRight"?Rn({x:f+l-k,y:a+S,textAnchor:P,verticalAnchor:R},I):i==="insideBottomLeft"?Rn({x:p+k,y:a+d-S,textAnchor:A,verticalAnchor:M},I):i==="insideBottomRight"?Rn({x:p+c-k,y:a+d-S,textAnchor:P,verticalAnchor:M},I):i&&typeof i=="object"&&(Ie(i.x)||tl(i.x))&&(Ie(i.y)||tl(i.y))?Rn({x:o+eo(i.x,y),y:a+eo(i.y,d),textAnchor:"end",verticalAnchor:"end"},I):Rn({x:b,y:a+d/2,textAnchor:"middle",verticalAnchor:"middle"},I)},DFe={angle:0,offset:5,zIndex:qr.label,position:"middle",textBreakAll:!1};function rc(e){var t=ni(e,DFe),{viewBox:n,position:r,value:i,children:s,content:o,className:a="",textBreakAll:l,labelRef:c}=t,d=wFe(),f=IK(),p=r==="center"?f:d??f,v,y,b;if(n==null?v=p:ZT(n)?v=n:v=V9(n),!v||sr(i)&&sr(s)&&!C.isValidElement(o)&&typeof o!="function")return null;var x=Rn(Rn({},t),{},{viewBox:v});if(C.isValidElement(o)){var{labelRef:S}=x,M=hFe(x,dFe);return C.cloneElement(o,M)}if(typeof o=="function"){if(y=C.createElement(o,x),C.isValidElement(y))return y}else y=bFe(t);var R=As(t);if(ZT(v)){if(r==="insideStart"||r==="insideEnd"||r==="end")return xFe(t,r,y,R,v);b=SFe(v,t.offset,t.position)}else b=EFe(t,v);return C.createElement(wl,{zIndex:t.zIndex},C.createElement(RN,Ra({ref:c,className:$e("recharts-label",a)},R,b,{textAnchor:oFe(R.textAnchor)?R.textAnchor:b.textAnchor,breakAll:l}),y))}rc.displayName="Label";var RFe=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?C.createElement(rc,Ra({key:"label-implicit"},r)):jo(e)?C.createElement(rc,Ra({key:"label-implicit",value:e},r)):C.isValidElement(e)?e.type===rc?C.cloneElement(e,Rn({key:"label-implicit"},r)):C.createElement(rc,Ra({key:"label-implicit",content:e},r)):MN(e)?C.createElement(rc,Ra({key:"label-implicit",content:e},r)):e&&typeof e=="object"?C.createElement(rc,Ra({},e,{key:"label-implicit"},r)):null};function MFe(e){var{label:t,labelRef:n}=e,r=IK();return RFe(t,r,n)||null}var dM={},hM={},wB;function TFe(){return wB||(wB=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(hM)),hM}var fM={},bB;function kFe(){return bB||(bB=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(fM)),fM}var CB;function AFe(){return CB||(CB=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=TFe(),n=kFe(),r=lP();function i(s){if(r.isArrayLike(s))return t.last(n.toArray(s))}e.last=i})(dM)),dM}var pM,xB;function PFe(){return xB||(xB=1,pM=AFe().last),pM}var NFe=PFe();const OFe=Fs(NFe);var FFe=["valueAccessor"],IFe=["dataKey","clockWise","id","textBreakAll","zIndex"];function jb(){return jb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jb.apply(null,arguments)}function SB(e,t){if(e==null)return{};var n,r,i=LFe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function LFe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var _Fe=e=>Array.isArray(e.value)?OFe(e.value):e.value,LK=C.createContext(void 0),jFe=LK.Provider,_K=C.createContext(void 0);_K.Provider;function BFe(){return C.useContext(LK)}function HFe(){return C.useContext(_K)}function fw(e){var{valueAccessor:t=_Fe}=e,n=SB(e,FFe),{dataKey:r,clockWise:i,id:s,textBreakAll:o,zIndex:a}=n,l=SB(n,IFe),c=BFe(),d=HFe(),f=c||d;return!f||!f.length?null:C.createElement(wl,{zIndex:a??qr.label},C.createElement(el,{className:"recharts-label-list"},f.map((p,v)=>{var y,b=sr(r)?t(p,v):Fr(p&&p.payload,r),x=sr(s)?{}:{id:"".concat(s,"-").concat(v)};return C.createElement(rc,jb({key:"label-".concat(v)},As(p),l,x,{fill:(y=n.fill)!==null&&y!==void 0?y:p.fill,parentViewBox:p.parentViewBox,value:b,textBreakAll:o,viewBox:p.viewBox,index:v,zIndex:0}))})))}fw.displayName="LabelList";function zFe(e){var{label:t}=e;return t?t===!0?C.createElement(fw,{key:"labelList-implicit"}):C.isValidElement(t)||MN(t)?C.createElement(fw,{key:"labelList-implicit",content:t}):typeof t=="object"?C.createElement(fw,jb({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}var GFe={radiusAxis:{},angleAxis:{}},jK=Ei({name:"polarAxis",initialState:GFe,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:B$e,removeRadiusAxis:H$e,addAngleAxis:z$e,removeAngleAxis:G$e}=jK.actions,VFe=jK.reducer,gM={exports:{}},Ht={};var EB;function WFe(){if(EB)return Ht;EB=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.for("react.view_transition"),v=Symbol.for("react.client.reference");function y(b){if(typeof b=="object"&&b!==null){var x=b.$$typeof;switch(x){case e:switch(b=b.type,b){case n:case i:case r:case l:case c:case p:return b;default:switch(b=b&&b.$$typeof,b){case o:case a:case f:case d:return b;case s:return b;default:return x}}case t:return x}}}return Ht.ContextConsumer=s,Ht.ContextProvider=o,Ht.Element=e,Ht.ForwardRef=a,Ht.Fragment=n,Ht.Lazy=f,Ht.Memo=d,Ht.Portal=t,Ht.Profiler=i,Ht.StrictMode=r,Ht.Suspense=l,Ht.SuspenseList=c,Ht.isContextConsumer=function(b){return y(b)===s},Ht.isContextProvider=function(b){return y(b)===o},Ht.isElement=function(b){return typeof b=="object"&&b!==null&&b.$$typeof===e},Ht.isForwardRef=function(b){return y(b)===a},Ht.isFragment=function(b){return y(b)===n},Ht.isLazy=function(b){return y(b)===f},Ht.isMemo=function(b){return y(b)===d},Ht.isPortal=function(b){return y(b)===t},Ht.isProfiler=function(b){return y(b)===i},Ht.isStrictMode=function(b){return y(b)===r},Ht.isSuspense=function(b){return y(b)===l},Ht.isSuspenseList=function(b){return y(b)===c},Ht.isValidElementType=function(b){return typeof b=="string"||typeof b=="function"||b===n||b===i||b===r||b===l||b===c||typeof b=="object"&&b!==null&&(b.$$typeof===f||b.$$typeof===d||b.$$typeof===o||b.$$typeof===s||b.$$typeof===a||b.$$typeof===v||b.getModuleId!==void 0)},Ht.typeOf=y,Ht}var DB;function UFe(){return DB||(DB=1,gM.exports=WFe()),gM.exports}var $Fe=UFe(),RB=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",MB=null,mM=null,BK=e=>{if(e===MB&&Array.isArray(mM))return mM;var t=[];return C.Children.forEach(e,n=>{sr(n)||($Fe.isFragment(n)?t=t.concat(BK(n.props.children)):t.push(n))}),mM=t,MB=e,t};function qFe(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(i=>RB(i)):r=[RB(t)],BK(e).forEach(i=>{var s=uf(i,"type.displayName")||uf(i,"type.name");s&&r.indexOf(s)!==-1&&n.push(i)}),n}var vM={},TB;function KFe(){return TB||(TB=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const i=n[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${i}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t})(vM)),vM}var yM,kB;function YFe(){return kB||(kB=1,yM=KFe().isPlainObject),yM}var QFe=YFe();const XFe=Fs(QFe);function AB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function PB(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AB(Object(n),!0).forEach(function(r){JFe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function JFe(e,t,n){return(t=ZFe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZFe(e){var t=eIe(e,"string");return typeof t=="symbol"?t:t+""}function eIe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bb(){return Bb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bb.apply(null,arguments)}var NB=(e,t,n,r,i)=>{var s=n-r,o;return o="M ".concat(e,",").concat(t),o+="L ".concat(e+n,",").concat(t),o+="L ".concat(e+n-s/2,",").concat(t+i),o+="L ".concat(e+n-s/2-r,",").concat(t+i),o+="L ".concat(e,",").concat(t," Z"),o},tIe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},nIe=e=>{var t=ni(e,tIe),{x:n,y:r,upperWidth:i,lowerWidth:s,height:o,className:a}=t,{animationEasing:l,animationDuration:c,animationBegin:d,isUpdateAnimationActive:f}=t,p=C.useRef(null),[v,y]=C.useState(-1),b=C.useRef(i),x=C.useRef(s),S=C.useRef(o),M=C.useRef(n),R=C.useRef(r),T=RP(e,"trapezoid-");if(C.useEffect(()=>{if(p.current&&p.current.getTotalLength)try{var F=p.current.getTotalLength();F&&y(F)}catch{}},[]),n!==+n||r!==+r||i!==+i||s!==+s||o!==+o||i===0&&s===0||o===0)return null;var k=$e("recharts-trapezoid",a);if(!f)return C.createElement("g",null,C.createElement("path",Bb({},As(t),{className:k,d:NB(n,r,i,s,o)})));var P=b.current,A=x.current,O=S.current,B=M.current,U=R.current,_="0px ".concat(v===-1?1:v,"px"),I="".concat(v,"px 0px"),V=e$(["strokeDasharray"],c,l);return C.createElement(DP,{animationId:T,key:T,canBegin:v>0,duration:c,easing:l,isActive:f,begin:d},F=>{var L=mr(P,i,F),z=mr(A,s,F),j=mr(O,o,F),$=mr(B,n,F),W=mr(U,r,F);p.current&&(b.current=L,x.current=z,S.current=j,M.current=$,R.current=W);var K=F>0?{transition:V,strokeDasharray:I}:{strokeDasharray:_};return C.createElement("path",Bb({},As(t),{className:k,d:NB($,W,L,z,j),ref:p,style:PB(PB({},K),t.style)}))})},rIe=["option","shapeType","propTransformer","activeClassName"];function iIe(e,t){if(e==null)return{};var n,r,i=sIe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function sIe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function OB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Hb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OB(Object(n),!0).forEach(function(r){oIe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function oIe(e,t,n){return(t=aIe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aIe(e){var t=lIe(e,"string");return typeof t=="symbol"?t:t+""}function lIe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cIe(e,t){return Hb(Hb({},t),e)}function uIe(e,t){return e==="symbols"}function FB(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return C.createElement(i$,n);case"trapezoid":return C.createElement(nIe,n);case"sector":return C.createElement(a$,n);case"symbols":if(uIe(t))return C.createElement(aP,n);break;case"curve":return C.createElement(Z9,n);default:return null}}function dIe(e){return C.isValidElement(e)?e.props:e}function hIe(e){var{option:t,shapeType:n,propTransformer:r=cIe,activeClassName:i="recharts-active-shape"}=e,s=iIe(e,rIe),o;if(C.isValidElement(t))o=C.cloneElement(t,Hb(Hb({},s),dIe(t)));else if(typeof t=="function")o=t(s);else if(XFe(t)&&typeof t!="boolean"){var a=r(t,s);o=C.createElement(FB,{shapeType:n,elementProps:a})}else{var l=s;o=C.createElement(FB,{shapeType:n,elementProps:l})}return s.isActive?C.createElement(el,{className:i},o):o}var HK=(e,t)=>{var n=gn();return(r,i)=>s=>{e?.(r,i,s),n(eK({activeIndex:String(i),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}},zK=e=>{var t=gn();return(n,r)=>i=>{e?.(n,r,i),t(IPe())}},GK=(e,t)=>{var n=gn();return(r,i)=>s=>{e?.(r,i,s),n(LPe({activeIndex:String(i),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}};function fIe(e){var{tooltipEntrySettings:t}=e,n=gn(),r=Di(),i=C.useRef(null);return C.useLayoutEffect(()=>{r||(i.current===null?n(PPe(t)):i.current!==t&&n(NPe({prev:i.current,next:t})),i.current=t)},[t,n,r]),C.useLayoutEffect(()=>()=>{i.current&&(n(OPe(i.current)),i.current=null)},[n]),null}function pIe(e){var{legendPayload:t}=e,n=gn(),r=Di(),i=C.useRef(null);return C.useLayoutEffect(()=>{r||(i.current===null?n(ZRe(t)):i.current!==t&&n(eMe({prev:i.current,next:t})),i.current=t)},[n,r,t]),C.useLayoutEffect(()=>()=>{i.current&&(n(tMe(i.current)),i.current=null)},[n]),null}var wM,gIe=()=>{var[e]=C.useState(()=>fm("uid-"));return e},mIe=(wM=Vk.useId)!==null&&wM!==void 0?wM:gIe;function VK(e,t){var n=mIe();return t||(e?"".concat(e,"-").concat(n):n)}var vIe=C.createContext(void 0),yIe=e=>{var{id:t,type:n,children:r}=e,i=VK("recharts-".concat(n),t);return C.createElement(vIe.Provider,{value:i},r(i))},wIe={cartesianItems:[],polarItems:[]},WK=Ei({name:"graphicalItems",initialState:wIe,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:ln()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Ys(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},prepare:ln()},removeCartesianGraphicalItem:{reducer(e,t){var n=Ys(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:ln()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:ln()},removePolarGraphicalItem:{reducer(e,t){var n=Ys(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:ln()}}}),{addCartesianGraphicalItem:bIe,replaceCartesianGraphicalItem:CIe,removeCartesianGraphicalItem:xIe,addPolarGraphicalItem:V$e,removePolarGraphicalItem:W$e}=WK.actions,SIe=WK.reducer,EIe=e=>{var t=gn(),n=C.useRef(null);return C.useLayoutEffect(()=>{n.current===null?t(bIe(e)):n.current!==e&&t(CIe({prev:n.current,next:e})),n.current=e},[t,e]),C.useLayoutEffect(()=>()=>{n.current&&(t(xIe(n.current)),n.current=null)},[t]),null},DIe=C.memo(EIe);function IB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function LB(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?IB(Object(n),!0).forEach(function(r){RIe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function RIe(e,t,n){return(t=MIe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MIe(e){var t=TIe(e,"string");return typeof t=="symbol"?t:t+""}function TIe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kIe={xAxis:{},yAxis:{},zAxis:{}},UK=Ei({name:"cartesianAxis",initialState:kIe,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:ln()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:ln()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:ln()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:ln()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:ln()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:ln()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:ln()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:ln()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:ln()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,i=e.yAxis[n];if(i){var s=i.widthHistory||[];if(s.length===3&&s[0]===s[2]&&r===s[1]&&r!==i.width&&Math.abs(r-s[0])<=1)return;var o=[...s,r].slice(-3);e.yAxis[n]=LB(LB({},e.yAxis[n]),{},{width:r,widthHistory:o})}}}}),{addXAxis:AIe,replaceXAxis:PIe,removeXAxis:NIe,addYAxis:OIe,replaceYAxis:FIe,removeYAxis:IIe,addZAxis:U$e,replaceZAxis:$$e,removeZAxis:q$e,updateYAxisWidth:LIe}=UK.actions,_Ie=UK.reducer,jIe=ce([or],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),BIe=ce([jIe,fl,pl],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),$K=()=>Le(BIe),HIe="Invariant failed";function zIe(e,t){throw new Error(HIe)}var GIe=["x","y"];function ek(){return ek=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ek.apply(null,arguments)}function _B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ug(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_B(Object(n),!0).forEach(function(r){VIe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_B(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function VIe(e,t,n){return(t=WIe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WIe(e){var t=UIe(e,"string");return typeof t=="symbol"?t:t+""}function UIe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $Ie(e,t){if(e==null)return{};var n,r,i=qIe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function qIe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function KIe(e,t){var{x:n,y:r}=e,i=$Ie(e,GIe),s="".concat(n),o=parseInt(s,10),a="".concat(r),l=parseInt(a,10),c="".concat(t.height||i.height),d=parseInt(c,10),f="".concat(t.width||i.width),p=parseInt(f,10);return ug(ug(ug(ug(ug({},t),i),o?{x:o}:{}),l?{y:l}:{}),{},{height:d,width:p,name:t.name,radius:t.radius})}function zb(e){return C.createElement(hIe,ek({shapeType:"rectangle",propTransformer:KIe,activeClassName:"recharts-active-bar"},e))}var YIe=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(Ie(t))return t;var s=Ie(r)||sr(r);return s?t(r,i):(s||zIe(),n)}},QIe={},qK=Ei({name:"errorBars",initialState:QIe,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(s=>s.dataKey===r.dataKey&&s.direction===r.direction?i:s))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:K$e,replaceErrorBar:Y$e,removeErrorBar:Q$e}=qK.actions,XIe=qK.reducer,JIe=["children"];function ZIe(e,t){if(e==null)return{};var n,r,i=eLe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function eLe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var tLe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},nLe=C.createContext(tLe);function rLe(e){var{children:t}=e,n=ZIe(e,JIe);return C.createElement(nLe.Provider,{value:n},t)}function KK(e,t){var n,r,i=Le(c=>ml(c,e)),s=Le(c=>vl(c,t)),o=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:Zn.allowDataOverflow,a=(r=s?.allowDataOverflow)!==null&&r!==void 0?r:er.allowDataOverflow,l=o||a;return{needClip:l,needClipX:o,needClipY:a}}function iLe(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=$K(),{needClipX:s,needClipY:o,needClip:a}=KK(t,n);if(!a||!i)return null;var{x:l,y:c,width:d,height:f}=i;return C.createElement("clipPath",{id:"clipPath-".concat(r)},C.createElement("rect",{x:s?l:l-d/2,y:o?c:c-f/2,width:s?d:d*2,height:o?f:f*2}))}function sLe(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&Pn(e.zIndex)?e.zIndex:t}var bM={exports:{}},CM={};var jB;function oLe(){if(jB)return CM;jB=1;var e=Fc();function t(l,c){return l===c&&(l!==0||1/l===1/c)||l!==l&&c!==c}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,i=e.useRef,s=e.useEffect,o=e.useMemo,a=e.useDebugValue;return CM.useSyncExternalStoreWithSelector=function(l,c,d,f,p){var v=i(null);if(v.current===null){var y={hasValue:!1,value:null};v.current=y}else y=v.current;v=o(function(){function x(k){if(!S){if(S=!0,M=k,k=f(k),p!==void 0&&y.hasValue){var P=y.value;if(p(P,k))return R=P}return R=k}if(P=R,n(M,k))return P;var A=f(k);return p!==void 0&&p(P,A)?(M=k,P):(M=k,R=A)}var S=!1,M,R,T=d===void 0?null:d;return[function(){return x(c())},T===null?void 0:function(){return x(T())}]},[c,d,f,p]);var b=r(l,v[0],v[1]);return s(function(){y.hasValue=!0,y.value=b},[b]),a(b),b},CM}var BB;function aLe(){return BB||(BB=1,bM.exports=oLe()),bM.exports}aLe();function lLe(e){e()}function cLe(){let e=null,t=null;return{clear(){e=null,t=null},notify(){lLe(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var HB={notify(){},get:()=>[]};function uLe(e,t){let n,r=HB,i=0,s=!1;function o(b){d();const x=r.subscribe(b);let S=!1;return()=>{S||(S=!0,x(),f())}}function a(){r.notify()}function l(){y.onStateChange&&y.onStateChange()}function c(){return s}function d(){i++,n||(n=e.subscribe(l),r=cLe())}function f(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=HB)}function p(){s||(s=!0,d())}function v(){s&&(s=!1,f())}const y={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:c,trySubscribe:p,tryUnsubscribe:v,getListeners:()=>r};return y}var dLe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",hLe=dLe(),fLe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",pLe=fLe(),gLe=()=>hLe||pLe?C.useLayoutEffect:C.useEffect,mLe=gLe();function zB(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function vLe(e,t){if(zB(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!zB(e[n[i]],t[n[i]]))return!1;return!0}var yLe=Symbol.for("react-redux-context"),wLe=typeof globalThis<"u"?globalThis:{};function bLe(){if(!C.createContext)return{};const e=wLe[yLe]??=new Map;let t=e.get(C.createContext);return t||(t=C.createContext(null),e.set(C.createContext,t)),t}var CLe=bLe();function xLe(e){const{children:t,context:n,serverState:r,store:i}=e,s=C.useMemo(()=>{const l=uLe(i);return{store:i,subscription:l,getServerState:r?()=>r:void 0}},[i,r]),o=C.useMemo(()=>i.getState(),[i]);mLe(()=>{const{subscription:l}=s;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),o!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[s,o]);const a=n||CLe;return C.createElement(a.Provider,{value:s},t)}var SLe=xLe,ELe=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function DLe(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function TN(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(ELe.has(r)){if(e[r]==null&&t[r]==null)continue;if(!vLe(e[r],t[r]))return!1}else if(!DLe(e[r],t[r]))return!1;return!0}var RLe=["onMouseEnter","onMouseLeave","onClick"],MLe=["value","background","tooltipPosition"],TLe=["id"],kLe=["onMouseEnter","onClick","onMouseLeave"];function al(){return al=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},al.apply(null,arguments)}function GB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Wr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GB(Object(n),!0).forEach(function(r){ALe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ALe(e,t,n){return(t=PLe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PLe(e){var t=NLe(e,"string");return typeof t=="symbol"?t:t+""}function NLe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gb(e,t){if(e==null)return{};var n,r,i=OLe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function OLe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var FLe=e=>{var{dataKey:t,name:n,fill:r,legendType:i,hide:s}=e;return[{inactive:s,dataKey:t,type:i,color:r,value:_9(n,t),payload:e}]},ILe=C.memo(e=>{var{dataKey:t,stroke:n,strokeWidth:r,fill:i,name:s,hide:o,unit:a,tooltipType:l}=e,c={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:t,nameKey:void 0,name:_9(s,t),hide:o,type:l,color:i,unit:a}};return C.createElement(fIe,{tooltipEntrySettings:c})});function LLe(e){var t=Le(bf),{data:n,dataKey:r,background:i,allOtherBarProps:s}=e,{onMouseEnter:o,onMouseLeave:a,onClick:l}=s,c=Gb(s,RLe),d=HK(o,r),f=zK(a),p=GK(l,r);if(!i||n==null)return null;var v=ZA(i);return C.createElement(wl,{zIndex:sLe(i,qr.barBackground)},n.map((y,b)=>{var{value:x,background:S,tooltipPosition:M}=y,R=Gb(y,MLe);if(!S)return null;var T=d(y,b),k=f(y,b),P=p(y,b),A=Wr(Wr(Wr(Wr(Wr({option:i,isActive:String(b)===t},R),{},{fill:"#eee"},S),v),Dx(c,y,b)),{},{onMouseEnter:T,onMouseLeave:k,onClick:P,dataKey:r,index:b,className:"recharts-bar-background-rectangle"});return C.createElement(zb,al({key:"background-bar-".concat(b)},A))}))}function _Le(e){var{showLabels:t,children:n,rects:r}=e,i=r?.map(s=>{var o={x:s.x,y:s.y,width:s.width,lowerWidth:s.width,upperWidth:s.width,height:s.height};return Wr(Wr({},o),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:o,fill:s.fill})});return C.createElement(jFe,{value:t?i:void 0},n)}function jLe(e){var{shape:t,activeBar:n,baseProps:r,entry:i,index:s,dataKey:o}=e,a=Le(bf),l=Le(pK),c=n&&String(s)===a&&(l==null||o===l),d=c?n:t;return c?C.createElement(wl,{zIndex:qr.activeBar},C.createElement(zb,al({},r,{name:String(r.name)},i,{isActive:c,option:d,index:s,dataKey:o}))):C.createElement(zb,al({},r,{name:String(r.name)},i,{isActive:c,option:d,index:s,dataKey:o}))}function BLe(e){var{shape:t,baseProps:n,entry:r,index:i,dataKey:s}=e;return C.createElement(zb,al({},n,{name:String(n.name)},r,{isActive:!1,option:t,index:i,dataKey:s}))}function HLe(e){var t,{data:n,props:r}=e,i=(t=Za(r))!==null&&t!==void 0?t:{},{id:s}=i,o=Gb(i,TLe),{shape:a,dataKey:l,activeBar:c}=r,{onMouseEnter:d,onClick:f,onMouseLeave:p}=r,v=Gb(r,kLe),y=HK(d,l),b=zK(p),x=GK(f,l);return n?C.createElement(C.Fragment,null,n.map((S,M)=>C.createElement(el,al({key:"rectangle-".concat(S?.x,"-").concat(S?.y,"-").concat(S?.value,"-").concat(M),className:"recharts-bar-rectangle"},Dx(v,S,M),{onMouseEnter:y(S,M),onMouseLeave:b(S,M),onClick:x(S,M)}),c?C.createElement(jLe,{shape:a,activeBar:c,baseProps:o,entry:S,index:M,dataKey:l}):C.createElement(BLe,{shape:a,baseProps:o,entry:S,index:M,dataKey:l})))):null}function zLe(e){var{props:t,previousRectanglesRef:n}=e,{data:r,layout:i,isAnimationActive:s,animationBegin:o,animationDuration:a,animationEasing:l,onAnimationEnd:c,onAnimationStart:d}=t,f=n.current,p=RP(t,"recharts-bar-"),[v,y]=C.useState(!1),b=!v,x=C.useCallback(()=>{typeof c=="function"&&c(),y(!1)},[c]),S=C.useCallback(()=>{typeof d=="function"&&d(),y(!0)},[d]);return C.createElement(_Le,{showLabels:b,rects:r},C.createElement(DP,{animationId:p,begin:o,duration:a,isActive:s,easing:l,onAnimationEnd:x,onAnimationStart:S,key:p},M=>{var R=M===1?r:r?.map((T,k)=>{var P=f&&f[k];if(P)return Wr(Wr({},T),{},{x:mr(P.x,T.x,M),y:mr(P.y,T.y,M),width:mr(P.width,T.width,M),height:mr(P.height,T.height,M)});if(i==="horizontal"){var A=mr(0,T.height,M),O=mr(T.stackedBarStart,T.y,M);return Wr(Wr({},T),{},{y:O,height:A})}var B=mr(0,T.width,M),U=mr(T.stackedBarStart,T.x,M);return Wr(Wr({},T),{},{width:B,x:U})});return M>0&&(n.current=R??null),R==null?null:C.createElement(el,null,C.createElement(HLe,{props:t,data:R}))}),C.createElement(zFe,{label:t.label}),t.children)}function GLe(e){var t=C.useRef(null);return C.createElement(zLe,{previousRectanglesRef:t,props:e})}var YK=0,VLe=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:Fr(e,t)}};class WLe extends C.PureComponent{render(){var{hide:t,data:n,dataKey:r,className:i,xAxisId:s,yAxisId:o,needClip:a,background:l,id:c}=this.props;if(t||n==null)return null;var d=$e("recharts-bar",i),f=c;return C.createElement(el,{className:d,id:c},a&&C.createElement("defs",null,C.createElement(iLe,{clipPathId:f,xAxisId:s,yAxisId:o})),C.createElement(el,{className:"recharts-bar-rectangles",clipPath:a?"url(#clipPath-".concat(f,")"):void 0},C.createElement(LLe,{data:n,dataKey:r,background:l,allOtherBarProps:this.props}),C.createElement(GLe,this.props)))}}var ULe={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:YK,xAxisId:0,yAxisId:0,zIndex:qr.bar};function $Le(e){var{xAxisId:t,yAxisId:n,hide:r,legendType:i,minPointSize:s,activeBar:o,animationBegin:a,animationDuration:l,animationEasing:c,isAnimationActive:d}=e,{needClip:f}=KK(t,n),p=Hx(),v=Di(),y=qFe(e.children,DK),b=Le(M=>b3e(M,t,n,v,e.id,y));if(p!=="vertical"&&p!=="horizontal")return null;var x,S=b?.[0];return S==null||S.height==null||S.width==null?x=0:x=p==="vertical"?S.height/2:S.width/2,C.createElement(rLe,{xAxisId:t,yAxisId:n,data:b,dataPointFormatter:VLe,errorBarOffset:x},C.createElement(WLe,al({},e,{layout:p,needClip:f,data:b,xAxisId:t,yAxisId:n,hide:r,legendType:i,minPointSize:s,activeBar:o,animationBegin:a,animationDuration:l,animationEasing:c,isAnimationActive:d})))}function qLe(e){var{layout:t,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:s,xAxis:o,yAxis:a,xAxisTicks:l,yAxisTicks:c,stackedData:d,displayedData:f,offset:p,cells:v,parentViewBox:y,dataStartIndex:b}=e,x=t==="horizontal"?a:o,S=d?x.scale.domain():null,M=tRe({numericAxis:x}),R=x.scale(M);return f.map((T,k)=>{var P,A,O,B,U,_;d?P=YDe(d[k+b],S):(P=Fr(T,n),Array.isArray(P)||(P=[M,P]));var I=YIe(r,YK)(P[1],k);if(t==="horizontal"){var V,[F,L]=[a.scale(P[0]),a.scale(P[1])];A=d6({axis:o,ticks:l,bandSize:s,offset:i.offset,entry:T,index:k}),O=(V=L??F)!==null&&V!==void 0?V:void 0,B=i.size;var z=F-L;if(U=Zs(z)?0:z,_={x:A,y:p.top,width:B,height:p.height},Math.abs(I)>0&&Math.abs(U)<Math.abs(I)){var j=mi(U||I)*(Math.abs(I)-Math.abs(U));O-=j,U+=j}}else{var[$,W]=[o.scale(P[0]),o.scale(P[1])];if(A=$,O=d6({axis:a,ticks:c,bandSize:s,offset:i.offset,entry:T,index:k}),B=W-$,U=i.size,_={x:p.left,y:O,width:p.width,height:U},Math.abs(I)>0&&Math.abs(B)<Math.abs(I)){var K=mi(B||I)*(Math.abs(I)-Math.abs(B));B+=K}}if(A==null||O==null||B==null||U==null)return null;var H=Wr(Wr({},T),{},{stackedBarStart:R,x:A,y:O,width:B,height:U,value:d?P:P[1],payload:T,background:_,tooltipPosition:{x:A+B/2,y:O+U/2},parentViewBox:y},v&&v[k]&&v[k].props);return H}).filter(Boolean)}function KLe(e){var t=ni(e,ULe),n=Di();return C.createElement(yIe,{id:t.id,type:"bar"},r=>C.createElement(C.Fragment,null,C.createElement(pIe,{legendPayload:FLe(t)}),C.createElement(ILe,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),C.createElement(DIe,{type:"bar",id:r,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:eRe(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),C.createElement(wl,{zIndex:t.zIndex},C.createElement($Le,al({},t,{id:r})))))}var kN=C.memo(KLe,TN);kN.displayName="Bar";function VB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function w0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VB(Object(n),!0).forEach(function(r){YLe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function YLe(e,t,n){return(t=QLe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QLe(e){var t=XLe(e,"string");return typeof t=="symbol"?t:t+""}function XLe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var JLe=(e,t)=>t,ZLe=(e,t,n)=>n,e3e=(e,t,n,r)=>r,t3e=(e,t,n,r,i)=>i,Cv=ce([aN,t3e],(e,t)=>e.filter(n=>n.type==="bar").find(n=>n.id===t)),n3e=ce([Cv],e=>e?.maxBarSize),r3e=(e,t,n,r,i,s)=>s,WB=(e,t,n)=>{var r=n??e;if(!sr(r))return eo(r,t,0)},i3e=ce([Lt,aN,JLe,ZLe,e3e],(e,t,n,r,i)=>t.filter(s=>e==="horizontal"?s.xAxisId===n:s.yAxisId===r).filter(s=>s.isPanorama===i).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),s3e=(e,t,n,r)=>{var i=Lt(e);return i==="horizontal"?qT(e,"yAxis",n,r):qT(e,"xAxis",t,r)},o3e=(e,t,n)=>{var r=Lt(e);return r==="horizontal"?W5(e,"xAxis",t):W5(e,"yAxis",n)},a3e=(e,t,n)=>{var r={},i=e.filter(tS),s=e.filter(c=>c.stackId==null),o=i.reduce((c,d)=>(c[d.stackId]||(c[d.stackId]=[]),c[d.stackId].push(d),c),r),a=Object.entries(o).map(c=>{var[d,f]=c,p=f.map(y=>y.dataKey),v=WB(t,n,f[0].barSize);return{stackId:d,dataKeys:p,barSize:v}}),l=s.map(c=>{var d=[c.dataKey].filter(p=>p!=null),f=WB(t,n,c.barSize);return{stackId:void 0,dataKeys:d,barSize:f}});return[...a,...l]},l3e=ce([i3e,EAe,o3e],a3e),c3e=(e,t,n,r,i)=>{var s,o,a=Cv(e,t,n,r,i);if(a!=null){var l=Lt(e),c=rq(e),{maxBarSize:d}=a,f=sr(d)?c:d,p,v;return l==="horizontal"?(p=wf(e,"xAxis",t,r),v=yf(e,"xAxis",t,r)):(p=wf(e,"yAxis",n,r),v=yf(e,"yAxis",n,r)),(s=(o=gb(p,v,!0))!==null&&o!==void 0?o:f)!==null&&s!==void 0?s:0}},QK=(e,t,n,r)=>{var i=Lt(e),s,o;return i==="horizontal"?(s=wf(e,"xAxis",t,r),o=yf(e,"xAxis",t,r)):(s=wf(e,"yAxis",n,r),o=yf(e,"yAxis",n,r)),gb(s,o)};function u3e(e,t,n,r,i){var s=r.length;if(!(s<1)){var o=eo(e,n,0,!0),a,l=[];if(Pn(r[0].barSize)){var c=!1,d=n/s,f=r.reduce((S,M)=>S+(M.barSize||0),0);f+=(s-1)*o,f>=n&&(f-=(s-1)*o,o=0),f>=n&&d>0&&(c=!0,d*=.9,f=s*d);var p=(n-f)/2>>0,v={offset:p-o,size:0};a=r.reduce((S,M)=>{var R,T={stackId:M.stackId,dataKeys:M.dataKeys,position:{offset:v.offset+v.size+o,size:c?d:(R=M.barSize)!==null&&R!==void 0?R:0}},k=[...S,T];return v=k[k.length-1].position,k},l)}else{var y=eo(t,n,0,!0);n-2*y-(s-1)*o<=0&&(o=0);var b=(n-2*y-(s-1)*o)/s;b>1&&(b>>=0);var x=Pn(i)?Math.min(b,i):b;a=r.reduce((S,M,R)=>[...S,{stackId:M.stackId,dataKeys:M.dataKeys,position:{offset:y+(b+o)*R+(b-x)/2,size:x}}],l)}return a}}var d3e=(e,t,n,r,i,s,o)=>{var a=sr(o)?t:o,l=u3e(n,r,i!==s?i:s,e,a);return i!==s&&l!=null&&(l=l.map(c=>w0(w0({},c),{},{position:w0(w0({},c.position),{},{offset:c.position.offset-i/2})}))),l},h3e=ce([l3e,rq,SAe,iq,c3e,QK,n3e],d3e),f3e=(e,t,n,r)=>wf(e,"xAxis",t,r),p3e=(e,t,n,r)=>wf(e,"yAxis",n,r),g3e=(e,t,n,r)=>yf(e,"xAxis",t,r),m3e=(e,t,n,r)=>yf(e,"yAxis",n,r),v3e=ce([h3e,Cv],(e,t)=>{if(!(e==null||t==null)){var n=e.find(r=>r.stackId===t.stackId&&t.dataKey!=null&&r.dataKeys.includes(t.dataKey));if(n!=null)return n.position}}),y3e=(e,t)=>{var n=sN(t);if(!(!e||n==null||t==null)){var{stackId:r}=t;if(r!=null){var i=e[r];if(i){var{stackedData:s}=i;if(s)return s.find(o=>o.key===n)}}}},w3e=ce([s3e,Cv],y3e),b3e=ce([or,yP,f3e,p3e,g3e,m3e,v3e,Lt,QP,QK,w3e,Cv,r3e],(e,t,n,r,i,s,o,a,l,c,d,f,p)=>{var{chartData:v,dataStartIndex:y,dataEndIndex:b}=l;if(!(f==null||o==null||t==null||a!=="horizontal"&&a!=="vertical"||n==null||r==null||i==null||s==null||c==null)){var{data:x}=f,S;if(x!=null&&x.length>0?S=x:S=v?.slice(y,b+1),S!=null)return qLe({layout:a,barSettings:f,pos:o,parentViewBox:t,bandSize:c,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:s,stackedData:d,displayedData:S,offset:e,cells:p,dataStartIndex:y})}}),C3e=e=>{var{chartData:t}=e,n=gn(),r=Di();return C.useEffect(()=>r?()=>{}:(n(rB(t)),()=>{n(rB(void 0))}),[t,n,r]),null},UB={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},XK=Ei({name:"brush",initialState:UB,reducers:{setBrushSettings(e,t){return t.payload==null?UB:t.payload}}}),{setBrushSettings:X$e}=XK.actions,x3e=XK.reducer;function S3e(e,t,n){return(t=E3e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E3e(e){var t=D3e(e,"string");return typeof t=="symbol"?t:t+""}function D3e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class AN{static create(t){return new AN(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(t)+s}default:return this.scale(t)}if(n){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?t>=r&&t<=i:t>=i&&t<=r}}S3e(AN,"EPS",1e-4);function R3e(e){return(e%180+180)%180}var M3e=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=R3e(i),o=s*Math.PI/180,a=Math.atan(r/n),l=o>a&&o<Math.PI-a?r/Math.sin(o):n/Math.cos(o);return Math.abs(l)},T3e={dots:[],areas:[],lines:[]},JK=Ei({name:"referenceElements",initialState:T3e,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=Ys(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=Ys(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=Ys(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:J$e,removeDot:Z$e,addArea:eqe,removeArea:tqe,addLine:nqe,removeLine:rqe}=JK.actions,k3e=JK.reducer,A3e=C.createContext(void 0),P3e=e=>{var{children:t}=e,[n]=C.useState("".concat(fm("recharts"),"-clip")),r=$K();if(r==null)return null;var{x:i,y:s,width:o,height:a}=r;return C.createElement(A3e.Provider,{value:n},C.createElement("defs",null,C.createElement("clipPath",{id:n},C.createElement("rect",{x:i,y:s,height:a,width:o}))),t)};function ZK(e,t){if(t<1)return[];if(t===1)return e;for(var n=[],r=0;r<e.length;r+=t)n.push(e[r]);return n}function N3e(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return M3e(r,n)}function O3e(e,t,n){var r=n==="width",{x:i,y:s,width:o,height:a}=e;return t===1?{start:r?i:s,end:r?i+o:s+a}:{start:r?i+o:s+a,end:r?i:s}}function Vb(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var s=n();return e*(t-e*s/2-r)>=0&&e*(t+e*s/2-i)<=0}function F3e(e,t){return ZK(e,t+1)}function I3e(e,t,n,r,i){for(var s=(r||[]).slice(),{start:o,end:a}=t,l=0,c=1,d=o,f=function(){var y=r?.[l];if(y===void 0)return{v:ZK(r,c)};var b=l,x,S=()=>(x===void 0&&(x=n(y,b)),x),M=y.coordinate,R=l===0||Vb(e,M,S,d,a);R||(l=0,d=o,c+=1),R&&(d=M+e*(S()/2+i),l+=c)},p;c<=s.length;)if(p=f(),p)return p.v;return[]}function $B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Mr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$B(Object(n),!0).forEach(function(r){L3e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$B(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function L3e(e,t,n){return(t=_3e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _3e(e){var t=j3e(e,"string");return typeof t=="symbol"?t:t+""}function j3e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function B3e(e,t,n,r,i){for(var s=(r||[]).slice(),o=s.length,{start:a}=t,{end:l}=t,c=function(p){var v=s[p],y,b=()=>(y===void 0&&(y=n(v,p)),y);if(p===o-1){var x=e*(v.coordinate+e*b()/2-l);s[p]=v=Mr(Mr({},v),{},{tickCoord:x>0?v.coordinate-x*e:v.coordinate})}else s[p]=v=Mr(Mr({},v),{},{tickCoord:v.coordinate});if(v.tickCoord!=null){var S=Vb(e,v.tickCoord,b,a,l);S&&(l=v.tickCoord-e*(b()/2+i),s[p]=Mr(Mr({},v),{},{isShow:!0}))}},d=o-1;d>=0;d--)c(d);return s}function H3e(e,t,n,r,i,s){var o=(r||[]).slice(),a=o.length,{start:l,end:c}=t;if(s){var d=r[a-1],f=n(d,a-1),p=e*(d.coordinate+e*f/2-c);if(o[a-1]=d=Mr(Mr({},d),{},{tickCoord:p>0?d.coordinate-p*e:d.coordinate}),d.tickCoord!=null){var v=Vb(e,d.tickCoord,()=>f,l,c);v&&(c=d.tickCoord-e*(f/2+i),o[a-1]=Mr(Mr({},d),{},{isShow:!0}))}}for(var y=s?a-1:a,b=function(M){var R=o[M],T,k=()=>(T===void 0&&(T=n(R,M)),T);if(M===0){var P=e*(R.coordinate-e*k()/2-l);o[M]=R=Mr(Mr({},R),{},{tickCoord:P<0?R.coordinate-P*e:R.coordinate})}else o[M]=R=Mr(Mr({},R),{},{tickCoord:R.coordinate});if(R.tickCoord!=null){var A=Vb(e,R.tickCoord,k,l,c);A&&(l=R.tickCoord+e*(k()/2+i),o[M]=Mr(Mr({},R),{},{isShow:!0}))}},x=0;x<y;x++)b(x);return o}function PN(e,t,n){var{tick:r,ticks:i,viewBox:s,minTickGap:o,orientation:a,interval:l,tickFormatter:c,unit:d,angle:f}=e;if(!i||!i.length||!r)return[];if(Ie(l)||Wf.isSsr){var p;return(p=F3e(i,Ie(l)?l:0))!==null&&p!==void 0?p:[]}var v=[],y=a==="top"||a==="bottom"?"width":"height",b=d&&y==="width"?_g(d,{fontSize:t,letterSpacing:n}):{width:0,height:0},x=(R,T)=>{var k=typeof c=="function"?c(R.value,T):R.value;return y==="width"?N3e(_g(k,{fontSize:t,letterSpacing:n}),b,f):_g(k,{fontSize:t,letterSpacing:n})[y]},S=i.length>=2?mi(i[1].coordinate-i[0].coordinate):1,M=O3e(s,S,y);return l==="equidistantPreserveStart"?I3e(S,M,x,i,o):(l==="preserveStart"||l==="preserveStartEnd"?v=H3e(S,M,x,i,o,l==="preserveStartEnd"):v=B3e(S,M,x,i,o),v.filter(R=>R.isShow))}var z3e=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:s=0}=e,o=0;if(t){Array.from(t).forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>o&&(o=f.width)}});var a=n?n.getBoundingClientRect().width:0,l=i+s,c=o+l+a+(n?r:0);return Math.round(c)}return 0},G3e=["axisLine","width","height","className","hide","ticks","axisType"];function V3e(e,t){if(e==null)return{};var n,r,i=W3e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function W3e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function od(){return od=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},od.apply(null,arguments)}function qB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ln(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qB(Object(n),!0).forEach(function(r){U3e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function U3e(e,t,n){return(t=$3e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $3e(e){var t=q3e(e,"string");return typeof t=="symbol"?t:t+""}function q3e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ja={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:qr.axis};function K3e(e){var{x:t,y:n,width:r,height:i,orientation:s,mirror:o,axisLine:a,otherSvgProps:l}=e;if(!a)return null;var c=Ln(Ln(Ln({},l),Za(a)),{},{fill:"none"});if(s==="top"||s==="bottom"){var d=+(s==="top"&&!o||s==="bottom"&&o);c=Ln(Ln({},c),{},{x1:t,y1:n+d*i,x2:t+r,y2:n+d*i})}else{var f=+(s==="left"&&!o||s==="right"&&o);c=Ln(Ln({},c),{},{x1:t+f*r,y1:n,x2:t+f*r,y2:n+i})}return C.createElement("line",od({},c,{className:$e("recharts-cartesian-axis-line",uf(a,"className"))}))}function Y3e(e,t,n,r,i,s,o,a,l){var c,d,f,p,v,y,b=a?-1:1,x=e.tickSize||o,S=Ie(e.tickCoord)?e.tickCoord:e.coordinate;switch(s){case"top":c=d=e.coordinate,p=n+ +!a*i,f=p-b*x,y=f-b*l,v=S;break;case"left":f=p=e.coordinate,d=t+ +!a*r,c=d-b*x,v=c-b*l,y=S;break;case"right":f=p=e.coordinate,d=t+ +a*r,c=d+b*x,v=c+b*l,y=S;break;default:c=d=e.coordinate,p=n+ +a*i,f=p+b*x,y=f+b*l,v=S;break}return{line:{x1:c,y1:f,x2:d,y2:p},tick:{x:v,y}}}function Q3e(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function X3e(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function J3e(e){var{option:t,tickProps:n,value:r}=e,i,s=$e(n.className,"recharts-cartesian-axis-tick-value");if(C.isValidElement(t))i=C.cloneElement(t,Ln(Ln({},n),{},{className:s}));else if(typeof t=="function")i=t(Ln(Ln({},n),{},{className:s}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=$e(o,t?.className)),i=C.createElement(RN,od({},n,{className:o}),r)}return i}var Z3e=C.forwardRef((e,t)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:s,tickFormatter:o,unit:a,padding:l,tickTextProps:c,orientation:d,mirror:f,x:p,y:v,width:y,height:b,tickSize:x,tickMargin:S,fontSize:M,letterSpacing:R,getTicksConfig:T,events:k,axisType:P}=e,A=PN(Ln(Ln({},T),{},{ticks:n}),M,R),O=Q3e(d,f),B=X3e(d,f),U=Za(T),_=ZA(r),I={};typeof i=="object"&&(I=i);var V=Ln(Ln({},U),{},{fill:"none"},I),F=A.map(j=>Ln({entry:j},Y3e(j,p,v,y,b,d,x,f,S))),L=F.map(j=>{var{entry:$,line:W}=j;return C.createElement(el,{className:"recharts-cartesian-axis-tick",key:"tick-".concat($.value,"-").concat($.coordinate,"-").concat($.tickCoord)},i&&C.createElement("line",od({},V,W,{className:$e("recharts-cartesian-axis-tick-line",uf(i,"className"))})))}),z=F.map((j,$)=>{var{entry:W,tick:K}=j,H=Ln(Ln(Ln(Ln({textAnchor:O,verticalAnchor:B},U),{},{stroke:"none",fill:s},_),K),{},{index:$,payload:W,visibleTicksCount:A.length,tickFormatter:o,padding:l},c);return C.createElement(el,od({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(W.value,"-").concat(W.coordinate,"-").concat(W.tickCoord)},Dx(k,W,$)),r&&C.createElement(J3e,{option:r,tickProps:H,value:"".concat(typeof o=="function"?o(W.value,$):W.value).concat(a||"")}))});return C.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(P,"-ticks")},z.length>0&&C.createElement(wl,{zIndex:qr.label},C.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(P,"-tick-labels"),ref:t},z)),L.length>0&&C.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(P,"-tick-lines")},L))}),e4e=C.forwardRef((e,t)=>{var{axisLine:n,width:r,height:i,className:s,hide:o,ticks:a,axisType:l}=e,c=V3e(e,G3e),[d,f]=C.useState(""),[p,v]=C.useState(""),y=C.useRef(null);C.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var x;return z3e({ticks:y.current,label:(x=e.labelRef)===null||x===void 0?void 0:x.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var b=C.useCallback(x=>{if(x){var S=x.getElementsByClassName("recharts-cartesian-axis-tick-value");y.current=S;var M=S[0];if(M){var R=window.getComputedStyle(M),T=R.fontSize,k=R.letterSpacing;(T!==d||k!==p)&&(f(T),v(k))}}},[d,p]);return o||r!=null&&r<=0||i!=null&&i<=0?null:C.createElement(wl,{zIndex:e.zIndex},C.createElement(el,{className:$e("recharts-cartesian-axis",s)},C.createElement(K3e,{x:e.x,y:e.y,width:r,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:Za(e)}),C.createElement(Z3e,{ref:b,axisType:l,events:c,fontSize:d,getTicksConfig:e,height:e.height,letterSpacing:p,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:a,unit:e.unit,width:e.width,x:e.x,y:e.y}),C.createElement(vFe,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},C.createElement(MFe,{label:e.label,labelRef:e.labelRef}),e.children)))}),NN=C.forwardRef((e,t)=>{var n=ni(e,ja);return C.createElement(e4e,od({},n,{ref:t}))});NN.displayName="CartesianAxis";var t4e=["x1","y1","x2","y2","key"],n4e=["offset"],r4e=["xAxisId","yAxisId"],i4e=["xAxisId","yAxisId"];function KB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ar(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KB(Object(n),!0).forEach(function(r){s4e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function s4e(e,t,n){return(t=o4e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o4e(e){var t=a4e(e,"string");return typeof t=="symbol"?t:t+""}function a4e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ru(){return Ru=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ru.apply(null,arguments)}function Wb(e,t){if(e==null)return{};var n,r,i=l4e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function l4e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var c4e=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:i,width:s,height:o,ry:a}=e;return C.createElement("rect",{x:r,y:i,ry:a,width:s,height:o,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function eY(e){var{option:t,lineItemProps:n}=e,r;if(C.isValidElement(t))r=C.cloneElement(t,n);else if(typeof t=="function")r=t(n);else{var i,{x1:s,y1:o,x2:a,y2:l,key:c}=n,d=Wb(n,t4e),f=(i=Za(d))!==null&&i!==void 0?i:{},{offset:p}=f,v=Wb(f,n4e);r=C.createElement("line",Ru({},v,{x1:s,y1:o,x2:a,y2:l,fill:"none",key:c}))}return r}function u4e(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:o}=e,a=Wb(e,r4e),l=i.map((c,d)=>{var f=Ar(Ar({},a),{},{x1:t,y1:c,x2:t+n,y2:c,key:"line-".concat(d),index:d});return C.createElement(eY,{key:"line-".concat(d),option:r,lineItemProps:f})});return C.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function d4e(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:o}=e,a=Wb(e,i4e),l=i.map((c,d)=>{var f=Ar(Ar({},a),{},{x1:c,y1:t,x2:c,y2:t+n,key:"line-".concat(d),index:d});return C.createElement(eY,{option:r,lineItemProps:f,key:"line-".concat(d)})});return C.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function h4e(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:s,height:o,horizontalPoints:a,horizontal:l=!0}=e;if(!l||!t||!t.length||a==null)return null;var c=a.map(f=>Math.round(f+i-i)).sort((f,p)=>f-p);i!==c[0]&&c.unshift(0);var d=c.map((f,p)=>{var v=!c[p+1],y=v?i+o-f:c[p+1]-f;if(y<=0)return null;var b=p%t.length;return C.createElement("rect",{key:"react-".concat(p),y:f,x:r,height:y,width:s,stroke:"none",fill:t[b],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return C.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function f4e(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:s,width:o,height:a,verticalPoints:l}=e;if(!t||!n||!n.length)return null;var c=l.map(f=>Math.round(f+i-i)).sort((f,p)=>f-p);i!==c[0]&&c.unshift(0);var d=c.map((f,p)=>{var v=!c[p+1],y=v?i+o-f:c[p+1]-f;if(y<=0)return null;var b=p%n.length;return C.createElement("rect",{key:"react-".concat(p),x:f,y:s,width:y,height:a,stroke:"none",fill:n[b],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return C.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var p4e=(e,t)=>{var{xAxis:n,width:r,height:i,offset:s}=e;return I9(PN(Ar(Ar(Ar({},ja),n),{},{ticks:L9(n),viewBox:{x:0,y:0,width:r,height:i}})),s.left,s.left+s.width,t)},g4e=(e,t)=>{var{yAxis:n,width:r,height:i,offset:s}=e;return I9(PN(Ar(Ar(Ar({},ja),n),{},{ticks:L9(n),viewBox:{x:0,y:0,width:r,height:i}})),s.top,s.top+s.height,t)},m4e={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:qr.grid};function ON(e){var t=bP(),n=CP(),r=W9(),i=Ar(Ar({},ni(e,m4e)),{},{x:Ie(e.x)?e.x:r.left,y:Ie(e.y)?e.y:r.top,width:Ie(e.width)?e.width:r.width,height:Ie(e.height)?e.height:r.height}),{xAxisId:s,yAxisId:o,x:a,y:l,width:c,height:d,syncWithTicks:f,horizontalValues:p,verticalValues:v}=i,y=Di(),b=Le(B=>U5(B,"xAxis",s,y)),x=Le(B=>U5(B,"yAxis",o,y));if(!Ho(c)||!Ho(d)||!Ie(a)||!Ie(l))return null;var S=i.verticalCoordinatesGenerator||p4e,M=i.horizontalCoordinatesGenerator||g4e,{horizontalPoints:R,verticalPoints:T}=i;if((!R||!R.length)&&typeof M=="function"){var k=p&&p.length,P=M({yAxis:x?Ar(Ar({},x),{},{ticks:k?p:x.ticks}):void 0,width:t??c,height:n??d,offset:r},k?!0:f);mb(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof P,"]")),Array.isArray(P)&&(R=P)}if((!T||!T.length)&&typeof S=="function"){var A=v&&v.length,O=S({xAxis:b?Ar(Ar({},b),{},{ticks:A?v:b.ticks}):void 0,width:t??c,height:n??d,offset:r},A?!0:f);mb(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof O,"]")),Array.isArray(O)&&(T=O)}return C.createElement(wl,{zIndex:i.zIndex},C.createElement("g",{className:"recharts-cartesian-grid"},C.createElement(c4e,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),C.createElement(h4e,Ru({},i,{horizontalPoints:R})),C.createElement(f4e,Ru({},i,{verticalPoints:T})),C.createElement(u4e,Ru({},i,{offset:r,horizontalPoints:R,xAxis:b,yAxis:x})),C.createElement(d4e,Ru({},i,{offset:r,verticalPoints:T,xAxis:b,yAxis:x}))))}ON.displayName="CartesianGrid";var v4e=["domain","range"],y4e=["domain","range"];function YB(e,t){if(e==null)return{};var n,r,i=w4e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function w4e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function QB(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function tY(e,t){if(e===t)return!0;var{domain:n,range:r}=e,i=YB(e,v4e),{domain:s,range:o}=t,a=YB(t,y4e);return!QB(n,s)||!QB(r,o)?!1:TN(i,a)}var b4e=["dangerouslySetInnerHTML","ticks"],C4e=["id"];function tk(){return tk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tk.apply(null,arguments)}function XB(e,t){if(e==null)return{};var n,r,i=x4e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function x4e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function S4e(e){var t=gn(),n=C.useRef(null);return C.useLayoutEffect(()=>{n.current===null?t(AIe(e)):n.current!==e&&t(PIe({prev:n.current,next:e})),n.current=e},[e,t]),C.useLayoutEffect(()=>()=>{n.current&&(t(NIe(n.current)),n.current=null)},[t]),null}var E4e=e=>{var{xAxisId:t,className:n}=e,r=Le(yP),i=Di(),s="xAxis",o=Le(x=>Qf(x,s,t,i)),a=Le(x=>Kq(x,s,t,i)),l=Le(x=>Wq(x,t)),c=Le(x=>CPe(x,t)),d=Le(x=>fq(x,t));if(l==null||c==null||d==null)return null;var{dangerouslySetInnerHTML:f,ticks:p}=e,v=XB(e,b4e),{id:y}=d,b=XB(d,C4e);return C.createElement(NN,tk({},v,b,{scale:o,x:c.x,y:c.y,width:l.width,height:l.height,className:$e("recharts-".concat(s," ").concat(s),n),viewBox:r,ticks:a,axisType:s}))},D4e={allowDataOverflow:Zn.allowDataOverflow,allowDecimals:Zn.allowDecimals,allowDuplicatedCategory:Zn.allowDuplicatedCategory,angle:Zn.angle,axisLine:ja.axisLine,height:Zn.height,hide:!1,includeHidden:Zn.includeHidden,interval:Zn.interval,minTickGap:Zn.minTickGap,mirror:Zn.mirror,orientation:Zn.orientation,padding:Zn.padding,reversed:Zn.reversed,scale:Zn.scale,tick:Zn.tick,tickCount:Zn.tickCount,tickLine:ja.tickLine,tickSize:ja.tickSize,type:Zn.type,xAxisId:0},R4e=e=>{var t=ni(e,D4e);return C.createElement(C.Fragment,null,C.createElement(S4e,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),C.createElement(E4e,t))},FN=C.memo(R4e,tY);FN.displayName="XAxis";var M4e=["dangerouslySetInnerHTML","ticks"],T4e=["id"];function nk(){return nk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nk.apply(null,arguments)}function JB(e,t){if(e==null)return{};var n,r,i=k4e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function k4e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function A4e(e){var t=gn(),n=C.useRef(null);return C.useLayoutEffect(()=>{n.current===null?t(OIe(e)):n.current!==e&&t(FIe({prev:n.current,next:e})),n.current=e},[e,t]),C.useLayoutEffect(()=>()=>{n.current&&(t(IIe(n.current)),n.current=null)},[t]),null}var P4e=e=>{var{yAxisId:t,className:n,width:r,label:i}=e,s=C.useRef(null),o=C.useRef(null),a=Le(yP),l=Di(),c=gn(),d="yAxis",f=Le(k=>Qf(k,d,t,l)),p=Le(k=>Uq(k,t)),v=Le(k=>SPe(k,t)),y=Le(k=>Kq(k,d,t,l)),b=Le(k=>pq(k,t));if(C.useLayoutEffect(()=>{if(!(r!=="auto"||!p||MN(i)||C.isValidElement(i)||b==null)){var k=s.current;if(k){var P=k.getCalculatedWidth();Math.round(p.width)!==Math.round(P)&&c(LIe({id:t,width:P}))}}},[y,p,c,i,t,r,b]),p==null||v==null||b==null)return null;var{dangerouslySetInnerHTML:x,ticks:S}=e,M=JB(e,M4e),{id:R}=b,T=JB(b,T4e);return C.createElement(NN,nk({},M,T,{ref:s,labelRef:o,scale:f,x:v.x,y:v.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:p.width,height:p.height,className:$e("recharts-".concat(d," ").concat(d),n),viewBox:a,ticks:y,axisType:d}))},N4e={allowDataOverflow:er.allowDataOverflow,allowDecimals:er.allowDecimals,allowDuplicatedCategory:er.allowDuplicatedCategory,angle:er.angle,axisLine:ja.axisLine,hide:!1,includeHidden:er.includeHidden,interval:er.interval,minTickGap:er.minTickGap,mirror:er.mirror,orientation:er.orientation,padding:er.padding,reversed:er.reversed,scale:er.scale,tick:er.tick,tickCount:er.tickCount,tickLine:ja.tickLine,tickSize:ja.tickSize,type:er.type,width:er.width,yAxisId:0},O4e=e=>{var t=ni(e,N4e);return C.createElement(C.Fragment,null,C.createElement(A4e,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),C.createElement(P4e,t))},IN=C.memo(O4e,tY);IN.displayName="YAxis";var F4e=(e,t)=>t,LN=ce([F4e,Lt,dq,qn,uK,yl,_Ne,or],WNe),_N=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},nY=Ps("mouseClick"),rY=ov();rY.startListening({actionCreator:nY,effect:(e,t)=>{var n=e.payload,r=LN(t.getState(),_N(n));r?.activeIndex!=null&&t.dispatch(_Pe({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var rk=Ps("mouseMove"),iY=ov(),b0=null;iY.startListening({actionCreator:rk,effect:(e,t)=>{var n=e.payload;b0!==null&&cancelAnimationFrame(b0);var r=_N(n);b0=requestAnimationFrame(()=>{var i=t.getState(),s=mN(i,i.tooltip.settings.shared);if(s==="axis"){var o=LN(i,r);o?.activeIndex!=null?t.dispatch(nK({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(tK())}b0=null})}});var ZB={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},sY=Ei({name:"rootProps",initialState:ZB,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:ZB.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),I4e=sY.reducer,{updateOptions:L4e}=sY.actions,oY=Ei({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:iqe}=oY.actions,_4e=oY.reducer,aY=Ps("keyDown"),lY=Ps("focus"),jN=ov();jN.startListening({actionCreator:aY,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,s=e.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var o=vN(i,Jf(n),gv(n),bv(n)),a=o==null?-1:Number(o);if(!(!Number.isFinite(a)||a<0)){var l=yl(n);if(s==="Enter"){var c=_b(n,"axis","hover",String(i.index));t.dispatch(YT({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:c}));return}var d=MPe(n),f=d==="left-to-right"?1:-1,p=s==="ArrowRight"?1:-1,v=a+p*f;if(!(l==null||v>=l.length||v<0)){var y=_b(n,"axis","hover",String(v));t.dispatch(YT({active:!0,activeIndex:v.toString(),activeDataKey:void 0,activeCoordinate:y}))}}}}}});jN.startListening({actionCreator:lY,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var s="0",o=_b(n,"axis","hover",String(s));t.dispatch(YT({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:o}))}}}});var gs=Ps("externalEvent"),cY=ov(),xM=new Map;cY.startListening({actionCreator:gs,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(n!=null){r.persist();var i=r.type,s=xM.get(i);s!==void 0&&cancelAnimationFrame(s);var o=requestAnimationFrame(()=>{try{var a=t.getState(),l={activeCoordinate:xNe(a),activeDataKey:pK(a),activeIndex:bf(a),activeLabel:fK(a),activeTooltipIndex:bf(a),isTooltipActive:SNe(a)};n(l,r)}finally{xM.delete(i)}});xM.set(i,o)}}});var j4e=ce([Xf],e=>e.tooltipItemPayloads),B4e=ce([j4e,yv,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(a=>a.settings.dataKey===r);if(i!=null){var{positions:s}=i;if(s!=null){var o=t(s,n);return o}}}),uY=Ps("touchMove"),dY=ov();dY.startListening({actionCreator:uY,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),i=mN(r,r.tooltip.settings.shared);if(i==="axis"){var s=LN(r,_N({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));s?.activeIndex!=null&&t.dispatch(nK({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var o,a=n.touches[0];if(document.elementFromPoint==null)return;var l=document.elementFromPoint(a.clientX,a.clientY);if(!l||!l.getAttribute)return;var c=l.getAttribute(lRe),d=(o=l.getAttribute(cRe))!==null&&o!==void 0?o:void 0,f=B4e(t.getState(),c,d);t.dispatch(eK({activeDataKey:d,activeIndex:c,activeCoordinate:f}))}}}});var H4e=o9({brush:x3e,cartesianAxis:_Ie,chartData:xOe,errorBars:XIe,graphicalItems:SIe,layout:VDe,legend:nMe,options:vOe,polarAxis:VFe,polarOptions:_4e,referenceElements:k3e,rootProps:I4e,tooltip:jPe,zIndex:iOe}),z4e=function(t){return pDe({reducer:H4e,preloadedState:t,middleware:n=>{var r;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((r="es6")!==null&&r!==void 0?r:"")}).concat([rY.middleware,iY.middleware,jN.middleware,cY.middleware,dY.middleware])},enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(C9({type:"raf"}))},devTools:Wf.devToolsEnabled})};function G4e(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=Di(),s=C.useRef(null);if(i)return n;s.current==null&&(s.current=z4e(t));var o=cP;return C.createElement(SLe,{context:o,store:s.current},n)}function V4e(e){var{layout:t,margin:n}=e,r=gn(),i=Di();return C.useEffect(()=>{i||(r(HDe(t)),r(BDe(n)))},[r,i,t,n]),null}var W4e=C.memo(V4e,TN);function U4e(e){var t=gn();return C.useEffect(()=>{t(L4e(e))},[t,e]),null}function eH(e){var{zIndex:t,isPanorama:n}=e,r=n?"recharts-zindex-panorama-":"recharts-zindex-",i=VK("".concat(r).concat(t)),s=gn();return C.useLayoutEffect(()=>(s(nOe({zIndex:t,elementId:i,isPanorama:n})),()=>{s(rOe({zIndex:t,isPanorama:n}))}),[s,t,i,n]),C.createElement("g",{id:i})}function tH(e){var{children:t,isPanorama:n}=e,r=Le($Ne);if(!r||r.length===0)return t;var i=r.filter(o=>o<0),s=r.filter(o=>o>0);return C.createElement(C.Fragment,null,i.map(o=>C.createElement(eH,{key:o,zIndex:o,isPanorama:n})),t,s.map(o=>C.createElement(eH,{key:o,zIndex:o,isPanorama:n})))}var $4e=["children"];function q4e(e,t){if(e==null)return{};var n,r,i=K4e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function K4e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Ub(){return Ub=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ub.apply(null,arguments)}var Y4e={width:"100%",height:"100%",display:"block"},Q4e=C.forwardRef((e,t)=>{var n=bP(),r=CP(),i=J9();if(!Ho(n)||!Ho(r))return null;var{children:s,otherAttributes:o,title:a,desc:l}=e,c,d;return o!=null&&(typeof o.tabIndex=="number"?c=o.tabIndex:c=i?0:void 0,typeof o.role=="string"?d=o.role:d=i?"application":void 0),C.createElement(eP,Ub({},o,{title:a,desc:l,role:d,tabIndex:c,width:n,height:r,style:Y4e,ref:t}),s)}),X4e=e=>{var{children:t}=e,n=Le(jx);if(!n)return null;var{width:r,height:i,y:s,x:o}=n;return C.createElement(eP,{width:r,height:i,x:o,y:s},t)},nH=C.forwardRef((e,t)=>{var{children:n}=e,r=q4e(e,$4e),i=Di();return i?C.createElement(X4e,null,C.createElement(tH,{isPanorama:!0},n)):C.createElement(Q4e,Ub({ref:t},r),C.createElement(tH,{isPanorama:!1},n))});function J4e(){var e=gn(),[t,n]=C.useState(null),r=Le(aRe);return C.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),s=i.width/t.offsetWidth;Pn(s)&&s!==r&&e(GDe(s))}},[t,e,r]),n}function rH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Z4e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rH(Object(n),!0).forEach(function(r){e_e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rH(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function e_e(e,t,n){return(t=t_e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function t_e(e){var t=n_e(e,"string");return typeof t=="symbol"?t:t+""}function n_e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ad(){return ad=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ad.apply(null,arguments)}var r_e=()=>(POe(),null);function $b(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var i_e=C.forwardRef((e,t)=>{var n,r,i=C.useRef(null),[s,o]=C.useState({containerWidth:$b((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:$b((r=e.style)===null||r===void 0?void 0:r.height)}),a=C.useCallback((c,d)=>{o(f=>{var p=Math.round(c),v=Math.round(d);return f.containerWidth===p&&f.containerHeight===v?f:{containerWidth:p,containerHeight:v}})},[]),l=C.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null&&typeof ResizeObserver<"u"){var{width:d,height:f}=c.getBoundingClientRect();a(d,f);var p=y=>{var{width:b,height:x}=y[0].contentRect;a(b,x)},v=new ResizeObserver(p);v.observe(c),i.current=v}},[t,a]);return C.useEffect(()=>()=>{var c=i.current;c?.disconnect()},[a]),C.createElement(C.Fragment,null,C.createElement(zx,{width:s.containerWidth,height:s.containerHeight}),C.createElement("div",ad({ref:l},e)))}),s_e=C.forwardRef((e,t)=>{var{width:n,height:r}=e,[i,s]=C.useState({containerWidth:$b(n),containerHeight:$b(r)}),o=C.useCallback((l,c)=>{s(d=>{var f=Math.round(l),p=Math.round(c);return d.containerWidth===f&&d.containerHeight===p?d:{containerWidth:f,containerHeight:p}})},[]),a=C.useCallback(l=>{if(typeof t=="function"&&t(l),l!=null){var{width:c,height:d}=l.getBoundingClientRect();o(c,d)}},[t,o]);return C.createElement(C.Fragment,null,C.createElement(zx,{width:i.containerWidth,height:i.containerHeight}),C.createElement("div",ad({ref:a},e)))}),o_e=C.forwardRef((e,t)=>{var{width:n,height:r}=e;return C.createElement(C.Fragment,null,C.createElement(zx,{width:n,height:r}),C.createElement("div",ad({ref:t},e)))}),a_e=C.forwardRef((e,t)=>{var{width:n,height:r}=e;return tl(n)||tl(r)?C.createElement(s_e,ad({},e,{ref:t})):C.createElement(o_e,ad({},e,{ref:t}))});function l_e(e){return e===!0?i_e:a_e}var c_e=C.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:s,onContextMenu:o,onDoubleClick:a,onMouseDown:l,onMouseEnter:c,onMouseLeave:d,onMouseMove:f,onMouseUp:p,onTouchEnd:v,onTouchMove:y,onTouchStart:b,style:x,width:S,responsive:M,dispatchTouchEvents:R=!0}=e,T=C.useRef(null),k=gn(),[P,A]=C.useState(null),[O,B]=C.useState(null),U=J4e(),_=wP(),I=_?.width>0?_.width:S,V=_?.height>0?_.height:i,F=C.useCallback(oe=>{U(oe),typeof t=="function"&&t(oe),A(oe),B(oe),oe!=null&&(T.current=oe)},[U,t,A,B]),L=C.useCallback(oe=>{k(nY(oe)),k(gs({handler:s,reactEvent:oe}))},[k,s]),z=C.useCallback(oe=>{k(rk(oe)),k(gs({handler:c,reactEvent:oe}))},[k,c]),j=C.useCallback(oe=>{k(tK()),k(gs({handler:d,reactEvent:oe}))},[k,d]),$=C.useCallback(oe=>{k(rk(oe)),k(gs({handler:f,reactEvent:oe}))},[k,f]),W=C.useCallback(()=>{k(lY())},[k]),K=C.useCallback(oe=>{k(aY(oe.key))},[k]),H=C.useCallback(oe=>{k(gs({handler:o,reactEvent:oe}))},[k,o]),Y=C.useCallback(oe=>{k(gs({handler:a,reactEvent:oe}))},[k,a]),Z=C.useCallback(oe=>{k(gs({handler:l,reactEvent:oe}))},[k,l]),X=C.useCallback(oe=>{k(gs({handler:p,reactEvent:oe}))},[k,p]),fe=C.useCallback(oe=>{k(gs({handler:b,reactEvent:oe}))},[k,b]),pe=C.useCallback(oe=>{R&&k(uY(oe)),k(gs({handler:y,reactEvent:oe}))},[k,R,y]),Ce=C.useCallback(oe=>{k(gs({handler:v,reactEvent:oe}))},[k,v]),je=l_e(M);return C.createElement(CK.Provider,{value:P},C.createElement(CU.Provider,{value:O},C.createElement(je,{width:I??x?.width,height:V??x?.height,className:$e("recharts-wrapper",r),style:Z4e({position:"relative",cursor:"default",width:I,height:V},x),onClick:L,onContextMenu:H,onDoubleClick:Y,onFocus:W,onKeyDown:K,onMouseDown:Z,onMouseEnter:z,onMouseLeave:j,onMouseMove:$,onMouseUp:X,onTouchEnd:Ce,onTouchMove:pe,onTouchStart:fe,ref:F},C.createElement(r_e,null),n)))}),u_e=["width","height","responsive","children","className","style","compact","title","desc"];function d_e(e,t){if(e==null)return{};var n,r,i=h_e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function h_e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var f_e=C.forwardRef((e,t)=>{var{width:n,height:r,responsive:i,children:s,className:o,style:a,compact:l,title:c,desc:d}=e,f=d_e(e,u_e),p=Za(f);return l?C.createElement(C.Fragment,null,C.createElement(zx,{width:n,height:r}),C.createElement(nH,{otherAttributes:p,title:c,desc:d},s)):C.createElement(c_e,{className:o,style:a,width:n,height:r,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},C.createElement(nH,{otherAttributes:p,title:c,desc:d,ref:t},C.createElement(P3e,null,s)))});function ik(){return ik=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ik.apply(null,arguments)}var p_e={top:5,right:5,bottom:5,left:5},g_e={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:p_e,reverseStackOrder:!1,syncMethod:"index",responsive:!1},m_e=C.forwardRef(function(t,n){var r,i=ni(t.categoricalChartProps,g_e),{chartName:s,defaultTooltipEventType:o,validateTooltipEventTypes:a,tooltipPayloadSearcher:l,categoricalChartProps:c}=t,d={chartName:s,defaultTooltipEventType:o,validateTooltipEventTypes:a,tooltipPayloadSearcher:l,eventEmitter:void 0};return C.createElement(G4e,{preloadedState:{options:d},reduxStoreName:(r=c.id)!==null&&r!==void 0?r:s},C.createElement(C3e,{chartData:c.data}),C.createElement(W4e,{layout:i.layout,margin:i.margin}),C.createElement(U4e,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),C.createElement(f_e,ik({},i,{ref:n})))}),v_e=["axis","item"],hY=C.forwardRef((e,t)=>C.createElement(m_e,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:v_e,tooltipPayloadSearcher:gOe,categoricalChartProps:e,ref:t}));const y_e=()=>{const[e,t]=C.useState([]),[n,r]=C.useState([]),[i,s]=C.useState("all"),[o,a]=C.useState(!1),[l,c]=C.useState("today"),[d,f]=C.useState(null),p="https://crm.softwaresetu.com/api";C.useEffect(()=>{v()},[]),C.useEffect(()=>{y()},[i,l]);const v=async()=>{try{const R=await me.get(`${p}/analytics/employees`);R.data.success&&r(R.data.data)}catch(R){console.error("Error fetching employees:",R)}},y=async()=>{a(!0);try{const R={employee_id:i==="all"?null:i,date_range:l},T=await me.get(`${p}/analytics/hourly-calls`,{params:R});T.data.success&&(t(T.data.data),f(T.data.time_range))}catch(R){console.error("Error fetching chart data:",R)}finally{a(!1)}},b=()=>{y()},x=({active:R,payload:T,label:k})=>R&&T&&T.length?m.jsxs("div",{className:"bg-white p-3 border border-gray-300 rounded shadow-lg",children:[m.jsx("p",{className:"font-bold",children:`Time Range: ${T[0].payload.time_range}`}),m.jsxs("p",{className:"text-blue-600 flex items-center gap-2",children:[m.jsx(kw,{className:"w-4 h-4"}),`${T[0].value} Calls`]}),m.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Based on status updates"})]}):null,S=C.useMemo(()=>{if(e.length===0)return null;const R=e.reduce((P,A)=>P+A.call_count,0),T=e.reduce((P,A)=>A.call_count>P.call_count?A:P,{time_range:"",call_count:0}),k=e.length>0?Math.round(R/e.length):0;return{totalCalls:R,peakHour:T.time_range,peakHourCalls:T.call_count,avgPerHour:k}},[e]),M=R=>{if(!R)return"Loading...";const T=R.start_hour,k=R.end_hour,P=A=>{const[O,B]=A.split(":"),U=parseInt(O),_=U>=12?"PM":"AM";return`${U%12||12}:${B} ${_}`};return`${P(T)} - ${P(k)}`};return m.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg",children:[m.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center mb-6 gap-4",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx(Qg,{className:"w-6 h-6 text-blue-600"}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-xl font-semibold",children:"Call Activity Analytics"}),d&&m.jsxs("p",{className:"text-sm text-gray-600 flex items-center gap-1",children:[m.jsx(uG,{className:"w-3 h-3"}),"Showing calls from first status update at ",M(d)]})]})]}),m.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full lg:w-auto",children:[m.jsxs("select",{value:i,onChange:R=>s(R.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[m.jsx("option",{value:"all",children:"All Employees"}),n.map(R=>m.jsx("option",{value:R.id,children:R.name},R.id))]}),m.jsxs("select",{value:l,onChange:R=>c(R.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[m.jsx("option",{value:"today",children:"Today"}),m.jsx("option",{value:"week",children:"This Week"}),m.jsx("option",{value:"month",children:"This Month"})]}),m.jsxs("button",{onClick:b,disabled:o,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 transition-colors",children:[m.jsx(dG,{className:`w-4 h-4 ${o?"animate-spin":""}`}),o?"Refreshing...":"Refresh"]})]})]}),d&&m.jsx("div",{className:"mb-6 p-4 bg-blue-50 rounded-lg border border-blue-200",children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx(Tw,{className:"w-5 h-5 text-blue-600"}),m.jsxs("div",{children:[m.jsx("p",{className:"font-medium text-blue-800",children:"Call Activity Time Range"}),m.jsxs("p",{className:"text-sm text-blue-600",children:["Showing ",e.length," hours of call activity"]})]})]})}),m.jsx("div",{className:"h-80 w-full",children:o?m.jsx("div",{className:"flex items-center justify-center h-full",children:m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):e.length>0?m.jsx(G9,{width:"100%",height:"100%",children:m.jsxs(hY,{data:e,children:[m.jsx(ON,{strokeDasharray:"3 3"}),m.jsx(FN,{dataKey:"hour",label:{value:"Time Slots (HH:00 - HH:00) - IST",position:"insideBottom",offset:-5}}),m.jsx(IN,{label:{value:"Number of Calls",angle:-90,position:"insideLeft"}}),m.jsx(EK,{content:m.jsx(x,{})}),m.jsx(EP,{}),m.jsx(kN,{dataKey:"call_count",name:"Calls (Status Updates)",fill:"#3b82f6",radius:[4,4,0,0]})]})}):m.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:"No call activity data available for selected filters"})}),S&&S.totalCalls>0&&m.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-4 gap-4",children:[m.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[m.jsx("p",{className:"text-sm text-blue-600",children:"Total Calls"}),m.jsx("p",{className:"text-2xl font-bold text-blue-800",children:S.totalCalls}),m.jsxs("p",{className:"text-xs text-blue-600 mt-1 flex items-center gap-1",children:[m.jsx(kw,{className:"w-3 h-3"}),"Status updates today"]})]}),m.jsxs("div",{className:"bg-green-50 p-3 rounded-lg",children:[m.jsx("p",{className:"text-sm text-green-600",children:"Peak Activity"}),m.jsx("p",{className:"text-lg font-bold text-green-800",children:S.peakHour}),m.jsxs("p",{className:"text-xs text-green-600 mt-1",children:[S.peakHourCalls," calls"]})]}),m.jsxs("div",{className:"bg-purple-50 p-3 rounded-lg",children:[m.jsx("p",{className:"text-sm text-purple-600",children:"Avg per Hour"}),m.jsx("p",{className:"text-2xl font-bold text-purple-800",children:S.avgPerHour})]}),m.jsxs("div",{className:"bg-orange-50 p-3 rounded-lg",children:[m.jsx("p",{className:"text-sm text-orange-600",children:"Time Coverage"}),m.jsx("p",{className:"text-lg font-bold text-orange-800",children:d?`${d.start_hour} to ${d.end_hour}`:"N/A"}),m.jsx("p",{className:"text-xs text-orange-600 mt-1",children:"Based on first update"})]})]})]})};Yo.registerModules([Bc]);function w_e(){const[e,t]=C.useState(""),{user:n}=tx(),[r,i]=C.useState([]),[s,o]=C.useState(!1),[a,l]=C.useState(null),[c,d]=C.useState(!1),[f,p]=C.useState({Demo:0,FollowUp:0,NotPickedCall:0,Deal:0,Interested:0}),[v,y]=C.useState([]),[b,x]=C.useState(""),[S,M]=C.useState(!1),[R,T]=C.useState([]),[k,P]=C.useState(""),[A,O]=C.useState(null),[B,U]=C.useState("Follow Up"),[_,I]=C.useState(!1),V=Rt(),F="https://crm.softwaresetu.com/api",L=C.useMemo(()=>{const Z=[{headerName:"Name",field:"name",sortable:!0,filter:!0},{headerName:"Mobile",field:"mobile",sortable:!0,filter:!0},{headerName:"Status",field:"status",sortable:!0,filter:!0},{headerName:"Created At",field:"created_at",sortable:!0,filter:!0,valueFormatter:X=>X.value?new Date(X.value).toLocaleString():"-"},{headerName:"Updated At",field:"updated_at",sortable:!0,filter:!0,valueFormatter:X=>X.value?new Date(X.value).toLocaleString():"-"},{headerName:"Updated By",field:"updated_by",sortable:!0,filter:!0}];return B==="Demo"?Z.push({headerName:"Demo Date",field:"followup_datetime",sortable:!0,filter:!0,valueFormatter:X=>X.value?new Date(X.value).toLocaleString():"-"}):B==="Follow Up"&&Z.push({headerName:"FollowUp Date",field:"followup_datetime",sortable:!0,filter:!0,valueFormatter:X=>X.value?new Date(X.value).toLocaleString():"-"}),Z},[B]);C.useEffect(()=>{me.get(`${F}/customers/get-lead-data`).then(Z=>{i(Z.data),y(Z.data.filter(X=>X.status==B))}).catch(Z=>{console.error("Error fetching lead history:",Z)}),me.get(`${F}/customers/fetch-customer-status`).then(Z=>{const X={Demo:0,FollowUp:0,Deal:0,Interested:0};Z.data.data.forEach(fe=>{fe.status==="Demo"&&X.Demo++,fe.status==="Follow Up"&&X.FollowUp++,fe.status==="Deal"&&X.Deal++,fe.status==="Interested"&&X.Interested++}),p(X)}).catch(Z=>{console.error("Error fetching customer status:",Z)})},[]);const z=Z=>{x(Z),y(Z==="All"?r:r.filter(X=>X.status===Z))};C.useEffect(()=>{z(B)},[B]);const j=[{headerName:"ID",field:"id",width:80},{headerName:"Status",field:"name",flex:1}],$=()=>{a&&(H(a),l(null),d(!1))},W=async()=>{try{const Z=await me.get(`${F}/status`);T(Z.data)}catch(Z){console.error("Error fetching statuses:",Z)}},K=async()=>{if(console.log(k,"newStatus..."),k!=="")try{o(!0),A?await me.put(`${F}/status/${A.id}`,{name:k}):await me.post(`${F}/status`,{name:k}),P(""),O(null),W()}catch(Z){console.error("Error saving status:",Z)}finally{o(!1)}else be.warning("Please enter valid status name")},H=async Z=>{try{o(!0),await me.delete(`${F}/status/${Z}`),W()}catch(X){console.error("Error deleting status:",X)}finally{o(!1)}},Y=()=>{M(!0),W()};return m.jsxs(m.Fragment,{children:[m.jsx(Ic,{role:"admin",children:m.jsxs("div",{className:" bg-gray-50 rounded-md shadow-md p-6",children:[m.jsx("div",{className:"flex justify-end mb-6",children:m.jsxs("button",{onClick:()=>I(!_),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[m.jsx(w2,{className:"w-5 h-5"}),_?"Hide Analytics":"Show Analytics"]})}),_&&m.jsx("div",{className:"mb-8",children:m.jsx(y_e,{})}),m.jsxs("div",{className:"flex flex-wrap gap-6 justify-center",children:[m.jsxs("div",{className:"bg-white rounded-2xl shadow-lg w-48 h-20 p-4 flex items-center justify-center text-center hover:shadow-2xl transition-shadow duration-300 cursor-pointer",onClick:()=>{U("Demo"),V("/admin-demo")},children:[m.jsx(Ir,{className:"w-8 h-8 text-blue-500 mr-3"}),m.jsxs("div",{className:"flex gap-4 items-start",children:[m.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Demo"}),m.jsx("p",{className:"text-xl font-bold text-gray-800",children:f.Demo})]})]}),m.jsxs("div",{className:"bg-white rounded-2xl shadow-lg w-48 h-20 p-4 flex items-center justify-center text-center hover:shadow-2xl transition-shadow duration-300 cursor-pointer",onClick:()=>{U("Follow Up"),V("/admin-follow")},children:[m.jsx(rn,{className:"w-8 h-8 text-green-500 mr-3"}),m.jsxs("div",{className:"flex gap-4 items-start",children:[m.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Followup"}),m.jsx("p",{className:"text-xl font-bold text-gray-800",children:f.FollowUp})]})]}),m.jsxs("div",{className:"bg-white rounded-2xl shadow-lg w-48 h-20 p-4 flex items-center justify-center text-center hover:shadow-2xl transition-shadow duration-300 cursor-pointer",onClick:()=>{U("Interested"),V("/admin-interested")},children:[m.jsx($t,{className:"w-8 h-8 text-pink-500 mr-3"}),m.jsxs("div",{className:"flex gap-4 items-start",children:[m.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Interested"}),m.jsx("p",{className:"text-xl font-bold text-gray-800",children:f.Interested})]})]})]}),m.jsx("div",{className:"mt-5",children:m.jsxs("button",{className:"bg-blue-500 flex items-center p-2 rounded-md gap-2 hover:bg-blue-600",onClick:Y,children:[m.jsx(PSe,{className:"text-white text-xl"}),m.jsx("h1",{className:"text-md text-white",children:"Add Status"})]})}),m.jsxs("div",{className:"mt-10",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsx("h2",{className:"text-xl font-bold mb-4",children:b?`${b} Leads`:"History"}),m.jsxs("div",{className:"flex gap-5",children:[m.jsx(_r,{value:e,onChange:t}),b&&m.jsx("button",{className:"px-4 py-2 bg-gray-700 text-white rounded-lg",onClick:()=>U("All"),children:"Show All"})]})]}),m.jsx("div",{className:"ag-theme-alpine",style:{height:500,width:"100%"},children:m.jsx(zt,{rowData:v,columnDefs:L,pagination:!0,paginationPageSize:100,quickFilterText:e})})]})]})}),S&&m.jsx("div",{className:"fixed inset-0  backdrop-blur-sm  bg-opacity-50 flex items-center justify-center z-50",children:m.jsxs("div",{className:"bg-white p-6 rounded-xl w-[700px]",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsx("h2",{className:"text-xl font-semibold",children:"STATUS"}),m.jsx("button",{onClick:()=>M(!1),className:"w-8 h-8 flex items-center justify-center rounded-full bg-gray-200 text-black text-lg font-bold hover:bg-gray-400 transition",children:"X"})]}),m.jsxs("div",{className:"flex gap-2 mb-4",children:[m.jsx("input",{type:"text",value:k,onChange:Z=>P(Z.target.value),placeholder:"Enter status name",className:"flex-1 border border-gray-300 p-2 rounded-md"}),m.jsx("button",{onClick:K,disabled:s,className:`px-4 py-2 flex items-center justify-center gap-2 rounded-md text-white ${s?"bg-blue-500 cursor-not-allowed":"bg-blue-500 hover:bg-blue-600"}`,children:s?m.jsxs(m.Fragment,{children:[m.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]}),A?"Updating...":"Adding..."]}):A?"Update":"Add"})]}),m.jsx("div",{className:"ag-theme-alpine",style:{height:750},children:m.jsx(zt,{rowData:R,columnDefs:j,pagination:!0})})]})}),c&&m.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black/50 z-50",children:m.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg w-80",children:[m.jsx("h2",{className:"text-lg font-semibold mb-4 text-center",children:"Are you sure you want to delete?"}),m.jsxs("div",{className:"flex justify-center gap-4",children:[m.jsx("button",{onClick:()=>d(!1),className:"px-4 py-2 bg-gray-300 rounded-md hover:bg-gray-400",children:"Cancel"}),m.jsx("button",{onClick:$,disabled:s,className:`px-4 py-2 flex items-center justify-center gap-2 rounded-md text-white ${s?"bg-blue-500 cursor-not-allowed":"bg-blue-500 hover:bg-blue-600"}`,children:s?m.jsxs(m.Fragment,{children:[m.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8z"})]}),"Deleting..."]}):"Delete"})]})]})})]})}const lS=me.create({baseURL:"http://localhost:5000/api"});lS.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e});Yo.registerModules([Bc]);function b_e(){const[e,t]=C.useState(""),[n,r]=C.useState([]),[i,s]=C.useState(0),[o,a]=C.useState(""),[l,c]=C.useState(null),d=Rt(),f=C.useRef(null),p="https://crm.softwaresetu.com/api",v=async()=>{try{const{data:x}=await me.get(`${p}/employee/get-active-pending`);r(Array.isArray(x.employees)?x.employees:[]),s(x.totalPendingLeads||0)}catch(x){a(x.response?.data?.message||"Failed to fetch"),r([]),s(0)}};C.useEffect(()=>{v()},[]);const y=C.useMemo(()=>[{headerName:"Name",field:"name",filter:"agTextColumnFilter",flex:1},{headerName:"Email",field:"email",filter:"agTextColumnFilter",flex:1},{headerName:"Mobile",field:"mobile",filter:"agTextColumnFilter",flex:1},{headerName:"Pending Leads",field:"pending_leads_count",filter:"agNumberColumnFilter",cellRenderer:x=>m.jsx("div",{className:`inline-flex items-center px-3 py-0.1 rounded-full text-sm font-medium ${x.value>0?"bg-red-100 text-red-800":"bg-green-100 text-green-800"}`,children:x.value}),minWidth:150,comparator:(x,S)=>x-S},{headerName:"Joined",field:"created_at",valueFormatter:x=>x.value?new Date(x.value).toLocaleDateString():"-",minWidth:150},{headerName:"Action",field:"id",cellRenderer:x=>m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:()=>d(`/employees/${x.value}`),className:"rounded-lg flex items-center gap-1 text-gray-500 hover:text-gray-800",title:"View",children:m.jsx(Wm,{size:16})}),m.jsx("button",{onClick:()=>d(`/employees/edit/${x.value}`),className:"rounded-lg flex items-center gap-1 text-gray-500 hover:text-gray-800",title:"Edit",children:m.jsx(ti,{size:16})})]}),minWidth:150}],[d]),b=C.useMemo(()=>({sortable:!0,filter:!0,resizable:!0}),[]);return m.jsx(Ic,{role:"admin",fallback:m.jsx("div",{className:"card p-6",children:"Only admins can view this."}),children:m.jsxs("div",{className:"space-y-6 bg-white p-6 rounded-xl shadow-md",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-2xl font-semibold",children:"Employees"}),m.jsx("p",{className:"text-gray-600",children:"Manage your team members and their leads"})]}),m.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4 flex items-center gap-3",children:[m.jsx("div",{className:"bg-orange-100 p-2 rounded-full",children:m.jsx(cie,{size:24,className:"text-orange-600"})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-orange-600 font-medium",children:"Total Pending Leads"}),m.jsx("p",{className:"text-2xl font-bold text-orange-700",children:i})]})]})]}),m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("div",{className:"flex gap-4",children:[m.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white font-semibold rounded-lg shadow hover:bg-blue-700 transition flex items-center gap-2",onClick:()=>d("/employees/status"),children:[m.jsx(Qg,{size:18}),"Status"]}),m.jsxs("button",{className:"px-4 py-2 bg-green-600 text-white font-semibold rounded-lg shadow hover:bg-green-700 transition flex items-center gap-2",onClick:()=>d("/employees/add-employee"),children:[m.jsx($t,{size:18}),"Add Employee"]})]}),m.jsx(_r,{value:e,onChange:t})]}),m.jsx("div",{className:"ag-theme-alpine",style:{height:700,width:"100%"},children:m.jsx(zt,{ref:f,rowData:n,columnDefs:y,defaultColDef:b,pagination:!0,paginationPageSize:100,animateRows:!0,quickFilterText:e,onRowClicked:x=>c(x.data.id),getRowStyle:x=>x.data.id===l?{backgroundColor:"#f0f9ff",borderLeft:"4px solid #3b82f6",transition:"background-color 0.3s ease"}:null})}),o&&m.jsx("div",{className:"text-red-500",children:o})]})})}function C_e(){const[e,t]=C.useState({name:"",email:"",mobile:"",password:"",salary:"",target:"",joiningDate:""}),[n,r]=C.useState(null),[i,s]=C.useState(null),[o,a]=C.useState(!1),[l,c]=C.useState(""),d=Rt(),f="https://crm.softwaresetu.com/api",p=y=>{const b=y.target.files[0];b&&(r(b),s(URL.createObjectURL(b)))},v=async y=>{y.preventDefault(),a(!0),c("");try{const b=new FormData;b.append("name",e.name),b.append("email",e.email),b.append("mobile",e.mobile),b.append("password",e.password),b.append("salary",e.salary),b.append("target",e.target),b.append("joiningDate",e.joiningDate),n&&b.append("avatar",n),await lS.post(`${f}/employee/add`,b,{headers:{"Content-Type":"multipart/form-data"}}),be.success("Employee created successfully"),d("/employees")}catch(b){const x=b.response?.data?.message||"Failed to create employee";c(x),be.error(x)}finally{a(!1)}};return m.jsx(Ic,{role:"admin",fallback:m.jsx("div",{className:"max-w-md p-6 bg-white rounded-lg shadow-md text-center text-red-600",children:"Only admins can view this."}),children:m.jsxs("div",{className:"max-w-full mx-auto mt-12 bg-white shadow-lg rounded-xl p-8 space-y-6",children:[m.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Add Employee"}),l&&m.jsx("div",{className:"text-red-600 text-center",children:l}),m.jsxs("form",{onSubmit:v,className:"space-y-4",children:[m.jsx("div",{className:"mb-6",children:m.jsxs("label",{className:"block text-sm font-medium text-gray-700 cursor-pointer",children:[m.jsxs("div",{className:"flex items-center space-x-3",children:[i?m.jsx("img",{src:i,alt:"Avatar Preview",className:"w-16 h-16 rounded-full object-cover border"}):m.jsx("div",{className:"w-16 h-16 border-2 border-dashed border-blue-400 flex items-center justify-center rounded-md",children:m.jsx("span",{className:"text-xl",children:"+"})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-medium",children:"Upload Avatar"}),m.jsx("p",{className:"text-xs text-gray-500",children:"Recommended: 400x400px"})]})]}),m.jsx("input",{type:"file",className:"hidden",onChange:p,disabled:o})]})}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[["name","email","mobile","password","salary","target"].map(y=>m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:y.charAt(0).toUpperCase()+y.slice(1)}),m.jsx("input",{type:y==="password"?"password":"text",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:`Enter ${y}`,value:e[y],onChange:b=>t({...e,[y]:b.target.value}),required:!0})]},y)),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Joining Date"}),m.jsx("input",{type:"date",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",value:e.joiningDate,onChange:y=>t({...e,joiningDate:y.target.value}),required:!0})]})]}),m.jsxs("div",{className:"flex justify-end space-x-4",children:[m.jsx("button",{type:"button",onClick:()=>d("/employees"),disabled:o,className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),m.jsx("button",{type:"submit",disabled:o,className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:o?"Creating...":"Add Employee"})]})]})]})})}function x_e(e){return xn({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"m18 9-1.41-1.42L10 14.17l-2.59-2.58L6 13l4 4zm1-6h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-.14 0-.27.01-.4.04a2.008 2.008 0 0 0-1.44 1.19c-.1.23-.16.49-.16.77v14c0 .27.06.54.16.78s.25.45.43.64c.27.27.62.47 1.01.55.13.02.26.03.4.03h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7-.25c.41 0 .75.34.75.75s-.34.75-.75.75-.75-.34-.75-.75.34-.75.75-.75zM19 19H5V5h14v14z"},child:[]}]})(e)}var C0={exports:{}},Ql={},SM={exports:{}},EM,iH;function S_e(){if(iH)return EM;iH=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return EM=e,EM}var DM,sH;function E_e(){if(sH)return DM;sH=1;var e=S_e();function t(){}function n(){}return n.resetWarningCache=t,DM=function(){function r(o,a,l,c,d,f){if(f!==e){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:t};return s.PropTypes=s,s},DM}var oH;function fY(){return oH||(oH=1,SM.exports=E_e()()),SM.exports}var x0={exports:{}},fs={},S0={exports:{}},aH;function pY(){return aH||(aH=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;var n="none",r="contents",i=/^(input|select|textarea|button|object|iframe)$/;function s(f,p){return p.getPropertyValue("overflow")!=="visible"||f.scrollWidth<=0&&f.scrollHeight<=0}function o(f){var p=f.offsetWidth<=0&&f.offsetHeight<=0;if(p&&!f.innerHTML)return!0;try{var v=window.getComputedStyle(f),y=v.getPropertyValue("display");return p?y!==r&&s(f,v):y===n}catch{return console.warn("Failed to inspect element style"),!1}}function a(f){for(var p=f,v=f.getRootNode&&f.getRootNode();p&&p!==document.body;){if(v&&p===v&&(p=v.host.parentNode),o(p))return!1;p=p.parentNode}return!0}function l(f,p){var v=f.nodeName.toLowerCase(),y=i.test(v)&&!f.disabled||v==="a"&&f.href||p;return y&&a(f)}function c(f){var p=f.getAttribute("tabindex");p===null&&(p=void 0);var v=isNaN(p);return(v||p>=0)&&l(f,!v)}function d(f){var p=[].slice.call(f.querySelectorAll("*"),0).reduce(function(v,y){return v.concat(y.shadowRoot?d(y.shadowRoot):[y])},[]);return p.filter(c)}e.exports=t.default})(S0,S0.exports)),S0.exports}var lH;function D_e(){if(lH)return fs;lH=1,Object.defineProperty(fs,"__esModule",{value:!0}),fs.resetState=o,fs.log=a,fs.handleBlur=l,fs.handleFocus=c,fs.markForFocusLater=d,fs.returnFocus=f,fs.popWithoutFocus=p,fs.setupScopedFocus=v,fs.teardownScopedFocus=y;var e=pY(),t=n(e);function n(b){return b&&b.__esModule?b:{default:b}}var r=[],i=null,s=!1;function o(){r=[]}function a(){}function l(){s=!0}function c(){if(s){if(s=!1,!i)return;setTimeout(function(){if(!i.contains(document.activeElement)){var b=(0,t.default)(i)[0]||i;b.focus()}},0)}}function d(){r.push(document.activeElement)}function f(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,x=null;try{r.length!==0&&(x=r.pop(),x.focus({preventScroll:b}));return}catch{console.warn(["You tried to return focus to",x,"but it is not in the DOM anymore"].join(" "))}}function p(){r.length>0&&r.pop()}function v(b){i=b,window.addEventListener?(window.addEventListener("blur",l,!1),document.addEventListener("focus",c,!0)):(window.attachEvent("onBlur",l),document.attachEvent("onFocus",c))}function y(){i=null,window.addEventListener?(window.removeEventListener("blur",l),document.removeEventListener("focus",c)):(window.detachEvent("onBlur",l),document.detachEvent("onFocus",c))}return fs}var E0={exports:{}},cH;function R_e(){return cH||(cH=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var n=pY(),r=i(n);function i(a){return a&&a.__esModule?a:{default:a}}function s(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;return a.activeElement.shadowRoot?s(a.activeElement.shadowRoot):a.activeElement}function o(a,l){var c=(0,r.default)(a);if(!c.length){l.preventDefault();return}var d=void 0,f=l.shiftKey,p=c[0],v=c[c.length-1],y=s();if(a===y){if(!f)return;d=v}if(v===y&&!f&&(d=p),p===y&&f&&(d=v),d){l.preventDefault(),d.focus();return}var b=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent),x=b!=null&&b[1]!="Chrome"&&/\biPod\b|\biPad\b/g.exec(navigator.userAgent)==null;if(x){var S=c.indexOf(y);if(S>-1&&(S+=f?-1:1),d=c[S],typeof d>"u"){l.preventDefault(),d=f?v:p,d.focus();return}l.preventDefault(),d.focus()}}e.exports=t.default})(E0,E0.exports)),E0.exports}var Hs={},RM,uH;function M_e(){if(uH)return RM;uH=1;var e=function(){};return RM=e,RM}var go={},MM={exports:{}};var dH;function T_e(){return dH||(dH=1,(function(e){(function(){var t=!!(typeof window<"u"&&window.document&&window.document.createElement),n={canUseDOM:t,canUseWorkers:typeof Worker<"u",canUseEventListeners:t&&!!(window.addEventListener||window.attachEvent),canUseViewport:t&&!!window.screen};e.exports?e.exports=n:window.ExecutionEnvironment=n})()})(MM)),MM.exports}var hH;function BN(){if(hH)return go;hH=1,Object.defineProperty(go,"__esModule",{value:!0}),go.canUseDOM=go.SafeNodeList=go.SafeHTMLCollection=void 0;var e=T_e(),t=n(e);function n(s){return s&&s.__esModule?s:{default:s}}var r=t.default,i=r.canUseDOM?window.HTMLElement:{};return go.SafeHTMLCollection=r.canUseDOM?window.HTMLCollection:{},go.SafeNodeList=r.canUseDOM?window.NodeList:{},go.canUseDOM=r.canUseDOM,go.default=i,go}var fH;function gY(){if(fH)return Hs;fH=1,Object.defineProperty(Hs,"__esModule",{value:!0}),Hs.resetState=s,Hs.log=o,Hs.assertNodeList=a,Hs.setElement=l,Hs.validateElement=c,Hs.hide=d,Hs.show=f,Hs.documentNotReadyOrSSRTesting=p;var e=M_e(),t=r(e),n=BN();function r(v){return v&&v.__esModule?v:{default:v}}var i=null;function s(){i&&(i.removeAttribute?i.removeAttribute("aria-hidden"):i.length!=null?i.forEach(function(v){return v.removeAttribute("aria-hidden")}):document.querySelectorAll(i).forEach(function(v){return v.removeAttribute("aria-hidden")})),i=null}function o(){}function a(v,y){if(!v||!v.length)throw new Error("react-modal: No elements were found for selector "+y+".")}function l(v){var y=v;if(typeof y=="string"&&n.canUseDOM){var b=document.querySelectorAll(y);a(b,y),y=b}return i=y||i,i}function c(v){var y=v||i;return y?Array.isArray(y)||y instanceof HTMLCollection||y instanceof NodeList?y:[y]:((0,t.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}function d(v){var y=!0,b=!1,x=void 0;try{for(var S=c(v)[Symbol.iterator](),M;!(y=(M=S.next()).done);y=!0){var R=M.value;R.setAttribute("aria-hidden","true")}}catch(T){b=!0,x=T}finally{try{!y&&S.return&&S.return()}finally{if(b)throw x}}}function f(v){var y=!0,b=!1,x=void 0;try{for(var S=c(v)[Symbol.iterator](),M;!(y=(M=S.next()).done);y=!0){var R=M.value;R.removeAttribute("aria-hidden")}}catch(T){b=!0,x=T}finally{try{!y&&S.return&&S.return()}finally{if(b)throw x}}}function p(){i=null}return Hs}var du={},pH;function k_e(){if(pH)return du;pH=1,Object.defineProperty(du,"__esModule",{value:!0}),du.resetState=r,du.log=i;var e={},t={};function n(c,d){c.classList.remove(d)}function r(){var c=document.getElementsByTagName("html")[0];for(var d in e)n(c,e[d]);var f=document.body;for(var p in t)n(f,t[p]);e={},t={}}function i(){}var s=function(d,f){return d[f]||(d[f]=0),d[f]+=1,f},o=function(d,f){return d[f]&&(d[f]-=1),f},a=function(d,f,p){p.forEach(function(v){s(f,v),d.add(v)})},l=function(d,f,p){p.forEach(function(v){o(f,v),f[v]===0&&d.remove(v)})};return du.add=function(d,f){return a(d.classList,d.nodeName.toLowerCase()=="html"?e:t,f.split(" "))},du.remove=function(d,f){return l(d.classList,d.nodeName.toLowerCase()=="html"?e:t,f.split(" "))},du}var Ch={},gH;function mY(){if(gH)return Ch;gH=1,Object.defineProperty(Ch,"__esModule",{value:!0}),Ch.log=r,Ch.resetState=i;function e(s,o){if(!(s instanceof o))throw new TypeError("Cannot call a class as a function")}var t=function s(){var o=this;e(this,s),this.register=function(a){o.openInstances.indexOf(a)===-1&&(o.openInstances.push(a),o.emit("register"))},this.deregister=function(a){var l=o.openInstances.indexOf(a);l!==-1&&(o.openInstances.splice(l,1),o.emit("deregister"))},this.subscribe=function(a){o.subscribers.push(a)},this.emit=function(a){o.subscribers.forEach(function(l){return l(a,o.openInstances.slice())})},this.openInstances=[],this.subscribers=[]},n=new t;function r(){console.log("portalOpenInstances ----------"),console.log(n.openInstances.length),n.openInstances.forEach(function(s){return console.log(s)}),console.log("end portalOpenInstances ----------")}function i(){n=new t}return Ch.default=n,Ch}var dg={},mH;function A_e(){if(mH)return dg;mH=1,Object.defineProperty(dg,"__esModule",{value:!0}),dg.resetState=o,dg.log=a;var e=mY(),t=n(e);function n(d){return d&&d.__esModule?d:{default:d}}var r=void 0,i=void 0,s=[];function o(){for(var d=[r,i],f=0;f<d.length;f++){var p=d[f];p&&p.parentNode&&p.parentNode.removeChild(p)}r=i=null,s=[]}function a(){console.log("bodyTrap ----------"),console.log(s.length);for(var d=[r,i],f=0;f<d.length;f++){var p=d[f],v=p||{};console.log(v.nodeName,v.className,v.id)}console.log("edn bodyTrap ----------")}function l(){s.length!==0&&s[s.length-1].focusContent()}function c(d,f){!r&&!i&&(r=document.createElement("div"),r.setAttribute("data-react-modal-body-trap",""),r.style.position="absolute",r.style.opacity="0",r.setAttribute("tabindex","0"),r.addEventListener("focus",l),i=r.cloneNode(),i.addEventListener("focus",l)),s=f,s.length>0?(document.body.firstChild!==r&&document.body.insertBefore(r,document.body.firstChild),document.body.lastChild!==i&&document.body.appendChild(i)):(r.parentElement&&r.parentElement.removeChild(r),i.parentElement&&i.parentElement.removeChild(i))}return t.default.subscribe(c),dg}var vH;function P_e(){return vH||(vH=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(F){for(var L=1;L<arguments.length;L++){var z=arguments[L];for(var j in z)Object.prototype.hasOwnProperty.call(z,j)&&(F[j]=z[j])}return F},r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(F){return typeof F}:function(F){return F&&typeof Symbol=="function"&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F},i=(function(){function F(L,z){for(var j=0;j<z.length;j++){var $=z[j];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(L,$.key,$)}}return function(L,z,j){return z&&F(L.prototype,z),j&&F(L,j),L}})(),s=Fc(),o=fY(),a=k(o),l=D_e(),c=T(l),d=R_e(),f=k(d),p=gY(),v=T(p),y=k_e(),b=T(y),x=BN(),S=k(x),M=mY(),R=k(M);A_e();function T(F){if(F&&F.__esModule)return F;var L={};if(F!=null)for(var z in F)Object.prototype.hasOwnProperty.call(F,z)&&(L[z]=F[z]);return L.default=F,L}function k(F){return F&&F.__esModule?F:{default:F}}function P(F,L){if(!(F instanceof L))throw new TypeError("Cannot call a class as a function")}function A(F,L){if(!F)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return L&&(typeof L=="object"||typeof L=="function")?L:F}function O(F,L){if(typeof L!="function"&&L!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof L);F.prototype=Object.create(L&&L.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),L&&(Object.setPrototypeOf?Object.setPrototypeOf(F,L):F.__proto__=L)}var B={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},U=function(L){return L.code==="Tab"||L.keyCode===9},_=function(L){return L.code==="Escape"||L.keyCode===27},I=0,V=(function(F){O(L,F);function L(z){P(this,L);var j=A(this,(L.__proto__||Object.getPrototypeOf(L)).call(this,z));return j.setOverlayRef=function($){j.overlay=$,j.props.overlayRef&&j.props.overlayRef($)},j.setContentRef=function($){j.content=$,j.props.contentRef&&j.props.contentRef($)},j.afterClose=function(){var $=j.props,W=$.appElement,K=$.ariaHideApp,H=$.htmlOpenClassName,Y=$.bodyOpenClassName,Z=$.parentSelector,X=Z&&Z().ownerDocument||document;Y&&b.remove(X.body,Y),H&&b.remove(X.getElementsByTagName("html")[0],H),K&&I>0&&(I-=1,I===0&&v.show(W)),j.props.shouldFocusAfterRender&&(j.props.shouldReturnFocusAfterClose?(c.returnFocus(j.props.preventScroll),c.teardownScopedFocus()):c.popWithoutFocus()),j.props.onAfterClose&&j.props.onAfterClose(),R.default.deregister(j)},j.open=function(){j.beforeOpen(),j.state.afterOpen&&j.state.beforeClose?(clearTimeout(j.closeTimer),j.setState({beforeClose:!1})):(j.props.shouldFocusAfterRender&&(c.setupScopedFocus(j.node),c.markForFocusLater()),j.setState({isOpen:!0},function(){j.openAnimationFrame=requestAnimationFrame(function(){j.setState({afterOpen:!0}),j.props.isOpen&&j.props.onAfterOpen&&j.props.onAfterOpen({overlayEl:j.overlay,contentEl:j.content})})}))},j.close=function(){j.props.closeTimeoutMS>0?j.closeWithTimeout():j.closeWithoutTimeout()},j.focusContent=function(){return j.content&&!j.contentHasFocus()&&j.content.focus({preventScroll:!0})},j.closeWithTimeout=function(){var $=Date.now()+j.props.closeTimeoutMS;j.setState({beforeClose:!0,closesAt:$},function(){j.closeTimer=setTimeout(j.closeWithoutTimeout,j.state.closesAt-Date.now())})},j.closeWithoutTimeout=function(){j.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},j.afterClose)},j.handleKeyDown=function($){U($)&&(0,f.default)(j.content,$),j.props.shouldCloseOnEsc&&_($)&&($.stopPropagation(),j.requestClose($))},j.handleOverlayOnClick=function($){j.shouldClose===null&&(j.shouldClose=!0),j.shouldClose&&j.props.shouldCloseOnOverlayClick&&(j.ownerHandlesClose()?j.requestClose($):j.focusContent()),j.shouldClose=null},j.handleContentOnMouseUp=function(){j.shouldClose=!1},j.handleOverlayOnMouseDown=function($){!j.props.shouldCloseOnOverlayClick&&$.target==j.overlay&&$.preventDefault()},j.handleContentOnClick=function(){j.shouldClose=!1},j.handleContentOnMouseDown=function(){j.shouldClose=!1},j.requestClose=function($){return j.ownerHandlesClose()&&j.props.onRequestClose($)},j.ownerHandlesClose=function(){return j.props.onRequestClose},j.shouldBeClosed=function(){return!j.state.isOpen&&!j.state.beforeClose},j.contentHasFocus=function(){return document.activeElement===j.content||j.content.contains(document.activeElement)},j.buildClassName=function($,W){var K=(typeof W>"u"?"undefined":r(W))==="object"?W:{base:B[$],afterOpen:B[$]+"--after-open",beforeClose:B[$]+"--before-close"},H=K.base;return j.state.afterOpen&&(H=H+" "+K.afterOpen),j.state.beforeClose&&(H=H+" "+K.beforeClose),typeof W=="string"&&W?H+" "+W:H},j.attributesFromObject=function($,W){return Object.keys(W).reduce(function(K,H){return K[$+"-"+H]=W[H],K},{})},j.state={afterOpen:!1,beforeClose:!1},j.shouldClose=null,j.moveFromContentToOverlay=null,j}return i(L,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(j,$){this.props.isOpen&&!j.isOpen?this.open():!this.props.isOpen&&j.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!$.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var j=this.props,$=j.appElement,W=j.ariaHideApp,K=j.htmlOpenClassName,H=j.bodyOpenClassName,Y=j.parentSelector,Z=Y&&Y().ownerDocument||document;H&&b.add(Z.body,H),K&&b.add(Z.getElementsByTagName("html")[0],K),W&&(I+=1,v.hide($)),R.default.register(this)}},{key:"render",value:function(){var j=this.props,$=j.id,W=j.className,K=j.overlayClassName,H=j.defaultStyles,Y=j.children,Z=W?{}:H.content,X=K?{}:H.overlay;if(this.shouldBeClosed())return null;var fe={ref:this.setOverlayRef,className:this.buildClassName("overlay",K),style:n({},X,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},pe=n({id:$,ref:this.setContentRef,style:n({},Z,this.props.style.content),className:this.buildClassName("content",W),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",n({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),Ce=this.props.contentElement(pe,Y);return this.props.overlayElement(fe,Ce)}}]),L})(s.Component);V.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},V.propTypes={isOpen:a.default.bool.isRequired,defaultStyles:a.default.shape({content:a.default.object,overlay:a.default.object}),style:a.default.shape({content:a.default.object,overlay:a.default.object}),className:a.default.oneOfType([a.default.string,a.default.object]),overlayClassName:a.default.oneOfType([a.default.string,a.default.object]),parentSelector:a.default.func,bodyOpenClassName:a.default.string,htmlOpenClassName:a.default.string,ariaHideApp:a.default.bool,appElement:a.default.oneOfType([a.default.instanceOf(S.default),a.default.instanceOf(x.SafeHTMLCollection),a.default.instanceOf(x.SafeNodeList),a.default.arrayOf(a.default.instanceOf(S.default))]),onAfterOpen:a.default.func,onAfterClose:a.default.func,onRequestClose:a.default.func,closeTimeoutMS:a.default.number,shouldFocusAfterRender:a.default.bool,shouldCloseOnOverlayClick:a.default.bool,shouldReturnFocusAfterClose:a.default.bool,preventScroll:a.default.bool,role:a.default.string,contentLabel:a.default.string,aria:a.default.object,data:a.default.object,children:a.default.node,shouldCloseOnEsc:a.default.bool,overlayRef:a.default.func,contentRef:a.default.func,id:a.default.string,overlayElement:a.default.func,contentElement:a.default.func,testId:a.default.string},t.default=V,e.exports=t.default})(x0,x0.exports)),x0.exports}function vY(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);e!=null&&this.setState(e)}function yY(e){function t(n){var r=this.constructor.getDerivedStateFromProps(e,n);return r??null}this.setState(t.bind(this))}function wY(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}vY.__suppressDeprecationWarning=!0;yY.__suppressDeprecationWarning=!0;wY.__suppressDeprecationWarning=!0;function N_e(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if(typeof e.getDerivedStateFromProps!="function"&&typeof t.getSnapshotBeforeUpdate!="function")return e;var n=null,r=null,i=null;if(typeof t.componentWillMount=="function"?n="componentWillMount":typeof t.UNSAFE_componentWillMount=="function"&&(n="UNSAFE_componentWillMount"),typeof t.componentWillReceiveProps=="function"?r="componentWillReceiveProps":typeof t.UNSAFE_componentWillReceiveProps=="function"&&(r="UNSAFE_componentWillReceiveProps"),typeof t.componentWillUpdate=="function"?i="componentWillUpdate":typeof t.UNSAFE_componentWillUpdate=="function"&&(i="UNSAFE_componentWillUpdate"),n!==null||r!==null||i!==null){var s=e.displayName||e.name,o=typeof e.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+s+" uses "+o+" but also contains the following legacy lifecycles:"+(n!==null?`
  `+n:"")+(r!==null?`
  `+r:"")+(i!==null?`
  `+i:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof e.getDerivedStateFromProps=="function"&&(t.componentWillMount=vY,t.componentWillReceiveProps=yY),typeof t.getSnapshotBeforeUpdate=="function"){if(typeof t.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=wY;var a=t.componentDidUpdate;t.componentDidUpdate=function(c,d,f){var p=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:f;a.call(this,c,d,p)}}return e}const O_e=Object.freeze(Object.defineProperty({__proto__:null,polyfill:N_e},Symbol.toStringTag,{value:"Module"})),F_e=ate(O_e);var yH;function I_e(){if(yH)return Ql;yH=1,Object.defineProperty(Ql,"__esModule",{value:!0}),Ql.bodyOpenClassName=Ql.portalClassName=void 0;var e=Object.assign||function(_){for(var I=1;I<arguments.length;I++){var V=arguments[I];for(var F in V)Object.prototype.hasOwnProperty.call(V,F)&&(_[F]=V[F])}return _},t=(function(){function _(I,V){for(var F=0;F<V.length;F++){var L=V[F];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(I,L.key,L)}}return function(I,V,F){return V&&_(I.prototype,V),F&&_(I,F),I}})(),n=Fc(),r=x(n),i=Wk(),s=x(i),o=fY(),a=x(o),l=P_e(),c=x(l),d=gY(),f=b(d),p=BN(),v=x(p),y=F_e;function b(_){if(_&&_.__esModule)return _;var I={};if(_!=null)for(var V in _)Object.prototype.hasOwnProperty.call(_,V)&&(I[V]=_[V]);return I.default=_,I}function x(_){return _&&_.__esModule?_:{default:_}}function S(_,I){if(!(_ instanceof I))throw new TypeError("Cannot call a class as a function")}function M(_,I){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:_}function R(_,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);_.prototype=Object.create(I&&I.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(_,I):_.__proto__=I)}var T=Ql.portalClassName="ReactModalPortal",k=Ql.bodyOpenClassName="ReactModal__Body--open",P=p.canUseDOM&&s.default.createPortal!==void 0,A=function(I){return document.createElement(I)},O=function(){return P?s.default.createPortal:s.default.unstable_renderSubtreeIntoContainer};function B(_){return _()}var U=(function(_){R(I,_);function I(){var V,F,L,z;S(this,I);for(var j=arguments.length,$=Array(j),W=0;W<j;W++)$[W]=arguments[W];return z=(F=(L=M(this,(V=I.__proto__||Object.getPrototypeOf(I)).call.apply(V,[this].concat($))),L),L.removePortal=function(){!P&&s.default.unmountComponentAtNode(L.node);var K=B(L.props.parentSelector);K&&K.contains(L.node)?K.removeChild(L.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},L.portalRef=function(K){L.portal=K},L.renderPortal=function(K){var H=O(),Y=H(L,r.default.createElement(c.default,e({defaultStyles:I.defaultStyles},K)),L.node);L.portalRef(Y)},F),M(L,z)}return t(I,[{key:"componentDidMount",value:function(){if(p.canUseDOM){P||(this.node=A("div")),this.node.className=this.props.portalClassName;var F=B(this.props.parentSelector);F.appendChild(this.node),!P&&this.renderPortal(this.props)}}},{key:"getSnapshotBeforeUpdate",value:function(F){var L=B(F.parentSelector),z=B(this.props.parentSelector);return{prevParent:L,nextParent:z}}},{key:"componentDidUpdate",value:function(F,L,z){if(p.canUseDOM){var j=this.props,$=j.isOpen,W=j.portalClassName;F.portalClassName!==W&&(this.node.className=W);var K=z.prevParent,H=z.nextParent;H!==K&&(K.removeChild(this.node),H.appendChild(this.node)),!(!F.isOpen&&!$)&&!P&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(!(!p.canUseDOM||!this.node||!this.portal)){var F=this.portal.state,L=Date.now(),z=F.isOpen&&this.props.closeTimeoutMS&&(F.closesAt||L+this.props.closeTimeoutMS);z?(F.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,z-L)):this.removePortal()}}},{key:"render",value:function(){if(!p.canUseDOM||!P)return null;!this.node&&P&&(this.node=A("div"));var F=O();return F(r.default.createElement(c.default,e({ref:this.portalRef,defaultStyles:I.defaultStyles},this.props)),this.node)}}],[{key:"setAppElement",value:function(F){f.setElement(F)}}]),I})(n.Component);return U.propTypes={isOpen:a.default.bool.isRequired,style:a.default.shape({content:a.default.object,overlay:a.default.object}),portalClassName:a.default.string,bodyOpenClassName:a.default.string,htmlOpenClassName:a.default.string,className:a.default.oneOfType([a.default.string,a.default.shape({base:a.default.string.isRequired,afterOpen:a.default.string.isRequired,beforeClose:a.default.string.isRequired})]),overlayClassName:a.default.oneOfType([a.default.string,a.default.shape({base:a.default.string.isRequired,afterOpen:a.default.string.isRequired,beforeClose:a.default.string.isRequired})]),appElement:a.default.oneOfType([a.default.instanceOf(v.default),a.default.instanceOf(p.SafeHTMLCollection),a.default.instanceOf(p.SafeNodeList),a.default.arrayOf(a.default.instanceOf(v.default))]),onAfterOpen:a.default.func,onRequestClose:a.default.func,closeTimeoutMS:a.default.number,ariaHideApp:a.default.bool,shouldFocusAfterRender:a.default.bool,shouldCloseOnOverlayClick:a.default.bool,shouldReturnFocusAfterClose:a.default.bool,preventScroll:a.default.bool,parentSelector:a.default.func,aria:a.default.object,data:a.default.object,role:a.default.string,contentLabel:a.default.string,shouldCloseOnEsc:a.default.bool,overlayRef:a.default.func,contentRef:a.default.func,id:a.default.string,overlayElement:a.default.func,contentElement:a.default.func},U.defaultProps={isOpen:!1,portalClassName:T,bodyOpenClassName:k,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(I,V){return r.default.createElement("div",I,V)},contentElement:function(I,V){return r.default.createElement("div",I,V)}},U.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}},(0,y.polyfill)(U),Ql.default=U,Ql}var wH;function L_e(){return wH||(wH=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=I_e(),r=i(n);function i(s){return s&&s.__esModule?s:{default:s}}t.default=r.default,e.exports=t.default})(C0,C0.exports)),C0.exports}var __e=L_e();const kc=Fs(__e),bY=6048e5,j_e=864e5,cS=6e4,uS=36e5,B_e=1e3,bH=Symbol.for("constructDateFrom");function It(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&bH in e?e[bH](t):e instanceof Date?new e.constructor(t):new Date(t)}function Fe(e,t){return It(t||e,e)}function Qs(e,t,n){const r=Fe(e,n?.in);return isNaN(t)?It(n?.in||e,NaN):(t&&r.setDate(r.getDate()+t),r)}function to(e,t,n){const r=Fe(e,n?.in);if(isNaN(t))return It(e,NaN);if(!t)return r;const i=r.getDate(),s=It(e,r.getTime());s.setMonth(r.getMonth()+t+1,0);const o=s.getDate();return i>=o?s:(r.setFullYear(s.getFullYear(),s.getMonth(),i),r)}function CY(e,t,n){return It(e,+Fe(e)+t)}function H_e(e,t,n){return CY(e,t*uS)}let z_e={};function Dd(){return z_e}function ll(e,t){const n=Dd(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=Fe(e,t?.in),s=i.getDay(),o=(s<r?7:0)+s-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function Cf(e,t){return ll(e,{...t,weekStartsOn:1})}function xY(e,t){const n=Fe(e,t?.in),r=n.getFullYear(),i=It(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const s=Cf(i),o=It(n,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const a=Cf(o);return n.getTime()>=s.getTime()?r+1:n.getTime()>=a.getTime()?r:r-1}function qb(e){const t=Fe(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function bl(e,...t){const n=It.bind(null,t.find(r=>typeof r=="object"));return t.map(n)}function ld(e,t){const n=Fe(e,t?.in);return n.setHours(0,0,0,0),n}function xf(e,t,n){const[r,i]=bl(n?.in,e,t),s=ld(r),o=ld(i),a=+s-qb(s),l=+o-qb(o);return Math.round((a-l)/j_e)}function G_e(e,t){const n=xY(e,t),r=It(e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Cf(r)}function sk(e,t,n){const r=Fe(e,n?.in);return r.setTime(r.getTime()+t*cS),r}function HN(e,t,n){return to(e,t*3,n)}function V_e(e,t,n){return CY(e,t*1e3)}function Kb(e,t,n){return Qs(e,t*7,n)}function Ba(e,t,n){return to(e,t*12,n)}function CH(e,t){let n,r=t?.in;return e.forEach(i=>{!r&&typeof i=="object"&&(r=It.bind(null,i));const s=Fe(i,r);(!n||n<s||isNaN(+s))&&(n=s)}),It(r,n||NaN)}function xH(e,t){let n,r=t?.in;return e.forEach(i=>{!r&&typeof i=="object"&&(r=It.bind(null,i));const s=Fe(i,r);(!n||n>s||isNaN(+s))&&(n=s)}),It(r,n||NaN)}function W_e(e,t,n){const[r,i]=bl(n?.in,e,t);return+ld(r)==+ld(i)}function Ha(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Yb(e){return!(!Ha(e)&&typeof e!="number"||isNaN(+Fe(e)))}function Qb(e,t,n){const[r,i]=bl(n?.in,e,t),s=r.getFullYear()-i.getFullYear(),o=r.getMonth()-i.getMonth();return s*12+o}function dc(e,t){const n=Fe(e,t?.in);return Math.trunc(n.getMonth()/3)+1}function Xb(e,t,n){const[r,i]=bl(n?.in,e,t),s=r.getFullYear()-i.getFullYear(),o=dc(r)-dc(i);return s*4+o}function Jb(e,t,n){const[r,i]=bl(n?.in,e,t);return r.getFullYear()-i.getFullYear()}function U_e(e,t,n){const[r,i]=bl(n?.in,e,t),s=SH(r,i),o=Math.abs(xf(r,i));r.setDate(r.getDate()-s*o);const a=+(SH(r,i)===-s),l=s*(o-a);return l===0?0:l}function SH(e,t){const n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function SY(e,t){const n=Fe(e,t?.in);return n.setHours(23,59,59,999),n}function EY(e,t){const n=Fe(e,t?.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function ok(e,t){const n=Fe(e,t?.in),r=n.getMonth(),i=r-r%3;return n.setMonth(i,1),n.setHours(0,0,0,0),n}function DY(e,t){const n=Fe(e,t?.in);return n.setDate(1),n.setHours(0,0,0,0),n}function RY(e,t){const n=Fe(e,t?.in),r=n.getFullYear();return n.setFullYear(r+1,0,0),n.setHours(23,59,59,999),n}function dS(e,t){const n=Fe(e,t?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function $_e(e,t){const n=Dd(),r=n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=Fe(e,t?.in),s=i.getDay(),o=(s<r?-7:0)+6-(s-r);return i.setDate(i.getDate()+o),i.setHours(23,59,59,999),i}const q_e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},K_e=(e,t,n)=>{let r;const i=q_e[e];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function TM(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const Y_e={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Q_e={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},X_e={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},J_e={date:TM({formats:Y_e,defaultWidth:"full"}),time:TM({formats:Q_e,defaultWidth:"full"}),dateTime:TM({formats:X_e,defaultWidth:"full"})},Z_e={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},eje=(e,t,n,r)=>Z_e[e];function hg(e){return(t,n)=>{const r=n?.context?String(n.context):"standalone";let i;if(r==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,a=n?.width?String(n.width):o;i=e.formattingValues[a]||e.formattingValues[o]}else{const o=e.defaultWidth,a=n?.width?String(n.width):e.defaultWidth;i=e.values[a]||e.values[o]}const s=e.argumentCallback?e.argumentCallback(t):t;return i[s]}}const tje={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},nje={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},rje={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},ije={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},sje={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},oje={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},aje=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},lje={ordinalNumber:aje,era:hg({values:tje,defaultWidth:"wide"}),quarter:hg({values:nje,defaultWidth:"wide",argumentCallback:e=>e-1}),month:hg({values:rje,defaultWidth:"wide"}),day:hg({values:ije,defaultWidth:"wide"}),dayPeriod:hg({values:sje,defaultWidth:"wide",formattingValues:oje,defaultFormattingWidth:"wide"})};function fg(e){return(t,n={})=>{const r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],s=t.match(i);if(!s)return null;const o=s[0],a=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(a)?uje(a,f=>f.test(o)):cje(a,f=>f.test(o));let c;c=e.valueCallback?e.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const d=t.slice(o.length);return{value:c,rest:d}}}function cje(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function uje(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function dje(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const i=r[0],s=t.match(e.parsePattern);if(!s)return null;let o=e.valueCallback?e.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;const a=t.slice(i.length);return{value:o,rest:a}}}const hje=/^(\d+)(th|st|nd|rd)?/i,fje=/\d+/i,pje={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},gje={any:[/^b/i,/^(a|c)/i]},mje={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},vje={any:[/1/i,/2/i,/3/i,/4/i]},yje={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},wje={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},bje={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Cje={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},xje={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Sje={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Eje={ordinalNumber:dje({matchPattern:hje,parsePattern:fje,valueCallback:e=>parseInt(e,10)}),era:fg({matchPatterns:pje,defaultMatchWidth:"wide",parsePatterns:gje,defaultParseWidth:"any"}),quarter:fg({matchPatterns:mje,defaultMatchWidth:"wide",parsePatterns:vje,defaultParseWidth:"any",valueCallback:e=>e+1}),month:fg({matchPatterns:yje,defaultMatchWidth:"wide",parsePatterns:wje,defaultParseWidth:"any"}),day:fg({matchPatterns:bje,defaultMatchWidth:"wide",parsePatterns:Cje,defaultParseWidth:"any"}),dayPeriod:fg({matchPatterns:xje,defaultMatchWidth:"any",parsePatterns:Sje,defaultParseWidth:"any"})},MY={code:"en-US",formatDistance:K_e,formatLong:J_e,formatRelative:eje,localize:lje,match:Eje,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Dje(e,t){const n=Fe(e,t?.in);return xf(n,dS(n))+1}function zN(e,t){const n=Fe(e,t?.in),r=+Cf(n)-+G_e(n);return Math.round(r/bY)+1}function GN(e,t){const n=Fe(e,t?.in),r=n.getFullYear(),i=Dd(),s=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,o=It(t?.in||e,0);o.setFullYear(r+1,0,s),o.setHours(0,0,0,0);const a=ll(o,t),l=It(t?.in||e,0);l.setFullYear(r,0,s),l.setHours(0,0,0,0);const c=ll(l,t);return+n>=+a?r+1:+n>=+c?r:r-1}function Rje(e,t){const n=Dd(),r=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=GN(e,t),s=It(t?.in||e,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),ll(s,t)}function TY(e,t){const n=Fe(e,t?.in),r=+ll(n,t)-+Rje(n,t);return Math.round(r/bY)+1}function Nt(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const Xl={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return Nt(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):Nt(n+1,2)},d(e,t){return Nt(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return Nt(e.getHours()%12||12,t.length)},H(e,t){return Nt(e.getHours(),t.length)},m(e,t){return Nt(e.getMinutes(),t.length)},s(e,t){return Nt(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Nt(i,t.length)}},xh={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},EH={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Xl.y(e,t)},Y:function(e,t,n,r){const i=GN(e,r),s=i>0?i:1-i;if(t==="YY"){const o=s%100;return Nt(o,2)}return t==="Yo"?n.ordinalNumber(s,{unit:"year"}):Nt(s,t.length)},R:function(e,t){const n=xY(e);return Nt(n,t.length)},u:function(e,t){const n=e.getFullYear();return Nt(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Nt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Nt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return Xl.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return Nt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const i=TY(e,r);return t==="wo"?n.ordinalNumber(i,{unit:"week"}):Nt(i,t.length)},I:function(e,t,n){const r=zN(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):Nt(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Xl.d(e,t)},D:function(e,t,n){const r=Dje(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Nt(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const i=e.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return Nt(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const i=e.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return Nt(s,t.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),i=r===0?7:r;switch(t){case"i":return String(i);case"ii":return Nt(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let i;switch(r===12?i=xh.noon:r===0?i=xh.midnight:i=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let i;switch(r>=17?i=xh.evening:r>=12?i=xh.afternoon:r>=4?i=xh.morning:i=xh.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Xl.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Xl.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Nt(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):Nt(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Xl.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Xl.s(e,t)},S:function(e,t){return Xl.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return RH(r);case"XXXX":case"XX":return vu(r);case"XXXXX":case"XXX":default:return vu(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return RH(r);case"xxxx":case"xx":return vu(r);case"xxxxx":case"xxx":default:return vu(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+DH(r,":");case"OOOO":default:return"GMT"+vu(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+DH(r,":");case"zzzz":default:return"GMT"+vu(r,":")}},t:function(e,t,n){const r=Math.trunc(+e/1e3);return Nt(r,t.length)},T:function(e,t,n){return Nt(+e,t.length)}};function DH(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+t+Nt(s,2)}function RH(e,t){return e%60===0?(e>0?"-":"+")+Nt(Math.abs(e)/60,2):vu(e,t)}function vu(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=Nt(Math.trunc(r/60),2),s=Nt(r%60,2);return n+i+t+s}const MH=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},kY=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Mje=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return MH(e,t);let s;switch(r){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;case"PPPP":default:s=t.dateTime({width:"full"});break}return s.replace("{{date}}",MH(r,t)).replace("{{time}}",kY(i,t))},ak={p:kY,P:Mje},Tje=/^D+$/,kje=/^Y+$/,Aje=["D","DD","YY","YYYY"];function Pje(e){return Tje.test(e)}function Nje(e){return kje.test(e)}function Oje(e,t,n){const r=Fje(e,t,n);if(console.warn(r),Aje.includes(e))throw new RangeError(r)}function Fje(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Ije=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Lje=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,_je=/^'([^]*?)'?$/,jje=/''/g,Bje=/[a-zA-Z]/;function TH(e,t,n){const r=Dd(),i=n?.locale??r.locale??MY,s=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,o=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,a=Fe(e,n?.in);if(!Yb(a))throw new RangeError("Invalid time value");let l=t.match(Lje).map(d=>{const f=d[0];if(f==="p"||f==="P"){const p=ak[f];return p(d,i.formatLong)}return d}).join("").match(Ije).map(d=>{if(d==="''")return{isToken:!1,value:"'"};const f=d[0];if(f==="'")return{isToken:!1,value:Hje(d)};if(EH[f])return{isToken:!0,value:d};if(f.match(Bje))throw new RangeError("Format string contains an unescaped latin alphabet character `"+f+"`");return{isToken:!1,value:d}});i.localize.preprocessor&&(l=i.localize.preprocessor(a,l));const c={firstWeekContainsDate:s,weekStartsOn:o,locale:i};return l.map(d=>{if(!d.isToken)return d.value;const f=d.value;(!n?.useAdditionalWeekYearTokens&&Nje(f)||!n?.useAdditionalDayOfYearTokens&&Pje(f))&&Oje(f,t,String(e));const p=EH[f[0]];return p(a,f,i.localize,c)}).join("")}function Hje(e){const t=e.match(_je);return t?t[1].replace(jje,"'"):e}function kH(e,t){return Fe(e,t?.in).getDate()}function zje(e,t){return Fe(e,t?.in).getDay()}function Gje(e,t){const n=Fe(e,t?.in),r=n.getFullYear(),i=n.getMonth(),s=It(n,0);return s.setFullYear(r,i+1,0),s.setHours(0,0,0,0),s.getDate()}function Vje(){return Object.assign({},Dd())}function za(e,t){return Fe(e,t?.in).getHours()}function Wje(e,t){const n=Fe(e,t?.in).getDay();return n===0?7:n}function Ga(e,t){return Fe(e,t?.in).getMinutes()}function Nr(e,t){return Fe(e,t?.in).getMonth()}function vc(e){return Fe(e).getSeconds()}function lk(e){return+Fe(e)}function st(e,t){return Fe(e,t?.in).getFullYear()}function Ac(e,t){return+Fe(e)>+Fe(t)}function Ao(e,t){return+Fe(e)<+Fe(t)}function Uje(e,t){return+Fe(e)==+Fe(t)}function $je(e,t){const n=qje(t)?new t(0):It(t,0);return n.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),n.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),n}function qje(e){return typeof e=="function"&&e.prototype?.constructor===e}const Kje=10;class AY{subPriority=0;validate(t,n){return!0}}class Yje extends AY{constructor(t,n,r,i,s){super(),this.value=t,this.validateValue=n,this.setValue=r,this.priority=i,s&&(this.subPriority=s)}validate(t,n){return this.validateValue(t,this.value,n)}set(t,n,r){return this.setValue(t,n,this.value,r)}}class Qje extends AY{priority=Kje;subPriority=-1;constructor(t,n){super(),this.context=t||(r=>It(n,r))}set(t,n){return n.timestampIsSet?t:It(t,$je(t,this.context))}}class St{run(t,n,r,i){const s=this.parse(t,n,r,i);return s?{setter:new Yje(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}validate(t,n,r){return!0}}class Xje extends St{priority=140;parse(t,n,r){switch(n){case"G":case"GG":case"GGG":return r.era(t,{width:"abbreviated"})||r.era(t,{width:"narrow"});case"GGGGG":return r.era(t,{width:"narrow"});case"GGGG":default:return r.era(t,{width:"wide"})||r.era(t,{width:"abbreviated"})||r.era(t,{width:"narrow"})}}set(t,n,r){return n.era=r,t.setFullYear(r,0,1),t.setHours(0,0,0,0),t}incompatibleTokens=["R","u","t","T"]}const kn={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Do={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function An(e,t){return e&&{value:t(e.value),rest:e.rest}}function fn(e,t){const n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function Ro(e,t){const n=t.match(e);if(!n)return null;if(n[0]==="Z")return{value:0,rest:t.slice(1)};const r=n[1]==="+"?1:-1,i=n[2]?parseInt(n[2],10):0,s=n[3]?parseInt(n[3],10):0,o=n[5]?parseInt(n[5],10):0;return{value:r*(i*uS+s*cS+o*B_e),rest:t.slice(n[0].length)}}function PY(e){return fn(kn.anyDigitsSigned,e)}function Cn(e,t){switch(e){case 1:return fn(kn.singleDigit,t);case 2:return fn(kn.twoDigits,t);case 3:return fn(kn.threeDigits,t);case 4:return fn(kn.fourDigits,t);default:return fn(new RegExp("^\\d{1,"+e+"}"),t)}}function Zb(e,t){switch(e){case 1:return fn(kn.singleDigitSigned,t);case 2:return fn(kn.twoDigitsSigned,t);case 3:return fn(kn.threeDigitsSigned,t);case 4:return fn(kn.fourDigitsSigned,t);default:return fn(new RegExp("^-?\\d{1,"+e+"}"),t)}}function VN(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function NY(e,t){const n=t>0,r=n?t:1-t;let i;if(r<=50)i=e||100;else{const s=r+50,o=Math.trunc(s/100)*100,a=e>=s%100;i=e+o-(a?100:0)}return n?i:1-i}function OY(e){return e%400===0||e%4===0&&e%100!==0}class Jje extends St{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(t,n,r){const i=s=>({year:s,isTwoDigitYear:n==="yy"});switch(n){case"y":return An(Cn(4,t),i);case"yo":return An(r.ordinalNumber(t,{unit:"year"}),i);default:return An(Cn(n.length,t),i)}}validate(t,n){return n.isTwoDigitYear||n.year>0}set(t,n,r){const i=t.getFullYear();if(r.isTwoDigitYear){const o=NY(r.year,i);return t.setFullYear(o,0,1),t.setHours(0,0,0,0),t}const s=!("era"in n)||n.era===1?r.year:1-r.year;return t.setFullYear(s,0,1),t.setHours(0,0,0,0),t}}class Zje extends St{priority=130;parse(t,n,r){const i=s=>({year:s,isTwoDigitYear:n==="YY"});switch(n){case"Y":return An(Cn(4,t),i);case"Yo":return An(r.ordinalNumber(t,{unit:"year"}),i);default:return An(Cn(n.length,t),i)}}validate(t,n){return n.isTwoDigitYear||n.year>0}set(t,n,r,i){const s=GN(t,i);if(r.isTwoDigitYear){const a=NY(r.year,s);return t.setFullYear(a,0,i.firstWeekContainsDate),t.setHours(0,0,0,0),ll(t,i)}const o=!("era"in n)||n.era===1?r.year:1-r.year;return t.setFullYear(o,0,i.firstWeekContainsDate),t.setHours(0,0,0,0),ll(t,i)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]}class e6e extends St{priority=130;parse(t,n){return Zb(n==="R"?4:n.length,t)}set(t,n,r){const i=It(t,0);return i.setFullYear(r,0,4),i.setHours(0,0,0,0),Cf(i)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]}class t6e extends St{priority=130;parse(t,n){return Zb(n==="u"?4:n.length,t)}set(t,n,r){return t.setFullYear(r,0,1),t.setHours(0,0,0,0),t}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]}class n6e extends St{priority=120;parse(t,n,r){switch(n){case"Q":case"QQ":return Cn(n.length,t);case"Qo":return r.ordinalNumber(t,{unit:"quarter"});case"QQQ":return r.quarter(t,{width:"abbreviated",context:"formatting"})||r.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return r.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(t,{width:"wide",context:"formatting"})||r.quarter(t,{width:"abbreviated",context:"formatting"})||r.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=1&&n<=4}set(t,n,r){return t.setMonth((r-1)*3,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]}class r6e extends St{priority=120;parse(t,n,r){switch(n){case"q":case"qq":return Cn(n.length,t);case"qo":return r.ordinalNumber(t,{unit:"quarter"});case"qqq":return r.quarter(t,{width:"abbreviated",context:"standalone"})||r.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return r.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(t,{width:"wide",context:"standalone"})||r.quarter(t,{width:"abbreviated",context:"standalone"})||r.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=1&&n<=4}set(t,n,r){return t.setMonth((r-1)*3,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]}class i6e extends St{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(t,n,r){const i=s=>s-1;switch(n){case"M":return An(fn(kn.month,t),i);case"MM":return An(Cn(2,t),i);case"Mo":return An(r.ordinalNumber(t,{unit:"month"}),i);case"MMM":return r.month(t,{width:"abbreviated",context:"formatting"})||r.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return r.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(t,{width:"wide",context:"formatting"})||r.month(t,{width:"abbreviated",context:"formatting"})||r.month(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=11}set(t,n,r){return t.setMonth(r,1),t.setHours(0,0,0,0),t}}class s6e extends St{priority=110;parse(t,n,r){const i=s=>s-1;switch(n){case"L":return An(fn(kn.month,t),i);case"LL":return An(Cn(2,t),i);case"Lo":return An(r.ordinalNumber(t,{unit:"month"}),i);case"LLL":return r.month(t,{width:"abbreviated",context:"standalone"})||r.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return r.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(t,{width:"wide",context:"standalone"})||r.month(t,{width:"abbreviated",context:"standalone"})||r.month(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=0&&n<=11}set(t,n,r){return t.setMonth(r,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]}function o6e(e,t,n){const r=Fe(e,n?.in),i=TY(r,n)-t;return r.setDate(r.getDate()-i*7),Fe(r,n?.in)}class a6e extends St{priority=100;parse(t,n,r){switch(n){case"w":return fn(kn.week,t);case"wo":return r.ordinalNumber(t,{unit:"week"});default:return Cn(n.length,t)}}validate(t,n){return n>=1&&n<=53}set(t,n,r,i){return ll(o6e(t,r,i),i)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]}function l6e(e,t,n){const r=Fe(e,n?.in),i=zN(r,n)-t;return r.setDate(r.getDate()-i*7),r}class c6e extends St{priority=100;parse(t,n,r){switch(n){case"I":return fn(kn.week,t);case"Io":return r.ordinalNumber(t,{unit:"week"});default:return Cn(n.length,t)}}validate(t,n){return n>=1&&n<=53}set(t,n,r){return Cf(l6e(t,r))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]}const u6e=[31,28,31,30,31,30,31,31,30,31,30,31],d6e=[31,29,31,30,31,30,31,31,30,31,30,31];class h6e extends St{priority=90;subPriority=1;parse(t,n,r){switch(n){case"d":return fn(kn.date,t);case"do":return r.ordinalNumber(t,{unit:"date"});default:return Cn(n.length,t)}}validate(t,n){const r=t.getFullYear(),i=OY(r),s=t.getMonth();return i?n>=1&&n<=d6e[s]:n>=1&&n<=u6e[s]}set(t,n,r){return t.setDate(r),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]}class f6e extends St{priority=90;subpriority=1;parse(t,n,r){switch(n){case"D":case"DD":return fn(kn.dayOfYear,t);case"Do":return r.ordinalNumber(t,{unit:"date"});default:return Cn(n.length,t)}}validate(t,n){const r=t.getFullYear();return OY(r)?n>=1&&n<=366:n>=1&&n<=365}set(t,n,r){return t.setMonth(0,r),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]}function WN(e,t,n){const r=Dd(),i=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,s=Fe(e,n?.in),o=s.getDay(),l=(t%7+7)%7,c=7-i,d=t<0||t>6?t-(o+c)%7:(l+c)%7-(o+c)%7;return Qs(s,d,n)}class p6e extends St{priority=90;parse(t,n,r){switch(n){case"E":case"EE":case"EEE":return r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return r.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"});case"EEEE":default:return r.day(t,{width:"wide",context:"formatting"})||r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=6}set(t,n,r,i){return t=WN(t,r,i),t.setHours(0,0,0,0),t}incompatibleTokens=["D","i","e","c","t","T"]}class g6e extends St{priority=90;parse(t,n,r,i){const s=o=>{const a=Math.floor((o-1)/7)*7;return(o+i.weekStartsOn+6)%7+a};switch(n){case"e":case"ee":return An(Cn(n.length,t),s);case"eo":return An(r.ordinalNumber(t,{unit:"day"}),s);case"eee":return r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"});case"eeeee":return r.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"});case"eeee":default:return r.day(t,{width:"wide",context:"formatting"})||r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=6}set(t,n,r,i){return t=WN(t,r,i),t.setHours(0,0,0,0),t}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]}class m6e extends St{priority=90;parse(t,n,r,i){const s=o=>{const a=Math.floor((o-1)/7)*7;return(o+i.weekStartsOn+6)%7+a};switch(n){case"c":case"cc":return An(Cn(n.length,t),s);case"co":return An(r.ordinalNumber(t,{unit:"day"}),s);case"ccc":return r.day(t,{width:"abbreviated",context:"standalone"})||r.day(t,{width:"short",context:"standalone"})||r.day(t,{width:"narrow",context:"standalone"});case"ccccc":return r.day(t,{width:"narrow",context:"standalone"});case"cccccc":return r.day(t,{width:"short",context:"standalone"})||r.day(t,{width:"narrow",context:"standalone"});case"cccc":default:return r.day(t,{width:"wide",context:"standalone"})||r.day(t,{width:"abbreviated",context:"standalone"})||r.day(t,{width:"short",context:"standalone"})||r.day(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=0&&n<=6}set(t,n,r,i){return t=WN(t,r,i),t.setHours(0,0,0,0),t}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]}function v6e(e,t,n){const r=Fe(e,n?.in),i=Wje(r,n),s=t-i;return Qs(r,s,n)}class y6e extends St{priority=90;parse(t,n,r){const i=s=>s===0?7:s;switch(n){case"i":case"ii":return Cn(n.length,t);case"io":return r.ordinalNumber(t,{unit:"day"});case"iii":return An(r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"}),i);case"iiiii":return An(r.day(t,{width:"narrow",context:"formatting"}),i);case"iiiiii":return An(r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"}),i);case"iiii":default:return An(r.day(t,{width:"wide",context:"formatting"})||r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"}),i)}}validate(t,n){return n>=1&&n<=7}set(t,n,r){return t=v6e(t,r),t.setHours(0,0,0,0),t}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]}class w6e extends St{priority=80;parse(t,n,r){switch(n){case"a":case"aa":case"aaa":return r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return r.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(t,{width:"wide",context:"formatting"})||r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,r){return t.setHours(VN(r),0,0,0),t}incompatibleTokens=["b","B","H","k","t","T"]}class b6e extends St{priority=80;parse(t,n,r){switch(n){case"b":case"bb":case"bbb":return r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return r.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(t,{width:"wide",context:"formatting"})||r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,r){return t.setHours(VN(r),0,0,0),t}incompatibleTokens=["a","B","H","k","t","T"]}class C6e extends St{priority=80;parse(t,n,r){switch(n){case"B":case"BB":case"BBB":return r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return r.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(t,{width:"wide",context:"formatting"})||r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,r){return t.setHours(VN(r),0,0,0),t}incompatibleTokens=["a","b","t","T"]}class x6e extends St{priority=70;parse(t,n,r){switch(n){case"h":return fn(kn.hour12h,t);case"ho":return r.ordinalNumber(t,{unit:"hour"});default:return Cn(n.length,t)}}validate(t,n){return n>=1&&n<=12}set(t,n,r){const i=t.getHours()>=12;return i&&r<12?t.setHours(r+12,0,0,0):!i&&r===12?t.setHours(0,0,0,0):t.setHours(r,0,0,0),t}incompatibleTokens=["H","K","k","t","T"]}class S6e extends St{priority=70;parse(t,n,r){switch(n){case"H":return fn(kn.hour23h,t);case"Ho":return r.ordinalNumber(t,{unit:"hour"});default:return Cn(n.length,t)}}validate(t,n){return n>=0&&n<=23}set(t,n,r){return t.setHours(r,0,0,0),t}incompatibleTokens=["a","b","h","K","k","t","T"]}class E6e extends St{priority=70;parse(t,n,r){switch(n){case"K":return fn(kn.hour11h,t);case"Ko":return r.ordinalNumber(t,{unit:"hour"});default:return Cn(n.length,t)}}validate(t,n){return n>=0&&n<=11}set(t,n,r){return t.getHours()>=12&&r<12?t.setHours(r+12,0,0,0):t.setHours(r,0,0,0),t}incompatibleTokens=["h","H","k","t","T"]}class D6e extends St{priority=70;parse(t,n,r){switch(n){case"k":return fn(kn.hour24h,t);case"ko":return r.ordinalNumber(t,{unit:"hour"});default:return Cn(n.length,t)}}validate(t,n){return n>=1&&n<=24}set(t,n,r){const i=r<=24?r%24:r;return t.setHours(i,0,0,0),t}incompatibleTokens=["a","b","h","H","K","t","T"]}class R6e extends St{priority=60;parse(t,n,r){switch(n){case"m":return fn(kn.minute,t);case"mo":return r.ordinalNumber(t,{unit:"minute"});default:return Cn(n.length,t)}}validate(t,n){return n>=0&&n<=59}set(t,n,r){return t.setMinutes(r,0,0),t}incompatibleTokens=["t","T"]}class M6e extends St{priority=50;parse(t,n,r){switch(n){case"s":return fn(kn.second,t);case"so":return r.ordinalNumber(t,{unit:"second"});default:return Cn(n.length,t)}}validate(t,n){return n>=0&&n<=59}set(t,n,r){return t.setSeconds(r,0),t}incompatibleTokens=["t","T"]}class T6e extends St{priority=30;parse(t,n){const r=i=>Math.trunc(i*Math.pow(10,-n.length+3));return An(Cn(n.length,t),r)}set(t,n,r){return t.setMilliseconds(r),t}incompatibleTokens=["t","T"]}class k6e extends St{priority=10;parse(t,n){switch(n){case"X":return Ro(Do.basicOptionalMinutes,t);case"XX":return Ro(Do.basic,t);case"XXXX":return Ro(Do.basicOptionalSeconds,t);case"XXXXX":return Ro(Do.extendedOptionalSeconds,t);case"XXX":default:return Ro(Do.extended,t)}}set(t,n,r){return n.timestampIsSet?t:It(t,t.getTime()-qb(t)-r)}incompatibleTokens=["t","T","x"]}class A6e extends St{priority=10;parse(t,n){switch(n){case"x":return Ro(Do.basicOptionalMinutes,t);case"xx":return Ro(Do.basic,t);case"xxxx":return Ro(Do.basicOptionalSeconds,t);case"xxxxx":return Ro(Do.extendedOptionalSeconds,t);case"xxx":default:return Ro(Do.extended,t)}}set(t,n,r){return n.timestampIsSet?t:It(t,t.getTime()-qb(t)-r)}incompatibleTokens=["t","T","X"]}class P6e extends St{priority=40;parse(t){return PY(t)}set(t,n,r){return[It(t,r*1e3),{timestampIsSet:!0}]}incompatibleTokens="*"}class N6e extends St{priority=20;parse(t){return PY(t)}set(t,n,r){return[It(t,r),{timestampIsSet:!0}]}incompatibleTokens="*"}const O6e={G:new Xje,y:new Jje,Y:new Zje,R:new e6e,u:new t6e,Q:new n6e,q:new r6e,M:new i6e,L:new s6e,w:new a6e,I:new c6e,d:new h6e,D:new f6e,E:new p6e,e:new g6e,c:new m6e,i:new y6e,a:new w6e,b:new b6e,B:new C6e,h:new x6e,H:new S6e,K:new E6e,k:new D6e,m:new R6e,s:new M6e,S:new T6e,X:new k6e,x:new A6e,t:new P6e,T:new N6e},F6e=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,I6e=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,L6e=/^'([^]*?)'?$/,_6e=/''/g,j6e=/\S/,B6e=/[a-zA-Z]/;function H6e(e,t,n,r){const i=()=>It(r?.in||n,NaN),s=Vje(),o=r?.locale??s.locale??MY,a=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,l=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??s.weekStartsOn??s.locale?.options?.weekStartsOn??0;if(!t)return e?i():Fe(n,r?.in);const c={firstWeekContainsDate:a,weekStartsOn:l,locale:o},d=[new Qje(r?.in,n)],f=t.match(I6e).map(x=>{const S=x[0];if(S in ak){const M=ak[S];return M(x,o.formatLong)}return x}).join("").match(F6e),p=[];for(let x of f){const S=x[0],M=O6e[S];if(M){const{incompatibleTokens:R}=M;if(Array.isArray(R)){const k=p.find(P=>R.includes(P.token)||P.token===S);if(k)throw new RangeError(`The format string mustn't contain \`${k.fullToken}\` and \`${x}\` at the same time`)}else if(M.incompatibleTokens==="*"&&p.length>0)throw new RangeError(`The format string mustn't contain \`${x}\` and any other token at the same time`);p.push({token:S,fullToken:x});const T=M.run(e,x,o.match,c);if(!T)return i();d.push(T.setter),e=T.rest}else{if(S.match(B6e))throw new RangeError("Format string contains an unescaped latin alphabet character `"+S+"`");if(x==="''"?x="'":S==="'"&&(x=z6e(x)),e.indexOf(x)===0)e=e.slice(x.length);else return i()}}if(e.length>0&&j6e.test(e))return i();const v=d.map(x=>x.priority).sort((x,S)=>S-x).filter((x,S,M)=>M.indexOf(x)===S).map(x=>d.filter(S=>S.priority===x).sort((S,M)=>M.subPriority-S.subPriority)).map(x=>x[0]);let y=Fe(n,r?.in);if(isNaN(+y))return i();const b={};for(const x of v){if(!x.validate(y,c))return i();const S=x.set(y,b,c);Array.isArray(S)?(y=S[0],Object.assign(b,S[1])):y=S}return y}function z6e(e){return e.match(L6e)[1].replace(_6e,"'")}function G6e(e,t,n){const[r,i]=bl(n?.in,e,t);return r.getFullYear()===i.getFullYear()&&r.getMonth()===i.getMonth()}function V6e(e,t,n){const[r,i]=bl(n?.in,e,t);return+ok(r)==+ok(i)}function W6e(e,t,n){const[r,i]=bl(n?.in,e,t);return r.getFullYear()===i.getFullYear()}function Mm(e,t,n){const r=+Fe(e,n?.in),[i,s]=[+Fe(t.start,n?.in),+Fe(t.end,n?.in)].sort((o,a)=>o-a);return r>=i&&r<=s}function U6e(e,t,n){return Qs(e,-1,n)}function $6e(e,t){const n=()=>It(t?.in,NaN),i=Q6e(e);let s;if(i.date){const c=X6e(i.date,2);s=J6e(c.restDateString,c.year)}if(!s||isNaN(+s))return n();const o=+s;let a=0,l;if(i.time&&(a=Z6e(i.time),isNaN(a)))return n();if(i.timezone){if(l=e5e(i.timezone),isNaN(l))return n()}else{const c=new Date(o+a),d=Fe(0,t?.in);return d.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),d.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),d}return Fe(o+a+l,t?.in)}const D0={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},q6e=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,K6e=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Y6e=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Q6e(e){const t={},n=e.split(D0.dateTimeDelimiter);let r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],D0.timeZoneDelimiter.test(t.date)&&(t.date=e.split(D0.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){const i=D0.timezone.exec(r);i?(t.time=r.replace(i[1],""),t.timezone=i[1]):t.time=r}return t}function X6e(e,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:s===null?i:s*100,restDateString:e.slice((r[1]||r[2]).length)}}function J6e(e,t){if(t===null)return new Date(NaN);const n=e.match(q6e);if(!n)return new Date(NaN);const r=!!n[4],i=pg(n[1]),s=pg(n[2])-1,o=pg(n[3]),a=pg(n[4]),l=pg(n[5])-1;if(r)return s5e(t,a,l)?t5e(t,a,l):new Date(NaN);{const c=new Date(0);return!r5e(t,s,o)||!i5e(t,i)?new Date(NaN):(c.setUTCFullYear(t,s,Math.max(i,o)),c)}}function pg(e){return e?parseInt(e):1}function Z6e(e){const t=e.match(K6e);if(!t)return NaN;const n=kM(t[1]),r=kM(t[2]),i=kM(t[3]);return o5e(n,r,i)?n*uS+r*cS+i*1e3:NaN}function kM(e){return e&&parseFloat(e.replace(",","."))||0}function e5e(e){if(e==="Z")return 0;const t=e.match(Y6e);if(!t)return 0;const n=t[1]==="+"?-1:1,r=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return a5e(r,i)?n*(r*uS+i*cS):NaN}function t5e(e,t,n){const r=new Date(0);r.setUTCFullYear(e,0,4);const i=r.getUTCDay()||7,s=(t-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+s),r}const n5e=[31,null,31,30,31,30,31,31,30,31,30,31];function FY(e){return e%400===0||e%4===0&&e%100!==0}function r5e(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(n5e[t]||(FY(e)?29:28))}function i5e(e,t){return t>=1&&t<=(FY(e)?366:365)}function s5e(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function o5e(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function a5e(e,t){return t>=0&&t<=59}function Hi(e,t,n){const r=Fe(e,n?.in),i=r.getFullYear(),s=r.getDate(),o=It(e,0);o.setFullYear(i,t,15),o.setHours(0,0,0,0);const a=Gje(o);return r.setMonth(t,Math.min(s,a)),r}function pw(e,t,n){const r=Fe(e,n?.in);return r.setHours(t),r}function gw(e,t,n){const r=Fe(e,n?.in);return r.setMinutes(t),r}function Mh(e,t,n){const r=Fe(e,n?.in),i=Math.trunc(r.getMonth()/3)+1,s=t-i;return Hi(r,r.getMonth()+s*3)}function mw(e,t,n){const r=Fe(e,n?.in);return r.setSeconds(t),r}function Co(e,t,n){const r=Fe(e,n?.in);return isNaN(+r)?It(e,NaN):(r.setFullYear(t),r)}function Uu(e,t,n){return to(e,-t,n)}function IY(e,t,n){return HN(e,-1,n)}function AH(e,t,n){return Kb(e,-1,n)}function Sf(e,t,n){return Ba(e,-t,n)}function hS(){return typeof window<"u"}function Zf(e){return LY(e)?(e.nodeName||"").toLowerCase():"#document"}function Qi(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Qo(e){var t;return(t=(LY(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function LY(e){return hS()?e instanceof Node||e instanceof Qi(e).Node:!1}function Kr(e){return hS()?e instanceof Element||e instanceof Qi(e).Element:!1}function Go(e){return hS()?e instanceof HTMLElement||e instanceof Qi(e).HTMLElement:!1}function PH(e){return!hS()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Qi(e).ShadowRoot}const l5e=new Set(["inline","contents"]);function xv(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=Os(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!l5e.has(i)}const c5e=new Set(["table","td","th"]);function u5e(e){return c5e.has(Zf(e))}const d5e=[":popover-open",":modal"];function fS(e){return d5e.some(t=>{try{return e.matches(t)}catch{return!1}})}const h5e=["transform","translate","scale","rotate","perspective"],f5e=["transform","translate","scale","rotate","perspective","filter"],p5e=["paint","layout","strict","content"];function UN(e){const t=$N(),n=Kr(e)?Os(e):e;return h5e.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||f5e.some(r=>(n.willChange||"").includes(r))||p5e.some(r=>(n.contain||"").includes(r))}function g5e(e){let t=Pc(e);for(;Go(t)&&!Ef(t);){if(UN(t))return t;if(fS(t))return null;t=Pc(t)}return null}function $N(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const m5e=new Set(["html","body","#document"]);function Ef(e){return m5e.has(Zf(e))}function Os(e){return Qi(e).getComputedStyle(e)}function pS(e){return Kr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Pc(e){if(Zf(e)==="html")return e;const t=e.assignedSlot||e.parentNode||PH(e)&&e.host||Qo(e);return PH(t)?t.host:t}function _Y(e){const t=Pc(e);return Ef(t)?e.ownerDocument?e.ownerDocument.body:e.body:Go(t)&&xv(t)?t:_Y(t)}function Tm(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=_Y(e),s=i===((r=e.ownerDocument)==null?void 0:r.body),o=Qi(i);if(s){const a=ck(o);return t.concat(o,o.visualViewport||[],xv(i)?i:[],a&&n?Tm(a):[])}return t.concat(i,Tm(i,[],n))}function ck(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}const Df=Math.min,$u=Math.max,eC=Math.round,R0=Math.floor,Io=e=>({x:e,y:e}),v5e={left:"right",right:"left",bottom:"top",top:"bottom"},y5e={start:"end",end:"start"};function w5e(e,t,n){return $u(e,Df(t,n))}function gS(e,t){return typeof e=="function"?e(t):e}function Rf(e){return e.split("-")[0]}function Sv(e){return e.split("-")[1]}function b5e(e){return e==="x"?"y":"x"}function qN(e){return e==="y"?"height":"width"}const C5e=new Set(["top","bottom"]);function Mu(e){return C5e.has(Rf(e))?"y":"x"}function KN(e){return b5e(Mu(e))}function x5e(e,t,n){n===void 0&&(n=!1);const r=Sv(e),i=KN(e),s=qN(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(o=tC(o)),[o,tC(o)]}function S5e(e){const t=tC(e);return[uk(e),t,uk(t)]}function uk(e){return e.replace(/start|end/g,t=>y5e[t])}const NH=["left","right"],OH=["right","left"],E5e=["top","bottom"],D5e=["bottom","top"];function R5e(e,t,n){switch(e){case"top":case"bottom":return n?t?OH:NH:t?NH:OH;case"left":case"right":return t?E5e:D5e;default:return[]}}function M5e(e,t,n,r){const i=Sv(e);let s=R5e(Rf(e),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),t&&(s=s.concat(s.map(uk)))),s}function tC(e){return e.replace(/left|right|bottom|top/g,t=>v5e[t])}function T5e(e){return{top:0,right:0,bottom:0,left:0,...e}}function jY(e){return typeof e!="number"?T5e(e):{top:e,right:e,bottom:e,left:e}}function nC(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}var k5e=typeof document<"u",A5e=function(){},rC=k5e?C.useLayoutEffect:A5e;const P5e={...Vk},N5e=P5e.useInsertionEffect,O5e=N5e||(e=>e());function F5e(e){const t=C.useRef(()=>{});return O5e(()=>{t.current=e}),C.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current==null?void 0:t.current(...r)},[])}function FH(e,t,n){let{reference:r,floating:i}=e;const s=Mu(t),o=KN(t),a=qN(o),l=Rf(t),c=s==="y",d=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,p=r[a]/2-i[a]/2;let v;switch(l){case"top":v={x:d,y:r.y-i.height};break;case"bottom":v={x:d,y:r.y+r.height};break;case"right":v={x:r.x+r.width,y:f};break;case"left":v={x:r.x-i.width,y:f};break;default:v={x:r.x,y:r.y}}switch(Sv(t)){case"start":v[o]-=p*(n&&c?-1:1);break;case"end":v[o]+=p*(n&&c?-1:1);break}return v}const I5e=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(t));let c=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:d,y:f}=FH(c,r,l),p=r,v={},y=0;for(let b=0;b<a.length;b++){const{name:x,fn:S}=a[b],{x:M,y:R,data:T,reset:k}=await S({x:d,y:f,initialPlacement:r,placement:p,strategy:i,middlewareData:v,rects:c,platform:o,elements:{reference:e,floating:t}});d=M??d,f=R??f,v={...v,[x]:{...v[x],...T}},k&&y<=50&&(y++,typeof k=="object"&&(k.placement&&(p=k.placement),k.rects&&(c=k.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):k.rects),{x:d,y:f}=FH(c,p,l)),b=-1)}return{x:d,y:f,placement:p,strategy:i,middlewareData:v}};async function L5e(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:p=!1,padding:v=0}=gS(t,e),y=jY(v),x=a[p?f==="floating"?"reference":"floating":f],S=nC(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(x)))==null||n?x:x.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),M=f==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,R=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),T=await(s.isElement==null?void 0:s.isElement(R))?await(s.getScale==null?void 0:s.getScale(R))||{x:1,y:1}:{x:1,y:1},k=nC(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:M,offsetParent:R,strategy:l}):M);return{top:(S.top-k.top+y.top)/T.y,bottom:(k.bottom-S.bottom+y.bottom)/T.y,left:(S.left-k.left+y.left)/T.x,right:(k.right-S.right+y.right)/T.x}}const _5e=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=t,{element:c,padding:d=0}=gS(e,t)||{};if(c==null)return{};const f=jY(d),p={x:n,y:r},v=KN(i),y=qN(v),b=await o.getDimensions(c),x=v==="y",S=x?"top":"left",M=x?"bottom":"right",R=x?"clientHeight":"clientWidth",T=s.reference[y]+s.reference[v]-p[v]-s.floating[y],k=p[v]-s.reference[v],P=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let A=P?P[R]:0;(!A||!await(o.isElement==null?void 0:o.isElement(P)))&&(A=a.floating[R]||s.floating[y]);const O=T/2-k/2,B=A/2-b[y]/2-1,U=Df(f[S],B),_=Df(f[M],B),I=U,V=A-b[y]-_,F=A/2-b[y]/2+O,L=w5e(I,F,V),z=!l.arrow&&Sv(i)!=null&&F!==L&&s.reference[y]/2-(F<I?U:_)-b[y]/2<0,j=z?F<I?F-I:F-V:0;return{[v]:p[v]+j,data:{[v]:L,centerOffset:F-L-j,...z&&{alignmentOffset:j}},reset:z}}}),j5e=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:b=!0,...x}=gS(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const S=Rf(i),M=Mu(a),R=Rf(a)===a,T=await(l.isRTL==null?void 0:l.isRTL(c.floating)),k=p||(R||!b?[tC(a)]:S5e(a)),P=y!=="none";!p&&P&&k.push(...M5e(a,b,y,T));const A=[a,...k],O=await L5e(t,x),B=[];let U=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&B.push(O[S]),f){const F=x5e(i,o,T);B.push(O[F[0]],O[F[1]])}if(U=[...U,{placement:i,overflows:B}],!B.every(F=>F<=0)){var _,I;const F=(((_=s.flip)==null?void 0:_.index)||0)+1,L=A[F];if(L&&(!(f==="alignment"?M!==Mu(L):!1)||U.every($=>Mu($.placement)===M?$.overflows[0]>0:!0)))return{data:{index:F,overflows:U},reset:{placement:L}};let z=(I=U.filter(j=>j.overflows[0]<=0).sort((j,$)=>j.overflows[1]-$.overflows[1])[0])==null?void 0:I.placement;if(!z)switch(v){case"bestFit":{var V;const j=(V=U.filter($=>{if(P){const W=Mu($.placement);return W===M||W==="y"}return!0}).map($=>[$.placement,$.overflows.filter(W=>W>0).reduce((W,K)=>W+K,0)]).sort(($,W)=>$[1]-W[1])[0])==null?void 0:V[0];j&&(z=j);break}case"initialPlacement":z=a;break}if(i!==z)return{reset:{placement:z}}}return{}}}},B5e=new Set(["left","top"]);async function H5e(e,t){const{placement:n,platform:r,elements:i}=e,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Rf(n),a=Sv(n),l=Mu(n)==="y",c=B5e.has(o)?-1:1,d=s&&l?-1:1,f=gS(t,e);let{mainAxis:p,crossAxis:v,alignmentAxis:y}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof y=="number"&&(v=a==="end"?y*-1:y),l?{x:v*d,y:p*c}:{x:p*c,y:v*d}}const z5e=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=t,l=await H5e(t,e);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}};function BY(e){const t=Os(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Go(e),s=i?e.offsetWidth:n,o=i?e.offsetHeight:r,a=eC(n)!==s||eC(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function YN(e){return Kr(e)?e:e.contextElement}function Xh(e){const t=YN(e);if(!Go(t))return Io(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:s}=BY(t);let o=(s?eC(n.width):n.width)/r,a=(s?eC(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const G5e=Io(0);function HY(e){const t=Qi(e);return!$N()||!t.visualViewport?G5e:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function V5e(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Qi(e)?!1:t}function cd(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),s=YN(e);let o=Io(1);t&&(r?Kr(r)&&(o=Xh(r)):o=Xh(e));const a=V5e(s,n,r)?HY(s):Io(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,d=i.width/o.x,f=i.height/o.y;if(s){const p=Qi(s),v=r&&Kr(r)?Qi(r):r;let y=p,b=ck(y);for(;b&&r&&v!==y;){const x=Xh(b),S=b.getBoundingClientRect(),M=Os(b),R=S.left+(b.clientLeft+parseFloat(M.paddingLeft))*x.x,T=S.top+(b.clientTop+parseFloat(M.paddingTop))*x.y;l*=x.x,c*=x.y,d*=x.x,f*=x.y,l+=R,c+=T,y=Qi(b),b=ck(y)}}return nC({width:d,height:f,x:l,y:c})}function mS(e,t){const n=pS(e).scrollLeft;return t?t.left+n:cd(Qo(e)).left+n}function zY(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-mS(e,n),i=n.top+t.scrollTop;return{x:r,y:i}}function W5e(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const s=i==="fixed",o=Qo(r),a=t?fS(t.floating):!1;if(r===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},c=Io(1);const d=Io(0),f=Go(r);if((f||!f&&!s)&&((Zf(r)!=="body"||xv(o))&&(l=pS(r)),Go(r))){const v=cd(r);c=Xh(r),d.x=v.x+r.clientLeft,d.y=v.y+r.clientTop}const p=o&&!f&&!s?zY(o,l):Io(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x+p.x,y:n.y*c.y-l.scrollTop*c.y+d.y+p.y}}function U5e(e){return Array.from(e.getClientRects())}function $5e(e){const t=Qo(e),n=pS(e),r=e.ownerDocument.body,i=$u(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=$u(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+mS(e);const a=-n.scrollTop;return Os(r).direction==="rtl"&&(o+=$u(t.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}const IH=25;function q5e(e,t){const n=Qi(e),r=Qo(e),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const d=$N();(!d||d&&t==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}const c=mS(r);if(c<=0){const d=r.ownerDocument,f=d.body,p=getComputedStyle(f),v=d.compatMode==="CSS1Compat"&&parseFloat(p.marginLeft)+parseFloat(p.marginRight)||0,y=Math.abs(r.clientWidth-f.clientWidth-v);y<=IH&&(s-=y)}else c<=IH&&(s+=c);return{width:s,height:o,x:a,y:l}}const K5e=new Set(["absolute","fixed"]);function Y5e(e,t){const n=cd(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,s=Go(e)?Xh(e):Io(1),o=e.clientWidth*s.x,a=e.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:o,height:a,x:l,y:c}}function LH(e,t,n){let r;if(t==="viewport")r=q5e(e,n);else if(t==="document")r=$5e(Qo(e));else if(Kr(t))r=Y5e(t,n);else{const i=HY(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return nC(r)}function GY(e,t){const n=Pc(e);return n===t||!Kr(n)||Ef(n)?!1:Os(n).position==="fixed"||GY(n,t)}function Q5e(e,t){const n=t.get(e);if(n)return n;let r=Tm(e,[],!1).filter(a=>Kr(a)&&Zf(a)!=="body"),i=null;const s=Os(e).position==="fixed";let o=s?Pc(e):e;for(;Kr(o)&&!Ef(o);){const a=Os(o),l=UN(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&K5e.has(i.position)||xv(o)&&!l&&GY(e,o))?r=r.filter(d=>d!==o):i=a,o=Pc(o)}return t.set(e,r),r}function X5e(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const o=[...n==="clippingAncestors"?fS(t)?[]:Q5e(t,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,d)=>{const f=LH(t,d,i);return c.top=$u(f.top,c.top),c.right=Df(f.right,c.right),c.bottom=Df(f.bottom,c.bottom),c.left=$u(f.left,c.left),c},LH(t,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function J5e(e){const{width:t,height:n}=BY(e);return{width:t,height:n}}function Z5e(e,t,n){const r=Go(t),i=Qo(t),s=n==="fixed",o=cd(e,!0,s,t);let a={scrollLeft:0,scrollTop:0};const l=Io(0);function c(){l.x=mS(i)}if(r||!r&&!s)if((Zf(t)!=="body"||xv(i))&&(a=pS(t)),r){const v=cd(t,!0,s,t);l.x=v.x+t.clientLeft,l.y=v.y+t.clientTop}else i&&c();s&&!r&&i&&c();const d=i&&!r&&!s?zY(i,a):Io(0),f=o.left+a.scrollLeft-l.x-d.x,p=o.top+a.scrollTop-l.y-d.y;return{x:f,y:p,width:o.width,height:o.height}}function AM(e){return Os(e).position==="static"}function _H(e,t){if(!Go(e)||Os(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Qo(e)===n&&(n=n.ownerDocument.body),n}function VY(e,t){const n=Qi(e);if(fS(e))return n;if(!Go(e)){let i=Pc(e);for(;i&&!Ef(i);){if(Kr(i)&&!AM(i))return i;i=Pc(i)}return n}let r=_H(e,t);for(;r&&u5e(r)&&AM(r);)r=_H(r,t);return r&&Ef(r)&&AM(r)&&!UN(r)?n:r||g5e(e)||n}const eBe=async function(e){const t=this.getOffsetParent||VY,n=this.getDimensions,r=await n(e.floating);return{reference:Z5e(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function tBe(e){return Os(e).direction==="rtl"}const nBe={convertOffsetParentRelativeRectToViewportRelativeRect:W5e,getDocumentElement:Qo,getClippingRect:X5e,getOffsetParent:VY,getElementRects:eBe,getClientRects:U5e,getDimensions:J5e,getScale:Xh,isElement:Kr,isRTL:tBe};function WY(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function rBe(e,t){let n=null,r;const i=Qo(e);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const c=e.getBoundingClientRect(),{left:d,top:f,width:p,height:v}=c;if(a||t(),!p||!v)return;const y=R0(f),b=R0(i.clientWidth-(d+p)),x=R0(i.clientHeight-(f+v)),S=R0(d),R={rootMargin:-y+"px "+-b+"px "+-x+"px "+-S+"px",threshold:$u(0,Df(1,l))||1};let T=!0;function k(P){const A=P[0].intersectionRatio;if(A!==l){if(!T)return o();A?o(!1,A):r=setTimeout(()=>{o(!1,1e-7)},1e3)}A===1&&!WY(c,e.getBoundingClientRect())&&o(),T=!1}try{n=new IntersectionObserver(k,{...R,root:i.ownerDocument})}catch{n=new IntersectionObserver(k,R)}n.observe(e)}return o(!0),s}function iBe(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=YN(e),d=i||s?[...c?Tm(c):[],...Tm(t)]:[];d.forEach(S=>{i&&S.addEventListener("scroll",n,{passive:!0}),s&&S.addEventListener("resize",n)});const f=c&&a?rBe(c,n):null;let p=-1,v=null;o&&(v=new ResizeObserver(S=>{let[M]=S;M&&M.target===c&&v&&(v.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var R;(R=v)==null||R.observe(t)})),n()}),c&&!l&&v.observe(c),v.observe(t));let y,b=l?cd(e):null;l&&x();function x(){const S=cd(e);b&&!WY(b,S)&&n(),b=S,y=requestAnimationFrame(x)}return n(),()=>{var S;d.forEach(M=>{i&&M.removeEventListener("scroll",n),s&&M.removeEventListener("resize",n)}),f?.(),(S=v)==null||S.disconnect(),v=null,l&&cancelAnimationFrame(y)}}const sBe=z5e,oBe=j5e,jH=_5e,aBe=(e,t,n)=>{const r=new Map,i={platform:nBe,...n},s={...i.platform,_c:r};return I5e(e,t,{...i,platform:s})};var lBe=typeof document<"u",cBe=function(){},vw=lBe?C.useLayoutEffect:cBe;function iC(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!iC(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&e.$$typeof)&&!iC(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function UY(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function BH(e,t){const n=UY(e);return Math.round(t*n)/n}function PM(e){const t=C.useRef(e);return vw(()=>{t.current=e}),t}function uBe(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=e,[d,f]=C.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[p,v]=C.useState(r);iC(p,r)||v(r);const[y,b]=C.useState(null),[x,S]=C.useState(null),M=C.useCallback($=>{$!==P.current&&(P.current=$,b($))},[]),R=C.useCallback($=>{$!==A.current&&(A.current=$,S($))},[]),T=s||y,k=o||x,P=C.useRef(null),A=C.useRef(null),O=C.useRef(d),B=l!=null,U=PM(l),_=PM(i),I=PM(c),V=C.useCallback(()=>{if(!P.current||!A.current)return;const $={placement:t,strategy:n,middleware:p};_.current&&($.platform=_.current),aBe(P.current,A.current,$).then(W=>{const K={...W,isPositioned:I.current!==!1};F.current&&!iC(O.current,K)&&(O.current=K,md.flushSync(()=>{f(K)}))})},[p,t,n,_,I]);vw(()=>{c===!1&&O.current.isPositioned&&(O.current.isPositioned=!1,f($=>({...$,isPositioned:!1})))},[c]);const F=C.useRef(!1);vw(()=>(F.current=!0,()=>{F.current=!1}),[]),vw(()=>{if(T&&(P.current=T),k&&(A.current=k),T&&k){if(U.current)return U.current(T,k,V);V()}},[T,k,V,U,B]);const L=C.useMemo(()=>({reference:P,floating:A,setReference:M,setFloating:R}),[M,R]),z=C.useMemo(()=>({reference:T,floating:k}),[T,k]),j=C.useMemo(()=>{const $={position:n,left:0,top:0};if(!z.floating)return $;const W=BH(z.floating,d.x),K=BH(z.floating,d.y);return a?{...$,transform:"translate("+W+"px, "+K+"px)",...UY(z.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:W,top:K}},[n,a,z.floating,d.x,d.y]);return C.useMemo(()=>({...d,update:V,refs:L,elements:z,floatingStyles:j}),[d,V,L,z,j])}const dBe=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?jH({element:r.current,padding:i}).fn(n):{}:r?jH({element:r,padding:i}).fn(n):{}}}},hBe=(e,t)=>({...sBe(e),options:[e,t]}),fBe=(e,t)=>({...oBe(e),options:[e,t]}),pBe=(e,t)=>({...dBe(e),options:[e,t]}),gBe={...Vk};let HH=!1,mBe=0;const zH=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+mBe++;function vBe(){const[e,t]=C.useState(()=>HH?zH():void 0);return rC(()=>{e==null&&t(zH())},[]),C.useEffect(()=>{HH=!0},[]),e}const yBe=gBe.useId,$Y=yBe||vBe,wBe=C.forwardRef(function(t,n){const{context:{placement:r,elements:{floating:i},middlewareData:{arrow:s,shift:o}},width:a=14,height:l=7,tipRadius:c=0,strokeWidth:d=0,staticOffset:f,stroke:p,d:v,style:{transform:y,...b}={},...x}=t,S=$Y(),[M,R]=C.useState(!1);if(rC(()=>{if(!i)return;Os(i).direction==="rtl"&&R(!0)},[i]),!i)return null;const[T,k]=r.split("-"),P=T==="top"||T==="bottom";let A=f;(P&&o!=null&&o.x||!P&&o!=null&&o.y)&&(A=null);const O=d*2,B=O/2,U=a/2*(c/-8+1),_=l/2*c/4,I=!!v,V=A&&k==="end"?"bottom":"top";let F=A&&k==="end"?"right":"left";A&&M&&(F=k==="end"?"left":"right");const L=s?.x!=null?A||s.x:"",z=s?.y!=null?A||s.y:"",j=v||"M0,0"+(" H"+a)+(" L"+(a-U)+","+(l-_))+(" Q"+a/2+","+l+" "+U+","+(l-_))+" Z",$={top:I?"rotate(180deg)":"",left:I?"rotate(90deg)":"rotate(-90deg)",bottom:I?"":"rotate(180deg)",right:I?"rotate(-90deg)":"rotate(90deg)"}[T];return m.jsxs("svg",{...x,"aria-hidden":!0,ref:n,width:I?a:a+O,height:a,viewBox:"0 0 "+a+" "+(l>a?l:a),style:{position:"absolute",pointerEvents:"none",[F]:L,[V]:z,[T]:P||I?"100%":"calc(100% - "+O/2+"px)",transform:[$,y].filter(W=>!!W).join(" "),...b},children:[O>0&&m.jsx("path",{clipPath:"url(#"+S+")",fill:"none",stroke:p,strokeWidth:O+(v?0:1),d:j}),m.jsx("path",{stroke:O&&!v?x.fill:"none",d:j}),m.jsx("clipPath",{id:S,children:m.jsx("rect",{x:-B,y:B*(I?-1:1),width:a+O,height:a})})]})});function bBe(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(i=>i(n))},on(t,n){e.has(t)||e.set(t,new Set),e.get(t).add(n)},off(t,n){var r;(r=e.get(t))==null||r.delete(n)}}}const CBe=C.createContext(null),xBe=C.createContext(null),SBe=()=>{var e;return((e=C.useContext(CBe))==null?void 0:e.id)||null},EBe=()=>C.useContext(xBe);function DBe(e){const{open:t=!1,onOpenChange:n,elements:r}=e,i=$Y(),s=C.useRef({}),[o]=C.useState(()=>bBe()),a=SBe()!=null,[l,c]=C.useState(r.reference),d=F5e((v,y,b)=>{s.current.openEvent=v?y:void 0,o.emit("openchange",{open:v,event:y,reason:b,nested:a}),n?.(v,y,b)}),f=C.useMemo(()=>({setPositionReference:c}),[]),p=C.useMemo(()=>({reference:l||r.reference||null,floating:r.floating||null,domReference:r.reference}),[l,r.reference,r.floating]);return C.useMemo(()=>({dataRef:s,open:t,onOpenChange:d,elements:p,events:o,floatingId:i,refs:f}),[t,d,p,o,i,f])}function RBe(e){e===void 0&&(e={});const{nodeId:t}=e,n=DBe({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,i=r.elements,[s,o]=C.useState(null),[a,l]=C.useState(null),d=i?.domReference||s,f=C.useRef(null),p=EBe();rC(()=>{d&&(f.current=d)},[d]);const v=uBe({...e,elements:{...i,...a&&{reference:a}}}),y=C.useCallback(R=>{const T=Kr(R)?{getBoundingClientRect:()=>R.getBoundingClientRect(),getClientRects:()=>R.getClientRects(),contextElement:R}:R;l(T),v.refs.setReference(T)},[v.refs]),b=C.useCallback(R=>{(Kr(R)||R===null)&&(f.current=R,o(R)),(Kr(v.refs.reference.current)||v.refs.reference.current===null||R!==null&&!Kr(R))&&v.refs.setReference(R)},[v.refs]),x=C.useMemo(()=>({...v.refs,setReference:b,setPositionReference:y,domReference:f}),[v.refs,b,y]),S=C.useMemo(()=>({...v.elements,domReference:d}),[v.elements,d]),M=C.useMemo(()=>({...v,...r,refs:x,elements:S,nodeId:t}),[v,x,S,t,r]);return rC(()=>{r.dataRef.current.floatingContext=M;const R=p?.nodesRef.current.find(T=>T.id===t);R&&(R.context=M)}),C.useMemo(()=>({...v,context:M,refs:x,elements:S}),[v,x,S,M])}var dk=function(t,n){return dk=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},dk(t,n)};function Er(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");dk(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var pt=function(){return pt=Object.assign||function(n){for(var r,i=1,s=arguments.length;i<s;i++){r=arguments[i];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},pt.apply(this,arguments)};function Po(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}var MBe=function(e){var t=e.showTimeSelectOnly,n=t===void 0?!1:t,r=e.showTime,i=r===void 0?!1:r,s=e.className,o=e.children,a=e.inline,l=n?"Choose Time":"Choose Date".concat(i?" and Time":"");return q.createElement("div",{className:s,"aria-label":l,role:a?void 0:"dialog","aria-modal":a?void 0:"true"},o)},TBe=function(e,t){var n=C.useRef(null),r=C.useRef(e);C.useEffect(function(){r.current=e},[e]);var i=C.useCallback(function(s){var o,a=s.composed&&s.composedPath&&s.composedPath().find(function(l){return l instanceof Node})||s.target;n.current&&!n.current.contains(a)&&(t&&a instanceof HTMLElement&&a.classList.contains(t)||(o=r.current)===null||o===void 0||o.call(r,s))},[t]);return C.useEffect(function(){return document.addEventListener("mousedown",i),function(){document.removeEventListener("mousedown",i)}},[i]),n},vS=function(e){var t=e.children,n=e.onClickOutside,r=e.className,i=e.containerRef,s=e.style,o=e.ignoreClass,a=TBe(n,o);return q.createElement("div",{className:r,style:s,ref:function(l){a.current=l,i&&(i.current=l)}},t)},Te;(function(e){e.ArrowUp="ArrowUp",e.ArrowDown="ArrowDown",e.ArrowLeft="ArrowLeft",e.ArrowRight="ArrowRight",e.PageUp="PageUp",e.PageDown="PageDown",e.Home="Home",e.End="End",e.Enter="Enter",e.Space=" ",e.Tab="Tab",e.Escape="Escape",e.Backspace="Backspace",e.X="x"})(Te||(Te={}));function qY(){var e=typeof window<"u"?window:globalThis;return e}var Ev=12;function Et(e){if(e==null)return new Date;var t=typeof e=="string"?$6e(e):Fe(e);return Mo(t)?t:new Date}function NM(e,t,n,r,i){i===void 0&&(i=Et());for(var s=Mf(n)||Mf(QN()),o=Array.isArray(t)?t:[t],a=0,l=o;a<l.length;a++){var c=l[a],d=H6e(e,c,i,{locale:s});if(Mo(d)&&(!r||e===un(d,c,n)))return d}return null}function Mo(e,t){return Yb(e)&&!Ao(e,new Date("1/1/1800"))}function un(e,t,n){if(n==="en")return TH(e,t,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var r=n?Mf(n):void 0;return n&&!r&&console.warn('A locale object was not found for the provided string ["'.concat(n,'"].')),r=r||Mf(QN()),TH(e,t,{locale:r,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function Bi(e,t){var n=t.dateFormat,r=t.locale,i=Array.isArray(n)&&n.length>0?n[0]:n;return e&&un(e,i,r)||""}var KY=" - ";function kBe(e,t,n){if(!e&&!t)return"";var r=e?Bi(e,n):"",i=t?Bi(t,n):"",s=n.rangeSeparator||KY;return"".concat(r).concat(s).concat(i)}function ABe(e,t){if(!e?.length)return"";var n=e[0]?Bi(e[0],t):"";if(e.length===1)return n;if(e.length===2&&e[1]){var r=Bi(e[1],t);return"".concat(n,", ").concat(r)}var i=e.length-1;return"".concat(n," (+").concat(i,")")}function OM(e,t){var n=t.hour,r=n===void 0?0:n,i=t.minute,s=i===void 0?0:i,o=t.second,a=o===void 0?0:o;return pw(gw(mw(e,a),s),r)}function PBe(e){return zN(e)}function NBe(e,t){return un(e,"ddd",t)}function yw(e){return ld(e)}function yc(e,t,n){var r=Mf(t||QN());return ll(e,{locale:r,weekStartsOn:n})}function Va(e){return DY(e)}function xg(e){return dS(e)}function GH(e){return ok(e)}function VH(){return ld(Et())}function WH(e){return SY(e)}function OBe(e){return $_e(e)}function FBe(e){return EY(e)}function xo(e,t){return e&&t?W6e(e,t):!e&&!t}function Vr(e,t){return e&&t?G6e(e,t):!e&&!t}function sC(e,t){return e&&t?V6e(e,t):!e&&!t}function ft(e,t){return e&&t?W_e(e,t):!e&&!t}function Tu(e,t){return e&&t?Uje(e,t):!e&&!t}function yu(e,t,n){var r,i=ld(t),s=SY(n);try{r=Mm(e,{start:i,end:s})}catch{r=!1}return r}function QN(){var e=qY();return e.__localeId__}function Mf(e){if(typeof e=="string"){var t=qY();return t.__localeData__?t.__localeData__[e]:void 0}else return e}function IBe(e,t,n){return t(un(e,"EEEE",n))}function LBe(e,t){return un(e,"EEEEEE",t)}function _Be(e,t){return un(e,"EEE",t)}function XN(e,t){return un(Hi(Et(),e),"LLLL",t)}function YY(e,t){return un(Hi(Et(),e),"LLL",t)}function jBe(e,t){return un(Mh(Et(),e),"QQQ",t)}function Cs(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.maxDate,s=n.excludeDates,o=n.excludeDateIntervals,a=n.includeDates,l=n.includeDateIntervals,c=n.filterDate,d=n.disabled;return d?!0:Dv(e,{minDate:r,maxDate:i})||s&&s.some(function(f){return f instanceof Date?ft(e,f):ft(e,f.date)})||o&&o.some(function(f){var p=f.start,v=f.end;return Mm(e,{start:p,end:v})})||a&&!a.some(function(f){return ft(e,f)})||l&&!l.some(function(f){var p=f.start,v=f.end;return Mm(e,{start:p,end:v})})||c&&!c(Et(e))||!1}function JN(e,t){var n=t===void 0?{}:t,r=n.excludeDates,i=n.excludeDateIntervals;return i&&i.length>0?i.some(function(s){var o=s.start,a=s.end;return Mm(e,{start:o,end:a})}):r&&r.some(function(s){var o;return s instanceof Date?ft(e,s):ft(e,(o=s.date)!==null&&o!==void 0?o:new Date)})||!1}function QY(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.maxDate,s=n.excludeDates,o=n.includeDates,a=n.filterDate;return Dv(e,{minDate:r?DY(r):void 0,maxDate:i?EY(i):void 0})||s?.some(function(l){return Vr(e,l instanceof Date?l:l.date)})||o&&!o.some(function(l){return Vr(e,l)})||a&&!a(Et(e))||!1}function M0(e,t,n,r){var i=st(e),s=Nr(e),o=st(t),a=Nr(t),l=st(r);return i===o&&i===l?s<=n&&n<=a:i<o?l===i&&s<=n||l===o&&a>=n||l<o&&l>i:!1}function BBe(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.maxDate,s=n.excludeDates,o=n.includeDates;return Dv(e,{minDate:r,maxDate:i})||s&&s.some(function(a){return Vr(a instanceof Date?a:a.date,e)})||o&&!o.some(function(a){return Vr(a,e)})||!1}function T0(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.maxDate,s=n.excludeDates,o=n.includeDates,a=n.filterDate,l=n.disabled;return l?!0:Dv(e,{minDate:r,maxDate:i})||s?.some(function(c){return sC(e,c instanceof Date?c:c.date)})||o&&!o.some(function(c){return sC(e,c)})||a&&!a(Et(e))||!1}function k0(e,t,n){if(!t||!n||!Yb(t)||!Yb(n))return!1;var r=st(t),i=st(n);return r<=e&&i>=e}function ww(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.maxDate,s=n.excludeDates,o=n.includeDates,a=n.filterDate,l=n.disabled;if(l)return!0;var c=new Date(e,0,1);return Dv(c,{minDate:r?dS(r):void 0,maxDate:i?RY(i):void 0})||s?.some(function(d){return xo(c,d instanceof Date?d:d.date)})||o&&!o.some(function(d){return xo(c,d)})||a&&!a(Et(c))||!1}function A0(e,t,n,r){var i=st(e),s=dc(e),o=st(t),a=dc(t),l=st(r);return i===o&&i===l?s<=n&&n<=a:i<o?l===i&&s<=n||l===o&&a>=n||l<o&&l>i:!1}function Dv(e,t){var n,r=t===void 0?{}:t,i=r.minDate,s=r.maxDate;return(n=i&&xf(e,i)<0||s&&xf(e,s)>0)!==null&&n!==void 0?n:!1}function UH(e,t){return t.some(function(n){return za(n)===za(e)&&Ga(n)===Ga(e)&&vc(n)===vc(e)})}function $H(e,t){var n=t===void 0?{}:t,r=n.excludeTimes,i=n.includeTimes,s=n.filterTime;return r&&UH(e,r)||i&&!UH(e,i)||s&&!s(e)||!1}function qH(e,t){var n=t.minTime,r=t.maxTime;if(!n||!r)throw new Error("Both minTime and maxTime props required");var i=Et();i=pw(i,za(e)),i=gw(i,Ga(e)),i=mw(i,vc(e));var s=Et();s=pw(s,za(n)),s=gw(s,Ga(n)),s=mw(s,vc(n));var o=Et();o=pw(o,za(r)),o=gw(o,Ga(r)),o=mw(o,vc(r));var a;try{a=!Mm(i,{start:s,end:o})}catch{a=!1}return a}function KH(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.includeDates,s=Uu(e,1);return r&&Qb(r,s)>0||i&&i.every(function(o){return Qb(o,s)>0})||!1}function YH(e,t){var n=t===void 0?{}:t,r=n.maxDate,i=n.includeDates,s=to(e,1);return r&&Qb(s,r)>0||i&&i.every(function(o){return Qb(s,o)>0})||!1}function HBe(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.includeDates,s=dS(e),o=IY(s);return r&&Xb(r,o)>0||i&&i.every(function(a){return Xb(a,o)>0})||!1}function zBe(e,t){var n=t===void 0?{}:t,r=n.maxDate,i=n.includeDates,s=RY(e),o=HN(s,1);return r&&Xb(o,r)>0||i&&i.every(function(a){return Xb(o,a)>0})||!1}function QH(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.includeDates,s=Sf(e,1);return r&&Jb(r,s)>0||i&&i.every(function(o){return Jb(o,s)>0})||!1}function GBe(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.yearItemNumber,s=i===void 0?Ev:i,o=xg(Sf(e,s)),a=Pa(o,s).endPeriod,l=r&&st(r);return l&&l>a||!1}function XH(e,t){var n=t===void 0?{}:t,r=n.maxDate,i=n.includeDates,s=Ba(e,1);return r&&Jb(s,r)>0||i&&i.every(function(o){return Jb(s,o)>0})||!1}function VBe(e,t){var n=t===void 0?{}:t,r=n.maxDate,i=n.yearItemNumber,s=i===void 0?Ev:i,o=Ba(e,s),a=Pa(o,s).startPeriod,l=r&&st(r);return l&&l<a||!1}function XY(e){var t=e.minDate,n=e.includeDates;if(n&&t){var r=n.filter(function(i){return xf(i,t)>=0});return xH(r)}else return n?xH(n):t}function JY(e){var t=e.maxDate,n=e.includeDates;if(n&&t){var r=n.filter(function(i){return xf(i,t)<=0});return CH(r)}else return n?CH(n):t}function JH(e,t){var n;e===void 0&&(e=[]),t===void 0&&(t="react-datepicker__day--highlighted");for(var r=new Map,i=0,s=e.length;i<s;i++){var o=e[i];if(Ha(o)){var a=un(o,"MM.dd.yyyy"),l=r.get(a)||[];l.includes(t)||(l.push(t),r.set(a,l))}else if(typeof o=="object"){var c=Object.keys(o),d=(n=c[0])!==null&&n!==void 0?n:"",f=o[d];if(typeof d=="string"&&Array.isArray(f))for(var p=0,v=f.length;p<v;p++){var y=f[p];if(y){var a=un(y,"MM.dd.yyyy"),l=r.get(a)||[];l.includes(d)||(l.push(d),r.set(a,l))}}}}return r}function WBe(e,t){return e.length!==t.length?!1:e.every(function(n,r){return n===t[r]})}function UBe(e,t){e===void 0&&(e=[]),t===void 0&&(t="react-datepicker__day--holidays");var n=new Map;return e.forEach(function(r){var i=r.date,s=r.holidayName;if(Ha(i)){var o=un(i,"MM.dd.yyyy"),a=n.get(o)||{className:"",holidayNames:[]};if(!("className"in a&&a.className===t&&WBe(a.holidayNames,[s]))){a.className=t;var l=a.holidayNames;a.holidayNames=l?Po(Po([],l,!0),[s],!1):[s],n.set(o,a)}}}),n}function $Be(e,t,n,r,i){for(var s=i.length,o=[],a=0;a<s;a++){var l=e,c=i[a];c&&(l=H_e(l,za(c)),l=sk(l,Ga(c)),l=V_e(l,vc(c)));var d=sk(e,(n+1)*r);Ac(l,t)&&Ao(l,d)&&c!=null&&o.push(c)}return o}function ZH(e){return e<10?"0".concat(e):"".concat(e)}function Pa(e,t){t===void 0&&(t=Ev);var n=Math.ceil(st(e)/t)*t,r=n-(t-1);return{startPeriod:r,endPeriod:n}}function qBe(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),n=new Date(e.getFullYear(),e.getMonth(),e.getDate(),24);return Math.round((+n-+t)/36e5)}function ez(e){var t=e.getSeconds(),n=e.getMilliseconds();return Fe(e.getTime()-t*1e3-n)}function KBe(e,t){return ez(e).getTime()===ez(t).getTime()}function tz(e){if(!Ha(e))throw new Error("Invalid date");var t=new Date(e);return t.setHours(0,0,0,0),t}function FM(e,t){if(!Ha(e)||!Ha(t))throw new Error("Invalid date received");var n=tz(e),r=tz(t);return Ao(n,r)}function ZY(e){return e.key===Te.Space}var YBe=(function(e){Er(t,e);function t(n){var r=e.call(this,n)||this;return r.inputRef=q.createRef(),r.onTimeChange=function(i){var s,o;r.setState({time:i});var a=r.props.date,l=a instanceof Date&&!isNaN(+a),c=l?a:new Date;if(i?.includes(":")){var d=i.split(":"),f=d[0],p=d[1];c.setHours(Number(f)),c.setMinutes(Number(p))}(o=(s=r.props).onChange)===null||o===void 0||o.call(s,c)},r.renderTimeInput=function(){var i=r.state.time,s=r.props,o=s.date,a=s.timeString,l=s.customTimeInput;return l?C.cloneElement(l,{date:o,value:i,onChange:r.onTimeChange}):q.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:r.inputRef,onClick:function(){var c;(c=r.inputRef.current)===null||c===void 0||c.focus()},required:!0,value:i,onChange:function(c){r.onTimeChange(c.target.value||a)}})},r.state={time:r.props.timeString},r}return t.getDerivedStateFromProps=function(n,r){return n.timeString!==r.time?{time:n.timeString}:null},t.prototype.render=function(){return q.createElement("div",{className:"react-datepicker__input-time-container"},q.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),q.createElement("div",{className:"react-datepicker-time__input-container"},q.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},t})(C.Component),QBe=(function(e){Er(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.dayEl=C.createRef(),n.handleClick=function(r){!n.isDisabled()&&n.props.onClick&&n.props.onClick(r)},n.handleMouseEnter=function(r){!n.isDisabled()&&n.props.onMouseEnter&&n.props.onMouseEnter(r)},n.handleOnKeyDown=function(r){var i,s,o=r.key;o===Te.Space&&(r.preventDefault(),r.key=Te.Enter),(s=(i=n.props).handleOnKeyDown)===null||s===void 0||s.call(i,r)},n.isSameDay=function(r){return ft(n.props.day,r)},n.isKeyboardSelected=function(){var r;if(n.props.disabledKeyboardNavigation)return!1;var i=n.props.selectsMultiple?(r=n.props.selectedDates)===null||r===void 0?void 0:r.some(function(o){return n.isSameDayOrWeek(o)}):n.isSameDayOrWeek(n.props.selected),s=n.props.preSelection&&n.isDisabled(n.props.preSelection);return!i&&n.isSameDayOrWeek(n.props.preSelection)&&!s},n.isDisabled=function(r){return r===void 0&&(r=n.props.day),Cs(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate,disabled:n.props.disabled})},n.isExcluded=function(){return JN(n.props.day,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.isStartOfWeek=function(){return ft(n.props.day,yc(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameWeek=function(r){return n.props.showWeekPicker&&ft(r,yc(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameDayOrWeek=function(r){return n.isSameDay(r)||n.isSameWeek(r)},n.getHighLightedClass=function(){var r=n.props,i=r.day,s=r.highlightDates;if(!s)return!1;var o=un(i,"MM.dd.yyyy");return s.get(o)},n.getHolidaysClass=function(){var r,i=n.props,s=i.day,o=i.holidays;if(!o)return[void 0];var a=un(s,"MM.dd.yyyy");return o.has(a)?[(r=o.get(a))===null||r===void 0?void 0:r.className]:[void 0]},n.isInRange=function(){var r=n.props,i=r.day,s=r.startDate,o=r.endDate;return!s||!o?!1:yu(i,s,o)},n.isInSelectingRange=function(){var r,i=n.props,s=i.day,o=i.selectsStart,a=i.selectsEnd,l=i.selectsRange,c=i.selectsDisabledDaysInRange,d=i.startDate,f=i.swapRange,p=i.endDate,v=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;if(!(o||a||l)||!v||!c&&n.isDisabled())return!1;if(o&&p&&(Ao(v,p)||Tu(v,p)))return yu(s,v,p);if(a&&d&&(Ac(v,d)||Tu(v,d)))return yu(s,d,v);if(l&&d&&!p){if(Tu(v,d)||Ac(v,d))return yu(s,d,v);if(f&&Ao(v,d))return yu(s,v,d)}return!1},n.isSelectingRangeStart=function(){var r;if(!n.isInSelectingRange())return!1;var i=n.props,s=i.day,o=i.startDate,a=i.selectsStart,l=i.swapRange,c=i.selectsRange,d=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return a?ft(s,d):c&&l&&o&&d?ft(s,Ao(d,o)?d:o):ft(s,o)},n.isSelectingRangeEnd=function(){var r;if(!n.isInSelectingRange())return!1;var i=n.props,s=i.day,o=i.endDate,a=i.selectsEnd,l=i.selectsRange,c=i.swapRange,d=i.startDate,f=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return a?ft(s,f):l&&c&&d&&f?ft(s,Ao(f,d)?d:f):l?ft(s,f):ft(s,o)},n.isRangeStart=function(){var r=n.props,i=r.day,s=r.startDate,o=r.endDate;return!s||!o?!1:ft(s,i)},n.isRangeEnd=function(){var r=n.props,i=r.day,s=r.startDate,o=r.endDate;return!s||!o?!1:ft(o,i)},n.isWeekend=function(){var r=zje(n.props.day);return r===0||r===6},n.isAfterMonth=function(){return n.props.month!==void 0&&(n.props.month+1)%12===Nr(n.props.day)},n.isBeforeMonth=function(){return n.props.month!==void 0&&(Nr(n.props.day)+1)%12===n.props.month},n.isCurrentDay=function(){return n.isSameDay(Et())},n.isSelected=function(){var r;return n.props.selectsMultiple?(r=n.props.selectedDates)===null||r===void 0?void 0:r.some(function(i){return n.isSameDayOrWeek(i)}):n.isSameDayOrWeek(n.props.selected)},n.getClassNames=function(r){var i=n.props.dayClassName?n.props.dayClassName(r):void 0;return $e("react-datepicker__day",i,"react-datepicker__day--"+NBe(n.props.day),{"react-datepicker__day--disabled":n.isDisabled(),"react-datepicker__day--excluded":n.isExcluded(),"react-datepicker__day--selected":n.isSelected(),"react-datepicker__day--keyboard-selected":n.isKeyboardSelected(),"react-datepicker__day--range-start":n.isRangeStart(),"react-datepicker__day--range-end":n.isRangeEnd(),"react-datepicker__day--in-range":n.isInRange(),"react-datepicker__day--in-selecting-range":n.isInSelectingRange(),"react-datepicker__day--selecting-range-start":n.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":n.isSelectingRangeEnd(),"react-datepicker__day--today":n.isCurrentDay(),"react-datepicker__day--weekend":n.isWeekend(),"react-datepicker__day--outside-month":n.isAfterMonth()||n.isBeforeMonth()},n.getHighLightedClass(),n.getHolidaysClass())},n.getAriaLabel=function(){var r=n.props,i=r.day,s=r.ariaLabelPrefixWhenEnabled,o=s===void 0?"Choose":s,a=r.ariaLabelPrefixWhenDisabled,l=a===void 0?"Not available":a,c=n.isDisabled()||n.isExcluded()?l:o;return"".concat(c," ").concat(un(i,"PPPP",n.props.locale))},n.getTitle=function(){var r=n.props,i=r.day,s=r.holidays,o=s===void 0?new Map:s,a=r.excludeDates,l=un(i,"MM.dd.yyyy"),c=[];return o.has(l)&&c.push.apply(c,o.get(l).holidayNames),n.isExcluded()&&c.push(a?.filter(function(d){return d instanceof Date?ft(d,i):ft(d?.date,i)}).map(function(d){if(!(d instanceof Date))return d?.message})),c.join(", ")},n.getTabIndex=function(){var r=n.props.selected,i=n.props.preSelection,s=!(n.props.showWeekPicker&&(n.props.showWeekNumber||!n.isStartOfWeek()))&&(n.isKeyboardSelected()||n.isSameDay(r)&&ft(i,r))?0:-1;return s},n.handleFocusDay=function(){var r;n.shouldFocusDay()&&((r=n.dayEl.current)===null||r===void 0||r.focus({preventScroll:!0}))},n.renderDayContents=function(){return n.props.monthShowsDuplicateDaysEnd&&n.isAfterMonth()||n.props.monthShowsDuplicateDaysStart&&n.isBeforeMonth()?null:n.props.renderDayContents?n.props.renderDayContents(kH(n.props.day),n.props.day):kH(n.props.day)},n.render=function(){return q.createElement("div",{ref:n.dayEl,className:n.getClassNames(n.props.day),onKeyDown:n.handleOnKeyDown,onClick:n.handleClick,onMouseEnter:n.props.usePointerEvent?void 0:n.handleMouseEnter,onPointerEnter:n.props.usePointerEvent?n.handleMouseEnter:void 0,tabIndex:n.getTabIndex(),"aria-label":n.getAriaLabel(),role:"gridcell",title:n.getTitle(),"aria-disabled":n.isDisabled(),"aria-current":n.isCurrentDay()?"date":void 0,"aria-selected":n.isSelected()||n.isInRange()},n.renderDayContents(),n.getTitle()!==""&&q.createElement("span",{className:"overlay"},n.getTitle()))},n}return t.prototype.componentDidMount=function(){this.handleFocusDay()},t.prototype.componentDidUpdate=function(){this.handleFocusDay()},t.prototype.shouldFocusDay=function(){var n=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(n=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(n=!1),this.isDayActiveElement()&&(n=!0),this.isDuplicateDay()&&(n=!1)),n},t.prototype.isDayActiveElement=function(){var n,r,i;return((r=(n=this.props.containerRef)===null||n===void 0?void 0:n.current)===null||r===void 0?void 0:r.contains(document.activeElement))&&((i=document.activeElement)===null||i===void 0?void 0:i.classList.contains("react-datepicker__day"))},t.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},t})(C.Component),XBe=(function(e){Er(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.weekNumberEl=C.createRef(),n.handleClick=function(r){n.props.onClick&&n.props.onClick(r)},n.handleOnKeyDown=function(r){var i,s,o=r.key;o===Te.Space&&(r.preventDefault(),r.key=Te.Enter),(s=(i=n.props).handleOnKeyDown)===null||s===void 0||s.call(i,r)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!ft(n.props.date,n.props.selected)&&ft(n.props.date,n.props.preSelection)},n.getTabIndex=function(){return n.props.showWeekPicker&&n.props.showWeekNumber&&(n.isKeyboardSelected()||ft(n.props.date,n.props.selected)&&ft(n.props.preSelection,n.props.selected))?0:-1},n.handleFocusWeekNumber=function(r){var i=!1;n.getTabIndex()===0&&!r?.isInputFocused&&ft(n.props.date,n.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(i=!0),n.props.inline&&!n.props.shouldFocusDayInline&&(i=!1),n.props.containerRef&&n.props.containerRef.current&&n.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(i=!0)),i&&n.weekNumberEl.current&&n.weekNumberEl.current.focus({preventScroll:!0})},n}return Object.defineProperty(t,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},t.prototype.componentDidUpdate=function(n){this.handleFocusWeekNumber(n)},t.prototype.render=function(){var n=this.props,r=n.weekNumber,i=n.isWeekDisabled,s=n.ariaLabelPrefix,o=s===void 0?t.defaultProps.ariaLabelPrefix:s,a=n.onClick,l={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!a&&!i,"react-datepicker__week-number--selected":!!a&&ft(this.props.date,this.props.selected)};return q.createElement("div",{ref:this.weekNumberEl,className:$e(l),"aria-label":"".concat(o," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex(),role:"gridcell"},r)},t})(C.Component),JBe=(function(e){Er(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.isDisabled=function(r){return Cs(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.handleDayClick=function(r,i){n.props.onDayClick&&n.props.onDayClick(r,i)},n.handleDayMouseEnter=function(r){n.props.onDayMouseEnter&&n.props.onDayMouseEnter(r)},n.handleWeekClick=function(r,i,s){for(var o,a,l,c=new Date(r),d=0;d<7;d++){var f=new Date(r);f.setDate(f.getDate()+d);var p=!n.isDisabled(f);if(p){c=f;break}}typeof n.props.onWeekSelect=="function"&&n.props.onWeekSelect(c,i,s),n.props.showWeekPicker&&n.handleDayClick(c,s),((o=n.props.shouldCloseOnSelect)!==null&&o!==void 0?o:t.defaultProps.shouldCloseOnSelect)&&((l=(a=n.props).setOpen)===null||l===void 0||l.call(a,!1))},n.formatWeekNumber=function(r){return n.props.formatWeekNumber?n.props.formatWeekNumber(r):PBe(r)},n.isWeekDisabled=function(){for(var r=n.startOfWeek(),i=Qs(r,6),s=new Date(r);s<=i;){if(!n.isDisabled(s))return!1;s=Qs(s,1)}return!0},n.renderDays=function(){var r=n.startOfWeek(),i=[],s=n.formatWeekNumber(r);if(n.props.showWeekNumber){var o=n.props.onWeekSelect||n.props.showWeekPicker?n.handleWeekClick.bind(n,r,s):void 0;i.push(q.createElement(XBe,pt({key:"W"},t.defaultProps,n.props,{weekNumber:s,isWeekDisabled:n.isWeekDisabled(),date:r,onClick:o})))}return i.concat([0,1,2,3,4,5,6].map(function(a){var l=Qs(r,a);return q.createElement(QBe,pt({},t.defaultProps,n.props,{ariaLabelPrefixWhenEnabled:n.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:n.props.disabledDayAriaLabelPrefix,key:l.valueOf(),day:l,onClick:n.handleDayClick.bind(n,l),onMouseEnter:n.handleDayMouseEnter.bind(n,l)}))}))},n.startOfWeek=function(){return yc(n.props.day,n.props.locale,n.props.calendarStartDay)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!ft(n.startOfWeek(),n.props.selected)&&ft(n.startOfWeek(),n.props.preSelection)},n}return Object.defineProperty(t,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),t.prototype.render=function(){var n={"react-datepicker__week":!0,"react-datepicker__week--selected":ft(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()},r=this.props.weekClassName?this.props.weekClassName(this.startOfWeek()):void 0;return q.createElement("div",{className:$e(n,r),role:"row"},this.renderDays())},t})(C.Component),gg,ZBe=6,Jh={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},IM=(gg={},gg[Jh.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},gg[Jh.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},gg[Jh.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},gg),P0=1;function nz(e,t){return e?Jh.FOUR_COLUMNS:t?Jh.TWO_COLUMNS:Jh.THREE_COLUMNS}var eHe=(function(e){Er(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.MONTH_REFS=Po([],Array(12),!0).map(function(){return C.createRef()}),n.QUARTER_REFS=Po([],Array(4),!0).map(function(){return C.createRef()}),n.isDisabled=function(r){return Cs(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate,disabled:n.props.disabled})},n.isExcluded=function(r){return JN(r,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.handleDayClick=function(r,i){var s,o;(o=(s=n.props).onDayClick)===null||o===void 0||o.call(s,r,i,n.props.orderInDisplay)},n.handleDayMouseEnter=function(r){var i,s;(s=(i=n.props).onDayMouseEnter)===null||s===void 0||s.call(i,r)},n.handleMouseLeave=function(){var r,i;(i=(r=n.props).onMouseLeave)===null||i===void 0||i.call(r)},n.isRangeStartMonth=function(r){var i=n.props,s=i.day,o=i.startDate,a=i.endDate;return!o||!a?!1:Vr(Hi(s,r),o)},n.isRangeStartQuarter=function(r){var i=n.props,s=i.day,o=i.startDate,a=i.endDate;return!o||!a?!1:sC(Mh(s,r),o)},n.isRangeEndMonth=function(r){var i=n.props,s=i.day,o=i.startDate,a=i.endDate;return!o||!a?!1:Vr(Hi(s,r),a)},n.isRangeEndQuarter=function(r){var i=n.props,s=i.day,o=i.startDate,a=i.endDate;return!o||!a?!1:sC(Mh(s,r),a)},n.isInSelectingRangeMonth=function(r){var i,s=n.props,o=s.day,a=s.selectsStart,l=s.selectsEnd,c=s.selectsRange,d=s.startDate,f=s.endDate,p=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return!(a||l||c)||!p?!1:a&&f?M0(p,f,r,o):l&&d||c&&d&&!f?M0(d,p,r,o):!1},n.isSelectingMonthRangeStart=function(r){var i;if(!n.isInSelectingRangeMonth(r))return!1;var s=n.props,o=s.day,a=s.startDate,l=s.selectsStart,c=Hi(o,r),d=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return l?Vr(c,d):Vr(c,a)},n.isSelectingMonthRangeEnd=function(r){var i;if(!n.isInSelectingRangeMonth(r))return!1;var s=n.props,o=s.day,a=s.endDate,l=s.selectsEnd,c=s.selectsRange,d=Hi(o,r),f=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return l||c?Vr(d,f):Vr(d,a)},n.isInSelectingRangeQuarter=function(r){var i,s=n.props,o=s.day,a=s.selectsStart,l=s.selectsEnd,c=s.selectsRange,d=s.startDate,f=s.endDate,p=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return!(a||l||c)||!p?!1:a&&f?A0(p,f,r,o):l&&d||c&&d&&!f?A0(d,p,r,o):!1},n.isWeekInMonth=function(r){var i=n.props.day,s=Qs(r,6);return Vr(r,i)||Vr(s,i)},n.isCurrentMonth=function(r,i){return st(r)===st(Et())&&i===Nr(Et())},n.isCurrentQuarter=function(r,i){return st(r)===st(Et())&&i===dc(Et())},n.isSelectedMonth=function(r,i,s){return Nr(s)===i&&st(r)===st(s)},n.isSelectMonthInList=function(r,i,s){return s.some(function(o){return n.isSelectedMonth(r,i,o)})},n.isSelectedQuarter=function(r,i,s){return dc(s)===i&&st(r)===st(s)},n.isSelectQuarterInList=function(r,i,s){return s.some(function(o){return n.isSelectedQuarter(r,i,o)})},n.isMonthSelected=function(){var r=n.props,i=r.day,s=r.selected,o=r.selectedDates,a=r.selectsMultiple,l=Nr(i);return a?o?.some(function(c){return n.isSelectedMonth(i,l,c)}):!!s&&n.isSelectedMonth(i,l,s)},n.isQuarterSelected=function(){var r=n.props,i=r.day,s=r.selected,o=r.selectedDates,a=r.selectsMultiple,l=dc(i);return a?o?.some(function(c){return n.isSelectedQuarter(i,l,c)}):!!s&&n.isSelectedQuarter(i,l,s)},n.renderWeeks=function(){if(!Mo(n.props.day))return[];for(var r=[],i=n.props.fixedHeight,s=0,o=!1,a=yc(Va(n.props.day),n.props.locale,n.props.calendarStartDay),l=function(y){return n.props.showWeekPicker?yc(y,n.props.locale,n.props.calendarStartDay):n.props.preSelection},c=function(y){return n.props.showWeekPicker?yc(y,n.props.locale,n.props.calendarStartDay):n.props.selected},d=n.props.selected?c(n.props.selected):void 0,f=n.props.preSelection?l(n.props.preSelection):void 0;r.push(q.createElement(JBe,pt({},n.props,{ariaLabelPrefix:n.props.weekAriaLabelPrefix,key:s,day:a,month:Nr(n.props.day),onDayClick:n.handleDayClick,onDayMouseEnter:n.handleDayMouseEnter,selected:d,preSelection:f,showWeekNumber:n.props.showWeekNumbers}))),!o;){s++,a=Kb(a,1);var p=i&&s>=ZBe,v=!i&&!n.isWeekInMonth(a);if(p||v)if(n.props.peekNextMonth)o=!0;else break}return r},n.onMonthClick=function(r,i){var s=n.isMonthDisabledForLabelDate(i),o=s.isDisabled,a=s.labelDate;o||n.handleDayClick(Va(a),r)},n.onMonthMouseEnter=function(r){var i=n.isMonthDisabledForLabelDate(r),s=i.isDisabled,o=i.labelDate;s||n.handleDayMouseEnter(Va(o))},n.handleMonthNavigation=function(r,i){var s,o,a,l;(o=(s=n.props).setPreSelection)===null||o===void 0||o.call(s,i),(l=(a=n.MONTH_REFS[r])===null||a===void 0?void 0:a.current)===null||l===void 0||l.focus()},n.handleKeyboardNavigation=function(r,i,s){var o,a=n.props,l=a.selected,c=a.preSelection,d=a.setPreSelection,f=a.minDate,p=a.maxDate,v=a.showFourColumnMonthYearPicker,y=a.showTwoColumnMonthYearPicker;if(c){var b=nz(v,y),x=n.getVerticalOffset(b),S=(o=IM[b])===null||o===void 0?void 0:o.grid,M=function(A,O,B){var U,_,I=O,V=B;switch(A){case Te.ArrowRight:I=to(O,P0),V=B===11?0:B+P0;break;case Te.ArrowLeft:I=Uu(O,P0),V=B===0?11:B-P0;break;case Te.ArrowUp:I=Uu(O,x),V=!((U=S?.[0])===null||U===void 0)&&U.includes(B)?B+12-x:B-x;break;case Te.ArrowDown:I=to(O,x),V=!((_=S?.[S.length-1])===null||_===void 0)&&_.includes(B)?B-12+x:B+x;break}return{newCalculatedDate:I,newCalculatedMonth:V}},R=function(A,O,B){for(var U=40,_=A,I=!1,V=0,F=M(_,O,B),L=F.newCalculatedDate,z=F.newCalculatedMonth;!I;){if(V>=U){L=O,z=B;break}if(f&&L<f){_=Te.ArrowRight;var j=M(_,L,z);L=j.newCalculatedDate,z=j.newCalculatedMonth}if(p&&L>p){_=Te.ArrowLeft;var j=M(_,L,z);L=j.newCalculatedDate,z=j.newCalculatedMonth}if(BBe(L,n.props)){var j=M(_,L,z);L=j.newCalculatedDate,z=j.newCalculatedMonth}else I=!0;V++}return{newCalculatedDate:L,newCalculatedMonth:z}};if(i===Te.Enter){n.isMonthDisabled(s)||(n.onMonthClick(r,s),d?.(l));return}var T=R(i,c,s),k=T.newCalculatedDate,P=T.newCalculatedMonth;switch(i){case Te.ArrowRight:case Te.ArrowLeft:case Te.ArrowUp:case Te.ArrowDown:n.handleMonthNavigation(P,k);break}}},n.getVerticalOffset=function(r){var i,s;return(s=(i=IM[r])===null||i===void 0?void 0:i.verticalNavigationOffset)!==null&&s!==void 0?s:0},n.onMonthKeyDown=function(r,i){var s=n.props,o=s.disabledKeyboardNavigation,a=s.handleOnMonthKeyDown,l=r.key;l!==Te.Tab&&r.preventDefault(),o||n.handleKeyboardNavigation(r,l,i),a&&a(r)},n.onQuarterClick=function(r,i){var s=Mh(n.props.day,i);T0(s,n.props)||n.handleDayClick(GH(s),r)},n.onQuarterMouseEnter=function(r){var i=Mh(n.props.day,r);T0(i,n.props)||n.handleDayMouseEnter(GH(i))},n.handleQuarterNavigation=function(r,i){var s,o,a,l;n.isDisabled(i)||n.isExcluded(i)||((o=(s=n.props).setPreSelection)===null||o===void 0||o.call(s,i),(l=(a=n.QUARTER_REFS[r-1])===null||a===void 0?void 0:a.current)===null||l===void 0||l.focus())},n.onQuarterKeyDown=function(r,i){var s,o,a=r.key;if(!n.props.disabledKeyboardNavigation)switch(a){case Te.Enter:n.onQuarterClick(r,i),(o=(s=n.props).setPreSelection)===null||o===void 0||o.call(s,n.props.selected);break;case Te.ArrowRight:if(!n.props.preSelection)break;n.handleQuarterNavigation(i===4?1:i+1,HN(n.props.preSelection,1));break;case Te.ArrowLeft:if(!n.props.preSelection)break;n.handleQuarterNavigation(i===1?4:i-1,IY(n.props.preSelection));break}},n.isMonthDisabledForLabelDate=function(r){var i,s=n.props,o=s.day,a=s.disabled,l=s.minDate,c=s.maxDate,d=s.excludeDates,f=s.includeDates,p=Hi(o,r);return a?{isDisabled:!0,labelDate:Hi(o,r)}:{isDisabled:(i=(l||c||d||f)&&QY(p,n.props))!==null&&i!==void 0?i:!1,labelDate:p}},n.isMonthDisabled=function(r){var i=n.isMonthDisabledForLabelDate(r).isDisabled;return i},n.getMonthClassNames=function(r){var i=n.props,s=i.day,o=i.startDate,a=i.endDate,l=i.preSelection,c=i.monthClassName,d=c?c(Hi(s,r)):void 0,f=n.getSelection();return $e("react-datepicker__month-text","react-datepicker__month-".concat(r),d,{"react-datepicker__month-text--disabled":n.isMonthDisabled(r),"react-datepicker__month-text--selected":f?n.isSelectMonthInList(s,r,f):void 0,"react-datepicker__month-text--keyboard-selected":!n.props.disabledKeyboardNavigation&&l&&n.isSelectedMonth(s,r,l)&&!n.isMonthSelected()&&!n.isMonthDisabled(r),"react-datepicker__month-text--in-selecting-range":n.isInSelectingRangeMonth(r),"react-datepicker__month-text--in-range":o&&a?M0(o,a,r,s):void 0,"react-datepicker__month-text--range-start":n.isRangeStartMonth(r),"react-datepicker__month-text--range-end":n.isRangeEndMonth(r),"react-datepicker__month-text--selecting-range-start":n.isSelectingMonthRangeStart(r),"react-datepicker__month-text--selecting-range-end":n.isSelectingMonthRangeEnd(r),"react-datepicker__month-text--today":n.isCurrentMonth(s,r)})},n.getTabIndex=function(r){if(n.props.preSelection==null)return"-1";var i=Nr(n.props.preSelection),s=n.isMonthDisabledForLabelDate(i).isDisabled,o=r===i&&!(s||n.props.disabledKeyboardNavigation)?"0":"-1";return o},n.getQuarterTabIndex=function(r){if(n.props.preSelection==null)return"-1";var i=dc(n.props.preSelection),s=T0(n.props.day,n.props),o=r===i&&!(s||n.props.disabledKeyboardNavigation)?"0":"-1";return o},n.getAriaLabel=function(r){var i=n.props,s=i.chooseDayAriaLabelPrefix,o=s===void 0?"Choose":s,a=i.disabledDayAriaLabelPrefix,l=a===void 0?"Not available":a,c=i.day,d=i.locale,f=Hi(c,r),p=n.isDisabled(f)||n.isExcluded(f)?l:o;return"".concat(p," ").concat(un(f,"MMMM yyyy",d))},n.getQuarterClassNames=function(r){var i=n.props,s=i.day,o=i.startDate,a=i.endDate,l=i.minDate,c=i.maxDate,d=i.excludeDates,f=i.includeDates,p=i.filterDate,v=i.preSelection,y=i.disabledKeyboardNavigation,b=i.disabled,x=(l||c||d||f||p||b)&&T0(Mh(s,r),n.props),S=n.getSelection();return $e("react-datepicker__quarter-text","react-datepicker__quarter-".concat(r),{"react-datepicker__quarter-text--disabled":x,"react-datepicker__quarter-text--selected":S?n.isSelectQuarterInList(s,r,S):void 0,"react-datepicker__quarter-text--keyboard-selected":!y&&v&&n.isSelectedQuarter(s,r,v)&&!n.isQuarterSelected()&&!x,"react-datepicker__quarter-text--in-selecting-range":n.isInSelectingRangeQuarter(r),"react-datepicker__quarter-text--in-range":o&&a?A0(o,a,r,s):void 0,"react-datepicker__quarter-text--range-start":n.isRangeStartQuarter(r),"react-datepicker__quarter-text--range-end":n.isRangeEndQuarter(r),"react-datepicker__quarter-text--today":n.isCurrentQuarter(s,r)})},n.getMonthContent=function(r){var i=n.props,s=i.showFullMonthYearPicker,o=i.renderMonthContent,a=i.locale,l=i.day,c=YY(r,a),d=XN(r,a);return o?o(r,c,d,l):s?d:c},n.getQuarterContent=function(r){var i,s=n.props,o=s.renderQuarterContent,a=s.locale,l=jBe(r,a);return(i=o?.(r,l))!==null&&i!==void 0?i:l},n.renderMonths=function(){var r,i=n.props,s=i.showTwoColumnMonthYearPicker,o=i.showFourColumnMonthYearPicker,a=i.day,l=i.selected,c=(r=IM[nz(o,s)])===null||r===void 0?void 0:r.grid;return c?.map(function(d,f){return q.createElement("div",{className:"react-datepicker__month-wrapper",key:f},d.map(function(p,v){return q.createElement("div",{ref:n.MONTH_REFS[p],key:v,onClick:function(y){n.onMonthClick(y,p)},onKeyDown:function(y){ZY(y)&&(y.preventDefault(),y.key=Te.Enter),n.onMonthKeyDown(y,p)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onMonthMouseEnter(p)},onPointerEnter:n.props.usePointerEvent?function(){return n.onMonthMouseEnter(p)}:void 0,tabIndex:Number(n.getTabIndex(p)),className:n.getMonthClassNames(p),"aria-disabled":n.isMonthDisabled(p),role:"option","aria-label":n.getAriaLabel(p),"aria-current":n.isCurrentMonth(a,p)?"date":void 0,"aria-selected":l?n.isSelectedMonth(a,p,l):void 0},n.getMonthContent(p))}))})},n.renderQuarters=function(){var r=n.props,i=r.day,s=r.selected,o=[1,2,3,4];return q.createElement("div",{className:"react-datepicker__quarter-wrapper"},o.map(function(a,l){return q.createElement("div",{key:l,ref:n.QUARTER_REFS[l],role:"option",onClick:function(c){n.onQuarterClick(c,a)},onKeyDown:function(c){n.onQuarterKeyDown(c,a)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onQuarterMouseEnter(a)},onPointerEnter:n.props.usePointerEvent?function(){return n.onQuarterMouseEnter(a)}:void 0,className:n.getQuarterClassNames(a),"aria-selected":s?n.isSelectedQuarter(i,a,s):void 0,tabIndex:Number(n.getQuarterTabIndex(a)),"aria-current":n.isCurrentQuarter(i,a)?"date":void 0},n.getQuarterContent(a))}))},n.getClassNames=function(){var r=n.props,i=r.selectingDate,s=r.selectsStart,o=r.selectsEnd,a=r.showMonthYearPicker,l=r.showQuarterYearPicker,c=r.showWeekPicker;return $e("react-datepicker__month",{"react-datepicker__month--selecting-range":i&&(s||o)},{"react-datepicker__monthPicker":a},{"react-datepicker__quarterPicker":l},{"react-datepicker__weekPicker":c})},n}return t.prototype.getSelection=function(){var n=this.props,r=n.selected,i=n.selectedDates,s=n.selectsMultiple;if(s)return i;if(r)return[r]},t.prototype.render=function(){var n=this.props,r=n.showMonthYearPicker,i=n.showQuarterYearPicker,s=n.day,o=n.ariaLabelPrefix,a=o===void 0?"Month ":o,l=a?a.trim()+" ":"",c=Mo(s)?"".concat(l).concat(un(s,"MMMM, yyyy",this.props.locale)):"",d=r||i;return d?q.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":c,role:"listbox"},r?this.renderMonths():this.renderQuarters()):q.createElement("div",{role:"table"},this.props.dayNamesHeader&&q.createElement("div",{role:"rowgroup"},this.props.dayNamesHeader),q.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":c,role:"rowgroup"},this.renderWeeks()))},t})(C.Component),tHe=(function(e){Er(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.monthOptionButtonsRef={},n.isSelectedMonth=function(r){return n.props.month===r},n.handleOptionKeyDown=function(r,i){var s;switch(i.key){case"Enter":i.preventDefault(),n.onChange(r);break;case"Escape":i.preventDefault(),n.props.onCancel();break;case"ArrowUp":case"ArrowDown":{i.preventDefault();var o=(r+(i.key==="ArrowUp"?-1:1)+n.props.monthNames.length)%n.props.monthNames.length;(s=n.monthOptionButtonsRef[o])===null||s===void 0||s.focus();break}}},n.renderOptions=function(){return n.monthOptionButtonsRef={},n.props.monthNames.map(function(r,i){return q.createElement("div",{ref:function(s){n.monthOptionButtonsRef[i]=s,n.isSelectedMonth(i)&&s?.focus()},role:"button",tabIndex:0,className:n.isSelectedMonth(i)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:r,onClick:n.onChange.bind(n,i),onKeyDown:n.handleOptionKeyDown.bind(n,i),"aria-selected":n.isSelectedMonth(i)?"true":void 0},n.isSelectedMonth(i)?q.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",r)})},n.onChange=function(r){return n.props.onChange(r)},n.handleClickOutside=function(){return n.props.onCancel()},n}return t.prototype.render=function(){return q.createElement(vS,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},t})(C.Component),nHe=(function(e){Er(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(r){return r.map(function(i,s){return q.createElement("option",{key:i,value:s},i)})},n.renderSelectMode=function(r){return q.createElement("select",{value:n.props.month,className:"react-datepicker__month-select",onChange:function(i){return n.onChange(parseInt(i.target.value))}},n.renderSelectOptions(r))},n.renderReadView=function(r,i){return q.createElement("button",{key:"read",type:"button",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:n.toggleDropdown},q.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),q.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},i[n.props.month]))},n.renderDropdown=function(r){return q.createElement(tHe,pt({key:"dropdown"},n.props,{monthNames:r,onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(r){var i=n.state.dropdownVisible,s=[n.renderReadView(!i,r)];return i&&s.unshift(n.renderDropdown(r)),s},n.onChange=function(r){n.toggleDropdown(),r!==n.props.month&&n.props.onChange(r)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return t.prototype.render=function(){var n=this,r=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(s){return YY(s,n.props.locale)}:function(s){return XN(s,n.props.locale)}),i;switch(this.props.dropdownMode){case"scroll":i=this.renderScrollMode(r);break;case"select":i=this.renderSelectMode(r);break}return q.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},i)},t})(C.Component);function rHe(e,t){for(var n=[],r=Va(e),i=Va(t);!Ac(r,i);)n.push(Et(r)),r=to(r,1);return n}var iHe=(function(e){Er(t,e);function t(n){var r=e.call(this,n)||this;return r.renderOptions=function(){return r.state.monthYearsList.map(function(i){var s=lk(i),o=xo(r.props.date,i)&&Vr(r.props.date,i);return q.createElement("div",{className:o?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:s,onClick:r.onChange.bind(r,s),"aria-selected":o?"true":void 0},o?q.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",un(i,r.props.dateFormat,r.props.locale))})},r.onChange=function(i){return r.props.onChange(i)},r.handleClickOutside=function(){r.props.onCancel()},r.state={monthYearsList:rHe(r.props.minDate,r.props.maxDate)},r}return t.prototype.render=function(){var n=$e({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return q.createElement(vS,{className:n,onClickOutside:this.handleClickOutside},this.renderOptions())},t})(C.Component),sHe=(function(e){Er(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var r=Va(n.props.minDate),i=Va(n.props.maxDate),s=[];!Ac(r,i);){var o=lk(r);s.push(q.createElement("option",{key:o,value:o},un(r,n.props.dateFormat,n.props.locale))),r=to(r,1)}return s},n.onSelectChange=function(r){n.onChange(parseInt(r.target.value))},n.renderSelectMode=function(){return q.createElement("select",{value:lk(Va(n.props.date)),className:"react-datepicker__month-year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(r){var i=un(n.props.date,n.props.dateFormat,n.props.locale);return q.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:n.toggleDropdown},q.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),q.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},i))},n.renderDropdown=function(){return q.createElement(iHe,pt({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var r=n.state.dropdownVisible,i=[n.renderReadView(!r)];return r&&i.unshift(n.renderDropdown()),i},n.onChange=function(r){n.toggleDropdown();var i=Et(r);xo(n.props.date,i)&&Vr(n.props.date,i)||n.props.onChange(i)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return t.prototype.render=function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return q.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},n)},t})(C.Component),oHe=(function(e){Er(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={height:null},n.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var r,i,s;n.list&&(n.list.scrollTop=(s=n.centerLi&&t.calcCenterPosition(n.props.monthRef?n.props.monthRef.clientHeight-((i=(r=n.header)===null||r===void 0?void 0:r.clientHeight)!==null&&i!==void 0?i:0):n.list.clientHeight,n.centerLi))!==null&&s!==void 0?s:0)})},n.handleClick=function(r){var i,s;(n.props.minTime||n.props.maxTime)&&qH(r,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&$H(r,n.props)||(s=(i=n.props).onChange)===null||s===void 0||s.call(i,r)},n.isSelectedTime=function(r){return n.props.selected&&KBe(n.props.selected,r)},n.isDisabledTime=function(r){return(n.props.minTime||n.props.maxTime)&&qH(r,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&$H(r,n.props)},n.liClasses=function(r){var i,s=["react-datepicker__time-list-item",n.props.timeClassName?n.props.timeClassName(r):void 0];return n.isSelectedTime(r)&&s.push("react-datepicker__time-list-item--selected"),n.isDisabledTime(r)&&s.push("react-datepicker__time-list-item--disabled"),n.props.injectTimes&&(za(r)*3600+Ga(r)*60+vc(r))%(((i=n.props.intervals)!==null&&i!==void 0?i:t.defaultProps.intervals)*60)!==0&&s.push("react-datepicker__time-list-item--injected"),s.join(" ")},n.handleOnKeyDown=function(r,i){var s,o;r.key===Te.Space&&(r.preventDefault(),r.key=Te.Enter),(r.key===Te.ArrowUp||r.key===Te.ArrowLeft)&&r.target instanceof HTMLElement&&r.target.previousSibling&&(r.preventDefault(),r.target.previousSibling instanceof HTMLElement&&r.target.previousSibling.focus()),(r.key===Te.ArrowDown||r.key===Te.ArrowRight)&&r.target instanceof HTMLElement&&r.target.nextSibling&&(r.preventDefault(),r.target.nextSibling instanceof HTMLElement&&r.target.nextSibling.focus()),r.key===Te.Enter&&n.handleClick(i),(o=(s=n.props).handleOnKeyDown)===null||o===void 0||o.call(s,r)},n.renderTimes=function(){for(var r,i=[],s=typeof n.props.format=="string"?n.props.format:"p",o=(r=n.props.intervals)!==null&&r!==void 0?r:t.defaultProps.intervals,a=n.props.selected||n.props.openToDate||Et(),l=yw(a),c=n.props.injectTimes&&n.props.injectTimes.sort(function(x,S){return x.getTime()-S.getTime()}),d=60*qBe(a),f=d/o,p=0;p<f;p++){var v=sk(l,p*o);if(i.push(v),c){var y=$Be(l,v,p,o,c);i=i.concat(y)}}var b=i.reduce(function(x,S){return S.getTime()<=a.getTime()?S:x},i[0]);return i.map(function(x){return q.createElement("li",{key:x.valueOf(),onClick:n.handleClick.bind(n,x),className:n.liClasses(x),ref:function(S){x===b&&(n.centerLi=S)},onKeyDown:function(S){n.handleOnKeyDown(S,x)},tabIndex:x===b?0:-1,role:"option","aria-selected":n.isSelectedTime(x)?"true":void 0,"aria-disabled":n.isDisabledTime(x)?"true":void 0},un(x,s,n.props.locale))})},n.renderTimeCaption=function(){return n.props.showTimeCaption===!1?q.createElement(q.Fragment,null):q.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(n.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(r){n.header=r}},q.createElement("div",{className:"react-datepicker-time__header"},n.props.timeCaption))},n}return Object.defineProperty(t,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},t.prototype.componentWillUnmount=function(){var n;(n=this.resizeObserver)===null||n===void 0||n.disconnect()},t.prototype.observeDatePickerHeightChanges=function(){var n=this,r=this.props.monthRef;this.updateContainerHeight(),r&&(this.resizeObserver=new ResizeObserver(function(){n.updateContainerHeight()}),this.resizeObserver.observe(r))},t.prototype.updateContainerHeight=function(){this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},t.prototype.render=function(){var n=this,r,i=this.state.height;return q.createElement("div",{className:"react-datepicker__time-container ".concat(((r=this.props.todayButton)!==null&&r!==void 0?r:t.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),q.createElement("div",{className:"react-datepicker__time"},q.createElement("div",{className:"react-datepicker__time-box"},q.createElement("ul",{className:"react-datepicker__time-list",ref:function(s){n.list=s},style:i?{height:i}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},t.calcCenterPosition=function(n,r){return r.offsetTop-(n/2-r.clientHeight/2)},t})(C.Component),rz=3,aHe=(function(e){Er(t,e);function t(n){var r=e.call(this,n)||this;return r.YEAR_REFS=Po([],Array(r.props.yearItemNumber),!0).map(function(){return C.createRef()}),r.isDisabled=function(i){return Cs(i,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(i){return JN(i,{excludeDates:r.props.excludeDates})},r.selectingDate=function(){var i;return(i=r.props.selectingDate)!==null&&i!==void 0?i:r.props.preSelection},r.updateFocusOnPaginate=function(i){var s=function(){var o,a;(a=(o=r.YEAR_REFS[i])===null||o===void 0?void 0:o.current)===null||a===void 0||a.focus()};window.requestAnimationFrame(s)},r.handleYearClick=function(i,s){r.props.onDayClick&&r.props.onDayClick(i,s)},r.handleYearNavigation=function(i,s){var o,a,l,c,d=r.props,f=d.date,p=d.yearItemNumber;if(!(f===void 0||p===void 0)){var v=Pa(f,p).startPeriod;r.isDisabled(s)||r.isExcluded(s)||((a=(o=r.props).setPreSelection)===null||a===void 0||a.call(o,s),i-v<0?r.updateFocusOnPaginate(p-(v-i)):i-v>=p?r.updateFocusOnPaginate(Math.abs(p-(i-v))):(c=(l=r.YEAR_REFS[i-v])===null||l===void 0?void 0:l.current)===null||c===void 0||c.focus())}},r.isSameDay=function(i,s){return ft(i,s)},r.isCurrentYear=function(i){return i===st(Et())},r.isRangeStart=function(i){return r.props.startDate&&r.props.endDate&&xo(Co(Et(),i),r.props.startDate)},r.isRangeEnd=function(i){return r.props.startDate&&r.props.endDate&&xo(Co(Et(),i),r.props.endDate)},r.isInRange=function(i){return k0(i,r.props.startDate,r.props.endDate)},r.isInSelectingRange=function(i){var s=r.props,o=s.selectsStart,a=s.selectsEnd,l=s.selectsRange,c=s.startDate,d=s.endDate;return!(o||a||l)||!r.selectingDate()?!1:o&&d?k0(i,r.selectingDate(),d):a&&c||l&&c&&!d?k0(i,c,r.selectingDate()):!1},r.isSelectingRangeStart=function(i){var s;if(!r.isInSelectingRange(i))return!1;var o=r.props,a=o.startDate,l=o.selectsStart,c=Co(Et(),i);return l?xo(c,(s=r.selectingDate())!==null&&s!==void 0?s:null):xo(c,a??null)},r.isSelectingRangeEnd=function(i){var s;if(!r.isInSelectingRange(i))return!1;var o=r.props,a=o.endDate,l=o.selectsEnd,c=o.selectsRange,d=Co(Et(),i);return l||c?xo(d,(s=r.selectingDate())!==null&&s!==void 0?s:null):xo(d,a??null)},r.isKeyboardSelected=function(i){if(!(r.props.disabledKeyboardNavigation||r.props.date===void 0||r.props.preSelection==null)){var s=r.props,o=s.minDate,a=s.maxDate,l=s.excludeDates,c=s.includeDates,d=s.filterDate,f=s.selected,p=xg(Co(r.props.date,i)),v=(o||a||l||c||d)&&ww(i,r.props),y=!!f&&ft(p,xg(f)),b=ft(p,xg(r.props.preSelection));return!r.props.inline&&!y&&b&&!v}},r.isSelectedYear=function(i){var s=r.props,o=s.selectsMultiple,a=s.selected,l=s.selectedDates;return o?l?.some(function(c){return i===st(c)}):!!a&&i===st(a)},r.onYearClick=function(i,s){var o=r.props.date;o!==void 0&&r.handleYearClick(xg(Co(o,s)),i)},r.onYearKeyDown=function(i,s){var o,a,l=i.key,c=r.props,d=c.date,f=c.yearItemNumber,p=c.handleOnKeyDown;if(l!==Te.Tab&&i.preventDefault(),!r.props.disabledKeyboardNavigation)switch(l){case Te.Enter:if(r.props.selected==null)break;r.onYearClick(i,s),(a=(o=r.props).setPreSelection)===null||a===void 0||a.call(o,r.props.selected);break;case Te.ArrowRight:if(r.props.preSelection==null)break;r.handleYearNavigation(s+1,Ba(r.props.preSelection,1));break;case Te.ArrowLeft:if(r.props.preSelection==null)break;r.handleYearNavigation(s-1,Sf(r.props.preSelection,1));break;case Te.ArrowUp:{if(d===void 0||f===void 0||r.props.preSelection==null)break;var v=Pa(d,f).startPeriod,y=rz,b=s-y;if(b<v){var x=f%y;s>=v&&s<v+x?y=x:y+=x,b=s-y}r.handleYearNavigation(b,Sf(r.props.preSelection,y));break}case Te.ArrowDown:{if(d===void 0||f===void 0||r.props.preSelection==null)break;var S=Pa(d,f).endPeriod,y=rz,b=s+y;if(b>S){var x=f%y;s<=S&&s>S-x?y=x:y+=x,b=s+y}r.handleYearNavigation(b,Ba(r.props.preSelection,y));break}}p&&p(i)},r.getYearClassNames=function(i){var s=r.props,o=s.date,a=s.disabled,l=s.minDate,c=s.maxDate,d=s.excludeDates,f=s.includeDates,p=s.filterDate,v=s.yearClassName;return $e("react-datepicker__year-text","react-datepicker__year-".concat(i),o?v?.(Co(o,i)):void 0,{"react-datepicker__year-text--selected":r.isSelectedYear(i),"react-datepicker__year-text--disabled":(l||c||d||f||p||a)&&ww(i,r.props),"react-datepicker__year-text--keyboard-selected":r.isKeyboardSelected(i),"react-datepicker__year-text--range-start":r.isRangeStart(i),"react-datepicker__year-text--range-end":r.isRangeEnd(i),"react-datepicker__year-text--in-range":r.isInRange(i),"react-datepicker__year-text--in-selecting-range":r.isInSelectingRange(i),"react-datepicker__year-text--selecting-range-start":r.isSelectingRangeStart(i),"react-datepicker__year-text--selecting-range-end":r.isSelectingRangeEnd(i),"react-datepicker__year-text--today":r.isCurrentYear(i)})},r.getYearTabIndex=function(i){if(r.props.disabledKeyboardNavigation||r.props.preSelection==null)return"-1";var s=st(r.props.preSelection),o=ww(i,r.props);return i===s&&!o?"0":"-1"},r.getYearContent=function(i){return r.props.renderYearContent?r.props.renderYearContent(i):i},r}return t.prototype.render=function(){var n=this,r=[],i=this.props,s=i.date,o=i.yearItemNumber,a=i.onYearMouseEnter,l=i.onYearMouseLeave;if(s===void 0)return null;for(var c=Pa(s,o),d=c.startPeriod,f=c.endPeriod,p=function(b){r.push(q.createElement("div",{ref:v.YEAR_REFS[b-d],onClick:function(x){n.onYearClick(x,b)},onKeyDown:function(x){ZY(x)&&(x.preventDefault(),x.key=Te.Enter),n.onYearKeyDown(x,b)},tabIndex:Number(v.getYearTabIndex(b)),className:v.getYearClassNames(b),onMouseEnter:v.props.usePointerEvent?void 0:function(x){return a(x,b)},onPointerEnter:v.props.usePointerEvent?function(x){return a(x,b)}:void 0,onMouseLeave:v.props.usePointerEvent?void 0:function(x){return l(x,b)},onPointerLeave:v.props.usePointerEvent?function(x){return l(x,b)}:void 0,key:b,"aria-current":v.isCurrentYear(b)?"date":void 0},v.getYearContent(b)))},v=this,y=d;y<=f;y++)p(y);return q.createElement("div",{className:"react-datepicker__year"},q.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},r))},t})(C.Component);function lHe(e,t,n,r){for(var i=[],s=0;s<2*t+1;s++){var o=e+t-s,a=!0;n&&(a=st(n)<=o),r&&a&&(a=st(r)>=o),a&&i.push(o)}return i}var cHe=(function(e){Er(t,e);function t(n){var r=e.call(this,n)||this;r.yearOptionButtonsRef={},r.handleOptionKeyDown=function(a,l){var c;switch(l.key){case"Enter":l.preventDefault(),r.onChange(a);break;case"Escape":l.preventDefault(),r.props.onCancel();break;case"ArrowUp":case"ArrowDown":{l.preventDefault();var d=a+(l.key==="ArrowUp"?1:-1);r.yearOptionButtonsRef[d]&&((c=r.yearOptionButtonsRef[d])===null||c===void 0||c.focus());break}}},r.renderOptions=function(){r.yearOptionButtonsRef={};var a=r.props.year,l=r.state.yearsList.map(function(f){return q.createElement("div",{ref:function(p){r.yearOptionButtonsRef[f]=p,f===a&&p?.focus()},role:"button",tabIndex:0,className:a===f?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:f,onClick:r.onChange.bind(r,f),onKeyDown:r.handleOptionKeyDown.bind(r,f),"aria-selected":a===f?"true":void 0},a===f?q.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",f)}),c=r.props.minDate?st(r.props.minDate):null,d=r.props.maxDate?st(r.props.maxDate):null;return(!d||!r.state.yearsList.find(function(f){return f===d}))&&l.unshift(q.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:r.incrementYears},q.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!c||!r.state.yearsList.find(function(f){return f===c}))&&l.push(q.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:r.decrementYears},q.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),l},r.onChange=function(a){r.props.onChange(a)},r.handleClickOutside=function(){r.props.onCancel()},r.shiftYears=function(a){var l=r.state.yearsList.map(function(c){return c+a});r.setState({yearsList:l})},r.incrementYears=function(){return r.shiftYears(1)},r.decrementYears=function(){return r.shiftYears(-1)};var i=n.yearDropdownItemNumber,s=n.scrollableYearDropdown,o=i||(s?10:5);return r.state={yearsList:lHe(r.props.year,o,r.props.minDate,r.props.maxDate)},r.dropdownRef=C.createRef(),r}return t.prototype.componentDidMount=function(){var n=this.dropdownRef.current;if(n){var r=n.children?Array.from(n.children):null,i=r?r.find(function(s){return s.ariaSelected}):null;n.scrollTop=i&&i instanceof HTMLElement?i.offsetTop+(i.clientHeight-n.clientHeight)/2:(n.scrollHeight-n.clientHeight)/2}},t.prototype.render=function(){var n=$e({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return q.createElement(vS,{className:n,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},t})(C.Component),uHe=(function(e){Er(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var r=n.props.minDate?st(n.props.minDate):1900,i=n.props.maxDate?st(n.props.maxDate):2100,s=[],o=r;o<=i;o++)s.push(q.createElement("option",{key:o,value:o},o));return s},n.onSelectChange=function(r){n.onChange(parseInt(r.target.value))},n.renderSelectMode=function(){return q.createElement("select",{value:n.props.year,className:"react-datepicker__year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(r){return q.createElement("button",{key:"read",type:"button",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:n.toggleDropdown},q.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),q.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},n.props.year))},n.renderDropdown=function(){return q.createElement(cHe,pt({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var r=n.state.dropdownVisible,i=[n.renderReadView(!r)];return r&&i.unshift(n.renderDropdown()),i},n.onChange=function(r){n.toggleDropdown(),r!==n.props.year&&n.props.onChange(r)},n.toggleDropdown=function(r){n.setState({dropdownVisible:!n.state.dropdownVisible},function(){n.props.adjustDateOnChange&&n.handleYearChange(n.props.date,r)})},n.handleYearChange=function(r,i){var s;(s=n.onSelect)===null||s===void 0||s.call(n,r,i),n.setOpen()},n.onSelect=function(r,i){var s,o;(o=(s=n.props).onSelect)===null||o===void 0||o.call(s,r,i)},n.setOpen=function(){var r,i;(i=(r=n.props).setOpen)===null||i===void 0||i.call(r,!0)},n}return t.prototype.render=function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return q.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},n)},t})(C.Component),dHe=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],eQ="react-datepicker-ignore-onclickoutside",hHe=function(e){var t=(e.className||"").split(/\s+/);return dHe.some(function(n){return t.indexOf(n)>=0})},fHe=(function(e){Er(t,e);function t(n){var r=e.call(this,n)||this;return r.monthContainer=void 0,r.handleClickOutside=function(i){r.props.onClickOutside(i)},r.setClickOutsideRef=function(){return r.containerRef.current},r.handleDropdownFocus=function(i){var s,o;hHe(i.target)&&((o=(s=r.props).onDropdownFocus)===null||o===void 0||o.call(s,i))},r.getDateInView=function(){var i=r.props,s=i.preSelection,o=i.selected,a=i.openToDate,l=XY(r.props),c=JY(r.props),d=Et(),f=a||o||s;return f||(l&&Ao(d,l)?l:c&&Ac(d,c)?c:d)},r.increaseMonth=function(){r.setState(function(i){var s=i.date;return{date:to(s,1)}},function(){return r.handleMonthChange(r.state.date)})},r.decreaseMonth=function(){r.setState(function(i){var s=i.date;return{date:Uu(s,1)}},function(){return r.handleMonthChange(r.state.date)})},r.handleDayClick=function(i,s,o){r.props.onSelect(i,s,o),r.props.setPreSelection&&r.props.setPreSelection(i)},r.handleDayMouseEnter=function(i){r.setState({selectingDate:i}),r.props.onDayMouseEnter&&r.props.onDayMouseEnter(i)},r.handleMonthMouseLeave=function(){r.setState({selectingDate:void 0}),r.props.onMonthMouseLeave&&r.props.onMonthMouseLeave()},r.handleYearMouseEnter=function(i,s){r.setState({selectingDate:Co(Et(),s)}),r.props.onYearMouseEnter&&r.props.onYearMouseEnter(i,s)},r.handleYearMouseLeave=function(i,s){r.props.onYearMouseLeave&&r.props.onYearMouseLeave(i,s)},r.handleYearChange=function(i){var s,o,a,l;(o=(s=r.props).onYearChange)===null||o===void 0||o.call(s,i),r.setState({isRenderAriaLiveMessage:!0}),r.props.adjustDateOnChange&&(r.props.onSelect(i),(l=(a=r.props).setOpen)===null||l===void 0||l.call(a,!0)),r.props.setPreSelection&&r.props.setPreSelection(i)},r.getEnabledPreSelectionDateForMonth=function(i){if(!Cs(i,r.props))return i;for(var s=Va(i),o=FBe(i),a=U_e(o,s),l=null,c=0;c<=a;c++){var d=Qs(s,c);if(!Cs(d,r.props)){l=d;break}}return l},r.handleMonthChange=function(i){var s,o,a,l=(s=r.getEnabledPreSelectionDateForMonth(i))!==null&&s!==void 0?s:i;r.handleCustomMonthChange(l),r.props.adjustDateOnChange&&(r.props.onSelect(l),(a=(o=r.props).setOpen)===null||a===void 0||a.call(o,!0)),r.props.setPreSelection&&r.props.setPreSelection(l)},r.handleCustomMonthChange=function(i){var s,o;(o=(s=r.props).onMonthChange)===null||o===void 0||o.call(s,i),r.setState({isRenderAriaLiveMessage:!0})},r.handleMonthYearChange=function(i){r.handleYearChange(i),r.handleMonthChange(i)},r.changeYear=function(i){r.setState(function(s){var o=s.date;return{date:Co(o,Number(i))}},function(){return r.handleYearChange(r.state.date)})},r.changeMonth=function(i){r.setState(function(s){var o=s.date;return{date:Hi(o,Number(i))}},function(){return r.handleMonthChange(r.state.date)})},r.changeMonthYear=function(i){r.setState(function(s){var o=s.date;return{date:Co(Hi(o,Nr(i)),st(i))}},function(){return r.handleMonthYearChange(r.state.date)})},r.header=function(i){if(i===void 0&&(i=r.state.date),!Mo(i))return[];var s=r.props.disabled,o=yc(i,r.props.locale,r.props.calendarStartDay),a=[];return r.props.showWeekNumbers&&a.push(q.createElement("div",{key:"W",className:"react-datepicker__day-name ".concat(s?"react-datepicker__day-name--disabled":""),role:"columnheader"},q.createElement("span",{className:"react-datepicker__sr-only"},"Week number"),q.createElement("span",{"aria-hidden":"true"},r.props.weekLabel||"#"))),a.concat([0,1,2,3,4,5,6].map(function(l){var c=Qs(o,l),d=r.formatWeekday(c,r.props.locale),f=r.props.weekDayClassName?r.props.weekDayClassName(c):void 0;return q.createElement("div",{key:l,role:"columnheader",className:$e("react-datepicker__day-name",f,s?"react-datepicker__day-name--disabled":"")},q.createElement("span",{className:"react-datepicker__sr-only"},un(c,"EEEE",r.props.locale)),q.createElement("span",{"aria-hidden":"true"},d))}))},r.formatWeekday=function(i,s){return r.props.formatWeekDay?IBe(i,r.props.formatWeekDay,s):r.props.useWeekdaysShort?_Be(i,s):LBe(i,s)},r.decreaseYear=function(){r.setState(function(i){var s,o=i.date;return{date:Sf(o,r.props.showYearPicker?(s=r.props.yearItemNumber)!==null&&s!==void 0?s:t.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.clearSelectingDate=function(){r.setState({selectingDate:void 0})},r.renderPreviousButton=function(){var i,s,o;if(!r.props.renderCustomHeader){var a=(i=r.props.monthsShown)!==null&&i!==void 0?i:t.defaultProps.monthsShown,l=r.props.showPreviousMonths?a-1:0,c=(s=r.props.monthSelectedIn)!==null&&s!==void 0?s:l,d=Uu(r.state.date,c),f;switch(!0){case r.props.disabled:f=!0;break;case r.props.showMonthYearPicker:f=QH(r.state.date,r.props);break;case r.props.showYearPicker:f=GBe(r.state.date,r.props);break;case r.props.showQuarterYearPicker:f=HBe(r.state.date,r.props);break;default:f=KH(d,r.props);break}if(!(!((o=r.props.forceShowMonthNavigation)!==null&&o!==void 0?o:t.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&f||r.props.showTimeSelectOnly)){var p=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],v=["react-datepicker__navigation","react-datepicker__navigation--previous"],y=r.decreaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(y=r.decreaseYear),f&&r.props.showDisabledMonthNavigation&&(v.push("react-datepicker__navigation--previous--disabled"),y=void 0);var b=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,x=r.props,S=x.previousMonthButtonLabel,M=S===void 0?t.defaultProps.previousMonthButtonLabel:S,R=x.previousYearButtonLabel,T=R===void 0?t.defaultProps.previousYearButtonLabel:R,k=r.props,P=k.previousMonthAriaLabel,A=P===void 0?typeof M=="string"?M:"Previous Month":P,O=k.previousYearAriaLabel,B=O===void 0?typeof T=="string"?T:"Previous Year":O;return q.createElement("button",{type:"button",className:v.join(" "),onClick:y,onKeyDown:r.props.handleOnKeyDown,"aria-label":b?B:A},q.createElement("span",{className:p.join(" ")},b?T:M))}}},r.increaseYear=function(){r.setState(function(i){var s,o=i.date;return{date:Ba(o,r.props.showYearPicker?(s=r.props.yearItemNumber)!==null&&s!==void 0?s:t.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.renderNextButton=function(){var i;if(!r.props.renderCustomHeader){var s;switch(!0){case r.props.disabled:s=!0;break;case r.props.showMonthYearPicker:s=XH(r.state.date,r.props);break;case r.props.showYearPicker:s=VBe(r.state.date,r.props);break;case r.props.showQuarterYearPicker:s=zBe(r.state.date,r.props);break;default:s=YH(r.state.date,r.props);break}if(!(!((i=r.props.forceShowMonthNavigation)!==null&&i!==void 0?i:t.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&s||r.props.showTimeSelectOnly)){var o=["react-datepicker__navigation","react-datepicker__navigation--next"],a=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];r.props.showTimeSelect&&o.push("react-datepicker__navigation--next--with-time"),r.props.todayButton&&o.push("react-datepicker__navigation--next--with-today-button");var l=r.increaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(l=r.increaseYear),s&&r.props.showDisabledMonthNavigation&&(o.push("react-datepicker__navigation--next--disabled"),l=void 0);var c=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,d=r.props,f=d.nextMonthButtonLabel,p=f===void 0?t.defaultProps.nextMonthButtonLabel:f,v=d.nextYearButtonLabel,y=v===void 0?t.defaultProps.nextYearButtonLabel:v,b=r.props,x=b.nextMonthAriaLabel,S=x===void 0?typeof p=="string"?p:"Next Month":x,M=b.nextYearAriaLabel,R=M===void 0?typeof y=="string"?y:"Next Year":M;return q.createElement("button",{type:"button",className:o.join(" "),onClick:l,onKeyDown:r.props.handleOnKeyDown,"aria-label":c?R:S},q.createElement("span",{className:a.join(" ")},c?y:p))}}},r.renderCurrentMonth=function(i){i===void 0&&(i=r.state.date);var s=["react-datepicker__current-month"];return r.props.showYearDropdown&&s.push("react-datepicker__current-month--hasYearDropdown"),r.props.showMonthDropdown&&s.push("react-datepicker__current-month--hasMonthDropdown"),r.props.showMonthYearDropdown&&s.push("react-datepicker__current-month--hasMonthYearDropdown"),q.createElement("h2",{className:s.join(" ")},Mo(i)?un(i,r.props.dateFormat,r.props.locale):"")},r.renderYearDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showYearDropdown||i))return q.createElement(uHe,pt({},t.defaultProps,r.props,{date:r.state.date,onChange:r.changeYear,year:st(r.state.date)}))},r.renderMonthDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showMonthDropdown||i))return q.createElement(nHe,pt({},t.defaultProps,r.props,{month:Nr(r.state.date),onChange:r.changeMonth}))},r.renderMonthYearDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showMonthYearDropdown||i))return q.createElement(sHe,pt({},t.defaultProps,r.props,{date:r.state.date,onChange:r.changeMonthYear}))},r.handleTodayButtonClick=function(i){r.props.onSelect(VH(),i),r.props.setPreSelection&&r.props.setPreSelection(VH())},r.renderTodayButton=function(){if(!(!r.props.todayButton||r.props.showTimeSelectOnly))return q.createElement("div",{className:"react-datepicker__today-button",onClick:r.handleTodayButtonClick},r.props.todayButton)},r.renderDayNamesHeader=function(i){return q.createElement("div",{className:"react-datepicker__day-names",role:"row"},r.header(i))},r.renderDefaultHeader=function(i){var s=i.monthDate,o=i.i;return q.createElement("div",{className:"react-datepicker__header ".concat(r.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},r.renderCurrentMonth(s),q.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(r.props.dropdownMode),onFocus:r.handleDropdownFocus},r.renderMonthDropdown(o!==0),r.renderMonthYearDropdown(o!==0),r.renderYearDropdown(o!==0)))},r.renderCustomHeader=function(i){var s,o,a=i.monthDate,l=i.i;if(r.props.showTimeSelect&&!r.state.monthContainer||r.props.showTimeSelectOnly)return null;var c=r.props,d=c.showYearPicker,f=c.yearItemNumber,p;if(d){var v=Pa(a,f),y=v.startPeriod,b=v.endPeriod;p={startYear:y,endYear:b}}var x=KH(r.state.date,r.props),S=YH(r.state.date,r.props),M=QH(r.state.date,r.props),R=XH(r.state.date,r.props);return q.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:r.props.onDropdownFocus},(o=(s=r.props).renderCustomHeader)===null||o===void 0?void 0:o.call(s,pt(pt(pt({},r.state),d&&{visibleYearsRange:p}),{customHeaderCount:l,monthDate:a,changeMonth:r.changeMonth,changeYear:r.changeYear,decreaseMonth:r.decreaseMonth,increaseMonth:r.increaseMonth,decreaseYear:r.decreaseYear,increaseYear:r.increaseYear,prevMonthButtonDisabled:x,nextMonthButtonDisabled:S,prevYearButtonDisabled:M,nextYearButtonDisabled:R})))},r.renderYearHeader=function(i){var s=i.monthDate,o=r.props,a=o.showYearPicker,l=o.yearItemNumber,c=l===void 0?t.defaultProps.yearItemNumber:l,d=Pa(s,c),f=d.startPeriod,p=d.endPeriod;return q.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},a?"".concat(f," - ").concat(p):st(s))},r.renderHeader=function(i){var s=i.monthDate,o=i.i,a=o===void 0?0:o,l={monthDate:s,i:a};switch(!0){case r.props.renderCustomHeader!==void 0:return r.renderCustomHeader(l);case(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker):return r.renderYearHeader(l);default:return r.renderDefaultHeader(l)}},r.renderMonths=function(){var i,s;if(!(r.props.showTimeSelectOnly||r.props.showYearPicker)){for(var o=[],a=(i=r.props.monthsShown)!==null&&i!==void 0?i:t.defaultProps.monthsShown,l=r.props.showPreviousMonths?a-1:0,c=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Ba(r.state.date,l):Uu(r.state.date,l),d=(s=r.props.monthSelectedIn)!==null&&s!==void 0?s:l,f=0;f<a;++f){var p=f-d+l,v=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Ba(c,p):to(c,p),y="month-".concat(f),b=f<a-1,x=f>0;o.push(q.createElement("div",{key:y,ref:function(S){r.monthContainer=S??void 0},className:"react-datepicker__month-container"},r.renderHeader({monthDate:v,i:f}),q.createElement(eHe,pt({},t.defaultProps,r.props,{containerRef:r.containerRef,ariaLabelPrefix:r.props.monthAriaLabelPrefix,day:v,onDayClick:r.handleDayClick,handleOnKeyDown:r.props.handleOnDayKeyDown,handleOnMonthKeyDown:r.props.handleOnKeyDown,onDayMouseEnter:r.handleDayMouseEnter,onMouseLeave:r.handleMonthMouseLeave,orderInDisplay:f,selectingDate:r.state.selectingDate,monthShowsDuplicateDaysEnd:b,monthShowsDuplicateDaysStart:x,dayNamesHeader:r.renderDayNamesHeader(v)}))))}return o}},r.renderYears=function(){if(!r.props.showTimeSelectOnly&&r.props.showYearPicker)return q.createElement("div",{className:"react-datepicker__year--container"},r.renderHeader({monthDate:r.state.date}),q.createElement(aHe,pt({},t.defaultProps,r.props,{selectingDate:r.state.selectingDate,date:r.state.date,onDayClick:r.handleDayClick,clearSelectingDate:r.clearSelectingDate,onYearMouseEnter:r.handleYearMouseEnter,onYearMouseLeave:r.handleYearMouseLeave})))},r.renderTimeSection=function(){if(r.props.showTimeSelect&&(r.state.monthContainer||r.props.showTimeSelectOnly))return q.createElement(oHe,pt({},t.defaultProps,r.props,{onChange:r.props.onTimeChange,format:r.props.timeFormat,intervals:r.props.timeIntervals,monthRef:r.state.monthContainer}))},r.renderInputTimeSection=function(){var i=r.props.selected?new Date(r.props.selected):void 0,s=i&&Mo(i)&&!!r.props.selected,o=s?"".concat(ZH(i.getHours()),":").concat(ZH(i.getMinutes())):"";if(r.props.showTimeInput)return q.createElement(YBe,pt({},t.defaultProps,r.props,{date:i,timeString:o,onChange:r.props.onTimeChange}))},r.renderAriaLiveRegion=function(){var i;if(!Mo(r.state.date))return q.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"});var s=Pa(r.state.date,(i=r.props.yearItemNumber)!==null&&i!==void 0?i:t.defaultProps.yearItemNumber),o=s.startPeriod,a=s.endPeriod,l;return r.props.showYearPicker?l="".concat(o," - ").concat(a):r.props.showMonthYearPicker||r.props.showQuarterYearPicker?l=st(r.state.date):l="".concat(XN(Nr(r.state.date),r.props.locale)," ").concat(st(r.state.date)),q.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},r.state.isRenderAriaLiveMessage&&l)},r.renderChildren=function(){if(r.props.children)return q.createElement("div",{className:"react-datepicker__children-container"},r.props.children)},r.containerRef=C.createRef(),r.state={date:r.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},r}return Object.defineProperty(t,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,outsideClickIgnoreClass:eQ,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:Ev}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){var n=this;this.props.showTimeSelect&&(this.assignMonthContainer=(function(){n.setState({monthContainer:n.monthContainer})})())},t.prototype.componentDidUpdate=function(n){var r=this;if(this.props.preSelection&&Mo(this.props.preSelection)&&(!ft(this.props.preSelection,n.preSelection)||this.props.monthSelectedIn!==n.monthSelectedIn)){var i=!Vr(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return i&&r.handleCustomMonthChange(r.state.date)})}else this.props.openToDate&&!ft(this.props.openToDate,n.openToDate)&&this.setState({date:this.props.openToDate})},t.prototype.render=function(){var n=this.props.container||MBe;return q.createElement(vS,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},q.createElement("div",{style:{display:"contents"},ref:this.containerRef},q.createElement(n,{className:$e("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly,inline:this.props.inline},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},t})(C.Component),pHe=function(e){var t=e.icon,n=e.className,r=n===void 0?"":n,i=e.onClick,s="react-datepicker__calendar-icon";if(typeof t=="string")return q.createElement("i",{className:"".concat(s," ").concat(t," ").concat(r),"aria-hidden":"true",onClick:i});if(q.isValidElement(t)){var o=t;return q.cloneElement(o,{className:"".concat(o.props.className||""," ").concat(s," ").concat(r),onClick:function(a){typeof o.props.onClick=="function"&&o.props.onClick(a),typeof i=="function"&&i(a)}})}return q.createElement("svg",{className:"".concat(s," ").concat(r),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:i},q.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},tQ=(function(e){Er(t,e);function t(n){var r=e.call(this,n)||this;return r.portalRoot=null,r.el=document.createElement("div"),r}return t.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},t.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},t.prototype.render=function(){return Qk.createPortal(this.props.children,this.el)},t})(C.Component),gHe="[tabindex], a, button, input, select, textarea",mHe=function(e){return(e instanceof HTMLAnchorElement||!e.disabled)&&e.tabIndex!==-1},nQ=(function(e){Er(t,e);function t(n){var r=e.call(this,n)||this;return r.getTabChildren=function(){var i;return Array.prototype.slice.call((i=r.tabLoopRef.current)===null||i===void 0?void 0:i.querySelectorAll(gHe),1,-1).filter(mHe)},r.handleFocusStart=function(){var i=r.getTabChildren();i&&i.length>1&&i[i.length-1].focus()},r.handleFocusEnd=function(){var i=r.getTabChildren();i&&i.length>1&&i[0].focus()},r.tabLoopRef=C.createRef(),r}return t.prototype.render=function(){var n;return((n=this.props.enableTabLoop)!==null&&n!==void 0?n:t.defaultProps.enableTabLoop)?q.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},q.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,q.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},t.defaultProps={enableTabLoop:!0},t})(C.Component);function vHe(e){function t(n){var r,i=typeof n.hidePopper=="boolean"?n.hidePopper:!0,s=C.useRef(null),o=RBe(pt({open:!i,whileElementsMounted:iBe,placement:n.popperPlacement,middleware:Po([fBe({padding:15}),hBe(10),pBe({element:s})],(r=n.popperModifiers)!==null&&r!==void 0?r:[],!0)},n.popperProps)),a=pt(pt({},n),{hidePopper:i,popperProps:pt(pt({},o),{arrowRef:s})});return q.createElement(e,pt({},a))}return t.displayName="withFloating(".concat(e.displayName||e.name||"Component",")"),t}var yHe=function(e){var t=e.className,n=e.wrapperClassName,r=e.hidePopper,i=r===void 0?!0:r,s=e.popperComponent,o=e.targetComponent,a=e.enableTabLoop,l=e.popperOnKeyDown,c=e.portalId,d=e.portalHost,f=e.popperProps,p=e.showArrow,v=void 0;if(!i){var y=$e("react-datepicker-popper",t);v=q.createElement(nQ,{enableTabLoop:a},q.createElement("div",{ref:f.refs.setFloating,style:f.floatingStyles,className:y,"data-placement":f.placement,onKeyDown:l},s,p&&q.createElement(wBe,{ref:f.arrowRef,context:f.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}e.popperContainer&&(v=C.createElement(e.popperContainer,{},v)),c&&!i&&(v=q.createElement(tQ,{portalId:c,portalHost:d},v));var b=$e("react-datepicker-wrapper",n);return q.createElement(q.Fragment,null,q.createElement("div",{ref:f.refs.setReference,className:b},o),v)},wHe=vHe(yHe);function bHe(e,t){return e&&t?Nr(e)!==Nr(t)||st(e)!==st(t):e!==t}var LM="Date input not valid.",no=(function(e){Er(t,e);function t(n){var r=e.call(this,n)||this;return r.calendar=null,r.input=null,r.getPreSelection=function(){return r.props.openToDate?r.props.openToDate:r.props.selectsEnd&&r.props.startDate?r.props.startDate:r.props.selectsStart&&r.props.endDate?r.props.endDate:Et()},r.modifyHolidays=function(){var i;return(i=r.props.holidays)===null||i===void 0?void 0:i.reduce(function(s,o){var a=new Date(o.date);return Mo(a)?Po(Po([],s,!0),[pt(pt({},o),{date:a})],!1):s},[])},r.calcInitialState=function(){var i,s=r.getPreSelection(),o=XY(r.props),a=JY(r.props),l=o&&Ao(s,yw(o))?o:a&&Ac(s,WH(a))?a:s;return{open:r.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(i=r.props.selectsRange?r.props.startDate:r.props.selected)!==null&&i!==void 0?i:l,highlightDates:JH(r.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},r.getInputValue=function(){var i,s=r.props,o=s.locale,a=s.startDate,l=s.endDate,c=s.rangeSeparator,d=s.selected,f=s.selectedDates,p=s.selectsMultiple,v=s.selectsRange,y=s.value,b=(i=r.props.dateFormat)!==null&&i!==void 0?i:t.defaultProps.dateFormat,x=r.state.inputValue;return typeof y=="string"?y:typeof x=="string"?x:v?kBe(a,l,{dateFormat:b,locale:o,rangeSeparator:c}):p?ABe(f??[],{dateFormat:b,locale:o}):Bi(d,{dateFormat:b,locale:o})},r.resetHiddenStatus=function(){r.setState(pt(pt({},r.state),{wasHidden:!1}))},r.setHiddenStatus=function(){r.setState(pt(pt({},r.state),{wasHidden:!0}))},r.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&r.setHiddenStatus()},r.clearPreventFocusTimeout=function(){r.preventFocusTimeout&&clearTimeout(r.preventFocusTimeout)},r.setFocus=function(){var i,s;(s=(i=r.input)===null||i===void 0?void 0:i.focus)===null||s===void 0||s.call(i,{preventScroll:!0})},r.setBlur=function(){var i,s;(s=(i=r.input)===null||i===void 0?void 0:i.blur)===null||s===void 0||s.call(i),r.cancelFocusInput()},r.deferBlur=function(){requestAnimationFrame(function(){r.setBlur()})},r.setOpen=function(i,s){s===void 0&&(s=!1),r.setState({open:i,preSelection:i&&r.state.open?r.state.preSelection:r.calcInitialState().preSelection,lastPreSelectChange:_M},function(){i||r.setState(function(o){return{focused:s?o.focused:!1}},function(){!s&&r.deferBlur(),r.setState({inputValue:null})})})},r.inputOk=function(){return Ha(r.state.preSelection)},r.isCalendarOpen=function(){return r.props.open===void 0?r.state.open&&!r.props.disabled&&!r.props.readOnly:r.props.open},r.handleFocus=function(i){var s,o,a=r.state.wasHidden,l=a?r.state.open:!0;a&&r.resetHiddenStatus(),r.state.preventFocus||((o=(s=r.props).onFocus)===null||o===void 0||o.call(s,i),l&&!r.props.preventOpenOnFocus&&!r.props.readOnly&&r.setOpen(!0)),r.setState({focused:!0})},r.sendFocusBackToInput=function(){r.preventFocusTimeout&&r.clearPreventFocusTimeout(),r.setState({preventFocus:!0},function(){r.preventFocusTimeout=setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})})},r.cancelFocusInput=function(){clearTimeout(r.inputFocusTimeout),r.inputFocusTimeout=void 0},r.deferFocusInput=function(){r.cancelFocusInput(),r.inputFocusTimeout=setTimeout(function(){return r.setFocus()},1)},r.handleDropdownFocus=function(){r.cancelFocusInput()},r.resetInputValue=function(){r.setState(pt(pt({},r.state),{inputValue:null}))},r.handleBlur=function(i){var s,o;(!r.state.open||r.props.withPortal||r.props.showTimeInput)&&((o=(s=r.props).onBlur)===null||o===void 0||o.call(s,i)),r.resetInputValue(),r.state.open&&r.props.open===!1&&r.setOpen(!1),r.setState({focused:!1})},r.handleCalendarClickOutside=function(i){var s,o;r.props.inline||r.setOpen(!1),(o=(s=r.props).onClickOutside)===null||o===void 0||o.call(s,i),r.props.withPortal&&i.preventDefault()},r.handleChange=function(){for(var i,s,o,a,l,c=[],d=0;d<arguments.length;d++)c[d]=arguments[d];var f=c[0];if(!(r.props.onChangeRaw&&(r.props.onChangeRaw.apply(r,c),!f||typeof f.isDefaultPrevented!="function"||f.isDefaultPrevented()))){r.setState({inputValue:f?.target instanceof HTMLInputElement?f.target.value:null,lastPreSelectChange:CHe});var p=r.props,v=p.selectsRange,y=p.startDate,b=p.endDate,x=(i=r.props.dateFormat)!==null&&i!==void 0?i:t.defaultProps.dateFormat,S=(s=r.props.strictParsing)!==null&&s!==void 0?s:t.defaultProps.strictParsing,M=f?.target instanceof HTMLInputElement?f.target.value:"";if(v){var R=r.props.rangeSeparator,T=R.trim(),k=M.split(x.includes(T)?R:T,2).map(function(V){return V.trim()}),P=k[0],A=k[1],O=NM(P??"",x,r.props.locale,S),B=O?NM(A??"",x,r.props.locale,S):null,U=y?.getTime()!==O?.getTime(),_=b?.getTime()!==B?.getTime();if(!U&&!_||O&&Cs(O,r.props)||B&&Cs(B,r.props))return;(a=(o=r.props).onChange)===null||a===void 0||a.call(o,[O,B],f)}else{var I=NM(M,x,r.props.locale,S,(l=r.props.selected)!==null&&l!==void 0?l:void 0);(I||!M)&&r.setSelected(I,f,!0)}}},r.handleSelect=function(i,s,o){var a;if(!r.props.readOnly){var l=r.props,c=l.selectsRange,d=l.startDate,f=l.endDate,p=l.locale,v=l.swapRange,y=(a=r.props.dateFormat)!==null&&a!==void 0?a:t.defaultProps.dateFormat,b=!c||d&&!f&&(v||!FM(i,d));if(r.props.shouldCloseOnSelect&&!r.props.showTimeSelect&&b&&r.sendFocusBackToInput(),r.props.onChangeRaw){var x=Bi(i,{dateFormat:y,locale:p});r.props.onChangeRaw(s,{date:i,formattedDate:x})}r.setSelected(i,s,!1,o),r.props.showDateSelect&&r.setState({isRenderAriaLiveMessage:!0}),!r.props.shouldCloseOnSelect||r.props.showTimeSelect?r.setPreSelection(i):b&&r.setOpen(!1)}},r.setSelected=function(i,s,o,a){var l,c,d=i;if(r.props.showYearPicker){if(d!==null&&ww(st(d),r.props))return}else if(r.props.showMonthYearPicker){if(d!==null&&QY(d,r.props))return}else if(d!==null&&Cs(d,r.props))return;var f=r.props,p=f.onChange,v=f.selectsRange,y=f.startDate,b=f.endDate,x=f.selectsMultiple,S=f.selectedDates,M=f.minTime,R=f.swapRange;if(!Tu(r.props.selected,d)||r.props.allowSameDay||v||x)if(d!==null&&(r.props.selected&&(!o||!r.props.showTimeSelect&&!r.props.showTimeSelectOnly&&!r.props.showTimeInput)&&(d=OM(d,{hour:za(r.props.selected),minute:Ga(r.props.selected),second:vc(r.props.selected)})),!o&&(r.props.showTimeSelect||r.props.showTimeSelectOnly)&&M&&(d=OM(d,{hour:M.getHours(),minute:M.getMinutes(),second:M.getSeconds()})),r.props.inline||r.setState({preSelection:d}),r.props.focusSelectedMonth||r.setState({monthSelectedIn:a})),v){var T=!y&&!b,k=y&&!b,P=!y&&!!b,A=y&&b;T?p?.([d,null],s):k?d===null?p?.([null,null],s):FM(d,y)?p?.(R?[d,y]:[d,null],s):p?.([y,d],s):P&&(d&&FM(d,b)?p?.([d,b],s):p?.([d,null],s)),A&&p?.([d,null],s)}else if(x){if(d!==null)if(!S?.length)p?.([d],s);else{var O=S.some(function(U){return ft(U,d)});if(O){var B=S.filter(function(U){return!ft(U,d)});p?.(B,s)}else p?.(Po(Po([],S,!0),[d],!1),s)}}else p?.(d,s);o||((c=(l=r.props).onSelect)===null||c===void 0||c.call(l,d,s),r.setState({inputValue:null}))},r.setPreSelection=function(i){if(!r.props.readOnly){var s=Ha(r.props.minDate),o=Ha(r.props.maxDate),a=!0;if(i){var l=yw(i);if(s&&o)a=yu(i,r.props.minDate,r.props.maxDate);else if(s){var c=yw(r.props.minDate);a=Ac(i,c)||Tu(l,c)}else if(o){var d=WH(r.props.maxDate);a=Ao(i,d)||Tu(l,d)}}a&&r.setState({preSelection:i})}},r.toggleCalendar=function(){r.setOpen(!r.state.open)},r.handleTimeChange=function(i){var s,o;if(!(r.props.selectsRange||r.props.selectsMultiple)){var a=r.props.selected?r.props.selected:r.getPreSelection(),l=r.props.selected?i:OM(a,{hour:za(i),minute:Ga(i)});r.setState({preSelection:l}),(o=(s=r.props).onChange)===null||o===void 0||o.call(s,l),r.props.shouldCloseOnSelect&&!r.props.showTimeInput&&(r.sendFocusBackToInput(),r.setOpen(!1)),r.props.showTimeInput&&r.setOpen(!0),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),r.setState({inputValue:null})}},r.onInputClick=function(){var i,s;!r.props.disabled&&!r.props.readOnly&&r.setOpen(!0),(s=(i=r.props).onInputClick)===null||s===void 0||s.call(i)},r.onInputKeyDown=function(i){var s,o,a,l,c,d;(o=(s=r.props).onKeyDown)===null||o===void 0||o.call(s,i);var f=i.key;if(!r.state.open&&!r.props.inline&&!r.props.preventOpenOnFocus){(f===Te.ArrowDown||f===Te.ArrowUp||f===Te.Enter)&&((a=r.onInputClick)===null||a===void 0||a.call(r));return}if(r.state.open){if(f===Te.ArrowDown||f===Te.ArrowUp){i.preventDefault();var p=r.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":r.props.showWeekPicker&&r.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':r.props.showFullMonthYearPicker||r.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',v=((l=r.calendar)===null||l===void 0?void 0:l.containerRef.current)instanceof Element&&r.calendar.containerRef.current.querySelector(p);v instanceof HTMLElement&&v.focus({preventScroll:!0});return}var y=Et(r.state.preSelection);f===Te.Enter?(i.preventDefault(),i.target.blur(),r.inputOk()&&r.state.lastPreSelectChange===_M?(r.handleSelect(y,i),!r.props.shouldCloseOnSelect&&r.setPreSelection(y)):r.setOpen(!1)):f===Te.Escape?(i.preventDefault(),i.target.blur(),r.sendFocusBackToInput(),r.setOpen(!1)):f===Te.Tab&&r.setOpen(!1),r.inputOk()||(d=(c=r.props).onInputError)===null||d===void 0||d.call(c,{code:1,msg:LM})}},r.onPortalKeyDown=function(i){var s=i.key;s===Te.Escape&&(i.preventDefault(),r.setState({preventFocus:!0},function(){r.setOpen(!1),setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})}))},r.onDayKeyDown=function(i){var s,o,a,l,c,d,f=r.props,p=f.minDate,v=f.maxDate,y=f.disabledKeyboardNavigation,b=f.showWeekPicker,x=f.shouldCloseOnSelect,S=f.locale,M=f.calendarStartDay,R=f.adjustDateOnChange,T=f.inline;if((o=(s=r.props).onKeyDown)===null||o===void 0||o.call(s,i),!y){var k=i.key,P=i.shiftKey,A=Et(r.state.preSelection),O=function(L,z){var j=z;switch(L){case Te.ArrowRight:j=b?Kb(z,1):Qs(z,1);break;case Te.ArrowLeft:j=b?AH(z):U6e(z);break;case Te.ArrowUp:j=AH(z);break;case Te.ArrowDown:j=Kb(z,1);break;case Te.PageUp:j=P?Sf(z,1):Uu(z,1);break;case Te.PageDown:j=P?Ba(z,1):to(z,1);break;case Te.Home:j=yc(z,S,M);break;case Te.End:j=OBe(z);break}return j},B=function(L,z){for(var j=40,$=L,W=!1,K=0,H=O(L,z);!W;){if(K>=j){H=z;break}p&&H<p&&($=Te.ArrowRight,H=Cs(p,r.props)?O($,H):p),v&&H>v&&($=Te.ArrowLeft,H=Cs(v,r.props)?O($,H):v),Cs(H,r.props)?(($===Te.PageUp||$===Te.Home)&&($=Te.ArrowRight),($===Te.PageDown||$===Te.End)&&($=Te.ArrowLeft),H=O($,H)):W=!0,K++}return H};if(k===Te.Enter){i.preventDefault(),r.handleSelect(A,i),!x&&r.setPreSelection(A);return}else if(k===Te.Escape){i.preventDefault(),r.setOpen(!1),r.inputOk()||(l=(a=r.props).onInputError)===null||l===void 0||l.call(a,{code:1,msg:LM});return}var U=null;switch(k){case Te.ArrowLeft:case Te.ArrowRight:case Te.ArrowUp:case Te.ArrowDown:case Te.PageUp:case Te.PageDown:case Te.Home:case Te.End:U=B(k,A);break}if(!U){(d=(c=r.props).onInputError)===null||d===void 0||d.call(c,{code:1,msg:LM});return}if(i.preventDefault(),r.setState({lastPreSelectChange:_M}),R&&r.setSelected(U),r.setPreSelection(U),T){var _=Nr(A),I=Nr(U),V=st(A),F=st(U);_!==I||V!==F?r.setState({shouldFocusDayInline:!0}):r.setState({shouldFocusDayInline:!1})}}},r.onPopperKeyDown=function(i){var s=i.key;s===Te.Escape&&(i.preventDefault(),r.sendFocusBackToInput(),r.setOpen(!1))},r.onClearClick=function(i){i&&i.preventDefault&&i.preventDefault(),r.sendFocusBackToInput();var s=r.props,o=s.selectsRange,a=s.onChange;a?.(o?[null,null]:null,i),r.setState({inputValue:null})},r.clear=function(){r.onClearClick()},r.onScroll=function(i){typeof r.props.closeOnScroll=="boolean"&&r.props.closeOnScroll?(i.target===document||i.target===document.documentElement||i.target===document.body)&&r.setOpen(!1):typeof r.props.closeOnScroll=="function"&&r.props.closeOnScroll(i)&&r.setOpen(!1)},r.renderCalendar=function(){var i,s;return!r.props.inline&&!r.isCalendarOpen()?null:q.createElement(fHe,pt({showMonthYearDropdown:void 0,ref:function(o){r.calendar=o}},r.props,r.state,{setOpen:r.setOpen,dateFormat:(i=r.props.dateFormatCalendar)!==null&&i!==void 0?i:t.defaultProps.dateFormatCalendar,onSelect:r.handleSelect,onClickOutside:r.handleCalendarClickOutside,holidays:UBe(r.modifyHolidays()),outsideClickIgnoreClass:r.props.outsideClickIgnoreClass,onDropdownFocus:r.handleDropdownFocus,onTimeChange:r.handleTimeChange,className:r.props.calendarClassName,container:r.props.calendarContainer,handleOnKeyDown:r.props.onKeyDown,handleOnDayKeyDown:r.onDayKeyDown,setPreSelection:r.setPreSelection,dropdownMode:(s=r.props.dropdownMode)!==null&&s!==void 0?s:t.defaultProps.dropdownMode}),r.props.children)},r.renderAriaLiveRegion=function(){var i,s=r.props.locale,o=(i=r.props.dateFormat)!==null&&i!==void 0?i:t.defaultProps.dateFormat,a=r.props.showTimeInput||r.props.showTimeSelect,l=a?"PPPPp":"PPPP",c;return r.props.selectsRange?c="Selected start date: ".concat(Bi(r.props.startDate,{dateFormat:l,locale:s}),". ").concat(r.props.endDate?"End date: "+Bi(r.props.endDate,{dateFormat:l,locale:s}):""):r.props.showTimeSelectOnly?c="Selected time: ".concat(Bi(r.props.selected,{dateFormat:o,locale:s})):r.props.showYearPicker?c="Selected year: ".concat(Bi(r.props.selected,{dateFormat:"yyyy",locale:s})):r.props.showMonthYearPicker?c="Selected month: ".concat(Bi(r.props.selected,{dateFormat:"MMMM yyyy",locale:s})):r.props.showQuarterYearPicker?c="Selected quarter: ".concat(Bi(r.props.selected,{dateFormat:"yyyy, QQQ",locale:s})):c="Selected date: ".concat(Bi(r.props.selected,{dateFormat:l,locale:s})),q.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},c)},r.renderDateInput=function(){var i,s,o=$e(r.props.className,(i={},i[r.props.outsideClickIgnoreClass||t.defaultProps.outsideClickIgnoreClass]=r.state.open,i)),a=r.props.customInput||q.createElement("input",{type:"text"}),l=r.props.customInputRef||"ref";return C.cloneElement(a,(s={},s[l]=function(c){r.input=c},s.value=r.getInputValue(),s.onBlur=r.handleBlur,s.onChange=r.handleChange,s.onClick=r.onInputClick,s.onFocus=r.handleFocus,s.onKeyDown=r.onInputKeyDown,s.id=r.props.id,s.name=r.props.name,s.form=r.props.form,s.autoFocus=r.props.autoFocus,s.placeholder=r.props.placeholderText,s.disabled=r.props.disabled,s.autoComplete=r.props.autoComplete,s.className=$e(a.props.className,o),s.title=r.props.title,s.readOnly=r.props.readOnly,s.required=r.props.required,s.tabIndex=r.props.tabIndex,s["aria-describedby"]=r.props.ariaDescribedBy,s["aria-invalid"]=r.props.ariaInvalid,s["aria-labelledby"]=r.props.ariaLabelledBy,s["aria-required"]=r.props.ariaRequired,s))},r.renderClearButton=function(){var i=r.props,s=i.isClearable,o=i.disabled,a=i.selected,l=i.startDate,c=i.endDate,d=i.clearButtonTitle,f=i.clearButtonClassName,p=f===void 0?"":f,v=i.ariaLabelClose,y=v===void 0?"Close":v,b=i.selectedDates,x=i.readOnly;return s&&!x&&(a!=null||l!=null||c!=null||b?.length)?q.createElement("button",{type:"button",className:$e("react-datepicker__close-icon",p,{"react-datepicker__close-icon--disabled":o}),disabled:o,"aria-label":y,onClick:r.onClearClick,title:d,tabIndex:-1}):null},r.state=r.calcInitialState(),r.preventFocusTimeout=void 0,r}return Object.defineProperty(t,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,outsideClickIgnoreClass:eQ,readOnly:!1,rangeSeparator:KY,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:Ev,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.componentDidUpdate=function(n,r){var i,s,o,a;n.inline&&bHe(n.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&n.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),n.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:JH(this.props.highlightDates)}),!r.focused&&!Tu(n.selected,this.props.selected)&&this.setState({inputValue:null}),r.open!==this.state.open&&(r.open===!1&&this.state.open===!0&&((s=(i=this.props).onCalendarOpen)===null||s===void 0||s.call(i)),r.open===!0&&this.state.open===!1&&((a=(o=this.props).onCalendarClose)===null||a===void 0||a.call(o)))},t.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.renderInputContainer=function(){var n=this.props,r=n.showIcon,i=n.icon,s=n.calendarIconClassname,o=n.calendarIconClassName,a=n.toggleCalendarOnIconClick,l=this.state.open;return s&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),q.createElement("div",{className:"react-datepicker__input-container".concat(r?" react-datepicker__view-calendar-icon":"")},r&&q.createElement(pHe,pt({icon:i,className:$e(o,!o&&s,l&&"react-datepicker-ignore-onclickoutside")},a?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},t.prototype.render=function(){var n=this.renderCalendar();if(this.props.inline)return n;if(this.props.withPortal){var r=this.state.open?q.createElement(nQ,{enableTabLoop:this.props.enableTabLoop},q.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},n)):null;return this.state.open&&this.props.portalId&&(r=q.createElement(tQ,pt({portalId:this.props.portalId},this.props),r)),q.createElement("div",null,this.renderInputContainer(),r)}return q.createElement(wHe,pt({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:n,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},t})(C.Component),CHe="input",_M="navigate";kc.setAppElement("#root");const xHe=C.forwardRef(({value:e,onClick:t},n)=>m.jsx("div",{onClick:t,ref:n,className:"border border-gray-300 rounded px-4 py-2 cursor-pointer bg-white w-100",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("span",{className:e?"text-black":"text-gray-400",children:e||"Select date & time"}),m.jsx(rn,{className:"w-5 h-5 text-gray-500 ml-2"})]})}));function Ri({statusModalData:e,setStatusModalData:t,statusData:n,statusFullData:r,commentMap:i,setCommentMap:s,dateTimeMap:o,setDateTimeMap:a,setIsChange:l}){const c="https://crm.softwaresetu.com/api",[d,f]=C.useState(!1);console.log(e,"statusModalData..");const p=async()=>{if(!e)return;const{customer_id:v,newStatus:y,batch_id:b}=e;console.log(b,"batch_id..."),console.log(v,"customer_id...");const x=JSON.parse(localStorage.getItem("user")),M=r.find(R=>R.name.trim().toLowerCase()===y?.trim().toLowerCase())?.id??null;try{f(!0);const R={customer_id:v,status:y,updated_by_id:x.id,updated_by_name:x.name,statusid:M,comment:i[v]||"",batch_id:b};(y==="Demo"||y==="Follow Up")&&(R.followup_datetime=o[v]||""),await me.put(`${c}/customers/status/${v}`,R),be.success("Status updated successfully"),l(T=>!T)}catch(R){console.error("Error updating status:",R),be.error("Failed to update status"),f(!1)}finally{t(null),f(!1)}};return m.jsxs(kc,{isOpen:!!e,onRequestClose:()=>t(null),className:"bg-white p-6 rounded shadow-lg max-w-md w-full relative z-50",overlayClassName:"fixed inset-0 bg-black/40 backdrop-blur-sm flex items-center justify-center z-50",children:[m.jsx("h2",{className:"text-xl font-bold mb-4",children:"Update Status"}),m.jsxs("select",{value:e?.newStatus||"",onChange:v=>{const y=v.target.value,b=e.customer_id;t(x=>({...x,newStatus:y})),(y==="Demo"||y==="Follow Up")&&a(x=>({...x,[b]:null}))},className:"border p-2 w-full mb-4 rounded",children:[m.jsx("option",{value:"",children:"Select Status"}),n.map((v,y)=>m.jsx("option",{value:v,children:v},y))]}),(e?.newStatus==="Demo"||e?.newStatus==="Follow Up")&&m.jsx("div",{className:"mb-4",children:m.jsx(no,{selected:o[e?.customer_id]?new Date(o[e?.customer_id]):null,onChange:v=>a(y=>({...y,[e.customer_id]:v})),showTimeSelect:!0,showTimeSelectSeconds:!0,timeIntervals:30,minDate:new Date,dateFormat:"dd/MM/yyyy hh:mm:ss aa",timeFormat:"hh:mm aa",customInput:m.jsx(xHe,{})})}),m.jsx("textarea",{placeholder:"Enter comment",value:i[e?.customer_id]||"",onChange:v=>s(y=>({...y,[e.customer_id]:v.target.value})),maxLength:1e3,className:"border p-2 w-full mb-4 rounded resize-y h-28"}),m.jsxs("div",{className:"flex justify-end gap-2",children:[m.jsx("button",{onClick:()=>t(null),className:"px-4 py-2 bg-gray-400 text-white rounded",children:"Cancel"}),m.jsx("button",{className:`px-4 py-2 text-white rounded-md flex items-center justify-center gap-2
        ${d?"bg-gray-400 cursor-not-allowed":"bg-blue-500 hover:bg-blue-600"}`,onClick:p,disabled:d,children:d?m.jsxs(m.Fragment,{children:[m.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:`M4 12a8 8 0 018-8V0C5.373 \r
              0 0 5.373 0 12h4z`})]}),"Saving..."]}):"Save"})]})]})}function Mi({selectedSource:e,setSelectedSource:t}){const[n,r]=C.useState([]),i="https://crm.softwaresetu.com/api",s=async()=>{try{const o=localStorage.getItem("token"),{data:a}=await me.get(`${i}/employee/get-source-data`,{headers:{Authorization:`Bearer ${o}`}});r(a)}catch(o){console.error("Error fetching sources:",o)}};return C.useEffect(()=>{s()},[]),m.jsxs("div",{className:"relative inline-block",children:[m.jsxs("select",{value:e,onChange:o=>t(o.target.value),className:"appearance-none border border-gray-300 px-4 py-2 pr-10 rounded w-full",children:[m.jsx("option",{value:"0",children:"All Source"}),n.map(o=>m.jsx("option",{value:o.batch_id,children:o.source_name},o.batch_id))]}),m.jsx(nx,{size:18,className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-600"})]})}function SHe({selectedStatus:e,setSelectedStatus:t,statusData:n}){return console.log(n,"statusData..."),m.jsxs("div",{className:"relative inline-block",children:[m.jsxs("select",{value:e,onChange:r=>t(r.target.value),className:"appearance-none border border-gray-300 px-4 py-2 pr-10 rounded w-full",children:[m.jsx("option",{value:"0",children:"All Status"}),n.map((r,i)=>m.jsx("option",{value:r,children:r},i))]}),m.jsx(nx,{size:18,className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-600"})]})}kc.setAppElement("#root");function Ti({noteModalData:e,setNoteModalData:t}){const[n,r]=C.useState(""),[i,s]=C.useState([]),[o,a]=C.useState(1),[l]=C.useState(20),c="https://crm.softwaresetu.com/api",d=JSON.parse(localStorage.getItem("user"));console.log(d?.id,"userss..."),console.log(d?.name,"userss...");const f=()=>{t(null),r(""),s([]),a(1)},p=async()=>{if(e?.customer_id)try{const T=((await me.get(`${c}/activity/get-customer-notes/${e.customer_id}`)).data?.notes||[]).map((k,P)=>({note:k.text,created_at:k.created_at,id:P}));s(T)}catch(M){console.error("Error fetching notes:",M),s([])}},v=async()=>{if(!(!e?.customer_id||!n.trim()))try{await me.post(`${c}/activity/customer-notes/${e.customer_id}`,{note:n,updatedby_name:d?.name,updatedby_id:d?.id}),be.success("Note saved successfully"),r(""),p()}catch(M){console.error("Error saving note:",M),be.error("Failed to save note")}};C.useEffect(()=>{e&&p()},[e]);const y=o*l,b=y-l,x=Array.isArray(i)?i.slice(b,y):[],S=Array.isArray(i)?Math.ceil(i.length/l):0;return m.jsxs(kc,{isOpen:!!e,onRequestClose:f,className:"bg-white rounded-md shadow-lg p-6 max-w-5xl w-full h-[80vh] mx-auto outline-none flex flex-col",overlayClassName:"fixed inset-0 backdrop-blur-sm bg-black/40 flex items-center justify-center z-[999]",children:[m.jsxs("div",{className:"h-1/2 flex flex-col",children:[m.jsx("h3",{className:"text-md font-semibold mb-2",children:"Previous Notes"}),m.jsx("div",{className:"flex-1 overflow-x-auto overflow-y-auto border",children:m.jsxs("table",{className:"w-full text-sm border-collapse",children:[m.jsx("thead",{className:"bg-gray-100 sticky top-0",children:m.jsxs("tr",{children:[m.jsx("th",{className:"border px-3 py-2 text-left w-40",children:"Date"}),m.jsx("th",{className:"border px-3 py-2 text-left",children:"Note"})]})}),m.jsx("tbody",{children:x.length>0?x.map(M=>m.jsxs("tr",{className:"hover:bg-gray-50",children:[m.jsx("td",{className:"border px-3 py-2 w-40",children:new Date(M.created_at).toLocaleString()}),m.jsx("td",{className:"border px-3 py-2",children:M.note})]},M.id)):m.jsx("tr",{children:m.jsx("td",{colSpan:2,className:"text-center py-4 text-gray-500",children:"No notes found"})})})]})}),S>1&&m.jsxs("div",{className:"flex justify-center gap-2 mt-2",children:[m.jsx("button",{disabled:o===1,onClick:()=>a(M=>M-1),className:"px-3 py-1 border rounded disabled:opacity-50",children:"Prev"}),Array.from({length:S},(M,R)=>m.jsx("button",{onClick:()=>a(R+1),className:`px-3 py-1 border rounded ${o===R+1?"bg-blue-500 text-white":"bg-white"}`,children:R+1},R)),m.jsx("button",{disabled:o===S,onClick:()=>a(M=>M+1),className:"px-3 py-1 border rounded disabled:opacity-50",children:"Next"})]})]}),m.jsxs("div",{className:"h-1/2 flex flex-col mt-4",children:[m.jsxs("h2",{className:"text-lg font-bold mb-2",children:["Notes for ",e?.customer_name||"Customer"]}),m.jsx("textarea",{value:n,onChange:M=>r(M.target.value),placeholder:"Write your note here...",className:"flex-1 border rounded-md p-2 mb-4 resize-none"}),m.jsxs("div",{className:"flex justify-end gap-4",children:[m.jsx("button",{onClick:f,className:"px-4 py-2 bg-gray-300 rounded hover:bg-gray-400",children:"Cancel"}),m.jsx("button",{onClick:v,className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Save"})]})]})]})}function ki({customerId:e,onClose:t}){const[n,r]=C.useState([]),[i,s]=C.useState(!1),o="https://crm.softwaresetu.com/api";return C.useEffect(()=>{e&&(s(!0),me.get(`${o}/customers/history/${e}`).then(a=>{r(a.data.data),s(!1)}).catch(()=>{be.error("Failed to load history"),s(!1)}))},[e]),e?m.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black/50 backdrop-blur-sm z-50",children:m.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg w-11/12 md:w-3/4 max-h-[80vh] overflow-y-auto relative",children:[m.jsx("h2",{className:"text-xl font-bold mb-4",children:"Comments History"}),m.jsx("button",{onClick:t,className:"absolute top-4 right-6 text-gray-600 hover:text-black",children:""}),i?m.jsx("p",{children:"Loading..."}):n.length>0?m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full border border-gray-200",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"bg-gray-200",children:[m.jsx("th",{className:"p-2 border text-left",children:"Date"}),m.jsx("th",{className:"p-2 border text-left",children:"Created By"}),m.jsx("th",{className:"p-2 border text-left",children:"Comment"})]})}),m.jsx("tbody",{children:n.map((a,l)=>m.jsxs("tr",{className:"border",children:[m.jsx("td",{className:"p-2 border align-top whitespace-nowrap",children:new Date(a.created_at||a.createdAt).toLocaleString()}),m.jsx("td",{className:"p-2 border align-top break-words whitespace-pre-wrap",children:a.updated_by}),m.jsx("td",{className:"p-2 border align-top break-words whitespace-pre-wrap",children:a.comment})]},l))})]})}):m.jsx("p",{children:"No history found"})]})}):null}Yo.registerModules([Bc]);function EHe(){const[e,t]=C.useState(null),[n,r]=C.useState(""),[i,s]=C.useState([]),[o,a]=C.useState([]),[l,c]=C.useState([]),[d,f]=C.useState(!1),p=C.useRef(null),v=Rt(),[y,b]=C.useState(""),[x,S]=C.useState(!1),[M,R]=C.useState([]),[T,k]=C.useState(!1),[P,A]=C.useState(!1),[O,B]=C.useState(null),[U,_]=C.useState(""),[I,V]=C.useState([]),[F,L]=C.useState([]),[z,j]=C.useState([]),[$,W]=C.useState([]),[K,H]=C.useState(null),[Y,Z]=C.useState({}),[X,fe]=C.useState(null),[pe,Ce]=C.useState({}),je="https://crm.softwaresetu.com/api",[oe,de]=C.useState(null),[Me,ue]=C.useState({}),[Ve,Ge]=C.useState(""),[Xe,Ne]=C.useState(null),[rt,Mt]=C.useState(!1),[Jt,qe]=C.useState(null),[ot,Sn]=C.useState(""),[Pi,gt]=C.useState(null),[ii,Md]=C.useState("0");C.useEffect(()=>{const we=Qe=>{p.current?.eGridDiv.contains(Qe.target)||Ne(null)};return document.addEventListener("click",we),()=>document.removeEventListener("click",we)},[]),C.forwardRef(({value:we,onClick:Qe},zn)=>m.jsxs("div",{onClick:Qe,ref:zn,className:"flex justify-between items-center border border-gray-300 rounded px-3 py-2 w-90 cursor-pointer bg-white",children:[m.jsx("span",{className:we?"text-black":"text-gray-400",children:we||"Select date & time"}),m.jsx(rn,{className:"w-5 h-5 text-gray-500 mr-2"})]}));const xl=async()=>{try{const we=await me.get(`${je}/customers/get-data`);s(Array.isArray(we.data)?we.data:[]),a(Array.isArray(we.data)?we.data:[]),c(Array.isArray(we.data)?we.data:[])}catch(we){console.error("Error fetching customers:",we),s([])}},Tt=async()=>{try{const we=localStorage.getItem("token"),{data:Qe}=await me.get(`${je}/employee/single`,{headers:{Authorization:`Bearer ${we}`}});V(Qe)}catch(we){console.error("Error fetching employees:",we)}};C.useEffect(()=>{xl(),Tt()},[]),C.useEffect(()=>{if(console.log(o,"copyData.."),y==="all"||y==="")s(o);else if(y==="Assigned"){const we=o.filter(Qe=>Qe.assigned_to!==null);s(we)}else if(y==="Not Assigned"){const we=o.filter(Qe=>Qe.assigned_to===null);s(we)}},[y]);const lr=C.useMemo(()=>[{headerName:"Name",field:"name",minWidth:300,cellRenderer:we=>m.jsxs("div",{className:"flex items-center  gap-2",children:[m.jsx("button",{className:"p-1 rounded hover:bg-gray-100 flex",onClick:Qe=>{Qe.stopPropagation(),v(`/customer/${we.data.id}`)},title:"View Details",children:m.jsx(Wm,{size:18,className:"text-gray-600 hover:text-blue-600"})}),m.jsx("div",{className:"border-l border-gray-300 h-6"}),m.jsx("button",{className:"p-1 rounded hover:bg-gray-100 flex ",onClick:Qe=>{Qe.stopPropagation(),de({customer_id:we.data.id,currentStatus:we.value,newStatus:we.value,batch_id:we.data.batch_id})},title:"Edit Status",children:m.jsx(ti,{size:14,className:"text-gray-600"})}),m.jsx("span",{className:"ml-4",children:we.value})]})},{headerName:"Mobile",field:"mobile",cellRenderer:we=>m.jsx("div",{className:"flex items-center gap-2 cursor-pointer hover:bg-gray-100 p-1 rounded",onClick:Qe=>{Qe.stopPropagation(),de({customer_id:we.data.id,currentStatus:we.value,newStatus:we.value,batch_id:we.data.batch_id})},title:"Edit Status",children:m.jsx("span",{children:we.value})})},{headerName:"Status",field:"status"},{headerName:"Comment",field:"comment",minWidth:700,autoHeight:!0,cellRenderer:we=>{const Qe=we.data.updated_at?new Date(we.data.updated_at).toLocaleString():"-";return m.jsxs("div",{className:"flex items-center justify-between gap-2",children:[m.jsxs("div",{className:"flex gap-4 max-w-[600px]",children:[m.jsx("span",{className:"text-sm text-gray-500",children:Qe}),m.jsx("span",{className:"truncate text-gray-800",children:we.data.comment})]}),m.jsx("button",{className:"p-1 text-gray-600 rounded hover:bg-gray-300",onClick:()=>gt(we.data.id),title:"View Comments",children:m.jsx(Si,{size:18})})]})}},{headerName:"Last Note",field:"customer_notes",minWidth:300,valueGetter:we=>{const Qe=we.data.customer_notes;if(!Qe||Qe.length===0)return null;const zn=Qe[0];return!zn.note||zn.note.length===0?null:[...zn.note].sort((Td,kd)=>new Date(kd.created_at)-new Date(Td.created_at))[0]?.text||null},cellRenderer:we=>m.jsx("span",{className:"italic font-semibold text-gray-800",children:we.value||" - "})},{headerName:"Notes",field:"status",width:90,maxWidth:90,cellRenderer:we=>m.jsxs("div",{className:"flex gap-6 ",children:[m.jsx("span",{className:" border-gray-400 h-6"}),m.jsx("button",{className:"p-1 rounded hover:bg-gray-100 flex",onClick:Qe=>{Qe.stopPropagation(),t({customer_id:we.data.id})},title:"Add Note",children:m.jsx(cl,{size:14,className:"text-gray-600"})})]})},{headerName:"Assigned Status",field:"assigned_to_name",valueFormatter:we=>we.value?"Assigned":"Not Assigned",filter:!0},{headerName:"Assigned To",field:"assigned_to_name",cellRenderer:we=>m.jsxs("div",{className:"cursor-pointer flex items-center gap-2 group",onClick:()=>{qe(we.data),Mt(!0)},children:[m.jsx("span",{children:we.value||"Not Assigned"}),m.jsx(iie,{className:"w-4 h-4 text-gray-600 opacity-0 group-hover:opacity-100 transition-opacity"})]})},{headerName:"Created At",field:"created_at",sort:"desc",minWidth:300,valueFormatter:we=>we.value?new Date(we.value).toLocaleString():"-"}],[v,de,gt,t,qe,Mt]),Uc=C.useMemo(()=>({sortable:!0,filter:!0,resizable:!0,flex:1,minWidth:140}),[]),FS=C.useCallback(we=>{we.api.sizeColumnsToFit()},[]),IS=C.useCallback(we=>{we.api.sizeColumnsToFit()},[]);C.useEffect(()=>{(async()=>{try{const Qe=await me.get(`${je}/status`),zn=Qe.data.map(Hr=>Hr.name);j(zn),W(Qe.data)}catch(Qe){console.error("Error fetching statuses:",Qe),be.error("Failed to load statuses ")}})()},[T]);const $c=async()=>{if(F.length===0){be.warning("Please select at least one employee!");return}if(!U||isNaN(U)||Number(U)<=0){be.warning("Please enter a valid limit!");return}if(!O){be.warning("Please select a batch!");return}const we=o?.filter(Hr=>Hr.assigned_to===null&&Hr.batch_id===Number(O));if(!we||we.length===0){be.warning(`This batch (${O}) has no unassigned customers!`);return}const Qe=Number(U);if(Qe>we.length){be.warning(`You have only ${we.length} unassigned contacts in this batch`);return}const zn=F.map(Hr=>({employeeId:Hr.id,limit:Qe}));try{S(!0);const Hr=localStorage.getItem("token");await me.post(`${je}/employee/assign`,{batchId:Number(O),distribution:zn},{headers:{Authorization:`Bearer ${Hr}`}}),be.success("Assigned successfully to employees!"),A(!1),_(""),L([]),B("")}catch(Hr){be.error(Hr.response?.data?.message||"Error assigning batch!"),console.error("Error assigning batch:",Hr)}finally{setTimeout(()=>S(!1),2e3)}},Br=async(we,Qe)=>{try{S(!0);const zn=localStorage.getItem("token");(await me.post(`${je}/employee/assign-single`,{employeeId:Qe,customerId:we.id,batchId:we.batch_id},{headers:{Authorization:`Bearer ${zn}`}})).status===200&&(be.success("Customer assigned successfully "),await xl(),Mt(!1),Sn(""),qe(null))}catch(zn){console.error("Error assigning customer:",zn),be.error("Failed to assign customer ")}finally{S(!1)}};C.useEffect(()=>{if(console.log(ii,"selectedSource.."),ii!="0"){let Qe=(Ve==0?o:o.filter(zn=>zn.status==Ve)).filter(zn=>zn.batch_id==ii);s(Qe)}else{let we=Ve==0?o:o.filter(Qe=>Qe.status==Ve);s(we)}},[ii]);const ao=async()=>{try{const we=localStorage.getItem("token"),{data:Qe}=await me.get(`${je}/employee/get-assign-source-data`,{headers:{Authorization:`Bearer ${we}`}});R(Qe)}catch(we){console.error("Error fetching sources:",we)}};return C.useEffect(()=>{ao()},[]),m.jsxs(Ic,{role:"admin",children:[m.jsxs("div",{className:"p-6 bg-white rounded-xl shadow-md",children:[m.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3 mb-4",children:[m.jsx("h2",{className:"text-2xl font-bold",children:"Customer Data"}),m.jsxs("div",{className:"flex gap-3",children:[m.jsx(Mi,{selectedSource:ii,setSelectedSource:Md}),m.jsx(SHe,{selectedStatus:Ve,setSelectedStatus:Ge,statusData:z}),m.jsx(_r,{value:n,onChange:r}),m.jsx("button",{onClick:()=>b("Assigned"),className:"w-[130px] px-3 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 text-sm",children:"Assigned"}),m.jsx("button",{onClick:()=>b("Not Assigned"),className:"w-[130px] px-3 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 text-sm",children:"Not Assigned"}),m.jsx("button",{onClick:()=>b("all"),className:"w-[130px] px-3 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 text-sm",children:"Clear Fillter"}),m.jsxs("button",{className:"w-[130px] px-3 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 text-sm flex items-center justify-center gap-1",onClick:()=>{i.length>0?(B(i[0]),A(!0)):be.warning("No batches available to assign!")},children:[m.jsx(x_e,{}),"Assign"]})]})]}),m.jsxs("div",{className:"ag-theme-alpine",style:{height:718,width:"100%"},children:[m.jsx(zt,{theme:Sge,ref:p,rowData:Ve==0?i:i.filter(we=>we.status==Ve),columnDefs:lr,defaultColDef:Uc,pagination:!0,paginationPageSize:100,animateRows:!0,onGridReady:FS,onFirstDataRendered:IS,quickFilterText:n,onRowClicked:we=>Ne(we.data.id),getRowStyle:we=>we.data.id===Xe?{backgroundColor:"#c4c4c4",borderLeft:"4px solid #22c55e",transition:"background-color 0.3s ease"}:null}),m.jsx(Ri,{statusModalData:oe,setStatusModalData:de,statusData:z,statusFullData:$,commentMap:Me,setCommentMap:ue,dateTimeMap:Y,setDateTimeMap:Z,setIsChange:k}),m.jsx(Ti,{noteModalData:e,setNoteModalData:t}),Pi&&m.jsx(ki,{customerId:Pi,onClose:()=>gt(null)})]}),P&&O&&m.jsx("div",{className:"fixed inset-0 flex items-center justify-center backdrop-blur-sm bg-opacity-40 z-50",children:m.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg w-[600px]",children:[m.jsxs("div",{className:"flex gap-4",children:[m.jsx("input",{type:"number",placeholder:"Enter Limit",value:U,onChange:we=>_(we.target.value),className:"mb-4 w-full px-4 py-2 border border-gray-400"}),m.jsxs("select",{value:O,onChange:we=>B(we.target.value),className:"mb-4 w-full px-4 py-2 border border-gray-400",children:[m.jsx("option",{value:"",children:"Select Batch"}),M.map(we=>m.jsx("option",{value:we.batch_id,children:we.source_name},we.batch_id))]})]}),m.jsx("div",{className:"ag-theme-quartz",style:{height:250,width:"100%"},children:m.jsx(zt,{rowData:I,columnDefs:[{headerName:"ID",field:"id",flex:.5,checkboxSelection:!0,headerCheckboxSelection:!0,headerCheckboxSelectionFilteredOnly:!0},{headerName:"Name",field:"name",flex:1},{headerName:"Email",field:"email",flex:1}],rowSelection:"multiple",onSelectionChanged:we=>{const Qe=we.api.getSelectedRows();L(Qe)},defaultColDef:Uc,pagination:!0,paginationPageSize:20})}),m.jsxs("div",{className:"flex justify-end space-x-3 mt-4",children:[m.jsx("button",{className:"px-4 py-2 bg-gray-400 text-white rounded-lg hover:bg-gray-500",onClick:()=>A(!1),children:"Cancel"}),m.jsx("button",{className:`px-4 py-2 text-white rounded-md flex items-center justify-center gap-2
        ${x?"bg-gray-400 cursor-not-allowed":"bg-blue-500 hover:bg-blue-600"}`,onClick:$c,disabled:x,children:x?m.jsxs(m.Fragment,{children:[m.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:`M4 12a8 8 0 018-8V0C5.373 \r
              0 0 5.373 0 12h4z`})]}),"Assigning..."]}):"Assign"})]})]})})]}),rt&&Jt&&m.jsx("div",{className:"fixed inset-0 flex items-center justify-center backdrop-blur-sm bg-opacity-40 z-50",children:m.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg w-[400px]",children:[m.jsxs("h3",{className:"text-lg font-bold mb-4",children:["Customer ",m.jsxs("sapn",{className:"text-blue-600",children:["( ",Jt.name," )"]})," Assign To :-"]}),m.jsxs("select",{value:ot,onChange:we=>Sn(we.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md mb-4",children:[m.jsx("option",{value:"",children:"Select Employee"}),I.map(we=>m.jsxs("option",{value:we.id,children:[we.name," (",we.email,")"]},we.id))]}),m.jsxs("div",{className:"flex justify-end gap-3",children:[m.jsx("button",{className:"px-4 py-2 bg-gray-400 text-white rounded-md hover:bg-gray-500",onClick:()=>Mt(!1),children:"Cancel"}),m.jsx("button",{className:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600",onClick:()=>{if(!ot){be.warning("Please select an employee!");return}if(Jt.assigned_to!==null){be.warning("Allready assigned!");return}Br(Jt,ot),Mt(!1),Sn("")},children:"Submit"})]})]})})]})}Yo.registerModules([Bc]);kc.setAppElement("#root");function DHe(){const[e,t]=C.useState(""),[n,r]=C.useState([]),[i,s]=C.useState(null),[o,a]=C.useState(""),[l,c]=C.useState(""),d=Rt(),f="https://crm.softwaresetu.com/api",[p,v]=C.useState(!1),[y,b]=C.useState(!1),[x,S]=C.useState(!1),[M,R]=C.useState(!1),[T,k]=C.useState(null),[P,A]=C.useState(!1),[O,B]=C.useState(null),[U,_]=C.useState(!1),[I,V]=C.useState({name:"",email:"",mobile:"",address:""}),[F,L]=C.useState([]),z=async()=>{try{S(!0),await me.delete(`${f}/customers/batch/${T}`),be.success("Batch deleted successfully "),j()}catch(X){console.error("Delete failed:",X),be.error("Failed to delete batch ")}finally{A(!1),k(null),S(!1)}},j=async()=>{try{const{data:X}=await me.get(`${f}/customers/get-batches`);r(X)}catch(X){be.error("Error fetching batches!"),console.error("Error fetching batches:",X)}},$=async()=>{if(!i){be.warning("Please select a file first!");return}if(!o.trim()){be.warning("Please enter a Source Name!");return}const X=new FormData;X.append("file",i),X.append("source_name",o),X.append("description",l);try{v(!0),await me.post(`${f}/customers/upload`,X,{headers:{"Content-Type":"multipart/form-data"}}),s(null),a(""),j(),be.success("File uploaded successfully!")}catch(fe){be.error(`Upload failed: ${fe.response?.data?.message||fe.message}`),console.error("Upload failed:",fe)}finally{setTimeout(()=>v(!1),2e3)}},W=()=>{const X=document.createElement("a");X.href="/example.xlsx",X.download="example.xlsx",document.body.appendChild(X),X.click(),document.body.removeChild(X)},K=X=>{X.preventDefault();const{name:fe,email:pe,mobile:Ce,address:je}=I;if(!fe||!pe||!Ce||!je){be.warning("Please fill all fields!");return}L([...F,I]),V({name:"",email:"",mobile:"",address:""})},H=async()=>{if(b(!0),!o.trim()){be.warning("Please Enter A Source Name First!");return}if(F.length===0){be.warning("No records added!");return}try{const X=`name,email,mobile,address
`,fe=F.map(oe=>`${oe.name},${oe.email},${oe.mobile},${oe.address}`).join(`
`),pe=X+fe,Ce=new Blob([pe],{type:"text/csv"}),je=new FormData;je.append("file",Ce,"manual_upload.csv"),je.append("source_name",o),await me.post(`${f}/customers/upload`,je,{headers:{"Content-Type":"multipart/form-data"}}),be.success("Manual batch uploaded successfully!"),b(!1),L([]),_(!1),a(""),j()}catch(X){be.error("Failed to submit records!"),console.error("Manual Batch Error:",X)}};C.useEffect(()=>{j()},[]);const Y=C.useMemo(()=>({sortable:!0,filter:!0,resizable:!0}),[]),Z=C.useMemo(()=>[{headerName:"No",valueGetter:"node.rowIndex + 1",width:80},{headerName:"Name",field:"name",sortable:!0,filter:!0},{headerName:"Email",field:"email",sortable:!0,filter:!0},{headerName:"Mobile",field:"mobile",sortable:!0,filter:!0},{headerName:"Address",field:"address",sortable:!0,filter:!0}],[]);return m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"p-6 space-y-8 bg-gray-50 rounded-lg shadow-md",children:[m.jsx("div",{className:"flex items-center gap-2",children:m.jsx("img",{src:"/excel.png",alt:"Excel",className:"h-20 w-auto object-contain"})}),m.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-md space-y-4",children:[m.jsx("button",{onClick:()=>{if(!o.trim()){be.warning("Please enter a Source Name first!");return}_(!0)},className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition",children:"Add Manually"}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-2 items-center",children:[m.jsx("input",{type:"text",placeholder:"Enter Source Name",value:o,onChange:X=>a(X.target.value),className:"px-4 py-2 border border-gray-400 w-full focus:ring focus:ring-blue-200"}),m.jsx("input",{type:"text",placeholder:"Enter Description",value:l,onChange:X=>c(X.target.value),className:"px-4 py-2 border border-gray-400 w-full focus:ring focus:ring-blue-200"}),m.jsx("input",{type:"file",accept:".xlsx, .xls, .csv",onChange:X=>s(X.target.files[0]),className:"px-4 py-2 border border-gray-400 w-full"}),m.jsxs("div",{className:"flex gap-4 md:col-span-2 flex-wrap",children:[m.jsxs("button",{onClick:$,disabled:p,className:"relative inline-flex items-center justify-center px-20 py-3 overflow-hidden font-medium transition duration-300 ease-out bg-blue-600 text-white rounded-lg shadow-md",children:[m.jsx("span",{className:`absolute inset-0 flex items-center justify-center w-full h-full text-white duration-500 transform
           ${p?"translate-x-0 bg-blue-500":"-translate-x-full"}
         `,children:p?m.jsx("svg",{className:"w-6 h-6 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v4m0 8v4m8-8h4M4 12H0m16.24-4.24l2.83-2.83M4.93 19.07l-2.83 2.83M16.24 19.07l2.83 2.83M4.93 4.93L2.1 2.1"})}):""}),m.jsx("span",{className:`absolute flex items-center justify-center w-full h-full text-white transition-all duration-500 transform
           ${p?"translate-x-full text-white":"translate-x-0"}
       `,children:p?"Uploading...":M?"Uploaded":"Upload Excel"}),m.jsx("span",{className:"relative invisible",children:p?"Uploading...":M?"Uploaded":"Upload Excel"})]}),m.jsx("button",{onClick:W,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition",children:"Download Example File"})]})]})]}),m.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md",children:[m.jsxs("div",{className:"flex justify-between p-4",children:[m.jsx("h2",{className:"text-xl font-semibold mb-3 uppercase",children:"Uploaded Excel List"}),m.jsx(_r,{value:e,onChange:t})]}),m.jsx("div",{className:"ag-theme-alpine",style:{height:600,width:"100%"},children:m.jsx(zt,{rowData:n,columnDefs:[{headerName:"Batch ID",field:"batch_id",flex:.5},{headerName:"Source",field:"source_name",flex:1},{headerName:"Description",field:"description",flex:1},{headerName:"Pending Leads",field:"pending_count",flex:.8,cellRenderer:X=>{const fe=X.value||0;return m.jsx("div",{className:`inline-flex items-center px-3 py-0.1 rounded-full text-sm font-semibold ${fe>0?"bg-red-100 text-red-800 border border-red-300":"bg-green-100 text-green-800 border border-green-300"}`,children:fe>0?m.jsx(m.Fragment,{children:fe}):m.jsx(m.Fragment,{children:"0"})})},comparator:(X,fe)=>X-fe},{headerName:"View",field:"action",flex:.3,cellRenderer:X=>m.jsx("div",{style:{display:"flex",gap:"12px",alignItems:"center"},children:m.jsx("div",{className:"flex items-center gap-2",children:m.jsx(Wm,{size:18,className:"cursor-pointer text-gray-600",onClick:()=>d(`/excel/batch/${X.data.batch_id}`)})})})},{headerName:"Date",field:"created_at",valueFormatter:X=>X.value?new Date(X.value).toLocaleString():"-"}],defaultColDef:Y,pagination:!0,paginationPageSize:100,quickFilterText:e,onRowClicked:X=>B(X.data.batch_id),getRowStyle:X=>X.data.batch_id===O?{backgroundColor:"#c4c4c4",borderLeft:"4px solid #22c55e",transition:"background-color 0.3s ease"}:null})})]}),m.jsxs(kc,{isOpen:U,onRequestClose:()=>_(!1),className:"bg-white rounded-xl shadow-lg p-6 w-full max-w-2xl mx-auto mt-20 outline-none relative top-1",overlayClassName:"fixed inset-0  bg-opacity-50 backdrop-blur-sm flex justify-center items-start z-50",children:[m.jsx("h2",{className:"text-xl font-bold mb-4",children:"Add Records Manually"}),m.jsxs("form",{onSubmit:K,className:"space-y-3",children:[m.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[m.jsx("input",{type:"text",placeholder:"Name",value:I.name,onChange:X=>V({...I,name:X.target.value}),className:"w-full border p-2 rounded"}),m.jsx("input",{type:"email",placeholder:"Email",value:I.email,onChange:X=>V({...I,email:X.target.value}),className:"w-full border p-2 rounded"}),m.jsx("input",{type:"text",placeholder:"Mobile",value:I.mobile,onChange:X=>V({...I,mobile:X.target.value}),className:"w-full border p-2 rounded"}),m.jsx("input",{type:"text",placeholder:"Address",value:I.address,onChange:X=>V({...I,address:X.target.value}),className:"w-full border p-2 rounded"})]}),m.jsxs("div",{className:"flex justify-between pt-3",children:[m.jsx("button",{type:"submit",className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:"Add Record"}),F.length>0&&m.jsxs("button",{onClick:H,disabled:y,className:"relative inline-flex items-center justify-center px-20 py-3 overflow-hidden font-medium transition duration-300 ease-out bg-blue-600 text-white rounded-lg shadow-md",children:[m.jsx("span",{className:`absolute inset-0 flex items-center justify-center w-full h-full text-white duration-500 transform
           ${y?"translate-x-0 bg-blue-500":"-translate-x-full"}
         `,children:y?m.jsx("svg",{className:"w-6 h-6 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v4m0 8v4m8-8h4M4 12H0m16.24-4.24l2.83-2.83M4.93 19.07l-2.83 2.83M16.24 19.07l2.83 2.83M4.93 4.93L2.1 2.1"})}):""}),m.jsx("span",{className:`absolute flex items-center justify-center w-full h-full text-white transition-all duration-500 transform
           ${y?"translate-x-full text-white":"translate-x-0"}
       `,children:y?"Uploading...":M?"Uploaded":"Upload Manually"}),m.jsx("span",{className:"relative invisible",children:y?"Uploading...":M?"Uploaded":"Upload Manually"})]})]})]}),F.length>0&&m.jsxs("div",{className:"mt-6",children:[m.jsx("h3",{className:"font-semibold mb-2",children:"Added Records"}),m.jsx("div",{className:"ag-theme-alpine",style:{height:300,width:"100%"},children:m.jsx(zt,{rowData:F,columnDefs:Z,pagination:!0,paginationPageSize:5,defaultColDef:{resizable:!0,sortable:!0,filter:!0}})})]})]})]}),m.jsxs(kc,{isOpen:P,onRequestClose:()=>A(!1),className:"bg-white p-6 rounded-lg shadow-lg max-w-md mx-auto mt-40",overlayClassName:"fixed inset-0 backdrop-blur-sm bg-opacity-40 flex items-center justify-center z-50",children:[m.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Confirm Delete"}),m.jsxs("p",{className:"mb-6",children:[m.jsx("span",{className:"text-red-500",children:"Are you sure you want to delete all customers in this batch? "})," ",m.jsx("br",{}),"Deleting this batch will also remove all the linked data associated with these customers from every connected module. This action cannot be undone."]}),m.jsxs("div",{className:"flex justify-end gap-4",children:[m.jsx("button",{onClick:()=>A(!1),className:"px-4 py-2 rounded bg-gray-300 hover:bg-gray-400",children:"Cancel"}),m.jsx("button",{className:`px-4 py-2 text-white rounded-md flex items-center justify-center gap-2
        ${x?"bg-gray-400 cursor-not-allowed":"bg-blue-500 hover:bg-blue-600"}`,onClick:z,disabled:x,children:x?m.jsxs(m.Fragment,{children:[m.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:`M4 12a8 8 0 018-8V0C5.373 \r
              0 0 5.373 0 12h4z`})]}),"Deleting..."]}):"Delete"})]})]})]})}Yo.registerModules([Bc]);function RHe(){const{batchId:e}=QC(),t=Rt(),[n,r]=C.useState([]),i=C.useRef(null),s="https://crm.softwaresetu.com/api",o=C.useMemo(()=>[{headerName:"ID",field:"id",flex:.5},{headerName:"Name",field:"name",flex:1},{headerName:"Email",field:"email",flex:1},{headerName:"Mobile",field:"mobile",flex:1},{headerName:"Address",field:"address",flex:1},{headerName:"Status",field:"status",flex:1}],[]),a=C.useMemo(()=>({sortable:!0,filter:!0,resizable:!0}),[]),l=async()=>{try{const{data:c}=await me.get(`${s}/customers/wise/${e}`);r(c)}catch(c){console.error("Error fetching customers:",c)}};return C.useEffect(()=>{l()},[e]),m.jsxs("div",{className:"p-6 bg-gray-50 min-h-screen space-y-4",children:[m.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg",onClick:()=>t(-1),children:"Back"}),m.jsxs("h1",{className:"text-3xl font-bold",children:["Customers in Batch ",e]}),m.jsx("div",{className:"ag-theme-quartz w-full",style:{height:500},children:m.jsx(zt,{ref:i,rowData:n,columnDefs:o,defaultColDef:a,pagination:!0,paginationPageSize:20,animateRows:!0})})]})}Yo.registerModules([Bc]);function MHe(){const[e,t]=C.useState([]),[n,r]=C.useState([]),[i,s]=C.useState(null),[o,a]=C.useState({}),[l,c]=C.useState(null),[d,f]=C.useState({}),[p,v]=C.useState([]),[y,b]=C.useState([]),[x,S]=C.useState(""),[M,R]=C.useState(""),T="https://crm.softwaresetu.com/api",[k,P]=C.useState(!1),[A,O]=C.useState(null),[B,U]=C.useState({}),[_,I]=C.useState(null),[V,F]=C.useState(null),[L,z]=C.useState("0");C.useEffect(()=>{const K=async()=>{try{const Y=await me.get(`${T}/status`),Z=Y.data.map(X=>X.name);v(Z),b(Y.data)}catch(Y){console.error("Error fetching statuses:",Y),be.error("Failed to load statuses ")}};(async()=>{try{const Y=JSON.parse(localStorage.getItem("user"));if(!Y?.id)return;const Z=`${T}/customers/assigned?assigned_to=${Y.id}`,{data:X}=await me.get(Z);t(X),r(X)}catch(Y){console.error("Error fetching customers:",Y),be.error("Failed to load customers ")}})(),K()},[k]);const j={defaultColDef:{flex:1,resizable:!0,sortable:!0,filter:!0}},$=C.useMemo(()=>[{headerName:"Name",field:"name"},{headerName:"Mobile",field:"mobile"},{headerName:"Status",field:"status"},{headerName:"Comment",field:"comment",minWidth:700,autoHeight:!0,cellRenderer:K=>m.jsxs("div",{className:"flex items-center justify-between gap-2",children:[m.jsx("span",{className:"truncate max-w-[600px]",children:K.data.comment}),m.jsx("button",{className:"p-1 text-gray-600 rounded hover:bg-gray-300",onClick:()=>F(K.data.customer_id),title:"View Comments",children:m.jsx(Si,{size:18})})]})},{headerName:"Status Change",field:"status",width:150,maxWidth:150,cellRenderer:K=>m.jsxs("div",{className:"flex gap-8 items-center justify-center",children:[m.jsx("button",{className:"p-1 rounded hover:bg-gray-100 flex",onClick:()=>O({customer_id:K.data.customer_id,currentStatus:K.value,newStatus:K.value,batch_id:K.data.batch_id}),children:m.jsx(ti,{size:14,className:"text-gray-600"})}),m.jsx("span",{class:"border-l border-gray-400 h-6 inline-block"}),m.jsx("button",{className:"p-1 rounded hover:bg-gray-100 flex",onClick:()=>{console.log("Customer ID:",K.data.customer_id),I({customer_id:K.data.customer_id})},children:m.jsx(cl,{size:14,className:"text-gray-600"})})]})},{headerName:"Follow Up Date/Time",field:"followup_datetime"}],[]);console.log(A,"statusModalData..");const W=C.useMemo(()=>{let K=e.filter(H=>H.status!=="Deal");return x&&(K=K.filter(H=>H.status===x)),K},[e,x]);return C.useEffect(()=>{if(L!="0"){let K=n.filter(H=>H.batch_id==L);t(K)}else t(n)},[L]),m.jsxs("div",{className:"p-6 bg-gray-50 rounded-lg shadow-md",children:[m.jsxs("div",{className:"flex justify-between mb-4",children:[m.jsx("h1",{className:"text-lg font-semibold",children:"Customer"}),m.jsxs("div",{className:"flex gap-4",children:[m.jsx(Mi,{selectedSource:L,setSelectedSource:z}),m.jsxs("div",{className:"relative w-64",children:[m.jsxs("select",{value:x,onChange:K=>S(K.target.value),className:"border px-4 py-2 rounded w-full appearance-none pr-10",children:[m.jsx("option",{value:"",children:"All Status"}),p.map((K,H)=>m.jsx("option",{value:K,children:K},H))]}),m.jsx(nx,{size:20,className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-600"})]}),m.jsx("input",{type:"text",placeholder:"Search...",value:M,onChange:K=>R(K.target.value),className:"border px-4 py-2 rounded w-64"})]})]}),m.jsxs("div",{className:"ag-theme-alpine",style:{height:710},children:[m.jsx(zt,{rowData:W,columnDefs:$,pagination:!0,paginationPageSize:100,singleClickEdit:!0,gridOptions:j,quickFilterText:M}),m.jsx(Ri,{statusModalData:A,setStatusModalData:O,statusData:p,statusFullData:y,commentMap:B,setCommentMap:U,dateTimeMap:o,setDateTimeMap:a,setIsChange:P}),m.jsx(Ti,{noteModalData:_,setNoteModalData:I}),V&&m.jsx(ki,{customerId:V,onClose:()=>F(null)}),m.jsx(Xk,{position:"top-right",autoClose:2e3})]})]})}function THe(){const{id:e}=QC();Rt();const[t,n]=C.useState([]),[r,i]=C.useState(""),[s,o]=C.useState(0),a="https://crm.softwaresetu.com/api";if(C.useEffect(()=>{(async()=>{try{const{data:d}=await lS.get(`${a}/employee/customer-details/${e}`);console.log(d),n(d);const f=d.filter(p=>p.status?.toLowerCase()==="pending");o(f.length)}catch(d){i(d.response?.data?.message||"Failed to load employee")}})()},[e]),r)return m.jsx("div",{className:"p-6 text-red-500",children:r});const l=[{headerName:"id",field:"id",sortable:!0,filter:!0},{headerName:"Name",field:"name",sortable:!0,filter:!0},{headerName:"Email",field:"email",sortable:!0,filter:!0},{headerName:"Mobile",field:"mobile",sortable:!0,filter:!0},{headerName:"Address",field:"address",sortable:!0,filter:!0},{headerName:"Status",field:"status",sortable:!0,filter:!0,cellStyle:c=>c.value?.toLowerCase()==="pending"?{backgroundColor:"#fef3c7",color:"#92400e"}:null},{headerName:"Joined",field:"created_at",sortable:!0,filter:!0,valueFormatter:({value:c})=>c?new Date(c).toLocaleDateString():"-"}];return m.jsxs("div",{className:"p-6 bg-gray-50 shadow-md rounded-lg",children:[m.jsx("h1",{className:"text-2xl font-semibold mb-5",children:"Employee Details"}),m.jsxs("div",{className:"mb-6 p-4 bg-white rounded-lg shadow-sm border border-gray-200",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"bg-orange-100 p-3 rounded-full",children:m.jsx("span",{className:"text-orange-600 font-bold text-lg",children:""})}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Pending Employees"}),m.jsx("p",{className:"text-sm text-gray-600",children:"Employees awaiting approval or action"})]})]}),m.jsxs("div",{className:"text-right",children:[m.jsx("div",{className:"text-3xl font-bold text-blue-600",children:s}),m.jsxs("div",{className:"text-sm text-gray-500",children:["out of ",t.length," total"]})]})]}),t.length>0&&m.jsxs("div",{className:"mt-4",children:[m.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:m.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${s/t.length*100}%`}})}),m.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[m.jsxs("span",{children:[s," pending"]}),m.jsxs("span",{children:[t.length-s," completed"]})]})]})]}),m.jsx("div",{className:"ag-theme-quartz w-full",children:m.jsx(zt,{rowData:t,columnDefs:l,pagination:!0,domLayout:"autoHeight",paginationPageSize:20})})]})}function kHe(){const{id:e}=QC(),[t,n]=C.useState([]),[r,i]=C.useState(!0),[s,o]=C.useState(""),[a,l]=C.useState(""),[c,d]=C.useState(""),f="https://crm.softwaresetu.com/api",p=Rt();if(C.useEffect(()=>{(async()=>{try{const x=(await me.get(`${f}/customers/lead/${e}`)).data.lead_history||[];if(n(x),x.length>0){const S=x.find(M=>M.type==="lead");console.log(S,"firstLead"),S&&(o(S.name||""),l(S.email||""),d(S.mobile||""))}}catch(b){console.error("Error fetching lead history:",b)}finally{i(!1)}})()},[e]),r)return m.jsx("p",{className:"p-4",children:"Loading..."});const v=y=>y?new Date(y).toLocaleString("en-IN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0,timeZone:"Asia/Kolkata"}):"-";return m.jsxs("div",{className:"p-6 bg-gradient-to-br from-gray-50 to-gray-100 rounded-xl shadow-lg",children:[m.jsxs("div",{className:"flex justify-between items-center mb-8",children:[m.jsxs("h2",{className:"text-3xl font-extrabold text-gray-900 tracking-tight",children:["Lead History for"," ",m.jsx("span",{className:"text-black-600",children:`${s} (${c})`||`Customer ${e}`})]}),m.jsx("div",{onClick:()=>p("/customer"),className:"px-5 py-2 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-lg font-medium shadow hover:shadow-lg transition-all duration-200 hover:scale-[1.02] cursor-pointer",children:"Back"})]}),t.length===0?m.jsx("p",{className:"text-gray-600",children:"No history found for this customer."}):m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"absolute left-1/2 top-0 bottom-0 w-1 bg-blue-200 transform -translate-x-1/2"}),m.jsx("div",{className:"space-y-12",children:t.map((y,b)=>m.jsxs("div",{className:`relative flex items-center w-full ${b%2===0?"justify-start":"justify-end"}`,children:[m.jsx("span",{className:"absolute left-1/2 transform -translate-x-1/2 w-5 h-5 bg-blue-500 rounded-full border-4 border-white shadow"}),m.jsx("div",{className:`bg-white rounded-2xl border border-gray-100 shadow-sm p-6 transition-all duration-300 hover:shadow-lg hover:-translate-y-1 hover:scale-[1.02] 
  w-full sm:w-[420px] ${b%2===0?"mr-auto text-left":"ml-auto text-left"}`,children:y.type==="lead"?m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:y.status}),m.jsxs("div",{className:"flex items-center text-xs sm:text-sm text-gray-500",children:[m.jsx(Tw,{className:"w-4 h-4 mr-1"}),v(y.created_at)]})]}),m.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-y-3 gap-x-6 text-sm text-gray-700",children:[y.updated_by&&m.jsxs("p",{className:"flex items-center col-span-2",children:[m.jsx($t,{className:"w-4 h-4 mr-2 text-blue-500"}),m.jsx("span",{children:"Updated By :"}),"",y.updated_by]}),y.comment&&m.jsxs("p",{className:"flex items-center col-span-2",children:[m.jsx(kie,{className:"w-4 h-4 mr-2 text-blue-500"}),m.jsx("span",{className:"font-medium",children:"Comment :"}),"",y.comment]}),y.status==="Demo"&&m.jsxs("p",{className:"flex items-center col-span-2",children:[m.jsx(rn,{className:"w-4 h-4 mr-2 text-blue-500"}),m.jsx("span",{className:"font-medium",children:"Demo Date :"}),"",v(y.followup_datetime)]}),y.status==="Follow Up"&&m.jsxs("p",{className:"flex items-center col-span-2",children:[m.jsx(rn,{className:"w-4 h-4 mr-2 text-blue-500"}),m.jsx("span",{className:"font-medium",children:"Follow Up Date :"}),"",v(y.followup_datetime)]})]})]}):m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"flex justify-between  items-center mb-3",children:[m.jsxs("h3",{className:"text-md font-semibold text-gray-800 flex items-center gap-2",children:[m.jsx(jie,{className:"w-4 h-4 text-yellow-500"}),"Customer Note"]}),m.jsxs("div",{className:"flex items-center text-xs text-gray-500",children:[m.jsx(Tw,{className:"w-4 h-4 mr-1"}),v(y.created_at)]})]}),m.jsxs("p",{className:"text-sm text-gray-700 leading-relaxed ",children:["Created By : ",y.updatedby_name]}),m.jsxs("p",{className:"text-sm text-gray-700 leading-relaxed ",children:["Note : ",y.note]})]})})]},y.id||y.note_id||b))})]})]})}function AHe(){const{id:e}=QC(),[t,n]=C.useState({name:"",email:"",mobile:"",salary:"",target:"",joiningDate:"",password:""}),[r,i]=C.useState(null),[s,o]=C.useState(null),[a,l]=C.useState(!1),[c,d]=C.useState(""),f=Rt(),p="https://crm.softwaresetu.com/api";C.useEffect(()=>{(async()=>{try{const{data:x}=await me.get(`${p}/employee/${e}`);n({name:x.name||"",email:x.email||"",mobile:x.mobile||"",salary:x.salary||"",target:x.target||"",joiningDate:x.joining_date?x.joining_date.split("T")[0]:"",password:x.password||""}),x.avatar&&o(`http://localhost:5000/${x.avatar}`),d(x.password||"")}catch(x){console.error(x),alert("Failed to load employee")}})()},[e]);const v=b=>{const x=b.target.files[0];x&&(i(x),o(URL.createObjectURL(x)))},y=async b=>{b.preventDefault(),l(!0);try{const x=new FormData;Object.keys(t).forEach(S=>{t[S]&&(S!=="password"||t[S]!==c)&&x.append(S,t[S])}),r&&x.append("avatar",r),await lS.put(`/employee/edit/${e}`,x,{headers:{"Content-Type":"multipart/form-data"}}),be.success("Employee updated successfully!"),f("/employees")}catch(x){console.error("Update Error:",x.response?.data||x),alert(x.response?.data?.message||"Failed to update employee")}finally{l(!1)}};return m.jsx(Ic,{role:"admin",fallback:m.jsx("div",{className:"max-w-md p-6 bg-white rounded-lg shadow-md text-center text-red-600",children:"Only admins can view this."}),children:m.jsxs("div",{className:"max-w-full mx-auto bg-white shadow-lg rounded-xl p-8 space-y-6",children:[m.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Edit Employee"}),m.jsxs("form",{onSubmit:y,className:"space-y-4",children:[m.jsx("div",{className:"mb-6",children:m.jsxs("label",{className:"block text-sm font-medium text-gray-700 cursor-pointer",children:[m.jsxs("div",{className:"flex items-center space-x-3",children:[s?m.jsx("img",{src:s,alt:"Avatar Preview",className:"w-16 h-16 rounded-full object-cover border"}):m.jsx("div",{className:"w-16 h-16 border-2 border-dashed border-blue-400 flex items-center justify-center rounded-md",children:m.jsx("span",{className:"text-xl",children:"+"})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-medium",children:"Upload Avatar"}),m.jsx("p",{className:"text-xs text-gray-500",children:"Recommended: 400x400px"})]})]}),m.jsx("input",{type:"file",className:"hidden",onChange:v,disabled:a})]})}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[["name","email","mobile","salary","target"].map(b=>m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:b.charAt(0).toUpperCase()+b.slice(1)}),m.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:`Enter ${b}`,value:t[b],onChange:x=>n({...t,[b]:x.target.value})})]},b)),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Joining Date"}),m.jsx("input",{type:"date",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",value:t.joiningDate,onChange:b=>n({...t,joiningDate:b.target.value})})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),m.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter password",value:t.password,onChange:b=>n({...t,password:b.target.value})})]}),m.jsxs("div",{className:"flex justify-end space-x-4",children:[m.jsx("button",{type:"button",onClick:()=>f("/employees"),disabled:a,className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),m.jsx("button",{type:"submit",disabled:a,className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:a?"Updating...":"Update Employee"})]})]})]})})}function PHe(){const[e,t]=C.useState(null),[n,r]=C.useState(null),[i,s]=C.useState(null),[o,a]=C.useState([]),l=JSON.parse(localStorage.getItem("user")),c=Rt(),[d,f]=C.useState({Demo:0,FollowUp:0,NotPickedCall:0,Deal:0,Interested:0});C.useEffect(()=>{me.get(`${p}/customers/fetch-customer-status/${l?.id}`).then(S=>{const M={Demo:0,FollowUp:0,Deal:0,Interested:0};S.data.data.forEach(R=>{R.status==="Demo"&&M.Demo++,R.status==="Follow Up"&&M.FollowUp++,R.status==="Deal"&&M.Deal++,R.status==="Interested"&&M.Interested++}),f(M),console.log(M,"stats...")}).catch(S=>{console.error("Error fetching customer status:",S)})},[]);const p="https://crm.softwaresetu.com/api",v=JSON.parse(localStorage.getItem("user")),y=async()=>{try{const{data:S}=await me.get(`${p}/employee/target?employeeId=${v.id}`),M=Array.isArray(S)?S[0]?.target:S?.target;t(M)}catch(S){console.error("Error fetching employee target:",S)}},b=async()=>{try{const{data:S}=await me.get(`${p}/employee/status?employeeId=${v.id}`);r(S)}catch(S){console.error("Error fetching employee status:",S)}};C.useEffect(()=>{v?.id&&(y(),b())},[v?.id]);const x=[{headerName:"Name",field:"name",flex:1},{headerName:"Mobile",field:"mobile",flex:1},{headerName:"Address",field:"address",flex:1},{headerName:"Status",field:"status",flex:1},{headerName:"Date",field:"followup_datetime",flex:1,valueFormatter:S=>S.value?new Date(S.value).toLocaleDateString():""}];return m.jsxs("div",{className:"min-h-screen bg-gray-100 p-6",children:[m.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:"Dashboard"}),v&&m.jsxs("p",{className:"mb-8 text-gray-600 text-lg",children:["Welcome, ",m.jsx("span",{className:"font-semibold",children:v.name}),"!"]}),m.jsx("div",{className:"flex justify-center",children:m.jsxs("div",{className:"flex flex-wrap gap-6 justify-center",children:[m.jsxs("div",{className:"bg-white rounded-2xl shadow-lg h-20 p-4 flex items-center justify-center text-center hover:shadow-2xl transition-shadow duration-300 cursor-pointer",children:[m.jsx(Hie,{className:"w-8 h-8 text-blue-500 mr-3"}),m.jsxs("div",{className:"flex gap-4 items-start",children:[m.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Target"}),m.jsx("p",{className:"text-xl font-bold text-gray-800",children:e!==null?e:"Loading..."})]})]}),m.jsxs("div",{className:"bg-white rounded-2xl shadow-lg w-48 h-20 p-4 flex items-center justify-center text-center hover:shadow-2xl transition-shadow duration-300 cursor-pointer",onClick:()=>{c("/demo")},children:[m.jsx(Ir,{className:"w-8 h-8 text-blue-500 mr-3"}),m.jsxs("div",{className:"flex gap-4 items-start",children:[m.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Demo"}),m.jsx("p",{className:"text-xl font-bold text-gray-800",children:d.Demo})]})]}),m.jsxs("div",{className:"bg-white rounded-2xl shadow-lg w-48 h-20 p-4 flex items-center justify-center text-center hover:shadow-2xl transition-shadow duration-300 cursor-pointer",onClick:()=>{c("/follow-up")},children:[m.jsx(rn,{className:"w-8 h-8 text-green-500 mr-3"}),m.jsxs("div",{className:"flex gap-4 items-start",children:[m.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Followup"}),m.jsx("p",{className:"text-xl font-bold text-gray-800",children:d.FollowUp})]})]}),m.jsxs("div",{className:"bg-white rounded-2xl shadow-lg w-48 h-20 p-4 flex items-center justify-center text-center hover:shadow-2xl transition-shadow duration-300 cursor-pointer",onClick:()=>{c("/user-interested")},children:[m.jsx($t,{className:"w-8 h-8 text-pink-500 mr-3"}),m.jsxs("div",{className:"flex gap-4 items-start",children:[m.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Interested"}),m.jsx("p",{className:"text-xl font-bold text-gray-800",children:d.Interested})]})]})]})}),i&&m.jsxs("div",{className:"mt-10 bg-white shadow-lg rounded-xl p-6",children:[m.jsxs("h2",{className:"text-xl font-semibold text-gray-700 mb-4 capitalize",children:[i," Records"]}),m.jsx("div",{className:"ag-theme-alpine",style:{width:"100%",height:400},children:m.jsx(zt,{rowData:o,columnDefs:x,pagination:!0,paginationPageSize:10})})]})]})}function NHe(){const e=localStorage.getItem("user"),t=e?JSON.parse(e):null;return t?t.role==="employee"?m.jsx(PHe,{}):t.role==="admin"?m.jsx(w_e,{}):m.jsxs("div",{className:"p-6 text-center text-gray-500",children:["Unauthorized role: ",t.role]}):m.jsx("div",{className:"p-6 text-center text-red-500",children:"User not found. Please login."})}function OHe(){const[e,t]=C.useState({}),[n,r]=C.useState({}),[i,s]=C.useState({Demo:0,FollowUp:0,Deal:0,Interested:0}),[o,a]=C.useState([]),[l,c]=C.useState([]),[d,f]=C.useState(null),[p,v]=C.useState(null),[y,b]=C.useState(null),[x,S]=C.useState({}),[M,R]=C.useState({}),[T,k]=C.useState(!1),[P,A]=C.useState(""),[O,B]=C.useState("0"),U="https://crm.softwaresetu.com/api",_=Rt(),I=JSON.parse(localStorage.getItem("user")||"null");return C.useEffect(()=>{me.get(`${U}/customers/fetch-customer-status/${I?.id}`).then(V=>{const F={Demo:0,FollowUp:0,Deal:0,Interested:0};V.data.data.forEach(L=>{L.status==="Demo"&&F.Demo++,L.status==="Follow Up"&&F.FollowUp++,L.status==="Deal"&&F.Deal++,L.status==="Interested"&&F.Interested++}),s(F)}).catch(()=>be.error("Failed to load stats"))},[]),C.useEffect(()=>{(async()=>{try{const F=localStorage.getItem("token"),L=I?.id;if(!L)return;const{data:z}=await me.get(`${U}/employee/status/data`,{headers:{Authorization:`Bearer ${F}`},params:{employeeId:L,status:"Follow Up"}}),j=z.data.filter(H=>H.status_id==4||H.status_id==1),$={};j.forEach(H=>{let Y=H.mobile;Y&&Y.length===12&&Y.startsWith("91")&&(Y=Y.substring(2)),(!$[Y]||new Date(H.updated_at)>new Date($[Y].updated_at))&&($[Y]=H)});const W=Object.values($),K={};W.forEach(H=>{const Y=H.followup_datetime?new Date(H.followup_datetime).toLocaleDateString("en-IN",{day:"2-digit",month:"long",year:"numeric"}):"No Date";K[Y]||(K[Y]=[]),K[Y].push(H)}),t(K),r(K)}catch(F){console.error("Error fetching follow-up data:",F),be.error("Failed to load customer data")}})()},[T]),C.useEffect(()=>{(async()=>{try{const F=await me.get(`${U}/status`),L=F.data.map(z=>z.name);a(L),c(F.data)}catch{be.error("Failed to load statuses")}})()},[]),C.useEffect(()=>{if(O!=="0"){const V={};Object.keys(n).forEach(F=>{const L=n[F].filter(z=>z.batch_id==O);L.length>0&&(V[F]=L)}),t(V)}else t(n)},[O,n]),m.jsxs("div",{className:"p-6 bg-gray-50",children:[m.jsxs("div",{className:"flex flex-wrap gap-6 justify-center mb-6",children:[m.jsxs("div",{className:"bg-white rounded-2xl shadow-lg w-48 h-20 p-4 flex items-center justify-center text-center hover:shadow-2xl cursor-pointer",onClick:()=>_("/demo"),children:[m.jsx(Ir,{className:"w-8 h-8 text-blue-500 mr-3"}),m.jsxs("div",{children:[m.jsx("p",{className:"text-gray-400 text-sm",children:"Demo"}),m.jsx("p",{className:"text-xl font-bold",children:i.Demo})]})]}),m.jsxs("div",{className:"bg-white rounded-2xl shadow-lg w-48 h-20 p-4 flex items-center justify-center text-center hover:shadow-2xl cursor-pointer",onClick:()=>_("/follow-up"),children:[m.jsx(rn,{className:"w-8 h-8 text-green-500 mr-3"}),m.jsxs("div",{children:[m.jsx("p",{className:"text-gray-400 text-sm",children:"Followup"}),m.jsx("p",{className:"text-xl font-bold",children:i.FollowUp})]})]}),m.jsxs("div",{className:"bg-white rounded-2xl shadow-lg w-48 h-20 p-4 flex items-center justify-center text-center hover:shadow-2xl cursor-pointer",onClick:()=>_("/user-interested"),children:[m.jsx($t,{className:"w-8 h-8 text-pink-500 mr-3"}),m.jsxs("div",{children:[m.jsx("p",{className:"text-gray-400 text-sm",children:"Interested"}),m.jsx("p",{className:"text-xl font-bold",children:i.Interested})]})]})]}),m.jsxs("div",{className:"mb-6 flex gap-4 justify-end",children:[m.jsx(Mi,{selectedSource:O,setSelectedSource:B}),m.jsx("input",{type:"text",placeholder:"Search leads...",value:P,onChange:V=>A(V.target.value),className:"border rounded-lg px-3 py-2 w-64 shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})]}),Object.keys(e).sort((V,F)=>{const L=V==="No Date"?new Date(0):new Date(V);return(F==="No Date"?new Date(0):new Date(F))-L}).map(V=>{const F=e[V].filter(L=>Object.values(L).some(z=>String(z||"").toLowerCase().includes(P.toLowerCase()))).sort((L,z)=>{const j=L.followup_datetime?new Date(L.followup_datetime):new Date(0),$=z.followup_datetime?new Date(z.followup_datetime):new Date(0);return j-$});return F.length===0?null:m.jsxs("div",{className:"mb-8 bg-gray-200 shadow rounded",children:[m.jsxs("div",{className:"bg-blue-500 text-white text-center py-2 font-semibold",children:[V,"  FOLLOW UP / DEMO"]}),m.jsxs("table",{className:"w-full text-sm border-collapse table-fixed",children:[m.jsx("thead",{className:"bg-gray-50",children:m.jsxs("tr",{className:"border-b",children:[m.jsx("th",{className:"border px-3 py-2 text-left",children:"Name"}),m.jsx("th",{className:"border px-3 py-2 text-left",children:"Mobile"}),m.jsx("th",{className:"border px-3 py-2 text-left",children:"Time"}),m.jsx("th",{className:"border px-3 py-2 text-left w-80",children:"Comment"}),m.jsx("th",{className:"border px-3 py-2 text-left",children:"Assigned To"}),m.jsx("th",{className:"border px-3 py-2 text-left",children:"Status"})]})}),m.jsx("tbody",{children:F.map((L,z)=>m.jsxs("tr",{className:"border-b bg-white",children:[m.jsxs("td",{className:"border px-3 py-2 w-32 ",children:[L.name,L.status?.toLowerCase()==="demo"&&m.jsx("span",{className:"bg-red-500 text-white text-[10px] px-2 py-1 rounded ml-2",children:"DEMO"})]}),m.jsx("td",{className:"border px-3 py-2",children:L.mobile}),m.jsx("td",{className:"border px-3 py-2",children:L.followup_datetime?new Date(L.followup_datetime).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit",hour12:!0}):""}),m.jsx("td",{className:"border px-3 py-2",children:m.jsxs("div",{className:"flex justify-between items-center gap-3",children:[m.jsx("span",{children:L.comment}),m.jsx("div",{className:"flex gap-2",children:m.jsx("button",{className:"hover:bg-gray-200 rounded p-2",onClick:()=>b(L.customer_id),title:"View History",children:m.jsx(Si,{className:"w-5 h-5 text-gray-600"})})})]})}),m.jsx("td",{className:"border px-3 py-2",children:L.employee_name||"Unassigned"}),m.jsx("td",{className:"border px-3 py-2",children:m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("span",{children:L.status}),m.jsx("button",{className:"hover:bg-gray-200 rounded p-2",onClick:()=>f({customer_id:L.customer_id,currentStatus:L.value,newStatus:L.value,batch_id:L.batch_id}),title:"Change Status",children:m.jsx(ti,{className:"w-5 h-5 text-gray-600"})})]})})]},z))})]})]},V)}),m.jsx(Ri,{statusModalData:d,setStatusModalData:f,statusData:o,statusFullData:l,commentMap:x,setCommentMap:S,dateTimeMap:M,setDateTimeMap:R,setIsChange:k}),m.jsx(Ti,{noteModalData:p,setNoteModalData:v}),y&&m.jsx(ki,{customerId:y,onClose:()=>b(null)})]})}function FHe(){const[e,t]=C.useState({}),[n,r]=C.useState({}),[i,s]=C.useState({Demo:0,FollowUp:0,Deal:0,Interested:0}),[o,a]=C.useState([]),[l,c]=C.useState([]),[d,f]=C.useState(null),[p,v]=C.useState(null),[y,b]=C.useState(null),[x,S]=C.useState({}),[M,R]=C.useState({}),[T,k]=C.useState(!1),[P,A]=C.useState(""),[O,B]=C.useState("0"),U="https://crm.softwaresetu.com/api",_=Rt(),I=JSON.parse(localStorage.getItem("user")||"null");return C.useEffect(()=>{me.get(`${U}/customers/fetch-customer-status/${I?.id}`).then(V=>{const F={Demo:0,FollowUp:0,Deal:0,Interested:0};V.data.data.forEach(L=>{L.status==="Demo"&&F.Demo++,L.status==="Follow Up"&&F.FollowUp++,L.status==="Deal"&&F.Deal++,L.status==="Interested"&&F.Interested++}),s(F)}).catch(()=>be.error("Failed to load stats"))},[]),C.useEffect(()=>{(async()=>{try{const F=localStorage.getItem("token"),L=I?.id;if(!L)return;const{data:z}=await me.get(`${U}/employee/status/data`,{headers:{Authorization:`Bearer ${F}`},params:{employeeId:L,status:"Demo"}}),$=z.data.filter(K=>K.status_id==1)||[],W={};$.forEach(K=>{const H=K.followup_datetime?new Date(K.followup_datetime).toLocaleDateString("en-IN",{day:"2-digit",month:"long",year:"numeric"}):"No Date";W[H]||(W[H]=[]),W[H].push(K)}),t(W),r(W)}catch(F){console.error("Error fetching demo data:",F),be.error("Failed to load customer data")}})()},[T]),C.useEffect(()=>{(async()=>{try{const F=await me.get(`${U}/status`),L=F.data.map(z=>z.name);a(L),c(F.data)}catch{be.error("Failed to load statuses")}})()},[]),C.useEffect(()=>{if(O!=="0"){const V={};Object.keys(n).forEach(F=>{const L=n[F].filter(z=>z.batch_id==O);L.length>0&&(V[F]=L)}),t(V)}else t(n)},[O,n]),m.jsxs("div",{className:"p-6 bg-gray-50",children:[m.jsxs("div",{className:"flex flex-wrap gap-6 justify-center mb-6",children:[m.jsxs("div",{className:"bg-white rounded-2xl shadow-lg w-48 h-20 p-4 flex items-center justify-center text-center hover:shadow-2xl cursor-pointer",onClick:()=>_("/demo"),children:[m.jsx(Ir,{className:"w-8 h-8 text-blue-500 mr-3"}),m.jsxs("div",{children:[m.jsx("p",{className:"text-gray-400 text-sm",children:"Demo"}),m.jsx("p",{className:"text-xl font-bold",children:i.Demo})]})]}),m.jsxs("div",{className:"bg-white rounded-2xl shadow-lg w-48 h-20 p-4 flex items-center justify-center text-center hover:shadow-2xl cursor-pointer",onClick:()=>_("/follow-up"),children:[m.jsx(rn,{className:"w-8 h-8 text-green-500 mr-3"}),m.jsxs("div",{children:[m.jsx("p",{className:"text-gray-400 text-sm",children:"Followup"}),m.jsx("p",{className:"text-xl font-bold",children:i.FollowUp})]})]}),m.jsxs("div",{className:"bg-white rounded-2xl shadow-lg w-48 h-20 p-4 flex items-center justify-center text-center hover:shadow-2xl cursor-pointer",onClick:()=>_("/user-interested"),children:[m.jsx($t,{className:"w-8 h-8 text-pink-500 mr-3"}),m.jsxs("div",{children:[m.jsx("p",{className:"text-gray-400 text-sm",children:"Interested"}),m.jsx("p",{className:"text-xl font-bold",children:i.Interested})]})]})]}),m.jsxs("div",{className:"mb-6 flex gap-4 justify-end",children:[m.jsx(Mi,{selectedSource:O,setSelectedSource:B}),m.jsx("input",{type:"text",placeholder:"Search leads...",value:P,onChange:V=>A(V.target.value),className:"border rounded-lg px-3 py-2 w-64 shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})]}),Object.keys(e).sort((V,F)=>{const L=V==="No Date"?new Date(0):new Date(V);return(F==="No Date"?new Date(0):new Date(F))-L}).map(V=>{const F=e[V].filter(L=>Object.values(L).some(z=>String(z||"").toLowerCase().includes(P.toLowerCase()))).sort((L,z)=>{const j=L.followup_datetime?new Date(L.followup_datetime):new Date(0),$=z.followup_datetime?new Date(z.followup_datetime):new Date(0);return j-$});return F.length===0?null:m.jsxs("div",{className:"mb-8 bg-gray-200 shadow rounded",children:[m.jsxs("div",{className:"bg-blue-500 text-white text-center py-2 font-semibold",children:[V,"  DEMO"]}),m.jsxs("table",{className:"w-full text-sm border-collapse table-fixed",children:[m.jsx("thead",{className:"bg-gray-50",children:m.jsxs("tr",{className:"border-b",children:[m.jsx("th",{className:"border px-3 py-2 text-left w-18",children:"Name"}),m.jsx("th",{className:"border px-3 py-2 text-left w-15",children:"Mobile"}),m.jsx("th",{className:"border px-3 py-2 text-left w-12",children:"Time"}),m.jsx("th",{className:"border px-3 py-2 text-left w-80",children:"Comment"}),m.jsx("th",{className:"border px-3 py-2 text-left w-18",children:"Assigned To"}),m.jsx("th",{className:"border px-3 py-2 text-left w-18",children:"Status"})]})}),m.jsx("tbody",{children:F.map((L,z)=>m.jsxs("tr",{className:"border-b bg-white",children:[m.jsx("td",{className:"border px-3 py-2 w-30",children:L.name}),m.jsx("td",{className:"border px-3 py-2 w-28",children:L.mobile}),m.jsx("td",{className:"border px-3 py-2 w-28",children:L.followup_datetime?new Date(L.followup_datetime).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit",hour12:!0}):""}),m.jsx("td",{className:"border px-3 py-2 w-80",children:m.jsxs("div",{className:"flex justify-between items-center gap-3",children:[m.jsx("span",{children:L.comment}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{className:"hover:bg-gray-200  rounded p-2",onClick:()=>v({customer_id:L.customer_id}),title:"Add Note",children:m.jsx(Jk,{className:"w-5 h-5 text-gray-600"})}),m.jsx("button",{className:"hover:bg-gray-200  rounded p-2",onClick:()=>b(L.customer_id),title:"View History",children:m.jsx(Si,{className:"w-5 h-5 text-gray-600"})})]})]})}),m.jsx("td",{className:"border px-3 py-2 w-40",children:L.employee_name||"Unassigned"}),m.jsx("td",{className:"border px-3 py-2 w-36",children:m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("span",{children:L.status}),m.jsx("button",{className:"hover:bg-gray-200  rounded p-2",onClick:()=>{console.log(L,"item..."),f({customer_id:L.customer_id,currentStatus:L.value,newStatus:L.value,batch_id:L.batch_id})},title:"Change Status",children:m.jsx(ti,{className:"w-5 h-5 text-gray-600"})})]})})]},z))})]})]},V)}),m.jsx(Ri,{statusModalData:d,setStatusModalData:f,statusData:o,statusFullData:l,commentMap:x,setCommentMap:S,dateTimeMap:M,setDateTimeMap:R,setIsChange:k}),m.jsx(Ti,{noteModalData:p,setNoteModalData:v}),y&&m.jsx(ki,{customerId:y,onClose:()=>b(null)})]})}function IHe(){const[e,t]=C.useState(""),[n,r]=C.useState(null),[i,s]=C.useState({clientId:"",name:"",amount:"",bank:"",mobile:"",address:"",comment:"",receivedDate:""});console.log("Form State:",i);const[o,a]=C.useState([]),[l,c]=C.useState([]),[d,f]=C.useState(""),[p,v]=C.useState(!1),[y,b]=C.useState(!1),[x,S]=C.useState(""),[M,R]=C.useState(!0),T=Rt(),k="https://crm.softwaresetu.com/api",[P,A]=C.useState([]),[O]=C.useState([{headerName:"NAME",field:"name",flex:1},{headerName:"AMOUNT",field:"amount",flex:1},{headerName:"BANK",field:"bank",flex:1},{headerName:"MOBILE",field:"mobile",flex:1},{headerName:"COMMENT",field:"comment",flex:1},{headerName:"RECEIVED DATE",field:"receivedDate",flex:1}]);C.useEffect(()=>{(async()=>{try{const L=await me.get(`${k}/customers/get-users`);a(L.data)}catch(L){console.error("Failed to fetch clients",L),S("Failed to load clients")}})()},[]),C.useEffect(()=>{(async()=>{try{const L=await me.get(`${k}/customers/get/0`);c(L.data)}catch(L){console.error("Failed to fetch bank details",L),c([])}})()},[]);const B=async()=>{try{const L=(await me.get(`${k}/customers/earning-data`)).data.flatMap(z=>z.earnings_list.map((j,$)=>({id:`${z.client_id}-${$+1}`,client_id:z.client_id,...j})));A(L)}catch(F){console.error("Failed to fetch earnings",F),A([])}};C.useEffect(()=>{B()},[]);const U=F=>F?.toString().toLowerCase().replace(/\s+/g," ").trim()||"",_=o.filter(F=>{const L=U(d);return U(F.name).includes(L)||U(F.mobile).includes(L)||U(F.email).includes(L)}),I=(F,L)=>{const z=o.find(j=>j.id===parseInt(F));s({...i,clientId:F,name:L,mobile:z?.mobile||"",address:z?.address||"",bank:""}),f(L),v(!1)},V=async F=>{F.preventDefault(),b(!0),S("");try{const L={clientId:i.clientId,name:i.name,amount:i.amount,bank:i.bank,mobile:i.mobile,address:i.address,comment:i.comment,receivedDate:i.receivedDate};await me.post(`${k}/customers/add`,L),be.success("Earning added successfully "),T("/earning-form")}catch(L){be.error(L.response?.data?.message||" Failed to add earning")}finally{b(!1),B()}};return m.jsx(m.Fragment,{children:m.jsx(Ic,{role:"admin",fallback:m.jsx("div",{className:"max-w-md p-6 bg-white rounded-lg shadow-md text-center text-red-600",children:"Only admins can view this."}),children:m.jsxs("div",{className:"max-w-full mx-auto bg-white shadow-lg rounded-xl p-8 space-y-6",children:[m.jsxs("div",{className:"flex justify-between",children:[m.jsx("h1",{className:"text-3xl font-semibold text-gray-800",children:M?"Earnings List":"Earning Form"}),m.jsxs("div",{className:"flex gap-4",children:[m.jsx("button",{className:"bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600",onClick:()=>R(!M),children:M?"Add Earning":"Back"}),m.jsx("button",{className:"bg-blue-500 text-white px-2 py-2 rounded-md hover:bg-blue-600",onClick:()=>{T("/earning-form/add-bank")},children:"Banks List"}),m.jsx(_r,{value:e,onChange:t})]})]}),M&&m.jsx("div",{className:"ag-theme-alpine",style:{height:690,width:"100%"},children:m.jsx(zt,{rowData:P,columnDefs:O,pagination:!0,paginationPageSize:100,defaultColDef:{sortable:!0,filter:!0,resizable:!0},animateRows:!0,quickFilterText:e,onRowClicked:F=>r(F.data.id),getRowStyle:F=>F.data.id===n?{backgroundColor:"#c4c4c4",borderLeft:"4px solid #22c55e",transition:"background-color 0.3s ease"}:null})}),!M&&m.jsxs(m.Fragment,{children:[x&&m.jsx("div",{className:"text-red-600 text-center",children:x}),m.jsxs("form",{onSubmit:V,className:"space-y-4",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Client"}),m.jsxs("div",{className:"relative",children:[m.jsx("input",{type:"text",className:"appearance-none border border-gray-300 rounded-lg w-full px-3 py-2 pr-10 focus:outline-none",placeholder:"-- Select Client --",value:d,onChange:F=>{f(F.target.value),v(!0)},onClick:()=>v(!p),required:!0}),m.jsx(n4,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 cursor-pointer",onClick:()=>v(!p)}),p&&m.jsx("ul",{className:"absolute z-10 bg-white border border-gray-300 rounded-lg mt-1 w-full max-h-40 overflow-y-auto shadow-md",children:_.length>0?_.map(F=>m.jsx("li",{className:"px-3 py-2 hover:bg-gray-100 cursor-pointer",onClick:()=>I(F.id,F.name),children:`${F.name}_______${F.mobile}_______${F.email}`},F.id)):m.jsx("li",{className:"px-3 py-2 text-gray-400",children:"No clients found"})})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Enter Amount"}),m.jsx("input",{type:"number",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none",placeholder:"Enter Amount",value:i.amount,onChange:F=>s({...i,amount:F.target.value}),required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Bank Account Name"}),m.jsxs("div",{className:"relative",children:[m.jsxs("select",{className:"appearance-none w-full border border-gray-300 rounded-lg px-3 py-2 pr-10 focus:outline-none",value:i.bank,onChange:F=>s({...i,bank:F.target.value}),required:!0,disabled:l.length===0,children:[m.jsx("option",{value:"",children:"-- Select Bank --"}),l.map((F,L)=>m.jsxs("option",{value:F.bankName,children:[F.bankName," (",F.accountNumber,")"]},L))]}),m.jsx(n4,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Comment"}),m.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none",placeholder:"Enter Comment",value:i.comment,onChange:F=>s({...i,comment:F.target.value})})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Received Date"}),m.jsx("input",{type:"date",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none",value:i.receivedDate,onChange:F=>s({...i,receivedDate:F.target.value}),required:!0})]})]}),m.jsxs("div",{className:"flex justify-end space-x-4",children:[m.jsx("button",{type:"button",onClick:()=>R(!0),disabled:y,className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),m.jsx("button",{type:"submit",disabled:y,className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:y?"Saving...":"Add Earning"})]})]})]})]})})})}Yo.registerModules([Bc]);kc.setAppElement("#root");function LHe(){const[e,t]=C.useState(!1),[n,r]=C.useState({clientId:"",accountholdername:"",mobile:"",address:"",bankName:"",accountNumber:"",ifsc:""}),[i,s]=C.useState([]),[o,a]=C.useState([]),[l,c]=C.useState(!0),[d,f]=C.useState(!1),[p,v]=C.useState(""),y=Rt(),b="https://crm.softwaresetu.com/api",x=[{headerName:"IFSC Code",field:"ifsc",sortable:!0,filter:!0},{headerName:"Mobile Number",field:"mobile",sortable:!0,filter:!0},{headerName:"Date Added",field:"addedAt",sortable:!0,filter:!0,valueGetter:R=>new Date(R.data.addedAt).toLocaleString()},{headerName:"Address",field:"address",sortable:!0,filter:!0},{headerName:"Bank Name",field:"bankName",sortable:!0,filter:!0},{headerName:"Account Number",field:"accountNumber",sortable:!0,filter:!0}];C.useEffect(()=>{(async()=>{try{const T=await me.get(`${b}/customers/get-users`);s(T.data)}catch(T){console.error("Failed to fetch clients",T),v("Failed to load clients")}})()},[b]),console.log(o,"banks...");const S=async R=>{R.preventDefault(),f(!0),v("");try{const T={clientId:"0",accountholdername:n.accountholdername,mobile:n.mobile,address:n.address,bankName:n.bankName,accountNumber:n.accountNumber,ifsc:n.ifsc};await me.post(`${b}/customers/add-bank`,T),be.success("Bank details added successfully"),y("/earning-form")}catch(T){v(T.response?.data?.message||"Failed to add bank details")}finally{f(!1)}};C.useEffect(()=>{(async()=>{try{const T=await me.get(`${b}/customers/get/0`);a(T.data)}catch(T){console.error("Failed to fetch bank details",T),a([])}})()},[]);const M=()=>{t(!0),setTimeout(()=>t(!1),300),c(!0)};return m.jsx(Ic,{role:"admin",fallback:m.jsx("div",{className:"max-w-md p-6 bg-white rounded-lg shadow-md text-center text-red-600",children:"Only admins can view this."}),children:l?m.jsx(m.Fragment,{children:m.jsxs("div",{className:"p-6 bg-gray-50 rounded-lg shadow-md",children:[m.jsxs("div",{className:"flex justify-between items-center mb-5",children:[m.jsx("h1",{className:"text-lg font-semibold",children:"BANK LIST"}),m.jsxs("div",{className:"flex gap-4",children:[m.jsx("button",{className:"bg-blue-500 text-white px-2 py-2 rounded-md hover:bg-blue-600",onClick:()=>{y("/earning-form")},children:"Earning Form"}),m.jsx("button",{className:"bg-blue-500 text-white px-2 py-2 rounded-md hover:bg-blue-600",onClick:()=>{c(!1)},children:"Add Bank"})]})]}),m.jsx("div",{className:"ag-theme-quartz",style:{height:500},children:m.jsx(zt,{rowData:o,columnDefs:x,pagination:!0,paginationPageSize:20,singleClickEdit:!0})})]})}):m.jsx(m.Fragment,{children:m.jsxs("div",{className:"max-w-full mx-auto bg-white shadow-lg rounded-xl p-8 space-y-6",children:[m.jsxs("div",{className:"flex justify-between",children:[m.jsx("h1",{className:"text-3xl font-semibold text-gray-800",children:"Add Bank Form"}),m.jsx(Lre,{onClick:()=>M(),className:"text-gray-600 text-xl"})]}),p&&m.jsx("div",{className:"text-red-600 text-center",children:p}),m.jsxs("form",{onSubmit:S,className:"space-y-4",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"A/C Holder Name"}),m.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter A/C Holder Name",value:n.accountholdername,onChange:R=>r({...n,accountholdername:R.target.value}),required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mobile"}),m.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter Mobile",value:n.mobile,onChange:R=>r({...n,mobile:R.target.value}),required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),m.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter Address",value:n.address,onChange:R=>r({...n,address:R.target.value}),required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bank Name"}),m.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none",placeholder:"Bank Name",value:n.bankName,onChange:R=>r({...n,bankName:R.target.value}),required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bank Account Number"}),m.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none",placeholder:"Enter Bank Account Number",value:n.accountNumber,onChange:R=>r({...n,accountNumber:R.target.value}),required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"IFSC Code"}),m.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none",placeholder:"Enter IFSC Code",value:n.ifsc,onChange:R=>r({...n,ifsc:R.target.value}),required:!0})]})]}),m.jsxs("div",{className:"flex justify-end space-x-4",children:[m.jsx("button",{type:"button",onClick:()=>c(!0),disabled:d,className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),m.jsx("button",{type:"submit",disabled:d,className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:d?"Adding...":"Add"})]})]})]})})})}const iz=C.forwardRef(({value:e,onClick:t},n)=>{const r=e||new Date().toLocaleDateString("en-GB");return m.jsxs("div",{onClick:t,ref:n,className:"flex items-center justify-between border rounded px-2 py-2 w-44 cursor-pointer bg-white",children:[m.jsx("span",{className:"text-sm",children:r}),m.jsx(rn,{className:"w-4 h-4 text-gray-500"})]})});function _He(){const[e,t]=C.useState(""),[n,r]=C.useState([]),[i,s]=C.useState([]),[o,a]=C.useState(new Date),[l,c]=C.useState(new Date),[d,f]=C.useState(null),p="https://crm.softwaresetu.com/api",v=b=>{if(!b)return null;const x=b.getFullYear(),S=String(b.getMonth()+1).padStart(2,"0"),M=String(b.getDate()).padStart(2,"0");return`${x}-${S}-${M}`},y=async()=>{try{let b=`${p}/customers/get-status-employee`;const x=v(o),S=v(l);x&&S&&(b+=`?start=${x}&end=${S}`);const R=(await me.get(b)).data.data||[],T=R.map((k,P)=>({...k,rowId:P}));if(r(T),R.length>0){const k=Object.keys(R[0]),P=["assigned_to"],A=k.map(O=>P.includes(O)?{headerName:O.replace(/_/g," ").toUpperCase(),field:O,hide:!0}:O==="month"?{headerName:"MONTH",field:O,flex:1,valueFormatter:B=>new Date(B.value).toLocaleString("default",{month:"long",year:"numeric"})}:{headerName:O.replace(/_/g," ").toUpperCase(),field:O,flex:1,minWidth:160});s(A)}}catch(b){console.error("Error fetching customer status:",b)}};return C.useEffect(()=>{y()},[o,l]),m.jsxs("div",{className:"p-6 bg-gray-50 shadow-md rounded-lg relative",children:[m.jsx("h2",{className:"text-xl font-bold mb-4",children:"Customer Status"}),m.jsxs("div",{className:"flex justify-between items-end gap-4 mb-4",children:[m.jsxs("div",{className:"flex items-end gap-4 mb-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium",children:"From Date"}),m.jsx(no,{selected:o,onChange:b=>a(b),customInput:m.jsx(iz,{}),dateFormat:"dd-MM-yyyy",popperPlacement:"bottom-start"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium",children:"To Date"}),m.jsx(no,{selected:l,onChange:b=>c(b),customInput:m.jsx(iz,{}),dateFormat:"dd-MM-yyyy",popperPlacement:"bottom-start"})]}),m.jsx("button",{onClick:()=>{a(new Date),c(new Date)},className:"bg-gray-200 px-4 py-2 rounded hover:bg-gray-300",children:"Reset"})]}),m.jsx("div",{className:"flex items-end gap-4 mb-4",children:m.jsx(_r,{value:e,onChange:t})})]}),m.jsx("div",{className:"ag-theme-alpine",style:{height:636},children:m.jsx(zt,{rowData:n,columnDefs:i,pagination:!0,paginationPageSize:100,defaultColDef:{sortable:!0,filter:!0,resizable:!0,minWidth:180,flex:1},suppressHorizontalScroll:!1,quickFilterText:e,onRowClicked:b=>f(b.data.rowId),getRowStyle:b=>b.data.rowId===d?{backgroundColor:"#c4c4c4",borderLeft:"4px solid #22c55e",transition:"background-color 0.3s ease"}:null})})]})}var jHe=class{constructor(){this.ieCompatibility=!1}init(){this.ieCompatibility=this.md5("hello")!="5d41402abc4b2a76b9719d911017c592"}md5cycle(e,t){let n=e[0],r=e[1],i=e[2],s=e[3];n=this.ff(n,r,i,s,t[0],7,-680876936),s=this.ff(s,n,r,i,t[1],12,-389564586),i=this.ff(i,s,n,r,t[2],17,606105819),r=this.ff(r,i,s,n,t[3],22,-1044525330),n=this.ff(n,r,i,s,t[4],7,-176418897),s=this.ff(s,n,r,i,t[5],12,1200080426),i=this.ff(i,s,n,r,t[6],17,-1473231341),r=this.ff(r,i,s,n,t[7],22,-45705983),n=this.ff(n,r,i,s,t[8],7,1770035416),s=this.ff(s,n,r,i,t[9],12,-1958414417),i=this.ff(i,s,n,r,t[10],17,-42063),r=this.ff(r,i,s,n,t[11],22,-1990404162),n=this.ff(n,r,i,s,t[12],7,1804603682),s=this.ff(s,n,r,i,t[13],12,-40341101),i=this.ff(i,s,n,r,t[14],17,-1502002290),r=this.ff(r,i,s,n,t[15],22,1236535329),n=this.gg(n,r,i,s,t[1],5,-165796510),s=this.gg(s,n,r,i,t[6],9,-1069501632),i=this.gg(i,s,n,r,t[11],14,643717713),r=this.gg(r,i,s,n,t[0],20,-373897302),n=this.gg(n,r,i,s,t[5],5,-701558691),s=this.gg(s,n,r,i,t[10],9,38016083),i=this.gg(i,s,n,r,t[15],14,-660478335),r=this.gg(r,i,s,n,t[4],20,-405537848),n=this.gg(n,r,i,s,t[9],5,568446438),s=this.gg(s,n,r,i,t[14],9,-1019803690),i=this.gg(i,s,n,r,t[3],14,-187363961),r=this.gg(r,i,s,n,t[8],20,1163531501),n=this.gg(n,r,i,s,t[13],5,-1444681467),s=this.gg(s,n,r,i,t[2],9,-51403784),i=this.gg(i,s,n,r,t[7],14,1735328473),r=this.gg(r,i,s,n,t[12],20,-1926607734),n=this.hh(n,r,i,s,t[5],4,-378558),s=this.hh(s,n,r,i,t[8],11,-2022574463),i=this.hh(i,s,n,r,t[11],16,1839030562),r=this.hh(r,i,s,n,t[14],23,-35309556),n=this.hh(n,r,i,s,t[1],4,-1530992060),s=this.hh(s,n,r,i,t[4],11,1272893353),i=this.hh(i,s,n,r,t[7],16,-155497632),r=this.hh(r,i,s,n,t[10],23,-1094730640),n=this.hh(n,r,i,s,t[13],4,681279174),s=this.hh(s,n,r,i,t[0],11,-358537222),i=this.hh(i,s,n,r,t[3],16,-722521979),r=this.hh(r,i,s,n,t[6],23,76029189),n=this.hh(n,r,i,s,t[9],4,-640364487),s=this.hh(s,n,r,i,t[12],11,-421815835),i=this.hh(i,s,n,r,t[15],16,530742520),r=this.hh(r,i,s,n,t[2],23,-995338651),n=this.ii(n,r,i,s,t[0],6,-198630844),s=this.ii(s,n,r,i,t[7],10,1126891415),i=this.ii(i,s,n,r,t[14],15,-1416354905),r=this.ii(r,i,s,n,t[5],21,-57434055),n=this.ii(n,r,i,s,t[12],6,1700485571),s=this.ii(s,n,r,i,t[3],10,-1894986606),i=this.ii(i,s,n,r,t[10],15,-1051523),r=this.ii(r,i,s,n,t[1],21,-2054922799),n=this.ii(n,r,i,s,t[8],6,1873313359),s=this.ii(s,n,r,i,t[15],10,-30611744),i=this.ii(i,s,n,r,t[6],15,-1560198380),r=this.ii(r,i,s,n,t[13],21,1309151649),n=this.ii(n,r,i,s,t[4],6,-145523070),s=this.ii(s,n,r,i,t[11],10,-1120210379),i=this.ii(i,s,n,r,t[2],15,718787259),r=this.ii(r,i,s,n,t[9],21,-343485551),e[0]=this.add32(n,e[0]),e[1]=this.add32(r,e[1]),e[2]=this.add32(i,e[2]),e[3]=this.add32(s,e[3])}cmn(e,t,n,r,i,s){return t=this.add32(this.add32(t,e),this.add32(r,s)),this.add32(t<<i|t>>>32-i,n)}ff(e,t,n,r,i,s,o){return this.cmn(t&n|~t&r,e,t,i,s,o)}gg(e,t,n,r,i,s,o){return this.cmn(t&r|n&~r,e,t,i,s,o)}hh(e,t,n,r,i,s,o){return this.cmn(t^n^r,e,t,i,s,o)}ii(e,t,n,r,i,s,o){return this.cmn(n^(t|~r),e,t,i,s,o)}md51(e){const t=e.length,n=[1732584193,-271733879,-1732584194,271733878];let r;for(r=64;r<=e.length;r+=64)this.md5cycle(n,this.md5blk(e.substring(r-64,r)));e=e.substring(r-64);const i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(r=0;r<e.length;r++)i[r>>2]|=e.charCodeAt(r)<<(r%4<<3);if(i[r>>2]|=128<<(r%4<<3),r>55)for(this.md5cycle(n,i),r=0;r<16;r++)i[r]=0;return i[14]=t*8,this.md5cycle(n,i),n}md5blk(e){const t=[];for(let n=0;n<64;n+=4)t[n>>2]=e.charCodeAt(n)+(e.charCodeAt(n+1)<<8)+(e.charCodeAt(n+2)<<16)+(e.charCodeAt(n+3)<<24);return t}rhex(e){const t="0123456789abcdef".split("");let n="",r=0;for(;r<4;r++)n+=t[e>>r*8+4&15]+t[e>>r*8&15];return n}hex(e){for(let t=0;t<e.length;t++)e[t]=this.rhex(e[t]);return e.join("")}md5(e){return this.hex(this.md51(e))}add32(e,t){return this.ieCompatibility?this.add32Compat(e,t):this.add32Std(e,t)}add32Std(e,t){return e+t&4294967295}add32Compat(e,t){const n=(e&65535)+(t&65535);return(e>>16)+(t>>16)+(n>>16)<<16|n&65535}},N0={"01":"GRID","02":"CHARTS","0102":"BOTH"},sz="https://www.ag-grid.com/licensing/",rQ=class fi{constructor(t){this.watermarkMessage=void 0,this.totalMessageLength=124,this.document=t,this.md5=new jHe,this.md5.init()}validateLicense(){const t=this.getLicenseDetails(fi.licenseKey),n=`AG Grid ${t.currentLicenseType==="BOTH"?"and AG Charts ":""}Enterprise`,r=t.suppliedLicenseType===void 0?"":`AG ${t.suppliedLicenseType==="BOTH"?"Grid and AG Charts":t.suppliedLicenseType==="GRID"?"Grid":"Charts"} Enterprise`;if(t.missing)(!this.isWebsiteUrl()||this.isForceWatermark())&&this.outputMissingLicenseKey(n);else if(t.expired){const i=fi.getGridReleaseDate(),s=fi.formatDate(i);this.outputExpiredKey(t.expiry,s,n,r)}else t.valid?t.isTrial&&t.trialExpired&&this.outputExpiredTrialKey(t.expiry,n,r):this.outputInvalidLicenseKey(!!t.incorrectLicenseType,n,r)}static extractExpiry(t){const n=t.substring(t.lastIndexOf("_")+1,t.length);return new Date(parseInt(fi.decode(n),10))}static extractLicenseComponents(t){let n=t.replace(/[\u200B-\u200D\uFEFF]/g,"");if(n=n.replace(/\r?\n|\r/g,""),t.length<=32)return{md5:null,license:t,version:null,isTrial:null};const r=n.length-32,i=n.substring(r),s=n.substring(0,r),[o,a,l]=fi.extractBracketedInformation(n);return{md5:i,license:s,version:o,isTrial:a,type:l}}getLicenseDetails(t){const n=fi.chartsLicenseManager?"BOTH":"GRID";if(!t?.length)return{licenseKey:t,valid:!1,missing:!0,currentLicenseType:n};const r=fi.getGridReleaseDate(),{md5:i,license:s,version:o,isTrial:a,type:l}=fi.extractLicenseComponents(t);let c=i===this.md5.md5(s)&&!t.includes("For_Trialing_ag-Grid_Only"),d,f,p=null,v=!1,y;function b(){d=p<new Date,f=void 0}if(c&&(p=fi.extractExpiry(s),c=!isNaN(p.getTime()),c))switch(f=r>p,o){case"legacy":case"2":{a&&b();break}case"3":l?.length?(y=l,l!==N0["01"]&&l!==N0["0102"]||n==="BOTH"&&y!=="BOTH"?(c=!1,v=!0):a&&b()):c=!1}return c?{licenseKey:t,valid:c,expiry:fi.formatDate(p),expired:f,version:o,isTrial:a,trialExpired:d,incorrectLicenseType:v,currentLicenseType:n,suppliedLicenseType:y}:{licenseKey:t,valid:c,incorrectLicenseType:v,currentLicenseType:n,suppliedLicenseType:y}}isDisplayWatermark(){return this.isForceWatermark()||!this.isLocalhost()&&!this.isWebsiteUrl()&&!!this.watermarkMessage?.length}getWatermarkMessage(){return this.watermarkMessage||""}getHostname(){const n=(this.document.defaultView||window).location,{hostname:r=""}=n;return r}isForceWatermark(){const n=(this.document.defaultView||window).location,{pathname:r}=n;return r?r.includes("forceWatermark"):!1}isWebsiteUrl(){return this.getHostname().match(/^((?:[\w-]+\.)?ag-grid\.com)$/)!==null}isLocalhost(){return this.getHostname().match(/^(?:127\.0\.0\.1|localhost)$/)!==null}static formatDate(t){const n=["January","February","March","April","May","June","July","August","September","October","November","December"],r=t.getDate(),i=t.getMonth(),s=t.getFullYear();return r+" "+n[i]+" "+s}static getGridReleaseDate(){return new Date(parseInt(fi.decode(fi.RELEASE_INFORMATION),10))}static decode(t){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let r="",i,s,o,a,l,c,d,f=0;const p=t.replace(/[^A-Za-z0-9+/=]/g,"");for(;f<p.length;)a=n.indexOf(p.charAt(f++)),l=n.indexOf(p.charAt(f++)),c=n.indexOf(p.charAt(f++)),d=n.indexOf(p.charAt(f++)),i=a<<2|l>>4,s=(l&15)<<4|c>>2,o=(c&3)<<6|d,r=r+String.fromCharCode(i),c!=64&&(r=r+String.fromCharCode(s)),d!=64&&(r=r+String.fromCharCode(o));return r=fi.utf8_decode(r),r}static utf8_decode(t){t=t.replace(/rn/g,"n");let n="";for(let r=0;r<t.length;r++){const i=t.charCodeAt(r);i<128?n+=String.fromCharCode(i):i>127&&i<2048?(n+=String.fromCharCode(i>>6|192),n+=String.fromCharCode(i&63|128)):(n+=String.fromCharCode(i>>12|224),n+=String.fromCharCode(i>>6&63|128),n+=String.fromCharCode(i&63|128))}return n}static setChartsLicenseManager(t){this.chartsLicenseManager=t,this.chartsLicenseManager?.setLicenseKey(this.licenseKey,!0)}static setLicenseKey(t){De(this.licenseKey)&&this.licenseKey!==t&&Eae(291,void 0,"AG Grid: License Key being set multiple times with different values. This can result in an incorrect license key being used."),this.licenseKey=t,this.chartsLicenseManager?.setLicenseKey(t,!0)}static extractBracketedInformation(t){if(!t.includes("["))return["legacy",!1,void 0];const n=t.match(/\[(.*?)\]/g).map(a=>a.replace("[","").replace("]",""));if(!n||n.length===0)return["legacy",!1,void 0];const r=n.filter(a=>a==="TRIAL").length===1,i=n.filter(a=>a.indexOf("v")===0)[0],s=i?i.replace("v",""):"legacy",o=N0[n.filter(a=>N0[a])[0]];return[s,r,o]}centerPadAndOutput(t){const n=this.totalMessageLength-t.length;console.error(t.padStart(n/2+t.length,"*").padEnd(this.totalMessageLength,"*"))}padAndOutput(t,n="*",r=""){console.error(t.padEnd(this.totalMessageLength-r.length,n)+r)}outputInvalidLicenseKey(t,n,r){t?(this.centerPadAndOutput(""),this.centerPadAndOutput(` ${n} License `),this.centerPadAndOutput(" Incompatible License Key "),this.padAndOutput(`* Your license key is for ${r} only and does not cover you for ${n}.`," ","*"),this.padAndOutput(`* To troubleshoot your license key visit ${sz}.`," ","*"),this.centerPadAndOutput(""),this.centerPadAndOutput("")):(this.centerPadAndOutput(""),this.centerPadAndOutput(` ${n} License `),this.centerPadAndOutput(" Invalid License Key "),this.padAndOutput("* Your license key is not valid."," ","*"),this.padAndOutput(`* To troubleshoot your license key visit ${sz}.`," ","*"),this.centerPadAndOutput(""),this.centerPadAndOutput("")),this.watermarkMessage="Invalid License"}outputExpiredTrialKey(t,n,r){this.centerPadAndOutput(""),this.centerPadAndOutput(` ${n} License `),this.centerPadAndOutput(" Trial Period Expired. "),this.padAndOutput(`* Your trial only license for ${r} expired on ${t}.`," ","*"),this.padAndOutput("* Please email info@ag-grid.com to purchase a license."," ","*"),this.centerPadAndOutput(""),this.centerPadAndOutput(""),this.watermarkMessage="Trial Period Expired"}outputMissingLicenseKey(t){this.centerPadAndOutput(""),this.centerPadAndOutput(` ${t} License `),this.centerPadAndOutput(" License Key Not Found "),this.padAndOutput(`* All ${t} features are unlocked for trial.`," ","*"),this.padAndOutput("* If you want to hide the watermark please email info@ag-grid.com for a trial license key."," ","*"),this.centerPadAndOutput(""),this.centerPadAndOutput(""),this.watermarkMessage="For Trial Use Only"}outputExpiredKey(t,n,r,i){this.centerPadAndOutput(""),this.centerPadAndOutput(` ${r} License `),this.centerPadAndOutput(" Incompatible Software Version "),this.padAndOutput(`* Your license key works with versions${i==""?"":` of ${i}`} released before ${t}.`," ","*"),this.padAndOutput(`* The version you are trying to use was released on ${n}.`," ","*"),this.padAndOutput("* Please contact info@ag-grid.com to renew your license key."," ","*"),this.centerPadAndOutput(""),this.centerPadAndOutput(""),this.watermarkMessage="License Expired"}};rQ.RELEASE_INFORMATION="MTc2MTIyODQxNDc2OA==";var O0=rQ,BHe='.ag-watermark{bottom:20px;color:#9b9b9b;opacity:.7;position:absolute;transition:opacity 1s ease-out 3s;&:before{background-image:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMDkiIGhlaWdodD0iMzYiIGZpbGw9Im5vbmUiIHZpZXdCb3g9IjAgMCAyMDkgMzYiPjxwYXRoIGZpbGw9IiM5YjliOWIiIGQ9Ik0xOTIuOTkzIDIzLjY1OHYtNy45NDZoLTEzLjU0MWwtNy45NDcgNy45NDZ6TTIwOC4yNSAzLjk1aC0xNi45NzRsLTguMDEgNy45NDdoMjQuOTg0ek0xNjMuNjIyIDMxLjYwNWw0LjA2OS00LjA2OWgxMy43MzJ2Ny45NDdoLTE3LjgwMXoiLz48cGF0aCBmaWxsPSIjOWI5YjliIiBkPSJNMTY2LjYxIDE5Ljc4aDguNzczbDguMDEtNy45NDZIMTY2LjYxek0xNTcuMDExIDMxLjYwNWg2LjYxMWw3Ljg4My03Ljk0N2gtMTQuNDk0ek0xOTEuMjc2IDMuOTVsLTQuMDY4IDQuMDdIMTYxLjI3Vi4wNzJoMzAuMDA2ek0yMC44NCAzMC4yMDZIOC4zNzhsLTIuMTYyIDUuMzRILjc1TDEyLjI1NyA4LjU5Mmg0Ljc2OEwyOC41MyAzNS41NDZoLTUuNTN6bS0xLjcxNy00LjI2TDE0LjYwOSAxNC45NWwtNC41MTQgMTAuOTk4ek0xMDQuNDM3IDE4LjUwOWMxLjU4OS0yLjM1MiA1LjU5NC0yLjYwNyA3LjI0Ny0yLjYwN3Y0LjU3OGMtMi4wMzQgMC00LjA2OS4wNjMtNS4yNzcuOTUzLTEuMjA3Ljg5LTEuODQzIDIuMDk4LTEuODQzIDMuNTZ2MTAuNTUzaC00Ljk1OVYxNS45MDJoNC43Njh6TTExOS4zNzYgMTUuOTAyaC00Ljk1OHYxOS42NDRoNC45NTh6TTExOS4zNzYgNy4xM2gtNC45NTh2NS44NDhoNC45NTh6TTE0My45NzkgNy4xM3YyOC40MTZoLTQuNzY4bC0uMTI3LTIuOTg4YTguMyA4LjMgMCAwIDEtMi42NyAyLjQ4Yy0xLjA4MS41NzItMi40MTYuODktMy45NDIuODktMS4zMzUgMC0yLjYwNi0uMjU1LTMuNjg3LS43LTEuMTQ0LS41MDgtMi4xNjItMS4xNDQtMi45ODgtMi4wMzRhOS42IDkuNiAwIDAgMS0xLjk3MS0zLjE3OWMtLjUwOC0xLjIwNy0uNjk5LTIuNjA2LS42OTktNC4xMzJzLjI1NC0yLjkyNC42OTktNC4xOTZjLjUwOS0xLjI3MSAxLjE0NS0yLjM1MiAxLjk3MS0zLjI0MnMxLjg0NC0xLjU4OSAyLjk4OC0yLjA5OCAyLjM1Mi0uNzYzIDMuNjg3LS43NjNjMS41MjYgMCAyLjc5Ny4yNTUgMy44NzguODI3czEuOTcxIDEuMzM1IDIuNjcgMi40MTZWNy4xOTNoNC45NTl6bS0xMC40MjYgMjQuNTM4YzEuNjUzIDAgMi45MjQtLjU3MiAzLjk0MS0xLjY1M3MxLjUyNi0yLjU0MyAxLjUyNi00LjMyMy0uNTA5LTMuMTc4LTEuNTI2LTQuMzIyYy0xLjAxNy0xLjA4MS0yLjI4OC0xLjY1My0zLjk0MS0xLjY1My0xLjU5IDAtMi45MjUuNTcyLTMuODc4IDEuNjUzLTEuMDE3IDEuMDgtMS41MjYgMi41NDMtMS41MjYgNC4zMjIgMCAxLjc4LjUwOSAzLjE4IDEuNTI2IDQuMjYgMS4wMTcgMS4xNDQgMi4yODggMS43MTYgMy44NzggMS43MTZNNTcuMjAyIDIwLjM1M0g0NC45MzN2NC4yNTloNi45OTNjLS4xOSAyLjE2MS0xLjAxNyAzLjgxNC0yLjQxNiA1LjE1LTEuMzk4IDEuMjctMy4xNzggMS45MDYtNS40NjcgMS45MDYtMS4yNzEgMC0yLjQ4LS4yNTQtMy40OTYtLjY5OWE3IDcgMCAwIDEtMi43MzQtMS45N2MtLjc2My0uODI3LTEuMzM1LTEuODQ0LTEuNzgtMy4wNTJzLS42MzYtMi40OC0uNjM2LTMuOTQyLjE5LTIuNzMzLjYzNi0zLjk0MWMuMzgxLTEuMjA4IDEuMDE3LTIuMTYyIDEuNzgtMy4wNTIuNzYzLS44MjYgMS42NTMtMS40NjIgMi43MzMtMS45N2E5LjEgOS4xIDAgMCAxIDMuNTYtLjdxNC4wMDUgMCA2LjEwMyAxLjkwN2wzLjMwNi0zLjMwNWMtMi40OC0xLjkwNy01LjY1OC0yLjkyNS05LjQwOS0yLjkyNS0yLjA5NyAwLTQuMDA0LjMxOC01LjcyMSAxLjAxOC0xLjcxNi42OTktMy4xNzkgMS41ODktNC4zODYgMi43OTdBMTIuMSAxMi4xIDAgMCAwIDMxLjIgMTYuMjJjLS42MzUgMS43MTctLjk1MyAzLjYyNC0uOTUzIDUuNjU4cy4zMTggMy45NDIgMS4wMTcgNS42NThjLjcgMS43MTcgMS41OSAzLjE3OSAyLjc5NyA0LjM4N2ExMi4xIDEyLjEgMCAwIDAgNC4zODcgMi43OTdjMS43MTYuNyAzLjYyMyAxLjAxNyA1LjY1NyAxLjAxNyAyLjAzNSAwIDMuODc4LS4zMTggNS41MzEtMS4wMTcgMS42NTMtLjcgMy4wNTItMS41OSA0LjE5Ni0yLjc5N3ExLjcxNi0xLjgxMiAyLjY3LTQuMzg3Yy42MzYtMS43MTYuOTU0LTMuNjIzLjk1NC01LjY1OHYtLjgyNmMtLjE5MS0uMTI3LS4yNTUtLjQ0NS0uMjU1LS43TTk1Ljk4MiAyMC4zNTNoLTEyLjI3djQuMjU5aDYuOTkzYy0uMTkgMi4xNjEtMS4wMTcgMy44MTQtMi40MTYgNS4xNS0xLjM5OCAxLjI3LTMuMTc4IDEuOTA2LTUuNDY3IDEuOTA2LTEuMjcxIDAtMi40OC0uMjU0LTMuNDk2LS42OTlhNyA3IDAgMCAxLTIuNzM0LTEuOTdjLS43NjMtLjgyNy0xLjMzNS0xLjg0NC0xLjc4LTMuMDUycy0uNjM2LTIuNDgtLjYzNi0zLjk0Mi4xOS0yLjczMy42MzYtMy45NDFjLjM4MS0xLjIwOCAxLjAxNy0yLjE2MiAxLjc4LTMuMDUyLjc2My0uODI2IDEuNjUzLTEuNDYyIDIuNzM0LTEuOTdhOS4xIDkuMSAwIDAgMSAzLjU2LS43cTQuMDA1IDAgNi4xMDMgMS45MDdsMy4zMDUtMy4zMDVjLTIuNDc5LTEuOTA3LTUuNjU4LTIuOTI1LTkuNDA4LTIuOTI1LTIuMDk4IDAtNC4wMDUuMzE4LTUuNzIyIDEuMDE4LTEuNzE2LjY5OS0zLjE3OCAxLjU4OS00LjM4NiAyLjc5N2ExMi4xIDEyLjEgMCAwIDAtMi43OTcgNC4zODZjLS42MzYgMS43MTctLjk1NCAzLjYyNC0uOTU0IDUuNjU4cy4zMTggMy45NDIgMS4wMTcgNS42NThjLjcgMS43MTcgMS41OSAzLjE3OSAyLjc5NyA0LjM4N2ExMi4xIDEyLjEgMCAwIDAgNC4zODcgMi43OTdjMS43MTYuNyAzLjYyMyAxLjAxNyA1LjY1OCAxLjAxNyAyLjAzNCAwIDMuODc4LS4zMTggNS41My0xLjAxNyAxLjY1My0uNyAzLjA1Mi0xLjU5IDQuMTk2LTIuNzk3cTEuNzE4LTEuODEyIDIuNjctNC4zODdjLjYzNi0xLjcxNi45NTQtMy42MjMuOTU0LTUuNjU4di0uODI2Yy0uMTktLjEyNy0uMjU1LS40NDUtLjI1NS0uNyIvPjwvc3ZnPg==");background-repeat:no-repeat;background-size:170px 40px;content:"";display:block;height:40px;width:170px}}:where(.ag-ltr) .ag-watermark{right:25px}:where(.ag-rtl) .ag-watermark{left:25px}.ag-watermark-text{font-family:Impact,sans-serif;font-size:19px;font-weight:700;opacity:.5}:where(.ag-ltr) .ag-watermark-text{padding-left:.7rem}:where(.ag-rtl) .ag-watermark-text{padding-right:.7rem}',HHe={tag:"div",cls:"ag-watermark",children:[{tag:"div",ref:"eLicenseTextRef",cls:"ag-watermark-text"}]},zHe=class extends yt{constructor(){super(HHe),this.eLicenseTextRef=Ee,this.registerCSS(BHe)}wireBeans(e){this.licenseManager=e.licenseManager}postConstruct(){const e=this.shouldDisplayWatermark();this.setDisplayed(e),e&&(this.eLicenseTextRef.textContent=this.licenseManager.getWatermarkMessage(),window.setTimeout(()=>this.addCss("ag-opacity-zero"),0),window.setTimeout(()=>this.setDisplayed(!1),5e3))}shouldDisplayWatermark(){return this.licenseManager.isDisplayWatermark()}},GHe={selector:"AG-WATERMARK",component:zHe},VHe=class extends le{constructor(){super(...arguments),this.beanName="licenseManager"}postConstruct(){this.validateLicense()}validateLicense(){this.licenseManager=new O0(Wn(this.beans)),this.licenseManager.validateLicense()}static getLicenseDetails(e){return new O0(null).getLicenseDetails(e)}getWatermarkSelector(){return GHe}isDisplayWatermark(){return this.licenseManager.isDisplayWatermark()}getWatermarkMessage(){return this.licenseManager.getWatermarkMessage()}static setLicenseKey(e){O0.setLicenseKey(e)}static setChartsLicenseManager(e){O0.setChartsLicenseManager(e)}},ep="34.3.1",ZN={moduleName:"EnterpriseCore",version:ep,beans:[VHe],icons:{accordionOpen:"tree-open",accordionClosed:"tree-closed",accordionIndeterminate:"tree-indeterminate",close:"cross",cancel:"cancel",maximize:"maximize",minimize:"minimize",columnDrag:"grip"},dependsOn:[]};function jM(e,t){if(e.sibling)return;const n=u7(e,t);n.footer=!0,n.setRowTop(null),n.setRowIndex(null),n.oldRowTop=null,n.id="rowGroupFooter_"+e.id,n.sibling=e,e.sibling=n}function WHe(e){e.sibling&&(e.sibling.setRowTop(null),e.sibling.setRowIndex(null),e.sibling=void 0)}Object.fromEntries(L2.map(e=>[e,e.toLowerCase()]));var UHe=class extends le{addExpandedCss(e,t){t.isExpandable()&&(e.push("ag-row-group"),e.push(t.expanded?"ag-row-group-expanded":"ag-row-group-contracted"))}getRowExpandedListeners(e){const{rowNode:t}=e,n=this.updateExpandedCss.bind(this,e,t);return{expandedChanged:n,hasChildrenChanged:n}}setExpanded(e,t,n,r){if(e.expanded===t)return;e.expanded=t,e.dispatchRowEvent("expandedChanged");const i={...c7(e,this.gos,"rowGroupOpened"),expanded:t,event:n||null};this.dispatchExpandedEvent(i,r)}isExpandable(e){return e.footer?!1:this.beans.colModel.isPivotMode()?e.hasChildren()&&!e.leafGroup:e.hasChildren()||e.master}updateExpandedCss(e,t){const n=t.isExpandable(),r=t.expanded==!0;e.forEachGui(void 0,i=>{const s=i.rowComp;s.toggleCss("ag-row-group",n),s.toggleCss("ag-row-group-expanded",n&&r),s.toggleCss("ag-row-group-contracted",n&&!r),Zg(i.element,n&&r)})}dispatchStateUpdatedEvent(){this.eventSvc.dispatchEvent({type:"rowExpansionStateChanged"})}},$He=class extends UHe{constructor(){super(...arguments),this.beanName="expansionSvc",this.events=null,this.dispatchExpandedDebounced=null}destroy(){super.destroy(),this.events=null,this.dispatchExpandedDebounced=null}setExpansionState(e){const t=new Set(e.expandedRowGroupIds);this.beans.rowModel.forEachNode(n=>{const r=n.id;r&&(n.expanded=t.has(r))}),this.onGroupExpandedOrCollapsed()}getExpansionState(){const e=[],t=[];return this.beans.rowModel.forEachNode(n=>{const r=n.id;r&&(n.expanded?e.push(r):t.push(r))}),{expandedRowGroupIds:e,collapsedRowGroupIds:t}}expandAll(e){const{gos:t,rowModel:n,colModel:r,eventSvc:i}=this.beans,s=t.get("treeData"),o=r.isPivotActive(),a=c=>{if(c)for(const d of c){const f=()=>{d.expanded=e,a(d.childrenAfterGroup)};if(d.master){f();continue}if(s){De(d.childrenAfterGroup)&&f();continue}if(o){!d.leafGroup&&f();continue}d.group&&f()}},l=n.rootNode;l&&a(l.childrenAfterGroup),this.onGroupExpandedOrCollapsed(),i.dispatchEvent({type:"expandOrCollapseAll",source:e?"expandAll":"collapseAll"})}onGroupExpandedOrCollapsed(){this.dispatchStateUpdatedEvent(),this.beans.rowModel.refreshModel({step:"map"})}setDetailsExpansionState(e){const t=this.getExpansionState(),n=t.collapsedRowGroupIds.length===0;if(t.expandedRowGroupIds.length===0!==n)return n?e.expandAll():e.collapseAll()}dispatchExpandedEvent(e,t){if((this.events??(this.events=[])).push(e),t){this.dispatchExpandedEvents();return}let n=this.dispatchExpandedDebounced;if(!n){if(!this.isAlive())return;n=this.debounce(()=>this.dispatchExpandedEvents()),this.dispatchExpandedDebounced=n}n()}dispatchExpandedEvents(){const{eventSvc:e,rowRenderer:t}=this.beans,n=this.events,r=n?.length;if(!r)return;this.events=null;const i=new Array(r);for(let s=0;s<r;++s)i[s]=n[s].node,e.dispatchEvent(n[s]);this.dispatchStateUpdatedEvent(),t.refreshCells({rowNodes:i})}debounce(e){const t=this.beans.animationFrameSvc;if(!t)return()=>window.setTimeout(e,0);let n=!1;return()=>{if(!t.active){window.setTimeout(e,0);return}n||(n=!0,t.addDestroyTask(()=>{n=!1,e()}))}}};function qHe(e){let t=e.get("groupHideParentOfSingleChild");return t||(t=e.get("groupRemoveSingleChildren"),!t&&e.get("groupRemoveLowestSingleChildren")&&(t="leafGroupsOnly")),{groupHideParentOfSingleChild:t,isGroupMultiAutoColumn:kae(e),hideOpenParents:e.get("groupHideOpenParents"),grandTotalRow:gA(e),groupTotalRow:Tae(e)}}function KHe(e,t,n){return e.groupHideParentOfSingleChild===!0&&n&&t.childrenAfterGroup.length===1}function YHe(e,t,n){return e.groupHideParentOfSingleChild==="leafGroupsOnly"&&n&&t.leafGroup&&t.childrenAfterGroup.length===1}function QHe(e,t,n,r,i,s){const o=r&&!n,a=r&&t.leafGroup,l=e.hideOpenParents&&t.expanded&&!t.master&&!a;return!o&&!l&&!i&&!s}var XHe=class extends le{constructor(){super(...arguments),this.beanName="flattenStage",this.step="map",this.refreshProps=["groupHideParentOfSingleChild","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","groupTotalRow","masterDetail"]}execute(e){const t=e.rowNode,n=[],r=this.beans.colModel.isPivotMode(),i=r&&t.leafGroup&&t.aggData,s=i?[t]:t.childrenAfterSort,o=qHe(this.gos);this.recursivelyAddToRowsToDisplay(o,s,n,r,0);const a=n.length>0,l=o.grandTotalRow;if(!i&&a&&l)if(jM(t,this.beans),l==="pinnedBottom"||l==="pinnedTop")this.beans.pinnedRowModel?.setGrandTotalPinned(l==="pinnedBottom"?"bottom":"top");else{const d=l==="top";this.addRowNodeToRowsToDisplay(o,t.sibling,n,0,d)}return n}recursivelyAddToRowsToDisplay(e,t,n,r,i){if(!t?.length)return;const s=this.beans.masterDetailSvc;for(let o=0;o<t.length;o++){const a=t[o],l=a.hasChildren(),c=KHe(e,a,l),d=YHe(e,a,l);if(QHe(e,a,l,r,c,d)&&this.addRowNodeToRowsToDisplay(e,a,n,i),!(r&&a.leafGroup))if(l){const p=c||d;if(a.expanded||p){const v=e.groupTotalRow({node:a});v||WHe(a);const y=p?i:i+1;v==="top"&&(jM(a,this.beans),this.addRowNodeToRowsToDisplay(e,a.sibling,n,y));const b=s?.getDetail(a);b&&this.addRowNodeToRowsToDisplay(e,b,n,i),this.recursivelyAddToRowsToDisplay(e,a.childrenAfterSort,n,r,y),v==="bottom"&&(jM(a,this.beans),this.addRowNodeToRowsToDisplay(e,a.sibling,n,y))}}else{const p=s?.getDetail(a);p&&this.addRowNodeToRowsToDisplay(e,p,n,i)}}}addRowNodeToRowsToDisplay(e,t,n,r,i){i?n.unshift(t):n.push(t),t.setUiLevel(e.isGroupMultiAutoColumn?0:r)}},JHe=class extends le{constructor(){super(...arguments),this.beanName="groupStage",this.step="group",this.refreshProps=["groupAllowUnbalanced","groupDefaultExpanded","groupDisplayType","groupHideOpenParents","initialGroupOrderComparator","treeData","treeDataChildrenField","treeDataParentIdField"],this.treeData=!1,this.hasTreeData=!1,this.needReset=!1,this.nested=!1,this.strategy=void 0}postConstruct(){const e=this.gos;e.isModuleRegistered("TreeData")&&(this.hasTreeData=!0,this.treeData=!!e.get("treeData"))}destroy(){this.strategy=this.destroyBean(this.strategy),super.destroy()}getNode(e){return this.strategy?.getNode(e)}getNestedDataGetter(){return this.getStrategy()?.nestedDataGetter}onPropChange(e){const t=this.gos,n=this.strategy?.nestedDataGetter;if(e.has("treeData")){const r=!!t.get("treeData")&&this.hasTreeData;this.treeData!==r&&(this.treeData=r,this.needReset=!0,this.strategy=this.destroyBean(this.strategy))}return this.strategy?.onPropChange?.(e),this.getNestedDataGetter()!==n}extractData(){const e=this.beans.rowModel.rootNode,t=this.nested?e?.childrenAfterGroup:e?._leafs;if(!t)return this.gos.get("rowData")??[];const n=t.length,r=new Array(n);let i=0;for(let s=0;s<n;++s){const o=t[s].data;o!=null&&(r[i++]=o)}return r.length=i,r}execute(e){const t=this.getStrategy(),n=!!t?.nestedDataGetter,r=this.needReset;return this.nested=n,r&&(this.needReset=!1,eze(e.rowNode,!n)),t?t.execute(e)||r:void 0}loadLeafs(e){return e.footer?ZHe(e):oC(e)}getStrategy(){let e=this.strategy;return e!==void 0&&this.isAlive()||(e=this.beans.registry.createDynamicBean(this.treeData?"treeGroupStrategy":"groupStrategy",!1)??null,this.strategy=e&&this.createBean(e)),e}},ZHe=e=>{const t=e.sibling;if(!t)return null;const n=t._leafs;return n!==void 0?n:oC(t)},oC=e=>{const t=e.childrenAfterGroup,n=t?.length;if(e._leafs=null,!n)return null;let r;const i=n===1?t[0]:null;if(i?.group&&i.sourceRowIndex<0)r=i._leafs,r===void 0&&(r=oC(i));else if(e.leafGroup)r=t;else{r=[];for(let s=0;s<n;++s){const o=t[s];if(o.sourceRowIndex>=0&&r.push(o),!o.group)continue;let a=o._leafs;if(a===void 0&&(a=oC(o)),a)for(let l=0,c=a.length;l<c;++l)r.push(a[l])}}return e._leafs=r,r},eze=(e,t)=>{const n=e._leafs,r=e.sibling;e.treeNodeFlags=0,e.childrenAfterGroup=n,e.childrenMapped=null,e.groupData=null,r&&(r.childrenAfterGroup=e.childrenAfterGroup,r.childrenAfterAggFilter=e.childrenAfterAggFilter,r.childrenAfterFilter=e.childrenAfterFilter,r.childrenAfterSort=e.childrenAfterSort,r.childrenMapped=null);for(let i=0,s=n.length??0;i<s;++i){const o=n[i],a=o.sibling;o._leafs=void 0,oz(o),a&&oz(a),o.parent=e,t&&(o.treeParent=null),o.group=!1,o.updateHasChildren()}e.updateHasChildren()},oz=e=>{e.key=null,e.treeNodeFlags=0,e.allChildrenCount=null,e.childrenAfterGroup=null,e.childrenAfterAggFilter=null,e.childrenAfterFilter=null,e.childrenAfterSort=null,e.childrenMapped=null,e.level=0,e.groupData&&(e.groupData=null)};function az(e,t,n){let r=e;const i=r.level-t.level;if(i<=0||!n.get("groupHideOpenParents"))return!1;for(let o=0;o<i;o++){if(!(r.parent?.getFirstChild()===r))return!1;r=r.parent}return r===t}var tze=(e,t,n,r=t.group)=>{const i=e.gos,s=r&&i.get("isGroupOpenByDefault");if(!s){const a=i.get("groupDefaultExpanded");return a===-1||n<a}const o={api:e.gridApi,context:e.gridOptions.context,rowNode:t,field:t.field,key:t.key,level:n,rowGroupColumn:t.rowGroupColumn};return s(o)==!0},iQ=class extends le{constructor(){super(...arguments),this.indentClass=null}init(e,t,n,r,i,s,o){this.params=o,this.eGui=t,this.eCheckbox=n,this.eExpanded=r,this.eContracted=i,this.comp=e,this.compClass=s;const{node:a,column:l}=o;if(this.node=a,this.displayedNode=a,!this.isEmbeddedRowMismatch()){if(a.footer){this.initFooterCell();return}if(!l){this.initFullWidthCell();return}this.displayedNode=this.beans.showRowGroupColValueSvc?.getDisplayedNode(a,l)??this.node,this.setupExpand(),this.setupCheckbox(),this.addGroupValue(),this.setupIndent()}}initFooterCell(){const{node:e}=this.params;this.addGroupValue(),this.setupIndent(),e.level===-1||this.comp.toggleCss("ag-row-group-leaf-indent",!0)}initFullWidthCell(){const e=()=>{const{rowDragSvc:t}=this.beans;if(!this.params.rowDrag||!t)return;const n=t.createRowDragComp(()=>this.params.value,this.params.node);this.createManagedBean(n),this.eGui.insertAdjacentElement("afterbegin",n.getGui())};this.setupExpand(),e(),this.setupCheckbox(),this.addGroupValue(),this.setupIndent()}getCellAriaRole(){const e=this.params.colDef?.cellAriaRole,t=this.params.column?.getColDef().cellAriaRole;return e||t||"gridcell"}isEmbeddedRowMismatch(){if(!this.params.fullWidth||!this.gos.get("embedFullWidthRows"))return!1;const{visibleCols:e}=this.beans,t=this.params.pinned==="left",n=this.params.pinned==="right",r=!t&&!n;return this.gos.get("enableRtl")?e.isPinningLeft()?!n:!r:e.isPinningLeft()?!t:!r}addGroupValue(){const{params:{value:e,valueFormatted:t}}=this,n=this.getInnerCompDetails();this.comp.setInnerRenderer(n,t??e??null)}setupExpand(){const{colModel:e}=this.beans,{eGridCell:t,column:n,suppressDoubleClickExpand:r}=this.params,i=(c,d)=>{const f=$i(c,this.beans,null);f&&(d.appendChild(f),this.addDestroyFunc(()=>f.remove()))};i("groupExpanded",this.eExpanded),i("groupContracted",this.eContracted);const s=this.comp,o=()=>{if(!this.isExpandable())return;const d=this.displayedNode.expanded;s.setExpandedDisplayed(d),s.setContractedDisplayed(!d),Zg(t,!!this.displayedNode.expanded)},a=()=>{const c=this.isExpandable();s.toggleCss("ag-cell-expandable",c),s.toggleCss("ag-row-group",c);const d=!c&&e.isPivotMode();s.toggleCss("ag-pivot-leaf-group",d);const f=!e.isPivotMode()&&(!this.displayedNode.footer||this.displayedNode.level!==-1);s.toggleCss("ag-row-group-leaf-indent",!c&&f);const p=this.getChildCount(),v=p>0?`(${p})`:"";s.setChildCount(v),c?o():(s.setExpandedDisplayed(!1),s.setContractedDisplayed(!1),Loe(t))};(()=>{!(n?.isCellEditable(this.displayedNode)&&this.gos.get("enableGroupEdit"))&&!r&&this.addManagedListeners(t,{dblclick:this.onCellDblClicked.bind(this)}),this.addManagedListeners(this.eExpanded,{click:this.onExpandClicked.bind(this)}),this.addManagedListeners(this.eContracted,{click:this.onExpandClicked.bind(this)}),this.addManagedListeners(t,{keydown:this.onKeyDown.bind(this)}),this.addManagedListeners(this.displayedNode,{allChildrenCountChanged:a,masterChanged:a,groupChanged:a,hasChildrenChanged:a,expandedChanged:o})})(),a()}getInnerCompDetails(){const{userCompFactory:e,findSvc:t}=this.beans,n=this.params;if(n.fullWidth){const l=this.gos.get("groupRowRendererParams"),c=$y(e,l,n);return c||(t?.isMatch(n.node,null)?$y(e,{...l,innerRenderer:"agFindCellRenderer"},n):void 0)}const r=l=>l&&l.componentClass==this.compClass,i=$y(e,n,n);if(i&&!r(i))return i;const{displayedNode:{rowGroupColumn:s}}=this,o=s?.colDef,a=s&&n.column?.isRowGroupDisplayed(s.getId());if(o&&a){const l=Vw(e,o,n);if(l)if(r(l)){if(o?.cellRendererParams?.innerRenderer)return $y(e,o.cellRendererParams,n)}else return l}if(t?.isMatch(n.node,n.column))return Vw(e,{...o??n.colDef,cellRenderer:"agFindCellRenderer"},n)}getChildCount(){const{column:e,suppressCount:t}=this.params;if(t)return 0;const{allChildrenCount:n,rowGroupColumn:r}=this.displayedNode;return!((n??0)>0&&(!r||!e||e?.isRowGroupDisplayed(r.getId())))||this.gos.get("showOpenedGroup")&&this.displayedNode!==this.node&&!az(this.node,this.displayedNode,this.gos)?0:n??0}isExpandable(){const{node:e,column:t,colDef:n}=this.params;if(!this.displayedNode.isExpandable()||e.rowPinned)return!1;if(!t)return!0;if(e.hasChildren()&&n){const{showRowGroup:s}=n;if(!s)return!1;if(s===!0)return!0}return e===this.displayedNode?e.rowGroupColumn&&t?.isRowGroupDisplayed(e.rowGroupColumn.getId())?!0:e.master?n?.showRowGroup===!0||n?.showRowGroup==null:!1:az(this.node,this.displayedNode,this.gos)}setupIndent(){const{suppressPadding:e,node:t,colDef:n}=this.params;if(e)return;const r=()=>{let i=t.uiLevel;n&&n.showRowGroup!==!0&&(i=0);const s="ag-row-group-indent-"+i;s!==this.indentClass&&(this.indentClass&&this.comp.toggleCss(this.indentClass,!1),this.indentClass=s,this.comp.toggleCss(s,!0),this.eGui.style.setProperty("--ag-indentation-level",String(i)))};this.addManagedListeners(t,{uiLevelChanged:r.bind(this)}),r()}setupCheckbox(){const{node:e}=this.params;!e.footer&&!e.rowPinned&&!e.detail&&(this.addManagedPropertyListener("rowSelection",({currentValue:n,previousValue:r})=>{const i=typeof n=="object"?n:void 0,s=typeof r=="object"?r:void 0;i?.checkboxLocation!==s?.checkboxLocation&&(this.destroyCheckbox(),this.addCheckbox())}),this.addCheckbox())}addCheckbox(){const{selectionSvc:e}=this.beans;if(!e||!gc(this.gos))return;const{node:t,column:n}=this.params,r=this.gos.get("rowSelection"),i=im(r);if(i==="selectionColumn")return;if(i==="autoGroupColumn"){const c=n?.getColDef().showRowGroup!=null,d=!n&&t.group;if(!(c||d))return}const s=typeof r=="object"?_u(r):this.params.checkbox;if(!(typeof s=="function"||s===!0))return;if(typeof n?.getColDef().showRowGroup=="string"&&!this.isExpandable()){this.comp.setCheckboxSpacing(!0);return}const l=e.createCheckboxSelectionComponent();this.cbComp=l,this.createBean(l),l.init({rowNode:t,column:n,overrides:{isVisible:s,callbackParams:this.params,removeHidden:!0}}),this.eCheckbox.appendChild(l.getGui()),this.comp.setCheckboxVisible(!0)}destroyCheckbox(){this.comp.setCheckboxSpacing(!1),this.comp.setCheckboxVisible(!1),this.cbComp?.getGui().remove(),this.cbComp=this.destroyBean(this.cbComp)}onExpandClicked(e){Ks(e)||(Mc(e),this.onExpandOrContract(e))}onKeyDown(e){!(e.key===re.ENTER)||this.params.suppressEnterExpand||this.params.column?.isCellEditable(this.params.node)||this.onExpandOrContract(e)}onCellDblClicked(e){if(Ks(e))return;D2(this.eExpanded,e)||D2(this.eContracted,e)||this.onExpandOrContract(e)}onExpandOrContract(e){if(!this.isExpandable())return;const t=this.displayedNode,n=!t.expanded;!n&&t.sticky&&this.beans.ctrlsSvc.getScrollFeature().setVerticalScrollPosition(t.rowTop-t.stickyRowTop),t.setExpanded(n,e)}destroy(){super.destroy(),this.destroyCheckbox()}},nze={tag:"span",cls:"ag-cell-wrapper",children:[{tag:"span",ref:"eExpanded",cls:"ag-group-expanded ag-hidden"},{tag:"span",ref:"eContracted",cls:"ag-group-contracted ag-hidden"},{tag:"span",ref:"eCheckbox",cls:"ag-group-checkbox ag-invisible"},{tag:"span",ref:"eValue",cls:"ag-group-value"},{tag:"span",ref:"eChildCount",cls:"ag-group-child-count"}]},lz=class extends yt{constructor(){super(nze),this.eExpanded=Ee,this.eContracted=Ee,this.eCheckbox=Ee,this.eValue=Ee,this.eChildCount=Ee}init(e){const t={setInnerRenderer:(s,o)=>this.setRenderDetails(s,o),setChildCount:s=>this.eChildCount.textContent=s,toggleCss:(s,o)=>this.toggleCss(s,o),setContractedDisplayed:s=>Wt(this.eContracted,s),setExpandedDisplayed:s=>Wt(this.eExpanded,s),setCheckboxVisible:s=>this.eCheckbox.classList.toggle("ag-invisible",!s),setCheckboxSpacing:s=>this.eCheckbox.classList.toggle("ag-group-checkbox-spacing",s)},n=this.createManagedBean(new iQ),r=!e.colDef,i=this.getGui();n.init(t,i,this.eCheckbox,this.eExpanded,this.eContracted,this.constructor,e),r&&Ka(i,n.getCellAriaRole())}setRenderDetails(e,t){e?e.newAgStackInstance().then(n=>{if(!n)return;const r=()=>this.destroyBean(n);this.isAlive()?(this.eValue.appendChild(n.getGui()),this.addDestroyFunc(r)):r()}):this.eValue.innerText=t}destroy(){this.destroyBean(this.innerCellRenderer),super.destroy()}refresh(){return!1}},rze=".ag-group-checkbox-spacing{width:var(--ag-icon-size)}:where(.ag-ltr) .ag-group-checkbox-spacing{margin-right:var(--ag-cell-widget-spacing)}:where(.ag-rtl) .ag-group-checkbox-spacing{margin-left:var(--ag-cell-widget-spacing)}",ize=class extends le{constructor(e,t){super(),this.createRowCon=e,this.destroyRowCtrls=t,this.stickyTopRowCtrls=[],this.stickyBottomRowCtrls=[],this.extraTopHeight=0,this.extraBottomHeight=0}postConstruct(){this.isClientSide=Xt(this.gos),this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl}),this.resetStickyContainers()}setOffsetTop(e){this.extraTopHeight!==e&&(this.extraTopHeight=e,this.eventSvc.dispatchEvent({type:"stickyTopOffsetChanged",offset:e}))}setOffsetBottom(e){this.extraBottomHeight!==e&&(this.extraBottomHeight=e)}resetOffsets(){this.setOffsetBottom(0),this.setOffsetTop(0)}getLastPixelOfGroup(e){return this.isClientSide?oze(e):sze(e)}getFirstPixelOfGroup(e){return e.footer?e.sibling.rowTop+e.sibling.rowHeight-1:e.hasChildren()?e.rowTop-1:0}updateStickyRows(e){const t=e==="top";let n=0;if(!this.canRowsBeSticky())return this.refreshNodesAndContainerHeight(e,new Set,n);const{rowModel:r,rowRenderer:i,pinnedRowModel:s}=this.beans,o=t?i.firstVisibleVPixel-this.extraTopHeight:i.lastVisibleVPixel-this.extraTopHeight,a=new Set,l=p=>{if(a.add(p),t){const v=this.getLastPixelOfGroup(p),y=o+n+p.rowHeight;v<y?p.stickyRowTop=n+(v-y):p.stickyRowTop=n}else{const v=this.getFirstPixelOfGroup(p),y=o-(n+p.rowHeight);v>y?p.stickyRowTop=n-(v-y):p.stickyRowTop=n}n=0,a.forEach(v=>{const y=v.stickyRowTop+v.rowHeight;n<y&&(n=y)})},c=this.areFooterRowsStickySuppressed(),d=this.gos.get("suppressGroupRowsSticky"),f=p=>{if(!p.displayed)return!1;if(p.footer){if(c===!0||c==="grand"&&p.level===-1||c==="group"&&p.level>-1)return!1;const v=p.sibling.rowIndex?p.sibling.rowIndex+1===p.rowIndex:!1;return e==="bottom"&&v||p.level===-1&&s?.getGrandTotalPinned()?!1:!a.has(p)}return p.isExpandable()?d===!0||e==="bottom"?!1:!a.has(p)&&p.expanded:!1};for(let p=0;p<100;p++){let v=o+n;t||(v=o-n);const y=r.getRowIndexAtPixel(v),b=r.getRow(y);if(b==null)break;const S=this.getStickyAncestors(b).find(R=>(t?R.rowIndex<y:R.rowIndex>y)&&f(R));if(S){l(S);continue}if((t?b.rowTop<v:b.rowTop+b.rowHeight>v)&&f(b)){l(b);continue}break}return t||a.forEach(p=>{p.stickyRowTop=n-(p.stickyRowTop+p.rowHeight)}),this.refreshNodesAndContainerHeight(e,a,n)}areFooterRowsStickySuppressed(){const e=this.gos.get("suppressStickyTotalRow");if(e===!0)return!0;const t=e==="group",n=e==="grand";return t&&n?!0:n?"grand":t?"group":!1}canRowsBeSticky(){const e=ux(this.gos),t=this.areFooterRowsStickySuppressed(),n=this.gos.get("suppressGroupRowsSticky");return e&&(!t||!n)}getStickyAncestors(e){const t=[];let n=e.footer?e.sibling:e.parent;for(;n;)n.sibling&&t.push(n.sibling),t.push(n),n=n.parent;return t.reverse()}checkStickyRows(){const e=this.updateStickyRows("top"),t=this.updateStickyRows("bottom");return e||t}destroyStickyCtrls(){this.resetStickyContainers()}resetStickyContainers(){this.refreshNodesAndContainerHeight("top",new Set,0),this.refreshNodesAndContainerHeight("bottom",new Set,0)}refreshStickyNode(e){const t=new Set;if(this.stickyTopRowCtrls.some(n=>n.rowNode===e)){for(let n=0;n<this.stickyTopRowCtrls.length;n++){const r=this.stickyTopRowCtrls[n].rowNode;r!==e&&t.add(r)}this.refreshNodesAndContainerHeight("top",t,this.topContainerHeight)&&this.checkStickyRows();return}for(let n=0;n<this.stickyBottomRowCtrls.length;n++){const r=this.stickyBottomRowCtrls[n].rowNode;r!==e&&t.add(r)}this.refreshNodesAndContainerHeight("bottom",t,this.bottomContainerHeight)&&this.checkStickyRows()}refreshNodesAndContainerHeight(e,t,n){const r=e==="top",i=r?this.stickyTopRowCtrls:this.stickyBottomRowCtrls,s={},o=[];for(let v=0;v<i.length;v++){const y=i[v].rowNode;if(!t.has(y)){s[y.id]=i[v],y.sticky=!1;continue}o.push(i[v])}const a=new Set;for(let v=0;v<o.length;v++)a.add(o[v].rowNode);const l=[];t.forEach(v=>{a.has(v)||(v.sticky=!0,l.push(this.createRowCon(v,!1,!1)))});let c=!!l.length||o.length!==i.length;r?this.topContainerHeight!==n&&(this.topContainerHeight=n,this.gridBodyCtrl.setStickyTopHeight(n),c=!0):this.bottomContainerHeight!==n&&(this.bottomContainerHeight=n,this.gridBodyCtrl.setStickyBottomHeight(n),c=!0),this.destroyRowCtrls(s,!1);const d=[...o,...l];d.sort((v,y)=>y.rowNode.rowIndex-v.rowNode.rowIndex),r||d.reverse();for(const v of d)v.setRowTop(v.rowNode.stickyRowTop);const f=this.beans.pageBounds;let p=0;if(r){for(const v of t)v.rowIndex<f.getFirstRow()&&(p+=v.rowHeight);p>this.topContainerHeight&&(p=this.topContainerHeight),this.setOffsetTop(p)}else{for(const v of t)v.rowIndex>f.getLastRow()&&(p+=v.rowHeight);p>this.bottomContainerHeight&&(p=this.bottomContainerHeight),this.setOffsetBottom(p)}return c?(r?this.stickyTopRowCtrls=d:this.stickyBottomRowCtrls=d,!0):!1}ensureRowHeightsValid(){let e=!1;const t=n=>{const r=n.rowNode;if(r.rowHeightEstimated){const i=Ya(this.beans,r);r.setRowHeight(i.height),e=!0}};return this.stickyTopRowCtrls.forEach(t),this.stickyBottomRowCtrls.forEach(t),e}};function sze(e){if(e.isExpandable()||e.footer){if(e.master&&e.detailNode)return e.detailNode.rowTop+e.detailNode.rowHeight;if(!e.sibling||Math.abs(e.sibling.rowIndex-e.rowIndex)===1){let n=e.childStore?.getStoreBounds();return e.footer&&(n=e.sibling.childStore?.getStoreBounds()),(n?.heightPx??0)+(n?.topPx??0)}return e.footer?e.rowTop+e.rowHeight:e.sibling.rowTop+e.sibling.rowHeight}return Number.MAX_SAFE_INTEGER}function oze(e){if(e.isExpandable()||e.footer){if(e.footer&&e.rowIndex===0)return Number.MAX_SAFE_INTEGER;if(!e.sibling||Math.abs(e.sibling.rowIndex-e.rowIndex)===1){let r=e.footer?e.sibling:e;for(;r.isExpandable()&&r.expanded;)if(r.master&&r.detailNode)r=r.detailNode;else if(r.childrenAfterSort){if(r.childrenAfterSort.length===0)break;r=Ft(r.childrenAfterSort)}return r.rowTop+r.rowHeight}return e.footer?e.rowTop+e.rowHeight:e.sibling.rowTop+e.sibling.rowHeight}return Number.MAX_SAFE_INTEGER}var aze=class extends le{constructor(){super(...arguments),this.beanName="stickyRowSvc"}createStickyRowFeature(e,t,n){const r=this.gos;if(ux(r)&&Xt(r)||Lo(r))return e.createManagedBean(new ize(t,n))}},lze={moduleName:"GroupCellRenderer",version:ep,userComponents:{agGroupRowRenderer:lz,agGroupCellRenderer:lz},dynamicBeans:{groupCellRendererCtrl:iQ},icons:{groupContracted:"tree-closed",groupExpanded:"tree-open"},css:[rze],dependsOn:[ZN]},cze={moduleName:"ClientSideRowModelHierarchy",version:ep,rowModels:["clientSide"],beans:[JHe,XHe,$He],dependsOn:[ZN]},uze={moduleName:"StickyRow",version:ep,beans:[aze]},sQ=class extends le{constructor(){super(...arguments),this.loadRowDataVersion=0}wireBeans(e){this.environment=e.environment}init(e,t){this.params=t,this.comp=e,t.pinned==null&&(this.setAutoHeightClasses(),this.setupRefreshStrategy(),this.createDetailGrid(),this.loadRowData(),this.addManagedEventListeners({fullWidthRowFocused:this.onFullWidthRowFocused.bind(this)}))}onFullWidthRowFocused(e){const t=this.params,n={rowIndex:t.node.rowIndex,rowPinned:t.node.rowPinned},r={rowIndex:e.rowIndex,rowPinned:e.rowPinned};q7(n,r)&&Rc(this.comp.getGui(),e.fromBelow)}setAutoHeightClasses(){const e=this.gos.get("detailRowAutoHeight"),t=e?"ag-details-row-auto-height":"ag-details-row-fixed-height",n=e?"ag-details-grid-auto-height":"ag-details-grid-fixed-height",r=this.comp;r.toggleCss(t,!0),r.toggleDetailGridCss(n,!0)}setupRefreshStrategy(){const e=this.params.refreshStrategy;if(e=="everything"||e=="nothing"||e=="rows"){this.refreshStrategy=e;return}e!=null&&ve(170,{providedStrategy:e}),this.refreshStrategy="rows"}createDetailGrid(){const{params:e,gos:t}=this;if(Kt(e.detailGridOptions)){ve(171);return}const n=t.get("theme"),r=e.detailGridOptions.theme;r&&r!==n&&ve(267);const i={themeStyleContainer:this.environment.eStyleContainer,...e.detailGridOptions,theme:n};t.get("detailRowAutoHeight")&&(i.domLayout="autoHeight"),this.comp.setDetailGrid(i)}registerDetailWithMaster(e){const{params:t,beans:{selectionSvc:n,findSvc:r,expansionSvc:i}}=this,s=t.node.id,o=t.api,a={id:s,api:e},l=t.node;if(o.isDestroyed())return;o.addDetailGridInfo(s,a),l.detailGridInfo=a;const c=l.parent;r?.registerDetailGrid(l,e);function d(){c&&n?.refreshMasterNodeState(c)}function f({source:v}){if(v==="expandAll")return e.expandAll();if(v==="collapseAll")return e.collapseAll()}function p({node:v,source:y}){v!==c||y==="masterDetail"||e.isDestroyed()||n?.setDetailSelectionState(c,t.detailGridOptions,e)}e.addEventListener("firstDataRendered",()=>{if(e.isDestroyed()||o.isDestroyed())return;n?.setDetailSelectionState(c,t.detailGridOptions,e),e.addEventListener("selectionChanged",d),o.addEventListener("rowSelected",p),e.isModuleRegistered("CsrmSsrmSharedApiModule")&&(o.addEventListener("expandOrCollapseAll",f),i?.setDetailsExpansionState(e))}),this.addManagedListeners(c,{masterChanged:v=>{v.node.master||this.onDestroy(a)}}),this.addDestroyFunc(()=>this.onDestroy(a))}onDestroy(e){const{params:t}=this,n=t.node,r=t.api;n.detailGridInfo===e&&(r.isDestroyed()||r.removeDetailGridInfo(n.id),n.detailGridInfo=null)}loadRowData(){this.loadRowDataVersion++;const e=this.loadRowDataVersion,t=this.params;if(t.detailGridOptions?.rowModelType==="serverSide"){t.node.detailGridInfo?.api?.refreshServerSide({purge:!0});return}const n=t.getDetailRowData;if(!n){ve(172);return}const r=s=>{this.loadRowDataVersion===e&&this.comp.setRowData(s)},i={node:t.node,data:t.node.data,successCallback:r,context:_e(this.gos,{}).context};n(i)}refresh(){switch(this.refreshStrategy){case"nothing":return!0;case"everything":return!1}return this.loadRowData(),!0}},dze=class{constructor(e){this.parentWrapper=e}wrap(e,t,n,r){return this.parentWrapper.wrap(e,t,n,r)}},hze={tag:"div",cls:"ag-details-row"},fze={tag:"div",cls:"ag-details-row",role:"gridcell",children:[{tag:"div",ref:"eDetailGrid",cls:"ag-details-grid",role:"presentation"}]},pze=class extends yt{constructor(){super(...arguments),this.eDetailGrid=Ee}wireBeans(e){this.context=e.context}init(e){this.params=e,this.selectAndSetTemplate();const t={toggleCss:(n,r)=>this.toggleCss(n,r),toggleDetailGridCss:(n,r)=>this.eDetailGrid.classList.toggle(n,r),setDetailGrid:n=>this.setDetailGrid(n),setRowData:n=>this.setRowData(n),getGui:()=>this.eDetailGrid};this.ctrl=this.createManagedBean(new sQ),this.ctrl.init(t,e)}refresh(){return this.ctrl?.refresh()??!1}selectAndSetTemplate(){const e=this.params;if(e.pinned){this.setTemplate(hze);return}const t=()=>{this.setTemplate(fze)};if(Kt(e.template))t();else if(typeof e.template=="string")this.setTemplate(e.template,[]);else if(typeof e.template=="function"){const n=e.template,r=n(e);this.setTemplate(r,[])}else ve(168),t();this.eDetailGrid==null&&ve(169)}setDetailGrid(e){if(!this.eDetailGrid)return;const t=this.context.getBean("frameworkCompWrapper"),n=new dze(t),{frameworkOverrides:r}=this.beans,i=Uve(this.eDetailGrid,e,{frameworkOverrides:r,providedBeanInstances:{frameworkCompWrapper:n},modules:pV(this.params.api.getGridId(),e.rowModelType??"clientSide")});this.detailApi=i,this.ctrl?.registerDetailWithMaster(i),this.addDestroyFunc(()=>{i.destroy()})}setRowData(e){this.detailApi?.setGridOption("rowData",e)}};function yS(e,t){const n=e.masterDetailSvc?.store;return n?t(n):void 0}function gze(e,t,n){yS(e,r=>{r[t]=n})}function mze(e,t){yS(e,n=>{delete n[t]})}function vze(e,t){return yS(e,n=>n[t])}function yze(e,t){yS(e,n=>{let r=0;Object.values(n).forEach(i=>{i&&t(i,r++)})})}var wze=".ag-details-row{width:100%}.ag-details-row-fixed-height{height:100%}.ag-details-grid{width:100%}.ag-details-grid-fixed-height{height:100%}",bze=class extends le{constructor(){super(...arguments),this.beanName="masterDetailSvc",this.store={}}isEnabled(){return!!this.gos.get("masterDetail")}postConstruct(){const e=this.gos;Xt(e)&&(this.enabled=this.isEnabled()),Lo(e)&&this.addEventListeners()}addEventListeners(){const e=r=>{this.setMaster(r.node,!1,!0)};let t;const n=()=>{if(t){for(const r of t)r();t=void 0}this.isEnabled()&&(t=this.addManagedListeners(this.beans.eventSvc,{rowNodeDataChanged:e}))};n(),this.gos.addPropertyEventListener("masterDetail",n)}refreshModel(e){if(e.changedProps){const t=this.isEnabled();if(this.enabled!==t){this.setMasters(null);return}}e.rowDataUpdated&&this.setMasters(e.changedRowNodes)}setMaster(e,t,n){const r=e.master,i=this.isEnabled();let s=i;const o=this.gos,a=o.get("isRowMaster"),l=o.get("treeData");if(i)if(t||n){if(a){const d=e.data;s=!!d&&!!a(d)}}else s=r;const c=this.beans;if(!l)if(s&&t){const d=c.rowGroupColsSvc?.columns.length??0;e.expanded=tze(c,e,d,!1)}else!s&&r&&(e.expanded=!1);s!==r&&(e.master=s,e.dispatchRowEvent("masterChanged"))}setMasters(e){if(this.enabled=this.isEnabled(),e){for(const t of e.updates)this.setMaster(t,!1,!0);for(const t of e.adds)this.setMaster(t,!0,!1)}else{const t=hl(this.beans)?.rootNode?._leafs;if(t)for(let n=0,r=t.length;n<r;++n)this.setMaster(t[n],!0,!1)}}getDetail(e){if(!e.master||!e.expanded)return null;let t=e.detailNode;return t||(t=new Xa(this.beans),t.detail=!0,t.selectable=!1,t.parent=e,De(e.id)&&(t.id="detail_"+e.id),t.data=e.data,t.level=e.level+1,e.detailNode=t,t)}setupDetailRowAutoHeight(e,t){const{gos:n,beans:r}=this;if(!n.get("detailRowAutoHeight"))return;const i=()=>{const o=t.clientHeight;if(o!=null&&o>0){const a=()=>{const{rowModel:l}=this.beans,{rowNode:c}=e;c.setRowHeight(o),(Xt(n)||Lo(n))&&l.onRowHeightChanged()};window.setTimeout(a,0)}},s=so(r,t,i);e.addDestroyFunc(s),i()}destroy(){this.store={},super.destroy()}},Cze={moduleName:"SharedMasterDetail",version:ep,beans:[bze],userComponents:{agDetailCellRenderer:pze},dynamicBeans:{detailCellRendererCtrl:sQ},apiFunctions:{addDetailGridInfo:gze,removeDetailGridInfo:mze,getDetailGridInfo:vze,forEachDetailGridInfo:yze},dependsOn:[ZN,lze,uze],css:[wze]},oQ={moduleName:"MasterDetail",version:ep,dependsOn:[Cze,cze,lU]},xze=["number","category","grouped-category","log","time"];xze.reduce((e,t)=>({...e,[t]:{title:{_enabledFromTheme:!0}}}),{});function aQ(e){return e.map((t,n,r)=>t.map((i,s)=>r.slice(0,n+1).reduce((o,a)=>o+a[s],0)))}function lQ(e){const t=e.map((n,r)=>e.reduce((i,s)=>Math.max(i,s[r]),0));return e.map(n=>n.map((r,i)=>r/t[i]*19))}var cQ=[[1,3,5],[2,6,4],[5,3,1]],Sze=aQ(cQ);lQ(Sze);var Eze=cQ,Dze=aQ(Eze);lQ(Dze);Yo.registerModules([oQ]);const cz=C.forwardRef(({value:e,onClick:t,placeholder:n},r)=>m.jsxs("div",{onClick:t,ref:r,className:"flex items-center justify-between border rounded px-2 py-2 w-40 cursor-pointer bg-white",children:[m.jsx("span",{className:"text-sm",children:e||n}),m.jsx(rn,{className:"w-4 h-4 text-gray-500"})]}));function Rze(){const[e,t]=C.useState([]),[n,r]=C.useState([]),[i,s]=C.useState(new Date),[o,a]=C.useState(new Date),[l,c]=C.useState(null),d=C.useRef(null),f=[{headerName:"DEMO DATE",field:"demo_date",sortable:!0,filter:!0,valueFormatter:y=>{if(!y.value)return"";const b=new Date(y.value),x=String(b.getDate()).padStart(2,"0"),S=String(b.getMonth()+1).padStart(2,"0"),M=b.getFullYear();return`${x}-${S}-${M}`}},{headerName:"TOTAL DEMOS",field:"total_demos",sortable:!0,filter:!0}],p=[{headerName:"NAME",field:"name"},{headerName:"MOBILE",field:"mobile"},{headerName:"EMPLOYEE",field:"employee_name"},{headerName:"STATUS",field:"status"},{headerName:"FOLLOWUP DATE/TIME",field:"followup_datetime",valueFormatter:y=>y.value?new Date(y.value).toLocaleString():""}];C.useEffect(()=>{(async()=>{try{const x=(await me.get("https://crm.softwaresetu.com/api/customers/daily-demos")).data.map((R,T)=>({...R,rowId:T}));t(x);const S=new Date().toISOString().split("T")[0],M=x.filter(R=>R.demo_date===S);r(M)}catch(b){console.error("Error fetching daily demos:",b)}})()},[]),C.useEffect(()=>{if(!i&&!o){const y=new Date().toISOString().split("T")[0],b=e.filter(x=>x.demo_date===y);r(b)}else{const y=e.filter(b=>{const x=new Date(b.demo_date),S=i?new Date(i.setHours(0,0,0,0)):null,M=o?new Date(o.setHours(23,59,59,999)):null;return S&&M?x>=S&&x<=M:S?x>=S:M?x<=M:!0});r(y)}},[i,o,e]);const v=C.useMemo(()=>({detailGridOptions:{columnDefs:p,defaultColDef:{flex:1,resizable:!0},pagination:!0,paginationPageSize:5},getDetailRowData:y=>{y.successCallback(y.data.demo_data||[])}}),[]);return m.jsxs("div",{className:"p-6 bg-gray-50 shadow-md rounded-lg",children:[m.jsx("h2",{className:"text-xl font-bold mb-4",children:"Daily Demo Status"}),m.jsxs("div",{className:"flex items-end gap-4 mb-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium",children:"From Date"}),m.jsx(no,{selected:i,onChange:y=>s(y),customInput:m.jsx(cz,{placeholder:"Select date"}),dateFormat:"dd-MM-yyyy",popperPlacement:"bottom-start"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium",children:"To Date"}),m.jsx(no,{selected:o,onChange:y=>a(y),customInput:m.jsx(cz,{placeholder:"Select date"}),dateFormat:"dd-MM-yyyy",popperPlacement:"bottom-start"})]}),m.jsx("button",{onClick:()=>{s(new Date),a(new Date)},className:"bg-gray-200 px-4 py-2 rounded hover:bg-gray-300",children:"Reset"})]}),m.jsx("div",{className:"ag-theme-alpine",style:{height:650,width:"100%"},children:m.jsx(zt,{ref:d,rowData:n,columnDefs:f,masterDetail:!0,detailCellRendererParams:v,pagination:!0,paginationPageSize:100,onRowClicked:y=>{y.node.setExpanded(!y.node.expanded),c(y.data.rowId)},getRowStyle:y=>y.data.rowId===l?{backgroundColor:"#c4c4c4",borderLeft:"4px solid #22c55e",transition:"background-color 0.3s ease"}:null})})]})}function Mze(){const[e,t]=C.useState(""),[n,r]=C.useState([]),[i,s]=C.useState([]),[o,a]=C.useState(!0),l="https://crm.softwaresetu.com/api",[c,d]=C.useState(null),f=JSON.parse(localStorage.getItem("user"));return console.log(f,"user..."),C.useEffect(()=>{(async()=>{try{a(!0);let y=(await me.get(`${l}/customers/get-status-employee-current`)).data.data||[];if(y=y.map((b,x)=>({...b,rowId:x})),f.role==="employee"){const b=y.filter(x=>x.assigned_to===f.id);r(b)}else r(y);if(y.length>0){const b=["assigned_to","Pending","date"],x=["employee","date","total_today","total_pending","total_lead","Follow_Up"],S=Object.keys(y[0]).filter(R=>!b.includes(R)).map(R=>R==="date"?{headerName:"DATE",field:R,flex:1,valueFormatter:T=>T.value?new Date(T.value).toLocaleString():"-"}:R==="employee"?{headerName:"EMPLOYEE",field:R,width:900,minWidth:600,valueFormatter:T=>T.value?String(T.value).toUpperCase():""}:R==="total_lead"?{headerName:"TOTAL LEAD",field:R,valueFormatter:T=>T.value?String(T.value).toUpperCase():""}:R==="total_today"?{headerName:"WORKING TODAY",field:R,valueFormatter:T=>T.value?String(T.value).toUpperCase():""}:R==="total_pending"?{headerName:"TOTAL PENDING",field:R,valueFormatter:T=>T.value?String(T.value).toUpperCase():""}:{headerName:R.replace(/_/g," ").toUpperCase(),field:R,flex:1}),M=[...x.map(R=>S.find(T=>T.field===R)).filter(Boolean),...S.filter(R=>!x.includes(R.field))];s(M)}else s([])}catch(v){console.error("Error fetching customer status:",v)}finally{a(!1)}})()},[]),m.jsxs("div",{className:"p-6 bg-gray-50 shadow-md rounded-lg",children:[m.jsxs("div",{className:"flex justify-between p-4",children:[m.jsxs("h2",{className:"text-xl font-bold mb-4",children:["Daily Activity Report (",new Date().toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}),")"]}),m.jsx(_r,{value:e,onChange:t})]}),o?m.jsx("p",{className:"text-gray-600",children:"Loading data..."}):n.length===0?m.jsx("p",{className:" font-medium",children:"No data available "}):m.jsx("div",{className:"ag-theme-alpine",style:{height:725},children:m.jsx(zt,{rowData:n,columnDefs:i,pagination:!0,paginationPageSize:100,defaultColDef:{sortable:!0,filter:!0,resizable:!0,minWidth:180,flex:1},suppressHorizontalScroll:!1,quickFilterText:e,onRowClicked:p=>d(p.data.rowId),getRowStyle:p=>p.data.rowId===c?{backgroundColor:"#c4c4c4",borderLeft:"4px solid #22c55e",transition:"background-color 0.3s ease"}:null})})]})}function Tze(){const[e,t]=C.useState(""),[n,r]=C.useState([]),[i,s]=C.useState([]),[o,a]=C.useState(!0),l="https://crm.softwaresetu.com/api",[c,d]=C.useState(null),f=JSON.parse(localStorage.getItem("user"));return console.log(f,"user..."),C.useEffect(()=>{(async()=>{try{a(!0);let y=(await me.get(`${l}/customers/get-status-employee-current-last-pending`)).data.data||[];if(y=y.map((b,x)=>({...b,rowId:x})),f.role==="employee"){const b=y.filter(x=>x.assigned_to===f.id);r(b)}else r(y);if(y.length>0){const b=["rowId","assigned_to","Pending","date","Call_Back_Later","Deal","Pending","language_issue","Using_another_services","Not_reachable_","Not_interested_","Dodds","Call_Diconnected","Call_Back_Later","No_contact_no","Duplicate_Lead","Paid_Customer","Demo_Done","total_pending","total_lead"],x=["employee","date","total_today","total_pending","total_lead","Follow_Up"],S=Object.keys(y[0]).filter(R=>!b.includes(R)).map(R=>R==="date"?{headerName:"DATE",field:R,flex:1,valueFormatter:T=>T.value?new Date(T.value).toLocaleString():"-"}:R==="employee"?{headerName:"EMPLOYEE",field:R,width:300,minWidth:200,maxWidth:400,resizable:!0,valueFormatter:T=>{if(!T.value)return"";const k=String(T.value),P=k.split(" - ");if(P.length>=3){const A=P[0],O=P[2];return`${A} (${O})`.toUpperCase()}return k.toUpperCase()},cellStyle:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},tooltipField:"employee"}:R==="total_lead"?{headerName:"TOTAL LEAD",field:R,valueFormatter:T=>T.value?String(T.value).toUpperCase():""}:R==="total_today"?{headerName:"WORKING TODAY",field:R,valueFormatter:T=>T.value?String(T.value).toUpperCase():""}:R==="total_pending"?{headerName:"TOTAL PENDING",field:R,valueFormatter:T=>T.value?String(T.value).toUpperCase():""}:{headerName:R.replace(/_/g," ").toUpperCase(),field:R,flex:1}),M=[...x.map(R=>S.find(T=>T.field===R)).filter(Boolean),...S.filter(R=>!x.includes(R.field))];s(M)}else s([])}catch(v){console.error("Error fetching customer status:",v)}finally{a(!1)}})()},[]),m.jsxs("div",{className:"p-6 bg-gray-50 shadow-md rounded-lg",children:[m.jsxs("div",{className:"flex justify-between p-4",children:[m.jsxs("h2",{className:"text-xl font-bold mb-4",children:["Daily Activity Report (",new Date().toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}),")"]}),m.jsx(_r,{value:e,onChange:t})]}),o?m.jsx("p",{className:"text-gray-600",children:"Loading data..."}):n.length===0?m.jsx("p",{className:" font-medium",children:"No data available "}):m.jsx("div",{className:"ag-theme-alpine",style:{height:725},children:m.jsx(zt,{rowData:n,columnDefs:i,pagination:!0,paginationPageSize:100,defaultColDef:{sortable:!0,filter:!0,resizable:!0,minWidth:180,flex:1},suppressHorizontalScroll:!1,quickFilterText:e,onRowClicked:p=>d(p.data.rowId),getRowStyle:p=>p.data.rowId===c?{backgroundColor:"#c4c4c4",borderLeft:"4px solid #22c55e",transition:"background-color 0.3s ease"}:null})})]})}Yo.registerModules([Bc]);function kze(){const[e,t]=C.useState(""),{user:n}=tx(),[r,i]=C.useState([]),[s,o]=C.useState([]),[a,l]=C.useState([]),[c,d]=C.useState(null),[f,p]=C.useState({}),[v,y]=C.useState(null),[b,x]=C.useState({}),[S,M]=C.useState([]),[R,T]=C.useState(!1),[k,P]=C.useState(null),[A,O]=C.useState(null),[B,U]=C.useState({}),[_,I]=C.useState(null),[V,F]=C.useState("0"),[L,z]=C.useState(null),j=Rt(),$="https://crm.softwaresetu.com/api",W=C.useRef(),K={defaultColDef:{flex:1,resizable:!0,sortable:!0,filter:!0},singleClickEdit:!0},[H,Y]=C.useState({Demo:0,FollowUp:0,NotPickedCall:0,Deal:0,Interested:0});C.useEffect(()=>{me.get(`${$}/customers/fetch-customer-status`).then(pe=>{const Ce={Demo:0,FollowUp:0,Deal:0,Interested:0};pe.data.data.forEach(je=>{je.status==="Demo"&&Ce.Demo++,je.status==="Follow Up"&&Ce.FollowUp++,je.status==="Deal"&&Ce.Deal++,je.status==="Interested"&&Ce.Interested++}),Y(Ce)}).catch(pe=>{console.error("Error fetching customer status:",pe)})},[]);const Z=C.useMemo(()=>[{headerName:"NAME",field:"name",sortable:!0,filter:!0},{headerName:"MOBILE",field:"mobile",sortable:!0,filter:!0},{headerName:"Comment",field:"comment",minWidth:700,autoHeight:!0,cellRenderer:pe=>m.jsxs("div",{className:"flex items-center justify-between gap-2",children:[m.jsx("span",{className:"truncate max-w-[600px]",children:pe.data.comment}),m.jsx("button",{className:"p-1 text-gray-600 rounded hover:bg-gray-300",onClick:()=>P(pe.data.customer_id),title:"View Comments",children:m.jsx(Si,{size:18})})]})},{headerName:"STATUS",field:"status",editable:!0,cellEditor:"agSelectCellEditor",cellEditorParams:{values:a,popupPosition:"under"}},{headerName:"Status Change",field:"status",width:150,maxWidth:150,cellRenderer:pe=>m.jsxs("div",{className:"flex gap-8 items-center justify-center",children:[m.jsx("button",{className:"p-1 rounded hover:bg-gray-100 flex",onClick:()=>O({customer_id:pe.data.customer_id,currentStatus:pe.value,newStatus:pe.value,batch_id:pe.data.batch_id}),children:m.jsx(ti,{size:14,className:"text-gray-600"})}),m.jsx("span",{class:"border-l border-gray-400 h-6 inline-block"}),m.jsx("button",{className:"p-1 rounded hover:bg-gray-100 flex",onClick:()=>{console.log("Customer ID:",pe.data.customer_id),I({customer_id:pe.data.customer_id})},children:m.jsx(cl,{size:14,className:"text-gray-600"})})]})},{headerName:"CREATED AT",field:"created_at",sortable:!0,filter:!0,valueFormatter:pe=>pe.value?new Date(pe.value).toLocaleString("en-IN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0}):""},{headerName:"UPDATED AT",field:"updated_at",sortable:!0,filter:!0,valueFormatter:pe=>pe.value?new Date(pe.value).toLocaleString("en-IN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0}):""}],[a]);C.useEffect(()=>{(async()=>{try{const Ce=await me.get(`${$}/customers/get-lead-data`);i(Ce.data.filter(je=>je.status==="Deal")),o(Ce.data.filter(je=>je.status==="Deal"))}catch(Ce){console.error("Error fetching lead history:",Ce),be.error("Failed to load leads")}})()},[R]);const X=async()=>{try{const pe=await me.get(`${$}/status`),Ce=pe.data.map(je=>je.name);l(Ce),M(pe.data)}catch(pe){console.error("Error fetching statuses:",pe),be.error("Failed to load statuses")}};C.useEffect(()=>{X()},[R]);const fe=async pe=>{const Ce=pe.newValue?.trim(),oe=S.find(de=>de.name.trim().toLowerCase()===Ce?.toLowerCase())?.id??null;if(pe.colDef.field==="status"&&oe){const{id:de,customer_id:Me}=pe.data,ue=JSON.parse(localStorage.getItem("user"));if(!ue?.id||!ue?.name)return;if(Ce==="Demo"||Ce==="Follow Up"){d({customer_id:Me,status:Ce});return}if(Ce==="Using Another Services"||Ce==="Language Issue"){y({customer_id:Me,status:Ce});return}try{await me.put(`${$}/customers/status/${Me}`,{customer_id:Me,status:Ce,updated_by_id:ue.id,updated_by_name:ue.name,statusid:oe}),T(!R),be.success("Status updated successfully")}catch(Ve){console.error("Error updating status:",Ve),be.error("Failed to update status")}}};return C.forwardRef(({value:pe,onClick:Ce},je)=>m.jsxs("div",{onClick:Ce,ref:je,className:"flex justify-between items-center border border-gray-300 rounded px-3 py-2 w-90 cursor-pointer bg-white",children:[m.jsx("span",{className:pe?"text-black":"text-gray-400",children:pe||"Select date & time"}),m.jsx(rn,{className:"w-5 h-5 text-gray-500 mr-2"})]})),C.useEffect(()=>{if(V!="0"){let pe=s.filter(Ce=>Ce.batch_id==V);i(pe)}else i(s)},[V]),m.jsx(Ic,{role:"admin",children:m.jsxs("div",{className:"bg-gray-50 rounded-md shadow-md p-6",children:[m.jsxs("div",{className:"flex flex-wrap gap-6 justify-center",children:[m.jsxs("div",{className:"bg-white rounded-2xl shadow-lg w-48 h-20 p-4 flex items-center justify-center text-center hover:shadow-2xl transition-shadow duration-300 cursor-pointer",onClick:()=>{j("/admin-demo")},children:[m.jsx(Ir,{className:"w-8 h-8 text-blue-500 mr-3"}),m.jsxs("div",{className:"flex gap-4 items-start",children:[m.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Demo"}),m.jsx("p",{className:"text-xl font-bold text-gray-800",children:H.Demo})]})]}),m.jsxs("div",{className:"bg-white rounded-2xl shadow-lg w-48 h-20 p-4 flex items-center justify-center text-center hover:shadow-2xl transition-shadow duration-300 cursor-pointer",onClick:()=>{j("/admin-follow")},children:[m.jsx(rn,{className:"w-8 h-8 text-green-500 mr-3"}),m.jsxs("div",{className:"flex gap-4 items-start",children:[m.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Followup"}),m.jsx("p",{className:"text-xl font-bold text-gray-800",children:H.FollowUp})]})]}),m.jsxs("div",{className:"bg-white rounded-2xl shadow-lg w-48 h-20 p-4 flex items-center justify-center text-center hover:shadow-2xl transition-shadow duration-300 cursor-pointer",onClick:()=>{j("/admin-interested")},children:[m.jsx($t,{className:"w-8 h-8 text-pink-500 mr-3"}),m.jsxs("div",{className:"flex gap-4 items-start",children:[m.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Interested"}),m.jsx("p",{className:"text-xl font-bold text-gray-800",children:H.Interested})]})]})]}),m.jsxs("div",{className:"flex justify-between p-4",children:[m.jsx("h2",{className:"text-xl font-bold mb-4",children:"Deal"}),m.jsxs("div",{className:"flex gap-4",children:[m.jsx(Mi,{selectedSource:V,setSelectedSource:F}),m.jsx(_r,{value:e,onChange:t})]})]}),m.jsxs("div",{className:"mt-4",children:[m.jsx("div",{className:"ag-theme-alpine",style:{height:596},children:m.jsx(zt,{ref:W,rowData:r,columnDefs:Z,pagination:!0,paginationPageSize:100,onCellValueChanged:fe,gridOptions:K,quickFilterText:e,onRowClicked:pe=>z(pe.data.id),getRowStyle:pe=>pe.data.id===L?{backgroundColor:"#c4c4c4",borderLeft:"4px solid #22c55e",transition:"background-color 0.3s ease"}:null})}),m.jsx(Ri,{statusModalData:A,setStatusModalData:O,statusData:a,statusFullData:S,commentMap:B,setCommentMap:U,dateTimeMap:f,setDateTimeMap:p,setIsChange:T}),m.jsx(Ti,{noteModalData:_,setNoteModalData:I}),k&&m.jsx(ki,{customerId:k,onClose:()=>P(null)})]})]})})}function Aze(){const[e,t]=C.useState({}),[n,r]=C.useState({});console.log();const[i,s]=C.useState({Demo:0,FollowUp:0,Deal:0,Interested:0}),[o,a]=C.useState([]),[l,c]=C.useState([]),[d,f]=C.useState(null),[p,v]=C.useState(null),[y,b]=C.useState(null),[x,S]=C.useState({}),[M,R]=C.useState({}),[T,k]=C.useState(!1),[P,A]=C.useState(""),[O,B]=C.useState("0"),U="https://crm.softwaresetu.com/api",_=Rt();return C.useEffect(()=>{me.get(`${U}/customers/fetch-customer-status`).then(I=>{const V={Demo:0,FollowUp:0,Deal:0,Interested:0};I.data.data.forEach(F=>{F.status==="Demo"&&V.Demo++,F.status==="Follow Up"&&V.FollowUp++,F.status==="Deal"&&V.Deal++,F.status==="Interested"&&V.Interested++}),s(V)}).catch(()=>be.error("Failed to load stats"))},[]),C.useEffect(()=>{(async()=>{try{const F=(await me.get(`${U}/customers/get-lead-data`)).data.filter(z=>z.status?.toLowerCase()==="demo"),L={};F.forEach(z=>{const j=z.followup_datetime?new Date(z.followup_datetime).toLocaleDateString("en-IN",{day:"2-digit",month:"long",year:"numeric"}):"No Date";L[j]||(L[j]=[]),L[j].push(z)}),t(L),r(L)}catch(V){console.error("Error fetching lead history:",V),be.error("Failed to load customer data")}})()},[T]),C.useEffect(()=>{(async()=>{try{const V=await me.get(`${U}/status`),F=V.data.map(L=>L.name);a(F),c(V.data)}catch{be.error("Failed to load statuses")}})()},[]),C.useEffect(()=>{if(O!=="0"){const I={};Object.keys(n).forEach(V=>{const F=n[V].filter(L=>L.batch_id==O);F.length>0&&(I[V]=F)}),t(I)}else t(n)},[O,n]),m.jsxs("div",{className:"p-6 bg-gray-50",children:[m.jsxs("div",{className:"flex flex-wrap gap-6 justify-center mb-6",children:[m.jsxs("div",{className:"bg-white rounded-2xl shadow-lg w-48 h-20 p-4 flex items-center justify-center text-center hover:shadow-2xl transition-shadow duration-300 cursor-pointer",onClick:()=>_("/admin-demo"),children:[m.jsx(Ir,{className:"w-8 h-8 text-blue-500 mr-3"}),m.jsxs("div",{className:"flex gap-4 items-start",children:[m.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Demo"}),m.jsx("p",{className:"text-xl font-bold text-gray-800",children:i.Demo})]})]}),m.jsxs("div",{className:"bg-white rounded-2xl shadow-lg w-48 h-20 p-4 flex items-center justify-center text-center hover:shadow-2xl transition-shadow duration-300 cursor-pointer",onClick:()=>_("/admin-follow"),children:[m.jsx(rn,{className:"w-8 h-8 text-green-500 mr-3"}),m.jsxs("div",{className:"flex gap-4 items-start",children:[m.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Followup"}),m.jsx("p",{className:"text-xl font-bold text-gray-800",children:i.FollowUp})]})]}),m.jsxs("div",{className:"bg-white rounded-2xl shadow-lg w-48 h-20 p-4 flex items-center justify-center text-center hover:shadow-2xl transition-shadow duration-300 cursor-pointer",onClick:()=>_("/admin-interested"),children:[m.jsx($t,{className:"w-8 h-8 text-pink-500 mr-3"}),m.jsxs("div",{className:"flex gap-4 items-start",children:[m.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Interested"}),m.jsx("p",{className:"text-xl font-bold text-gray-800",children:i.Interested})]})]})]}),m.jsxs("div",{className:"mb-6 gap-4 flex justify-end",children:[m.jsx(Mi,{selectedSource:O,setSelectedSource:B}),m.jsx("input",{type:"text",placeholder:"Search leads...",value:P,onChange:I=>A(I.target.value),className:"border rounded-lg px-3 py-2 w-64 shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})]}),Object.keys(e).sort((I,V)=>I==="No Date"?1:V==="No Date"?-1:new Date(V)-new Date(I)).map(I=>{const V=e[I].filter(F=>Object.values(F).some(L=>String(L||"").toLowerCase().includes(P.toLowerCase()))).sort((F,L)=>{const z=F.followup_datetime?new Date(F.followup_datetime):new Date(0),j=L.followup_datetime?new Date(L.followup_datetime):new Date(0);return z-j});return V.length===0?null:m.jsxs("div",{className:"mb-8 bg-gray-200 shadow rounded",children:[m.jsxs("div",{className:"bg-blue-500 text-white text-center py-2 font-semibold",children:[I,"  DEMO"]}),m.jsxs("table",{className:"w-full text-sm border-collapse table-fixed",children:[m.jsx("thead",{className:"bg-gray-50",children:m.jsxs("tr",{className:"border-b",children:[m.jsx("th",{className:"border px-3 py-2 text-left w-20",children:"Name"}),m.jsx("th",{className:"border px-3 py-2 text-left w-15",children:"Mobile"}),m.jsx("th",{className:"border px-3 py-2 text-left w-12",children:"Time"}),m.jsx("th",{className:"border px-3 py-2 text-left w-80",children:"Comment / Note"}),m.jsx("th",{className:"border px-3 py-2 text-left w-15",children:"Updated By"}),m.jsx("th",{className:"border px-3 py-2 text-left w-15",children:"Assigned To"}),m.jsx("th",{className:"border px-3 py-2 text-left w-15",children:"Status"})]})}),m.jsx("tbody",{children:V.map((F,L)=>m.jsxs("tr",{className:"border-b bg-white",children:[m.jsx("td",{className:"border px-3 py-2 w-40 break-words whitespace-normal",children:F.name}),m.jsx("td",{className:"border px-3 py-2 w-32 break-words whitespace-normal",children:F.mobile}),m.jsx("td",{className:"border px-3 py-2 w-28",children:F.followup_datetime?new Date(F.followup_datetime).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit",hour12:!0}):""}),m.jsx("td",{className:"border px-3 py-2 w-64 break-words whitespace-normal",children:m.jsxs("div",{className:"flex justify-between items-center gap-3",children:[m.jsx("span",{className:"break-words whitespace-normal",children:F.comment}),m.jsxs("div",{className:"flex gap-2 shrink-0",children:[m.jsx("button",{className:"hover:bg-gray-200  rounded p-2",onClick:()=>v({customer_id:F.customer_id}),title:"Add Note",children:m.jsx(Jk,{className:"w-5 h-5 text-gray-600"})}),m.jsx("button",{className:"hover:bg-gray-200  rounded p-2",onClick:()=>b(F.customer_id),title:"View History",children:m.jsx(Si,{className:"w-5 h-5 text-gray-600"})})]})]})}),m.jsx("td",{className:"border px-3 py-2 w-40 break-words whitespace-normal",children:F.updated_by||"Unassigned"}),m.jsx("td",{className:"border px-3 py-2 w-40 break-words whitespace-normal",children:F.employee_name||"Unassigned"}),m.jsx("td",{className:"border px-3 py-2 w-36 break-words whitespace-normal",children:m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("span",{children:F.status}),m.jsx("button",{className:"hover:bg-gray-200  rounded p-2",onClick:()=>{f({customer_id:F.customer_id,currentStatus:F.value,newStatus:F.value,batch_id:F.batch_id})},title:"Change Status",children:m.jsx(ti,{className:"w-5 h-5 text-gray-600"})})]})})]},L))})]})]},I)}),m.jsx(Ri,{statusModalData:d,setStatusModalData:f,statusData:o,statusFullData:l,commentMap:x,setCommentMap:S,dateTimeMap:M,setDateTimeMap:R,setIsChange:k}),m.jsx(Ti,{noteModalData:p,setNoteModalData:v}),y&&m.jsx(ki,{customerId:y,onClose:()=>b(null)})]})}function Pze(){const[e,t]=C.useState({}),[n,r]=C.useState({}),[i,s]=C.useState({Demo:0,FollowUp:0,Deal:0,Interested:0}),[o,a]=C.useState([]),[l,c]=C.useState([]),[d,f]=C.useState(null),[p,v]=C.useState(null),[y,b]=C.useState(null),[x,S]=C.useState({}),[M,R]=C.useState({}),[T,k]=C.useState(!1),[P,A]=C.useState(""),[O,B]=C.useState("0"),U="https://crm.softwaresetu.com/api",_=Rt();return C.useEffect(()=>{me.get(`${U}/customers/fetch-customer-status`).then(I=>{const V={Demo:0,FollowUp:0,Deal:0,Interested:0};I.data.data.forEach(F=>{F.status==="Demo"&&V.Demo++,F.status==="Follow Up"&&V.FollowUp++,F.status==="Deal"&&V.Deal++,F.status==="Interested"&&V.Interested++}),s(V)}).catch(()=>be.error("Failed to load stats"))},[]),C.useEffect(()=>{(async()=>{try{const F=(await me.get(`${U}/customers/get-lead-data`)).data.filter(z=>z.status?.toLowerCase()==="demo done"),L={};F.forEach(z=>{const j=z.updated_at?new Date(z.updated_at).toLocaleDateString("en-IN",{day:"2-digit",month:"long",year:"numeric"}):"No Date";L[j]||(L[j]=[]),L[j].push(z)}),t(L),r(L)}catch(V){console.error("Error fetching demo data:",V),be.error("Failed to load customer data")}})()},[T]),C.useEffect(()=>{me.get(`${U}/status`).then(I=>{const V=I.data.map(F=>F.name);a(V),c(I.data)}).catch(()=>be.error("Failed to load statuses"))},[]),C.useEffect(()=>{if(O!=="0"){const I={};Object.keys(n).forEach(V=>{const F=n[V].filter(L=>L.batch_id==O);F.length>0&&(I[V]=F)}),t(I)}else t(n)},[O,n]),m.jsxs("div",{className:"p-6 bg-gray-50",children:[m.jsxs("div",{className:"flex flex-wrap gap-6 justify-center mb-6",children:[m.jsxs("div",{className:"bg-white rounded-2xl shadow-lg w-48 h-20 p-4 flex items-center justify-center hover:shadow-2xl cursor-pointer",onClick:()=>_("/admin-demo"),children:[m.jsx(Ir,{className:"w-8 h-8 text-blue-500 mr-3"}),m.jsxs("div",{children:[m.jsx("p",{className:"text-gray-400 text-sm",children:"Demo"}),m.jsx("p",{className:"text-xl font-bold",children:i.Demo})]})]}),m.jsxs("div",{className:"bg-white rounded-2xl shadow-lg w-48 h-20 p-4 flex items-center justify-center hover:shadow-2xl cursor-pointer",onClick:()=>_("/admin-follow"),children:[m.jsx(rn,{className:"w-8 h-8 text-green-500 mr-3"}),m.jsxs("div",{children:[m.jsx("p",{className:"text-gray-400 text-sm",children:"Followup"}),m.jsx("p",{className:"text-xl font-bold",children:i.FollowUp})]})]}),m.jsxs("div",{className:"bg-white rounded-2xl shadow-lg w-48 h-20 p-4 flex items-center justify-center hover:shadow-2xl cursor-pointer",onClick:()=>_("/admin-interested"),children:[m.jsx($t,{className:"w-8 h-8 text-pink-500 mr-3"}),m.jsxs("div",{children:[m.jsx("p",{className:"text-gray-400 text-sm",children:"Interested"}),m.jsx("p",{className:"text-xl font-bold",children:i.Interested})]})]})]}),m.jsxs("div",{className:"mb-6 flex justify-end gap-4",children:[m.jsx(Mi,{selectedSource:O,setSelectedSource:B}),m.jsx("input",{type:"text",placeholder:"Search leads...",value:P,onChange:I=>A(I.target.value),className:"border rounded-lg px-3 py-2 w-64 shadow-sm focus:ring-2 focus:ring-blue-400"})]}),Object.keys(e).sort((I,V)=>I==="No Date"?1:V==="No Date"?-1:new Date(V)-new Date(I)).map(I=>{const V=e[I].filter(F=>Object.values(F).some(L=>String(L||"").toLowerCase().includes(P.toLowerCase()))).sort((F,L)=>{const z=F.updated_at?new Date(F.updated_at):0,j=L.updated_at?new Date(L.updated_at):0;return z-j});return V.length===0?null:m.jsxs("div",{className:"mb-8 bg-gray-200 shadow rounded",children:[m.jsxs("div",{className:"bg-blue-500 text-white text-center py-2 font-semibold",children:[I,"  DEMO DONE"]}),m.jsxs("table",{className:"w-full text-sm border-collapse table-fixed",children:[m.jsx("thead",{className:"bg-gray-50",children:m.jsxs("tr",{className:"border-b",children:[m.jsx("th",{className:"border px-3 py-2",children:"Name"}),m.jsx("th",{className:"border px-3 py-2",children:"Mobile"}),m.jsx("th",{className:"border px-3 py-2",children:"Time"}),m.jsx("th",{className:"border px-3 py-2",children:"Comment / Note"}),m.jsx("th",{className:"border px-3 py-2",children:"Updated By"}),m.jsx("th",{className:"border px-3 py-2",children:"Assigned To"}),m.jsx("th",{className:"border px-3 py-2",children:"Status"})]})}),m.jsx("tbody",{children:V.map((F,L)=>m.jsxs("tr",{className:"border-b bg-white",children:[m.jsx("td",{className:"border px-3 py-2",children:F.name}),m.jsx("td",{className:"border px-3 py-2",children:F.mobile}),m.jsx("td",{className:"border px-3 py-2",children:F.updated_at?new Date(F.updated_at).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit",hour12:!0}):""}),m.jsx("td",{className:"border px-3 py-2",children:m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("span",{children:F.comment}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{className:"hover:bg-gray-200 p-2 rounded",onClick:()=>v({customer_id:F.customer_id}),children:m.jsx(Jk,{className:"w-5 h-5 text-gray-600"})}),m.jsx("button",{className:"hover:bg-gray-200 p-2 rounded",onClick:()=>b(F.customer_id),children:m.jsx(Si,{className:"w-5 h-5 text-gray-600"})})]})]})}),m.jsx("td",{className:"border px-3 py-2",children:F.updated_by||"Unassigned"}),m.jsx("td",{className:"border px-3 py-2",children:F.employee_name||"Unassigned"}),m.jsx("td",{className:"border px-3 py-2",children:m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{children:F.status}),m.jsx("button",{className:"hover:bg-gray-200 p-2 rounded",onClick:()=>f({customer_id:F.customer_id,currentStatus:F.value,newStatus:F.value,batch_id:F.batch_id}),children:m.jsx(ti,{className:"w-5 h-5 text-gray-600"})})]})})]},L))})]})]},I)}),m.jsx(Ri,{statusModalData:d,setStatusModalData:f,statusData:o,statusFullData:l,commentMap:x,setCommentMap:S,dateTimeMap:M,setDateTimeMap:R,setIsChange:k}),m.jsx(Ti,{noteModalData:p,setNoteModalData:v}),y&&m.jsx(ki,{customerId:y,onClose:()=>b(null)})]})}function Nze(){const[e,t]=C.useState({}),[n,r]=C.useState({}),[i,s]=C.useState({Demo:0,FollowUp:0,Deal:0,Interested:0}),[o,a]=C.useState([]),[l,c]=C.useState([]),[d,f]=C.useState(null),[p,v]=C.useState(null),[y,b]=C.useState(null),[x,S]=C.useState({}),[M,R]=C.useState({}),[T,k]=C.useState(!1),[P,A]=C.useState(""),[O,B]=C.useState("0"),U="https://crm.softwaresetu.com/api",_=Rt();return C.useEffect(()=>{me.get(`${U}/customers/fetch-customer-status`).then(I=>{const V={Demo:0,FollowUp:0,Deal:0,Interested:0};I.data.data.forEach(F=>{F.status==="Demo"&&V.Demo++,F.status==="Follow Up"&&V.FollowUp++,F.status==="Deal"&&V.Deal++,F.status==="Interested"&&V.Interested++}),s(V)}).catch(()=>be.error("Failed to load stats"))},[]),C.useEffect(()=>{(async()=>{try{const F=(await me.get(`${U}/customers/get-lead-data`)).data.filter($=>$.status?.toLowerCase()==="follow up"||$.status?.toLowerCase()==="demo"),L={};F.forEach($=>{let W=$.mobile;W.length===12&&W.startsWith("91")&&(W=W.substring(2)),(!L[W]||new Date($.updated_at)>new Date(L[W].updated_at))&&(L[W]=$)});const z=Object.values(L),j={};z.forEach($=>{const W=$.followup_datetime?new Date($.followup_datetime).toLocaleDateString("en-IN",{day:"2-digit",month:"long",year:"numeric"}):"No Date";j[W]||(j[W]=[]),j[W].push($)}),t(j),r(j)}catch(V){console.error("Error fetching lead data:",V),be.error("Failed to load customer data")}})()},[T]),C.useEffect(()=>{(async()=>{try{const V=await me.get(`${U}/status`),F=V.data.map(L=>L.name);a(F),c(V.data)}catch{be.error("Failed to load statuses")}})()},[]),C.useEffect(()=>{if(O!=="0"){const I={};Object.keys(n).forEach(V=>{const F=n[V].filter(L=>L.batch_id==O);F.length>0&&(I[V]=F)}),t(I)}else t(n)},[O,n]),m.jsxs("div",{className:"p-6 bg-gray-50",children:[m.jsxs("div",{className:"flex flex-wrap gap-6 justify-center mb-6",children:[m.jsxs("div",{className:"bg-white rounded-2xl shadow-lg w-48 h-20 p-4 flex items-center justify-center text-center hover:shadow-2xl transition-shadow duration-300 cursor-pointer",onClick:()=>_("/admin-demo"),children:[m.jsx(Ir,{className:"w-8 h-8 text-blue-500 mr-3"}),m.jsxs("div",{className:"flex gap-4 items-start",children:[m.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Demo"}),m.jsx("p",{className:"text-xl font-bold text-gray-800",children:i.Demo})]})]}),m.jsxs("div",{className:"bg-white rounded-2xl shadow-lg w-48 h-20 p-4 flex items-center justify-center text-center hover:shadow-2xl transition-shadow duration-300 cursor-pointer",onClick:()=>_("/admin-follow"),children:[m.jsx(rn,{className:"w-8 h-8 text-green-500 mr-3"}),m.jsxs("div",{className:"flex gap-4 items-start",children:[m.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Followup"}),m.jsx("p",{className:"text-xl font-bold text-gray-800",children:i.FollowUp})]})]}),m.jsxs("div",{className:"bg-white rounded-2xl shadow-lg w-48 h-20 p-4 flex items-center justify-center text-center hover:shadow-2xl transition-shadow duration-300 cursor-pointer",onClick:()=>_("/admin-interested"),children:[m.jsx($t,{className:"w-8 h-8 text-pink-500 mr-3"}),m.jsxs("div",{className:"flex gap-4 items-start",children:[m.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Interested"}),m.jsx("p",{className:"text-xl font-bold text-gray-800",children:i.Interested})]})]})]}),m.jsxs("div",{className:"mb-6 gap-4 flex justify-end",children:[m.jsx(Mi,{selectedSource:O,setSelectedSource:B}),m.jsx("input",{type:"text",placeholder:"Search leads...",value:P,onChange:I=>A(I.target.value),className:"border rounded-lg px-3 py-2 w-64 shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})]}),Object.keys(e).sort((I,V)=>I==="No Date"?1:V==="No Date"?-1:new Date(V)-new Date(I)).map(I=>{const V=e[I].filter(F=>Object.values(F).some(L=>String(L||"").toLowerCase().includes(P.toLowerCase()))).sort((F,L)=>{const z=F.followup_datetime?new Date(F.followup_datetime):new Date(0),j=L.followup_datetime?new Date(L.followup_datetime):new Date(0);return z-j});return V.length===0?null:m.jsxs("div",{className:"mb-8 bg-gray-200 shadow rounded",children:[m.jsxs("div",{className:"bg-blue-500 text-white text-center py-2 font-semibold",children:[I,"  FOLLOW UP / DEMO"]}),m.jsxs("table",{className:"w-full text-sm border-collapse table-fixed",children:[m.jsx("thead",{className:"bg-gray-50",children:m.jsxs("tr",{className:"border-b",children:[m.jsx("th",{className:"border px-3 py-2 text-left w-20",children:"Name"}),m.jsx("th",{className:"border px-3 py-2 text-left w-15",children:"Mobile"}),m.jsx("th",{className:"border px-3 py-2 text-left w-12",children:"Time"}),m.jsx("th",{className:"border px-3 py-2 text-left w-80",children:"Comment / Note"}),m.jsx("th",{className:"border px-3 py-2 text-left w-15",children:"Updated By"}),m.jsx("th",{className:"border px-3 py-2 text-left w-15",children:"Assigned To"}),m.jsx("th",{className:"border px-3 py-2 text-left w-15",children:"Status"})]})}),m.jsx("tbody",{children:V.map((F,L)=>m.jsxs("tr",{className:"border-b bg-white",children:[m.jsxs("td",{className:"border px-3 py-2 w-32 ",children:[F.name,F.status?.toLowerCase()==="demo"&&m.jsx("span",{className:"bg-red-500 text-white text-[10px] px-2 py-1 rounded ml-2",children:"DEMO"})]}),m.jsx("td",{className:"border px-3 py-2 w-32",children:F.mobile}),m.jsx("td",{className:"border px-3 py-2 w-28",children:F.followup_datetime?new Date(F.followup_datetime).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit",hour12:!0}):""}),m.jsx("td",{className:"border px-3 py-2 w-64 break-words whitespace-normal",children:m.jsxs("div",{className:"flex justify-between items-center gap-3",children:[m.jsx("span",{children:F.comment}),m.jsx("div",{className:"flex gap-2",children:m.jsx("button",{className:"hover:bg-gray-200 rounded p-2",onClick:()=>b(F.customer_id),title:"View History",children:m.jsx(Si,{className:"w-5 h-5 text-gray-600"})})})]})}),m.jsx("td",{className:"border px-3 py-2 w-40",children:F.updated_by||"Unassigned"}),m.jsx("td",{className:"border px-3 py-2 w-40",children:F.employee_name||"Unassigned"}),m.jsx("td",{className:"border px-3 py-2 w-36",children:m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("span",{children:F.status}),m.jsx("button",{className:"hover:bg-gray-200 rounded p-2",onClick:()=>f({customer_id:F.customer_id,currentStatus:F.value,newStatus:F.value,batch_id:F.batch_id}),title:"Change Status",children:m.jsx(ti,{className:"w-5 h-5 text-gray-600"})})]})})]},L))})]})]},I)}),m.jsx(Ri,{statusModalData:d,setStatusModalData:f,statusData:o,statusFullData:l,commentMap:x,setCommentMap:S,dateTimeMap:M,setDateTimeMap:R,setIsChange:k}),m.jsx(Ti,{noteModalData:p,setNoteModalData:v}),y&&m.jsx(ki,{customerId:y,onClose:()=>b(null)})]})}function Oze(){const[e,t]=C.useState([]),[n,r]=C.useState([]),[i,s]=C.useState([]),[o,a]=C.useState([]),[l,c]=C.useState(null),[d,f]=C.useState({}),[p,v]=C.useState({}),[y,b]=C.useState(!1),[x,S]=C.useState(""),[M,R]=C.useState(null),[T,k]=C.useState(null),[P,A]=C.useState(null),[O,B]=C.useState("0"),U=Rt(),[_,I]=C.useState({Demo:0,FollowUp:0,NotPickedCall:0,Deal:0,Interested:0});C.useEffect(()=>{me.get(`${F}/customers/fetch-customer-status`).then(W=>{const K={Demo:0,FollowUp:0,Deal:0,Interested:0};W.data.data.forEach(H=>{H.status==="Demo"&&K.Demo++,H.status==="Follow Up"&&K.FollowUp++,H.status==="Deal"&&K.Deal++,H.status==="Interested"&&K.Interested++}),I(K)}).catch(W=>{console.error("Error fetching customer status:",W)})},[]);const V=C.useRef(),F="https://crm.softwaresetu.com/api",L=async()=>{try{const K=(await me.get(`${F}/customers/get-lead-data`)).data.filter(H=>H.status_id==16);console.log(K,"filteredData.."),t(K),r(K)}catch(W){console.error("Error fetching lead history:",W),be.error("Failed to load customer data")}},z=async()=>{try{const W=await me.get(`${F}/status`),K=W.data.map(H=>H.name);s(K),a(W.data)}catch(W){console.error("Error fetching statuses:",W),be.error("Failed to load statuses")}};C.useEffect(()=>{L(),z()},[y]);const j=C.useMemo(()=>[{headerName:"Name",field:"name"},{headerName:"Mobile",field:"mobile"},{headerName:"Comment",field:"comment",minWidth:700,autoHeight:!0,cellRenderer:W=>m.jsxs("div",{className:"flex items-center justify-between gap-2",children:[m.jsx("span",{className:"truncate max-w-[600px]",children:W.data.comment}),m.jsx("button",{className:"p-1 text-gray-600 rounded hover:bg-gray-300",onClick:()=>k(W.data.customer_id),title:"View Comments",children:m.jsx(Si,{size:18})})]})},{headerName:"Status",field:"status"},{headerName:"Updated By",field:"updated_by"},{headerName:"Status Change",field:"status",width:150,maxWidth:150,cellRenderer:W=>m.jsxs("div",{className:"flex gap-8 items-center justify-center",children:[m.jsx("button",{className:"p-1 rounded hover:bg-gray-100 flex",onClick:()=>c({customer_id:W.data.customer_id,currentStatus:W.value,newStatus:W.value,batch_id:W.data.batch_id}),children:m.jsx(ti,{size:14,className:"text-gray-600"})}),m.jsx("span",{class:"border-l border-gray-400 h-6 inline-block"}),m.jsx("button",{className:"p-1 rounded hover:bg-gray-100 flex",onClick:()=>{console.log("Customer ID:",W.data.customer_id),R({customer_id:W.data.customer_id})},children:m.jsx(cl,{size:14,className:"text-gray-600"})})]})},{headerName:"Created At",field:"created_at",sortable:!0,filter:!0,valueFormatter:W=>W.value?new Date(W.value).toLocaleString("en-IN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0}):""},{headerName:"Updated At",field:"updated_at",sortable:!0,filter:!0,valueFormatter:W=>W.value?new Date(W.value).toLocaleString("en-IN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0}):""}],[i]),$=C.useMemo(()=>({resizable:!0,sortable:!0,filter:!0}),[]);return C.useEffect(()=>{if(O!="0"){let W=n.filter(K=>K.batch_id==O);t(W)}else t(n)},[O]),m.jsxs("div",{className:"p-6 bg-gray-50 rounded-lg shadow-md",children:[m.jsxs("div",{className:"flex flex-wrap gap-6 justify-center",children:[m.jsxs("div",{className:"bg-white rounded-2xl shadow-lg w-48 h-20 p-4 flex items-center justify-center text-center hover:shadow-2xl transition-shadow duration-300 cursor-pointer",onClick:()=>{U("/admin-demo")},children:[m.jsx(Ir,{className:"w-8 h-8 text-blue-500 mr-3"}),m.jsxs("div",{className:"flex gap-4 items-start",children:[m.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Demo"}),m.jsx("p",{className:"text-xl font-bold text-gray-800",children:_.Demo})]})]}),m.jsxs("div",{className:"bg-white rounded-2xl shadow-lg w-48 h-20 p-4 flex items-center justify-center text-center hover:shadow-2xl transition-shadow duration-300 cursor-pointer",onClick:()=>{U("/admin-follow")},children:[m.jsx(rn,{className:"w-8 h-8 text-green-500 mr-3"}),m.jsxs("div",{className:"flex gap-4 items-start",children:[m.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Followup"}),m.jsx("p",{className:"text-xl font-bold text-gray-800",children:_.FollowUp})]})]}),m.jsxs("div",{className:"bg-white rounded-2xl shadow-lg w-48 h-20 p-4 flex items-center justify-center text-center hover:shadow-2xl transition-shadow duration-300 cursor-pointer",onClick:()=>{U("/admin-interested")},children:[m.jsx($t,{className:"w-8 h-8 text-pink-500 mr-3"}),m.jsxs("div",{className:"flex gap-4 items-start",children:[m.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Interested"}),m.jsx("p",{className:"text-xl font-bold text-gray-800",children:_.Interested})]})]})]}),m.jsxs("div",{className:"flex justify-between p-4",children:[m.jsx("h2",{className:"text-xl font-bold mb-4",children:"Interested"}),m.jsxs("div",{className:"flex gap-4",children:[m.jsx(Mi,{selectedSource:O,setSelectedSource:B}),m.jsx(_r,{value:x,onChange:S})]})]}),m.jsx("div",{className:"ag-theme-alpine",style:{height:615},children:m.jsx(zt,{ref:V,rowData:e,columnDefs:j,defaultColDef:$,pagination:!0,paginationPageSize:100,paginationAutoPageSize:!0,animateRows:!0,singleClickEdit:!0,rowSelection:"multiple",quickFilterText:x,onRowClicked:W=>A(W.data.id),getRowStyle:W=>W.data.id===P?{backgroundColor:"#c4c4c4",borderLeft:"4px solid #22c55e",transition:"background-color 0.3s ease"}:null})}),m.jsx(Ri,{statusModalData:l,setStatusModalData:c,statusData:i,statusFullData:o,commentMap:p,setCommentMap:v,dateTimeMap:d,setDateTimeMap:f,setIsChange:b}),m.jsx(Ti,{noteModalData:M,setNoteModalData:R}),T&&m.jsx(ki,{customerId:T,onClose:()=>k(null)})]})}function Fze(){const[e,t]=C.useState(""),[n,r]=C.useState([]),[i,s]=C.useState([]),[o,a]=C.useState([]),[l,c]=C.useState(null),[d,f]=C.useState({}),[p,v]=C.useState(null),[y,b]=C.useState({}),[x,S]=C.useState([]),[M,R]=C.useState(!1),T=C.useRef(),k="https://crm.softwaresetu.com/api",[P,A]=C.useState(null),[O,B]=C.useState({}),[U,_]=C.useState(null),[I,V]=C.useState(null),[F,L]=C.useState("0"),z=JSON.parse(localStorage.getItem("user")),j=Rt(),[$,W]=C.useState({Demo:0,FollowUp:0,NotPickedCall:0,Deal:0,Interested:0});C.useEffect(()=>{me.get(`${k}/customers/fetch-customer-status/${z?.id}`).then(fe=>{const pe={Demo:0,FollowUp:0,Deal:0,Interested:0};fe.data.data.forEach(Ce=>{Ce.status==="Demo"&&pe.Demo++,Ce.status==="Follow Up"&&pe.FollowUp++,Ce.status==="Deal"&&pe.Deal++,Ce.status==="Interested"&&pe.Interested++}),W(pe),console.log(pe,"stats...")}).catch(fe=>{console.error("Error fetching customer status:",fe)})},[]);const K=async()=>{try{const fe=localStorage.getItem("token"),Ce=JSON.parse(localStorage.getItem("user"))?.id;if(!Ce)return;const{data:je}=await me.get(`${k}/employee/status/data`,{headers:{Authorization:`Bearer ${fe}`},params:{employeeId:Ce,status:"Interested"}}),oe=je.data.filter(de=>de.status_id==16);r(oe||[]),s(oe||[])}catch(fe){console.error("Error fetching follow_up data:",fe),r([])}},H=async()=>{try{const fe=await me.get(`${k}/status`),pe=fe.data.map(Ce=>Ce.name);a(pe),S(fe.data)}catch(fe){console.error("Error fetching statuses:",fe),be.error("Failed to load statuses ")}};C.useEffect(()=>{K(),H()},[M]);const Y={defaultColDef:{flex:1,resizable:!0,sortable:!0,filter:!0},singleClickEdit:!0},Z=C.useMemo(()=>[{headerName:"Name",field:"name",flex:1},{headerName:"Mobile",field:"mobile",flex:1},{headerName:"Status",field:"status"},{headerName:"Comment",field:"comment",minWidth:700,autoHeight:!0,cellRenderer:fe=>m.jsxs("div",{className:"flex items-center justify-between gap-2",children:[m.jsx("span",{className:"truncate max-w-[600px]",children:fe.data.comment}),m.jsx("button",{className:"p-1 text-gray-600 rounded hover:bg-gray-300",onClick:()=>V(fe.data.customer_id),title:"View Comments",children:m.jsx(Si,{size:18})})]})},{headerName:"Status Change",field:"status",width:150,maxWidth:150,cellRenderer:fe=>m.jsxs("div",{className:"flex gap-8 items-center justify-center",children:[m.jsx("button",{className:"p-1 rounded hover:bg-gray-100 flex",onClick:()=>A({customer_id:fe.data.customer_id,currentStatus:fe.value,newStatus:fe.value,batch_id:fe.data.batch_id}),children:m.jsx(ti,{size:14,className:"text-gray-600"})}),m.jsx("span",{class:"border-l border-gray-400 h-6 inline-block"}),m.jsx("button",{className:"p-1 rounded hover:bg-gray-100 flex",onClick:()=>{console.log("Customer ID:",fe.data.customer_id),_({customer_id:fe.data.customer_id})},children:m.jsx(cl,{size:14,className:"text-gray-600"})})]})},{headerName:"Updated At",field:"updated_at",flex:1,filter:"agDateColumnFilter",valueFormatter:fe=>fe.value?new Date(fe.value).toLocaleString("en-IN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0}):""}],[o]),X=C.useMemo(()=>({resizable:!0,sortable:!0,filter:!0}),[]);return C.useEffect(()=>{if(F!="0"){let fe=i.filter(pe=>pe.batch_id==F);r(fe)}else r(i)},[F]),m.jsxs("div",{className:"p-6 bg-gray-50 rounded-lg shadow-md",children:[m.jsxs("div",{className:"flex flex-wrap gap-6 justify-center",children:[m.jsxs("div",{className:"bg-white rounded-2xl shadow-lg w-48 h-20 p-4 flex items-center justify-center text-center hover:shadow-2xl transition-shadow duration-300 cursor-pointer",onClick:()=>{j("/demo")},children:[m.jsx(Ir,{className:"w-8 h-8 text-blue-500 mr-3"}),m.jsxs("div",{className:"flex gap-4 items-start",children:[m.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Demo"}),m.jsx("p",{className:"text-xl font-bold text-gray-800",children:$.Demo})]})]}),m.jsxs("div",{className:"bg-white rounded-2xl shadow-lg w-48 h-20 p-4 flex items-center justify-center text-center hover:shadow-2xl transition-shadow duration-300 cursor-pointer",onClick:()=>{j("/follow-up")},children:[m.jsx(rn,{className:"w-8 h-8 text-green-500 mr-3"}),m.jsxs("div",{className:"flex gap-4 items-start",children:[m.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Followup"}),m.jsx("p",{className:"text-xl font-bold text-gray-800",children:$.FollowUp})]})]}),m.jsxs("div",{className:"bg-white rounded-2xl shadow-lg w-48 h-20 p-4 flex items-center justify-center text-center hover:shadow-2xl transition-shadow duration-300 cursor-pointer",onClick:()=>{j("/user-interested")},children:[m.jsx($t,{className:"w-8 h-8 text-pink-500 mr-3"}),m.jsxs("div",{className:"flex gap-4 items-start",children:[m.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Interested"}),m.jsx("p",{className:"text-xl font-bold text-gray-800",children:$.Interested})]})]})]}),m.jsxs("div",{className:"flex justify-between p-4",children:[m.jsx("h2",{className:"text-xl font-bold mb-4",children:"Interested"}),m.jsxs("div",{className:"flex gap-4",children:[m.jsx(Mi,{selectedSource:F,setSelectedSource:L}),m.jsx(_r,{value:e,onChange:t})]})]}),m.jsxs("div",{className:"ag-theme-alpine",style:{height:723},children:[m.jsx(zt,{ref:T,rowData:n,columnDefs:Z,defaultColDef:X,pagination:!0,paginationPageSize:100,paginationAutoPageSize:!0,animateRows:!0,singleClickEdit:!0,gridOptions:Y,rowSelection:"multiple",quickFilterText:e}),m.jsx(Ri,{statusModalData:P,setStatusModalData:A,statusData:o,statusFullData:x,commentMap:O,setCommentMap:B,dateTimeMap:d,setDateTimeMap:f,setIsChange:R}),m.jsx(Ti,{noteModalData:U,setNoteModalData:_}),I&&m.jsx(ki,{customerId:I,onClose:()=>V(null)})]})]})}function Ize(){const[e,t]=C.useState([]),[n,r]=C.useState([]),[i,s]=C.useState([]),o="https://crm.softwaresetu.com/api";JSON.parse(localStorage.getItem("user"))?.id;const[l,c]=C.useState(""),[d,f]=C.useState([]),[p,v]=C.useState("All"),[y,b]=C.useState(new Date),[x,S]=C.useState(new Date),[M,R]=C.useState([]),[T,k]=C.useState(!1),[P,A]=C.useState([]),[O,B]=C.useState(null),[U,_]=C.useState({}),[I,V]=C.useState({}),[F,L]=C.useState(null),[z,j]=C.useState(null),[$,W]=C.useState("0"),[K,H]=C.useState(null),Y=Rt(),[Z,X]=C.useState({Demo:0,FollowUp:0,NotPickedCall:0,Deal:0,Interested:0});C.useEffect(()=>{me.get(`${o}/customers/fetch-customer-status`).then(de=>{const Me={Demo:0,FollowUp:0,Deal:0,Interested:0};de.data.data.forEach(ue=>{ue.status==="Demo"&&Me.Demo++,ue.status==="Follow Up"&&Me.FollowUp++,ue.status==="Deal"&&Me.Deal++,ue.status==="Interested"&&Me.Interested++}),X(Me)}).catch(de=>{console.error("Error fetching customer status:",de)})},[]);const fe=async()=>{try{const de=await me.get(`${o}/status`),Me=de.data.map(ue=>ue.name);A(Me),R(de.data)}catch(de){console.error("Error fetching statuses:",de)}};C.useEffect(()=>{fe()},[T]);const pe=de=>{const Me=de.data.history||[],[ue,Ve]=C.useState(""),Ge=[{headerName:"Name",field:"name",minWidth:120,sortable:!0,filter:!0},{headerName:"Mobile",field:"mobile",minWidth:120,sortable:!0,filter:!0},{headerName:"Status",field:"status",minWidth:120,sortable:!0,filter:!0},{headerName:"Comment",field:"comment",minWidth:200,sortable:!0,filter:!0},{headerName:"Updated By",field:"updated_by",minWidth:120,sortable:!0,filter:!0},{headerName:"Updated At",field:"updated_at",minWidth:180,sortable:!0,filter:!0,valueFormatter:Xe=>Xe.value?new Date(Xe.value).toLocaleString("en-IN"):""}];return m.jsx("div",{style:{padding:"10px",background:"#f9fafb"},children:m.jsx("div",{className:"ag-theme-alpine collapse-grid",style:{height:250,width:"100%"},children:m.jsx(zt,{rowData:Me,columnDefs:Ge,pagination:!0,paginationPageSize:5,quickFilterText:ue,defaultColDef:{sortable:!0,filter:!0,resizable:!0,flex:1}})})})},Ce=C.useMemo(()=>[{headerName:"Name",field:"name",sortable:!0,filter:!0,cellStyle:{color:"black",fontWeight:500},cellRenderer:de=>{const ue=!!de.node.expanded?nx:aie;return m.jsxs("span",{className:"flex items-center gap-2 cursor-pointer",onClick:Ve=>{Ve.stopPropagation(),de.node.setExpanded(!de.node.expanded),de.api.refreshCells({rowNodes:[de.node],columns:[de.colDef.field],force:!0})},children:[m.jsx(ue,{size:14,className:"text-gray-600"}),m.jsx("span",{children:de.value})]})}},{headerName:"Mobile",field:"mobile",sortable:!0,filter:!0},{headerName:"Comment",field:"comment",minWidth:700,autoHeight:!0,cellRenderer:de=>m.jsxs("div",{className:"flex items-center justify-between gap-2",children:[m.jsx("span",{className:"truncate max-w-[600px]",children:de.data.comment}),m.jsx("button",{className:"p-1 text-gray-600 rounded hover:bg-gray-300",onClick:()=>j(de.data.customer_id),title:"View Comments",children:m.jsx(Si,{size:18})})]})},{headerName:"Status",field:"status",sortable:!0,filter:!0},{headerName:"Status Change",field:"status",width:140,cellRenderer:de=>m.jsxs("div",{className:"flex gap-4 items-center justify-center",children:[m.jsx("button",{className:"p-1 rounded hover:bg-gray-100 flex",onClick:()=>B({customer_id:de.data.customer_id,currentStatus:de.value,newStatus:de.value,batch_id:de.data.batch_id}),children:m.jsx(ti,{size:14,className:"text-gray-600"})}),m.jsx("span",{className:"border-l border-gray-400 h-6 inline-block"}),m.jsx("button",{className:"p-1 rounded hover:bg-gray-100 flex",onClick:()=>L({customer_id:de.data.customer_id}),children:m.jsx(cl,{size:14,className:"text-gray-600"})})]})},{headerName:"Updated By",field:"updated_by",sortable:!0,filter:!0},{headerName:"Updated At",field:"updated_at",sortable:!0,filter:!0,sort:"desc",minWidth:100,valueFormatter:de=>de.value?new Date(de.value).toLocaleString("en-IN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0}):""}],[]);C.useEffect(()=>{(async()=>{try{const Me=await me.get(`${o}/activity/history`),ue={};Me.data.forEach(Xe=>{(!ue[Xe.customer_id]||new Date(Xe.updated_at)>new Date(ue[Xe.customer_id].updated_at))&&(ue[Xe.customer_id]=Xe)});const Ve=Object.values(ue);Ve.forEach(Xe=>{Xe.history=Me.data.filter(Ne=>Ne.customer_id===Xe.customer_id)}),t(Me.data),r(Ve),s(Ve);const Ge=[...new Set(Me.data.map(Xe=>Xe.updated_by))];f(Ge)}catch(Me){console.error("Error fetching history:",Me)}})()},[o]);const je=()=>{let de=[...e];p!=="All"&&(de=de.filter(Me=>Me.updated_by===p)),de=de.filter(Me=>{const ue=new Date(Me.updated_at),Ve=new Date(y);Ve.setHours(0,0,0,0);const Ge=new Date(x);return Ge.setHours(23,59,59,999),ue>=Ve&&ue<=Ge}),s(de)},oe=C.forwardRef(({value:de,onClick:Me,placeholder:ue},Ve)=>m.jsxs("div",{onClick:Me,ref:Ve,className:"flex items-center justify-between border rounded px-2 py-2 w-40 cursor-pointer bg-white",children:[m.jsx("span",{className:"text-sm",children:de||ue}),m.jsx(rn,{className:"w-4 h-4 text-gray-500"})]}));return C.useEffect(()=>{if($!="0"){let de=n.filter(Me=>Me.batch_id==$);s(de)}else s(n)},[$]),m.jsxs("div",{className:"p-6 bg-gray-50 rounded-lg shadow-md",children:[m.jsxs("div",{className:"flex flex-wrap gap-6 justify-center",children:[m.jsxs("div",{className:"bg-white rounded-2xl shadow-lg w-48 h-20 p-4 flex items-center justify-center text-center hover:shadow-2xl transition-shadow duration-300 cursor-pointer",onClick:()=>{Y("/admin-demo")},children:[m.jsx(Ir,{className:"w-8 h-8 text-blue-500 mr-3"}),m.jsxs("div",{className:"flex gap-4 items-start",children:[m.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Demo"}),m.jsx("p",{className:"text-xl font-bold text-gray-800",children:Z.Demo})]})]}),m.jsxs("div",{className:"bg-white rounded-2xl shadow-lg w-48 h-20 p-4 flex items-center justify-center text-center hover:shadow-2xl transition-shadow duration-300 cursor-pointer",onClick:()=>{Y("/admin-follow")},children:[m.jsx(rn,{className:"w-8 h-8 text-green-500 mr-3"}),m.jsxs("div",{className:"flex gap-4 items-start",children:[m.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Followup"}),m.jsx("p",{className:"text-xl font-bold text-gray-800",children:Z.FollowUp})]})]}),m.jsxs("div",{className:"bg-white rounded-2xl shadow-lg w-48 h-20 p-4 flex items-center justify-center text-center hover:shadow-2xl transition-shadow duration-300 cursor-pointer",onClick:()=>{Y("/admin-interested")},children:[m.jsx($t,{className:"w-8 h-8 text-pink-500 mr-3"}),m.jsxs("div",{className:"flex gap-4 items-start",children:[m.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Interested"}),m.jsx("p",{className:"text-xl font-bold text-gray-800",children:Z.Interested})]})]})]}),m.jsxs("div",{className:"flex justify-between items-center py-6",children:[m.jsx("h2",{className:"text-xl font-bold",children:"User Activity"}),m.jsxs("div",{className:"flex gap-4 items-center",children:[m.jsx(Mi,{selectedSource:$,setSelectedSource:W}),m.jsxs("select",{value:p,onChange:de=>v(de.target.value),className:"h-10 w-40 border border-gray-300 rounded-md px-3 text-gray-700",children:[m.jsx("option",{value:"All",children:"All Users"}),d.map((de,Me)=>m.jsx("option",{value:de,children:de},Me))]}),m.jsxs("div",{className:"flex  item-center gap-4",children:[m.jsx("label",{className:"text-sm  mt-2 font-medium",children:"From"}),m.jsx(no,{selected:y,onChange:de=>b(de),customInput:m.jsx(oe,{placeholder:"Select date"}),dateFormat:"dd-MM-yyyy",popperPlacement:"bottom-start"})]}),m.jsxs("div",{className:"flex item-center gap-4",children:[m.jsx("label",{className:"text-sm mt-2 font-medium",children:"To"}),m.jsx(no,{selected:x,onChange:de=>S(de),customInput:m.jsx(oe,{placeholder:"Select date"}),dateFormat:"dd-MM-yyyy",popperPlacement:"bottom-start"})]}),m.jsx("button",{onClick:je,className:"h-10 px-6 bg-blue-500 text-white rounded-md hover:bg-blue-600 flex items-center justify-center",children:"Submit"}),m.jsx(_r,{value:l,onChange:c,className:"h-10 w-48 border border-gray-300 rounded-md px-3"})]})]}),m.jsxs("div",{className:"ag-theme-alpine",style:{height:610},children:[m.jsx(zt,{rowData:i,columnDefs:Ce,pagination:!0,paginationPageSize:100,quickFilterText:l,masterDetail:!0,detailCellRenderer:pe,detailRowAutoHeight:!0,onRowClicked:de=>H(de.data.id),getRowStyle:de=>de.data.id===K?{backgroundColor:"#c4c4c4",borderLeft:"4px solid #22c55e",transition:"background-color 0.3s ease"}:null}),m.jsx(Ri,{statusModalData:O,setStatusModalData:B,statusData:P,statusFullData:M,commentMap:I,setCommentMap:V,dateTimeMap:U,setDateTimeMap:_,setIsChange:k}),m.jsx(Ti,{noteModalData:F,setNoteModalData:L}),z&&m.jsx(ki,{customerId:z,onClose:()=>j(null)})]})]})}function Lze(){const[e,t]=C.useState([]),[n,r]=C.useState([]),[i,s]=C.useState([]),o="https://crm.softwaresetu.com/api",[a,l]=C.useState(""),d=JSON.parse(localStorage.getItem("user"))?.id,[f,p]=C.useState([]),[v,y]=C.useState(!1),[b,x]=C.useState([]),[S,M]=C.useState(null),[R,T]=C.useState({}),[k,P]=C.useState({}),[A,O]=C.useState(null),[B,U]=C.useState(null),[_,I]=C.useState("0"),V=Rt(),[F,L]=C.useState({Demo:0,FollowUp:0,Deal:0,Interested:0});C.useEffect(()=>{me.get(`${o}/customers/fetch-customer-status/${d}`).then(W=>{const K={Demo:0,FollowUp:0,Deal:0,Interested:0};W.data.data.forEach(H=>{H.status==="Demo"&&K.Demo++,H.status==="Follow Up"&&K.FollowUp++,H.status==="Deal"&&K.Deal++,H.status==="Interested"&&K.Interested++}),L(K)}).catch(W=>console.error(W))},[]);const z=async()=>{try{const W=await me.get(`${o}/status`);x(W.data.map(K=>K.name)),p(W.data)}catch(W){console.error(W)}};C.useEffect(()=>{z()},[v]);const j=C.useMemo(()=>[{headerName:"Name",field:"name",sortable:!0,filter:!0,minWidth:300,cellRenderer:"agGroupCellRenderer"},{headerName:"Mobile",field:"mobile",sortable:!0,filter:!0},{headerName:"Comment",field:"comment",minWidth:700,autoHeight:!0,cellRenderer:W=>m.jsxs("div",{className:"flex items-center justify-between gap-2",children:[m.jsx("span",{className:"truncate max-w-[600px]",children:W.data.comment}),m.jsx("button",{className:"p-1 text-gray-600 rounded hover:bg-gray-300",onClick:()=>U(W.data.customer_id),title:"View Comments",children:m.jsx(Si,{size:18})})]})},{headerName:"Status",field:"status",sortable:!0,filter:!0},{headerName:"Status Change",field:"status",width:180,maxWidth:180,cellRenderer:W=>m.jsxs("div",{className:"flex gap-8 items-center justify-center",children:[m.jsx("button",{className:"p-1 rounded hover:bg-gray-100 flex",onClick:()=>M({customer_id:W.data.customer_id,currentStatus:W.value,newStatus:W.value,batch_id:W.data.batch_id}),children:m.jsx(ti,{size:14,className:"text-gray-600"})}),m.jsx("span",{className:"border-l border-gray-400 h-6 inline-block"}),m.jsx("button",{className:"p-1 rounded hover:bg-gray-100 flex",onClick:()=>O({customer_id:W.data.customer_id}),children:m.jsx(cl,{size:14,className:"text-gray-600"})})]})},{headerName:"Updated At",field:"updated_at",sortable:!0,filter:!0,sort:"desc",valueFormatter:W=>W.value?new Date(W.value).toLocaleString("en-IN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0}):""}],[]),$={detailGridOptions:{columnDefs:[{headerName:"Name",field:"name",sortable:!0,filter:!0},{headerName:"Mobile",field:"mobile",sortable:!0,filter:!0},{headerName:"Comment",field:"comment",flex:1},{headerName:"Status",field:"status",flex:1},{headerName:"Updated At",field:"updated_at",valueFormatter:W=>new Date(W.value).toLocaleString("en-IN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0})}],defaultColDef:{flex:1}},getDetailRowData:W=>{W.successCallback(W.data.history||[])}};return C.useEffect(()=>{d&&(async()=>{try{const H=(await me.get(`${o}/activity/${d}`)).data,Y={};H.forEach(X=>{Y[X.customer_id]||(Y[X.customer_id]=[]),Y[X.customer_id].push(X)});const Z=Object.values(Y).map(X=>{const fe=X.sort((pe,Ce)=>new Date(Ce.updated_at)-new Date(pe.updated_at));return{...fe[0],history:fe.slice(1)}});t(Z),r(Z),s(Z)}catch(K){console.error(K)}})()},[d,o]),C.useEffect(()=>{if(_!="0"){let W=n.filter(K=>K.batch_id==_);s(W)}else s(n)},[_]),m.jsxs("div",{className:"p-6 bg-gray-50 rounded-lg shadow-md",children:[m.jsxs("div",{className:"flex flex-wrap gap-6 justify-center mb-6",children:[m.jsxs("div",{className:"bg-white rounded-2xl shadow-lg w-48 h-20 p-4 flex items-center justify-center text-center hover:shadow-2xl transition-shadow duration-300 cursor-pointer",onClick:()=>V("/demo"),children:[m.jsx(Ir,{className:"w-8 h-8 text-blue-500 mr-3"}),m.jsxs("div",{className:"flex gap-4 items-start",children:[m.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Demo"}),m.jsx("p",{className:"text-xl font-bold text-gray-800",children:F.Demo})]})]}),m.jsxs("div",{className:"bg-white rounded-2xl shadow-lg w-48 h-20 p-4 flex items-center justify-center text-center hover:shadow-2xl transition-shadow duration-300 cursor-pointer",onClick:()=>V("/follow-up"),children:[m.jsx(rn,{className:"w-8 h-8 text-green-500 mr-3"}),m.jsxs("div",{className:"flex gap-4 items-start",children:[m.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Followup"}),m.jsx("p",{className:"text-xl font-bold text-gray-800",children:F.FollowUp})]})]}),m.jsxs("div",{className:"bg-white rounded-2xl shadow-lg w-48 h-20 p-4 flex items-center justify-center text-center hover:shadow-2xl transition-shadow duration-300 cursor-pointer",onClick:()=>V("/user-interested"),children:[m.jsx($t,{className:"w-8 h-8 text-pink-500 mr-3"}),m.jsxs("div",{className:"flex gap-4 items-start",children:[m.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Interested"}),m.jsx("p",{className:"text-xl font-bold text-gray-800",children:F.Interested})]})]})]}),m.jsxs("div",{className:"flex gap-4 mb-4 justify-between py-4",children:[m.jsx("h2",{className:"text-xl font-bold",children:"Activity"}),m.jsxs("div",{className:"flex gap-4",children:[m.jsx(Mi,{selectedSource:_,setSelectedSource:I}),m.jsx(_r,{value:a,onChange:l})]})]}),m.jsxs("div",{className:"ag-theme-alpine",style:{height:570},children:[m.jsx(zt,{rowData:i,columnDefs:j,pagination:!0,paginationPageSize:100,quickFilterText:a,masterDetail:!0,detailCellRendererParams:$}),m.jsx(Ri,{statusModalData:S,setStatusModalData:M,statusData:b,statusFullData:f,commentMap:k,setCommentMap:P,dateTimeMap:R,setDateTimeMap:T,setIsChange:y}),m.jsx(Ti,{noteModalData:A,setNoteModalData:O}),B&&m.jsx(ki,{customerId:B,onClose:()=>U(null)})]})]})}function _ze(){const[e,t]=C.useState([]),[n,r]=C.useState([]),[i,s]=C.useState([]),[o,a]=C.useState([]),[l,c]=C.useState(null),[d,f]=C.useState({}),[p,v]=C.useState({}),[y,b]=C.useState(!1),[x,S]=C.useState(""),[M,R]=C.useState(null),[T,k]=C.useState(null),[P,A]=C.useState("0"),[O,B]=C.useState(null),U=Rt(),[_,I]=C.useState({Demo:0,FollowUp:0,NotPickedCall:0,Deal:0,Interested:0});C.useEffect(()=>{me.get(`${F}/customers/fetch-customer-status`).then(W=>{const K={Demo:0,FollowUp:0,Deal:0,Interested:0};W.data.data.forEach(H=>{H.status==="Demo"&&K.Demo++,H.status==="Follow Up"&&K.FollowUp++,H.status==="Deal"&&K.Deal++,H.status==="Interested"&&K.Interested++}),I(K)}).catch(W=>{console.error("Error fetching customer status:",W)})},[]);const V=C.useRef(),F="https://crm.softwaresetu.com/api",L=async()=>{try{const W=await me.get(`${F}/customers/get-lead-data`),K=W.data.filter(H=>H.status_id==1||H.status_id==4||H.status_id==16);console.log(W,"filteredData.."),t(K),r(K)}catch(W){console.error("Error fetching lead history:",W),be.error("Failed to load customer data")}},z=async()=>{try{const W=await me.get(`${F}/status`),K=W.data.map(H=>H.name);s(K),a(W.data)}catch(W){console.error("Error fetching statuses:",W),be.error("Failed to load statuses")}};C.useEffect(()=>{L(),z()},[y]);const j=C.useMemo(()=>[{headerName:"Name",field:"name"},{headerName:"Mobile",field:"mobile"},{headerName:"Comment",field:"comment",minWidth:700,autoHeight:!0,cellRenderer:W=>m.jsxs("div",{className:"flex items-center justify-between gap-2",children:[m.jsx("span",{className:"truncate max-w-[600px]",children:W.data.comment}),m.jsx("button",{className:"p-1 text-gray-600 rounded hover:bg-gray-300",onClick:()=>k(W.data.customer_id),title:"View Comments",children:m.jsx(Si,{size:18})})]})},{headerName:"Status",field:"status"},{headerName:"Assigned To",field:"employee_name"},{headerName:"Updated By",field:"updated_by"},{headerName:"Status Change",field:"status",width:150,maxWidth:150,cellRenderer:W=>m.jsxs("div",{className:"flex gap-8 items-center justify-center",children:[m.jsx("button",{className:"p-1 rounded hover:bg-gray-100 flex",onClick:()=>c({customer_id:W.data.customer_id,currentStatus:W.value,newStatus:W.value,batch_id:W.data.batch_id}),children:m.jsx(ti,{size:14,className:"text-gray-600"})}),m.jsx("span",{class:"border-l border-gray-400 h-6 inline-block"}),m.jsx("button",{className:"p-1 rounded hover:bg-gray-100 flex",onClick:()=>{console.log("Customer ID:",W.data.customer_id),R({customer_id:W.data.customer_id})},children:m.jsx(cl,{size:14,className:"text-gray-600"})})]})},{headerName:"Created At",field:"created_at",sortable:!0,filter:!0,valueFormatter:W=>W.value?new Date(W.value).toLocaleString("en-IN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0}):""},{headerName:"Updated At",field:"updated_at",sortable:!0,filter:!0,valueFormatter:W=>W.value?new Date(W.value).toLocaleString("en-IN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0}):""}],[i]),$=C.useMemo(()=>({resizable:!0,sortable:!0,filter:!0}),[]);return C.useEffect(()=>{if(P!="0"){let W=n.filter(K=>K.batch_id==P);t(W)}else t(n)},[P]),console.log(e.length,"lenght..."),m.jsxs("div",{className:"p-6 bg-gray-50 rounded-lg shadow-md",children:[m.jsxs("div",{className:"flex flex-wrap gap-6 justify-center",children:[m.jsxs("div",{className:"bg-white rounded-2xl shadow-lg w-48 h-20 p-4 flex items-center justify-center text-center hover:shadow-2xl transition-shadow duration-300 cursor-pointer",onClick:()=>{U("/admin-demo")},children:[m.jsx(Ir,{className:"w-8 h-8 text-blue-500 mr-3"}),m.jsxs("div",{className:"flex gap-4 items-start",children:[m.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Demo"}),m.jsx("p",{className:"text-xl font-bold text-gray-800",children:_.Demo})]})]}),m.jsxs("div",{className:"bg-white rounded-2xl shadow-lg w-48 h-20 p-4 flex items-center justify-center text-center hover:shadow-2xl transition-shadow duration-300 cursor-pointer",onClick:()=>{U("/admin-follow")},children:[m.jsx(rn,{className:"w-8 h-8 text-green-500 mr-3"}),m.jsxs("div",{className:"flex gap-4 items-start",children:[m.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Followup"}),m.jsx("p",{className:"text-xl font-bold text-gray-800",children:_.FollowUp})]})]}),m.jsxs("div",{className:"bg-white rounded-2xl shadow-lg w-48 h-20 p-4 flex items-center justify-center text-center hover:shadow-2xl transition-shadow duration-300 cursor-pointer",onClick:()=>{U("/admin-interested")},children:[m.jsx($t,{className:"w-8 h-8 text-pink-500 mr-3"}),m.jsxs("div",{className:"flex gap-4 items-start",children:[m.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Interested"}),m.jsx("p",{className:"text-xl font-bold text-gray-800",children:_.Interested})]})]})]}),m.jsxs("div",{className:"flex justify-between p-4",children:[m.jsx("h2",{className:"text-xl font-bold mb-4",children:"DFI"}),m.jsxs("div",{className:"flex gap-4",children:[m.jsx(Mi,{selectedSource:P,setSelectedSource:A}),m.jsx(_r,{value:x,onChange:S})]})]}),m.jsx("div",{className:"ag-theme-alpine",style:{height:615},children:m.jsx(zt,{ref:V,rowData:e,columnDefs:j,defaultColDef:$,animateRows:!0,singleClickEdit:!0,rowSelection:"multiple",quickFilterText:x,onRowClicked:W=>B(W.data.id),getRowStyle:W=>W.data.id===O?{backgroundColor:"#c4c4c4",borderLeft:"4px solid #22c55e",transition:"background-color 0.3s ease"}:null})}),m.jsx(Ri,{statusModalData:l,setStatusModalData:c,statusData:i,statusFullData:o,commentMap:p,setCommentMap:v,dateTimeMap:d,setDateTimeMap:f,setIsChange:b}),m.jsx(Ti,{noteModalData:M,setNoteModalData:R}),T&&m.jsx(ki,{customerId:T,onClose:()=>k(null)})]})}function jze(){const[e,t]=C.useState(""),[n,r]=C.useState([]),[i,s]=C.useState([]),[o,a]=C.useState([]),[l,c]=C.useState({}),[d,f]=C.useState([]),[p,v]=C.useState(!1),[y,b]=C.useState(null),[x,S]=C.useState({}),[M,R]=C.useState(null),[T,k]=C.useState(null),[P,A]=C.useState("0"),O=C.useRef(),B="https://crm.softwaresetu.com/api",U=JSON.parse(localStorage.getItem("user")),_=Rt(),[I,V]=C.useState({Demo:0,FollowUp:0,Deal:0,Interested:0});C.useEffect(()=>{me.get(`${B}/customers/fetch-customer-status/${U?.id}`).then(W=>{const K={Demo:0,FollowUp:0,Deal:0,Interested:0};W.data.data.forEach(H=>{H.status==="Demo"&&K.Demo++,H.status==="Follow Up"&&K.FollowUp++,H.status==="Deal"&&K.Deal++,H.status==="Interested"&&K.Interested++}),V(K)}).catch(W=>{console.error("Error fetching customer status:",W)})},[]);const F=async()=>{try{const W=localStorage.getItem("token"),H=JSON.parse(localStorage.getItem("user"))?.id;if(!H)return;const{data:Y}=await me.get(`${B}/employee/status/data`,{headers:{Authorization:`Bearer ${W}`},params:{employeeId:H}}),Z=Y.data.filter(X=>X.status_id==1||X.status_id==4||X.status_id==16);r(Z||[]),s(Z||[])}catch(W){console.error("Error fetching customer data:",W),r([])}},L=async()=>{try{const W=await me.get(`${B}/status`),K=W.data.map(H=>H.name);a(K),f(W.data)}catch(W){console.error("Error fetching statuses:",W),be.error("Failed to load statuses ")}};C.useEffect(()=>{F(),L()},[p]);const z={defaultColDef:{flex:1,resizable:!0,sortable:!0,filter:!0},singleClickEdit:!0},j=C.useMemo(()=>[{headerName:"Name",field:"name",flex:1},{headerName:"Mobile",field:"mobile",flex:1},{headerName:"Status",field:"status"},{headerName:"Comment",field:"comment",minWidth:700,autoHeight:!0,cellRenderer:W=>m.jsxs("div",{className:"flex items-center justify-between gap-2",children:[m.jsx("span",{className:"truncate max-w-[600px]",children:W.data.comment}),m.jsx("button",{className:"p-1 text-gray-600 rounded hover:bg-gray-300",onClick:()=>k(W.data.customer_id),title:"View Comments",children:m.jsx(Si,{size:18})})]})},{headerName:"Status Change",field:"status",width:150,maxWidth:150,cellRenderer:W=>m.jsxs("div",{className:"flex gap-8 items-center justify-center",children:[m.jsx("button",{className:"p-1 rounded hover:bg-gray-100 flex",onClick:()=>b({customer_id:W.data.customer_id,currentStatus:W.value,newStatus:W.value,batch_id:W.data.batch_id}),children:m.jsx(ti,{size:14,className:"text-gray-600"})}),m.jsx("span",{className:"border-l border-gray-400 h-6 inline-block"}),m.jsx("button",{className:"p-1 rounded hover:bg-gray-100 flex",onClick:()=>{R({customer_id:W.data.customer_id})},children:m.jsx(cl,{size:14,className:"text-gray-600"})})]})},{headerName:"Follow Up / Demo Date",field:"followup_datetime",flex:1,filter:"agDateColumnFilter",valueFormatter:W=>W.value?new Date(W.value).toLocaleString("en-IN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0}):""}],[o]),$=C.useMemo(()=>({resizable:!0,sortable:!0,filter:!0}),[]);return C.useEffect(()=>{if(P!="0"){let W=i.filter(K=>K.batch_id==P);r(W)}else r(i)},[P]),m.jsxs("div",{className:"p-6 bg-gray-50 rounded-lg shadow-md",children:[m.jsxs("div",{className:"flex flex-wrap gap-6 justify-center",children:[m.jsxs("div",{className:"bg-white rounded-2xl shadow-lg w-48 h-20 p-4 flex items-center justify-center text-center hover:shadow-2xl transition-shadow duration-300 cursor-pointer",onClick:()=>{_("/demo")},children:[m.jsx(Ir,{className:"w-8 h-8 text-blue-500 mr-3"}),m.jsxs("div",{className:"flex gap-4 items-start",children:[m.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Demo"}),m.jsx("p",{className:"text-xl font-bold text-gray-800",children:I.Demo})]})]}),m.jsxs("div",{className:"bg-white rounded-2xl shadow-lg w-48 h-20 p-4 flex items-center justify-center text-center hover:shadow-2xl transition-shadow duration-300 cursor-pointer",onClick:()=>{_("/follow-up")},children:[m.jsx(rn,{className:"w-8 h-8 text-green-500 mr-3"}),m.jsxs("div",{className:"flex gap-4 items-start",children:[m.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Followup"}),m.jsx("p",{className:"text-xl font-bold text-gray-800",children:I.FollowUp})]})]}),m.jsxs("div",{className:"bg-white rounded-2xl shadow-lg w-48 h-20 p-4 flex items-center justify-center text-center hover:shadow-2xl transition-shadow duration-300 cursor-pointer",onClick:()=>{_("/user-interested")},children:[m.jsx($t,{className:"w-8 h-8 text-pink-500 mr-3"}),m.jsxs("div",{className:"flex gap-4 items-start",children:[m.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Interested"}),m.jsx("p",{className:"text-xl font-bold text-gray-800",children:I.Interested})]})]})]}),m.jsxs("div",{className:"flex justify-between p-4",children:[m.jsx("h2",{className:"text-xl font-bold mb-4",children:"All Customers DFI"}),m.jsxs("div",{className:"flex gap-4",children:[m.jsx(Mi,{selectedSource:P,setSelectedSource:A}),m.jsx(_r,{value:e,onChange:t})]})]}),m.jsxs("div",{className:"ag-theme-alpine",style:{height:723},children:[m.jsx(zt,{ref:O,rowData:n,columnDefs:j,defaultColDef:$,pagination:!0,paginationPageSize:100,paginationAutoPageSize:!0,animateRows:!0,singleClickEdit:!0,gridOptions:z,rowSelection:"multiple",quickFilterText:e}),m.jsx(Ri,{statusModalData:y,setStatusModalData:b,statusData:o,statusFullData:d,commentMap:x,setCommentMap:S,dateTimeMap:l,setDateTimeMap:c,setIsChange:v}),m.jsx(Ti,{noteModalData:M,setNoteModalData:R}),T&&m.jsx(ki,{customerId:T,onClose:()=>k(null)})]})]})}const uz=C.forwardRef(({value:e,onClick:t},n)=>{const r=e||new Date().toLocaleDateString("en-GB");return m.jsxs("div",{onClick:t,ref:n,className:"flex items-center justify-between border rounded px-2 py-2 w-44 cursor-pointer bg-white",children:[m.jsx("span",{className:"text-sm",children:r}),m.jsx(rn,{className:"w-4 h-4 text-gray-500"})]})});function Bze(){const[e,t]=C.useState(""),[n,r]=C.useState([]),[i,s]=C.useState([]),[o,a]=C.useState(new Date),[l,c]=C.useState(new Date),[d,f]=C.useState(null),[p,v]=C.useState("employee"),y="https://crm.softwaresetu.com/api",b=S=>{if(!S)return null;const M=S.getFullYear(),R=String(S.getMonth()+1).padStart(2,"0"),T=String(S.getDate()).padStart(2,"0");return`${M}-${R}-${T}`},x=async()=>{try{let S="";if(p==="employee"){const k=b(o),P=b(l);S=`${y}/customers/get-status-employee?start=${k}&end=${P}`}else{const k=b(new Date);S=`${y}/customers/source-status-daily?date=${k}`}let R=(await me.get(S)).data?.data||[];Array.isArray(R)||(console.warn("Unexpected API response:",R),R=[]);const T=R.map((k,P)=>({...k,rowId:P}));if(r(T),T.length>0){const P=Object.keys(T[0]).filter(A=>A!=="rowId").map(A=>({headerName:A.replace(/_/g," ").toUpperCase(),field:A,flex:1,minWidth:110,cellStyle:{textAlign:"center"}}));s(P)}else s([])}catch(S){console.error("Error fetching customer status:",S)}};return C.useEffect(()=>{x()},[o,l,p]),m.jsxs("div",{className:"p-6 bg-gray-50 shadow-md rounded-lg relative",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsx("h2",{className:"text-xl font-bold",children:p==="employee"?"Customer Status (Employee Wise)":"Customer Status (Source Wise - Daily)"}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{className:`px-4 py-2 rounded ${p==="employee"?"bg-blue-600 text-white":"bg-gray-200 hover:bg-gray-300"}`,onClick:()=>v("employee"),children:"Employee Wise"}),m.jsx("button",{className:`px-4 py-2 rounded ${p==="source"?"bg-blue-600 text-white":"bg-gray-200 hover:bg-gray-300"}`,onClick:()=>v("source"),children:"Source Wise"})]})]}),m.jsxs("div",{className:"flex justify-between items-end gap-4 mb-4",children:[p==="employee"&&m.jsxs("div",{className:"flex items-end gap-4 mb-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium",children:"From Date"}),m.jsx(no,{selected:o,onChange:S=>a(S),customInput:m.jsx(uz,{}),dateFormat:"dd-MM-yyyy",popperPlacement:"bottom-start"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium",children:"To Date"}),m.jsx(no,{selected:l,onChange:S=>c(S),customInput:m.jsx(uz,{}),dateFormat:"dd-MM-yyyy",popperPlacement:"bottom-start"})]}),m.jsx("button",{onClick:()=>{a(new Date),c(new Date)},className:"bg-gray-200 px-4 py-2 rounded hover:bg-gray-300",children:"Reset"})]}),m.jsx("div",{className:"flex items-end gap-4 mb-4",children:m.jsx(_r,{value:e,onChange:t})})]}),m.jsx("div",{className:"ag-theme-alpine",style:{height:625},children:m.jsx(zt,{rowData:n,columnDefs:i,pagination:!0,paginationPageSize:100,defaultColDef:{sortable:!0,filter:!0,resizable:!0,minWidth:180,flex:1},suppressHorizontalScroll:!1,quickFilterText:e,onRowClicked:S=>f(S.data.rowId),getRowStyle:S=>S.data.rowId===d?{backgroundColor:"#c4c4c4",borderLeft:"4px solid #22c55e",transition:"background-color 0.3s ease"}:null})})]})}Yo.registerModules([oQ]);const dz=C.forwardRef(({value:e,onClick:t,placeholder:n},r)=>m.jsxs("div",{onClick:t,ref:r,className:"flex items-center justify-between border rounded px-2 py-2 w-40 cursor-pointer bg-white",children:[m.jsx("span",{className:"text-sm",children:e||n}),m.jsx(rn,{className:"w-4 h-4 text-gray-500"})]}));function Hze(){const[e,t]=C.useState([]),[n,r]=C.useState([]),i=new Date,s=new Date(i.getFullYear(),i.getMonth(),1),o=new Date(i.getFullYear(),i.getMonth()+1,0),[a,l]=C.useState(s),[c,d]=C.useState(o),[f,p]=C.useState(null),[v,y]=C.useState([{user_id:"6",employee_name:"Goutam Dhangar"},{user_id:"7",employee_name:"Sneha Tiwari"}]),[b,x]=C.useState("all"),[S,M]=C.useState(!1);console.log(b,"selectedUser..");const R=C.useRef(null),T=[{headerName:"DATE",field:"demo_date",sortable:!0,filter:!0,valueFormatter:O=>{if(!O.value)return"";const B=new Date(O.value),U=String(B.getDate()).padStart(2,"0"),_=String(B.getMonth()+1).padStart(2,"0"),I=B.getFullYear();return`${U}-${_}-${I}`}},{headerName:"TOTAL DEMOS",field:"total_demos",sortable:!0,filter:!0,cellStyle:{backgroundColor:"#f0f9ff"},valueFormatter:O=>O.value||"0"},{headerName:"TOTAL FOLLOW UPS",field:"total_followups",sortable:!0,filter:!0,cellStyle:{backgroundColor:"#f0fdf4"},valueFormatter:O=>O.value||"0"},{headerName:"TOTAL WORKED",field:"total_worked",sortable:!0,filter:!0,cellStyle:{backgroundColor:"#fef2f2"},valueFormatter:O=>O.value||"0"}],k=[{headerName:"NAME",field:"name"},{headerName:"MOBILE",field:"mobile"},{headerName:"EMPLOYEE",field:"employee_name"},{headerName:"STATUS",field:"status"},{headerName:"FOLLOWUP DATE/TIME",field:"followup_datetime",valueFormatter:O=>O.value?new Date(O.value).toLocaleString():""}];C.useEffect(()=>{(async()=>{try{const B=await me.get("https://crm.softwaresetu.com/api/employee/get");y(B.data)}catch(B){console.error("Error fetching users:",B)}})()},[]),C.useEffect(()=>{(async()=>{M(!0);try{const B={};b!=="all"&&(B.userId=b);const U=await me.get("https://crm.softwaresetu.com/api/customers/daily-demos-user",{params:B});console.log("API Response:",U.data);const _=U.data.map((I,V)=>({...I,rowId:V,total_demos:parseInt(I.total_demos)||0,total_followups:parseInt(I.total_followups)||0,total_all:parseInt(I.total_all)||0,total_worked:parseInt(I.total_worked)||0}));t(_),r(_)}catch(B){console.error("Error fetching daily demos:",B)}finally{M(!1)}})()},[b]),C.useEffect(()=>{if(e.length!==0)if(!a&&!c)r(e);else{const O=e.filter(B=>{if(!B.demo_date)return!1;const U=new Date(B.demo_date),_=a?new Date(a):null,I=c?new Date(c):null;return _&&_.setHours(0,0,0,0),I&&I.setHours(23,59,59,999),_&&I?U>=_&&U<=I:_?U>=_:I?U<=I:!0});r(O)}},[a,c,e]);const P=C.useMemo(()=>({detailGridOptions:{columnDefs:k,defaultColDef:{flex:1,resizable:!0},pagination:!0,paginationPageSize:5},getDetailRowData:O=>{O.successCallback(O.data.demo_data||[])}}),[]),A=()=>{const O=new Date,B=new Date(O.getFullYear(),O.getMonth(),1),U=new Date(O.getFullYear(),O.getMonth()+1,0);l(B),d(U),x("all")};return m.jsxs("div",{className:"p-6 bg-gray-50 shadow-md rounded-lg",children:[m.jsx("h2",{className:"text-xl font-bold mb-4",children:"User Wise Demo & Follow Up Status"}),m.jsxs("div",{className:"flex items-end gap-4 mb-4 flex-wrap",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-1",children:"Select User"}),m.jsxs("div",{className:"relative",children:[m.jsxs("select",{value:b,onChange:O=>x(O.target.value),className:"border rounded px-3 py-2 w-48 appearance-none bg-white cursor-pointer",children:[m.jsx("option",{value:"all",children:"All Users"}),v.map(O=>m.jsx("option",{value:O.id,children:O.name},O.id))]}),m.jsx($t,{className:"absolute right-3 top-2.5 w-4 h-4 text-gray-500 pointer-events-none"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium",children:"From Date"}),m.jsx(no,{selected:a,onChange:O=>l(O),customInput:m.jsx(dz,{placeholder:"Select date"}),dateFormat:"dd-MM-yyyy",popperPlacement:"bottom-start"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium",children:"To Date"}),m.jsx(no,{selected:c,onChange:O=>d(O),customInput:m.jsx(dz,{placeholder:"Select date"}),dateFormat:"dd-MM-yyyy",popperPlacement:"bottom-start"})]}),m.jsx("button",{onClick:A,className:"bg-gray-200 px-4 py-2 rounded hover:bg-gray-300 transition-colors",children:"Reset"})]}),n.length>0&&m.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-4",children:[m.jsxs("div",{className:"bg-blue-50 p-3 rounded border",children:[m.jsx("div",{className:"text-sm text-blue-600",children:"Total Demos"}),m.jsx("div",{className:"text-xl font-bold",children:n.reduce((O,B)=>O+(parseInt(B.total_demos)||0),0)})]}),m.jsxs("div",{className:"bg-green-50 p-3 rounded border",children:[m.jsx("div",{className:"text-sm text-green-600",children:"Total Follow Ups"}),m.jsx("div",{className:"text-xl font-bold",children:n.reduce((O,B)=>O+(parseInt(B.total_followups)||0),0)})]}),m.jsxs("div",{className:"bg-yellow-50 p-3 rounded border",children:[m.jsx("div",{className:"text-sm text-yellow-600",children:"Total All"}),m.jsx("div",{className:"text-xl font-bold",children:n.reduce((O,B)=>O+(parseInt(B.total_all)||0),0)})]}),m.jsxs("div",{className:"bg-red-50 p-3 rounded border",children:[m.jsx("div",{className:"text-sm text-red-600",children:"Total Worked"}),m.jsx("div",{className:"text-xl font-bold",children:n.reduce((O,B)=>O+(parseInt(B.total_worked)||0),0)})]})]}),S&&m.jsxs("div",{className:"text-center py-4",children:[m.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),m.jsx("p",{className:"mt-2 text-gray-600",children:"Loading data..."})]}),m.jsx("div",{className:"ag-theme-alpine",style:{height:650,width:"100%"},children:m.jsx(zt,{ref:R,rowData:n,columnDefs:T,masterDetail:!0,detailCellRendererParams:P,pagination:!0,paginationPageSize:100,getRowStyle:O=>O.data.rowId===f?{backgroundColor:"#c4c4c4",borderLeft:"4px solid #22c55e",transition:"background-color 0.3s ease"}:null})})]})}const zze=()=>{const[e,t]=C.useState([]),[n,r]=C.useState([]),[i,s]=C.useState("all"),[o,a]=C.useState(!1),[l,c]=C.useState("today"),[d,f]=C.useState(null),{user:p}=tx(),v=Rt(),y="https://crm.softwaresetu.com/api",[b,x]=C.useState(null);C.useEffect(()=>{const O=localStorage.getItem("user");if(O)try{const B=JSON.parse(O);x(B),B.role!=="admin"&&s(B.id.toString())}catch(B){console.error("Error parsing user data:",B)}},[]),C.useEffect(()=>{(async()=>{if(b?.role==="admin")try{const B=await me.get(`${y}/analytics/employees`);B.data.success&&r(B.data.data)}catch(B){console.error("Error fetching employees:",B)}})()},[b,y]),C.useEffect(()=>{S()},[l,i,b]);const S=async()=>{if(b){a(!0);try{const O={date_range:l};b.role==="admin"?i!=="all"&&(O.employee_id=i):O.employee_id=b.id;const B=await me.get(`${y}/analytics/hourly-calls`,{params:O});B.data.success&&(t(B.data.data),f(B.data.time_range))}catch(O){console.error("Error fetching performance data:",O)}finally{a(!1)}}},M=()=>{S()},R=({active:O,payload:B,label:U})=>O&&B&&B.length?m.jsxs("div",{className:"bg-white p-3 border border-gray-300 rounded shadow-lg",children:[m.jsx("p",{className:"font-bold",children:`Time Range: ${B[0].payload.time_range}`}),m.jsxs("p",{className:"text-blue-600 flex items-center gap-2",children:[m.jsx(kw,{className:"w-4 h-4"}),`${B[0].value} Calls`]}),m.jsx("p",{className:"text-xs text-gray-500 mt-1",children:b?.role==="admin"?"Based on status updates":"Based on your status updates"})]}):null,T=C.useMemo(()=>{if(e.length===0)return null;const O=e.reduce((_,I)=>_+I.call_count,0),B=e.reduce((_,I)=>I.call_count>_.call_count?I:_,{time_range:"",call_count:0}),U=e.length>0?Math.round(O/e.length):0;return{totalCalls:O,peakHour:B.time_range,peakHourCalls:B.call_count,avgPerHour:U}},[e]),k=O=>{if(!O)return"Loading...";const B=O.start_hour,U=O.end_hour,_=I=>{const[V,F]=I.split(":"),L=parseInt(V),z=L>=12?"PM":"AM";return`${L%12||12}:${F} ${z}`};return`${_(B)} - ${_(U)}`},P=()=>{c("today"),b?.role==="admin"&&s("all")};if(!b)return m.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:m.jsx("div",{className:"max-w-7xl mx-auto",children:m.jsxs("div",{className:"text-center py-8",children:[m.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),m.jsx("p",{className:"mt-2 text-gray-600",children:"Loading user data..."})]})})});const A=b.role==="admin";return m.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:m.jsxs("div",{className:"max-w-7xl mx-auto",children:[m.jsxs("div",{className:"flex items-center justify-between mb-6",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsxs("button",{onClick:()=>v(-1),className:"flex items-center gap-2 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition",children:[m.jsx(Yre,{className:"w-4 h-4"}),"Back"]}),m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx($t,{className:"w-8 h-8 text-blue-600"}),m.jsxs("div",{children:[m.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:A?"Performance Analytics":"My Performance"}),m.jsx("p",{className:"text-gray-600",children:A?"Call activity and performance metrics":"Your call activity and performance metrics"})]})]})]}),m.jsxs("div",{className:"flex items-center gap-4",children:[A?m.jsxs("div",{className:"flex items-center gap-1 bg-blue-100 px-3 py-1 rounded-full",children:[m.jsx(hG,{className:"w-4 h-4 text-blue-600"}),m.jsx("span",{className:"text-sm font-medium text-blue-700",children:"Admin Mode"})]}):m.jsxs("div",{className:"flex items-center gap-1 bg-green-100 px-3 py-1 rounded-full",children:[m.jsx($t,{className:"w-4 h-4 text-green-600"}),m.jsx("span",{className:"text-sm font-medium text-green-700",children:"My Performance"})]}),m.jsxs("button",{onClick:M,disabled:o,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 transition",children:[m.jsx(dG,{className:`w-4 h-4 ${o?"animate-spin":""}`}),o?"Refreshing...":"Refresh"]})]})]}),m.jsx("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center",children:m.jsx($t,{className:"w-8 h-8 text-blue-600"})}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-xl font-bold text-gray-800",children:b?.name}),m.jsx("p",{className:"text-gray-600",children:b?.email}),m.jsx("p",{className:"text-sm text-gray-500",children:A?"Administrator":`Employee ID: ${b?.id}`})]})]}),m.jsxs("div",{className:"flex items-center gap-4",children:[A&&m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Select Employee"}),m.jsxs("div",{className:"relative",children:[m.jsxs("select",{value:i,onChange:O=>s(O.target.value),className:"border rounded px-3 py-2 w-48 appearance-none bg-white cursor-pointer",children:[m.jsx("option",{value:"all",children:"All Employees"}),n.map(O=>m.jsx("option",{value:O.id,children:O.name},O.id))]}),m.jsx($t,{className:"absolute right-3 top-2.5 w-4 h-4 text-gray-500 pointer-events-none"})]})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Performance Period"}),m.jsxs("select",{value:l,onChange:O=>c(O.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[m.jsx("option",{value:"today",children:"Today"}),m.jsx("option",{value:"week",children:"This Week"}),m.jsx("option",{value:"month",children:"This Month"})]})]}),m.jsx("button",{onClick:P,className:"bg-gray-200 px-4 py-2 rounded hover:bg-gray-300 transition-colors mt-6",children:"Reset"})]})]})}),m.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg",children:[m.jsx("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center mb-6 gap-4",children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx(Qg,{className:"w-6 h-6 text-blue-600"}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-xl font-semibold",children:A?"Call Activity Analytics":"Your Call Activity"}),d&&m.jsxs("p",{className:"text-sm text-gray-600 flex items-center gap-1",children:[m.jsx(uG,{className:"w-3 h-3"}),A?"Showing calls from":"Showing your calls from"," ",k(d)]})]})]})}),d&&m.jsx("div",{className:"mb-6 p-4 bg-blue-50 rounded-lg border border-blue-200",children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx(Tw,{className:"w-5 h-5 text-blue-600"}),m.jsxs("div",{children:[m.jsx("p",{className:"font-medium text-blue-800",children:A?"Activity Time Range":"Your Activity Time Range"}),m.jsxs("p",{className:"text-sm text-blue-600",children:[A?i==="all"?"Showing all employees data":`Showing data for ${n.find(O=>O.id==i)?.name||"selected employee"}`:"Showing your call activity",m.jsx("span",{className:"mx-2",children:""}),"Showing ",e.length," hours of call activity"]})]})]})}),m.jsx("div",{className:"h-80 w-full",children:o?m.jsx("div",{className:"flex items-center justify-center h-full",children:m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):e.length>0?m.jsx(G9,{width:"100%",height:"100%",children:m.jsxs(hY,{data:e,children:[m.jsx(ON,{strokeDasharray:"3 3"}),m.jsx(FN,{dataKey:"hour",label:{value:"Time Slots (HH:00 - HH:00) - IST",position:"insideBottom",offset:-5}}),m.jsx(IN,{label:{value:"Number of Calls",angle:-90,position:"insideLeft"}}),m.jsx(EK,{content:m.jsx(R,{})}),m.jsx(EP,{}),m.jsx(kN,{dataKey:"call_count",name:A?"Calls":"Your Calls",fill:"#3b82f6",radius:[4,4,0,0]})]})}):m.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:A?"No call activity data available":"No call activity data available for your account"})}),T&&T.totalCalls>0&&m.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-4 gap-4",children:[m.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[m.jsx("p",{className:"text-sm text-blue-600",children:A?"Total Calls":"Your Total Calls"}),m.jsx("p",{className:"text-2xl font-bold text-blue-800",children:T.totalCalls}),m.jsxs("p",{className:"text-xs text-blue-600 mt-1 flex items-center gap-1",children:[m.jsx(kw,{className:"w-3 h-3"}),"Status updates"]})]}),m.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[m.jsx("p",{className:"text-sm text-green-600",children:A?"Peak Activity":"Your Peak Activity"}),m.jsx("p",{className:"text-lg font-bold text-green-800",children:T.peakHour}),m.jsxs("p",{className:"text-xs text-green-600 mt-1",children:[T.peakHourCalls," calls"]})]}),m.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[m.jsx("p",{className:"text-sm text-purple-600",children:A?"Avg per Hour":"Your Avg per Hour"}),m.jsx("p",{className:"text-2xl font-bold text-purple-800",children:T.avgPerHour})]}),m.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg",children:[m.jsx("p",{className:"text-sm text-orange-600",children:A?"Time Coverage":"Your Time Coverage"}),m.jsx("p",{className:"text-lg font-bold text-orange-800",children:d?`${d.start_hour} to ${d.end_hour}`:"N/A"}),m.jsxs("p",{className:"text-xs text-orange-600 mt-1",children:["Based on ",A?"first update":"your first update"]})]})]})]}),T&&T.totalCalls>0&&m.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-6",children:[m.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg",children:[m.jsx("h3",{className:"text-lg font-semibold mb-4",children:A?"Performance Insights":"Your Performance Insights"}),m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("span",{className:"text-gray-600",children:"Productivity Hours"}),m.jsxs("span",{className:"font-bold",children:[e.filter(O=>O.call_count>0).length," hrs"]})]}),m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("span",{className:"text-gray-600",children:"Best Performing Hour"}),m.jsx("span",{className:"font-bold text-green-600",children:T.peakHour})]}),m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("span",{className:"text-gray-600",children:"Calls per Active Hour"}),m.jsx("span",{className:"font-bold",children:Math.round(T.totalCalls/e.filter(O=>O.call_count>0).length)})]})]})]}),m.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg",children:[m.jsx("h3",{className:"text-lg font-semibold mb-4",children:A?"Summary":"Your Summary"}),m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("span",{className:"text-gray-600",children:"Active Time Period"}),m.jsxs("span",{className:"font-bold",children:[e.length," hrs"]})]}),m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("span",{className:"text-gray-600",children:"Average Calls per Hour"}),m.jsx("span",{className:"font-bold",children:T.avgPerHour})]}),m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("span",{className:"text-gray-600",children:"Total Activity"}),m.jsxs("span",{className:"font-bold text-blue-600",children:[T.totalCalls," calls"]})]})]})]})]})]})})};function Gze(){const[e,t]=C.useState([]),[n,r]=C.useState([]),[i,s]=C.useState("all"),[o,a]=C.useState(new Date().getFullYear()),[l,c]=C.useState(!1),[d,f]=C.useState(!1),[p,v]=C.useState(null),[y,b]=C.useState(null),x=C.useMemo(()=>{const A=new Date().getFullYear();return Array.from({length:6},(O,B)=>A-B)},[]),S=C.useMemo(()=>[{headerName:"MONTH",field:"month",sortable:!0,filter:!0,width:200,cellStyle:{fontWeight:"bold",backgroundColor:"#f8fafc"}},{headerName:"TOTAL DEALS",field:"total_deals",sortable:!0,filter:!0,width:180,cellStyle:{backgroundColor:"#dcfce7",fontWeight:"bold"},valueFormatter:A=>A.value||"0",cellRenderer:A=>{const O=A.value||0,B=O>0;return m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("span",{children:O}),B&&m.jsxs("button",{onClick:()=>M(A.data),className:"flex items-center gap-1 text-blue-600 hover:text-blue-800 text-sm ml-2 px-2 py-0.2 rounded border border-blue-200 hover:bg-blue-50 transition-colors",children:[m.jsx(Wm,{className:"w-3 h-3"}),"View Leads"]})]})}}],[]);C.useEffect(()=>{const A=localStorage.getItem("user");if(A)try{const O=JSON.parse(A);b(O),O.role!=="admin"&&s(O.id.toString())}catch(O){console.error("Error parsing user data:",O)}},[]),C.useEffect(()=>{(async()=>{if(y?.role==="admin")try{const O=await me.get("https://crm.softwaresetu.com/api/employee/get");r(O.data)}catch(O){console.error("Error fetching users:",O)}})()},[y]),C.useEffect(()=>{(async()=>{if(y){c(!0);try{const O={year:o};y.role==="admin"?i!=="all"&&(O.userId=i):O.userId=y.id;const B=await me.get("https://crm.softwaresetu.com/api/customers/monthly-deals",{params:O});t(B.data)}catch(O){console.error("Error fetching deal data:",O)}finally{c(!1)}}})()},[i,o,y]);const M=A=>{v(A),f(!0)},R=()=>{f(!1),v(null)},T=C.useMemo(()=>e.reduce((A,O)=>A+(parseInt(O.total_deals)||0),0),[e]),k=()=>{a(new Date().getFullYear()),y?.role==="admin"&&s("all")};if(!y)return m.jsx("div",{className:"p-6 bg-gray-50 shadow-md rounded-lg",children:m.jsxs("div",{className:"text-center py-8",children:[m.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),m.jsx("p",{className:"mt-2 text-gray-600",children:"Loading user data..."})]})});const P=y.role==="admin";return m.jsxs("div",{className:"p-6 bg-gray-50 shadow-md rounded-lg",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsx("h2",{className:"text-xl font-bold",children:"Monthly Deal Status Report"}),m.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[P?m.jsxs("div",{className:"flex items-center gap-1 bg-blue-100 px-3 py-1 rounded-full",children:[m.jsx(hG,{className:"w-4 h-4 text-blue-600"}),m.jsx("span",{children:"Admin Mode"})]}):m.jsxs("div",{className:"flex items-center gap-1 bg-green-100 px-3 py-1 rounded-full",children:[m.jsx($t,{className:"w-4 h-4 text-green-600"}),m.jsx("span",{children:"User Mode"})]}),m.jsx("span",{children:""}),m.jsx("span",{children:y.name})]})]}),m.jsxs("div",{className:"flex items-end gap-4 mb-6 flex-wrap",children:[P&&m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-1",children:"Select User"}),m.jsxs("div",{className:"relative",children:[m.jsxs("select",{value:i,onChange:A=>s(A.target.value),className:"border rounded px-3 py-2 w-48 appearance-none bg-white cursor-pointer",children:[m.jsx("option",{value:"all",children:"All Users"}),n.map(A=>m.jsx("option",{value:A.id,children:A.name},A.id))]}),m.jsx($t,{className:"absolute right-3 top-2.5 w-4 h-4 text-gray-500 pointer-events-none"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-1",children:"Select Year"}),m.jsxs("div",{className:"relative",children:[m.jsx("select",{value:o,onChange:A=>a(parseInt(A.target.value)),className:"border rounded px-3 py-2 w-32 appearance-none bg-white cursor-pointer",children:x.map(A=>m.jsx("option",{value:A,children:A},A))}),m.jsx(rn,{className:"absolute right-3 top-2.5 w-4 h-4 text-gray-500 pointer-events-none"})]})]}),m.jsx("button",{onClick:k,className:"bg-gray-200 px-4 py-2 rounded hover:bg-gray-300 transition-colors",children:"Reset"})]}),!P&&m.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border mb-6",children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:m.jsx($t,{className:"w-5 h-5 text-green-600"})}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-semibold text-gray-800",children:y.name}),m.jsxs("p",{className:"text-sm text-gray-600",children:["Viewing your deal performance for ",o]})]})]})}),T>0&&m.jsx("div",{className:"mb-6",children:m.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200 inline-block",children:[m.jsxs("div",{className:"text-sm text-green-600 font-medium",children:[P?"Total Deals":"Your Total Deals"," (",o,")"]}),m.jsx("div",{className:"text-2xl font-bold text-green-800",children:T}),m.jsx("div",{className:"text-xs text-green-600 mt-1",children:P?i==="all"?"All Users":`User: ${n.find(A=>A.id==i)?.name}`:"Your Performance"})]})}),l&&m.jsxs("div",{className:"text-center py-8",children:[m.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),m.jsx("p",{className:"mt-2 text-gray-600",children:"Loading deal data..."})]}),!l&&m.jsx("div",{className:"ag-theme-alpine",style:{height:600,width:"100%"},children:m.jsx(zt,{rowData:e,columnDefs:S,pagination:!0,paginationPageSize:12,defaultColDef:{resizable:!0,sortable:!0,filter:!0}})}),!l&&e.length===0&&m.jsx("div",{className:"text-center py-8 text-gray-500",children:P?"No deal data found for the selected criteria":"No deal data found for your account"}),d&&p&&m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:m.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-6xl max-h-[90vh] overflow-hidden",children:[m.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[m.jsxs("div",{children:[m.jsxs("h3",{className:"text-xl font-bold text-gray-800",children:["Leads for ",p.month," ",p.year]}),m.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Total ",p.total_deals," deals found"]})]}),m.jsx("button",{onClick:R,className:"text-gray-400 hover:text-gray-600 transition-colors",children:m.jsx(pG,{className:"w-6 h-6"})})]}),m.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)]",children:p.leads&&p.leads.length>0?m.jsx("div",{className:"space-y-4",children:p.leads.map((A,O)=>m.jsx("div",{className:"border rounded-lg p-4 bg-gray-50 hover:bg-white transition-colors",children:m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Customer Name"}),A.name?m.jsx(m.Fragment,{children:m.jsx("p",{className:"font-semibold",children:A.name})}):m.jsx(m.Fragment,{children:m.jsx("p",{className:"font-semibold",children:"N/A"})})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Email"}),A.email?m.jsx(m.Fragment,{children:m.jsx("p",{className:"text-blue-600",children:A.email})}):m.jsx(m.Fragment,{children:m.jsx("p",{className:"text-blue-600",children:"N/A"})})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Phone"}),m.jsx("p",{children:A.mobile||"N/A"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Assigned To"}),m.jsx("p",{children:A.assigned_user_name||"N/A"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Status"}),m.jsx("span",{className:"inline-block px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800",children:A.status})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Last Updated"}),m.jsx("p",{className:"text-sm",children:new Date(A.updated_at).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-sm font-medium text-gray-600",children:"First Update"}),m.jsx("p",{className:"text-sm",children:new Date(A.created_at).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})})]})]})},A.id))}):m.jsxs("div",{className:"text-center py-8 text-gray-500",children:["No leads found for ",p.month," ",p.year]})}),m.jsx("div",{className:"flex justify-end p-6 border-t bg-gray-50",children:m.jsx("button",{onClick:R,className:"px-4 py-2 bg-gray-300 text-gray-700 rounded hover:bg-gray-400 transition-colors",children:"Close"})})]})})]})}const hz="https://crm.softwaresetu.com/api",Vze=()=>{const[e,t]=C.useState([]),[n,r]=C.useState(!0),[i,s]=C.useState(""),[o,a]=C.useState(1),l=10,c=async()=>{try{r(!0);const{data:y}=await me.get(`${hz}/employee/get-active`);t(Array.isArray(y)?y:[])}catch(y){console.error("Failed to fetch employees:",y),t([])}finally{r(!1)}};C.useEffect(()=>{c()},[]);const d=async(y,b)=>{try{t(x=>x.map(S=>S.id===y?{...S,status:!b}:S)),await me.put(`${hz}/employee/status/${y}`,{status:!b})}catch(x){console.error("Error updating status:",x),t(S=>S.map(M=>M.id===y?{...M,status:b}:M))}},f=C.useMemo(()=>e.filter(y=>y.name?.toLowerCase().includes(i.toLowerCase())),[e,i]),p=Math.ceil(f.length/l),v=C.useMemo(()=>{const y=(o-1)*l;return f.slice(y,y+l)},[f,o]);return n?m.jsx("div",{className:"flex justify-center items-center h-64",children:m.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):m.jsxs("div",{className:"max-w-full mx-auto p-6 bg-gray-50 rounded-xl",children:[m.jsxs("div",{className:"mb-8 flex justify-between",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Employee Management"}),m.jsx("p",{className:"text-gray-600",children:"Manage employee status and information"})]}),m.jsx("div",{className:"mb-6",children:m.jsxs("div",{className:"relative w-96",children:[m.jsx("input",{type:"text",placeholder:"Search employees by name...",value:i,onChange:y=>{s(y.target.value),a(1)},className:"w-full p-3 pl-10 border border-gray-300 rounded-full focus:outline-none"}),m.jsx("div",{className:"absolute left-3 top-3 text-gray-400",children:m.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})})]}),m.jsx("div",{className:"bg-white border border-gray-200 overflow-hidden",children:m.jsxs("table",{className:"min-w-full",children:[m.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-700 uppercase tracking-wider",children:"Employee Name"}),m.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-700 uppercase tracking-wider",children:"Status"})]})}),m.jsx("tbody",{className:"divide-y divide-gray-200",children:v.map(y=>m.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[m.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:m.jsx("div",{className:"text-sm font-medium text-gray-900",children:y.name})}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:m.jsxs("div",{className:"flex items-center",children:[m.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[m.jsx("input",{type:"checkbox",className:"sr-only peer",checked:y.status,onChange:()=>d(y.id,y.status)}),m.jsx("div",{className:`w-12 h-6 rounded-full peer transition-colors ${y.status?"bg-green-500":"bg-gray-300"}`}),m.jsx("div",{className:`absolute left-1 top-1 bg-white rounded-full w-4 h-4 transition-transform ${y.status?"translate-x-6":"translate-x-0"}`})]}),m.jsx("span",{className:`ml-3 text-sm font-medium ${y.status?"text-green-600":"text-gray-500"}`})]})})]},y.id))})]})}),m.jsx("div",{className:"flex flex-col sm:flex-row justify-end items-center mt-6 gap-4",children:m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx("button",{onClick:()=>a(y=>Math.max(y-1,1)),disabled:o===1,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),m.jsxs("div",{className:"text-sm text-gray-600",children:["Showing"," ",m.jsx("span",{className:"font-semibold",children:(o-1)*l+1})," ","to"," ",m.jsx("span",{className:"font-semibold",children:Math.min(o*l,f.length)})]}),m.jsx("button",{onClick:()=>a(y=>Math.min(y+1,p)),disabled:o===p,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]})})]})},Wze="https://crm.softwaresetu.com/api",Uze=({onClose:e,templates:t})=>{const n=new Date().toISOString().split("T")[0],[r,i]=C.useState({currentDate:n,name:"",position:"",joiningDate:"",salary:"",templateId:""}),s=a=>{i({...r,[a.target.name]:a.target.value})},o=async()=>{try{const a=await me.post(`${Wze}/offerletters/generate`,r);alert("Offer Letter Generated Successfully!"),console.log("Generated Letter:",a.data),e()}catch(a){console.error(a),alert("Error generating offer letter")}};return m.jsx("div",{className:"fixed inset-0 backdrop-blur-sm  bg-opacity-30 flex justify-center items-center p-4 z-50",children:m.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md max-h-[90vh] overflow-hidden flex flex-col transform transition-all",children:[m.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-6 rounded-t-2xl relative",children:[m.jsx("button",{onClick:e,className:"absolute right-4 top-4 text-white hover:bg-white hover:bg-opacity-20 rounded-full p-1 transition-all duration-200",children:m.jsx(pG,{size:20})}),m.jsx("h2",{className:"text-2xl font-bold text-white text-center pr-8",children:"Generate Offer Letter"}),m.jsx("p",{className:"text-blue-100 text-center mt-1",children:"Fill in the employee details"})]}),m.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:[m.jsxs("div",{children:[m.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Select Template ",m.jsx("span",{className:"text-red-500",children:"*"})]}),m.jsxs("select",{name:"templateId",value:r.templateId,onChange:s,className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",children:[m.jsx("option",{value:"",children:"Choose a template..."}),t.map(a=>m.jsx("option",{value:a.id,children:a.name},a.id))]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Issue Date"}),m.jsx("input",{name:"currentDate",type:"date",readOnly:!0,className:"w-full border border-gray-300 rounded-xl px-4 py-3 bg-gray-50 text-gray-500 cursor-not-allowed",value:r.currentDate}),m.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Today's date (auto-filled)"})]}),m.jsxs("div",{children:[m.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Employee Name ",m.jsx("span",{className:"text-red-500",children:"*"})]}),m.jsx("input",{name:"name",placeholder:"Enter full name",className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",value:r.name,onChange:s})]}),m.jsxs("div",{children:[m.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Position ",m.jsx("span",{className:"text-red-500",children:"*"})]}),m.jsx("input",{name:"position",placeholder:"Enter job position",className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",value:r.position,onChange:s})]}),m.jsxs("div",{children:[m.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Joining Date ",m.jsx("span",{className:"text-red-500",children:"*"})]}),m.jsx("input",{name:"joiningDate",type:"date",className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",value:r.joiningDate,onChange:s})]}),m.jsxs("div",{children:[m.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Salary ",m.jsx("span",{className:"text-red-500",children:"*"})]}),m.jsx("input",{name:"salary",placeholder:"Enter salary amount",className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",value:r.salary,onChange:s})]})]}),m.jsxs("div",{className:"p-6 border-t border-gray-200 space-y-3 bg-white",children:[m.jsx("button",{onClick:o,disabled:!r.templateId||!r.name||!r.position||!r.joiningDate||!r.salary,className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white font-semibold py-3 rounded-xl hover:from-blue-700 hover:to-purple-700 transform hover:scale-[1.02] transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:"Generate Offer Letter"}),m.jsx("button",{onClick:e,className:"w-full border border-gray-300 text-gray-700 font-semibold py-3 rounded-xl hover:bg-gray-50 transform hover:scale-[1.02] transition-all duration-200",children:"Cancel"})]})]})})},$ze=()=>{const e=Rt(),[t,n]=C.useState(!1),[r,i]=C.useState([]),[s,o]=C.useState([]),[a,l]=C.useState(!0),[c,d]=C.useState(null),[f,p]=C.useState(null),v="https://crm.softwaresetu.com/api";C.useEffect(()=>{y()},[]);const y=async()=>{l(!0);try{const[T,k]=await Promise.all([me.get(`${v}/templates`),me.get(`${v}/offerletters`)]);i(T.data),o(k.data),be.success("Data loaded successfully")}catch(T){console.error("Error fetching data:",T),be.error("Error loading data")}finally{l(!1)}},b=()=>n(!0),x=async T=>{p(T);try{const k=await me.post(`${v}/offerletters/generate-pdf`,{htmlContent:T},{responseType:"blob",headers:{"Content-Type":"application/json"}}),P=new Blob([k.data],{type:"application/pdf"}),A=window.URL.createObjectURL(P),O=document.createElement("a");O.href=A,O.download="offer-letter.pdf",document.body.appendChild(O),O.click(),window.URL.revokeObjectURL(A),document.body.removeChild(O),be.success("PDF downloaded successfully")}catch(k){console.error("PDF Generation Error:",k),be.error("Error generating PDF")}finally{p(null)}},S=async T=>{if(window.confirm("Are you sure you want to delete this offer letter?")){d(T);try{await me.delete(`${v}/offerletters/${T}`),o(s.filter(k=>k.id!==T)),be.success("Offer letter deleted")}catch(k){console.error("Error deleting offer letter:",k),be.error("Error deleting offer letter")}finally{d(null)}}},M=T=>T?`${Number(T).toLocaleString("en-IN")}`:"-",R=T=>T?new Date(T).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"-";return m.jsxs("div",{className:"min-h-screen p-6 sm:p-6",children:[m.jsxs("div",{className:"max-w-7xl mx-auto",children:[m.jsxs("div",{className:"mb-8",children:[m.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[m.jsx(jre,{className:"h-8 w-8 text-blue-600"}),m.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"HR Dashboard"})]}),m.jsx("p",{className:"text-gray-600 ml-11",children:"Manage offer letters and templates efficiently"})]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[m.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-200 hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1",children:[m.jsxs("div",{className:"flex items-center mb-4",children:[m.jsx("div",{className:"p-3 bg-blue-100 rounded-xl mr-4",children:m.jsx(Ore,{className:"h-7 w-7 text-blue-600"})}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Generate Offer Letter"}),m.jsx("p",{className:"text-gray-600 text-sm",children:"Create new offer letters for candidates"})]})]}),m.jsxs("button",{onClick:b,className:"w-full bg-gradient-to-r from-blue-600 to-blue-700 text-white px-6 py-3 rounded-xl hover:from-blue-700 hover:to-blue-800 transition-all duration-200 font-medium flex items-center justify-center gap-2 shadow-md hover:shadow-lg",children:[m.jsx(rD,{className:"h-4 w-4"}),"Generate Offer Letter"]})]}),m.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-200 hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1",children:[m.jsxs("div",{className:"flex items-center mb-4",children:[m.jsx("div",{className:"p-3 bg-green-100 rounded-xl mr-4",children:m.jsx(Ire,{className:"h-7 w-7 text-green-600"})}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Manage Templates"}),m.jsx("p",{className:"text-gray-600 text-sm",children:"Create and manage offer letter templates"})]})]}),m.jsxs("button",{onClick:()=>e("/template"),className:"w-full bg-gradient-to-r from-green-600 to-green-700 text-white px-6 py-3 rounded-xl hover:from-green-700 hover:to-green-800 transition-all duration-200 font-medium flex items-center justify-center gap-2 shadow-md hover:shadow-lg",children:[m.jsx(rD,{className:"h-4 w-4"}),"Go to Templates"]})]})]}),m.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-4 sm:p-6 border border-gray-200",children:[m.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-6 gap-4",children:[m.jsxs("div",{children:[m.jsxs("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 flex items-center gap-2",children:[m.jsx(nD,{className:"h-6 w-6 text-blue-600"}),"Generated Offer Letters"]}),m.jsx("p",{className:"text-gray-600 mt-1",children:"View and manage all generated offer letters"})]}),m.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 bg-gray-50 px-3 py-2 rounded-lg",children:[m.jsx(nD,{className:"h-4 w-4"}),m.jsxs("span",{className:"font-medium",children:[s.length," offer letters"]})]})]}),a?m.jsx("div",{className:"flex justify-center items-center py-12",children:m.jsx(iD,{className:"h-8 w-8 text-blue-600 animate-spin"})}):s.length===0?m.jsxs("div",{className:"text-center py-12",children:[m.jsx(nD,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),m.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No offer letters yet"}),m.jsx("p",{className:"text-gray-500 mb-6",children:"Get started by generating your first offer letter."}),m.jsxs("button",{onClick:b,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition duration-200 flex items-center gap-2 mx-auto",children:[m.jsx(rD,{className:"h-4 w-4"}),"Generate Offer Letter"]})]}):m.jsx("div",{className:"overflow-hidden rounded-xl border border-gray-200",children:m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full min-w-[600px]",children:[m.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(zre,{className:"h-4 w-4"}),"Employee"]})}),m.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Position"}),m.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(Pre,{className:"h-4 w-4"}),"Joining Date"]})}),m.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(_re,{className:"h-4 w-4"}),"Salary"]})}),m.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Actions"})]})}),m.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map(T=>m.jsxs("tr",{className:"hover:bg-gray-50",children:[m.jsx("td",{className:"px-4 sm:px-6 py-4 whitespace-nowrap",children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"h-10 w-10 bg-blue-100 rounded-full flex items-center justify-center",children:m.jsx(Fre,{className:"h-5 w-5 text-blue-600"})}),m.jsxs("div",{children:[m.jsx("div",{className:"text-sm font-medium text-gray-900",children:T.employee_name}),m.jsxs("div",{className:"text-xs text-gray-500",children:["ID: ",T.id]})]})]})}),m.jsx("td",{className:"px-4 sm:px-6 py-4",children:m.jsx("div",{className:"text-sm text-gray-900",children:T.position})}),m.jsx("td",{className:"px-4 sm:px-6 py-4",children:m.jsx("div",{className:"text-sm bg-blue-50 px-2 py-1 rounded-md inline-block",children:R(T.joining_date)})}),m.jsx("td",{className:"px-4 sm:px-6 py-4",children:m.jsx("div",{className:"text-sm font-semibold text-green-600 bg-green-50 px-2 py-1 rounded-md inline-block",children:M(T.salary)})}),m.jsx("td",{className:"px-4 sm:px-6 py-4",children:m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs("button",{onClick:()=>x(T.final_html),disabled:f===T.final_html,className:"inline-flex items-center px-3 py-2 border border-blue-300 text-sm font-medium rounded-lg text-blue-700 bg-blue-50 hover:bg-blue-100 disabled:opacity-50",children:[f===T.final_html?m.jsx(iD,{className:"h-3 w-3 mr-1 animate-spin"}):m.jsx(Nre,{className:"h-3 w-3 mr-1"}),"Download PDF"]}),m.jsxs("button",{onClick:()=>S(T.id),disabled:c===T.id,className:"inline-flex items-center px-3 py-2 border border-red-300 text-sm font-medium rounded-lg text-red-700 bg-red-50 hover:bg-red-100 disabled:opacity-50",children:[c===T.id?m.jsx(iD,{className:"h-3 w-3 mr-1 animate-spin"}):m.jsx(Bre,{className:"h-3 w-3 mr-1"}),"Delete"]})]})})]},T.id))})]})})})]})]}),t&&m.jsx(Uze,{employee:null,templates:r,onClose:()=>n(!1),onSuccess:()=>{n(!1),y(),be.success("Offer Letter Created Successfully")}})]})};var uQ=JU();function gr(e){this.content=e}gr.prototype={constructor:gr,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return t==-1?void 0:this.content[t+1]},update:function(e,t,n){var r=n&&n!=e?this.remove(n):this,i=r.find(e),s=r.content.slice();return i==-1?s.push(n||e,t):(s[i+1]=t,n&&(s[i]=n)),new gr(s)},remove:function(e){var t=this.find(e);if(t==-1)return this;var n=this.content.slice();return n.splice(t,2),new gr(n)},addToStart:function(e,t){return new gr([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var n=this.remove(e).content.slice();return n.push(e,t),new gr(n)},addBefore:function(e,t,n){var r=this.remove(t),i=r.content.slice(),s=r.find(e);return i.splice(s==-1?i.length:s,0,t,n),new gr(i)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return e=gr.from(e),e.size?new gr(e.content.concat(this.subtract(e).content)):this},append:function(e){return e=gr.from(e),e.size?new gr(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=gr.from(e);for(var n=0;n<e.content.length;n+=2)t=t.remove(e.content[n]);return t},toObject:function(){var e={};return this.forEach(function(t,n){e[t]=n}),e},get size(){return this.content.length>>1}};gr.from=function(e){if(e instanceof gr)return e;var t=[];if(e)for(var n in e)t.push(n,e[n]);return new gr(t)};function dQ(e,t,n){for(let r=0;;r++){if(r==e.childCount||r==t.childCount)return e.childCount==t.childCount?null:n;let i=e.child(r),s=t.child(r);if(i==s){n+=i.nodeSize;continue}if(!i.sameMarkup(s))return n;if(i.isText&&i.text!=s.text){for(let o=0;i.text[o]==s.text[o];o++)n++;return n}if(i.content.size||s.content.size){let o=dQ(i.content,s.content,n+1);if(o!=null)return o}n+=i.nodeSize}}function hQ(e,t,n,r){for(let i=e.childCount,s=t.childCount;;){if(i==0||s==0)return i==s?null:{a:n,b:r};let o=e.child(--i),a=t.child(--s),l=o.nodeSize;if(o==a){n-=l,r-=l;continue}if(!o.sameMarkup(a))return{a:n,b:r};if(o.isText&&o.text!=a.text){let c=0,d=Math.min(o.text.length,a.text.length);for(;c<d&&o.text[o.text.length-c-1]==a.text[a.text.length-c-1];)c++,n--,r--;return{a:n,b:r}}if(o.content.size||a.content.size){let c=hQ(o.content,a.content,n-1,r-1);if(c)return c}n-=l,r-=l}}class xe{constructor(t,n){if(this.content=t,this.size=n||0,n==null)for(let r=0;r<t.length;r++)this.size+=t[r].nodeSize}nodesBetween(t,n,r,i=0,s){for(let o=0,a=0;a<n;o++){let l=this.content[o],c=a+l.nodeSize;if(c>t&&r(l,i+a,s||null,o)!==!1&&l.content.size){let d=a+1;l.nodesBetween(Math.max(0,t-d),Math.min(l.content.size,n-d),r,i+d)}a=c}}descendants(t){this.nodesBetween(0,this.size,t)}textBetween(t,n,r,i){let s="",o=!0;return this.nodesBetween(t,n,(a,l)=>{let c=a.isText?a.text.slice(Math.max(t,l)-l,n-l):a.isLeaf?i?typeof i=="function"?i(a):i:a.type.spec.leafText?a.type.spec.leafText(a):"":"";a.isBlock&&(a.isLeaf&&c||a.isTextblock)&&r&&(o?o=!1:s+=r),s+=c},0),s}append(t){if(!t.size)return this;if(!this.size)return t;let n=this.lastChild,r=t.firstChild,i=this.content.slice(),s=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),s=1);s<t.content.length;s++)i.push(t.content[s]);return new xe(i,this.size+t.size)}cut(t,n=this.size){if(t==0&&n==this.size)return this;let r=[],i=0;if(n>t)for(let s=0,o=0;o<n;s++){let a=this.content[s],l=o+a.nodeSize;l>t&&((o<t||l>n)&&(a.isText?a=a.cut(Math.max(0,t-o),Math.min(a.text.length,n-o)):a=a.cut(Math.max(0,t-o-1),Math.min(a.content.size,n-o-1))),r.push(a),i+=a.nodeSize),o=l}return new xe(r,i)}cutByIndex(t,n){return t==n?xe.empty:t==0&&n==this.content.length?this:new xe(this.content.slice(t,n))}replaceChild(t,n){let r=this.content[t];if(r==n)return this;let i=this.content.slice(),s=this.size+n.nodeSize-r.nodeSize;return i[t]=n,new xe(i,s)}addToStart(t){return new xe([t].concat(this.content),this.size+t.nodeSize)}addToEnd(t){return new xe(this.content.concat(t),this.size+t.nodeSize)}eq(t){if(this.content.length!=t.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(t.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(t){let n=this.content[t];if(!n)throw new RangeError("Index "+t+" out of range for "+this);return n}maybeChild(t){return this.content[t]||null}forEach(t){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];t(i,r,n),r+=i.nodeSize}}findDiffStart(t,n=0){return dQ(this,t,n)}findDiffEnd(t,n=this.size,r=t.size){return hQ(this,t,n,r)}findIndex(t){if(t==0)return F0(0,t);if(t==this.size)return F0(this.content.length,t);if(t>this.size||t<0)throw new RangeError(`Position ${t} outside of fragment (${this})`);for(let n=0,r=0;;n++){let i=this.child(n),s=r+i.nodeSize;if(s>=t)return s==t?F0(n+1,s):F0(n,r);r=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(t=>t.toJSON()):null}static fromJSON(t,n){if(!n)return xe.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new xe(n.map(t.nodeFromJSON))}static fromArray(t){if(!t.length)return xe.empty;let n,r=0;for(let i=0;i<t.length;i++){let s=t[i];r+=s.nodeSize,i&&s.isText&&t[i-1].sameMarkup(s)?(n||(n=t.slice(0,i)),n[n.length-1]=s.withText(n[n.length-1].text+s.text)):n&&n.push(s)}return new xe(n||t,r)}static from(t){if(!t)return xe.empty;if(t instanceof xe)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new xe([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}xe.empty=new xe([],0);const BM={index:0,offset:0};function F0(e,t){return BM.index=e,BM.offset=t,BM}function aC(e,t){if(e===t)return!0;if(!(e&&typeof e=="object")||!(t&&typeof t=="object"))return!1;let n=Array.isArray(e);if(Array.isArray(t)!=n)return!1;if(n){if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!aC(e[r],t[r]))return!1}else{for(let r in e)if(!(r in t)||!aC(e[r],t[r]))return!1;for(let r in t)if(!(r in e))return!1}return!0}let Ut=class hk{constructor(t,n){this.type=t,this.attrs=n}addToSet(t){let n,r=!1;for(let i=0;i<t.length;i++){let s=t[i];if(this.eq(s))return t;if(this.type.excludes(s.type))n||(n=t.slice(0,i));else{if(s.type.excludes(this.type))return t;!r&&s.type.rank>this.type.rank&&(n||(n=t.slice(0,i)),n.push(this),r=!0),n&&n.push(s)}}return n||(n=t.slice()),r||n.push(this),n}removeFromSet(t){for(let n=0;n<t.length;n++)if(this.eq(t[n]))return t.slice(0,n).concat(t.slice(n+1));return t}isInSet(t){for(let n=0;n<t.length;n++)if(this.eq(t[n]))return!0;return!1}eq(t){return this==t||this.type==t.type&&aC(this.attrs,t.attrs)}toJSON(){let t={type:this.type.name};for(let n in this.attrs){t.attrs=this.attrs;break}return t}static fromJSON(t,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=t.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let i=r.create(n.attrs);return r.checkAttrs(i.attrs),i}static sameSet(t,n){if(t==n)return!0;if(t.length!=n.length)return!1;for(let r=0;r<t.length;r++)if(!t[r].eq(n[r]))return!1;return!0}static setFrom(t){if(!t||Array.isArray(t)&&t.length==0)return hk.none;if(t instanceof hk)return[t];let n=t.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}};Ut.none=[];class lC extends Error{}class ke{constructor(t,n,r){this.content=t,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(t,n){let r=pQ(this.content,t+this.openStart,n);return r&&new ke(r,this.openStart,this.openEnd)}removeBetween(t,n){return new ke(fQ(this.content,t+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t}static fromJSON(t,n){if(!n)return ke.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new ke(xe.fromJSON(t,n.content),r,i)}static maxOpen(t,n=!0){let r=0,i=0;for(let s=t.firstChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.firstChild)r++;for(let s=t.lastChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.lastChild)i++;return new ke(t,r,i)}}ke.empty=new ke(xe.empty,0,0);function fQ(e,t,n){let{index:r,offset:i}=e.findIndex(t),s=e.maybeChild(r),{index:o,offset:a}=e.findIndex(n);if(i==t||s.isText){if(a!=n&&!e.child(o).isText)throw new RangeError("Removing non-flat range");return e.cut(0,t).append(e.cut(n))}if(r!=o)throw new RangeError("Removing non-flat range");return e.replaceChild(r,s.copy(fQ(s.content,t-i-1,n-i-1)))}function pQ(e,t,n,r){let{index:i,offset:s}=e.findIndex(t),o=e.maybeChild(i);if(s==t||o.isText)return r&&!r.canReplace(i,i,n)?null:e.cut(0,t).append(n).append(e.cut(t));let a=pQ(o.content,t-s-1,n,o);return a&&e.replaceChild(i,o.copy(a))}function qze(e,t,n){if(n.openStart>e.depth)throw new lC("Inserted content deeper than insertion position");if(e.depth-n.openStart!=t.depth-n.openEnd)throw new lC("Inconsistent open depths");return gQ(e,t,n,0)}function gQ(e,t,n,r){let i=e.index(r),s=e.node(r);if(i==t.index(r)&&r<e.depth-n.openStart){let o=gQ(e,t,n,r+1);return s.copy(s.content.replaceChild(i,o))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&e.depth==r&&t.depth==r){let o=e.parent,a=o.content;return Ku(o,a.cut(0,e.parentOffset).append(n.content).append(a.cut(t.parentOffset)))}else{let{start:o,end:a}=Kze(n,e);return Ku(s,vQ(e,o,a,t,r))}else return Ku(s,cC(e,t,r))}function mQ(e,t){if(!t.type.compatibleContent(e.type))throw new lC("Cannot join "+t.type.name+" onto "+e.type.name)}function fk(e,t,n){let r=e.node(n);return mQ(r,t.node(n)),r}function qu(e,t){let n=t.length-1;n>=0&&e.isText&&e.sameMarkup(t[n])?t[n]=e.withText(t[n].text+e.text):t.push(e)}function jg(e,t,n,r){let i=(t||e).node(n),s=0,o=t?t.index(n):i.childCount;e&&(s=e.index(n),e.depth>n?s++:e.textOffset&&(qu(e.nodeAfter,r),s++));for(let a=s;a<o;a++)qu(i.child(a),r);t&&t.depth==n&&t.textOffset&&qu(t.nodeBefore,r)}function Ku(e,t){return e.type.checkContent(t),e.copy(t)}function vQ(e,t,n,r,i){let s=e.depth>i&&fk(e,t,i+1),o=r.depth>i&&fk(n,r,i+1),a=[];return jg(null,e,i,a),s&&o&&t.index(i)==n.index(i)?(mQ(s,o),qu(Ku(s,vQ(e,t,n,r,i+1)),a)):(s&&qu(Ku(s,cC(e,t,i+1)),a),jg(t,n,i,a),o&&qu(Ku(o,cC(n,r,i+1)),a)),jg(r,null,i,a),new xe(a)}function cC(e,t,n){let r=[];if(jg(null,e,n,r),e.depth>n){let i=fk(e,t,n+1);qu(Ku(i,cC(e,t,n+1)),r)}return jg(t,null,n,r),new xe(r)}function Kze(e,t){let n=t.depth-e.openStart,i=t.node(n).copy(e.content);for(let s=n-1;s>=0;s--)i=t.node(s).copy(xe.from(i));return{start:i.resolveNoCache(e.openStart+n),end:i.resolveNoCache(i.content.size-e.openEnd-n)}}class km{constructor(t,n,r){this.pos=t,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(t){return t==null?this.depth:t<0?this.depth+t:t}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(t){return this.path[this.resolveDepth(t)*3]}index(t){return this.path[this.resolveDepth(t)*3+1]}indexAfter(t){return t=this.resolveDepth(t),this.index(t)+(t==this.depth&&!this.textOffset?0:1)}start(t){return t=this.resolveDepth(t),t==0?0:this.path[t*3-1]+1}end(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size}before(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]}after(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]+this.path[t*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let t=this.parent,n=this.index(this.depth);if(n==t.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=t.child(n);return r?t.child(n).cut(r):i}get nodeBefore(){let t=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(t).cut(0,n):t==0?null:this.parent.child(t-1)}posAtIndex(t,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let s=0;s<t;s++)i+=r.child(s).nodeSize;return i}marks(){let t=this.parent,n=this.index();if(t.content.size==0)return Ut.none;if(this.textOffset)return t.child(n).marks;let r=t.maybeChild(n-1),i=t.maybeChild(n);if(!r){let a=r;r=i,i=a}let s=r.marks;for(var o=0;o<s.length;o++)s[o].type.spec.inclusive===!1&&(!i||!s[o].isInSet(i.marks))&&(s=s[o--].removeFromSet(s));return s}marksAcross(t){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=t.parent.maybeChild(t.index());for(var s=0;s<r.length;s++)r[s].type.spec.inclusive===!1&&(!i||!r[s].isInSet(i.marks))&&(r=r[s--].removeFromSet(r));return r}sharedDepth(t){for(let n=this.depth;n>0;n--)if(this.start(n)<=t&&this.end(n)>=t)return n;return 0}blockRange(t=this,n){if(t.pos<this.pos)return t.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);r>=0;r--)if(t.pos<=this.end(r)&&(!n||n(this.node(r))))return new uC(this,t,r);return null}sameParent(t){return this.pos-this.parentOffset==t.pos-t.parentOffset}max(t){return t.pos>this.pos?t:this}min(t){return t.pos<this.pos?t:this}toString(){let t="";for(let n=1;n<=this.depth;n++)t+=(t?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return t+":"+this.parentOffset}static resolve(t,n){if(!(n>=0&&n<=t.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,s=n;for(let o=t;;){let{index:a,offset:l}=o.content.findIndex(s),c=s-l;if(r.push(o,a,i+l),!c||(o=o.child(a),o.isText))break;s=c-1,i+=l+1}return new km(n,r,s)}static resolveCached(t,n){let r=fz.get(t);if(r)for(let s=0;s<r.elts.length;s++){let o=r.elts[s];if(o.pos==n)return o}else fz.set(t,r=new Yze);let i=r.elts[r.i]=km.resolve(t,n);return r.i=(r.i+1)%Qze,i}}class Yze{constructor(){this.elts=[],this.i=0}}const Qze=12,fz=new WeakMap;class uC{constructor(t,n,r){this.$from=t,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const Xze=Object.create(null);let wc=class pk{constructor(t,n,r,i=Ut.none){this.type=t,this.attrs=n,this.marks=i,this.content=r||xe.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(t){return this.content.child(t)}maybeChild(t){return this.content.maybeChild(t)}forEach(t){this.content.forEach(t)}nodesBetween(t,n,r,i=0){this.content.nodesBetween(t,n,r,i,this)}descendants(t){this.nodesBetween(0,this.content.size,t)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(t,n,r,i){return this.content.textBetween(t,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)}sameMarkup(t){return this.hasMarkup(t.type,t.attrs,t.marks)}hasMarkup(t,n,r){return this.type==t&&aC(this.attrs,n||t.defaultAttrs||Xze)&&Ut.sameSet(this.marks,r||Ut.none)}copy(t=null){return t==this.content?this:new pk(this.type,this.attrs,t,this.marks)}mark(t){return t==this.marks?this:new pk(this.type,this.attrs,this.content,t)}cut(t,n=this.content.size){return t==0&&n==this.content.size?this:this.copy(this.content.cut(t,n))}slice(t,n=this.content.size,r=!1){if(t==n)return ke.empty;let i=this.resolve(t),s=this.resolve(n),o=r?0:i.sharedDepth(n),a=i.start(o),c=i.node(o).content.cut(i.pos-a,s.pos-a);return new ke(c,i.depth-o,s.depth-o)}replace(t,n,r){return qze(this.resolve(t),this.resolve(n),r)}nodeAt(t){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(t);if(n=n.maybeChild(r),!n)return null;if(i==t||n.isText)return n;t-=i+1}}childAfter(t){let{index:n,offset:r}=this.content.findIndex(t);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(t){if(t==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(t);if(r<t)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(t){return km.resolveCached(this,t)}resolveNoCache(t){return km.resolve(this,t)}rangeHasMark(t,n,r){let i=!1;return n>t&&this.nodesBetween(t,n,s=>(r.isInSet(s.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),yQ(this.marks,t)}contentMatchAt(t){let n=this.type.contentMatch.matchFragment(this.content,0,t);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(t,n,r=xe.empty,i=0,s=r.childCount){let o=this.contentMatchAt(t).matchFragment(r,i,s),a=o&&o.matchFragment(this.content,n);if(!a||!a.validEnd)return!1;for(let l=i;l<s;l++)if(!this.type.allowsMarks(r.child(l).marks))return!1;return!0}canReplaceWith(t,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let s=this.contentMatchAt(t).matchType(r),o=s&&s.matchFragment(this.content,n);return o?o.validEnd:!1}canAppend(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let t=Ut.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),t=r.addToSet(t)}if(!Ut.sameSet(t,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let t={type:this.type.name};for(let n in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map(n=>n.toJSON())),t}static fromJSON(t,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(t.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return t.text(n.text,r)}let i=xe.fromJSON(t,n.content),s=t.nodeType(n.type).create(n.attrs,i,r);return s.type.checkAttrs(s.attrs),s}};wc.prototype.text=void 0;class dC extends wc{constructor(t,n,r,i){if(super(t,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):yQ(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(t,n){return this.text.slice(t,n)}get nodeSize(){return this.text.length}mark(t){return t==this.marks?this:new dC(this.type,this.attrs,this.text,t)}withText(t){return t==this.text?this:new dC(this.type,this.attrs,t,this.marks)}cut(t=0,n=this.text.length){return t==0&&n==this.text.length?this:this.withText(this.text.slice(t,n))}eq(t){return this.sameMarkup(t)&&this.text==t.text}toJSON(){let t=super.toJSON();return t.text=this.text,t}}function yQ(e,t){for(let n=e.length-1;n>=0;n--)t=e[n].type.name+"("+t+")";return t}class ud{constructor(t){this.validEnd=t,this.next=[],this.wrapCache=[]}static parse(t,n){let r=new Jze(t,n);if(r.next==null)return ud.empty;let i=wQ(r);r.next&&r.err("Unexpected trailing text");let s=s8e(i8e(i));return o8e(s,r),s}matchType(t){for(let n=0;n<this.next.length;n++)if(this.next[n].type==t)return this.next[n].next;return null}matchFragment(t,n=0,r=t.childCount){let i=this;for(let s=n;i&&s<r;s++)i=i.matchType(t.child(s).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let t=0;t<this.next.length;t++){let{type:n}=this.next[t];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(t){for(let n=0;n<this.next.length;n++)for(let r=0;r<t.next.length;r++)if(this.next[n].type==t.next[r].type)return!0;return!1}fillBefore(t,n=!1,r=0){let i=[this];function s(o,a){let l=o.matchFragment(t,r);if(l&&(!n||l.validEnd))return xe.from(a.map(c=>c.createAndFill()));for(let c=0;c<o.next.length;c++){let{type:d,next:f}=o.next[c];if(!(d.isText||d.hasRequiredAttrs())&&i.indexOf(f)==-1){i.push(f);let p=s(f,a.concat(d));if(p)return p}}return null}return s(this,[])}findWrapping(t){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==t)return this.wrapCache[r+1];let n=this.computeWrapping(t);return this.wrapCache.push(t,n),n}computeWrapping(t){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),s=i.match;if(s.matchType(t)){let o=[];for(let a=i;a.type;a=a.via)o.push(a.type);return o.reverse()}for(let o=0;o<s.next.length;o++){let{type:a,next:l}=s.next[o];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in n)&&(!i.type||l.validEnd)&&(r.push({match:a.contentMatch,type:a,via:i}),n[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(t){if(t>=this.next.length)throw new RangeError(`There's no ${t}th edge in this content match`);return this.next[t]}toString(){let t=[];function n(r){t.push(r);for(let i=0;i<r.next.length;i++)t.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),t.map((r,i)=>{let s=i+(r.validEnd?"*":" ")+" ";for(let o=0;o<r.next.length;o++)s+=(o?", ":"")+r.next[o].type.name+"->"+t.indexOf(r.next[o].next);return s}).join(`
`)}}ud.empty=new ud(!0);class Jze{constructor(t,n){this.string=t,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(t){return this.next==t&&(this.pos++||!0)}err(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")}}function wQ(e){let t=[];do t.push(Zze(e));while(e.eat("|"));return t.length==1?t[0]:{type:"choice",exprs:t}}function Zze(e){let t=[];do t.push(e8e(e));while(e.next&&e.next!=")"&&e.next!="|");return t.length==1?t[0]:{type:"seq",exprs:t}}function e8e(e){let t=r8e(e);for(;;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else if(e.eat("{"))t=t8e(e,t);else break;return t}function pz(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");let t=Number(e.next);return e.pos++,t}function t8e(e,t){let n=pz(e),r=n;return e.eat(",")&&(e.next!="}"?r=pz(e):r=-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:t}}function n8e(e,t){let n=e.nodeTypes,r=n[t];if(r)return[r];let i=[];for(let s in n){let o=n[s];o.isInGroup(t)&&i.push(o)}return i.length==0&&e.err("No node type or group '"+t+"' found"),i}function r8e(e){if(e.eat("(")){let t=wQ(e);return e.eat(")")||e.err("Missing closing paren"),t}else if(/\W/.test(e.next))e.err("Unexpected token '"+e.next+"'");else{let t=n8e(e,e.next).map(n=>(e.inline==null?e.inline=n.isInline:e.inline!=n.isInline&&e.err("Mixing inline and block content"),{type:"name",value:n}));return e.pos++,t.length==1?t[0]:{type:"choice",exprs:t}}}function i8e(e){let t=[[]];return i(s(e,0),n()),t;function n(){return t.push([])-1}function r(o,a,l){let c={term:l,to:a};return t[o].push(c),c}function i(o,a){o.forEach(l=>l.to=a)}function s(o,a){if(o.type=="choice")return o.exprs.reduce((l,c)=>l.concat(s(c,a)),[]);if(o.type=="seq")for(let l=0;;l++){let c=s(o.exprs[l],a);if(l==o.exprs.length-1)return c;i(c,a=n())}else if(o.type=="star"){let l=n();return r(a,l),i(s(o.expr,l),l),[r(l)]}else if(o.type=="plus"){let l=n();return i(s(o.expr,a),l),i(s(o.expr,l),l),[r(l)]}else{if(o.type=="opt")return[r(a)].concat(s(o.expr,a));if(o.type=="range"){let l=a;for(let c=0;c<o.min;c++){let d=n();i(s(o.expr,l),d),l=d}if(o.max==-1)i(s(o.expr,l),l);else for(let c=o.min;c<o.max;c++){let d=n();r(l,d),i(s(o.expr,l),d),l=d}return[r(l)]}else{if(o.type=="name")return[r(a,void 0,o.value)];throw new Error("Unknown expr type")}}}}function bQ(e,t){return t-e}function gz(e,t){let n=[];return r(t),n.sort(bQ);function r(i){let s=e[i];if(s.length==1&&!s[0].term)return r(s[0].to);n.push(i);for(let o=0;o<s.length;o++){let{term:a,to:l}=s[o];!a&&n.indexOf(l)==-1&&r(l)}}}function s8e(e){let t=Object.create(null);return n(gz(e,0));function n(r){let i=[];r.forEach(o=>{e[o].forEach(({term:a,to:l})=>{if(!a)return;let c;for(let d=0;d<i.length;d++)i[d][0]==a&&(c=i[d][1]);gz(e,l).forEach(d=>{c||i.push([a,c=[]]),c.indexOf(d)==-1&&c.push(d)})})});let s=t[r.join(",")]=new ud(r.indexOf(e.length-1)>-1);for(let o=0;o<i.length;o++){let a=i[o][1].sort(bQ);s.next.push({type:i[o][0],next:t[a.join(",")]||n(a)})}return s}}function o8e(e,t){for(let n=0,r=[e];n<r.length;n++){let i=r[n],s=!i.validEnd,o=[];for(let a=0;a<i.next.length;a++){let{type:l,next:c}=i.next[a];o.push(l.name),s&&!(l.isText||l.hasRequiredAttrs())&&(s=!1),r.indexOf(c)==-1&&r.push(c)}s&&t.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function CQ(e){let t=Object.create(null);for(let n in e){let r=e[n];if(!r.hasDefault)return null;t[n]=r.default}return t}function xQ(e,t){let n=Object.create(null);for(let r in e){let i=t&&t[r];if(i===void 0){let s=e[r];if(s.hasDefault)i=s.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function SQ(e,t,n,r){for(let i in t)if(!(i in e))throw new RangeError(`Unsupported attribute ${i} for ${n} of type ${i}`);for(let i in e){let s=e[i];s.validate&&s.validate(t[i])}}function EQ(e,t){let n=Object.create(null);if(t)for(let r in t)n[r]=new l8e(e,r,t[r]);return n}let mz=class DQ{constructor(t,n,r){this.name=t,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=EQ(t,r.attrs),this.defaultAttrs=CQ(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||t=="text"),this.isText=t=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==ud.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(t){return this.groups.indexOf(t)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1}compatibleContent(t){return this==t||this.contentMatch.compatible(t.contentMatch)}computeAttrs(t){return!t&&this.defaultAttrs?this.defaultAttrs:xQ(this.attrs,t)}create(t=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new wc(this,this.computeAttrs(t),xe.from(n),Ut.setFrom(r))}createChecked(t=null,n,r){return n=xe.from(n),this.checkContent(n),new wc(this,this.computeAttrs(t),n,Ut.setFrom(r))}createAndFill(t=null,n,r){if(t=this.computeAttrs(t),n=xe.from(n),n.size){let o=this.contentMatch.fillBefore(n);if(!o)return null;n=o.append(n)}let i=this.contentMatch.matchFragment(n),s=i&&i.fillBefore(xe.empty,!0);return s?new wc(this,t,n.append(s),Ut.setFrom(r)):null}validContent(t){let n=this.contentMatch.matchFragment(t);if(!n||!n.validEnd)return!1;for(let r=0;r<t.childCount;r++)if(!this.allowsMarks(t.child(r).marks))return!1;return!0}checkContent(t){if(!this.validContent(t))throw new RangeError(`Invalid content for node ${this.name}: ${t.toString().slice(0,50)}`)}checkAttrs(t){SQ(this.attrs,t,"node",this.name)}allowsMarkType(t){return this.markSet==null||this.markSet.indexOf(t)>-1}allowsMarks(t){if(this.markSet==null)return!0;for(let n=0;n<t.length;n++)if(!this.allowsMarkType(t[n].type))return!1;return!0}allowedMarks(t){if(this.markSet==null)return t;let n;for(let r=0;r<t.length;r++)this.allowsMarkType(t[r].type)?n&&n.push(t[r]):n||(n=t.slice(0,r));return n?n.length?n:Ut.none:t}static compile(t,n){let r=Object.create(null);t.forEach((s,o)=>r[s]=new DQ(s,n,o));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let s in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function a8e(e,t,n){let r=n.split("|");return i=>{let s=i===null?"null":typeof i;if(r.indexOf(s)<0)throw new RangeError(`Expected value of type ${r} for attribute ${t} on type ${e}, got ${s}`)}}class l8e{constructor(t,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?a8e(t,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class wS{constructor(t,n,r,i){this.name=t,this.rank=n,this.schema=r,this.spec=i,this.attrs=EQ(t,i.attrs),this.excluded=null;let s=CQ(this.attrs);this.instance=s?new Ut(this,s):null}create(t=null){return!t&&this.instance?this.instance:new Ut(this,xQ(this.attrs,t))}static compile(t,n){let r=Object.create(null),i=0;return t.forEach((s,o)=>r[s]=new wS(s,i++,n,o)),r}removeFromSet(t){for(var n=0;n<t.length;n++)t[n].type==this&&(t=t.slice(0,n).concat(t.slice(n+1)),n--);return t}isInSet(t){for(let n=0;n<t.length;n++)if(t[n].type==this)return t[n]}checkAttrs(t){SQ(this.attrs,t,"mark",this.name)}excludes(t){return this.excluded.indexOf(t)>-1}}class RQ{constructor(t){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let i in t)n[i]=t[i];n.nodes=gr.from(t.nodes),n.marks=gr.from(t.marks||{}),this.nodes=mz.compile(this.spec.nodes,this),this.marks=wS.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let s=this.nodes[i],o=s.spec.content||"",a=s.spec.marks;if(s.contentMatch=r[o]||(r[o]=ud.parse(o,this.nodes)),s.inlineContent=s.contentMatch.inlineContent,s.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!s.isInline||!s.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=s}s.markSet=a=="_"?null:a?vz(this,a.split(" ")):a==""||!s.inlineContent?[]:null}for(let i in this.marks){let s=this.marks[i],o=s.spec.excludes;s.excluded=o==null?[s]:o==""?[]:vz(this,o.split(" "))}this.nodeFromJSON=i=>wc.fromJSON(this,i),this.markFromJSON=i=>Ut.fromJSON(this,i),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(t,n=null,r,i){if(typeof t=="string")t=this.nodeType(t);else if(t instanceof mz){if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}else throw new RangeError("Invalid node type: "+t);return t.createChecked(n,r,i)}text(t,n){let r=this.nodes.text;return new dC(r,r.defaultAttrs,t,Ut.setFrom(n))}mark(t,n){return typeof t=="string"&&(t=this.marks[t]),t.create(n)}nodeType(t){let n=this.nodes[t];if(!n)throw new RangeError("Unknown node type: "+t);return n}}function vz(e,t){let n=[];for(let r=0;r<t.length;r++){let i=t[r],s=e.marks[i],o=s;if(s)n.push(s);else for(let a in e.marks){let l=e.marks[a];(i=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(i)>-1)&&n.push(o=l)}if(!o)throw new SyntaxError("Unknown mark type: '"+t[r]+"'")}return n}function c8e(e){return e.tag!=null}function u8e(e){return e.style!=null}class bc{constructor(t,n){this.schema=t,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(i=>{if(c8e(i))this.tags.push(i);else if(u8e(i)){let s=/[^=]*/.exec(i.style)[0];r.indexOf(s)<0&&r.push(s),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let s=t.nodes[i.node];return s.contentMatch.matchType(s)})}parse(t,n={}){let r=new wz(this,n,!1);return r.addAll(t,Ut.none,n.from,n.to),r.finish()}parseSlice(t,n={}){let r=new wz(this,n,!0);return r.addAll(t,Ut.none,n.from,n.to),ke.maxOpen(r.finish())}matchTag(t,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let s=this.tags[i];if(f8e(t,s.tag)&&(s.namespace===void 0||t.namespaceURI==s.namespace)&&(!s.context||n.matchesContext(s.context))){if(s.getAttrs){let o=s.getAttrs(t);if(o===!1)continue;s.attrs=o||void 0}return s}}}matchStyle(t,n,r,i){for(let s=i?this.styles.indexOf(i)+1:0;s<this.styles.length;s++){let o=this.styles[s],a=o.style;if(!(a.indexOf(t)!=0||o.context&&!r.matchesContext(o.context)||a.length>t.length&&(a.charCodeAt(t.length)!=61||a.slice(t.length+1)!=n))){if(o.getAttrs){let l=o.getAttrs(n);if(l===!1)continue;o.attrs=l||void 0}return o}}}static schemaRules(t){let n=[];function r(i){let s=i.priority==null?50:i.priority,o=0;for(;o<n.length;o++){let a=n[o];if((a.priority==null?50:a.priority)<s)break}n.splice(o,0,i)}for(let i in t.marks){let s=t.marks[i].spec.parseDOM;s&&s.forEach(o=>{r(o=bz(o)),o.mark||o.ignore||o.clearMark||(o.mark=i)})}for(let i in t.nodes){let s=t.nodes[i].spec.parseDOM;s&&s.forEach(o=>{r(o=bz(o)),o.node||o.ignore||o.mark||(o.node=i)})}return n}static fromSchema(t){return t.cached.domParser||(t.cached.domParser=new bc(t,bc.schemaRules(t)))}}const MQ={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},d8e={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},TQ={ol:!0,ul:!0},Am=1,gk=2,Bg=4;function yz(e,t,n){return t!=null?(t?Am:0)|(t==="full"?gk:0):e&&e.whitespace=="pre"?Am|gk:n&~Bg}class I0{constructor(t,n,r,i,s,o){this.type=t,this.attrs=n,this.marks=r,this.solid=i,this.options=o,this.content=[],this.activeMarks=Ut.none,this.match=s||(o&Bg?null:t.contentMatch)}findWrapping(t){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(xe.from(t));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(t.type))?(this.match=r,i):null}}return this.match.findWrapping(t.type)}finish(t){if(!(this.options&Am)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let s=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-i[0].length))}}let n=xe.from(this.content);return!t&&this.match&&(n=n.append(this.match.fillBefore(xe.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!MQ.hasOwnProperty(t.parentNode.nodeName.toLowerCase())}}class wz{constructor(t,n,r){this.parser=t,this.options=n,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let i=n.topNode,s,o=yz(null,n.preserveWhitespace,0)|(r?Bg:0);i?s=new I0(i.type,i.attrs,Ut.none,!0,n.topMatch||i.type.contentMatch,o):r?s=new I0(null,null,Ut.none,!0,null,o):s=new I0(t.schema.topNodeType,null,Ut.none,!0,null,o),this.nodes=[s],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(t,n){t.nodeType==3?this.addTextNode(t,n):t.nodeType==1&&this.addElement(t,n)}addTextNode(t,n){let r=t.nodeValue,i=this.top,s=i.options&gk?"full":this.localPreserveWS||(i.options&Am)>0,{schema:o}=this.parser;if(s==="full"||i.inlineContext(t)||/[^ \t\r\n\u000c]/.test(r)){if(s)if(s==="full")r=r.replace(/\r\n?/g,`
`);else if(o.linebreakReplacement&&/[\r\n]/.test(r)&&this.top.findWrapping(o.linebreakReplacement.create())){let a=r.split(/\r?\n|\r/);for(let l=0;l<a.length;l++)l&&this.insertNode(o.linebreakReplacement.create(),n,!0),a[l]&&this.insertNode(o.text(a[l]),n,!/\S/.test(a[l]));r=""}else r=r.replace(/\r?\n|\r/g," ");else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let a=i.content[i.content.length-1],l=t.previousSibling;(!a||l&&l.nodeName=="BR"||a.isText&&/[ \t\r\n\u000c]$/.test(a.text))&&(r=r.slice(1))}r&&this.insertNode(o.text(r),n,!/\S/.test(r)),this.findInText(t)}else this.findInside(t)}addElement(t,n,r){let i=this.localPreserveWS,s=this.top;(t.tagName=="PRE"||/pre/.test(t.style&&t.style.whiteSpace))&&(this.localPreserveWS=!0);let o=t.nodeName.toLowerCase(),a;TQ.hasOwnProperty(o)&&this.parser.normalizeLists&&h8e(t);let l=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(a=this.parser.matchTag(t,this,r));e:if(l?l.ignore:d8e.hasOwnProperty(o))this.findInside(t),this.ignoreFallback(t,n);else if(!l||l.skip||l.closeParent){l&&l.closeParent?this.open=Math.max(0,this.open-1):l&&l.skip.nodeType&&(t=l.skip);let c,d=this.needsBlock;if(MQ.hasOwnProperty(o))s.content.length&&s.content[0].isInline&&this.open&&(this.open--,s=this.top),c=!0,s.type||(this.needsBlock=!0);else if(!t.firstChild){this.leafFallback(t,n);break e}let f=l&&l.skip?n:this.readStyles(t,n);f&&this.addAll(t,f),c&&this.sync(s),this.needsBlock=d}else{let c=this.readStyles(t,n);c&&this.addElementByRule(t,l,c,l.consuming===!1?a:void 0)}this.localPreserveWS=i}leafFallback(t,n){t.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode(`
`),n)}ignoreFallback(t,n){t.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(t,n){let r=t.style;if(r&&r.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let s=this.parser.matchedStyles[i],o=r.getPropertyValue(s);if(o)for(let a=void 0;;){let l=this.parser.matchStyle(s,o,this,a);if(!l)break;if(l.ignore)return null;if(l.clearMark?n=n.filter(c=>!l.clearMark(c)):n=n.concat(this.parser.schema.marks[l.mark].create(l.attrs)),l.consuming===!1)a=l;else break}}return n}addElementByRule(t,n,r,i){let s,o;if(n.node)if(o=this.parser.schema.nodes[n.node],o.isLeaf)this.insertNode(o.create(n.attrs),r,t.nodeName=="BR")||this.leafFallback(t,r);else{let l=this.enter(o,n.attrs||null,r,n.preserveWhitespace);l&&(s=!0,r=l)}else{let l=this.parser.schema.marks[n.mark];r=r.concat(l.create(n.attrs))}let a=this.top;if(o&&o.isLeaf)this.findInside(t);else if(i)this.addElement(t,r,i);else if(n.getContent)this.findInside(t),n.getContent(t,this.parser.schema).forEach(l=>this.insertNode(l,r,!1));else{let l=t;typeof n.contentElement=="string"?l=t.querySelector(n.contentElement):typeof n.contentElement=="function"?l=n.contentElement(t):n.contentElement&&(l=n.contentElement),this.findAround(t,l,!0),this.addAll(l,r),this.findAround(t,l,!1)}s&&this.sync(a)&&this.open--}addAll(t,n,r,i){let s=r||0;for(let o=r?t.childNodes[r]:t.firstChild,a=i==null?null:t.childNodes[i];o!=a;o=o.nextSibling,++s)this.findAtPoint(t,s),this.addDOM(o,n);this.findAtPoint(t,s)}findPlace(t,n,r){let i,s;for(let o=this.open,a=0;o>=0;o--){let l=this.nodes[o],c=l.findWrapping(t);if(c&&(!i||i.length>c.length+a)&&(i=c,s=l,!c.length))break;if(l.solid){if(r)break;a+=2}}if(!i)return null;this.sync(s);for(let o=0;o<i.length;o++)n=this.enterInner(i[o],null,n,!1);return n}insertNode(t,n,r){if(t.isInline&&this.needsBlock&&!this.top.type){let s=this.textblockFromContext();s&&(n=this.enterInner(s,null,n))}let i=this.findPlace(t,n,r);if(i){this.closeExtra();let s=this.top;s.match&&(s.match=s.match.matchType(t.type));let o=Ut.none;for(let a of i.concat(t.marks))(s.type?s.type.allowsMarkType(a.type):Cz(a.type,t.type))&&(o=a.addToSet(o));return s.content.push(t.mark(o)),!0}return!1}enter(t,n,r,i){let s=this.findPlace(t.create(n),r,!1);return s&&(s=this.enterInner(t,n,r,!0,i)),s}enterInner(t,n,r,i=!1,s){this.closeExtra();let o=this.top;o.match=o.match&&o.match.matchType(t);let a=yz(t,s,o.options);o.options&Bg&&o.content.length==0&&(a|=Bg);let l=Ut.none;return r=r.filter(c=>(o.type?o.type.allowsMarkType(c.type):Cz(c.type,t))?(l=c.addToSet(l),!1):!0),this.nodes.push(new I0(t,n,l,i,null,a)),this.open++,r}closeExtra(t=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(t));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(t){for(let n=this.open;n>=0;n--){if(this.nodes[n]==t)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=Am)}return!1}get currentPos(){this.closeExtra();let t=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)t+=r[i].nodeSize;n&&t++}return t}findAtPoint(t,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==t&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&t.nodeType==1&&t.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(t,n,r){if(t!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&t.nodeType==1&&t.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==t&&(this.find[n].pos=this.currentPos-(t.nodeValue.length-this.find[n].offset))}matchesContext(t){if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);let n=t.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),s=-(r?r.depth+1:0)+(i?0:1),o=(a,l)=>{for(;a>=0;a--){let c=n[a];if(c==""){if(a==n.length-1||a==0)continue;for(;l>=s;l--)if(o(a-1,l))return!0;return!1}else{let d=l>0||l==0&&i?this.nodes[l].type:r&&l>=s?r.node(l-s).type:null;if(!d||d.name!=c&&!d.isInGroup(c))return!1;l--}}return!0};return o(n.length-1,this.open)}textblockFromContext(){let t=this.options.context;if(t)for(let n=t.depth;n>=0;n--){let r=t.node(n).contentMatchAt(t.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function h8e(e){for(let t=e.firstChild,n=null;t;t=t.nextSibling){let r=t.nodeType==1?t.nodeName.toLowerCase():null;r&&TQ.hasOwnProperty(r)&&n?(n.appendChild(t),t=n):r=="li"?n=t:r&&(n=null)}}function f8e(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function bz(e){let t={};for(let n in e)t[n]=e[n];return t}function Cz(e,t){let n=t.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(e))continue;let s=[],o=a=>{s.push(a);for(let l=0;l<a.edgeCount;l++){let{type:c,next:d}=a.edge(l);if(c==t||s.indexOf(d)<0&&o(d))return!0}};if(o(i.contentMatch))return!0}}class Rd{constructor(t,n){this.nodes=t,this.marks=n}serializeFragment(t,n={},r){r||(r=HM(n).createDocumentFragment());let i=r,s=[];return t.forEach(o=>{if(s.length||o.marks.length){let a=0,l=0;for(;a<s.length&&l<o.marks.length;){let c=o.marks[l];if(!this.marks[c.type.name]){l++;continue}if(!c.eq(s[a][0])||c.type.spec.spanning===!1)break;a++,l++}for(;a<s.length;)i=s.pop()[1];for(;l<o.marks.length;){let c=o.marks[l++],d=this.serializeMark(c,o.isInline,n);d&&(s.push([c,i]),i.appendChild(d.dom),i=d.contentDOM||d.dom)}}i.appendChild(this.serializeNodeInner(o,n))}),r}serializeNodeInner(t,n){let{dom:r,contentDOM:i}=bw(HM(n),this.nodes[t.type.name](t),null,t.attrs);if(i){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(t.content,n,i)}return r}serializeNode(t,n={}){let r=this.serializeNodeInner(t,n);for(let i=t.marks.length-1;i>=0;i--){let s=this.serializeMark(t.marks[i],t.isInline,n);s&&((s.contentDOM||s.dom).appendChild(r),r=s.dom)}return r}serializeMark(t,n,r={}){let i=this.marks[t.type.name];return i&&bw(HM(r),i(t,n),null,t.attrs)}static renderSpec(t,n,r=null,i){return bw(t,n,r,i)}static fromSchema(t){return t.cached.domSerializer||(t.cached.domSerializer=new Rd(this.nodesFromSchema(t),this.marksFromSchema(t)))}static nodesFromSchema(t){let n=xz(t.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(t){return xz(t.marks)}}function xz(e){let t={};for(let n in e){let r=e[n].spec.toDOM;r&&(t[n]=r)}return t}function HM(e){return e.document||window.document}const Sz=new WeakMap;function p8e(e){let t=Sz.get(e);return t===void 0&&Sz.set(e,t=g8e(e)),t}function g8e(e){let t=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")t||(t=[]),t.push(r);else for(let i=0;i<r.length;i++)n(r[i]);else for(let i in r)n(r[i])}return n(e),t}function bw(e,t,n,r){if(typeof t=="string")return{dom:e.createTextNode(t)};if(t.nodeType!=null)return{dom:t};if(t.dom&&t.dom.nodeType!=null)return t;let i=t[0],s;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(s=p8e(r))&&s.indexOf(t)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let o=i.indexOf(" ");o>0&&(n=i.slice(0,o),i=i.slice(o+1));let a,l=n?e.createElementNS(n,i):e.createElement(i),c=t[1],d=1;if(c&&typeof c=="object"&&c.nodeType==null&&!Array.isArray(c)){d=2;for(let f in c)if(c[f]!=null){let p=f.indexOf(" ");p>0?l.setAttributeNS(f.slice(0,p),f.slice(p+1),c[f]):f=="style"&&l.style?l.style.cssText=c[f]:l.setAttribute(f,c[f])}}for(let f=d;f<t.length;f++){let p=t[f];if(p===0){if(f<t.length-1||f>d)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:v,contentDOM:y}=bw(e,p,n,r);if(l.appendChild(v),y){if(a)throw new RangeError("Multiple content holes");a=y}}}return{dom:l,contentDOM:a}}const kQ=65535,AQ=Math.pow(2,16);function m8e(e,t){return e+t*AQ}function Ez(e){return e&kQ}function v8e(e){return(e-(e&kQ))/AQ}const PQ=1,NQ=2,Cw=4,OQ=8;class mk{constructor(t,n,r){this.pos=t,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&OQ)>0}get deletedBefore(){return(this.delInfo&(PQ|Cw))>0}get deletedAfter(){return(this.delInfo&(NQ|Cw))>0}get deletedAcross(){return(this.delInfo&Cw)>0}}class Vi{constructor(t,n=!1){if(this.ranges=t,this.inverted=n,!t.length&&Vi.empty)return Vi.empty}recover(t){let n=0,r=Ez(t);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+v8e(t)}mapResult(t,n=1){return this._map(t,n,!1)}map(t,n=1){return this._map(t,n,!0)}_map(t,n,r){let i=0,s=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?i:0);if(l>t)break;let c=this.ranges[a+s],d=this.ranges[a+o],f=l+c;if(t<=f){let p=c?t==l?-1:t==f?1:n:n,v=l+i+(p<0?0:d);if(r)return v;let y=t==(n<0?l:f)?null:m8e(a/3,t-l),b=t==l?NQ:t==f?PQ:Cw;return(n<0?t!=l:t!=f)&&(b|=OQ),new mk(v,b,y)}i+=d-c}return r?t+i:new mk(t+i,0,null)}touches(t,n){let r=0,i=Ez(n),s=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?r:0);if(l>t)break;let c=this.ranges[a+s],d=l+c;if(t<=d&&a==i*3)return!0;r+=this.ranges[a+o]-c}return!1}forEach(t){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,s=0;i<this.ranges.length;i+=3){let o=this.ranges[i],a=o-(this.inverted?s:0),l=o+(this.inverted?0:s),c=this.ranges[i+n],d=this.ranges[i+r];t(a,a+c,l,l+d),s+=d-c}}invert(){return new Vi(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(t){return t==0?Vi.empty:new Vi(t<0?[0,-t,0]:[0,0,t])}}Vi.empty=new Vi([]);class Pm{constructor(t,n,r=0,i=t?t.length:0){this.mirror=n,this.from=r,this.to=i,this._maps=t||[],this.ownData=!(t||n)}get maps(){return this._maps}slice(t=0,n=this.maps.length){return new Pm(this._maps,this.mirror,t,n)}appendMap(t,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(t),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(t){for(let n=0,r=this._maps.length;n<t._maps.length;n++){let i=t.getMirror(n);this.appendMap(t._maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(t){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==t)return this.mirror[n+(n%2?-1:1)]}}setMirror(t,n){this.mirror||(this.mirror=[]),this.mirror.push(t,n)}appendMappingInverted(t){for(let n=t.maps.length-1,r=this._maps.length+t._maps.length;n>=0;n--){let i=t.getMirror(n);this.appendMap(t._maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let t=new Pm;return t.appendMappingInverted(this),t}map(t,n=1){if(this.mirror)return this._map(t,n,!0);for(let r=this.from;r<this.to;r++)t=this._maps[r].map(t,n);return t}mapResult(t,n=1){return this._map(t,n,!1)}_map(t,n,r){let i=0;for(let s=this.from;s<this.to;s++){let o=this._maps[s],a=o.mapResult(t,n);if(a.recover!=null){let l=this.getMirror(s);if(l!=null&&l>s&&l<this.to){s=l,t=this._maps[l].recover(a.recover);continue}}i|=a.delInfo,t=a.pos}return r?t:new mk(t,i,null)}}const zM=Object.create(null);class jr{getMap(){return Vi.empty}merge(t){return null}static fromJSON(t,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=zM[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(t,n)}static jsonID(t,n){if(t in zM)throw new RangeError("Duplicate use of step JSON ID "+t);return zM[t]=n,n.prototype.jsonID=t,n}}class jn{constructor(t,n){this.doc=t,this.failed=n}static ok(t){return new jn(t,null)}static fail(t){return new jn(null,t)}static fromReplace(t,n,r,i){try{return jn.ok(t.replace(n,r,i))}catch(s){if(s instanceof lC)return jn.fail(s.message);throw s}}}function eO(e,t,n){let r=[];for(let i=0;i<e.childCount;i++){let s=e.child(i);s.content.size&&(s=s.copy(eO(s.content,t,s))),s.isInline&&(s=t(s,n,i)),r.push(s)}return xe.fromArray(r)}class hc extends jr{constructor(t,n,r){super(),this.from=t,this.to=n,this.mark=r}apply(t){let n=t.slice(this.from,this.to),r=t.resolve(this.from),i=r.node(r.sharedDepth(this.to)),s=new ke(eO(n.content,(o,a)=>!o.isAtom||!a.type.allowsMarkType(this.mark.type)?o:o.mark(this.mark.addToSet(o.marks)),i),n.openStart,n.openEnd);return jn.fromReplace(t,this.from,this.to,s)}invert(){return new $s(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new hc(n.pos,r.pos,this.mark)}merge(t){return t instanceof hc&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new hc(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new hc(n.from,n.to,t.markFromJSON(n.mark))}}jr.jsonID("addMark",hc);class $s extends jr{constructor(t,n,r){super(),this.from=t,this.to=n,this.mark=r}apply(t){let n=t.slice(this.from,this.to),r=new ke(eO(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),t),n.openStart,n.openEnd);return jn.fromReplace(t,this.from,this.to,r)}invert(){return new hc(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new $s(n.pos,r.pos,this.mark)}merge(t){return t instanceof $s&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new $s(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new $s(n.from,n.to,t.markFromJSON(n.mark))}}jr.jsonID("removeMark",$s);class fc extends jr{constructor(t,n){super(),this.pos=t,this.mark=n}apply(t){let n=t.nodeAt(this.pos);if(!n)return jn.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return jn.fromReplace(t,this.pos,this.pos+1,new ke(xe.from(r),0,n.isLeaf?0:1))}invert(t){let n=t.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new fc(this.pos,n.marks[i]);return new fc(this.pos,this.mark)}}return new dd(this.pos,this.mark)}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new fc(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new fc(n.pos,t.markFromJSON(n.mark))}}jr.jsonID("addNodeMark",fc);class dd extends jr{constructor(t,n){super(),this.pos=t,this.mark=n}apply(t){let n=t.nodeAt(this.pos);if(!n)return jn.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return jn.fromReplace(t,this.pos,this.pos+1,new ke(xe.from(r),0,n.isLeaf?0:1))}invert(t){let n=t.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new fc(this.pos,this.mark)}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new dd(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new dd(n.pos,t.markFromJSON(n.mark))}}jr.jsonID("removeNodeMark",dd);class nr extends jr{constructor(t,n,r,i=!1){super(),this.from=t,this.to=n,this.slice=r,this.structure=i}apply(t){return this.structure&&vk(t,this.from,this.to)?jn.fail("Structure replace would overwrite content"):jn.fromReplace(t,this.from,this.to,this.slice)}getMap(){return new Vi([this.from,this.to-this.from,this.slice.size])}invert(t){return new nr(this.from,this.from+this.slice.size,t.slice(this.from,this.to))}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new nr(n.pos,Math.max(n.pos,r.pos),this.slice,this.structure)}merge(t){if(!(t instanceof nr)||t.structure||this.structure)return null;if(this.from+this.slice.size==t.from&&!this.slice.openEnd&&!t.slice.openStart){let n=this.slice.size+t.slice.size==0?ke.empty:new ke(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new nr(this.from,this.to+(t.to-t.from),n,this.structure)}else if(t.to==this.from&&!this.slice.openStart&&!t.slice.openEnd){let n=this.slice.size+t.slice.size==0?ke.empty:new ke(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new nr(t.from,this.to,n,this.structure)}else return null}toJSON(){let t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new nr(n.from,n.to,ke.fromJSON(t,n.slice),!!n.structure)}}jr.jsonID("replace",nr);class rr extends jr{constructor(t,n,r,i,s,o,a=!1){super(),this.from=t,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=s,this.insert=o,this.structure=a}apply(t){if(this.structure&&(vk(t,this.from,this.gapFrom)||vk(t,this.gapTo,this.to)))return jn.fail("Structure gap-replace would overwrite content");let n=t.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return jn.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?jn.fromReplace(t,this.from,this.to,r):jn.fail("Content does not fit in gap")}getMap(){return new Vi([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(t){let n=this.gapTo-this.gapFrom;return new rr(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1),i=this.from==this.gapFrom?n.pos:t.map(this.gapFrom,-1),s=this.to==this.gapTo?r.pos:t.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||s>r.pos?null:new rr(n.pos,r.pos,i,s,this.slice,this.insert,this.structure)}toJSON(){let t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new rr(n.from,n.to,n.gapFrom,n.gapTo,ke.fromJSON(t,n.slice),n.insert,!!n.structure)}}jr.jsonID("replaceAround",rr);function vk(e,t,n){let r=e.resolve(t),i=n-t,s=r.depth;for(;i>0&&s>0&&r.indexAfter(s)==r.node(s).childCount;)s--,i--;if(i>0){let o=r.node(s).maybeChild(r.indexAfter(s));for(;i>0;){if(!o||o.isLeaf)return!0;o=o.firstChild,i--}}return!1}function y8e(e,t,n,r){let i=[],s=[],o,a;e.doc.nodesBetween(t,n,(l,c,d)=>{if(!l.isInline)return;let f=l.marks;if(!r.isInSet(f)&&d.type.allowsMarkType(r.type)){let p=Math.max(c,t),v=Math.min(c+l.nodeSize,n),y=r.addToSet(f);for(let b=0;b<f.length;b++)f[b].isInSet(y)||(o&&o.to==p&&o.mark.eq(f[b])?o.to=v:i.push(o=new $s(p,v,f[b])));a&&a.to==p?a.to=v:s.push(a=new hc(p,v,r))}}),i.forEach(l=>e.step(l)),s.forEach(l=>e.step(l))}function w8e(e,t,n,r){let i=[],s=0;e.doc.nodesBetween(t,n,(o,a)=>{if(!o.isInline)return;s++;let l=null;if(r instanceof wS){let c=o.marks,d;for(;d=r.isInSet(c);)(l||(l=[])).push(d),c=d.removeFromSet(c)}else r?r.isInSet(o.marks)&&(l=[r]):l=o.marks;if(l&&l.length){let c=Math.min(a+o.nodeSize,n);for(let d=0;d<l.length;d++){let f=l[d],p;for(let v=0;v<i.length;v++){let y=i[v];y.step==s-1&&f.eq(i[v].style)&&(p=y)}p?(p.to=c,p.step=s):i.push({style:f,from:Math.max(a,t),to:c,step:s})}}}),i.forEach(o=>e.step(new $s(o.from,o.to,o.style)))}function tO(e,t,n,r=n.contentMatch,i=!0){let s=e.doc.nodeAt(t),o=[],a=t+1;for(let l=0;l<s.childCount;l++){let c=s.child(l),d=a+c.nodeSize,f=r.matchType(c.type);if(!f)o.push(new nr(a,d,ke.empty));else{r=f;for(let p=0;p<c.marks.length;p++)n.allowsMarkType(c.marks[p].type)||e.step(new $s(a,d,c.marks[p]));if(i&&c.isText&&n.whitespace!="pre"){let p,v=/\r?\n|\r/g,y;for(;p=v.exec(c.text);)y||(y=new ke(xe.from(n.schema.text(" ",n.allowedMarks(c.marks))),0,0)),o.push(new nr(a+p.index,a+p.index+p[0].length,y))}}a=d}if(!r.validEnd){let l=r.fillBefore(xe.empty,!0);e.replace(a,a,new ke(l,0,0))}for(let l=o.length-1;l>=0;l--)e.step(o[l])}function b8e(e,t,n){return(t==0||e.canReplace(t,e.childCount))&&(n==e.childCount||e.canReplace(0,n))}function tp(e){let n=e.parent.content.cutByIndex(e.startIndex,e.endIndex);for(let r=e.depth,i=0,s=0;;--r){let o=e.$from.node(r),a=e.$from.index(r)+i,l=e.$to.indexAfter(r)-s;if(r<e.depth&&o.canReplace(a,l,n))return r;if(r==0||o.type.spec.isolating||!b8e(o,a,l))break;a&&(i=1),l<o.childCount&&(s=1)}return null}function C8e(e,t,n){let{$from:r,$to:i,depth:s}=t,o=r.before(s+1),a=i.after(s+1),l=o,c=a,d=xe.empty,f=0;for(let y=s,b=!1;y>n;y--)b||r.index(y)>0?(b=!0,d=xe.from(r.node(y).copy(d)),f++):l--;let p=xe.empty,v=0;for(let y=s,b=!1;y>n;y--)b||i.after(y+1)<i.end(y)?(b=!0,p=xe.from(i.node(y).copy(p)),v++):c++;e.step(new rr(l,c,o,a,new ke(d.append(p),f,v),d.size-f,!0))}function nO(e,t,n=null,r=e){let i=x8e(e,t),s=i&&S8e(r,t);return s?i.map(Dz).concat({type:t,attrs:n}).concat(s.map(Dz)):null}function Dz(e){return{type:e,attrs:null}}function x8e(e,t){let{parent:n,startIndex:r,endIndex:i}=e,s=n.contentMatchAt(r).findWrapping(t);if(!s)return null;let o=s.length?s[0]:t;return n.canReplaceWith(r,i,o)?s:null}function S8e(e,t){let{parent:n,startIndex:r,endIndex:i}=e,s=n.child(r),o=t.contentMatch.findWrapping(s.type);if(!o)return null;let l=(o.length?o[o.length-1]:t).contentMatch;for(let c=r;l&&c<i;c++)l=l.matchType(n.child(c).type);return!l||!l.validEnd?null:o}function E8e(e,t,n){let r=xe.empty;for(let o=n.length-1;o>=0;o--){if(r.size){let a=n[o].type.contentMatch.matchFragment(r);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=xe.from(n[o].type.create(n[o].attrs,r))}let i=t.start,s=t.end;e.step(new rr(i,s,i,s,new ke(r,0,0),n.length,!0))}function D8e(e,t,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=e.steps.length;e.doc.nodesBetween(t,n,(o,a)=>{let l=typeof i=="function"?i(o):i;if(o.isTextblock&&!o.hasMarkup(r,l)&&R8e(e.doc,e.mapping.slice(s).map(a),r)){let c=null;if(r.schema.linebreakReplacement){let v=r.whitespace=="pre",y=!!r.contentMatch.matchType(r.schema.linebreakReplacement);v&&!y?c=!1:!v&&y&&(c=!0)}c===!1&&IQ(e,o,a,s),tO(e,e.mapping.slice(s).map(a,1),r,void 0,c===null);let d=e.mapping.slice(s),f=d.map(a,1),p=d.map(a+o.nodeSize,1);return e.step(new rr(f,p,f+1,p-1,new ke(xe.from(r.create(l,null,o.marks)),0,0),1,!0)),c===!0&&FQ(e,o,a,s),!1}})}function FQ(e,t,n,r){t.forEach((i,s)=>{if(i.isText){let o,a=/\r?\n|\r/g;for(;o=a.exec(i.text);){let l=e.mapping.slice(r).map(n+1+s+o.index);e.replaceWith(l,l+1,t.type.schema.linebreakReplacement.create())}}})}function IQ(e,t,n,r){t.forEach((i,s)=>{if(i.type==i.type.schema.linebreakReplacement){let o=e.mapping.slice(r).map(n+1+s);e.replaceWith(o,o+1,t.type.schema.text(`
`))}})}function R8e(e,t,n){let r=e.resolve(t),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function M8e(e,t,n,r,i){let s=e.doc.nodeAt(t);if(!s)throw new RangeError("No node at given position");n||(n=s.type);let o=n.create(r,null,i||s.marks);if(s.isLeaf)return e.replaceWith(t,t+s.nodeSize,o);if(!n.validContent(s.content))throw new RangeError("Invalid content for node type "+n.name);e.step(new rr(t,t+s.nodeSize,t+1,t+s.nodeSize-1,new ke(xe.from(o),0,0),1,!0))}function Wa(e,t,n=1,r){let i=e.resolve(t),s=i.depth-n,o=r&&r[r.length-1]||i.parent;if(s<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!o.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let c=i.depth-1,d=n-2;c>s;c--,d--){let f=i.node(c),p=i.index(c);if(f.type.spec.isolating)return!1;let v=f.content.cutByIndex(p,f.childCount),y=r&&r[d+1];y&&(v=v.replaceChild(0,y.type.create(y.attrs)));let b=r&&r[d]||f;if(!f.canReplace(p+1,f.childCount)||!b.type.validContent(v))return!1}let a=i.indexAfter(s),l=r&&r[0];return i.node(s).canReplaceWith(a,a,l?l.type:i.node(s+1).type)}function T8e(e,t,n=1,r){let i=e.doc.resolve(t),s=xe.empty,o=xe.empty;for(let a=i.depth,l=i.depth-n,c=n-1;a>l;a--,c--){s=xe.from(i.node(a).copy(s));let d=r&&r[c];o=xe.from(d?d.type.create(d.attrs,o):i.node(a).copy(o))}e.step(new nr(t,t,new ke(s.append(o),n,n),!0))}function Vc(e,t){let n=e.resolve(t),r=n.index();return LQ(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function k8e(e,t){t.content.size||e.type.compatibleContent(t.type);let n=e.contentMatchAt(e.childCount),{linebreakReplacement:r}=e.type.schema;for(let i=0;i<t.childCount;i++){let s=t.child(i),o=s.type==r?e.type.schema.nodes.text:s.type;if(n=n.matchType(o),!n||!e.type.allowsMarks(s.marks))return!1}return n.validEnd}function LQ(e,t){return!!(e&&t&&!e.isLeaf&&k8e(e,t))}function bS(e,t,n=-1){let r=e.resolve(t);for(let i=r.depth;;i--){let s,o,a=r.index(i);if(i==r.depth?(s=r.nodeBefore,o=r.nodeAfter):n>0?(s=r.node(i+1),a++,o=r.node(i).maybeChild(a)):(s=r.node(i).maybeChild(a-1),o=r.node(i+1)),s&&!s.isTextblock&&LQ(s,o)&&r.node(i).canReplace(a,a+1))return t;if(i==0)break;t=n<0?r.before(i):r.after(i)}}function A8e(e,t,n){let r=null,{linebreakReplacement:i}=e.doc.type.schema,s=e.doc.resolve(t-n),o=s.node().type;if(i&&o.inlineContent){let d=o.whitespace=="pre",f=!!o.contentMatch.matchType(i);d&&!f?r=!1:!d&&f&&(r=!0)}let a=e.steps.length;if(r===!1){let d=e.doc.resolve(t+n);IQ(e,d.node(),d.before(),a)}o.inlineContent&&tO(e,t+n-1,o,s.node().contentMatchAt(s.index()),r==null);let l=e.mapping.slice(a),c=l.map(t-n);if(e.step(new nr(c,l.map(t+n,-1),ke.empty,!0)),r===!0){let d=e.doc.resolve(c);FQ(e,d.node(),d.before(),e.steps.length)}return e}function P8e(e,t,n){let r=e.resolve(t);if(r.parent.canReplaceWith(r.index(),r.index(),n))return t;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let s=r.index(i);if(r.node(i).canReplaceWith(s,s,n))return r.before(i+1);if(s>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let s=r.indexAfter(i);if(r.node(i).canReplaceWith(s,s,n))return r.after(i+1);if(s<r.node(i).childCount)return null}return null}function _Q(e,t,n){let r=e.resolve(t);if(!n.content.size)return t;let i=n.content;for(let s=0;s<n.openStart;s++)i=i.firstChild.content;for(let s=1;s<=(n.openStart==0&&n.size?2:1);s++)for(let o=r.depth;o>=0;o--){let a=o==r.depth?0:r.pos<=(r.start(o+1)+r.end(o+1))/2?-1:1,l=r.index(o)+(a>0?1:0),c=r.node(o),d=!1;if(s==1)d=c.canReplace(l,l,i);else{let f=c.contentMatchAt(l).findWrapping(i.firstChild.type);d=f&&c.canReplaceWith(l,l,f[0])}if(d)return a==0?r.pos:a<0?r.before(o+1):r.after(o+1)}return null}function CS(e,t,n=t,r=ke.empty){if(t==n&&!r.size)return null;let i=e.resolve(t),s=e.resolve(n);return jQ(i,s,r)?new nr(t,n,r):new N8e(i,s,r).fit()}function jQ(e,t,n){return!n.openStart&&!n.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),n.content)}class N8e{constructor(t,n,r){this.$from=t,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=xe.empty;for(let i=0;i<=t.depth;i++){let s=t.node(i);this.frontier.push({type:s.type,match:s.contentMatchAt(t.indexAfter(i))})}for(let i=t.depth;i>0;i--)this.placed=xe.from(t.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let c=this.findFittable();c?this.placeNodes(c):this.openMore()||this.dropNode()}let t=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(t<0?this.$to:r.doc.resolve(t));if(!i)return null;let s=this.placed,o=r.depth,a=i.depth;for(;o&&a&&s.childCount==1;)s=s.firstChild.content,o--,a--;let l=new ke(s,o,a);return t>-1?new rr(r.pos,t,this.$to.pos,this.$to.end(),l,n):l.size||r.pos!=this.$to.pos?new nr(r.pos,i.pos,l):null}findFittable(){let t=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<t;r++){let s=n.firstChild;if(n.childCount>1&&(i=0),s.type.spec.isolating&&i<=r){t=r;break}n=s.content}for(let n=1;n<=2;n++)for(let r=n==1?t:this.unplaced.openStart;r>=0;r--){let i,s=null;r?(s=GM(this.unplaced.content,r-1).firstChild,i=s.content):i=this.unplaced.content;let o=i.firstChild;for(let a=this.depth;a>=0;a--){let{type:l,match:c}=this.frontier[a],d,f=null;if(n==1&&(o?c.matchType(o.type)||(f=c.fillBefore(xe.from(o),!1)):s&&l.compatibleContent(s.type)))return{sliceDepth:r,frontierDepth:a,parent:s,inject:f};if(n==2&&o&&(d=c.findWrapping(o.type)))return{sliceDepth:r,frontierDepth:a,parent:s,wrap:d};if(s&&c.matchType(s.type))break}}}openMore(){let{content:t,openStart:n,openEnd:r}=this.unplaced,i=GM(t,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new ke(t,n+1,Math.max(r,i.size+n>=t.size-r?n+1:0)),!0)}dropNode(){let{content:t,openStart:n,openEnd:r}=this.unplaced,i=GM(t,n);if(i.childCount<=1&&n>0){let s=t.size-n<=n+i.size;this.unplaced=new ke(Sg(t,n-1,1),n-1,s?n-1:r)}else this.unplaced=new ke(Sg(t,n,1),n,r)}placeNodes({sliceDepth:t,frontierDepth:n,parent:r,inject:i,wrap:s}){for(;this.depth>n;)this.closeFrontierNode();if(s)for(let b=0;b<s.length;b++)this.openFrontierNode(s[b]);let o=this.unplaced,a=r?r.content:o.content,l=o.openStart-t,c=0,d=[],{match:f,type:p}=this.frontier[n];if(i){for(let b=0;b<i.childCount;b++)d.push(i.child(b));f=f.matchFragment(i)}let v=a.size+t-(o.content.size-o.openEnd);for(;c<a.childCount;){let b=a.child(c),x=f.matchType(b.type);if(!x)break;c++,(c>1||l==0||b.content.size)&&(f=x,d.push(BQ(b.mark(p.allowedMarks(b.marks)),c==1?l:0,c==a.childCount?v:-1)))}let y=c==a.childCount;y||(v=-1),this.placed=Eg(this.placed,n,xe.from(d)),this.frontier[n].match=f,y&&v<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let b=0,x=a;b<v;b++){let S=x.lastChild;this.frontier.push({type:S.type,match:S.contentMatchAt(S.childCount)}),x=S.content}this.unplaced=y?t==0?ke.empty:new ke(Sg(o.content,t-1,1),t-1,v<0?o.openEnd:t-1):new ke(Sg(o.content,t,c),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let t=this.frontier[this.depth],n;if(!t.type.isTextblock||!VM(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(t){e:for(let n=Math.min(this.depth,t.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],s=n<t.depth&&t.end(n+1)==t.pos+(t.depth-(n+1)),o=VM(t,n,i,r,s);if(o){for(let a=n-1;a>=0;a--){let{match:l,type:c}=this.frontier[a],d=VM(t,a,c,l,!0);if(!d||d.childCount)continue e}return{depth:n,fit:o,move:s?t.doc.resolve(t.after(n+1)):t}}}}close(t){let n=this.findCloseLevel(t);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=Eg(this.placed,n.depth,n.fit)),t=n.move;for(let r=n.depth+1;r<=t.depth;r++){let i=t.node(r),s=i.type.contentMatch.fillBefore(i.content,!0,t.index(r));this.openFrontierNode(i.type,i.attrs,s)}return t}openFrontierNode(t,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(t),this.placed=Eg(this.placed,this.depth,xe.from(t.create(n,r))),this.frontier.push({type:t,match:t.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(xe.empty,!0);n.childCount&&(this.placed=Eg(this.placed,this.frontier.length,n))}}function Sg(e,t,n){return t==0?e.cutByIndex(n,e.childCount):e.replaceChild(0,e.firstChild.copy(Sg(e.firstChild.content,t-1,n)))}function Eg(e,t,n){return t==0?e.append(n):e.replaceChild(e.childCount-1,e.lastChild.copy(Eg(e.lastChild.content,t-1,n)))}function GM(e,t){for(let n=0;n<t;n++)e=e.firstChild.content;return e}function BQ(e,t,n){if(t<=0)return e;let r=e.content;return t>1&&(r=r.replaceChild(0,BQ(r.firstChild,t-1,r.childCount==1?n-1:0))),t>0&&(r=e.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(e.type.contentMatch.matchFragment(r).fillBefore(xe.empty,!0)))),e.copy(r)}function VM(e,t,n,r,i){let s=e.node(t),o=i?e.indexAfter(t):e.index(t);if(o==s.childCount&&!n.compatibleContent(s.type))return null;let a=r.fillBefore(s.content,!0,o);return a&&!O8e(n,s.content,o)?a:null}function O8e(e,t,n){for(let r=n;r<t.childCount;r++)if(!e.allowsMarks(t.child(r).marks))return!0;return!1}function F8e(e){return e.spec.defining||e.spec.definingForContent}function I8e(e,t,n,r){if(!r.size)return e.deleteRange(t,n);let i=e.doc.resolve(t),s=e.doc.resolve(n);if(jQ(i,s,r))return e.step(new nr(t,n,r));let o=zQ(i,s);o[o.length-1]==0&&o.pop();let a=-(i.depth+1);o.unshift(a);for(let p=i.depth,v=i.pos-1;p>0;p--,v--){let y=i.node(p).type.spec;if(y.defining||y.definingAsContext||y.isolating)break;o.indexOf(p)>-1?a=p:i.before(p)==v&&o.splice(1,0,-p)}let l=o.indexOf(a),c=[],d=r.openStart;for(let p=r.content,v=0;;v++){let y=p.firstChild;if(c.push(y),v==r.openStart)break;p=y.content}for(let p=d-1;p>=0;p--){let v=c[p],y=F8e(v.type);if(y&&!v.sameMarkup(i.node(Math.abs(a)-1)))d=p;else if(y||!v.type.isTextblock)break}for(let p=r.openStart;p>=0;p--){let v=(p+d+1)%(r.openStart+1),y=c[v];if(y)for(let b=0;b<o.length;b++){let x=o[(b+l)%o.length],S=!0;x<0&&(S=!1,x=-x);let M=i.node(x-1),R=i.index(x-1);if(M.canReplaceWith(R,R,y.type,y.marks))return e.replace(i.before(x),S?s.after(x):n,new ke(HQ(r.content,0,r.openStart,v),v,r.openEnd))}}let f=e.steps.length;for(let p=o.length-1;p>=0&&(e.replace(t,n,r),!(e.steps.length>f));p--){let v=o[p];v<0||(t=i.before(v),n=s.after(v))}}function HQ(e,t,n,r,i){if(t<n){let s=e.firstChild;e=e.replaceChild(0,s.copy(HQ(s.content,t+1,n,r,s)))}if(t>r){let s=i.contentMatchAt(0),o=s.fillBefore(e).append(e);e=o.append(s.matchFragment(o).fillBefore(xe.empty,!0))}return e}function L8e(e,t,n,r){if(!r.isInline&&t==n&&e.doc.resolve(t).parent.content.size){let i=P8e(e.doc,t,r.type);i!=null&&(t=n=i)}e.replaceRange(t,n,new ke(xe.from(r),0,0))}function _8e(e,t,n){let r=e.doc.resolve(t),i=e.doc.resolve(n),s=zQ(r,i);for(let o=0;o<s.length;o++){let a=s[o],l=o==s.length-1;if(l&&a==0||r.node(a).type.contentMatch.validEnd)return e.delete(r.start(a),i.end(a));if(a>0&&(l||r.node(a-1).canReplace(r.index(a-1),i.indexAfter(a-1))))return e.delete(r.before(a),i.after(a))}for(let o=1;o<=r.depth&&o<=i.depth;o++)if(t-r.start(o)==r.depth-o&&n>r.end(o)&&i.end(o)-n!=i.depth-o&&r.start(o-1)==i.start(o-1)&&r.node(o-1).canReplace(r.index(o-1),i.index(o-1)))return e.delete(r.before(o),n);e.delete(t,n)}function zQ(e,t){let n=[],r=Math.min(e.depth,t.depth);for(let i=r;i>=0;i--){let s=e.start(i);if(s<e.pos-(e.depth-i)||t.end(i)>t.pos+(t.depth-i)||e.node(i).type.spec.isolating||t.node(i).type.spec.isolating)break;(s==t.start(i)||i==e.depth&&i==t.depth&&e.parent.inlineContent&&t.parent.inlineContent&&i&&t.start(i-1)==s-1)&&n.push(i)}return n}class Zh extends jr{constructor(t,n,r){super(),this.pos=t,this.attr=n,this.value=r}apply(t){let n=t.nodeAt(this.pos);if(!n)return jn.fail("No node at attribute step's position");let r=Object.create(null);for(let s in n.attrs)r[s]=n.attrs[s];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return jn.fromReplace(t,this.pos,this.pos+1,new ke(xe.from(i),0,n.isLeaf?0:1))}getMap(){return Vi.empty}invert(t){return new Zh(this.pos,this.attr,t.nodeAt(this.pos).attrs[this.attr])}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new Zh(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(t,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Zh(n.pos,n.attr,n.value)}}jr.jsonID("attr",Zh);class Nm extends jr{constructor(t,n){super(),this.attr=t,this.value=n}apply(t){let n=Object.create(null);for(let i in t.attrs)n[i]=t.attrs[i];n[this.attr]=this.value;let r=t.type.create(n,t.content,t.marks);return jn.ok(r)}getMap(){return Vi.empty}invert(t){return new Nm(this.attr,t.attrs[this.attr])}map(t){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(t,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Nm(n.attr,n.value)}}jr.jsonID("docAttr",Nm);let Tf=class extends Error{};Tf=function e(t){let n=Error.call(this,t);return n.__proto__=e.prototype,n};Tf.prototype=Object.create(Error.prototype);Tf.prototype.constructor=Tf;Tf.prototype.name="TransformError";class GQ{constructor(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new Pm}get before(){return this.docs.length?this.docs[0]:this.doc}step(t){let n=this.maybeStep(t);if(n.failed)throw new Tf(n.failed);return this}maybeStep(t){let n=t.apply(this.doc);return n.failed||this.addStep(t,n.doc),n}get docChanged(){return this.steps.length>0}addStep(t,n){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=n}replace(t,n=t,r=ke.empty){let i=CS(this.doc,t,n,r);return i&&this.step(i),this}replaceWith(t,n,r){return this.replace(t,n,new ke(xe.from(r),0,0))}delete(t,n){return this.replace(t,n,ke.empty)}insert(t,n){return this.replaceWith(t,t,n)}replaceRange(t,n,r){return I8e(this,t,n,r),this}replaceRangeWith(t,n,r){return L8e(this,t,n,r),this}deleteRange(t,n){return _8e(this,t,n),this}lift(t,n){return C8e(this,t,n),this}join(t,n=1){return A8e(this,t,n),this}wrap(t,n){return E8e(this,t,n),this}setBlockType(t,n=t,r,i=null){return D8e(this,t,n,r,i),this}setNodeMarkup(t,n,r=null,i){return M8e(this,t,n,r,i),this}setNodeAttribute(t,n,r){return this.step(new Zh(t,n,r)),this}setDocAttribute(t,n){return this.step(new Nm(t,n)),this}addNodeMark(t,n){return this.step(new fc(t,n)),this}removeNodeMark(t,n){let r=this.doc.nodeAt(t);if(!r)throw new RangeError("No node at position "+t);if(n instanceof Ut)n.isInSet(r.marks)&&this.step(new dd(t,n));else{let i=r.marks,s,o=[];for(;s=n.isInSet(i);)o.push(new dd(t,s)),i=s.removeFromSet(i);for(let a=o.length-1;a>=0;a--)this.step(o[a])}return this}split(t,n=1,r){return T8e(this,t,n,r),this}addMark(t,n,r){return y8e(this,t,n,r),this}removeMark(t,n,r){return w8e(this,t,n,r),this}clearIncompatible(t,n,r){return tO(this,t,n,r),this}}const WM=Object.create(null);class nt{constructor(t,n,r){this.$anchor=t,this.$head=n,this.ranges=r||[new j8e(t.min(n),t.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let t=this.ranges;for(let n=0;n<t.length;n++)if(t[n].$from.pos!=t[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(t,n=ke.empty){let r=n.content.lastChild,i=null;for(let a=0;a<n.openEnd;a++)i=r,r=r.lastChild;let s=t.steps.length,o=this.ranges;for(let a=0;a<o.length;a++){let{$from:l,$to:c}=o[a],d=t.mapping.slice(s);t.replaceRange(d.map(l.pos),d.map(c.pos),a?ke.empty:n),a==0&&Tz(t,s,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(t,n){let r=t.steps.length,i=this.ranges;for(let s=0;s<i.length;s++){let{$from:o,$to:a}=i[s],l=t.mapping.slice(r),c=l.map(o.pos),d=l.map(a.pos);s?t.deleteRange(c,d):(t.replaceRangeWith(c,d,n),Tz(t,r,n.isInline?-1:1))}}static findFrom(t,n,r=!1){let i=t.parent.inlineContent?new Ke(t):Th(t.node(0),t.parent,t.pos,t.index(),n,r);if(i)return i;for(let s=t.depth-1;s>=0;s--){let o=n<0?Th(t.node(0),t.node(s),t.before(s+1),t.index(s),n,r):Th(t.node(0),t.node(s),t.after(s+1),t.index(s)+1,n,r);if(o)return o}return null}static near(t,n=1){return this.findFrom(t,n)||this.findFrom(t,-n)||new Xi(t.node(0))}static atStart(t){return Th(t,t,0,0,1)||new Xi(t)}static atEnd(t){return Th(t,t,t.content.size,t.childCount,-1)||new Xi(t)}static fromJSON(t,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=WM[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(t,n)}static jsonID(t,n){if(t in WM)throw new RangeError("Duplicate use of selection JSON ID "+t);return WM[t]=n,n.prototype.jsonID=t,n}getBookmark(){return Ke.between(this.$anchor,this.$head).getBookmark()}}nt.prototype.visible=!0;class j8e{constructor(t,n){this.$from=t,this.$to=n}}let Rz=!1;function Mz(e){!Rz&&!e.parent.inlineContent&&(Rz=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+e.parent.type.name+")"))}class Ke extends nt{constructor(t,n=t){Mz(t),Mz(n),super(t,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(t,n){let r=t.resolve(n.map(this.head));if(!r.parent.inlineContent)return nt.near(r);let i=t.resolve(n.map(this.anchor));return new Ke(i.parent.inlineContent?i:r,r)}replace(t,n=ke.empty){if(super.replace(t,n),n==ke.empty){let r=this.$from.marksAcross(this.$to);r&&t.ensureMarks(r)}}eq(t){return t instanceof Ke&&t.anchor==this.anchor&&t.head==this.head}getBookmark(){return new xS(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(t,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Ke(t.resolve(n.anchor),t.resolve(n.head))}static create(t,n,r=n){let i=t.resolve(n);return new this(i,r==n?i:t.resolve(r))}static between(t,n,r){let i=t.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let s=nt.findFrom(n,r,!0)||nt.findFrom(n,-r,!0);if(s)n=s.$head;else return nt.near(n,r)}return t.parent.inlineContent||(i==0?t=n:(t=(nt.findFrom(t,-r,!0)||nt.findFrom(t,r,!0)).$anchor,t.pos<n.pos!=i<0&&(t=n))),new Ke(t,n)}}nt.jsonID("text",Ke);class xS{constructor(t,n){this.anchor=t,this.head=n}map(t){return new xS(t.map(this.anchor),t.map(this.head))}resolve(t){return Ke.between(t.resolve(this.anchor),t.resolve(this.head))}}class ze extends nt{constructor(t){let n=t.nodeAfter,r=t.node(0).resolve(t.pos+n.nodeSize);super(t,r),this.node=n}map(t,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),s=t.resolve(i);return r?nt.near(s):new ze(s)}content(){return new ke(xe.from(this.node),0,0)}eq(t){return t instanceof ze&&t.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new rO(this.anchor)}static fromJSON(t,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new ze(t.resolve(n.anchor))}static create(t,n){return new ze(t.resolve(n))}static isSelectable(t){return!t.isText&&t.type.spec.selectable!==!1}}ze.prototype.visible=!1;nt.jsonID("node",ze);class rO{constructor(t){this.anchor=t}map(t){let{deleted:n,pos:r}=t.mapResult(this.anchor);return n?new xS(r,r):new rO(r)}resolve(t){let n=t.resolve(this.anchor),r=n.nodeAfter;return r&&ze.isSelectable(r)?new ze(n):nt.near(n)}}class Xi extends nt{constructor(t){super(t.resolve(0),t.resolve(t.content.size))}replace(t,n=ke.empty){if(n==ke.empty){t.delete(0,t.doc.content.size);let r=nt.atStart(t.doc);r.eq(t.selection)||t.setSelection(r)}else super.replace(t,n)}toJSON(){return{type:"all"}}static fromJSON(t){return new Xi(t)}map(t){return new Xi(t)}eq(t){return t instanceof Xi}getBookmark(){return B8e}}nt.jsonID("all",Xi);const B8e={map(){return this},resolve(e){return new Xi(e)}};function Th(e,t,n,r,i,s=!1){if(t.inlineContent)return Ke.create(e,n);for(let o=r-(i>0?0:1);i>0?o<t.childCount:o>=0;o+=i){let a=t.child(o);if(a.isAtom){if(!s&&ze.isSelectable(a))return ze.create(e,n-(i<0?a.nodeSize:0))}else{let l=Th(e,a,n+i,i<0?a.childCount:0,i,s);if(l)return l}n+=a.nodeSize*i}return null}function Tz(e,t,n){let r=e.steps.length-1;if(r<t)return;let i=e.steps[r];if(!(i instanceof nr||i instanceof rr))return;let s=e.mapping.maps[r],o;s.forEach((a,l,c,d)=>{o==null&&(o=d)}),e.setSelection(nt.near(e.doc.resolve(o),n))}const kz=1,L0=2,Az=4;class H8e extends GQ{constructor(t){super(t.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=t.selection,this.storedMarks=t.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(t){if(t.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=(this.updated|kz)&~L0,this.storedMarks=null,this}get selectionSet(){return(this.updated&kz)>0}setStoredMarks(t){return this.storedMarks=t,this.updated|=L0,this}ensureMarks(t){return Ut.sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this}addStoredMark(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&L0)>0}addStep(t,n){super.addStep(t,n),this.updated=this.updated&~L0,this.storedMarks=null}setTime(t){return this.time=t,this}replaceSelection(t){return this.selection.replace(this,t),this}replaceSelectionWith(t,n=!0){let r=this.selection;return n&&(t=t.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||Ut.none))),r.replaceWith(this,t),this}deleteSelection(){return this.selection.replace(this),this}insertText(t,n,r){let i=this.doc.type.schema;if(n==null)return t?this.replaceSelectionWith(i.text(t),!0):this.deleteSelection();{if(r==null&&(r=n),!t)return this.deleteRange(n,r);let s=this.storedMarks;if(!s){let o=this.doc.resolve(n);s=r==n?o.marks():o.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,i.text(t,s)),!this.selection.empty&&this.selection.to==n+t.length&&this.setSelection(nt.near(this.selection.$to)),this}}setMeta(t,n){return this.meta[typeof t=="string"?t:t.key]=n,this}getMeta(t){return this.meta[typeof t=="string"?t:t.key]}get isGeneric(){for(let t in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=Az,this}get scrolledIntoView(){return(this.updated&Az)>0}}function Pz(e,t){return!t||!e?e:e.bind(t)}class Dg{constructor(t,n,r){this.name=t,this.init=Pz(n.init,r),this.apply=Pz(n.apply,r)}}const z8e=[new Dg("doc",{init(e){return e.doc||e.schema.topNodeType.createAndFill()},apply(e){return e.doc}}),new Dg("selection",{init(e,t){return e.selection||nt.atStart(t.doc)},apply(e){return e.selection}}),new Dg("storedMarks",{init(e){return e.storedMarks||null},apply(e,t,n,r){return r.selection.$cursor?e.storedMarks:null}}),new Dg("scrollToSelection",{init(){return 0},apply(e,t){return e.scrolledIntoView?t+1:t}})];class UM{constructor(t,n){this.schema=t,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=z8e.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new Dg(r.key,r.spec.state,r))})}}class _h{constructor(t){this.config=t}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(t){return this.applyTransaction(t).state}filterTransaction(t,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,t,this))return!1}return!0}applyTransaction(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};let n=[t],r=this.applyInner(t),i=null;for(;;){let s=!1;for(let o=0;o<this.config.plugins.length;o++){let a=this.config.plugins[o];if(a.spec.appendTransaction){let l=i?i[o].n:0,c=i?i[o].state:this,d=l<n.length&&a.spec.appendTransaction.call(a,l?n.slice(l):n,c,r);if(d&&r.filterTransaction(d,o)){if(d.setMeta("appendedTransaction",t),!i){i=[];for(let f=0;f<this.config.plugins.length;f++)i.push(f<o?{state:r,n:n.length}:{state:this,n:0})}n.push(d),r=r.applyInner(d),s=!0}i&&(i[o]={state:r,n:n.length})}}if(!s)return{state:r,transactions:n}}}applyInner(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new _h(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let s=r[i];n[s.name]=s.apply(t,this[s.name],this,n)}return n}get tr(){return new H8e(this)}static create(t){let n=new UM(t.doc?t.doc.type.schema:t.schema,t.plugins),r=new _h(n);for(let i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(t,r);return r}reconfigure(t){let n=new UM(this.schema,t.plugins),r=n.fields,i=new _h(n);for(let s=0;s<r.length;s++){let o=r[s].name;i[o]=this.hasOwnProperty(o)?this[o]:r[s].init(t,i)}return i}toJSON(t){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),t&&typeof t=="object")for(let r in t){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=t[r],s=i.spec.state;s&&s.toJSON&&(n[r]=s.toJSON.call(i,this[i.key]))}return n}static fromJSON(t,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");let i=new UM(t.schema,t.plugins),s=new _h(i);return i.fields.forEach(o=>{if(o.name=="doc")s.doc=wc.fromJSON(t.schema,n.doc);else if(o.name=="selection")s.selection=nt.fromJSON(s.doc,n.selection);else if(o.name=="storedMarks")n.storedMarks&&(s.storedMarks=n.storedMarks.map(t.schema.markFromJSON));else{if(r)for(let a in r){let l=r[a],c=l.spec.state;if(l.key==o.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(n,a)){s[o.name]=c.fromJSON.call(l,t,n[a],s);return}}s[o.name]=o.init(t,s)}}),s}}function VQ(e,t,n){for(let r in e){let i=e[r];i instanceof Function?i=i.bind(t):r=="handleDOMEvents"&&(i=VQ(i,t,{})),n[r]=i}return n}class mn{constructor(t){this.spec=t,this.props={},t.props&&VQ(t.props,this,this.props),this.key=t.key?t.key.key:WQ("plugin")}getState(t){return t[this.key]}}const $M=Object.create(null);function WQ(e){return e in $M?e+"$"+ ++$M[e]:($M[e]=0,e+"$")}class Yn{constructor(t="key"){this.key=WQ(t)}get(t){return t.config.pluginsByKey[this.key]}getState(t){return t[this.key]}}const iO=(e,t)=>e.selection.empty?!1:(t&&t(e.tr.deleteSelection().scrollIntoView()),!0);function UQ(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("backward",e):n.parentOffset>0)?null:n}const $Q=(e,t,n)=>{let r=UQ(e,n);if(!r)return!1;let i=sO(r);if(!i){let o=r.blockRange(),a=o&&tp(o);return a==null?!1:(t&&t(e.tr.lift(o,a).scrollIntoView()),!0)}let s=i.nodeBefore;if(tX(e,i,t,-1))return!0;if(r.parent.content.size==0&&(kf(s,"end")||ze.isSelectable(s)))for(let o=r.depth;;o--){let a=CS(e.doc,r.before(o),r.after(o),ke.empty);if(a&&a.slice.size<a.to-a.from){if(t){let l=e.tr.step(a);l.setSelection(kf(s,"end")?nt.findFrom(l.doc.resolve(l.mapping.map(i.pos,-1)),-1):ze.create(l.doc,i.pos-s.nodeSize)),t(l.scrollIntoView())}return!0}if(o==1||r.node(o-1).childCount>1)break}return s.isAtom&&i.depth==r.depth-1?(t&&t(e.tr.delete(i.pos-s.nodeSize,i.pos).scrollIntoView()),!0):!1},G8e=(e,t,n)=>{let r=UQ(e,n);if(!r)return!1;let i=sO(r);return i?qQ(e,i,t):!1},V8e=(e,t,n)=>{let r=YQ(e,n);if(!r)return!1;let i=oO(r);return i?qQ(e,i,t):!1};function qQ(e,t,n){let r=t.nodeBefore,i=r,s=t.pos-1;for(;!i.isTextblock;s--){if(i.type.spec.isolating)return!1;let d=i.lastChild;if(!d)return!1;i=d}let o=t.nodeAfter,a=o,l=t.pos+1;for(;!a.isTextblock;l++){if(a.type.spec.isolating)return!1;let d=a.firstChild;if(!d)return!1;a=d}let c=CS(e.doc,s,l,ke.empty);if(!c||c.from!=s||c instanceof nr&&c.slice.size>=l-s)return!1;if(n){let d=e.tr.step(c);d.setSelection(Ke.create(d.doc,s)),n(d.scrollIntoView())}return!0}function kf(e,t,n=!1){for(let r=e;r;r=t=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const KQ=(e,t,n)=>{let{$head:r,empty:i}=e.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",e):r.parentOffset>0)return!1;s=sO(r)}let o=s&&s.nodeBefore;return!o||!ze.isSelectable(o)?!1:(t&&t(e.tr.setSelection(ze.create(e.doc,s.pos-o.nodeSize)).scrollIntoView()),!0)};function sO(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function YQ(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("forward",e):n.parentOffset<n.parent.content.size)?null:n}const QQ=(e,t,n)=>{let r=YQ(e,n);if(!r)return!1;let i=oO(r);if(!i)return!1;let s=i.nodeAfter;if(tX(e,i,t,1))return!0;if(r.parent.content.size==0&&(kf(s,"start")||ze.isSelectable(s))){let o=CS(e.doc,r.before(),r.after(),ke.empty);if(o&&o.slice.size<o.to-o.from){if(t){let a=e.tr.step(o);a.setSelection(kf(s,"start")?nt.findFrom(a.doc.resolve(a.mapping.map(i.pos)),1):ze.create(a.doc,a.mapping.map(i.pos))),t(a.scrollIntoView())}return!0}}return s.isAtom&&i.depth==r.depth-1?(t&&t(e.tr.delete(i.pos,i.pos+s.nodeSize).scrollIntoView()),!0):!1},XQ=(e,t,n)=>{let{$head:r,empty:i}=e.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",e):r.parentOffset<r.parent.content.size)return!1;s=oO(r)}let o=s&&s.nodeAfter;return!o||!ze.isSelectable(o)?!1:(t&&t(e.tr.setSelection(ze.create(e.doc,s.pos)).scrollIntoView()),!0)};function oO(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){let n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}const W8e=(e,t)=>{let n=e.selection,r=n instanceof ze,i;if(r){if(n.node.isTextblock||!Vc(e.doc,n.from))return!1;i=n.from}else if(i=bS(e.doc,n.from,-1),i==null)return!1;if(t){let s=e.tr.join(i);r&&s.setSelection(ze.create(s.doc,i-e.doc.resolve(i).nodeBefore.nodeSize)),t(s.scrollIntoView())}return!0},U8e=(e,t)=>{let n=e.selection,r;if(n instanceof ze){if(n.node.isTextblock||!Vc(e.doc,n.to))return!1;r=n.to}else if(r=bS(e.doc,n.to,1),r==null)return!1;return t&&t(e.tr.join(r).scrollIntoView()),!0},$8e=(e,t)=>{let{$from:n,$to:r}=e.selection,i=n.blockRange(r),s=i&&tp(i);return s==null?!1:(t&&t(e.tr.lift(i,s).scrollIntoView()),!0)},JQ=(e,t)=>{let{$head:n,$anchor:r}=e.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(t&&t(e.tr.insertText(`
`).scrollIntoView()),!0)};function aO(e){for(let t=0;t<e.edgeCount;t++){let{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const q8e=(e,t)=>{let{$head:n,$anchor:r}=e.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),s=n.indexAfter(-1),o=aO(i.contentMatchAt(s));if(!o||!i.canReplaceWith(s,s,o))return!1;if(t){let a=n.after(),l=e.tr.replaceWith(a,a,o.createAndFill());l.setSelection(nt.near(l.doc.resolve(a),1)),t(l.scrollIntoView())}return!0},ZQ=(e,t)=>{let n=e.selection,{$from:r,$to:i}=n;if(n instanceof Xi||r.parent.inlineContent||i.parent.inlineContent)return!1;let s=aO(i.parent.contentMatchAt(i.indexAfter()));if(!s||!s.isTextblock)return!1;if(t){let o=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,a=e.tr.insert(o,s.createAndFill());a.setSelection(Ke.create(a.doc,o+1)),t(a.scrollIntoView())}return!0},eX=(e,t)=>{let{$cursor:n}=e.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let s=n.before();if(Wa(e.doc,s))return t&&t(e.tr.split(s).scrollIntoView()),!0}let r=n.blockRange(),i=r&&tp(r);return i==null?!1:(t&&t(e.tr.lift(r,i).scrollIntoView()),!0)};function K8e(e){return(t,n)=>{let{$from:r,$to:i}=t.selection;if(t.selection instanceof ze&&t.selection.node.isBlock)return!r.parentOffset||!Wa(t.doc,r.pos)?!1:(n&&n(t.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let s=[],o,a,l=!1,c=!1;for(let v=r.depth;;v--)if(r.node(v).isBlock){l=r.end(v)==r.pos+(r.depth-v),c=r.start(v)==r.pos-(r.depth-v),a=aO(r.node(v-1).contentMatchAt(r.indexAfter(v-1))),s.unshift(l&&a?{type:a}:null),o=v;break}else{if(v==1)return!1;s.unshift(null)}let d=t.tr;(t.selection instanceof Ke||t.selection instanceof Xi)&&d.deleteSelection();let f=d.mapping.map(r.pos),p=Wa(d.doc,f,s.length,s);if(p||(s[0]=a?{type:a}:null,p=Wa(d.doc,f,s.length,s)),!p)return!1;if(d.split(f,s.length,s),!l&&c&&r.node(o).type!=a){let v=d.mapping.map(r.before(o)),y=d.doc.resolve(v);a&&r.node(o-1).canReplaceWith(y.index(),y.index()+1,a)&&d.setNodeMarkup(d.mapping.map(r.before(o)),a)}return n&&n(d.scrollIntoView()),!0}}const Y8e=K8e(),Q8e=(e,t)=>{let{$from:n,to:r}=e.selection,i,s=n.sharedDepth(r);return s==0?!1:(i=n.before(s),t&&t(e.tr.setSelection(ze.create(e.doc,i))),!0)};function X8e(e,t,n){let r=t.nodeBefore,i=t.nodeAfter,s=t.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&t.parent.canReplace(s-1,s)?(n&&n(e.tr.delete(t.pos-r.nodeSize,t.pos).scrollIntoView()),!0):!t.parent.canReplace(s,s+1)||!(i.isTextblock||Vc(e.doc,t.pos))?!1:(n&&n(e.tr.join(t.pos).scrollIntoView()),!0)}function tX(e,t,n,r){let i=t.nodeBefore,s=t.nodeAfter,o,a,l=i.type.spec.isolating||s.type.spec.isolating;if(!l&&X8e(e,t,n))return!0;let c=!l&&t.parent.canReplace(t.index(),t.index()+1);if(c&&(o=(a=i.contentMatchAt(i.childCount)).findWrapping(s.type))&&a.matchType(o[0]||s.type).validEnd){if(n){let v=t.pos+s.nodeSize,y=xe.empty;for(let S=o.length-1;S>=0;S--)y=xe.from(o[S].create(null,y));y=xe.from(i.copy(y));let b=e.tr.step(new rr(t.pos-1,v,t.pos,v,new ke(y,1,0),o.length,!0)),x=b.doc.resolve(v+2*o.length);x.nodeAfter&&x.nodeAfter.type==i.type&&Vc(b.doc,x.pos)&&b.join(x.pos),n(b.scrollIntoView())}return!0}let d=s.type.spec.isolating||r>0&&l?null:nt.findFrom(t,1),f=d&&d.$from.blockRange(d.$to),p=f&&tp(f);if(p!=null&&p>=t.depth)return n&&n(e.tr.lift(f,p).scrollIntoView()),!0;if(c&&kf(s,"start",!0)&&kf(i,"end")){let v=i,y=[];for(;y.push(v),!v.isTextblock;)v=v.lastChild;let b=s,x=1;for(;!b.isTextblock;b=b.firstChild)x++;if(v.canReplace(v.childCount,v.childCount,b.content)){if(n){let S=xe.empty;for(let R=y.length-1;R>=0;R--)S=xe.from(y[R].copy(S));let M=e.tr.step(new rr(t.pos-y.length,t.pos+s.nodeSize,t.pos+x,t.pos+s.nodeSize-x,new ke(S,y.length,0),0,!0));n(M.scrollIntoView())}return!0}}return!1}function nX(e){return function(t,n){let r=t.selection,i=e<0?r.$from:r.$to,s=i.depth;for(;i.node(s).isInline;){if(!s)return!1;s--}return i.node(s).isTextblock?(n&&n(t.tr.setSelection(Ke.create(t.doc,e<0?i.start(s):i.end(s)))),!0):!1}}const J8e=nX(-1),Z8e=nX(1);function eGe(e,t=null){return function(n,r){let{$from:i,$to:s}=n.selection,o=i.blockRange(s),a=o&&nO(o,e,t);return a?(r&&r(n.tr.wrap(o,a).scrollIntoView()),!0):!1}}function Nz(e,t=null){return function(n,r){let i=!1;for(let s=0;s<n.selection.ranges.length&&!i;s++){let{$from:{pos:o},$to:{pos:a}}=n.selection.ranges[s];n.doc.nodesBetween(o,a,(l,c)=>{if(i)return!1;if(!(!l.isTextblock||l.hasMarkup(e,t)))if(l.type==e)i=!0;else{let d=n.doc.resolve(c),f=d.index();i=d.parent.canReplaceWith(f,f+1,e)}})}if(!i)return!1;if(r){let s=n.tr;for(let o=0;o<n.selection.ranges.length;o++){let{$from:{pos:a},$to:{pos:l}}=n.selection.ranges[o];s.setBlockType(a,l,e,t)}r(s.scrollIntoView())}return!0}}function lO(...e){return function(t,n,r){for(let i=0;i<e.length;i++)if(e[i](t,n,r))return!0;return!1}}lO(iO,$Q,KQ);lO(iO,QQ,XQ);lO(JQ,ZQ,eX,Y8e);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function tGe(e,t=null){return function(n,r){let{$from:i,$to:s}=n.selection,o=i.blockRange(s);if(!o)return!1;let a=r?n.tr:null;return nGe(a,o,e,t)?(r&&r(a.scrollIntoView()),!0):!1}}function nGe(e,t,n,r=null){let i=!1,s=t,o=t.$from.doc;if(t.depth>=2&&t.$from.node(t.depth-1).type.compatibleContent(n)&&t.startIndex==0){if(t.$from.index(t.depth-1)==0)return!1;let l=o.resolve(t.start-2);s=new uC(l,l,t.depth),t.endIndex<t.parent.childCount&&(t=new uC(t.$from,o.resolve(t.$to.end(t.depth)),t.depth)),i=!0}let a=nO(s,n,r,t);return a?(e&&rGe(e,t,a,i,n),!0):!1}function rGe(e,t,n,r,i){let s=xe.empty;for(let d=n.length-1;d>=0;d--)s=xe.from(n[d].type.create(n[d].attrs,s));e.step(new rr(t.start-(r?2:0),t.end,t.start,t.end,new ke(s,0,0),n.length,!0));let o=0;for(let d=0;d<n.length;d++)n[d].type==i&&(o=d+1);let a=n.length-o,l=t.start+n.length-(r?2:0),c=t.parent;for(let d=t.startIndex,f=t.endIndex,p=!0;d<f;d++,p=!1)!p&&Wa(e.doc,l,a)&&(e.split(l,a),l+=2*a),l+=c.child(d).nodeSize;return e}function iGe(e){return function(t,n){let{$from:r,$to:i}=t.selection,s=r.blockRange(i,o=>o.childCount>0&&o.firstChild.type==e);return s?n?r.node(s.depth-1).type==e?sGe(t,n,e,s):oGe(t,n,s):!0:!1}}function sGe(e,t,n,r){let i=e.tr,s=r.end,o=r.$to.end(r.depth);s<o&&(i.step(new rr(s-1,o,s,o,new ke(xe.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new uC(i.doc.resolve(r.$from.pos),i.doc.resolve(o),r.depth));const a=tp(r);if(a==null)return!1;i.lift(r,a);let l=i.doc.resolve(i.mapping.map(s,-1)-1);return Vc(i.doc,l.pos)&&l.nodeBefore.type==l.nodeAfter.type&&i.join(l.pos),t(i.scrollIntoView()),!0}function oGe(e,t,n){let r=e.tr,i=n.parent;for(let v=n.end,y=n.endIndex-1,b=n.startIndex;y>b;y--)v-=i.child(y).nodeSize,r.delete(v-1,v+1);let s=r.doc.resolve(n.start),o=s.nodeAfter;if(r.mapping.map(n.end)!=n.start+s.nodeAfter.nodeSize)return!1;let a=n.startIndex==0,l=n.endIndex==i.childCount,c=s.node(-1),d=s.index(-1);if(!c.canReplace(d+(a?0:1),d+1,o.content.append(l?xe.empty:xe.from(i))))return!1;let f=s.pos,p=f+o.nodeSize;return r.step(new rr(f-(a?1:0),p+(l?1:0),f+1,p-1,new ke((a?xe.empty:xe.from(i.copy(xe.empty))).append(l?xe.empty:xe.from(i.copy(xe.empty))),a?0:1,l?0:1),a?0:1)),t(r.scrollIntoView()),!0}function aGe(e){return function(t,n){let{$from:r,$to:i}=t.selection,s=r.blockRange(i,c=>c.childCount>0&&c.firstChild.type==e);if(!s)return!1;let o=s.startIndex;if(o==0)return!1;let a=s.parent,l=a.child(o-1);if(l.type!=e)return!1;if(n){let c=l.lastChild&&l.lastChild.type==a.type,d=xe.from(c?e.create():null),f=new ke(xe.from(e.create(null,xe.from(a.type.create(null,d)))),c?3:1,0),p=s.start,v=s.end;n(t.tr.step(new rr(p-(c?3:1),v,p,v,f,1,!0)).scrollIntoView())}return!0}}const vr=function(e){for(var t=0;;t++)if(e=e.previousSibling,!e)return t},Af=function(e){let t=e.assignedSlot||e.parentNode;return t&&t.nodeType==11?t.host:t};let yk=null;const xa=function(e,t,n){let r=yk||(yk=document.createRange());return r.setEnd(e,n??e.nodeValue.length),r.setStart(e,t||0),r},lGe=function(){yk=null},hd=function(e,t,n,r){return n&&(Oz(e,t,n,r,-1)||Oz(e,t,n,r,1))},cGe=/^(img|br|input|textarea|hr)$/i;function Oz(e,t,n,r,i){for(var s;;){if(e==n&&t==r)return!0;if(t==(i<0?0:Ss(e))){let o=e.parentNode;if(!o||o.nodeType!=1||Rv(e)||cGe.test(e.nodeName)||e.contentEditable=="false")return!1;t=vr(e)+(i<0?0:1),e=o}else if(e.nodeType==1){let o=e.childNodes[t+(i<0?-1:0)];if(o.nodeType==1&&o.contentEditable=="false")if(!((s=o.pmViewDesc)===null||s===void 0)&&s.ignoreForSelection)t+=i;else return!1;else e=o,t=i<0?Ss(e):0}else return!1}}function Ss(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function uGe(e,t){for(;;){if(e.nodeType==3&&t)return e;if(e.nodeType==1&&t>0){if(e.contentEditable=="false")return null;e=e.childNodes[t-1],t=Ss(e)}else if(e.parentNode&&!Rv(e))t=vr(e),e=e.parentNode;else return null}}function dGe(e,t){for(;;){if(e.nodeType==3&&t<e.nodeValue.length)return e;if(e.nodeType==1&&t<e.childNodes.length){if(e.contentEditable=="false")return null;e=e.childNodes[t],t=0}else if(e.parentNode&&!Rv(e))t=vr(e)+1,e=e.parentNode;else return null}}function hGe(e,t,n){for(let r=t==0,i=t==Ss(e);r||i;){if(e==n)return!0;let s=vr(e);if(e=e.parentNode,!e)return!1;r=r&&s==0,i=i&&s==Ss(e)}}function Rv(e){let t;for(let n=e;n&&!(t=n.pmViewDesc);n=n.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}const SS=function(e){return e.focusNode&&hd(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)};function bu(e,t){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=e,n.key=n.code=t,n}function fGe(e){let t=e.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}function pGe(e,t,n){if(e.caretPositionFromPoint)try{let r=e.caretPositionFromPoint(t,n);if(r)return{node:r.offsetNode,offset:Math.min(Ss(r.offsetNode),r.offset)}}catch{}if(e.caretRangeFromPoint){let r=e.caretRangeFromPoint(t,n);if(r)return{node:r.startContainer,offset:Math.min(Ss(r.startContainer),r.startOffset)}}}const Vo=typeof navigator<"u"?navigator:null,Fz=typeof document<"u"?document:null,Wc=Vo&&Vo.userAgent||"",wk=/Edge\/(\d+)/.exec(Wc),rX=/MSIE \d/.exec(Wc),bk=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Wc),bi=!!(rX||bk||wk),Cc=rX?document.documentMode:bk?+bk[1]:wk?+wk[1]:0,Ms=!bi&&/gecko\/(\d+)/i.test(Wc);Ms&&+(/Firefox\/(\d+)/.exec(Wc)||[0,0])[1];const Ck=!bi&&/Chrome\/(\d+)/.exec(Wc),Or=!!Ck,iX=Ck?+Ck[1]:0,Jr=!bi&&!!Vo&&/Apple Computer/.test(Vo.vendor),Pf=Jr&&(/Mobile\/\w+/.test(Wc)||!!Vo&&Vo.maxTouchPoints>2),bs=Pf||(Vo?/Mac/.test(Vo.platform):!1),gGe=Vo?/Win/.test(Vo.platform):!1,Na=/Android \d/.test(Wc),Mv=!!Fz&&"webkitFontSmoothing"in Fz.documentElement.style,mGe=Mv?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function vGe(e){let t=e.defaultView&&e.defaultView.visualViewport;return t?{left:0,right:t.width,top:0,bottom:t.height}:{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function va(e,t){return typeof e=="number"?e:e[t]}function yGe(e){let t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,r=t.height/e.offsetHeight||1;return{left:t.left,right:t.left+e.clientWidth*n,top:t.top,bottom:t.top+e.clientHeight*r}}function Iz(e,t,n){let r=e.someProp("scrollThreshold")||0,i=e.someProp("scrollMargin")||5,s=e.dom.ownerDocument;for(let o=n||e.dom;o;){if(o.nodeType!=1){o=Af(o);continue}let a=o,l=a==s.body,c=l?vGe(s):yGe(a),d=0,f=0;if(t.top<c.top+va(r,"top")?f=-(c.top-t.top+va(i,"top")):t.bottom>c.bottom-va(r,"bottom")&&(f=t.bottom-t.top>c.bottom-c.top?t.top+va(i,"top")-c.top:t.bottom-c.bottom+va(i,"bottom")),t.left<c.left+va(r,"left")?d=-(c.left-t.left+va(i,"left")):t.right>c.right-va(r,"right")&&(d=t.right-c.right+va(i,"right")),d||f)if(l)s.defaultView.scrollBy(d,f);else{let v=a.scrollLeft,y=a.scrollTop;f&&(a.scrollTop+=f),d&&(a.scrollLeft+=d);let b=a.scrollLeft-v,x=a.scrollTop-y;t={left:t.left-b,top:t.top-x,right:t.right-b,bottom:t.bottom-x}}let p=l?"fixed":getComputedStyle(o).position;if(/^(fixed|sticky)$/.test(p))break;o=p=="absolute"?o.offsetParent:Af(o)}}function wGe(e){let t=e.dom.getBoundingClientRect(),n=Math.max(0,t.top),r,i;for(let s=(t.left+t.right)/2,o=n+1;o<Math.min(innerHeight,t.bottom);o+=5){let a=e.root.elementFromPoint(s,o);if(!a||a==e.dom||!e.dom.contains(a))continue;let l=a.getBoundingClientRect();if(l.top>=n-20){r=a,i=l.top;break}}return{refDOM:r,refTop:i,stack:sX(e.dom)}}function sX(e){let t=[],n=e.ownerDocument;for(let r=e;r&&(t.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),e!=n);r=Af(r));return t}function bGe({refDOM:e,refTop:t,stack:n}){let r=e?e.getBoundingClientRect().top:0;oX(n,r==0?0:r-t)}function oX(e,t){for(let n=0;n<e.length;n++){let{dom:r,top:i,left:s}=e[n];r.scrollTop!=i+t&&(r.scrollTop=i+t),r.scrollLeft!=s&&(r.scrollLeft=s)}}let Sh=null;function CGe(e){if(e.setActive)return e.setActive();if(Sh)return e.focus(Sh);let t=sX(e);e.focus(Sh==null?{get preventScroll(){return Sh={preventScroll:!0},!0}}:void 0),Sh||(Sh=!1,oX(t,0))}function aX(e,t){let n,r=2e8,i,s=0,o=t.top,a=t.top,l,c;for(let d=e.firstChild,f=0;d;d=d.nextSibling,f++){let p;if(d.nodeType==1)p=d.getClientRects();else if(d.nodeType==3)p=xa(d).getClientRects();else continue;for(let v=0;v<p.length;v++){let y=p[v];if(y.top<=o&&y.bottom>=a){o=Math.max(y.bottom,o),a=Math.min(y.top,a);let b=y.left>t.left?y.left-t.left:y.right<t.left?t.left-y.right:0;if(b<r){n=d,r=b,i=b&&n.nodeType==3?{left:y.right<t.left?y.right:y.left,top:t.top}:t,d.nodeType==1&&b&&(s=f+(t.left>=(y.left+y.right)/2?1:0));continue}}else y.top>t.top&&!l&&y.left<=t.left&&y.right>=t.left&&(l=d,c={left:Math.max(y.left,Math.min(y.right,t.left)),top:y.top});!n&&(t.left>=y.right&&t.top>=y.top||t.left>=y.left&&t.top>=y.bottom)&&(s=f+1)}}return!n&&l&&(n=l,i=c,r=0),n&&n.nodeType==3?xGe(n,i):!n||r&&n.nodeType==1?{node:e,offset:s}:aX(n,i)}function xGe(e,t){let n=e.nodeValue.length,r=document.createRange();for(let i=0;i<n;i++){r.setEnd(e,i+1),r.setStart(e,i);let s=Zl(r,1);if(s.top!=s.bottom&&cO(t,s))return{node:e,offset:i+(t.left>=(s.left+s.right)/2?1:0)}}return{node:e,offset:0}}function cO(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function SGe(e,t){let n=e.parentNode;return n&&/^li$/i.test(n.nodeName)&&t.left<e.getBoundingClientRect().left?n:e}function EGe(e,t,n){let{node:r,offset:i}=aX(t,n),s=-1;if(r.nodeType==1&&!r.firstChild){let o=r.getBoundingClientRect();s=o.left!=o.right&&n.left>(o.left+o.right)/2?1:-1}return e.docView.posFromDOM(r,i,s)}function DGe(e,t,n,r){let i=-1;for(let s=t,o=!1;s!=e.dom;){let a=e.docView.nearestDesc(s,!0),l;if(!a)return null;if(a.dom.nodeType==1&&(a.node.isBlock&&a.parent||!a.contentDOM)&&((l=a.dom.getBoundingClientRect()).width||l.height)&&(a.node.isBlock&&a.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(a.dom.nodeName)&&(!o&&l.left>r.left||l.top>r.top?i=a.posBefore:(!o&&l.right<r.left||l.bottom<r.top)&&(i=a.posAfter),o=!0),!a.contentDOM&&i<0&&!a.node.isText))return(a.node.isBlock?r.top<(l.top+l.bottom)/2:r.left<(l.left+l.right)/2)?a.posBefore:a.posAfter;s=a.dom.parentNode}return i>-1?i:e.docView.posFromDOM(t,n,-1)}function lX(e,t,n){let r=e.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(t.top-n.top)/(n.bottom-n.top))-2)),s=i;;){let o=e.childNodes[s];if(o.nodeType==1){let a=o.getClientRects();for(let l=0;l<a.length;l++){let c=a[l];if(cO(t,c))return lX(o,t,c)}}if((s=(s+1)%r)==i)break}return e}function RGe(e,t){let n=e.dom.ownerDocument,r,i=0,s=pGe(n,t.left,t.top);s&&({node:r,offset:i}=s);let o=(e.root.elementFromPoint?e.root:n).elementFromPoint(t.left,t.top),a;if(!o||!e.dom.contains(o.nodeType!=1?o.parentNode:o)){let c=e.dom.getBoundingClientRect();if(!cO(t,c)||(o=lX(e.dom,t,c),!o))return null}if(Jr)for(let c=o;r&&c;c=Af(c))c.draggable&&(r=void 0);if(o=SGe(o,t),r){if(Ms&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let d=r.childNodes[i],f;d.nodeName=="IMG"&&(f=d.getBoundingClientRect()).right<=t.left&&f.bottom>t.top&&i++}let c;Mv&&i&&r.nodeType==1&&(c=r.childNodes[i-1]).nodeType==1&&c.contentEditable=="false"&&c.getBoundingClientRect().top>=t.top&&i--,r==e.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&t.top>r.lastChild.getBoundingClientRect().bottom?a=e.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(a=DGe(e,r,i,t))}a==null&&(a=EGe(e,o,t));let l=e.docView.nearestDesc(o,!0);return{pos:a,inside:l?l.posAtStart-l.border:-1}}function Lz(e){return e.top<e.bottom||e.left<e.right}function Zl(e,t){let n=e.getClientRects();if(n.length){let r=n[t<0?0:n.length-1];if(Lz(r))return r}return Array.prototype.find.call(n,Lz)||e.getBoundingClientRect()}const MGe=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function cX(e,t,n){let{node:r,offset:i,atom:s}=e.docView.domFromPos(t,n<0?-1:1),o=Mv||Ms;if(r.nodeType==3)if(o&&(MGe.test(r.nodeValue)||(n<0?!i:i==r.nodeValue.length))){let l=Zl(xa(r,i,i),n);if(Ms&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let c=Zl(xa(r,i-1,i-1),-1);if(c.top==l.top){let d=Zl(xa(r,i,i+1),-1);if(d.top!=l.top)return mg(d,d.left<c.left)}}return l}else{let l=i,c=i,d=n<0?1:-1;return n<0&&!i?(c++,d=-1):n>=0&&i==r.nodeValue.length?(l--,d=1):n<0?l--:c++,mg(Zl(xa(r,l,c),d),d<0)}if(!e.state.doc.resolve(t-(s||0)).parent.inlineContent){if(s==null&&i&&(n<0||i==Ss(r))){let l=r.childNodes[i-1];if(l.nodeType==1)return qM(l.getBoundingClientRect(),!1)}if(s==null&&i<Ss(r)){let l=r.childNodes[i];if(l.nodeType==1)return qM(l.getBoundingClientRect(),!0)}return qM(r.getBoundingClientRect(),n>=0)}if(s==null&&i&&(n<0||i==Ss(r))){let l=r.childNodes[i-1],c=l.nodeType==3?xa(l,Ss(l)-(o?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(c)return mg(Zl(c,1),!1)}if(s==null&&i<Ss(r)){let l=r.childNodes[i];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let c=l?l.nodeType==3?xa(l,0,o?0:1):l.nodeType==1?l:null:null;if(c)return mg(Zl(c,-1),!0)}return mg(Zl(r.nodeType==3?xa(r):r,-n),n>=0)}function mg(e,t){if(e.width==0)return e;let n=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:n,right:n}}function qM(e,t){if(e.height==0)return e;let n=t?e.top:e.bottom;return{top:n,bottom:n,left:e.left,right:e.right}}function uX(e,t,n){let r=e.state,i=e.root.activeElement;r!=t&&e.updateState(t),i!=e.dom&&e.focus();try{return n()}finally{r!=t&&e.updateState(r),i!=e.dom&&i&&i.focus()}}function TGe(e,t,n){let r=t.selection,i=n=="up"?r.$from:r.$to;return uX(e,t,()=>{let{node:s}=e.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let a=e.docView.nearestDesc(s,!0);if(!a)break;if(a.node.isBlock){s=a.contentDOM||a.dom;break}s=a.dom.parentNode}let o=cX(e,i.pos,1);for(let a=s.firstChild;a;a=a.nextSibling){let l;if(a.nodeType==1)l=a.getClientRects();else if(a.nodeType==3)l=xa(a,0,a.nodeValue.length).getClientRects();else continue;for(let c=0;c<l.length;c++){let d=l[c];if(d.bottom>d.top+1&&(n=="up"?o.top-d.top>(d.bottom-o.top)*2:d.bottom-o.bottom>(o.bottom-d.top)*2))return!1}}return!0})}const kGe=/[\u0590-\u08ac]/;function AGe(e,t,n){let{$head:r}=t.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,s=!i,o=i==r.parent.content.size,a=e.domSelection();return a?!kGe.test(r.parent.textContent)||!a.modify?n=="left"||n=="backward"?s:o:uX(e,t,()=>{let{focusNode:l,focusOffset:c,anchorNode:d,anchorOffset:f}=e.domSelectionRange(),p=a.caretBidiLevel;a.modify("move",n,"character");let v=r.depth?e.docView.domAfterPos(r.before()):e.dom,{focusNode:y,focusOffset:b}=e.domSelectionRange(),x=y&&!v.contains(y.nodeType==1?y:y.parentNode)||l==y&&c==b;try{a.collapse(d,f),l&&(l!=d||c!=f)&&a.extend&&a.extend(l,c)}catch{}return p!=null&&(a.caretBidiLevel=p),x}):r.pos==r.start()||r.pos==r.end()}let _z=null,jz=null,Bz=!1;function PGe(e,t,n){return _z==t&&jz==n?Bz:(_z=t,jz=n,Bz=n=="up"||n=="down"?TGe(e,t,n):AGe(e,t,n))}const Ts=0,Hz=1,ku=2,Wo=3;class Tv{constructor(t,n,r,i){this.parent=t,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=Ts,r.pmViewDesc=this}matchesWidget(t){return!1}matchesMark(t){return!1}matchesNode(t,n,r){return!1}matchesHack(t){return!1}parseRule(){return null}stopEvent(t){return!1}get size(){let t=0;for(let n=0;n<this.children.length;n++)t+=this.children[n].size;return t}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let t=0;t<this.children.length;t++)this.children[t].destroy()}posBeforeChild(t){for(let n=0,r=this.posAtStart;;n++){let i=this.children[n];if(i==t)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(t,n,r){if(this.contentDOM&&this.contentDOM.contains(t.nodeType==1?t:t.parentNode))if(r<0){let s,o;if(t==this.contentDOM)s=t.childNodes[n-1];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;s=t.previousSibling}for(;s&&!((o=s.pmViewDesc)&&o.parent==this);)s=s.previousSibling;return s?this.posBeforeChild(o)+o.size:this.posAtStart}else{let s,o;if(t==this.contentDOM)s=t.childNodes[n];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;s=t.nextSibling}for(;s&&!((o=s.pmViewDesc)&&o.parent==this);)s=s.nextSibling;return s?this.posBeforeChild(o):this.posAtEnd}let i;if(t==this.dom&&this.contentDOM)i=n>vr(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=t.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let s=t;;s=s.parentNode){if(s==this.dom){i=!1;break}if(s.previousSibling)break}if(i==null&&n==t.childNodes.length)for(let s=t;;s=s.parentNode){if(s==this.dom){i=!0;break}if(s.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(t,n=!1){for(let r=!0,i=t;i;i=i.parentNode){let s=this.getDesc(i),o;if(s&&(!n||s.node))if(r&&(o=s.nodeDOM)&&!(o.nodeType==1?o.contains(t.nodeType==1?t:t.parentNode):o==t))r=!1;else return s}}getDesc(t){let n=t.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(t,n,r){for(let i=t;i;i=i.parentNode){let s=this.getDesc(i);if(s)return s.localPosFromDOM(t,n,r)}return-1}descAt(t){for(let n=0,r=0;n<this.children.length;n++){let i=this.children[n],s=r+i.size;if(r==t&&s!=r){for(;!i.border&&i.children.length;)for(let o=0;o<i.children.length;o++){let a=i.children[o];if(a.size){i=a;break}}return i}if(t<s)return i.descAt(t-r-i.border);r=s}}domFromPos(t,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:t+1};let r=0,i=0;for(let s=0;r<this.children.length;r++){let o=this.children[r],a=s+o.size;if(a>t||o instanceof hX){i=t-s;break}s=a}if(i)return this.children[r].domFromPos(i-this.children[r].border,n);for(let s;r&&!(s=this.children[r-1]).size&&s instanceof dX&&s.side>=0;r--);if(n<=0){let s,o=!0;for(;s=r?this.children[r-1]:null,!(!s||s.dom.parentNode==this.contentDOM);r--,o=!1);return s&&n&&o&&!s.border&&!s.domAtom?s.domFromPos(s.size,n):{node:this.contentDOM,offset:s?vr(s.dom)+1:0}}else{let s,o=!0;for(;s=r<this.children.length?this.children[r]:null,!(!s||s.dom.parentNode==this.contentDOM);r++,o=!1);return s&&o&&!s.border&&!s.domAtom?s.domFromPos(0,n):{node:this.contentDOM,offset:s?vr(s.dom):this.contentDOM.childNodes.length}}}parseRange(t,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:t,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,s=-1;for(let o=r,a=0;;a++){let l=this.children[a],c=o+l.size;if(i==-1&&t<=c){let d=o+l.border;if(t>=d&&n<=c-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(t,n,d);t=o;for(let f=a;f>0;f--){let p=this.children[f-1];if(p.size&&p.dom.parentNode==this.contentDOM&&!p.emptyChildAt(1)){i=vr(p.dom)+1;break}t-=p.size}i==-1&&(i=0)}if(i>-1&&(c>n||a==this.children.length-1)){n=c;for(let d=a+1;d<this.children.length;d++){let f=this.children[d];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(-1)){s=vr(f.dom);break}n+=f.size}s==-1&&(s=this.contentDOM.childNodes.length);break}o=c}return{node:this.contentDOM,from:t,to:n,fromOffset:i,toOffset:s}}emptyChildAt(t){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[t<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(t)}domAfterPos(t){let{node:n,offset:r}=this.domFromPos(t,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+t);return n.childNodes[r]}setSelection(t,n,r,i=!1){let s=Math.min(t,n),o=Math.max(t,n);for(let v=0,y=0;v<this.children.length;v++){let b=this.children[v],x=y+b.size;if(s>y&&o<x)return b.setSelection(t-y-b.border,n-y-b.border,r,i);y=x}let a=this.domFromPos(t,t?-1:1),l=n==t?a:this.domFromPos(n,n?-1:1),c=r.root.getSelection(),d=r.domSelectionRange(),f=!1;if((Ms||Jr)&&t==n){let{node:v,offset:y}=a;if(v.nodeType==3){if(f=!!(y&&v.nodeValue[y-1]==`
`),f&&y==v.nodeValue.length)for(let b=v,x;b;b=b.parentNode){if(x=b.nextSibling){x.nodeName=="BR"&&(a=l={node:x.parentNode,offset:vr(x)+1});break}let S=b.pmViewDesc;if(S&&S.node&&S.node.isBlock)break}}else{let b=v.childNodes[y-1];f=b&&(b.nodeName=="BR"||b.contentEditable=="false")}}if(Ms&&d.focusNode&&d.focusNode!=l.node&&d.focusNode.nodeType==1){let v=d.focusNode.childNodes[d.focusOffset];v&&v.contentEditable=="false"&&(i=!0)}if(!(i||f&&Jr)&&hd(a.node,a.offset,d.anchorNode,d.anchorOffset)&&hd(l.node,l.offset,d.focusNode,d.focusOffset))return;let p=!1;if((c.extend||t==n)&&!(f&&Ms)){c.collapse(a.node,a.offset);try{t!=n&&c.extend(l.node,l.offset),p=!0}catch{}}if(!p){if(t>n){let y=a;a=l,l=y}let v=document.createRange();v.setEnd(l.node,l.offset),v.setStart(a.node,a.offset),c.removeAllRanges(),c.addRange(v)}}ignoreMutation(t){return!this.contentDOM&&t.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(t,n){for(let r=0,i=0;i<this.children.length;i++){let s=this.children[i],o=r+s.size;if(r==o?t<=o&&n>=r:t<o&&n>r){let a=r+s.border,l=o-s.border;if(t>=a&&n<=l){this.dirty=t==r||n==o?ku:Hz,t==a&&n==l&&(s.contentLost||s.dom.parentNode!=this.contentDOM)?s.dirty=Wo:s.markDirty(t-a,n-a);return}else s.dirty=s.dom==s.contentDOM&&s.dom.parentNode==this.contentDOM&&!s.children.length?ku:Wo}r=o}this.dirty=ku}markParentsDirty(){let t=1;for(let n=this.parent;n;n=n.parent,t++){let r=t==1?ku:Hz;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(t){return!1}}class dX extends Tv{constructor(t,n,r,i){let s,o=n.type.toDOM;if(typeof o=="function"&&(o=o(r,()=>{if(!s)return i;if(s.parent)return s.parent.posBeforeChild(s)})),!n.type.spec.raw){if(o.nodeType!=1){let a=document.createElement("span");a.appendChild(o),o=a}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(t,[],o,null),this.widget=n,this.widget=n,s=this}matchesWidget(t){return this.dirty==Ts&&t.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(t){let n=this.widget.spec.stopEvent;return n?n(t):!1}ignoreMutation(t){return t.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class NGe extends Tv{constructor(t,n,r,i){super(t,[],n,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(t,n){return t!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(t){return{node:this.textDOM,offset:t}}ignoreMutation(t){return t.type==="characterData"&&t.target.nodeValue==t.oldValue}}class fd extends Tv{constructor(t,n,r,i,s){super(t,[],r,i),this.mark=n,this.spec=s}static create(t,n,r,i){let s=i.nodeViews[n.type.name],o=s&&s(n,i,r);return(!o||!o.dom)&&(o=Rd.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new fd(t,n,o.dom,o.contentDOM||o.dom,o)}parseRule(){return this.dirty&Wo||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(t){return this.dirty!=Wo&&this.mark.eq(t)}markDirty(t,n){if(super.markDirty(t,n),this.dirty!=Ts){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=Ts}}slice(t,n,r){let i=fd.create(this.parent,this.mark,!0,r),s=this.children,o=this.size;n<o&&(s=Sk(s,n,o,r)),t>0&&(s=Sk(s,0,t,r));for(let a=0;a<s.length;a++)s[a].parent=i;return i.children=s,i}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class xc extends Tv{constructor(t,n,r,i,s,o,a,l,c){super(t,[],s,o),this.node=n,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=a}static create(t,n,r,i,s,o){let a=s.nodeViews[n.type.name],l,c=a&&a(n,s,()=>{if(!l)return o;if(l.parent)return l.parent.posBeforeChild(l)},r,i),d=c&&c.dom,f=c&&c.contentDOM;if(n.isText){if(!d)d=document.createTextNode(n.text);else if(d.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else d||({dom:d,contentDOM:f}=Rd.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!f&&!n.isText&&d.nodeName!="BR"&&(d.hasAttribute("contenteditable")||(d.contentEditable="false"),n.type.spec.draggable&&(d.draggable=!0));let p=d;return d=gX(d,r,n),c?l=new OGe(t,n,r,i,d,f||null,p,c,s,o+1):n.isText?new ES(t,n,r,i,d,p,s):new xc(t,n,r,i,d,f||null,p,s,o+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let t={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(t.preserveWhitespace="full"),!this.contentDOM)t.getContent=()=>this.node.content;else if(!this.contentLost)t.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){t.contentElement=r.dom.parentNode;break}}t.contentElement||(t.getContent=()=>xe.empty)}return t}matchesNode(t,n,r){return this.dirty==Ts&&t.eq(this.node)&&hC(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(t,n){let r=this.node.inlineContent,i=n,s=t.composing?this.localCompositionInfo(t,n):null,o=s&&s.pos>-1?s:null,a=s&&s.pos<0,l=new IGe(this,o&&o.node,t);jGe(this.node,this.innerDeco,(c,d,f)=>{c.spec.marks?l.syncToMarks(c.spec.marks,r,t):c.type.side>=0&&!f&&l.syncToMarks(d==this.node.childCount?Ut.none:this.node.child(d).marks,r,t),l.placeWidget(c,t,i)},(c,d,f,p)=>{l.syncToMarks(c.marks,r,t);let v;l.findNodeMatch(c,d,f,p)||a&&t.state.selection.from>i&&t.state.selection.to<i+c.nodeSize&&(v=l.findIndexWithChild(s.node))>-1&&l.updateNodeAt(c,d,f,v,t)||l.updateNextNode(c,d,f,t,p,i)||l.addNode(c,d,f,t,i),i+=c.nodeSize}),l.syncToMarks([],r,t),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==ku)&&(o&&this.protectLocalComposition(t,o),fX(this.contentDOM,this.children,t),Pf&&BGe(this.dom))}localCompositionInfo(t,n){let{from:r,to:i}=t.state.selection;if(!(t.state.selection instanceof Ke)||r<n||i>n+this.node.content.size)return null;let s=t.input.compositionNode;if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let o=s.nodeValue,a=HGe(this.node.content,o,r-n,i-n);return a<0?null:{node:s,pos:a,text:o}}else return{node:s,pos:-1,text:""}}protectLocalComposition(t,{node:n,pos:r,text:i}){if(this.getDesc(n))return;let s=n;for(;s.parentNode!=this.contentDOM;s=s.parentNode){for(;s.previousSibling;)s.parentNode.removeChild(s.previousSibling);for(;s.nextSibling;)s.parentNode.removeChild(s.nextSibling);s.pmViewDesc&&(s.pmViewDesc=void 0)}let o=new NGe(this,s,n,i);t.input.compositionNodes.push(o),this.children=Sk(this.children,r,r+i.length,t,o)}update(t,n,r,i){return this.dirty==Wo||!t.sameMarkup(this.node)?!1:(this.updateInner(t,n,r,i),!0)}updateInner(t,n,r,i){this.updateOuterDeco(n),this.node=t,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=Ts}updateOuterDeco(t){if(hC(t,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=pX(this.dom,this.nodeDOM,xk(this.outerDeco,this.node,n),xk(t,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=t}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function zz(e,t,n,r,i){gX(r,t,e);let s=new xc(void 0,e,t,n,r,r,r,i,0);return s.contentDOM&&s.updateChildren(i,0),s}class ES extends xc{constructor(t,n,r,i,s,o,a){super(t,n,r,i,s,null,o,a,0)}parseRule(){let t=this.nodeDOM.parentNode;for(;t&&t!=this.dom&&!t.pmIsDeco;)t=t.parentNode;return{skip:t||!0}}update(t,n,r,i){return this.dirty==Wo||this.dirty!=Ts&&!this.inParent()||!t.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=Ts||t.text!=this.node.text)&&t.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=t.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=t,this.dirty=Ts,!0)}inParent(){let t=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==t)return!0;return!1}domFromPos(t){return{node:this.nodeDOM,offset:t}}localPosFromDOM(t,n,r){return t==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(t,n,r)}ignoreMutation(t){return t.type!="characterData"&&t.type!="selection"}slice(t,n,r){let i=this.node.cut(t,n),s=document.createTextNode(i.text);return new ES(this.parent,i,this.outerDeco,this.innerDeco,s,s,r)}markDirty(t,n){super.markDirty(t,n),this.dom!=this.nodeDOM&&(t==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=Wo)}get domAtom(){return!1}isText(t){return this.node.text==t}}class hX extends Tv{parseRule(){return{ignore:!0}}matchesHack(t){return this.dirty==Ts&&this.dom.nodeName==t}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class OGe extends xc{constructor(t,n,r,i,s,o,a,l,c,d){super(t,n,r,i,s,o,a,c,d),this.spec=l}update(t,n,r,i){if(this.dirty==Wo)return!1;if(this.spec.update&&(this.node.type==t.type||this.spec.multiType)){let s=this.spec.update(t,n,r);return s&&this.updateInner(t,n,r,i),s}else return!this.contentDOM&&!t.isLeaf?!1:super.update(t,n,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(t,n,r,i){this.spec.setSelection?this.spec.setSelection(t,n,r.root):super.setSelection(t,n,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(t){return this.spec.stopEvent?this.spec.stopEvent(t):!1}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}}function fX(e,t,n){let r=e.firstChild,i=!1;for(let s=0;s<t.length;s++){let o=t[s],a=o.dom;if(a.parentNode==e){for(;a!=r;)r=Gz(r),i=!0;r=r.nextSibling}else i=!0,e.insertBefore(a,r);if(o instanceof fd){let l=r?r.previousSibling:e.lastChild;fX(o.contentDOM,o.children,n),r=l?l.nextSibling:e.firstChild}}for(;r;)r=Gz(r),i=!0;i&&n.trackWrites==e&&(n.trackWrites=null)}const Hg=function(e){e&&(this.nodeName=e)};Hg.prototype=Object.create(null);const Au=[new Hg];function xk(e,t,n){if(e.length==0)return Au;let r=n?Au[0]:new Hg,i=[r];for(let s=0;s<e.length;s++){let o=e[s].type.attrs;if(o){o.nodeName&&i.push(r=new Hg(o.nodeName));for(let a in o){let l=o[a];l!=null&&(n&&i.length==1&&i.push(r=new Hg(t.isInline?"span":"div")),a=="class"?r.class=(r.class?r.class+" ":"")+l:a=="style"?r.style=(r.style?r.style+";":"")+l:a!="nodeName"&&(r[a]=l))}}}return i}function pX(e,t,n,r){if(n==Au&&r==Au)return t;let i=t;for(let s=0;s<r.length;s++){let o=r[s],a=n[s];if(s){let l;a&&a.nodeName==o.nodeName&&i!=e&&(l=i.parentNode)&&l.nodeName.toLowerCase()==o.nodeName||(l=document.createElement(o.nodeName),l.pmIsDeco=!0,l.appendChild(i),a=Au[0]),i=l}FGe(i,a||Au[0],o)}return i}function FGe(e,t,n){for(let r in t)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&e.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=t[r]&&e.setAttribute(r,n[r]);if(t.class!=n.class){let r=t.class?t.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let s=0;s<r.length;s++)i.indexOf(r[s])==-1&&e.classList.remove(r[s]);for(let s=0;s<i.length;s++)r.indexOf(i[s])==-1&&e.classList.add(i[s]);e.classList.length==0&&e.removeAttribute("class")}if(t.style!=n.style){if(t.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(t.style);)e.style.removeProperty(i[1])}n.style&&(e.style.cssText+=n.style)}}function gX(e,t,n){return pX(e,e,Au,xk(t,n,e.nodeType!=1))}function hC(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].type.eq(t[n].type))return!1;return!0}function Gz(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}class IGe{constructor(t,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=t,this.preMatch=LGe(t.node.content,t)}destroyBetween(t,n){if(t!=n){for(let r=t;r<n;r++)this.top.children[r].destroy();this.top.children.splice(t,n-t),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(t,n,r){let i=0,s=this.stack.length>>1,o=Math.min(s,t.length);for(;i<o&&(i==s-1?this.top:this.stack[i+1<<1]).matchesMark(t[i])&&t[i].type.spec.spanning!==!1;)i++;for(;i<s;)this.destroyRest(),this.top.dirty=Ts,this.index=this.stack.pop(),this.top=this.stack.pop(),s--;for(;s<t.length;){this.stack.push(this.top,this.index+1);let a=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++){let c=this.top.children[l];if(c.matchesMark(t[s])&&!this.isLocked(c.dom)){a=l;break}}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{let l=fd.create(this.top,t[s],n,r);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,s++}}findNodeMatch(t,n,r,i){let s=-1,o;if(i>=this.preMatch.index&&(o=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&o.matchesNode(t,n,r))s=this.top.children.indexOf(o,this.index);else for(let a=this.index,l=Math.min(this.top.children.length,a+5);a<l;a++){let c=this.top.children[a];if(c.matchesNode(t,n,r)&&!this.preMatch.matched.has(c)){s=a;break}}return s<0?!1:(this.destroyBetween(this.index,s),this.index++,!0)}updateNodeAt(t,n,r,i,s){let o=this.top.children[i];return o.dirty==Wo&&o.dom==o.contentDOM&&(o.dirty=ku),o.update(t,n,r,s)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(t){for(;;){let n=t.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=t.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}t=n}}updateNextNode(t,n,r,i,s,o){for(let a=this.index;a<this.top.children.length;a++){let l=this.top.children[a];if(l instanceof xc){let c=this.preMatch.matched.get(l);if(c!=null&&c!=s)return!1;let d=l.dom,f,p=this.isLocked(d)&&!(t.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==t.text&&l.dirty!=Wo&&hC(n,l.outerDeco));if(!p&&l.update(t,n,r,i))return this.destroyBetween(this.index,a),l.dom!=d&&(this.changed=!0),this.index++,!0;if(!p&&(f=this.recreateWrapper(l,t,n,r,i,o)))return this.destroyBetween(this.index,a),this.top.children[this.index]=f,f.contentDOM&&(f.dirty=ku,f.updateChildren(i,o+1),f.dirty=Ts),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(t,n,r,i,s,o){if(t.dirty||n.isAtom||!t.children.length||!t.node.content.eq(n.content)||!hC(r,t.outerDeco)||!i.eq(t.innerDeco))return null;let a=xc.create(this.top,n,r,i,s,o);if(a.contentDOM){a.children=t.children,t.children=[];for(let l of a.children)l.parent=a}return t.destroy(),a}addNode(t,n,r,i,s){let o=xc.create(this.top,t,n,r,i,s);o.contentDOM&&o.updateChildren(i,s+1),this.top.children.splice(this.index++,0,o),this.changed=!0}placeWidget(t,n,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(t)&&(t==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let s=new dX(this.top,t,n,r);this.top.children.splice(this.index++,0,s),this.changed=!0}}addTextblockHacks(){let t=this.top.children[this.index-1],n=this.top;for(;t instanceof fd;)n=t,t=n.children[n.children.length-1];(!t||!(t instanceof ES)||/\n$/.test(t.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(t.node.text))&&((Jr||Or)&&t&&t.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(t,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(t))this.index++;else{let r=document.createElement(t);t=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),t=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new hX(this.top,[],r,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}isLocked(t){return this.lock&&(t==this.lock||t.nodeType==1&&t.contains(this.lock.parentNode))}}function LGe(e,t){let n=t,r=n.children.length,i=e.childCount,s=new Map,o=[];e:for(;i>0;){let a;for(;;)if(r){let c=n.children[r-1];if(c instanceof fd)n=c,r=c.children.length;else{a=c,r--;break}}else{if(n==t)break e;r=n.parent.children.indexOf(n),n=n.parent}let l=a.node;if(l){if(l!=e.child(i-1))break;--i,s.set(a,i),o.push(a)}}return{index:i,matched:s,matches:o.reverse()}}function _Ge(e,t){return e.type.side-t.type.side}function jGe(e,t,n,r){let i=t.locals(e),s=0;if(i.length==0){for(let c=0;c<e.childCount;c++){let d=e.child(c);r(d,i,t.forChild(s,d),c),s+=d.nodeSize}return}let o=0,a=[],l=null;for(let c=0;;){let d,f;for(;o<i.length&&i[o].to==s;){let x=i[o++];x.widget&&(d?(f||(f=[d])).push(x):d=x)}if(d)if(f){f.sort(_Ge);for(let x=0;x<f.length;x++)n(f[x],c,!!l)}else n(d,c,!!l);let p,v;if(l)v=-1,p=l,l=null;else if(c<e.childCount)v=c,p=e.child(c++);else break;for(let x=0;x<a.length;x++)a[x].to<=s&&a.splice(x--,1);for(;o<i.length&&i[o].from<=s&&i[o].to>s;)a.push(i[o++]);let y=s+p.nodeSize;if(p.isText){let x=y;o<i.length&&i[o].from<x&&(x=i[o].from);for(let S=0;S<a.length;S++)a[S].to<x&&(x=a[S].to);x<y&&(l=p.cut(x-s),p=p.cut(0,x-s),y=x,v=-1)}else for(;o<i.length&&i[o].to<y;)o++;let b=p.isInline&&!p.isLeaf?a.filter(x=>!x.inline):a.slice();r(p,b,t.forChild(s,p),v),s=y}}function BGe(e){if(e.nodeName=="UL"||e.nodeName=="OL"){let t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}function HGe(e,t,n,r){for(let i=0,s=0;i<e.childCount&&s<=r;){let o=e.child(i++),a=s;if(s+=o.nodeSize,!o.isText)continue;let l=o.text;for(;i<e.childCount;){let c=e.child(i++);if(s+=c.nodeSize,!c.isText)break;l+=c.text}if(s>=n){if(s>=r&&l.slice(r-t.length-a,r-a)==t)return r-t.length;let c=a<r?l.lastIndexOf(t,r-a-1):-1;if(c>=0&&c+t.length+a>=n)return a+c;if(n==r&&l.length>=r+t.length-a&&l.slice(r-a,r-a+t.length)==t)return r}}return-1}function Sk(e,t,n,r,i){let s=[];for(let o=0,a=0;o<e.length;o++){let l=e[o],c=a,d=a+=l.size;c>=n||d<=t?s.push(l):(c<t&&s.push(l.slice(0,t-c,r)),i&&(s.push(i),i=void 0),d>n&&s.push(l.slice(n-c,l.size,r)))}return s}function uO(e,t=null){let n=e.domSelectionRange(),r=e.state.doc;if(!n.focusNode)return null;let i=e.docView.nearestDesc(n.focusNode),s=i&&i.size==0,o=e.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(o<0)return null;let a=r.resolve(o),l,c;if(SS(n)){for(l=o;i&&!i.node;)i=i.parent;let f=i.node;if(i&&f.isAtom&&ze.isSelectable(f)&&i.parent&&!(f.isInline&&hGe(n.focusNode,n.focusOffset,i.dom))){let p=i.posBefore;c=new ze(o==p?a:r.resolve(p))}}else{if(n instanceof e.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let f=o,p=o;for(let v=0;v<n.rangeCount;v++){let y=n.getRangeAt(v);f=Math.min(f,e.docView.posFromDOM(y.startContainer,y.startOffset,1)),p=Math.max(p,e.docView.posFromDOM(y.endContainer,y.endOffset,-1))}if(f<0)return null;[l,o]=p==e.state.selection.anchor?[p,f]:[f,p],a=r.resolve(o)}else l=e.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(l<0)return null}let d=r.resolve(l);if(!c){let f=t=="pointer"||e.state.selection.head<a.pos&&!s?1:-1;c=dO(e,d,a,f)}return c}function mX(e){return e.editable?e.hasFocus():yX(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function Ua(e,t=!1){let n=e.state.selection;if(vX(e,n),!!mX(e)){if(!t&&e.input.mouseDown&&e.input.mouseDown.allowDefault&&Or){let r=e.domSelectionRange(),i=e.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&hd(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){e.input.mouseDown.delayedSelectionSync=!0,e.domObserver.setCurSelection();return}}if(e.domObserver.disconnectSelection(),e.cursorWrapper)GGe(e);else{let{anchor:r,head:i}=n,s,o;Vz&&!(n instanceof Ke)&&(n.$from.parent.inlineContent||(s=Wz(e,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(o=Wz(e,n.to))),e.docView.setSelection(r,i,e,t),Vz&&(s&&Uz(s),o&&Uz(o)),n.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&zGe(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}const Vz=Jr||Or&&iX<63;function Wz(e,t){let{node:n,offset:r}=e.docView.domFromPos(t,0),i=r<n.childNodes.length?n.childNodes[r]:null,s=r?n.childNodes[r-1]:null;if(Jr&&i&&i.contentEditable=="false")return KM(i);if((!i||i.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(i)return KM(i);if(s)return KM(s)}}function KM(e){return e.contentEditable="true",Jr&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function Uz(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function zGe(e){let t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.input.hideSelectionGuard);let n=e.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;t.addEventListener("selectionchange",e.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(t.removeEventListener("selectionchange",e.input.hideSelectionGuard),setTimeout(()=>{(!mX(e)||e.state.selection.visible)&&e.dom.classList.remove("ProseMirror-hideselection")},20))})}function GGe(e){let t=e.domSelection();if(!t)return;let n=e.cursorWrapper.dom,r=n.nodeName=="IMG";r?t.collapse(n.parentNode,vr(n)+1):t.collapse(n,0),!r&&!e.state.selection.visible&&bi&&Cc<=11&&(n.disabled=!0,n.disabled=!1)}function vX(e,t){if(t instanceof ze){let n=e.docView.descAt(t.from);n!=e.lastSelectedViewDesc&&($z(e),n&&n.selectNode(),e.lastSelectedViewDesc=n)}else $z(e)}function $z(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=void 0)}function dO(e,t,n,r){return e.someProp("createSelectionBetween",i=>i(e,t,n))||Ke.between(t,n,r)}function qz(e){return e.editable&&!e.hasFocus()?!1:yX(e)}function yX(e){let t=e.domSelectionRange();if(!t.anchorNode)return!1;try{return e.dom.contains(t.anchorNode.nodeType==3?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(t.focusNode.nodeType==3?t.focusNode.parentNode:t.focusNode))}catch{return!1}}function VGe(e){let t=e.docView.domFromPos(e.state.selection.anchor,0),n=e.domSelectionRange();return hd(t.node,t.offset,n.anchorNode,n.anchorOffset)}function Ek(e,t){let{$anchor:n,$head:r}=e.selection,i=t>0?n.max(r):n.min(r),s=i.parent.inlineContent?i.depth?e.doc.resolve(t>0?i.after():i.before()):null:i;return s&&nt.findFrom(s,t)}function ic(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function Kz(e,t,n){let r=e.state.selection;if(r instanceof Ke)if(n.indexOf("s")>-1){let{$head:i}=r,s=i.textOffset?null:t<0?i.nodeBefore:i.nodeAfter;if(!s||s.isText||!s.isLeaf)return!1;let o=e.state.doc.resolve(i.pos+s.nodeSize*(t<0?-1:1));return ic(e,new Ke(r.$anchor,o))}else if(r.empty){if(e.endOfTextblock(t>0?"forward":"backward")){let i=Ek(e.state,t);return i&&i instanceof ze?ic(e,i):!1}else if(!(bs&&n.indexOf("m")>-1)){let i=r.$head,s=i.textOffset?null:t<0?i.nodeBefore:i.nodeAfter,o;if(!s||s.isText)return!1;let a=t<0?i.pos-s.nodeSize:i.pos;return s.isAtom||(o=e.docView.descAt(a))&&!o.contentDOM?ze.isSelectable(s)?ic(e,new ze(t<0?e.state.doc.resolve(i.pos-s.nodeSize):i)):Mv?ic(e,new Ke(e.state.doc.resolve(t<0?a:a+s.nodeSize))):!1:!1}}else return!1;else{if(r instanceof ze&&r.node.isInline)return ic(e,new Ke(t>0?r.$to:r.$from));{let i=Ek(e.state,t);return i?ic(e,i):!1}}}function fC(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function zg(e,t){let n=e.pmViewDesc;return n&&n.size==0&&(t<0||e.nextSibling||e.nodeName!="BR")}function Eh(e,t){return t<0?WGe(e):UGe(e)}function WGe(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let i,s,o=!1;for(Ms&&n.nodeType==1&&r<fC(n)&&zg(n.childNodes[r],-1)&&(o=!0);;)if(r>0){if(n.nodeType!=1)break;{let a=n.childNodes[r-1];if(zg(a,-1))i=n,s=--r;else if(a.nodeType==3)n=a,r=n.nodeValue.length;else break}}else{if(wX(n))break;{let a=n.previousSibling;for(;a&&zg(a,-1);)i=n.parentNode,s=vr(a),a=a.previousSibling;if(a)n=a,r=fC(n);else{if(n=n.parentNode,n==e.dom)break;r=0}}}o?Dk(e,n,r):i&&Dk(e,i,s)}function UGe(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let i=fC(n),s,o;for(;;)if(r<i){if(n.nodeType!=1)break;let a=n.childNodes[r];if(zg(a,1))s=n,o=++r;else break}else{if(wX(n))break;{let a=n.nextSibling;for(;a&&zg(a,1);)s=a.parentNode,o=vr(a)+1,a=a.nextSibling;if(a)n=a,r=0,i=fC(n);else{if(n=n.parentNode,n==e.dom)break;r=i=0}}}s&&Dk(e,s,o)}function wX(e){let t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function $Ge(e,t){for(;e&&t==e.childNodes.length&&!Rv(e);)t=vr(e)+1,e=e.parentNode;for(;e&&t<e.childNodes.length;){let n=e.childNodes[t];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;e=n,t=0}}function qGe(e,t){for(;e&&!t&&!Rv(e);)t=vr(e),e=e.parentNode;for(;e&&t;){let n=e.childNodes[t-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;e=n,t=e.childNodes.length}}function Dk(e,t,n){if(t.nodeType!=3){let s,o;(o=$Ge(t,n))?(t=o,n=0):(s=qGe(t,n))&&(t=s,n=s.nodeValue.length)}let r=e.domSelection();if(!r)return;if(SS(r)){let s=document.createRange();s.setEnd(t,n),s.setStart(t,n),r.removeAllRanges(),r.addRange(s)}else r.extend&&r.extend(t,n);e.domObserver.setCurSelection();let{state:i}=e;setTimeout(()=>{e.state==i&&Ua(e)},50)}function Yz(e,t){let n=e.state.doc.resolve(t);if(!(Or||gGe)&&n.parent.inlineContent){let i=e.coordsAtPos(t);if(t>n.start()){let s=e.coordsAtPos(t-1),o=(s.top+s.bottom)/2;if(o>i.top&&o<i.bottom&&Math.abs(s.left-i.left)>1)return s.left<i.left?"ltr":"rtl"}if(t<n.end()){let s=e.coordsAtPos(t+1),o=(s.top+s.bottom)/2;if(o>i.top&&o<i.bottom&&Math.abs(s.left-i.left)>1)return s.left>i.left?"ltr":"rtl"}}return getComputedStyle(e.dom).direction=="rtl"?"rtl":"ltr"}function Qz(e,t,n){let r=e.state.selection;if(r instanceof Ke&&!r.empty||n.indexOf("s")>-1||bs&&n.indexOf("m")>-1)return!1;let{$from:i,$to:s}=r;if(!i.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){let o=Ek(e.state,t);if(o&&o instanceof ze)return ic(e,o)}if(!i.parent.inlineContent){let o=t<0?i:s,a=r instanceof Xi?nt.near(o,t):nt.findFrom(o,t);return a?ic(e,a):!1}return!1}function Xz(e,t){if(!(e.state.selection instanceof Ke))return!0;let{$head:n,$anchor:r,empty:i}=e.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;let s=!n.textOffset&&(t<0?n.nodeBefore:n.nodeAfter);if(s&&!s.isText){let o=e.state.tr;return t<0?o.delete(n.pos-s.nodeSize,n.pos):o.delete(n.pos,n.pos+s.nodeSize),e.dispatch(o),!0}return!1}function Jz(e,t,n){e.domObserver.stop(),t.contentEditable=n,e.domObserver.start()}function KGe(e){if(!Jr||e.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:n}=e.domSelectionRange();if(t&&t.nodeType==1&&n==0&&t.firstChild&&t.firstChild.contentEditable=="false"){let r=t.firstChild;Jz(e,r,"true"),setTimeout(()=>Jz(e,r,"false"),20)}return!1}function YGe(e){let t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}function QGe(e,t){let n=t.keyCode,r=YGe(t);if(n==8||bs&&n==72&&r=="c")return Xz(e,-1)||Eh(e,-1);if(n==46&&!t.shiftKey||bs&&n==68&&r=="c")return Xz(e,1)||Eh(e,1);if(n==13||n==27)return!0;if(n==37||bs&&n==66&&r=="c"){let i=n==37?Yz(e,e.state.selection.from)=="ltr"?-1:1:-1;return Kz(e,i,r)||Eh(e,i)}else if(n==39||bs&&n==70&&r=="c"){let i=n==39?Yz(e,e.state.selection.from)=="ltr"?1:-1:1;return Kz(e,i,r)||Eh(e,i)}else{if(n==38||bs&&n==80&&r=="c")return Qz(e,-1,r)||Eh(e,-1);if(n==40||bs&&n==78&&r=="c")return KGe(e)||Qz(e,1,r)||Eh(e,1);if(r==(bs?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function hO(e,t){e.someProp("transformCopied",v=>{t=v(t,e)});let n=[],{content:r,openStart:i,openEnd:s}=t;for(;i>1&&s>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,s--;let v=r.firstChild;n.push(v.type.name,v.attrs!=v.type.defaultAttrs?v.attrs:null),r=v.content}let o=e.someProp("clipboardSerializer")||Rd.fromSchema(e.state.schema),a=DX(),l=a.createElement("div");l.appendChild(o.serializeFragment(r,{document:a}));let c=l.firstChild,d,f=0;for(;c&&c.nodeType==1&&(d=EX[c.nodeName.toLowerCase()]);){for(let v=d.length-1;v>=0;v--){let y=a.createElement(d[v]);for(;l.firstChild;)y.appendChild(l.firstChild);l.appendChild(y),f++}c=l.firstChild}c&&c.nodeType==1&&c.setAttribute("data-pm-slice",`${i} ${s}${f?` -${f}`:""} ${JSON.stringify(n)}`);let p=e.someProp("clipboardTextSerializer",v=>v(t,e))||t.content.textBetween(0,t.content.size,`

`);return{dom:l,text:p,slice:t}}function bX(e,t,n,r,i){let s=i.parent.type.spec.code,o,a;if(!n&&!t)return null;let l=!!t&&(r||s||!n);if(l){if(e.someProp("transformPastedText",p=>{t=p(t,s||r,e)}),s)return a=new ke(xe.from(e.state.schema.text(t.replace(/\r\n?/g,`
`))),0,0),e.someProp("transformPasted",p=>{a=p(a,e,!0)}),a;let f=e.someProp("clipboardTextParser",p=>p(t,i,r,e));if(f)a=f;else{let p=i.marks(),{schema:v}=e.state,y=Rd.fromSchema(v);o=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach(b=>{let x=o.appendChild(document.createElement("p"));b&&x.appendChild(y.serializeNode(v.text(b,p)))})}}else e.someProp("transformPastedHTML",f=>{n=f(n,e)}),o=eVe(n),Mv&&tVe(o);let c=o&&o.querySelector("[data-pm-slice]"),d=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(d&&d[3])for(let f=+d[3];f>0;f--){let p=o.firstChild;for(;p&&p.nodeType!=1;)p=p.nextSibling;if(!p)break;o=p}if(a||(a=(e.someProp("clipboardParser")||e.someProp("domParser")||bc.fromSchema(e.state.schema)).parseSlice(o,{preserveWhitespace:!!(l||d),context:i,ruleFromNode(p){return p.nodeName=="BR"&&!p.nextSibling&&p.parentNode&&!XGe.test(p.parentNode.nodeName)?{ignore:!0}:null}})),d)a=nVe(Zz(a,+d[1],+d[2]),d[4]);else if(a=ke.maxOpen(JGe(a.content,i),!0),a.openStart||a.openEnd){let f=0,p=0;for(let v=a.content.firstChild;f<a.openStart&&!v.type.spec.isolating;f++,v=v.firstChild);for(let v=a.content.lastChild;p<a.openEnd&&!v.type.spec.isolating;p++,v=v.lastChild);a=Zz(a,f,p)}return e.someProp("transformPasted",f=>{a=f(a,e,l)}),a}const XGe=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function JGe(e,t){if(e.childCount<2)return e;for(let n=t.depth;n>=0;n--){let i=t.node(n).contentMatchAt(t.index(n)),s,o=[];if(e.forEach(a=>{if(!o)return;let l=i.findWrapping(a.type),c;if(!l)return o=null;if(c=o.length&&s.length&&xX(l,s,a,o[o.length-1],0))o[o.length-1]=c;else{o.length&&(o[o.length-1]=SX(o[o.length-1],s.length));let d=CX(a,l);o.push(d),i=i.matchType(d.type),s=l}}),o)return xe.from(o)}return e}function CX(e,t,n=0){for(let r=t.length-1;r>=n;r--)e=t[r].create(null,xe.from(e));return e}function xX(e,t,n,r,i){if(i<e.length&&i<t.length&&e[i]==t[i]){let s=xX(e,t,n,r.lastChild,i+1);if(s)return r.copy(r.content.replaceChild(r.childCount-1,s));if(r.contentMatchAt(r.childCount).matchType(i==e.length-1?n.type:e[i+1]))return r.copy(r.content.append(xe.from(CX(n,e,i+1))))}}function SX(e,t){if(t==0)return e;let n=e.content.replaceChild(e.childCount-1,SX(e.lastChild,t-1)),r=e.contentMatchAt(e.childCount).fillBefore(xe.empty,!0);return e.copy(n.append(r))}function Rk(e,t,n,r,i,s){let o=t<0?e.firstChild:e.lastChild,a=o.content;return e.childCount>1&&(s=0),i<r-1&&(a=Rk(a,t,n,r,i+1,s)),i>=n&&(a=t<0?o.contentMatchAt(0).fillBefore(a,s<=i).append(a):a.append(o.contentMatchAt(o.childCount).fillBefore(xe.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,o.copy(a))}function Zz(e,t,n){return t<e.openStart&&(e=new ke(Rk(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd)),n<e.openEnd&&(e=new ke(Rk(e.content,1,n,e.openEnd,0,0),e.openStart,n)),e}const EX={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let e8=null;function DX(){return e8||(e8=document.implementation.createHTMLDocument("title"))}let YM=null;function ZGe(e){let t=window.trustedTypes;return t?(YM||(YM=t.defaultPolicy||t.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),YM.createHTML(e)):e}function eVe(e){let t=/^(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));let n=DX().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(e),i;if((i=r&&EX[r[1].toLowerCase()])&&(e=i.map(s=>"<"+s+">").join("")+e+i.map(s=>"</"+s+">").reverse().join("")),n.innerHTML=ZGe(e),i)for(let s=0;s<i.length;s++)n=n.querySelector(i[s])||n;return n}function tVe(e){let t=e.querySelectorAll(Or?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<t.length;n++){let r=t[n];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(e.ownerDocument.createTextNode(" "),r)}}function nVe(e,t){if(!e.size)return e;let n=e.content.firstChild.type.schema,r;try{r=JSON.parse(t)}catch{return e}let{content:i,openStart:s,openEnd:o}=e;for(let a=r.length-2;a>=0;a-=2){let l=n.nodes[r[a]];if(!l||l.hasRequiredAttrs())break;i=xe.from(l.create(r[a+1],i)),s++,o++}return new ke(i,s,o)}const Zr={},ei={},rVe={touchstart:!0,touchmove:!0};class iVe{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function sVe(e){for(let t in Zr){let n=Zr[t];e.dom.addEventListener(t,e.input.eventHandlers[t]=r=>{aVe(e,r)&&!fO(e,r)&&(e.editable||!(r.type in ei))&&n(e,r)},rVe[t]?{passive:!0}:void 0)}Jr&&e.dom.addEventListener("input",()=>null),Mk(e)}function pc(e,t){e.input.lastSelectionOrigin=t,e.input.lastSelectionTime=Date.now()}function oVe(e){e.domObserver.stop();for(let t in e.input.eventHandlers)e.dom.removeEventListener(t,e.input.eventHandlers[t]);clearTimeout(e.input.composingTimeout),clearTimeout(e.input.lastIOSEnterFallbackTimeout)}function Mk(e){e.someProp("handleDOMEvents",t=>{for(let n in t)e.input.eventHandlers[n]||e.dom.addEventListener(n,e.input.eventHandlers[n]=r=>fO(e,r))})}function fO(e,t){return e.someProp("handleDOMEvents",n=>{let r=n[t.type];return r?r(e,t)||t.defaultPrevented:!1})}function aVe(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let n=t.target;n!=e.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(t))return!1;return!0}function lVe(e,t){!fO(e,t)&&Zr[t.type]&&(e.editable||!(t.type in ei))&&Zr[t.type](e,t)}ei.keydown=(e,t)=>{let n=t;if(e.input.shiftKey=n.keyCode==16||n.shiftKey,!MX(e,n)&&(e.input.lastKeyCode=n.keyCode,e.input.lastKeyCodeTime=Date.now(),!(Na&&Or&&n.keyCode==13)))if(n.keyCode!=229&&e.domObserver.forceFlush(),Pf&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();e.input.lastIOSEnter=r,e.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{e.input.lastIOSEnter==r&&(e.someProp("handleKeyDown",i=>i(e,bu(13,"Enter"))),e.input.lastIOSEnter=0)},200)}else e.someProp("handleKeyDown",r=>r(e,n))||QGe(e,n)?n.preventDefault():pc(e,"key")};ei.keyup=(e,t)=>{t.keyCode==16&&(e.input.shiftKey=!1)};ei.keypress=(e,t)=>{let n=t;if(MX(e,n)||!n.charCode||n.ctrlKey&&!n.altKey||bs&&n.metaKey)return;if(e.someProp("handleKeyPress",i=>i(e,n))){n.preventDefault();return}let r=e.state.selection;if(!(r instanceof Ke)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode),s=()=>e.state.tr.insertText(i).scrollIntoView();!/[\r\n]/.test(i)&&!e.someProp("handleTextInput",o=>o(e,r.$from.pos,r.$to.pos,i,s))&&e.dispatch(s()),n.preventDefault()}};function DS(e){return{left:e.clientX,top:e.clientY}}function cVe(e,t){let n=t.x-e.clientX,r=t.y-e.clientY;return n*n+r*r<100}function pO(e,t,n,r,i){if(r==-1)return!1;let s=e.state.doc.resolve(r);for(let o=s.depth+1;o>0;o--)if(e.someProp(t,a=>o>s.depth?a(e,n,s.nodeAfter,s.before(o),i,!0):a(e,n,s.node(o),s.before(o),i,!1)))return!0;return!1}function ef(e,t,n){if(e.focused||e.focus(),e.state.selection.eq(t))return;let r=e.state.tr.setSelection(t);r.setMeta("pointer",!0),e.dispatch(r)}function uVe(e,t){if(t==-1)return!1;let n=e.state.doc.resolve(t),r=n.nodeAfter;return r&&r.isAtom&&ze.isSelectable(r)?(ef(e,new ze(n)),!0):!1}function dVe(e,t){if(t==-1)return!1;let n=e.state.selection,r,i;n instanceof ze&&(r=n.node);let s=e.state.doc.resolve(t);for(let o=s.depth+1;o>0;o--){let a=o>s.depth?s.nodeAfter:s.node(o);if(ze.isSelectable(a)){r&&n.$from.depth>0&&o>=n.$from.depth&&s.before(n.$from.depth+1)==n.$from.pos?i=s.before(n.$from.depth):i=s.before(o);break}}return i!=null?(ef(e,ze.create(e.state.doc,i)),!0):!1}function hVe(e,t,n,r,i){return pO(e,"handleClickOn",t,n,r)||e.someProp("handleClick",s=>s(e,t,r))||(i?dVe(e,n):uVe(e,n))}function fVe(e,t,n,r){return pO(e,"handleDoubleClickOn",t,n,r)||e.someProp("handleDoubleClick",i=>i(e,t,r))}function pVe(e,t,n,r){return pO(e,"handleTripleClickOn",t,n,r)||e.someProp("handleTripleClick",i=>i(e,t,r))||gVe(e,n,r)}function gVe(e,t,n){if(n.button!=0)return!1;let r=e.state.doc;if(t==-1)return r.inlineContent?(ef(e,Ke.create(r,0,r.content.size)),!0):!1;let i=r.resolve(t);for(let s=i.depth+1;s>0;s--){let o=s>i.depth?i.nodeAfter:i.node(s),a=i.before(s);if(o.inlineContent)ef(e,Ke.create(r,a+1,a+1+o.content.size));else if(ze.isSelectable(o))ef(e,ze.create(r,a));else continue;return!0}}function gO(e){return pC(e)}const RX=bs?"metaKey":"ctrlKey";Zr.mousedown=(e,t)=>{let n=t;e.input.shiftKey=n.shiftKey;let r=gO(e),i=Date.now(),s="singleClick";i-e.input.lastClick.time<500&&cVe(n,e.input.lastClick)&&!n[RX]&&e.input.lastClick.button==n.button&&(e.input.lastClick.type=="singleClick"?s="doubleClick":e.input.lastClick.type=="doubleClick"&&(s="tripleClick")),e.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:s,button:n.button};let o=e.posAtCoords(DS(n));o&&(s=="singleClick"?(e.input.mouseDown&&e.input.mouseDown.done(),e.input.mouseDown=new mVe(e,o,n,!!r)):(s=="doubleClick"?fVe:pVe)(e,o.pos,o.inside,n)?n.preventDefault():pc(e,"pointer"))};class mVe{constructor(t,n,r,i){this.view=t,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=t.state.doc,this.selectNode=!!r[RX],this.allowDefault=r.shiftKey;let s,o;if(n.inside>-1)s=t.state.doc.nodeAt(n.inside),o=n.inside;else{let d=t.state.doc.resolve(n.pos);s=d.parent,o=d.depth?d.before():0}const a=i?null:r.target,l=a?t.docView.nearestDesc(a,!0):null;this.target=l&&l.nodeDOM.nodeType==1?l.nodeDOM:null;let{selection:c}=t.state;(r.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||c instanceof ze&&c.from<=o&&c.to>o)&&(this.mightDrag={node:s,pos:o,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Ms&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),pc(t,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Ua(this.view)),this.view.input.mouseDown=null}up(t){if(this.done(),!this.view.dom.contains(t.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(DS(t))),this.updateAllowDefault(t),this.allowDefault||!n?pc(this.view,"pointer"):hVe(this.view,n.pos,n.inside,t,this.selectNode)?t.preventDefault():t.button==0&&(this.flushed||Jr&&this.mightDrag&&!this.mightDrag.node.isAtom||Or&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(ef(this.view,nt.near(this.view.state.doc.resolve(n.pos))),t.preventDefault()):pc(this.view,"pointer")}move(t){this.updateAllowDefault(t),pc(this.view,"pointer"),t.buttons==0&&this.done()}updateAllowDefault(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0)}}Zr.touchstart=e=>{e.input.lastTouch=Date.now(),gO(e),pc(e,"pointer")};Zr.touchmove=e=>{e.input.lastTouch=Date.now(),pc(e,"pointer")};Zr.contextmenu=e=>gO(e);function MX(e,t){return e.composing?!0:Jr&&Math.abs(t.timeStamp-e.input.compositionEndedAt)<500?(e.input.compositionEndedAt=-2e8,!0):!1}const vVe=Na?5e3:-1;ei.compositionstart=ei.compositionupdate=e=>{if(!e.composing){e.domObserver.flush();let{state:t}=e,n=t.selection.$to;if(t.selection instanceof Ke&&(t.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))e.markCursor=e.state.storedMarks||n.marks(),pC(e,!0),e.markCursor=null;else if(pC(e,!t.selection.empty),Ms&&t.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=e.domSelectionRange();for(let i=r.focusNode,s=r.focusOffset;i&&i.nodeType==1&&s!=0;){let o=s<0?i.lastChild:i.childNodes[s-1];if(!o)break;if(o.nodeType==3){let a=e.domSelection();a&&a.collapse(o,o.nodeValue.length);break}else i=o,s=-1}}e.input.composing=!0}TX(e,vVe)};ei.compositionend=(e,t)=>{e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=t.timeStamp,e.input.compositionPendingChanges=e.domObserver.pendingRecords().length?e.input.compositionID:0,e.input.compositionNode=null,e.input.compositionPendingChanges&&Promise.resolve().then(()=>e.domObserver.flush()),e.input.compositionID++,TX(e,20))};function TX(e,t){clearTimeout(e.input.composingTimeout),t>-1&&(e.input.composingTimeout=setTimeout(()=>pC(e),t))}function kX(e){for(e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=wVe());e.input.compositionNodes.length>0;)e.input.compositionNodes.pop().markParentsDirty()}function yVe(e){let t=e.domSelectionRange();if(!t.focusNode)return null;let n=uGe(t.focusNode,t.focusOffset),r=dGe(t.focusNode,t.focusOffset);if(n&&r&&n!=r){let i=r.pmViewDesc,s=e.domObserver.lastChangedTextNode;if(n==s||r==s)return s;if(!i||!i.isText(r.nodeValue))return r;if(e.input.compositionNode==r){let o=n.pmViewDesc;if(!(!o||!o.isText(n.nodeValue)))return r}}return n||r}function wVe(){let e=document.createEvent("Event");return e.initEvent("event",!0,!0),e.timeStamp}function pC(e,t=!1){if(!(Na&&e.domObserver.flushingSoon>=0)){if(e.domObserver.forceFlush(),kX(e),t||e.docView&&e.docView.dirty){let n=uO(e),r=e.state.selection;return n&&!n.eq(r)?e.dispatch(e.state.tr.setSelection(n)):(e.markCursor||t)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?e.dispatch(e.state.tr.deleteSelection()):e.updateState(e.state),!0}return!1}}function bVe(e,t){if(!e.dom.parentNode)return;let n=e.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(t),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(t),e.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),e.focus()},50)}const Om=bi&&Cc<15||Pf&&mGe<604;Zr.copy=ei.cut=(e,t)=>{let n=t,r=e.state.selection,i=n.type=="cut";if(r.empty)return;let s=Om?null:n.clipboardData,o=r.content(),{dom:a,text:l}=hO(e,o);s?(n.preventDefault(),s.clearData(),s.setData("text/html",a.innerHTML),s.setData("text/plain",l)):bVe(e,a),i&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function CVe(e){return e.openStart==0&&e.openEnd==0&&e.content.childCount==1?e.content.firstChild:null}function xVe(e,t){if(!e.dom.parentNode)return;let n=e.input.shiftKey||e.state.selection.$from.parent.type.spec.code,r=e.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=e.input.shiftKey&&e.input.lastKeyCode!=45;setTimeout(()=>{e.focus(),r.parentNode&&r.parentNode.removeChild(r),n?Fm(e,r.value,null,i,t):Fm(e,r.textContent,r.innerHTML,i,t)},50)}function Fm(e,t,n,r,i){let s=bX(e,t,n,r,e.state.selection.$from);if(e.someProp("handlePaste",l=>l(e,i,s||ke.empty)))return!0;if(!s)return!1;let o=CVe(s),a=o?e.state.tr.replaceSelectionWith(o,r):e.state.tr.replaceSelection(s);return e.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function AX(e){let t=e.getData("text/plain")||e.getData("Text");if(t)return t;let n=e.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}ei.paste=(e,t)=>{let n=t;if(e.composing&&!Na)return;let r=Om?null:n.clipboardData,i=e.input.shiftKey&&e.input.lastKeyCode!=45;r&&Fm(e,AX(r),r.getData("text/html"),i,n)?n.preventDefault():xVe(e,n)};class PX{constructor(t,n,r){this.slice=t,this.move=n,this.node=r}}const SVe=bs?"altKey":"ctrlKey";function NX(e,t){let n=e.someProp("dragCopies",r=>!r(t));return n??!t[SVe]}Zr.dragstart=(e,t)=>{let n=t,r=e.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=e.state.selection,s=i.empty?null:e.posAtCoords(DS(n)),o;if(!(s&&s.pos>=i.from&&s.pos<=(i instanceof ze?i.to-1:i.to))){if(r&&r.mightDrag)o=ze.create(e.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let f=e.docView.nearestDesc(n.target,!0);f&&f.node.type.spec.draggable&&f!=e.docView&&(o=ze.create(e.state.doc,f.posBefore))}}let a=(o||e.state.selection).content(),{dom:l,text:c,slice:d}=hO(e,a);(!n.dataTransfer.files.length||!Or||iX>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(Om?"Text":"text/html",l.innerHTML),n.dataTransfer.effectAllowed="copyMove",Om||n.dataTransfer.setData("text/plain",c),e.dragging=new PX(d,NX(e,n),o)};Zr.dragend=e=>{let t=e.dragging;window.setTimeout(()=>{e.dragging==t&&(e.dragging=null)},50)};ei.dragover=ei.dragenter=(e,t)=>t.preventDefault();ei.drop=(e,t)=>{let n=t,r=e.dragging;if(e.dragging=null,!n.dataTransfer)return;let i=e.posAtCoords(DS(n));if(!i)return;let s=e.state.doc.resolve(i.pos),o=r&&r.slice;o?e.someProp("transformPasted",y=>{o=y(o,e,!1)}):o=bX(e,AX(n.dataTransfer),Om?null:n.dataTransfer.getData("text/html"),!1,s);let a=!!(r&&NX(e,n));if(e.someProp("handleDrop",y=>y(e,n,o||ke.empty,a))){n.preventDefault();return}if(!o)return;n.preventDefault();let l=o?_Q(e.state.doc,s.pos,o):s.pos;l==null&&(l=s.pos);let c=e.state.tr;if(a){let{node:y}=r;y?y.replace(c):c.deleteSelection()}let d=c.mapping.map(l),f=o.openStart==0&&o.openEnd==0&&o.content.childCount==1,p=c.doc;if(f?c.replaceRangeWith(d,d,o.content.firstChild):c.replaceRange(d,d,o),c.doc.eq(p))return;let v=c.doc.resolve(d);if(f&&ze.isSelectable(o.content.firstChild)&&v.nodeAfter&&v.nodeAfter.sameMarkup(o.content.firstChild))c.setSelection(new ze(v));else{let y=c.mapping.map(l);c.mapping.maps[c.mapping.maps.length-1].forEach((b,x,S,M)=>y=M),c.setSelection(dO(e,v,c.doc.resolve(y)))}e.focus(),e.dispatch(c.setMeta("uiEvent","drop"))};Zr.focus=e=>{e.input.lastFocus=Date.now(),e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout(()=>{e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.domSelectionRange())&&Ua(e)},20))};Zr.blur=(e,t)=>{let n=t;e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),n.relatedTarget&&e.dom.contains(n.relatedTarget)&&e.domObserver.currentSelection.clear(),e.focused=!1)};Zr.beforeinput=(e,t)=>{if(Or&&Na&&t.inputType=="deleteContentBackward"){e.domObserver.flushSoon();let{domChangeCount:r}=e.input;setTimeout(()=>{if(e.input.domChangeCount!=r||(e.dom.blur(),e.focus(),e.someProp("handleKeyDown",s=>s(e,bu(8,"Backspace")))))return;let{$cursor:i}=e.state.selection;i&&i.pos>0&&e.dispatch(e.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let e in ei)Zr[e]=ei[e];function Im(e,t){if(e==t)return!0;for(let n in e)if(e[n]!==t[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}class gC{constructor(t,n){this.toDOM=t,this.spec=n||Yu,this.side=this.spec.side||0}map(t,n,r,i){let{pos:s,deleted:o}=t.mapResult(n.from+i,this.side<0?-1:1);return o?null:new Yr(s-r,s-r,this)}valid(){return!0}eq(t){return this==t||t instanceof gC&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&Im(this.spec,t.spec))}destroy(t){this.spec.destroy&&this.spec.destroy(t)}}class Sc{constructor(t,n){this.attrs=t,this.spec=n||Yu}map(t,n,r,i){let s=t.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,o=t.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return s>=o?null:new Yr(s,o,this)}valid(t,n){return n.from<n.to}eq(t){return this==t||t instanceof Sc&&Im(this.attrs,t.attrs)&&Im(this.spec,t.spec)}static is(t){return t.type instanceof Sc}destroy(){}}class mO{constructor(t,n){this.attrs=t,this.spec=n||Yu}map(t,n,r,i){let s=t.mapResult(n.from+i,1);if(s.deleted)return null;let o=t.mapResult(n.to+i,-1);return o.deleted||o.pos<=s.pos?null:new Yr(s.pos-r,o.pos-r,this)}valid(t,n){let{index:r,offset:i}=t.content.findIndex(n.from),s;return i==n.from&&!(s=t.child(r)).isText&&i+s.nodeSize==n.to}eq(t){return this==t||t instanceof mO&&Im(this.attrs,t.attrs)&&Im(this.spec,t.spec)}destroy(){}}class Yr{constructor(t,n,r){this.from=t,this.to=n,this.type=r}copy(t,n){return new Yr(t,n,this.type)}eq(t,n=0){return this.type.eq(t.type)&&this.from+n==t.from&&this.to+n==t.to}map(t,n,r){return this.type.map(t,this,n,r)}static widget(t,n,r){return new Yr(t,t,new gC(n,r))}static inline(t,n,r,i){return new Yr(t,n,new Sc(r,i))}static node(t,n,r,i){return new Yr(t,n,new mO(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof Sc}get widget(){return this.type instanceof gC}}const kh=[],Yu={};class hn{constructor(t,n){this.local=t.length?t:kh,this.children=n.length?n:kh}static create(t,n){return n.length?mC(n,t,0,Yu):Tr}find(t,n,r){let i=[];return this.findInner(t??0,n??1e9,i,0,r),i}findInner(t,n,r,i,s){for(let o=0;o<this.local.length;o++){let a=this.local[o];a.from<=n&&a.to>=t&&(!s||s(a.spec))&&r.push(a.copy(a.from+i,a.to+i))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<n&&this.children[o+1]>t){let a=this.children[o]+1;this.children[o+2].findInner(t-a,n-a,r,i+a,s)}}map(t,n,r){return this==Tr||t.maps.length==0?this:this.mapInner(t,n,0,0,r||Yu)}mapInner(t,n,r,i,s){let o;for(let a=0;a<this.local.length;a++){let l=this.local[a].map(t,r,i);l&&l.type.valid(n,l)?(o||(o=[])).push(l):s.onRemove&&s.onRemove(this.local[a].spec)}return this.children.length?EVe(this.children,o||[],t,n,r,i,s):o?new hn(o.sort(Qu),kh):Tr}add(t,n){return n.length?this==Tr?hn.create(t,n):this.addInner(t,n,0):this}addInner(t,n,r){let i,s=0;t.forEach((a,l)=>{let c=l+r,d;if(d=FX(n,a,c)){for(i||(i=this.children.slice());s<i.length&&i[s]<l;)s+=3;i[s]==l?i[s+2]=i[s+2].addInner(a,d,c+1):i.splice(s,0,l,l+a.nodeSize,mC(d,a,c+1,Yu)),s+=3}});let o=OX(s?IX(n):n,-r);for(let a=0;a<o.length;a++)o[a].type.valid(t,o[a])||o.splice(a--,1);return new hn(o.length?this.local.concat(o).sort(Qu):this.local,i||this.children)}remove(t){return t.length==0||this==Tr?this:this.removeInner(t,0)}removeInner(t,n){let r=this.children,i=this.local;for(let s=0;s<r.length;s+=3){let o,a=r[s]+n,l=r[s+1]+n;for(let d=0,f;d<t.length;d++)(f=t[d])&&f.from>a&&f.to<l&&(t[d]=null,(o||(o=[])).push(f));if(!o)continue;r==this.children&&(r=this.children.slice());let c=r[s+2].removeInner(o,a+1);c!=Tr?r[s+2]=c:(r.splice(s,3),s-=3)}if(i.length){for(let s=0,o;s<t.length;s++)if(o=t[s])for(let a=0;a<i.length;a++)i[a].eq(o,n)&&(i==this.local&&(i=this.local.slice()),i.splice(a--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new hn(i,r):Tr}forChild(t,n){if(this==Tr)return this;if(n.isLeaf)return hn.empty;let r,i;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=t){this.children[a]==t&&(r=this.children[a+2]);break}let s=t+1,o=s+n.content.size;for(let a=0;a<this.local.length;a++){let l=this.local[a];if(l.from<o&&l.to>s&&l.type instanceof Sc){let c=Math.max(s,l.from)-s,d=Math.min(o,l.to)-s;c<d&&(i||(i=[])).push(l.copy(c,d))}}if(i){let a=new hn(i.sort(Qu),kh);return r?new cc([a,r]):a}return r||Tr}eq(t){if(this==t)return!0;if(!(t instanceof hn)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(t.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=t.children[n]||this.children[n+1]!=t.children[n+1]||!this.children[n+2].eq(t.children[n+2]))return!1;return!0}locals(t){return vO(this.localsInner(t))}localsInner(t){if(this==Tr)return kh;if(t.inlineContent||!this.local.some(Sc.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof Sc||n.push(this.local[r]);return n}forEachSet(t){t(this)}}hn.empty=new hn([],[]);hn.removeOverlap=vO;const Tr=hn.empty;class cc{constructor(t){this.members=t}map(t,n){const r=this.members.map(i=>i.map(t,n,Yu));return cc.from(r)}forChild(t,n){if(n.isLeaf)return hn.empty;let r=[];for(let i=0;i<this.members.length;i++){let s=this.members[i].forChild(t,n);s!=Tr&&(s instanceof cc?r=r.concat(s.members):r.push(s))}return cc.from(r)}eq(t){if(!(t instanceof cc)||t.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(t.members[n]))return!1;return!0}locals(t){let n,r=!0;for(let i=0;i<this.members.length;i++){let s=this.members[i].localsInner(t);if(s.length)if(!n)n=s;else{r&&(n=n.slice(),r=!1);for(let o=0;o<s.length;o++)n.push(s[o])}}return n?vO(r?n:n.sort(Qu)):kh}static from(t){switch(t.length){case 0:return Tr;case 1:return t[0];default:return new cc(t.every(n=>n instanceof hn)?t:t.reduce((n,r)=>n.concat(r instanceof hn?r:r.members),[]))}}forEachSet(t){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(t)}}function EVe(e,t,n,r,i,s,o){let a=e.slice();for(let c=0,d=s;c<n.maps.length;c++){let f=0;n.maps[c].forEach((p,v,y,b)=>{let x=b-y-(v-p);for(let S=0;S<a.length;S+=3){let M=a[S+1];if(M<0||p>M+d-f)continue;let R=a[S]+d-f;v>=R?a[S+1]=p<=R?-2:-1:p>=d&&x&&(a[S]+=x,a[S+1]+=x)}f+=x}),d=n.maps[c].map(d,-1)}let l=!1;for(let c=0;c<a.length;c+=3)if(a[c+1]<0){if(a[c+1]==-2){l=!0,a[c+1]=-1;continue}let d=n.map(e[c]+s),f=d-i;if(f<0||f>=r.content.size){l=!0;continue}let p=n.map(e[c+1]+s,-1),v=p-i,{index:y,offset:b}=r.content.findIndex(f),x=r.maybeChild(y);if(x&&b==f&&b+x.nodeSize==v){let S=a[c+2].mapInner(n,x,d+1,e[c]+s+1,o);S!=Tr?(a[c]=f,a[c+1]=v,a[c+2]=S):(a[c+1]=-2,l=!0)}else l=!0}if(l){let c=DVe(a,e,t,n,i,s,o),d=mC(c,r,0,o);t=d.local;for(let f=0;f<a.length;f+=3)a[f+1]<0&&(a.splice(f,3),f-=3);for(let f=0,p=0;f<d.children.length;f+=3){let v=d.children[f];for(;p<a.length&&a[p]<v;)p+=3;a.splice(p,0,d.children[f],d.children[f+1],d.children[f+2])}}return new hn(t.sort(Qu),a)}function OX(e,t){if(!t||!e.length)return e;let n=[];for(let r=0;r<e.length;r++){let i=e[r];n.push(new Yr(i.from+t,i.to+t,i.type))}return n}function DVe(e,t,n,r,i,s,o){function a(l,c){for(let d=0;d<l.local.length;d++){let f=l.local[d].map(r,i,c);f?n.push(f):o.onRemove&&o.onRemove(l.local[d].spec)}for(let d=0;d<l.children.length;d+=3)a(l.children[d+2],l.children[d]+c+1)}for(let l=0;l<e.length;l+=3)e[l+1]==-1&&a(e[l+2],t[l]+s+1);return n}function FX(e,t,n){if(t.isLeaf)return null;let r=n+t.nodeSize,i=null;for(let s=0,o;s<e.length;s++)(o=e[s])&&o.from>n&&o.to<r&&((i||(i=[])).push(o),e[s]=null);return i}function IX(e){let t=[];for(let n=0;n<e.length;n++)e[n]!=null&&t.push(e[n]);return t}function mC(e,t,n,r){let i=[],s=!1;t.forEach((a,l)=>{let c=FX(e,a,l+n);if(c){s=!0;let d=mC(c,a,n+l+1,r);d!=Tr&&i.push(l,l+a.nodeSize,d)}});let o=OX(s?IX(e):e,-n).sort(Qu);for(let a=0;a<o.length;a++)o[a].type.valid(t,o[a])||(r.onRemove&&r.onRemove(o[a].spec),o.splice(a--,1));return o.length||i.length?new hn(o,i):Tr}function Qu(e,t){return e.from-t.from||e.to-t.to}function vO(e){let t=e;for(let n=0;n<t.length-1;n++){let r=t[n];if(r.from!=r.to)for(let i=n+1;i<t.length;i++){let s=t[i];if(s.from==r.from){s.to!=r.to&&(t==e&&(t=e.slice()),t[i]=s.copy(s.from,r.to),t8(t,i+1,s.copy(r.to,s.to)));continue}else{s.from<r.to&&(t==e&&(t=e.slice()),t[n]=r.copy(r.from,s.from),t8(t,i,r.copy(s.from,r.to)));break}}}return t}function t8(e,t,n){for(;t<e.length&&Qu(n,e[t])>0;)t++;e.splice(t,0,n)}function QM(e){let t=[];return e.someProp("decorations",n=>{let r=n(e.state);r&&r!=Tr&&t.push(r)}),e.cursorWrapper&&t.push(hn.create(e.state.doc,[e.cursorWrapper.deco])),cc.from(t)}const RVe={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},MVe=bi&&Cc<=11;class TVe{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset}}class kVe{constructor(t,n){this.view=t,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new TVe,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);bi&&Cc<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),MVe&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,RVe)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let t=this.observer.takeRecords();if(t.length){for(let n=0;n<t.length;n++)this.queue.push(t[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(qz(this.view)){if(this.suppressingSelectionUpdates)return Ua(this.view);if(bi&&Cc<=11&&!this.view.state.selection.empty){let t=this.view.domSelectionRange();if(t.focusNode&&hd(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(t){if(!t.focusNode)return!0;let n=new Set,r;for(let s=t.focusNode;s;s=Af(s))n.add(s);for(let s=t.anchorNode;s;s=Af(s))if(n.has(s)){r=s;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let t of this.observer.takeRecords())this.queue.push(t);return this.queue}flush(){let{view:t}=this;if(!t.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=t.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&qz(t)&&!this.ignoreSelectionChange(r),s=-1,o=-1,a=!1,l=[];if(t.editable)for(let d=0;d<n.length;d++){let f=this.registerMutation(n[d],l);f&&(s=s<0?f.from:Math.min(f.from,s),o=o<0?f.to:Math.max(f.to,o),f.typeOver&&(a=!0))}if(Ms&&l.length){let d=l.filter(f=>f.nodeName=="BR");if(d.length==2){let[f,p]=d;f.parentNode&&f.parentNode.parentNode==p.parentNode?p.remove():f.remove()}else{let{focusNode:f}=this.currentSelection;for(let p of d){let v=p.parentNode;v&&v.nodeName=="LI"&&(!f||NVe(t,f)!=v)&&p.remove()}}}let c=null;s<0&&i&&t.input.lastFocus>Date.now()-200&&Math.max(t.input.lastTouch,t.input.lastClick.time)<Date.now()-300&&SS(r)&&(c=uO(t))&&c.eq(nt.near(t.state.doc.resolve(0),1))?(t.input.lastFocus=0,Ua(t),this.currentSelection.set(r),t.scrollToSelection()):(s>-1||i)&&(s>-1&&(t.docView.markDirty(s,o),AVe(t)),this.handleDOMChange(s,o,a,l),t.docView&&t.docView.dirty?t.updateState(t.state):this.currentSelection.eq(r)||Ua(t),this.currentSelection.set(r))}registerMutation(t,n){if(n.indexOf(t.target)>-1)return null;let r=this.view.docView.nearestDesc(t.target);if(t.type=="attributes"&&(r==this.view.docView||t.attributeName=="contenteditable"||t.attributeName=="style"&&!t.oldValue&&!t.target.getAttribute("style"))||!r||r.ignoreMutation(t))return null;if(t.type=="childList"){for(let d=0;d<t.addedNodes.length;d++){let f=t.addedNodes[d];n.push(f),f.nodeType==3&&(this.lastChangedTextNode=f)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(t.target))return{from:r.posBefore,to:r.posAfter};let i=t.previousSibling,s=t.nextSibling;if(bi&&Cc<=11&&t.addedNodes.length)for(let d=0;d<t.addedNodes.length;d++){let{previousSibling:f,nextSibling:p}=t.addedNodes[d];(!f||Array.prototype.indexOf.call(t.addedNodes,f)<0)&&(i=f),(!p||Array.prototype.indexOf.call(t.addedNodes,p)<0)&&(s=p)}let o=i&&i.parentNode==t.target?vr(i)+1:0,a=r.localPosFromDOM(t.target,o,-1),l=s&&s.parentNode==t.target?vr(s):t.target.childNodes.length,c=r.localPosFromDOM(t.target,l,1);return{from:a,to:c}}else return t.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=t.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:t.target.nodeValue==t.oldValue})}}let n8=new WeakMap,r8=!1;function AVe(e){if(!n8.has(e)&&(n8.set(e,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(e.dom).whiteSpace)!==-1)){if(e.requiresGeckoHackNode=Ms,r8)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),r8=!0}}function i8(e,t){let n=t.startContainer,r=t.startOffset,i=t.endContainer,s=t.endOffset,o=e.domAtPos(e.state.selection.anchor);return hd(o.node,o.offset,i,s)&&([n,r,i,s]=[i,s,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:s}}function PVe(e,t){if(t.getComposedRanges){let i=t.getComposedRanges(e.root)[0];if(i)return i8(e,i)}let n;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return e.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),e.dom.removeEventListener("beforeinput",r,!0),n?i8(e,n):null}function NVe(e,t){for(let n=t.parentNode;n&&n!=e.dom;n=n.parentNode){let r=e.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function OVe(e,t,n){let{node:r,fromOffset:i,toOffset:s,from:o,to:a}=e.docView.parseRange(t,n),l=e.domSelectionRange(),c,d=l.anchorNode;if(d&&e.dom.contains(d.nodeType==1?d:d.parentNode)&&(c=[{node:d,offset:l.anchorOffset}],SS(l)||c.push({node:l.focusNode,offset:l.focusOffset})),Or&&e.input.lastKeyCode===8)for(let x=s;x>i;x--){let S=r.childNodes[x-1],M=S.pmViewDesc;if(S.nodeName=="BR"&&!M){s=x;break}if(!M||M.size)break}let f=e.state.doc,p=e.someProp("domParser")||bc.fromSchema(e.state.schema),v=f.resolve(o),y=null,b=p.parse(r,{topNode:v.parent,topMatch:v.parent.contentMatchAt(v.index()),topOpen:!0,from:i,to:s,preserveWhitespace:v.parent.type.whitespace=="pre"?"full":!0,findPositions:c,ruleFromNode:FVe,context:v});if(c&&c[0].pos!=null){let x=c[0].pos,S=c[1]&&c[1].pos;S==null&&(S=x),y={anchor:x+o,head:S+o}}return{doc:b,sel:y,from:o,to:a}}function FVe(e){let t=e.pmViewDesc;if(t)return t.parseRule();if(e.nodeName=="BR"&&e.parentNode){if(Jr&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(e.parentNode.lastChild==e||Jr&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if(e.nodeName=="IMG"&&e.getAttribute("mark-placeholder"))return{ignore:!0};return null}const IVe=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function LVe(e,t,n,r,i){let s=e.input.compositionPendingChanges||(e.composing?e.input.compositionID:0);if(e.input.compositionPendingChanges=0,t<0){let A=e.input.lastSelectionTime>Date.now()-50?e.input.lastSelectionOrigin:null,O=uO(e,A);if(O&&!e.state.selection.eq(O)){if(Or&&Na&&e.input.lastKeyCode===13&&Date.now()-100<e.input.lastKeyCodeTime&&e.someProp("handleKeyDown",U=>U(e,bu(13,"Enter"))))return;let B=e.state.tr.setSelection(O);A=="pointer"?B.setMeta("pointer",!0):A=="key"&&B.scrollIntoView(),s&&B.setMeta("composition",s),e.dispatch(B)}return}let o=e.state.doc.resolve(t),a=o.sharedDepth(n);t=o.before(a+1),n=e.state.doc.resolve(n).after(a+1);let l=e.state.selection,c=OVe(e,t,n),d=e.state.doc,f=d.slice(c.from,c.to),p,v;e.input.lastKeyCode===8&&Date.now()-100<e.input.lastKeyCodeTime?(p=e.state.selection.to,v="end"):(p=e.state.selection.from,v="start"),e.input.lastKeyCode=null;let y=BVe(f.content,c.doc.content,c.from,p,v);if(y&&e.input.domChangeCount++,(Pf&&e.input.lastIOSEnter>Date.now()-225||Na)&&i.some(A=>A.nodeType==1&&!IVe.test(A.nodeName))&&(!y||y.endA>=y.endB)&&e.someProp("handleKeyDown",A=>A(e,bu(13,"Enter")))){e.input.lastIOSEnter=0;return}if(!y)if(r&&l instanceof Ke&&!l.empty&&l.$head.sameParent(l.$anchor)&&!e.composing&&!(c.sel&&c.sel.anchor!=c.sel.head))y={start:l.from,endA:l.to,endB:l.to};else{if(c.sel){let A=s8(e,e.state.doc,c.sel);if(A&&!A.eq(e.state.selection)){let O=e.state.tr.setSelection(A);s&&O.setMeta("composition",s),e.dispatch(O)}}return}e.state.selection.from<e.state.selection.to&&y.start==y.endB&&e.state.selection instanceof Ke&&(y.start>e.state.selection.from&&y.start<=e.state.selection.from+2&&e.state.selection.from>=c.from?y.start=e.state.selection.from:y.endA<e.state.selection.to&&y.endA>=e.state.selection.to-2&&e.state.selection.to<=c.to&&(y.endB+=e.state.selection.to-y.endA,y.endA=e.state.selection.to)),bi&&Cc<=11&&y.endB==y.start+1&&y.endA==y.start&&y.start>c.from&&c.doc.textBetween(y.start-c.from-1,y.start-c.from+1)==" "&&(y.start--,y.endA--,y.endB--);let b=c.doc.resolveNoCache(y.start-c.from),x=c.doc.resolveNoCache(y.endB-c.from),S=d.resolve(y.start),M=b.sameParent(x)&&b.parent.inlineContent&&S.end()>=y.endA;if((Pf&&e.input.lastIOSEnter>Date.now()-225&&(!M||i.some(A=>A.nodeName=="DIV"||A.nodeName=="P"))||!M&&b.pos<c.doc.content.size&&(!b.sameParent(x)||!b.parent.inlineContent)&&b.pos<x.pos&&!/\S/.test(c.doc.textBetween(b.pos,x.pos,"","")))&&e.someProp("handleKeyDown",A=>A(e,bu(13,"Enter")))){e.input.lastIOSEnter=0;return}if(e.state.selection.anchor>y.start&&jVe(d,y.start,y.endA,b,x)&&e.someProp("handleKeyDown",A=>A(e,bu(8,"Backspace")))){Na&&Or&&e.domObserver.suppressSelectionUpdates();return}Or&&y.endB==y.start&&(e.input.lastChromeDelete=Date.now()),Na&&!M&&b.start()!=x.start()&&x.parentOffset==0&&b.depth==x.depth&&c.sel&&c.sel.anchor==c.sel.head&&c.sel.head==y.endA&&(y.endB-=2,x=c.doc.resolveNoCache(y.endB-c.from),setTimeout(()=>{e.someProp("handleKeyDown",function(A){return A(e,bu(13,"Enter"))})},20));let R=y.start,T=y.endA,k=A=>{let O=A||e.state.tr.replace(R,T,c.doc.slice(y.start-c.from,y.endB-c.from));if(c.sel){let B=s8(e,O.doc,c.sel);B&&!(Or&&e.composing&&B.empty&&(y.start!=y.endB||e.input.lastChromeDelete<Date.now()-100)&&(B.head==R||B.head==O.mapping.map(T)-1)||bi&&B.empty&&B.head==R)&&O.setSelection(B)}return s&&O.setMeta("composition",s),O.scrollIntoView()},P;if(M)if(b.pos==x.pos){bi&&Cc<=11&&b.parentOffset==0&&(e.domObserver.suppressSelectionUpdates(),setTimeout(()=>Ua(e),20));let A=k(e.state.tr.delete(R,T)),O=d.resolve(y.start).marksAcross(d.resolve(y.endA));O&&A.ensureMarks(O),e.dispatch(A)}else if(y.endA==y.endB&&(P=_Ve(b.parent.content.cut(b.parentOffset,x.parentOffset),S.parent.content.cut(S.parentOffset,y.endA-S.start())))){let A=k(e.state.tr);P.type=="add"?A.addMark(R,T,P.mark):A.removeMark(R,T,P.mark),e.dispatch(A)}else if(b.parent.child(b.index()).isText&&b.index()==x.index()-(x.textOffset?0:1)){let A=b.parent.textBetween(b.parentOffset,x.parentOffset),O=()=>k(e.state.tr.insertText(A,R,T));e.someProp("handleTextInput",B=>B(e,R,T,A,O))||e.dispatch(O())}else e.dispatch(k());else e.dispatch(k())}function s8(e,t,n){return Math.max(n.anchor,n.head)>t.content.size?null:dO(e,t.resolve(n.anchor),t.resolve(n.head))}function _Ve(e,t){let n=e.firstChild.marks,r=t.firstChild.marks,i=n,s=r,o,a,l;for(let d=0;d<r.length;d++)i=r[d].removeFromSet(i);for(let d=0;d<n.length;d++)s=n[d].removeFromSet(s);if(i.length==1&&s.length==0)a=i[0],o="add",l=d=>d.mark(a.addToSet(d.marks));else if(i.length==0&&s.length==1)a=s[0],o="remove",l=d=>d.mark(a.removeFromSet(d.marks));else return null;let c=[];for(let d=0;d<t.childCount;d++)c.push(l(t.child(d)));if(xe.from(c).eq(e))return{mark:a,type:o}}function jVe(e,t,n,r,i){if(n-t<=i.pos-r.pos||XM(r,!0,!1)<i.pos)return!1;let s=e.resolve(t);if(!r.parent.isTextblock){let a=s.nodeAfter;return a!=null&&n==t+a.nodeSize}if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let o=e.resolve(XM(s,!0,!0));return!o.parent.isTextblock||o.pos>n||XM(o,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(o.parent.content)}function XM(e,t,n){let r=e.depth,i=t?e.end():e.pos;for(;r>0&&(t||e.indexAfter(r)==e.node(r).childCount);)r--,i++,t=!1;if(n){let s=e.node(r).maybeChild(e.indexAfter(r));for(;s&&!s.isLeaf;)s=s.firstChild,i++}return i}function BVe(e,t,n,r,i){let s=e.findDiffStart(t,n);if(s==null)return null;let{a:o,b:a}=e.findDiffEnd(t,n+e.size,n+t.size);if(i=="end"){let l=Math.max(0,s-Math.min(o,a));r-=o+l-s}if(o<s&&e.size<t.size){let l=r<=s&&r>=o?s-r:0;s-=l,s&&s<t.size&&o8(t.textBetween(s-1,s+1))&&(s+=l?1:-1),a=s+(a-o),o=s}else if(a<s){let l=r<=s&&r>=a?s-r:0;s-=l,s&&s<e.size&&o8(e.textBetween(s-1,s+1))&&(s+=l?1:-1),o=s+(o-a),a=s}return{start:s,endA:o,endB:a}}function o8(e){if(e.length!=2)return!1;let t=e.charCodeAt(0),n=e.charCodeAt(1);return t>=56320&&t<=57343&&n>=55296&&n<=56319}class LX{constructor(t,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new iVe,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(d8),this.dispatch=this.dispatch.bind(this),this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):typeof t=="function"?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=c8(this),l8(this),this.nodeViews=u8(this),this.docView=zz(this.state.doc,a8(this),QM(this),this.dom,this),this.domObserver=new kVe(this,(r,i,s,o)=>LVe(this,r,i,s,o)),this.domObserver.start(),sVe(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let t=this._props;this._props={};for(let n in t)this._props[n]=t[n];this._props.state=this.state}return this._props}update(t){t.handleDOMEvents!=this._props.handleDOMEvents&&Mk(this);let n=this._props;this._props=t,t.plugins&&(t.plugins.forEach(d8),this.directPlugins=t.plugins),this.updateStateInner(t.state,n)}setProps(t){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in t)n[r]=t[r];this.update(n)}updateState(t){this.updateStateInner(t,this._props)}updateStateInner(t,n){var r;let i=this.state,s=!1,o=!1;t.storedMarks&&this.composing&&(kX(this),o=!0),this.state=t;let a=i.plugins!=t.plugins||this._props.plugins!=n.plugins;if(a||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let v=u8(this);zVe(v,this.nodeViews)&&(this.nodeViews=v,s=!0)}(a||n.handleDOMEvents!=this._props.handleDOMEvents)&&Mk(this),this.editable=c8(this),l8(this);let l=QM(this),c=a8(this),d=i.plugins!=t.plugins&&!i.doc.eq(t.doc)?"reset":t.scrollToSelection>i.scrollToSelection?"to selection":"preserve",f=s||!this.docView.matchesNode(t.doc,c,l);(f||!t.selection.eq(i.selection))&&(o=!0);let p=d=="preserve"&&o&&this.dom.style.overflowAnchor==null&&wGe(this);if(o){this.domObserver.stop();let v=f&&(bi||Or)&&!this.composing&&!i.selection.empty&&!t.selection.empty&&HVe(i.selection,t.selection);if(f){let y=Or?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=yVe(this)),(s||!this.docView.update(t.doc,c,l,this))&&(this.docView.updateOuterDeco(c),this.docView.destroy(),this.docView=zz(t.doc,c,l,this.dom,this)),y&&!this.trackWrites&&(v=!0)}v||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&VGe(this))?Ua(this,v):(vX(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(t.doc)&&this.updateDraggedNode(this.dragging,i),d=="reset"?this.dom.scrollTop=0:d=="to selection"?this.scrollToSelection():p&&bGe(p)}scrollToSelection(){let t=this.domSelectionRange().focusNode;if(!(!t||!this.dom.contains(t.nodeType==1?t:t.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof ze){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&Iz(this,n.getBoundingClientRect(),t)}else Iz(this,this.coordsAtPos(this.state.selection.head,1),t)}}destroyPluginViews(){let t;for(;t=this.pluginViews.pop();)t.destroy&&t.destroy()}updatePluginViews(t){if(!t||t.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,t)}}updateDraggedNode(t,n){let r=t.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let s=r.from+(this.state.doc.content.size-n.doc.content.size);(s>0&&this.state.doc.nodeAt(s))==r.node&&(i=s)}this.dragging=new PX(t.slice,t.move,i<0?void 0:ze.create(this.state.doc,i))}someProp(t,n){let r=this._props&&this._props[t],i;if(r!=null&&(i=n?n(r):r))return i;for(let o=0;o<this.directPlugins.length;o++){let a=this.directPlugins[o].props[t];if(a!=null&&(i=n?n(a):a))return i}let s=this.state.plugins;if(s)for(let o=0;o<s.length;o++){let a=s[o].props[t];if(a!=null&&(i=n?n(a):a))return i}}hasFocus(){if(bi){let t=this.root.activeElement;if(t==this.dom)return!0;if(!t||!this.dom.contains(t))return!1;for(;t&&this.dom!=t&&this.dom.contains(t);){if(t.contentEditable=="false")return!1;t=t.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&CGe(this.dom),Ua(this),this.domObserver.start()}get root(){let t=this._root;if(t==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return t||document}updateRoot(){this._root=null}posAtCoords(t){return RGe(this,t)}coordsAtPos(t,n=1){return cX(this,t,n)}domAtPos(t,n=0){return this.docView.domFromPos(t,n)}nodeDOM(t){let n=this.docView.descAt(t);return n?n.nodeDOM:null}posAtDOM(t,n,r=-1){let i=this.docView.posFromDOM(t,n,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(t,n){return PGe(this,n||this.state,t)}pasteHTML(t,n){return Fm(this,"",t,!1,n||new ClipboardEvent("paste"))}pasteText(t,n){return Fm(this,t,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(t){return hO(this,t)}destroy(){this.docView&&(oVe(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],QM(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,lGe())}get isDestroyed(){return this.docView==null}dispatchEvent(t){return lVe(this,t)}domSelectionRange(){let t=this.domSelection();return t?Jr&&this.root.nodeType===11&&fGe(this.dom.ownerDocument)==this.dom&&PVe(this,t)||t:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}LX.prototype.dispatch=function(e){let t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))};function a8(e){let t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),e.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(e.state)),n)for(let r in n)r=="class"?t.class+=" "+n[r]:r=="style"?t.style=(t.style?t.style+";":"")+n[r]:!t[r]&&r!="contenteditable"&&r!="nodeName"&&(t[r]=String(n[r]))}),t.translate||(t.translate="no"),[Yr.node(0,e.state.doc.content.size,t)]}function l8(e){if(e.markCursor){let t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),e.cursorWrapper={dom:t,deco:Yr.widget(e.state.selection.from,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function c8(e){return!e.someProp("editable",t=>t(e.state)===!1)}function HVe(e,t){let n=Math.min(e.$anchor.sharedDepth(e.head),t.$anchor.sharedDepth(t.head));return e.$anchor.start(n)!=t.$anchor.start(n)}function u8(e){let t=Object.create(null);function n(r){for(let i in r)Object.prototype.hasOwnProperty.call(t,i)||(t[i]=r[i])}return e.someProp("nodeViews",n),e.someProp("markViews",n),t}function zVe(e,t){let n=0,r=0;for(let i in e){if(e[i]!=t[i])return!0;n++}for(let i in t)r++;return n!=r}function d8(e){if(e.spec.state||e.spec.filterTransaction||e.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Nc={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},vC={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},GVe=typeof navigator<"u"&&/Mac/.test(navigator.platform),VVe=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var yr=0;yr<10;yr++)Nc[48+yr]=Nc[96+yr]=String(yr);for(var yr=1;yr<=24;yr++)Nc[yr+111]="F"+yr;for(var yr=65;yr<=90;yr++)Nc[yr]=String.fromCharCode(yr+32),vC[yr]=String.fromCharCode(yr);for(var JM in Nc)vC.hasOwnProperty(JM)||(vC[JM]=Nc[JM]);function WVe(e){var t=GVe&&e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey||VVe&&e.shiftKey&&e.key&&e.key.length==1||e.key=="Unidentified",n=!t&&e.key||(e.shiftKey?vC:Nc)[e.keyCode]||e.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const UVe=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),$Ve=typeof navigator<"u"&&/Win/.test(navigator.platform);function qVe(e){let t=e.split(/-(?!$)/),n=t[t.length-1];n=="Space"&&(n=" ");let r,i,s,o;for(let a=0;a<t.length-1;a++){let l=t[a];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))s=!0;else if(/^mod$/i.test(l))UVe?o=!0:i=!0;else throw new Error("Unrecognized modifier name: "+l)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),o&&(n="Meta-"+n),s&&(n="Shift-"+n),n}function KVe(e){let t=Object.create(null);for(let n in e)t[qVe(n)]=e[n];return t}function ZM(e,t,n=!0){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),n&&t.shiftKey&&(e="Shift-"+e),e}function YVe(e){return new mn({props:{handleKeyDown:_X(e)}})}function _X(e){let t=KVe(e);return function(n,r){let i=WVe(r),s,o=t[ZM(i,r)];if(o&&o(n.state,n.dispatch,n))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let a=t[ZM(i,r,!1)];if(a&&a(n.state,n.dispatch,n))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!($Ve&&r.ctrlKey&&r.altKey)&&(s=Nc[r.keyCode])&&s!=i){let a=t[ZM(s,r)];if(a&&a(n.state,n.dispatch,n))return!0}}return!1}}var QVe=Object.defineProperty,yO=(e,t)=>{for(var n in t)QVe(e,n,{get:t[n],enumerable:!0})};function RS(e){const{state:t,transaction:n}=e;let{selection:r}=n,{doc:i}=n,{storedMarks:s}=n;return{...t,apply:t.apply.bind(t),applyTransaction:t.applyTransaction.bind(t),plugins:t.plugins,schema:t.schema,reconfigure:t.reconfigure.bind(t),toJSON:t.toJSON.bind(t),get storedMarks(){return s},get selection(){return r},get doc(){return i},get tr(){return r=n.selection,i=n.doc,s=n.storedMarks,n}}}var MS=class{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:t,state:n}=this,{view:r}=t,{tr:i}=n,s=this.buildProps(i);return Object.fromEntries(Object.entries(e).map(([o,a])=>[o,(...c)=>{const d=a(...c)(s);return!i.getMeta("preventDispatch")&&!this.hasCustomState&&r.dispatch(i),d}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,t=!0){const{rawCommands:n,editor:r,state:i}=this,{view:s}=r,o=[],a=!!e,l=e||i.tr,c=()=>(!a&&t&&!l.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(l),o.every(f=>f===!0)),d={...Object.fromEntries(Object.entries(n).map(([f,p])=>[f,(...y)=>{const b=this.buildProps(l,t),x=p(...y)(b);return o.push(x),d}])),run:c};return d}createCan(e){const{rawCommands:t,state:n}=this,r=!1,i=e||n.tr,s=this.buildProps(i,r);return{...Object.fromEntries(Object.entries(t).map(([a,l])=>[a,(...c)=>l(...c)({...s,dispatch:void 0})])),chain:()=>this.createChain(i,r)}}buildProps(e,t=!0){const{rawCommands:n,editor:r,state:i}=this,{view:s}=r,o={tr:e,editor:r,view:s,state:RS({state:i,transaction:e}),dispatch:t?()=>{}:void 0,chain:()=>this.createChain(e,t),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(n).map(([a,l])=>[a,(...c)=>l(...c)(o)]))}};return o}},jX={};yO(jX,{blur:()=>XVe,clearContent:()=>JVe,clearNodes:()=>ZVe,command:()=>e7e,createParagraphNear:()=>t7e,cut:()=>n7e,deleteCurrentNode:()=>r7e,deleteNode:()=>i7e,deleteRange:()=>s7e,deleteSelection:()=>o7e,enter:()=>a7e,exitCode:()=>l7e,extendMarkRange:()=>c7e,first:()=>u7e,focus:()=>h7e,forEach:()=>f7e,insertContent:()=>p7e,insertContentAt:()=>v7e,joinBackward:()=>b7e,joinDown:()=>w7e,joinForward:()=>C7e,joinItemBackward:()=>x7e,joinItemForward:()=>S7e,joinTextblockBackward:()=>E7e,joinTextblockForward:()=>D7e,joinUp:()=>y7e,keyboardShortcut:()=>M7e,lift:()=>T7e,liftEmptyBlock:()=>k7e,liftListItem:()=>A7e,newlineInCode:()=>P7e,resetAttributes:()=>N7e,scrollIntoView:()=>O7e,selectAll:()=>F7e,selectNodeBackward:()=>I7e,selectNodeForward:()=>L7e,selectParentNode:()=>_7e,selectTextblockEnd:()=>j7e,selectTextblockStart:()=>B7e,setContent:()=>H7e,setMark:()=>iWe,setMeta:()=>sWe,setNode:()=>oWe,setNodeSelection:()=>aWe,setTextDirection:()=>lWe,setTextSelection:()=>cWe,sinkListItem:()=>uWe,splitBlock:()=>dWe,splitListItem:()=>hWe,toggleList:()=>fWe,toggleMark:()=>pWe,toggleNode:()=>gWe,toggleWrap:()=>mWe,undoInputRule:()=>vWe,unsetAllMarks:()=>yWe,unsetMark:()=>wWe,unsetTextDirection:()=>bWe,updateAttributes:()=>CWe,wrapIn:()=>xWe,wrapInList:()=>SWe});var XVe=()=>({editor:e,view:t})=>(requestAnimationFrame(()=>{var n;e.isDestroyed||(t.dom.blur(),(n=window?.getSelection())==null||n.removeAllRanges())}),!0),JVe=(e=!0)=>({commands:t})=>t.setContent("",{emitUpdate:e}),ZVe=()=>({state:e,tr:t,dispatch:n})=>{const{selection:r}=t,{ranges:i}=r;return n&&i.forEach(({$from:s,$to:o})=>{e.doc.nodesBetween(s.pos,o.pos,(a,l)=>{if(a.type.isText)return;const{doc:c,mapping:d}=t,f=c.resolve(d.map(l)),p=c.resolve(d.map(l+a.nodeSize)),v=f.blockRange(p);if(!v)return;const y=tp(v);if(a.type.isTextblock){const{defaultType:b}=f.parent.contentMatchAt(f.index());t.setNodeMarkup(v.start,b)}(y||y===0)&&t.lift(v,y)})}),!0},e7e=e=>t=>e(t),t7e=()=>({state:e,dispatch:t})=>ZQ(e,t),n7e=(e,t)=>({editor:n,tr:r})=>{const{state:i}=n,s=i.doc.slice(e.from,e.to);r.deleteRange(e.from,e.to);const o=r.mapping.map(t);return r.insert(o,s.content),r.setSelection(new Ke(r.doc.resolve(Math.max(o-1,0)))),!0},r7e=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,r=n.$anchor.node();if(r.content.size>0)return!1;const i=e.selection.$anchor;for(let s=i.depth;s>0;s-=1)if(i.node(s).type===r.type){if(t){const a=i.before(s),l=i.after(s);e.delete(a,l).scrollIntoView()}return!0}return!1};function Hn(e,t){if(typeof e=="string"){if(!t.nodes[e])throw Error(`There is no node type named '${e}'. Maybe you forgot to add the extension?`);return t.nodes[e]}return e}var i7e=e=>({tr:t,state:n,dispatch:r})=>{const i=Hn(e,n.schema),s=t.selection.$anchor;for(let o=s.depth;o>0;o-=1)if(s.node(o).type===i){if(r){const l=s.before(o),c=s.after(o);t.delete(l,c).scrollIntoView()}return!0}return!1},s7e=e=>({tr:t,dispatch:n})=>{const{from:r,to:i}=e;return n&&t.delete(r,i),!0},o7e=()=>({state:e,dispatch:t})=>iO(e,t),a7e=()=>({commands:e})=>e.keyboardShortcut("Enter"),l7e=()=>({state:e,dispatch:t})=>q8e(e,t);function wO(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function yC(e,t,n={strict:!0}){const r=Object.keys(t);return r.length?r.every(i=>n.strict?t[i]===e[i]:wO(t[i])?t[i].test(e[i]):t[i]===e[i]):!0}function BX(e,t,n={}){return e.find(r=>r.type===t&&yC(Object.fromEntries(Object.keys(n).map(i=>[i,r.attrs[i]])),n))}function h8(e,t,n={}){return!!BX(e,t,n)}function bO(e,t,n){var r;if(!e||!t)return;let i=e.parent.childAfter(e.parentOffset);if((!i.node||!i.node.marks.some(d=>d.type===t))&&(i=e.parent.childBefore(e.parentOffset)),!i.node||!i.node.marks.some(d=>d.type===t)||(n=n||((r=i.node.marks[0])==null?void 0:r.attrs),!BX([...i.node.marks],t,n)))return;let o=i.index,a=e.start()+i.offset,l=o+1,c=a+i.node.nodeSize;for(;o>0&&h8([...e.parent.child(o-1).marks],t,n);)o-=1,a-=e.parent.child(o).nodeSize;for(;l<e.parent.childCount&&h8([...e.parent.child(l).marks],t,n);)c+=e.parent.child(l).nodeSize,l+=1;return{from:a,to:c}}function Cl(e,t){if(typeof e=="string"){if(!t.marks[e])throw Error(`There is no mark type named '${e}'. Maybe you forgot to add the extension?`);return t.marks[e]}return e}var c7e=(e,t={})=>({tr:n,state:r,dispatch:i})=>{const s=Cl(e,r.schema),{doc:o,selection:a}=n,{$from:l,from:c,to:d}=a;if(i){const f=bO(l,s,t);if(f&&f.from<=c&&f.to>=d){const p=Ke.create(o,f.from,f.to);n.setSelection(p)}}return!0},u7e=e=>t=>{const n=typeof e=="function"?e(t):e;for(let r=0;r<n.length;r+=1)if(n[r](t))return!0;return!1};function HX(e){return e instanceof Ke}function Pu(e=0,t=0,n=0){return Math.min(Math.max(e,t),n)}function zX(e,t=null){if(!t)return null;const n=nt.atStart(e),r=nt.atEnd(e);if(t==="start"||t===!0)return n;if(t==="end")return r;const i=n.from,s=r.to;return t==="all"?Ke.create(e,Pu(0,i,s),Pu(e.content.size,i,s)):Ke.create(e,Pu(t,i,s),Pu(t,i,s))}function d7e(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function CO(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var h7e=(e=null,t={})=>({editor:n,view:r,tr:i,dispatch:s})=>{t={scrollIntoView:!0,...t};const o=()=>{(CO()||d7e())&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),t?.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&e===null||e===!1)return!0;if(s&&e===null&&!HX(n.state.selection))return o(),!0;const a=zX(i.doc,e)||n.state.selection,l=n.state.selection.eq(a);return s&&(l||i.setSelection(a),l&&i.storedMarks&&i.setStoredMarks(i.storedMarks),o()),!0},f7e=(e,t)=>n=>e.every((r,i)=>t(r,{...n,index:i})),p7e=(e,t)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},e,t),GX=e=>{const t=e.childNodes;for(let n=t.length-1;n>=0;n-=1){const r=t[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?e.removeChild(r):r.nodeType===1&&GX(r)}return e};function _0(e){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const t=`<body>${e}</body>`,n=new window.DOMParser().parseFromString(t,"text/html").body;return GX(n)}function Lm(e,t,n){if(e instanceof wc||e instanceof xe)return e;n={slice:!0,parseOptions:{},...n};const r=typeof e=="object"&&e!==null,i=typeof e=="string";if(r)try{if(Array.isArray(e)&&e.length>0)return xe.fromArray(e.map(a=>t.nodeFromJSON(a)));const o=t.nodeFromJSON(e);return n.errorOnInvalidContent&&o.check(),o}catch(s){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:s});return console.warn("[tiptap warn]: Invalid content.","Passed value:",e,"Error:",s),Lm("",t,n)}if(i){if(n.errorOnInvalidContent){let o=!1,a="";const l=new RQ({topNode:t.spec.topNode,marks:t.spec.marks,nodes:t.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:c=>(o=!0,a=typeof c=="string"?c:c.outerHTML,null)}]}})});if(n.slice?bc.fromSchema(l).parseSlice(_0(e),n.parseOptions):bc.fromSchema(l).parse(_0(e),n.parseOptions),n.errorOnInvalidContent&&o)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${a}`)})}const s=bc.fromSchema(t);return n.slice?s.parseSlice(_0(e),n.parseOptions).content:s.parse(_0(e),n.parseOptions)}return Lm("",t,n)}function g7e(e,t,n){const r=e.steps.length-1;if(r<t)return;const i=e.steps[r];if(!(i instanceof nr||i instanceof rr))return;const s=e.mapping.maps[r];let o=0;s.forEach((a,l,c,d)=>{o===0&&(o=d)}),e.setSelection(nt.near(e.doc.resolve(o),n))}var m7e=e=>!("type"in e),v7e=(e,t,n)=>({tr:r,dispatch:i,editor:s})=>{var o;if(i){n={parseOptions:s.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let a;const l=x=>{s.emit("contentError",{editor:s,error:x,disableCollaboration:()=>{"collaboration"in s.storage&&typeof s.storage.collaboration=="object"&&s.storage.collaboration&&(s.storage.collaboration.isDisabled=!0)}})},c={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!s.options.enableContentCheck&&s.options.emitContentError)try{Lm(t,s.schema,{parseOptions:c,errorOnInvalidContent:!0})}catch(x){l(x)}try{a=Lm(t,s.schema,{parseOptions:c,errorOnInvalidContent:(o=n.errorOnInvalidContent)!=null?o:s.options.enableContentCheck})}catch(x){return l(x),!1}let{from:d,to:f}=typeof e=="number"?{from:e,to:e}:{from:e.from,to:e.to},p=!0,v=!0;if((m7e(a)?a:[a]).forEach(x=>{x.check(),p=p?x.isText&&x.marks.length===0:!1,v=v?x.isBlock:!1}),d===f&&v){const{parent:x}=r.doc.resolve(d);x.isTextblock&&!x.type.spec.code&&!x.childCount&&(d-=1,f+=1)}let b;if(p){if(Array.isArray(t))b=t.map(x=>x.text||"").join("");else if(t instanceof xe){let x="";t.forEach(S=>{S.text&&(x+=S.text)}),b=x}else typeof t=="object"&&t&&t.text?b=t.text:b=t;r.insertText(b,d,f)}else{b=a;const x=r.doc.resolve(d),S=x.node(),M=x.parentOffset===0,R=S.isText||S.isTextblock,T=S.content.size>0;M&&R&&T&&(d=Math.max(0,d-1)),r.replaceWith(d,f,b)}n.updateSelection&&g7e(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:d,text:b}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:d,text:b})}return!0},y7e=()=>({state:e,dispatch:t})=>W8e(e,t),w7e=()=>({state:e,dispatch:t})=>U8e(e,t),b7e=()=>({state:e,dispatch:t})=>$Q(e,t),C7e=()=>({state:e,dispatch:t})=>QQ(e,t),x7e=()=>({state:e,dispatch:t,tr:n})=>{try{const r=bS(e.doc,e.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),t&&t(n),!0)}catch{return!1}},S7e=()=>({state:e,dispatch:t,tr:n})=>{try{const r=bS(e.doc,e.selection.$from.pos,1);return r==null?!1:(n.join(r,2),t&&t(n),!0)}catch{return!1}},E7e=()=>({state:e,dispatch:t})=>G8e(e,t),D7e=()=>({state:e,dispatch:t})=>V8e(e,t);function VX(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function R7e(e){const t=e.split(/-(?!$)/);let n=t[t.length-1];n==="Space"&&(n=" ");let r,i,s,o;for(let a=0;a<t.length-1;a+=1){const l=t[a];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))s=!0;else if(/^mod$/i.test(l))CO()||VX()?o=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return r&&(n=`Alt-${n}`),i&&(n=`Ctrl-${n}`),o&&(n=`Meta-${n}`),s&&(n=`Shift-${n}`),n}var M7e=e=>({editor:t,view:n,tr:r,dispatch:i})=>{const s=R7e(e).split(/-(?!$)/),o=s.find(c=>!["Alt","Ctrl","Meta","Shift"].includes(c)),a=new KeyboardEvent("keydown",{key:o==="Space"?" ":o,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),l=t.captureTransaction(()=>{n.someProp("handleKeyDown",c=>c(n,a))});return l?.steps.forEach(c=>{const d=c.map(r.mapping);d&&i&&r.maybeStep(d)}),!0};function Oc(e,t,n={}){const{from:r,to:i,empty:s}=e.selection,o=t?Hn(t,e.schema):null,a=[];e.doc.nodesBetween(r,i,(f,p)=>{if(f.isText)return;const v=Math.max(r,p),y=Math.min(i,p+f.nodeSize);a.push({node:f,from:v,to:y})});const l=i-r,c=a.filter(f=>o?o.name===f.node.type.name:!0).filter(f=>yC(f.node.attrs,n,{strict:!1}));return s?!!c.length:c.reduce((f,p)=>f+p.to-p.from,0)>=l}var T7e=(e,t={})=>({state:n,dispatch:r})=>{const i=Hn(e,n.schema);return Oc(n,i,t)?$8e(n,r):!1},k7e=()=>({state:e,dispatch:t})=>eX(e,t),A7e=e=>({state:t,dispatch:n})=>{const r=Hn(e,t.schema);return iGe(r)(t,n)},P7e=()=>({state:e,dispatch:t})=>JQ(e,t);function TS(e,t){return t.nodes[e]?"node":t.marks[e]?"mark":null}function f8(e,t){const n=typeof t=="string"?[t]:t;return Object.keys(e).reduce((r,i)=>(n.includes(i)||(r[i]=e[i]),r),{})}var N7e=(e,t)=>({tr:n,state:r,dispatch:i})=>{let s=null,o=null;const a=TS(typeof e=="string"?e:e.name,r.schema);if(!a)return!1;a==="node"&&(s=Hn(e,r.schema)),a==="mark"&&(o=Cl(e,r.schema));let l=!1;return n.selection.ranges.forEach(c=>{r.doc.nodesBetween(c.$from.pos,c.$to.pos,(d,f)=>{s&&s===d.type&&(l=!0,i&&n.setNodeMarkup(f,void 0,f8(d.attrs,t))),o&&d.marks.length&&d.marks.forEach(p=>{o===p.type&&(l=!0,i&&n.addMark(f,f+d.nodeSize,o.create(f8(p.attrs,t))))})})}),l},O7e=()=>({tr:e,dispatch:t})=>(t&&e.scrollIntoView(),!0),F7e=()=>({tr:e,dispatch:t})=>{if(t){const n=new Xi(e.doc);e.setSelection(n)}return!0},I7e=()=>({state:e,dispatch:t})=>KQ(e,t),L7e=()=>({state:e,dispatch:t})=>XQ(e,t),_7e=()=>({state:e,dispatch:t})=>Q8e(e,t),j7e=()=>({state:e,dispatch:t})=>Z8e(e,t),B7e=()=>({state:e,dispatch:t})=>J8e(e,t);function Tk(e,t,n={},r={}){return Lm(e,t,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}var H7e=(e,{errorOnInvalidContent:t,emitUpdate:n=!0,parseOptions:r={}}={})=>({editor:i,tr:s,dispatch:o,commands:a})=>{const{doc:l}=s;if(r.preserveWhitespace!=="full"){const c=Tk(e,i.schema,r,{errorOnInvalidContent:t??i.options.enableContentCheck});return o&&s.replaceWith(0,l.content.size,c).setMeta("preventUpdate",!n),!0}return o&&s.setMeta("preventUpdate",!n),a.insertContentAt({from:0,to:l.content.size},e,{parseOptions:r,errorOnInvalidContent:t??i.options.enableContentCheck})};function WX(e,t){const n=Cl(t,e.schema),{from:r,to:i,empty:s}=e.selection,o=[];s?(e.storedMarks&&o.push(...e.storedMarks),o.push(...e.selection.$head.marks())):e.doc.nodesBetween(r,i,l=>{o.push(...l.marks)});const a=o.find(l=>l.type.name===n.name);return a?{...a.attrs}:{}}function UX(e,t){const n=new GQ(e);return t.forEach(r=>{r.steps.forEach(i=>{n.step(i)})}),n}function z7e(e){for(let t=0;t<e.edgeCount;t+=1){const{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function G7e(e,t,n){const r=[];return e.nodesBetween(t.from,t.to,(i,s)=>{n(i)&&r.push({node:i,pos:s})}),r}function V7e(e,t){for(let n=e.depth;n>0;n-=1){const r=e.node(n);if(t(r))return{pos:n>0?e.before(n):0,start:e.start(n),depth:n,node:r}}}function kS(e){return t=>V7e(t.$from,e)}function He(e,t,n){return e.config[t]===void 0&&e.parent?He(e.parent,t,n):typeof e.config[t]=="function"?e.config[t].bind({...n,parent:e.parent?He(e.parent,t,n):null}):e.config[t]}function xO(e){return e.map(t=>{const n={name:t.name,options:t.options,storage:t.storage},r=He(t,"addExtensions",n);return r?[t,...xO(r())]:t}).flat(10)}function SO(e,t){const n=Rd.fromSchema(t).serializeFragment(e),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(n),i.innerHTML}function $X(e){return typeof e=="function"}function Pt(e,t=void 0,...n){return $X(e)?t?e.bind(t)(...n):e(...n):e}function W7e(e={}){return Object.keys(e).length===0&&e.constructor===Object}function Nf(e){const t=e.filter(i=>i.type==="extension"),n=e.filter(i=>i.type==="node"),r=e.filter(i=>i.type==="mark");return{baseExtensions:t,nodeExtensions:n,markExtensions:r}}function qX(e){const t=[],{nodeExtensions:n,markExtensions:r}=Nf(e),i=[...n,...r],s={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return e.forEach(o=>{const a={name:o.name,options:o.options,storage:o.storage,extensions:i},l=He(o,"addGlobalAttributes",a);if(!l)return;l().forEach(d=>{d.types.forEach(f=>{Object.entries(d.attributes).forEach(([p,v])=>{t.push({type:f,name:p,attribute:{...s,...v}})})})})}),i.forEach(o=>{const a={name:o.name,options:o.options,storage:o.storage},l=He(o,"addAttributes",a);if(!l)return;const c=l();Object.entries(c).forEach(([d,f])=>{const p={...s,...f};typeof p?.default=="function"&&(p.default=p.default()),p?.isRequired&&p?.default===void 0&&delete p.default,t.push({type:o.name,name:d,attribute:p})})}),t}function dn(...e){return e.filter(t=>!!t).reduce((t,n)=>{const r={...t};return Object.entries(n).forEach(([i,s])=>{if(!r[i]){r[i]=s;return}if(i==="class"){const a=s?String(s).split(" "):[],l=r[i]?r[i].split(" "):[],c=a.filter(d=>!l.includes(d));r[i]=[...l,...c].join(" ")}else if(i==="style"){const a=s?s.split(";").map(d=>d.trim()).filter(Boolean):[],l=r[i]?r[i].split(";").map(d=>d.trim()).filter(Boolean):[],c=new Map;l.forEach(d=>{const[f,p]=d.split(":").map(v=>v.trim());c.set(f,p)}),a.forEach(d=>{const[f,p]=d.split(":").map(v=>v.trim());c.set(f,p)}),r[i]=Array.from(c.entries()).map(([d,f])=>`${d}: ${f}`).join("; ")}else r[i]=s}),r},{})}function wC(e,t){return t.filter(n=>n.type===e.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(e.attrs)||{}:{[n.name]:e.attrs[n.name]}).reduce((n,r)=>dn(n,r),{})}function U7e(e){return typeof e!="string"?e:e.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(e):e==="true"?!0:e==="false"?!1:e}function p8(e,t){return"style"in e?e:{...e,getAttrs:n=>{const r=e.getAttrs?e.getAttrs(n):e.attrs;if(r===!1)return!1;const i=t.reduce((s,o)=>{const a=o.attribute.parseHTML?o.attribute.parseHTML(n):U7e(n.getAttribute(o.name));return a==null?s:{...s,[o.name]:a}},{});return{...r,...i}}}}function g8(e){return Object.fromEntries(Object.entries(e).filter(([t,n])=>t==="attrs"&&W7e(n)?!1:n!=null))}function m8(e){var t,n;const r={};return!((t=e?.attribute)!=null&&t.isRequired)&&"default"in(e?.attribute||{})&&(r.default=e.attribute.default),((n=e?.attribute)==null?void 0:n.validate)!==void 0&&(r.validate=e.attribute.validate),[e.name,r]}function $7e(e,t){var n;const r=qX(e),{nodeExtensions:i,markExtensions:s}=Nf(e),o=(n=i.find(c=>He(c,"topNode")))==null?void 0:n.name,a=Object.fromEntries(i.map(c=>{const d=r.filter(S=>S.type===c.name),f={name:c.name,options:c.options,storage:c.storage,editor:t},p=e.reduce((S,M)=>{const R=He(M,"extendNodeSchema",f);return{...S,...R?R(c):{}}},{}),v=g8({...p,content:Pt(He(c,"content",f)),marks:Pt(He(c,"marks",f)),group:Pt(He(c,"group",f)),inline:Pt(He(c,"inline",f)),atom:Pt(He(c,"atom",f)),selectable:Pt(He(c,"selectable",f)),draggable:Pt(He(c,"draggable",f)),code:Pt(He(c,"code",f)),whitespace:Pt(He(c,"whitespace",f)),linebreakReplacement:Pt(He(c,"linebreakReplacement",f)),defining:Pt(He(c,"defining",f)),isolating:Pt(He(c,"isolating",f)),attrs:Object.fromEntries(d.map(m8))}),y=Pt(He(c,"parseHTML",f));y&&(v.parseDOM=y.map(S=>p8(S,d)));const b=He(c,"renderHTML",f);b&&(v.toDOM=S=>b({node:S,HTMLAttributes:wC(S,d)}));const x=He(c,"renderText",f);return x&&(v.toText=x),[c.name,v]})),l=Object.fromEntries(s.map(c=>{const d=r.filter(x=>x.type===c.name),f={name:c.name,options:c.options,storage:c.storage,editor:t},p=e.reduce((x,S)=>{const M=He(S,"extendMarkSchema",f);return{...x,...M?M(c):{}}},{}),v=g8({...p,inclusive:Pt(He(c,"inclusive",f)),excludes:Pt(He(c,"excludes",f)),group:Pt(He(c,"group",f)),spanning:Pt(He(c,"spanning",f)),code:Pt(He(c,"code",f)),attrs:Object.fromEntries(d.map(m8))}),y=Pt(He(c,"parseHTML",f));y&&(v.parseDOM=y.map(x=>p8(x,d)));const b=He(c,"renderHTML",f);return b&&(v.toDOM=x=>b({mark:x,HTMLAttributes:wC(x,d)})),[c.name,v]}));return new RQ({topNode:o,nodes:a,marks:l})}function q7e(e){const t=e.filter((n,r)=>e.indexOf(n)!==r);return Array.from(new Set(t))}function EO(e){return e.sort((n,r)=>{const i=He(n,"priority")||100,s=He(r,"priority")||100;return i>s?-1:i<s?1:0})}function KX(e){const t=EO(xO(e)),n=q7e(t.map(r=>r.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(r=>`'${r}'`).join(", ")}]. This can lead to issues.`),t}function YX(e,t,n){const{from:r,to:i}=t,{blockSeparator:s=`

`,textSerializers:o={}}=n||{};let a="";return e.nodesBetween(r,i,(l,c,d,f)=>{var p;l.isBlock&&c>r&&(a+=s);const v=o?.[l.type.name];if(v)return d&&(a+=v({node:l,pos:c,parent:d,index:f,range:t})),!1;l.isText&&(a+=(p=l?.text)==null?void 0:p.slice(Math.max(r,c)-c,i-c))}),a}function K7e(e,t){const n={from:0,to:e.content.size};return YX(e,n,t)}function QX(e){return Object.fromEntries(Object.entries(e.nodes).filter(([,t])=>t.spec.toText).map(([t,n])=>[t,n.spec.toText]))}function Y7e(e,t){const n=Hn(t,e.schema),{from:r,to:i}=e.selection,s=[];e.doc.nodesBetween(r,i,a=>{s.push(a)});const o=s.reverse().find(a=>a.type.name===n.name);return o?{...o.attrs}:{}}function XX(e,t){const n=TS(typeof t=="string"?t:t.name,e.schema);return n==="node"?Y7e(e,t):n==="mark"?WX(e,t):{}}function Q7e(e,t=JSON.stringify){const n={};return e.filter(r=>{const i=t(r);return Object.prototype.hasOwnProperty.call(n,i)?!1:n[i]=!0})}function X7e(e){const t=Q7e(e);return t.length===1?t:t.filter((n,r)=>!t.filter((s,o)=>o!==r).some(s=>n.oldRange.from>=s.oldRange.from&&n.oldRange.to<=s.oldRange.to&&n.newRange.from>=s.newRange.from&&n.newRange.to<=s.newRange.to))}function JX(e){const{mapping:t,steps:n}=e,r=[];return t.maps.forEach((i,s)=>{const o=[];if(i.ranges.length)i.forEach((a,l)=>{o.push({from:a,to:l})});else{const{from:a,to:l}=n[s];if(a===void 0||l===void 0)return;o.push({from:a,to:l})}o.forEach(({from:a,to:l})=>{const c=t.slice(s).map(a,-1),d=t.slice(s).map(l),f=t.invert().map(c,-1),p=t.invert().map(d);r.push({oldRange:{from:f,to:p},newRange:{from:c,to:d}})})}),X7e(r)}function DO(e,t,n){const r=[];return e===t?n.resolve(e).marks().forEach(i=>{const s=n.resolve(e),o=bO(s,i.type);o&&r.push({mark:i,...o})}):n.nodesBetween(e,t,(i,s)=>{!i||i?.nodeSize===void 0||r.push(...i.marks.map(o=>({from:s,to:s+i.nodeSize,mark:o})))}),r}var J7e=(e,t,n,r=20)=>{const i=e.doc.resolve(n);let s=r,o=null;for(;s>0&&o===null;){const a=i.node(s);a?.type.name===t?o=a:s-=1}return[o,s]};function e2(e,t){return t.nodes[e]||t.marks[e]||null}function xw(e,t,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const i=e.find(s=>s.type===t&&s.name===r);return i?i.attribute.keepOnSplit:!1}))}var Z7e=(e,t=500)=>{let n="";const r=e.parentOffset;return e.parent.nodesBetween(Math.max(0,r-t),r,(i,s,o,a)=>{var l,c;const d=((c=(l=i.type.spec).toText)==null?void 0:c.call(l,{node:i,pos:s,parent:o,index:a}))||i.textContent||"%leaf%";n+=i.isAtom&&!i.isText?d:d.slice(0,Math.max(0,r-s))}),n};function kk(e,t,n={}){const{empty:r,ranges:i}=e.selection,s=t?Cl(t,e.schema):null;if(r)return!!(e.storedMarks||e.selection.$from.marks()).filter(f=>s?s.name===f.type.name:!0).find(f=>yC(f.attrs,n,{strict:!1}));let o=0;const a=[];if(i.forEach(({$from:f,$to:p})=>{const v=f.pos,y=p.pos;e.doc.nodesBetween(v,y,(b,x)=>{if(!b.isText&&!b.marks.length)return;const S=Math.max(v,x),M=Math.min(y,x+b.nodeSize),R=M-S;o+=R,a.push(...b.marks.map(T=>({mark:T,from:S,to:M})))})}),o===0)return!1;const l=a.filter(f=>s?s.name===f.mark.type.name:!0).filter(f=>yC(f.mark.attrs,n,{strict:!1})).reduce((f,p)=>f+p.to-p.from,0),c=a.filter(f=>s?f.mark.type!==s&&f.mark.type.excludes(s):!0).reduce((f,p)=>f+p.to-p.from,0);return(l>0?l+c:l)>=o}function eWe(e,t,n={}){if(!t)return Oc(e,null,n)||kk(e,null,n);const r=TS(t,e.schema);return r==="node"?Oc(e,t,n):r==="mark"?kk(e,t,n):!1}var tWe=(e,t)=>{const{$from:n,$to:r,$anchor:i}=e.selection;if(t){const s=kS(a=>a.type.name===t)(e.selection);if(!s)return!1;const o=e.doc.resolve(s.pos+1);return i.pos+1===o.end()}return!(r.parentOffset<r.parent.nodeSize-2||n.pos!==r.pos)},nWe=e=>{const{$from:t,$to:n}=e.selection;return!(t.parentOffset>0||t.pos!==n.pos)};function v8(e,t){return Array.isArray(t)?t.some(n=>(typeof n=="string"?n:n.name)===e.name):t}function y8(e,t){const{nodeExtensions:n}=Nf(t),r=n.find(o=>o.name===e);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},s=Pt(He(r,"group",i));return typeof s!="string"?!1:s.split(" ").includes("list")}function AS(e,{checkChildren:t=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(e.type.name==="hardBreak")return!0;if(e.isText)return/^\s*$/m.test((r=e.text)!=null?r:"")}if(e.isText)return!e.text;if(e.isAtom||e.isLeaf)return!1;if(e.content.childCount===0)return!0;if(t){let i=!0;return e.content.forEach(s=>{i!==!1&&(AS(s,{ignoreWhitespace:n,checkChildren:t})||(i=!1))}),i}return!1}function ZX(e){return e instanceof ze}function rWe(e,t,n){var r;const{selection:i}=t;let s=null;if(HX(i)&&(s=i.$cursor),s){const a=(r=e.storedMarks)!=null?r:s.marks();return s.parent.type.allowsMarkType(n)&&(!!n.isInSet(a)||!a.some(c=>c.type.excludes(n)))}const{ranges:o}=i;return o.some(({$from:a,$to:l})=>{let c=a.depth===0?e.doc.inlineContent&&e.doc.type.allowsMarkType(n):!1;return e.doc.nodesBetween(a.pos,l.pos,(d,f,p)=>{if(c)return!1;if(d.isInline){const v=!p||p.type.allowsMarkType(n),y=!!n.isInSet(d.marks)||!d.marks.some(b=>b.type.excludes(n));c=v&&y}return!c}),c})}var iWe=(e,t={})=>({tr:n,state:r,dispatch:i})=>{const{selection:s}=n,{empty:o,ranges:a}=s,l=Cl(e,r.schema);if(i)if(o){const c=WX(r,l);n.addStoredMark(l.create({...c,...t}))}else a.forEach(c=>{const d=c.$from.pos,f=c.$to.pos;r.doc.nodesBetween(d,f,(p,v)=>{const y=Math.max(v,d),b=Math.min(v+p.nodeSize,f);p.marks.find(S=>S.type===l)?p.marks.forEach(S=>{l===S.type&&n.addMark(y,b,l.create({...S.attrs,...t}))}):n.addMark(y,b,l.create(t))})});return rWe(r,n,l)},sWe=(e,t)=>({tr:n})=>(n.setMeta(e,t),!0),oWe=(e,t={})=>({state:n,dispatch:r,chain:i})=>{const s=Hn(e,n.schema);let o;return n.selection.$anchor.sameParent(n.selection.$head)&&(o=n.selection.$anchor.parent.attrs),s.isTextblock?i().command(({commands:a})=>Nz(s,{...o,...t})(n)?!0:a.clearNodes()).command(({state:a})=>Nz(s,{...o,...t})(a,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},aWe=e=>({tr:t,dispatch:n})=>{if(n){const{doc:r}=t,i=Pu(e,0,r.content.size),s=ze.create(r,i);t.setSelection(s)}return!0},lWe=(e,t)=>({tr:n,state:r,dispatch:i})=>{const{selection:s}=r;let o,a;return typeof t=="number"?(o=t,a=t):t&&"from"in t&&"to"in t?(o=t.from,a=t.to):(o=s.from,a=s.to),i&&n.doc.nodesBetween(o,a,(l,c)=>{l.isText||n.setNodeMarkup(c,void 0,{...l.attrs,dir:e})}),!0},cWe=e=>({tr:t,dispatch:n})=>{if(n){const{doc:r}=t,{from:i,to:s}=typeof e=="number"?{from:e,to:e}:e,o=Ke.atStart(r).from,a=Ke.atEnd(r).to,l=Pu(i,o,a),c=Pu(s,o,a),d=Ke.create(r,l,c);t.setSelection(d)}return!0},uWe=e=>({state:t,dispatch:n})=>{const r=Hn(e,t.schema);return aGe(r)(t,n)};function w8(e,t){const n=e.storedMarks||e.selection.$to.parentOffset&&e.selection.$from.marks();if(n){const r=n.filter(i=>t?.includes(i.type.name));e.tr.ensureMarks(r)}}var dWe=({keepMarks:e=!0}={})=>({tr:t,state:n,dispatch:r,editor:i})=>{const{selection:s,doc:o}=t,{$from:a,$to:l}=s,c=i.extensionManager.attributes,d=xw(c,a.node().type.name,a.node().attrs);if(s instanceof ze&&s.node.isBlock)return!a.parentOffset||!Wa(o,a.pos)?!1:(r&&(e&&w8(n,i.extensionManager.splittableMarks),t.split(a.pos).scrollIntoView()),!0);if(!a.parent.isBlock)return!1;const f=l.parentOffset===l.parent.content.size,p=a.depth===0?void 0:z7e(a.node(-1).contentMatchAt(a.indexAfter(-1)));let v=f&&p?[{type:p,attrs:d}]:void 0,y=Wa(t.doc,t.mapping.map(a.pos),1,v);if(!v&&!y&&Wa(t.doc,t.mapping.map(a.pos),1,p?[{type:p}]:void 0)&&(y=!0,v=p?[{type:p,attrs:d}]:void 0),r){if(y&&(s instanceof Ke&&t.deleteSelection(),t.split(t.mapping.map(a.pos),1,v),p&&!f&&!a.parentOffset&&a.parent.type!==p)){const b=t.mapping.map(a.before()),x=t.doc.resolve(b);a.node(-1).canReplaceWith(x.index(),x.index()+1,p)&&t.setNodeMarkup(t.mapping.map(a.before()),p)}e&&w8(n,i.extensionManager.splittableMarks),t.scrollIntoView()}return y},hWe=(e,t={})=>({tr:n,state:r,dispatch:i,editor:s})=>{var o;const a=Hn(e,r.schema),{$from:l,$to:c}=r.selection,d=r.selection.node;if(d&&d.isBlock||l.depth<2||!l.sameParent(c))return!1;const f=l.node(-1);if(f.type!==a)return!1;const p=s.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==a||l.index(-2)!==l.node(-2).childCount-1)return!1;if(i){let S=xe.empty;const M=l.index(-1)?1:l.index(-2)?2:3;for(let O=l.depth-M;O>=l.depth-3;O-=1)S=xe.from(l.node(O).copy(S));const R=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,T={...xw(p,l.node().type.name,l.node().attrs),...t},k=((o=a.contentMatch.defaultType)==null?void 0:o.createAndFill(T))||void 0;S=S.append(xe.from(a.createAndFill(null,k)||void 0));const P=l.before(l.depth-(M-1));n.replace(P,l.after(-R),new ke(S,4-M,0));let A=-1;n.doc.nodesBetween(P,n.doc.content.size,(O,B)=>{if(A>-1)return!1;O.isTextblock&&O.content.size===0&&(A=B+1)}),A>-1&&n.setSelection(Ke.near(n.doc.resolve(A))),n.scrollIntoView()}return!0}const v=c.pos===l.end()?f.contentMatchAt(0).defaultType:null,y={...xw(p,f.type.name,f.attrs),...t},b={...xw(p,l.node().type.name,l.node().attrs),...t};n.delete(l.pos,c.pos);const x=v?[{type:a,attrs:y},{type:v,attrs:b}]:[{type:a,attrs:y}];if(!Wa(n.doc,l.pos,2))return!1;if(i){const{selection:S,storedMarks:M}=r,{splittableMarks:R}=s.extensionManager,T=M||S.$to.parentOffset&&S.$from.marks();if(n.split(l.pos,2,x).scrollIntoView(),!T||!i)return!0;const k=T.filter(P=>R.includes(P.type.name));n.ensureMarks(k)}return!0},t2=(e,t)=>{const n=kS(o=>o.type===t)(e.selection);if(!n)return!0;const r=e.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const i=e.doc.nodeAt(r);return n.node.type===i?.type&&Vc(e.doc,n.pos)&&e.join(n.pos),!0},n2=(e,t)=>{const n=kS(o=>o.type===t)(e.selection);if(!n)return!0;const r=e.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const i=e.doc.nodeAt(r);return n.node.type===i?.type&&Vc(e.doc,r)&&e.join(r),!0},fWe=(e,t,n,r={})=>({editor:i,tr:s,state:o,dispatch:a,chain:l,commands:c,can:d})=>{const{extensions:f,splittableMarks:p}=i.extensionManager,v=Hn(e,o.schema),y=Hn(t,o.schema),{selection:b,storedMarks:x}=o,{$from:S,$to:M}=b,R=S.blockRange(M),T=x||b.$to.parentOffset&&b.$from.marks();if(!R)return!1;const k=kS(P=>y8(P.type.name,f))(b);if(R.depth>=1&&k&&R.depth-k.depth<=1){if(k.node.type===v)return c.liftListItem(y);if(y8(k.node.type.name,f)&&v.validContent(k.node.content)&&a)return l().command(()=>(s.setNodeMarkup(k.pos,v),!0)).command(()=>t2(s,v)).command(()=>n2(s,v)).run()}return!n||!T||!a?l().command(()=>d().wrapInList(v,r)?!0:c.clearNodes()).wrapInList(v,r).command(()=>t2(s,v)).command(()=>n2(s,v)).run():l().command(()=>{const P=d().wrapInList(v,r),A=T.filter(O=>p.includes(O.type.name));return s.ensureMarks(A),P?!0:c.clearNodes()}).wrapInList(v,r).command(()=>t2(s,v)).command(()=>n2(s,v)).run()},pWe=(e,t={},n={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:s=!1}=n,o=Cl(e,r.schema);return kk(r,o,t)?i.unsetMark(o,{extendEmptyMarkRange:s}):i.setMark(o,t)},gWe=(e,t,n={})=>({state:r,commands:i})=>{const s=Hn(e,r.schema),o=Hn(t,r.schema),a=Oc(r,s,n);let l;return r.selection.$anchor.sameParent(r.selection.$head)&&(l=r.selection.$anchor.parent.attrs),a?i.setNode(o,l):i.setNode(s,{...l,...n})},mWe=(e,t={})=>({state:n,commands:r})=>{const i=Hn(e,n.schema);return Oc(n,i,t)?r.lift(i):r.wrapIn(i,t)},vWe=()=>({state:e,dispatch:t})=>{const n=e.plugins;for(let r=0;r<n.length;r+=1){const i=n[r];let s;if(i.spec.isInputRules&&(s=i.getState(e))){if(t){const o=e.tr,a=s.transform;for(let l=a.steps.length-1;l>=0;l-=1)o.step(a.steps[l].invert(a.docs[l]));if(s.text){const l=o.doc.resolve(s.from).marks();o.replaceWith(s.from,s.to,e.schema.text(s.text,l))}else o.delete(s.from,s.to)}return!0}}return!1},yWe=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,{empty:r,ranges:i}=n;return r||t&&i.forEach(s=>{e.removeMark(s.$from.pos,s.$to.pos)}),!0},wWe=(e,t={})=>({tr:n,state:r,dispatch:i})=>{var s;const{extendEmptyMarkRange:o=!1}=t,{selection:a}=n,l=Cl(e,r.schema),{$from:c,empty:d,ranges:f}=a;if(!i)return!0;if(d&&o){let{from:p,to:v}=a;const y=(s=c.marks().find(x=>x.type===l))==null?void 0:s.attrs,b=bO(c,l,y);b&&(p=b.from,v=b.to),n.removeMark(p,v,l)}else f.forEach(p=>{n.removeMark(p.$from.pos,p.$to.pos,l)});return n.removeStoredMark(l),!0},bWe=e=>({tr:t,state:n,dispatch:r})=>{const{selection:i}=n;let s,o;return typeof e=="number"?(s=e,o=e):e&&"from"in e&&"to"in e?(s=e.from,o=e.to):(s=i.from,o=i.to),r&&t.doc.nodesBetween(s,o,(a,l)=>{if(a.isText)return;const c={...a.attrs};delete c.dir,t.setNodeMarkup(l,void 0,c)}),!0},CWe=(e,t={})=>({tr:n,state:r,dispatch:i})=>{let s=null,o=null;const a=TS(typeof e=="string"?e:e.name,r.schema);if(!a)return!1;a==="node"&&(s=Hn(e,r.schema)),a==="mark"&&(o=Cl(e,r.schema));let l=!1;return n.selection.ranges.forEach(c=>{const d=c.$from.pos,f=c.$to.pos;let p,v,y,b;n.selection.empty?r.doc.nodesBetween(d,f,(x,S)=>{s&&s===x.type&&(l=!0,y=Math.max(S,d),b=Math.min(S+x.nodeSize,f),p=S,v=x)}):r.doc.nodesBetween(d,f,(x,S)=>{S<d&&s&&s===x.type&&(l=!0,y=Math.max(S,d),b=Math.min(S+x.nodeSize,f),p=S,v=x),S>=d&&S<=f&&(s&&s===x.type&&(l=!0,i&&n.setNodeMarkup(S,void 0,{...x.attrs,...t})),o&&x.marks.length&&x.marks.forEach(M=>{if(o===M.type&&(l=!0,i)){const R=Math.max(S,d),T=Math.min(S+x.nodeSize,f);n.addMark(R,T,o.create({...M.attrs,...t}))}}))}),v&&(p!==void 0&&i&&n.setNodeMarkup(p,void 0,{...v.attrs,...t}),o&&v.marks.length&&v.marks.forEach(x=>{o===x.type&&i&&n.addMark(y,b,o.create({...x.attrs,...t}))}))}),l},xWe=(e,t={})=>({state:n,dispatch:r})=>{const i=Hn(e,n.schema);return eGe(i,t)(n,r)},SWe=(e,t={})=>({state:n,dispatch:r})=>{const i=Hn(e,n.schema);return tGe(i,t)(n,r)},EWe=class{constructor(){this.callbacks={}}on(e,t){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),this}emit(e,...t){const n=this.callbacks[e];return n&&n.forEach(r=>r.apply(this,t)),this}off(e,t){const n=this.callbacks[e];return n&&(t?this.callbacks[e]=n.filter(r=>r!==t):delete this.callbacks[e]),this}once(e,t){const n=(...r)=>{this.off(e,n),t.apply(this,r)};return this.on(e,n)}removeAllListeners(){this.callbacks={}}},PS=class{constructor(e){var t;this.find=e.find,this.handler=e.handler,this.undoable=(t=e.undoable)!=null?t:!0}},DWe=(e,t)=>{if(wO(t))return t.exec(e);const n=t(e);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=e,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function j0(e){var t;const{editor:n,from:r,to:i,text:s,rules:o,plugin:a}=e,{view:l}=n;if(l.composing)return!1;const c=l.state.doc.resolve(r);if(c.parent.type.spec.code||(t=c.nodeBefore||c.nodeAfter)!=null&&t.marks.find(p=>p.type.spec.code))return!1;let d=!1;const f=Z7e(c)+s;return o.forEach(p=>{if(d)return;const v=DWe(f,p.find);if(!v)return;const y=l.state.tr,b=RS({state:l.state,transaction:y}),x={from:r-(v[0].length-s.length),to:i},{commands:S,chain:M,can:R}=new MS({editor:n,state:b});p.handler({state:b,range:x,match:v,commands:S,chain:M,can:R})===null||!y.steps.length||(p.undoable&&y.setMeta(a,{transform:y,from:r,to:i,text:s}),l.dispatch(y),d=!0)}),d}function RWe(e){const{editor:t,rules:n}=e,r=new mn({state:{init(){return null},apply(i,s,o){const a=i.getMeta(r);if(a)return a;const l=i.getMeta("applyInputRules");return!!l&&setTimeout(()=>{let{text:d}=l;typeof d=="string"?d=d:d=SO(xe.from(d),o.schema);const{from:f}=l,p=f+d.length;j0({editor:t,from:f,to:p,text:d,rules:n,plugin:r})}),i.selectionSet||i.docChanged?null:s}},props:{handleTextInput(i,s,o,a){return j0({editor:t,from:s,to:o,text:a,rules:n,plugin:r})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:s}=i.state.selection;s&&j0({editor:t,from:s.pos,to:s.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(i,s){if(s.key!=="Enter")return!1;const{$cursor:o}=i.state.selection;return o?j0({editor:t,from:o.pos,to:o.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function MWe(e){return Object.prototype.toString.call(e).slice(8,-1)}function B0(e){return MWe(e)!=="Object"?!1:e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype}function eJ(e,t){const n={...e};return B0(e)&&B0(t)&&Object.keys(t).forEach(r=>{B0(t[r])&&B0(e[r])?n[r]=eJ(e[r],t[r]):n[r]=t[r]}),n}var RO=class{constructor(e={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...e},this.name=this.config.name}get options(){return{...Pt(He(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...Pt(He(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(e={}){const t=this.extend({...this.config,addOptions:()=>eJ(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new this.constructor({...this.config,...e});return t.parent=this,this.child=t,t.name="name"in e?e.name:t.parent.name,t}},Xo=class tJ extends RO{constructor(){super(...arguments),this.type="mark"}static create(t={}){const n=typeof t=="function"?t():t;return new tJ(n)}static handleExit({editor:t,mark:n}){const{tr:r}=t.state,i=t.state.selection.$from;if(i.pos===i.end()){const o=i.marks();if(!!!o.find(c=>c?.type.name===n.name))return!1;const l=o.find(c=>c?.type.name===n.name);return l&&r.removeStoredMark(l),r.insertText(" ",i.pos),t.view.dispatch(r),!0}return!1}configure(t){return super.configure(t)}extend(t){const n=typeof t=="function"?t():t;return super.extend(n)}};function TWe(e){return typeof e=="number"}var kWe=class{constructor(e){this.find=e.find,this.handler=e.handler}},AWe=(e,t,n)=>{if(wO(t))return[...e.matchAll(t)];const r=t(e,n);return r?r.map(i=>{const s=[i.text];return s.index=i.index,s.input=e,s.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),s.push(i.replaceWith)),s}):[]};function PWe(e){const{editor:t,state:n,from:r,to:i,rule:s,pasteEvent:o,dropEvent:a}=e,{commands:l,chain:c,can:d}=new MS({editor:t,state:n}),f=[];return n.doc.nodesBetween(r,i,(v,y)=>{var b,x,S,M,R;if((x=(b=v.type)==null?void 0:b.spec)!=null&&x.code||!(v.isText||v.isTextblock||v.isInline))return;const T=(R=(M=(S=v.content)==null?void 0:S.size)!=null?M:v.nodeSize)!=null?R:0,k=Math.max(r,y),P=Math.min(i,y+T);if(k>=P)return;const A=v.isText?v.text||"":v.textBetween(k-y,P-y,void 0,"");AWe(A,s.find,o).forEach(B=>{if(B.index===void 0)return;const U=k+B.index+1,_=U+B[0].length,I={from:n.tr.mapping.map(U),to:n.tr.mapping.map(_)},V=s.handler({state:n,range:I,match:B,commands:l,chain:c,can:d,pasteEvent:o,dropEvent:a});f.push(V)})}),f.every(v=>v!==null)}var H0=null,NWe=e=>{var t;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(t=n.clipboardData)==null||t.setData("text/html",e),n};function OWe(e){const{editor:t,rules:n}=e;let r=null,i=!1,s=!1,o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,a;try{a=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{a=null}const l=({state:d,from:f,to:p,rule:v,pasteEvt:y})=>{const b=d.tr,x=RS({state:d,transaction:b});if(!(!PWe({editor:t,state:x,from:Math.max(f-1,0),to:p.b-1,rule:v,pasteEvent:y,dropEvent:a})||!b.steps.length)){try{a=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{a=null}return o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,b}};return n.map(d=>new mn({view(f){const p=y=>{var b;r=(b=f.dom.parentElement)!=null&&b.contains(y.target)?f.dom.parentElement:null,r&&(H0=t)},v=()=>{H0&&(H0=null)};return window.addEventListener("dragstart",p),window.addEventListener("dragend",v),{destroy(){window.removeEventListener("dragstart",p),window.removeEventListener("dragend",v)}}},props:{handleDOMEvents:{drop:(f,p)=>{if(s=r===f.dom.parentElement,a=p,!s){const v=H0;v?.isEditable&&setTimeout(()=>{const y=v.state.selection;y&&v.commands.deleteRange({from:y.from,to:y.to})},10)}return!1},paste:(f,p)=>{var v;const y=(v=p.clipboardData)==null?void 0:v.getData("text/html");return o=p,i=!!y?.includes("data-pm-slice"),!1}}},appendTransaction:(f,p,v)=>{const y=f[0],b=y.getMeta("uiEvent")==="paste"&&!i,x=y.getMeta("uiEvent")==="drop"&&!s,S=y.getMeta("applyPasteRules"),M=!!S;if(!b&&!x&&!M)return;if(M){let{text:k}=S;typeof k=="string"?k=k:k=SO(xe.from(k),v.schema);const{from:P}=S,A=P+k.length,O=NWe(k);return l({rule:d,state:v,from:P,to:{b:A},pasteEvt:O})}const R=p.doc.content.findDiffStart(v.doc.content),T=p.doc.content.findDiffEnd(v.doc.content);if(!(!TWe(R)||!T||R===T.b))return l({rule:d,state:v,from:R,to:T,pasteEvt:o})}}))}var NS=class{constructor(e,t){this.splittableMarks=[],this.editor=t,this.baseExtensions=e,this.extensions=KX(e),this.schema=$7e(this.extensions,t),this.setupExtensions()}get commands(){return this.extensions.reduce((e,t)=>{const n={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:this.editor,type:e2(t.name,this.schema)},r=He(t,"addCommands",n);return r?{...e,...r()}:e},{})}get plugins(){const{editor:e}=this;return EO([...this.extensions].reverse()).flatMap(r=>{const i={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:e,type:e2(r.name,this.schema)},s=[],o=He(r,"addKeyboardShortcuts",i);let a={};if(r.type==="mark"&&He(r,"exitable",i)&&(a.ArrowRight=()=>Xo.handleExit({editor:e,mark:r})),o){const p=Object.fromEntries(Object.entries(o()).map(([v,y])=>[v,()=>y({editor:e})]));a={...a,...p}}const l=YVe(a);s.push(l);const c=He(r,"addInputRules",i);if(v8(r,e.options.enableInputRules)&&c){const p=c();if(p&&p.length){const v=RWe({editor:e,rules:p}),y=Array.isArray(v)?v:[v];s.push(...y)}}const d=He(r,"addPasteRules",i);if(v8(r,e.options.enablePasteRules)&&d){const p=d();if(p&&p.length){const v=OWe({editor:e,rules:p});s.push(...v)}}const f=He(r,"addProseMirrorPlugins",i);if(f){const p=f();s.push(...p)}return s})}get attributes(){return qX(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:t}=Nf(this.extensions);return Object.fromEntries(t.filter(n=>!!He(n,"addNodeView")).map(n=>{const r=this.attributes.filter(l=>l.type===n.name),i={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:e,type:Hn(n.name,this.schema)},s=He(n,"addNodeView",i);if(!s)return[];const o=s();if(!o)return[];const a=(l,c,d,f,p)=>{const v=wC(l,r);return o({node:l,view:c,getPos:d,decorations:f,innerDecorations:p,editor:e,extension:n,HTMLAttributes:v})};return[n.name,a]}))}get markViews(){const{editor:e}=this,{markExtensions:t}=Nf(this.extensions);return Object.fromEntries(t.filter(n=>!!He(n,"addMarkView")).map(n=>{const r=this.attributes.filter(a=>a.type===n.name),i={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:e,type:Cl(n.name,this.schema)},s=He(n,"addMarkView",i);if(!s)return[];const o=(a,l,c)=>{const d=wC(a,r);return s()({mark:a,view:l,inline:c,editor:e,extension:n,HTMLAttributes:d,updateAttributes:f=>{KWe(a,e,f)}})};return[n.name,o]}))}setupExtensions(){const e=this.extensions;this.editor.extensionStorage=Object.fromEntries(e.map(t=>[t.name,t.storage])),e.forEach(t=>{var n;const r={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:this.editor,type:e2(t.name,this.schema)};t.type==="mark"&&((n=Pt(He(t,"keepOnSplit",r)))==null||n)&&this.splittableMarks.push(t.name);const i=He(t,"onBeforeCreate",r),s=He(t,"onCreate",r),o=He(t,"onUpdate",r),a=He(t,"onSelectionUpdate",r),l=He(t,"onTransaction",r),c=He(t,"onFocus",r),d=He(t,"onBlur",r),f=He(t,"onDestroy",r);i&&this.editor.on("beforeCreate",i),s&&this.editor.on("create",s),o&&this.editor.on("update",o),a&&this.editor.on("selectionUpdate",a),l&&this.editor.on("transaction",l),c&&this.editor.on("focus",c),d&&this.editor.on("blur",d),f&&this.editor.on("destroy",f)})}};NS.resolve=KX;NS.sort=EO;NS.flatten=xO;var FWe={};yO(FWe,{ClipboardTextSerializer:()=>rJ,Commands:()=>iJ,Delete:()=>sJ,Drop:()=>oJ,Editable:()=>aJ,FocusEvents:()=>cJ,Keymap:()=>uJ,Paste:()=>dJ,Tabindex:()=>hJ,TextDirection:()=>fJ,focusEventsPluginKey:()=>lJ});var Gt=class nJ extends RO{constructor(){super(...arguments),this.type="extension"}static create(t={}){const n=typeof t=="function"?t():t;return new nJ(n)}configure(t){return super.configure(t)}extend(t){const n=typeof t=="function"?t():t;return super.extend(n)}},rJ=Gt.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new mn({key:new Yn("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:e}=this,{state:t,schema:n}=e,{doc:r,selection:i}=t,{ranges:s}=i,o=Math.min(...s.map(d=>d.$from.pos)),a=Math.max(...s.map(d=>d.$to.pos)),l=QX(n);return YX(r,{from:o,to:a},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}}),iJ=Gt.create({name:"commands",addCommands(){return{...jX}}}),sJ=Gt.create({name:"delete",onUpdate({transaction:e,appendedTransactions:t}){var n,r,i;const s=()=>{var o,a,l,c;if((c=(l=(a=(o=this.editor.options.coreExtensionOptions)==null?void 0:o.delete)==null?void 0:a.filterTransaction)==null?void 0:l.call(a,e))!=null?c:e.getMeta("y-sync$"))return;const d=UX(e.before,[e,...t]);JX(d).forEach(v=>{d.mapping.mapResult(v.oldRange.from).deletedAfter&&d.mapping.mapResult(v.oldRange.to).deletedBefore&&d.before.nodesBetween(v.oldRange.from,v.oldRange.to,(y,b)=>{const x=b+y.nodeSize-2,S=v.oldRange.from<=b&&x<=v.oldRange.to;this.editor.emit("delete",{type:"node",node:y,from:b,to:x,newFrom:d.mapping.map(b),newTo:d.mapping.map(x),deletedRange:v.oldRange,newRange:v.newRange,partial:!S,editor:this.editor,transaction:e,combinedTransform:d})})});const p=d.mapping;d.steps.forEach((v,y)=>{var b,x;if(v instanceof $s){const S=p.slice(y).map(v.from,-1),M=p.slice(y).map(v.to),R=p.invert().map(S,-1),T=p.invert().map(M),k=(b=d.doc.nodeAt(S-1))==null?void 0:b.marks.some(A=>A.eq(v.mark)),P=(x=d.doc.nodeAt(M))==null?void 0:x.marks.some(A=>A.eq(v.mark));this.editor.emit("delete",{type:"mark",mark:v.mark,from:v.from,to:v.to,deletedRange:{from:R,to:T},newRange:{from:S,to:M},partial:!!(P||k),editor:this.editor,transaction:e,combinedTransform:d})}})};(i=(r=(n=this.editor.options.coreExtensionOptions)==null?void 0:n.delete)==null?void 0:r.async)==null||i?setTimeout(s,0):s()}}),oJ=Gt.create({name:"drop",addProseMirrorPlugins(){return[new mn({key:new Yn("tiptapDrop"),props:{handleDrop:(e,t,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:t,slice:n,moved:r})}}})]}}),aJ=Gt.create({name:"editable",addProseMirrorPlugins(){return[new mn({key:new Yn("editable"),props:{editable:()=>this.editor.options.editable}})]}}),lJ=new Yn("focusEvents"),cJ=Gt.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:e}=this;return[new mn({key:lJ,props:{handleDOMEvents:{focus:(t,n)=>{e.isFocused=!0;const r=e.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1},blur:(t,n)=>{e.isFocused=!1;const r=e.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1}}}})]}}),uJ=Gt.create({name:"keymap",addKeyboardShortcuts(){const e=()=>this.editor.commands.first(({commands:o})=>[()=>o.undoInputRule(),()=>o.command(({tr:a})=>{const{selection:l,doc:c}=a,{empty:d,$anchor:f}=l,{pos:p,parent:v}=f,y=f.parent.isTextblock&&p>0?a.doc.resolve(p-1):f,b=y.parent.type.spec.isolating,x=f.pos-f.parentOffset,S=b&&y.parent.childCount===1?x===f.pos:nt.atStart(c).from===p;return!d||!v.type.isTextblock||v.textContent.length||!S||S&&f.parent.type.name==="paragraph"?!1:o.clearNodes()}),()=>o.deleteSelection(),()=>o.joinBackward(),()=>o.selectNodeBackward()]),t=()=>this.editor.commands.first(({commands:o})=>[()=>o.deleteSelection(),()=>o.deleteCurrentNode(),()=>o.joinForward(),()=>o.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:o})=>[()=>o.newlineInCode(),()=>o.createParagraphNear(),()=>o.liftEmptyBlock(),()=>o.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:e,"Mod-Backspace":e,"Shift-Backspace":e,Delete:t,"Mod-Delete":t,"Mod-a":()=>this.editor.commands.selectAll()},i={...r},s={...r,"Ctrl-h":e,"Alt-Backspace":e,"Ctrl-d":t,"Ctrl-Alt-Backspace":t,"Alt-Delete":t,"Alt-d":t,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return CO()||VX()?s:i},addProseMirrorPlugins(){return[new mn({key:new Yn("clearDocument"),appendTransaction:(e,t,n)=>{if(e.some(b=>b.getMeta("composition")))return;const r=e.some(b=>b.docChanged)&&!t.doc.eq(n.doc),i=e.some(b=>b.getMeta("preventClearDocument"));if(!r||i)return;const{empty:s,from:o,to:a}=t.selection,l=nt.atStart(t.doc).from,c=nt.atEnd(t.doc).to;if(s||!(o===l&&a===c)||!AS(n.doc))return;const p=n.tr,v=RS({state:n,transaction:p}),{commands:y}=new MS({editor:this.editor,state:v});if(y.clearNodes(),!!p.steps.length)return p}})]}}),dJ=Gt.create({name:"paste",addProseMirrorPlugins(){return[new mn({key:new Yn("tiptapPaste"),props:{handlePaste:(e,t,n)=>{this.editor.emit("paste",{editor:this.editor,event:t,slice:n})}}})]}}),hJ=Gt.create({name:"tabindex",addProseMirrorPlugins(){return[new mn({key:new Yn("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),fJ=Gt.create({name:"textDirection",addOptions(){return{direction:void 0}},addGlobalAttributes(){if(!this.options.direction)return[];const{nodeExtensions:e}=Nf(this.extensions);return[{types:e.filter(t=>t.name!=="text").map(t=>t.name),attributes:{dir:{default:this.options.direction,parseHTML:t=>{const n=t.getAttribute("dir");return n&&(n==="ltr"||n==="rtl"||n==="auto")?n:this.options.direction},renderHTML:t=>t.dir?{dir:t.dir}:{}}}}]},addProseMirrorPlugins(){return[new mn({key:new Yn("textDirection"),props:{attributes:()=>{const e=this.options.direction;return e?{dir:e}:{}}}})]}}),IWe=class Ah{constructor(t,n,r=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=t,this.editor=n,this.currentNode=i}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var t;return(t=this.actualDepth)!=null?t:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(t){let n=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:n,to:r},t)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const t=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(t);return new Ah(n,this.editor)}get before(){let t=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.from-3)),new Ah(t,this.editor)}get after(){let t=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.to+3)),new Ah(t,this.editor)}get children(){const t=[];return this.node.content.forEach((n,r)=>{const i=n.isBlock&&!n.isTextblock,s=n.isAtom&&!n.isText,o=this.pos+r+(s?0:1);if(o<0||o>this.resolvedPos.doc.nodeSize-2)return;const a=this.resolvedPos.doc.resolve(o);if(!i&&a.depth<=this.depth)return;const l=new Ah(a,this.editor,i,i?n:null);i&&(l.actualDepth=this.depth+1),t.push(new Ah(a,this.editor,i,i?n:null))}),t}get firstChild(){return this.children[0]||null}get lastChild(){const t=this.children;return t[t.length-1]||null}closest(t,n={}){let r=null,i=this.parent;for(;i&&!r;){if(i.node.type.name===t)if(Object.keys(n).length>0){const s=i.node.attrs,o=Object.keys(n);for(let a=0;a<o.length;a+=1){const l=o[a];if(s[l]!==n[l])break}}else r=i;i=i.parent}return r}querySelector(t,n={}){return this.querySelectorAll(t,n,!0)[0]||null}querySelectorAll(t,n={},r=!1){let i=[];if(!this.children||this.children.length===0)return i;const s=Object.keys(n);return this.children.forEach(o=>{r&&i.length>0||(o.node.type.name===t&&s.every(l=>n[l]===o.node.attrs[l])&&i.push(o),!(r&&i.length>0)&&(i=i.concat(o.querySelectorAll(t,n,r))))}),i}setAttribute(t){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...t}),this.editor.view.dispatch(n)}},LWe=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function _We(e,t,n){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const i=document.createElement("style");return t&&i.setAttribute("nonce",t),i.setAttribute("data-tiptap-style",""),i.innerHTML=e,document.getElementsByTagName("head")[0].appendChild(i),i}var jWe=class extends EWe{constructor(e={}){super(),this.css=null,this.className="tiptap",this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,textDirection:void 0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:r})=>{throw r},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:r,slice:i,moved:s})=>this.options.onDrop(r,i,s)),this.on("paste",({event:r,slice:i})=>this.options.onPaste(r,i)),this.on("delete",this.options.onDelete);const t=this.createDoc(),n=zX(t,this.options.autofocus);this.editorState=_h.create({doc:t,schema:this.schema,selection:n||void 0}),this.options.element&&this.mount(this.options.element)}mount(e){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(e),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.options.autofocus!==!1&&this.options.autofocus!==null&&this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const e=this.editorView.dom;e?.editor&&delete e.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css&&!document.querySelectorAll(`.${this.className}`).length)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(e){console.warn("Failed to remove CSS element:",e)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=_We(LWe,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,t=!0){this.setOptions({editable:e}),t&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:e=>{this.editorState=e},dispatch:e=>{this.dispatchTransaction(e)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(e,t)=>{if(this.editorView)return this.editorView[t];if(t==="state")return this.editorState;if(t in e)return Reflect.get(e,t);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${t}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(e,t){const n=$X(t)?t(e,[...this.state.plugins]):[...this.state.plugins,e],r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}unregisterPlugin(e){if(this.isDestroyed)return;const t=this.state.plugins;let n=t;if([].concat(e).forEach(i=>{const s=typeof i=="string"?`${i}$`:i.key;n=n.filter(o=>!o.key.startsWith(s))}),t.length===n.length)return;const r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}createExtensionManager(){var e,t;const r=[...this.options.enableCoreExtensions?[aJ,rJ.configure({blockSeparator:(t=(e=this.options.coreExtensionOptions)==null?void 0:e.clipboardTextSerializer)==null?void 0:t.blockSeparator}),iJ,cJ,uJ,hJ,oJ,dJ,sJ,fJ.configure({direction:this.options.textDirection})].filter(i=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[i.name]!==!1:!0):[],...this.options.extensions].filter(i=>["extension","node","mark"].includes(i?.type));this.extensionManager=new NS(r,this)}createCommandManager(){this.commandManager=new MS({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let e;try{e=Tk(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(t){if(!(t instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(t.message))throw t;this.emit("contentError",{editor:this,error:t,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(n=>n.name!=="collaboration"),this.createExtensionManager()}}),e=Tk(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return e}createView(e){var t;this.editorView=new LX(e,{...this.options.editorProps,attributes:{role:"textbox",...(t=this.options.editorProps)==null?void 0:t.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const n=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(n),this.prependClass(),this.injectCSS();const r=this.view.dom;r.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`${this.className} ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const t=this.capturedTransaction;return this.capturedTransaction=null,t}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(c=>{var d;return(d=this.capturedTransaction)==null?void 0:d.step(c)});return}const{state:t,transactions:n}=this.state.applyTransaction(e),r=!this.state.selection.eq(t.selection),i=n.includes(e),s=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:e,nextState:t}),!i)return;this.view.updateState(t),this.emit("transaction",{editor:this,transaction:e,appendedTransactions:n.slice(1)}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const o=n.findLast(c=>c.getMeta("focus")||c.getMeta("blur")),a=o?.getMeta("focus"),l=o?.getMeta("blur");a&&this.emit("focus",{editor:this,event:a.event,transaction:o}),l&&this.emit("blur",{editor:this,event:l.event,transaction:o}),!(e.getMeta("preventUpdate")||!n.some(c=>c.docChanged)||s.doc.eq(t.doc))&&this.emit("update",{editor:this,transaction:e,appendedTransactions:n.slice(1)})}getAttributes(e){return XX(this.state,e)}isActive(e,t){const n=typeof e=="string"?e:null,r=typeof e=="string"?t:e;return eWe(this.state,n,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return SO(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:t=`

`,textSerializers:n={}}=e||{};return K7e(this.state.doc,{blockSeparator:t,textSerializers:{...QX(this.schema),...n}})}get isEmpty(){return AS(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var e,t;return(t=(e=this.editorView)==null?void 0:e.isDestroyed)!=null?t:!0}$node(e,t){var n;return((n=this.$doc)==null?void 0:n.querySelector(e,t))||null}$nodes(e,t){var n;return((n=this.$doc)==null?void 0:n.querySelectorAll(e,t))||null}$pos(e){const t=this.state.doc.resolve(e);return new IWe(t,this)}get $doc(){return this.$pos(0)}};function Of(e){return new PS({find:e.find,handler:({state:t,range:n,match:r})=>{const i=Pt(e.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:s}=t,o=r[r.length-1],a=r[0];if(o){const l=a.search(/\S/),c=n.from+a.indexOf(o),d=c+o.length;if(DO(n.from,n.to,t.doc).filter(v=>v.mark.type.excluded.find(b=>b===e.type&&b!==v.mark.type)).filter(v=>v.to>c).length)return null;d<n.to&&s.delete(d,n.to),c>n.from&&s.delete(n.from+l,c);const p=n.from+l+o.length;s.addMark(n.from+l,p,e.type.create(i||{})),s.removeStoredMark(e.type)}},undoable:e.undoable})}function pJ(e){return new PS({find:e.find,handler:({state:t,range:n,match:r})=>{const i=Pt(e.getAttributes,void 0,r)||{},{tr:s}=t,o=n.from;let a=n.to;const l=e.type.create(i);if(r[1]){const c=r[0].lastIndexOf(r[1]);let d=o+c;d>a?d=a:a=d+r[1].length;const f=r[0][r[0].length-1];s.insertText(f,o+r[0].length-1),s.replaceWith(d,a,l)}else if(r[0]){const c=e.type.isInline?o:o-1;s.insert(c,e.type.create(i)).delete(s.mapping.map(o),s.mapping.map(a))}s.scrollIntoView()},undoable:e.undoable})}function Ak(e){return new PS({find:e.find,handler:({state:t,range:n,match:r})=>{const i=t.doc.resolve(n.from),s=Pt(e.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),e.type))return null;t.tr.delete(n.from,n.to).setBlockType(n.from,n.from,e.type,s)},undoable:e.undoable})}function Ff(e){return new PS({find:e.find,handler:({state:t,range:n,match:r,chain:i})=>{const s=Pt(e.getAttributes,void 0,r)||{},o=t.tr.delete(n.from,n.to),l=o.doc.resolve(n.from).blockRange(),c=l&&nO(l,e.type,s);if(!c)return null;if(o.wrap(l,c),e.keepMarks&&e.editor){const{selection:f,storedMarks:p}=t,{splittableMarks:v}=e.editor.extensionManager,y=p||f.$to.parentOffset&&f.$from.marks();if(y){const b=y.filter(x=>v.includes(x.type.name));o.ensureMarks(b)}}if(e.keepAttributes){const f=e.type.name==="bulletList"||e.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(f,s).run()}const d=o.doc.resolve(n.from-1).nodeBefore;d&&d.type===e.type&&Vc(o.doc,n.from-1)&&(!e.joinPredicate||e.joinPredicate(r,d))&&o.join(n.from-1)},undoable:e.undoable})}var BWe=e=>"touches"in e,HWe=class{constructor(e){this.directions=["bottom-left","bottom-right","top-left","top-right"],this.minSize={height:8,width:8},this.preserveAspectRatio=!1,this.classNames={container:"",wrapper:"",handle:"",resizing:""},this.initialWidth=0,this.initialHeight=0,this.aspectRatio=1,this.isResizing=!1,this.activeHandle=null,this.startX=0,this.startY=0,this.startWidth=0,this.startHeight=0,this.isShiftKeyPressed=!1,this.handleMouseMove=o=>{if(!this.isResizing||!this.activeHandle)return;const a=o.clientX-this.startX,l=o.clientY-this.startY;this.handleResize(a,l)},this.handleTouchMove=o=>{if(!this.isResizing||!this.activeHandle)return;const a=o.touches[0];if(!a)return;const l=a.clientX-this.startX,c=a.clientY-this.startY;this.handleResize(l,c)},this.handleMouseUp=()=>{if(!this.isResizing)return;const o=this.element.offsetWidth,a=this.element.offsetHeight;this.onCommit(o,a),this.isResizing=!1,this.activeHandle=null,this.container.dataset.resizeState="false",this.classNames.resizing&&this.container.classList.remove(this.classNames.resizing),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp)},this.handleKeyDown=o=>{o.key==="Shift"&&(this.isShiftKeyPressed=!0)},this.handleKeyUp=o=>{o.key==="Shift"&&(this.isShiftKeyPressed=!1)};var t,n,r,i,s;this.node=e.node,this.element=e.element,this.contentElement=e.contentElement,this.getPos=e.getPos,this.onResize=e.onResize,this.onCommit=e.onCommit,this.onUpdate=e.onUpdate,(t=e.options)!=null&&t.min&&(this.minSize={...this.minSize,...e.options.min}),(n=e.options)!=null&&n.max&&(this.maxSize=e.options.max),(r=e?.options)!=null&&r.directions&&(this.directions=e.options.directions),(i=e.options)!=null&&i.preserveAspectRatio&&(this.preserveAspectRatio=e.options.preserveAspectRatio),(s=e.options)!=null&&s.className&&(this.classNames={container:e.options.className.container||"",wrapper:e.options.className.wrapper||"",handle:e.options.className.handle||"",resizing:e.options.className.resizing||""}),this.wrapper=this.createWrapper(),this.container=this.createContainer(),this.applyInitialSize(),this.attachHandles()}get dom(){return this.container}get contentDOM(){return this.contentElement}update(e,t,n){return e.type!==this.node.type?!1:(this.node=e,this.onUpdate?this.onUpdate(e,t,n):!0)}destroy(){this.isResizing&&(this.container.dataset.resizeState="false",this.classNames.resizing&&this.container.classList.remove(this.classNames.resizing),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp),this.isResizing=!1,this.activeHandle=null),this.container.remove()}createContainer(){const e=document.createElement("div");return e.dataset.resizeContainer="",e.dataset.node=this.node.type.name,e.style.display="flex",e.style.justifyContent="flex-start",e.style.alignItems="flex-start",this.classNames.container&&(e.className=this.classNames.container),e.appendChild(this.wrapper),e}createWrapper(){const e=document.createElement("div");return e.style.position="relative",e.style.display="block",e.dataset.resizeWrapper="",this.classNames.wrapper&&(e.className=this.classNames.wrapper),e.appendChild(this.element),e}createHandle(e){const t=document.createElement("div");return t.dataset.resizeHandle=e,t.style.position="absolute",this.classNames.handle&&(t.className=this.classNames.handle),t}positionHandle(e,t){const n=t.includes("top"),r=t.includes("bottom"),i=t.includes("left"),s=t.includes("right");n&&(e.style.top="0"),r&&(e.style.bottom="0"),i&&(e.style.left="0"),s&&(e.style.right="0"),(t==="top"||t==="bottom")&&(e.style.left="0",e.style.right="0"),(t==="left"||t==="right")&&(e.style.top="0",e.style.bottom="0")}attachHandles(){this.directions.forEach(e=>{const t=this.createHandle(e);this.positionHandle(t,e),t.addEventListener("mousedown",n=>this.handleResizeStart(n,e)),t.addEventListener("touchstart",n=>this.handleResizeStart(n,e)),this.wrapper.appendChild(t)})}applyInitialSize(){const e=this.node.attrs.width,t=this.node.attrs.height;e?(this.element.style.width=`${e}px`,this.initialWidth=e):this.initialWidth=this.element.offsetWidth,t?(this.element.style.height=`${t}px`,this.initialHeight=t):this.initialHeight=this.element.offsetHeight,this.initialWidth>0&&this.initialHeight>0&&(this.aspectRatio=this.initialWidth/this.initialHeight)}handleResizeStart(e,t){e.preventDefault(),e.stopPropagation(),this.isResizing=!0,this.activeHandle=t,BWe(e)?(this.startX=e.touches[0].clientX,this.startY=e.touches[0].clientY):(this.startX=e.clientX,this.startY=e.clientY),this.startWidth=this.element.offsetWidth,this.startHeight=this.element.offsetHeight,this.startWidth>0&&this.startHeight>0&&(this.aspectRatio=this.startWidth/this.startHeight),this.getPos(),this.container.dataset.resizeState="true",this.classNames.resizing&&this.container.classList.add(this.classNames.resizing),document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("touchmove",this.handleTouchMove),document.addEventListener("mouseup",this.handleMouseUp),document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keyup",this.handleKeyUp)}handleResize(e,t){if(!this.activeHandle)return;const n=this.preserveAspectRatio||this.isShiftKeyPressed,{width:r,height:i}=this.calculateNewDimensions(this.activeHandle,e,t),s=this.applyConstraints(r,i,n);this.element.style.width=`${s.width}px`,this.element.style.height=`${s.height}px`,this.onResize&&this.onResize(s.width,s.height)}calculateNewDimensions(e,t,n){let r=this.startWidth,i=this.startHeight;const s=e.includes("right"),o=e.includes("left"),a=e.includes("bottom"),l=e.includes("top");return s?r=this.startWidth+t:o&&(r=this.startWidth-t),a?i=this.startHeight+n:l&&(i=this.startHeight-n),(e==="right"||e==="left")&&(r=this.startWidth+(s?t:-t)),(e==="top"||e==="bottom")&&(i=this.startHeight+(a?n:-n)),this.preserveAspectRatio||this.isShiftKeyPressed?this.applyAspectRatio(r,i,e):{width:r,height:i}}applyConstraints(e,t,n){var r,i,s,o;if(!n){let c=Math.max(this.minSize.width,e),d=Math.max(this.minSize.height,t);return(r=this.maxSize)!=null&&r.width&&(c=Math.min(this.maxSize.width,c)),(i=this.maxSize)!=null&&i.height&&(d=Math.min(this.maxSize.height,d)),{width:c,height:d}}let a=e,l=t;return a<this.minSize.width&&(a=this.minSize.width,l=a/this.aspectRatio),l<this.minSize.height&&(l=this.minSize.height,a=l*this.aspectRatio),(s=this.maxSize)!=null&&s.width&&a>this.maxSize.width&&(a=this.maxSize.width,l=a/this.aspectRatio),(o=this.maxSize)!=null&&o.height&&l>this.maxSize.height&&(l=this.maxSize.height,a=l*this.aspectRatio),{width:a,height:l}}applyAspectRatio(e,t,n){const r=n==="left"||n==="right",i=n==="top"||n==="bottom";return r?{width:e,height:e/this.aspectRatio}:i?{width:t*this.aspectRatio,height:t}:{width:e,height:e/this.aspectRatio}}};function zWe(e,t){const{selection:n}=e,{$from:r}=n;if(n instanceof ze){const s=r.index();return r.parent.canReplaceWith(s,s+1,t)}let i=r.depth;for(;i>=0;){const s=r.index(i);if(r.node(i).contentMatchAt(s).matchType(t))return!0;i-=1}return!1}var GWe={};yO(GWe,{createAtomBlockMarkdownSpec:()=>VWe,createBlockMarkdownSpec:()=>WWe,createInlineMarkdownSpec:()=>qWe,parseAttributes:()=>MO,parseIndentedBlocks:()=>Pk,renderNestedMarkdownContent:()=>kO,serializeAttributes:()=>TO});function MO(e){if(!e?.trim())return{};const t={},n=[],r=e.replace(/["']([^"']*)["']/g,c=>(n.push(c),`__QUOTED_${n.length-1}__`)),i=r.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(i){const c=i.map(d=>d.trim().slice(1));t.class=c.join(" ")}const s=r.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);s&&(t.id=s[1]);const o=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(r.matchAll(o)).forEach(([,c,d])=>{var f;const p=parseInt(((f=d.match(/__QUOTED_(\d+)__/))==null?void 0:f[1])||"0",10),v=n[p];v&&(t[c]=v.slice(1,-1))});const l=r.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return l&&l.split(/\s+/).filter(Boolean).forEach(d=>{d.match(/^[a-zA-Z][\w-]*$/)&&(t[d]=!0)}),t}function TO(e){if(!e||Object.keys(e).length===0)return"";const t=[];return e.class&&String(e.class).split(/\s+/).filter(Boolean).forEach(r=>t.push(`.${r}`)),e.id&&t.push(`#${e.id}`),Object.entries(e).forEach(([n,r])=>{n==="class"||n==="id"||(r===!0?t.push(n):r!==!1&&r!=null&&t.push(`${n}="${String(r)}"`))}),t.join(" ")}function VWe(e){const{nodeName:t,name:n,parseAttributes:r=MO,serializeAttributes:i=TO,defaultAttributes:s={},requiredAttributes:o=[],allowedAttributes:a}=e,l=n||t,c=d=>{if(!a)return d;const f={};return a.forEach(p=>{p in d&&(f[p]=d[p])}),f};return{parseMarkdown:(d,f)=>{const p={...s,...d.attributes};return f.createNode(t,p,[])},markdownTokenizer:{name:t,level:"block",start(d){var f;const p=new RegExp(`^:::${l}(?:\\s|$)`,"m"),v=(f=d.match(p))==null?void 0:f.index;return v!==void 0?v:-1},tokenize(d,f,p){const v=new RegExp(`^:::${l}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),y=d.match(v);if(!y)return;const b=y[1]||"",x=r(b);if(!o.find(M=>!(M in x)))return{type:t,raw:y[0],attributes:x}}},renderMarkdown:d=>{const f=c(d.attrs||{}),p=i(f),v=p?` {${p}}`:"";return`:::${l}${v} :::`}}}function WWe(e){const{nodeName:t,name:n,getContent:r,parseAttributes:i=MO,serializeAttributes:s=TO,defaultAttributes:o={},content:a="block",allowedAttributes:l}=e,c=n||t,d=f=>{if(!l)return f;const p={};return l.forEach(v=>{v in f&&(p[v]=f[v])}),p};return{parseMarkdown:(f,p)=>{let v;if(r){const b=r(f);v=typeof b=="string"?[{type:"text",text:b}]:b}else a==="block"?v=p.parseChildren(f.tokens||[]):v=p.parseInline(f.tokens||[]);const y={...o,...f.attributes};return p.createNode(t,y,v)},markdownTokenizer:{name:t,level:"block",start(f){var p;const v=new RegExp(`^:::${c}`,"m"),y=(p=f.match(v))==null?void 0:p.index;return y!==void 0?y:-1},tokenize(f,p,v){var y;const b=new RegExp(`^:::${c}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),x=f.match(b);if(!x)return;const[S,M=""]=x,R=i(M);let T=1;const k=S.length;let P="";const A=/^:::([\w-]*)(\s.*)?/gm,O=f.slice(k);for(A.lastIndex=0;;){const B=A.exec(O);if(B===null)break;const U=B.index,_=B[1];if(!((y=B[2])!=null&&y.endsWith(":::"))){if(_)T+=1;else if(T-=1,T===0){const I=O.slice(0,U);P=I.trim();const V=f.slice(0,k+U+B[0].length);let F=[];if(P)if(a==="block")for(F=v.blockTokens(I),F.forEach(L=>{L.text&&(!L.tokens||L.tokens.length===0)&&(L.tokens=v.inlineTokens(L.text))});F.length>0;){const L=F[F.length-1];if(L.type==="paragraph"&&(!L.text||L.text.trim()===""))F.pop();else break}else F=v.inlineTokens(P);return{type:t,raw:V,attributes:R,content:P,tokens:F}}}}}},renderMarkdown:(f,p)=>{const v=d(f.attrs||{}),y=s(v),b=y?` {${y}}`:"",x=p.renderChildren(f.content||[],`

`);return`:::${c}${b}

${x}

:::`}}}function UWe(e){if(!e.trim())return{};const t={},n=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let r=n.exec(e);for(;r!==null;){const[,i,s,o]=r;t[i]=s||o,r=n.exec(e)}return t}function $We(e){return Object.entries(e).filter(([,t])=>t!=null).map(([t,n])=>`${t}="${n}"`).join(" ")}function qWe(e){const{nodeName:t,name:n,getContent:r,parseAttributes:i=UWe,serializeAttributes:s=$We,defaultAttributes:o={},selfClosing:a=!1,allowedAttributes:l}=e,c=n||t,d=p=>{if(!l)return p;const v={};return l.forEach(y=>{y in p&&(v[y]=p[y])}),v},f=c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(p,v)=>{const y={...o,...p.attributes};if(a)return v.createNode(t,y);const b=r?r(p):p.content||"";return b?v.createNode(t,y,[v.createTextNode(b)]):v.createNode(t,y,[])},markdownTokenizer:{name:t,level:"inline",start(p){const v=a?new RegExp(`\\[${f}\\s*[^\\]]*\\]`):new RegExp(`\\[${f}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${f}\\]`),y=p.match(v),b=y?.index;return b!==void 0?b:-1},tokenize(p,v,y){const b=a?new RegExp(`^\\[${f}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${f}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${f}\\]`),x=p.match(b);if(!x)return;let S="",M="";if(a){const[,T]=x;M=T}else{const[,T,k]=x;M=T,S=k||""}const R=i(M.trim());return{type:t,raw:x[0],content:S.trim(),attributes:R}}},renderMarkdown:p=>{let v="";r?v=r(p):p.content&&p.content.length>0&&(v=p.content.filter(S=>S.type==="text").map(S=>S.text).join(""));const y=d(p.attrs||{}),b=s(y),x=b?` ${b}`:"";return a?`[${c}${x}]`:`[${c}${x}]${v}[/${c}]`}}}function Pk(e,t,n){var r,i,s,o;const a=e.split(`
`),l=[];let c="",d=0;const f=t.baseIndentSize||2;for(;d<a.length;){const p=a[d],v=p.match(t.itemPattern);if(!v){if(l.length>0)break;if(p.trim()===""){d+=1,c=`${c}${p}
`;continue}else return}const y=t.extractItemData(v),{indentLevel:b,mainContent:x}=y;c=`${c}${p}
`;const S=[x];for(d+=1;d<a.length;){const k=a[d];if(k.trim()===""){const A=a.slice(d+1).findIndex(U=>U.trim()!=="");if(A===-1)break;if((((i=(r=a[d+1+A].match(/^(\s*)/))==null?void 0:r[1])==null?void 0:i.length)||0)>b){S.push(k),c=`${c}${k}
`,d+=1;continue}else break}if((((o=(s=k.match(/^(\s*)/))==null?void 0:s[1])==null?void 0:o.length)||0)>b)S.push(k),c=`${c}${k}
`,d+=1;else break}let M;const R=S.slice(1);if(R.length>0){const k=R.map(P=>P.slice(b+f)).join(`
`);k.trim()&&(t.customNestedParser?M=t.customNestedParser(k):M=n.blockTokens(k))}const T=t.createToken(y,M);l.push(T)}if(l.length!==0)return{items:l,raw:c}}function kO(e,t,n,r){if(!e||!Array.isArray(e.content))return"";const i=typeof n=="function"?n(r):n,[s,...o]=e.content,a=t.renderChildren([s]),l=[`${i}${a}`];return o&&o.length>0&&o.forEach(c=>{const d=t.renderChildren([c]);if(d){const f=d.split(`
`).map(p=>p?t.indent(p):"").join(`
`);l.push(f)}}),l.join(`
`)}function KWe(e,t,n={}){const{state:r}=t,{doc:i,tr:s}=r,o=e;i.descendants((a,l)=>{const c=s.mapping.map(l),d=s.mapping.map(l)+a.nodeSize;let f=null;if(a.marks.forEach(v=>{if(v!==o)return!1;f=v}),!f)return;let p=!1;if(Object.keys(n).forEach(v=>{n[v]!==f.attrs[v]&&(p=!0)}),p){const v=e.type.create({...e.attrs,...n});s.removeMark(c,d,e.type),s.addMark(c,d,v)}}),s.docChanged&&t.view.dispatch(s)}var Ai=class gJ extends RO{constructor(){super(...arguments),this.type="node"}static create(t={}){const n=typeof t=="function"?t():t;return new gJ(n)}configure(t){return super.configure(t)}extend(t){const n=typeof t=="function"?t():t;return super.extend(n)}};function pd(e){return new kWe({find:e.find,handler:({state:t,range:n,match:r,pasteEvent:i})=>{const s=Pt(e.getAttributes,void 0,r,i);if(s===!1||s===null)return null;const{tr:o}=t,a=r[r.length-1],l=r[0];let c=n.to;if(a){const d=l.search(/\S/),f=n.from+l.indexOf(a),p=f+a.length;if(DO(n.from,n.to,t.doc).filter(y=>y.mark.type.excluded.find(x=>x===e.type&&x!==y.mark.type)).filter(y=>y.to>f).length)return null;p<n.to&&o.delete(p,n.to),f>n.from&&o.delete(n.from+d,f),c=n.from+d+a.length,o.addMark(n.from+d,c,e.type.create(s||{})),o.removeStoredMark(e.type)}}})}var r2,b8;function YWe(){return b8||(b8=1,r2=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!e(t[i],n[i]))return!1;return!0}if(t instanceof Map&&n instanceof Map){if(t.size!==n.size)return!1;for(i of t.entries())if(!n.has(i[0]))return!1;for(i of t.entries())if(!e(i[1],n.get(i[0])))return!1;return!0}if(t instanceof Set&&n instanceof Set){if(t.size!==n.size)return!1;for(i of t.entries())if(!n.has(i[0]))return!1;return!0}if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(n)){if(r=t.length,r!=n.length)return!1;for(i=r;i--!==0;)if(t[i]!==n[i])return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(s=Object.keys(t),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var o=s[i];if(!(o==="_owner"&&t.$$typeof)&&!e(t[o],n[o]))return!1}return!0}return t!==t&&n!==n}),r2}var QWe=YWe();const XWe=Fs(QWe);var JWe=(...e)=>t=>{e.forEach(n=>{typeof n=="function"?n(t):n&&(n.current=t)})},ZWe=({contentComponent:e})=>{const t=uQ.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getServerSnapshot);return m.jsx(m.Fragment,{children:Object.values(t)})};function eUe(){const e=new Set;let t={};return{subscribe(n){return e.add(n),()=>{e.delete(n)}},getSnapshot(){return t},getServerSnapshot(){return t},setRenderer(n,r){t={...t,[n]:Qk.createPortal(r.reactElement,r.element,n)},e.forEach(i=>i())},removeRenderer(n){const r={...t};delete r[n],t=r,e.forEach(i=>i())}}}var tUe=class extends q.Component{constructor(e){var t;super(e),this.editorContentRef=q.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((t=e.editor)!=null&&t.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const e=this.props.editor;if(e&&!e.isDestroyed&&e.options.element){if(e.contentComponent)return;const t=this.editorContentRef.current;t.append(e.view.dom),e.setOptions({element:t}),e.contentComponent=eUe(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(n=>n.hasContentComponentInitialized?n:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var e;const t=this.props.editor;if(t){this.initialized=!1,t.isDestroyed||t.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),t.contentComponent=null;try{if(!((e=t.view.dom)!=null&&e.firstChild))return;const n=document.createElement("div");n.append(t.view.dom),t.setOptions({element:n})}catch{}}}render(){const{editor:e,innerRef:t,...n}=this.props;return m.jsxs(m.Fragment,{children:[m.jsx("div",{ref:JWe(t,this.editorContentRef),...n}),e?.contentComponent&&m.jsx(ZWe,{contentComponent:e.contentComponent})]})}},nUe=C.forwardRef((e,t)=>{const n=q.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[e.editor]);return q.createElement(tUe,{key:n,innerRef:t,...e})}),rUe=q.memo(nUe),iUe=typeof window<"u"?C.useLayoutEffect:C.useEffect,sUe=class{constructor(e){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=e,this.lastSnapshot={editor:e,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(e){return this.subscribers.add(e),()=>{this.subscribers.delete(e)}}watch(e){if(this.editor=e,this.editor){const t=()=>{this.transactionNumber+=1,this.subscribers.forEach(r=>r())},n=this.editor;return n.on("transaction",t),()=>{n.off("transaction",t)}}}};function oUe(e){var t;const[n]=C.useState(()=>new sUe(e.editor)),r=ZU.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,e.selector,(t=e.equalityFn)!=null?t:XWe);return iUe(()=>n.watch(e.editor),[e.editor,n]),C.useDebugValue(r),r}var aUe=!1,Nk=typeof window>"u",lUe=Nk||!!(typeof window<"u"&&window.next),cUe=class mJ{constructor(t){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=t,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(t){this.editor=t,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(n=>n())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?Nk||lUe?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const t={...this.options.current,onBeforeCreate:(...r)=>{var i,s;return(s=(i=this.options.current).onBeforeCreate)==null?void 0:s.call(i,...r)},onBlur:(...r)=>{var i,s;return(s=(i=this.options.current).onBlur)==null?void 0:s.call(i,...r)},onCreate:(...r)=>{var i,s;return(s=(i=this.options.current).onCreate)==null?void 0:s.call(i,...r)},onDestroy:(...r)=>{var i,s;return(s=(i=this.options.current).onDestroy)==null?void 0:s.call(i,...r)},onFocus:(...r)=>{var i,s;return(s=(i=this.options.current).onFocus)==null?void 0:s.call(i,...r)},onSelectionUpdate:(...r)=>{var i,s;return(s=(i=this.options.current).onSelectionUpdate)==null?void 0:s.call(i,...r)},onTransaction:(...r)=>{var i,s;return(s=(i=this.options.current).onTransaction)==null?void 0:s.call(i,...r)},onUpdate:(...r)=>{var i,s;return(s=(i=this.options.current).onUpdate)==null?void 0:s.call(i,...r)},onContentError:(...r)=>{var i,s;return(s=(i=this.options.current).onContentError)==null?void 0:s.call(i,...r)},onDrop:(...r)=>{var i,s;return(s=(i=this.options.current).onDrop)==null?void 0:s.call(i,...r)},onPaste:(...r)=>{var i,s;return(s=(i=this.options.current).onPaste)==null?void 0:s.call(i,...r)},onDelete:(...r)=>{var i,s;return(s=(i=this.options.current).onDelete)==null?void 0:s.call(i,...r)}};return new jWe(t)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(t){return this.subscriptions.add(t),()=>{this.subscriptions.delete(t)}}static compareOptions(t,n){return Object.keys(t).every(r=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)?!0:r==="extensions"&&t.extensions&&n.extensions?t.extensions.length!==n.extensions.length?!1:t.extensions.every((i,s)=>{var o;return i===((o=n.extensions)==null?void 0:o[s])}):t[r]===n[r])}onRender(t){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&t.length===0?mJ.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(t),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(t){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=t;return}if(this.previousDeps.length===t.length&&this.previousDeps.every((r,i)=>r===t[i]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=t}scheduleDestroy(){const t=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===t){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===t&&this.setEditor(null))},1)}};function uUe(e={},t=[]){const n=C.useRef(e);n.current=e;const[r]=C.useState(()=>new cUe(n)),i=uQ.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return C.useDebugValue(i),C.useEffect(r.onRender(t)),oUe({editor:i,selector:({transactionNumber:s})=>e.shouldRerenderOnTransaction===!1||e.shouldRerenderOnTransaction===void 0?null:e.immediatelyRender&&s===0?0:s+1}),i}var dUe=C.createContext({editor:null});dUe.Consumer;var hUe=C.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),fUe=()=>C.useContext(hUe);q.forwardRef((e,t)=>{const{onDragStart:n}=fUe(),r=e.as||"div";return m.jsx(r,{...e,ref:t,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...e.style}})});q.createContext({markViewContentRef:()=>{}});var bC=(e,t)=>{if(e==="slot")return 0;if(e instanceof Function)return e(t);const{children:n,...r}=t??{};if(e==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[e,r,n]},pUe=/^\s*>\s$/,gUe=Ai.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:e}){return bC("blockquote",{...dn(this.options.HTMLAttributes,e),children:bC("slot",{})})},parseMarkdown:(e,t)=>t.createNode("blockquote",void 0,t.parseChildren(e.tokens||[])),renderMarkdown:(e,t)=>{if(!e.content)return"";const n=">",r=[];return e.content.forEach(i=>{const a=t.renderChildren([i]).split(`
`).map(l=>l.trim()===""?n:`${n} ${l}`);r.push(a.join(`
`))}),r.join(`
${n}
`)},addCommands(){return{setBlockquote:()=>({commands:e})=>e.wrapIn(this.name),toggleBlockquote:()=>({commands:e})=>e.toggleWrap(this.name),unsetBlockquote:()=>({commands:e})=>e.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Ff({find:pUe,type:this.type})]}}),mUe=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,vUe=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,yUe=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,wUe=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,bUe=Xo.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:e=>e.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:e=>e.type.name===this.name},{style:"font-weight",getAttrs:e=>/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}]},renderHTML({HTMLAttributes:e}){return bC("strong",{...dn(this.options.HTMLAttributes,e),children:bC("slot",{})})},markdownTokenName:"strong",parseMarkdown:(e,t)=>t.applyMark("bold",t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>`**${t.renderChildren(e)}**`,addCommands(){return{setBold:()=>({commands:e})=>e.setMark(this.name),toggleBold:()=>({commands:e})=>e.toggleMark(this.name),unsetBold:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Of({find:mUe,type:this.type}),Of({find:yUe,type:this.type})]},addPasteRules(){return[pd({find:vUe,type:this.type}),pd({find:wUe,type:this.type})]}}),CUe=/(^|[^`])`([^`]+)`(?!`)$/,xUe=/(^|[^`])`([^`]+)`(?!`)/g,SUe=Xo.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:e}){return["code",dn(this.options.HTMLAttributes,e),0]},markdownTokenName:"codespan",parseMarkdown:(e,t)=>t.applyMark("code",[{type:"text",text:e.text||""}]),renderMarkdown:(e,t)=>e.content?`\`${t.renderChildren(e.content)}\``:"",addCommands(){return{setCode:()=>({commands:e})=>e.setMark(this.name),toggleCode:()=>({commands:e})=>e.toggleMark(this.name),unsetCode:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Of({find:CUe,type:this.type})]},addPasteRules(){return[pd({find:xUe,type:this.type})]}}),i2=4,EUe=/^```([a-z]+)?[\s\n]$/,DUe=/^~~~([a-z]+)?[\s\n]$/,RUe=Ai.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:i2,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:e=>{var t;const{languageClassPrefix:n}=this.options;if(!n)return null;const s=[...((t=e.firstElementChild)==null?void 0:t.classList)||[]].filter(o=>o.startsWith(n)).map(o=>o.replace(n,""))[0];return s||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:e,HTMLAttributes:t}){return["pre",dn(this.options.HTMLAttributes,t),["code",{class:e.attrs.language?this.options.languageClassPrefix+e.attrs.language:null},0]]},markdownTokenName:"code",parseMarkdown:(e,t)=>{var n;return((n=e.raw)==null?void 0:n.startsWith("```"))===!1&&e.codeBlockStyle!=="indented"?[]:t.createNode("codeBlock",{language:e.lang||null},e.text?[t.createTextNode(e.text)]:[])},renderMarkdown:(e,t)=>{var n;let r="";const i=((n=e.attrs)==null?void 0:n.language)||"";return e.content?r=[`\`\`\`${i}`,t.renderChildren(e.content),"```"].join(`
`):r=`\`\`\`${i}

\`\`\``,r},addCommands(){return{setCodeBlock:e=>({commands:t})=>t.setNode(this.name,e),toggleCodeBlock:e=>({commands:t})=>t.toggleNode(this.name,"paragraph",e)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:e,$anchor:t}=this.editor.state.selection,n=t.pos===1;return!e||t.parent.type.name!==this.name?!1:n||!t.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:e})=>{var t;if(!this.options.enableTabIndentation)return!1;const n=(t=this.options.tabSize)!=null?t:i2,{state:r}=e,{selection:i}=r,{$from:s,empty:o}=i;if(s.parent.type!==this.type)return!1;const a=" ".repeat(n);return o?e.commands.insertContent(a):e.commands.command(({tr:l})=>{const{from:c,to:d}=i,v=r.doc.textBetween(c,d,`
`,`
`).split(`
`).map(y=>a+y).join(`
`);return l.replaceWith(c,d,r.schema.text(v)),!0})},"Shift-Tab":({editor:e})=>{var t;if(!this.options.enableTabIndentation)return!1;const n=(t=this.options.tabSize)!=null?t:i2,{state:r}=e,{selection:i}=r,{$from:s,empty:o}=i;return s.parent.type!==this.type?!1:o?e.commands.command(({tr:a})=>{var l;const{pos:c}=s,d=s.start(),f=s.end(),v=r.doc.textBetween(d,f,`
`,`
`).split(`
`);let y=0,b=0;const x=c-d;for(let P=0;P<v.length;P+=1){if(b+v[P].length>=x){y=P;break}b+=v[P].length+1}const M=((l=v[y].match(/^ */))==null?void 0:l[0])||"",R=Math.min(M.length,n);if(R===0)return!0;let T=d;for(let P=0;P<y;P+=1)T+=v[P].length+1;return a.delete(T,T+R),c-T<=R&&a.setSelection(Ke.create(a.doc,T)),!0}):e.commands.command(({tr:a})=>{const{from:l,to:c}=i,p=r.doc.textBetween(l,c,`
`,`
`).split(`
`).map(v=>{var y;const b=((y=v.match(/^ */))==null?void 0:y[0])||"",x=Math.min(b.length,n);return v.slice(x)}).join(`
`);return a.replaceWith(l,c,r.schema.text(p)),!0})},Enter:({editor:e})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:t}=e,{selection:n}=t,{$from:r,empty:i}=n;if(!i||r.parent.type!==this.type)return!1;const s=r.parentOffset===r.parent.nodeSize-2,o=r.parent.textContent.endsWith(`

`);return!s||!o?!1:e.chain().command(({tr:a})=>(a.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:e})=>{if(!this.options.exitOnArrowDown)return!1;const{state:t}=e,{selection:n,doc:r}=t,{$from:i,empty:s}=n;if(!s||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const a=i.after();return a===void 0?!1:r.nodeAt(a)?e.commands.command(({tr:c})=>(c.setSelection(nt.near(r.resolve(a))),!0)):e.commands.exitCode()}}},addInputRules(){return[Ak({find:EUe,type:this.type,getAttributes:e=>({language:e[1]})}),Ak({find:DUe,type:this.type,getAttributes:e=>({language:e[1]})})]},addProseMirrorPlugins(){return[new mn({key:new Yn("codeBlockVSCodeHandler"),props:{handlePaste:(e,t)=>{if(!t.clipboardData||this.editor.isActive(this.type.name))return!1;const n=t.clipboardData.getData("text/plain"),r=t.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,s=i?.mode;if(!n||!s)return!1;const{tr:o,schema:a}=e.state,l=a.text(n.replace(/\r\n?/g,`
`));return o.replaceSelectionWith(this.type.create({language:s},l)),o.selection.$from.parent.type!==this.type&&o.setSelection(Ke.near(o.doc.resolve(Math.max(0,o.selection.from-2)))),o.setMeta("paste",!0),e.dispatch(o),!0}}})]}}),MUe=Ai.create({name:"doc",topNode:!0,content:"block+",renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,`

`):""}),TUe=Ai.create({name:"hardBreak",markdownTokenName:"br",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:e}){return["br",dn(this.options.HTMLAttributes,e)]},renderText(){return`
`},renderMarkdown:()=>`  
`,parseMarkdown:()=>({type:"hardBreak"}),addCommands(){return{setHardBreak:()=>({commands:e,chain:t,state:n,editor:r})=>e.first([()=>e.exitCode(),()=>e.command(()=>{const{selection:i,storedMarks:s}=n;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:o}=this.options,{splittableMarks:a}=r.extensionManager,l=s||i.$to.parentOffset&&i.$from.marks();return t().insertContent({type:this.name}).command(({tr:c,dispatch:d})=>{if(d&&l&&o){const f=l.filter(p=>a.includes(p.type.name));c.ensureMarks(f)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),kUe=Ai.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(e=>({tag:`h${e}`,attrs:{level:e}}))},renderHTML({node:e,HTMLAttributes:t}){return[`h${this.options.levels.includes(e.attrs.level)?e.attrs.level:this.options.levels[0]}`,dn(this.options.HTMLAttributes,t),0]},parseMarkdown:(e,t)=>t.createNode("heading",{level:e.depth||1},t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>{var n;const r=(n=e.attrs)!=null&&n.level?parseInt(e.attrs.level,10):1,i="#".repeat(r);return e.content?`${i} ${t.renderChildren(e.content)}`:""},addCommands(){return{setHeading:e=>({commands:t})=>this.options.levels.includes(e.level)?t.setNode(this.name,e):!1,toggleHeading:e=>({commands:t})=>this.options.levels.includes(e.level)?t.toggleNode(this.name,"paragraph",e):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((e,t)=>({...e,[`Mod-Alt-${t}`]:()=>this.editor.commands.toggleHeading({level:t})}),{})},addInputRules(){return this.options.levels.map(e=>Ak({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${e}})\\s$`),type:this.type,getAttributes:{level:e}}))}}),AUe=Ai.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:e}){return["hr",dn(this.options.HTMLAttributes,e)]},markdownTokenName:"hr",parseMarkdown:(e,t)=>t.createNode("horizontalRule"),renderMarkdown:()=>"---",addCommands(){return{setHorizontalRule:()=>({chain:e,state:t})=>{if(!zWe(t,t.schema.nodes[this.name]))return!1;const{selection:n}=t,{$to:r}=n,i=e();return ZX(n)?i.insertContentAt(r.pos,{type:this.name}):i.insertContent({type:this.name}),i.command(({state:s,tr:o,dispatch:a})=>{if(a){const{$to:l}=o.selection,c=l.end();if(l.nodeAfter)l.nodeAfter.isTextblock?o.setSelection(Ke.create(o.doc,l.pos+1)):l.nodeAfter.isBlock?o.setSelection(ze.create(o.doc,l.pos)):o.setSelection(Ke.create(o.doc,l.pos));else{const d=s.schema.nodes[this.options.nextNodeType]||l.parent.type.contentMatch.defaultType,f=d?.create();f&&(o.insert(c,f),o.setSelection(Ke.create(o.doc,c+1)))}o.scrollIntoView()}return!0}).run()}}},addInputRules(){return[pJ({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),PUe=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,NUe=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,OUe=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,FUe=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,IUe=Xo.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:e=>e.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:e=>e.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:e}){return["em",dn(this.options.HTMLAttributes,e),0]},addCommands(){return{setItalic:()=>({commands:e})=>e.setMark(this.name),toggleItalic:()=>({commands:e})=>e.toggleMark(this.name),unsetItalic:()=>({commands:e})=>e.unsetMark(this.name)}},markdownTokenName:"em",parseMarkdown:(e,t)=>t.applyMark("italic",t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>`*${t.renderChildren(e)}*`,addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Of({find:PUe,type:this.type}),Of({find:OUe,type:this.type})]},addPasteRules(){return[pd({find:NUe,type:this.type}),pd({find:FUe,type:this.type})]}});const LUe="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",_Ue="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",Ok="numeric",Fk="ascii",Ik="alpha",Gg="asciinumeric",Rg="alphanumeric",Lk="domain",vJ="emoji",jUe="scheme",BUe="slashscheme",s2="whitespace";function HUe(e,t){return e in t||(t[e]=[]),t[e]}function Nu(e,t,n){t[Ok]&&(t[Gg]=!0,t[Rg]=!0),t[Fk]&&(t[Gg]=!0,t[Ik]=!0),t[Gg]&&(t[Rg]=!0),t[Ik]&&(t[Rg]=!0),t[Rg]&&(t[Lk]=!0),t[vJ]&&(t[Lk]=!0);for(const r in t){const i=HUe(r,n);i.indexOf(e)<0&&i.push(e)}}function zUe(e,t){const n={};for(const r in t)t[r].indexOf(e)>=0&&(n[r]=!0);return n}function gi(e=null){this.j={},this.jr=[],this.jd=null,this.t=e}gi.groups={};gi.prototype={accepts(){return!!this.t},go(e){const t=this,n=t.j[e];if(n)return n;for(let r=0;r<t.jr.length;r++){const i=t.jr[r][0],s=t.jr[r][1];if(s&&i.test(e))return s}return t.jd},has(e,t=!1){return t?e in this.j:!!this.go(e)},ta(e,t,n,r){for(let i=0;i<e.length;i++)this.tt(e[i],t,n,r)},tr(e,t,n,r){r=r||gi.groups;let i;return t&&t.j?i=t:(i=new gi(t),n&&r&&Nu(t,n,r)),this.jr.push([e,i]),i},ts(e,t,n,r){let i=this;const s=e.length;if(!s)return i;for(let o=0;o<s-1;o++)i=i.tt(e[o]);return i.tt(e[s-1],t,n,r)},tt(e,t,n,r){r=r||gi.groups;const i=this;if(t&&t.j)return i.j[e]=t,t;const s=t;let o,a=i.go(e);if(a?(o=new gi,Object.assign(o.j,a.j),o.jr.push.apply(o.jr,a.jr),o.jd=a.jd,o.t=a.t):o=new gi,s){if(r)if(o.t&&typeof o.t=="string"){const l=Object.assign(zUe(o.t,r),n);Nu(s,l,r)}else n&&Nu(s,n,r);o.t=s}return i.j[e]=o,o}};const tt=(e,t,n,r,i)=>e.ta(t,n,r,i),wn=(e,t,n,r,i)=>e.tr(t,n,r,i),C8=(e,t,n,r,i)=>e.ts(t,n,r,i),Se=(e,t,n,r,i)=>e.tt(t,n,r,i),Ca="WORD",_k="UWORD",yJ="ASCIINUMERICAL",wJ="ALPHANUMERICAL",_m="LOCALHOST",jk="TLD",Bk="UTLD",Sw="SCHEME",Ph="SLASH_SCHEME",AO="NUM",Hk="WS",PO="NL",Vg="OPENBRACE",Wg="CLOSEBRACE",CC="OPENBRACKET",xC="CLOSEBRACKET",SC="OPENPAREN",EC="CLOSEPAREN",DC="OPENANGLEBRACKET",RC="CLOSEANGLEBRACKET",MC="FULLWIDTHLEFTPAREN",TC="FULLWIDTHRIGHTPAREN",kC="LEFTCORNERBRACKET",AC="RIGHTCORNERBRACKET",PC="LEFTWHITECORNERBRACKET",NC="RIGHTWHITECORNERBRACKET",OC="FULLWIDTHLESSTHAN",FC="FULLWIDTHGREATERTHAN",IC="AMPERSAND",LC="APOSTROPHE",_C="ASTERISK",sc="AT",jC="BACKSLASH",BC="BACKTICK",HC="CARET",uc="COLON",NO="COMMA",zC="DOLLAR",mo="DOT",GC="EQUALS",OO="EXCLAMATION",ys="HYPHEN",Ug="PERCENT",VC="PIPE",WC="PLUS",UC="POUND",$g="QUERY",FO="QUOTE",bJ="FULLWIDTHMIDDLEDOT",IO="SEMI",vo="SLASH",qg="TILDE",$C="UNDERSCORE",CJ="EMOJI",qC="SYM";var xJ=Object.freeze({__proto__:null,ALPHANUMERICAL:wJ,AMPERSAND:IC,APOSTROPHE:LC,ASCIINUMERICAL:yJ,ASTERISK:_C,AT:sc,BACKSLASH:jC,BACKTICK:BC,CARET:HC,CLOSEANGLEBRACKET:RC,CLOSEBRACE:Wg,CLOSEBRACKET:xC,CLOSEPAREN:EC,COLON:uc,COMMA:NO,DOLLAR:zC,DOT:mo,EMOJI:CJ,EQUALS:GC,EXCLAMATION:OO,FULLWIDTHGREATERTHAN:FC,FULLWIDTHLEFTPAREN:MC,FULLWIDTHLESSTHAN:OC,FULLWIDTHMIDDLEDOT:bJ,FULLWIDTHRIGHTPAREN:TC,HYPHEN:ys,LEFTCORNERBRACKET:kC,LEFTWHITECORNERBRACKET:PC,LOCALHOST:_m,NL:PO,NUM:AO,OPENANGLEBRACKET:DC,OPENBRACE:Vg,OPENBRACKET:CC,OPENPAREN:SC,PERCENT:Ug,PIPE:VC,PLUS:WC,POUND:UC,QUERY:$g,QUOTE:FO,RIGHTCORNERBRACKET:AC,RIGHTWHITECORNERBRACKET:NC,SCHEME:Sw,SEMI:IO,SLASH:vo,SLASH_SCHEME:Ph,SYM:qC,TILDE:qg,TLD:jk,UNDERSCORE:$C,UTLD:Bk,UWORD:_k,WORD:Ca,WS:Hk});const ya=/[a-z]/,vg=new RegExp("\\p{L}","u"),o2=new RegExp("\\p{Emoji}","u"),wa=/\d/,a2=/\s/,x8="\r",l2=`
`,GUe="",VUe="",c2="";let z0=null,G0=null;function WUe(e=[]){const t={};gi.groups=t;const n=new gi;z0==null&&(z0=S8(LUe)),G0==null&&(G0=S8(_Ue)),Se(n,"'",LC),Se(n,"{",Vg),Se(n,"}",Wg),Se(n,"[",CC),Se(n,"]",xC),Se(n,"(",SC),Se(n,")",EC),Se(n,"<",DC),Se(n,">",RC),Se(n,"",MC),Se(n,"",TC),Se(n,"",kC),Se(n,"",AC),Se(n,"",PC),Se(n,"",NC),Se(n,"",OC),Se(n,"",FC),Se(n,"&",IC),Se(n,"*",_C),Se(n,"@",sc),Se(n,"`",BC),Se(n,"^",HC),Se(n,":",uc),Se(n,",",NO),Se(n,"$",zC),Se(n,".",mo),Se(n,"=",GC),Se(n,"!",OO),Se(n,"-",ys),Se(n,"%",Ug),Se(n,"|",VC),Se(n,"+",WC),Se(n,"#",UC),Se(n,"?",$g),Se(n,'"',FO),Se(n,"/",vo),Se(n,";",IO),Se(n,"~",qg),Se(n,"_",$C),Se(n,"\\",jC),Se(n,"",bJ);const r=wn(n,wa,AO,{[Ok]:!0});wn(r,wa,r);const i=wn(r,ya,yJ,{[Gg]:!0}),s=wn(r,vg,wJ,{[Rg]:!0}),o=wn(n,ya,Ca,{[Fk]:!0});wn(o,wa,i),wn(o,ya,o),wn(i,wa,i),wn(i,ya,i);const a=wn(n,vg,_k,{[Ik]:!0});wn(a,ya),wn(a,wa,s),wn(a,vg,a),wn(s,wa,s),wn(s,ya),wn(s,vg,s);const l=Se(n,l2,PO,{[s2]:!0}),c=Se(n,x8,Hk,{[s2]:!0}),d=wn(n,a2,Hk,{[s2]:!0});Se(n,c2,d),Se(c,l2,l),Se(c,c2,d),wn(c,a2,d),Se(d,x8),Se(d,l2),wn(d,a2,d),Se(d,c2,d);const f=wn(n,o2,CJ,{[vJ]:!0});Se(f,"#"),wn(f,o2,f),Se(f,GUe,f);const p=Se(f,VUe);Se(p,"#"),wn(p,o2,f);const v=[[ya,o],[wa,i]],y=[[ya,null],[vg,a],[wa,s]];for(let b=0;b<z0.length;b++)Jl(n,z0[b],jk,Ca,v);for(let b=0;b<G0.length;b++)Jl(n,G0[b],Bk,_k,y);Nu(jk,{tld:!0,ascii:!0},t),Nu(Bk,{utld:!0,alpha:!0},t),Jl(n,"file",Sw,Ca,v),Jl(n,"mailto",Sw,Ca,v),Jl(n,"http",Ph,Ca,v),Jl(n,"https",Ph,Ca,v),Jl(n,"ftp",Ph,Ca,v),Jl(n,"ftps",Ph,Ca,v),Nu(Sw,{scheme:!0,ascii:!0},t),Nu(Ph,{slashscheme:!0,ascii:!0},t),e=e.sort((b,x)=>b[0]>x[0]?1:-1);for(let b=0;b<e.length;b++){const x=e[b][0],M=e[b][1]?{[jUe]:!0}:{[BUe]:!0};x.indexOf("-")>=0?M[Lk]=!0:ya.test(x)?wa.test(x)?M[Gg]=!0:M[Fk]=!0:M[Ok]=!0,C8(n,x,x,M)}return C8(n,"localhost",_m,{ascii:!0}),n.jd=new gi(qC),{start:n,tokens:Object.assign({groups:t},xJ)}}function SJ(e,t){const n=UUe(t.replace(/[A-Z]/g,a=>a.toLowerCase())),r=n.length,i=[];let s=0,o=0;for(;o<r;){let a=e,l=null,c=0,d=null,f=-1,p=-1;for(;o<r&&(l=a.go(n[o]));)a=l,a.accepts()?(f=0,p=0,d=a):f>=0&&(f+=n[o].length,p++),c+=n[o].length,s+=n[o].length,o++;s-=f,o-=p,c-=f,i.push({t:d.t,v:t.slice(s-c,s),s:s-c,e:s})}return i}function UUe(e){const t=[],n=e.length;let r=0;for(;r<n;){let i=e.charCodeAt(r),s,o=i<55296||i>56319||r+1===n||(s=e.charCodeAt(r+1))<56320||s>57343?e[r]:e.slice(r,r+2);t.push(o),r+=o.length}return t}function Jl(e,t,n,r,i){let s;const o=t.length;for(let a=0;a<o-1;a++){const l=t[a];e.j[l]?s=e.j[l]:(s=new gi(r),s.jr=i.slice(),e.j[l]=s),e=s}return s=new gi(n),s.jr=i.slice(),e.j[t[o-1]]=s,s}function S8(e){const t=[],n=[];let r=0,i="0123456789";for(;r<e.length;){let s=0;for(;i.indexOf(e[r+s])>=0;)s++;if(s>0){t.push(n.join(""));for(let o=parseInt(e.substring(r,r+s),10);o>0;o--)n.pop();r+=s}else n.push(e[r]),r++}return t}const jm={defaultProtocol:"http",events:null,format:E8,formatHref:E8,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function LO(e,t=null){let n=Object.assign({},jm);e&&(n=Object.assign(n,e instanceof LO?e.o:e));const r=n.ignoreTags,i=[];for(let s=0;s<r.length;s++)i.push(r[s].toUpperCase());this.o=n,t&&(this.defaultRender=t),this.ignoreTags=i}LO.prototype={o:jm,ignoreTags:[],defaultRender(e){return e},check(e){return this.get("validate",e.toString(),e)},get(e,t,n){const r=t!=null;let i=this.o[e];return i&&(typeof i=="object"?(i=n.t in i?i[n.t]:jm[e],typeof i=="function"&&r&&(i=i(t,n))):typeof i=="function"&&r&&(i=i(t,n.t,n)),i)},getObj(e,t,n){let r=this.o[e];return typeof r=="function"&&t!=null&&(r=r(t,n.t,n)),r},render(e){const t=e.render(this);return(this.get("render",null,e)||this.defaultRender)(t,e.t,e)}};function E8(e){return e}function EJ(e,t){this.t="token",this.v=e,this.tk=t}EJ.prototype={isLink:!1,toString(){return this.v},toHref(e){return this.toString()},toFormattedString(e){const t=this.toString(),n=e.get("truncate",t,this),r=e.get("format",t,this);return n&&r.length>n?r.substring(0,n)+"":r},toFormattedHref(e){return e.get("formatHref",this.toHref(e.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(e=jm.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(e),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(e){return{type:this.t,value:this.toFormattedString(e),isLink:this.isLink,href:this.toFormattedHref(e),start:this.startIndex(),end:this.endIndex()}},validate(e){return e.get("validate",this.toString(),this)},render(e){const t=this,n=this.toHref(e.get("defaultProtocol")),r=e.get("formatHref",n,this),i=e.get("tagName",n,t),s=this.toFormattedString(e),o={},a=e.get("className",n,t),l=e.get("target",n,t),c=e.get("rel",n,t),d=e.getObj("attributes",n,t),f=e.getObj("events",n,t);return o.href=r,a&&(o.class=a),l&&(o.target=l),c&&(o.rel=c),d&&Object.assign(o,d),{tagName:i,attributes:o,content:s,eventListeners:f}}};function OS(e,t){class n extends EJ{constructor(i,s){super(i,s),this.t=e}}for(const r in t)n.prototype[r]=t[r];return n.t=e,n}const D8=OS("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),R8=OS("text"),$Ue=OS("nl"),V0=OS("url",{isLink:!0,toHref(e=jm.defaultProtocol){return this.hasProtocol()?this.v:`${e}://${this.v}`},hasProtocol(){const e=this.tk;return e.length>=2&&e[0].t!==_m&&e[1].t===uc}}),ps=e=>new gi(e);function qUe({groups:e}){const t=e.domain.concat([IC,_C,sc,jC,BC,HC,zC,GC,ys,AO,Ug,VC,WC,UC,vo,qC,qg,$C]),n=[LC,uc,NO,mo,OO,Ug,$g,FO,IO,DC,RC,Vg,Wg,xC,CC,SC,EC,MC,TC,kC,AC,PC,NC,OC,FC],r=[IC,LC,_C,jC,BC,HC,zC,GC,ys,Vg,Wg,Ug,VC,WC,UC,$g,vo,qC,qg,$C],i=ps(),s=Se(i,qg);tt(s,r,s),tt(s,e.domain,s);const o=ps(),a=ps(),l=ps();tt(i,e.domain,o),tt(i,e.scheme,a),tt(i,e.slashscheme,l),tt(o,r,s),tt(o,e.domain,o);const c=Se(o,sc);Se(s,sc,c),Se(a,sc,c),Se(l,sc,c);const d=Se(s,mo);tt(d,r,s),tt(d,e.domain,s);const f=ps();tt(c,e.domain,f),tt(f,e.domain,f);const p=Se(f,mo);tt(p,e.domain,f);const v=ps(D8);tt(p,e.tld,v),tt(p,e.utld,v),Se(c,_m,v);const y=Se(f,ys);Se(y,ys,y),tt(y,e.domain,f),tt(v,e.domain,f),Se(v,mo,p),Se(v,ys,y);const b=Se(v,uc);tt(b,e.numeric,D8);const x=Se(o,ys),S=Se(o,mo);Se(x,ys,x),tt(x,e.domain,o),tt(S,r,s),tt(S,e.domain,o);const M=ps(V0);tt(S,e.tld,M),tt(S,e.utld,M),tt(M,e.domain,o),tt(M,r,s),Se(M,mo,S),Se(M,ys,x),Se(M,sc,c);const R=Se(M,uc),T=ps(V0);tt(R,e.numeric,T);const k=ps(V0),P=ps();tt(k,t,k),tt(k,n,P),tt(P,t,k),tt(P,n,P),Se(M,vo,k),Se(T,vo,k);const A=Se(a,uc),O=Se(l,uc),B=Se(O,vo),U=Se(B,vo);tt(a,e.domain,o),Se(a,mo,S),Se(a,ys,x),tt(l,e.domain,o),Se(l,mo,S),Se(l,ys,x),tt(A,e.domain,k),Se(A,vo,k),Se(A,$g,k),tt(U,e.domain,k),tt(U,t,k),Se(U,vo,k);const _=[[Vg,Wg],[CC,xC],[SC,EC],[DC,RC],[MC,TC],[kC,AC],[PC,NC],[OC,FC]];for(let I=0;I<_.length;I++){const[V,F]=_[I],L=Se(k,V);Se(P,V,L),Se(L,F,k);const z=ps(V0);tt(L,t,z);const j=ps();tt(L,n),tt(z,t,z),tt(z,n,j),tt(j,t,z),tt(j,n,j),Se(z,F,k),Se(j,F,k)}return Se(i,_m,M),Se(i,PO,$Ue),{start:i,tokens:xJ}}function KUe(e,t,n){let r=n.length,i=0,s=[],o=[];for(;i<r;){let a=e,l=null,c=null,d=0,f=null,p=-1;for(;i<r&&!(l=a.go(n[i].t));)o.push(n[i++]);for(;i<r&&(c=l||a.go(n[i].t));)l=null,a=c,a.accepts()?(p=0,f=a):p>=0&&p++,i++,d++;if(p<0)i-=d,i<r&&(o.push(n[i]),i++);else{o.length>0&&(s.push(u2(R8,t,o)),o=[]),i-=p,d-=p;const v=f.t,y=n.slice(i-d,i);s.push(u2(v,t,y))}}return o.length>0&&s.push(u2(R8,t,o)),s}function u2(e,t,n){const r=n[0].s,i=n[n.length-1].e,s=t.slice(r,i);return new e(s,n)}const YUe=typeof console<"u"&&console&&console.warn||(()=>{}),QUe="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",tn={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function XUe(){return gi.groups={},tn.scanner=null,tn.parser=null,tn.tokenQueue=[],tn.pluginQueue=[],tn.customSchemes=[],tn.initialized=!1,tn}function M8(e,t=!1){if(tn.initialized&&YUe(`linkifyjs: already initialized - will not register custom scheme "${e}" ${QUe}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(e))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);tn.customSchemes.push([e,t])}function JUe(){tn.scanner=WUe(tn.customSchemes);for(let e=0;e<tn.tokenQueue.length;e++)tn.tokenQueue[e][1]({scanner:tn.scanner});tn.parser=qUe(tn.scanner.tokens);for(let e=0;e<tn.pluginQueue.length;e++)tn.pluginQueue[e][1]({scanner:tn.scanner,parser:tn.parser});return tn.initialized=!0,tn}function _O(e){return tn.initialized||JUe(),KUe(tn.parser.start,e,SJ(tn.scanner.start,e))}_O.scan=SJ;function DJ(e,t=null,n=null){if(t&&typeof t=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${t}; must be a string`);n=t,t=null}const r=new LO(n),i=_O(e),s=[];for(let o=0;o<i.length;o++){const a=i[o];a.isLink&&(!t||a.t===t)&&r.check(a)&&s.push(a.toFormattedObject(r))}return s}var jO="[\0- -\u2029]",ZUe=new RegExp(jO),e9e=new RegExp(`${jO}$`),t9e=new RegExp(jO,"g");function n9e(e){return e.length===1?e[0].isLink:e.length===3&&e[1].isLink?["()","[]"].includes(e[0].value+e[2].value):!1}function r9e(e){return new mn({key:new Yn("autolink"),appendTransaction:(t,n,r)=>{const i=t.some(c=>c.docChanged)&&!n.doc.eq(r.doc),s=t.some(c=>c.getMeta("preventAutolink"));if(!i||s)return;const{tr:o}=r,a=UX(n.doc,[...t]);if(JX(a).forEach(({newRange:c})=>{const d=G7e(r.doc,c,v=>v.isTextblock);let f,p;if(d.length>1)f=d[0],p=r.doc.textBetween(f.pos,f.pos+f.node.nodeSize,void 0," ");else if(d.length){const v=r.doc.textBetween(c.from,c.to," "," ");if(!e9e.test(v))return;f=d[0],p=r.doc.textBetween(f.pos,c.to,void 0," ")}if(f&&p){const v=p.split(ZUe).filter(Boolean);if(v.length<=0)return!1;const y=v[v.length-1],b=f.pos+p.lastIndexOf(y);if(!y)return!1;const x=_O(y).map(S=>S.toObject(e.defaultProtocol));if(!n9e(x))return!1;x.filter(S=>S.isLink).map(S=>({...S,from:b+S.start+1,to:b+S.end+1})).filter(S=>r.schema.marks.code?!r.doc.rangeHasMark(S.from,S.to,r.schema.marks.code):!0).filter(S=>e.validate(S.value)).filter(S=>e.shouldAutoLink(S.value)).forEach(S=>{DO(S.from,S.to,r.doc).some(M=>M.mark.type===e.type)||o.addMark(S.from,S.to,e.type.create({href:S.href}))})}}),!!o.steps.length)return o}})}function i9e(e){return new mn({key:new Yn("handleClickLink"),props:{handleClick:(t,n,r)=>{var i,s;if(r.button!==0||!t.editable)return!1;let o=null;if(r.target instanceof HTMLAnchorElement)o=r.target;else{let d=r.target;const f=[];for(;d.nodeName!=="DIV";)f.push(d),d=d.parentNode;o=f.find(p=>p.nodeName==="A")}if(!o)return!1;const a=XX(t.state,e.type.name),l=(i=o?.href)!=null?i:a.href,c=(s=o?.target)!=null?s:a.target;return e.enableClickSelection&&e.editor.commands.extendMarkRange(e.type.name),o&&l?(window.open(l,c),!0):!1}}})}function s9e(e){return new mn({key:new Yn("handlePasteLink"),props:{handlePaste:(t,n,r)=>{const{shouldAutoLink:i}=e,{state:s}=t,{selection:o}=s,{empty:a}=o;if(a)return!1;let l="";r.content.forEach(d=>{l+=d.textContent});const c=DJ(l,{defaultProtocol:e.defaultProtocol}).find(d=>d.isLink&&d.value===l);return!l||!c||i!==void 0&&!i(c.href)?!1:e.editor.commands.setMark(e.type,{href:c.href})}}})}function hu(e,t){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return t&&t.forEach(r=>{const i=typeof r=="string"?r:r.scheme;i&&n.push(i)}),!e||e.replace(t9e,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var RJ=Xo.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(e=>{if(typeof e=="string"){M8(e);return}M8(e.scheme,e.optionalSlashes)})},onDestroy(){XUe()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(e,t)=>!!hu(e,t.protocols),validate:e=>!!e,shouldAutoLink:e=>!!e}},addAttributes(){return{href:{default:null,parseHTML(e){return e.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:e=>{const t=e.getAttribute("href");return!t||!this.options.isAllowedUri(t,{defaultValidate:n=>!!hu(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:e}){return this.options.isAllowedUri(e.href,{defaultValidate:t=>!!hu(t,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",dn(this.options.HTMLAttributes,e),0]:["a",dn(this.options.HTMLAttributes,{...e,href:""}),0]},markdownTokenName:"link",parseMarkdown:(e,t)=>t.applyMark("link",t.parseInline(e.tokens||[]),{href:e.href,title:e.title||null}),renderMarkdown:(e,t)=>{var n;const r=((n=e.attrs)==null?void 0:n.href)||"";return`[${t.renderChildren(e)}](${r})`},addCommands(){return{setLink:e=>({chain:t})=>{const{href:n}=e;return this.options.isAllowedUri(n,{defaultValidate:r=>!!hu(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?t().setMark(this.name,e).setMeta("preventAutolink",!0).run():!1},toggleLink:e=>({chain:t})=>{const{href:n}=e||{};return n&&!this.options.isAllowedUri(n,{defaultValidate:r=>!!hu(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:t().toggleMark(this.name,e,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:e})=>e().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[pd({find:e=>{const t=[];if(e){const{protocols:n,defaultProtocol:r}=this.options,i=DJ(e).filter(s=>s.isLink&&this.options.isAllowedUri(s.value,{defaultValidate:o=>!!hu(o,n),protocols:n,defaultProtocol:r}));i.length&&i.forEach(s=>{this.options.shouldAutoLink(s.value)&&t.push({text:s.value,data:{href:s.href},index:s.start})})}return t},type:this.type,getAttributes:e=>{var t;return{href:(t=e.data)==null?void 0:t.href}}})]},addProseMirrorPlugins(){const e=[],{protocols:t,defaultProtocol:n}=this.options;return this.options.autolink&&e.push(r9e({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:r=>this.options.isAllowedUri(r,{defaultValidate:i=>!!hu(i,t),protocols:t,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&e.push(i9e({type:this.type,editor:this.editor,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&e.push(s9e({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type,shouldAutoLink:this.options.shouldAutoLink})),e}}),o9e=Object.defineProperty,a9e=(e,t)=>{for(var n in t)o9e(e,n,{get:t[n],enumerable:!0})},l9e="listItem",T8="textStyle",k8=/^\s*([-+*])\s$/,MJ=Ai.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:e}){return["ul",dn(this.options.HTMLAttributes,e),0]},markdownTokenName:"list",parseMarkdown:(e,t)=>e.type!=="list"||e.ordered?[]:{type:"bulletList",content:e.items?t.parseChildren(e.items):[]},renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,`
`):"",markdownOptions:{indentsContent:!0},addCommands(){return{toggleBulletList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(l9e,this.editor.getAttributes(T8)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let e=Ff({find:k8,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(e=Ff({find:k8,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(T8),editor:this.editor})),[e]}}),TJ=Ai.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:e}){return["li",dn(this.options.HTMLAttributes,e),0]},markdownTokenName:"list_item",parseMarkdown:(e,t)=>{if(e.type!=="list_item")return[];let n=[];if(e.tokens&&e.tokens.length>0)if(e.tokens.some(i=>i.type==="paragraph"))n=t.parseChildren(e.tokens);else{const i=e.tokens[0];if(i&&i.type==="text"&&i.tokens&&i.tokens.length>0){if(n=[{type:"paragraph",content:t.parseInline(i.tokens)}],e.tokens.length>1){const o=e.tokens.slice(1),a=t.parseChildren(o);n.push(...a)}}else n=t.parseChildren(e.tokens)}return n.length===0&&(n=[{type:"paragraph",content:[]}]),{type:"listItem",content:n}},renderMarkdown:(e,t,n)=>kO(e,t,r=>r.parentType==="bulletList"?"- ":r.parentType==="orderedList"?`${r.index+1}. `:"- ",n),addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),c9e={};a9e(c9e,{findListItemPos:()=>kv,getNextListDepth:()=>BO,handleBackspace:()=>zk,handleDelete:()=>Gk,hasListBefore:()=>kJ,hasListItemAfter:()=>u9e,hasListItemBefore:()=>AJ,listItemHasSubList:()=>PJ,nextListIsDeeper:()=>NJ,nextListIsHigher:()=>OJ});var kv=(e,t)=>{const{$from:n}=t.selection,r=Hn(e,t.schema);let i=null,s=n.depth,o=n.pos,a=null;for(;s>0&&a===null;)i=n.node(s),i.type===r?a=s:(s-=1,o-=1);return a===null?null:{$pos:t.doc.resolve(o),depth:a}},BO=(e,t)=>{const n=kv(e,t);if(!n)return!1;const[,r]=J7e(t,e,n.$pos.pos+4);return r},kJ=(e,t,n)=>{const{$anchor:r}=e.selection,i=Math.max(0,r.pos-2),s=e.doc.resolve(i).node();return!(!s||!n.includes(s.type.name))},AJ=(e,t)=>{var n;const{$anchor:r}=t.selection,i=t.doc.resolve(r.pos-2);return!(i.index()===0||((n=i.nodeBefore)==null?void 0:n.type.name)!==e)},PJ=(e,t,n)=>{if(!n)return!1;const r=Hn(e,t.schema);let i=!1;return n.descendants(s=>{s.type===r&&(i=!0)}),i},zk=(e,t,n)=>{if(e.commands.undoInputRule())return!0;if(e.state.selection.from!==e.state.selection.to)return!1;if(!Oc(e.state,t)&&kJ(e.state,t,n)){const{$anchor:a}=e.state.selection,l=e.state.doc.resolve(a.before()-1),c=[];l.node().descendants((p,v)=>{p.type.name===t&&c.push({node:p,pos:v})});const d=c.at(-1);if(!d)return!1;const f=e.state.doc.resolve(l.start()+d.pos+1);return e.chain().cut({from:a.start()-1,to:a.end()+1},f.end()).joinForward().run()}if(!Oc(e.state,t)||!nWe(e.state))return!1;const r=kv(t,e.state);if(!r)return!1;const s=e.state.doc.resolve(r.$pos.pos-2).node(r.depth),o=PJ(t,e.state,s);return AJ(t,e.state)&&!o?e.commands.joinItemBackward():e.chain().liftListItem(t).run()},NJ=(e,t)=>{const n=BO(e,t),r=kv(e,t);return!r||!n?!1:n>r.depth},OJ=(e,t)=>{const n=BO(e,t),r=kv(e,t);return!r||!n?!1:n<r.depth},Gk=(e,t)=>{if(!Oc(e.state,t)||!tWe(e.state,t))return!1;const{selection:n}=e.state,{$from:r,$to:i}=n;return!n.empty&&r.sameParent(i)?!1:NJ(t,e.state)?e.chain().focus(e.state.selection.from+4).lift(t).joinBackward().run():OJ(t,e.state)?e.chain().joinForward().joinBackward().run():e.commands.joinItemForward()},u9e=(e,t)=>{var n;const{$anchor:r}=t.selection,i=t.doc.resolve(r.pos-r.parentOffset-2);return!(i.index()===i.parent.childCount-1||((n=i.nodeAfter)==null?void 0:n.type.name)!==e)},FJ=Gt.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:n})=>{e.state.schema.nodes[n]!==void 0&&Gk(e,n)&&(t=!0)}),t},"Mod-Delete":({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:n})=>{e.state.schema.nodes[n]!==void 0&&Gk(e,n)&&(t=!0)}),t},Backspace:({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{e.state.schema.nodes[n]!==void 0&&zk(e,n,r)&&(t=!0)}),t},"Mod-Backspace":({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{e.state.schema.nodes[n]!==void 0&&zk(e,n,r)&&(t=!0)}),t}}}}),A8=/^(\s*)(\d+)\.\s+(.*)$/,d9e=/^\s/;function h9e(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n],s=i.match(A8);if(!s)break;const[,o,a,l]=s,c=o.length;let d=l,f=n+1;const p=[i];for(;f<e.length;){const v=e[f];if(v.match(A8))break;if(v.trim()==="")p.push(v),d+=`
`,f+=1;else if(v.match(d9e))p.push(v),d+=`
${v.slice(c+2)}`,f+=1;else break}t.push({indent:c,number:parseInt(a,10),content:d.trim(),raw:p.join(`
`)}),r=f,n=f}return[t,r]}function IJ(e,t,n){var r;const i=[];let s=0;for(;s<e.length;){const o=e[s];if(o.indent===t){const a=o.content.split(`
`),l=((r=a[0])==null?void 0:r.trim())||"",c=[];l&&c.push({type:"paragraph",raw:l,tokens:n.inlineTokens(l)});const d=a.slice(1).join(`
`).trim();if(d){const v=n.blockTokens(d);c.push(...v)}let f=s+1;const p=[];for(;f<e.length&&e[f].indent>t;)p.push(e[f]),f+=1;if(p.length>0){const v=Math.min(...p.map(b=>b.indent)),y=IJ(p,v,n);c.push({type:"list",ordered:!0,start:p[0].number,items:y,raw:p.map(b=>b.raw).join(`
`)})}i.push({type:"list_item",raw:o.raw,tokens:c}),s=f}else s+=1}return i}function f9e(e,t){return e.map(n=>{if(n.type!=="list_item")return t.parseChildren([n])[0];const r=[];return n.tokens&&n.tokens.length>0&&n.tokens.forEach(i=>{if(i.type==="paragraph"||i.type==="list"||i.type==="blockquote"||i.type==="code")r.push(...t.parseChildren([i]));else if(i.type==="text"&&i.tokens){const s=t.parseChildren([i]);r.push({type:"paragraph",content:s})}else{const s=t.parseChildren([i]);s.length>0&&r.push(...s)}}),{type:"listItem",content:r}})}var p9e="listItem",P8="textStyle",N8=/^(\d+)\.\s$/,LJ=Ai.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:e=>e.hasAttribute("start")?parseInt(e.getAttribute("start")||"",10):1},type:{default:null,parseHTML:e=>e.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:e}){const{start:t,...n}=e;return t===1?["ol",dn(this.options.HTMLAttributes,n),0]:["ol",dn(this.options.HTMLAttributes,e),0]},markdownTokenName:"list",parseMarkdown:(e,t)=>{if(e.type!=="list"||!e.ordered)return[];const n=e.start||1,r=e.items?f9e(e.items,t):[];return n!==1?{type:"orderedList",attrs:{start:n},content:r}:{type:"orderedList",content:r}},renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,`
`):"",markdownTokenizer:{name:"orderedList",level:"block",start:e=>{const t=e.match(/^(\s*)(\d+)\.\s+/),n=t?.index;return n!==void 0?n:-1},tokenize:(e,t,n)=>{var r;const i=e.split(`
`),[s,o]=h9e(i);if(s.length===0)return;const a=IJ(s,0,n);return a.length===0?void 0:{type:"list",ordered:!0,start:((r=s[0])==null?void 0:r.number)||1,items:a,raw:i.slice(0,o).join(`
`)}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleOrderedList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(p9e,this.editor.getAttributes(P8)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let e=Ff({find:N8,type:this.type,getAttributes:t=>({start:+t[1]}),joinPredicate:(t,n)=>n.childCount+n.attrs.start===+t[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(e=Ff({find:N8,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:t=>({start:+t[1],...this.editor.getAttributes(P8)}),joinPredicate:(t,n)=>n.childCount+n.attrs.start===+t[1],editor:this.editor})),[e]}}),g9e=/^\s*(\[([( |x])?\])\s$/,m9e=Ai.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:e=>{const t=e.getAttribute("data-checked");return t===""||t==="true"},renderHTML:e=>({"data-checked":e.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:e,HTMLAttributes:t}){return["li",dn(this.options.HTMLAttributes,t,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:e.attrs.checked?"checked":null}],["span"]],["div",0]]},parseMarkdown:(e,t)=>{const n=[];if(e.tokens&&e.tokens.length>0?n.push(t.createNode("paragraph",{},t.parseInline(e.tokens))):e.text?n.push(t.createNode("paragraph",{},[t.createNode("text",{text:e.text})])):n.push(t.createNode("paragraph",{},[])),e.nestedTokens&&e.nestedTokens.length>0){const r=t.parseChildren(e.nestedTokens);n.push(...r)}return t.createNode("taskItem",{checked:e.checked||!1},n)},renderMarkdown:(e,t)=>{var n;const i=`- [${(n=e.attrs)!=null&&n.checked?"x":" "}] `;return kO(e,t,i)},addKeyboardShortcuts(){const e={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...e,Tab:()=>this.editor.commands.sinkListItem(this.name)}:e},addNodeView(){return({node:e,HTMLAttributes:t,getPos:n,editor:r})=>{const i=document.createElement("li"),s=document.createElement("label"),o=document.createElement("span"),a=document.createElement("input"),l=document.createElement("div"),c=d=>{var f,p;a.ariaLabel=((p=(f=this.options.a11y)==null?void 0:f.checkboxLabel)==null?void 0:p.call(f,d,a.checked))||`Task item checkbox for ${d.textContent||"empty task item"}`};return c(e),s.contentEditable="false",a.type="checkbox",a.addEventListener("mousedown",d=>d.preventDefault()),a.addEventListener("change",d=>{if(!r.isEditable&&!this.options.onReadOnlyChecked){a.checked=!a.checked;return}const{checked:f}=d.target;r.isEditable&&typeof n=="function"&&r.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:p})=>{const v=n();if(typeof v!="number")return!1;const y=p.doc.nodeAt(v);return p.setNodeMarkup(v,void 0,{...y?.attrs,checked:f}),!0}).run(),!r.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(e,f)||(a.checked=!a.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([d,f])=>{i.setAttribute(d,f)}),i.dataset.checked=e.attrs.checked,a.checked=e.attrs.checked,s.append(a,o),i.append(s,l),Object.entries(t).forEach(([d,f])=>{i.setAttribute(d,f)}),{dom:i,contentDOM:l,update:d=>d.type!==this.type?!1:(i.dataset.checked=d.attrs.checked,a.checked=d.attrs.checked,c(d),!0)}}},addInputRules(){return[Ff({find:g9e,type:this.type,getAttributes:e=>({checked:e[e.length-1]==="x"})})]}}),v9e=Ai.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:e}){return["ul",dn(this.options.HTMLAttributes,e,{"data-type":this.name}),0]},parseMarkdown:(e,t)=>t.createNode("taskList",{},t.parseChildren(e.items||[])),renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,`
`):"",markdownTokenizer:{name:"taskList",level:"block",start(e){var t;const n=(t=e.match(/^\s*[-+*]\s+\[([ xX])\]\s+/))==null?void 0:t.index;return n!==void 0?n:-1},tokenize(e,t,n){const r=s=>{const o=Pk(s,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:a=>({indentLevel:a[1].length,mainContent:a[4],checked:a[3].toLowerCase()==="x"}),createToken:(a,l)=>({type:"taskItem",raw:"",mainContent:a.mainContent,indentLevel:a.indentLevel,checked:a.checked,text:a.mainContent,tokens:n.inlineTokens(a.mainContent),nestedTokens:l}),customNestedParser:r},n);return o?[{type:"taskList",raw:o.raw,items:o.items}]:n.blockTokens(s)},i=Pk(e,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:s=>({indentLevel:s[1].length,mainContent:s[4],checked:s[3].toLowerCase()==="x"}),createToken:(s,o)=>({type:"taskItem",raw:"",mainContent:s.mainContent,indentLevel:s.indentLevel,checked:s.checked,text:s.mainContent,tokens:n.inlineTokens(s.mainContent),nestedTokens:o}),customNestedParser:r},n);if(i)return{type:"taskList",raw:i.raw,items:i.items}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleTaskList:()=>({commands:e})=>e.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});Gt.create({name:"listKit",addExtensions(){const e=[];return this.options.bulletList!==!1&&e.push(MJ.configure(this.options.bulletList)),this.options.listItem!==!1&&e.push(TJ.configure(this.options.listItem)),this.options.listKeymap!==!1&&e.push(FJ.configure(this.options.listKeymap)),this.options.orderedList!==!1&&e.push(LJ.configure(this.options.orderedList)),this.options.taskItem!==!1&&e.push(m9e.configure(this.options.taskItem)),this.options.taskList!==!1&&e.push(v9e.configure(this.options.taskList)),e}});var y9e=Ai.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:e}){return["p",dn(this.options.HTMLAttributes,e),0]},parseMarkdown:(e,t)=>{const n=e.tokens||[];return n.length===1&&n[0].type==="image"?t.parseChildren([n[0]]):t.createNode("paragraph",void 0,t.parseInline(n))},renderMarkdown:(e,t)=>!e||!Array.isArray(e.content)?"":t.renderChildren(e.content),addCommands(){return{setParagraph:()=>({commands:e})=>e.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),w9e=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,b9e=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,C9e=Xo.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:e=>e.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["s",dn(this.options.HTMLAttributes,e),0]},markdownTokenName:"del",parseMarkdown:(e,t)=>t.applyMark("strike",t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>`~~${t.renderChildren(e)}~~`,addCommands(){return{setStrike:()=>({commands:e})=>e.setMark(this.name),toggleStrike:()=>({commands:e})=>e.toggleMark(this.name),unsetStrike:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Of({find:w9e,type:this.type})]},addPasteRules(){return[pd({find:b9e,type:this.type})]}}),x9e=Ai.create({name:"text",group:"inline",parseMarkdown:e=>({type:"text",text:e.text||""}),renderMarkdown:e=>e.text||""}),_J=Xo.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:e=>e.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["u",dn(this.options.HTMLAttributes,e),0]},parseMarkdown(e,t){return t.applyMark(this.name||"underline",t.parseInline(e.tokens||[]))},renderMarkdown(e,t){return`++${t.renderChildren(e)}++`},markdownTokenizer:{name:"underline",level:"inline",start(e){return e.indexOf("++")},tokenize(e,t,n){const i=/^(\+\+)([\s\S]+?)(\+\+)/.exec(e);if(!i)return;const s=i[2].trim();return{type:"underline",raw:i[0],text:s,tokens:n.inlineTokens(s)}}},addCommands(){return{setUnderline:()=>({commands:e})=>e.setMark(this.name),toggleUnderline:()=>({commands:e})=>e.toggleMark(this.name),unsetUnderline:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}});function S9e(e={}){return new mn({view(t){return new E9e(t,e)}})}class E9e{constructor(t,n){var r;this.editorView=t,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let s=o=>{this[i](o)};return t.dom.addEventListener(i,s),{name:i,handler:s}})}destroy(){this.handlers.forEach(({name:t,handler:n})=>this.editorView.dom.removeEventListener(t,n))}update(t,n){this.cursorPos!=null&&n.doc!=t.state.doc&&(this.cursorPos>t.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(t){t!=this.cursorPos&&(this.cursorPos=t,t==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let t=this.editorView.state.doc.resolve(this.cursorPos),n=!t.parent.inlineContent,r,i=this.editorView.dom,s=i.getBoundingClientRect(),o=s.width/i.offsetWidth,a=s.height/i.offsetHeight;if(n){let f=t.nodeBefore,p=t.nodeAfter;if(f||p){let v=this.editorView.nodeDOM(this.cursorPos-(f?f.nodeSize:0));if(v){let y=v.getBoundingClientRect(),b=f?y.bottom:y.top;f&&p&&(b=(b+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let x=this.width/2*a;r={left:y.left,right:y.right,top:b-x,bottom:b+x}}}}if(!r){let f=this.editorView.coordsAtPos(this.cursorPos),p=this.width/2*o;r={left:f.left-p,right:f.left+p,top:f.top,bottom:f.bottom}}let l=this.editorView.dom.offsetParent;this.element||(this.element=l.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let c,d;if(!l||l==document.body&&getComputedStyle(l).position=="static")c=-pageXOffset,d=-pageYOffset;else{let f=l.getBoundingClientRect(),p=f.width/l.offsetWidth,v=f.height/l.offsetHeight;c=f.left-l.scrollLeft*p,d=f.top-l.scrollTop*v}this.element.style.left=(r.left-c)/o+"px",this.element.style.top=(r.top-d)/a+"px",this.element.style.width=(r.right-r.left)/o+"px",this.element.style.height=(r.bottom-r.top)/a+"px"}scheduleRemoval(t){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),t)}dragover(t){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:t.clientX,top:t.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),i=r&&r.type.spec.disableDropCursor,s=typeof i=="function"?i(this.editorView,n,t):i;if(n&&!s){let o=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let a=_Q(this.editorView.state.doc,o,this.editorView.dragging.slice);a!=null&&(o=a)}this.setCursor(o),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(t){this.editorView.dom.contains(t.relatedTarget)||this.setCursor(null)}}class bn extends nt{constructor(t){super(t,t)}map(t,n){let r=t.resolve(n.map(this.head));return bn.valid(r)?new bn(r):nt.near(r)}content(){return ke.empty}eq(t){return t instanceof bn&&t.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new bn(t.resolve(n.pos))}getBookmark(){return new HO(this.anchor)}static valid(t){let n=t.parent;if(n.isTextblock||!D9e(t)||!R9e(t))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let i=n.contentMatchAt(t.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(t,n,r=!1){e:for(;;){if(!r&&bn.valid(t))return t;let i=t.pos,s=null;for(let o=t.depth;;o--){let a=t.node(o);if(n>0?t.indexAfter(o)<a.childCount:t.index(o)>0){s=a.child(n>0?t.indexAfter(o):t.index(o)-1);break}else if(o==0)return null;i+=n;let l=t.doc.resolve(i);if(bn.valid(l))return l}for(;;){let o=n>0?s.firstChild:s.lastChild;if(!o){if(s.isAtom&&!s.isText&&!ze.isSelectable(s)){t=t.doc.resolve(i+s.nodeSize*n),r=!1;continue e}break}s=o,i+=n;let a=t.doc.resolve(i);if(bn.valid(a))return a}return null}}}bn.prototype.visible=!1;bn.findFrom=bn.findGapCursorFrom;nt.jsonID("gapcursor",bn);class HO{constructor(t){this.pos=t}map(t){return new HO(t.map(this.pos))}resolve(t){let n=t.resolve(this.pos);return bn.valid(n)?new bn(n):nt.near(n)}}function jJ(e){return e.isAtom||e.spec.isolating||e.spec.createGapCursor}function D9e(e){for(let t=e.depth;t>=0;t--){let n=e.index(t),r=e.node(t);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||jJ(i.type))return!0;if(i.inlineContent)return!1}}return!0}function R9e(e){for(let t=e.depth;t>=0;t--){let n=e.indexAfter(t),r=e.node(t);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||jJ(i.type))return!0;if(i.inlineContent)return!1}}return!0}function M9e(){return new mn({props:{decorations:P9e,createSelectionBetween(e,t,n){return t.pos==n.pos&&bn.valid(n)?new bn(n):null},handleClick:k9e,handleKeyDown:T9e,handleDOMEvents:{beforeinput:A9e}}})}const T9e=_X({ArrowLeft:W0("horiz",-1),ArrowRight:W0("horiz",1),ArrowUp:W0("vert",-1),ArrowDown:W0("vert",1)});function W0(e,t){const n=e=="vert"?t>0?"down":"up":t>0?"right":"left";return function(r,i,s){let o=r.selection,a=t>0?o.$to:o.$from,l=o.empty;if(o instanceof Ke){if(!s.endOfTextblock(n)||a.depth==0)return!1;l=!1,a=r.doc.resolve(t>0?a.after():a.before())}let c=bn.findGapCursorFrom(a,t,l);return c?(i&&i(r.tr.setSelection(new bn(c))),!0):!1}}function k9e(e,t,n){if(!e||!e.editable)return!1;let r=e.state.doc.resolve(t);if(!bn.valid(r))return!1;let i=e.posAtCoords({left:n.clientX,top:n.clientY});return i&&i.inside>-1&&ze.isSelectable(e.state.doc.nodeAt(i.inside))?!1:(e.dispatch(e.state.tr.setSelection(new bn(r))),!0)}function A9e(e,t){if(t.inputType!="insertCompositionText"||!(e.state.selection instanceof bn))return!1;let{$from:n}=e.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(e.state.schema.nodes.text);if(!r)return!1;let i=xe.empty;for(let o=r.length-1;o>=0;o--)i=xe.from(r[o].createAndFill(null,i));let s=e.state.tr.replace(n.pos,n.pos,new ke(i,0,0));return s.setSelection(Ke.near(s.doc.resolve(n.pos+1))),e.dispatch(s),!1}function P9e(e){if(!(e.selection instanceof bn))return null;let t=document.createElement("div");return t.className="ProseMirror-gapcursor",hn.create(e.doc,[Yr.widget(e.selection.head,t,{key:"gapcursor"})])}var KC=200,ir=function(){};ir.prototype.append=function(t){return t.length?(t=ir.from(t),!this.length&&t||t.length<KC&&this.leafAppend(t)||this.length<KC&&t.leafPrepend(this)||this.appendInner(t)):this};ir.prototype.prepend=function(t){return t.length?ir.from(t).append(this):this};ir.prototype.appendInner=function(t){return new N9e(this,t)};ir.prototype.slice=function(t,n){return t===void 0&&(t=0),n===void 0&&(n=this.length),t>=n?ir.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,n))};ir.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)};ir.prototype.forEach=function(t,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(t,n,r,0):this.forEachInvertedInner(t,n,r,0)};ir.prototype.map=function(t,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(s,o){return i.push(t(s,o))},n,r),i};ir.from=function(t){return t instanceof ir?t:t&&t.length?new BJ(t):ir.empty};var BJ=(function(e){function t(r){e.call(this),this.values=r}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(i,s){return i==0&&s==this.length?this:new t(this.values.slice(i,s))},t.prototype.getInner=function(i){return this.values[i]},t.prototype.forEachInner=function(i,s,o,a){for(var l=s;l<o;l++)if(i(this.values[l],a+l)===!1)return!1},t.prototype.forEachInvertedInner=function(i,s,o,a){for(var l=s-1;l>=o;l--)if(i(this.values[l],a+l)===!1)return!1},t.prototype.leafAppend=function(i){if(this.length+i.length<=KC)return new t(this.values.concat(i.flatten()))},t.prototype.leafPrepend=function(i){if(this.length+i.length<=KC)return new t(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(t.prototype,n),t})(ir);ir.empty=new BJ([]);var N9e=(function(e){function t(n,r){e.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},t.prototype.forEachInner=function(r,i,s,o){var a=this.left.length;if(i<a&&this.left.forEachInner(r,i,Math.min(s,a),o)===!1||s>a&&this.right.forEachInner(r,Math.max(i-a,0),Math.min(this.length,s)-a,o+a)===!1)return!1},t.prototype.forEachInvertedInner=function(r,i,s,o){var a=this.left.length;if(i>a&&this.right.forEachInvertedInner(r,i-a,Math.max(s,a)-a,o+a)===!1||s<a&&this.left.forEachInvertedInner(r,Math.min(i,a),s,o)===!1)return!1},t.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var s=this.left.length;return i<=s?this.left.slice(r,i):r>=s?this.right.slice(r-s,i-s):this.left.slice(r,s).append(this.right.slice(0,i-s))},t.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new t(this.left,i)},t.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new t(i,this.right)},t.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new t(this.left,new t(this.right,r)):new t(this,r)},t})(ir);const O9e=500;class Us{constructor(t,n){this.items=t,this.eventCount=n}popEvent(t,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,s;n&&(i=this.remapping(r,this.items.length),s=i.maps.length);let o=t.tr,a,l,c=[],d=[];return this.items.forEach((f,p)=>{if(!f.step){i||(i=this.remapping(r,p+1),s=i.maps.length),s--,d.push(f);return}if(i){d.push(new yo(f.map));let v=f.step.map(i.slice(s)),y;v&&o.maybeStep(v).doc&&(y=o.mapping.maps[o.mapping.maps.length-1],c.push(new yo(y,void 0,void 0,c.length+d.length))),s--,y&&i.appendMap(y,s)}else o.maybeStep(f.step);if(f.selection)return a=i?f.selection.map(i.slice(s)):f.selection,l=new Us(this.items.slice(0,r).append(d.reverse().concat(c)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:o,selection:a}}addTransform(t,n,r,i){let s=[],o=this.eventCount,a=this.items,l=!i&&a.length?a.get(a.length-1):null;for(let d=0;d<t.steps.length;d++){let f=t.steps[d].invert(t.docs[d]),p=new yo(t.mapping.maps[d],f,n),v;(v=l&&l.merge(p))&&(p=v,d?s.pop():a=a.slice(0,a.length-1)),s.push(p),n&&(o++,n=void 0),i||(l=p)}let c=o-r.depth;return c>I9e&&(a=F9e(a,c),o-=c),new Us(a.append(s),o)}remapping(t,n){let r=new Pm;return this.items.forEach((i,s)=>{let o=i.mirrorOffset!=null&&s-i.mirrorOffset>=t?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,o)},t,n),r}addMaps(t){return this.eventCount==0?this:new Us(this.items.append(t.map(n=>new yo(n))),this.eventCount)}rebased(t,n){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-n),s=t.mapping,o=t.steps.length,a=this.eventCount;this.items.forEach(p=>{p.selection&&a--},i);let l=n;this.items.forEach(p=>{let v=s.getMirror(--l);if(v==null)return;o=Math.min(o,v);let y=s.maps[v];if(p.step){let b=t.steps[v].invert(t.docs[v]),x=p.selection&&p.selection.map(s.slice(l+1,v));x&&a++,r.push(new yo(y,b,x))}else r.push(new yo(y))},i);let c=[];for(let p=n;p<o;p++)c.push(new yo(s.maps[p]));let d=this.items.slice(0,i).append(c).append(r),f=new Us(d,a);return f.emptyItemCount()>O9e&&(f=f.compress(this.items.length-r.length)),f}emptyItemCount(){let t=0;return this.items.forEach(n=>{n.step||t++}),t}compress(t=this.items.length){let n=this.remapping(0,t),r=n.maps.length,i=[],s=0;return this.items.forEach((o,a)=>{if(a>=t)i.push(o),o.selection&&s++;else if(o.step){let l=o.step.map(n.slice(r)),c=l&&l.getMap();if(r--,c&&n.appendMap(c,r),l){let d=o.selection&&o.selection.map(n.slice(r));d&&s++;let f=new yo(c.invert(),l,d),p,v=i.length-1;(p=i.length&&i[v].merge(f))?i[v]=p:i.push(f)}}else o.map&&r--},this.items.length,0),new Us(ir.from(i.reverse()),s)}}Us.empty=new Us(ir.empty,0);function F9e(e,t){let n;return e.forEach((r,i)=>{if(r.selection&&t--==0)return n=i,!1}),e.slice(n)}class yo{constructor(t,n,r,i){this.map=t,this.step=n,this.selection=r,this.mirrorOffset=i}merge(t){if(this.step&&t.step&&!t.selection){let n=t.step.merge(this.step);if(n)return new yo(n.getMap().invert(),n,this.selection)}}}class oc{constructor(t,n,r,i,s){this.done=t,this.undone=n,this.prevRanges=r,this.prevTime=i,this.prevComposition=s}}const I9e=20;function L9e(e,t,n,r){let i=n.getMeta(Xu),s;if(i)return i.historyState;n.getMeta(B9e)&&(e=new oc(e.done,e.undone,null,0,-1));let o=n.getMeta("appendedTransaction");if(n.steps.length==0)return e;if(o&&o.getMeta(Xu))return o.getMeta(Xu).redo?new oc(e.done.addTransform(n,void 0,r,Ew(t)),e.undone,O8(n.mapping.maps),e.prevTime,e.prevComposition):new oc(e.done,e.undone.addTransform(n,void 0,r,Ew(t)),null,e.prevTime,e.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(o&&o.getMeta("addToHistory")===!1)){let a=n.getMeta("composition"),l=e.prevTime==0||!o&&e.prevComposition!=a&&(e.prevTime<(n.time||0)-r.newGroupDelay||!_9e(n,e.prevRanges)),c=o?d2(e.prevRanges,n.mapping):O8(n.mapping.maps);return new oc(e.done.addTransform(n,l?t.selection.getBookmark():void 0,r,Ew(t)),Us.empty,c,n.time,a??e.prevComposition)}else return(s=n.getMeta("rebased"))?new oc(e.done.rebased(n,s),e.undone.rebased(n,s),d2(e.prevRanges,n.mapping),e.prevTime,e.prevComposition):new oc(e.done.addMaps(n.mapping.maps),e.undone.addMaps(n.mapping.maps),d2(e.prevRanges,n.mapping),e.prevTime,e.prevComposition)}function _9e(e,t){if(!t)return!1;if(!e.docChanged)return!0;let n=!1;return e.mapping.maps[0].forEach((r,i)=>{for(let s=0;s<t.length;s+=2)r<=t[s+1]&&i>=t[s]&&(n=!0)}),n}function O8(e){let t=[];for(let n=e.length-1;n>=0&&t.length==0;n--)e[n].forEach((r,i,s,o)=>t.push(s,o));return t}function d2(e,t){if(!e)return null;let n=[];for(let r=0;r<e.length;r+=2){let i=t.map(e[r],1),s=t.map(e[r+1],-1);i<=s&&n.push(i,s)}return n}function j9e(e,t,n){let r=Ew(t),i=Xu.get(t).spec.config,s=(n?e.undone:e.done).popEvent(t,r);if(!s)return null;let o=s.selection.resolve(s.transform.doc),a=(n?e.done:e.undone).addTransform(s.transform,t.selection.getBookmark(),i,r),l=new oc(n?a:s.remaining,n?s.remaining:a,null,0,-1);return s.transform.setSelection(o).setMeta(Xu,{redo:n,historyState:l})}let h2=!1,F8=null;function Ew(e){let t=e.plugins;if(F8!=t){h2=!1,F8=t;for(let n=0;n<t.length;n++)if(t[n].spec.historyPreserveItems){h2=!0;break}}return h2}const Xu=new Yn("history"),B9e=new Yn("closeHistory");function H9e(e={}){return e={depth:e.depth||100,newGroupDelay:e.newGroupDelay||500},new mn({key:Xu,state:{init(){return new oc(Us.empty,Us.empty,null,0,-1)},apply(t,n,r){return L9e(n,r,t,e)}},config:e,props:{handleDOMEvents:{beforeinput(t,n){let r=n.inputType,i=r=="historyUndo"?zJ:r=="historyRedo"?GJ:null;return!i||!t.editable?!1:(n.preventDefault(),i(t.state,t.dispatch))}}}})}function HJ(e,t){return(n,r)=>{let i=Xu.getState(n);if(!i||(e?i.undone:i.done).eventCount==0)return!1;if(r){let s=j9e(i,n,e);s&&r(t?s.scrollIntoView():s)}return!0}}const zJ=HJ(!1,!0),GJ=HJ(!0,!0);Gt.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:e=>e.length,wordCounter:e=>e.split(" ").filter(t=>t!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=e=>{const t=e?.node||this.editor.state.doc;if((e?.mode||this.options.mode)==="textSize"){const r=t.textBetween(0,t.content.size,void 0," ");return this.options.textCounter(r)}return t.nodeSize},this.storage.words=e=>{const t=e?.node||this.editor.state.doc,n=t.textBetween(0,t.content.size," "," ");return this.options.wordCounter(n)}},addProseMirrorPlugins(){let e=!1;return[new mn({key:new Yn("characterCount"),appendTransaction:(t,n,r)=>{if(e)return;const i=this.options.limit;if(i==null||i===0){e=!0;return}const s=this.storage.characters({node:r.doc});if(s>i){const o=s-i,a=0,l=o;console.warn(`[CharacterCount] Initial content exceeded limit of ${i} characters. Content was automatically trimmed.`);const c=r.tr.deleteRange(a,l);return e=!0,c}e=!0},filterTransaction:(t,n)=>{const r=this.options.limit;if(!t.docChanged||r===0||r===null||r===void 0)return!0;const i=this.storage.characters({node:n.doc}),s=this.storage.characters({node:t.doc});if(s<=r||i>r&&s>r&&s<=i)return!0;if(i>r&&s>r&&s>i||!t.getMeta("paste"))return!1;const a=t.selection.$head.pos,l=s-r,c=a-l,d=a;return t.deleteRange(c,d),!(this.storage.characters({node:t.doc})>r)}})]}});var z9e=Gt.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[S9e(this.options)]}});Gt.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new mn({key:new Yn("focus"),props:{decorations:({doc:e,selection:t})=>{const{isEditable:n,isFocused:r}=this.editor,{anchor:i}=t,s=[];if(!n||!r)return hn.create(e,[]);let o=0;this.options.mode==="deepest"&&e.descendants((l,c)=>{if(l.isText)return;if(!(i>=c&&i<=c+l.nodeSize-1))return!1;o+=1});let a=0;return e.descendants((l,c)=>{if(l.isText||!(i>=c&&i<=c+l.nodeSize-1))return!1;if(a+=1,this.options.mode==="deepest"&&o-a>0||this.options.mode==="shallowest"&&a>1)return this.options.mode==="deepest";s.push(Yr.node(c,c+l.nodeSize,{class:this.options.className}))}),hn.create(e,s)}}})]}});var G9e=Gt.create({name:"gapCursor",addProseMirrorPlugins(){return[M9e()]},extendNodeSchema(e){var t;const n={name:e.name,options:e.options,storage:e.storage};return{allowGapCursor:(t=Pt(He(e,"allowGapCursor",n)))!=null?t:null}}});Gt.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new mn({key:new Yn("placeholder"),props:{decorations:({doc:e,selection:t})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=t,i=[];if(!n)return null;const s=this.editor.isEmpty;return e.descendants((o,a)=>{const l=r>=a&&r<=a+o.nodeSize,c=!o.isLeaf&&AS(o);if((l||!this.options.showOnlyCurrent)&&c){const d=[this.options.emptyNodeClass];s&&d.push(this.options.emptyEditorClass);const f=Yr.node(a,a+o.nodeSize,{class:d.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:o,pos:a,hasAnchor:l}):this.options.placeholder});i.push(f)}return this.options.includeChildren}),hn.create(e,i)}}})]}});Gt.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:e,options:t}=this;return[new mn({key:new Yn("selection"),props:{decorations(n){return n.selection.empty||e.isFocused||!e.isEditable||ZX(n.selection)||e.view.dragging?null:hn.create(n.doc,[Yr.inline(n.selection.from,n.selection.to,{class:t.className})])}}})]}});function I8({types:e,node:t}){return t&&Array.isArray(e)&&e.includes(t.type)||t?.type===e}var V9e=Gt.create({name:"trailingNode",addOptions(){return{node:void 0,notAfter:[]}},addProseMirrorPlugins(){var e;const t=new Yn(this.name),n=((e=this.editor.schema.topNodeType.contentMatch.defaultType)==null?void 0:e.name)||this.options.node||"paragraph",r=Object.entries(this.editor.schema.nodes).map(([,i])=>i).filter(i=>(this.options.notAfter||[]).concat(n).includes(i.name));return[new mn({key:t,appendTransaction:(i,s,o)=>{const{doc:a,tr:l,schema:c}=o,d=t.getState(o),f=a.content.size,p=c.nodes[n];if(d)return l.insert(f,p.create())},state:{init:(i,s)=>{const o=s.tr.doc.lastChild;return!I8({node:o,types:r})},apply:(i,s)=>{if(!i.docChanged||i.getMeta("__uniqueIDTransaction"))return s;const o=i.doc.lastChild;return!I8({node:o,types:r})}}})]}}),W9e=Gt.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:e,dispatch:t})=>zJ(e,t),redo:()=>({state:e,dispatch:t})=>GJ(e,t)}},addProseMirrorPlugins(){return[H9e(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),U9e=Gt.create({name:"starterKit",addExtensions(){var e,t,n,r;const i=[];return this.options.bold!==!1&&i.push(bUe.configure(this.options.bold)),this.options.blockquote!==!1&&i.push(gUe.configure(this.options.blockquote)),this.options.bulletList!==!1&&i.push(MJ.configure(this.options.bulletList)),this.options.code!==!1&&i.push(SUe.configure(this.options.code)),this.options.codeBlock!==!1&&i.push(RUe.configure(this.options.codeBlock)),this.options.document!==!1&&i.push(MUe.configure(this.options.document)),this.options.dropcursor!==!1&&i.push(z9e.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&i.push(G9e.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&i.push(TUe.configure(this.options.hardBreak)),this.options.heading!==!1&&i.push(kUe.configure(this.options.heading)),this.options.undoRedo!==!1&&i.push(W9e.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&i.push(AUe.configure(this.options.horizontalRule)),this.options.italic!==!1&&i.push(IUe.configure(this.options.italic)),this.options.listItem!==!1&&i.push(TJ.configure(this.options.listItem)),this.options.listKeymap!==!1&&i.push(FJ.configure((e=this.options)==null?void 0:e.listKeymap)),this.options.link!==!1&&i.push(RJ.configure((t=this.options)==null?void 0:t.link)),this.options.orderedList!==!1&&i.push(LJ.configure(this.options.orderedList)),this.options.paragraph!==!1&&i.push(y9e.configure(this.options.paragraph)),this.options.strike!==!1&&i.push(C9e.configure(this.options.strike)),this.options.text!==!1&&i.push(x9e.configure(this.options.text)),this.options.underline!==!1&&i.push(_J.configure((n=this.options)==null?void 0:n.underline)),this.options.trailingNode!==!1&&i.push(V9e.configure((r=this.options)==null?void 0:r.trailingNode)),i}}),$9e=Gt.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:null}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:e=>{const t=e.style.textAlign;return this.options.alignments.includes(t)?t:this.options.defaultAlignment},renderHTML:e=>e.textAlign?{style:`text-align: ${e.textAlign}`}:{}}}}]},addCommands(){return{setTextAlign:e=>({commands:t})=>this.options.alignments.includes(e)?this.options.types.map(n=>t.updateAttributes(n,{textAlign:e})).some(n=>n):!1,unsetTextAlign:()=>({commands:e})=>this.options.types.map(t=>e.resetAttributes(t,"textAlign")).some(t=>t),toggleTextAlign:e=>({editor:t,commands:n})=>this.options.alignments.includes(e)?t.isActive({textAlign:e})?n.unsetTextAlign():n.setTextAlign(e):!1}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),q9e=20,VJ=(e,t=0)=>{const n=[];return!e.children.length||t>q9e||Array.from(e.children).forEach(r=>{r.tagName==="SPAN"?n.push(r):r.children.length&&n.push(...VJ(r,t+1))}),n},K9e=e=>{if(!e.children.length)return;const t=VJ(e);t&&t.forEach(n=>{var r,i;const s=n.getAttribute("style"),o=(i=(r=n.parentElement)==null?void 0:r.closest("span"))==null?void 0:i.getAttribute("style");n.setAttribute("style",`${o};${s}`)})},WJ=Xo.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{},mergeNestedSpanStyles:!0}},parseHTML(){return[{tag:"span",consuming:!1,getAttrs:e=>e.hasAttribute("style")?(this.options.mergeNestedSpanStyles&&K9e(e),{}):!1}]},renderHTML({HTMLAttributes:e}){return["span",dn(this.options.HTMLAttributes,e),0]},addCommands(){return{toggleTextStyle:e=>({commands:t})=>t.toggleMark(this.name,e),removeEmptyTextStyle:()=>({tr:e})=>{const{selection:t}=e;return e.doc.nodesBetween(t.from,t.to,(n,r)=>{if(n.isTextblock)return!0;n.marks.filter(i=>i.type===this.type).some(i=>Object.values(i.attrs).some(s=>!!s))||e.removeMark(r,r+n.nodeSize,this.type)}),!0}}}}),Y9e=Gt.create({name:"backgroundColor",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{backgroundColor:{default:null,parseHTML:e=>{var t;const n=e.getAttribute("style");if(n){const r=n.split(";").map(i=>i.trim()).filter(Boolean);for(let i=r.length-1;i>=0;i-=1){const s=r[i].split(":");if(s.length>=2){const o=s[0].trim().toLowerCase(),a=s.slice(1).join(":").trim();if(o==="background-color")return a.replace(/['"]+/g,"")}}}return(t=e.style.backgroundColor)==null?void 0:t.replace(/['"]+/g,"")},renderHTML:e=>e.backgroundColor?{style:`background-color: ${e.backgroundColor}`}:{}}}}]},addCommands(){return{setBackgroundColor:e=>({chain:t})=>t().setMark("textStyle",{backgroundColor:e}).run(),unsetBackgroundColor:()=>({chain:e})=>e().setMark("textStyle",{backgroundColor:null}).removeEmptyTextStyle().run()}}}),UJ=Gt.create({name:"color",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:e=>{var t;const n=e.getAttribute("style");if(n){const r=n.split(";").map(i=>i.trim()).filter(Boolean);for(let i=r.length-1;i>=0;i-=1){const s=r[i].split(":");if(s.length>=2){const o=s[0].trim().toLowerCase(),a=s.slice(1).join(":").trim();if(o==="color")return a.replace(/['"]+/g,"")}}}return(t=e.style.color)==null?void 0:t.replace(/['"]+/g,"")},renderHTML:e=>e.color?{style:`color: ${e.color}`}:{}}}}]},addCommands(){return{setColor:e=>({chain:t})=>t().setMark("textStyle",{color:e}).run(),unsetColor:()=>({chain:e})=>e().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()}}}),$J=Gt.create({name:"fontFamily",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontFamily:{default:null,parseHTML:e=>e.style.fontFamily,renderHTML:e=>e.fontFamily?{style:`font-family: ${e.fontFamily}`}:{}}}}]},addCommands(){return{setFontFamily:e=>({chain:t})=>t().setMark("textStyle",{fontFamily:e}).run(),unsetFontFamily:()=>({chain:e})=>e().setMark("textStyle",{fontFamily:null}).removeEmptyTextStyle().run()}}}),Q9e=Gt.create({name:"fontSize",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontSize:{default:null,parseHTML:e=>e.style.fontSize,renderHTML:e=>e.fontSize?{style:`font-size: ${e.fontSize}`}:{}}}}]},addCommands(){return{setFontSize:e=>({chain:t})=>t().setMark("textStyle",{fontSize:e}).run(),unsetFontSize:()=>({chain:e})=>e().setMark("textStyle",{fontSize:null}).removeEmptyTextStyle().run()}}}),X9e=Gt.create({name:"lineHeight",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{lineHeight:{default:null,parseHTML:e=>e.style.lineHeight,renderHTML:e=>e.lineHeight?{style:`line-height: ${e.lineHeight}`}:{}}}}]},addCommands(){return{setLineHeight:e=>({chain:t})=>t().setMark("textStyle",{lineHeight:e}).run(),unsetLineHeight:()=>({chain:e})=>e().setMark("textStyle",{lineHeight:null}).removeEmptyTextStyle().run()}}});Gt.create({name:"textStyleKit",addExtensions(){const e=[];return this.options.backgroundColor!==!1&&e.push(Y9e.configure(this.options.backgroundColor)),this.options.color!==!1&&e.push(UJ.configure(this.options.color)),this.options.fontFamily!==!1&&e.push($J.configure(this.options.fontFamily)),this.options.fontSize!==!1&&e.push(Q9e.configure(this.options.fontSize)),this.options.lineHeight!==!1&&e.push(X9e.configure(this.options.lineHeight)),this.options.textStyle!==!1&&e.push(WJ.configure(this.options.textStyle)),e}});var J9e=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,Z9e=Ai.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{},resize:!1}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null},width:{default:null},height:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:e}){return["img",dn(this.options.HTMLAttributes,e)]},parseMarkdown:(e,t)=>t.createNode("image",{src:e.href,title:e.title,alt:e.text}),renderMarkdown:e=>{var t,n,r,i,s,o;const a=(n=(t=e.attrs)==null?void 0:t.src)!=null?n:"",l=(i=(r=e.attrs)==null?void 0:r.alt)!=null?i:"",c=(o=(s=e.attrs)==null?void 0:s.title)!=null?o:"";return c?`![${l}](${a} "${c}")`:`![${l}](${a})`},addNodeView(){if(!this.options.resize||!this.options.resize.enabled||typeof document>"u"||!this.editor.isEditable)return null;const{directions:e,minWidth:t,minHeight:n,alwaysPreserveAspectRatio:r}=this.options.resize;return({node:i,getPos:s,HTMLAttributes:o})=>{const a=document.createElement("img");Object.entries(o).forEach(([d,f])=>{if(f!=null)switch(d){case"width":case"height":break;default:a.setAttribute(d,f);break}}),a.src=o.src;const l=new HWe({element:a,node:i,getPos:s,onResize:(d,f)=>{a.style.width=`${d}px`,a.style.height=`${f}px`},onCommit:(d,f)=>{const p=s();p!==void 0&&this.editor.chain().setNodeSelection(p).updateAttributes(this.name,{width:d,height:f}).run()},onUpdate:(d,f,p)=>d.type===i.type,options:{directions:e,min:{width:t,height:n},preserveAspectRatio:r===!0}}),c=l.dom;return c.style.visibility="hidden",c.style.pointerEvents="none",a.onload=()=>{c.style.visibility="",c.style.pointerEvents=""},l}},addCommands(){return{setImage:e=>({commands:t})=>t.insertContent({type:this.name,attrs:e})}},addInputRules(){return[pJ({find:J9e,type:this.type,getAttributes:e=>{const[,,t,n,r]=e;return{src:n,alt:t,title:r}}})]}}),e$e=Xo.create({name:"subscript",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"sub"},{style:"vertical-align",getAttrs(e){return e!=="sub"?!1:null}}]},renderHTML({HTMLAttributes:e}){return["sub",dn(this.options.HTMLAttributes,e),0]},addCommands(){return{setSubscript:()=>({commands:e})=>e.setMark(this.name),toggleSubscript:()=>({commands:e})=>e.toggleMark(this.name),unsetSubscript:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-,":()=>this.editor.commands.toggleSubscript()}}}),t$e=Xo.create({name:"superscript",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"sup"},{style:"vertical-align",getAttrs(e){return e!=="super"?!1:null}}]},renderHTML({HTMLAttributes:e}){return["sup",dn(this.options.HTMLAttributes,e),0]},addCommands(){return{setSuperscript:()=>({commands:e})=>e.setMark(this.name),toggleSuperscript:()=>({commands:e})=>e.toggleMark(this.name),unsetSuperscript:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-.":()=>this.editor.commands.toggleSuperscript()}}});function n$e(){const[e,t]=C.useState(""),[n,r]=C.useState([]),i=Rt(),[s,o]=C.useState(null),a="https://crm.softwaresetu.com/api",[l,c]=C.useState(!1),d=Z9e.extend({addAttributes(){return{...this.parent?.(),src:{default:null},alt:{default:null},title:{default:null},width:{default:null},height:{default:null},style:{default:null}}}}),f=uUe({extensions:[U9e.configure({heading:{levels:[1,2,3,4,5,6]}}),_J,$9e.configure({types:["heading","paragraph"]}),UJ,WJ,$J.configure({types:["textStyle"]}),d.configure({HTMLAttributes:{class:"editor-image"}}),RJ.configure({openOnClick:!1,HTMLAttributes:{class:"editor-link"}}),e$e,t$e],content:"",onUpdate:({editor:T})=>{v(T.getHTML())},editorProps:{attributes:{class:"a4-editor prose prose-lg max-w-none focus:outline-none min-h-[500px] p-6"}}}),[p,v]=C.useState(""),y=T=>{const k=T.target.files[0];if(!k)return;if(!k.type.match("image.*")){alert("Please select an image file (JPEG, PNG, GIF, etc.)");return}c(!0);const P=new FileReader;P.onload=A=>{const O=A.target.result;f&&f.chain().focus().setImage({src:O,alt:k.name,title:k.name}).run(),c(!1),T.target.value=""},P.onerror=()=>{alert("Error reading file"),c(!1),T.target.value=""},P.readAsDataURL(k)},b=()=>{document.getElementById("image-upload").click()};C.useEffect(()=>{(async()=>{try{const P=await(await fetch(`${a}/templates/all`)).json();r(P)}catch(k){console.log("Error fetching templates:",k)}})()},[]);const x=T=>{o(T.id),t(T.name),f&&f.commands.setContent(T.content),window.scrollTo({top:0,behavior:"smooth"})},S=async()=>{if(!e.trim()){alert("Template name is required!");return}const T={templateName:e,editorContent:p};if(s){try{const P=await(await fetch(`${a}/templates/update/${s}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({templateName:e,editorContent:p})})).json();r(n.map(A=>A.id===s?P.template:A)),o(null),t(""),f.commands.clearContent(),i("/template")}catch(k){console.log("Update error:",k)}return}try{const P=await(await fetch(`${a}/templates/add`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(T)})).json();r([P.template,...n]),t(""),f.commands.clearContent(),i("/template")}catch(k){console.log("Error saving template:",k)}},M=async T=>{try{await fetch(`${a}/templates/delete/${T}`,{method:"DELETE"}),r(n.filter(k=>k.id!==T))}catch(k){console.log("Delete error:",k)}},R=()=>f?m.jsxs("div",{className:"border border-gray-300 rounded-t-xl p-3 bg-white flex flex-wrap gap-2",children:[m.jsx("input",{type:"file",id:"image-upload",accept:"image/*",onChange:y,className:"hidden"}),m.jsxs("select",{onChange:T=>f.chain().focus().setFontFamily(T.target.value).run(),className:"px-2 py-1 border rounded text-sm",children:[m.jsx("option",{value:"",children:"Font"}),m.jsx("option",{value:"Arial",children:"Arial"}),m.jsx("option",{value:"Helvetica",children:"Helvetica"}),m.jsx("option",{value:"Times New Roman",children:"Times New Roman"}),m.jsx("option",{value:"Georgia",children:"Georgia"}),m.jsx("option",{value:"Verdana",children:"Verdana"})]}),m.jsxs("select",{onChange:T=>{T.target.value==="paragraph"?f.chain().focus().setParagraph().run():f.chain().focus().toggleHeading({level:parseInt(T.target.value)}).run()},className:"px-2 py-1 border rounded text-sm",children:[m.jsx("option",{value:"paragraph",children:"Normal"}),m.jsx("option",{value:"1",children:"Heading 1"}),m.jsx("option",{value:"2",children:"Heading 2"}),m.jsx("option",{value:"3",children:"Heading 3"}),m.jsx("option",{value:"4",children:"Heading 4"}),m.jsx("option",{value:"5",children:"Heading 5"}),m.jsx("option",{value:"6",children:"Heading 6"})]}),m.jsxs("div",{className:"flex border rounded overflow-hidden",children:[m.jsx("button",{onClick:()=>f.chain().focus().toggleBold().run(),className:`px-3 py-1 ${f.isActive("bold")?"bg-gray-200":"bg-white"}`,title:"Bold",children:m.jsx("strong",{children:"B"})}),m.jsx("button",{onClick:()=>f.chain().focus().toggleItalic().run(),className:`px-3 py-1 border-l ${f.isActive("italic")?"bg-gray-200":"bg-white"}`,title:"Italic",children:m.jsx("em",{children:"I"})}),m.jsx("button",{onClick:()=>f.chain().focus().toggleUnderline().run(),className:`px-3 py-1 border-l ${f.isActive("underline")?"bg-gray-200":"bg-white"}`,title:"Underline",children:m.jsx("u",{children:"U"})}),m.jsx("button",{onClick:()=>f.chain().focus().toggleStrike().run(),className:`px-3 py-1 border-l ${f.isActive("strike")?"bg-gray-200":"bg-white"}`,title:"Strike",children:m.jsx("s",{children:"S"})})]}),m.jsxs("div",{className:"flex border rounded overflow-hidden",children:[m.jsx("input",{type:"color",onInput:T=>f.chain().focus().setColor(T.target.value).run(),className:"w-8 h-8 border-0 cursor-pointer",title:"Text Color"}),m.jsx("button",{onClick:()=>f.chain().focus().unsetColor().run(),className:"px-2 py-1 bg-white border-l text-sm",children:""})]}),m.jsxs("div",{className:"flex border rounded overflow-hidden",children:[m.jsx("input",{type:"color",onInput:T=>f.chain().focus().setBackgroundColor(T.target.value).run(),className:"w-8 h-8 border-0 cursor-pointer",title:"Background Color"}),m.jsx("button",{onClick:()=>f.chain().focus().unsetBackgroundColor().run(),className:"px-2 py-1 bg-white border-l text-sm",children:""})]}),m.jsxs("div",{className:"flex border rounded overflow-hidden",children:[m.jsx("button",{onClick:()=>f.chain().focus().toggleSuperscript().run(),className:`px-3 py-1 ${f.isActive("superscript")?"bg-gray-200":"bg-white"}`,title:"Superscript",children:"x"}),m.jsx("button",{onClick:()=>f.chain().focus().toggleSubscript().run(),className:`px-3 py-1 border-l ${f.isActive("subscript")?"bg-gray-200":"bg-white"}`,title:"Subscript",children:"x"})]}),m.jsxs("div",{className:"flex border rounded overflow-hidden",children:[m.jsx("button",{onClick:()=>f.chain().focus().toggleBulletList().run(),className:`px-3 py-1 ${f.isActive("bulletList")?"bg-gray-200":"bg-white"}`,title:"Bullet List",children:" List"}),m.jsx("button",{onClick:()=>f.chain().focus().toggleOrderedList().run(),className:`px-3 py-1 border-l ${f.isActive("orderedList")?"bg-gray-200":"bg-white"}`,title:"Numbered List",children:"1. List"})]}),m.jsxs("div",{className:"flex border rounded overflow-hidden",children:[m.jsx("button",{onClick:()=>f.chain().focus().setTextAlign("left").run(),className:`px-3 py-1 ${f.isActive({textAlign:"left"})?"bg-gray-200":"bg-white"}`,title:"Align Left",children:""}),m.jsx("button",{onClick:()=>f.chain().focus().setTextAlign("center").run(),className:`px-3 py-1 border-l ${f.isActive({textAlign:"center"})?"bg-gray-200":"bg-white"}`,title:"Align Center",children:""}),m.jsx("button",{onClick:()=>f.chain().focus().setTextAlign("right").run(),className:`px-3 py-1 border-l ${f.isActive({textAlign:"right"})?"bg-gray-200":"bg-white"}`,title:"Align Right",children:""}),m.jsx("button",{onClick:()=>f.chain().focus().setTextAlign("justify").run(),className:`px-3 py-1 border-l ${f.isActive({textAlign:"justify"})?"bg-gray-200":"bg-white"}`,title:"Justify",children:""})]}),m.jsxs("div",{className:"flex border rounded overflow-hidden",children:[m.jsx("button",{onClick:()=>f.chain().focus().toggleBlockquote().run(),className:`px-3 py-1 ${f.isActive("blockquote")?"bg-gray-200":"bg-white"}`,title:"Blockquote",children:'"'}),m.jsx("button",{onClick:()=>f.chain().focus().toggleCodeBlock().run(),className:`px-3 py-1 border-l ${f.isActive("codeBlock")?"bg-gray-200":"bg-white"}`,title:"Code Block",children:"</>"})]}),m.jsx("button",{onClick:b,disabled:l,className:`px-3 py-1 border rounded flex items-center gap-1 ${l?"bg-gray-100 cursor-not-allowed":"bg-white"}`,title:"Upload Image",children:l?m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"w-4 h-4 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"}),m.jsx("span",{children:"Uploading..."})]}):m.jsx(m.Fragment,{children:" Upload"})}),m.jsx("button",{onClick:()=>{const T=window.prompt("URL:");T&&f.chain().focus().setLink({href:T}).run()},className:`px-3 py-1 border rounded ${f.isActive("link")?"bg-gray-200":"bg-white"}`,title:"Add Link",children:""}),m.jsxs("div",{className:"flex border rounded overflow-hidden",children:[m.jsx("button",{onClick:()=>f.chain().focus().indent().run(),className:"px-3 py-1 bg-white",title:"Indent",children:""}),m.jsx("button",{onClick:()=>f.chain().focus().outdent().run(),className:"px-3 py-1 border-l bg-white",title:"Outdent",children:""})]}),m.jsx("button",{onClick:()=>f.chain().focus().clearNodes().unsetAllMarks().run(),className:"px-3 py-1 border rounded bg-white text-sm",title:"Clear Formatting",children:""})]}):null;return m.jsx("div",{className:"min-h-screen p-6 bg-gray-50",children:m.jsxs("div",{className:"max-w-full mx-auto",children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-2",children:"Template Manager"}),m.jsx("p",{className:"text-gray-600",children:"Create and manage your email templates"})]}),m.jsx("div",{className:"bg-[#f8f9ff] p-6 md:p-10 rounded-xl font-sans text-[#333] leading-relaxed border border-[#e0e4ff] shadow-md mb-5",children:m.jsxs("ul",{className:"list-disc list-inside space-y-3 text-[#444] text-base",children:[m.jsx("li",{children:"All remaining text should stay in normal paragraph formatting."}),m.jsxs("li",{children:["The text ",m.jsx("strong",{children:"OFFER LETTER"})," should always appear inside an ",m.jsx("code",{children:"<h1>"})," tag."]}),m.jsxs("li",{children:["The text on the bottom-left side should be placed inside an ",m.jsx("code",{children:"<h2>"})," tag, and the text on the bottom-right side should be placed inside an ",m.jsx("code",{children:"<h3>"})," tag."]}),m.jsxs("li",{children:["Use the ",m.jsx("strong",{children:" Upload"})," button to add logos and images directly from your computer."]})]})}),m.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 mb-8 border border-gray-200",children:[m.jsxs("div",{className:"flex items-center mb-6",children:[m.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg flex items-center justify-center mr-4",children:m.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:s?"Edit Template":"Create New Template"}),m.jsx("p",{className:"text-gray-600",children:"Design your perfect email template"})]})]}),m.jsxs("div",{className:"mb-6",children:[m.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Template Name ",m.jsx("span",{className:"text-red-500",children:"*"})]}),m.jsx("input",{className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",value:e,onChange:T=>t(T.target.value),placeholder:"Enter a descriptive template name"})]}),m.jsxs("div",{className:"mb-6",children:[m.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Template Content"}),m.jsxs("div",{className:"editor-container border border-gray-300 rounded-xl overflow-hidden",children:[m.jsx(R,{}),m.jsx("div",{className:"a4-container bg-white border-t",children:m.jsx(rUe,{editor:f})})]}),m.jsx("p",{className:"text-sm text-gray-500 mt-2",children:'Use the toolbar to format your text. Click " Upload" to add logos and images directly from your computer.'})]}),m.jsx("div",{className:"flex justify-end",children:m.jsxs("button",{onClick:S,className:"px-8 py-3 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white rounded-xl font-semibold shadow-lg transform transition-all duration-200 flex items-center hover:shadow-xl hover:-translate-y-0.5",children:[m.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:s?"M5 13l4 4L19 7":"M12 4v16m8-8H4"})}),s?"Update Template":"Add Template"]})})]}),n.length>0&&m.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 border border-gray-200",children:[m.jsxs("div",{className:"flex items-center mb-6",children:[m.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-green-500 to-teal-600 rounded-lg flex items-center justify-center mr-3",children:m.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}),m.jsxs("h3",{className:"text-xl font-bold text-gray-800",children:["Saved Templates (",n.length,")"]})]}),m.jsx("div",{className:"grid gap-6",children:n.map(T=>m.jsxs("div",{className:"border border-gray-200 rounded-xl p-6 hover:shadow-md transition-shadow duration-200 group",children:[m.jsxs("div",{className:"flex justify-between items-start mb-4",children:[m.jsx("div",{children:m.jsxs("h4",{className:"font-bold text-lg text-gray-800 flex items-center",children:[T.name,m.jsxs("span",{className:"ml-3 text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded-full",children:["Created: ",T.createdAt||""]})]})}),m.jsxs("div",{className:"flex gap-3 opacity-0 group-hover:opacity-100 transition-all",children:[m.jsx("button",{onClick:()=>x(T),className:"text-blue-500 hover:text-blue-700",children:" Edit"}),m.jsx("button",{onClick:()=>M(T.id),className:"text-gray-400 hover:text-red-500",children:" Delete"})]})]}),m.jsx("div",{className:"bg-gray-50 rounded-lg p-4 border a4-preview",children:m.jsx("div",{className:"prose max-w-none",dangerouslySetInnerHTML:{__html:T.content}})})]},T.id))})]}),n.length===0&&m.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-12 text-center border border-gray-200",children:[m.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-gray-200 to-gray-300 rounded-full flex items-center justify-center mx-auto mb-4",children:m.jsx("svg",{className:"w-10 h-10 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),m.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No Templates Yet"}),m.jsx("p",{className:"text-gray-500 mb-4",children:"Create your first template to get started"})]})]})})}function r$e(){const e=JSON.parse(localStorage.getItem("user")||"{}"),[t,n]=C.useState(e.name||""),[r,i]=C.useState(e.image||""),[s,o]=C.useState(null),[a,l]=C.useState(!1),c="https://crm.softwaresetu.com/api",d=p=>{const v=p.target.files[0];if(v){if(!v.type.startsWith("image/")){be.error("Please select a valid image file");return}if(v.size>5*1024*1024){be.error("Image size should be less than 5MB");return}o(v),i(URL.createObjectURL(v)),be.info("Image selected successfully!")}},f=async()=>{if(!t.trim()){be.error("Please enter your name");return}l(!0);const p=be.loading("Updating profile...");try{const v=new FormData;v.append("id",e.id),v.append("name",t),s&&v.append("image",s);const y=await me.put(`${c}/auth/update-profile`,v,{headers:{"Content-Type":"multipart/form-data"}});if(y.data.success){const b={...e,...y.data.user};localStorage.setItem("user",JSON.stringify(b)),i(b.logo),window.dispatchEvent(new Event("profileUpdated")),be.update(p,{render:"Profile updated successfully!",type:"success",isLoading:!1,autoClose:3e3,closeButton:!0})}}catch(v){console.error("Update error:",v),be.update(p,{render:v.response?.data?.message||"Error updating profile",type:"error",isLoading:!1,autoClose:5e3,closeButton:!0})}finally{l(!1)}};return m.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 py-8 px-4",children:[m.jsx(Xk,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"}),m.jsxs("div",{className:"max-w-md mx-auto bg-white rounded-2xl shadow-xl overflow-hidden",children:[m.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-700 p-6 text-white",children:[m.jsx("h2",{className:"text-2xl font-bold",children:"Edit Logo"}),m.jsx("p",{className:"text-blue-100 mt-1",children:"Update your Logo"})]}),m.jsxs("div",{className:"p-6",children:[m.jsxs("div",{className:"flex flex-col items-center mb-8",children:[m.jsxs("div",{className:"relative group",children:[m.jsx("img",{src:r||"/default-user.png",className:"w-32 h-32 rounded-full border-4 border-white shadow-lg object-cover transition-all duration-300 group-hover:scale-105",alt:"Profile"}),m.jsx("label",{htmlFor:"imageUpload",className:"absolute bottom-2 right-2 bg-blue-600 text-white p-2 rounded-full shadow-lg cursor-pointer transition-all duration-300 hover:bg-blue-700 hover:scale-110",children:m.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]})}),m.jsx("input",{id:"imageUpload",type:"file",accept:"image/*",onChange:d,className:"hidden"})]}),m.jsx("p",{className:"text-gray-500 text-sm mt-3",children:"Click the camera icon to change photo"})]}),m.jsx("button",{onClick:f,disabled:a,className:`w-full py-3 px-4 rounded-lg font-semibold text-white transition-all duration-300 flex items-center justify-center space-x-2 ${a?"bg-gray-400 cursor-not-allowed":"bg-gradient-to-r from-blue-600 to-indigo-700 hover:from-blue-700 hover:to-indigo-800 hover:shadow-lg transform hover:-translate-y-0.5"}`,children:a?m.jsxs(m.Fragment,{children:[m.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),m.jsx("span",{children:"Saving..."})]}):m.jsxs(m.Fragment,{children:[m.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),m.jsx("span",{children:"Save Changes"})]})})]})]})]})}function i$e(){return m.jsxs(m.Fragment,{children:[m.jsx(Xk,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"colored"}),m.jsxs(ane,{children:[m.jsx(it,{path:"/",element:m.jsx(Eoe,{})}),m.jsx(it,{path:"/dashboard",element:m.jsx(ht,{children:m.jsx(NHe,{})})}),m.jsx(it,{path:"/employees",element:m.jsx(ht,{children:m.jsx(b_e,{})})}),m.jsx(it,{path:"/employees/add-employee",element:m.jsx(ht,{children:m.jsx(C_e,{})})}),m.jsx(it,{path:"/customer",element:m.jsx(ht,{children:m.jsx(EHe,{})})}),m.jsx(it,{path:"/excel",element:m.jsx(ht,{children:m.jsx(DHe,{})})}),m.jsx(it,{path:"/excel/batch/:batchId",element:m.jsx(ht,{children:m.jsx(RHe,{})})}),m.jsx(it,{path:"/assign-customer",element:m.jsx(ht,{children:m.jsx(MHe,{})})}),m.jsx(it,{path:"/employees/:id",element:m.jsx(ht,{children:m.jsx(THe,{})})}),m.jsx(it,{path:"/employees/edit/:id",element:m.jsx(ht,{children:m.jsx(AHe,{})})}),m.jsx(it,{path:"/customer/:id",element:m.jsx(ht,{children:m.jsx(kHe,{})})}),m.jsx(it,{path:"/follow-up",element:m.jsx(ht,{children:m.jsx(OHe,{})})}),m.jsx(it,{path:"/demo",element:m.jsx(ht,{children:m.jsx(FHe,{})})}),m.jsx(it,{path:"/deal",element:m.jsx(ht,{children:m.jsx(kze,{})})}),m.jsx(it,{path:"/earning-form",element:m.jsx(ht,{children:m.jsx(IHe,{})})}),m.jsx(it,{path:"/customer-status",element:m.jsx(ht,{children:m.jsx(_He,{})})}),m.jsx(it,{path:"/source-status",element:m.jsx(ht,{children:m.jsx(Bze,{})})}),m.jsx(it,{path:"/earning-form/add-bank",element:m.jsx(ht,{children:m.jsx(LHe,{})})}),m.jsx(it,{path:"/daily",element:m.jsx(ht,{children:m.jsx(Rze,{})})}),m.jsx(it,{path:"/user-track",element:m.jsx(ht,{children:m.jsx(Hze,{})})}),m.jsx(it,{path:"/daily-activity",element:m.jsx(ht,{children:m.jsx(Mze,{})})}),m.jsx(it,{path:"/new-daily-activity",element:m.jsx(ht,{children:m.jsx(Tze,{})})}),m.jsx(it,{path:"/admin-demo",element:m.jsx(ht,{children:m.jsx(Aze,{})})}),m.jsx(it,{path:"/admin-demo-done",element:m.jsx(ht,{children:m.jsx(Pze,{})})}),m.jsx(it,{path:"/admin-follow",element:m.jsx(ht,{children:m.jsx(Nze,{})})}),m.jsx(it,{path:"/admin-interested",element:m.jsx(ht,{children:m.jsx(Oze,{})})}),m.jsx(it,{path:"/user-interested",element:m.jsx(ht,{children:m.jsx(Fze,{})})}),m.jsx(it,{path:"/admin-activity",element:m.jsx(ht,{children:m.jsx(Ize,{})})}),m.jsx(it,{path:"/activity",element:m.jsx(ht,{children:m.jsx(Lze,{})})}),m.jsx(it,{path:"/dfi",element:m.jsx(ht,{children:m.jsx(_ze,{})})}),m.jsx(it,{path:"/user-dfi",element:m.jsx(ht,{children:m.jsx(jze,{})})}),m.jsx(it,{path:"/my-performance",element:m.jsx(ht,{children:m.jsx(zze,{})})}),m.jsx(it,{path:"/deal-status-monthly",element:m.jsx(ht,{children:m.jsx(Gze,{})})}),m.jsx(it,{path:"/employees/status",element:m.jsx(ht,{children:m.jsx(Vze,{})})}),m.jsx(it,{path:"/hr",element:m.jsx(ht,{children:m.jsx($ze,{})})}),m.jsx(it,{path:"/template",element:m.jsx(ht,{children:m.jsx(n$e,{})})}),m.jsx(it,{path:"/profile",element:m.jsx(ht,{children:m.jsx(r$e,{})})}),m.jsx(it,{path:"*",element:m.jsx("div",{className:"p-6",children:"Not Found"})})]})]})}mte.createRoot(document.getElementById("root")).render(m.jsx(q.StrictMode,{children:m.jsx(Ane,{children:m.jsx(wre,{children:m.jsx(i$e,{})})})}));
